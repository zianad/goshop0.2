(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var KP={exports:{}},nv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l7=Symbol.for("react.transitional.element"),u7=Symbol.for("react.fragment");function JP(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:l7,type:t,key:r,ref:e!==void 0?e:null,props:n}}nv.Fragment=u7;nv.jsx=JP;nv.jsxs=JP;KP.exports=nv;var h=KP.exports,XP={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5=Symbol.for("react.transitional.element"),c7=Symbol.for("react.portal"),f7=Symbol.for("react.fragment"),d7=Symbol.for("react.strict_mode"),h7=Symbol.for("react.profiler"),p7=Symbol.for("react.consumer"),A7=Symbol.for("react.context"),m7=Symbol.for("react.forward_ref"),g7=Symbol.for("react.suspense"),v7=Symbol.for("react.memo"),QP=Symbol.for("react.lazy"),y7=Symbol.for("react.activity"),aT=Symbol.iterator;function b7(t){return t===null||typeof t!="object"?null:(t=aT&&t[aT]||t["@@iterator"],typeof t=="function"?t:null)}var ZP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e6=Object.assign,t6={};function Yf(t,e,n){this.props=t,this.context=e,this.refs=t6,this.updater=n||ZP}Yf.prototype.isReactComponent={};Yf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n6(){}n6.prototype=Yf.prototype;function a5(t,e,n){this.props=t,this.context=e,this.refs=t6,this.updater=n||ZP}var o5=a5.prototype=new n6;o5.constructor=a5;e6(o5,Yf.prototype);o5.isPureReactComponent=!0;var oT=Array.isArray;function tx(){}var kn={H:null,A:null,T:null,S:null},r6=Object.prototype.hasOwnProperty;function s5(t,e,n){var r=n.ref;return{$$typeof:i5,type:t,key:e,ref:r!==void 0?r:null,props:n}}function x7(t,e){return s5(t.type,e,t.props)}function l5(t){return typeof t=="object"&&t!==null&&t.$$typeof===i5}function w7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sT=/\/+/g;function yb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w7(""+t.key):e.toString(36)}function S7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(tx,tx):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Cc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case i5:case c7:o=!0;break;case QP:return o=t._init,Cc(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+yb(t,0):r,oT(i)?(n="",o!=null&&(n=o.replace(sT,"$&/")+"/"),Cc(i,e,n,"",function(u){return u})):i!=null&&(l5(i)&&(i=x7(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(sT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(oT(t))for(var l=0;l<t.length;l++)r=t[l],a=s+yb(r,l),o+=Cc(r,e,n,a,i);else if(l=b7(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+yb(r,l++),o+=Cc(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Cc(S7(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Am(t,e,n){if(t==null)return t;var r=[],i=0;return Cc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function _7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},T7={map:Am,forEach:function(t,e,n){Am(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Am(t,function(){e++}),e},toArray:function(t){return Am(t,function(e){return e})||[]},only:function(t){if(!l5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Activity=y7;Tt.Children=T7;Tt.Component=Yf;Tt.Fragment=f7;Tt.Profiler=h7;Tt.PureComponent=a5;Tt.StrictMode=d7;Tt.Suspense=g7;Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=kn;Tt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return kn.H.useMemoCache(t)}};Tt.cache=function(t){return function(){return t.apply(null,arguments)}};Tt.cacheSignal=function(){return null};Tt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=e6({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!r6.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return s5(t.type,i,r)};Tt.createContext=function(t){return t={$$typeof:A7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:p7,_context:t},t};Tt.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)r6.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return s5(t,a,i)};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:m7,render:t}};Tt.isValidElement=l5;Tt.lazy=function(t){return{$$typeof:QP,_payload:{_status:-1,_result:t},_init:_7}};Tt.memo=function(t,e){return{$$typeof:v7,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=kn.T,n={};kn.T=n;try{var r=t(),i=kn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(tx,lT)}catch(a){lT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),kn.T=e}};Tt.unstable_useCacheRefresh=function(){return kn.H.useCacheRefresh()};Tt.use=function(t){return kn.H.use(t)};Tt.useActionState=function(t,e,n){return kn.H.useActionState(t,e,n)};Tt.useCallback=function(t,e){return kn.H.useCallback(t,e)};Tt.useContext=function(t){return kn.H.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t,e){return kn.H.useDeferredValue(t,e)};Tt.useEffect=function(t,e){return kn.H.useEffect(t,e)};Tt.useEffectEvent=function(t){return kn.H.useEffectEvent(t)};Tt.useId=function(){return kn.H.useId()};Tt.useImperativeHandle=function(t,e,n){return kn.H.useImperativeHandle(t,e,n)};Tt.useInsertionEffect=function(t,e){return kn.H.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return kn.H.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return kn.H.useMemo(t,e)};Tt.useOptimistic=function(t,e){return kn.H.useOptimistic(t,e)};Tt.useReducer=function(t,e,n){return kn.H.useReducer(t,e,n)};Tt.useRef=function(t){return kn.H.useRef(t)};Tt.useState=function(t){return kn.H.useState(t)};Tt.useSyncExternalStore=function(t,e,n){return kn.H.useSyncExternalStore(t,e,n)};Tt.useTransition=function(){return kn.H.useTransition()};Tt.version="19.2.0";XP.exports=Tt;var re=XP.exports;const de=Wt(re);var i6={exports:{}},rv={},a6={exports:{}},o6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,B){var W=R.length;R.push(B);e:for(;0<W;){var K=W-1>>>1,Z=R[K];if(0<i(Z,B))R[K]=B,R[W]=Z,W=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],W=R.pop();if(W!==B){R[0]=W;e:for(var K=0,Z=R.length,se=Z>>>1;K<se;){var L=2*(K+1)-1,z=R[L],Q=L+1,te=R[Q];if(0>i(z,W))Q<Z&&0>i(te,z)?(R[K]=te,R[Q]=W,K=Q):(R[K]=z,R[L]=W,K=L);else if(Q<Z&&0>i(te,W))R[K]=te,R[Q]=W,K=Q;else break e}}return B}function i(R,B){var W=R.sortIndex-B.sortIndex;return W!==0?W:R.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,A=3,p=!1,y=!1,x=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function T(R){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=R)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function C(R){if(x=!1,T(R),!y)if(n(l)!==null)y=!0,k||(k=!0,j());else{var B=n(u);B!==null&&H(C,B.startTime-R)}}var k=!1,E=-1,M=5,I=-1;function U(){return S?!0:!(t.unstable_now()-I<M)}function O(){if(S=!1,k){var R=t.unstable_now();I=R;var B=!0;try{e:{y=!1,x&&(x=!1,b(E),E=-1),p=!0;var W=A;try{t:{for(T(R),f=n(l);f!==null&&!(f.expirationTime>R&&U());){var K=f.callback;if(typeof K=="function"){f.callback=null,A=f.priorityLevel;var Z=K(f.expirationTime<=R);if(R=t.unstable_now(),typeof Z=="function"){f.callback=Z,T(R),B=!0;break t}f===n(l)&&r(l),T(R)}else r(l);f=n(l)}if(f!==null)B=!0;else{var se=n(u);se!==null&&H(C,se.startTime-R),B=!1}}break e}finally{f=null,A=W,p=!1}B=void 0}}finally{B?j():k=!1}}}var j;if(typeof w=="function")j=function(){w(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=O,j=function(){F.postMessage(null)}}else j=function(){v(O,0)};function H(R,B){E=v(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(R){switch(A){case 1:case 2:case 3:var B=3;break;default:B=A}var W=A;A=B;try{return R()}finally{A=W}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=A;A=R;try{return B()}finally{A=W}},t.unstable_scheduleCallback=function(R,B,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,R={id:c++,callback:B,priorityLevel:R,startTime:W,expirationTime:Z,sortIndex:-1},W>K?(R.sortIndex=W,e(u,R),n(l)===null&&R===n(u)&&(x?(b(E),E=-1):x=!0,H(C,W-K))):(R.sortIndex=Z,e(l,R),y||p||(y=!0,k||(k=!0,j()))),R},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(R){var B=A;return function(){var W=A;A=B;try{return R.apply(this,arguments)}finally{A=W}}}})(o6);a6.exports=o6;var C7=a6.exports,s6={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N7=re;function l6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Cs(){}var Zr={d:{f:Cs,r:function(){throw Error(l6(522))},D:Cs,C:Cs,L:Cs,m:Cs,X:Cs,S:Cs,M:Cs},p:0,findDOMNode:null},E7=Symbol.for("react.portal");function k7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E7,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Eh=N7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function iv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Zr;ii.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(l6(299));return k7(t,e,null,n)};ii.flushSync=function(t){var e=Eh.T,n=Zr.p;try{if(Eh.T=null,Zr.p=2,t)return t()}finally{Eh.T=e,Zr.p=n,Zr.d.f()}};ii.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Zr.d.C(t,e))};ii.prefetchDNS=function(t){typeof t=="string"&&Zr.d.D(t)};ii.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=iv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Zr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Zr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ii.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=iv(e.as,e.crossOrigin);Zr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Zr.d.M(t)};ii.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=iv(n,e.crossOrigin);Zr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ii.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=iv(e.as,e.crossOrigin);Zr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Zr.d.m(t)};ii.requestFormReset=function(t){Zr.d.r(t)};ii.unstable_batchedUpdates=function(t,e){return t(e)};ii.useFormState=function(t,e,n){return Eh.H.useFormState(t,e,n)};ii.useFormStatus=function(){return Eh.H.useHostTransitionStatus()};ii.version="19.2.0";function u6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u6)}catch(t){console.error(t)}}u6(),s6.exports=ii;var P7=s6.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=C7,c6=re,M7=P7;function Re(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tA(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h6(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uT(t){if(tA(t)!==t)throw Error(Re(188))}function O7(t){var e=t.alternate;if(!e){if(e=tA(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return uT(i),t;if(a===r)return uT(i),e;a=a.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?t:e}function p6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p6(t),e!==null)return e;t=t.sibling}return null}var Pn=Object.assign,j7=Symbol.for("react.element"),mm=Symbol.for("react.transitional.element"),xh=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),A6=Symbol.for("react.strict_mode"),nx=Symbol.for("react.profiler"),m6=Symbol.for("react.consumer"),Bo=Symbol.for("react.context"),u5=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),c5=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),ax=Symbol.for("react.activity"),I7=Symbol.for("react.memo_cache_sentinel"),cT=Symbol.iterator;function Zd(t){return t===null||typeof t!="object"?null:(t=cT&&t[cT]||t["@@iterator"],typeof t=="function"?t:null)}var D7=Symbol.for("react.client.reference");function ox(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ic:return"Fragment";case nx:return"Profiler";case A6:return"StrictMode";case rx:return"Suspense";case ix:return"SuspenseList";case ax:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case xh:return"Portal";case Bo:return t.displayName||"Context";case m6:return(t._context.displayName||"Context")+".Consumer";case u5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c5:return e=t.displayName||null,e!==null?e:ox(t.type)||"Memo";case Ms:e=t._payload,t=t._init;try{return ox(t(e))}catch{}}return null}var wh=Array.isArray,vt=c6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gt=M7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ru={pending:!1,data:null,method:null,action:null},sx=[],Dc=-1;function ho(t){return{current:t}}function Er(t){0>Dc||(t.current=sx[Dc],sx[Dc]=null,Dc--)}function xn(t,e){Dc++,sx[Dc]=t.current,t.current=e}var so=ho(null),rp=ho(null),Ks=ho(null),bg=ho(null);function xg(t,e){switch(xn(Ks,e),xn(rp,t),xn(so,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?mC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=mC(e),t=LO(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Er(so),xn(so,t)}function df(){Er(so),Er(rp),Er(Ks)}function lx(t){t.memoizedState!==null&&xn(bg,t);var e=so.current,n=LO(e,t.type);e!==n&&(xn(rp,t),xn(so,n))}function wg(t){rp.current===t&&(Er(so),Er(rp)),bg.current===t&&(Er(bg),pp._currentValue=ru)}var bb,fT;function Bl(t){if(bb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bb=e&&e[1]||"",fT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bb+t+fT}var xb=!1;function wb(t,e){if(!t||xb)return"";xb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var A=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){A=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){A=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&A&&typeof p.stack=="string")return[p.stack,A.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{xb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Bl(n):""}function L7(t,e){switch(t.tag){case 26:case 27:case 5:return Bl(t.type);case 16:return Bl("Lazy");case 13:return t.child!==e&&e!==null?Bl("Suspense Fallback"):Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 15:return wb(t.type,!1);case 11:return wb(t.type.render,!1);case 1:return wb(t.type,!0);case 31:return Bl("Activity");default:return""}}function dT(t){try{var e="",n=null;do e+=L7(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ux=Object.prototype.hasOwnProperty,f5=vr.unstable_scheduleCallback,Sb=vr.unstable_cancelCallback,R7=vr.unstable_shouldYield,F7=vr.unstable_requestPaint,Ri=vr.unstable_now,$7=vr.unstable_getCurrentPriorityLevel,g6=vr.unstable_ImmediatePriority,v6=vr.unstable_UserBlockingPriority,Sg=vr.unstable_NormalPriority,B7=vr.unstable_LowPriority,y6=vr.unstable_IdlePriority,U7=vr.log,q7=vr.unstable_setDisableYieldValue,nA=null,Fi=null;function qs(t){if(typeof U7=="function"&&q7(t),Fi&&typeof Fi.setStrictMode=="function")try{Fi.setStrictMode(nA,t)}catch{}}var $i=Math.clz32?Math.clz32:V7,H7=Math.log,z7=Math.LN2;function V7(t){return t>>>=0,t===0?32:31-(H7(t)/z7|0)|0}var gm=256,vm=262144,ym=4194304;function Ul(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function av(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=Ul(r):(o&=s,o!==0?i=Ul(o):n||(n=s&~t,n!==0&&(i=Ul(n))))):(s=r&~a,s!==0?i=Ul(s):o!==0?i=Ul(o):n||(n=r&~t,n!==0&&(i=Ul(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function rA(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function G7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b6(){var t=ym;return ym<<=1,!(ym&62914560)&&(ym=4194304),t}function _b(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function W7(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-$i(n),f=1<<c;s[c]=0,l[c]=-1;var A=u[c];if(A!==null)for(u[c]=null,c=0;c<A.length;c++){var p=A[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&x6(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function x6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-$i(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function w6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$i(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function S6(t,e){var n=e&-e;return n=n&42?1:d5(n),n&(t.suspendedLanes|e)?0:n}function d5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function h5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function _6(){var t=Gt.p;return t!==0?t:(t=window.event,t===void 0?32:WO(t.type))}function hT(t,e){var n=Gt.p;try{return Gt.p=t,e()}finally{Gt.p=n}}var ml=Math.random().toString(36).slice(2),Ir="__reactFiber$"+ml,bi="__reactProps$"+ml,Kf="__reactContainer$"+ml,cx="__reactEvents$"+ml,Y7="__reactListeners$"+ml,K7="__reactHandles$"+ml,pT="__reactResources$"+ml,aA="__reactMarker$"+ml;function p5(t){delete t[Ir],delete t[bi],delete t[cx],delete t[Y7],delete t[K7]}function Lc(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kf]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xC(t);t!==null;){if(n=t[Ir])return n;t=xC(t)}return e}t=n,n=t.parentNode}return null}function Jf(t){if(t=t[Ir]||t[Kf]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Sh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Re(33))}function Qc(t){var e=t[pT];return e||(e=t[pT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Cr(t){t[aA]=!0}var T6=new Set,C6={};function Cu(t,e){hf(t,e),hf(t+"Capture",e)}function hf(t,e){for(C6[t]=e,t=0;t<e.length;t++)T6.add(e[t])}var J7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),AT={},mT={};function X7(t){return ux.call(mT,t)?!0:ux.call(AT,t)?!1:J7.test(t)?mT[t]=!0:(AT[t]=!0,!1)}function ng(t,e,n){if(X7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function bm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ko(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function ra(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q7(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fx(t){if(!t._valueTracker){var e=N6(t)?"checked":"value";t._valueTracker=Q7(t,e,""+t[e])}}function E6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _g(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Z7=/[\n"\\]/g;function oa(t){return t.replace(Z7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function dx(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ra(e)):t.value!==""+ra(e)&&(t.value=""+ra(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?hx(t,o,ra(e)):n!=null?hx(t,o,ra(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+ra(s):t.removeAttribute("name")}function k6(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){fx(t);return}n=n!=null?""+ra(n):"",e=e!=null?""+ra(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),fx(t)}function hx(t,e,n){e==="number"&&_g(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Zc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ra(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function P6(t,e,n){if(e!=null&&(e=""+ra(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ra(n):""}function M6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Re(92));if(wh(r)){if(1<r.length)throw Error(Re(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=ra(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),fx(t)}function pf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eF=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||eF.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function O6(t,e,n){if(e!=null&&typeof e!="object")throw Error(Re(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&gT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&gT(t,a,e[a])}function A5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tF=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nF=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rg(t){return nF.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Uo(){}var px=null;function m5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rc=null,ef=null;function vT(t){var e=Jf(t);if(e&&(t=e.stateNode)){var n=t[bi]||null;e:switch(t=e.stateNode,e.type){case"input":if(dx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+oa(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[bi]||null;if(!i)throw Error(Re(90));dx(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&E6(r)}break e;case"textarea":P6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Zc(t,!!n.multiple,e,!1)}}}var Tb=!1;function j6(t,e,n){if(Tb)return t(e,n);Tb=!0;try{var r=t(e);return r}finally{if(Tb=!1,(Rc!==null||ef!==null)&&(gv(),Rc&&(e=Rc,t=ef,ef=Rc=null,vT(e),t)))for(e=0;e<t.length;e++)vT(t[e])}}function ip(t,e){var n=t.stateNode;if(n===null)return null;var r=n[bi]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Re(231,e,typeof n));return n}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ax=!1;if(Xo)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){Ax=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Ax=!1}var Hs=null,g5=null,ig=null;function I6(){if(ig)return ig;var t,e=g5,n=e.length,r,i="value"in Hs?Hs.value:Hs.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return ig=i.slice(t,1<r?1-r:void 0)}function ag(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xm(){return!0}function yT(){return!1}function xi(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?xm:yT,this.isPropagationStopped=yT,this}return Pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xm)},persist:function(){},isPersistent:xm}),e}var Nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ov=xi(Nu),oA=Pn({},Nu,{view:0,detail:0}),rF=xi(oA),Cb,Nb,th,sv=Pn({},oA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==th&&(th&&t.type==="mousemove"?(Cb=t.screenX-th.screenX,Nb=t.screenY-th.screenY):Nb=Cb=0,th=t),Cb)},movementY:function(t){return"movementY"in t?t.movementY:Nb}}),bT=xi(sv),iF=Pn({},sv,{dataTransfer:0}),aF=xi(iF),oF=Pn({},oA,{relatedTarget:0}),Eb=xi(oF),sF=Pn({},Nu,{animationName:0,elapsedTime:0,pseudoElement:0}),lF=xi(sF),uF=Pn({},Nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cF=xi(uF),fF=Pn({},Nu,{data:0}),xT=xi(fF),dF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pF[t])?!!e[t]:!1}function v5(){return AF}var mF=Pn({},oA,{key:function(t){if(t.key){var e=dF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ag(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v5,charCode:function(t){return t.type==="keypress"?ag(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ag(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gF=xi(mF),vF=Pn({},sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wT=xi(vF),yF=Pn({},oA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v5}),bF=xi(yF),xF=Pn({},Nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),wF=xi(xF),SF=Pn({},sv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_F=xi(SF),TF=Pn({},Nu,{newState:0,oldState:0}),CF=xi(TF),NF=[9,13,27,32],y5=Xo&&"CompositionEvent"in window,kh=null;Xo&&"documentMode"in document&&(kh=document.documentMode);var EF=Xo&&"TextEvent"in window&&!kh,D6=Xo&&(!y5||kh&&8<kh&&11>=kh),ST=" ",_T=!1;function L6(t,e){switch(t){case"keyup":return NF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fc=!1;function kF(t,e){switch(t){case"compositionend":return R6(e);case"keypress":return e.which!==32?null:(_T=!0,ST);case"textInput":return t=e.data,t===ST&&_T?null:t;default:return null}}function PF(t,e){if(Fc)return t==="compositionend"||!y5&&L6(t,e)?(t=I6(),ig=g5=Hs=null,Fc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D6&&e.locale!=="ko"?null:e.data;default:return null}}var MF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MF[t.type]:e==="textarea"}function F6(t,e,n,r){Rc?ef?ef.push(r):ef=[r]:Rc=r,e=qg(e,"onChange"),0<e.length&&(n=new ov("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ph=null,ap=null;function OF(t){jO(t,0)}function lv(t){var e=Sh(t);if(E6(e))return t}function CT(t,e){if(t==="change")return e}var $6=!1;if(Xo){var kb;if(Xo){var Pb="oninput"in document;if(!Pb){var NT=document.createElement("div");NT.setAttribute("oninput","return;"),Pb=typeof NT.oninput=="function"}kb=Pb}else kb=!1;$6=kb&&(!document.documentMode||9<document.documentMode)}function ET(){Ph&&(Ph.detachEvent("onpropertychange",B6),ap=Ph=null)}function B6(t){if(t.propertyName==="value"&&lv(ap)){var e=[];F6(e,ap,t,m5(t)),j6(OF,e)}}function jF(t,e,n){t==="focusin"?(ET(),Ph=e,ap=n,Ph.attachEvent("onpropertychange",B6)):t==="focusout"&&ET()}function IF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lv(ap)}function DF(t,e){if(t==="click")return lv(e)}function LF(t,e){if(t==="input"||t==="change")return lv(e)}function RF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qi=typeof Object.is=="function"?Object.is:RF;function op(t,e){if(qi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ux.call(e,i)||!qi(t[i],e[i]))return!1}return!0}function kT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function PT(t,e){var n=kT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kT(n)}}function U6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?U6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=_g(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_g(t.document)}return e}function b5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var FF=Xo&&"documentMode"in document&&11>=document.documentMode,$c=null,mx=null,Mh=null,gx=!1;function MT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gx||$c==null||$c!==_g(r)||(r=$c,"selectionStart"in r&&b5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mh&&op(Mh,r)||(Mh=r,r=qg(mx,"onSelect"),0<r.length&&(e=new ov("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$c)))}function Il(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bc={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionrun:Il("Transition","TransitionRun"),transitionstart:Il("Transition","TransitionStart"),transitioncancel:Il("Transition","TransitionCancel"),transitionend:Il("Transition","TransitionEnd")},Mb={},H6={};Xo&&(H6=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Eu(t){if(Mb[t])return Mb[t];if(!Bc[t])return t;var e=Bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in H6)return Mb[t]=e[n];return t}var z6=Eu("animationend"),V6=Eu("animationiteration"),G6=Eu("animationstart"),$F=Eu("transitionrun"),BF=Eu("transitionstart"),UF=Eu("transitioncancel"),W6=Eu("transitionend"),Y6=new Map,vx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vx.push("scrollEnd");function Ua(t,e){Y6.set(t,e),Cu(e,[t])}var Tg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},na=[],Uc=0,x5=0;function uv(){for(var t=Uc,e=x5=Uc=0;e<t;){var n=na[e];na[e++]=null;var r=na[e];na[e++]=null;var i=na[e];na[e++]=null;var a=na[e];if(na[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&K6(n,i,a)}}function cv(t,e,n,r){na[Uc++]=t,na[Uc++]=e,na[Uc++]=n,na[Uc++]=r,x5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function w5(t,e,n,r){return cv(t,e,n,r),Cg(t)}function ku(t,e){return cv(t,null,null,e),Cg(t)}function K6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-$i(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Cg(t){if(50<Bh)throw Bh=0,$x=null,Error(Re(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qc={};function qF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(t,e,n,r){return new qF(t,e,n,r)}function S5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Go(t,e){var n=t.alternate;return n===null?(n=Oi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function J6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function og(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")S5(t)&&(o=1);else if(typeof t=="string")o=W$(t,n,so.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ax:return t=Oi(31,n,e,i),t.elementType=ax,t.lanes=a,t;case Ic:return iu(n.children,i,a,e);case A6:o=8,i|=24;break;case nx:return t=Oi(12,n,e,i|2),t.elementType=nx,t.lanes=a,t;case rx:return t=Oi(13,n,e,i),t.elementType=rx,t.lanes=a,t;case ix:return t=Oi(19,n,e,i),t.elementType=ix,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bo:o=10;break e;case m6:o=9;break e;case u5:o=11;break e;case c5:o=14;break e;case Ms:o=16,r=null;break e}o=29,n=Error(Re(130,t===null?"null":typeof t,"")),r=null}return e=Oi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function iu(t,e,n,r){return t=Oi(7,t,r,e),t.lanes=n,t}function Ob(t,e,n){return t=Oi(6,t,null,e),t.lanes=n,t}function X6(t){var e=Oi(18,null,null,0);return e.stateNode=t,e}function jb(t,e,n){return e=Oi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var OT=new WeakMap;function sa(t,e){if(typeof t=="object"&&t!==null){var n=OT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:dT(e)},OT.set(t,e),e)}return{value:t,source:e,stack:dT(e)}}var Hc=[],zc=0,Ng=null,sp=0,ia=[],aa=0,ul=null,no=1,ro="";function Fo(t,e){Hc[zc++]=sp,Hc[zc++]=Ng,Ng=t,sp=e}function Q6(t,e,n){ia[aa++]=no,ia[aa++]=ro,ia[aa++]=ul,ul=t;var r=no;t=ro;var i=32-$i(r)-1;r&=~(1<<i),n+=1;var a=32-$i(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,no=1<<32-$i(e)+i|n<<i|r,ro=a+t}else no=1<<a|n<<i|r,ro=t}function _5(t){t.return!==null&&(Fo(t,1),Q6(t,1,0))}function T5(t){for(;t===Ng;)Ng=Hc[--zc],Hc[zc]=null,sp=Hc[--zc],Hc[zc]=null;for(;t===ul;)ul=ia[--aa],ia[aa]=null,ro=ia[--aa],ia[aa]=null,no=ia[--aa],ia[aa]=null}function Z6(t,e){ia[aa++]=no,ia[aa++]=ro,ia[aa++]=ul,no=e.id,ro=e.overflow,ul=t}var Dr=null,Nn=null,$t=!1,Js=null,la=!1,yx=Error(Re(519));function cl(t){var e=Error(Re(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lp(sa(e,t)),yx}function jT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Ir]=t,e[bi]=r,n){case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":case"embed":It("load",e);break;case"video":case"audio":for(n=0;n<dp.length;n++)It(dp[n],e);break;case"source":It("error",e);break;case"img":case"image":case"link":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"input":It("invalid",e),k6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":It("invalid",e);break;case"textarea":It("invalid",e),M6(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||DO(e.textContent,n)?(r.popover!=null&&(It("beforetoggle",e),It("toggle",e)),r.onScroll!=null&&It("scroll",e),r.onScrollEnd!=null&&It("scrollend",e),r.onClick!=null&&(e.onclick=Uo),e=!0):e=!1,e||cl(t,!0)}function IT(t){for(Dr=t.return;Dr;)switch(Dr.tag){case 5:case 31:case 13:la=!1;return;case 27:case 3:la=!0;return;default:Dr=Dr.return}}function pc(t){if(t!==Dr)return!1;if(!$t)return IT(t),$t=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||zx(t.type,t.memoizedProps)),n=!n),n&&Nn&&cl(t),IT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));Nn=bC(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));Nn=bC(t)}else e===27?(e=Nn,gl(t.type)?(t=Yx,Yx=null,Nn=t):Nn=e):Nn=Dr?da(t.stateNode.nextSibling):null;return!0}function pu(){Nn=Dr=null,$t=!1}function Ib(){var t=Js;return t!==null&&(mi===null?mi=t:mi.push.apply(mi,t),Js=null),t}function lp(t){Js===null?Js=[t]:Js.push(t)}var bx=ho(null),Pu=null,qo=null;function Ds(t,e,n){xn(bx,e._currentValue),e._currentValue=n}function Wo(t){t._currentValue=bx.current,Er(bx)}function xx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wx(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),xx(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(Re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xx(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Xf(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(Re(387));if(o=o.memoizedProps,o!==null){var s=i.type;qi(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===bg.current){if(o=i.alternate,o===null)throw Error(Re(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(pp):t=[pp])}i=i.return}t!==null&&wx(e,t,n,r),e.flags|=262144}function Eg(t){for(t=t.firstContext;t!==null;){if(!qi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Au(t){Pu=t,qo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Lr(t){return eM(Pu,t)}function wm(t,e){return Pu===null&&Au(t),eM(t,e)}function eM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},qo===null){if(t===null)throw Error(Re(308));qo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qo=qo.next=e;return n}var HF=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},zF=vr.unstable_scheduleCallback,VF=vr.unstable_NormalPriority,ar={$$typeof:Bo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C5(){return{controller:new HF,data:new Map,refCount:0}}function sA(t){t.refCount--,t.refCount===0&&zF(VF,function(){t.controller.abort()})}var Oh=null,Sx=0,Af=0,tf=null;function GF(t,e){if(Oh===null){var n=Oh=[];Sx=0,Af=X5(),tf={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Sx++,e.then(DT,DT),e}function DT(){if(--Sx===0&&Oh!==null){tf!==null&&(tf.status="fulfilled");var t=Oh;Oh=null,Af=0,tf=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function WF(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var LT=vt.S;vt.S=function(t,e){pO=Ri(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&GF(t,e),LT!==null&&LT(t,e)};var au=ho(null);function N5(){var t=au.current;return t!==null?t:pn.pooledCache}function sg(t,e){e===null?xn(au,au.current):xn(au,e.pool)}function tM(){var t=N5();return t===null?null:{parent:ar._currentValue,pool:t}}var Qf=Error(Re(460)),E5=Error(Re(474)),fv=Error(Re(542)),kg={then:function(){}};function RT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Uo,Uo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,$T(t),t;default:if(typeof e.status=="string")e.then(Uo,Uo);else{if(t=pn,t!==null&&100<t.shellSuspendCounter)throw Error(Re(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,$T(t),t}throw ou=e,Qf}}function ql(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ou=n,Qf):n}}var ou=null;function FT(){if(ou===null)throw Error(Re(459));var t=ou;return ou=null,t}function $T(t){if(t===Qf||t===fv)throw Error(Re(483))}var nf=null,up=0;function Sm(t){var e=up;return up+=1,nf===null&&(nf=[]),nM(nf,t,e)}function nh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _m(t,e){throw e.$$typeof===j7?Error(Re(525)):(t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function rM(t){function e(v,b){if(t){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v){for(var b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(v,b){return v=Go(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=67108866,b):w):(v.flags|=67108866,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function s(v,b,w,T){return b===null||b.tag!==6?(b=Ob(w,v.mode,T),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,T){var C=w.type;return C===Ic?c(v,b,w.props.children,T,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ms&&ql(C)===b.type)?(b=i(b,w.props),nh(b,w),b.return=v,b):(b=og(w.type,w.key,w.props,null,v.mode,T),nh(b,w),b.return=v,b)}function u(v,b,w,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=jb(w,v.mode,T),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function c(v,b,w,T,C){return b===null||b.tag!==7?(b=iu(w,v.mode,T,C),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Ob(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mm:return w=og(b.type,b.key,b.props,null,v.mode,w),nh(w,b),w.return=v,w;case xh:return b=jb(b,v.mode,w),b.return=v,b;case Ms:return b=ql(b),f(v,b,w)}if(wh(b)||Zd(b))return b=iu(b,v.mode,w,null),b.return=v,b;if(typeof b.then=="function")return f(v,Sm(b),w);if(b.$$typeof===Bo)return f(v,wm(v,b),w);_m(v,b)}return null}function A(v,b,w,T){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return C!==null?null:s(v,b,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mm:return w.key===C?l(v,b,w,T):null;case xh:return w.key===C?u(v,b,w,T):null;case Ms:return w=ql(w),A(v,b,w,T)}if(wh(w)||Zd(w))return C!==null?null:c(v,b,w,T,null);if(typeof w.then=="function")return A(v,b,Sm(w),T);if(w.$$typeof===Bo)return A(v,b,wm(v,w),T);_m(v,w)}return null}function p(v,b,w,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return v=v.get(w)||null,s(b,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mm:return v=v.get(T.key===null?w:T.key)||null,l(b,v,T,C);case xh:return v=v.get(T.key===null?w:T.key)||null,u(b,v,T,C);case Ms:return T=ql(T),p(v,b,w,T,C)}if(wh(T)||Zd(T))return v=v.get(w)||null,c(b,v,T,C,null);if(typeof T.then=="function")return p(v,b,w,Sm(T),C);if(T.$$typeof===Bo)return p(v,b,w,wm(b,T),C);_m(b,T)}return null}function y(v,b,w,T){for(var C=null,k=null,E=b,M=b=0,I=null;E!==null&&M<w.length;M++){E.index>M?(I=E,E=null):I=E.sibling;var U=A(v,E,w[M],T);if(U===null){E===null&&(E=I);break}t&&E&&U.alternate===null&&e(v,E),b=a(U,b,M),k===null?C=U:k.sibling=U,k=U,E=I}if(M===w.length)return n(v,E),$t&&Fo(v,M),C;if(E===null){for(;M<w.length;M++)E=f(v,w[M],T),E!==null&&(b=a(E,b,M),k===null?C=E:k.sibling=E,k=E);return $t&&Fo(v,M),C}for(E=r(E);M<w.length;M++)I=p(E,v,M,w[M],T),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?M:I.key),b=a(I,b,M),k===null?C=I:k.sibling=I,k=I);return t&&E.forEach(function(O){return e(v,O)}),$t&&Fo(v,M),C}function x(v,b,w,T){if(w==null)throw Error(Re(151));for(var C=null,k=null,E=b,M=b=0,I=null,U=w.next();E!==null&&!U.done;M++,U=w.next()){E.index>M?(I=E,E=null):I=E.sibling;var O=A(v,E,U.value,T);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(v,E),b=a(O,b,M),k===null?C=O:k.sibling=O,k=O,E=I}if(U.done)return n(v,E),$t&&Fo(v,M),C;if(E===null){for(;!U.done;M++,U=w.next())U=f(v,U.value,T),U!==null&&(b=a(U,b,M),k===null?C=U:k.sibling=U,k=U);return $t&&Fo(v,M),C}for(E=r(E);!U.done;M++,U=w.next())U=p(E,v,M,U.value,T),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?M:U.key),b=a(U,b,M),k===null?C=U:k.sibling=U,k=U);return t&&E.forEach(function(j){return e(v,j)}),$t&&Fo(v,M),C}function S(v,b,w,T){if(typeof w=="object"&&w!==null&&w.type===Ic&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mm:e:{for(var C=w.key;b!==null;){if(b.key===C){if(C=w.type,C===Ic){if(b.tag===7){n(v,b.sibling),T=i(b,w.props.children),T.return=v,v=T;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ms&&ql(C)===b.type){n(v,b.sibling),T=i(b,w.props),nh(T,w),T.return=v,v=T;break e}n(v,b);break}else e(v,b);b=b.sibling}w.type===Ic?(T=iu(w.props.children,v.mode,T,w.key),T.return=v,v=T):(T=og(w.type,w.key,w.props,null,v.mode,T),nh(T,w),T.return=v,v=T)}return o(v);case xh:e:{for(C=w.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),T=i(b,w.children||[]),T.return=v,v=T;break e}else{n(v,b);break}else e(v,b);b=b.sibling}T=jb(w,v.mode,T),T.return=v,v=T}return o(v);case Ms:return w=ql(w),S(v,b,w,T)}if(wh(w))return y(v,b,w,T);if(Zd(w)){if(C=Zd(w),typeof C!="function")throw Error(Re(150));return w=C.call(w),x(v,b,w,T)}if(typeof w.then=="function")return S(v,b,Sm(w),T);if(w.$$typeof===Bo)return S(v,b,wm(v,w),T);_m(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),T=i(b,w),T.return=v,v=T):(n(v,b),T=Ob(w,v.mode,T),T.return=v,v=T),o(v)):n(v,b)}return function(v,b,w,T){try{up=0;var C=S(v,b,w,T);return nf=null,C}catch(E){if(E===Qf||E===fv)throw E;var k=Oi(29,E,null,v.mode);return k.lanes=T,k.return=v,k}finally{}}}var mu=rM(!0),iM=rM(!1),Os=!1;function k5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _x(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Cg(t),K6(t,null,n),e}return cv(t,r,e,n),Cg(t)}function jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w6(t,n)}}function Db(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Tx=!1;function Ih(){if(Tx){var t=tf;if(t!==null)throw t}}function Dh(t,e,n,r){Tx=!1;var i=t.updateQueue;Os=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var A=s.lane&-536870913,p=A!==s.lane;if(p?(Rt&A)===A:(r&A)===A){A!==0&&A===Af&&(Tx=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var y=t,x=s;A=e;var S=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(S,f,A);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,A=typeof y=="function"?y.call(S,f,A):y,A==null)break e;f=Pn({},f,A);break e;case 2:Os=!0}}A=s.callback,A!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[A]:p.push(A))}else p={lane:A,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=A;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),dl|=o,t.lanes=o,t.memoizedState=f}}function aM(t,e){if(typeof t!="function")throw Error(Re(191,t));t.call(e)}function oM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aM(n[t],e)}var mf=ho(null),Pg=ho(0);function BT(t,e){t=ts,xn(Pg,t),xn(mf,e),ts=t|e.baseLanes}function Cx(){xn(Pg,ts),xn(mf,mf.current)}function P5(){ts=Pg.current,Er(mf),Er(Pg)}var Hi=ho(null),fa=null;function Ls(t){var e=t.alternate;xn(Kn,Kn.current&1),xn(Hi,t),fa===null&&(e===null||mf.current!==null||e.memoizedState!==null)&&(fa=t)}function Nx(t){xn(Kn,Kn.current),xn(Hi,t),fa===null&&(fa=t)}function sM(t){t.tag===22?(xn(Kn,Kn.current),xn(Hi,t),fa===null&&(fa=t)):Rs()}function Rs(){xn(Kn,Kn.current),xn(Hi,Hi.current)}function Mi(t){Er(Hi),fa===t&&(fa=null),Er(Kn)}var Kn=ho(0);function Mg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Gx(n)||Wx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qo=0,Nt=null,sn=null,rr=null,Og=!1,rf=!1,gu=!1,jg=0,cp=0,af=null,YF=0;function Fn(){throw Error(Re(321))}function M5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qi(t[n],e[n]))return!1;return!0}function O5(t,e,n,r,i,a){return Qo=a,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vt.H=t===null||t.memoizedState===null?FM:H5,gu=!1,a=n(r,i),gu=!1,rf&&(a=uM(e,n,r,i)),lM(t),a}function lM(t){vt.H=fp;var e=sn!==null&&sn.next!==null;if(Qo=0,rr=sn=Nt=null,Og=!1,cp=0,af=null,e)throw Error(Re(300));t===null||or||(t=t.dependencies,t!==null&&Eg(t)&&(or=!0))}function uM(t,e,n,r){Nt=t;var i=0;do{if(rf&&(af=null),cp=0,rf=!1,25<=i)throw Error(Re(301));if(i+=1,rr=sn=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}vt.H=$M,a=e(n,r)}while(rf);return a}function KF(){var t=vt.H,e=t.useState()[0];return e=typeof e.then=="function"?lA(e):e,t=t.useState()[0],(sn!==null?sn.memoizedState:null)!==t&&(Nt.flags|=1024),e}function j5(){var t=jg!==0;return jg=0,t}function I5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function D5(t){if(Og){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Og=!1}Qo=0,rr=sn=Nt=null,rf=!1,cp=jg=0,af=null}function Qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Nt.memoizedState=rr=t:rr=rr.next=t,rr}function Jn(){if(sn===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var e=rr===null?Nt.memoizedState:rr.next;if(e!==null)rr=e,sn=t;else{if(t===null)throw Nt.alternate===null?Error(Re(467)):Error(Re(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},rr===null?Nt.memoizedState=rr=t:rr=rr.next=t}return rr}function dv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lA(t){var e=cp;return cp+=1,af===null&&(af=[]),t=nM(af,t,e),e=Nt,(rr===null?e.memoizedState:rr.next)===null&&(e=e.alternate,vt.H=e===null||e.memoizedState===null?FM:H5),t}function hv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lA(t);if(t.$$typeof===Bo)return Lr(t)}throw Error(Re(438,String(t)))}function L5(t){var e=null,n=Nt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Nt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=dv(),Nt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=I7;return e.index++,n}function Zo(t,e){return typeof e=="function"?e(t):e}function lg(t){var e=Jn();return R5(e,sn,t)}function R5(t,e,n){var r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Rt&f)===f:(Qo&f)===f){var A=u.revertLane;if(A===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Af&&(c=!0);else if((Qo&A)===A){u=u.next,A===Af&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,Nt.lanes|=A,dl|=A;f=u.action,gu&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else A={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=A,o=a):l=l.next=A,Nt.lanes|=f,dl|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!qi(a,t.memoizedState)&&(or=!0,c&&(n=tf,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Lb(t){var e=Jn(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);qi(a,e.memoizedState)||(or=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function cM(t,e,n){var r=Nt,i=Jn(),a=$t;if(a){if(n===void 0)throw Error(Re(407));n=n()}else n=e();var o=!qi((sn||i).memoizedState,n);if(o&&(i.memoizedState=n,or=!0),i=i.queue,F5(hM.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||rr!==null&&rr.memoizedState.tag&1){if(r.flags|=2048,gf(9,{destroy:void 0},dM.bind(null,r,i,n,e),null),pn===null)throw Error(Re(349));a||Qo&127||fM(r,e,n)}return n}function fM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e=dv(),Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dM(t,e,n,r){e.value=n,e.getSnapshot=r,pM(e)&&AM(t)}function hM(t,e,n){return n(function(){pM(e)&&AM(t)})}function pM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qi(t,n)}catch{return!0}}function AM(t){var e=ku(t,2);e!==null&&yi(e,t,2)}function Ex(t){var e=Qr();if(typeof t=="function"){var n=t;if(t=n(),gu){qs(!0);try{n()}finally{qs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e}function mM(t,e,n,r){return t.baseState=n,R5(t,sn,typeof r=="function"?r:Zo)}function JF(t,e,n,r,i){if(Av(t))throw Error(Re(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};vt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,gM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function gM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=vt.T,o={};vt.T=o;try{var s=n(i,r),l=vt.S;l!==null&&l(o,s),UT(t,e,s)}catch(u){kx(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),vt.T=a}}else try{a=n(i,r),UT(t,e,a)}catch(u){kx(t,e,u)}}function UT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){qT(t,e,r)},function(r){return kx(t,e,r)}):qT(t,e,n)}function qT(t,e,n){e.status="fulfilled",e.value=n,vM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,gM(t,n)))}function kx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,vM(e),e=e.next;while(e!==r)}t.action=null}function vM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function yM(t,e){return e}function HT(t,e){if($t){var n=pn.formState;if(n!==null){e:{var r=Nt;if($t){if(Nn){t:{for(var i=Nn,a=la;i.nodeType!==8;){if(!a){i=null;break t}if(i=da(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Nn=da(i.nextSibling),r=i.data==="F!";break e}}cl(r)}r=!1}r&&(e=n[0])}}return n=Qr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yM,lastRenderedState:e},n.queue=r,n=DM.bind(null,Nt,r),r.dispatch=n,r=Ex(!1),a=q5.bind(null,Nt,!1,r.queue),r=Qr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=JF.bind(null,Nt,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function zT(t){var e=Jn();return bM(e,sn,t)}function bM(t,e,n){if(e=R5(t,e,yM)[0],t=lg(Zo)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=lA(e)}catch(o){throw o===Qf?fv:o}else r=e;e=Jn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Nt.flags|=2048,gf(9,{destroy:void 0},XF.bind(null,i,n),null)),[r,a,t]}function XF(t,e){t.action=e}function VT(t){var e=Jn(),n=sn;if(n!==null)return bM(e,n,t);Jn(),e=e.memoizedState,n=Jn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function gf(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Nt.updateQueue,e===null&&(e=dv(),Nt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function xM(){return Jn().memoizedState}function ug(t,e,n,r){var i=Qr();Nt.flags|=t,i.memoizedState=gf(1|e,{destroy:void 0},n,r===void 0?null:r)}function pv(t,e,n,r){var i=Jn();r=r===void 0?null:r;var a=i.memoizedState.inst;sn!==null&&r!==null&&M5(r,sn.memoizedState.deps)?i.memoizedState=gf(e,a,n,r):(Nt.flags|=t,i.memoizedState=gf(1|e,a,n,r))}function GT(t,e){ug(8390656,8,t,e)}function F5(t,e){pv(2048,8,t,e)}function QF(t){Nt.flags|=4;var e=Nt.updateQueue;if(e===null)e=dv(),Nt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function wM(t){var e=Jn().memoizedState;return QF({ref:e,nextImpl:t}),function(){if(Vt&2)throw Error(Re(440));return e.impl.apply(void 0,arguments)}}function SM(t,e){return pv(4,2,t,e)}function _M(t,e){return pv(4,4,t,e)}function TM(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CM(t,e,n){n=n!=null?n.concat([t]):null,pv(4,4,TM.bind(null,e,t),n)}function $5(){}function NM(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&M5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EM(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&M5(e,r[1]))return r[0];if(r=t(),gu){qs(!0);try{t()}finally{qs(!1)}}return n.memoizedState=[r,e],r}function B5(t,e,n){return n===void 0||Qo&1073741824&&!(Rt&261930)?t.memoizedState=e:(t.memoizedState=n,t=mO(),Nt.lanes|=t,dl|=t,n)}function kM(t,e,n,r){return qi(n,e)?n:mf.current!==null?(t=B5(t,n,r),qi(t,e)||(or=!0),t):!(Qo&42)||Qo&1073741824&&!(Rt&261930)?(or=!0,t.memoizedState=n):(t=mO(),Nt.lanes|=t,dl|=t,e)}function PM(t,e,n,r,i){var a=Gt.p;Gt.p=a!==0&&8>a?a:8;var o=vt.T,s={};vt.T=s,q5(t,!1,e,n);try{var l=i(),u=vt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=WF(l,r);Lh(t,e,c,Bi(t))}else Lh(t,e,r,Bi(t))}catch(f){Lh(t,e,{then:function(){},status:"rejected",reason:f},Bi())}finally{Gt.p=a,o!==null&&s.types!==null&&(o.types=s.types),vt.T=o}}function ZF(){}function Px(t,e,n,r){if(t.tag!==5)throw Error(Re(476));var i=MM(t).queue;PM(t,i,e,ru,n===null?ZF:function(){return OM(t),n(r)})}function MM(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ru,baseState:ru,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:ru},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function OM(t){var e=MM(t);e.next===null&&(e=t.alternate.memoizedState),Lh(t,e.next.queue,{},Bi())}function U5(){return Lr(pp)}function jM(){return Jn().memoizedState}function IM(){return Jn().memoizedState}function e$(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Bi();t=Xs(n);var r=Qs(e,t,n);r!==null&&(yi(r,e,n),jh(r,e,n)),e={cache:C5()},t.payload=e;return}e=e.return}}function t$(t,e,n){var r=Bi();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Av(t)?LM(e,n):(n=w5(t,e,n,r),n!==null&&(yi(n,t,r),RM(n,e,r)))}function DM(t,e,n){var r=Bi();Lh(t,e,n,r)}function Lh(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Av(t))LM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,qi(s,o))return cv(t,e,i,0),pn===null&&uv(),!1}catch{}finally{}if(n=w5(t,e,i,r),n!==null)return yi(n,t,r),RM(n,e,r),!0}return!1}function q5(t,e,n,r){if(r={lane:2,revertLane:X5(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Av(t)){if(e)throw Error(Re(479))}else e=w5(t,n,r,2),e!==null&&yi(e,t,2)}function Av(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function LM(t,e){rf=Og=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RM(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w6(t,n)}}var fp={readContext:Lr,use:hv,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn,useHostTransitionStatus:Fn,useFormState:Fn,useActionState:Fn,useOptimistic:Fn,useMemoCache:Fn,useCacheRefresh:Fn};fp.useEffectEvent=Fn;var FM={readContext:Lr,use:hv,useCallback:function(t,e){return Qr().memoizedState=[t,e===void 0?null:e],t},useContext:Lr,useEffect:GT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ug(4194308,4,TM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ug(4194308,4,t,e)},useInsertionEffect:function(t,e){ug(4,2,t,e)},useMemo:function(t,e){var n=Qr();e=e===void 0?null:e;var r=t();if(gu){qs(!0);try{t()}finally{qs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Qr();if(n!==void 0){var i=n(e);if(gu){qs(!0);try{n(e)}finally{qs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=t$.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=Qr();return t={current:t},e.memoizedState=t},useState:function(t){t=Ex(t);var e=t.queue,n=DM.bind(null,Nt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:$5,useDeferredValue:function(t,e){var n=Qr();return B5(n,t,e)},useTransition:function(){var t=Ex(!1);return t=PM.bind(null,Nt,t.queue,!0,!1),Qr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Nt,i=Qr();if($t){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=e(),pn===null)throw Error(Re(349));Rt&127||fM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,GT(hM.bind(null,r,a,t),[t]),r.flags|=2048,gf(9,{destroy:void 0},dM.bind(null,r,a,n,e),null),n},useId:function(){var t=Qr(),e=pn.identifierPrefix;if($t){var n=ro,r=no;n=(r&~(1<<32-$i(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=jg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=YF++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:U5,useFormState:HT,useActionState:HT,useOptimistic:function(t){var e=Qr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=q5.bind(null,Nt,!0,n),n.dispatch=e,[t,e]},useMemoCache:L5,useCacheRefresh:function(){return Qr().memoizedState=e$.bind(null,Nt)},useEffectEvent:function(t){var e=Qr(),n={impl:t};return e.memoizedState=n,function(){if(Vt&2)throw Error(Re(440));return n.impl.apply(void 0,arguments)}}},H5={readContext:Lr,use:hv,useCallback:NM,useContext:Lr,useEffect:F5,useImperativeHandle:CM,useInsertionEffect:SM,useLayoutEffect:_M,useMemo:EM,useReducer:lg,useRef:xM,useState:function(){return lg(Zo)},useDebugValue:$5,useDeferredValue:function(t,e){var n=Jn();return kM(n,sn.memoizedState,t,e)},useTransition:function(){var t=lg(Zo)[0],e=Jn().memoizedState;return[typeof t=="boolean"?t:lA(t),e]},useSyncExternalStore:cM,useId:jM,useHostTransitionStatus:U5,useFormState:zT,useActionState:zT,useOptimistic:function(t,e){var n=Jn();return mM(n,sn,t,e)},useMemoCache:L5,useCacheRefresh:IM};H5.useEffectEvent=wM;var $M={readContext:Lr,use:hv,useCallback:NM,useContext:Lr,useEffect:F5,useImperativeHandle:CM,useInsertionEffect:SM,useLayoutEffect:_M,useMemo:EM,useReducer:Lb,useRef:xM,useState:function(){return Lb(Zo)},useDebugValue:$5,useDeferredValue:function(t,e){var n=Jn();return sn===null?B5(n,t,e):kM(n,sn.memoizedState,t,e)},useTransition:function(){var t=Lb(Zo)[0],e=Jn().memoizedState;return[typeof t=="boolean"?t:lA(t),e]},useSyncExternalStore:cM,useId:jM,useHostTransitionStatus:U5,useFormState:VT,useActionState:VT,useOptimistic:function(t,e){var n=Jn();return sn!==null?mM(n,sn,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:L5,useCacheRefresh:IM};$M.useEffectEvent=wM;function Rb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mx={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bi(),i=Xs(r);i.payload=e,n!=null&&(i.callback=n),e=Qs(t,i,r),e!==null&&(yi(e,t,r),jh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bi(),i=Xs(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qs(t,i,r),e!==null&&(yi(e,t,r),jh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bi(),r=Xs(n);r.tag=2,e!=null&&(r.callback=e),e=Qs(t,r,n),e!==null&&(yi(e,t,n),jh(e,t,n))}};function WT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!op(n,r)||!op(i,a):!0}function YT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mx.enqueueReplaceState(e,e.state,null)}function vu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Pn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function BM(t){Tg(t)}function UM(t){console.error(t)}function qM(t){Tg(t)}function Ig(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function KT(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ox(t,e,n){return n=Xs(n),n.tag=3,n.payload={element:null},n.callback=function(){Ig(t,e)},n}function HM(t){return t=Xs(t),t.tag=3,t}function zM(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){KT(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){KT(e,n,r),typeof i!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function n$(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Xf(e,n,i,!0),n=Hi.current,n!==null){switch(n.tag){case 31:case 13:return fa===null?$g():n.alternate===null&&Un===0&&(Un=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===kg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Yb(t,r,i)),!1;case 22:return n.flags|=65536,r===kg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Yb(t,r,i)),!1}throw Error(Re(435,n.tag))}return Yb(t,r,i),$g(),!1}if($t)return e=Hi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==yx&&(t=Error(Re(422),{cause:r}),lp(sa(t,n)))):(r!==yx&&(e=Error(Re(423),{cause:r}),lp(sa(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=sa(r,n),i=Ox(t.stateNode,r,i),Db(t,i),Un!==4&&(Un=2)),!1;var a=Error(Re(520),{cause:r});if(a=sa(a,n),$h===null?$h=[a]:$h.push(a),Un!==4&&(Un=2),e===null)return!0;r=sa(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Ox(n.stateNode,r,t),Db(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Zs===null||!Zs.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=HM(i),zM(i,t,n,r),Db(n,i),!1}n=n.return}while(n!==null);return!1}var z5=Error(Re(461)),or=!1;function jr(t,e,n,r){e.child=t===null?iM(e,null,n,r):mu(e,t.child,n,r)}function JT(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return Au(e),r=O5(t,e,n,o,a,i),s=j5(),t!==null&&!or?(I5(t,e,i),es(t,e,i)):($t&&s&&_5(e),e.flags|=1,jr(t,e,r,i),e.child)}function XT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!S5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,VM(t,e,a,r,i)):(t=og(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!V5(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:op,n(o,r)&&t.ref===e.ref)return es(t,e,i)}return e.flags|=1,t=Go(a,r),t.ref=e.ref,t.return=e,e.child=t}function VM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(op(a,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=a,V5(t,i))t.flags&131072&&(or=!0);else return e.lanes=t.lanes,es(t,e,i)}return jx(t,e,n,r,i)}function GM(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return QT(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&sg(e,a!==null?a.cachePool:null),a!==null?BT(e,a):Cx(),sM(e);else return r=e.lanes=536870912,QT(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(sg(e,a.cachePool),BT(e,a),Rs(),e.memoizedState=null):(t!==null&&sg(e,null),Cx(),Rs());return jr(t,e,i,n),e.child}function _h(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function QT(t,e,n,r,i){var a=N5();return a=a===null?null:{parent:ar._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&sg(e,null),Cx(),sM(e),t!==null&&Xf(t,e,r,!0),e.childLanes=i,null}function cg(t,e){return e=Dg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function ZT(t,e,n){return mu(e,t.child,null,n),t=cg(e,e.pendingProps),t.flags|=2,Mi(e),e.memoizedState=null,t}function r$(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if($t){if(r.mode==="hidden")return t=cg(e,r),e.lanes=536870912,_h(null,t);if(Nx(e),(t=Nn)?(t=FO(t,la),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ul!==null?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},n=X6(t),n.return=e,e.child=n,Dr=e,Nn=null)):t=null,t===null)throw cl(e);return e.lanes=536870912,null}return cg(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(Nx(e),i)if(e.flags&256)e.flags&=-257,e=ZT(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Re(558));else if(or||Xf(t,e,n,!1),i=(n&t.childLanes)!==0,or||i){if(r=pn,r!==null&&(o=S6(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,ku(t,o),yi(r,t,o),z5;$g(),e=ZT(t,e,n)}else t=a.treeContext,Nn=da(o.nextSibling),Dr=e,$t=!0,Js=null,la=!1,t!==null&&Z6(e,t),e=cg(e,r),e.flags|=4096;return e}return t=Go(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function fg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Re(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function jx(t,e,n,r,i){return Au(e),n=O5(t,e,n,r,void 0,i),r=j5(),t!==null&&!or?(I5(t,e,i),es(t,e,i)):($t&&r&&_5(e),e.flags|=1,jr(t,e,n,i),e.child)}function eC(t,e,n,r,i,a){return Au(e),e.updateQueue=null,n=uM(e,r,n,i),lM(t),r=j5(),t!==null&&!or?(I5(t,e,a),es(t,e,a)):($t&&r&&_5(e),e.flags|=1,jr(t,e,n,a),e.child)}function tC(t,e,n,r,i){if(Au(e),e.stateNode===null){var a=qc,o=n.contextType;typeof o=="object"&&o!==null&&(a=Lr(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Mx,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},k5(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Lr(o):qc,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Rb(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Mx.enqueueReplaceState(a,a.state,null),Dh(e,r,a,i),Ih(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=vu(n,s);a.props=l;var u=a.context,c=n.contextType;o=qc,typeof c=="object"&&c!==null&&(o=Lr(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&YT(e,a,r,o),Os=!1;var A=e.memoizedState;a.state=A,Dh(e,r,a,i),Ih(),u=e.memoizedState,s||A!==u||Os?(typeof f=="function"&&(Rb(e,n,f,r),u=e.memoizedState),(l=Os||WT(e,n,l,r,A,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,_x(t,e),o=e.memoizedProps,c=vu(n,o),a.props=c,f=e.pendingProps,A=a.context,u=n.contextType,l=qc,typeof u=="object"&&u!==null&&(l=Lr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||A!==l)&&YT(e,a,r,l),Os=!1,A=e.memoizedState,a.state=A,Dh(e,r,a,i),Ih();var p=e.memoizedState;o!==f||A!==p||Os||t!==null&&t.dependencies!==null&&Eg(t.dependencies)?(typeof s=="function"&&(Rb(e,n,s,r),p=e.memoizedState),(c=Os||WT(e,n,c,r,A,p,l)||t!==null&&t.dependencies!==null&&Eg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,fg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=mu(e,t.child,null,i),e.child=mu(e,null,n,i)):jr(t,e,n,i),e.memoizedState=a.state,t=e.child):t=es(t,e,i),t}function nC(t,e,n,r){return pu(),e.flags|=256,jr(t,e,n,r),e.child}var Fb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $b(t){return{baseLanes:t,cachePool:tM()}}function Bb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Di),t}function WM(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(Kn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if($t){if(i?Ls(e):Rs(),(t=Nn)?(t=FO(t,la),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ul!==null?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},n=X6(t),n.return=e,e.child=n,Dr=e,Nn=null)):t=null,t===null)throw cl(e);return Wx(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Rs(),i=e.mode,s=Dg({mode:"hidden",children:s},i),r=iu(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=$b(n),r.childLanes=Bb(t,o,n),e.memoizedState=Fb,_h(null,r)):(Ls(e),Ix(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(Ls(e),e.flags&=-257,e=Ub(t,e,n)):e.memoizedState!==null?(Rs(),e.child=t.child,e.flags|=128,e=null):(Rs(),s=r.fallback,i=e.mode,r=Dg({mode:"visible",children:r.children},i),s=iu(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,mu(e,t.child,null,n),r=e.child,r.memoizedState=$b(n),r.childLanes=Bb(t,o,n),e.memoizedState=Fb,e=_h(null,r));else if(Ls(e),Wx(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(Re(419)),r.stack="",r.digest=o,lp({value:r,source:null,stack:null}),e=Ub(t,e,n)}else if(or||Xf(t,e,n,!1),o=(n&t.childLanes)!==0,or||o){if(o=pn,o!==null&&(r=S6(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,ku(t,r),yi(o,t,r),z5;Gx(s)||$g(),e=Ub(t,e,n)}else Gx(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Nn=da(s.nextSibling),Dr=e,$t=!0,Js=null,la=!1,t!==null&&Z6(e,t),e=Ix(e,r.children),e.flags|=4096);return e}return i?(Rs(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Go(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Go(u,s):(s=iu(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,_h(null,r),r=e.child,s=t.child.memoizedState,s===null?s=$b(n):(i=s.cachePool,i!==null?(l=ar._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=tM(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Bb(t,o,n),e.memoizedState=Fb,_h(t.child,r)):(Ls(e),n=t.child,t=n.sibling,n=Go(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Ix(t,e){return e=Dg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Dg(t,e){return t=Oi(22,t,null,e),t.lanes=0,t}function Ub(t,e,n){return mu(e,t.child,null,n),t=Ix(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xx(t.return,e,n)}function qb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function YM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Kn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,xn(Kn,o),jr(t,e,r,n),r=$t?sp:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rC(t,n,e);else if(t.tag===19)rC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qb(e,!0,n,null,a,r);break;case"together":qb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(n&e.childLanes))if(t!==null){if(Xf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,n=Go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Eg(t)))}function i$(t,e,n){switch(e.tag){case 3:xg(e,e.stateNode.containerInfo),Ds(e,ar,t.memoizedState.cache),pu();break;case 27:case 5:lx(e);break;case 4:xg(e,e.stateNode.containerInfo);break;case 10:Ds(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Nx(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ls(e),e.flags|=128,null):n&e.child.childLanes?WM(t,e,n):(Ls(e),t=es(t,e,n),t!==null?t.sibling:null);Ls(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Xf(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return YM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xn(Kn,Kn.current),r)break;return null;case 22:return e.lanes=0,GM(t,e,n,e.pendingProps);case 24:Ds(e,ar,t.memoizedState.cache)}return es(t,e,n)}function KM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)or=!0;else{if(!V5(t,n)&&!(e.flags&128))return or=!1,i$(t,e,n);or=!!(t.flags&131072)}else or=!1,$t&&e.flags&1048576&&Q6(e,sp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=ql(e.elementType),e.type=t,typeof t=="function")S5(t)?(r=vu(t,r),e.tag=1,e=tC(null,e,t,r,n)):(e.tag=0,e=jx(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===u5){e.tag=11,e=JT(null,e,t,r,n);break e}else if(i===c5){e.tag=14,e=XT(null,e,t,r,n);break e}}throw e=ox(t)||t,Error(Re(306,e,""))}}return e;case 0:return jx(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=vu(r,e.pendingProps),tC(t,e,r,i,n);case 3:e:{if(xg(e,e.stateNode.containerInfo),t===null)throw Error(Re(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,_x(t,e),Dh(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Ds(e,ar,r),r!==a.cache&&wx(e,[ar],n,!0),Ih(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=nC(t,e,r,n);break e}else if(r!==i){i=sa(Error(Re(424)),e),lp(i),e=nC(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Nn=da(t.firstChild),Dr=e,$t=!0,Js=null,la=!0,n=iM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pu(),r===i){e=es(t,e,n);break e}jr(t,e,r,n)}e=e.child}return e;case 26:return fg(t,e),t===null?(n=SC(e.type,null,e.pendingProps,null))?e.memoizedState=n:$t||(n=e.type,t=e.pendingProps,r=Hg(Ks.current).createElement(n),r[Ir]=e,r[bi]=t,Rr(r,n,t),Cr(r),e.stateNode=r):e.memoizedState=SC(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return lx(e),t===null&&$t&&(r=e.stateNode=$O(e.type,e.pendingProps,Ks.current),Dr=e,la=!0,i=Nn,gl(e.type)?(Yx=i,Nn=da(r.firstChild)):Nn=i),jr(t,e,e.pendingProps.children,n),fg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&$t&&((i=r=Nn)&&(r=I$(r,e.type,e.pendingProps,la),r!==null?(e.stateNode=r,Dr=e,Nn=da(r.firstChild),la=!1,i=!0):i=!1),i||cl(e)),lx(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,zx(i,a)?r=null:o!==null&&zx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=O5(t,e,KF,null,null,n),pp._currentValue=i),fg(t,e),jr(t,e,r,n),e.child;case 6:return t===null&&$t&&((t=n=Nn)&&(n=D$(n,e.pendingProps,la),n!==null?(e.stateNode=n,Dr=e,Nn=null,t=!0):t=!1),t||cl(e)),null;case 13:return WM(t,e,n);case 4:return xg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mu(e,null,r,n):jr(t,e,r,n),e.child;case 11:return JT(t,e,e.type,e.pendingProps,n);case 7:return jr(t,e,e.pendingProps,n),e.child;case 8:return jr(t,e,e.pendingProps.children,n),e.child;case 12:return jr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ds(e,e.type,r.value),jr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Au(e),i=Lr(i),r=r(i),e.flags|=1,jr(t,e,r,n),e.child;case 14:return XT(t,e,e.type,e.pendingProps,n);case 15:return VM(t,e,e.type,e.pendingProps,n);case 19:return YM(t,e,n);case 31:return r$(t,e,n);case 22:return GM(t,e,n,e.pendingProps);case 24:return Au(e),r=Lr(ar),t===null?(i=N5(),i===null&&(i=pn,a=C5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},k5(e),Ds(e,ar,i)):(t.lanes&n&&(_x(t,e),Dh(e,null,null,n),Ih()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ds(e,ar,r)):(r=a.cache,Ds(e,ar,r),r!==i.cache&&wx(e,[ar],n,!0))),jr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Re(156,e.tag))}function Po(t){t.flags|=4}function Hb(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(yO())t.flags|=8192;else throw ou=kg,E5}else t.flags&=-16777217}function iC(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!qO(e))if(yO())t.flags|=8192;else throw ou=kg,E5}function Tm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?b6():536870912,t.lanes|=e,vf|=e)}function rh(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a$(t,e,n){var r=e.pendingProps;switch(T5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return Sn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Wo(ar),df(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pc(e)?Po(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ib())),Sn(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Po(e),a!==null?(Sn(e),iC(e,a)):(Sn(e),Hb(e,i,null,r,n))):a?a!==t.memoizedState?(Po(e),Sn(e),iC(e,a)):(Sn(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Po(e),Sn(e),Hb(e,i,t,r,n)),null;case 27:if(wg(e),n=Ks.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Po(e);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return Sn(e),null}t=so.current,pc(e)?jT(e):(t=$O(i,r,n),e.stateNode=t,Po(e))}return Sn(e),null;case 5:if(wg(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Po(e);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return Sn(e),null}if(a=so.current,pc(e))jT(e);else{var o=Hg(Ks.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Ir]=e,a[bi]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(Rr(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Po(e)}}return Sn(e),Hb(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Po(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Re(166));if(t=Ks.current,pc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Dr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Ir]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||DO(t.nodeValue,n)),t||cl(e,!0)}else t=Hg(t).createTextNode(r),t[Ir]=e,e.stateNode=t}return Sn(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=pc(e),n!==null){if(t===null){if(!r)throw Error(Re(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(557));t[Ir]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),t=!1}else n=Ib(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Mi(e),e):(Mi(e),null);if(e.flags&128)throw Error(Re(558))}return Sn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=pc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[Ir]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),i=!1}else i=Ib(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Mi(e),e):(Mi(e),null)}return Mi(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Tm(e,e.updateQueue),Sn(e),null);case 4:return df(),t===null&&Q5(e.stateNode.containerInfo),Sn(e),null;case 10:return Wo(e.type),Sn(e),null;case 19:if(Er(Kn),r=e.memoizedState,r===null)return Sn(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)rh(r,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mg(t),a!==null){for(e.flags|=128,rh(r,!1),t=a.updateQueue,e.updateQueue=t,Tm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)J6(n,t),n=n.sibling;return xn(Kn,Kn.current&1|2),$t&&Fo(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ri()>Rg&&(e.flags|=128,i=!0,rh(r,!1),e.lanes=4194304)}else{if(!i)if(t=Mg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Tm(e,t),rh(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!$t)return Sn(e),null}else 2*Ri()-r.renderingStartTime>Rg&&n!==536870912&&(e.flags|=128,i=!0,rh(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ri(),t.sibling=null,n=Kn.current,xn(Kn,i?n&1|2:n&1),$t&&Fo(e,r.treeForkCount),t):(Sn(e),null);case 22:case 23:return Mi(e),P5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),n=e.updateQueue,n!==null&&Tm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Er(au),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Wo(ar),Sn(e),null;case 25:return null;case 30:return null}throw Error(Re(156,e.tag))}function o$(t,e){switch(T5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(ar),df(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return wg(e),null;case 31:if(e.memoizedState!==null){if(Mi(e),e.alternate===null)throw Error(Re(340));pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Mi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Er(Kn),null;case 4:return df(),null;case 10:return Wo(e.type),null;case 22:case 23:return Mi(e),P5(),t!==null&&Er(au),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Wo(ar),null;case 25:return null;default:return null}}function JM(t,e){switch(T5(e),e.tag){case 3:Wo(ar),df();break;case 26:case 27:case 5:wg(e);break;case 4:df();break;case 31:e.memoizedState!==null&&Mi(e);break;case 13:Mi(e);break;case 19:Er(Kn);break;case 10:Wo(e.type);break;case 22:case 23:Mi(e),P5(),t!==null&&Er(au);break;case 24:Wo(ar)}}function uA(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){Qt(e,e.return,s)}}function fl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){Qt(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Qt(e,e.return,c)}}function XM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{oM(e,n)}catch(r){Qt(t,t.return,r)}}}function QM(t,e,n){n.props=vu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Qt(t,e,r)}}function Rh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Qt(t,e,i)}}function io(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Qt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Qt(t,e,i)}else n.current=null}function ZM(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Qt(t,t.return,i)}}function zb(t,e,n){try{var r=t.stateNode;E$(r,t.type,n,e),r[bi]=e}catch(i){Qt(t,t.return,i)}}function eO(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gl(t.type)||t.tag===4}function Vb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uo));else if(r!==4&&(r===27&&gl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Dx(t,e,n),t=t.sibling;t!==null;)Dx(t,e,n),t=t.sibling}function Lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&gl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}function tO(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Rr(e,r,n),e[Ir]=t,e[bi]=n}catch(a){Qt(t,t.return,a)}}var $o=!1,ir=!1,Gb=!1,aC=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function s$(t,e){if(t=t.containerInfo,qx=Wg,t=q6(t),b5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,A=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)A=f,f=p;for(;;){if(f===t)break t;if(A===n&&++u===i&&(s=o),A===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=A,A=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hx={focusedElem:t,selectionRange:n},Wg=!1,Tr=e;Tr!==null;)if(e=Tr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Tr=t;else for(;Tr!==null;){switch(e=Tr,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=vu(n.type,i);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(x){Qt(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Vx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Re(163))}if(t=e.sibling,t!==null){t.return=e.return,Tr=t;break}Tr=e.return}}function nO(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Oo(t,n),r&4&&uA(5,n);break;case 1:if(Oo(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){Qt(n,n.return,o)}else{var i=vu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){Qt(n,n.return,o)}}r&64&&XM(n),r&512&&Rh(n,n.return);break;case 3:if(Oo(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{oM(t,e)}catch(o){Qt(n,n.return,o)}}break;case 27:e===null&&r&4&&tO(n);case 26:case 5:Oo(t,n),e===null&&r&4&&ZM(n),r&512&&Rh(n,n.return);break;case 12:Oo(t,n);break;case 31:Oo(t,n),r&4&&aO(t,n);break;case 13:Oo(t,n),r&4&&oO(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=m$.bind(null,n),L$(t,n))));break;case 22:if(r=n.memoizedState!==null||$o,!r){e=e!==null&&e.memoizedState!==null||ir,i=$o;var a=ir;$o=r,(ir=e)&&!a?Do(t,n,(n.subtreeFlags&8772)!==0):Oo(t,n),$o=i,ir=a}break;case 30:break;default:Oo(t,n)}}function rO(t){var e=t.alternate;e!==null&&(t.alternate=null,rO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&p5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Mn=null,Ai=!1;function Mo(t,e,n){for(n=n.child;n!==null;)iO(t,e,n),n=n.sibling}function iO(t,e,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(nA,n)}catch{}switch(n.tag){case 26:ir||io(n,e),Mo(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ir||io(n,e);var r=Mn,i=Ai;gl(n.type)&&(Mn=n.stateNode,Ai=!1),Mo(t,e,n),Uh(n.stateNode),Mn=r,Ai=i;break;case 5:ir||io(n,e);case 6:if(r=Mn,i=Ai,Mn=null,Mo(t,e,n),Mn=r,Ai=i,Mn!==null)if(Ai)try{(Mn.nodeType===9?Mn.body:Mn.nodeName==="HTML"?Mn.ownerDocument.body:Mn).removeChild(n.stateNode)}catch(a){Qt(n,e,a)}else try{Mn.removeChild(n.stateNode)}catch(a){Qt(n,e,a)}break;case 18:Mn!==null&&(Ai?(t=Mn,vC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),wf(t)):vC(Mn,n.stateNode));break;case 4:r=Mn,i=Ai,Mn=n.stateNode.containerInfo,Ai=!0,Mo(t,e,n),Mn=r,Ai=i;break;case 0:case 11:case 14:case 15:fl(2,n,e),ir||fl(4,n,e),Mo(t,e,n);break;case 1:ir||(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&QM(n,e,r)),Mo(t,e,n);break;case 21:Mo(t,e,n);break;case 22:ir=(r=ir)||n.memoizedState!==null,Mo(t,e,n),ir=r;break;default:Mo(t,e,n)}}function aO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wf(t)}catch(n){Qt(e,e.return,n)}}}function oO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wf(t)}catch(n){Qt(e,e.return,n)}}function l$(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new aC),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new aC),e;default:throw Error(Re(435,t.tag))}}function Cm(t,e){var n=l$(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=g$.bind(null,t,r);r.then(i,i)}})}function di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(gl(s.type)){Mn=s.stateNode,Ai=!1;break e}break;case 5:Mn=s.stateNode,Ai=!1;break e;case 3:case 4:Mn=s.stateNode.containerInfo,Ai=!0;break e}s=s.return}if(Mn===null)throw Error(Re(160));iO(a,o,i),Mn=null,Ai=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)sO(e,t),e=e.sibling}var Da=null;function sO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:di(e,t),hi(t),r&4&&(fl(3,t,t.return),uA(3,t),fl(5,t,t.return));break;case 1:di(e,t),hi(t),r&512&&(ir||n===null||io(n,n.return)),r&64&&$o&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Da;if(di(e,t),hi(t),r&512&&(ir||n===null||io(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[aA]||a[Ir]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Rr(a,r,n),a[Ir]=t,Cr(a),r=a;break e;case"link":var o=TC("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Rr(a,r,n),i.head.appendChild(a);break;case"meta":if(o=TC("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Rr(a,r,n),i.head.appendChild(a);break;default:throw Error(Re(468,r))}a[Ir]=t,Cr(a),r=a}t.stateNode=r}else CC(i,t.type,t.stateNode);else t.stateNode=_C(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?CC(i,t.type,t.stateNode):_C(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&zb(t,t.memoizedProps,n.memoizedProps)}break;case 27:di(e,t),hi(t),r&512&&(ir||n===null||io(n,n.return)),n!==null&&r&4&&zb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(di(e,t),hi(t),r&512&&(ir||n===null||io(n,n.return)),t.flags&32){i=t.stateNode;try{pf(i,"")}catch(y){Qt(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,zb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Gb=!0);break;case 6:if(di(e,t),hi(t),r&4){if(t.stateNode===null)throw Error(Re(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){Qt(t,t.return,y)}}break;case 3:if(pg=null,i=Da,Da=zg(e.containerInfo),di(e,t),Da=i,hi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wf(e.containerInfo)}catch(y){Qt(t,t.return,y)}Gb&&(Gb=!1,lO(t));break;case 4:r=Da,Da=zg(t.stateNode.containerInfo),di(e,t),hi(t),Da=r;break;case 12:di(e,t),hi(t);break;case 31:di(e,t),hi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cm(t,r)));break;case 13:di(e,t),hi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(mv=Ri()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=$o,c=ir;if($o=u||i,ir=c||l,di(e,t),ir=c,$o=u,hi(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||$o||ir||Hl(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,A=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(y){Qt(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){Qt(l,l.return,y)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?yC(p,!0):yC(l.stateNode,!1)}catch(y){Qt(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Cm(t,n))));break;case 19:di(e,t),hi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cm(t,r)));break;case 30:break;case 21:break;default:di(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(eO(r)){n=r;break}r=r.return}if(n==null)throw Error(Re(160));switch(n.tag){case 27:var i=n.stateNode,a=Vb(t);Lg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(pf(o,""),n.flags&=-33);var s=Vb(t);Lg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Vb(t);Dx(t,u,l);break;default:throw Error(Re(161))}}catch(c){Qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;lO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Oo(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)nO(t,e.alternate,e),e=e.sibling}function Hl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:fl(4,e,e.return),Hl(e);break;case 1:io(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&QM(e,e.return,n),Hl(e);break;case 27:Uh(e.stateNode);case 26:case 5:io(e,e.return),Hl(e);break;case 22:e.memoizedState===null&&Hl(e);break;case 30:Hl(e);break;default:Hl(e)}t=t.sibling}}function Do(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:Do(i,a,n),uA(4,a);break;case 1:if(Do(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Qt(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)aM(l[i],s)}catch(u){Qt(r,r.return,u)}}n&&o&64&&XM(a),Rh(a,a.return);break;case 27:tO(a);case 26:case 5:Do(i,a,n),n&&r===null&&o&4&&ZM(a),Rh(a,a.return);break;case 12:Do(i,a,n);break;case 31:Do(i,a,n),n&&o&4&&aO(i,a);break;case 13:Do(i,a,n),n&&o&4&&oO(i,a);break;case 22:a.memoizedState===null&&Do(i,a,n),Rh(a,a.return);break;case 30:break;default:Do(i,a,n)}e=e.sibling}}function G5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&sA(n))}function W5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sA(t))}function Ea(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uO(t,e,n,r),e=e.sibling}function uO(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ea(t,e,n,r),i&2048&&uA(9,e);break;case 1:Ea(t,e,n,r);break;case 3:Ea(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sA(t)));break;case 12:if(i&2048){Ea(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Qt(e,e.return,l)}}else Ea(t,e,n,r);break;case 31:Ea(t,e,n,r);break;case 13:Ea(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?Ea(t,e,n,r):Fh(t,e):a._visibility&2?Ea(t,e,n,r):(a._visibility|=2,Nc(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&G5(o,e);break;case 24:Ea(t,e,n,r),i&2048&&W5(e.alternate,e);break;default:Ea(t,e,n,r)}}function Nc(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Nc(a,o,s,l,i),uA(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Nc(a,o,s,l,i):Fh(a,o):(c._visibility|=2,Nc(a,o,s,l,i)),i&&u&2048&&G5(o.alternate,o);break;case 24:Nc(a,o,s,l,i),i&&u&2048&&W5(o.alternate,o);break;default:Nc(a,o,s,l,i)}e=e.sibling}}function Fh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Fh(n,r),i&2048&&G5(r.alternate,r);break;case 24:Fh(n,r),i&2048&&W5(r.alternate,r);break;default:Fh(n,r)}e=e.sibling}}var Th=8192;function Ac(t,e,n){if(t.subtreeFlags&Th)for(t=t.child;t!==null;)cO(t,e,n),t=t.sibling}function cO(t,e,n){switch(t.tag){case 26:Ac(t,e,n),t.flags&Th&&t.memoizedState!==null&&Y$(n,Da,t.memoizedState,t.memoizedProps);break;case 5:Ac(t,e,n);break;case 3:case 4:var r=Da;Da=zg(t.stateNode.containerInfo),Ac(t,e,n),Da=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Th,Th=16777216,Ac(t,e,n),Th=r):Ac(t,e,n));break;default:Ac(t,e,n)}}function fO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ih(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Tr=r,hO(r,t)}fO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dO(t),t=t.sibling}function dO(t){switch(t.tag){case 0:case 11:case 15:ih(t),t.flags&2048&&fl(9,t,t.return);break;case 3:ih(t);break;case 12:ih(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,dg(t)):ih(t);break;default:ih(t)}}function dg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Tr=r,hO(r,t)}fO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:fl(8,e,e.return),dg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,dg(e));break;default:dg(e)}t=t.sibling}}function hO(t,e){for(;Tr!==null;){var n=Tr;switch(n.tag){case 0:case 11:case 15:fl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sA(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Tr=r;else e:for(n=t;Tr!==null;){r=Tr;var i=r.sibling,a=r.return;if(rO(r),r===n){Tr=null;break e}if(i!==null){i.return=a,Tr=i;break e}Tr=a}}}var u$={getCacheForType:function(t){var e=Lr(ar),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Lr(ar).controller.signal}},c$=typeof WeakMap=="function"?WeakMap:Map,Vt=0,pn=null,Dt=null,Rt=0,Xt=0,ki=null,zs=!1,Zf=!1,Y5=!1,ts=0,Un=0,dl=0,su=0,K5=0,Di=0,vf=0,$h=null,mi=null,Lx=!1,mv=0,pO=0,Rg=1/0,Fg=null,Zs=null,Ar=0,el=null,yf=null,Yo=0,Rx=0,Fx=null,AO=null,Bh=0,$x=null;function Bi(){return Vt&2&&Rt!==0?Rt&-Rt:vt.T!==null?X5():_6()}function mO(){if(Di===0)if(!(Rt&536870912)||$t){var t=vm;vm<<=1,!(vm&3932160)&&(vm=262144),Di=t}else Di=536870912;return t=Hi.current,t!==null&&(t.flags|=32),Di}function yi(t,e,n){(t===pn&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(bf(t,0),Vs(t,Rt,Di,!1)),iA(t,n),(!(Vt&2)||t!==pn)&&(t===pn&&(!(Vt&2)&&(su|=n),Un===4&&Vs(t,Rt,Di,!1)),po(t))}function gO(t,e,n){if(Vt&6)throw Error(Re(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||rA(t,e),i=r?h$(t,e):Wb(t,e,!0),a=r;do{if(i===0){Zf&&!r&&Vs(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!f$(n)){i=Wb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=$h;var l=s.current.memoizedState.isDehydrated;if(l&&(bf(s,o).flags|=256),o=Wb(s,o,!1),o!==2){if(Y5&&!l){s.errorRecoveryDisabledLanes|=a,su|=a,i=4;break e}a=mi,mi=i,a!==null&&(mi===null?mi=a:mi.push.apply(mi,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){bf(t,0),Vs(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(Re(345));case 4:if((e&4194048)!==e)break;case 6:Vs(r,e,Di,!zs);break e;case 2:mi=null;break;case 3:case 5:break;default:throw Error(Re(329))}if((e&62914560)===e&&(i=mv+300-Ri(),10<i)){if(Vs(r,e,Di,!zs),av(r,0,!0)!==0)break e;Yo=e,r.timeoutHandle=RO(oC.bind(null,r,n,mi,Fg,Lx,e,Di,su,vf,zs,a,"Throttled",-0,0),i);break e}oC(r,n,mi,Fg,Lx,e,Di,su,vf,zs,a,null,-0,0)}}break}while(!0);po(t)}function oC(t,e,n,r,i,a,o,s,l,u,c,f,A,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Uo},cO(e,a,f);var y=(a&62914560)===a?mv-Ri():(a&4194048)===a?pO-Ri():0;if(y=K$(f,y),y!==null){Yo=a,t.cancelPendingCommit=y(lC.bind(null,t,e,a,n,r,i,o,s,l,c,f,null,A,p)),Vs(t,a,o,!u);return}}lC(t,e,a,n,r,i,o,s,l)}function f$(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!qi(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e,n,r){e&=~K5,e&=~su,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-$i(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&x6(t,n,e)}function gv(){return Vt&6?!0:(cA(0),!1)}function J5(){if(Dt!==null){if(Xt===0)var t=Dt.return;else t=Dt,qo=Pu=null,D5(t),nf=null,up=0,t=Dt;for(;t!==null;)JM(t.alternate,t),t=t.return;Dt=null}}function bf(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,M$(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Yo=0,J5(),pn=t,Dt=n=Go(t.current,null),Rt=e,Xt=0,ki=null,zs=!1,Zf=rA(t,e),Y5=!1,vf=Di=K5=su=dl=Un=0,mi=$h=null,Lx=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-$i(r),a=1<<i;e|=t[i],r&=~a}return ts=e,uv(),n}function vO(t,e){Nt=null,vt.H=fp,e===Qf||e===fv?(e=FT(),Xt=3):e===E5?(e=FT(),Xt=4):Xt=e===z5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ki=e,Dt===null&&(Un=1,Ig(t,sa(e,t.current)))}function yO(){var t=Hi.current;return t===null?!0:(Rt&4194048)===Rt?fa===null:(Rt&62914560)===Rt||Rt&536870912?t===fa:!1}function bO(){var t=vt.H;return vt.H=fp,t===null?fp:t}function xO(){var t=vt.A;return vt.A=u$,t}function $g(){Un=4,zs||(Rt&4194048)!==Rt&&Hi.current!==null||(Zf=!0),!(dl&134217727)&&!(su&134217727)||pn===null||Vs(pn,Rt,Di,!1)}function Wb(t,e,n){var r=Vt;Vt|=2;var i=bO(),a=xO();(pn!==t||Rt!==e)&&(Fg=null,bf(t,e)),e=!1;var o=Un;e:do try{if(Xt!==0&&Dt!==null){var s=Dt,l=ki;switch(Xt){case 8:J5(),o=6;break e;case 3:case 2:case 9:case 6:Hi.current===null&&(e=!0);var u=Xt;if(Xt=0,ki=null,Vc(t,s,l,u),n&&Zf){o=0;break e}break;default:u=Xt,Xt=0,ki=null,Vc(t,s,l,u)}}d$(),o=Un;break}catch(c){vO(t,c)}while(!0);return e&&t.shellSuspendCounter++,qo=Pu=null,Vt=r,vt.H=i,vt.A=a,Dt===null&&(pn=null,Rt=0,uv()),o}function d$(){for(;Dt!==null;)wO(Dt)}function h$(t,e){var n=Vt;Vt|=2;var r=bO(),i=xO();pn!==t||Rt!==e?(Fg=null,Rg=Ri()+500,bf(t,e)):Zf=rA(t,e);e:do try{if(Xt!==0&&Dt!==null){e=Dt;var a=ki;t:switch(Xt){case 1:Xt=0,ki=null,Vc(t,e,a,1);break;case 2:case 9:if(RT(a)){Xt=0,ki=null,sC(e);break}e=function(){Xt!==2&&Xt!==9||pn!==t||(Xt=7),po(t)},a.then(e,e);break e;case 3:Xt=7;break e;case 4:Xt=5;break e;case 7:RT(a)?(Xt=0,ki=null,sC(e)):(Xt=0,ki=null,Vc(t,e,a,7));break;case 5:var o=null;switch(Dt.tag){case 26:o=Dt.memoizedState;case 5:case 27:var s=Dt;if(o?qO(o):s.stateNode.complete){Xt=0,ki=null;var l=s.sibling;if(l!==null)Dt=l;else{var u=s.return;u!==null?(Dt=u,vv(u)):Dt=null}break t}}Xt=0,ki=null,Vc(t,e,a,5);break;case 6:Xt=0,ki=null,Vc(t,e,a,6);break;case 8:J5(),Un=6;break e;default:throw Error(Re(462))}}p$();break}catch(c){vO(t,c)}while(!0);return qo=Pu=null,vt.H=r,vt.A=i,Vt=n,Dt!==null?0:(pn=null,Rt=0,uv(),Un)}function p$(){for(;Dt!==null&&!R7();)wO(Dt)}function wO(t){var e=KM(t.alternate,t,ts);t.memoizedProps=t.pendingProps,e===null?vv(t):Dt=e}function sC(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=eC(n,e,e.pendingProps,e.type,void 0,Rt);break;case 11:e=eC(n,e,e.pendingProps,e.type.render,e.ref,Rt);break;case 5:D5(e);default:JM(n,e),e=Dt=J6(e,ts),e=KM(n,e,ts)}t.memoizedProps=t.pendingProps,e===null?vv(t):Dt=e}function Vc(t,e,n,r){qo=Pu=null,D5(e),nf=null,up=0;var i=e.return;try{if(n$(t,i,e,n,Rt)){Un=1,Ig(t,sa(n,t.current)),Dt=null;return}}catch(a){if(i!==null)throw Dt=i,a;Un=1,Ig(t,sa(n,t.current)),Dt=null;return}e.flags&32768?($t||r===1?t=!0:Zf||Rt&536870912?t=!1:(zs=t=!0,(r===2||r===9||r===3||r===6)&&(r=Hi.current,r!==null&&r.tag===13&&(r.flags|=16384))),SO(e,t)):vv(e)}function vv(t){var e=t;do{if(e.flags&32768){SO(e,zs);return}t=e.return;var n=a$(e.alternate,e,ts);if(n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Un===0&&(Un=5)}function SO(t,e){do{var n=o$(t.alternate,t);if(n!==null){n.flags&=32767,Dt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=n}while(t!==null);Un=6,Dt=null}function lC(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do yv();while(Ar!==0);if(Vt&6)throw Error(Re(327));if(e!==null){if(e===t.current)throw Error(Re(177));if(a=e.lanes|e.childLanes,a|=x5,W7(t,n,a,o,s,l),t===pn&&(Dt=pn=null,Rt=0),yf=e,el=t,Yo=n,Rx=a,Fx=i,AO=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,v$(Sg,function(){return EO(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=vt.T,vt.T=null,i=Gt.p,Gt.p=2,o=Vt,Vt|=4;try{s$(t,e,n)}finally{Vt=o,Gt.p=i,vt.T=r}}Ar=1,_O(),TO(),CO()}}function _O(){if(Ar===1){Ar=0;var t=el,e=yf,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=vt.T,vt.T=null;var r=Gt.p;Gt.p=2;var i=Vt;Vt|=4;try{sO(e,t);var a=Hx,o=q6(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&U6(s.ownerDocument.documentElement,s)){if(l!==null&&b5(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,A=f&&f.defaultView||window;if(A.getSelection){var p=A.getSelection(),y=s.textContent.length,x=Math.min(l.start,y),S=l.end===void 0?x:Math.min(l.end,y);!p.extend&&x>S&&(o=S,S=x,x=o);var v=PT(s,x),b=PT(s,S);if(v&&b&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var w=f.createRange();w.setStart(v.node,v.offset),p.removeAllRanges(),x>S?(p.addRange(w),p.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),p.addRange(w))}}}}for(f=[],p=s;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Wg=!!qx,Hx=qx=null}finally{Vt=i,Gt.p=r,vt.T=n}}t.current=e,Ar=2}}function TO(){if(Ar===2){Ar=0;var t=el,e=yf,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=vt.T,vt.T=null;var r=Gt.p;Gt.p=2;var i=Vt;Vt|=4;try{nO(t,e.alternate,e)}finally{Vt=i,Gt.p=r,vt.T=n}}Ar=3}}function CO(){if(Ar===4||Ar===3){Ar=0,F7();var t=el,e=yf,n=Yo,r=AO;e.subtreeFlags&10256||e.flags&10256?Ar=5:(Ar=0,yf=el=null,NO(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Zs=null),h5(n),e=e.stateNode,Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(nA,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=vt.T,i=Gt.p,Gt.p=2,vt.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{vt.T=e,Gt.p=i}}Yo&3&&yv(),po(t),i=t.pendingLanes,n&261930&&i&42?t===$x?Bh++:(Bh=0,$x=t):Bh=0,cA(0)}}function NO(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sA(e)))}function yv(){return _O(),TO(),CO(),EO()}function EO(){if(Ar!==5)return!1;var t=el,e=Rx;Rx=0;var n=h5(Yo),r=vt.T,i=Gt.p;try{Gt.p=32>n?32:n,vt.T=null,n=Fx,Fx=null;var a=el,o=Yo;if(Ar=0,yf=el=null,Yo=0,Vt&6)throw Error(Re(331));var s=Vt;if(Vt|=4,dO(a.current),uO(a,a.current,o,n),Vt=s,cA(0,!1),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(nA,a)}catch{}return!0}finally{Gt.p=i,vt.T=r,NO(t,e)}}function uC(t,e,n){e=sa(n,e),e=Ox(t.stateNode,e,2),t=Qs(t,e,2),t!==null&&(iA(t,2),po(t))}function Qt(t,e,n){if(t.tag===3)uC(t,t,n);else for(;e!==null;){if(e.tag===3){uC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zs===null||!Zs.has(r))){t=sa(n,t),n=HM(2),r=Qs(e,n,2),r!==null&&(zM(n,r,e,t),iA(r,2),po(r));break}}e=e.return}}function Yb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Y5=!0,i.add(n),t=A$.bind(null,t,e,n),e.then(t,t))}function A$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,pn===t&&(Rt&n)===n&&(Un===4||Un===3&&(Rt&62914560)===Rt&&300>Ri()-mv?!(Vt&2)&&bf(t,0):K5|=n,vf===Rt&&(vf=0)),po(t)}function kO(t,e){e===0&&(e=b6()),t=ku(t,e),t!==null&&(iA(t,e),po(t))}function m$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kO(t,n)}function g$(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Re(314))}r!==null&&r.delete(e),kO(t,n)}function v$(t,e){return f5(t,e)}var Bg=null,Ec=null,Bx=!1,Ug=!1,Kb=!1,Gs=0;function po(t){t!==Ec&&t.next===null&&(Ec===null?Bg=Ec=t:Ec=Ec.next=t),Ug=!0,Bx||(Bx=!0,b$())}function cA(t,e){if(!Kb&&Ug){Kb=!0;do for(var n=!1,r=Bg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-$i(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,cC(r,a))}else a=Rt,a=av(r,r===pn?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||rA(r,a)||(n=!0,cC(r,a));r=r.next}while(n);Kb=!1}}function y$(){PO()}function PO(){Ug=Bx=!1;var t=0;Gs!==0&&P$()&&(t=Gs);for(var e=Ri(),n=null,r=Bg;r!==null;){var i=r.next,a=MO(r,e);a===0?(r.next=null,n===null?Bg=i:n.next=i,i===null&&(Ec=n)):(n=r,(t!==0||a&3)&&(Ug=!0)),r=i}Ar!==0&&Ar!==5||cA(t),Gs!==0&&(Gs=0)}function MO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-$i(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=G7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=pn,n=Rt,n=av(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Sb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||rA(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Sb(r),h5(n)){case 2:case 8:n=v6;break;case 32:n=Sg;break;case 268435456:n=y6;break;default:n=Sg}return r=OO.bind(null,t),n=f5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Sb(r),t.callbackPriority=2,t.callbackNode=null,2}function OO(t,e){if(Ar!==0&&Ar!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(yv()&&t.callbackNode!==n)return null;var r=Rt;return r=av(t,t===pn?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(gO(t,r,e),MO(t,Ri()),t.callbackNode!=null&&t.callbackNode===n?OO.bind(null,t):null)}function cC(t,e){if(yv())return null;gO(t,e,!0)}function b$(){O$(function(){Vt&6?f5(g6,y$):PO()})}function X5(){if(Gs===0){var t=Af;t===0&&(t=gm,gm<<=1,!(gm&261888)&&(gm=256)),Gs=t}return Gs}function fC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rg(""+t)}function dC(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function x$(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=fC((i[bi]||null).action),o=r.submitter;o&&(e=(e=o[bi]||null)?fC(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new ov("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Gs!==0){var l=o?dC(i,o):new FormData(i);Px(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?dC(i,o):new FormData(i),Px(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Jb=0;Jb<vx.length;Jb++){var Xb=vx[Jb],w$=Xb.toLowerCase(),S$=Xb[0].toUpperCase()+Xb.slice(1);Ua(w$,"on"+S$)}Ua(z6,"onAnimationEnd");Ua(V6,"onAnimationIteration");Ua(G6,"onAnimationStart");Ua("dblclick","onDoubleClick");Ua("focusin","onFocus");Ua("focusout","onBlur");Ua($F,"onTransitionRun");Ua(BF,"onTransitionStart");Ua(UF,"onTransitionCancel");Ua(W6,"onTransitionEnd");hf("onMouseEnter",["mouseout","mouseover"]);hf("onMouseLeave",["mouseout","mouseover"]);hf("onPointerEnter",["pointerout","pointerover"]);hf("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dp));function jO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Tg(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Tg(c)}i.currentTarget=null,a=l}}}}function It(t,e){var n=e[cx];n===void 0&&(n=e[cx]=new Set);var r=t+"__bubble";n.has(r)||(IO(e,t,2,!1),n.add(r))}function Qb(t,e,n){var r=0;e&&(r|=4),IO(n,t,r,e)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function Q5(t){if(!t[Nm]){t[Nm]=!0,T6.forEach(function(n){n!=="selectionchange"&&(_$.has(n)||Qb(n,!1,t),Qb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nm]||(e[Nm]=!0,Qb("selectionchange",!1,e))}}function IO(t,e,n,r){switch(WO(e)){case 2:var i=Q$;break;case 8:i=Z$;break;default:i=nS}n=i.bind(null,e,n,t),i=void 0,!Ax||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=Lc(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}j6(function(){var u=a,c=m5(n),f=[];e:{var A=Y6.get(t);if(A!==void 0){var p=ov,y=t;switch(t){case"keypress":if(ag(n)===0)break e;case"keydown":case"keyup":p=gF;break;case"focusin":y="focus",p=Eb;break;case"focusout":y="blur",p=Eb;break;case"beforeblur":case"afterblur":p=Eb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=aF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bF;break;case z6:case V6:case G6:p=lF;break;case W6:p=wF;break;case"scroll":case"scrollend":p=rF;break;case"wheel":p=_F;break;case"copy":case"cut":case"paste":p=cF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wT;break;case"toggle":case"beforetoggle":p=CF}var x=(e&4)!==0,S=!x&&(t==="scroll"||t==="scrollend"),v=x?A!==null?A+"Capture":null:A;x=[];for(var b=u,w;b!==null;){var T=b;if(w=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||w===null||v===null||(T=ip(b,v),T!=null&&x.push(hp(b,T,w))),S)break;b=b.return}0<x.length&&(A=new p(A,y,null,n,c),f.push({event:A,listeners:x}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",A&&n!==px&&(y=n.relatedTarget||n.fromElement)&&(Lc(y)||y[Kf]))break e;if((p||A)&&(A=c.window===c?c:(A=c.ownerDocument)?A.defaultView||A.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Lc(y):null,y!==null&&(S=tA(y),x=y.tag,y!==S||x!==5&&x!==27&&x!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=bT,T="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=wT,T="onPointerLeave",v="onPointerEnter",b="pointer"),S=p==null?A:Sh(p),w=y==null?A:Sh(y),A=new x(T,b+"leave",p,n,c),A.target=S,A.relatedTarget=w,T=null,Lc(c)===u&&(x=new x(v,b+"enter",y,n,c),x.target=w,x.relatedTarget=S,T=x),S=T,p&&y)t:{for(x=T$,v=p,b=y,w=0,T=v;T;T=x(T))w++;T=0;for(var C=b;C;C=x(C))T++;for(;0<w-T;)v=x(v),w--;for(;0<T-w;)b=x(b),T--;for(;w--;){if(v===b||b!==null&&v===b.alternate){x=v;break t}v=x(v),b=x(b)}x=null}else x=null;p!==null&&hC(f,A,p,x,!1),y!==null&&S!==null&&hC(f,S,y,x,!0)}}e:{if(A=u?Sh(u):window,p=A.nodeName&&A.nodeName.toLowerCase(),p==="select"||p==="input"&&A.type==="file")var k=CT;else if(TT(A))if($6)k=LF;else{k=IF;var E=jF}else p=A.nodeName,!p||p.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?u&&A5(u.elementType)&&(k=CT):k=DF;if(k&&(k=k(t,u))){F6(f,k,n,c);break e}E&&E(t,A,u),t==="focusout"&&u&&A.type==="number"&&u.memoizedProps.value!=null&&hx(A,"number",A.value)}switch(E=u?Sh(u):window,t){case"focusin":(TT(E)||E.contentEditable==="true")&&($c=E,mx=u,Mh=null);break;case"focusout":Mh=mx=$c=null;break;case"mousedown":gx=!0;break;case"contextmenu":case"mouseup":case"dragend":gx=!1,MT(f,n,c);break;case"selectionchange":if(FF)break;case"keydown":case"keyup":MT(f,n,c)}var M;if(y5)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Fc?L6(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(D6&&n.locale!=="ko"&&(Fc||I!=="onCompositionStart"?I==="onCompositionEnd"&&Fc&&(M=I6()):(Hs=c,g5="value"in Hs?Hs.value:Hs.textContent,Fc=!0)),E=qg(u,I),0<E.length&&(I=new xT(I,t,null,n,c),f.push({event:I,listeners:E}),M?I.data=M:(M=R6(n),M!==null&&(I.data=M)))),(M=EF?kF(t,n):PF(t,n))&&(I=qg(u,"onBeforeInput"),0<I.length&&(E=new xT("onBeforeInput","beforeinput",null,n,c),f.push({event:E,listeners:I}),E.data=M)),x$(f,t,u,n,c)}jO(f,e)})}function hp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=ip(t,n),i!=null&&r.unshift(hp(t,i,a)),i=ip(t,e),i!=null&&r.push(hp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function T$(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=ip(n,a),u!=null&&o.unshift(hp(n,u,l))):i||(u=ip(n,a),u!=null&&o.push(hp(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var C$=/\r\n?/g,N$=/\u0000|\uFFFD/g;function pC(t){return(typeof t=="string"?t:""+t).replace(C$,`
`).replace(N$,"")}function DO(t,e){return e=pC(e),pC(t)===e}function an(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||pf(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&pf(t,""+r);break;case"className":bm(t,"class",r);break;case"tabIndex":bm(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":bm(t,n,r);break;case"style":O6(t,r,a);break;case"data":if(e!=="object"){bm(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=rg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&an(t,e,"name",i.name,i,null),an(t,e,"formEncType",i.formEncType,i,null),an(t,e,"formMethod",i.formMethod,i,null),an(t,e,"formTarget",i.formTarget,i,null)):(an(t,e,"encType",i.encType,i,null),an(t,e,"method",i.method,i,null),an(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=rg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Uo);break;case"onScroll":r!=null&&It("scroll",t);break;case"onScrollEnd":r!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Re(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Re(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=rg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":It("beforetoggle",t),It("toggle",t),ng(t,"popover",r);break;case"xlinkActuate":ko(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ko(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ko(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ko(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ko(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ko(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ko(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ko(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ko(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ng(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tF.get(n)||n,ng(t,n,r))}}function Ux(t,e,n,r,i,a){switch(n){case"style":O6(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Re(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Re(60));t.innerHTML=n}}break;case"children":typeof r=="string"?pf(t,r):(typeof r=="number"||typeof r=="bigint")&&pf(t,""+r);break;case"onScroll":r!=null&&It("scroll",t);break;case"onScrollEnd":r!=null&&It("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[bi]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):ng(t,n,r)}}}function Rr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Re(137,e));default:an(t,e,a,o,n,null)}}i&&an(t,e,"srcSet",n.srcSet,n,null),r&&an(t,e,"src",n.src,n,null);return;case"input":It("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(Re(137,e));break;default:an(t,e,r,c,n,null)}}k6(t,a,s,l,u,o,i,!1);return;case"select":It("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:an(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?Zc(t,!!r,e,!1):n!=null&&Zc(t,!!r,n,!0);return;case"textarea":It("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(Re(91));break;default:an(t,e,o,s,n,null)}M6(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:an(t,e,l,r,n,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(r=0;r<dp.length;r++)It(dp[r],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Re(137,e));default:an(t,e,u,r,n,null)}return;default:if(A5(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Ux(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&an(t,e,s,r,n,null))}function E$(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||an(t,e,p,null,r,f)}}for(var A in r){var p=r[A];if(f=n[A],r.hasOwnProperty(A)&&(p!=null||f!=null))switch(A){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Re(137,e));break;default:p!==f&&an(t,e,A,p,r,f)}}dx(t,o,s,l,u,c,a,i);return;case"select":p=o=s=A=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||an(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":A=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&an(t,e,i,a,r,l)}e=s,n=o,r=p,A!=null?Zc(t,!!n,A,!1):!!r!=!!n&&(e!=null?Zc(t,!!n,e,!0):Zc(t,!!n,n?[]:"",!1));return;case"textarea":p=A=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:an(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":A=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Re(91));break;default:i!==a&&an(t,e,o,i,r,a)}P6(t,A,p);return;case"option":for(var y in n)if(A=n[y],n.hasOwnProperty(y)&&A!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:an(t,e,y,null,r,A)}for(l in r)if(A=r[l],p=n[l],r.hasOwnProperty(l)&&A!==p&&(A!=null||p!=null))switch(l){case"selected":t.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:an(t,e,l,A,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)A=n[x],n.hasOwnProperty(x)&&A!=null&&!r.hasOwnProperty(x)&&an(t,e,x,null,r,A);for(u in r)if(A=r[u],p=n[u],r.hasOwnProperty(u)&&A!==p&&(A!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(Re(137,e));break;default:an(t,e,u,A,r,p)}return;default:if(A5(e)){for(var S in n)A=n[S],n.hasOwnProperty(S)&&A!==void 0&&!r.hasOwnProperty(S)&&Ux(t,e,S,void 0,r,A);for(c in r)A=r[c],p=n[c],!r.hasOwnProperty(c)||A===p||A===void 0&&p===void 0||Ux(t,e,c,A,r,p);return}}for(var v in n)A=n[v],n.hasOwnProperty(v)&&A!=null&&!r.hasOwnProperty(v)&&an(t,e,v,null,r,A);for(f in r)A=r[f],p=n[f],!r.hasOwnProperty(f)||A===p||A==null&&p==null||an(t,e,f,A,r,p)}function AC(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k$(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&AC(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&AC(f)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qx=null,Hx=null;function Hg(t){return t.nodeType===9?t:t.ownerDocument}function mC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LO(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function zx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var e1=null;function P$(){var t=window.event;return t&&t.type==="popstate"?t===e1?!1:(e1=t,!0):(e1=null,!1)}var RO=typeof setTimeout=="function"?setTimeout:void 0,M$=typeof clearTimeout=="function"?clearTimeout:void 0,gC=typeof Promise=="function"?Promise:void 0,O$=typeof queueMicrotask=="function"?queueMicrotask:typeof gC<"u"?function(t){return gC.resolve(null).then(t).catch(j$)}:RO;function j$(t){setTimeout(function(){throw t})}function gl(t){return t==="head"}function vC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),wf(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Uh(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Uh(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[aA]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&Uh(t.ownerDocument.body);n=i}while(n);wf(e)}function yC(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Vx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vx(n),p5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function I$(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[aA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=da(t.nextSibling),t===null)break}return null}function D$(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=da(t.nextSibling),t===null))return null;return t}function FO(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=da(t.nextSibling),t===null))return null;return t}function Gx(t){return t.data==="$?"||t.data==="$~"}function Wx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function L$(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function da(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Yx=null;function bC(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return da(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function xC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function $O(t,e,n){switch(e=Hg(n),t){case"html":if(t=e.documentElement,!t)throw Error(Re(452));return t;case"head":if(t=e.head,!t)throw Error(Re(453));return t;case"body":if(t=e.body,!t)throw Error(Re(454));return t;default:throw Error(Re(451))}}function Uh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);p5(t)}var ma=new Map,wC=new Set;function zg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=Gt.d;Gt.d={f:R$,r:F$,D:$$,C:B$,L:U$,m:q$,X:z$,S:H$,M:V$};function R$(){var t=os.f(),e=gv();return t||e}function F$(t){var e=Jf(t);e!==null&&e.tag===5&&e.type==="form"?OM(e):os.r(t)}var ed=typeof document>"u"?null:document;function BO(t,e,n){var r=ed;if(r&&typeof e=="string"&&e){var i=oa(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),wC.has(i)||(wC.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Rr(e,"link",t),Cr(e),r.head.appendChild(e)))}}function $$(t){os.D(t),BO("dns-prefetch",t,null)}function B$(t,e){os.C(t,e),BO("preconnect",t,e)}function U$(t,e,n){os.L(t,e,n);var r=ed;if(r&&t&&e){var i='link[rel="preload"][as="'+oa(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+oa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+oa(n.imageSizes)+'"]')):i+='[href="'+oa(t)+'"]';var a=i;switch(e){case"style":a=xf(t);break;case"script":a=td(t)}ma.has(a)||(t=Pn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ma.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(fA(a))||e==="script"&&r.querySelector(dA(a))||(e=r.createElement("link"),Rr(e,"link",t),Cr(e),r.head.appendChild(e)))}}function q$(t,e){os.m(t,e);var n=ed;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+oa(r)+'"][href="'+oa(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=td(t)}if(!ma.has(a)&&(t=Pn({rel:"modulepreload",href:t},e),ma.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dA(a)))return}r=n.createElement("link"),Rr(r,"link",t),Cr(r),n.head.appendChild(r)}}}function H$(t,e,n){os.S(t,e,n);var r=ed;if(r&&t){var i=Qc(r).hoistableStyles,a=xf(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(fA(a)))s.loading=5;else{t=Pn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ma.get(a))&&Z5(t,n);var l=o=r.createElement("link");Cr(l),Rr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,hg(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function z$(t,e){os.X(t,e);var n=ed;if(n&&t){var r=Qc(n).hoistableScripts,i=td(t),a=r.get(i);a||(a=n.querySelector(dA(i)),a||(t=Pn({src:t,async:!0},e),(e=ma.get(i))&&eS(t,e),a=n.createElement("script"),Cr(a),Rr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function V$(t,e){os.M(t,e);var n=ed;if(n&&t){var r=Qc(n).hoistableScripts,i=td(t),a=r.get(i);a||(a=n.querySelector(dA(i)),a||(t=Pn({src:t,async:!0,type:"module"},e),(e=ma.get(i))&&eS(t,e),a=n.createElement("script"),Cr(a),Rr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function SC(t,e,n,r){var i=(i=Ks.current)?zg(i):null;if(!i)throw Error(Re(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=xf(n.href),n=Qc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=xf(n.href);var a=Qc(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(fA(t)))&&!a._p&&(o.instance=a,o.state.loading=5),ma.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ma.set(t,n),a||G$(i,t,n,o.state))),e&&r===null)throw Error(Re(528,""));return o}if(e&&r!==null)throw Error(Re(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=td(n),n=Qc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Re(444,t))}}function xf(t){return'href="'+oa(t)+'"'}function fA(t){return'link[rel="stylesheet"]['+t+"]"}function UO(t){return Pn({},t,{"data-precedence":t.precedence,precedence:null})}function G$(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Rr(e,"link",n),Cr(e),t.head.appendChild(e))}function td(t){return'[src="'+oa(t)+'"]'}function dA(t){return"script[async]"+t}function _C(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+oa(n.href)+'"]');if(r)return e.instance=r,Cr(r),r;var i=Pn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Cr(r),Rr(r,"style",i),hg(r,n.precedence,t),e.instance=r;case"stylesheet":i=xf(n.href);var a=t.querySelector(fA(i));if(a)return e.state.loading|=4,e.instance=a,Cr(a),a;r=UO(n),(i=ma.get(i))&&Z5(r,i),a=(t.ownerDocument||t).createElement("link"),Cr(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Rr(a,"link",r),e.state.loading|=4,hg(a,n.precedence,t),e.instance=a;case"script":return a=td(n.src),(i=t.querySelector(dA(a)))?(e.instance=i,Cr(i),i):(r=n,(i=ma.get(a))&&(r=Pn({},n),eS(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Cr(i),Rr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Re(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,hg(r,n.precedence,t));return e.instance}function hg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Z5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function eS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pg=null;function TC(t,e,n){if(pg===null){var r=new Map,i=pg=new Map;i.set(n,r)}else i=pg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[aA]||a[Ir]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function CC(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function W$(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function qO(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Y$(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=xf(r.href),a=e.querySelector(fA(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Vg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Cr(a);return}a=e.ownerDocument||e,r=UO(r),(i=ma.get(i))&&Z5(r,i),a=a.createElement("link"),Cr(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Rr(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Vg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var t1=0;function K$(t,e){return t.stylesheets&&t.count===0&&Ag(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Ag(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&t1===0&&(t1=62500*k$());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ag(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>t1?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Vg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gg=null;function Ag(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gg=new Map,e.forEach(J$,t),Gg=null,Vg.call(t))}function J$(t,e){if(!(e.state.loading&4)){var n=Gg.get(t);if(n)var r=n.get(null);else{n=new Map,Gg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Vg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var pp={$$typeof:Bo,Provider:null,Consumer:null,_currentValue:ru,_currentValue2:ru,_threadCount:0};function X$(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_b(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_b(0),this.hiddenUpdates=_b(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function HO(t,e,n,r,i,a,o,s,l,u,c,f){return t=new X$(t,e,n,o,l,u,c,f,s),e=1,a===!0&&(e|=24),a=Oi(3,null,null,e),t.current=a,a.stateNode=t,e=C5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},k5(a),t}function zO(t){return t?(t=qc,t):qc}function VO(t,e,n,r,i,a){i=zO(i),r.context===null?r.context=i:r.pendingContext=i,r=Xs(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Qs(t,r,e),n!==null&&(yi(n,t,e),jh(n,t,e))}function NC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tS(t,e){NC(t,e),(t=t.alternate)&&NC(t,e)}function GO(t){if(t.tag===13||t.tag===31){var e=ku(t,67108864);e!==null&&yi(e,t,67108864),tS(t,67108864)}}function EC(t){if(t.tag===13||t.tag===31){var e=Bi();e=d5(e);var n=ku(t,e);n!==null&&yi(n,t,e),tS(t,e)}}var Wg=!0;function Q$(t,e,n,r){var i=vt.T;vt.T=null;var a=Gt.p;try{Gt.p=2,nS(t,e,n,r)}finally{Gt.p=a,vt.T=i}}function Z$(t,e,n,r){var i=vt.T;vt.T=null;var a=Gt.p;try{Gt.p=8,nS(t,e,n,r)}finally{Gt.p=a,vt.T=i}}function nS(t,e,n,r){if(Wg){var i=Kx(r);if(i===null)Zb(t,e,r,Yg,n),kC(t,r);else if(tB(i,t,e,n,r))r.stopPropagation();else if(kC(t,r),e&4&&-1<eB.indexOf(t)){for(;i!==null;){var a=Jf(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ul(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-$i(o);s.entanglements[1]|=l,o&=~l}po(a),!(Vt&6)&&(Rg=Ri()+500,cA(0))}}break;case 31:case 13:s=ku(a,2),s!==null&&yi(s,a,2),gv(),tS(a,2)}if(a=Kx(r),a===null&&Zb(t,e,r,Yg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Zb(t,e,r,null,n)}}function Kx(t){return t=m5(t),rS(t)}var Yg=null;function rS(t){if(Yg=null,t=Lc(t),t!==null){var e=tA(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=d6(e),t!==null)return t;t=null}else if(n===31){if(t=h6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Yg=t,null}function WO(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($7()){case g6:return 2;case v6:return 8;case Sg:case B7:return 32;case y6:return 268435456;default:return 32}default:return 32}}var Jx=!1,tl=null,nl=null,rl=null,Ap=new Map,mp=new Map,Fs=[],eB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kC(t,e){switch(t){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":Ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(e.pointerId)}}function ah(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jf(e),e!==null&&GO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tB(t,e,n,r,i){switch(e){case"focusin":return tl=ah(tl,t,e,n,r,i),!0;case"dragenter":return nl=ah(nl,t,e,n,r,i),!0;case"mouseover":return rl=ah(rl,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ap.set(a,ah(Ap.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,mp.set(a,ah(mp.get(a)||null,t,e,n,r,i)),!0}return!1}function YO(t){var e=Lc(t.target);if(e!==null){var n=tA(e);if(n!==null){if(e=n.tag,e===13){if(e=d6(n),e!==null){t.blockedOn=e,hT(t.priority,function(){EC(n)});return}}else if(e===31){if(e=h6(n),e!==null){t.blockedOn=e,hT(t.priority,function(){EC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);px=r,n.target.dispatchEvent(r),px=null}else return e=Jf(n),e!==null&&GO(e),t.blockedOn=n,!1;e.shift()}return!0}function PC(t,e,n){mg(t)&&n.delete(e)}function nB(){Jx=!1,tl!==null&&mg(tl)&&(tl=null),nl!==null&&mg(nl)&&(nl=null),rl!==null&&mg(rl)&&(rl=null),Ap.forEach(PC),mp.forEach(PC)}function Em(t,e){t.blockedOn===e&&(t.blockedOn=null,Jx||(Jx=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,nB)))}var km=null;function MC(t){km!==t&&(km=t,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,function(){km===t&&(km=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(rS(r||n)===null)continue;break}var a=Jf(n);a!==null&&(t.splice(e,3),e-=3,Px(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function wf(t){function e(l){return Em(l,t)}tl!==null&&Em(tl,t),nl!==null&&Em(nl,t),rl!==null&&Em(rl,t),Ap.forEach(e),mp.forEach(e);for(var n=0;n<Fs.length;n++){var r=Fs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)YO(n),n.blockedOn===null&&Fs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[bi]||null;if(typeof a=="function")o||MC(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[bi]||null)s=o.formAction;else if(rS(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),MC(n)}}}function KO(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function iS(t){this._internalRoot=t}bv.prototype.render=iS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));var n=e.current,r=Bi();VO(n,r,t,e,null,null)};bv.prototype.unmount=iS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;VO(t.current,2,null,t,null,null),gv(),e[Kf]=null}};function bv(t){this._internalRoot=t}bv.prototype.unstable_scheduleHydration=function(t){if(t){var e=_6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fs.length&&e!==0&&e<Fs[n].priority;n++);Fs.splice(n,0,t),n===0&&YO(t)}};var OC=c6.version;if(OC!=="19.2.0")throw Error(Re(527,OC,"19.2.0"));Gt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=O7(e),t=t!==null?p6(t):null,t=t===null?null:t.stateNode,t};var rB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:vt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{nA=Pm.inject(rB),Fi=Pm}catch{}}rv.createRoot=function(t,e){if(!f6(t))throw Error(Re(299));var n=!1,r="",i=BM,a=UM,o=qM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=HO(t,1,!1,null,null,n,r,null,i,a,o,KO),t[Kf]=e.current,Q5(t),new iS(e)};rv.hydrateRoot=function(t,e,n){if(!f6(t))throw Error(Re(299));var r=!1,i="",a=BM,o=UM,s=qM,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=HO(t,1,!0,e,n??null,r,i,l,a,o,s,KO),e.context=zO(null),n=e.current,r=Bi(),r=d5(r),i=Xs(r),i.callback=null,Qs(n,i,r),n=r,e.current.lanes=n,iA(e,n),po(e),t[Kf]=e.current,Q5(t),new bv(e)};rv.version="19.2.0";function JO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JO)}catch(t){console.error(t)}}JO(),i6.exports=rv;var iB=i6.exports;const aB=Wt(iB);var er=(t=>(t.POS="POS",t.Products="Products",t.Services="Services",t.Finance="Finance",t.Customers="Customers",t.Suppliers="Suppliers",t.Categories="Categories",t.Settings="Settings",t))(er||{});const oB=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M12 8v4l2 2"})]}),sB=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),h.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),h.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),lB=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("circle",{cx:"9",cy:"21",r:"1"}),h.jsx("circle",{cx:"20",cy:"21",r:"1"}),h.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),uB=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("circle",{cx:"8",cy:"8",r:"6"}),h.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),h.jsx("path",{d:"M7 6h1v4"}),h.jsx("path",{d:"m16.71 13.88.7.71-2.82 2.82-.71-.71A6 6 0 0 1 7.18 6.18"})]}),il=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ri=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),h.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),h.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),XO=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5"}),h.jsx("path",{d:"M17 9v6"}),h.jsx("path",{d:"M13 9v6"}),h.jsx("path",{d:"M9 9v6"}),h.jsx("path",{d:"M5 9v6"})]}),aS=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),h.jsx("polyline",{points:"16 17 21 12 16 7"}),h.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),oS=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2a2 2 0 0 0-2-2z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Oa=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M12 17v-10"}),h.jsx("path",{d:"M9 14l3 3 3-3"}),h.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"})]}),xv=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),h.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),sS=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),h.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),h.jsx("path",{d:"M20 8v6M23 11h-6"})]}),QO=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M10 17.5V14H3V12l4-9h11v9h-3.5"}),h.jsx("path",{d:"M10 17.5h4.5l1.9-2.9"}),h.jsx("circle",{cx:"6.5",cy:"17.5",r:"2.5"}),h.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),ZO=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),h.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),lS=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}),h.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),h.jsx("path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}),h.jsx("path",{d:"M2 7h20"}),h.jsx("path",{d:"M22 7v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7"})]}),ej=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),h.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),ha=({className:t})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:h.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})}),wv=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("circle",{cx:"12",cy:"12",r:"4"}),h.jsx("path",{d:"M12 2v2"}),h.jsx("path",{d:"M12 20v2"}),h.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),h.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),h.jsx("path",{d:"M2 12h2"}),h.jsx("path",{d:"M20 12h2"}),h.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),h.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Sv=({className:t})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:h.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),nd=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),h.jsx("polyline",{points:"12 5 19 12 12 19"})]}),rd=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),h.jsx("polyline",{points:"12 19 5 12 12 5"})]}),hA=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),h.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),h.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),jC=({className:t})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:h.jsx("path",{d:"m6 9 6 6 6-6"})}),cB=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),uS=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),fB=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),h.jsx("polyline",{points:"14 2 14 8 20 8"}),h.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),h.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),h.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),Xx=({className:t})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),h.jsx("path",{d:"m21 2-9.6 9.6"}),h.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]}),dB="modulepreload",hB=function(t){return"/goshop0.2/"+t},IC={},hl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=hB(l),l in IC)return;IC[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":dB,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((A,p)=>{f.addEventListener("load",A),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function en(t){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(t)}var Gr=Uint8Array,Li=Uint16Array,cS=Int32Array,_v=new Gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tv=new Gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Qx=new Gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tj=function(t,e){for(var n=new Li(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new cS(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},nj=tj(_v,2),rj=nj.b,Zx=nj.r;rj[28]=258,Zx[258]=28;var ij=tj(Tv,0),pB=ij.b,DC=ij.r,e2=new Li(32768);for(var En=0;En<32768;++En){var Ns=(En&43690)>>1|(En&21845)<<1;Ns=(Ns&52428)>>2|(Ns&13107)<<2,Ns=(Ns&61680)>>4|(Ns&3855)<<4,e2[En]=((Ns&65280)>>8|(Ns&255)<<8)>>1}var lo=function(t,e,n){for(var r=t.length,i=0,a=new Li(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Li(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Li(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,A=f|(1<<c)-1;f<=A;++f)s[e2[f]>>l]=u}else for(s=new Li(r),i=0;i<r;++i)t[i]&&(s[i]=e2[o[t[i]-1]++]>>15-t[i]);return s},pl=new Gr(288);for(var En=0;En<144;++En)pl[En]=8;for(var En=144;En<256;++En)pl[En]=9;for(var En=256;En<280;++En)pl[En]=7;for(var En=280;En<288;++En)pl[En]=8;var gp=new Gr(32);for(var En=0;En<32;++En)gp[En]=5;var AB=lo(pl,9,0),mB=lo(pl,9,1),gB=lo(gp,5,0),vB=lo(gp,5,1),n1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ka=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},r1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},fS=function(t){return(t+7)/8|0},aj=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Gr(t.subarray(e,n))},yB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ja=function(t,e,n){var r=new Error(e||yB[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ja),!n)throw r;return r},bB=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new Gr(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new Gr(i*3));var u=function(ce){var ue=n.length;if(ce>ue){var Me=new Gr(Math.max(ue*2,ce));Me.set(n),n=Me}},c=e.f||0,f=e.p||0,A=e.b||0,p=e.l,y=e.d,x=e.m,S=e.n,v=i*8;do{if(!p){c=ka(t,f,1);var b=ka(t,f+1,3);if(f+=3,b)if(b==1)p=mB,y=vB,x=9,S=5;else if(b==2){var k=ka(t,f,31)+257,E=ka(t,f+10,15)+4,M=k+ka(t,f+5,31)+1;f+=14;for(var I=new Gr(M),U=new Gr(19),O=0;O<E;++O)U[Qx[O]]=ka(t,f+O*3,7);f+=E*3;for(var j=n1(U),$=(1<<j)-1,F=lo(U,j,1),O=0;O<M;){var H=F[ka(t,f,$)];f+=H&15;var w=H>>4;if(w<16)I[O++]=w;else{var R=0,B=0;for(w==16?(B=3+ka(t,f,3),f+=2,R=I[O-1]):w==17?(B=3+ka(t,f,7),f+=3):w==18&&(B=11+ka(t,f,127),f+=7);B--;)I[O++]=R}}var W=I.subarray(0,k),K=I.subarray(k);x=n1(W),S=n1(K),p=lo(W,x,1),y=lo(K,S,1)}else ja(1);else{var w=fS(f)+4,T=t[w-4]|t[w-3]<<8,C=w+T;if(C>i){l&&ja(0);break}s&&u(A+T),n.set(t.subarray(w,C),A),e.b=A+=T,e.p=f=C*8,e.f=c;continue}if(f>v){l&&ja(0);break}}s&&u(A+131072);for(var Z=(1<<x)-1,se=(1<<S)-1,L=f;;L=f){var R=p[r1(t,f)&Z],z=R>>4;if(f+=R&15,f>v){l&&ja(0);break}if(R||ja(2),z<256)n[A++]=z;else if(z==256){L=f,p=null;break}else{var Q=z-254;if(z>264){var O=z-257,te=_v[O];Q=ka(t,f,(1<<te)-1)+rj[O],f+=te}var ae=y[r1(t,f)&se],me=ae>>4;ae||ja(3),f+=ae&15;var K=pB[me];if(me>3){var te=Tv[me];K+=r1(t,f)&(1<<te)-1,f+=te}if(f>v){l&&ja(0);break}s&&u(A+131072);var he=A+Q;if(A<K){var G=a-K,le=Math.min(K,he);for(G+A<0&&ja(3);A<le;++A)n[A]=r[G+A]}for(;A<he;++A)n[A]=n[A-K]}}e.l=p,e.p=L,e.b=A,e.f=c,p&&(c=1,e.m=x,e.d=y,e.n=S)}while(!c);return A!=n.length&&o?aj(n,0,A):n.subarray(0,A)},jo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},oh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},i1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:sj,l:0};if(i==1){var o=new Gr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,k){return C.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var A=a[0].s,r=1;r<i;++r)a[r].s>A&&(A=a[r].s);var p=new Li(A+1),y=t2(n[c-1],p,0);if(y>e){var r=0,x=0,S=y-e,v=1<<S;for(a.sort(function(k,E){return p[E.s]-p[k.s]||k.f-E.f});r<i;++r){var b=a[r].s;if(p[b]>e)x+=v-(1<<y-p[b]),p[b]=e;else break}for(x>>=S;x>0;){var w=a[r].s;p[w]<e?x-=1<<e-p[w]++-1:++r}for(;r>=0&&x;--r){var T=a[r].s;p[T]==e&&(--p[T],++x)}y=e}return{t:new Gr(p),l:y}},t2=function(t,e,n){return t.s==-1?Math.max(t2(t.l,e,n+1),t2(t.r,e,n+1)):e[t.s]=n},LC=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Li(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},sh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},oj=function(t,e,n){var r=n.length,i=fS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},RC=function(t,e,n,r,i,a,o,s,l,u,c){jo(e,c++,n),++i[256];for(var f=i1(i,15),A=f.t,p=f.l,y=i1(a,15),x=y.t,S=y.l,v=LC(A),b=v.c,w=v.n,T=LC(x),C=T.c,k=T.n,E=new Li(19),M=0;M<b.length;++M)++E[b[M]&31];for(var M=0;M<C.length;++M)++E[C[M]&31];for(var I=i1(E,7),U=I.t,O=I.l,j=19;j>4&&!U[Qx[j-1]];--j);var $=u+5<<3,F=sh(i,pl)+sh(a,gp)+o,H=sh(i,A)+sh(a,x)+o+14+3*j+sh(E,U)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&$<=F&&$<=H)return oj(e,c,t.subarray(l,l+u));var R,B,W,K;if(jo(e,c,1+(H<F)),c+=2,H<F){R=lo(A,p,0),B=A,W=lo(x,S,0),K=x;var Z=lo(U,O,0);jo(e,c,w-257),jo(e,c+5,k-1),jo(e,c+10,j-4),c+=14;for(var M=0;M<j;++M)jo(e,c+3*M,U[Qx[M]]);c+=3*j;for(var se=[b,C],L=0;L<2;++L)for(var z=se[L],M=0;M<z.length;++M){var Q=z[M]&31;jo(e,c,Z[Q]),c+=U[Q],Q>15&&(jo(e,c,z[M]>>5&127),c+=z[M]>>12)}}else R=AB,B=pl,W=gB,K=gp;for(var M=0;M<s;++M){var te=r[M];if(te>255){var Q=te>>18&31;oh(e,c,R[Q+257]),c+=B[Q+257],Q>7&&(jo(e,c,te>>23&31),c+=_v[Q]);var ae=te&31;oh(e,c,W[ae]),c+=K[ae],ae>3&&(oh(e,c,te>>5&8191),c+=Tv[ae])}else oh(e,c,R[te]),c+=B[te]}return oh(e,c,R[256]),c+B[256]},xB=new cS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sj=new Gr(0),wB=function(t,e,n,r,i,a){var o=a.z||t.length,s=new Gr(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=xB[e-1],A=f>>13,p=f&8191,y=(1<<n)-1,x=a.p||new Li(32768),S=a.h||new Li(y+1),v=Math.ceil(n/3),b=2*v,w=function(De){return(t[De]^t[De+1]<<v^t[De+2]<<b)&y},T=new cS(25e3),C=new Li(288),k=new Li(32),E=0,M=0,I=a.i||0,U=0,O=a.w||0,j=0;I+2<o;++I){var $=w(I),F=I&32767,H=S[$];if(x[F]=H,S[$]=F,O<=I){var R=o-I;if((E>7e3||U>24576)&&(R>423||!u)){c=RC(t,l,0,T,C,k,M,U,j,I-j,c),U=E=M=0,j=I;for(var B=0;B<286;++B)C[B]=0;for(var B=0;B<30;++B)k[B]=0}var W=2,K=0,Z=p,se=F-H&32767;if(R>2&&$==w(I-se))for(var L=Math.min(A,R)-1,z=Math.min(32767,I),Q=Math.min(258,R);se<=z&&--Z&&F!=H;){if(t[I+W]==t[I+W-se]){for(var te=0;te<Q&&t[I+te]==t[I+te-se];++te);if(te>W){if(W=te,K=se,te>L)break;for(var ae=Math.min(se,te-2),me=0,B=0;B<ae;++B){var he=I-se+B&32767,G=x[he],le=he-G&32767;le>me&&(me=le,H=he)}}}F=H,H=x[F],se+=F-H&32767}if(K){T[U++]=268435456|Zx[W]<<18|DC[K];var ce=Zx[W]&31,ue=DC[K]&31;M+=_v[ce]+Tv[ue],++C[257+ce],++k[ue],O=I+W,++E}else T[U++]=t[I],++C[t[I]]}}for(I=Math.max(I,O);I<o;++I)T[U++]=t[I],++C[t[I]];c=RC(t,l,u,T,C,k,M,U,j,I-j,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=S,a.p=x,a.i=I,a.w=O)}else{for(var I=a.w||0;I<o+u;I+=65535){var Me=I+65535;Me>=o&&(l[c/8|0]=u,Me=o),c=oj(l,c+1,t.subarray(I,Me))}a.i=o}return aj(s,0,r+fS(c)+i)},lj=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},SB=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Gr(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return wB(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},uj=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},_B=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=lj();i.p(e.dictionary),uj(t,2,i.d())}},TB=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ja(6,"invalid zlib data"),(t[1]>>5&1)==1&&ja(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function n2(t,e){e||(e={});var n=lj();n.p(t);var r=SB(t,e,e.dictionary?6:2,4);return _B(r,e),uj(r,r.length-4,n.d()),r}function CB(t,e){return bB(t.subarray(TB(t),-4),{i:2},e,e)}var NB=typeof TextDecoder<"u"&&new TextDecoder,EB=0;try{NB.decode(sj,{stream:!0}),EB=1}catch{}var mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function a1(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var dn={log:a1,warn:function(t){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):a1.call(null,arguments))},error:function(t){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):a1(t))}};function o1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){zl(r.response,e,n)},r.onerror=function(){dn.error("could not download file")},r.send()}function FC(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Mm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qh,r2,zl=mt.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=mt.URL||mt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?FC(i.href)?o1(t,e,n):Mm(i,i.target="_blank"):Mm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Mm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(FC(t))o1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Mm(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:en(a)!=="object"&&(dn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return o1(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(mt.HTMLElement)||mt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=mt.URL||mt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function cj(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s1(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Br(n,r,i,a,e[0],7,-680876936),a=Br(a,n,r,i,e[1],12,-389564586),i=Br(i,a,n,r,e[2],17,606105819),r=Br(r,i,a,n,e[3],22,-1044525330),n=Br(n,r,i,a,e[4],7,-176418897),a=Br(a,n,r,i,e[5],12,1200080426),i=Br(i,a,n,r,e[6],17,-1473231341),r=Br(r,i,a,n,e[7],22,-45705983),n=Br(n,r,i,a,e[8],7,1770035416),a=Br(a,n,r,i,e[9],12,-1958414417),i=Br(i,a,n,r,e[10],17,-42063),r=Br(r,i,a,n,e[11],22,-1990404162),n=Br(n,r,i,a,e[12],7,1804603682),a=Br(a,n,r,i,e[13],12,-40341101),i=Br(i,a,n,r,e[14],17,-1502002290),n=Ur(n,r=Br(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ur(a,n,r,i,e[6],9,-1069501632),i=Ur(i,a,n,r,e[11],14,643717713),r=Ur(r,i,a,n,e[0],20,-373897302),n=Ur(n,r,i,a,e[5],5,-701558691),a=Ur(a,n,r,i,e[10],9,38016083),i=Ur(i,a,n,r,e[15],14,-660478335),r=Ur(r,i,a,n,e[4],20,-405537848),n=Ur(n,r,i,a,e[9],5,568446438),a=Ur(a,n,r,i,e[14],9,-1019803690),i=Ur(i,a,n,r,e[3],14,-187363961),r=Ur(r,i,a,n,e[8],20,1163531501),n=Ur(n,r,i,a,e[13],5,-1444681467),a=Ur(a,n,r,i,e[2],9,-51403784),i=Ur(i,a,n,r,e[7],14,1735328473),n=qr(n,r=Ur(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=qr(a,n,r,i,e[8],11,-2022574463),i=qr(i,a,n,r,e[11],16,1839030562),r=qr(r,i,a,n,e[14],23,-35309556),n=qr(n,r,i,a,e[1],4,-1530992060),a=qr(a,n,r,i,e[4],11,1272893353),i=qr(i,a,n,r,e[7],16,-155497632),r=qr(r,i,a,n,e[10],23,-1094730640),n=qr(n,r,i,a,e[13],4,681279174),a=qr(a,n,r,i,e[0],11,-358537222),i=qr(i,a,n,r,e[3],16,-722521979),r=qr(r,i,a,n,e[6],23,76029189),n=qr(n,r,i,a,e[9],4,-640364487),a=qr(a,n,r,i,e[12],11,-421815835),i=qr(i,a,n,r,e[15],16,530742520),n=Hr(n,r=qr(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Hr(a,n,r,i,e[7],10,1126891415),i=Hr(i,a,n,r,e[14],15,-1416354905),r=Hr(r,i,a,n,e[5],21,-57434055),n=Hr(n,r,i,a,e[12],6,1700485571),a=Hr(a,n,r,i,e[3],10,-1894986606),i=Hr(i,a,n,r,e[10],15,-1051523),r=Hr(r,i,a,n,e[1],21,-2054922799),n=Hr(n,r,i,a,e[8],6,1873313359),a=Hr(a,n,r,i,e[15],10,-30611744),i=Hr(i,a,n,r,e[6],15,-1560198380),r=Hr(r,i,a,n,e[13],21,1309151649),n=Hr(n,r,i,a,e[4],6,-145523070),a=Hr(a,n,r,i,e[11],10,-1120210379),i=Hr(i,a,n,r,e[2],15,718787259),r=Hr(r,i,a,n,e[9],21,-343485551),t[0]=Ws(n,t[0]),t[1]=Ws(r,t[1]),t[2]=Ws(i,t[2]),t[3]=Ws(a,t[3])}function Cv(t,e,n,r,i,a){return e=Ws(Ws(e,t),Ws(r,a)),Ws(e<<i|e>>>32-i,n)}function Br(t,e,n,r,i,a,o){return Cv(e&n|~e&r,t,e,i,a,o)}function Ur(t,e,n,r,i,a,o){return Cv(e&r|n&~r,t,e,i,a,o)}function qr(t,e,n,r,i,a,o){return Cv(e^n^r,t,e,i,a,o)}function Hr(t,e,n,r,i,a,o){return Cv(n^(e|~r),t,e,i,a,o)}function fj(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)s1(r,kB(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(s1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,s1(r,i),r}function kB(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}qh=mt.atob.bind(mt),r2=mt.btoa.bind(mt);var $C="0123456789abcdef".split("");function PB(t){for(var e="",n=0;n<4;n++)e+=$C[t>>8*n+4&15]+$C[t>>8*n&15];return e}function MB(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function i2(t){return fj(t).map(MB).join("")}var OB=function(t){for(var e=0;e<t.length;e++)t[e]=PB(t[e]);return t.join("")}(fj("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ws(t,e){if(OB){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function a2(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,A=0,p=0,y="";for(l=0;l<f;l++)p=(p+(c=s[A=(A+1)%256]))%256,s[A]=s[p],s[p]=c,o=s[(s[A]+s[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BC={print:4,modify:8,copy:16,"annot-forms":32};function kc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(BC.perm!==void 0)throw new Error("Invalid permission: "+s);i+=BC[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=i2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=a2(this.encryptionKey,this.padding)}function Pc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function UC(t){if(en(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){mt.console&&dn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function vp(t){if(!(this instanceof vp))return new vp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function dj(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function $s(t,e,n,r,i){if(!(this instanceof $s))return new $s(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,dj.call(this,r,i)}function Ql(t,e,n,r,i){if(!(this instanceof Ql))return new Ql(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,dj.call(this,r,i)}function lt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;en(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,A={},p={internal:{},__private__:{}};p.__private__.PubSub=UC;var y="1.3",x=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(N){y=N};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var v=p.__private__.getPageFormat=function(N){return S[N]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function T(){this.saveGraphicsState(),ne(new Ke(We,0,0,-We,0,ps()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),u="n",w=b.ADVANCED}function C(){this.restoreGraphicsState(),u="S",w=b.COMPAT}var k=p.__private__.combineFontStyleAndFontWeight=function(N,V){if(N=="bold"&&V=="normal"||N=="bold"&&V==400||N=="normal"&&V=="italic"||N=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(N=V==400||V==="normal"?N==="italic"?"italic":"normal":V!=700&&V!=="bold"||N!=="normal"?(V==700?"bold":V)+""+N:"bold"),N};p.advancedAPI=function(N){var V=w===b.COMPAT;return V&&T.call(this),typeof N!="function"||(N(this),V&&C.call(this)),this},p.compatAPI=function(N){var V=w===b.ADVANCED;return V&&C.call(this),typeof N!="function"||(N(this),V&&T.call(this)),this},p.isAdvancedAPI=function(){return w===b.ADVANCED};var E,M=function(N){if(w!==b.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(N,V){var oe=e||V;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,16)};var U=p.f2=p.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return I(N,2)},O=p.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return I(N,3)},j=p.scale=p.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?N*We:w===b.ADVANCED?N:void 0},$=function(N){return w===b.COMPAT?ps()-N:w===b.ADVANCED?N:void 0},F=function(N){return j($(N))};p.__private__.setPrecision=p.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var H,R="00000000000000000000000000000000",B=p.__private__.getFileId=function(){return R},W=p.__private__.setFileId=function(N){return R=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Fr=new kc(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};p.setFileId=function(N){return W(N),this},p.getFileId=function(){return B()};var K=p.__private__.convertDateToPDFDate=function(N){var V=N.getTimezoneOffset(),oe=V<0?"+":"-",fe=Math.floor(Math.abs(V/60)),we=Math.abs(V%60),je=[oe,Q(fe),"'",Q(we),"'"].join("");return["D:",N.getFullYear(),Q(N.getMonth()+1),Q(N.getDate()),Q(N.getHours()),Q(N.getMinutes()),Q(N.getSeconds()),je].join("")},Z=p.__private__.convertPDFDateToDate=function(N){var V=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,fe=parseInt(N.substr(8,2),10),we=parseInt(N.substr(10,2),10),je=parseInt(N.substr(12,2),10),qe=parseInt(N.substr(14,2),10);return new Date(V,oe,fe,we,je,qe,0)},se=p.__private__.setCreationDate=function(N){var V;if(N===void 0&&(N=new Date),N instanceof Date)V=K(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=N}return H=V},L=p.__private__.getCreationDate=function(N){var V=H;return N==="jsDate"&&(V=Z(H)),V};p.setCreationDate=function(N){return se(N),this},p.getCreationDate=function(N){return L(N)};var z,Q=p.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},te=p.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},ae=0,me=[],he=[],G=0,le=[],ce=[],ue=!1,Me=he,De=function(){ae=0,G=0,he=[],me=[],le=[],yo=In(),ba=In()};p.__private__.setCustomOutputDestination=function(N){ue=!0,Me=N};var Ce=function(N){ue||(Me=N)};p.__private__.resetCustomOutputDestination=function(){ue=!1,Me=he};var ne=p.__private__.out=function(N){return N=N.toString(),G+=N.length+1,Me.push(N),Me},Ne=p.__private__.write=function(N){return ne(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ee=p.__private__.getArrayBuffer=function(N){for(var V=N.length,oe=new ArrayBuffer(V),fe=new Uint8Array(oe);V--;)fe[V]=N.charCodeAt(V);return oe},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return xe};var Pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(N){return Pe=w===b.ADVANCED?N/We:N,this};var ye,ke=p.__private__.getFontSize=p.getFontSize=function(){return w===b.COMPAT?Pe:Pe*We},be=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(N){return be=N,this},p.__private__.getR2L=p.getR2L=function(){return be};var Ve,Ge=p.__private__.setZoomMode=function(N){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))ye=N;else if(isNaN(N)){if(V.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');ye=N}else ye=parseInt(N,10)};p.__private__.getZoomMode=function(){return ye};var at,He=p.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ve=N};p.__private__.getPageMode=function(){return Ve};var ft=p.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');at=N};p.__private__.getLayoutMode=function(){return at},p.__private__.setDisplayMode=p.setDisplayMode=function(N,V,oe){return Ge(N),ft(V),He(oe),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(N){if(Object.keys(Ze).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[N]},p.__private__.getDocumentProperties=function(){return Ze},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(N){for(var V in Ze)Ze.hasOwnProperty(V)&&N[V]&&(Ze[V]=N[V]);return this},p.__private__.setDocumentProperty=function(N,V){if(Object.keys(Ze).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[N]=V};var ht,We,ln,Pt,Se,Be={},nt={},At=[],ot={},An={},Et={},lr={},ai=null,un=0,ut=[],jt=new UC(p),oi=t.hotfixes||[],qn={},ur={},ze=[],Ke=function N(V,oe,fe,we,je,qe){if(!(this instanceof N))return new N(V,oe,fe,we,je,qe);isNaN(V)&&(V=1),isNaN(oe)&&(oe=0),isNaN(fe)&&(fe=0),isNaN(we)&&(we=1),isNaN(je)&&(je=0),isNaN(qe)&&(qe=0),this._matrix=[V,oe,fe,we,je,qe]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(N)},Ke.prototype.multiply=function(N){var V=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,fe=N.shx*this.sx+N.sy*this.shx,we=N.shx*this.shy+N.sy*this.sy,je=N.tx*this.sx+N.ty*this.shx+this.tx,qe=N.tx*this.shy+N.ty*this.sy+this.ty;return new Ke(V,oe,fe,we,je,qe)},Ke.prototype.decompose=function(){var N=this.sx,V=this.shy,oe=this.shx,fe=this.sy,we=this.tx,je=this.ty,qe=Math.sqrt(N*N+V*V),Qe=(N/=qe)*oe+(V/=qe)*fe;oe-=N*Qe,fe-=V*Qe;var st=Math.sqrt(oe*oe+fe*fe);return Qe/=st,N*(fe/=st)<V*(oe/=st)&&(N=-N,V=-V,Qe=-Qe,qe=-qe),{scale:new Ke(qe,0,0,st,0,0),translate:new Ke(1,0,0,1,we,je),rotate:new Ke(N,V,-V,N,0,0),skew:new Ke(1,0,Qe,1,0,0)}},Ke.prototype.toString=function(N){return this.join(" ")},Ke.prototype.inversed=function(){var N=this.sx,V=this.shy,oe=this.shx,fe=this.sy,we=this.tx,je=this.ty,qe=1/(N*fe-V*oe),Qe=fe*qe,st=-V*qe,St=-oe*qe,xt=N*qe;return new Ke(Qe,st,St,xt,-Qe*we-St*je,-st*we-xt*je)},Ke.prototype.applyToPoint=function(N){var V=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new Qu(V,oe)},Ke.prototype.applyToRectangle=function(N){var V=this.applyToPoint(N),oe=this.applyToPoint(new Qu(N.x+N.w,N.y+N.h));return new jd(V.x,V.y,oe.x-V.x,oe.y-V.y)},Ke.prototype.clone=function(){var N=this.sx,V=this.shy,oe=this.shx,fe=this.sy,we=this.tx,je=this.ty;return new Ke(N,V,oe,fe,we,je)},p.Matrix=Ke;var nn=p.matrixMult=function(N,V){return V.multiply(N)},br=new Ke(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=br;var cn=function(N,V){if(!An[N]){var oe=(V instanceof $s?"Sh":"P")+(Object.keys(ot).length+1).toString(10);V.id=oe,An[N]=oe,ot[oe]=V,jt.publish("addPattern",V)}};p.ShadingPattern=$s,p.TilingPattern=Ql,p.addShadingPattern=function(N,V){return M("addShadingPattern()"),cn(N,V),this},p.beginTilingPattern=function(N){M("beginTilingPattern()"),HA(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},p.endTilingPattern=function(N,V){M("endTilingPattern()"),V.stream=ce[z].join(`
`),cn(N,V),jt.publish("endTilingPattern",V),ze.pop().restore()};var jn=p.__private__.newObject=function(){var N=In();return Ft(N,!0),N},In=p.__private__.newObjectDeferred=function(){return ae++,me[ae]=function(){return G},ae},Ft=function(N,V){return V=typeof V=="boolean"&&V,me[N]=G,V&&ne(N+" 0 obj"),N},Ga=p.__private__.newAdditionalObject=function(){var N={objId:In(),content:""};return le.push(N),N},yo=In(),ba=In(),xa=p.__private__.decodeColorString=function(N){var V=N.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var oe=parseFloat(V[0]);V=[oe,oe,oe,"r"]}for(var fe="#",we=0;we<3;we++)fe+=("0"+Math.floor(255*parseFloat(V[we])).toString(16)).slice(-2);return fe},wa=p.__private__.encodeColorString=function(N){var V;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,fe=N.ch2,we=N.ch3,je=N.ch4,qe=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var Qe=new cj(oe);if(Qe.ok)oe=Qe.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var st=parseInt(oe.substr(1),16);oe=st>>16&255,fe=st>>8&255,we=255&st}if(fe===void 0||je===void 0&&oe===fe&&fe===we)if(typeof oe=="string")V=oe+" "+qe[0];else switch(N.precision){case 2:V=U(oe/255)+" "+qe[0];break;case 3:default:V=O(oe/255)+" "+qe[0]}else if(je===void 0||en(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return V=["1.","1.","1.",qe[1]].join(" ");if(typeof oe=="string")V=[oe,fe,we,qe[1]].join(" ");else switch(N.precision){case 2:V=[U(oe/255),U(fe/255),U(we/255),qe[1]].join(" ");break;default:case 3:V=[O(oe/255),O(fe/255),O(we/255),qe[1]].join(" ")}}else if(typeof oe=="string")V=[oe,fe,we,je,qe[2]].join(" ");else switch(N.precision){case 2:V=[U(oe),U(fe),U(we),U(je),qe[2]].join(" ");break;case 3:default:V=[O(oe),O(fe),O(we),O(je),qe[2]].join(" ")}return V},Wa=p.__private__.getFilters=function(){return o},zi=p.__private__.putStream=function(N){var V=(N=N||{}).data||"",oe=N.filters||Wa(),fe=N.alreadyAppliedFilters||[],we=N.addLength1||!1,je=V.length,qe=N.objectId,Qe=function($r){return $r};if(c!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Qe=Fr.encryptor(qe,0));var st={};oe===!0&&(oe=["FlateEncode"]);var St=N.additionalKeyValues||[],xt=(st=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(V,oe):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(st.data.length!==0&&(St.push({key:"Length",value:st.data.length}),we===!0&&St.push({key:"Length1",value:je})),xt.length!=0)if(xt.split("/").length-1==1)St.push({key:"Filter",value:xt});else{St.push({key:"Filter",value:"["+xt+"]"});for(var Bt=0;Bt<St.length;Bt+=1)if(St[Bt].key==="DecodeParms"){for(var Dn=[],Ln=0;Ln<st.reverseChain.split("/").length-1;Ln+=1)Dn.push("null");Dn.push(St[Bt].value),St[Bt].value="["+Dn.join(" ")+"]"}}ne("<<");for(var Xn=0;Xn<St.length;Xn++)ne("/"+St[Xn].key+" "+St[Xn].value);ne(">>"),st.data.length!==0&&(ne("stream"),ne(Qe(st.data)),ne("endstream"))},Ya=p.__private__.putPage=function(N){var V=N.number,oe=N.data,fe=N.objId,we=N.contentsObjId;Ft(fe,!0),ne("<</Type /Page"),ne("/Parent "+N.rootDictionaryObjId+" 0 R"),ne("/Resources "+N.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(E(N.mediaBox.bottomLeftX))+" "+parseFloat(E(N.mediaBox.bottomLeftY))+" "+E(N.mediaBox.topRightX)+" "+E(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ne("/CropBox ["+E(N.cropBox.bottomLeftX)+" "+E(N.cropBox.bottomLeftY)+" "+E(N.cropBox.topRightX)+" "+E(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ne("/BleedBox ["+E(N.bleedBox.bottomLeftX)+" "+E(N.bleedBox.bottomLeftY)+" "+E(N.bleedBox.topRightX)+" "+E(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ne("/TrimBox ["+E(N.trimBox.bottomLeftX)+" "+E(N.trimBox.bottomLeftY)+" "+E(N.trimBox.topRightX)+" "+E(N.trimBox.topRightY)+"]"),N.artBox!==null&&ne("/ArtBox ["+E(N.artBox.bottomLeftX)+" "+E(N.artBox.bottomLeftY)+" "+E(N.artBox.topRightX)+" "+E(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ne("/UserUnit "+N.userUnit),jt.publish("putPage",{objId:fe,pageContext:ut[V],pageNumber:V,page:oe}),ne("/Contents "+we+" 0 R"),ne(">>"),ne("endobj");var je=oe.join(`
`);return w===b.ADVANCED&&(je+=`
Q`),Ft(we,!0),zi({data:je,filters:Wa(),objectId:we}),ne("endobj"),fe},Sl=p.__private__.putPages=function(){var N,V,oe=[];for(N=1;N<=un;N++)ut[N].objId=In(),ut[N].contentsObjId=In();for(N=1;N<=un;N++)oe.push(Ya({number:N,data:ce[N],objId:ut[N].objId,contentsObjId:ut[N].contentsObjId,mediaBox:ut[N].mediaBox,cropBox:ut[N].cropBox,bleedBox:ut[N].bleedBox,trimBox:ut[N].trimBox,artBox:ut[N].artBox,userUnit:ut[N].userUnit,rootDictionaryObjId:yo,resourceDictionaryObjId:ba}));Ft(yo,!0),ne("<</Type /Pages");var fe="/Kids [";for(V=0;V<un;V++)fe+=oe[V]+" 0 R ";ne(fe+"]"),ne("/Count "+un),ne(">>"),ne("endobj"),jt.publish("postPutPages")},Bu=function(N){jt.publish("putFont",{font:N,out:ne,newObject:jn,putStream:zi}),N.isAlreadyPutted!==!0&&(N.objectNumber=jn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Pc(N.postScriptName)),ne("/Subtype /Type1"),typeof N.encoding=="string"&&ne("/Encoding /"+N.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Uu=function(){for(var N in Be)Be.hasOwnProperty(N)&&(f===!1||f===!0&&A.hasOwnProperty(N))&&Bu(Be[N])},qu=function(N){N.objectNumber=jn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[E(N.x),E(N.y),E(N.x+N.width),E(N.y+N.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);zi({data:oe,additionalKeyValues:V,objectId:N.objectNumber}),ne("endobj")},Hu=function(){for(var N in qn)qn.hasOwnProperty(N)&&qu(qn[N])},TA=function(N,V){var oe,fe=[],we=1/(V-1);for(oe=0;oe<1;oe+=we)fe.push(oe);if(fe.push(1),N[0].offset!=0){var je={offset:0,color:N[0].color};N.unshift(je)}if(N[N.length-1].offset!=1){var qe={offset:1,color:N[N.length-1].color};N.push(qe)}for(var Qe="",st=0,St=0;St<fe.length;St++){for(oe=fe[St];oe>N[st+1].offset;)st++;var xt=N[st].offset,Bt=(oe-xt)/(N[st+1].offset-xt),Dn=N[st].color,Ln=N[st+1].color;Qe+=te(Math.round((1-Bt)*Dn[0]+Bt*Ln[0]).toString(16))+te(Math.round((1-Bt)*Dn[1]+Bt*Ln[1]).toString(16))+te(Math.round((1-Bt)*Dn[2]+Bt*Ln[2]).toString(16))}return Qe.trim()},My=function(N,V){V||(V=21);var oe=jn(),fe=TA(N.colors,V),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+V+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zi({data:fe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ne("endobj"),N.objectNumber=jn(),ne("<< /ShadingType "+N.type),ne("/ColorSpace /DeviceRGB");var je="/Coords ["+E(parseFloat(N.coords[0]))+" "+E(parseFloat(N.coords[1]))+" ";N.type===2?je+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3])):je+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3]))+" "+E(parseFloat(N.coords[4]))+" "+E(parseFloat(N.coords[5])),ne(je+="]"),N.matrix&&ne("/Matrix ["+N.matrix.toString()+"]"),ne("/Function "+oe+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Oy=function(N,V){var oe=In(),fe=jn();V.push({resourcesOid:oe,objectOid:fe}),N.objectNumber=fe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+N.boundingBox.map(E).join(" ")+"]"}),we.push({key:"XStep",value:E(N.xStep)}),we.push({key:"YStep",value:E(N.yStep)}),we.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&we.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),zi({data:N.stream,additionalKeyValues:we,objectId:N.objectNumber}),ne("endobj")},zu=function(N){var V;for(V in ot)ot.hasOwnProperty(V)&&(ot[V]instanceof $s?My(ot[V]):ot[V]instanceof Ql&&Oy(ot[V],N))},CA=function(N){for(var V in N.objectNumber=jn(),ne("<<"),N)switch(V){case"opacity":ne("/ca "+U(N[V]));break;case"stroke-opacity":ne("/CA "+U(N[V]))}ne(">>"),ne("endobj")},jy=function(){var N;for(N in Et)Et.hasOwnProperty(N)&&CA(Et[N])},Sd=function(){for(var N in ne("/XObject <<"),qn)qn.hasOwnProperty(N)&&qn[N].objectNumber>=0&&ne("/"+N+" "+qn[N].objectNumber+" 0 R");jt.publish("putXobjectDict"),ne(">>")},Iy=function(){Fr.oid=jn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Fr.v),ne("/R "+Fr.r),ne("/U <"+Fr.toHexString(Fr.U)+">"),ne("/O <"+Fr.toHexString(Fr.O)+">"),ne("/P "+Fr.P),ne(">>"),ne("endobj")},NA=function(){for(var N in ne("/Font <<"),Be)Be.hasOwnProperty(N)&&(f===!1||f===!0&&A.hasOwnProperty(N))&&ne("/"+N+" "+Be[N].objectNumber+" 0 R");ne(">>")},Dy=function(){if(Object.keys(ot).length>0){for(var N in ne("/Shading <<"),ot)ot.hasOwnProperty(N)&&ot[N]instanceof $s&&ot[N].objectNumber>=0&&ne("/"+N+" "+ot[N].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),ne(">>")}},Vu=function(N){if(Object.keys(ot).length>0){for(var V in ne("/Pattern <<"),ot)ot.hasOwnProperty(V)&&ot[V]instanceof p.TilingPattern&&ot[V].objectNumber>=0&&ot[V].objectNumber<N&&ne("/"+V+" "+ot[V].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),ne(">>")}},Ly=function(){if(Object.keys(Et).length>0){var N;for(N in ne("/ExtGState <<"),Et)Et.hasOwnProperty(N)&&Et[N].objectNumber>=0&&ne("/"+N+" "+Et[N].objectNumber+" 0 R");jt.publish("putGStateDict"),ne(">>")}},Hn=function(N){Ft(N.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),NA(),Dy(),Vu(N.objectOid),Ly(),Sd(),ne(">>"),ne("endobj")},EA=function(){var N=[];Uu(),jy(),Hu(),zu(N),jt.publish("putResources"),N.forEach(Hn),Hn({resourcesOid:ba,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},kA=function(){jt.publish("putAdditionalObjects");for(var N=0;N<le.length;N++){var V=le[N];Ft(V.objId,!0),ne(V.content),ne("endobj")}jt.publish("postPutAdditionalObjects")},PA=function(N){nt[N.fontName]=nt[N.fontName]||{},nt[N.fontName][N.fontStyle]=N.id},_d=function(N,V,oe,fe,we){var je={id:"F"+(Object.keys(Be).length+1).toString(10),postScriptName:N,fontName:V,fontStyle:oe,encoding:fe,isStandardFont:we||!1,metadata:{}};return jt.publish("addFont",{font:je,instance:this}),Be[je.id]=je,PA(je),je.id},Ry=function(N){for(var V=0,oe=xe.length;V<oe;V++){var fe=_d.call(this,N[V][0],N[V][1],N[V][2],xe[V][3],!0);f===!1&&(A[fe]=!0);var we=N[V][0].split("-");PA({id:fe,fontName:we[0],fontStyle:we[1]||""})}jt.publish("addFonts",{fonts:Be,dictionary:nt})},Sa=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(fe){var V=fe.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var oe="Error in function "+V.split(`
`)[0].split("<")[0]+": "+fe.message;if(!mt.console)throw new Error(oe);mt.console.error(oe,fe),mt.alert&&alert(oe)}},N.foo.bar=N,N.foo},Gu=function(N,V){var oe,fe,we,je,qe,Qe,st,St,xt;if(we=(V=V||{}).sourceEncoding||"Unicode",qe=V.outputEncoding,(V.autoencode||qe)&&Be[ht].metadata&&Be[ht].metadata[we]&&Be[ht].metadata[we].encoding&&(je=Be[ht].metadata[we].encoding,!qe&&Be[ht].encoding&&(qe=Be[ht].encoding),!qe&&je.codePages&&(qe=je.codePages[0]),typeof qe=="string"&&(qe=je[qe]),qe)){for(st=!1,Qe=[],oe=0,fe=N.length;oe<fe;oe++)(St=qe[N.charCodeAt(oe)])?Qe.push(String.fromCharCode(St)):Qe.push(N[oe]),Qe[oe].charCodeAt(0)>>8&&(st=!0);N=Qe.join("")}for(oe=N.length;st===void 0&&oe!==0;)N.charCodeAt(oe-1)>>8&&(st=!0),oe--;if(!st)return N;for(Qe=V.noBOM?[]:[254,255],oe=0,fe=N.length;oe<fe;oe++){if((xt=(St=N.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qe.push(xt),Qe.push(St-(xt<<8))}return String.fromCharCode.apply(void 0,Qe)},si=p.__private__.pdfEscape=p.pdfEscape=function(N,V){return Gu(N,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Td=p.__private__.beginPage=function(N){ce[++un]=[],ut[un]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},OA(un),Ce(ce[z])},MA=function(N,V){var oe,fe,we;switch(n=V||n,typeof N=="string"&&(oe=v(N.toLowerCase()),Array.isArray(oe)&&(fe=oe[0],we=oe[1])),Array.isArray(N)&&(fe=N[0]*We,we=N[1]*We),isNaN(fe)&&(fe=i[0],we=i[1]),(fe>14400||we>14400)&&(dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),we=Math.min(14400,we)),i=[fe,we],n.substr(0,1)){case"l":we>fe&&(i=[we,fe]);break;case"p":fe>we&&(i=[we,fe])}Td(i),FA(kd),ne(_a),Md!==0&&ne(Md+" J"),Od!==0&&ne(Od+" j"),jt.publish("addPage",{pageNumber:un})},Fy=function(N){N>0&&N<=un&&(ce.splice(N,1),ut.splice(N,1),un--,z>un&&(z=un),this.setPage(z))},OA=function(N){N>0&&N<=un&&(z=N)},$y=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ce.length-1},jA=function(N,V,oe){var fe,we=void 0;return oe=oe||{},N=N!==void 0?N:Be[ht].fontName,V=V!==void 0?V:Be[ht].fontStyle,fe=N.toLowerCase(),nt[fe]!==void 0&&nt[fe][V]!==void 0?we=nt[fe][V]:nt[N]!==void 0&&nt[N][V]!==void 0?we=nt[N][V]:oe.disableWarning===!1&&dn.warn("Unable to look up font label for font '"+N+"', '"+V+"'. Refer to getFontList() for available fonts."),we||oe.noFallback||(we=nt.times[V])==null&&(we=nt.times.normal),we},By=p.__private__.putInfo=function(){var N=jn(),V=function(fe){return fe};for(var oe in c!==null&&(V=Fr.encryptor(N,0)),ne("<<"),ne("/Producer ("+si(V("jsPDF "+lt.version))+")"),Ze)Ze.hasOwnProperty(oe)&&Ze[oe]&&ne("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+si(V(Ze[oe]))+")");ne("/CreationDate ("+si(V(H))+")"),ne(">>"),ne("endobj")},Cd=p.__private__.putCatalog=function(N){var V=(N=N||{}).rootDictionaryObjId||yo;switch(jn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+V+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+ye;oe.substr(oe.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+U(ye)+"]")}switch(at||(at="continuous"),at){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Ve&&ne("/PageMode /"+Ve),jt.publish("putCatalog"),ne(">>"),ne("endobj")},Uy=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ae+1)),ne("/Root "+ae+" 0 R"),ne("/Info "+(ae-1)+" 0 R"),c!==null&&ne("/Encrypt "+Fr.oid+" 0 R"),ne("/ID [ <"+R+"> <"+R+"> ]"),ne(">>")},qy=p.__private__.putHeader=function(){ne("%PDF-"+y),ne("%")},Hy=p.__private__.putXRef=function(){var N="0000000000";ne("xref"),ne("0 "+(ae+1)),ne("0000000000 65535 f ");for(var V=1;V<=ae;V++)typeof me[V]=="function"?ne((N+me[V]()).slice(-10)+" 00000 n "):me[V]!==void 0?ne((N+me[V]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},bo=p.__private__.buildDocument=function(){De(),Ce(he),jt.publish("buildDocument"),qy(),Sl(),kA(),EA(),c!==null&&Iy(),By(),Cd();var N=G;return Hy(),Uy(),ne("startxref"),ne(""+N),ne("%%EOF"),Ce(ce[z]),he.join(`
`)},Wu=p.__private__.getBlob=function(N){return new Blob([Ee(N)],{type:"application/pdf"})},Yu=p.output=p.__private__.output=Sa(function(N,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",N){case void 0:return bo();case"save":p.save(V.filename);break;case"arraybuffer":return Ee(bo());case"blob":return Wu(bo());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(Wu(bo()))||void 0;dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",fe=bo();try{oe=r2(fe)}catch{oe=r2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+V.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(we=V.pdfObjectUrl,je="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Qe=mt.open();return Qe!==null&&Qe.document.write(qe),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',St=mt.open();if(St!==null){St.document.write(st);var xt=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=V.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Dn=mt.open();if(Dn!==null&&(Dn.document.write(Bt),Dn.document.title=V.filename),Dn||typeof safari>"u")return Dn;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",V);default:return null}}),IA=function(N){return Array.isArray(oi)===!0&&oi.indexOf(N)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=IA("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var Fr=null;se(),W();var zy=function(N){return c!==null?Fr.encryptor(N,0):function(V){return V}},DA=p.__private__.getPageInfo=p.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[N].objId,pageNumber:N,pageContext:ut[N]}},bt=p.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in ut)if(ut[V].objId===N)break;return DA(V)},Vy=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ut[z].objId,pageNumber:z,pageContext:ut[z]}};p.addPage=function(){return MA.apply(this,arguments),this},p.setPage=function(){return OA.apply(this,arguments),Ce.call(this,ce[z]),this},p.insertPage=function(N){return this.addPage(),this.movePage(z,N),this},p.movePage=function(N,V){var oe,fe;if(N>V){oe=ce[N],fe=ut[N];for(var we=N;we>V;we--)ce[we]=ce[we-1],ut[we]=ut[we-1];ce[V]=oe,ut[V]=fe,this.setPage(V)}else if(N<V){oe=ce[N],fe=ut[N];for(var je=N;je<V;je++)ce[je]=ce[je+1],ut[je]=ut[je+1];ce[V]=oe,ut[V]=fe,this.setPage(V)}return this},p.deletePage=function(){return Fy.apply(this,arguments),this},p.__private__.text=p.text=function(N,V,oe,fe,we){var je,qe,Qe,st,St,xt,Bt,Dn,Ln,Xn=(fe=fe||{}).scope||this;if(typeof N=="number"&&typeof V=="number"&&(typeof oe=="string"||Array.isArray(oe))){var $r=oe;oe=V,V=N,N=$r}if(arguments[3]instanceof Ke?(M("The transform parameter of text() with a Matrix value"),Ln=we):(Qe=arguments[4],st=arguments[5],en(Bt=arguments[3])==="object"&&Bt!==null||(typeof Qe=="string"&&(st=Qe,Qe=null),typeof Bt=="string"&&(st=Bt,Bt=null),typeof Bt=="number"&&(Qe=Bt,Bt=null),fe={flags:Bt,angle:Qe,align:st})),isNaN(V)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Xn;var xr="",Ta=!1,_i=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Tl,Xa=Xn.internal.scaleFactor;function zA(mn){return mn=mn.split("	").join(Array(fe.TabLen||9).join(" ")),si(mn,Bt)}function Rd(mn){for(var gn,Vn=mn.concat(),cr=[],To=Vn.length;To--;)typeof(gn=Vn.shift())=="string"?cr.push(gn):Array.isArray(mn)&&(gn.length===1||gn[1]===void 0&&gn[2]===void 0)?cr.push(gn[0]):cr.push([gn[0],gn[1],gn[2]]);return cr}function Fd(mn,gn){var Vn;if(typeof mn=="string")Vn=gn(mn)[0];else if(Array.isArray(mn)){for(var cr,To,Gd=mn.concat(),uc=[],KA=Gd.length;KA--;)typeof(cr=Gd.shift())=="string"?uc.push(gn(cr)[0]):Array.isArray(cr)&&typeof cr[0]=="string"&&(To=gn(cr[0],cr[1],cr[2]),uc.push([To[0],To[1],To[2]]));Vn=uc}return Vn}var ec=!1,$d=!0;if(typeof N=="string")ec=!0;else if(Array.isArray(N)){var Bd=N.concat();qe=[];for(var tc,Pr=Bd.length;Pr--;)(typeof(tc=Bd.shift())!="string"||Array.isArray(tc)&&typeof tc[0]!="string")&&($d=!1);ec=$d}if(ec===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var nc=Pe/Xn.internal.scaleFactor,rc=nc*(_i-1);switch(fe.baseline){case"bottom":oe-=rc;break;case"top":oe+=nc-rc;break;case"hanging":oe+=nc-2*rc;break;case"middle":oe+=nc/2-rc}if((xt=fe.maxWidth||0)>0&&(typeof N=="string"?N=Xn.splitTextToSize(N,xt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(mn,gn){return mn.concat(Xn.splitTextToSize(gn,xt))},[]))),je={text:N,x:V,y:oe,options:fe,mutex:{pdfEscape:si,activeFontKey:ht,fonts:Be,activeFontSize:Pe}},jt.publish("preProcessText",je),N=je.text,Qe=(fe=je.options).angle,!(Ln instanceof Ke)&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,fe.rotationDirection===0&&(Qe=-Qe),w===b.ADVANCED&&(Qe=-Qe);var ic=Math.cos(Qe),Ud=Math.sin(Qe);Ln=new Ke(ic,Ud,-Ud,ic,0,0)}else Qe&&Qe instanceof Ke&&(Ln=Qe);w!==b.ADVANCED||Ln||(Ln=br),(St=fe.charSpace||Xu)!==void 0&&(xr+=E(j(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dn=fe.horizontalScale)!==void 0&&(xr+=E(100*Dn)+` Tz
`),fe.lang;var li=-1,tb=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,qd=Xn.internal.getCurrentPageInfo().pageContext;switch(tb){case 0:case!1:case"fill":li=0;break;case 1:case!0:case"stroke":li=1;break;case 2:case"fillThenStroke":li=2;break;case 3:case"invisible":li=3;break;case 4:case"fillAndAddForClipping":li=4;break;case 5:case"strokeAndAddPathForClipping":li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":li=6;break;case 7:case"addToPathForClipping":li=7}var VA=qd.usedRenderingMode!==void 0?qd.usedRenderingMode:-1;li!==-1?xr+=li+` Tr
`:VA!==-1&&(xr+=`0 Tr
`),li!==-1&&(qd.usedRenderingMode=li),st=fe.align||"left";var Vi,ac=Pe*_i,GA=Xn.internal.pageSize.getWidth(),WA=Be[ht];St=fe.charSpace||Xu,xt=fe.maxWidth||0,Bt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var As=[],El=function(mn){return Xn.getStringUnitWidth(mn,{font:WA,charSpace:St,fontSize:Pe,doKerning:!1})*Pe/Xa};if(Object.prototype.toString.call(N)==="[object Array]"){var ui;qe=Rd(N),st!=="left"&&(Vi=qe.map(El));var Kr,ms=0;if(st==="right"){V-=Vi[0],N=[],Pr=qe.length;for(var wo=0;wo<Pr;wo++)wo===0?(Kr=Ja(V),ui=xo(oe)):(Kr=j(ms-Vi[wo]),ui=-ac),N.push([qe[wo],Kr,ui]),ms=Vi[wo]}else if(st==="center"){V-=Vi[0]/2,N=[],Pr=qe.length;for(var So=0;So<Pr;So++)So===0?(Kr=Ja(V),ui=xo(oe)):(Kr=j((ms-Vi[So])/2),ui=-ac),N.push([qe[So],Kr,ui]),ms=Vi[So]}else if(st==="left"){N=[],Pr=qe.length;for(var oc=0;oc<Pr;oc++)N.push(qe[oc])}else if(st==="justify"&&WA.encoding==="Identity-H"){N=[],Pr=qe.length,xt=xt!==0?xt:GA;for(var _o=0,zn=0;zn<Pr;zn++)if(ui=zn===0?xo(oe):-ac,Kr=zn===0?Ja(V):_o,zn<Pr-1){var Hd=j((xt-Vi[zn])/(qe[zn].split(" ").length-1)),Jr=qe[zn].split(" ");N.push([Jr[0]+" ",Kr,ui]),_o=0;for(var Gi=1;Gi<Jr.length;Gi++){var sc=(El(Jr[Gi-1]+" "+Jr[Gi])-El(Jr[Gi]))*Xa+Hd;Gi==Jr.length-1?N.push([Jr[Gi],sc,0]):N.push([Jr[Gi]+" ",sc,0]),_o-=sc}}else N.push([qe[zn],Kr,ui]);N.push(["",_o,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Pr=qe.length,xt=xt!==0?xt:GA,zn=0;zn<Pr;zn++)ui=zn===0?xo(oe):-ac,Kr=zn===0?Ja(V):0,zn<Pr-1?As.push(E(j((xt-Vi[zn])/(qe[zn].split(" ").length-1)))):As.push(0),N.push([qe[zn],Kr,ui])}}var YA=typeof fe.R2L=="boolean"?fe.R2L:be;YA===!0&&(N=Fd(N,function(mn,gn,Vn){return[mn.split("").reverse().join(""),gn,Vn]})),je={text:N,x:V,y:oe,options:fe,mutex:{pdfEscape:si,activeFontKey:ht,fonts:Be,activeFontSize:Pe}},jt.publish("postProcessText",je),N=je.text,Ta=je.mutex.isHex||!1;var zd=Be[ht].encoding;zd!=="WinAnsiEncoding"&&zd!=="StandardEncoding"||(N=Fd(N,function(mn,gn,Vn){return[zA(mn),gn,Vn]})),qe=Rd(N),N=[];for(var kl,Pl,gs,Ml=0,lc=1,Ol=Array.isArray(qe[0])?lc:Ml,vs="",Vd=function(mn,gn,Vn){var cr="";return Vn instanceof Ke?(Vn=typeof fe.angle=="number"?nn(Vn,new Ke(1,0,0,1,mn,gn)):nn(new Ke(1,0,0,1,mn,gn),Vn),w===b.ADVANCED&&(Vn=nn(new Ke(1,0,0,-1,0,0),Vn)),cr=Vn.join(" ")+` Tm
`):cr=E(mn)+" "+E(gn)+` Td
`,cr},Wi=0;Wi<qe.length;Wi++){switch(vs="",Ol){case lc:gs=(Ta?"<":"(")+qe[Wi][0]+(Ta?">":")"),kl=parseFloat(qe[Wi][1]),Pl=parseFloat(qe[Wi][2]);break;case Ml:gs=(Ta?"<":"(")+qe[Wi]+(Ta?">":")"),kl=Ja(V),Pl=xo(oe)}As!==void 0&&As[Wi]!==void 0&&(vs=As[Wi]+` Tw
`),Wi===0?N.push(vs+Vd(kl,Pl,Ln)+gs):Ol===Ml?N.push(vs+gs):Ol===lc&&N.push(vs+Vd(kl,Pl,Ln)+gs)}N=Ol===Ml?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Yi=`BT
/`;return Yi+=ht+" "+Pe+` Tf
`,Yi+=E(Pe*_i)+` TL
`,Yi+=Cl+`
`,Yi+=xr,Yi+=N,ne(Yi+="ET"),A[ht]=!0,Xn};var Gy=p.__private__.clip=p.clip=function(N){return ne(N==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Gy("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Ka=p.__private__.isValidStyle=function(N){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(N){return Ka(N)&&(u=N),this};var LA=p.__private__.getStyle=p.getStyle=function(N){var V=u;switch(N){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=N}return V},RA=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(N){return Ku("f",N),this},p.fillEvenOdd=function(N){return Ku("f*",N),this},p.fillStroke=function(N){return Ku("B",N),this},p.fillStrokeEvenOdd=function(N){return Ku("B*",N),this};var Ku=function(N,V){en(V)==="object"?Yy(V,N):ne(N)},Nd=function(N){N===null||w===b.ADVANCED&&N===void 0||(N=LA(N),ne(N))};function Wy(N,V,oe,fe,we){var je=new Ql(V||this.boundingBox,oe||this.xStep,fe||this.yStep,this.gState,we||this.matrix);je.stream=this.stream;var qe=N+"$$"+this.cloneIndex+++"$$";return cn(qe,je),je}var Yy=function(N,V){var oe=An[N.key],fe=ot[oe];if(fe instanceof $s)ne("q"),ne(Ky(V)),fe.gState&&p.setGState(fe.gState),ne(N.matrix.toString()+" cm"),ne("/"+oe+" sh"),ne("Q");else if(fe instanceof Ql){var we=new Ke(1,0,0,-1,0,ps());N.matrix&&(we=we.multiply(N.matrix||br),oe=Wy.call(fe,N.key,N.boundingBox,N.xStep,N.yStep,we).id),ne("q"),ne("/Pattern cs"),ne("/"+oe+" scn"),fe.gState&&p.setGState(fe.gState),ne(V),ne("Q")}},Ky=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ed=p.moveTo=function(N,V){return ne(E(j(N))+" "+E(F(V))+" m"),this},_l=p.lineTo=function(N,V){return ne(E(j(N))+" "+E(F(V))+" l"),this},ds=p.curveTo=function(N,V,oe,fe,we,je){return ne([E(j(N)),E(F(V)),E(j(oe)),E(F(fe)),E(j(we)),E(F(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(N,V,oe,fe,we){if(isNaN(N)||isNaN(V)||isNaN(oe)||isNaN(fe)||!Ka(we))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[oe-N,fe-V]],N,V,[1,1],we||"S"):this.lines([[oe-N,fe-V]],N,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(N,V,oe,fe,we,je){var qe,Qe,st,St,xt,Bt,Dn,Ln,Xn,$r,xr,Ta;if(typeof N=="number"&&(Ta=oe,oe=V,V=N,N=Ta),fe=fe||[1,1],je=je||!1,isNaN(V)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(fe)||!Ka(we)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ed(V,oe),qe=fe[0],Qe=fe[1],St=N.length,$r=V,xr=oe,st=0;st<St;st++)(xt=N[st]).length===2?($r=xt[0]*qe+$r,xr=xt[1]*Qe+xr,_l($r,xr)):(Bt=xt[0]*qe+$r,Dn=xt[1]*Qe+xr,Ln=xt[2]*qe+$r,Xn=xt[3]*Qe+xr,$r=xt[4]*qe+$r,xr=xt[5]*Qe+xr,ds(Bt,Dn,Ln,Xn,$r,xr));return je&&RA(),Nd(we),this},p.path=function(N){for(var V=0;V<N.length;V++){var oe=N[V],fe=oe.c;switch(oe.op){case"m":Ed(fe[0],fe[1]);break;case"l":_l(fe[0],fe[1]);break;case"c":ds.apply(this,fe);break;case"h":RA()}}return this},p.__private__.rect=p.rect=function(N,V,oe,fe,we){if(isNaN(N)||isNaN(V)||isNaN(oe)||isNaN(fe)||!Ka(we))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(fe=-fe),ne([E(j(N)),E(F(V)),E(j(oe)),E(j(fe)),"re"].join(" ")),Nd(we),this},p.__private__.triangle=p.triangle=function(N,V,oe,fe,we,je,qe){if(isNaN(N)||isNaN(V)||isNaN(oe)||isNaN(fe)||isNaN(we)||isNaN(je)||!Ka(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,fe-V],[we-oe,je-fe],[N-we,V-je]],N,V,[1,1],qe,!0),this},p.__private__.roundedRect=p.roundedRect=function(N,V,oe,fe,we,je,qe){if(isNaN(N)||isNaN(V)||isNaN(oe)||isNaN(fe)||isNaN(we)||isNaN(je)||!Ka(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*oe),je=Math.min(je,.5*fe),this.lines([[oe-2*we,0],[we*Qe,0,we,je-je*Qe,we,je],[0,fe-2*je],[0,je*Qe,-we*Qe,je,-we,je],[2*we-oe,0],[-we*Qe,0,-we,-je*Qe,-we,-je],[0,2*je-fe],[0,-je*Qe,we*Qe,-je,we,-je]],N+we,V,[1,1],qe,!0),this},p.__private__.ellipse=p.ellipse=function(N,V,oe,fe,we){if(isNaN(N)||isNaN(V)||isNaN(oe)||isNaN(fe)||!Ka(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*oe,qe=4/3*(Math.SQRT2-1)*fe;return Ed(N+oe,V),ds(N+oe,V-qe,N+je,V-fe,N,V-fe),ds(N-je,V-fe,N-oe,V-qe,N-oe,V),ds(N-oe,V+qe,N-je,V+fe,N,V+fe),ds(N+je,V+fe,N+oe,V+qe,N+oe,V),Nd(we),this},p.__private__.circle=p.circle=function(N,V,oe,fe){if(isNaN(N)||isNaN(V)||isNaN(oe)||!Ka(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,V,oe,oe,fe)},p.setFont=function(N,V,oe){return oe&&(V=k(V,oe)),ht=jA(N,V,{disableWarning:!1}),this};var Jy=p.__private__.getFont=p.getFont=function(){return Be[jA.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var N,V,oe={};for(N in nt)if(nt.hasOwnProperty(N))for(V in oe[N]=[],nt[N])nt[N].hasOwnProperty(V)&&oe[N].push(V);return oe},p.addFont=function(N,V,oe,fe,we){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(oe=k(oe,fe)),we=we||"Identity-H",_d.call(this,N,V,oe,we)};var Tl,kd=t.lineWidth||.200025,Ju=p.__private__.getLineWidth=p.getLineWidth=function(){return kd},FA=p.__private__.setLineWidth=p.setLineWidth=function(N){return kd=N,ne(E(j(N))+" w"),this};p.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(N,V){if(N=N||[],V=V||0,isNaN(V)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return E(j(oe))}).join(" "),V=E(j(V)),ne("["+N+"] "+V+" d"),this};var $A=p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Tl};p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Tl};var BA=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Tl=N),this},UA=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Tl};BA(t.lineHeight);var Ja=p.__private__.getHorizontalCoordinate=function(N){return j(N)},xo=p.__private__.getVerticalCoordinate=function(N){return w===b.ADVANCED?N:ut[z].mediaBox.topRightY-ut[z].mediaBox.bottomLeftY-j(N)},Xy=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(N){return E(Ja(N))},hs=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(N){return E(xo(N))},_a=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xa(_a)},p.__private__.setStrokeColor=p.setDrawColor=function(N,V,oe,fe){return _a=wa({ch1:N,ch2:V,ch3:oe,ch4:fe,pdfColorType:"draw",precision:2}),ne(_a),this};var Pd=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xa(Pd)},p.__private__.setFillColor=p.setFillColor=function(N,V,oe,fe){return Pd=wa({ch1:N,ch2:V,ch3:oe,ch4:fe,pdfColorType:"fill",precision:2}),ne(Pd),this};var Cl=t.textColor||"0 g",Qy=p.__private__.getTextColor=p.getTextColor=function(){return xa(Cl)};p.__private__.setTextColor=p.setTextColor=function(N,V,oe,fe){return Cl=wa({ch1:N,ch2:V,ch3:oe,ch4:fe,pdfColorType:"text",precision:3}),this};var Xu=t.charSpace,Zy=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Xu||0)};p.__private__.setCharSpace=p.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xu=N,this};var Md=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(N){var V=p.CapJoinStyles[N];if(V===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Md=V,ne(V+" J"),this};var Od=0;p.__private__.setLineJoin=p.setLineJoin=function(N){var V=p.CapJoinStyles[N];if(V===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Od=V,ne(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(E(j(N))+" M"),this},p.GState=vp,p.setGState=function(N){(N=typeof N=="string"?Et[lr[N]]:qA(null,N)).equals(ai)||(ne("/"+N.id+" gs"),ai=N)};var qA=function(N,V){if(!N||!lr[N]){var oe=!1;for(var fe in Et)if(Et.hasOwnProperty(fe)&&Et[fe].equals(V)){oe=!0;break}if(oe)V=Et[fe];else{var we="GS"+(Object.keys(Et).length+1).toString(10);Et[we]=V,V.id=we}return N&&(lr[N]=V.id),jt.publish("addGState",V),V}};p.addGState=function(N,V){return qA(N,V),this},p.saveGraphicsState=function(){return ne("q"),At.push({key:ht,size:Pe,color:Cl}),this},p.restoreGraphicsState=function(){ne("Q");var N=At.pop();return ht=N.key,Pe=N.size,Cl=N.color,ai=null,this},p.setCurrentTransformationMatrix=function(N){return ne(N.toString()+" cm"),this},p.comment=function(N){return ne("#"+N),this};var Qu=function(N,V){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(je){isNaN(je)||(oe=parseFloat(je))}});var fe=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(je){isNaN(je)||(fe=parseFloat(je))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(je){we=je.toString()}}),this},jd=function(N,V,oe,fe){Qu.call(this,N,V),this.type="rect";var we=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(qe){isNaN(qe)||(we=parseFloat(qe))}});var je=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(qe){isNaN(qe)||(je=parseFloat(qe))}}),this},Id=function(){this.page=un,this.currentPage=z,this.pages=ce.slice(0),this.pagesContext=ut.slice(0),this.x=ln,this.y=Pt,this.matrix=Se,this.width=Nl(z),this.height=ps(z),this.outputDestination=Me,this.id="",this.objectNumber=-1};Id.prototype.restore=function(){un=this.page,z=this.currentPage,ut=this.pagesContext,ce=this.pages,ln=this.x,Pt=this.y,Se=this.matrix,Dd(z,this.width),Ld(z,this.height),Me=this.outputDestination};var HA=function(N,V,oe,fe,we){ze.push(new Id),un=z=0,ce=[],ln=N,Pt=V,Se=we,Td([oe,fe])},eb=function(N){if(ur[N])ze.pop().restore();else{var V=new Id,oe="Xo"+(Object.keys(qn).length+1).toString(10);V.id=oe,ur[N]=oe,qn[oe]=V,jt.publish("addFormObject",V),ze.pop().restore()}};for(var Zu in p.beginFormObject=function(N,V,oe,fe,we){return HA(N,V,oe,fe,we),this},p.endFormObject=function(N){return eb(N),this},p.doFormObject=function(N,V){var oe=qn[ur[N]];return ne("q"),ne(V.toString()+" cm"),ne("/"+oe.id+" Do"),ne("Q"),this},p.getFormObject=function(N){var V=qn[ur[N]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(N,V){return N=N||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(zl(Wu(bo()),N),typeof zl.unload=="function"&&mt.setTimeout&&setTimeout(zl.unload,911),this):new Promise(function(oe,fe){try{var we=zl(Wu(bo()),N);typeof zl.unload=="function"&&mt.setTimeout&&setTimeout(zl.unload,911),oe(we)}catch(je){fe(je.message)}})},lt.API)lt.API.hasOwnProperty(Zu)&&(Zu==="events"&&lt.API.events.length?function(N,V){var oe,fe,we;for(we=V.length-1;we!==-1;we--)oe=V[we][0],fe=V[we][1],N.subscribe.apply(N,[oe].concat(typeof fe=="function"?[fe]:fe))}(jt,lt.API.events):p[Zu]=lt.API[Zu]);var Nl=p.getPageWidth=function(N){return(ut[N=N||z].mediaBox.topRightX-ut[N].mediaBox.bottomLeftX)/We},Dd=p.setPageWidth=function(N,V){ut[N].mediaBox.topRightX=V*We+ut[N].mediaBox.bottomLeftX},ps=p.getPageHeight=function(N){return(ut[N=N||z].mediaBox.topRightY-ut[N].mediaBox.bottomLeftY)/We},Ld=p.setPageHeight=function(N,V){ut[N].mediaBox.topRightY=V*We+ut[N].mediaBox.bottomLeftY};return p.internal={pdfEscape:si,getStyle:LA,getFont:Jy,getFontSize:ke,getCharSpace:Zy,getTextColor:Qy,getLineHeight:$A,getLineHeightFactor:UA,getLineWidth:Ju,write:Ne,getHorizontalCoordinate:Ja,getVerticalCoordinate:xo,getCoordinateString:Xy,getVerticalCoordinateString:hs,collections:{},newObject:jn,newAdditionalObject:Ga,newObjectDeferred:In,newObjectDeferredBegin:Ft,getFilters:Wa,putStream:zi,events:jt,scaleFactor:We,pageSize:{getWidth:function(){return Nl(z)},setWidth:function(N){Dd(z,N)},getHeight:function(){return ps(z)},setHeight:function(N){Ld(z,N)}},encryptionOptions:c,encryption:Fr,getEncryptor:zy,output:Yu,getNumberOfPages:$y,pages:ce,out:ne,f2:U,f3:O,getPageInfo:DA,getPageInfoByObjId:bt,getCurrentPageInfo:Vy,getPDFVersion:x,Point:Qu,Rectangle:jd,Matrix:Ke,hasHotfix:IA},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Nl(z)},set:function(N){Dd(z,N)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ps(z)},set:function(N){Ld(z,N)},enumerable:!0,configurable:!0}),Ry.call(p,xe),ht="F1",MA(i,n),jt.publish("initialized"),p}kc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},kc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},kc.prototype.processOwnerPassword=function(t,e){return a2(i2(e).substr(0,5),t)},kc.prototype.encryptor=function(t,e){var n=i2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return a2(n,r)}},vp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||en(t)!==en(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},lt.API={events:[]},lt.version="2.5.2";var $n=lt.API,dS=1,Mu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wt=function(t){return t.toFixed(2)},Es=function(t){return t.toFixed(5)};$n.__acroform__={};var wi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},qC=function(t){return t*dS},Za=function(t){var e=new pj,n=rt.internal.getHeight(t)||0,r=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(wt(r)),Number(wt(n))],e},jB=$n.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},IB=$n.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},DB=$n.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Gn=$n.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return DB(t,e-1)},Wn=$n.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jB(t,e-1)},Yn=$n.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return IB(t,e-1)},LB=$n.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(wt(l.lowerLeft_X)),Number(wt(l.lowerLeft_Y)),Number(wt(l.upperRight_X)),Number(wt(l.upperRight_Y))]},RB=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=o2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Za(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},o2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=n,o=rt.internal.getHeight(t)||0;o=o<0?-o:o;var s=rt.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(O,j,$){if(O+1<i.length){var F=j+" "+i[O+1][0];return Om(F,t,$).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Om("3",t,a).height,A=t.multiline?o-a:(o-f)/2,p=A+=2,y=0,x=0,S=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Om(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var v="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var T=!1;if(i[w].length!==1&&S!==i[w].length-1){if((f+2)*(b+2)+2>o)continue e;v+=i[w][S],T=!0,x=w,w--}else{v=(v+=i[w][S]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var C=parseInt(w),k=l(C,v,a),E=w>=i.length-1;if(k&&!E){v+=" ",S=0;continue}if(k||E){if(E)x=C;else if(t.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(b+2)+2>o)continue e;x=C}}for(var M="",I=y;I<=x;I++){var U=i[I];if(t.multiline){if(I===x){M+=U[S]+" ",S=(S+1)%U.length;continue}if(I===y){M+=U[U.length-1]+" ";continue}}M+=U[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,c=Om(M,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=wt(u)+" "+wt(p)+` Td
`,e+="("+Mu(M)+`) Tj
`,e+=-wt(u)+` 0 Td
`,p=-(a+2),c=0,y=T?x:x+1,b++,v=""}break}return r.text=e,r.fontSize=a,r},Om=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},FB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$B=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},BB=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),en(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},UB=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(qa.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(FB)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Aj,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&$B(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=LB(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=rt.createDefaultAppearanceStream(s),en(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=RB(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var A in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(A)){var p=s.appearanceStreamContent[A];if(f+="/"+A+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var y=p[o];typeof y=="function"&&(y=y.call(i,s)),f+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,s)),f+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&BB(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},hj=$n.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),en(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Mu(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},l1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Mu(r(t))+")"},ao=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ao.prototype.toString=function(){return this.objId+" 0 R"},ao.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ao.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:hj(i,this.objId,this.scope)}):i instanceof ao?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var pj=function(){ao.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};wi(pj,ao);var Aj=function(){ao.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Mu(n(t))+")"}},set:function(n){t=n}})};wi(Aj,ao);var qa=function t(){ao.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Gn(e,3)},set:function(v){v?this.F=Wn(e,3):this.F=Yn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Kg)return;a="FieldObject"+t.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Mu(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/dS:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Kg||this instanceof al))return l1(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof pr?A:l1(A,this.objId,this.scope)},set:function(v){v=v.toString(),A=this instanceof pr?v:v.substr(0,1)==="("?mc(v.substr(1,v.length-2)):mc(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?mc(A.substr(1,A.length-1)):A},set:function(v){v=v.toString(),A=this instanceof pr?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof pr?p:l1(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof pr?v:v.substr(0,1)==="("?mc(v.substr(1,v.length-2)):mc(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?mc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof pr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,1)},set:function(v){v?this.Ff=Wn(this.Ff,1):this.Ff=Yn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,2)},set:function(v){v?this.Ff=Wn(this.Ff,2):this.Ff=Yn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,3)},set:function(v){v?this.Ff=Wn(this.Ff,3):this.Ff=Yn(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');S=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(S){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};wi(qa,ao);var lu=function(){qa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hj(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,18)},set:function(n){n?this.Ff=Wn(this.Ff,18):this.Ff=Yn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Wn(this.Ff,19):this.Ff=Yn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,20)},set:function(n){n?(this.Ff=Wn(this.Ff,20),e.sort()):this.Ff=Yn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,22)},set:function(n){n?this.Ff=Wn(this.Ff,22):this.Ff=Yn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(n){n?this.Ff=Wn(this.Ff,23):this.Ff=Yn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,27)},set:function(n){n?this.Ff=Wn(this.Ff,27):this.Ff=Yn(this.Ff,27)}}),this.hasAppearanceStream=!1};wi(lu,qa);var uu=function(){lu.call(this),this.fontName="helvetica",this.combo=!1};wi(uu,lu);var cu=function(){uu.call(this),this.combo=!0};wi(cu,uu);var Hh=function(){cu.call(this),this.edit=!0};wi(Hh,cu);var pr=function(){qa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,15)},set:function(n){n?this.Ff=Wn(this.Ff,15):this.Ff=Yn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,16)},set:function(n){n?this.Ff=Wn(this.Ff,16):this.Ff=Yn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,17)},set:function(n){n?this.Ff=Wn(this.Ff,17):this.Ff=Yn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(n){n?this.Ff=Wn(this.Ff,26):this.Ff=Yn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Mu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){en(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};wi(pr,qa);var zh=function(){pr.call(this),this.pushButton=!0};wi(zh,pr);var fu=function(){pr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};wi(fu,pr);var Kg=function(){var t,e;qa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Mu(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){en(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wi(Kg,qa),fu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},fu.prototype.createOption=function(t){var e=new Kg;return e.Parent=this,e.optionName=t,this.Kids.push(e),qB.call(this.scope,e),e};var Vh=function(){pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};wi(Vh,pr);var al=function(){qa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,13)},set:function(e){e?this.Ff=Wn(this.Ff,13):this.Ff=Yn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,21)},set:function(e){e?this.Ff=Wn(this.Ff,21):this.Ff=Yn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,23)},set:function(e){e?this.Ff=Wn(this.Ff,23):this.Ff=Yn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,24)},set:function(e){e?this.Ff=Wn(this.Ff,24):this.Ff=Yn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,25)},set:function(e){e?this.Ff=Wn(this.Ff,25):this.Ff=Yn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,26)},set:function(e){e?this.Ff=Wn(this.Ff,26):this.Ff=Yn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wi(al,qa);var Gh=function(){al.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Gn(this.Ff,14)},set:function(t){t?this.Ff=Wn(this.Ff,14):this.Ff=Yn(this.Ff,14)}}),this.password=!0};wi(Gh,al);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Za(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=o2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+wt(rt.internal.getWidth(t))+" "+wt(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+wt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Za(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=rt.internal.getHeight(t),o=rt.internal.getWidth(t),s=o2(t,t.caption);return i.push("1 g"),i.push("0 0 "+wt(o)+" "+wt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wt(o-1)+" "+wt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+wt(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Za(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(rt.internal.getWidth(t))+" "+wt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Za(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=rt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Es(rt.internal.getWidth(t)/2)+" "+Es(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Za(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*rt.internal.Bezier_C).toFixed(5)),o=Number((r*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Es(rt.internal.getWidth(t)/2)+" "+Es(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Es(rt.internal.getWidth(t)/2)+" "+Es(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Za(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Es(rt.internal.getWidth(t)/2)+" "+Es(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Za(t);e.scope=t.scope;var n=[],r=rt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+wt(rt.internal.getWidth(t)-2)+" "+wt(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(wt(r.x1.x)+" "+wt(r.x1.y)+" m"),n.push(wt(r.x2.x)+" "+wt(r.x2.y)+" l"),n.push(wt(r.x4.x)+" "+wt(r.x4.y)+" m"),n.push(wt(r.x3.x)+" "+wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Za(t);e.scope=t.scope;var n=rt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(rt.internal.getWidth(t))+" "+wt(rt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+wt(rt.internal.getWidth(t)-2)+" "+wt(rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(wt(n.x1.x)+" "+wt(n.x1.y)+" m"),r.push(wt(n.x2.x)+" "+wt(n.x2.y)+" l"),r.push(wt(n.x4.x)+" "+wt(n.x4.y)+" m"),r.push(wt(n.x3.x)+" "+wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Za(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(rt.internal.getWidth(t))+" "+wt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),n=rt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},rt.internal.getWidth=function(t){var e=0;return en(t)==="object"&&(e=qC(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return en(t)==="object"&&(e=qC(t.Rect[3])),e};var qB=$n.addField=function(t){if(UB(this,t),!(t instanceof qa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};$n.AcroFormChoiceField=lu,$n.AcroFormListBox=uu,$n.AcroFormComboBox=cu,$n.AcroFormEditBox=Hh,$n.AcroFormButton=pr,$n.AcroFormPushButton=zh,$n.AcroFormRadioButton=fu,$n.AcroFormCheckBox=Vh,$n.AcroFormTextField=al,$n.AcroFormPasswordField=Gh,$n.AcroFormAppearance=rt,$n.AcroForm={ChoiceField:lu,ListBox:uu,ComboBox:cu,EditBox:Hh,Button:pr,PushButton:zh,RadioButton:fu,CheckBox:Vh,TextField:al,PasswordField:Gh,Appearance:rt},lt.AcroForm={ChoiceField:lu,ListBox:uu,ComboBox:cu,EditBox:Hh,Button:pr,PushButton:zh,RadioButton:fu,CheckBox:Vh,TextField:al,PasswordField:Gh,Appearance:rt};var HB=lt.AcroForm;function mj(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,j){var $,F,H,R,B,W=e;if((j=j||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for(B in n)for(H=n[B],$=0;$<H.length;$+=1){for(R=!0,F=0;F<H[$].length;F+=1)if(H[$][F]!==void 0&&H[$][F]!==O[F]){R=!1;break}if(R===!0){W=B;break}}else for(B in n)for(H=n[B],$=0;$<H.length;$+=1){for(R=!0,F=0;F<H[$].length;F+=1)if(H[$][F]!==void 0&&H[$][F]!==O.charCodeAt(F)){R=!1;break}if(R===!0){W=B;break}}return W===e&&j!==e&&(W=j),W},i=function O(j){for(var $=this.internal.write,F=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:j.width}),R.push({key:"Height",value:j.height}),j.colorSpace===S.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===S.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var B="",W=0,K=j.transparency.length;W<K;W++)B+=j.transparency[W]+" "+j.transparency[W]+" ";R.push({key:"Mask",value:"["+B+"]"})}j.sMask!==void 0&&R.push({key:"SMask",value:j.objectId+1+" 0 R"});var Z=j.filter!==void 0?["/"+j.filter]:void 0;if(F({data:j.data,additionalKeyValues:R,alreadyAppliedFilters:Z,objectId:j.objectId}),$("endobj"),"sMask"in j&&j.sMask!==void 0){var se="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,L={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:se,data:j.sMask};"filter"in j&&(L.filter=j.filter),O.call(this,L)}if(j.colorSpace===S.INDEXED){var z=this.internal.newObject();F({data:M(new Uint8Array(j.palette)),objectId:z}),$("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var j in O)i.call(this,O[j])},o=function(){var O,j=this.internal.collections.addImage_images,$=this.internal.write;for(var F in j)$("/I"+(O=j[F]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof t["process"+O.toUpperCase()]=="function"},f=function(O){return en(O)==="object"&&O.nodeType===1},A=function(O,j){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var $=""+O.getAttribute("src");if($.indexOf("data:image/")===0)return qh(unescape($).split("base64,").pop());var F=t.loadFile($,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var H;switch(j){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return qh(O.toDataURL(H,1).split("base64,").pop())}},p=function(O){var j=this.internal.collections.addImage_images;if(j){for(var $ in j)if(O===j[$].alias)return j[$]}},y=function(O,j,$){return O||j||(O=-96,j=-96),O<0&&(O=-1*$.width*72/O/this.internal.scaleFactor),j<0&&(j=-1*$.height*72/j/this.internal.scaleFactor),O===0&&(O=j*$.width/$.height),j===0&&(j=O*$.height/$.width),[O,j]},x=function(O,j,$,F,H,R){var B=y.call(this,$,F,H),W=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,Z=l.call(this);if($=B[0],F=B[1],Z[H.index]=H,R){R*=Math.PI/180;var se=Math.cos(R),L=Math.sin(R),z=function(te){return te.toFixed(4)},Q=[z(se),z(L),z(-1*L),z(se),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,W(O),K(j+F),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W($),"0","0",W(F),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(F),W(O),K(j+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(O){var j,$,F=0;if(typeof O=="string")for($=O.length,j=0;j<$;j++)F=(F<<5)-F+O.charCodeAt(j),F|=0;else if(k(O))for($=O.byteLength/2,j=0;j<$;j++)F=(F<<5)-F+O[j],F|=0;return F},w=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var j=!0;return O.length===0&&(j=!1),O.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(j=!1),j},T=t.__addimage__.extractImageFromDataUrl=function(O){var j=(O=O||"").split("base64,"),$=null;if(j.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(F)&&($={mimeType:F[1],charset:F[2],data:j[1]})}return $},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return C()&&O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return C()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var j=O.length,$=new Uint8Array(j),F=0;F<j;F++)$[F]=O.charCodeAt(F);return $},M=t.__addimage__.arrayBufferToBinaryString=function(O){for(var j="",$=k(O)?O:new Uint8Array(O),F=0;F<$.length;F+=8192)j+=String.fromCharCode.apply(null,$.subarray(F,F+8192));return j};t.addImage=function(){var O,j,$,F,H,R,B,W,K;if(typeof arguments[1]=="number"?(j=e,$=arguments[1],F=arguments[2],H=arguments[3],R=arguments[4],B=arguments[5],W=arguments[6],K=arguments[7]):(j=arguments[1],$=arguments[2],F=arguments[3],H=arguments[4],R=arguments[5],B=arguments[6],W=arguments[7],K=arguments[8]),en(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var Z=O;O=Z.imageData,j=Z.format||j||e,$=Z.x||$||0,F=Z.y||F||0,H=Z.w||Z.width||H,R=Z.h||Z.height||R,B=Z.alias||B,W=Z.compression||W,K=Z.rotation||Z.angle||K}var se=this.internal.getFilters();if(W===void 0&&se.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=I.call(this,O,j,B,W);return x.call(this,$,F,H,R,L,K),this};var I=function(O,j,$,F){var H,R,B;if(typeof O=="string"&&r(O)===e){O=unescape(O);var W=U(O,!1);(W!==""||(W=t.loadFile(O,!0))!==void 0)&&(O=W)}if(f(O)&&(O=A(O,j)),j=r(O,j),!c(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((B=$)==null||B.length===0)&&($=function(K){return typeof K=="string"||k(K)?b(K):k(K.data)?b(K.data):null}(O)),(H=p.call(this,$))||(C()&&(O instanceof Uint8Array||j==="RGBA"||(R=O,O=E(O))),H=this["process"+j.toUpperCase()](O,u.call(this),$,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:v.NONE}(F),R)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},U=t.__addimage__.convertBase64ToBinaryString=function(O,j){var $;j=typeof j!="boolean"||j;var F,H="";if(typeof O=="string"){F=($=T(O))!==null?$.data:O;try{H=qh(F)}catch(R){if(j)throw w(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(O){var j,$,F="";if(f(O)&&(O=A(O)),typeof O=="string"&&r(O)===e&&((F=U(O,!1))===""&&(F=t.loadFile(O)||""),O=F),$=r(O),!c($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!C()||O instanceof Uint8Array||(O=E(O)),!(j=this["process"+$.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=$,j}})(lt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var A=0;A<u.length;A++){r=u[A];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),b=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(v(b))+") >>",x.content=a;var w=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(x.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},s=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(x){var S=0,v=n,b="",w=0;for(S=0;S<x.length;S+=1)v[x.charCodeAt(S)]!==void 0?(w++,typeof(v=v[x.charCodeAt(S)])=="number"&&(b+=String.fromCharCode(v),v=n,w=0),S===x.length-1&&(v=n,b+=x.charAt(S-(w-1)),S-=w-1,w=0)):(v=n,b+=x.charAt(S-w),S-=w,w=0);return b};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var A=t.__arabicParser__.getCorrectForm=function(x,S,v){return o(x)?a(x)===!1?-1:!u(x)||!o(S)&&!o(v)||!o(v)&&s(S)||s(x)&&!o(S)||s(x)&&l(S)||s(x)&&s(S)?0:c(x)&&o(S)&&!s(S)&&o(v)&&u(v)?3:s(x)||!o(v)?1:2:-1},p=function(x){var S=0,v=0,b=0,w="",T="",C="",k=(x=x||"").split("\\s+"),E=[];for(S=0;S<k.length;S+=1){for(E.push(""),v=0;v<k[S].length;v+=1)w=k[S][v],T=k[S][v-1],C=k[S][v+1],o(w)?(b=A(w,T,C),E[S]+=b!==-1?String.fromCharCode(e[w.charCodeAt(0)][b]):w):E[S]+=w;E[S]=f(E[S])}return E.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var x,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(S)){var b=0;for(v=[],b=0;b<S.length;b+=1)Array.isArray(S[b])?v.push([p(S[b][0]),S[b][1],S[b][2]]):v.push([p(S[b])]);x=v}else x=p(S);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",y])}(lt.API),lt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),A=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,x=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,T){return w.concat(S.splitTextToSize(T,v))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(x=this.getStringUnitWidth(l[b],{font:f})*c)&&(p=x);return p!==0&&(y=l.length),{w:p/=A,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/A,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&A&&(this.printHeaderRow(l.lineNumber,!0),l.y+=A[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,A){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,y,x,S,v=[],b=[],w=[],T={},C={},k=[],E=[],M=(A=A||{}).autoSize||!1,I=A.printHeaders!==!1,U=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,O=A.margins||Object.assign({width:this.getPageWidth()},e),j=typeof A.padding=="number"?A.padding:3,$=A.headerBackgroundColor||"#c8c8c8",F=A.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=F,this.setFontSize(U),f==null)b=v=Object.keys(c[0]),w=v.map(function(){return"left"});else if(Array.isArray(f)&&en(f[0])==="object")for(v=f.map(function(Z){return Z.name}),b=f.map(function(Z){return Z.prompt||Z.name||""}),w=f.map(function(Z){return Z.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,w=v.map(function(){return"left"}));if(M||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(T[S=v[p]]=c.map(function(Z){return Z[S]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[S],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)k.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[S]=Math.max.apply(null,k)+j+j,k=[]}if(I){var H={};for(p=0;p<v.length;p+=1)H[v[p]]={},H[v[p]].text=b[p],H[v[p]].align=w[p];var R=s.call(this,H,C);E=v.map(function(Z){return new a(l,u,C[Z],R,H[Z].text,void 0,H[Z].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var B=f.reduce(function(Z,se){return Z[se.name]=se.align,Z},{});for(p=0;p<c.length;p+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:p,data:c[p]},this);var W=s.call(this,c[p],C);for(x=0;x<v.length;x+=1){var K=c[p][v[x]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:p,col:x,data:K},this),o.call(this,new a(l,u,C[v[x]],W,K,p+2,B[v[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/A+c+c},this).reduce(function(p,y){return Math.max(p,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,A.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(y)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}}(lt.API);var gj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],s2=mj(vj),yj=[100,200,300,400,500,600,700,800,900],zB=mj(yj);function l2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return gj[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof s2[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function HC(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var VB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function VC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function GB(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},VB,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=l2(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+VC(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=s2[l],f=c<=s2.normal?-1:1,A=HC(u,vj,c,f);if(!A)throw new Error("Could not find a matching font-stretch value for "+l);return A}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=gj[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=zB[l],f=HC(u,yj,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+VC(a)+"'.");return o}function GC(t){return t.trimLeft()}function WB(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function YB(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jm,WC,YC,u1=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ce){Q=!!Ce}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Ce){te=!!Ce}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Ce){isNaN(Ce)||(ae=Ce)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ce){isNaN(Ce)||(me=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var ne;typeof Ce=="number"?ne=[Ce,Ce,Ce,Ce]:((ne=new Array(4))[0]=Ce[0],ne[1]=Ce.length>=2?Ce[1]:ne[0],ne[2]=Ce.length>=3?Ce[2]:ne[0],ne[3]=Ce.length>=4?Ce[3]:ne[1]),u.margin=ne}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Ce){he=Ce}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(Ce){G=Ce}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(Ce){le=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof c&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return ce},set:function(Ce){ce=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ne;ne=A(Ce),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ne=A(Ce);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var ue=null;function Me(Ce,ne){if(ue===null){var Ne=function(Ee){var xe=[];return Object.keys(Ee).forEach(function(Pe){Ee[Pe].forEach(function(ye){var ke=null;switch(ye){case"bold":ke={family:Pe,weight:"bold"};break;case"italic":ke={family:Pe,style:"italic"};break;case"bolditalic":ke={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:Pe}}ke!==null&&(ke.ref={name:Pe,style:ye},xe.push(ke))})}),xe}(Ce.getFontList());ue=function(Ee){for(var xe={},Pe=0;Pe<Ee.length;++Pe){var ye=l2(Ee[Pe]),ke=ye.family,be=ye.stretch,Ve=ye.style,Ge=ye.weight;xe[ke]=xe[ke]||{},xe[ke][be]=xe[ke][be]||{},xe[ke][be][Ve]=xe[ke][be][Ve]||{},xe[ke][be][Ve][Ge]=ye}return xe}(Ne.concat(ne))}return ue}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Ce){ue=null,De=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ne;if(this.ctx.font=Ce,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var Ne=ne[1],Ee=(ne[2],ne[3]),xe=ne[4],Pe=(ne[5],ne[6]),ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(ye==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var ke=function(Ze){var ht,We,ln=[],Pt=Ze.trim();if(Pt==="")return u1;if(Pt in zC)return[zC[Pt]];for(;Pt!=="";){switch(We=null,ht=(Pt=GC(Pt)).charAt(0)){case'"':case"'":We=WB(Pt.substring(1),ht);break;default:We=YB(Pt)}if(We===null||(ln.push(We[0]),(Pt=GC(We[1]))!==""&&Pt.charAt(0)!==","))return u1;Pt=Pt.replace(/^,/,"")}return ln}(Pe);if(this.fontFaces){var be=GB(Me(this.pdf,this.fontFaces),ke.map(function(Ze){return{family:Ze,stretch:"normal",weight:Ee,style:Ne}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var Ve="";(Ee==="bold"||parseInt(Ee,10)>=700||Ne==="bold")&&(Ve="bold"),Ne==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var Ge="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},He=0;He<ke.length;He++){if(this.pdf.internal.getFont(ke[He],Ve,{noFallback:!0,disableWarning:!0})!==void 0){Ge=ke[He];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(ke[He],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=ke[He],Ve="bold";else if(this.pdf.internal.getFont(ke[He],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=ke[He],Ve="normal";break}}if(Ge===""){for(var ft=0;ft<ke.length;ft++)if(at[ke[ft]]){Ge=at[ke[ft]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(L,z)},f.prototype.closePath=function(){var L=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&en(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,z,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(L)||isNaN(z))throw dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Q,te)),me=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},f.prototype.bezierCurveTo=function(L,z,Q,te,ae,me){if(isNaN(ae)||isNaN(me)||isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(ae,me)),G=this.ctx.transform.applyToPoint(new o(L,z)),le=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:le.x,y2:le.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},f.prototype.arc=function(L,z,Q,te,ae,me){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(ae))throw dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(L,z));L=he.x,z=he.y;var G=this.ctx.transform.applyToPoint(new o(0,Q)),le=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(G.x-le.x,2)+Math.pow(G.y-le.y,2))}Math.abs(ae-te)>=2*Math.PI&&(te=0,ae=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:Q,startAngle:te,endAngle:ae,counterclockwise:me})},f.prototype.arcTo=function(L,z,Q,te,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+Q,z),this.lineTo(L+Q,z+te),this.lineTo(L,z+te),this.lineTo(L,z),this.lineTo(L+Q,z),this.lineTo(L,z)},f.prototype.fillRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,Q,te),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(L,z,Q,te),this.stroke())},f.prototype.clearRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,Q,te))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(L){var z,Q,te,ae;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,Q=0,te=0,ae=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(me!==null)z=parseInt(me[1]),Q=parseInt(me[2]),te=parseInt(me[3]),ae=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(me[1]),Q=parseInt(me[2]),te=parseInt(me[3]),ae=parseFloat(me[4]);else{if(ae=1,typeof L=="string"&&L.charAt(0)!=="#"){var he=new cj(L);L=he.ok?he.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,Q=L.substring(2,3),Q+=Q,te=L.substring(3,4),te+=te):(z=L.substring(1,3),Q=L.substring(3,5),te=L.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:z,g:Q,b:te,a:ae,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof L!="string")throw dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var ae=W(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:L,x:z,y:Q,scale:me,angle:ae,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(L,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof L!="string")throw dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){te=isNaN(te)?void 0:te;var ae=W(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:L,x:z,y:Q,scale:me,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(L){if(typeof L!="string")throw dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),ae=z.getStringUnitWidth(L)*te/z.internal.scaleFactor,me=function(he){var G=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new me({width:ae*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(L){if(isNaN(L))throw dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(L,z,Q,te,ae,me){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(ae)||isNaN(me))throw dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(L,z,Q,te,ae,me);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(L,z,Q,te,ae,me){L=isNaN(L)?1:L,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,ae=isNaN(ae)?0:ae,me=isNaN(me)?0:me,this.ctx.transform=new l(L,z,Q,te,ae,me)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,z,Q,te,ae,me,he,G,le){var ce=this.pdf.getImageProperties(L),ue=1,Me=1,De=1,Ce=1;te!==void 0&&G!==void 0&&(De=G/te,Ce=le/ae,ue=ce.width/te*G/te,Me=ce.height/ae*le/ae),me===void 0&&(me=z,he=Q,z=0,Q=0),te!==void 0&&G===void 0&&(G=te,le=ae),te===void 0&&G===void 0&&(G=ce.width,le=ce.height);for(var ne,Ne=this.ctx.transform.decompose(),Ee=W(Ne.rotate.shx),xe=new l,Pe=(xe=(xe=(xe=xe.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new s(me-z*De,he-Q*Ce,te*ue,ae*Me)),ye=S.call(this,Pe),ke=[],be=0;be<ye.length;be+=1)ke.indexOf(ye[be])===-1&&ke.push(ye[be]);if(w(ke),this.autoPaging)for(var Ve=ke[0],Ge=ke[ke.length-1],at=Ve;at<Ge+1;at++){this.pdf.setPage(at);var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=at===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=at===1?0:Ze+(at-2)*ht;if(this.ctx.clip_path.length!==0){var ln=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ne,this.posX+this.margin[3],-We+ft+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=ln}var Pt=JSON.parse(JSON.stringify(Pe));Pt=b([Pt],this.posX+this.margin[3],-We+ft+this.ctx.prevPageLastElemOffset)[0];var Se=(at>Ve||at<Ge)&&x.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,ht,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Ee),Se&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Ee)};var S=function(L,z,Q){var te=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":te.push(Math.floor((L.y+ae)/Q)+1);break;case"arc":te.push(Math.floor((L.y+ae-L.radius)/Q)+1),te.push(Math.floor((L.y+ae+L.radius)/Q)+1);break;case"qct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);te.push(Math.floor((me.y+ae)/Q)+1),te.push(Math.floor((me.y+me.h+ae)/Q)+1);break;case"bct":var he=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);te.push(Math.floor((he.y+ae)/Q)+1),te.push(Math.floor((he.y+he.h+ae)/Q)+1);break;case"rect":te.push(Math.floor((L.y+ae)/Q)+1),te.push(Math.floor((L.y+L.h+ae)/Q)+1)}for(var G=0;G<te.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<te[G];)v.call(this);return te},v=function(){var L=this.fillStyle,z=this.strokeStyle,Q=this.font,te=this.lineCap,ae=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=Q,this.lineCap=te,this.lineWidth=ae,this.lineJoin=me},b=function(L,z,Q){for(var te=0;te<L.length;te++)switch(L[te].type){case"bct":L[te].x2+=z,L[te].y2+=Q;case"qct":L[te].x1+=z,L[te].y1+=Q;case"mt":case"lt":case"arc":default:L[te].x+=z,L[te].y+=Q}return L},w=function(L){return L.sort(function(z,Q){return z-Q})},T=function(L,z){for(var Q,te,ae=this.fillStyle,me=this.strokeStyle,he=this.lineCap,G=this.lineWidth,le=Math.abs(G*this.ctx.transform.scaleX),ce=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),De=[],Ce=0;Ce<Me.length;Ce++)if(Me[Ce].x!==void 0)for(var ne=S.call(this,Me[Ce]),Ne=0;Ne<ne.length;Ne+=1)De.indexOf(ne[Ne])===-1&&De.push(ne[Ne]);for(var Ee=0;Ee<De.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<De[Ee];)v.call(this);if(w(De),this.autoPaging)for(var xe=De[0],Pe=De[De.length-1],ye=xe;ye<Pe+1;ye++){this.pdf.setPage(ye),this.fillStyle=ae,this.strokeStyle=me,this.lineCap=he,this.lineWidth=le,this.lineJoin=ce;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=ye===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=ye===1?0:Ve+(ye-2)*Ge;if(this.ctx.clip_path.length!==0){var He=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-at+be+this.ctx.prevPageLastElemOffset),C.call(this,L,!0),this.path=He}if(te=JSON.parse(JSON.stringify(ue)),this.path=b(te,this.posX+this.margin[3],-at+be+this.ctx.prevPageLastElemOffset),z===!1||ye===0){var ft=(ye>xe||ye<Pe)&&x.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,Ge,null).clip().discardPath()),C.call(this,L,z),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=le,C.call(this,L,z),this.lineWidth=G;this.path=ue},C=function(L,z){if((L!=="stroke"||z||!y.call(this))&&(L==="stroke"||z||!p.call(this))){for(var Q,te,ae=[],me=this.path,he=0;he<me.length;he++){var G=me[he];switch(G.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:G,deltas:[],abs:[]});break;case"lt":var le=ae.length;if(me[he-1]&&!isNaN(me[he-1].x)&&(Q=[G.x-me[he-1].x,G.y-me[he-1].y],le>0)){for(;le>=0;le--)if(ae[le-1].close!==!0&&ae[le-1].begin!==!0){ae[le-1].deltas.push(Q),ae[le-1].abs.push(G);break}}break;case"bct":Q=[G.x1-me[he-1].x,G.y1-me[he-1].y,G.x2-me[he-1].x,G.y2-me[he-1].y,G.x-me[he-1].x,G.y-me[he-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var ce=me[he-1].x+2/3*(G.x1-me[he-1].x),ue=me[he-1].y+2/3*(G.y1-me[he-1].y),Me=G.x+2/3*(G.x1-G.x),De=G.y+2/3*(G.y1-G.y),Ce=G.x,ne=G.y;Q=[ce-me[he-1].x,ue-me[he-1].y,Me-me[he-1].x,De-me[he-1].y,Ce-me[he-1].x,ne-me[he-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(G)}}te=z?null:L==="stroke"?"stroke":"fill";for(var Ne=!1,Ee=0;Ee<ae.length;Ee++)if(ae[Ee].arc)for(var xe=ae[Ee].abs,Pe=0;Pe<xe.length;Pe++){var ye=xe[Pe];ye.type==="arc"?M.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,z,!Ne):$.call(this,ye.x,ye.y),Ne=!0}else if(ae[Ee].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(ae[Ee].begin!==!0){var ke=ae[Ee].start.x,be=ae[Ee].start.y;F.call(this,ae[Ee].deltas,ke,be),Ne=!0}te&&I.call(this,te),z&&U.call(this)}},k=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Q;case"top":return L+z-Q;case"hanging":return L+z-2*Q;case"middle":return L+z/2-Q;case"ideographic":return L;case"alphabetic":default:return L}},E=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,Q){this.colorStops.push([z,Q])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(L,z,Q,te,ae,me,he,G,le){for(var ce=R.call(this,Q,te,ae,me),ue=0;ue<ce.length;ue++){var Me=ce[ue];ue===0&&(le?O.call(this,Me.x1+L,Me.y1+z):$.call(this,Me.x1+L,Me.y1+z)),H.call(this,L,z,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}G?U.call(this):I.call(this,he)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(L,z){this.pdf.internal.out(n(L)+" "+r(z)+" m")},j=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Q=this.pdf.getTextDimensions(L.text),te=k.call(this,L.y),ae=E.call(this,te)-Q.h,me=this.ctx.transform.applyToPoint(new o(L.x,te)),he=this.ctx.transform.decompose(),G=new l;G=(G=(G=G.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var le,ce,ue,Me=this.ctx.transform.applyToRectangle(new s(L.x,te,Q.w,Q.h)),De=G.applyToRectangle(new s(L.x,ae,Q.w,Q.h)),Ce=S.call(this,De),ne=[],Ne=0;Ne<Ce.length;Ne+=1)ne.indexOf(Ce[Ne])===-1&&ne.push(Ce[Ne]);if(w(ne),this.autoPaging)for(var Ee=ne[0],xe=ne[ne.length-1],Pe=Ee;Pe<xe+1;Pe++){this.pdf.setPage(Pe);var ye=Pe===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ve=be-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],at=Ge-this.margin[3],He=Pe===1?0:ke+(Pe-2)*Ve;if(this.ctx.clip_path.length!==0){var ft=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-1*He+ye),C.call(this,"fill",!0),this.path=ft}var Ze=b([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-He+ye+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale);var ht=this.autoPaging!=="text";if(ht||Ze.y+Ze.h<=be){if(ht||Ze.y>=ye&&Ze.x<=Ge){var We=ht?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ge-Ze.x)[0],ln=b([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-He+ye+this.ctx.prevPageLastElemOffset)[0],Pt=ht&&(Pe>Ee||Pe<xe)&&x.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ve,null).clip().discardPath()),this.pdf.text(We,ln.x,ln.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else Ze.y<be&&(this.ctx.prevPageLastElemOffset+=be-Ze.y);L.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)}else L.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale),this.pdf.text(L.text,me.x+this.posX,me.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)},$=function(L,z,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(L+Q)+" "+r(z+te)+" l")},F=function(L,z,Q){return this.pdf.lines(L,z,Q,null,null)},H=function(L,z,Q,te,ae,me,he,G){this.pdf.internal.out([e(i(Q+L)),e(a(te+z)),e(i(ae+L)),e(a(me+z)),e(i(he+L)),e(a(G+z)),"c"].join(" "))},R=function(L,z,Q,te){for(var ae=2*Math.PI,me=Math.PI/2;z>Q;)z-=ae;var he=Math.abs(Q-z);he<ae&&te&&(he=ae-he);for(var G=[],le=te?-1:1,ce=z;he>1e-5;){var ue=ce+le*Math.min(he,me);G.push(B.call(this,L,ce,ue)),he-=Math.abs(ue-ce),ce=ue}return G},B=function(L,z,Q){var te=(Q-z)/2,ae=L*Math.cos(te),me=L*Math.sin(te),he=ae,G=-me,le=he*he+G*G,ce=le+he*ae+G*me,ue=4/3*(Math.sqrt(2*le*ce)-ce)/(he*me-G*ae),Me=he-ue*G,De=G+ue*he,Ce=Me,ne=-De,Ne=te+z,Ee=Math.cos(Ne),xe=Math.sin(Ne);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:Me*Ee-De*xe,y2:Me*xe+De*Ee,x3:Ce*Ee-ne*xe,y3:Ce*xe+ne*Ee,x4:L*Math.cos(Q),y4:L*Math.sin(Q)}},W=function(L){return 180*L/Math.PI},K=function(L,z,Q,te,ae,me){var he=L+.5*(Q-L),G=z+.5*(te-z),le=ae+.5*(Q-ae),ce=me+.5*(te-me),ue=Math.min(L,ae,he,le),Me=Math.max(L,ae,he,le),De=Math.min(z,me,G,ce),Ce=Math.max(z,me,G,ce);return new s(ue,De,Me-ue,Ce-De)},Z=function(L,z,Q,te,ae,me,he,G){var le,ce,ue,Me,De,Ce,ne,Ne,Ee,xe,Pe,ye,ke,be,Ve=Q-L,Ge=te-z,at=ae-Q,He=me-te,ft=he-ae,Ze=G-me;for(ce=0;ce<41;ce++)Ee=(ne=(ue=L+(le=ce/40)*Ve)+le*((De=Q+le*at)-ue))+le*(De+le*(ae+le*ft-De)-ne),xe=(Ne=(Me=z+le*Ge)+le*((Ce=te+le*He)-Me))+le*(Ce+le*(me+le*Ze-Ce)-Ne),ce==0?(Pe=Ee,ye=xe,ke=Ee,be=xe):(Pe=Math.min(Pe,Ee),ye=Math.min(ye,xe),ke=Math.max(ke,Ee),be=Math.max(be,xe));return new s(Math.round(Pe),Math.round(ye),Math.round(ke-Pe),Math.round(be-ye))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,Q=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(lt.API),function(t){var e=function(a){var o,s,l,u,c,f,A,p,y,x;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(x=c%85))/85)-(y=c%85))/85)-(p=c%85))/85)-(A=c%85))/85)%85,s.push(f+33,A+33,p+33,y+33,x+33)):s.push(122);return function(S,v){for(var b=v;b>0;b--)S.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,f=String,A="length",p=255,y="charCodeAt",x="slice",S="replace";for(a[x](-2),a=a[x](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[x](a[A]%5||5))[A];c>u;u+=5)s=52200625*(a[y](u)-33)+614125*(a[y](u+1)-33)+7225*(a[y](u+2)-33)+85*(a[y](u+3)-33)+(a[y](u+4)-33),l.push(p&s>>24,p&s>>16,p&s>>8,p&s);return function(v,b){for(var w=b;w>0;w--)v.pop()}(l,o[A]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=n2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(lt.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,A=0,p=function(y){var x=y.length,S=[],v=String.fromCharCode;for(A=0;A<x;A+=1)S.push(v(255&y.charCodeAt(A)));return S.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(p(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(lt.API),function(t){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):hl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):hl(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=en(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),A=u.firstChild;A;A=A.nextSibling)c!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||f.appendChild(l(A,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var A=0;A<u.length;++A){var p=u[A],y=p.src.find(function(x){return x.format==="truetype"});y&&l.addFont(y.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,lt.getPageSize=function(o,s,l){if(en(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var p,y=0,x=0;if(A.hasOwnProperty(f))y=A[f][1]/c,x=A[f][0]/c;else try{y=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>y&&(p=x,x=y,y=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>x&&(p=x,x=y,y=p)}return{width:x,height:y,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(l2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(lt.API),lt.API.addJS=function(t){return YC=t,this.internal.events.subscribe("postPutResources",function(){jm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),WC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+YC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jm!==void 0&&WC!==void 0&&this.internal.out("/Names <</JavaScript "+jm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var A=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var A,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,x={width:0,height:0,numcomponents:1},S=4;S<y;S+=2){if(S+=p,e.indexOf(f.charCodeAt(S+1))!==-1){A=256*f.charCodeAt(S+5)+f.charCodeAt(S+6),x={width:256*f.charCodeAt(S+7)+f.charCodeAt(S+8),height:A,numcomponents:f.charCodeAt(S+9)};break}p=256*f.charCodeAt(S+2)+f.charCodeAt(S+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(lt.API);var gc,Im,KC,JC,XC,KB=function(){var t,e,n;function r(a){var o,s,l,u,c,f,A,p,y,x,S,v,b,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),y=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":A=(S=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,S.slice(0,A)),this.text[p]=String.fromCharCode.apply(String,S.slice(A+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,A,p,y){var x,S,v,b,w,T,C,k,E,M,I,U,O,j,$,F,H,R,B,W,K,Z=Math.ceil((u.width-f)/p),se=Math.ceil((u.height-A)/y),L=u.width==Z&&u.height==se;for(j=o*Z,U=L?s:new Uint8Array(j*se),T=a.length,O=0,S=0;O<se&&l<T;){switch(a[l++]){case 0:for(b=H=0;H<j;b=H+=1)U[S++]=a[l++];break;case 1:for(b=R=0;R<j;b=R+=1)x=a[l++],w=b<o?0:U[S-o],U[S++]=(x+w)%256;break;case 2:for(b=B=0;B<j;b=B+=1)x=a[l++],v=(b-b%o)/o,$=O&&U[(O-1)*j+v*o+b%o],U[S++]=($+x)%256;break;case 3:for(b=W=0;W<j;b=W+=1)x=a[l++],v=(b-b%o)/o,w=b<o?0:U[S-o],$=O&&U[(O-1)*j+v*o+b%o],U[S++]=(x+Math.floor((w+$)/2))%256;break;case 4:for(b=K=0;K<j;b=K+=1)x=a[l++],v=(b-b%o)/o,w=b<o?0:U[S-o],O===0?$=F=0:($=U[(O-1)*j+v*o+b%o],F=v&&U[(O-1)*j+(v-1)*o+b%o]),C=w+$-F,k=Math.abs(C-w),M=Math.abs(C-$),I=Math.abs(C-F),E=k<=M&&k<=I?w:M<=I?$:F,U[S++]=(x+E)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!L){var z=((A+O*y)*u.width+f)*o,Q=O*j;for(b=0;b<Z;b+=1){for(var te=0;te<o;te+=1)s[z++]=U[Q++];z+=(p-1)*o}}O++}}return a=CB(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,f,A,p;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=f=0,A=s.length;f<A;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(p=c[a++])!=null?p:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,f,A,p,y,x,S,v;if(l=this.colors,x=null,s=this.hasAlphaChannel,this.palette.length&&(x=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,s=!0),y=(u=a.data||a).length,f=x||o,c=A=0,l===1)for(;c<y;)p=x?4*o[c/4]:A,S=f[p++],u[c++]=S,u[c++]=S,u[c++]=S,u[c++]=s?f[p++]:255,A=p;else for(;c<y;)p=x?4*o[c/4]:A,u[c++]=f[p++],u[c++]=f[p++],u[c++]=f[p++],u[c++]=s?f[p++]:255,A=p},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(mt)==="[object Window]"){try{e=mt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,f,A,p;if(this.animation){for(p=[],s=c=0,f=(A=this.animation.frames).length;c<f;s=++c)o=A[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,f,A=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(o=function(){var p,y;if(p=s++%u,y=l[p],A.renderFrame(a,p),u>1&&s/u<c)return A.animation._timeout=setTimeout(o,y.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function JB(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,A=null,p=0,y=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];f=t[e++]|t[e++]<<8,A=t[e++],!(1&x)&&(A=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,k=1<<(7&T)+1,E=s,M=l,I=!1;T>>7&&(I=!0,E=e,M=k,e+=3*k);var U=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x:S,y:v,width:b,height:w,has_local_palette:I,palette_offset:E,palette_size:M,data_offset:U,data_length:e-U,transparent_index:A,interlaced:!!C,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(j){if(j<0||j>=c.length)throw new Error("Frame index out of range.");return c[j]},this.decodeAndBlitFrameBGRA=function(j,$){var F=this.frameInfo(j),H=F.width*F.height,R=new Uint8Array(H);QC(t,F.data_offset,R,H);var B=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var K=F.width,Z=n-K,se=K,L=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=L,te=4*Z;F.interlaced===!0&&(te+=4*n*7);for(var ae=8,me=0,he=R.length;me<he;++me){var G=R[me];if(se===0&&(se=K,(Q+=te)>=z&&(te=4*Z+4*n*(ae-1),Q=L+(K+Z)*(ae<<1),ae>>=1)),G===W)Q+=4;else{var le=t[B+3*G],ce=t[B+3*G+1],ue=t[B+3*G+2];$[Q++]=ue,$[Q++]=ce,$[Q++]=le,$[Q++]=255}--se}},this.decodeAndBlitFrameRGBA=function(j,$){var F=this.frameInfo(j),H=F.width*F.height,R=new Uint8Array(H);QC(t,F.data_offset,R,H);var B=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var K=F.width,Z=n-K,se=K,L=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=L,te=4*Z;F.interlaced===!0&&(te+=4*n*7);for(var ae=8,me=0,he=R.length;me<he;++me){var G=R[me];if(se===0&&(se=K,(Q+=te)>=z&&(te=4*Z+4*n*(ae-1),Q=L+(K+Z)*(ae<<1),ae>>=1)),G===W)Q+=4;else{var le=t[B+3*G],ce=t[B+3*G+1],ue=t[B+3*G+2];$[Q++]=le,$[Q++]=ce,$[Q++]=ue,$[Q++]=255}--se}}}function QC(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,A=0,p=t[e++],y=new Int32Array(4096),x=null;;){for(;c<16&&p!==0;)f|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var S=f&u;if(f>>=l,c-=l,S!==a){if(S===o)break;for(var v=S<s?S:x,b=0,w=v;w>a;)w=y[w]>>8,++b;var T=w;if(A+b+(v!==S?1:0)>r)return void dn.log("Warning, gif stream longer than expected.");n[A++]=T;var C=A+=b;for(v!==S&&(n[A++]=T),w=v;b--;)w=y[w],n[--C]=255&w,w>>=8;x!==null&&s<4096&&(y[s++]=x<<8|T,s>=u+1&&l<12&&(++l,u=u<<1|1)),x=S}else s=o+1,u=(1<<(l=i+1))-1,x=null}return A!==r&&dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function c1(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),A=new Array(65535),p=new Array(64),y=new Array(64),x=[],S=0,v=7,b=new Array(64),w=new Array(64),T=new Array(64),C=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(L,z){for(var Q=0,te=0,ae=new Array,me=1;me<=16;me++){for(var he=1;he<=L[me];he++)ae[z[te]]=[],ae[z[te]][0]=Q,ae[z[te]][1]=me,te++,Q++;Q*=2}return ae}function B(L){for(var z=L[0],Q=L[1]-1;Q>=0;)z&1<<Q&&(S|=1<<v),Q--,--v<0&&(S==255?(W(255),W(0)):W(S),v=7,S=0)}function W(L){x.push(L)}function K(L){W(L>>8&255),W(255&L)}function Z(L,z,Q,te,ae){for(var me,he=ae[0],G=ae[240],le=function(xe,Pe){var ye,ke,be,Ve,Ge,at,He,ft,Ze,ht,We=0;for(Ze=0;Ze<8;++Ze){ye=xe[We],ke=xe[We+1],be=xe[We+2],Ve=xe[We+3],Ge=xe[We+4],at=xe[We+5],He=xe[We+6];var ln=ye+(ft=xe[We+7]),Pt=ye-ft,Se=ke+He,Be=ke-He,nt=be+at,At=be-at,ot=Ve+Ge,An=Ve-Ge,Et=ln+ot,lr=ln-ot,ai=Se+nt,un=Se-nt;xe[We]=Et+ai,xe[We+4]=Et-ai;var ut=.707106781*(un+lr);xe[We+2]=lr+ut,xe[We+6]=lr-ut;var jt=.382683433*((Et=An+At)-(un=Be+Pt)),oi=.5411961*Et+jt,qn=1.306562965*un+jt,ur=.707106781*(ai=At+Be),ze=Pt+ur,Ke=Pt-ur;xe[We+5]=Ke+oi,xe[We+3]=Ke-oi,xe[We+1]=ze+qn,xe[We+7]=ze-qn,We+=8}for(We=0,Ze=0;Ze<8;++Ze){ye=xe[We],ke=xe[We+8],be=xe[We+16],Ve=xe[We+24],Ge=xe[We+32],at=xe[We+40],He=xe[We+48];var nn=ye+(ft=xe[We+56]),br=ye-ft,cn=ke+He,jn=ke-He,In=be+at,Ft=be-at,Ga=Ve+Ge,yo=Ve-Ge,ba=nn+Ga,xa=nn-Ga,wa=cn+In,Wa=cn-In;xe[We]=ba+wa,xe[We+32]=ba-wa;var zi=.707106781*(Wa+xa);xe[We+16]=xa+zi,xe[We+48]=xa-zi;var Ya=.382683433*((ba=yo+Ft)-(Wa=jn+br)),Sl=.5411961*ba+Ya,Bu=1.306562965*Wa+Ya,Uu=.707106781*(wa=Ft+jn),qu=br+Uu,Hu=br-Uu;xe[We+40]=Hu+Sl,xe[We+24]=Hu-Sl,xe[We+8]=qu+Bu,xe[We+56]=qu-Bu,We++}for(Ze=0;Ze<64;++Ze)ht=xe[Ze]*Pe[Ze],p[Ze]=ht>0?ht+.5|0:ht-.5|0;return p}(L,z),ce=0;ce<64;++ce)y[E[ce]]=le[ce];var ue=y[0]-Q;Q=y[0],ue==0?B(te[0]):(B(te[A[me=32767+ue]]),B(f[me]));for(var Me=63;Me>0&&y[Me]==0;)Me--;if(Me==0)return B(he),Q;for(var De,Ce=1;Ce<=Me;){for(var ne=Ce;y[Ce]==0&&Ce<=Me;)++Ce;var Ne=Ce-ne;if(Ne>=16){De=Ne>>4;for(var Ee=1;Ee<=De;++Ee)B(G);Ne&=15}me=32767+y[Ce],B(ae[(Ne<<4)+A[me]]),B(f[me]),Ce++}return Me!=63&&B(he),Q}function se(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ae=o((Q[te]*z+50)/100);ae=Math.min(Math.max(ae,1),255),s[E[te]]=ae}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var G=o((me[he]*z+50)/100);G=Math.min(Math.max(G,1),255),l[E[he]]=G}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ce=0,ue=0;ue<8;ue++)for(var Me=0;Me<8;Me++)u[ce]=1/(s[E[ce]]*le[ue]*le[Me]*8),c[ce]=1/(l[E[ce]]*le[ue]*le[Me]*8),ce++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,z){z&&se(z),x=new Array,S=0,v=7,K(65496),K(65504),K(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),K(1),K(1),W(0),W(0),function(){K(65499),K(132),W(0);for(var ke=0;ke<64;ke++)W(s[ke]);W(1);for(var be=0;be<64;be++)W(l[be])}(),function(ke,be){K(65472),K(17),W(8),K(be),K(ke),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(L.width,L.height),function(){K(65476),K(418),W(0);for(var ke=0;ke<16;ke++)W(M[ke+1]);for(var be=0;be<=11;be++)W(I[be]);W(16);for(var Ve=0;Ve<16;Ve++)W(U[Ve+1]);for(var Ge=0;Ge<=161;Ge++)W(O[Ge]);W(1);for(var at=0;at<16;at++)W(j[at+1]);for(var He=0;He<=11;He++)W($[He]);W(17);for(var ft=0;ft<16;ft++)W(F[ft+1]);for(var Ze=0;Ze<=161;Ze++)W(H[Ze])}(),K(65498),K(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,te=0,ae=0;S=0,v=7,this.encode.displayName="_encode_";for(var me,he,G,le,ce,ue,Me,De,Ce,ne=L.data,Ne=L.width,Ee=L.height,xe=4*Ne,Pe=0;Pe<Ee;){for(me=0;me<xe;){for(ce=xe*Pe+me,Me=-1,De=0,Ce=0;Ce<64;Ce++)ue=ce+(De=Ce>>3)*xe+(Me=4*(7&Ce)),Pe+De>=Ee&&(ue-=xe*(Pe+1+De-Ee)),me+Me>=xe&&(ue-=me+Me-xe+4),he=ne[ue++],G=ne[ue++],le=ne[ue++],b[Ce]=(k[he]+k[G+256>>0]+k[le+512>>0]>>16)-128,w[Ce]=(k[he+768>>0]+k[G+1024>>0]+k[le+1280>>0]>>16)-128,T[Ce]=(k[he+1280>>0]+k[G+1536>>0]+k[le+1792>>0]>>16)-128;Q=Z(b,u,Q,e,r),te=Z(w,c,te,n,i),ae=Z(T,c,ae,n,i),me+=32}Pe+=8}if(v>=0){var ye=[];ye[1]=v+1,ye[0]=(1<<v+1)-1,B(ye)}return K(65497),new Uint8Array(x)},t=t||50,function(){for(var L=String.fromCharCode,z=0;z<256;z++)C[z]=L(z)}(),e=R(M,I),n=R(j,$),r=R(U,O),i=R(F,H),function(){for(var L=1,z=2,Q=1;Q<=15;Q++){for(var te=L;te<z;te++)A[32767+te]=Q,f[32767+te]=[],f[32767+te][1]=Q,f[32767+te][0]=te;for(var ae=-(z-1);ae<=-L;ae++)A[32767+ae]=Q,f[32767+ae]=[],f[32767+ae][1]=Q,f[32767+ae][0]=z-1+ae;L<<=1,z<<=1}}(),function(){for(var L=0;L<256;L++)k[L]=19595*L,k[L+256>>0]=38470*L,k[L+512>>0]=7471*L+32768,k[L+768>>0]=-11059*L,k[L+1024>>0]=-21709*L,k[L+1280>>0]=32768*L+8421375,k[L+1536>>0]=-27439*L,k[L+1792>>0]=-5329*L}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZC(t){function e(M){if(!M)throw Error("assert :P")}function n(M,I,U){for(var O=0;4>O;O++)if(M[I+O]!=U.charCodeAt(O))return!0;return!1}function r(M,I,U,O,j){for(var $=0;$<j;$++)M[I+$]=U[O+$]}function i(M,I,U,O){for(var j=0;j<O;j++)M[I+j]=U}function a(M){return new Int32Array(M)}function o(M,I){for(var U=[],O=0;O<M;O++)U.push(new I);return U}function s(M,I){var U=[];return function O(j,$,F){for(var H=F[$],R=0;R<H&&(j.push(F.length>$+1?[]:new I),!(F.length<$+1));R++)O(j[R],$+1,F)}(U,0,M),U}var l=function(){var M=this;function I(g,_){for(var P=1<<_-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function U(g,_,P,D,q){e(!(D%P));do g[_+(D-=P)]=q;while(0<D)}function O(g,_,P,D,q){if(e(2328>=q),512>=q)var Y=a(512);else if((Y=a(q))==null)return 0;return function(J,X,ee,ie,pe,_e){var Te,ve,$e=X,Oe=1<<ee,Ae=a(16),ge=a(16);for(e(pe!=0),e(ie!=null),e(J!=null),e(0<ee),ve=0;ve<pe;++ve){if(15<ie[ve])return 0;++Ae[ie[ve]]}if(Ae[0]==pe)return 0;for(ge[1]=0,Te=1;15>Te;++Te){if(Ae[Te]>1<<Te)return 0;ge[Te+1]=ge[Te]+Ae[Te]}for(ve=0;ve<pe;++ve)Te=ie[ve],0<ie[ve]&&(_e[ge[Te]++]=ve);if(ge[15]==1)return(ie=new j).g=0,ie.value=_e[0],U(J,$e,1,Oe,ie),Oe;var Le,Ue=-1,Fe=Oe-1,et=0,Je=1,ct=1,Xe=1<<ee;for(ve=0,Te=1,pe=2;Te<=ee;++Te,pe<<=1){if(Je+=ct<<=1,0>(ct-=Ae[Te]))return 0;for(;0<Ae[Te];--Ae[Te])(ie=new j).g=Te,ie.value=_e[ve++],U(J,$e+et,pe,Xe,ie),et=I(et,Te)}for(Te=ee+1,pe=2;15>=Te;++Te,pe<<=1){if(Je+=ct<<=1,0>(ct-=Ae[Te]))return 0;for(;0<Ae[Te];--Ae[Te]){if(ie=new j,(et&Fe)!=Ue){for($e+=Xe,Le=1<<(Ue=Te)-ee;15>Ue&&!(0>=(Le-=Ae[Ue]));)++Ue,Le<<=1;Oe+=Xe=1<<(Le=Ue-ee),J[X+(Ue=et&Fe)].g=Le+ee,J[X+Ue].value=$e-X-Ue}ie.g=Te-ee,ie.value=_e[ve++],U(J,$e+(et>>ee),pe,Xe,ie),et=I(et,Te)}}return Je!=2*ge[15]-1?0:Oe}(g,_,P,D,q,Y)}function j(){this.value=this.g=0}function $(){this.value=this.g=0}function F(){this.G=o(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pr,$)}function H(g,_,P,D){e(g!=null),e(_!=null),e(2147483648>D),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=P,g.Jd=_,g.Yc=P+D,g.Zc=4<=D?P+D-4+1:P,me(g)}function R(g,_){for(var P=0;0<_--;)P|=G(g,128)<<_;return P}function B(g,_){var P=R(g,_);return he(g)?-P:P}function W(g,_,P,D){var q,Y=0;for(e(g!=null),e(_!=null),e(4294967288>D),g.Sb=D,g.Ra=0,g.u=0,g.h=0,4<D&&(D=4),q=0;q<D;++q)Y+=_[P+q]<<8*q;g.Ra=Y,g.bb=D,g.oa=_,g.pa=P}function K(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<ic-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function Z(g,_){if(e(0<=_),!g.h&&_<=rc){var P=z(g)&nc[_];return g.u+=_,K(g),P}return g.h=1,g.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&ic-1)>>>0}function Q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>ic}function te(g,_){g.u=_,g.h=Q(g)}function ae(g){g.u>=Ud&&(e(g.u>=Ud),K(g))}function me(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function he(g){return R(g,1)}function G(g,_){var P=g.Ca;0>g.b&&me(g);var D=g.b,q=P*_>>>8,Y=(g.I>>>D>q)+0;for(Y?(P-=q,g.I-=q+1<<D>>>0):P=q+1,D=P,q=0;256<=D;)q+=8,D>>=8;return D=7^q+li[D],g.b-=D,g.Ca=(P<<D)-1,Y}function le(g,_,P){g[_+0]=P>>24&255,g[_+1]=P>>16&255,g[_+2]=P>>8&255,g[_+3]=P>>0&255}function ce(g,_){return g[_+0]<<0|g[_+1]<<8}function ue(g,_){return ce(g,_)|g[_+2]<<16}function Me(g,_){return ce(g,_)|ce(g,_+2)<<16}function De(g,_){var P=1<<_;return e(g!=null),e(0<_),g.X=a(P),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Ce(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function Ne(g,_,P,D){e(P!=null),e(D!=null);var q=P[0],Y=D[0];return q==0&&(q=(g*Y+_/2)/_),Y==0&&(Y=(_*q+g/2)/g),0>=q||0>=Y?0:(P[0]=q,D[0]=Y,1)}function Ee(g,_){return g+(1<<_)-1>>>_}function xe(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Pe(g,_){M[_]=function(P,D,q,Y,J,X,ee){var ie;for(ie=0;ie<J;++ie){var pe=M[g](X[ee+ie-1],q,Y+ie);X[ee+ie]=xe(P[D+ie],pe)}}}function ye(){this.ud=this.hd=this.jd=0}function ke(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function be(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ve(g,_){return be(g+(g-_+.5>>1))}function Ge(g,_,P){return Math.abs(_-P)-Math.abs(g-P)}function at(g,_,P,D,q,Y,J){for(D=Y[J-1],P=0;P<q;++P)Y[J+P]=D=xe(g[_+P],D)}function He(g,_,P,D,q){var Y;for(Y=0;Y<P;++Y){var J=g[_+Y],X=J>>8&255,ee=16711935&(ee=(ee=16711935&J)+((X<<16)+X));D[q+Y]=(4278255360&J)+ee>>>0}}function ft(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function Ze(g,_,P,D,q,Y){var J;for(J=0;J<D;++J){var X=_[P+J],ee=X>>>8,ie=X,pe=255&(pe=(pe=X>>>16)+((g.jd<<24>>24)*(ee<<24>>24)>>>5));ie=255&(ie=(ie=ie+((g.hd<<24>>24)*(ee<<24>>24)>>>5))+((g.ud<<24>>24)*(pe<<24>>24)>>>5)),q[Y+J]=(4278255360&X)+(pe<<16)+ie}}function ht(g,_,P,D,q){M[_]=function(Y,J,X,ee,ie,pe,_e,Te,ve){for(ee=_e;ee<Te;++ee)for(_e=0;_e<ve;++_e)ie[pe++]=q(X[D(Y[J++])])},M[g]=function(Y,J,X,ee,ie,pe,_e){var Te=8>>Y.b,ve=Y.Ea,$e=Y.K[0],Oe=Y.w;if(8>Te)for(Y=(1<<Y.b)-1,Oe=(1<<Te)-1;J<X;++J){var Ae,ge=0;for(Ae=0;Ae<ve;++Ae)Ae&Y||(ge=D(ee[ie++])),pe[_e++]=q($e[ge&Oe]),ge>>=Te}else M["VP8LMapColor"+P](ee,ie,$e,Oe,pe,_e,J,X,ve)}}function We(g,_,P,D,q){for(P=_+P;_<P;){var Y=g[_++];D[q++]=Y>>16&255,D[q++]=Y>>8&255,D[q++]=Y>>0&255}}function ln(g,_,P,D,q){for(P=_+P;_<P;){var Y=g[_++];D[q++]=Y>>16&255,D[q++]=Y>>8&255,D[q++]=Y>>0&255,D[q++]=Y>>24&255}}function Pt(g,_,P,D,q){for(P=_+P;_<P;){var Y=(J=g[_++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;D[q++]=Y,D[q++]=J}}function Se(g,_,P,D,q){for(P=_+P;_<P;){var Y=(J=g[_++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;D[q++]=Y,D[q++]=J}}function Be(g,_,P,D,q){for(P=_+P;_<P;){var Y=g[_++];D[q++]=Y>>0&255,D[q++]=Y>>8&255,D[q++]=Y>>16&255}}function nt(g,_,P,D,q,Y){if(Y==0)for(P=_+P;_<P;)le(D,((Y=g[_++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),q+=32;else r(D,q,g,_,P)}function At(g,_){M[_][0]=M[g+"0"],M[_][1]=M[g+"1"],M[_][2]=M[g+"2"],M[_][3]=M[g+"3"],M[_][4]=M[g+"4"],M[_][5]=M[g+"5"],M[_][6]=M[g+"6"],M[_][7]=M[g+"7"],M[_][8]=M[g+"8"],M[_][9]=M[g+"9"],M[_][10]=M[g+"10"],M[_][11]=M[g+"11"],M[_][12]=M[g+"12"],M[_][13]=M[g+"13"],M[_][14]=M[g+"0"],M[_][15]=M[g+"0"]}function ot(g){return g==ib||g==ab||g==tm||g==ob}function An(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new An,this.f.kb=new Et,this.sd=null}function ai(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function un(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function jt(g,_){var P=g.T,D=_.ba.f.RGBA,q=D.eb,Y=D.fb+g.ka*D.A,J=Ji[_.ba.S],X=g.y,ee=g.O,ie=g.f,pe=g.N,_e=g.ea,Te=g.W,ve=_.cc,$e=_.dc,Oe=_.Mc,Ae=_.Nc,ge=g.ka,Le=g.ka+g.T,Ue=g.U,Fe=Ue+1>>1;for(ge==0?J(X,ee,null,null,ie,pe,_e,Te,ie,pe,_e,Te,q,Y,null,null,Ue):(J(_.ec,_.fc,X,ee,ve,$e,Oe,Ae,ie,pe,_e,Te,q,Y-D.A,q,Y,Ue),++P);ge+2<Le;ge+=2)ve=ie,$e=pe,Oe=_e,Ae=Te,pe+=g.Rc,Te+=g.Rc,Y+=2*D.A,J(X,(ee+=2*g.fa)-g.fa,X,ee,ve,$e,Oe,Ae,ie,pe,_e,Te,q,Y-D.A,q,Y,Ue);return ee+=g.fa,g.j+Le<g.o?(r(_.ec,_.fc,X,ee,Ue),r(_.cc,_.dc,ie,pe,Fe),r(_.Mc,_.Nc,_e,Te,Fe),P--):1&Le||J(X,ee,null,null,ie,pe,_e,Te,ie,pe,_e,Te,q,Y+D.A,null,null,Ue),P}function oi(g,_,P){var D=g.F,q=[g.J];if(D!=null){var Y=g.U,J=_.ba.S,X=J==em||J==tm;_=_.ba.f.RGBA;var ee=[0],ie=g.ka;ee[0]=g.T,g.Kb&&(ie==0?--ee[0]:(--ie,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(ee[0]=g.o-g.j-ie));var pe=_.eb;ie=_.fb+ie*_.A,g=gn(D,q[0],g.width,Y,ee,pe,ie+(X?0:3),_.A),e(P==ee),g&&ot(J)&&Yi(pe,ie,X,Y,ee,_.A)}return 0}function qn(g){var _=g.ma,P=_.ba.S,D=11>P,q=P==QA||P==ZA||P==em||P==rb||P==12||ot(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!$d(_.Oa,g,q?11:12))return 0;if(q&&ot(P)&&qe(),g.da)alert("todo:use_scaling");else{if(D){if(_.Ib=ut,g.Kb){if(P=g.U+1>>1,_.memory=a(g.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=jt,qe()}}else alert("todo:EmitYUV");q&&(_.Jb=oi,D&&we())}if(D&&!U_){for(g=0;256>g;++g)H8[g]=89858*(g-128)+rm>>nm,G8[g]=-22014*(g-128)+rm,V8[g]=-45773*(g-128),z8[g]=113618*(g-128)+rm>>nm;for(g=Yd;g<ub;++g)_=76283*(g-16)+rm>>nm,W8[g-Yd]=_i(_,255),Y8[g-Yd]=_i(_+8>>4,15);U_=1}return 1}function ur(g){var _=g.ma,P=g.U,D=g.T;return e(!(1&g.ka)),0>=P||0>=D?0:(P=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,P),_.Dc+=P,1)}function ze(g){g.ma.memory=null}function Ke(g,_,P,D){return Z(g,8)!=47?0:(_[0]=Z(g,14)+1,P[0]=Z(g,14)+1,D[0]=Z(g,1),Z(g,3)!=0?0:!g.h)}function nn(g,_){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+Z(_,P)+1}function br(g,_){return 120<_?_-120:1<=(P=((P=k8[_-1])>>4)*g+(8-(15&P)))?P:1;var P}function cn(g,_,P){var D=z(P),q=g[_+=255&D].g-8;return 0<q&&(te(P,P.u+8),D=z(P),_+=g[_].value,_+=D&(1<<q)-1),te(P,P.u+g[_].g),g[_].value}function jn(g,_,P){return P.g+=g.g,P.value+=g.value<<_>>>0,e(8>=P.g),g.g}function In(g,_,P){var D=g.xc;return e((_=D==0?0:g.vc[g.md*(P>>D)+(_>>D)])<g.Wb),g.Ya[_]}function Ft(g,_,P,D){var q=g.ab,Y=g.c*_,J=g.C;_=J+_;var X=P,ee=D;for(D=g.Ta,P=g.Ua;0<q--;){var ie=g.gc[q],pe=J,_e=_,Te=X,ve=ee,$e=(ee=D,X=P,ie.Ea);switch(e(pe<_e),e(_e<=ie.nc),ie.hc){case 2:VA(Te,ve,(_e-pe)*$e,ee,X);break;case 0:var Oe=pe,Ae=_e,ge=ee,Le=X,Ue=(Xe=ie).Ea;Oe==0&&(tb(Te,ve,null,null,1,ge,Le),at(Te,ve+1,0,0,Ue-1,ge,Le+1),ve+=Ue,Le+=Ue,++Oe);for(var Fe=1<<Xe.b,et=Fe-1,Je=Ee(Ue,Xe.b),ct=Xe.K,Xe=Xe.w+(Oe>>Xe.b)*Je;Oe<Ae;){var zt=ct,Kt=Xe,Ut=1;for(qd(Te,ve,ge,Le-Ue,1,ge,Le);Ut<Ue;){var Lt=(Ut&~et)+Fe;Lt>Ue&&(Lt=Ue),(0,As[zt[Kt++]>>8&15])(Te,ve+ +Ut,ge,Le+Ut-Ue,Lt-Ut,ge,Le+Ut),Ut=Lt}ve+=Ue,Le+=Ue,++Oe&et||(Xe+=Je)}_e!=ie.nc&&r(ee,X-$e,ee,X+(_e-pe-1)*$e,$e);break;case 1:for($e=Te,Ae=ve,Ue=(Te=ie.Ea)-(Le=Te&~(ge=(ve=1<<ie.b)-1)),Oe=Ee(Te,ie.b),Fe=ie.K,ie=ie.w+(pe>>ie.b)*Oe;pe<_e;){for(et=Fe,Je=ie,ct=new ye,Xe=Ae+Le,zt=Ae+Te;Ae<Xe;)ft(et[Je++],ct),El(ct,$e,Ae,ve,ee,X),Ae+=ve,X+=ve;Ae<zt&&(ft(et[Je++],ct),El(ct,$e,Ae,Ue,ee,X),Ae+=Ue,X+=Ue),++pe&ge||(ie+=Oe)}break;case 3:if(Te==ee&&ve==X&&0<ie.b){for(Ae=ee,Te=$e=X+(_e-pe)*$e-(Le=(_e-pe)*Ee(ie.Ea,ie.b)),ve=ee,ge=X,Oe=[],Le=(Ue=Le)-1;0<=Le;--Le)Oe[Le]=ve[ge+Le];for(Le=Ue-1;0<=Le;--Le)Ae[Te+Le]=Oe[Le];Vi(ie,pe,_e,ee,$e,ee,X)}else Vi(ie,pe,_e,Te,ve,ee,X)}X=D,ee=P}ee!=P&&r(D,P,X,ee,Y)}function Ga(g,_){var P=g.V,D=g.Ba+g.c*g.C,q=_-g.C;if(e(_<=g.l.o),e(16>=q),0<q){var Y=g.l,J=g.Ta,X=g.Ua,ee=Y.width;if(Ft(g,q,P,D),q=X=[X],e((P=g.C)<(D=_)),e(Y.v<Y.va),D>Y.o&&(D=Y.o),P<Y.j){var ie=Y.j-P;P=Y.j,q[0]+=ie*ee}if(P>=D?P=0:(q[0]+=4*Y.v,Y.ka=P-Y.j,Y.U=Y.va-Y.v,Y.T=D-P,P=1),P){if(X=X[0],11>(P=g.ca).S){var pe=P.f.RGBA,_e=(D=P.S,q=Y.U,Y=Y.T,ie=pe.eb,pe.A),Te=Y;for(pe=pe.fb+g.Ma*pe.A;0<Te--;){var ve=J,$e=X,Oe=q,Ae=ie,ge=pe;switch(D){case XA:ui(ve,$e,Oe,Ae,ge);break;case QA:Kr(ve,$e,Oe,Ae,ge);break;case ib:Kr(ve,$e,Oe,Ae,ge),Yi(Ae,ge,0,Oe,1,0);break;case O_:So(ve,$e,Oe,Ae,ge);break;case ZA:nt(ve,$e,Oe,Ae,ge,1);break;case ab:nt(ve,$e,Oe,Ae,ge,1),Yi(Ae,ge,0,Oe,1,0);break;case em:nt(ve,$e,Oe,Ae,ge,0);break;case tm:nt(ve,$e,Oe,Ae,ge,0),Yi(Ae,ge,1,Oe,1,0);break;case rb:ms(ve,$e,Oe,Ae,ge);break;case ob:ms(ve,$e,Oe,Ae,ge),mn(Ae,ge,Oe,1,0);break;case j_:wo(ve,$e,Oe,Ae,ge);break;default:e(0)}X+=ee,pe+=_e}g.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=_,e(g.C<=g.i)}function yo(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var P=g.Ya[_].G,D=g.Ya[_].H;if(0<P[1][D[1]+0].g||0<P[2][D[2]+0].g||0<P[3][D[3]+0].g)return 0}return 1}function ba(g,_,P,D,q,Y){if(g.Z!=0){var J=g.qd,X=g.rd;for(e(bs[g.Z]!=null);_<P;++_)bs[g.Z](J,X,D,q,D,q,Y),J=D,X=q,q+=Y;g.qd=J,g.rd=X}}function xa(g,_){var P=g.l.ma,D=P.Z==0||P.Z==1?g.l.j:g.C;if(D=g.C<D?D:g.C,e(_<=g.l.o),_>D){var q=g.l.width,Y=P.ca,J=P.tb+q*D,X=g.V,ee=g.Ba+g.c*D,ie=g.gc;e(g.ab==1),e(ie[0].hc==3),GA(ie[0],D,_,X,ee,Y,J),ba(P,D,_,Y,J,q)}g.C=g.Ma=_}function wa(g,_,P,D,q,Y,J){var X=g.$/D,ee=g.$%D,ie=g.m,pe=g.s,_e=P+g.$,Te=_e;q=P+D*q;var ve=P+D*Y,$e=280+pe.ua,Oe=g.Pb?X:16777216,Ae=0<pe.ua?pe.Wa:null,ge=pe.wc,Le=_e<ve?In(pe,ee,X):null;e(g.C<Y),e(ve<=q);var Ue=!1;e:for(;;){for(;Ue||_e<ve;){var Fe=0;if(X>=Oe){var et=_e-P;e((Oe=g).Pb),Oe.wd=Oe.m,Oe.xd=et,0<Oe.s.ua&&Ce(Oe.s.Wa,Oe.s.vb),Oe=X+M8}if(ee&ge||(Le=In(pe,ee,X)),e(Le!=null),Le.Qb&&(_[_e]=Le.qb,Ue=!0),!Ue)if(ae(ie),Le.jc){Fe=ie,et=_;var Je=_e,ct=Le.pd[z(Fe)&Pr-1];e(Le.jc),256>ct.g?(te(Fe,Fe.u+ct.g),et[Je]=ct.value,Fe=0):(te(Fe,Fe.u+ct.g-256),e(256<=ct.value),Fe=ct.value),Fe==0&&(Ue=!0)}else Fe=cn(Le.G[0],Le.H[0],ie);if(ie.h)break;if(Ue||256>Fe){if(!Ue)if(Le.nd)_[_e]=(Le.qb|Fe<<8)>>>0;else{if(ae(ie),Ue=cn(Le.G[1],Le.H[1],ie),ae(ie),et=cn(Le.G[2],Le.H[2],ie),Je=cn(Le.G[3],Le.H[3],ie),ie.h)break;_[_e]=(Je<<24|Ue<<16|Fe<<8|et)>>>0}if(Ue=!1,++_e,++ee>=D&&(ee=0,++X,J!=null&&X<=Y&&!(X%16)&&J(g,X),Ae!=null))for(;Te<_e;)Fe=_[Te++],Ae.X[(506832829*Fe&4294967295)>>>Ae.Mb]=Fe}else if(280>Fe){if(Fe=nn(Fe-256,ie),et=cn(Le.G[4],Le.H[4],ie),ae(ie),et=br(D,et=nn(et,ie)),ie.h)break;if(_e-P<et||q-_e<Fe)break e;for(Je=0;Je<Fe;++Je)_[_e+Je]=_[_e+Je-et];for(_e+=Fe,ee+=Fe;ee>=D;)ee-=D,++X,J!=null&&X<=Y&&!(X%16)&&J(g,X);if(e(_e<=q),ee&ge&&(Le=In(pe,ee,X)),Ae!=null)for(;Te<_e;)Fe=_[Te++],Ae.X[(506832829*Fe&4294967295)>>>Ae.Mb]=Fe}else{if(!(Fe<$e))break e;for(Ue=Fe-280,e(Ae!=null);Te<_e;)Fe=_[Te++],Ae.X[(506832829*Fe&4294967295)>>>Ae.Mb]=Fe;Fe=_e,e(!(Ue>>>(et=Ae).Xa)),_[Fe]=et.X[Ue],Ue=!0}Ue||e(ie.h==Q(ie))}if(g.Pb&&ie.h&&_e<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ce(g.s.vb,g.s.Wa);else{if(ie.h)break e;J!=null&&J(g,X>Y?Y:X),g.a=0,g.$=_e-P}return 1}return g.a=3,0}function Wa(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function zi(){var g=new eb;return g==null?null:(g.a=0,g.xb=L_,At("Predictor","VP8LPredictors"),At("Predictor","VP8LPredictors_C"),At("PredictorAdd","VP8LPredictorsAdd"),At("PredictorAdd","VP8LPredictorsAdd_C"),VA=He,El=Ze,ui=We,Kr=ln,ms=Pt,wo=Se,So=Be,M.VP8LMapColor32b=ac,M.VP8LMapColor8b=WA,g)}function Ya(g,_,P,D,q){var Y=1,J=[g],X=[_],ee=D.m,ie=D.s,pe=null,_e=0;e:for(;;){if(P)for(;Y&&Z(ee,1);){var Te=J,ve=X,$e=D,Oe=1,Ae=$e.m,ge=$e.gc[$e.ab],Le=Z(Ae,2);if($e.Oc&1<<Le)Y=0;else{switch($e.Oc|=1<<Le,ge.hc=Le,ge.Ea=Te[0],ge.nc=ve[0],ge.K=[null],++$e.ab,e(4>=$e.ab),Le){case 0:case 1:ge.b=Z(Ae,3)+2,Oe=Ya(Ee(ge.Ea,ge.b),Ee(ge.nc,ge.b),0,$e,ge.K),ge.K=ge.K[0];break;case 3:var Ue,Fe=Z(Ae,8)+1,et=16<Fe?0:4<Fe?1:2<Fe?2:3;if(Te[0]=Ee(ge.Ea,et),ge.b=et,Ue=Oe=Ya(Fe,1,0,$e,ge.K)){var Je,ct=Fe,Xe=ge,zt=1<<(8>>Xe.b),Kt=a(zt);if(Kt==null)Ue=0;else{var Ut=Xe.K[0],Lt=Xe.w;for(Kt[0]=Xe.K[0][0],Je=1;Je<1*ct;++Je)Kt[Je]=xe(Ut[Lt+Je],Kt[Je-1]);for(;Je<4*zt;++Je)Kt[Je]=0;Xe.K[0]=null,Xe.K[0]=Kt,Ue=1}}Oe=Ue;break;case 2:break;default:e(0)}Y=Oe}}if(J=J[0],X=X[0],Y&&Z(ee,1)&&!(Y=1<=(_e=Z(ee,4))&&11>=_e)){D.a=3;break e}var fn;if(fn=Y)t:{var rn,Ct,Qn,ci=D,Zn=J,fi=X,Jt=_e,Ci=P,Ni=ci.m,wr=ci.s,Mr=[null],Xr=1,Xi=0,Qa=P8[Jt];n:for(;;){if(Ci&&Z(Ni,1)){var Sr=Z(Ni,3)+2,No=Ee(Zn,Sr),jl=Ee(fi,Sr),cc=No*jl;if(!Ya(No,jl,0,ci,Mr))break n;for(Mr=Mr[0],wr.xc=Sr,rn=0;rn<cc;++rn){var xs=Mr[rn]>>8&65535;Mr[rn]=xs,xs>=Xr&&(Xr=xs+1)}}if(Ni.h)break n;for(Ct=0;5>Ct;++Ct){var Rn=I_[Ct];!Ct&&0<Jt&&(Rn+=1<<Jt),Xi<Rn&&(Xi=Rn)}var cb=o(Xr*Qa,j),z_=Xr,V_=o(z_,F);if(V_==null)var am=null;else e(65536>=z_),am=V_;var Kd=a(Xi);if(am==null||Kd==null||cb==null){ci.a=1;break n}var om=cb;for(rn=Qn=0;rn<Xr;++rn){var Na=am[rn],fc=Na.G,dc=Na.H,G_=0,sm=1,W_=0;for(Ct=0;5>Ct;++Ct){Rn=I_[Ct],fc[Ct]=om,dc[Ct]=Qn,!Ct&&0<Jt&&(Rn+=1<<Jt);i:{var lm,fb=Rn,um=ci,Jd=Kd,X8=om,Q8=Qn,db=0,ws=um.m,Z8=Z(ws,1);if(i(Jd,0,0,fb),Z8){var e7=Z(ws,1)+1,t7=Z(ws,1),Y_=Z(ws,t7==0?1:8);Jd[Y_]=1,e7==2&&(Jd[Y_=Z(ws,8)]=1);var cm=1}else{var K_=a(19),J_=Z(ws,4)+4;if(19<J_){um.a=3;var fm=0;break i}for(lm=0;lm<J_;++lm)K_[E8[lm]]=Z(ws,3);var hb=void 0,Xd=void 0,X_=um,n7=K_,dm=fb,Q_=Jd,pb=0,Ss=X_.m,Z_=8,eT=o(128,j);r:for(;O(eT,0,7,n7,19);){if(Z(Ss,1)){var r7=2+2*Z(Ss,3);if((hb=2+Z(Ss,r7))>dm)break r}else hb=dm;for(Xd=0;Xd<dm&&hb--;){ae(Ss);var tT=eT[0+(127&z(Ss))];te(Ss,Ss.u+tT.g);var hc=tT.value;if(16>hc)Q_[Xd++]=hc,hc!=0&&(Z_=hc);else{var i7=hc==16,nT=hc-16,a7=C8[nT],rT=Z(Ss,T8[nT])+a7;if(Xd+rT>dm)break r;for(var o7=i7?Z_:0;0<rT--;)Q_[Xd++]=o7}}pb=1;break r}pb||(X_.a=3),cm=pb}(cm=cm&&!ws.h)&&(db=O(X8,Q8,8,Jd,fb)),cm&&db!=0?fm=db:(um.a=3,fm=0)}if(fm==0)break n;if(sm&&N8[Ct]==1&&(sm=om[Qn].g==0),G_+=om[Qn].g,Qn+=fm,3>=Ct){var Qd,Ab=Kd[0];for(Qd=1;Qd<Rn;++Qd)Kd[Qd]>Ab&&(Ab=Kd[Qd]);W_+=Ab}}if(Na.nd=sm,Na.Qb=0,sm&&(Na.qb=(fc[3][dc[3]+0].value<<24|fc[1][dc[1]+0].value<<16|fc[2][dc[2]+0].value)>>>0,G_==0&&256>fc[0][dc[0]+0].value&&(Na.Qb=1,Na.qb+=fc[0][dc[0]+0].value<<8)),Na.jc=!Na.Qb&&6>W_,Na.jc){var hm,Eo=Na;for(hm=0;hm<Pr;++hm){var _s=hm,Ts=Eo.pd[_s],pm=Eo.G[0][Eo.H[0]+_s];256<=pm.value?(Ts.g=pm.g+256,Ts.value=pm.value):(Ts.g=0,Ts.value=0,_s>>=jn(pm,8,Ts),_s>>=jn(Eo.G[1][Eo.H[1]+_s],16,Ts),_s>>=jn(Eo.G[2][Eo.H[2]+_s],0,Ts),jn(Eo.G[3][Eo.H[3]+_s],24,Ts))}}}wr.vc=Mr,wr.Wb=Xr,wr.Ya=am,wr.yc=cb,fn=1;break t}fn=0}if(!(Y=fn)){D.a=3;break e}if(0<_e){if(ie.ua=1<<_e,!De(ie.Wa,_e)){D.a=1,Y=0;break e}}else ie.ua=0;var mb=D,iT=J,s7=X,gb=mb.s,vb=gb.xc;if(mb.c=iT,mb.i=s7,gb.md=Ee(iT,vb),gb.wc=vb==0?-1:(1<<vb)-1,P){D.xb=F8;break e}if((pe=a(J*X))==null){D.a=1,Y=0;break e}Y=(Y=wa(D,pe,0,J,X,X,null))&&!ee.h;break e}return Y?(q!=null?q[0]=pe:(e(pe==null),e(P)),D.$=0,P||Wa(ie)):Wa(ie),Y}function Sl(g,_){var P=g.c*g.i,D=P+_+16*_;return e(g.c<=_),g.V=a(D),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+_,1)}function Bu(g,_){var P=g.C,D=_-P,q=g.V,Y=g.Ba+g.c*P;for(e(_<=g.l.o);0<D;){var J=16<D?16:D,X=g.l.ma,ee=g.l.width,ie=ee*J,pe=X.ca,_e=X.tb+ee*P,Te=g.Ta,ve=g.Ua;Ft(g,J,q,Y),Vn(Te,ve,pe,_e,ie),ba(X,P,P+J,pe,_e,ee),D-=J,q+=J*g.c,P+=J}e(P==_),g.C=g.Ma=_}function Uu(){this.ub=this.yd=this.td=this.Rb=0}function qu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Hu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function TA(){this.Yb=function(){var g=[];return function _(P,D,q){for(var Y=q[D],J=0;J<Y&&(P.push(q.length>D+1?[]:0),!(q.length<D+1));J++)_(P[J],D+1,q)}(g,0,[3,11]),g}()}function My(){this.jb=a(3),this.Wc=s([4,8],TA),this.Xc=s([4,17],TA)}function Oy(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function zu(){this.ld=this.La=this.dd=this.tc=0}function CA(){this.Na=this.la=0}function jy(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sd(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Iy(){this.uc=this.M=this.Nb=0,this.wa=Array(new zu),this.Y=0,this.ya=Array(new Sd),this.aa=0,this.l=new Vu}function NA(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Dy(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new Uu,this.Kc=new qu,this.ed=new Oy,this.Qa=new Hu,this.Ic=this.$c=this.Aa=0,this.D=new Iy,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,se),this.ia=0,this.pb=o(4,jy),this.Pa=new My,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new NA),this.Hd=0,this.rb=Array(new CA),this.sb=0,this.wa=Array(new zu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sd),this.L=this.aa=0,this.gd=s([4,2],zu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ly(){var g=new Dy;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Wd||(Wd=PA)),g}function Hn(g,_,P){return g.a==0&&(g.a=_,g.sc=P,g.cb=0),0}function EA(g,_,P){return 3<=P&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function kA(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Hn(g,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,D=_.w,q=_.ha;if(4>q)return Hn(g,7,"Truncated header.");var Y=P[D+0]|P[D+1]<<8|P[D+2]<<16,J=g.Od;if(J.Rb=!(1&Y),J.td=Y>>1&7,J.yd=Y>>4&1,J.ub=Y>>5,3<J.td)return Hn(g,3,"Incorrect keyframe parameters.");if(!J.yd)return Hn(g,4,"Frame not displayable.");D+=3,q-=3;var X=g.Kc;if(J.Rb){if(7>q)return Hn(g,7,"cannot parse picture header");if(!EA(P,D,q))return Hn(g,3,"Bad code word");X.c=16383&(P[D+4]<<8|P[D+3]),X.Td=P[D+4]>>6,X.i=16383&(P[D+6]<<8|P[D+5]),X.Ud=P[D+6]>>6,D+=7,q-=7,g.za=X.c+15>>4,g.Ub=X.i+15>>4,_.width=X.c,_.height=X.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((Y=g.Pa).jb,0,255,Y.jb.length),e((Y=g.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(J.ub>q)return Hn(g,7,"bad partition length");H(Y=g.m,P,D,J.ub),D+=J.ub,q-=J.ub,J.Rb&&(X.Ld=he(Y),X.Kd=he(Y)),X=g.Qa;var ee,ie=g.Pa;if(e(Y!=null),e(X!=null),X.Cb=he(Y),X.Cb){if(X.Bb=he(Y),he(Y)){for(X.Fb=he(Y),ee=0;4>ee;++ee)X.Zb[ee]=he(Y)?B(Y,7):0;for(ee=0;4>ee;++ee)X.Lb[ee]=he(Y)?B(Y,6):0}if(X.Bb)for(ee=0;3>ee;++ee)ie.jb[ee]=he(Y)?R(Y,8):255}else X.Bb=0;if(Y.Ka)return Hn(g,3,"cannot parse segment header");if((X=g.ed).zd=he(Y),X.Tb=R(Y,6),X.wb=R(Y,3),X.Pc=he(Y),X.Pc&&he(Y)){for(ie=0;4>ie;++ie)he(Y)&&(X.vd[ie]=B(Y,6));for(ie=0;4>ie;++ie)he(Y)&&(X.od[ie]=B(Y,6))}if(g.L=X.Tb==0?0:X.zd?1:2,Y.Ka)return Hn(g,3,"cannot parse filter header");var pe=q;if(q=ee=D,D=ee+pe,X=pe,g.Xb=(1<<R(g.m,2))-1,pe<3*(ie=g.Xb))P=7;else{for(ee+=3*ie,X-=3*ie,pe=0;pe<ie;++pe){var _e=P[q+0]|P[q+1]<<8|P[q+2]<<16;_e>X&&(_e=X),H(g.Jc[+pe],P,ee,_e),ee+=_e,X-=_e,q+=3}H(g.Jc[+ie],P,ee,X),P=ee<D?0:5}if(P!=0)return Hn(g,P,"cannot parse partitions");for(P=R(ee=g.m,7),q=he(ee)?B(ee,4):0,D=he(ee)?B(ee,4):0,X=he(ee)?B(ee,4):0,ie=he(ee)?B(ee,4):0,ee=he(ee)?B(ee,4):0,pe=g.Qa,_e=0;4>_e;++_e){if(pe.Cb){var Te=pe.Zb[_e];pe.Fb||(Te+=P)}else{if(0<_e){g.pb[_e]=g.pb[0];continue}Te=P}var ve=g.pb[_e];ve.Sc[0]=sb[_i(Te+q,127)],ve.Sc[1]=lb[_i(Te+0,127)],ve.Eb[0]=2*sb[_i(Te+D,127)],ve.Eb[1]=101581*lb[_i(Te+X,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=sb[_i(Te+ie,117)],ve.Qc[1]=lb[_i(Te+ee,127)],ve.lc=Te+ee}if(!J.Rb)return Hn(g,4,"Not a key frame.");for(he(Y),J=g.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(D=0;3>D;++D)for(X=0;11>X;++X)ie=G(Y,L8[P][q][D][X])?R(Y,8):I8[P][q][D][X],J.Wc[P][q].Yb[D][X]=ie;for(q=0;17>q;++q)J.Xc[P][q]=J.Wc[P][R8[q]]}return g.kc=he(Y),g.kc&&(g.Bd=R(Y,8)),g.cb=1}function PA(g,_,P,D,q,Y,J){var X=_[q].Yb[P];for(P=0;16>q;++q){if(!G(g,X[P+0]))return q;for(;!G(g,X[P+1]);)if(X=_[++q].Yb[0],P=0,q==16)return 16;var ee=_[q+1].Yb;if(G(g,X[P+2])){var ie=g,pe=0;if(G(ie,(Te=X)[(_e=P)+3]))if(G(ie,Te[_e+6])){for(X=0,_e=2*(pe=G(ie,Te[_e+8]))+(Te=G(ie,Te[_e+9+pe])),pe=0,Te=O8[_e];Te[X];++X)pe+=pe+G(ie,Te[X]);pe+=3+(8<<_e)}else G(ie,Te[_e+7])?(pe=7+2*G(ie,165),pe+=G(ie,145)):pe=5+G(ie,159);else pe=G(ie,Te[_e+4])?3+G(ie,Te[_e+5]):2;X=ee[2]}else pe=1,X=ee[1];ee=J+j8[q],0>(ie=g).b&&me(ie);var _e,Te=ie.b,ve=(_e=ie.Ca>>1)-(ie.I>>Te)>>31;--ie.b,ie.Ca+=ve,ie.Ca|=1,ie.I-=(_e+1&ve)<<Te,Y[ee]=((pe^ve)-ve)*D[(0<q)+0]}return 16}function _d(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Ry(g,_){if(g==null)return 0;if(_==null)return Hn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!kA(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var P=im[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-P>>4,g.zb=_.j-P>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+P>>4,g.Hb=_.va+15+P>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var D=g.ed;for(P=0;4>P;++P){var q;if(g.Qa.Cb){var Y=g.Qa.Lb[P];g.Qa.Fb||(Y+=D.Tb)}else Y=D.Tb;for(q=0;1>=q;++q){var J=g.gd[P][q],X=Y;if(D.Pc&&(X+=D.vd[0],q&&(X+=D.od[0])),0<(X=0>X?0:63<X?63:X)){var ee=X;0<D.wb&&(ee=4<D.wb?ee>>2:ee>>1)>9-D.wb&&(ee=9-D.wb),1>ee&&(ee=1),J.dd=ee,J.tc=2*X+ee,J.ld=40<=X?2:15<=X?1:0}else J.tc=0;J.La=q}}}P=0}else Hn(g,6,"Frame setup failed"),P=g.a;if(P=P==0){if(P){g.$c=0,0<g.Aa||(g.Ic=J8);e:{P=g.Ic,D=4*(ee=g.za);var ie=32*ee,pe=ee+1,_e=0<g.L?ee*(0<g.Aa?2:1):0,Te=(g.Aa==2?2:1)*ee;if((J=D+832+(q=3*(16*P+im[g.L])/2*ie)+(Y=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=J)P=0;else{if(J>g.Vb){if(g.Vb=0,g.Ec=a(J),g.Fc=0,g.Ec==null){P=Hn(g,1,"no memory during frame initialization.");break e}g.Vb=J}J=g.Ec,X=g.Fc,g.Ac=J,g.Bc=X,X+=D,g.Gd=o(ie,NA),g.Hd=0,g.rb=o(pe+1,CA),g.sb=1,g.wa=_e?o(_e,zu):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ee),e(!0),g.oc=J,g.pc=X,X+=832,g.ya=o(Te,Sd),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ee),g.R=16*ee,g.B=8*ee,ee=(ie=im[g.L])*g.R,ie=ie/2*g.B,g.sa=J,g.ta=X+ee,g.qa=g.sa,g.ra=g.ta+16*P*g.R+ie,g.Ha=g.qa,g.Ia=g.ra+8*P*g.B+ie,g.$c=0,X+=q,g.mb=Y?J:null,g.nb=Y?X:null,e(X+Y<=g.Fc+g.Vb),_d(g),i(g.Ac,g.Bc,0,D),P=1}}if(P){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!KA){for(P=-255;255>=P;++P)cr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)To[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Gd[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)uc[255+P]=0>P?0:255<P?255:P;KA=1}oc=By,_o=Fy,Hd=OA,Jr=$y,Gi=jA,zn=MA,sc=Pd,YA=Cl,zd=Zy,kl=Md,Pl=Qy,gs=Xu,Ml=Od,lc=qA,Ol=UA,vs=Ja,Vd=xo,Wi=Xy,Ca[0]=Ka,Ca[1]=Uy,Ca[2]=Vy,Ca[3]=Gy,Ca[4]=LA,Ca[5]=Ku,Ca[6]=RA,Ca[7]=Nd,Ca[8]=Yy,Ca[9]=Wy,ys[0]=IA,ys[1]=Hy,ys[2]=bo,ys[3]=Wu,ys[4]=Fr,ys[5]=zy,ys[6]=DA,Co[0]=ds,Co[1]=qy,Co[2]=Ky,Co[3]=Ed,Co[4]=Tl,Co[5]=Jy,Co[6]=kd,P=1}else P=0}P&&(P=function(ve,$e){for(ve.M=0;ve.M<ve.Va;++ve.M){var Oe,Ae=ve.Jc[ve.M&ve.Xb],ge=ve.m,Le=ve;for(Oe=0;Oe<Le.za;++Oe){var Ue=ge,Fe=Le,et=Fe.Ac,Je=Fe.Bc+4*Oe,ct=Fe.zc,Xe=Fe.ya[Fe.aa+Oe];if(Fe.Qa.Bb?Xe.$b=G(Ue,Fe.Pa.jb[0])?2+G(Ue,Fe.Pa.jb[2]):G(Ue,Fe.Pa.jb[1]):Xe.$b=0,Fe.kc&&(Xe.Ad=G(Ue,Fe.Bd)),Xe.Za=!G(Ue,145)+0,Xe.Za){var zt=Xe.Ob,Kt=0;for(Fe=0;4>Fe;++Fe){var Ut,Lt=ct[0+Fe];for(Ut=0;4>Ut;++Ut){Lt=D8[et[Je+Ut]][Lt];for(var fn=D_[G(Ue,Lt[0])];0<fn;)fn=D_[2*fn+G(Ue,Lt[fn])];Lt=-fn,et[Je+Ut]=Lt}r(zt,Kt,et,Je,4),Kt+=4,ct[0+Fe]=Lt}}else Lt=G(Ue,156)?G(Ue,128)?1:3:G(Ue,163)?2:0,Xe.Ob[0]=Lt,i(et,Je,Lt,4),i(ct,0,Lt,4);Xe.Dd=G(Ue,142)?G(Ue,114)?G(Ue,183)?1:3:2:0}if(Le.m.Ka)return Hn(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Le=Ae,Ue=(ge=ve).rb[ge.sb-1],et=ge.rb[ge.sb+ge.ja],Oe=ge.ya[ge.aa+ge.ja],Je=ge.kc?Oe.Ad:0)Ue.la=et.la=0,Oe.Za||(Ue.Na=et.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var rn,Ct;if(Ue=et,et=Le,Je=ge.Pa.Xc,ct=ge.ya[ge.aa+ge.ja],Xe=ge.pb[ct.$b],Fe=ct.ad,zt=0,Kt=ge.rb[ge.sb-1],Lt=Ut=0,i(Fe,zt,0,384),ct.Za)var Qn=0,ci=Je[3];else{fn=a(16);var Zn=Ue.Na+Kt.Na;if(Zn=Wd(et,Je[1],Zn,Xe.Eb,0,fn,0),Ue.Na=Kt.Na=(0<Zn)+0,1<Zn)oc(fn,0,Fe,zt);else{var fi=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)Fe[zt+fn]=fi}Qn=1,ci=Je[0]}var Jt=15&Ue.la,Ci=15&Kt.la;for(fn=0;4>fn;++fn){var Ni=1&Ci;for(fi=Ct=0;4>fi;++fi)Jt=Jt>>1|(Ni=(Zn=Wd(et,ci,Zn=Ni+(1&Jt),Xe.Sc,Qn,Fe,zt))>Qn)<<7,Ct=Ct<<2|(3<Zn?3:1<Zn?2:Fe[zt+0]!=0),zt+=16;Jt>>=4,Ci=Ci>>1|Ni<<7,Ut=(Ut<<8|Ct)>>>0}for(ci=Jt,Qn=Ci>>4,rn=0;4>rn;rn+=2){for(Ct=0,Jt=Ue.la>>4+rn,Ci=Kt.la>>4+rn,fn=0;2>fn;++fn){for(Ni=1&Ci,fi=0;2>fi;++fi)Zn=Ni+(1&Jt),Jt=Jt>>1|(Ni=0<(Zn=Wd(et,Je[2],Zn,Xe.Qc,0,Fe,zt)))<<3,Ct=Ct<<2|(3<Zn?3:1<Zn?2:Fe[zt+0]!=0),zt+=16;Jt>>=2,Ci=Ci>>1|Ni<<5}Lt|=Ct<<4*rn,ci|=Jt<<4<<rn,Qn|=(240&Ci)<<rn}Ue.la=ci,Kt.la=Qn,ct.Hc=Ut,ct.Gc=Lt,ct.ia=43690&Lt?0:Xe.ia,Je=!(Ut|Lt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Oe.$b][Oe.Za],ge.wa[ge.Y+ge.ja].La|=!Je),Le.Ka)return Hn(ve,7,"Premature end-of-file encountered.")}if(_d(ve),ge=$e,Le=1,Oe=(Ae=ve).D,Ue=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,Ae.Aa==0)e:{if(Oe.M=Ae.M,Oe.uc=Ue,Fd(Ae,Oe),Le=1,Oe=(Ct=Ae.D).Nb,Ue=(Lt=im[Ae.L])*Ae.R,et=Lt/2*Ae.B,fn=16*Oe*Ae.R,fi=8*Oe*Ae.B,Je=Ae.sa,ct=Ae.ta-Ue+fn,Xe=Ae.qa,Fe=Ae.ra-et+fi,zt=Ae.Ha,Kt=Ae.Ia-et+fi,Ci=(Jt=Ct.M)==0,Ut=Jt>=Ae.Va-1,Ae.Aa==2&&Fd(Ae,Ct),Ct.uc)for(Ni=(Zn=Ae).D.M,e(Zn.D.uc),Ct=Zn.yb;Ct<Zn.Hb;++Ct){Qn=Ct,ci=Ni;var wr=(Mr=(Rn=Zn).D).Nb;rn=Rn.R;var Mr=Mr.wa[Mr.Y+Qn],Xr=Rn.sa,Xi=Rn.ta+16*wr*rn+16*Qn,Qa=Mr.dd,Sr=Mr.tc;if(Sr!=0)if(e(3<=Sr),Rn.L==1)0<Qn&&vs(Xr,Xi,rn,Sr+4),Mr.La&&Wi(Xr,Xi,rn,Sr),0<ci&&Ol(Xr,Xi,rn,Sr+4),Mr.La&&Vd(Xr,Xi,rn,Sr);else{var No=Rn.B,jl=Rn.qa,cc=Rn.ra+8*wr*No+8*Qn,xs=Rn.Ha,Rn=Rn.Ia+8*wr*No+8*Qn;wr=Mr.ld,0<Qn&&(YA(Xr,Xi,rn,Sr+4,Qa,wr),kl(jl,cc,xs,Rn,No,Sr+4,Qa,wr)),Mr.La&&(gs(Xr,Xi,rn,Sr,Qa,wr),lc(jl,cc,xs,Rn,No,Sr,Qa,wr)),0<ci&&(sc(Xr,Xi,rn,Sr+4,Qa,wr),zd(jl,cc,xs,Rn,No,Sr+4,Qa,wr)),Mr.La&&(Pl(Xr,Xi,rn,Sr,Qa,wr),Ml(jl,cc,xs,Rn,No,Sr,Qa,wr))}}if(Ae.ia&&alert("todo:DitherRow"),ge.put!=null){if(Ct=16*Jt,Jt=16*(Jt+1),Ci?(ge.y=Ae.sa,ge.O=Ae.ta+fn,ge.f=Ae.qa,ge.N=Ae.ra+fi,ge.ea=Ae.Ha,ge.W=Ae.Ia+fi):(Ct-=Lt,ge.y=Je,ge.O=ct,ge.f=Xe,ge.N=Fe,ge.ea=zt,ge.W=Kt),Ut||(Jt-=Lt),Jt>ge.o&&(Jt=ge.o),ge.F=null,ge.J=null,Ae.Fa!=null&&0<Ae.Fa.length&&Ct<Jt&&(ge.J=Ld(Ae,ge,Ct,Jt-Ct),ge.F=Ae.mb,ge.F==null&&ge.F.length==0)){Le=Hn(Ae,3,"Could not decode alpha data.");break e}Ct<ge.j&&(Lt=ge.j-Ct,Ct=ge.j,e(!(1&Lt)),ge.O+=Ae.R*Lt,ge.N+=Ae.B*(Lt>>1),ge.W+=Ae.B*(Lt>>1),ge.F!=null&&(ge.J+=ge.width*Lt)),Ct<Jt&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Ct-ge.j,ge.U=ge.va-ge.v,ge.T=Jt-Ct,Le=ge.put(ge))}Oe+1!=Ae.Ic||Ut||(r(Ae.sa,Ae.ta-Ue,Je,ct+16*Ae.R,Ue),r(Ae.qa,Ae.ra-et,Xe,Fe+8*Ae.B,et),r(Ae.Ha,Ae.Ia-et,zt,Kt+8*Ae.B,et))}if(!Le)return Hn(ve,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),P&=1}return P?(g.cb=0,P):0}function Sa(g,_,P,D,q){q=g[_+P+32*D]+(q>>3),g[_+P+32*D]=-256&q?0>q?0:255:q}function Gu(g,_,P,D,q,Y){Sa(g,_,0,P,D+q),Sa(g,_,1,P,D+Y),Sa(g,_,2,P,D-Y),Sa(g,_,3,P,D-q)}function si(g){return(20091*g>>16)+g}function Td(g,_,P,D){var q,Y=0,J=a(16);for(q=0;4>q;++q){var X=g[_+0]+g[_+8],ee=g[_+0]-g[_+8],ie=(35468*g[_+4]>>16)-si(g[_+12]),pe=si(g[_+4])+(35468*g[_+12]>>16);J[Y+0]=X+pe,J[Y+1]=ee+ie,J[Y+2]=ee-ie,J[Y+3]=X-pe,Y+=4,_++}for(q=Y=0;4>q;++q)X=(g=J[Y+0]+4)+J[Y+8],ee=g-J[Y+8],ie=(35468*J[Y+4]>>16)-si(J[Y+12]),Sa(P,D,0,0,X+(pe=si(J[Y+4])+(35468*J[Y+12]>>16))),Sa(P,D,1,0,ee+ie),Sa(P,D,2,0,ee-ie),Sa(P,D,3,0,X-pe),Y++,D+=32}function MA(g,_,P,D){var q=g[_+0]+4,Y=35468*g[_+4]>>16,J=si(g[_+4]),X=35468*g[_+1]>>16;Gu(P,D,0,q+J,g=si(g[_+1]),X),Gu(P,D,1,q+Y,g,X),Gu(P,D,2,q-Y,g,X),Gu(P,D,3,q-J,g,X)}function Fy(g,_,P,D,q){Td(g,_,P,D),q&&Td(g,_+16,P,D+4)}function OA(g,_,P,D){_o(g,_+0,P,D,1),_o(g,_+32,P,D+128,1)}function $y(g,_,P,D){var q;for(g=g[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)Sa(P,D,_,q,g)}function jA(g,_,P,D){g[_+0]&&Jr(g,_+0,P,D),g[_+16]&&Jr(g,_+16,P,D+4),g[_+32]&&Jr(g,_+32,P,D+128),g[_+48]&&Jr(g,_+48,P,D+128+4)}function By(g,_,P,D){var q,Y=a(16);for(q=0;4>q;++q){var J=g[_+0+q]+g[_+12+q],X=g[_+4+q]+g[_+8+q],ee=g[_+4+q]-g[_+8+q],ie=g[_+0+q]-g[_+12+q];Y[0+q]=J+X,Y[8+q]=J-X,Y[4+q]=ie+ee,Y[12+q]=ie-ee}for(q=0;4>q;++q)J=(g=Y[0+4*q]+3)+Y[3+4*q],X=Y[1+4*q]+Y[2+4*q],ee=Y[1+4*q]-Y[2+4*q],ie=g-Y[3+4*q],P[D+0]=J+X>>3,P[D+16]=ie+ee>>3,P[D+32]=J-X>>3,P[D+48]=ie-ee>>3,D+=64}function Cd(g,_,P){var D,q=_-32,Y=Ti,J=255-g[q-1];for(D=0;D<P;++D){var X,ee=Y,ie=J+g[_-1];for(X=0;X<P;++X)g[_+X]=ee[ie+g[q+X]];_+=32}}function Uy(g,_){Cd(g,_,4)}function qy(g,_){Cd(g,_,8)}function Hy(g,_){Cd(g,_,16)}function bo(g,_){var P;for(P=0;16>P;++P)r(g,_+32*P,g,_-32,16)}function Wu(g,_){var P;for(P=16;0<P;--P)i(g,_,g[_-1],16),_+=32}function Yu(g,_,P){var D;for(D=0;16>D;++D)i(_,P+32*D,g,16)}function IA(g,_){var P,D=16;for(P=0;16>P;++P)D+=g[_-1+32*P]+g[_+P-32];Yu(D>>5,g,_)}function Fr(g,_){var P,D=8;for(P=0;16>P;++P)D+=g[_-1+32*P];Yu(D>>4,g,_)}function zy(g,_){var P,D=8;for(P=0;16>P;++P)D+=g[_+P-32];Yu(D>>4,g,_)}function DA(g,_){Yu(128,g,_)}function bt(g,_,P){return g+2*_+P+2>>2}function Vy(g,_){var P,D=_-32;for(D=new Uint8Array([bt(g[D-1],g[D+0],g[D+1]),bt(g[D+0],g[D+1],g[D+2]),bt(g[D+1],g[D+2],g[D+3]),bt(g[D+2],g[D+3],g[D+4])]),P=0;4>P;++P)r(g,_+32*P,D,0,D.length)}function Gy(g,_){var P=g[_-1],D=g[_-1+32],q=g[_-1+64],Y=g[_-1+96];le(g,_+0,16843009*bt(g[_-1-32],P,D)),le(g,_+32,16843009*bt(P,D,q)),le(g,_+64,16843009*bt(D,q,Y)),le(g,_+96,16843009*bt(q,Y,Y))}function Ka(g,_){var P,D=4;for(P=0;4>P;++P)D+=g[_+P-32]+g[_-1+32*P];for(D>>=3,P=0;4>P;++P)i(g,_+32*P,D,4)}function LA(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1-32],J=g[_+0-32],X=g[_+1-32],ee=g[_+2-32],ie=g[_+3-32];g[_+0+96]=bt(D,q,g[_-1+96]),g[_+1+96]=g[_+0+64]=bt(P,D,q),g[_+2+96]=g[_+1+64]=g[_+0+32]=bt(Y,P,D),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=bt(J,Y,P),g[_+3+64]=g[_+2+32]=g[_+1+0]=bt(X,J,Y),g[_+3+32]=g[_+2+0]=bt(ee,X,J),g[_+3+0]=bt(ie,ee,X)}function RA(g,_){var P=g[_+1-32],D=g[_+2-32],q=g[_+3-32],Y=g[_+4-32],J=g[_+5-32],X=g[_+6-32],ee=g[_+7-32];g[_+0+0]=bt(g[_+0-32],P,D),g[_+1+0]=g[_+0+32]=bt(P,D,q),g[_+2+0]=g[_+1+32]=g[_+0+64]=bt(D,q,Y),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=bt(q,Y,J),g[_+3+32]=g[_+2+64]=g[_+1+96]=bt(Y,J,X),g[_+3+64]=g[_+2+96]=bt(J,X,ee),g[_+3+96]=bt(X,ee,ee)}function Ku(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1-32],J=g[_+0-32],X=g[_+1-32],ee=g[_+2-32],ie=g[_+3-32];g[_+0+0]=g[_+1+64]=Y+J+1>>1,g[_+1+0]=g[_+2+64]=J+X+1>>1,g[_+2+0]=g[_+3+64]=X+ee+1>>1,g[_+3+0]=ee+ie+1>>1,g[_+0+96]=bt(q,D,P),g[_+0+64]=bt(D,P,Y),g[_+0+32]=g[_+1+96]=bt(P,Y,J),g[_+1+32]=g[_+2+96]=bt(Y,J,X),g[_+2+32]=g[_+3+96]=bt(J,X,ee),g[_+3+32]=bt(X,ee,ie)}function Nd(g,_){var P=g[_+0-32],D=g[_+1-32],q=g[_+2-32],Y=g[_+3-32],J=g[_+4-32],X=g[_+5-32],ee=g[_+6-32],ie=g[_+7-32];g[_+0+0]=P+D+1>>1,g[_+1+0]=g[_+0+64]=D+q+1>>1,g[_+2+0]=g[_+1+64]=q+Y+1>>1,g[_+3+0]=g[_+2+64]=Y+J+1>>1,g[_+0+32]=bt(P,D,q),g[_+1+32]=g[_+0+96]=bt(D,q,Y),g[_+2+32]=g[_+1+96]=bt(q,Y,J),g[_+3+32]=g[_+2+96]=bt(Y,J,X),g[_+3+64]=bt(J,X,ee),g[_+3+96]=bt(X,ee,ie)}function Wy(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1+96];g[_+0+0]=P+D+1>>1,g[_+2+0]=g[_+0+32]=D+q+1>>1,g[_+2+32]=g[_+0+64]=q+Y+1>>1,g[_+1+0]=bt(P,D,q),g[_+3+0]=g[_+1+32]=bt(D,q,Y),g[_+3+32]=g[_+1+64]=bt(q,Y,Y),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=Y}function Yy(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1+96],J=g[_-1-32],X=g[_+0-32],ee=g[_+1-32],ie=g[_+2-32];g[_+0+0]=g[_+2+32]=P+J+1>>1,g[_+0+32]=g[_+2+64]=D+P+1>>1,g[_+0+64]=g[_+2+96]=q+D+1>>1,g[_+0+96]=Y+q+1>>1,g[_+3+0]=bt(X,ee,ie),g[_+2+0]=bt(J,X,ee),g[_+1+0]=g[_+3+32]=bt(P,J,X),g[_+1+32]=g[_+3+64]=bt(D,P,J),g[_+1+64]=g[_+3+96]=bt(q,D,P),g[_+1+96]=bt(Y,q,D)}function Ky(g,_){var P;for(P=0;8>P;++P)r(g,_+32*P,g,_-32,8)}function Ed(g,_){var P;for(P=0;8>P;++P)i(g,_,g[_-1],8),_+=32}function _l(g,_,P){var D;for(D=0;8>D;++D)i(_,P+32*D,g,8)}function ds(g,_){var P,D=8;for(P=0;8>P;++P)D+=g[_+P-32]+g[_-1+32*P];_l(D>>4,g,_)}function Jy(g,_){var P,D=4;for(P=0;8>P;++P)D+=g[_+P-32];_l(D>>3,g,_)}function Tl(g,_){var P,D=4;for(P=0;8>P;++P)D+=g[_-1+32*P];_l(D>>3,g,_)}function kd(g,_){_l(128,g,_)}function Ju(g,_,P){var D=g[_-P],q=g[_+0],Y=3*(q-D)+nb[1020+g[_-2*P]-g[_+P]],J=JA[112+(Y+4>>3)];g[_-P]=Ti[255+D+JA[112+(Y+3>>3)]],g[_+0]=Ti[255+q-J]}function FA(g,_,P,D){var q=g[_+0],Y=g[_+P];return Ki[255+g[_-2*P]-g[_-P]]>D||Ki[255+Y-q]>D}function $A(g,_,P,D){return 4*Ki[255+g[_-P]-g[_+0]]+Ki[255+g[_-2*P]-g[_+P]]<=D}function BA(g,_,P,D,q){var Y=g[_-3*P],J=g[_-2*P],X=g[_-P],ee=g[_+0],ie=g[_+P],pe=g[_+2*P],_e=g[_+3*P];return 4*Ki[255+X-ee]+Ki[255+J-ie]>D?0:Ki[255+g[_-4*P]-Y]<=q&&Ki[255+Y-J]<=q&&Ki[255+J-X]<=q&&Ki[255+_e-pe]<=q&&Ki[255+pe-ie]<=q&&Ki[255+ie-ee]<=q}function UA(g,_,P,D){var q=2*D+1;for(D=0;16>D;++D)$A(g,_+D,P,q)&&Ju(g,_+D,P)}function Ja(g,_,P,D){var q=2*D+1;for(D=0;16>D;++D)$A(g,_+D*P,1,q)&&Ju(g,_+D*P,1)}function xo(g,_,P,D){var q;for(q=3;0<q;--q)UA(g,_+=4*P,P,D)}function Xy(g,_,P,D){var q;for(q=3;0<q;--q)Ja(g,_+=4,P,D)}function hs(g,_,P,D,q,Y,J,X){for(Y=2*Y+1;0<q--;){if(BA(g,_,P,Y,J))if(FA(g,_,P,X))Ju(g,_,P);else{var ee=g,ie=_,pe=P,_e=ee[ie-2*pe],Te=ee[ie-pe],ve=ee[ie+0],$e=ee[ie+pe],Oe=ee[ie+2*pe],Ae=27*(Le=nb[1020+3*(ve-Te)+nb[1020+_e-$e]])+63>>7,ge=18*Le+63>>7,Le=9*Le+63>>7;ee[ie-3*pe]=Ti[255+ee[ie-3*pe]+Le],ee[ie-2*pe]=Ti[255+_e+ge],ee[ie-pe]=Ti[255+Te+Ae],ee[ie+0]=Ti[255+ve-Ae],ee[ie+pe]=Ti[255+$e-ge],ee[ie+2*pe]=Ti[255+Oe-Le]}_+=D}}function _a(g,_,P,D,q,Y,J,X){for(Y=2*Y+1;0<q--;){if(BA(g,_,P,Y,J))if(FA(g,_,P,X))Ju(g,_,P);else{var ee=g,ie=_,pe=P,_e=ee[ie-pe],Te=ee[ie+0],ve=ee[ie+pe],$e=JA[112+((Oe=3*(Te-_e))+4>>3)],Oe=JA[112+(Oe+3>>3)],Ae=$e+1>>1;ee[ie-2*pe]=Ti[255+ee[ie-2*pe]+Ae],ee[ie-pe]=Ti[255+_e+Oe],ee[ie+0]=Ti[255+Te-$e],ee[ie+pe]=Ti[255+ve-Ae]}_+=D}}function Pd(g,_,P,D,q,Y){hs(g,_,P,1,16,D,q,Y)}function Cl(g,_,P,D,q,Y){hs(g,_,1,P,16,D,q,Y)}function Qy(g,_,P,D,q,Y){var J;for(J=3;0<J;--J)_a(g,_+=4*P,P,1,16,D,q,Y)}function Xu(g,_,P,D,q,Y){var J;for(J=3;0<J;--J)_a(g,_+=4,1,P,16,D,q,Y)}function Zy(g,_,P,D,q,Y,J,X){hs(g,_,q,1,8,Y,J,X),hs(P,D,q,1,8,Y,J,X)}function Md(g,_,P,D,q,Y,J,X){hs(g,_,1,q,8,Y,J,X),hs(P,D,1,q,8,Y,J,X)}function Od(g,_,P,D,q,Y,J,X){_a(g,_+4*q,q,1,8,Y,J,X),_a(P,D+4*q,q,1,8,Y,J,X)}function qA(g,_,P,D,q,Y,J,X){_a(g,_+4,1,q,8,Y,J,X),_a(P,D+4,1,q,8,Y,J,X)}function Qu(){this.ba=new lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new un,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function jd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Id(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function HA(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new j}function eb(){this.xb=this.a=0,this.l=new Vu,this.ca=new lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new HA,this.ab=0,this.gc=o(4,Id),this.Oc=0}function Zu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nl(g,_,P,D,q,Y,J){for(g=g==null?0:g[_+0],_=0;_<J;++_)q[Y+_]=g+P[D+_]&255,g=q[Y+_]}function Dd(g,_,P,D,q,Y,J){var X;if(g==null)Nl(null,null,P,D,q,Y,J);else for(X=0;X<J;++X)q[Y+X]=g[_+X]+P[D+X]&255}function ps(g,_,P,D,q,Y,J){if(g==null)Nl(null,null,P,D,q,Y,J);else{var X,ee=g[_+0],ie=ee,pe=ee;for(X=0;X<J;++X)ie=pe+(ee=g[_+X])-ie,pe=P[D+X]+(-256&ie?0>ie?0:255:ie)&255,ie=ee,q[Y+X]=pe}}function Ld(g,_,P,D){var q=_.width,Y=_.o;if(e(g!=null&&_!=null),0>P||0>=D||P+D>Y)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new Zu,(J=g.ga==null)||(J=_.width*_.o,e(g.Gb.length==0),g.Gb=a(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var X=g.Fa,ee=g.P,ie=g.qc,pe=g.mb,_e=g.nb,Te=ee+1,ve=ie-1,$e=J.l;if(e(X!=null&&pe!=null&&_!=null),bs[0]=null,bs[1]=Nl,bs[2]=Dd,bs[3]=ps,J.ca=pe,J.tb=_e,J.c=_.width,J.i=_.height,e(0<J.c&&0<J.i),1>=ie)_=0;else if(J.$a=X[ee+0]>>0&3,J.Z=X[ee+0]>>2&3,J.Lc=X[ee+0]>>4&3,ee=X[ee+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ee)_=0;else if($e.put=ur,$e.ac=qn,$e.bc=ze,$e.ma=J,$e.width=_.width,$e.height=_.height,$e.Da=_.Da,$e.v=_.v,$e.va=_.va,$e.j=_.j,$e.o=_.o,J.$a)e:{e(J.$a==1),_=zi();t:for(;;){if(_==null){_=0;break e}if(e(J!=null),J.mc=_,_.c=J.c,_.i=J.i,_.l=J.l,_.l.ma=J,_.l.width=J.c,_.l.height=J.i,_.a=0,W(_.m,X,Te,ve),!Ya(J.c,J.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&yo(_.s)?(J.ic=1,X=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(X),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(J.ic=0,_=Sl(_,J.c)),!_))break t;_=1;break e}J.mc=null,_=0}else _=ve>=J.c*J.i;J=!_}if(J)return null;g.ga.Lc!=1?g.Ga=0:D=Y-P}e(g.ga!=null),e(P+D<=Y);e:{if(_=(X=g.ga).c,Y=X.l.o,X.$a==0){if(Te=g.rc,ve=g.Vc,$e=g.Fa,ee=g.P+1+P*_,ie=g.mb,pe=g.nb+P*_,e(ee<=g.P+g.qc),X.Z!=0)for(e(bs[X.Z]!=null),J=0;J<D;++J)bs[X.Z](Te,ve,$e,ee,ie,pe,_),Te=ie,ve=pe,pe+=_,ee+=_;else for(J=0;J<D;++J)r(ie,pe,$e,ee,_),Te=ie,ve=pe,pe+=_,ee+=_;g.rc=Te,g.Vc=ve}else{if(e(X.mc!=null),_=P+D,e((J=X.mc)!=null),e(_<=J.i),J.C>=_)_=1;else if(X.ic||we(),X.ic){X=J.V,Te=J.Ba,ve=J.c;var Oe=J.i,Ae=($e=1,ee=J.$/ve,ie=J.$%ve,pe=J.m,_e=J.s,J.$),ge=ve*Oe,Le=ve*_,Ue=_e.wc,Fe=Ae<Le?In(_e,ie,ee):null;e(Ae<=ge),e(_<=Oe),e(yo(_e));t:for(;;){for(;!pe.h&&Ae<Le;){if(ie&Ue||(Fe=In(_e,ie,ee)),e(Fe!=null),ae(pe),256>(Oe=cn(Fe.G[0],Fe.H[0],pe)))X[Te+Ae]=Oe,++Ae,++ie>=ve&&(ie=0,++ee<=_&&!(ee%16)&&xa(J,ee));else{if(!(280>Oe)){$e=0;break t}Oe=nn(Oe-256,pe);var et,Je=cn(Fe.G[4],Fe.H[4],pe);if(ae(pe),!(Ae>=(Je=br(ve,Je=nn(Je,pe)))&&ge-Ae>=Oe)){$e=0;break t}for(et=0;et<Oe;++et)X[Te+Ae+et]=X[Te+Ae+et-Je];for(Ae+=Oe,ie+=Oe;ie>=ve;)ie-=ve,++ee<=_&&!(ee%16)&&xa(J,ee);Ae<Le&&ie&Ue&&(Fe=In(_e,ie,ee))}e(pe.h==Q(pe))}xa(J,ee>_?_:ee);break t}!$e||pe.h&&Ae<ge?($e=0,J.a=pe.h?5:3):J.$=Ae,_=$e}else _=wa(J,J.V,J.Ba,J.c,J.i,_,Bu);if(!_){D=0;break e}}P+D>=Y&&(g.Cc=1),D=1}if(!D)return null;if(g.Cc&&((D=g.ga)!=null&&(D.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*q}function N(g,_,P,D,q,Y){for(;0<q--;){var J,X=g,ee=_+(P?1:0),ie=g,pe=_+(P?0:3);for(J=0;J<D;++J){var _e=ie[pe+4*J];_e!=255&&(_e*=32897,X[ee+4*J+0]=X[ee+4*J+0]*_e>>23,X[ee+4*J+1]=X[ee+4*J+1]*_e>>23,X[ee+4*J+2]=X[ee+4*J+2]*_e>>23)}_+=Y}}function V(g,_,P,D,q){for(;0<D--;){var Y;for(Y=0;Y<P;++Y){var J=g[_+2*Y+0],X=15&(ie=g[_+2*Y+1]),ee=4369*X,ie=(240&ie|ie>>4)*ee>>16;g[_+2*Y+0]=(240&J|J>>4)*ee>>16&240|(15&J|J<<4)*ee>>16>>4&15,g[_+2*Y+1]=240&ie|X}_+=q}}function oe(g,_,P,D,q,Y,J,X){var ee,ie,pe=255;for(ie=0;ie<q;++ie){for(ee=0;ee<D;++ee){var _e=g[_+ee];Y[J+4*ee]=_e,pe&=_e}_+=P,J+=X}return pe!=255}function fe(g,_,P,D,q){var Y;for(Y=0;Y<q;++Y)P[D+Y]=g[_+Y]>>8}function we(){Yi=N,mn=V,gn=oe,Vn=fe}function je(g,_,P){M[g]=function(D,q,Y,J,X,ee,ie,pe,_e,Te,ve,$e,Oe,Ae,ge,Le,Ue){var Fe,et=Ue-1>>1,Je=X[ee+0]|ie[pe+0]<<16,ct=_e[Te+0]|ve[$e+0]<<16;e(D!=null);var Xe=3*Je+ct+131074>>2;for(_(D[q+0],255&Xe,Xe>>16,Oe,Ae),Y!=null&&(Xe=3*ct+Je+131074>>2,_(Y[J+0],255&Xe,Xe>>16,ge,Le)),Fe=1;Fe<=et;++Fe){var zt=X[ee+Fe]|ie[pe+Fe]<<16,Kt=_e[Te+Fe]|ve[$e+Fe]<<16,Ut=Je+zt+ct+Kt+524296,Lt=Ut+2*(zt+ct)>>3;Xe=Lt+Je>>1,Je=(Ut=Ut+2*(Je+Kt)>>3)+zt>>1,_(D[q+2*Fe-1],255&Xe,Xe>>16,Oe,Ae+(2*Fe-1)*P),_(D[q+2*Fe-0],255&Je,Je>>16,Oe,Ae+(2*Fe-0)*P),Y!=null&&(Xe=Ut+ct>>1,Je=Lt+Kt>>1,_(Y[J+2*Fe-1],255&Xe,Xe>>16,ge,Le+(2*Fe-1)*P),_(Y[J+2*Fe+0],255&Je,Je>>16,ge,Le+(2*Fe+0)*P)),Je=zt,ct=Kt}1&Ue||(Xe=3*Je+ct+131074>>2,_(D[q+Ue-1],255&Xe,Xe>>16,Oe,Ae+(Ue-1)*P),Y!=null&&(Xe=3*ct+Je+131074>>2,_(Y[J+Ue-1],255&Xe,Xe>>16,ge,Le+(Ue-1)*P)))}}function qe(){Ji[XA]=$8,Ji[QA]=R_,Ji[O_]=B8,Ji[ZA]=F_,Ji[em]=$_,Ji[rb]=B_,Ji[j_]=U8,Ji[ib]=R_,Ji[ab]=F_,Ji[tm]=$_,Ji[ob]=B_}function Qe(g){return g&-16384?0>g?0:255:g>>q8}function st(g,_){return Qe((19077*g>>8)+(26149*_>>8)-14234)}function St(g,_,P){return Qe((19077*g>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function xt(g,_){return Qe((19077*g>>8)+(33050*_>>8)-17685)}function Bt(g,_,P,D,q){D[q+0]=st(g,P),D[q+1]=St(g,_,P),D[q+2]=xt(g,_)}function Dn(g,_,P,D,q){D[q+0]=xt(g,_),D[q+1]=St(g,_,P),D[q+2]=st(g,P)}function Ln(g,_,P,D,q){var Y=St(g,_,P);_=Y<<3&224|xt(g,_)>>3,D[q+0]=248&st(g,P)|Y>>5,D[q+1]=_}function Xn(g,_,P,D,q){var Y=240&xt(g,_)|15;D[q+0]=240&st(g,P)|St(g,_,P)>>4,D[q+1]=Y}function $r(g,_,P,D,q){D[q+0]=255,Bt(g,_,P,D,q+1)}function xr(g,_,P,D,q){Dn(g,_,P,D,q),D[q+3]=255}function Ta(g,_,P,D,q){Bt(g,_,P,D,q),D[q+3]=255}function _i(g,_){return 0>g?0:g>_?_:g}function Xa(g,_,P){M[g]=function(D,q,Y,J,X,ee,ie,pe,_e){for(var Te=pe+(-2&_e)*P;pe!=Te;)_(D[q+0],Y[J+0],X[ee+0],ie,pe),_(D[q+1],Y[J+0],X[ee+0],ie,pe+P),q+=2,++J,++ee,pe+=2*P;1&_e&&_(D[q+0],Y[J+0],X[ee+0],ie,pe)}}function zA(g,_,P){return P==0?g==0?_==0?6:5:_==0?4:0:P}function Rd(g,_,P,D,q){switch(g>>>30){case 3:_o(_,P,D,q,0);break;case 2:zn(_,P,D,q);break;case 1:Jr(_,P,D,q)}}function Fd(g,_){var P,D,q=_.M,Y=_.Nb,J=g.oc,X=g.pc+40,ee=g.oc,ie=g.pc+584,pe=g.oc,_e=g.pc+600;for(P=0;16>P;++P)J[X+32*P-1]=129;for(P=0;8>P;++P)ee[ie+32*P-1]=129,pe[_e+32*P-1]=129;for(0<q?J[X-1-32]=ee[ie-1-32]=pe[_e-1-32]=129:(i(J,X-32-1,127,21),i(ee,ie-32-1,127,9),i(pe,_e-32-1,127,9)),D=0;D<g.za;++D){var Te=_.ya[_.aa+D];if(0<D){for(P=-1;16>P;++P)r(J,X+32*P-4,J,X+32*P+12,4);for(P=-1;8>P;++P)r(ee,ie+32*P-4,ee,ie+32*P+4,4),r(pe,_e+32*P-4,pe,_e+32*P+4,4)}var ve=g.Gd,$e=g.Hd+D,Oe=Te.ad,Ae=Te.Hc;if(0<q&&(r(J,X-32,ve[$e].y,0,16),r(ee,ie-32,ve[$e].f,0,8),r(pe,_e-32,ve[$e].ea,0,8)),Te.Za){var ge=J,Le=X-32+16;for(0<q&&(D>=g.za-1?i(ge,Le,ve[$e].y[15],4):r(ge,Le,ve[$e+1].y,0,4)),P=0;4>P;P++)ge[Le+128+P]=ge[Le+256+P]=ge[Le+384+P]=ge[Le+0+P];for(P=0;16>P;++P,Ae<<=2)ge=J,Le=X+q_[P],Ca[Te.Ob[P]](ge,Le),Rd(Ae,Oe,16*+P,ge,Le)}else if(ge=zA(D,q,Te.Ob[0]),ys[ge](J,X),Ae!=0)for(P=0;16>P;++P,Ae<<=2)Rd(Ae,Oe,16*+P,J,X+q_[P]);for(P=Te.Gc,ge=zA(D,q,Te.Dd),Co[ge](ee,ie),Co[ge](pe,_e),Ae=Oe,ge=ee,Le=ie,255&(Te=P>>0)&&(170&Te?Hd(Ae,256,ge,Le):Gi(Ae,256,ge,Le)),Te=pe,Ae=_e,255&(P>>=8)&&(170&P?Hd(Oe,320,Te,Ae):Gi(Oe,320,Te,Ae)),q<g.Ub-1&&(r(ve[$e].y,0,J,X+480,16),r(ve[$e].f,0,ee,ie+224,8),r(ve[$e].ea,0,pe,_e+224,8)),P=8*Y*g.B,ve=g.sa,$e=g.ta+16*D+16*Y*g.R,Oe=g.qa,Te=g.ra+8*D+P,Ae=g.Ha,ge=g.Ia+8*D+P,P=0;16>P;++P)r(ve,$e+P*g.R,J,X+32*P,16);for(P=0;8>P;++P)r(Oe,Te+P*g.B,ee,ie+32*P,8),r(Ae,ge+P*g.B,pe,_e+32*P,8)}}function ec(g,_,P,D,q,Y,J,X,ee){var ie=[0],pe=[0],_e=0,Te=ee!=null?ee.kd:0,ve=ee??new jd;if(g==null||12>P)return 7;ve.data=g,ve.w=_,ve.ha=P,_=[_],P=[P],ve.gb=[ve.gb];e:{var $e=_,Oe=P,Ae=ve.gb;if(e(g!=null),e(Oe!=null),e(Ae!=null),Ae[0]=0,12<=Oe[0]&&!n(g,$e[0],"RIFF")){if(n(g,$e[0]+8,"WEBP")){Ae=3;break e}var ge=Me(g,$e[0]+4);if(12>ge||4294967286<ge){Ae=3;break e}if(Te&&ge>Oe[0]-8){Ae=7;break e}Ae[0]=ge,$e[0]+=12,Oe[0]-=12}Ae=0}if(Ae!=0)return Ae;for(ge=0<ve.gb[0],P=P[0];;){e:{var Le=g;Oe=_,Ae=P;var Ue=ie,Fe=pe,et=$e=[0];if((Xe=_e=[_e])[0]=0,8>Ae[0])Ae=7;else{if(!n(Le,Oe[0],"VP8X")){if(Me(Le,Oe[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var Je=Me(Le,Oe[0]+8),ct=1+ue(Le,Oe[0]+12);if(2147483648<=ct*(Le=1+ue(Le,Oe[0]+15))){Ae=3;break e}et!=null&&(et[0]=Je),Ue!=null&&(Ue[0]=ct),Fe!=null&&(Fe[0]=Le),Oe[0]+=18,Ae[0]-=18,Xe[0]=1}Ae=0}}if(_e=_e[0],$e=$e[0],Ae!=0)return Ae;if(Oe=!!(2&$e),!ge&&_e)return 3;if(Y!=null&&(Y[0]=!!(16&$e)),J!=null&&(J[0]=Oe),X!=null&&(X[0]=0),J=ie[0],$e=pe[0],_e&&Oe&&ee==null){Ae=0;break}if(4>P){Ae=7;break}if(ge&&_e||!ge&&!_e&&!n(g,_[0],"ALPH")){P=[P],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{Je=g,Ae=_,ge=P;var Xe=ve.gb;Ue=ve.na,Fe=ve.P,et=ve.Sa,ct=22,e(Je!=null),e(ge!=null),Le=Ae[0];var zt=ge[0];for(e(Ue!=null),e(et!=null),Ue[0]=null,Fe[0]=null,et[0]=0;;){if(Ae[0]=Le,ge[0]=zt,8>zt){Ae=7;break e}var Kt=Me(Je,Le+4);if(4294967286<Kt){Ae=3;break e}var Ut=8+Kt+1&-2;if(ct+=Ut,0<Xe&&ct>Xe){Ae=3;break e}if(!n(Je,Le,"VP8 ")||!n(Je,Le,"VP8L")){Ae=0;break e}if(zt[0]<Ut){Ae=7;break e}n(Je,Le,"ALPH")||(Ue[0]=Je,Fe[0]=Le+8,et[0]=Kt),Le+=Ut,zt-=Ut}}if(P=P[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ae!=0)break}P=[P],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(Xe=g,Ae=_,ge=P,Ue=ve.gb[0],Fe=ve.Ja,et=ve.xa,Je=Ae[0],Le=!n(Xe,Je,"VP8 "),ct=!n(Xe,Je,"VP8L"),e(Xe!=null),e(ge!=null),e(Fe!=null),e(et!=null),8>ge[0])Ae=7;else{if(Le||ct){if(Xe=Me(Xe,Je+4),12<=Ue&&Xe>Ue-12){Ae=3;break e}if(Te&&Xe>ge[0]-8){Ae=7;break e}Fe[0]=Xe,Ae[0]+=8,ge[0]-=8,et[0]=ct}else et[0]=5<=ge[0]&&Xe[Je+0]==47&&!(Xe[Je+4]>>5),Fe[0]=ge[0];Ae=0}if(P=P[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],_=_[0],Ae!=0)break;if(4294967286<ve.Ja)return 3;if(X==null||Oe||(X[0]=ve.xa?2:1),J=[J],$e=[$e],ve.xa){if(5>P){Ae=7;break}X=J,Te=$e,Oe=Y,g==null||5>P?g=0:5<=P&&g[_+0]==47&&!(g[_+4]>>5)?(ge=[0],Xe=[0],Ue=[0],W(Fe=new L,g,_,P),Ke(Fe,ge,Xe,Ue)?(X!=null&&(X[0]=ge[0]),Te!=null&&(Te[0]=Xe[0]),Oe!=null&&(Oe[0]=Ue[0]),g=1):g=0):g=0}else{if(10>P){Ae=7;break}X=$e,g==null||10>P||!EA(g,_+3,P-3)?g=0:(Te=g[_+0]|g[_+1]<<8|g[_+2]<<16,Oe=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=ve.Ja||!Oe||!g?g=0:(J&&(J[0]=Oe),X&&(X[0]=g),g=1))}if(!g||(J=J[0],$e=$e[0],_e&&(ie[0]!=J||pe[0]!=$e)))return 3;ee!=null&&(ee[0]=ve,ee.offset=_-ee.w,e(4294967286>_-ee.w),e(ee.offset==ee.ha-P));break}return Ae==0||Ae==7&&_e&&ee==null?(Y!=null&&(Y[0]|=ve.na!=null&&0<ve.na.length),D!=null&&(D[0]=J),q!=null&&(q[0]=$e),0):Ae}function $d(g,_,P){var D=_.width,q=_.height,Y=0,J=0,X=D,ee=q;if(_.Da=g!=null&&0<g.Da,_.Da&&(X=g.cd,ee=g.bd,Y=g.v,J=g.j,11>P||(Y&=-2,J&=-2),0>Y||0>J||0>=X||0>=ee||Y+X>D||J+ee>q))return 0;if(_.v=Y,_.j=J,_.va=Y+X,_.o=J+ee,_.U=X,_.T=ee,_.da=g!=null&&0<g.da,_.da){if(!Ne(X,ee,P=[g.ib],Y=[g.hb]))return 0;_.ib=P[0],_.hb=Y[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*q/4,_.Kb=0),1}function Bd(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function tc(g,_,P,D){if(D==null||0>=g||0>=_)return 2;if(P!=null){if(P.Da){var q=P.cd,Y=P.bd,J=-2&P.v,X=-2&P.j;if(0>J||0>X||0>=q||0>=Y||J+q>g||X+Y>_)return 2;g=q,_=Y}if(P.da){if(!Ne(g,_,q=[P.ib],Y=[P.hb]))return 2;g=q[0],_=Y[0]}}D.width=g,D.height=_;e:{var ee=D.width,ie=D.height;if(g=D.S,0>=ee||0>=ie||!(g>=XA&&13>g))g=2;else{if(0>=D.Rd&&D.sd==null){J=Y=q=_=0;var pe=(X=ee*H_[g])*ie;if(11>g||(Y=(ie+1)/2*(_=(ee+1)/2),g==12&&(J=(q=ee)*ie)),(ie=a(pe+2*Y+J))==null){g=1;break e}D.sd=ie,11>g?((ee=D.f.RGBA).eb=ie,ee.fb=0,ee.A=X,ee.size=pe):((ee=D.f.kb).y=ie,ee.O=0,ee.fa=X,ee.Fd=pe,ee.f=ie,ee.N=0+pe,ee.Ab=_,ee.Cd=Y,ee.ea=ie,ee.W=0+pe+Y,ee.Db=_,ee.Ed=Y,g==12&&(ee.F=ie,ee.J=0+pe+2*Y),ee.Tc=J,ee.lb=q)}if(_=1,q=D.S,Y=D.width,J=D.height,q>=XA&&13>q)if(11>q)g=D.f.RGBA,_&=(X=Math.abs(g.A))*(J-1)+Y<=g.size,_&=X>=Y*H_[q],_&=g.eb!=null;else{g=D.f.kb,X=(Y+1)/2,pe=(J+1)/2,ee=Math.abs(g.fa),ie=Math.abs(g.Ab);var _e=Math.abs(g.Db),Te=Math.abs(g.lb),ve=Te*(J-1)+Y;_&=ee*(J-1)+Y<=g.Fd,_&=ie*(pe-1)+X<=g.Cd,_=(_&=_e*(pe-1)+X<=g.Ed)&ee>=Y&ie>=X&_e>=X,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,q==12&&(_&=Te>=Y,_&=ve<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||P!=null&&P.fd&&(g=Bd(D)),g}var Pr=64,nc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rc=24,ic=32,Ud=8,li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(g){return g},M.Predictor2=function(g,_,P){return _[P+0]},M.Predictor3=function(g,_,P){return _[P+1]},M.Predictor4=function(g,_,P){return _[P-1]},M.Predictor5=function(g,_,P){return ke(ke(g,_[P+1]),_[P+0])},M.Predictor6=function(g,_,P){return ke(g,_[P-1])},M.Predictor7=function(g,_,P){return ke(g,_[P+0])},M.Predictor8=function(g,_,P){return ke(_[P-1],_[P+0])},M.Predictor9=function(g,_,P){return ke(_[P+0],_[P+1])},M.Predictor10=function(g,_,P){return ke(ke(g,_[P-1]),ke(_[P+0],_[P+1]))},M.Predictor11=function(g,_,P){var D=_[P+0];return 0>=Ge(D>>24&255,g>>24&255,(_=_[P-1])>>24&255)+Ge(D>>16&255,g>>16&255,_>>16&255)+Ge(D>>8&255,g>>8&255,_>>8&255)+Ge(255&D,255&g,255&_)?D:g},M.Predictor12=function(g,_,P){var D=_[P+0];return(be((g>>24&255)+(D>>24&255)-((_=_[P-1])>>24&255))<<24|be((g>>16&255)+(D>>16&255)-(_>>16&255))<<16|be((g>>8&255)+(D>>8&255)-(_>>8&255))<<8|be((255&g)+(255&D)-(255&_)))>>>0},M.Predictor13=function(g,_,P){var D=_[P-1];return(Ve((g=ke(g,_[P+0]))>>24&255,D>>24&255)<<24|Ve(g>>16&255,D>>16&255)<<16|Ve(g>>8&255,D>>8&255)<<8|Ve(g>>0&255,D>>0&255))>>>0};var tb=M.PredictorAdd0;M.PredictorAdd1=at,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var qd=M.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var VA,Vi=M.ColorIndexInverseTransform,ac=M.MapARGB,GA=M.VP8LColorIndexInverseTransformAlpha,WA=M.MapAlpha,As=M.VP8LPredictorsAdd=[];As.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var El,ui,Kr,ms,wo,So,oc,_o,zn,Hd,Jr,Gi,sc,YA,zd,kl,Pl,gs,Ml,lc,Ol,vs,Vd,Wi,Yi,mn,gn,Vn,cr=a(511),To=a(2041),Gd=a(225),uc=a(767),KA=0,nb=To,JA=Gd,Ti=uc,Ki=cr,XA=0,QA=1,O_=2,ZA=3,em=4,rb=5,j_=6,ib=7,ab=8,tm=9,ob=10,T8=[2,3,7],C8=[3,3,11],I_=[280,256,256,256,40],N8=[0,1,1,1,0],E8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],k8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],P8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],M8=8,sb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wd=null,O8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],j8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],I8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],D8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],L8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],R8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ys=[],Ca=[],Co=[],F8=1,L_=2,bs=[],Ji=[];je("UpsampleRgbLinePair",Bt,3),je("UpsampleBgrLinePair",Dn,3),je("UpsampleRgbaLinePair",Ta,4),je("UpsampleBgraLinePair",xr,4),je("UpsampleArgbLinePair",$r,4),je("UpsampleRgba4444LinePair",Xn,2),je("UpsampleRgb565LinePair",Ln,2);var $8=M.UpsampleRgbLinePair,B8=M.UpsampleBgrLinePair,R_=M.UpsampleRgbaLinePair,F_=M.UpsampleBgraLinePair,$_=M.UpsampleArgbLinePair,B_=M.UpsampleRgba4444LinePair,U8=M.UpsampleRgb565LinePair,nm=16,rm=1<<nm-1,Yd=-227,ub=482,q8=6,U_=0,H8=a(256),z8=a(256),V8=a(256),G8=a(256),W8=a(ub-Yd),Y8=a(ub-Yd);Xa("YuvToRgbRow",Bt,3),Xa("YuvToBgrRow",Dn,3),Xa("YuvToRgbaRow",Ta,4),Xa("YuvToBgraRow",xr,4),Xa("YuvToArgbRow",$r,4),Xa("YuvToRgba4444Row",Xn,2),Xa("YuvToRgb565Row",Ln,2);var q_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],im=[0,2,8],K8=[8,7,6,4,4,2,2,2,1,1,1,1],J8=1;this.WebPDecodeRGBA=function(g,_,P,D,q){var Y=QA,J=new Qu,X=new lr;J.ba=X,X.S=Y,X.width=[X.width],X.height=[X.height];var ee=X.width,ie=X.height,pe=new ai;if(pe==null||g==null)var _e=2;else e(pe!=null),_e=ec(g,_,P,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(_e!=0?ee=0:(ee!=null&&(ee[0]=pe.width[0]),ie!=null&&(ie[0]=pe.height[0]),ee=1),ee){X.width=X.width[0],X.height=X.height[0],D!=null&&(D[0]=X.width),q!=null&&(q[0]=X.height);e:{if(D=new Vu,(q=new jd).data=g,q.w=_,q.ha=P,q.kd=1,_=[0],e(q!=null),((g=ec(q.data,q.w,q.ha,null,null,null,_,null,q))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(J!=null),D.data=q.data,D.w=q.w+q.offset,D.ha=q.ha-q.offset,D.put=ur,D.ac=qn,D.bc=ze,D.ma=J,q.xa){if((g=zi())==null){J=1;break e}if(function(Te,ve){var $e=[0],Oe=[0],Ae=[0];t:for(;;){if(Te==null)return 0;if(ve==null)return Te.a=2,0;if(Te.l=ve,Te.a=0,W(Te.m,ve.data,ve.w,ve.ha),!Ke(Te.m,$e,Oe,Ae)){Te.a=3;break t}if(Te.xb=L_,ve.width=$e[0],ve.height=Oe[0],!Ya($e[0],Oe[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(g,D)){if(D=(_=tc(D.width,D.height,J.Oa,J.ba))==0){t:{D=g;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((P=D.l)!=null),e((q=P.ma)!=null),D.xb!=0){if(D.ca=q.ba,D.tb=q.tb,e(D.ca!=null),!$d(q.Oa,P,ZA)){D.a=2;break n}if(!Sl(D,P.width)||P.da)break n;if((P.da||ot(D.ca.S))&&we(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&we()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!De(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!wa(D,D.V,D.Ba,D.c,D.i,P.o,Ga))break n;q.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=g.a)}else _=g.a}else{if((g=new Ly)==null){J=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,kA(g,D)){if((_=tc(D.width,D.height,J.Oa,J.ba))==0){if(g.Aa=0,P=J.Oa,e((q=g)!=null),P!=null){if(0<(ee=0>(ee=P.Md)?0:100<ee?255:255*ee/100)){for(ie=pe=0;4>ie;++ie)12>(_e=q.pb[ie]).lc&&(_e.ia=ee*K8[0>_e.lc?0:_e.lc]>>3),pe|=_e.ia;pe&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Ry(g,D)||(_=g.a)}}else _=g.a}_==0&&J.Oa!=null&&J.Oa.fd&&(_=Bd(J.ba))}J=_}Y=J!=0?null:11>Y?X.f.RGBA.eb:X.f.kb.y}else Y=null;return Y};var H_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,I){for(var U="",O=0;O<4;O++)U+=String.fromCharCode(M[I++]);return U}function c(M,I){return(M[I+0]<<0|M[I+1]<<8|M[I+2]<<16)>>>0}function f(M,I){return(M[I+0]<<0|M[I+1]<<8|M[I+2]<<16|M[I+3]<<24)>>>0}new l;var A=[0],p=[0],y=[],x=new l,S=t,v=function(M,I){var U={},O=0,j=!1,$=0,F=0;if(U.frames=[],!function(z,Q,te,ae){for(var me=0;me<ae;me++)if(z[Q+me]!=te.charCodeAt(me))return!0;return!1}(M,I,"RIFF",4)){var H,R;for(f(M,I+=4),I+=8;I<M.length;){var B=u(M,I),W=f(M,I+=4);I+=4;var K=W+(1&W);switch(B){case"VP8 ":case"VP8L":U.frames[O]===void 0&&(U.frames[O]={}),(L=U.frames[O]).src_off=j?F:I-8,L.src_size=$+W+8,O++,j&&(j=!1,$=0,F=0);break;case"VP8X":(L=U.header={}).feature_flags=M[I];var Z=I+4;L.canvas_width=1+c(M,Z),Z+=3,L.canvas_height=1+c(M,Z),Z+=3;break;case"ALPH":j=!0,$=K+8,F=I-8;break;case"ANIM":(L=U.header).bgcolor=f(M,I),Z=I+4,L.loop_count=(H=M)[(R=Z)+0]<<0|H[R+1]<<8,Z+=2;break;case"ANMF":var se,L;(L=U.frames[O]={}).offset_x=2*c(M,I),I+=3,L.offset_y=2*c(M,I),I+=3,L.width=1+c(M,I),I+=3,L.height=1+c(M,I),I+=3,L.duration=c(M,I),I+=3,se=M[I++],L.dispose=1&se,L.blend=se>>1&1}B!="ANMF"&&(I+=K)}return U}}(S,0);v.response=S,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,w=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,A=[b.canvas_height],p=[b.canvas_width];for(var T=0;T<w.length&&w[T].blend!=0;T++);}var C=w[0],k=x.WebPDecodeRGBA(S,C.src_off,C.src_size,p,A);C.rgba=k,C.imgwidth=p[0],C.imgheight=A[0];for(var E=0;E<p[0]*A[0]*4;E++)y[E]=k[E];return this.width=p,this.height=A,this.data=y,this}(function(t){var e=function(){return typeof n2=="function"},n=function(A,p,y,x){var S=4,v=o;switch(x){case t.image_compression.FAST:S=1,v=a;break;case t.image_compression.MEDIUM:S=6,v=s;break;case t.image_compression.SLOW:S=9,v=l}A=r(A,p,y,v);var b=n2(A,{level:S});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(A,p,y,x){for(var S,v,b,w=A.length/p,T=new Uint8Array(A.length+w),C=c(),k=0;k<w;k+=1){if(b=k*p,S=A.subarray(b,b+p),x)T.set(x(S,y,v),b+k);else{for(var E,M=C.length,I=[];E<M;E+=1)I[E]=C[E](S,y,v);var U=f(I.concat());T.set(I[U],b+k)}v=S}return T},i=function(A){var p=Array.apply([],A);return p.unshift(0),p},a=function(A,p){var y,x=[],S=A.length;x[0]=1;for(var v=0;v<S;v+=1)y=A[v-p]||0,x[v+1]=A[v]-y+256&255;return x},o=function(A,p,y){var x,S=[],v=A.length;S[0]=2;for(var b=0;b<v;b+=1)x=y&&y[b]||0,S[b+1]=A[b]-x+256&255;return S},s=function(A,p,y){var x,S,v=[],b=A.length;v[0]=3;for(var w=0;w<b;w+=1)x=A[w-p]||0,S=y&&y[w]||0,v[w+1]=A[w]+256-(x+S>>>1)&255;return v},l=function(A,p,y){var x,S,v,b,w=[],T=A.length;w[0]=4;for(var C=0;C<T;C+=1)x=A[C-p]||0,S=y&&y[C]||0,v=y&&y[C-p]||0,b=u(x,S,v),w[C+1]=A[C]-b+256&255;return w},u=function(A,p,y){if(A===p&&p===y)return A;var x=Math.abs(p-y),S=Math.abs(A-y),v=Math.abs(A+p-y-y);return x<=S&&x<=v?A:S<=v?p:y},c=function(){return[i,a,o,s,l]},f=function(A){var p=A.map(function(y){return y.reduce(function(x,S){return x+Math.abs(S)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(A,p,y,x){var S,v,b,w,T,C,k,E,M,I,U,O,j,$,F,H=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(b=new KB(A)).imgData,v=b.bits,S=b.colorSpace,T=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){M=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,U=new Uint8Array(M*b.colors),I=new Uint8Array(M);var B,W=b.pixelBitlength-b.bits;for($=0,F=0;$<M;$++){for(j=E[$],B=0;B<W;)U[F++]=j>>>B&255,B+=b.bits;I[$]=j>>>B&255}}if(b.bits===16){M=(E=new Uint32Array(b.decodePixels().buffer)).length,U=new Uint8Array(M*(32/b.pixelBitlength)*b.colors),I=new Uint8Array(M*(32/b.pixelBitlength)),O=b.colors>1,$=0,F=0;for(var K=0;$<M;)j=E[$++],U[F++]=j>>>0&255,O&&(U[F++]=j>>>16&255,j=E[$++],U[F++]=j>>>0&255),I[K++]=j>>>16&255;v=8}x!==t.image_compression.NONE&&e()?(A=n(U,b.width*b.colors,b.colors,x),k=n(I,b.width,1,x)):(A=U,k=I,H=void 0)}if(b.colorType===3&&(S=this.color_spaces.INDEXED,C=b.palette,b.transparency.indexed)){var Z=b.transparency.indexed,se=0;for($=0,M=Z.length;$<M;++$)se+=Z[$];if((se/=255)===M-1&&Z.indexOf(0)!==-1)w=[Z.indexOf(0)];else if(se!==M){for(E=b.decodePixels(),I=new Uint8Array(E.length),$=0,M=E.length;$<M;$++)I[$]=Z[E[$]];k=n(I,b.width,1)}}var L=function(z){var Q;switch(z){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(x);return H===this.decode.FLATE_DECODE&&(R="/Predictor "+L+" "),R+="/Colors "+T+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:y,data:A,index:p,filter:H,decodeParameters:R,transparency:w,palette:C,sMask:k,predictor:L,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:S}}}})(lt.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new JB(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new c1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(lt.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){dn.log("bit decode error:"+n)}},Pa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Pa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Pa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Pa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Pa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Pa(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new c1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(lt.API),ZC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new ZC(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new c1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(lt.API),lt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],A=r[u+2],p=r[u+3];a[s++]=c,a[s++]=f,a[s++]=A,o[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gc=lt.API,Im=gc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,A=0,p=t.length,y=0,x=s[0]||l,S=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(A=f&&en(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/c:0,S.push((s[r]||x)/l+A)),y=r;return S},KC=gc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return gc.processArabic&&(t=gc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Im.apply(this,arguments).reduce(function(a,o){return a+o},0)},JC=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},XC=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],A=n.textIndent||0,p=0,y=0,x=t.split(" "),S=Im.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),b=[];x.map(function(T){(T=T.split(/\s*\n/)).length>1?b=b.concat(T.map(function(C,k){return(k&&C.length?`
`:"")+C})):b.push(T[0])}),x=b,l=KC.apply(this,[v,n])}for(a=0,o=x.length;a<o;a++){var w=0;if(r=x[a],l&&r[0]==`
`&&(r=r.substr(1),w=1),A+p+(y=(i=Im.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||w){if(y>e){for(s=JC.apply(this,[r,i,e-(A+p),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);y=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(T,C){return T+C},0)}else c=[r];f.push(c),A=y+l,p=S}else c.push(r),A+=p+y,p=S}return u=l?function(T,C){return(C?v:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},gc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(XC.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var A,p,y,x,S=["{"];for(var v in f){if(A=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=a(v).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof A=="number")A<0?(y=a(A).slice(3),x="-"):(y=a(A).slice(2),x=""),y=x+y.slice(0,-1)+r[y.slice(-1)];else{if(en(A)!=="object")throw new Error("Don't know what to do with value type "+en(A)+".");y=o(A)}S.push(p+y)}return S.push("}"),S.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,p,y,x,S={},v=1,b=S,w=[],T="",C="",k=f.length-1,E=1;E<k;E+=1)(x=f[E])=="'"?A?(y=A.join(""),A=void 0):A=[]:A?A.push(x):x=="{"?(w.push([b,y]),b={},y=void 0):x=="}"?((p=w.pop())[0][p[1]]=b,y=void 0,b=p[0]):x=="-"?v=-1:y===void 0?n.hasOwnProperty(x)?(T+=n[x],y=parseInt(T,16)*v,v=1,T=""):T+=x:n.hasOwnProperty(x)?(C+=n[x],b[y]=parseInt(C,16)*v,v=1,y=void 0,C=""):C+=x;return S},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var A=f.font,p=c.Unicode[A.postScriptName];p&&(A.metadata.Unicode={},A.metadata.Unicode.widths=p.widths,A.metadata.Unicode.kerning=p.kerning);var y=u.Unicode[A.postScriptName];y&&(A.metadata.Unicode.encoding=y,A.encoding=y.codePages[0])}])}(lt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(qh(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(lt),function(t){function e(){return(mt.canvg?Promise.resolve(mt.canvg):hl(()=>import("./index.es-DiXADSdV.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}lt.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(y){return y.fromString(f,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(A)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),lt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function A(y,x){var S,v=!1;for(S=0;S<y.length;S+=1)y[S]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=s.length;for(f=0;f<p;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(en(t)==="object"){for(i in t)if(a=t[i],A(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&A(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?x.push("/"+y+" /"+n[y].value):x.push("/"+y+" "+n[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(lt.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,A=a.length;f<A;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,A;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,A=(s=Object.keys(a).sort(function(p,y){return p-y})).length;f<A;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,A=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",y=0;y<A.length;y++)p+=String.fromCharCode(A[y]);var x=u();c({data:p,addLength1:!0,objectId:x}),l("endobj");var S=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Pc(s.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Pc(s.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+Pc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,A="",p=0;p<f.length;p++)A+=String.fromCharCode(f[p]);var y=u();c({data:A,addLength1:!0,objectId:y}),l("endobj");var x=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var S=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Pc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var v=0;v<s.metadata.hmtx.widths.length;v++)s.metadata.hmtx.widths[v]=parseInt(s.metadata.hmtx.widths[v]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Pc(s.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},A=f.pdfEscape,p=f.activeFontKey,y=f.fonts,x=p,S="",v=0,b="",w=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(b=s,x=p,Array.isArray(s)&&(b=s[0]),v=0;v<b.length;v+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),o||b[v].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?S+=b[v]:S+="";var T="";return parseInt(x.slice(1))<14||w==="WinAnsiEncoding"?T=A(S,x).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(T=n(S,y[x])),f.isHex=!0,{text:T,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(lt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var T=function(O){var j=O.charCodeAt(),$=j>>8,F=x[$];return F!==void 0?f[256*F+(255&j)]:$===252||$===253?"AL":v.test($)?"L":$===8?"R":"N"},C=function(O){for(var j,$=0;$<O.length;$++){if((j=T(O.charAt($)))==="L")return!1;if(j==="R")return!0}return!1},k=function(O,j,$,F){var H,R,B,W,K=j[F];switch(K){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(K="AN");break;case"AL":b=!0,K="R";break;case"WS":K="N";break;case"CS":F<1||F+1>=j.length||(H=$[F-1])!=="EN"&&H!=="AN"||(R=j[F+1])!=="EN"&&R!=="AN"?K="N":b&&(R="AN"),K=R===H?R:"N";break;case"ES":K=(H=F>0?$[F-1]:"B")==="EN"&&F+1<j.length&&j[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&$[F-1]==="EN"){K="EN";break}if(b){K="N";break}for(B=F+1,W=j.length;B<W&&j[B]==="ET";)B++;K=B<W&&j[B]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(W=j.length,B=F+1;B<W&&j[B]==="NSM";)B++;if(B<W){var Z=O[F],se=Z>=1425&&Z<=2303||Z===64286;if(H=j[B],se&&(H==="R"||H==="AL")){K="R";break}}}K=F<1||(H=j[F-1])==="B"?"N":$[F-1];break;case"B":b=!1,i=!0,K=w;break;case"S":a=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":K="N"}return K},E=function(O,j,$){var F=O.split("");return $&&M(F,$,{hiLevel:w}),F.reverse(),j&&j.reverse(),F.join("")},M=function(O,j,$){var F,H,R,B,W,K=-1,Z=O.length,se=0,L=[],z=w?p:A,Q=[];for(b=!1,i=!1,a=!1,H=0;H<Z;H++)Q[H]=T(O[H]);for(R=0;R<Z;R++){if(W=se,L[R]=k(O,Q,L,R),F=240&(se=z[W][y[L[R]]]),se&=15,j[R]=B=z[se][5],F>0)if(F===16){for(H=K;H<R;H++)j[H]=1;K=-1}else K=-1;if(z[se][6])K===-1&&(K=R);else if(K>-1){for(H=K;H<R;H++)j[H]=B;K=-1}Q[R]==="B"&&(j[R]=0),$.hiLevel|=B}a&&function(te,ae,me){for(var he=0;he<me;he++)if(te[he]==="S"){ae[he]=w;for(var G=he-1;G>=0&&te[G]==="WS";G--)ae[G]=w}}(Q,j,Z)},I=function(O,j,$,F,H){if(!(H.hiLevel<O)){if(O===1&&w===1&&!i)return j.reverse(),void($&&$.reverse());for(var R,B,W,K,Z=j.length,se=0;se<Z;){if(F[se]>=O){for(W=se+1;W<Z&&F[W]>=O;)W++;for(K=se,B=W-1;K<B;K++,B--)R=j[K],j[K]=j[B],j[B]=R,$&&(R=$[K],$[K]=$[B],$[B]=R);se=W}se++}}},U=function(O,j,$){var F=O.split(""),H={hiLevel:w};return $||($=[]),M(F,$,H),function(R,B,W){if(W.hiLevel!==0&&c)for(var K,Z=0;Z<R.length;Z++)B[Z]===1&&(K=S.indexOf(R[Z]))>=0&&(R[Z]=S[K+1])}(F,$,H),I(2,F,j,$,H),I(1,F,j,$,H),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,j,$){if(function(H,R){if(R)for(var B=0;B<H.length;B++)R[B]=B;s===void 0&&(s=C(H)),u===void 0&&(u=C(H))}(O,j),o||!l||u)if(o&&l&&s^u)w=s?1:0,O=E(O,j,$);else if(!o&&l&&u)w=s?1:0,O=U(O,j,$),O=E(O,j);else if(!o||s||l||u){if(o&&!l&&s^u)O=E(O,j),s?(w=0,O=U(O,j,$)):(w=1,O=U(O,j,$),O=E(O,j));else if(o&&s&&!l&&u)w=1,O=U(O,j,$),O=E(O,j);else if(!o&&!l&&s^u){var F=c;s?(w=1,O=U(O,j,$),w=0,c=!1,O=U(O,j,$),c=F):(w=0,O=U(O,j,$),O=E(O,j),w=1,c=!1,O=U(O,j,$),c=F,O=E(O,j))}}else w=0,O=U(O,j,$);else w=s?1:0,O=U(O,j,$);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,s=O.isInputRtl,u=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Al(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new fU(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new XB(this.contents),this.head=new ZB(this),this.name=new iU(this),this.cmap=new bj(this),this.toUnicode={},this.hhea=new eU(this),this.maxp=new aU(this),this.hmtx=new oU(this),this.post=new nU(this),this.os2=new tU(this),this.loca=new cU(this),this.glyf=new sU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ha,Al=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),XB=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,A,p,y,x;for(x in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),c=16*p-f,(i=new Al).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*p,u=i.pos+a,s=null,y=[],n)for(A=n[x],i.writeString(x),i.writeInt(t(A)),i.writeInt(u),i.writeInt(A.length),y=y.concat(A),x==="head"&&(s=u),u+=A.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=xj.call(n);n.length%4;)n.push(0);for(a=new Al(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),QB={}.hasOwnProperty,Ao=function(t,e){for(var n in e)QB.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ha=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ZB=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Al).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),eN=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,A,p,y,x,S,v,b,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),A=p/2,e.pos+=6,a=function(){var T,C;for(C=[],l=T=0;0<=A?T<A:T>A;l=0<=A?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,x=function(){var T,C;for(C=[],l=T=0;0<=A?T<A:T>A;l=0<=A?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=A?T<A:T>A;l=0<=A?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=A?T<A:T>A;l=0<=A?++T:--T)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(e.readUInt16());return C}(),l=v=0,w=a.length;v<w;l=++v)for(S=a[l],r=b=y=x[l];y<=S?b<=S:b>=S;r=y<=S?++b:--b)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-y)-(A-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,A,p,y,x,S,v,b,w,T,C,k,E,M,I,U,O,j,$,F,H,R,B,W,K,Z,se,L,z,Q,te,ae,me,he,G,le,ce,ue;switch(F=new Al,o=Object.keys(e).sort(function(Me,De){return Me-De}),n){case"macroman":for(x=0,S=function(){var Me=[];for(y=0;y<256;++y)Me.push(0);return Me}(),b={0:0},a={},H=0,K=o.length;H<K;H++)b[G=e[i=o[H]]]==null&&(b[G]=++x),a[i]={old:e[i],new:b[e[i]]},S[i]=b[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(S),{charMap:a,subtable:F.data,maxGlyphID:x+1};case"unicode":for(j=[],f=[],w=0,b={},r={},v=u=null,R=0,Z=o.length;R<Z;R++)b[C=e[i=o[R]]]==null&&(b[C]=++w),r[i]={old:C,new:b[C]},s=b[C]-i,v!=null&&s===u||(v&&f.push(v),j.push(i),u=s),v=i;for(v&&f.push(v),f.push(65535),j.push(65535),U=2*(I=j.length),M=2*Math.pow(Math.log(I)/Math.LN2,2),A=Math.log(M/2)/Math.LN2,E=2*I-M,l=[],k=[],p=[],y=B=0,se=j.length;B<se;y=++B){if(O=j[y],c=f[y],O===65535){l.push(0),k.push(0);break}if(O-($=r[O].new)>=32768)for(l.push(0),k.push(2*(p.length+I-y)),i=W=O;O<=c?W<=c:W>=c;i=O<=c?++W:--W)p.push(r[i].new);else l.push($-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*I+2*p.length),F.writeUInt16(0),F.writeUInt16(U),F.writeUInt16(M),F.writeUInt16(A),F.writeUInt16(E),me=0,L=f.length;me<L;me++)i=f[me],F.writeUInt16(i);for(F.writeUInt16(0),he=0,z=j.length;he<z;he++)i=j[he],F.writeUInt16(i);for(le=0,Q=l.length;le<Q;le++)s=l[le],F.writeUInt16(s);for(ce=0,te=k.length;ce<te;ce++)T=k[ce],F.writeUInt16(T);for(ue=0,ae=p.length;ue<ae;ue++)x=p[ue],F.writeUInt16(x);return{charMap:r,subtable:F.data,maxGlyphID:w+1}}},t}(),bj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new eN(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=eN.encode(n,r),(a=new Al).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),eU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),tU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),nU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),rU=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},iU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,f,A,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,A=i.length;f<A;o=++f)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new rU(c,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),aU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),oU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,A,p;for(p=[],c=0,f=(A=this.metrics).length;c<f;c++)o=A[c],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),xj=[].slice,sU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,f,A;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new Al(r.read(a))).readShort(),c=l.readShort(),A=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new uU(l,c,A,u,f):new lU(l,s,c,A,u,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),lU=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),uU=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Al(xj.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),cU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ao(e,Ha),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),fU=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,A,p,y,x,S,v;for(i in r=bj.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},v=r.charMap)p[(l=v[i]).old]=l.new;for(y in A=r.maxGlyphID,o)y in p||(p[y]=A++);return c=function(b){var w,T;for(w in T={},b)T[b[w]]=w;return T}(p),f=Object.keys(c).sort(function(b,w){return b-w}),x=function(){var b,w,T;for(T=[],b=0,w=f.length;b<w;b++)s=f[b],T.push(c[s]);return T}(),a=this.font.glyf.encode(o,x,p),u=this.font.loca.encode(a.offsets,x),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();lt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const dU=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:HB,AcroFormAppearance:rt,AcroFormButton:pr,AcroFormCheckBox:Vh,AcroFormChoiceField:lu,AcroFormComboBox:cu,AcroFormEditBox:Hh,AcroFormListBox:uu,AcroFormPasswordField:Gh,AcroFormPushButton:zh,AcroFormRadioButton:fu,AcroFormTextField:al,GState:vp,ShadingPattern:$s,TilingPattern:Ql,default:lt,jsPDF:lt},Symbol.toStringTag,{value:"Module"}));var wj={exports:{}};const hU=YP(dU);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return hU}catch{}}())})(typeof globalThis<"u"?globalThis:typeof mr<"u"?mr:typeof window<"u"?window:typeof self<"u"?self:mr,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var A=function(p,y){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,S){x.__proto__=S}||function(x,S){for(var v in S)Object.prototype.hasOwnProperty.call(S,v)&&(x[v]=S[v])},A(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");A(p,y);function x(){this.constructor=p}p.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function A(p,y,x){this.table=y,this.pageNumber=y.pageNumber,this.pageCount=this.pageNumber,this.settings=y.settings,this.cursor=x,this.doc=p.getDocument()}return A}();l.HookData=c;var f=function(A){u(p,A);function p(y,x,S,v,b,w){var T=A.call(this,y,x,w)||this;return T.cell=S,T.row=v,T.column=b,T.section=v.section,T}return p}(c);l.CellHookData=f},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),A=u(744),p=u(776),y=u(664),x=u(972);function S(v){v.API.autoTable=function(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];var T;b.length===1?T=b[0]:(console.error("Use of deprecated autoTable initiation"),T=b[2]||{},T.columns=b[0],T.body=b[1]);var C=(0,p.parseInput)(this,T),k=(0,x.createTable)(this,C);return(0,y.drawTable)(this,k),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(b,w,T,C){(0,f.default)(b,w,T,C,this)},v.API.autoTableSetDefaults=function(b){return A.DocHandler.setDefaults(b,this),this},v.autoTableSetDefaults=function(b,w){A.DocHandler.setDefaults(b,w)},v.API.autoTableHtmlToJson=function(b,w){var T;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new A.DocHandler(this),k=(0,c.parseHtml)(C,b,window,w,!1),E=k.head,M=k.body,I=((T=E[0])===null||T===void 0?void 0:T.map(function(U){return U.content}))||[];return{columns:I,rows:M,data:M}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},v.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=b,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=S},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,A,p,y){p=p||{};var x=1.15,S=y.internal.scaleFactor,v=y.internal.getFontSize()/S,b=y.getLineHeightFactor?y.getLineHeightFactor():x,w=v*b,T=/\r\n|\r|\n/g,C="",k=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(C=typeof c=="string"?c.split(T):c,k=C.length||1),A+=v*(2-x),p.valign==="middle"?A-=k/2*w:p.valign==="bottom"&&(A-=k*w),p.halign==="center"||p.halign==="right"){var E=v;if(p.halign==="center"&&(E*=.5),C&&k>=1){for(var M=0;M<C.length;M++)y.text(C[M],f-y.getStringUnitWidth(C[M])*E,A),A+=w;return y}f-=y.getStringUnitWidth(c)*E}return p.halign==="justify"?y.text(c,f,A,{maxWidth:p.maxWidth||100,align:"justify"}):y.text(c,f,A),y}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(y,x,S){S.applyStyles(x,!0);var v=Array.isArray(y)?y:[y],b=v.map(function(w){return S.getTextWidth(w)}).reduce(function(w,T){return Math.max(w,T)},0);return b}l.getStringWidth=u;function c(y,x,S,v){var b=x.settings.tableLineWidth,w=x.settings.tableLineColor;y.applyStyles({lineWidth:b,lineColor:w});var T=f(b,!1);T&&y.rect(S.x,S.y,x.getWidth(y.pageSize().width),v.y-S.y,T)}l.addTableBorder=c;function f(y,x){var S=y>0,v=x||x===0;return S&&v?"DF":S?"S":v?"F":null}l.getFillStyle=f;function A(y,x){var S,v,b,w;if(y=y||x,Array.isArray(y)){if(y.length>=4)return{top:y[0],right:y[1],bottom:y[2],left:y[3]};if(y.length===3)return{top:y[0],right:y[1],bottom:y[2],left:y[1]};if(y.length===2)return{top:y[0],right:y[1],bottom:y[0],left:y[1]};y.length===1?y=y[0]:y=x}return typeof y=="object"?(typeof y.vertical=="number"&&(y.top=y.vertical,y.bottom=y.vertical),typeof y.horizontal=="number"&&(y.right=y.horizontal,y.left=y.horizontal),{left:(S=y.left)!==null&&S!==void 0?S:x,top:(v=y.top)!==null&&v!==void 0?v:x,right:(b=y.right)!==null&&b!==void 0?b:x,bottom:(w=y.bottom)!==null&&w!==void 0?w:x}):(typeof y!="number"&&(y=x),{top:y,right:y,bottom:y,left:y})}l.parseSpacing=A;function p(y,x){var S=A(x.settings.margin,0);return y.pageSize().width-(S.left+S.right)}l.getPageAvailableWidth=p},796:function(s,l){var u=this&&this.__extends||function(){var p=function(y,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,v){S.__proto__=v}||function(S,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(S[b]=v[b])},p(y,x)};return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(y,x);function S(){this.constructor=y}y.prototype=x===null?Object.create(x):(S.prototype=x.prototype,new S)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(p){u(y,p);function y(x){var S=p.call(this)||this;return S._element=x,S}return y}(Array);l.HtmlRowInput=c;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function A(p){var y={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return y[p]}l.getTheme=A},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(S,v,b,w,T){var C={},k=1.3333333333333333,E=p(v,function(K){return T.getComputedStyle(K).backgroundColor});E!=null&&(C.fillColor=E);var M=p(v,function(K){return T.getComputedStyle(K).color});M!=null&&(C.textColor=M);var I=x(w,b);I&&(C.cellPadding=I);var U="borderTopColor",O=k*b,j=w.borderTopWidth;if(w.borderBottomWidth===j&&w.borderRightWidth===j&&w.borderLeftWidth===j){var $=(parseFloat(j)||0)/O;$&&(C.lineWidth=$)}else C.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/O,right:(parseFloat(w.borderRightWidth)||0)/O,bottom:(parseFloat(w.borderBottomWidth)||0)/O,left:(parseFloat(w.borderLeftWidth)||0)/O},C.lineWidth.top||(C.lineWidth.right?U="borderRightColor":C.lineWidth.bottom?U="borderBottomColor":C.lineWidth.left&&(U="borderLeftColor"));var F=p(v,function(K){return T.getComputedStyle(K)[U]});F!=null&&(C.lineColor=F);var H=["left","right","center","justify"];H.indexOf(w.textAlign)!==-1&&(C.halign=w.textAlign),H=["middle","bottom","top"],H.indexOf(w.verticalAlign)!==-1&&(C.valign=w.verticalAlign);var R=parseInt(w.fontSize||"");isNaN(R)||(C.fontSize=R/k);var B=A(w);B&&(C.fontStyle=B);var W=(w.fontFamily||"").toLowerCase();return S.indexOf(W)!==-1&&(C.font=W),C}l.parseCss=f;function A(S){var v="";return(S.fontWeight==="bold"||S.fontWeight==="bolder"||parseInt(S.fontWeight)>=700)&&(v="bold"),(S.fontStyle==="italic"||S.fontStyle==="oblique")&&(v+="italic"),v}function p(S,v){var b=y(S,v);if(!b)return null;var w=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var T=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],C=parseInt(w[4]);return C===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function y(S,v){var b=v(S);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?S.parentElement==null?null:y(S.parentElement,v):b}function x(S,v){var b=[S.paddingTop,S.paddingRight,S.paddingBottom,S.paddingLeft],w=96/(72/v),T=(parseInt(S.lineHeight)-parseInt(S.fontSize))/v/2,C=b.map(function(E){return parseInt(E||"0")/w}),k=(0,c.parseSpacing)(C,0);return T>k.top&&(k.top=T),T>k.bottom&&(k.bottom=T),k}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(A){this.jsPDFDocument=A,this.userStyles={textColor:A.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:A.internal.getFontSize(),fontStyle:A.internal.getFont().fontStyle,font:A.internal.getFont().fontName,lineWidth:A.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:A.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(A,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=A:u=A},f.unifyColor=function(A){return Array.isArray(A)?A:typeof A=="number"?[A,A,A]:typeof A=="string"?[A]:null},f.prototype.applyStyles=function(A,p){var y,x,S;p===void 0&&(p=!1),A.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(A.fontStyle);var v=this.jsPDFDocument.internal.getFont(),b=v.fontStyle,w=v.fontName;if(A.font&&(w=A.font),A.fontStyle){b=A.fontStyle;var T=this.getFontList()[w];T&&T.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),b=T[0])}if(this.jsPDFDocument.setFont(w,b),A.fontSize&&this.jsPDFDocument.setFontSize(A.fontSize),!p){var C=f.unifyColor(A.fillColor);C&&(y=this.jsPDFDocument).setFillColor.apply(y,C),C=f.unifyColor(A.textColor),C&&(x=this.jsPDFDocument).setTextColor.apply(x,C),C=f.unifyColor(A.lineColor),C&&(S=this.jsPDFDocument).setDrawColor.apply(S,C),typeof A.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(A.lineWidth)}},f.prototype.splitTextToSize=function(A,p,y){return this.jsPDFDocument.splitTextToSize(A,p,y)},f.prototype.rect=function(A,p,y,x,S){return this.jsPDFDocument.rect(A,p,y,x,S)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(A){return this.jsPDFDocument.getTextWidth(A)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(A){this.jsPDFDocument.setPage(A)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var A=this.jsPDFDocument.internal.pageSize;return A.width==null&&(A={width:A.getWidth(),height:A.getHeight()}),A},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var A=this.jsPDFDocument;return A.getLineHeightFactor?A.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(A){return A/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var A=this.jsPDFDocument.internal.getCurrentPageInfo();return A?A.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function A(x,S,v,b,w){var T,C;b===void 0&&(b=!1),w===void 0&&(w=!1);var k;typeof S=="string"?k=v.document.querySelector(S):k=S;var E=Object.keys(x.getFontList()),M=x.scaleFactor(),I=[],U=[],O=[];if(!k)return console.error("Html table could not be found with input: ",S),{head:I,body:U,foot:O};for(var j=0;j<k.rows.length;j++){var $=k.rows[j],F=(C=(T=$==null?void 0:$.parentElement)===null||T===void 0?void 0:T.tagName)===null||C===void 0?void 0:C.toLowerCase(),H=p(E,M,v,$,b,w);H&&(F==="thead"?I.push(H):F==="tfoot"?O.push(H):U.push(H))}return{head:I,body:U,foot:O}}l.parseHtml=A;function p(x,S,v,b,w,T){for(var C=new f.HtmlRowInput(b),k=0;k<b.cells.length;k++){var E=b.cells[k],M=v.getComputedStyle(E);if(w||M.display!=="none"){var I=void 0;T&&(I=(0,c.parseCss)(x,E,S,M,v)),C.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:I,_element:E,content:y(E)})}}var U=v.getComputedStyle(b);if(C.length>0&&(w||U.display!=="none"))return C}function y(x){var S=x.cloneNode(!0);return S.innerHTML=S.innerHTML.replace(/\n/g,"").replace(/ +/g," "),S.innerHTML=S.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),S.innerText||S.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),A=u(420),p=u(744),y=u(792);function x(k,E){var M=new p.DocHandler(k),I=M.getDocumentOptions(),U=M.getGlobalOptions();(0,y.default)(M,U,I,E);var O=(0,f.assign)({},U,I,E),j;typeof window<"u"&&(j=window);var $=S(U,I,E),F=v(U,I,E),H=b(M,O),R=T(M,O,j);return{id:E.tableId,content:R,hooks:F,styles:$,settings:H}}l.parseInput=x;function S(k,E,M){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},U=function(F){if(F==="columnStyles"){var H=k[F],R=E[F],B=M[F];I.columnStyles=(0,f.assign)({},H,R,B)}else{var W=[k,E,M],K=W.map(function(Z){return Z[F]||{}});I[F]=(0,f.assign)({},K[0],K[1],K[2])}},O=0,j=Object.keys(I);O<j.length;O++){var $=j[O];U($)}return I}function v(k,E,M){for(var I=[k,E,M],U={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,j=I;O<j.length;O++){var $=j[O];$.didParseCell&&U.didParseCell.push($.didParseCell),$.willDrawCell&&U.willDrawCell.push($.willDrawCell),$.didDrawCell&&U.didDrawCell.push($.didDrawCell),$.willDrawPage&&U.willDrawPage.push($.willDrawPage),$.didDrawPage&&U.didDrawPage.push($.didDrawPage)}return U}function b(k,E){var M,I,U,O,j,$,F,H,R,B,W,K,Z=(0,A.parseSpacing)(E.margin,40/k.scaleFactor()),se=(M=w(k,E.startY))!==null&&M!==void 0?M:Z.top,L;E.showFoot===!0?L="everyPage":E.showFoot===!1?L="never":L=(I=E.showFoot)!==null&&I!==void 0?I:"everyPage";var z;E.showHead===!0?z="everyPage":E.showHead===!1?z="never":z=(U=E.showHead)!==null&&U!==void 0?U:"everyPage";var Q=(O=E.useCss)!==null&&O!==void 0?O:!1,te=E.theme||(Q?"plain":"striped"),ae=!!E.horizontalPageBreak,me=(j=E.horizontalPageBreakRepeat)!==null&&j!==void 0?j:null;return{includeHiddenHtml:($=E.includeHiddenHtml)!==null&&$!==void 0?$:!1,useCss:Q,theme:te,startY:se,margin:Z,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(H=E.rowPageBreak)!==null&&H!==void 0?H:"auto",tableWidth:(R=E.tableWidth)!==null&&R!==void 0?R:"auto",showHead:z,showFoot:L,tableLineWidth:(B=E.tableLineWidth)!==null&&B!==void 0?B:0,tableLineColor:(W=E.tableLineColor)!==null&&W!==void 0?W:200,horizontalPageBreak:ae,horizontalPageBreakRepeat:me,horizontalPageBreakBehaviour:(K=E.horizontalPageBreakBehaviour)!==null&&K!==void 0?K:"afterAllRows"}}function w(k,E){var M=k.getLastAutoTable(),I=k.scaleFactor(),U=k.pageNumber(),O=!1;if(M&&M.startPageNumber){var j=M.startPageNumber+M.pageNumber-1;O=j===U}return typeof E=="number"?E:(E==null||E===!1)&&O&&(M==null?void 0:M.finalY)!=null?M.finalY+20/I:null}function T(k,E,M){var I=E.head||[],U=E.body||[],O=E.foot||[];if(E.html){var j=E.includeHiddenHtml;if(M){var $=(0,c.parseHtml)(k,E.html,M,j,E.useCss)||{};I=$.head||I,U=$.body||I,O=$.foot||I}else console.error("Cannot parse html in non browser environment")}var F=E.columns||C(I,U,O);return{columns:F,head:I,body:U,foot:O}}function C(k,E,M){var I=k[0]||E[0]||M[0]||[],U=[];return Object.keys(I).filter(function(O){return O!=="_element"}).forEach(function(O){var j=1,$;Array.isArray(I)?$=I[parseInt(O)]:$=I[O],typeof $=="object"&&!Array.isArray($)&&(j=($==null?void 0:$.colSpan)||1);for(var F=0;F<j;F++){var H=void 0;Array.isArray(I)?H=U.length:H=O+(F>0?"_".concat(F):"");var R={dataKey:H};U.push(R)}}),U}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,A,p,y){for(var x=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(O){f.applyStyles(f.userStyles),w.beforePageContent&&w.beforePageContent(O),f.applyStyles(f.userStyles),w.afterPageContent&&w.afterPageContent(O),f.applyStyles(f.userStyles),w.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){w[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var j=O[0],$=O[1];w[$]&&(console.error("Use of deprecated option ".concat($,". Use ").concat(j," instead")),w[j]=w[$])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var j=typeof O=="string"?O:O[0],$=typeof O=="string"?O:O[1];typeof w[j]<"u"&&(typeof w.styles[$]>"u"&&(w.styles[$]=w[j]),console.error("Use of deprecated option: "+j+", use the style "+$+" instead."))});for(var T=0,C=["styles","bodyStyles","headStyles","footStyles"];T<C.length;T++){var k=C[T];c(w[k]||{})}for(var E=w.columnStyles||{},M=0,I=Object.keys(E);M<I.length;M++){var U=I[M];c(E[U]||{})}},S=0,v=[A,p,y];S<v.length;S++){var b=v[S];x(b)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),A=u(420),p=function(){function v(b,w){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return v.prototype.getHeadHeight=function(b){return this.head.reduce(function(w,T){return w+T.getMaxCellHeight(b)},0)},v.prototype.getFootHeight=function(b){return this.foot.reduce(function(w,T){return w+T.getMaxCellHeight(b)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(b,w,T,C,k,E){for(var M=0,I=w;M<I.length;M++){var U=I[M],O=new f.CellHookData(b,this,T,C,k,E),j=U(O)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],j)return!1}return!0},v.prototype.callEndPageHooks=function(b,w){b.applyStyles(b.userStyles);for(var T=0,C=this.hooks.didDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(b,this,w))}},v.prototype.callWillDrawPageHooks=function(b,w){for(var T=0,C=this.hooks.willDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(b,this,w))}},v.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(C,k){return C+k.wrappedWidth},0);return w}else{var T=this.settings.margin;return b-T.left-T.right}},v}();l.Table=p;var y=function(){function v(b,w,T,C,k){k===void 0&&(k=!1),this.height=0,this.raw=b,b instanceof c.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=w,this.section=T,this.cells=C,this.spansMultiplePages=k}return v.prototype.getMaxCellHeight=function(b){var w=this;return b.reduce(function(T,C){var k;return Math.max(T,((k=w.cells[C.index])===null||k===void 0?void 0:k.height)||0)},0)},v.prototype.hasRowSpan=function(b){var w=this;return b.filter(function(T){var C=w.cells[T.index];return C?C.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(b,w){return this.getMaxCellHeight(w)<=b},v.prototype.getMinimumRowHeight=function(b,w){var T=this;return b.reduce(function(C,k){var E=T.cells[k.index];if(!E)return 0;var M=w.getLineHeight(E.styles.fontSize),I=E.padding("vertical"),U=I+M;return U>C?U:C},0)},v}();l.Row=y;var x=function(){function v(b,w,T){var C,k;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=T,this.raw=b;var E=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,E=(k=(C=b.content)!==null&&C!==void 0?C:b.title)!==null&&k!==void 0?k:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var M=E!=null?""+E:"",I=/\r\n|\r|\n/g;this.text=M.split(I)}return v.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");b=this.y+w/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");T=this.x+C/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:b}},v.prototype.getContentHeight=function(b,w){w===void 0&&(w=1.15);var T=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/b*w,k=T*C+this.padding("vertical");return Math.max(k,this.styles.minCellHeight)},v.prototype.padding=function(b){var w=(0,A.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?w.top+w.bottom:b==="horizontal"?w.left+w.right:w[b]},v}();l.Cell=x;var S=function(){function v(b,w,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=w,this.index=T}return v.prototype.getMaxCustomCellWidth=function(b){for(var w=0,T=0,C=b.allRows();T<C.length;T++){var k=C[T],E=k.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(w=Math.max(w,E.styles.cellWidth))}return w},v}();l.Column=S},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,A,p,y){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(c),S=1;S<arguments.length;S++){var v=arguments[S];if(v!=null)for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(x[b]=v[b])}return x}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),A=u(324),p=u(796),y=u(356);function x(k,E){var M=new c.DocHandler(k),I=S(E,M.scaleFactor()),U=new f.Table(E,I);return(0,A.calculateWidths)(M,U),M.applyStyles(M.userStyles),U}l.createTable=x;function S(k,E){var M=k.content,I=T(M.columns);if(M.head.length===0){var U=b(I,"head");U&&M.head.push(U)}if(M.foot.length===0){var U=b(I,"foot");U&&M.foot.push(U)}var O=k.settings.theme,j=k.styles;return{columns:I,head:v("head",M.head,I,j,O,E),body:v("body",M.body,I,j,O,E),foot:v("foot",M.foot,I,j,O,E)}}function v(k,E,M,I,U,O){var j={},$=E.map(function(F,H){for(var R=0,B={},W=0,K=0,Z=0,se=M;Z<se.length;Z++){var L=se[Z];if(j[L.index]==null||j[L.index].left===0)if(K===0){var z=void 0;Array.isArray(F)?z=F[L.index-W-R]:z=F[L.dataKey];var Q={};typeof z=="object"&&!Array.isArray(z)&&(Q=(z==null?void 0:z.styles)||{});var te=C(k,L,H,U,I,O,Q),ae=new f.Cell(z,te,k);B[L.dataKey]=ae,B[L.index]=ae,K=ae.colSpan-1,j[L.index]={left:ae.rowSpan-1,times:K}}else K--,W++;else j[L.index].left--,K=j[L.index].times,R++}return new f.Row(F,H,k,B)});return $}function b(k,E){var M={};return k.forEach(function(I){if(I.raw!=null){var U=w(E,I.raw);U!=null&&(M[I.dataKey]=U)}}),Object.keys(M).length>0?M:null}function w(k,E){if(k==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(k==="foot"&&typeof E=="object")return E.footer;return null}function T(k){return k.map(function(E,M){var I,U,O;return typeof E=="object"?O=(U=(I=E.dataKey)!==null&&I!==void 0?I:E.key)!==null&&U!==void 0?U:M:O=M,new f.Column(O,E,M)})}function C(k,E,M,I,U,O,j){var $=(0,p.getTheme)(I),F;k==="head"?F=U.headStyles:k==="body"?F=U.bodyStyles:k==="foot"&&(F=U.footStyles);var H=(0,y.assign)({},$.table,$[k],U.styles,F),R=U.columnStyles[E.dataKey]||U.columnStyles[E.index]||{},B=k==="body"?R:{},W=k==="body"&&M%2===0?(0,y.assign)({},$.alternateRow,U.alternateRowStyles):{},K=(0,p.defaultStyles)(O),Z=(0,y.assign)({},K,H,W,B);return(0,y.assign)(Z,j)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),A=u(744),p=u(356),y=u(136),x=u(224);function S(R,B){var W=B.settings,K=W.startY,Z=W.margin,se={x:Z.left,y:K},L=B.getHeadHeight(B.columns)+B.getFootHeight(B.columns),z=K+Z.bottom+L;if(W.pageBreak==="avoid"){var Q=B.body,te=Q.reduce(function(he,G){return he+G.height},0);z+=te}var ae=new A.DocHandler(R);(W.pageBreak==="always"||W.startY!=null&&z>ae.pageSize().height)&&(H(ae),se.y=Z.top),B.callWillDrawPageHooks(ae,se);var me=(0,p.assign)({},se);B.startPageNumber=ae.pageNumber(),W.horizontalPageBreak?v(ae,B,me,se):(ae.applyStyles(ae.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&B.head.forEach(function(he){return U(ae,B,he,se,B.columns)}),ae.applyStyles(ae.userStyles),B.body.forEach(function(he,G){var le=G===B.body.length-1;I(ae,B,he,le,me,se,B.columns)}),ae.applyStyles(ae.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&B.foot.forEach(function(he){return U(ae,B,he,se,B.columns)})),(0,c.addTableBorder)(ae,B,me,se),B.callEndPageHooks(ae,se),B.finalY=se.y,R.lastAutoTable=B,R.previousAutoTable=B,R.autoTable&&(R.autoTable.previous=B),ae.applyStyles(ae.userStyles)}l.drawTable=S;function v(R,B,W,K){var Z=(0,x.calculateAllColumnsCanFitInPage)(R,B),se=B.settings;if(se.horizontalPageBreakBehaviour==="afterAllRows")Z.forEach(function(te,ae){R.applyStyles(R.userStyles),ae>0?F(R,B,W,K,te.columns,!0):b(R,B,K,te.columns),w(R,B,W,K,te.columns),C(R,B,K,te.columns)});else for(var L=-1,z=Z[0],Q=function(){var te=L;if(z){R.applyStyles(R.userStyles);var ae=z.columns;L>=0?F(R,B,W,K,ae,!0):b(R,B,K,ae),te=T(R,B,L+1,K,ae),C(R,B,K,ae)}var me=te-L;Z.slice(1).forEach(function(he){R.applyStyles(R.userStyles),F(R,B,W,K,he.columns,!0),T(R,B,L+1,K,he.columns,me),C(R,B,K,he.columns)}),L=te};L<B.body.length-1;)Q()}function b(R,B,W,K){var Z=B.settings;R.applyStyles(R.userStyles),(Z.showHead==="firstPage"||Z.showHead==="everyPage")&&B.head.forEach(function(se){return U(R,B,se,W,K)})}function w(R,B,W,K,Z){R.applyStyles(R.userStyles),B.body.forEach(function(se,L){var z=L===B.body.length-1;I(R,B,se,z,W,K,Z)})}function T(R,B,W,K,Z,se){R.applyStyles(R.userStyles),se=se??B.body.length;var L=Math.min(W+se,B.body.length),z=-1;return B.body.slice(W,L).forEach(function(Q,te){var ae=W+te===B.body.length-1,me=$(R,B,ae,K);Q.canEntireRowFit(me,Z)&&(U(R,B,Q,K,Z),z=W+te)}),z}function C(R,B,W,K){var Z=B.settings;R.applyStyles(R.userStyles),(Z.showFoot==="lastPage"||Z.showFoot==="everyPage")&&B.foot.forEach(function(se){return U(R,B,se,W,K)})}function k(R,B,W){var K=W.getLineHeight(R.styles.fontSize),Z=R.padding("vertical"),se=Math.floor((B-Z)/K);return Math.max(0,se)}function E(R,B,W,K){var Z={};R.spansMultiplePages=!0,R.height=0;for(var se=0,L=0,z=W.columns;L<z.length;L++){var Q=z[L],te=R.cells[Q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var ae=new f.Cell(te.raw,te.styles,te.section);ae=(0,p.assign)(ae,te),ae.text=[];var me=k(te,B,K);te.text.length>me&&(ae.text=te.text.splice(me,te.text.length));var he=K.scaleFactor(),G=K.getLineHeightFactor();te.contentHeight=te.getContentHeight(he,G),te.contentHeight>=B&&(te.contentHeight=B,ae.styles.minCellHeight-=B),te.contentHeight>R.height&&(R.height=te.contentHeight),ae.contentHeight=ae.getContentHeight(he,G),ae.contentHeight>se&&(se=ae.contentHeight),Z[Q.index]=ae}}var le=new f.Row(R.raw,-1,R.section,Z,!0);le.height=se;for(var ce=0,ue=W.columns;ce<ue.length;ce++){var Q=ue[ce],ae=le.cells[Q.index];ae&&(ae.height=le.height);var te=R.cells[Q.index];te&&(te.height=R.height)}return le}function M(R,B,W,K){var Z=R.pageSize().height,se=K.settings.margin,L=se.top+se.bottom,z=Z-L;B.section==="body"&&(z-=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns));var Q=B.getMinimumRowHeight(K.columns,R),te=Q<W;if(Q>z)return console.error("Will not be able to print row ".concat(B.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var ae=B.hasRowSpan(K.columns),me=B.getMaxCellHeight(K.columns)>z;return me?(ae&&console.error("The content of row ".concat(B.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ae||K.settings.rowPageBreak==="avoid")}function I(R,B,W,K,Z,se,L){var z=$(R,B,K,se);if(W.canEntireRowFit(z,L))U(R,B,W,se,L);else if(M(R,W,z,B)){var Q=E(W,z,B,R);U(R,B,W,se,L),F(R,B,Z,se,L),I(R,B,Q,K,Z,se,L)}else F(R,B,Z,se,L),I(R,B,W,K,Z,se,L)}function U(R,B,W,K,Z){K.x=B.settings.margin.left;for(var se=0,L=Z;se<L.length;se++){var z=L[se],Q=W.cells[z.index];if(!Q){K.x+=z.width;continue}R.applyStyles(Q.styles),Q.x=K.x,Q.y=K.y;var te=B.callCellHooks(R,B.hooks.willDrawCell,Q,W,z,K);if(te===!1){K.x+=z.width;continue}O(R,Q,K);var ae=Q.getTextPos();(0,y.default)(Q.text,ae.x,ae.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},R.getDocument()),B.callCellHooks(R,B.hooks.didDrawCell,Q,W,z,K),K.x+=z.width}K.y+=W.height}function O(R,B,W){var K=B.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof K.lineWidth=="number"){var Z=(0,c.getFillStyle)(K.lineWidth,K.fillColor);Z&&R.rect(B.x,W.y,B.width,B.height,Z)}else typeof K.lineWidth=="object"&&(K.fillColor&&R.rect(B.x,W.y,B.width,B.height,"F"),j(R,B,W,K.lineWidth))}function j(R,B,W,K){var Z,se,L,z;K.top&&(Z=W.x,se=W.y,L=W.x+B.width,z=W.y,K.right&&(L+=.5*K.right),K.left&&(Z-=.5*K.left),Q(K.top,Z,se,L,z)),K.bottom&&(Z=W.x,se=W.y+B.height,L=W.x+B.width,z=W.y+B.height,K.right&&(L+=.5*K.right),K.left&&(Z-=.5*K.left),Q(K.bottom,Z,se,L,z)),K.left&&(Z=W.x,se=W.y,L=W.x,z=W.y+B.height,K.top&&(se-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.left,Z,se,L,z)),K.right&&(Z=W.x+B.width,se=W.y,L=W.x+B.width,z=W.y+B.height,K.top&&(se-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.right,Z,se,L,z));function Q(te,ae,me,he,G){R.getDocument().setLineWidth(te),R.getDocument().line(ae,me,he,G,"S")}}function $(R,B,W,K){var Z=B.settings.margin.bottom,se=B.settings.showFoot;return(se==="everyPage"||se==="lastPage"&&W)&&(Z+=B.getFootHeight(B.columns)),R.pageSize().height-K.y-Z}function F(R,B,W,K,Z,se){Z===void 0&&(Z=[]),se===void 0&&(se=!1),R.applyStyles(R.userStyles),B.settings.showFoot==="everyPage"&&!se&&B.foot.forEach(function(z){return U(R,B,z,K,Z)}),B.callEndPageHooks(R,K);var L=B.settings.margin;(0,c.addTableBorder)(R,B,W,K),H(R),B.pageNumber++,B.pageCount++,K.x=L.left,K.y=L.top,W.y=L.top,B.callWillDrawPageHooks(R,K),B.settings.showHead==="everyPage"&&(B.head.forEach(function(z){return U(R,B,z,K,Z)}),R.applyStyles(R.userStyles))}l.addPage=F;function H(R){var B=R.pageNumber();R.setPage(B+1);var W=R.pageNumber();return W===B?(R.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(p,y,x){var S;x===void 0&&(x={});var v=(0,c.getPageAvailableWidth)(p,y),b=new Map,w=[],T=[],C=[];y.settings.horizontalPageBreakRepeat,Array.isArray(y.settings.horizontalPageBreakRepeat)?C=y.settings.horizontalPageBreakRepeat:(typeof y.settings.horizontalPageBreakRepeat=="string"||typeof y.settings.horizontalPageBreakRepeat=="number")&&(C=[y.settings.horizontalPageBreakRepeat]),C.forEach(function(I){var U=y.columns.find(function(O){return O.dataKey===I||O.index===I});U&&!b.has(U.index)&&(b.set(U.index,!0),w.push(U.index),T.push(y.columns[U.index]),v-=U.wrappedWidth)});for(var k=!0,E=(S=x==null?void 0:x.start)!==null&&S!==void 0?S:0;E<y.columns.length;){if(b.has(E)){E++;continue}var M=y.columns[E].wrappedWidth;if(k||v>=M)k=!1,w.push(E),T.push(y.columns[E]),v-=M;else break;E++}return{colIndexes:w,columns:T,lastIndex:E-1}}function A(p,y){for(var x=[],S=0;S<y.columns.length;S++){var v=f(p,y,{start:S});v.columns.length&&(x.push(v),S=v.lastIndex)}return x}l.calculateAllColumnsCanFitInPage=A},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(w,T){A(w,T);var C=[],k=0;T.columns.forEach(function(M){var I=M.getMaxCustomCellWidth(T);I?M.width=I:(M.width=M.wrappedWidth,C.push(M)),k+=M.width});var E=T.getWidth(w.pageSize().width)-k;E&&(E=p(C,E,function(M){return Math.max(M.minReadableWidth,M.minWidth)})),E&&(E=p(C,E,function(M){return M.minWidth})),E=Math.abs(E),!T.settings.horizontalPageBreak&&E>.1/w.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),x(T),S(T,w),y(T)}l.calculateWidths=f;function A(w,T){var C=w.scaleFactor(),k=T.settings.horizontalPageBreak,E=(0,c.getPageAvailableWidth)(w,T);T.allRows().forEach(function(M){for(var I=0,U=T.columns;I<U.length;I++){var O=U[I],j=M.cells[O.index];if(j){var $=T.hooks.didParseCell;T.callCellHooks(w,$,j,M,O,null);var F=j.padding("horizontal");j.contentWidth=(0,c.getStringWidth)(j.text,j.styles,w)+F;var H=(0,c.getStringWidth)(j.text.join(" ").split(/[^\S\u00A0]+/),j.styles,w);if(j.minReadableWidth=H+j.padding("horizontal"),typeof j.styles.cellWidth=="number")j.minWidth=j.styles.cellWidth,j.wrappedWidth=j.styles.cellWidth;else if(j.styles.cellWidth==="wrap"||k===!0)j.contentWidth>E?(j.minWidth=E,j.wrappedWidth=E):(j.minWidth=j.contentWidth,j.wrappedWidth=j.contentWidth);else{var R=10/C;j.minWidth=j.styles.minCellWidth||R,j.wrappedWidth=j.contentWidth,j.minWidth>j.wrappedWidth&&(j.wrappedWidth=j.minWidth)}}}}),T.allRows().forEach(function(M){for(var I=0,U=T.columns;I<U.length;I++){var O=U[I],j=M.cells[O.index];if(j&&j.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,j.wrappedWidth),O.minWidth=Math.max(O.minWidth,j.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,j.minReadableWidth);else{var $=T.styles.columnStyles[O.dataKey]||T.styles.columnStyles[O.index]||{},F=$.cellWidth||$.minCellWidth;F&&typeof F=="number"&&(O.minWidth=F,O.wrappedWidth=F)}j&&(j.colSpan>1&&!O.minWidth&&(O.minWidth=j.minWidth),j.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=j.minWidth))}})}function p(w,T,C){for(var k=T,E=w.reduce(function(R,B){return R+B.wrappedWidth},0),M=0;M<w.length;M++){var I=w[M],U=I.wrappedWidth/E,O=k*U,j=I.width+O,$=C(I),F=j<$?$:j;T-=F-I.width,I.width=F}if(T=Math.round(T*1e10)/1e10,T){var H=w.filter(function(R){return T<0?R.width>C(R):!0});H.length&&(T=p(H,T,C))}return T}l.resizeColumns=p;function y(w){for(var T={},C=1,k=w.allRows(),E=0;E<k.length;E++)for(var M=k[E],I=0,U=w.columns;I<U.length;I++){var O=U[I],j=T[O.index];if(C>1)C--,delete M.cells[O.index];else if(j)j.cell.height+=M.height,C=j.cell.colSpan,delete M.cells[O.index],j.left--,j.left<=1&&delete T[O.index];else{var $=M.cells[O.index];if(!$)continue;if($.height=M.height,$.rowSpan>1){var F=k.length-E,H=$.rowSpan>F?F:$.rowSpan;T[O.index]={cell:$,left:H,row:M}}}}}function x(w){for(var T=w.allRows(),C=0;C<T.length;C++)for(var k=T[C],E=null,M=0,I=0,U=0;U<w.columns.length;U++){var O=w.columns[U];if(I-=1,I>1&&w.columns[U+1])M+=O.width,delete k.cells[O.index];else if(E){var j=E;delete k.cells[O.index],E=null,j.width=O.width+M}else{var j=k.cells[O.index];if(!j)continue;if(I=j.colSpan,M=0,j.colSpan>1){E=j,M+=O.width;continue}j.width=O.width+M}}}function S(w,T){for(var C={count:0,height:0},k=0,E=w.allRows();k<E.length;k++){for(var M=E[k],I=0,U=w.columns;I<U.length;I++){var O=U[I],j=M.cells[O.index];if(j){T.applyStyles(j.styles,!0);var $=j.width-j.padding("horizontal");if(j.styles.overflow==="linebreak")j.text=T.splitTextToSize(j.text,$+1/T.scaleFactor(),{fontSize:j.styles.fontSize});else if(j.styles.overflow==="ellipsize")j.text=v(j.text,$,j.styles,T,"...");else if(j.styles.overflow==="hidden")j.text=v(j.text,$,j.styles,T,"");else if(typeof j.styles.overflow=="function"){var F=j.styles.overflow(j.text,$);typeof F=="string"?j.text=[F]:j.text=F}j.contentHeight=j.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var H=j.contentHeight/j.rowSpan;j.rowSpan>1&&C.count*C.height<H*j.rowSpan?C={height:H,count:j.rowSpan}:C&&C.count>0&&C.height>H&&(H=C.height),H>M.height&&(M.height=H)}}C.count--}}function v(w,T,C,k,E){return w.map(function(M){return b(M,T,C,k,E)})}l.ellipsize=v;function b(w,T,C,k,E){var M=1e4*k.scaleFactor();if(T=Math.ceil(T*M)/M,T>=(0,c.getStringWidth)(w,C,k))return w;for(;T<(0,c.getStringWidth)(w+E,C,k)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+E}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),A=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return A.Table}});var p=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var y=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return y.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return y.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return y.Row}});function x(T){(0,l.default)(T)}s.applyPlugin=x;function S(T,C){var k=(0,u.parseInput)(T,C),E=(0,f.createTable)(T,k);(0,c.drawTable)(T,E)}function v(T,C){var k=(0,u.parseInput)(T,C);return(0,f.createTable)(T,k)}s.__createTable=v;function b(T,C){(0,c.drawTable)(T,C)}s.__drawTable=b;try{var w=a(964);w.jsPDF&&(w=w.jsPDF),x(w)}catch{}s.default=S}(),o}()})})(wj);var pU=wj.exports;const Jg=Wt(pU),f1="data:application/font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAAAAQAAAAIAAAGDAAAAAAFT1MvMg8SDzQAAAZgAAAAYGNtYXABDQGXAAAIJAAAAOpnYXNw//8AAwAAGYQAAAAIZ2x5ZgscA3UAABmUAAE4YGhlYWQG41YJAAA8ZAAAADZoaGVhA+IB6AAAAD3sAAAAJGhtdHgAewYIAAABQAAAALRsb2NhAIwBqAAAE0gAAAFQbWF4cAIgA2gAAD4UAAAAIG5hbWXLh+9IAAAR0AAAAYdwb3N0/5wAMQAAFUgAAAAgcHJlcGgGjIUDAAAY/AAAAFMAAQAAAAEAAC7a32BfDzz1AAsEAAAAAADbB8BSAAAAANsHwFIAAAAAAIAAAACAAAAAwAAABQAAwABAAAAFAAEAEAAAAAMAAgAAgAEAAEAIOkB//8AAOkg///+8wDsAPAAAwAAAAAAAAECAAAAAAAAAAAAAAICAAUAAAAAAAAAAAAAAAACAAEAAgAGAAgAAwABBAkAAQACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAIAAwABBAkAAgACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAgAAAAAAAAAAAACACgAAAAAAAoAP8AwADgAAAAAAAAAAAAAAMwAZAAAAAAAAABkAUAAAAAAAAAAAAAAAACQAZAAAAAAAAAAQADgAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAUAFQAAAAAAAAAAAAAABgAYAAAAAAAAAAAAAAAHABsAAAAAAAAAAAAAAAgAIAAAAAAAAAAAAAAACQAhAAAAAAAAAAAAAAAKACMAAAAAAAAAAAAAAAsAKgAAAAAAAAAAAAAADAAqAAAAAAAAAAAAAAANACwAAAAAAAAAAAAAAA4ALgAAAAAAAAAAAAAADwAvAAAAAAAAAAAAAAABAAAADgAAAAAAAAAAAAAAAQAIAAIAAAAAAAAAAgAAAAEAAQABAAAAAgAAAAIAAgABAAIAAgACAAEAAgACAAIAAgACAAEAAwACAAQAAwACAAQABQADAAYAAgAHAAkABQAIAAgACQAJAAoACQALAAkADAAJAA0ACQAOAAkADwAJABAACQARAAkAEgAJABMACQAUAAkAFQAJABYACQAXAAkAGAACABkACgAaAAoAGwAKABwACgAdAAoAHgAKAB8ACgAgAAoAIQAKACQAKgAlACoAJgAqACcAKgAoACoAKQAqACoAKgArACoALAAsAC0ALAAuACwALwAsADAALAAxACwAMgAsADMALAA0ACwANQAsADYALAA3ACwAOAAsADkALAA6ACwAOwAsADwALAA9ACwAPgAsAD8ALAA/ACwAQAB/AEIAfwBDAH8ARAB/AEUAfwBGAH8ARwB/AEgAQQBBAEIAQQBDAEEARABBAEUAQQBGAEEARwBBAEgAQgBIAEMASABEAEMASQBGAEcASABHAEgASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBsAG0AbgBvAHAAcQByAHMAdAB1AGMAAAAABgADAPgACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAdG9wZQAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAMjAwMjAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAACAAQAAAPgA8AD8ARABIAFoAYABqAHQAgACSAKwAwADcAOwA8AEAARgBKAE4AUQBXAFsAXgBiAGcAbQBzAHkAfACKAJYAnQCqAK8AsgC4ALsAxADFAMcAzgDQANUA2ADbAN8A4wDnAPcA+gD/AQUA7QDvAPEA8wD1APgA+wD9AP8BBAEEAQwBFQEaASQBKwEyATYBOgE+AUIDQgNGA0oDTgNSA1YDWgNeA2IDZgNqA24DcQN2A3kDfgOAA4QDiAOOA5IDlAOYA5wDoAOmA6oDrgOyA7YDuwPCA8YDyQPOBAAECgQWBBwEIgQoBDIEOgRABEYEUARWBFwEZAQAAAQAAAAAAAAAAAAAAAAAB/8AAQAHAAABAAAAAAAAAAAAAAAAABoBAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAABAAADAPgAAwADAPgAAQADAPgABQADAPgA//8ABQAAAAAAAAACAAYAAAAUAAEAAAABAAIAAAAAAAAAAQAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-Regular.ttf",Xg=(t,e)=>{try{if(!f1||!f1.includes(","))throw new Error("Invalid font data URI");const n=f1.split(",")[1];t.addFileToVFS("Amiri-Regular.ttf",n),t.addFont("Amiri-Regular.ttf","Amiri","normal"),t.setFont("Amiri")}catch(n){console.error("Error loading custom font for PDF, falling back to default.",n),t.setFont("helvetica")}},Ia=(t,e,n,r,i,a)=>{if(n.length===0){alert(a);return}const o=new lt;Xg(o),o.setFontSize(18);const s=o.internal.pageSize.getWidth();o.text(t,s/2,20,{align:"center"}),Jg(o,{head:[e],body:n,startY:30,theme:"grid",styles:{font:"Amiri",halign:i==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}});const l=new Date().toLocaleDateString(i.split("-")[0]);o.save(`${r}_${l}.pdf`)},Dm=(t,e,n)=>{const r=new Date;let i=null,a=new Date;switch(a.setHours(23,59,59,999),e){case"today":i=new Date(r.setHours(0,0,0,0));break;case"week":i=new Date(r),i.setDate(r.getDate()-r.getDay()+(r.getDay()===0?-6:1)),i.setHours(0,0,0,0);break;case"month":i=new Date(r.getFullYear(),r.getMonth(),1);break;case"custom":i=n.start?new Date(n.start):null,a=n.end?new Date(n.end):null,i&&i.setHours(0,0,0,0),a&&a.setHours(23,59,59,999);break;default:return t}return t.filter(o=>{const s=new Date(o.date),l=i?s>=i:!0,u=a?s<=a:!0;return l&&u})},AU=({variant:t,product:e,onDone:n,t:r})=>(re.useEffect(()=>{const i=()=>{window.removeEventListener("afterprint",i),n()};window.addEventListener("afterprint",i);const a=setTimeout(()=>{i()},500);return window.print(),()=>{clearTimeout(a),window.removeEventListener("afterprint",i)}},[n]),t.barcode?h.jsx("div",{id:"printable-barcode",className:"p-2 bg-white text-black font-sans",style:{width:"80mm",height:"40mm",boxSizing:"border-box"},children:h.jsxs("div",{className:"border border-black p-2 h-full flex flex-col justify-between items-center text-center",children:[h.jsxs("div",{className:"w-full",children:[h.jsx("p",{className:"font-bold text-lg truncate",children:e.name}),h.jsx("p",{className:"text-sm truncate",children:t.name})]}),h.jsxs("div",{className:"w-full my-1",children:[h.jsx("div",{className:"flex justify-center items-end h-10 overflow-hidden",children:t.barcode.split("").map((i,a)=>h.jsx("div",{className:"bg-black",style:{width:`${parseInt(i,16)%3+1}px`,height:`${parseInt(i,16)%40+40}%`}},a))}),h.jsx("p",{className:"font-mono tracking-widest text-lg mt-1",children:t.barcode})]}),h.jsxs("p",{className:"font-extrabold text-xl",children:[t.price.toFixed(2)," DH"]})]})}):null),mU=({product:t,variants:e,onClose:n,onSave:r,t:i})=>{const[a,o]=re.useState(""),[s,l]=re.useState(1),[u,c]=re.useState(0),[f,A]=re.useState(0);re.useEffect(()=>{e.length===1&&o(e[0].id)},[e]),re.useEffect(()=>{const y=e.find(x=>x.id===a);y?(c(y.purchasePrice),A(y.price),l(1)):(c(0),A(0),l(1))},[a,e]);const p=y=>{if(y.preventDefault(),!a||s===""||s<=0||u===""||u<0||f===""||f<=0){alert(i("fillAllFieldsError"));return}if(f<=u){alert(i("sellingPriceMustBeHigherError"));return}r({variantId:a,quantity:s,purchasePrice:u,sellingPrice:f})};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:i("addStockFor",{name:t.name})}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"variant",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("variant")}),h.jsxs("select",{id:"variant",value:a,onChange:y=>o(y.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:i("selectVariant")}),e.map(y=>h.jsx("option",{value:y.id,children:y.name},y.id))]})]}),a&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("quantityToAdd")}),h.jsx("input",{id:"quantity",type:"number",value:s,onChange:y=>l(y.target.value===""?"":parseFloat(y.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("purchasePrice")}),h.jsx("input",{id:"purchasePrice",type:"number",value:u,onChange:y=>c(y.target.value===""?"":parseFloat(y.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"sellingPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("sellingPrice")}),h.jsx("input",{id:"sellingPrice",type:"number",value:f,onChange:y=>A(y.target.value===""?"":parseFloat(y.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),h.jsx("button",{type:"submit",disabled:!a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400 dark:disabled:bg-slate-500",children:i("save")})]})]})]})})},d1=20,gU=({storeId:t,products:e,variants:n,suppliers:r,categories:i,stockMap:a,addProduct:o,updateProduct:s,deleteProduct:l,addStockToVariant:u,t:c,language:f})=>{const[A,p]=re.useState(!1),[y,x]=re.useState(null),[S,v]=re.useState(null),[b,w]=re.useState(""),[T,C]=re.useState(""),[k,E]=re.useState(""),[M,I]=re.useState(""),[U,O]=re.useState([]),[j,$]=re.useState([]),[F,H]=re.useState(""),[R,B]=re.useState(null),[W,K]=re.useState({}),Z=re.useMemo(()=>{const Ne=new Map;return n.forEach(Ee=>{const xe=Ne.get(Ee.productId)||[];xe.push(Ee),Ne.set(Ee.productId,xe)}),Ne},[n]),se=re.useMemo(()=>{if(!F)return e;const Ne=F.toLowerCase(),Ee=new Set(e.filter(Pe=>Pe.name.toLowerCase().includes(Ne)).map(Pe=>Pe.id)),xe=new Set(i.filter(Pe=>Pe.name.toLowerCase().includes(Ne)).map(Pe=>Pe.id));return e.filter(Pe=>Ee.has(Pe.id)||Pe.categoryId&&xe.has(Pe.categoryId))},[F,e,i]);re.useEffect(()=>{if(F){const Ne=new Set(se.map(Ee=>Ee.categoryId||"uncategorized"));$(Array.from(Ne))}else $([]);K({})},[F,se]);const L=Ne=>{$(Ee=>Ee.includes(Ne)?Ee.filter(xe=>xe!==Ne):[...Ee,Ne])},z=()=>{p(!1),x(null),w(""),C(""),E(""),I(""),O([]);const Ne=document.getElementById("productImageFile");Ne&&(Ne.value="")},Q=Ne=>{var Ee;p(!0),x(Ne),w(Ne.name),C(Ne.categoryId||""),E(Ne.supplierId||""),I(Ne.image),O(((Ee=Z.get(Ne.id))==null?void 0:Ee.map(xe=>({...xe,priceSemiWholesale:xe.priceSemiWholesale||0,priceWholesale:xe.priceWholesale||0,stockQuantity:a.get(xe.id)||0})))||[]),window.scrollTo({top:0,behavior:"smooth"})},te=Ne=>{if(Ne.target.files&&Ne.target.files[0]){const Ee=Ne.target.files[0],xe=new FileReader;xe.onloadend=()=>I(xe.result),xe.readAsDataURL(Ee)}},ae=(Ne,Ee,xe)=>{const Pe=[...U];Pe[Ne][Ee]=xe,O(Pe)},me=(Ne,Ee)=>{if(Ee.target.files&&Ee.target.files[0]){const xe=Ee.target.files[0],Pe=new FileReader;Pe.onloadend=()=>{const ye=[...U];ye[Ne].image=Pe.result,O(ye)},Pe.readAsDataURL(xe)}},he=()=>{O([...U,{name:"",price:0,priceSemiWholesale:0,priceWholesale:0,purchasePrice:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:0}])},G=Ne=>{O(U.filter((Ee,xe)=>xe!==Ne))},le=async Ne=>{if(Ne.preventDefault(),!b||U.length===0){alert(c("fillNameAndPriceError"));return}for(const Ee of U){if(!Ee.name||Ee.price<=0){alert(c("fillNameAndPriceError"));return}if(Ee.price<=Ee.purchasePrice){alert(c("sellingPriceMustBeHigherError"));return}}if(A&&y){const Ee={...y,name:b,categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(b)}`};await s(Ee,U)}else{const Ee={storeId:t,name:b,type:"good",categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(b)}`,createdAt:new Date().toISOString()},xe=U.map(({stockQuantity:Pe,...ye})=>ye);await o(Ee,xe)}z()},ce=async Ne=>{window.confirm(c("confirmProductDelete"))&&await l(Ne)},ue=()=>{const Ne=[c("productName"),c("variantName"),c("price"),c("purchasePrice"),c("stock"),c("barcode"),c("category"),c("supplier")],Ee=n.map(xe=>{var ye,ke;const Pe=e.find(be=>be.id===xe.productId);return[(Pe==null?void 0:Pe.name)||"N/A",xe.name,xe.price,xe.purchasePrice,a.get(xe.id)||0,xe.barcode||"N/A",((ye=i.find(be=>be.id===(Pe==null?void 0:Pe.categoryId)))==null?void 0:ye.name)||"N/A",((ke=r.find(be=>be.id===(Pe==null?void 0:Pe.supplierId)))==null?void 0:ke.name)||"N/A"]});Ia(c("productList"),Ne,Ee,"products_with_variants",f,c("noDataToExport"))},Me=async Ne=>{S&&(await u({...Ne,supplierId:S.supplierId}),v(null))},De=R?e.find(Ne=>Ne.id===R.productId):null,Ce=Ne=>Ne.map(Ee=>{const xe=Z.get(Ee.id)||[];return h.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[h.jsxs("div",{className:"flex items-center gap-3 md:col-span-5",children:[h.jsx("img",{src:Ee.image,alt:Ee.name,className:"w-12 h-12 object-cover rounded-md bg-gray-200"}),h.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:Ee.name})]}),h.jsx("div",{className:"md:col-span-5",children:xe.length>0?h.jsxs("details",{children:[h.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-teal-700 dark:text-teal-400",children:[xe.length," ",c("variants")]}),h.jsx("ul",{className:"mt-2 space-y-2",children:xe.map(Pe=>h.jsxs("li",{className:"flex items-center gap-3 text-xs p-1 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[h.jsx("img",{src:Pe.image,alt:Pe.name,className:"w-8 h-8 rounded-md object-cover bg-gray-200"}),h.jsx("span",{className:"flex-grow font-semibold text-slate-600 dark:text-slate-300",children:Pe.name}),h.jsxs("span",{className:"font-mono text-cyan-700 dark:text-cyan-400",children:[Pe.price.toFixed(2)," DH"]}),h.jsxs("span",{className:`px-2 py-0.5 font-medium rounded-full text-xs ${(a.get(Pe.id)||0)>Pe.lowStockThreshold?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[c("stock"),": ",a.get(Pe.id)||0]}),Pe.barcode&&h.jsx("button",{onClick:()=>B(Pe),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:c("printBarcodeLabel"),children:h.jsx(XO,{className:"w-5 h-5"})})]},Pe.id))})]}):h.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:c("noVariants")})}),h.jsxs("div",{className:"flex items-center gap-2 justify-end md:col-span-2",children:[h.jsx("button",{onClick:()=>v(Ee),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:c("addStock"),children:h.jsx(il,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>Q(Ee),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:h.jsx(xv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>ce(Ee.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:h.jsx(ri,{className:"w-5 h-5"})})]})]},Ee.id)}),ne=(Ne,Ee)=>{const xe=Ne.length;if(xe===0&&Ee==="uncategorized")return null;if(xe===0)return h.jsx("p",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:c("noProductsInCategory")});const Pe=W[Ee]||1,ye=Math.ceil(xe/d1),ke=(Pe-1)*d1,be=ke+d1,Ve=Ne.slice(ke,be),Ge=at=>{at<1||at>ye||K(He=>({...He,[Ee]:at}))};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Ce(Ve)}),ye>1&&h.jsxs("div",{className:"p-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[h.jsx("button",{onClick:()=>Ge(Pe-1),disabled:Pe===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("previous"),children:h.jsx(rd,{className:"w-5 h-5"})}),h.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",Pe," / ",ye]}),h.jsx("button",{onClick:()=>Ge(Pe+1),disabled:Pe===ye,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("next"),children:h.jsx(nd,{className:"w-5 h-5"})})]})]})};return h.jsxs("div",{className:"space-y-6",children:[R&&De&&h.jsx(AU,{variant:R,product:De,onDone:()=>B(null),t:c}),S&&h.jsx(mU,{product:S,variants:Z.get(S.id)||[],onClose:()=>v(null),onSave:Me,t:c}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:c(A?"editProduct":"addNewProduct")}),A&&h.jsx("button",{onClick:z,className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:c("cancel")})]}),h.jsxs("form",{onSubmit:le,className:"space-y-6",children:[h.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:c("productInfo")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[h.jsx("img",{src:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${c("productImagePreview")}`,alt:c("productImagePreview"),className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200"}),h.jsx("input",{type:"file",id:"productImageFile",accept:"image/*",onChange:te,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),h.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("productName")}),h.jsx("input",{type:"text",value:b,onChange:Ne=>w(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:c("productNamePlaceholder"),required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("category")}),h.jsxs("select",{value:T,onChange:Ne=>C(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[h.jsx("option",{value:"",children:c("selectCategory")}),i.map(Ne=>h.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("supplier")}),h.jsxs("select",{value:k,onChange:Ne=>E(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[h.jsx("option",{value:"",children:c("selectSupplier")}),r.map(Ne=>h.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]})]})]})]}),h.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:c("productVariants")}),h.jsxs("button",{type:"button",onClick:he,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[h.jsx(il,{className:"w-5 h-5"}),c("addVariant")]})]}),h.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:U.map((Ne,Ee)=>h.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 relative",children:[h.jsx("button",{type:"button",onClick:()=>G(Ee),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:h.jsx(ri,{className:"w-5 h-5"})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[h.jsx("img",{src:Ne.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${c("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2 bg-gray-200"}),h.jsx("input",{type:"file",accept:"image/*",onChange:xe=>me(Ee,xe),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),h.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"sm:col-span-3",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("variantName")}),h.jsx("input",{type:"text",value:Ne.name,onChange:xe=>ae(Ee,"name",xe.target.value),placeholder:c("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("purchasePrice")}),h.jsx("input",{type:"number",value:Ne.purchasePrice,onChange:xe=>ae(Ee,"purchasePrice",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("sellingPrice")}),h.jsx("input",{type:"number",value:Ne.price,onChange:xe=>ae(Ee,"price",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("semiWholesalePrice")}),h.jsx("input",{type:"number",value:Ne.priceSemiWholesale||"",onChange:xe=>ae(Ee,"priceSemiWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("wholesalePrice")}),h.jsx("input",{type:"number",value:Ne.priceWholesale||"",onChange:xe=>ae(Ee,"priceWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("stockQuantity")}),h.jsx("input",{type:"number",value:Ne.stockQuantity,onChange:xe=>ae(Ee,"stockQuantity",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.5"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("lowStockThreshold")}),h.jsx("input",{type:"number",value:Ne.lowStockThreshold,onChange:xe=>ae(Ee,"lowStockThreshold",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.5"})]}),h.jsxs("div",{className:"sm:col-span-3",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("barcode")}),h.jsx("input",{type:"text",value:Ne.barcode||"",onChange:xe=>ae(Ee,"barcode",xe.target.value),placeholder:c("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]})]})]})]},Ee))})]}),h.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg",children:c(A?"saveChanges":"saveProduct")})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("productList")}),h.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[h.jsxs("button",{onClick:()=>{z(),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[h.jsx(il,{className:"w-4 h-4"})," ",c("addNewProduct")]}),h.jsxs("div",{className:"relative flex-grow",children:[h.jsx("span",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center pl-3 rtl:pl-0 rtl:pr-3 pointer-events-none",children:h.jsx(cB,{className:"w-5 h-5 text-slate-400"})}),h.jsx("input",{type:"text",placeholder:c("searchProducts"),value:F,onChange:Ne=>H(Ne.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 rtl:pr-10 rtl:pl-4 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-2 focus:ring-teal-500 transition"})]}),h.jsxs("button",{onClick:ue,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",c("exportToPdf")]})]})]}),h.jsxs("div",{className:"mt-6 space-y-3",children:[i.map(Ne=>{const Ee=se.filter(Pe=>Pe.categoryId===Ne.id);if(Ee.length===0)return null;const xe=j.includes(Ne.id);return h.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>L(Ne.id),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":xe,"aria-controls":`category-panel-${Ne.id}`,children:[h.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[Ne.name," ",h.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ee.length,")"]})]}),h.jsx(jC,{className:`w-6 h-6 text-slate-500 transition-transform ${xe?"rotate-180":""}`})]}),xe&&h.jsx("div",{id:`category-panel-${Ne.id}`,children:ne(Ee,Ne.id)})]},Ne.id)}),(()=>{const Ne=se.filter(xe=>!xe.categoryId);if(Ne.length===0)return null;const Ee=j.includes("uncategorized");return h.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[h.jsxs("button",{onClick:()=>L("uncategorized"),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":Ee,"aria-controls":"category-panel-uncategorized",children:[h.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[c("uncategorized")," ",h.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ne.length,")"]})]}),h.jsx(jC,{className:`w-6 h-6 text-slate-500 transition-transform ${Ee?"rotate-180":""}`})]}),Ee&&h.jsx("div",{id:"category-panel-uncategorized",children:ne(Ne,"uncategorized")})]})})(),e.length>0&&se.length===0&&h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noResultsFound")}),e.length===0&&h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noProductsAdded")})]})]})]})},vU=({service:t,onClose:e,onSave:n,t:r})=>{const[i,a]=re.useState(t),o=l=>{const{id:u,value:c}=l.target;a(f=>({...f,[u]:l.target.type==="number"?parseFloat(c)||0:c}))},s=l=>{l.preventDefault(),n(i)};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editService")}),h.jsxs("form",{onSubmit:s,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("serviceName")}),h.jsx("input",{type:"text",id:"name",value:i.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("price")}),h.jsx("input",{type:"number",id:"price",value:i.price,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("semiWholesalePrice")}),h.jsx("input",{type:"number",id:"priceSemiWholesale",value:i.priceSemiWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("wholesalePrice")}),h.jsx("input",{type:"number",id:"priceWholesale",value:i.priceWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),h.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},yU=({storeId:t,services:e,addService:n,updateService:r,deleteService:i,t:a})=>{const[o,s]=re.useState({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),[l,u]=re.useState(null),[c,f]=re.useState(null),A=S=>{const{id:v,value:b}=S.target;s(w=>({...w,[v]:S.target.type==="number"?parseFloat(b)||0:b}))},p=async S=>{if(S.preventDefault(),f(null),!o.name||o.price<=0){f({type:"error",message:a("fillNameAndPriceError")});return}const v={name:o.name,price:o.price,priceSemiWholesale:o.priceSemiWholesale||void 0,priceWholesale:o.priceWholesale||void 0,type:"service",storeId:t,image:`https://via.placeholder.com/200/e9d5ff/a855f7?text=${encodeURIComponent(a("service"))}`,createdAt:new Date().toISOString()};await n(v),s({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),f({type:"success",message:a("serviceAddedSuccess",{name:o.name})}),setTimeout(()=>f(null),4e3)},y=async S=>{window.confirm(a("confirmServiceDelete"))&&await i(S)},x=async S=>{if(f(null),!S.name||(S.price??0)<=0){f({type:"error",message:a("fillNameAndPriceError")});return}await r(S),u(null),f({type:"success",message:a("serviceUpdatedSuccess",{name:S.name})}),setTimeout(()=>f(null),4e3)};return h.jsxs(h.Fragment,{children:[l&&h.jsx(vU,{service:l,onClose:()=>u(null),onSave:x,t:a}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(ha,{}),a("addNewService")]}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("serviceName")}),h.jsx("input",{type:"text",id:"name",value:o.name,onChange:A,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:a("serviceNamePlaceholder"),required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("sellingPrice")}),h.jsx("input",{type:"number",id:"price",value:o.price,onChange:A,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("semiWholesalePrice")}),h.jsx("input",{type:"number",id:"priceSemiWholesale",value:o.priceSemiWholesale,onChange:A,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("wholesalePrice")}),h.jsx("input",{type:"number",id:"priceWholesale",value:o.priceWholesale,onChange:A,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("saveService")})]}),c&&h.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:a("serviceList")}),h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[h.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3",children:a("serviceName")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:a("price")}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:a("actions")})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(S=>h.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[h.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:S.name}),h.jsxs("td",{className:"px-6 py-4",children:[(S.price??0).toFixed(2)," DH"]}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-start gap-4",children:[h.jsx("button",{onClick:()=>u(S),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:h.jsx(xv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>y(S.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:h.jsx(ri,{className:"w-5 h-5"})})]})})]},S.id))})]}),e.length===0&&h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noServicesAdded")})]})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bU,xU;function wU(){return{geminiUrl:bU,vertexUrl:xU}}function SU(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=wU();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ou{}function it(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(a+1),n[u])}else for(const u of l)m(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>d(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _U(t){const e={},n=d(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function TU(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],NU(o)),e}function CU(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const o=d(t,["response"]);return o!=null&&m(e,["response"],EU(o)),e}function NU(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>kU(o))),m(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function EU(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>PU(o))),m(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function kU(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],jU(n)),e}function PU(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],IU(n)),e}function MU(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function OU(t){const e={},n=d(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function jU(t){const e={},n=d(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],hS(r));const i=d(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function IU(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],hS(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(tN||(tN={}));var nN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(nN||(nN={}));var ji;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ji||(ji={}));var rN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(rN||(rN={}));var iN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(iN||(iN={}));var aN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(aN||(aN={}));var oN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(oN||(oN={}));var sN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(sN||(sN={}));var lN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(lN||(lN={}));var uN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(uN||(uN={}));var cN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(cN||(cN={}));var fN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(fN||(fN={}));var dN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dN||(dN={}));var hN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(hN||(hN={}));var pN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(pN||(pN={}));var Qg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Qg||(Qg={}));var AN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(AN||(AN={}));var u2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(u2||(u2={}));var mN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mN||(mN={}));var gN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gN||(gN={}));var vN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(vN||(vN={}));var yN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(yN||(yN={}));var bN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(bN||(bN={}));var xN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xN||(xN={}));var wN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(wN||(wN={}));var SN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(SN||(SN={}));var _N;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(_N||(_N={}));var TN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(TN||(TN={}));var CN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(CN||(CN={}));var NN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(NN||(NN={}));var EN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(EN||(EN={}));var kN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kN||(kN={}));var PN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(PN||(PN={}));var MN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(MN||(MN={}));var ON;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(ON||(ON={}));var jN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(jN||(jN={}));var IN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(IN||(IN={}));var DN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(DN||(DN={}));var LN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(LN||(LN={}));var RN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(RN||(RN={}));var FN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(FN||(FN={}));var $N;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($N||($N={}));var BN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(BN||(BN={}));var UN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(UN||(UN={}));var qN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qN||(qN={}));var HN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(HN||(HN={}));var zN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zN||(zN={}));var VN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(VN||(VN={}));var Gc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Gc||(Gc={}));class c2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class lh{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const A of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,y]of Object.entries(A))p!=="text"&&p!=="thought"&&(y!==null||y!==void 0)&&f.push(p);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;c=!0,u+=A.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[A,p]of Object.entries(f))A!=="inlineData"&&(p!==null||p!==void 0)&&c.push(A);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class GN{}class WN{}class DU{}class LU{}class RU{}class FU{}class YN{}class KN{}class JN{}class $U{}class Zg{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Zg;let i;const a=e;return n?i=CU(a):i=TU(a),Object.assign(r,i),r}}class XN{}class QN{}class ZN{}class BU{}class UU{}class qU{}class eE{}class HU{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class zU{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Sj(t,e){const n=qt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function _j(t){return Array.isArray(t)?t.map(e=>e0(e)):[e0(t)]}function e0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Tj(t){const e=e0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cj(t){const e=e0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Nj(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>tE(e)):[tE(t)]}function f2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function nE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function rE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Yr(t){if(t==null)throw new Error("ContentUnion is required");return f2(t)?t:{role:"user",parts:Nj(t)}}function pS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Yr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Yr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Yr(n)):[Yr(e)]}function pa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(nE(t)||rE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Yr(t)]}const e=[],n=[],r=f2(t[0]);for(const i of t){const a=f2(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(nE(i)||rE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Nj(n)}),e}function VU(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ji).includes(n[0].toUpperCase())?n[0].toUpperCase():ji.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ji).includes(r.toUpperCase())?r.toUpperCase():ji.TYPE_UNSPECIFIED})}}function of(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&VU(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ji).includes(s.toUpperCase())?s.toUpperCase():ji.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=of(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(of(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=of(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function AS(t){return of(t)}function mS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function gS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function id(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=of(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=of(e.response));return t}function ad(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function GU(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ss(t,e){if(typeof e!="string")throw new Error("name must be a string");return GU(t,e,"cachedContents")}function Ej(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ju(t){return hS(t)}function WU(t){return t!=null&&typeof t=="object"&&"name"in t}function YU(t){return t!=null&&typeof t=="object"&&"video"in t}function KU(t){return t!=null&&typeof t=="object"&&"uri"in t}function kj(t){var e;let n;if(WU(t)&&(n=t.name),!(KU(t)&&(n=t.uri,n===void 0))&&!(YU(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Pj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Mj(t){for(const e of["models","tunedModels","publisherModels"])if(JU(t,e))return t[e];return[]}function JU(t,e){return t!==null&&typeof t=="object"&&e in t}function XU(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function QU(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=XU(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Oj(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ZU(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function jj(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function od(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ij(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e9(t){const e={},n=d(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>q9(o))),m(e,["inlinedResponses"],a)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>B9(o))),m(e,["inlinedEmbedContentResponses"],a)}return e}function t9(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function n9(t){const e={},n=d(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Mc(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&m(e,["state"],Ij(i));const a=d(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const o=d(t,["metadata","endTime"]);o!=null&&m(e,["endTime"],o);const s=d(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&m(e,["dest"],e9(jj(u))),e}function d2(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["state"]);i!=null&&m(e,["state"],Ij(i));const a=d(t,["error"]);a!=null&&m(e,["error"],Lj(a));const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=d(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&m(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&m(e,["src"],r9(f));const A=d(t,["outputConfig"]);return A!=null&&m(e,["dest"],t9(jj(A))),e}function r9(t){const e={},n=d(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function i9(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>U9(t,o))),m(n,["requests","requests"],a)}return n}function a9(t){const e={},n=d(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function o9(t){const e={},n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function s9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function l9(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],od(t,r)),n}function u9(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],od(t,r)),n}function c9(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],p9(n));const r=d(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],f9(r));const i=d(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],cq(o));const s=d(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&m(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&m(e,["safetyRatings"],f),e}function f9(t){const e={},n=d(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function d9(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function h9(t){const e={},n=d(t,["values"]);return n!=null&&m(e,["values"],n),e}function p9(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Q9(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function Dj(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Z9(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function A9(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function m9(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],n9(ZU(i))),n}function h1(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["src"]);i!=null&&m(n,["batch","inputConfig"],i9(t,Oj(t,i)));const a=d(e,["config"]);return a!=null&&A9(a,n),n}function g9(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],qt(t,r));const i=d(e,["src"]);i!=null&&m(n,["inputConfig"],a9(Oj(t,i)));const a=d(e,["config"]);return a!=null&&m9(a,n),n}function v9(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function p1(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["src"]);i!=null&&m(n,["batch","inputConfig"],C9(t,i));const a=d(e,["config"]);return a!=null&&v9(a,n),n}function y9(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],od(t,r)),n}function b9(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],od(t,r)),n}function x9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const a=d(t,["error"]);return a!=null&&m(e,["error"],vS(a)),e}function w9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const a=d(t,["error"]);return a!=null&&m(e,["error"],Lj(a)),e}function S9(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function _9(t,e){const n={},r=d(e,["contents"]);r!=null&&m(n,["requests[]","request","content"],pS(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],T9(i,n)),n}function T9(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function C9(t,e){const n={},r=d(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],_9(t,i)),n}function N9(t){const e={},n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function E9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function k9(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function P9(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function M9(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function O9(t){const e={},n=d(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=d(t,["description"]);r!=null&&m(e,["description"],r);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function j9(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Dj(Yr(i)));const a=d(e,["temperature"]);a!=null&&m(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&m(r,["topP"],o);const s=d(e,["topK"]);s!=null&&m(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const A=d(e,["logprobs"]);A!=null&&m(r,["logprobs"],A);const p=d(e,["presencePenalty"]);p!=null&&m(r,["presencePenalty"],p);const y=d(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const x=d(e,["seed"]);x!=null&&m(r,["seed"],x);const S=d(e,["responseMimeType"]);S!=null&&m(r,["responseMimeType"],S);const v=d(e,["responseSchema"]);v!=null&&m(r,["responseSchema"],rq(AS(v)));const b=d(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=d(e,["safetySettings"]);if(n!==void 0&&w!=null){let j=w;Array.isArray(j)&&(j=j.map($=>nq($))),m(n,["safetySettings"],j)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let j=ad(T);Array.isArray(j)&&(j=j.map($=>uq(id($)))),m(n,["tools"],j)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&m(n,["toolConfig"],lq(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],ss(t,k));const E=d(e,["responseModalities"]);E!=null&&m(r,["responseModalities"],E);const M=d(e,["mediaResolution"]);M!=null&&m(r,["mediaResolution"],M);const I=d(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],oq(mS(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&m(r,["thinkingConfig"],sq(U));const O=d(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],$9(O)),r}function I9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>c9(u))),m(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&m(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function D9(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],od(t,r)),n}function L9(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],od(t,r)),n}function R9(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],S9(n)),e}function F9(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],H9(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $9(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&m(e,["aspectRatio"],n),e}function B9(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],iq(n));const r=d(t,["error"]);return r!=null&&m(e,["error"],vS(r)),e}function U9(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["request","model"],qt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>Dj(s))),m(n,["request","contents"],o)}const a=d(e,["config"]);return a!=null&&m(n,["request","generationConfig"],j9(t,a,n)),n}function q9(t){const e={},n=d(t,["response"]);n!=null&&m(e,["response"],I9(n));const r=d(t,["error"]);return r!=null&&m(e,["error"],vS(r)),e}function H9(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function vS(t){const e={},n=d(t,["details"]);n!=null&&m(e,["details"],n);const r=d(t,["code"]);r!=null&&m(e,["code"],r);const i=d(t,["message"]);return i!=null&&m(e,["message"],i),e}function Lj(t){const e={},n=d(t,["details"]);n!=null&&m(e,["details"],n);const r=d(t,["code"]);r!=null&&m(e,["code"],r);const i=d(t,["message"]);return i!=null&&m(e,["message"],i),e}function z9(t){const e={},n=d(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function V9(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function G9(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function W9(t){const e={},n=d(t,["config"]);return n!=null&&V9(n,e),e}function Y9(t){const e={},n=d(t,["config"]);return n!=null&&G9(n,e),e}function K9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Mc(o))),m(e,["batchJobs"],a)}return e}function J9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>d2(o))),m(e,["batchJobs"],a)}return e}function X9(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aq(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Q9(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],hq(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],o9(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],N9(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],k9(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function Z9(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],pq(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],s9(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],E9(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],P9(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function eq(t){const e={},n=d(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function tq(t){const e={},n=d(t,["latLng"]);n!=null&&m(e,["latLng"],z9(n));const r=d(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function nq(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&m(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function rq(t){const e={},n=d(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&m(e,["default"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const a=d(t,["enum"]);a!=null&&m(e,["enum"],a);const o=d(t,["example"]);o!=null&&m(e,["example"],o);const s=d(t,["format"]);s!=null&&m(e,["format"],s);const l=d(t,["items"]);l!=null&&m(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&m(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&m(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&m(e,["maxProperties"],f);const A=d(t,["maximum"]);A!=null&&m(e,["maximum"],A);const p=d(t,["minItems"]);p!=null&&m(e,["minItems"],p);const y=d(t,["minLength"]);y!=null&&m(e,["minLength"],y);const x=d(t,["minProperties"]);x!=null&&m(e,["minProperties"],x);const S=d(t,["minimum"]);S!=null&&m(e,["minimum"],S);const v=d(t,["nullable"]);v!=null&&m(e,["nullable"],v);const b=d(t,["pattern"]);b!=null&&m(e,["pattern"],b);const w=d(t,["properties"]);w!=null&&m(e,["properties"],w);const T=d(t,["propertyOrdering"]);T!=null&&m(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&m(e,["required"],C);const k=d(t,["title"]);k!=null&&m(e,["title"],k);const E=d(t,["type"]);return E!=null&&m(e,["type"],E),e}function iq(t){const e={},n=d(t,["embedding"]);n!=null&&m(e,["embedding"],h9(n));const r=d(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function aq(t){const e={},n=d(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],Rj(r)),e}function oq(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],Rj(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],X9(r));const i=d(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function sq(t){const e={},n=d(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function lq(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],M9(n));const r=d(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],tq(r)),e}function uq(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>O9(u))),m(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],F9(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],R9(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&m(e,["urlContext"],fq());const o=d(t,["computerUse"]);o!=null&&m(e,["computerUse"],d9(o));const s=d(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function cq(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dq(i))),m(e,["urlMetadata"],r)}return e}function fq(){return{}}function dq(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function hq(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function pq(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Rj(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],eq(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(yu||(yu={}));class pA{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aq extends Ou{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const a=n.src;if(!(Array.isArray(n.src)||a.inlinedRequests!==void 0))return this.createInternal(n);const s=this.createInlinedGenerateContentRequest(n),l=s.path,u=s.body,c=h1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(A=>A.json()).then(A=>Mc(A))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const s=this.createInlinedEmbedContentRequest(n),l=s.path,u=s.body,c=p1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(A=>A.json()).then(A=>Mc(A))},this.list=async(n={})=>new pA(yu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=h1(this.apiClient,e),r=n._url,i=it("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const A=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=A,f.request=p}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=p1(this.apiClient,e),r=n._url,i=it("{model}:asyncBatchEmbedContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];delete s.config;for(const c of l){const f=Object.assign({},c),A=f.request;for(const p in f)p!=="request"&&(A[p]=f[p],delete f[p]);u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=g9(this.apiClient,e);return s=it("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>d2(c))}else{const u=h1(this.apiClient,e);return s=it("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Mc(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=p1(this.apiClient,e);return a=it("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Mc(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=L9(this.apiClient,e);return s=it("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>d2(c))}else{const u=D9(this.apiClient,e);return s=it("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Mc(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=u9(this.apiClient,e);o=it("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=l9(this.apiClient,e);o=it("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Y9(e);return s=it("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=J9(c),A=new eE;return Object.assign(A,f),A})}else{const u=W9(e);return s=it("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=K9(c),A=new eE;return Object.assign(A,f),A})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=b9(this.apiClient,e);return s=it("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>w9(c))}else{const u=y9(this.apiClient,e);return s=it("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>x9(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mq(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function gq(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],mq(n));const r=d(t,["authType"]);r!=null&&m(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&m(e,["oidcConfig"],s),e}function vq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yq(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["data"]);r!=null&&m(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function gg(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["model"]);i!=null&&m(e,["model"],i);const a=d(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&m(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&m(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function vg(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["model"]);i!=null&&m(e,["model"],i);const a=d(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&m(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&m(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function bq(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function xq(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function iE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>iH(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function aE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aH(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function wq(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let c=pa(o);Array.isArray(c)&&(c=c.map(f=>iE(f))),m(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],iE(Yr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>cH(f))),m(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],lH(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Sq(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let f=pa(o);Array.isArray(f)&&(f=f.map(A=>aE(A))),m(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],aE(Yr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(A=>fH(A))),m(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],uH(u));const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function _q(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],Sj(t,r));const i=d(e,["config"]);return i!=null&&wq(i,n),n}function Tq(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["model"],Sj(t,r));const i=d(e,["config"]);return i!=null&&Sq(i,n),n}function Cq(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ss(t,r)),n}function Nq(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ss(t,r)),n}function Eq(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function kq(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Pq(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Mq(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Oq(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function jq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Iq(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Dq(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function Lq(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function Rq(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Fq(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function $q(t){const e={},n=d(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=d(t,["description"]);r!=null&&m(e,["description"],r);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function Bq(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&m(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Uq(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ss(t,r)),n}function qq(t,e){const n={},r=d(e,["name"]);return r!=null&&m(n,["_url","name"],ss(t,r)),n}function Hq(t){const e={},n=d(t,["authConfig"]);return n!=null&&m(e,["authConfig"],gq(n)),e}function zq(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Pq(n)),e}function Vq(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Mq(n)),e}function Gq(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Yq(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Wq(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Kq(n));const r=d(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Yq(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Kq(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Jq(t){const e={},n=d(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Xq(t){const e={},n=d(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Qq(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Zq(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function eH(t){const e={},n=d(t,["config"]);return n!=null&&Qq(n,e),e}function tH(t){const e={},n=d(t,["config"]);return n!=null&&Zq(n,e),e}function nH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gg(o))),m(e,["cachedContents"],a)}return e}function rH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>vg(o))),m(e,["cachedContents"],a)}return e}function iH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],vH(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],vq(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],jq(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],Dq(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function aH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],yH(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],yq(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],Iq(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],Lq(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function oH(t){const e={},n=d(t,["latLng"]);n!=null&&m(e,["latLng"],Jq(n));const r=d(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function sH(t){const e={},n=d(t,["latLng"]);n!=null&&m(e,["latLng"],Xq(n));const r=d(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function lH(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Rq(n));const r=d(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],oH(r)),e}function uH(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Fq(n));const r=d(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],sH(r)),e}function cH(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>$q(u))),m(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Gq(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],zq(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&m(e,["urlContext"],mH());const o=d(t,["computerUse"]);o!=null&&m(e,["computerUse"],bq(o));const s=d(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function fH(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(A=>Bq(A))),m(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Wq(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],Vq(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],Oq(o));const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Hq(s)),d(t,["urlContext"])!=null&&m(e,["urlContext"],gH());const u=d(t,["computerUse"]);u!=null&&m(e,["computerUse"],xq(u));const c=d(t,["codeExecution"]);return c!=null&&m(e,["codeExecution"],c),e}function dH(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function hH(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function pH(t,e){const n={},r=d(e,["name"]);r!=null&&m(n,["_url","name"],ss(t,r));const i=d(e,["config"]);return i!=null&&dH(i,n),n}function AH(t,e){const n={},r=d(e,["name"]);r!=null&&m(n,["_url","name"],ss(t,r));const i=d(e,["config"]);return i!=null&&hH(i,n),n}function mH(){return{}}function gH(){return{}}function vH(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function yH(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bH extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new pA(yu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Tq(this.apiClient,e);return s=it("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>vg(c))}else{const u=_q(this.apiClient,e);return s=it("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=qq(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>vg(c))}else{const u=Uq(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Nq(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=kq(c),A=new QN;return Object.assign(A,f),A})}else{const u=Cq(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=Eq(c),A=new QN;return Object.assign(A,f),A})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=AH(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>vg(c))}else{const u=pH(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=tH(e);return s=it("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=rH(c),A=new ZN;return Object.assign(A,f),A})}else{const u=eH(e);return s=it("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=nH(c),A=new ZN;return Object.assign(A,f),A})}}}function oE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(t){return this instanceof _n?(this.v=t,this):new _n(t)}function sf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function s(p,y){r[p]&&(i[p]=function(x){return new Promise(function(S,v){a.push([p,x,S,v])>1||l(p,x)})},y&&(i[p]=y(i[p])))}function l(p,y){try{u(r[p](y))}catch(x){A(a[0][3],x)}}function u(p){p.value instanceof _n?Promise.resolve(p.value.v).then(c,f):A(a[0][2],p)}function c(p){l("next",p)}function f(p){l("throw",p)}function A(p,y){p(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Wh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oE=="function"?oE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xH(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Fj(n)}function Fj(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wH(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function sE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!Fj(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class SH{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _H(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _H{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),wH(a)}async sendMessage(e){var n;await this.sendPromise;const r=Yr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let A=[];c!=null&&(A=(s=c.slice(f))!==null&&s!==void 0?s:[]);const p=u?[u]:[];this.recordHistory(r,p,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Yr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?sE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return sf(this,arguments,function*(){var o,s,l,u;const c=[];try{for(var f=!0,A=Wh(e),p;p=yield _n(A.next()),o=p.done,!o;f=!0){u=p.value,f=!1;const y=u;if(xH(y)){const x=(i=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;x!==void 0&&c.push(x)}yield yield _n(y)}}catch(y){s={error:y}}finally{try{!f&&!o&&(l=A.return)&&(yield _n(l.call(A)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...sE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TH(t){const e={},n=d(t,["file"]);return n!=null&&m(e,["file"],MH(n)),e}function CH(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function NH(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],kj(n)),e}function EH(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function h2(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&m(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&m(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&m(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&m(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&m(e,["downloadUri"],f);const A=d(t,["state"]);A!=null&&m(e,["state"],A);const p=d(t,["source"]);p!=null&&m(e,["source"],p);const y=d(t,["videoMetadata"]);y!=null&&m(e,["videoMetadata"],y);const x=d(t,["error"]);return x!=null&&m(e,["error"],kH(x)),e}function kH(t){const e={},n=d(t,["details"]);n!=null&&m(e,["details"],n);const r=d(t,["message"]);r!=null&&m(e,["message"],r);const i=d(t,["code"]);return i!=null&&m(e,["code"],i),e}function PH(t){const e={},n=d(t,["details"]);n!=null&&m(e,["details"],n);const r=d(t,["message"]);r!=null&&m(e,["message"],r);const i=d(t,["code"]);return i!=null&&m(e,["code"],i),e}function MH(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&m(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&m(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&m(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&m(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&m(e,["downloadUri"],f);const A=d(t,["state"]);A!=null&&m(e,["state"],A);const p=d(t,["source"]);p!=null&&m(e,["source"],p);const y=d(t,["videoMetadata"]);y!=null&&m(e,["videoMetadata"],y);const x=d(t,["error"]);return x!=null&&m(e,["error"],PH(x)),e}function OH(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","file"],kj(n)),e}function jH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function IH(t){const e={},n=d(t,["config"]);return n!=null&&jH(n,e),e}function DH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>h2(o))),m(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LH extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new pA(yu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>h2(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=IH(e);return a=it("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=DH(l),c=new BU;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=TH(e);return a=it("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=CH(l),c=new UU;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OH(e);return a=it("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>h2(l))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=NH(e);return a=it("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=EH(l),c=new qU;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RH(){return{}}function FH(){return{}}function $H(){return{}}function BH(){return{}}function UH(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function qH(t){const e={},n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=d(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],Iz(i)),e}function lE(){return{}}function uE(){return{}}function HH(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],UH(n));const r=d(t,["authType"]);r!=null&&m(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&m(e,["oidcConfig"],s),e}function zH(t){const e={},n=d(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function VH(t){const e={},n=d(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function GH(t){const e={},n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function WH(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["data"]);r!=null&&m(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function YH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function KH(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["data"]);r!=null&&m(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function JH(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function XH(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function QH(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Qz(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function ZH(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Zz(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function ez(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>eV(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function tz(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>tV(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function nz(t){const e={},n=d(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],cV(r)),e}function rz(t){const e={},n=d(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],fV(r)),e}function iz(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function az(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function oz(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function sz(t){const e={},n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function lz(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function uz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cz(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $j(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function Bj(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function fz(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function dz(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function hz(t){const e={},n=d(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=d(t,["description"]);r!=null&&m(e,["description"],r);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function pz(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&m(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Az(t){const e={},n=d(t,["authConfig"]);return n!=null&&m(e,["authConfig"],HH(n)),e}function mz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],iz(n)),e}function gz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],az(n)),e}function vz(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],bz(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function yz(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],xz(n));const r=d(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function bz(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function xz(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function wz(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],hV(gS(f)));const A=d(t,["thinkingConfig"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","thinkingConfig"],AV(A));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],p);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],ez(Yr(y)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let k=ad(x);Array.isArray(k)&&(k=k.map(E=>gV(id(E)))),m(e,["setup","tools"],k)}const S=d(t,["sessionResumption"]);e!==void 0&&S!=null&&m(e,["setup","sessionResumption"],lV(S));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&m(e,["setup","inputAudioTranscription"],lE());const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],lE());const w=d(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],oV(w));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],nz(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&m(e,["setup","proactivity"],iV(C)),n}function Sz(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],pV(gS(f)));const A=d(t,["thinkingConfig"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","thinkingConfig"],mV(A));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],p);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],tz(Yr(y)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let k=ad(x);Array.isArray(k)&&(k=k.map(E=>vV(id(E)))),m(e,["setup","tools"],k)}const S=d(t,["sessionResumption"]);e!==void 0&&S!=null&&m(e,["setup","sessionResumption"],uV(S));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&m(e,["setup","inputAudioTranscription"],uE());const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],uE());const w=d(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],sV(w));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],rz(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&m(e,["setup","proactivity"],aV(C)),n}function _z(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],qt(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],wz(i,n)),n}function Tz(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],qt(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],Sz(i,n)),n}function Cz(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>PV(i))),m(e,["weightedPrompts"],r)}return e}function Uj(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Vj(i))),m(e,["weightedPrompts"],r)}return e}function p2(t){const e={},n=d(t,["setup"]);n!=null&&m(e,["setup"],qj(n));const r=d(t,["clientContent"]);r!=null&&m(e,["clientContent"],Uj(r));const i=d(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],Hj(i));const a=d(t,["playbackControl"]);return a!=null&&m(e,["playbackControl"],a),e}function qj(t){const e={},n=d(t,["model"]);return n!=null&&m(e,["model"],n),e}function Nz(t){const e={},n=d(t,["text"]);n!=null&&m(e,["text"],n);const r=d(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function Ez(t){const e={},n=d(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&m(e,["topK"],r);const i=d(t,["seed"]);i!=null&&m(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&m(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&m(e,["bpm"],o);const s=d(t,["density"]);s!=null&&m(e,["density"],s);const l=d(t,["brightness"]);l!=null&&m(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&m(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&m(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&m(e,["muteDrums"],f);const A=d(t,["onlyBassAndDrums"]);A!=null&&m(e,["onlyBassAndDrums"],A);const p=d(t,["musicGenerationMode"]);return p!=null&&m(e,["musicGenerationMode"],p),e}function Hj(t){const e={},n=d(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&m(e,["topK"],r);const i=d(t,["seed"]);i!=null&&m(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&m(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&m(e,["bpm"],o);const s=d(t,["density"]);s!=null&&m(e,["density"],s);const l=d(t,["brightness"]);l!=null&&m(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&m(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&m(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&m(e,["muteDrums"],f);const A=d(t,["onlyBassAndDrums"]);A!=null&&m(e,["onlyBassAndDrums"],A);const p=d(t,["musicGenerationMode"]);return p!=null&&m(e,["musicGenerationMode"],p),e}function kz(t){const e={},n=d(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qH(i))),m(e,["audioChunks"],r)}return e}function Pz(t){const e={};d(t,["setupComplete"])!=null&&m(e,["setupComplete"],Mz());const r=d(t,["serverContent"]);r!=null&&m(e,["serverContent"],kz(r));const i=d(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],Nz(i)),e}function Mz(){return{}}function Oz(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],Hj(n)),e}function jz(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Vj(i))),m(e,["weightedPrompts"],r)}return e}function Iz(t){const e={},n=d(t,["clientContent"]);n!=null&&m(e,["clientContent"],Cz(n));const r=d(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],Ez(r)),e}function Dz(t){const e={},n=d(t,["media"]);if(n!=null){let u=_j(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&m(e,["audio"],Cj(r));const i=d(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&m(e,["video"],Tj(a));const o=d(t,["text"]);return o!=null&&m(e,["text"],o),d(t,["activityStart"])!=null&&m(e,["activityStart"],$H()),d(t,["activityEnd"])!=null&&m(e,["activityEnd"],RH()),e}function Lz(t){const e={},n=d(t,["media"]);if(n!=null){let u=_j(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&m(e,["audio"],Cj(r));const i=d(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&m(e,["video"],Tj(a));const o=d(t,["text"]);return o!=null&&m(e,["text"],o),d(t,["activityStart"])!=null&&m(e,["activityStart"],BH()),d(t,["activityEnd"])!=null&&m(e,["activityEnd"],FH()),e}function Rz(t){const e={},n=d(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],QH(n));const r=d(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&m(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&m(e,["inputTranscription"],cE(s));const l=d(t,["outputTranscription"]);l!=null&&m(e,["outputTranscription"],cE(l));const u=d(t,["urlContextMetadata"]);u!=null&&m(e,["urlContextMetadata"],yV(u));const c=d(t,["turnCompleteReason"]);c!=null&&m(e,["turnCompleteReason"],c);const f=d(t,["waitingForInput"]);return f!=null&&m(e,["waitingForInput"],f),e}function Fz(t){const e={},n=d(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],ZH(n));const r=d(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&m(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&m(e,["inputTranscription"],fE(s));const l=d(t,["outputTranscription"]);l!=null&&m(e,["outputTranscription"],fE(l));const u=d(t,["turnCompleteReason"]);u!=null&&m(e,["turnCompleteReason"],u);const c=d(t,["waitingForInput"]);return c!=null&&m(e,["waitingForInput"],c),e}function $z(t){const e={},n=d(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Bz(t){const e={},n=d(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function Uz(t){const e={};d(t,["setupComplete"])!=null&&m(e,["setupComplete"],Vz());const r=d(t,["serverContent"]);r!=null&&m(e,["serverContent"],Rz(r));const i=d(t,["toolCall"]);i!=null&&m(e,["toolCall"],Kz(i));const a=d(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],Wz(a));const o=d(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],SV(o));const s=d(t,["goAway"]);s!=null&&m(e,["goAway"],$z(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&m(e,["sessionResumptionUpdate"],Hz(l)),e}function qz(t){const e={},n=d(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],Gz(n));const r=d(t,["serverContent"]);r!=null&&m(e,["serverContent"],Fz(r));const i=d(t,["toolCall"]);i!=null&&m(e,["toolCall"],Jz(i));const a=d(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],Yz(a));const o=d(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],_V(o));const s=d(t,["goAway"]);s!=null&&m(e,["goAway"],Bz(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&m(e,["sessionResumptionUpdate"],zz(l)),e}function Hz(t){const e={},n=d(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function zz(t){const e={},n=d(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function Vz(){return{}}function Gz(t){const e={},n=d(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function Wz(t){const e={},n=d(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Yz(t){const e={},n=d(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Kz(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$j(i))),m(e,["functionCalls"],r)}return e}function Jz(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Bj(i))),m(e,["functionCalls"],r)}return e}function Lm(t){const e={},n=d(t,["modality"]);n!=null&&m(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Rm(t){const e={},n=d(t,["modality"]);n!=null&&m(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Xz(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dV(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Qz(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],TV(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],GH(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],sz(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],$j(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function Zz(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],CV(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],WH(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],lz(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],Bj(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function eV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],NV(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],YH(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],uz(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],fz(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function tV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],EV(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],KH(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],cz(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],dz(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function nV(t){const e={},n=d(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function rV(t){const e={},n=d(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function iV(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function aV(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function oV(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],zH(n));const r=d(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function sV(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],VH(n));const r=d(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function lV(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uV(t){const e={},n=d(t,["handle"]);n!=null&&m(e,["handle"],n);const r=d(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function cV(t){const e={},n=d(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function fV(t){const e={},n=d(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function dV(t){const e={},n=d(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],zj(r)),e}function hV(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],zj(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Xz(r));const i=d(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function pV(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],kV(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function AV(t){const e={},n=d(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function mV(t){const e={},n=d(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function gV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>hz(u))),m(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],vz(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],mz(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&m(e,["urlContext"],bV());const o=d(t,["computerUse"]);o!=null&&m(e,["computerUse"],JH(o));const s=d(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function vV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(A=>pz(A))),m(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],yz(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],gz(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],oz(o));const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Az(s)),d(t,["urlContext"])!=null&&m(e,["urlContext"],xV());const u=d(t,["computerUse"]);u!=null&&m(e,["computerUse"],XH(u));const c=d(t,["codeExecution"]);return c!=null&&m(e,["codeExecution"],c),e}function cE(t){const e={},n=d(t,["text"]);n!=null&&m(e,["text"],n);const r=d(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function fE(t){const e={},n=d(t,["text"]);n!=null&&m(e,["text"],n);const r=d(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function yV(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wV(i))),m(e,["urlMetadata"],r)}return e}function bV(){return{}}function xV(){return{}}function wV(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function SV(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=d(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(p=>Lm(p))),m(e,["promptTokensDetails"],A)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let A=u;Array.isArray(A)&&(A=A.map(p=>Lm(p))),m(e,["cacheTokensDetails"],A)}const c=d(t,["responseTokensDetails"]);if(c!=null){let A=c;Array.isArray(A)&&(A=A.map(p=>Lm(p))),m(e,["responseTokensDetails"],A)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let A=f;Array.isArray(A)&&(A=A.map(p=>Lm(p))),m(e,["toolUsePromptTokensDetails"],A)}return e}function _V(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>Rm(y))),m(e,["promptTokensDetails"],p)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>Rm(y))),m(e,["cacheTokensDetails"],p)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>Rm(y))),m(e,["responseTokensDetails"],p)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>Rm(y))),m(e,["toolUsePromptTokensDetails"],p)}const A=d(t,["trafficType"]);return A!=null&&m(e,["trafficType"],A),e}function TV(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function CV(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function NV(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function EV(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function zj(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],nV(n)),e}function kV(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],rV(n)),e}function PV(t){const e={},n=d(t,["text"]);n!=null&&m(e,["text"],n);const r=d(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function Vj(t){const e={},n=d(t,["text"]);n!=null&&m(e,["text"],n);const r=d(t,["weight"]);return r!=null&&m(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MV(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function OV(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],MV(n));const r=d(t,["authType"]);r!=null&&m(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&m(e,["oidcConfig"],s),e}function jV(t){const e={},n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function IV(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["data"]);r!=null&&m(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function DV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function LV(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["data"]);r!=null&&m(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function RV(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],KV(n));const r=d(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],BV(r));const i=d(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],AY(o));const s=d(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&m(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&m(e,["safetyRatings"],f),e}function FV(t){const e={},n=d(t,["content"]);n!=null&&m(e,["content"],JV(n));const r=d(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],UV(r));const i=d(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const a=d(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],mY(o));const s=d(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&m(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&m(e,["safetyRatings"],f),e}function $V(t){const e={},n=d(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=d(t,["step"]);return i!=null&&m(e,["step"],i),e}function BV(t){const e={},n=d(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function UV(t){const e={},n=d(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function qV(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["contents"]);if(i!=null){let a=pa(i);Array.isArray(a)&&(a=a.map(o=>sd(o))),m(n,["contents"],a)}return n}function HV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);return r!=null&&m(e,["tokensInfo"],r),e}function zV(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function VV(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function GV(t){const e={},n=d(t,["values"]);return n!=null&&m(e,["values"],n),e}function WV(t){const e={},n=d(t,["values"]);n!=null&&m(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&m(e,["statistics"],YV(r)),e}function YV(t){const e={},n=d(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function KV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>NW(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function JV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>EW(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function Ev(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>kW(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function sd(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>PW(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function XV(t){const e={},n=d(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function QV(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ZV(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],sd(Yr(r)));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Jj(s))),m(e,["tools"],o)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],a),n}function eG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>Ev(s))),m(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&QV(a),n}function tG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>sd(s))),m(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&ZV(a,n),n}function nG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function rG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function iG(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],qt(t,r)),n}function aG(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],qt(t,r)),n}function oG(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function sG(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function lG(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function uG(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function cG(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const A=d(t,["includeRaiReason"]);e!==void 0&&A!=null&&m(e,["parameters","includeRaiReason"],A);const p=d(t,["language"]);e!==void 0&&p!=null&&m(e,["parameters","language"],p);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x);const S=d(t,["addWatermark"]);e!==void 0&&S!=null&&m(e,["parameters","addWatermark"],S);const v=d(t,["editMode"]);e!==void 0&&v!=null&&m(e,["parameters","editMode"],v);const b=d(t,["baseSteps"]);return e!==void 0&&b!=null&&m(e,["parameters","editConfig","baseSteps"],b),n}function fG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=d(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>FW(l))),m(n,["instances[0]","referenceImages"],s)}const o=d(e,["config"]);return o!=null&&cG(o,n),n}function dG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kv(a))),m(e,["generatedImages"],i)}return e}function hG(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function pG(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const o=d(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["instances[]","mimeType"],o);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function AG(){return{}}function mG(t){const e={},n=d(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function gG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["contents"]);i!=null&&m(n,["requests[]","content"],pS(t,i));const a=d(e,["config"]);a!=null&&hG(a,n);const o=d(e,["model"]);return o!==void 0&&m(n,["requests[]","model"],qt(t,o)),n}function vG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["contents"]);i!=null&&m(n,["instances[]","content"],pS(t,i));const a=d(e,["config"]);return a!=null&&pG(a,n),n}function yG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>GV(o))),m(e,["embeddings"],a)}return d(t,["metadata"])!=null&&m(e,["metadata"],AG()),e}function bG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>WV(o))),m(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&m(e,["metadata"],mG(i)),e}function xG(t){const e={},n=d(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function wG(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function SG(t){const e={},n=d(t,["label"]);n!=null&&m(e,["label"],n);const r=d(t,["score"]);return r!=null&&m(e,["score"],r),e}function _G(t){const e={},n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function TG(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function CG(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function NG(t){const e={},n=d(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function EG(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function kG(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function PG(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function MG(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function OG(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function jG(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function IG(t){const e={},n=d(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=d(t,["description"]);r!=null&&m(e,["description"],r);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function DG(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&m(e,["description"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&m(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function LG(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Ev(Yr(i)));const a=d(e,["temperature"]);a!=null&&m(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&m(r,["topP"],o);const s=d(e,["topK"]);s!=null&&m(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const A=d(e,["logprobs"]);A!=null&&m(r,["logprobs"],A);const p=d(e,["presencePenalty"]);p!=null&&m(r,["presencePenalty"],p);const y=d(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const x=d(e,["seed"]);x!=null&&m(r,["seed"],x);const S=d(e,["responseMimeType"]);S!=null&&m(r,["responseMimeType"],S);const v=d(e,["responseSchema"]);v!=null&&m(r,["responseSchema"],HW(AS(v)));const b=d(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const w=d(e,["safetySettings"]);if(n!==void 0&&w!=null){let j=w;Array.isArray(j)&&(j=j.map($=>UW($))),m(n,["safetySettings"],j)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let j=ad(T);Array.isArray(j)&&(j=j.map($=>aY(id($)))),m(n,["tools"],j)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&m(n,["toolConfig"],rY(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],ss(t,k));const E=d(e,["responseModalities"]);E!=null&&m(r,["responseModalities"],E);const M=d(e,["mediaResolution"]);M!=null&&m(r,["mediaResolution"],M);const I=d(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],XW(mS(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&m(r,["thinkingConfig"],tY(U));const O=d(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],fW(O)),r}function RG(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],sd(Yr(i)));const a=d(e,["temperature"]);a!=null&&m(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&m(r,["topP"],o);const s=d(e,["topK"]);s!=null&&m(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&m(r,["responseLogprobs"],f);const A=d(e,["logprobs"]);A!=null&&m(r,["logprobs"],A);const p=d(e,["presencePenalty"]);p!=null&&m(r,["presencePenalty"],p);const y=d(e,["frequencyPenalty"]);y!=null&&m(r,["frequencyPenalty"],y);const x=d(e,["seed"]);x!=null&&m(r,["seed"],x);const S=d(e,["responseMimeType"]);S!=null&&m(r,["responseMimeType"],S);const v=d(e,["responseSchema"]);v!=null&&m(r,["responseSchema"],zW(AS(v)));const b=d(e,["responseJsonSchema"]);b!=null&&m(r,["responseJsonSchema"],b);const w=d(e,["routingConfig"]);w!=null&&m(r,["routingConfig"],w);const T=d(e,["modelSelectionConfig"]);T!=null&&m(r,["modelConfig"],TW(T));const C=d(e,["safetySettings"]);if(n!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(B=>qW(B))),m(n,["safetySettings"],R)}const k=d(e,["tools"]);if(n!==void 0&&k!=null){let R=ad(k);Array.isArray(R)&&(R=R.map(B=>Jj(id(B)))),m(n,["tools"],R)}const E=d(e,["toolConfig"]);n!==void 0&&E!=null&&m(n,["toolConfig"],iY(E));const M=d(e,["labels"]);n!==void 0&&M!=null&&m(n,["labels"],M);const I=d(e,["cachedContent"]);n!==void 0&&I!=null&&m(n,["cachedContent"],ss(t,I));const U=d(e,["responseModalities"]);U!=null&&m(r,["responseModalities"],U);const O=d(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const j=d(e,["speechConfig"]);j!=null&&m(r,["speechConfig"],QW(mS(j)));const $=d(e,["audioTimestamp"]);$!=null&&m(r,["audioTimestamp"],$);const F=d(e,["thinkingConfig"]);F!=null&&m(r,["thinkingConfig"],nY(F));const H=d(e,["imageConfig"]);return H!=null&&m(r,["imageConfig"],dW(H)),r}function dE(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>Ev(s))),m(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&m(n,["generationConfig"],LG(t,a,n)),n}function hE(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>sd(s))),m(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&m(n,["generationConfig"],RG(t,a,n)),n}function pE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>RV(u))),m(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&m(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function AE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>FV(c))),m(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&m(e,["createTime"],i);const a=d(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function FG(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const A=d(t,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&m(e,["parameters","outputOptions","compressionQuality"],A),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=d(t,["imageSize"]);if(e!==void 0&&p!=null&&m(e,["parameters","sampleImageSize"],p),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $G(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&m(e,["parameters","includeSafetyAttributes"],f);const A=d(t,["includeRaiReason"]);e!==void 0&&A!=null&&m(e,["parameters","includeRaiReason"],A);const p=d(t,["language"]);e!==void 0&&p!=null&&m(e,["parameters","language"],p);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&m(e,["parameters","outputOptions","compressionQuality"],x);const S=d(t,["addWatermark"]);e!==void 0&&S!=null&&m(e,["parameters","addWatermark"],S);const v=d(t,["imageSize"]);e!==void 0&&v!=null&&m(e,["parameters","sampleImageSize"],v);const b=d(t,["enhancePrompt"]);return e!==void 0&&b!=null&&m(e,["parameters","enhancePrompt"],b),n}function BG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&FG(a,n),n}function UG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&$G(a,n),n}function qG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>eW(o))),m(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],Yj(i)),e}function HG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>kv(o))),m(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],Kj(i)),e}function zG(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const o=d(t,["resolution"]);e!==void 0&&o!=null&&m(e,["parameters","resolution"],o);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function VG(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const a=d(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const o=d(t,["durationSeconds"]);e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&m(e,["parameters","pubsubTopic"],f);const A=d(t,["negativePrompt"]);e!==void 0&&A!=null&&m(e,["parameters","negativePrompt"],A);const p=d(t,["enhancePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","enhancePrompt"],p);const y=d(t,["generateAudio"]);e!==void 0&&y!=null&&m(e,["parameters","generateAudio"],y);const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&m(e,["instances[0]","lastFrame"],za(x));const S=d(t,["referenceImages"]);if(e!==void 0&&S!=null){let w=S;Array.isArray(w)&&(w=w.map(T=>_Y(T))),m(e,["instances[0]","referenceImages"],w)}const v=d(t,["mask"]);e!==void 0&&v!=null&&m(e,["instances[0]","mask"],SY(v));const b=d(t,["compressionQuality"]);return e!==void 0&&b!=null&&m(e,["parameters","compressionQuality"],b),n}function GG(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],JG(o)),e}function WG(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=d(t,["done"]);i!=null&&m(e,["done"],i);const a=d(t,["error"]);a!=null&&m(e,["error"],a);const o=d(t,["response"]);return o!=null&&m(e,["response"],XG(o)),e}function YG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=d(e,["image"]);if(a!=null&&m(n,["instances[0]","image"],Wj(a)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=d(e,["source"]);o!=null&&QG(o,n);const s=d(e,["config"]);return s!=null&&zG(s,n),n}function KG(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&m(n,["instances[0]","image"],za(a));const o=d(e,["video"]);o!=null&&m(n,["instances[0]","video"],Xj(o));const s=d(e,["source"]);s!=null&&ZG(s,n);const l=d(e,["config"]);return l!=null&&VG(l,n),n}function JG(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>nW(o))),m(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function XG(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>rW(o))),m(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function QG(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);if(e!==void 0&&i!=null&&m(e,["instances[0]","image"],Wj(i)),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function ZG(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],za(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],Xj(a)),n}function eW(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],hW(n));const r=d(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],Yj(i)),e}function kv(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["image"],Gj(n));const r=d(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&m(e,["safetyAttributes"],Kj(i));const a=d(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function tW(t){const e={},n=d(t,["_self"]);n!=null&&m(e,["mask"],Gj(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>SG(a))),m(e,["labels"],i)}return e}function nW(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],xY(n)),e}function rW(t){const e={},n=d(t,["_self"]);return n!=null&&m(e,["video"],wY(n)),e}function iW(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],qt(t,r)),n}function aW(t,e){const n={},r=d(e,["model"]);return r!=null&&m(n,["_url","name"],qt(t,r)),n}function oW(t){const e={},n=d(t,["authConfig"]);return n!=null&&m(e,["authConfig"],OV(n)),e}function sW(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],lG(n)),e}function lW(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],uG(n)),e}function uW(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],pW(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cW(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],AW(n));const r=d(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function fW(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&m(e,["aspectRatio"],n),e}function dW(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&m(e,["aspectRatio"],n),e}function hW(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],ju(n));const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Gj(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],ju(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Wj(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],ju(n));const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function za(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],ju(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function pW(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function AW(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function mW(t){const e={},n=d(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function gW(t){const e={},n=d(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function vW(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],Pj(t,s)),r}function yW(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],Pj(t,s)),r}function bW(t,e){const n={},r=d(e,["config"]);return r!=null&&vW(t,r,n),n}function xW(t,e){const n={},r=d(e,["config"]);return r!=null&&yW(t,r,n),n}function wW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=Mj(i);Array.isArray(a)&&(a=a.map(o=>A2(o))),m(e,["models"],a)}return e}function SW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=Mj(i);Array.isArray(a)&&(a=a.map(o=>m2(o))),m(e,["models"],a)}return e}function _W(t){const e={},n=d(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function A2(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const a=d(t,["version"]);a!=null&&m(e,["version"],a);const o=d(t,["_self"]);o!=null&&m(e,["tunedModelInfo"],oY(o));const s=d(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);return u!=null&&m(e,["supportedActions"],u),e}function m2(t){const e={},n=d(t,["name"]);n!=null&&m(e,["name"],n);const r=d(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const a=d(t,["versionId"]);a!=null&&m(e,["version"],a);const o=d(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(A=>xG(A))),m(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&m(e,["labels"],s);const l=d(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],sY(l));const u=d(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(A=>$V(A))),m(e,["checkpoints"],f)}return e}function TW(t){const e={},n=d(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function CW(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JW(i))),m(e,["speakerVoiceConfigs"],r)}return e}function NW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],TY(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],jV(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],_G(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],EG(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function EW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],CY(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],IV(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],TG(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],kG(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function kW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],NY(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],DV(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],CG(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],PG(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function PW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],EY(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],LV(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],NG(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],MG(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function MW(t){const e={},n=d(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function OW(t){const e={},n=d(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function jW(t){const e={},n=d(t,["productImage"]);return n!=null&&m(e,["image"],za(n)),e}function IW(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","editConfig","baseSteps"],i);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const o=d(t,["seed"]);e!==void 0&&o!=null&&m(e,["parameters","seed"],o);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","compressionQuality"],f);const A=d(t,["enhancePrompt"]);return e!==void 0&&A!=null&&m(e,["parameters","enhancePrompt"],A),n}function DW(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["source"]);i!=null&&RW(i,n);const a=d(e,["config"]);return a!=null&&IW(a,n),n}function LW(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kv(i))),m(e,["generatedImages"],r)}return e}function RW(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],za(i));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>jW(s))),m(e,["instances[0]","productImages"],o)}return n}function FW(t){const e={},n=d(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],za(n));const r=d(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const a=d(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],_W(a));const o=d(t,["controlImageConfig"]);o!=null&&m(e,["controlImageConfig"],XV(o));const s=d(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],ZW(s));const l=d(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],eY(l)),e}function $W(t){const e={},n=d(t,["latLng"]);n!=null&&m(e,["latLng"],mW(n));const r=d(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function BW(t){const e={},n=d(t,["latLng"]);n!=null&&m(e,["latLng"],gW(n));const r=d(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Yj(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function Kj(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function UW(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&m(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function qW(t){const e={},n=d(t,["method"]);n!=null&&m(e,["method"],n);const r=d(t,["category"]);r!=null&&m(e,["category"],r);const i=d(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function HW(t){const e={},n=d(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&m(e,["default"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const a=d(t,["enum"]);a!=null&&m(e,["enum"],a);const o=d(t,["example"]);o!=null&&m(e,["example"],o);const s=d(t,["format"]);s!=null&&m(e,["format"],s);const l=d(t,["items"]);l!=null&&m(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&m(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&m(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&m(e,["maxProperties"],f);const A=d(t,["maximum"]);A!=null&&m(e,["maximum"],A);const p=d(t,["minItems"]);p!=null&&m(e,["minItems"],p);const y=d(t,["minLength"]);y!=null&&m(e,["minLength"],y);const x=d(t,["minProperties"]);x!=null&&m(e,["minProperties"],x);const S=d(t,["minimum"]);S!=null&&m(e,["minimum"],S);const v=d(t,["nullable"]);v!=null&&m(e,["nullable"],v);const b=d(t,["pattern"]);b!=null&&m(e,["pattern"],b);const w=d(t,["properties"]);w!=null&&m(e,["properties"],w);const T=d(t,["propertyOrdering"]);T!=null&&m(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&m(e,["required"],C);const k=d(t,["title"]);k!=null&&m(e,["title"],k);const E=d(t,["type"]);return E!=null&&m(e,["type"],E),e}function zW(t){const e={},n=d(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&m(e,["default"],r);const i=d(t,["description"]);i!=null&&m(e,["description"],i);const a=d(t,["enum"]);a!=null&&m(e,["enum"],a);const o=d(t,["example"]);o!=null&&m(e,["example"],o);const s=d(t,["format"]);s!=null&&m(e,["format"],s);const l=d(t,["items"]);l!=null&&m(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&m(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&m(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&m(e,["maxProperties"],f);const A=d(t,["maximum"]);A!=null&&m(e,["maximum"],A);const p=d(t,["minItems"]);p!=null&&m(e,["minItems"],p);const y=d(t,["minLength"]);y!=null&&m(e,["minLength"],y);const x=d(t,["minProperties"]);x!=null&&m(e,["minProperties"],x);const S=d(t,["minimum"]);S!=null&&m(e,["minimum"],S);const v=d(t,["nullable"]);v!=null&&m(e,["nullable"],v);const b=d(t,["pattern"]);b!=null&&m(e,["pattern"],b);const w=d(t,["properties"]);w!=null&&m(e,["properties"],w);const T=d(t,["propertyOrdering"]);T!=null&&m(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&m(e,["required"],C);const k=d(t,["title"]);k!=null&&m(e,["title"],k);const E=d(t,["type"]);return E!=null&&m(e,["type"],E),e}function VW(t){const e={},n=d(t,["image"]);return n!=null&&m(e,["image"],za(n)),e}function GW(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const o=d(t,["maskDilation"]);e!==void 0&&o!=null&&m(e,["parameters","maskDilation"],o);const s=d(t,["binaryColorThreshold"]);return e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s),n}function WW(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["source"]);i!=null&&KW(i,n);const a=d(e,["config"]);return a!=null&&GW(a,n),n}function YW(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tW(i))),m(e,["generatedMasks"],r)}return e}function KW(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],za(i));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],VW(a)),n}function JW(t){const e={},n=d(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],Qj(r)),e}function XW(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],Qj(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],CW(r));const i=d(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function QW(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],kY(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function ZW(t){const e={},n=d(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function eY(t){const e={},n=d(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=d(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function tY(t){const e={},n=d(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function nY(t){const e={},n=d(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function rY(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],OG(n));const r=d(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],$W(r)),e}function iY(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],jG(n));const r=d(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],BW(r)),e}function aY(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>IG(u))),m(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],uW(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],sW(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&m(e,["urlContext"],gY());const o=d(t,["computerUse"]);o!=null&&m(e,["computerUse"],zV(o));const s=d(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function Jj(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(A=>DG(A))),m(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],cW(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],lW(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],wG(o));const s=d(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],oW(s)),d(t,["urlContext"])!=null&&m(e,["urlContext"],vY());const u=d(t,["computerUse"]);u!=null&&m(e,["computerUse"],VV(u));const c=d(t,["codeExecution"]);return c!=null&&m(e,["codeExecution"],c),e}function oY(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function sY(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function lY(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function uY(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function cY(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","name"],qt(t,r));const i=d(e,["config"]);return i!=null&&lY(i,n),n}function fY(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["config"]);return i!=null&&uY(i,n),n}function dY(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=d(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","compressionQuality"],o);const s=d(t,["enhanceInputImage"]);e!==void 0&&s!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],s);const l=d(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=d(t,["numberOfImages"]);e!==void 0&&u!=null&&m(e,["parameters","sampleCount"],u);const c=d(t,["mode"]);return e!==void 0&&c!=null&&m(e,["parameters","mode"],c),n}function hY(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["_url","model"],qt(t,r));const i=d(e,["image"]);i!=null&&m(n,["instances[0]","image"],za(i));const a=d(e,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=d(e,["config"]);return o!=null&&dY(o,n),n}function pY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kv(a))),m(e,["generatedImages"],i)}return e}function AY(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yY(i))),m(e,["urlMetadata"],r)}return e}function mY(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bY(i))),m(e,["urlMetadata"],r)}return e}function gY(){return{}}function vY(){return{}}function yY(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function bY(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function xY(t){const e={},n=d(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],ju(r));const i=d(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function wY(t){const e={},n=d(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],ju(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function SY(t){const e={},n=d(t,["image"]);n!=null&&m(e,["_self"],za(n));const r=d(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function _Y(t){const e={},n=d(t,["image"]);n!=null&&m(e,["image"],za(n));const r=d(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function TY(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function CY(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function NY(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function EY(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Xj(t){const e={},n=d(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],ju(r));const i=d(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Qj(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],MW(n)),e}function kY(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],OW(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PY="Content-Type",MY="X-Server-Timeout",OY="User-Agent",g2="x-goog-api-client",jY="1.22.0",IY=`google-genai-sdk/${jY}`,DY="v1beta1",LY="v1beta",mE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class RY{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:DY,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:LY,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&FY(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await gE(i),new c2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await gE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return sf(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield _n(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const A=JSON.parse(JSON.stringify(f.error)),p=A.status,y=A.code,x=`got status: ${p}. ${JSON.stringify(f)}`;if(y>=400&&y<600)throw new Nv({message:x,status:y})}}catch(f){if(f.name==="ApiError")throw f}o+=u;let c=o.match(mE);for(;c;){const f=c[1];try{const A=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield _n(new c2(A)),o=o.slice(c[0].length),c=o.match(mE)}catch(A){throw new Error(`exception parsing stream chunk ${f}. ${A}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=IY+" "+this.clientOptions.userAgentExtra;return e[OY]=n,e[g2]=n,e[PY]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(MY,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l=await this.fetchUploadUrl(i,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:it("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function gE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nv({message:i,status:n}):new Error(i)}}function FY(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $Y="mcp_used/unknown";let BY=!1;function Zj(t){for(const e of t)if(UY(e)||typeof e=="object"&&"inputSchema"in e)return!0;return BY}function eI(t){var e;const n=(e=t[g2])!==null&&e!==void 0?e:"";t[g2]=(n+` ${$Y}`).trimStart()}function UY(t){return t!==null&&typeof t=="object"&&t instanceof yS}function qY(t,e=100){return sf(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield _n(t.listTools({cursor:r}));for(const o of a.tools)yield yield _n(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class yS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new yS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Wh(qY(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;o.push(f);const A=f.name;if(a[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);a[A]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),QU(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HY(t,e,n){const r=new zU;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=Pz(i);Object.assign(r,a),e(r)}class zY{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=WY(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(w=>{u=w}),f=e.callbacks,A=function(){u({})},p=this.apiClient,y={onopen:A,onmessage:w=>{HY(p,f.onmessage,w)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(w){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(w){}},x=this.webSocketFactory.create(l,GY(o),y);x.connect(),await c;const S=qt(this.apiClient,e.model),v=qj({model:S}),b=p2({setup:v});return x.send(JSON.stringify(b)),new VY(x,this.apiClient)}}class VY{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=jz(e),r=Uj(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Oz(e),r=p2(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=p2({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gc.PLAY)}pause(){this.sendPlaybackControl(Gc.PAUSE)}stop(){this.sendPlaybackControl(Gc.STOP)}resetContext(){this.sendPlaybackControl(Gc.RESET_CONTEXT)}close(){this.conn.close()}}function GY(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function WY(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YY="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KY(t,e,n){const r=new HU;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=qz(a);Object.assign(r,o)}else{const o=Uz(a);Object.assign(r,o)}e(r)}class JY{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new zY(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&Zj(e.config.tools)&&eI(f);const A=eK(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A);else{const I=this.apiClient.getApiKey();let U="BidiGenerateContent",O="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${O}=${I}`}let p=()=>{};const y=new Promise(I=>{p=I}),x=e.callbacks,S=function(){var I;(I=x==null?void 0:x.onopen)===null||I===void 0||I.call(x),p({})},v=this.apiClient,b={onopen:S,onmessage:I=>{KY(v,x.onmessage,I)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(I){}},w=this.webSocketFactory.create(c,ZY(A),b);w.connect(),await y;let T=qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const I=this.apiClient.getProject(),U=this.apiClient.getLocation();T=`projects/${I}/locations/${U}/`+T}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qg.AUDIO]}:e.config.responseModalities=[Qg.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const I of k)if(this.isCallableTool(I)){const U=I;E.push(await U.tool())}else E.push(I);E.length>0&&(e.config.tools=E);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=Tz(this.apiClient,M):C=_z(this.apiClient,M),delete C.config,w.send(JSON.stringify(C)),new QY(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const XY={turnComplete:!0};class QY{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=pa(n.turns),e.isVertexAI()?r=r.map(i=>sd(i)):r=r.map(i=>Ev(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(YY)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},XY),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Lz(e)}:n={realtimeInput:Dz(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ZY(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vE=10;function yE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(lf(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function lf(t){return"callTool"in t&&typeof t.callTool=="function"}function tK(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>lf(i)))!==null&&r!==void 0?r:!1}function nK(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!lf(i)))!==null&&r!==void 0?r:!1}function bE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rK extends Ou{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tK(n)||yE(n.config))return await this.generateContentInternal(l);if(nK(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const f=pa(l.contents),A=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:vE;let p=0;for(;p<A&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const y=u.candidates[0].content,x=[];for(const S of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(lf(S)){const b=await S.callTool(u.functionCalls);x.push(...b)}p++,c={role:"user",parts:x},l.contents=pa(l.contents),l.contents.push(y),l.contents.push(c),bE(l.config)&&(f.push(y),f.push(c))}return bE(l.config)&&(u.automaticFunctionCallingHistory=f),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),yE(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new pA(yu.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>lf(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&Zj(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),eI(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(lf(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:vE;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var A,p;return sf(this,arguments,function*(){for(var y,x,S,v;s<a;){o&&(s++,o=!1);const C=yield _n(u.processParamsMaybeAddMcpUsage(f)),k=yield _n(u.generateContentStreamInternal(C)),E=[],M=[];try{for(var b=!0,w=(x=void 0,Wh(k)),T;T=yield _n(w.next()),y=T.done,!y;b=!0){v=T.value,b=!1;const I=v;if(yield yield _n(I),I.candidates&&(!((A=I.candidates[0])===null||A===void 0)&&A.content)){M.push(I.candidates[0].content);for(const U of(p=I.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(s<a&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(U.functionCall.name)){const O=yield _n(c.get(U.functionCall.name).callTool([U.functionCall]));E.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(I){x={error:I}}finally{try{!b&&!y&&(S=w.return)&&(yield _n(S.call(w)))}finally{if(x)throw x.error}}if(E.length>0){o=!0;const I=new lh;I.candidates=[{content:{role:"user",parts:E}}],yield yield _n(I);const U=[];U.push(...M),U.push({role:"user",parts:E});const O=pa(f.contents).concat(U);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=hE(this.apiClient,e);return s=it("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=AE(c),A=new lh;return Object.assign(A,f),A})}else{const u=dE(this.apiClient,e);return s=it("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=pE(c),A=new lh;return Object.assign(A,f),A})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=hE(this.apiClient,e);return s=it("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return sf(this,arguments,function*(){var A,p,y,x;try{for(var S=!0,v=Wh(f),b;b=yield _n(v.next()),A=b.done,!A;S=!0){x=b.value,S=!1;const w=x,T=AE(yield _n(w.json()));T.sdkHttpResponse={headers:w.headers};const C=new lh;Object.assign(C,T),yield yield _n(C)}}catch(w){p={error:w}}finally{try{!S&&!A&&(y=v.return)&&(yield _n(y.call(v)))}finally{if(p)throw p.error}}})})}else{const u=dE(this.apiClient,e);return s=it("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return sf(this,arguments,function*(){var A,p,y,x;try{for(var S=!0,v=Wh(f),b;b=yield _n(v.next()),A=b.done,!A;S=!0){x=b.value,S=!1;const w=x,T=pE(yield _n(w.json()));T.sdkHttpResponse={headers:w.headers};const C=new lh;Object.assign(C,T),yield yield _n(C)}}catch(w){p={error:w}}finally{try{!S&&!A&&(y=v.return)&&(yield _n(y.call(v)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vG(this.apiClient,e);return s=it("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=bG(c),A=new GN;return Object.assign(A,f),A})}else{const u=gG(this.apiClient,e);return s=it("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=yG(c),A=new GN;return Object.assign(A,f),A})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=UG(this.apiClient,e);return s=it("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=HG(c),A=new WN;return Object.assign(A,f),A})}else{const u=BG(this.apiClient,e);return s=it("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=qG(c),A=new WN;return Object.assign(A,f),A})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=fG(this.apiClient,e);return a=it("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=dG(l),c=new DU;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=hY(this.apiClient,e);return a=it("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=pY(l),c=new LU;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=DW(this.apiClient,e);return a=it("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=LW(l),c=new RU;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=WW(this.apiClient,e);return a=it("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=YW(l),c=new FU;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aW(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>m2(c))}else{const u=iW(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>A2(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=xW(this.apiClient,e);return s=it("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=SW(c),A=new YN;return Object.assign(A,f),A})}else{const u=bW(this.apiClient,e);return s=it("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=wW(c),A=new YN;return Object.assign(A,f),A})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=fY(this.apiClient,e);return s=it("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>m2(c))}else{const u=cY(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>A2(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aG(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=sG(c),A=new KN;return Object.assign(A,f),A})}else{const u=iG(this.apiClient,e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=oG(c),A=new KN;return Object.assign(A,f),A})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=tG(this.apiClient,e);return s=it("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=rG(c),A=new JN;return Object.assign(A,f),A})}else{const u=eG(this.apiClient,e);return s=it("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=nG(c),A=new JN;return Object.assign(A,f),A})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=qV(this.apiClient,e);return a=it("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=HV(l),c=new $U;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=KG(this.apiClient,e);return s=it("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=WG(c),A=new Zg;return Object.assign(A,f),A})}else{const u=YG(this.apiClient,e);return s=it("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const f=GG(c),A=new Zg;return Object.assign(A,f),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iK extends Ou{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=OU(e);return s=it("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=MU(e);return s=it("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=_U(e);return a=it("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(){return{}}function aK(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["name"],n),e}function oK(t){const e={},n=d(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function sK(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&m(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function lK(t){const e={},n=d(t,["environment"]);n!=null&&m(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function uK(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>SK(a))),m(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&m(e,["role"],r),e}function cK(t){const e={},n=d(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],EK(r)),e}function fK(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const o=d(e,["uses"]);n!==void 0&&o!=null&&m(n,["uses"],o);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],xK(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function dK(t,e){const n={},r=d(e,["config"]);return r!=null&&m(n,["config"],fK(t,r,n)),n}function hK(t){const e={},n=d(t,["mode"]);n!=null&&m(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function pK(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function AK(t){const e={},n=d(t,["id"]);n!=null&&m(e,["id"],n);const r=d(t,["args"]);r!=null&&m(e,["args"],r);const i=d(t,["name"]);return i!=null&&m(e,["name"],i),e}function mK(t){const e={},n=d(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=d(t,["description"]);r!=null&&m(e,["description"],r);const i=d(t,["name"]);i!=null&&m(e,["name"],i);const a=d(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&m(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function gK(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],hK(n)),e}function vK(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],yK(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function yK(t){const e={},n=d(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function bK(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","speechConfig"],PK(gS(f)));const A=d(t,["thinkingConfig"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","thinkingConfig"],MK(A));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],p);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&m(e,["setup","systemInstruction"],uK(Yr(y)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let k=ad(x);Array.isArray(k)&&(k=k.map(E=>OK(id(E)))),m(e,["setup","tools"],k)}const S=d(t,["sessionResumption"]);e!==void 0&&S!=null&&m(e,["setup","sessionResumption"],NK(S));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&m(e,["setup","inputAudioTranscription"],xE());const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],xE());const w=d(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&m(e,["setup","realtimeInputConfig"],CK(w));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],cK(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&m(e,["setup","proactivity"],TK(C)),n}function xK(t,e){const n={},r=d(e,["model"]);r!=null&&m(n,["setup","model"],qt(t,r));const i=d(e,["config"]);return i!=null&&m(n,["config"],bK(i,n)),n}function wK(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kK(i))),m(e,["speakerVoiceConfigs"],r)}return e}function SK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],IK(n));const r=d(t,["thought"]);r!=null&&m(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&m(e,["inlineData"],sK(i));const a=d(t,["fileData"]);a!=null&&m(e,["fileData"],pK(a));const o=d(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&m(e,["functionCall"],AK(s));const l=d(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&m(e,["text"],f),e}function _K(t){const e={},n=d(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function TK(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function CK(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],oK(n));const r=d(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function NK(t){const e={},n=d(t,["handle"]);if(n!=null&&m(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function EK(t){const e={},n=d(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function kK(t){const e={},n=d(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],tI(r)),e}function PK(t){const e={},n=d(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],tI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],wK(r));const i=d(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function MK(t){const e={},n=d(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function OK(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>mK(u))),m(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],vK(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],gK(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&m(e,["urlContext"],jK());const o=d(t,["computerUse"]);o!=null&&m(e,["computerUse"],lK(o));const s=d(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function jK(){return{}}function IK(t){const e={},n=d(t,["fps"]);n!=null&&m(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function tI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],_K(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DK(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function LK(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=DK(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class RK extends Ou{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=dK(this.apiClient,e);a=it("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=LK(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>aK(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FK(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function $K(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function BK(t,e){const n={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=d(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const a=d(t,["learningRateMultiplier"]);if(a!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(t,["batchSize"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","batchSize"],o);const s=d(t,["learningRate"]);if(e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","learningRate"],s),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function UK(t,e){const n={},r=d(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],aJ(r,n));const i=d(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const a=d(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const o=d(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=d(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=d(t,["adapterSize"]);if(e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=d(t,["labels"]);return e!==void 0&&c!=null&&m(e,["labels"],c),n}function qK(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],tJ(i));const a=d(t,["config"]);return a!=null&&BK(a,e),e}function HK(t){const e={},n=d(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],nJ(i,e));const a=d(t,["config"]);return a!=null&&UK(a,e),e}function zK(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function VK(t){const e={},n=d(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function GK(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function WK(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function YK(t){const e={},n=d(t,["config"]);return n!=null&&GK(n,e),e}function KK(t){const e={},n=d(t,["config"]);return n!=null&&WK(n,e),e}function JK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>nI(o))),m(e,["tuningJobs"],a)}return e}function XK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=d(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>v2(o))),m(e,["tuningJobs"],a)}return e}function QK(t){const e={},n=d(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=d(t,["step"]);i!=null&&m(e,["step"],i);const a=d(t,["endpoint"]);return a!=null&&m(e,["endpoint"],a),e}function ZK(t){const e={},n=d(t,["name"]);n!=null&&m(e,["model"],n);const r=d(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function eJ(t){const e={},n=d(t,["model"]);n!=null&&m(e,["model"],n);const r=d(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=d(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>QK(o))),m(e,["checkpoints"],a)}return e}function tJ(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=d(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rJ(i))),m(e,["examples","examples"],r)}return e}function nJ(t,e){const n={},r=d(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function rJ(t){const e={},n=d(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=d(t,["output"]);return r!=null&&m(e,["output"],r),e}function nI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["state"]);i!=null&&m(e,["state"],Ej(i));const a=d(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=d(t,["tuningTask","startTime"]);o!=null&&m(e,["startTime"],o);const s=d(t,["tuningTask","completeTime"]);s!=null&&m(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=d(t,["description"]);u!=null&&m(e,["description"],u);const c=d(t,["baseModel"]);c!=null&&m(e,["baseModel"],c);const f=d(t,["_self"]);f!=null&&m(e,["tunedModel"],ZK(f));const A=d(t,["customBaseModel"]);A!=null&&m(e,["customBaseModel"],A);const p=d(t,["experiment"]);p!=null&&m(e,["experiment"],p);const y=d(t,["labels"]);y!=null&&m(e,["labels"],y);const x=d(t,["outputUri"]);x!=null&&m(e,["outputUri"],x);const S=d(t,["pipelineJob"]);S!=null&&m(e,["pipelineJob"],S);const v=d(t,["serviceAccount"]);v!=null&&m(e,["serviceAccount"],v);const b=d(t,["tunedModelDisplayName"]);b!=null&&m(e,["tunedModelDisplayName"],b);const w=d(t,["veoTuningSpec"]);return w!=null&&m(e,["veoTuningSpec"],w),e}function v2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["state"]);i!=null&&m(e,["state"],Ej(i));const a=d(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=d(t,["startTime"]);o!=null&&m(e,["startTime"],o);const s=d(t,["endTime"]);s!=null&&m(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=d(t,["error"]);u!=null&&m(e,["error"],u);const c=d(t,["description"]);c!=null&&m(e,["description"],c);const f=d(t,["baseModel"]);f!=null&&m(e,["baseModel"],f);const A=d(t,["tunedModel"]);A!=null&&m(e,["tunedModel"],eJ(A));const p=d(t,["preTunedModel"]);p!=null&&m(e,["preTunedModel"],p);const y=d(t,["supervisedTuningSpec"]);y!=null&&m(e,["supervisedTuningSpec"],y);const x=d(t,["tuningDataStats"]);x!=null&&m(e,["tuningDataStats"],x);const S=d(t,["encryptionSpec"]);S!=null&&m(e,["encryptionSpec"],S);const v=d(t,["partnerModelTuningSpec"]);v!=null&&m(e,["partnerModelTuningSpec"],v);const b=d(t,["customBaseModel"]);b!=null&&m(e,["customBaseModel"],b);const w=d(t,["experiment"]);w!=null&&m(e,["experiment"],w);const T=d(t,["labels"]);T!=null&&m(e,["labels"],T);const C=d(t,["outputUri"]);C!=null&&m(e,["outputUri"],C);const k=d(t,["pipelineJob"]);k!=null&&m(e,["pipelineJob"],k);const E=d(t,["serviceAccount"]);E!=null&&m(e,["serviceAccount"],E);const M=d(t,["tunedModelDisplayName"]);M!=null&&m(e,["tunedModelDisplayName"],M);const I=d(t,["veoTuningSpec"]);return I!=null&&m(e,["veoTuningSpec"],I),e}function iJ(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&m(e,["name"],r);const i=d(t,["metadata"]);i!=null&&m(e,["metadata"],i);const a=d(t,["done"]);a!=null&&m(e,["done"],a);const o=d(t,["error"]);return o!=null&&m(e,["error"],o),e}function aJ(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oJ extends Ou{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new pA(yu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:u2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=VK(e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>v2(c))}else{const u=zK(e);return s=it("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>nI(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=KK(e);return s=it("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=XK(c),A=new XN;return Object.assign(A,f),A})}else{const u=YK(e);return s=it("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const A=f;return A.sdkHttpResponse={headers:c.headers},A})),o.then(c=>{const f=JK(c),A=new XN;return Object.assign(A,f),A})}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=$K(e);o=it("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=FK(e);o=it("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=HK(e);return a=it("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>v2(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qK(e);return a=it("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>iJ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lJ=1024*1024*8,uJ=3,cJ=1e3,fJ=2,A1="x-goog-upload-status";async function dJ(t,e,n){var r,i,a;let o=0,s=0,l=new c2(new Response),u="upload";for(o=t.size;s<o;){const f=Math.min(lJ,o-s),A=t.slice(s,s+f);s+f>=o&&(u+=", finalize");let p=0,y=cJ;for(;p<uJ&&(l=await n.request({path:"",body:A,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[A1]));)p++,await pJ(y),y=y*fJ;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[A1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[A1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function hJ(t){return{size:t.size,type:t.type}}function pJ(t){return new Promise(e=>setTimeout(e,t))}class AJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mJ{create(e,n,r){return new gJ(e,n,r)}}class gJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wE="x-goog-api-key";class vJ{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(wE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yJ="gl-node/";class bJ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=SU(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new vJ(this.apiKey);this.apiClient=new RY({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:yJ+"web",uploader:new AJ,downloader:new sJ}),this.models=new rK(this.apiClient),this.live=new JY(this.apiClient,i,new mJ),this.batches=new Aq(this.apiClient),this.chats=new SH(this.models,this.apiClient),this.caches=new bH(this.apiClient),this.files=new LH(this.apiClient),this.operations=new iK(this.apiClient),this.authTokens=new RK(this.apiClient),this.tunings=new oJ(this.apiClient)}}var xJ={};const SE=xJ.API_KEY,wJ=({product:t,variants:e,stockMap:n,onClose:r,onSelectVariant:i,t:a,isReturnMode:o})=>h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] flex flex-col",children:[h.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[a("selectVariantFor"),' "',t.name,'"']}),h.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:e.map(s=>{const l=n.get(s.id)||0,u=!o&&l<=0;return h.jsxs("div",{onClick:()=>!u&&i(s),className:`flex items-center p-3 border dark:border-slate-700 rounded-lg gap-4 ${u?"bg-gray-100 dark:bg-slate-700 opacity-50 cursor-not-allowed":"bg-white dark:bg-slate-900 hover:bg-teal-50 dark:hover:bg-slate-700 cursor-pointer"}`,children:[h.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-md bg-gray-200"}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:s.name}),h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s.price.toFixed(2)," DH"]})]}),h.jsxs("div",{className:"text-right rtl:text-left",children:[h.jsxs("p",{className:`font-semibold ${l>s.lowStockThreshold?"text-green-600 dark:text-green-400":"text-orange-500 dark:text-orange-400"}`,children:[a("stock"),": ",l]}),u&&h.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:a("outOfStock")})]})]},s.id)})}),h.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:h.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")})})]})}),SJ=({onSave:t,onClose:e,t:n})=>{const[r,i]=re.useState(""),[a,o]=re.useState(1),[s,l]=re.useState(""),u=c=>{if(c.preventDefault(),!r||a===""||a<=0||s===""||s<=0){alert(n("fillAllFields"));return}t(r,a,s)};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("enterItemDetails")}),h.jsxs("form",{onSubmit:u,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"itemName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("customItemName")}),h.jsx("input",{id:"itemName",type:"text",value:r,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:n("itemNamePlaceholder"),required:!0,autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"itemQuantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("quantity")}),h.jsx("input",{id:"itemQuantity",type:"number",value:a,onChange:c=>o(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"itemPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("unitPriceLabel")}),h.jsx("input",{id:"itemPrice",type:"number",value:s,onChange:c=>l(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),h.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:n("add")})]})]})]})})},_E=({store:t,user:e,products:n,variants:r,customers:i,categories:a,sales:o,stockMap:s,variantMap:l,variantsByProduct:u,barcodeMap:c,cart:f,setCart:A,completeSale:p,processReturn:y,payCustomerDebt:x,t:S,language:v})=>{const[b,w]=re.useState(0),[T,C]=re.useState(void 0),[k,E]=re.useState(null),[M,I]=re.useState(""),[U,O]=re.useState(!1),[j,$]=re.useState(null),[F,H]=re.useState(!1),[R,B]=re.useState(0),[W,K]=re.useState(""),[Z,se]=re.useState(""),[L,z]=re.useState(null),[Q,te]=re.useState(!1),[ae,me]=re.useState(!1),[he,G]=re.useState("unit"),le=re.useRef(""),ce=re.useRef(null),ue=re.useRef(null),Me=re.useMemo(()=>f.reduce((Se,Be)=>Se+Be.price*Be.quantity,0),[f]),De=Z?parseFloat(Z):Me,Ce=De/1.2,ne=De-Ce,Ne=De-b,Ee=re.useCallback((Se,Be)=>Be==="wholesale"&&Se.priceWholesale&&Se.priceWholesale>0?Se.priceWholesale:Be==="semiWholesale"&&Se.priceSemiWholesale&&Se.priceSemiWholesale>0?Se.priceSemiWholesale:Se.price||0,[]);re.useEffect(()=>{A(Se=>Se.map(Be=>{let nt=Be.price;if(Be.type==="good"){const At=l.get(Be.id);At&&(nt=Ee(At,he))}else if(Be.type==="service"&&!Be.isCustom){const At=n.find(ot=>ot.id===Be.productId);At&&(nt=Ee(At,he))}return{...Be,price:nt}}))},[he,l,n,Ee,A]),re.useEffect(()=>{if(T){const Se=o.filter(Be=>Be.customerId===T&&Be.remainingAmount>0).reduce((Be,nt)=>Be+nt.remainingAmount,0);B(Se)}else B(0)},[T,o]),re.useEffect(()=>{T||w(De)},[De,T]),re.useEffect(()=>{se("")},[f]);const xe=re.useCallback(Se=>{const Be=s.get(Se.id)||0;if(!U&&Be<=0){E(S("productOutOfStock",{productName:Se.name})),setTimeout(()=>E(null),3e3);return}A(nt=>{const At=nt.find(Et=>Et.id===Se.id);if(At){const Et=At.quantity+1;return!U&&Et>Be?(E(S("notEnoughStock",{productName:Se.name})),setTimeout(()=>E(null),3e3),nt):nt.map(lr=>lr.id===Se.id?{...lr,quantity:Et}:lr)}const ot=n.find(Et=>Et.id===Se.productId),An={id:Se.id,storeId:Se.storeId,name:`${ot==null?void 0:ot.name} - ${Se.name}`,type:"good",price:Ee(Se,he),purchasePrice:Se.purchasePrice,stock:Be,quantity:1,image:Se.image,productId:Se.productId};return[...nt,An]}),E(S("productAdded",{productName:Se.name})),setTimeout(()=>E(null),3e3)},[A,U,S,s,n,Ee,he]),Pe=re.useCallback(Se=>{A(Be=>{if(Be.find(ot=>ot.id===Se.id))return Be.map(ot=>ot.id===Se.id?{...ot,quantity:ot.quantity+1}:ot);const At={id:Se.id,storeId:Se.storeId,name:Se.name,type:"service",price:Ee(Se,he),quantity:1,image:Se.image,productId:Se.id};return[...Be,At]})},[A,Ee,he]),ye=(Se,Be,nt)=>{const At=crypto.randomUUID(),ot={id:At,productId:At,storeId:e.storeId,name:Se,price:nt,quantity:Be,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(S("service"))}`,isCustom:!0};A(An=>[...An,ot]),me(!1),E(S("customItemAdded")),setTimeout(()=>E(null),3e3)},ke=re.useCallback(Se=>{const Be=c.get(Se);Be?xe(Be):(E(S("productNotFound",{barcode:Se})),setTimeout(()=>E(null),3e3))},[c,xe,S]),be=async Se=>{var nt;const Be=(nt=Se.target.files)==null?void 0:nt[0];if(Be){if(!SE){E(S("geminiApiKeyNotConfigured")),setTimeout(()=>E(null),4e3),Se.target&&(Se.target.value="");return}te(!0),E(S("scanning"));try{const At=await new Promise((ut,jt)=>{const oi=new FileReader;oi.onload=()=>ut(oi.result.split(",")[1]),oi.onerror=qn=>jt(qn),oi.readAsDataURL(Be)}),ot=new bJ({apiKey:SE}),An={inlineData:{mimeType:Be.type,data:At}},Et={text:"From the provided receipt image, extract all purchase line items. For each item, provide its name (designation), quantity (quantite), and its unit price (prixHT). Return as a JSON array."},lr=await ot.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[An,Et]},config:{responseMimeType:"application/json",responseSchema:{type:ji.ARRAY,items:{type:ji.OBJECT,properties:{designation:{type:ji.STRING,description:"Item name or description from the receipt."},quantite:{type:ji.NUMBER,description:"The quantity of the item."},prixHT:{type:ji.NUMBER,description:"The unit price of the item (Prix HT)."}},required:["designation","quantite","prixHT"]}}}}),ai=JSON.parse(lr.text);if(!Array.isArray(ai))throw new Error("AI response is not a valid array.");const un=ai.map(ut=>{const jt=crypto.randomUUID();return{id:jt,productId:jt,storeId:e.storeId,name:ut.designation,price:ut.prixHT,quantity:ut.quantite,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(S("service"))}`,isCustom:!0}});A(ut=>[...ut,...un]),E(S("itemsAddedFromReceipt",{count:un.length})),setTimeout(()=>E(null),4e3)}catch(At){console.error("Error scanning receipt:",At),E(S("receiptScanError")),setTimeout(()=>E(null),4e3)}finally{te(!1),Se.target&&(Se.target.value="")}}};re.useEffect(()=>{const Se=Be=>{const nt=Be.target;if(!(["INPUT","SELECT","TEXTAREA"].includes(nt.tagName)&&nt.id!=="pos-scanner-listener")){if(ce.current&&clearTimeout(ce.current),Be.key==="Enter"){le.current.length>3&&ke(le.current),le.current="",Be.preventDefault();return}Be.key.length===1&&(le.current+=Be.key),ce.current=setTimeout(()=>{le.current=""},100)}};return window.addEventListener("keydown",Se),()=>{window.removeEventListener("keydown",Se),ce.current&&clearTimeout(ce.current)}},[ke]);const Ve=re.useMemo(()=>{const Se=M.toLowerCase();if(F){const nt=n.filter(At=>At.type==="service");return M?nt.filter(At=>At.name.toLowerCase().includes(Se)):nt}return M.length<1&&!j?[]:n.filter(nt=>nt.type==="good").filter(nt=>!j||nt.categoryId===j?M?nt.name.toLowerCase().includes(Se):!0:!1)},[n,j,M,F]),Ge=Se=>{Se.type==="service"?Pe(Se):z(Se),I("")},at=Se=>{xe(Se),z(null)},He=F||M.length>0||!!j,ft=(Se,Be,nt)=>{A(At=>{const ot=At.find(Et=>Et.id===Se);if(!ot)return At;let An=nt;return Be==="quantity"&&(An<.5&&(An=.5),ot.type==="good"&&!U&&ot.stock&&An>ot.stock&&(An=ot.stock)),Be==="price"&&An<0&&(An=0),At.map(Et=>Et.id===Se?{...Et,[Be]:An}:Et)})},Ze=Se=>{A(f.filter(Be=>Be.id!==Se))},ht=()=>{A([]),w(0),se(""),C(void 0)},We=async Se=>{if(f.length===0){alert(S("emptyCartError"));return}await p(b,T,De,Se),w(0),C(void 0),se("")},ln=()=>{if(f.length===0){alert(S("emptyCartError"));return}y(f)},Pt=()=>{const Se=parseFloat(W);if(T&&Se>0){if(Se>R){alert(S("enterValidPayment"));return}x(T,Se),K("")}};return re.useEffect(()=>{ht(),H(!1)},[U]),h.jsxs(h.Fragment,{children:[L&&h.jsx(wJ,{product:L,variants:u.get(L.id)||[],stockMap:s,onClose:()=>z(null),onSelectVariant:at,t:S,isReturnMode:U}),ae&&h.jsx(SJ,{onSave:ye,onClose:()=>me(!1),t:S}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[h.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[h.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-xl shadow-lg flex justify-center",children:h.jsxs("div",{className:`flex rounded-lg p-1 ${U?"bg-orange-100 dark:bg-orange-900/50":"bg-gray-200 dark:bg-slate-700"}`,children:[h.jsx("button",{onClick:()=>O(!1),className:`px-8 py-2 rounded-md font-semibold transition-all ${U?"text-slate-600 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400"}`,children:S("saleMode")}),h.jsx("button",{onClick:()=>O(!0),className:`px-8 py-2 rounded-md font-semibold transition-all ${U?"bg-white dark:bg-slate-800 shadow text-orange-700 dark:text-orange-400":"text-slate-600 dark:text-slate-400"}`,children:S("returnMode")})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:S("priceLevels")}),h.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-200 dark:bg-slate-700",children:[h.jsx("button",{onClick:()=>G("unit"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${he==="unit"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:S("unit")}),h.jsx("button",{onClick:()=>G("semiWholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${he==="semiWholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:S("semiWholesale")}),h.jsx("button",{onClick:()=>G("wholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${he==="wholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:S("wholesale")})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:h.jsxs("div",{className:"flex items-center justify-center gap-3 bg-teal-50 dark:bg-slate-700 text-teal-700 dark:text-teal-300 p-3 rounded-lg",children:[h.jsx(XO,{className:"w-8 h-8"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold",children:S("barcodeScannerActive")}),h.jsx("p",{className:"text-sm",children:S("scanToAdd")})]})]})}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:S("manualAdd")}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{onClick:()=>me(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[h.jsx(il,{className:"w-5 h-5"}),S("addCustomItem")]}),t.enableAiReceiptScan&&h.jsxs("button",{onClick:()=>{var Se;return(Se=ue.current)==null?void 0:Se.click()},disabled:Q,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",children:[Q?h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):h.jsx(ha,{className:"w-5 h-5"}),S(Q?"scanning":"scanReceipt")]})]}),h.jsx("input",{type:"file",ref:ue,onChange:be,className:"hidden",accept:"image/*"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:S("filterByCategory")}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("button",{onClick:()=>{$(null),H(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${!j&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:S("all")}),a.map(Se=>h.jsx("button",{onClick:()=>{$(Se.id),H(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${j===Se.id&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:Se.name},Se.id))]})]}),h.jsx("div",{className:"mt-4",children:h.jsxs("button",{onClick:()=>{H(!0),$(null)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-base font-bold rounded-lg border-2 transition-all ${F?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-gray-300 dark:border-slate-600 hover:border-purple-500 dark:hover:border-purple-500"}`,children:[h.jsx(ha,{className:"w-6 h-6"})," ",S("services")]})}),h.jsxs("div",{className:"relative mt-4",children:[h.jsx("input",{type:"text",placeholder:S("searchPlaceholder"),value:M,onChange:Se=>I(Se.target.value),className:"w-full px-4 py-2 border dark:border-slate-600 rounded-lg focus:ring-teal-500 bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),He&&h.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Ve.length>0?Ve.map(Se=>{var Be;return h.jsxs("li",{className:"flex items-center p-3 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>Ge(Se),children:[Se.type==="good"?h.jsx("img",{src:Se.image,alt:Se.name,className:"w-12 h-12 object-cover rounded-md mx-4 bg-gray-200"}):h.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-md bg-purple-100 dark:bg-purple-900/50 mx-4",children:h.jsx(ha,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),h.jsxs("div",{className:"flex-grow",children:[h.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Se.name}),h.jsxs("div",{className:"flex justify-between items-center",children:[Se.type==="service"&&h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[S("price"),": ",(Be=Se.price)==null?void 0:Be.toFixed(2)," DH"]}),Se.type==="good"&&h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(u.get(Se.id)||[]).length," ",S("variants")]})]})]}),h.jsxs("button",{className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 font-bold py-2 px-3 rounded-lg text-sm flex items-center gap-1 pointer-events-none",children:[h.jsx(il,{className:"w-4 h-4"})," ",S("add")]})]},Se.id)}):h.jsx("li",{className:"p-3 text-slate-500 dark:text-slate-400",children:S("productNotFound",{barcode:""})})})]})]}),k&&h.jsx("div",{className:`fixed bottom-4 left-4 z-50 p-4 text-center rounded-lg shadow-xl ${k.includes("Impossible")||k.includes("rupture")||k.includes("Aucun")||k.includes("Erreur")?"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200":"bg-teal-100 text-teal-800 dark:bg-teal-900/70 dark:text-teal-200"}`,children:k})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:`p-6 rounded-xl shadow-lg sticky top-6 flex flex-col h-[90vh] ${U?"bg-orange-50 dark:bg-slate-800 border-2 border-orange-500/50":"bg-white dark:bg-slate-800"}`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:S(U?"returnReceipt":"invoice")}),h.jsx("button",{onClick:ht,title:S(U?"returnReceipt":"invoice"),className:"text-slate-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 p-2 rounded-lg transition-colors",children:h.jsx(ri,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"flex-grow overflow-y-auto pl-2 space-y-3 mb-4 text-sm",children:f.length>0?f.map(Se=>h.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[h.jsxs("div",{className:"col-span-3",children:[h.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Se.name}),Se.type==="good"||Se.isCustom?h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Se.price.toFixed(2)," x ",Se.quantity]}):h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"number",value:Se.price,onChange:Be=>ft(Se.id,"price",parseFloat(Be.target.value)),className:"w-20 text-xs p-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"}),h.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mx-1",children:["x ",Se.quantity]})]})]}),h.jsx("input",{type:"number",value:Se.quantity,onChange:Be=>ft(Se.id,"quantity",parseFloat(Be.target.value)||0),min:"0.5",step:"0.5",max:U||Se.type==="service"?void 0:Se.stock,className:"w-16 text-center border dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),h.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 w-20 text-left col-span-1",children:(Se.price*Se.quantity).toFixed(2)}),h.jsx("button",{onClick:()=>Ze(Se.id),className:"text-red-500 hover:text-red-700 justify-self-center",children:h.jsx(ri,{className:"w-5 h-5"})})]},Se.id)):h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:S("emptyCart")})}),h.jsxs("div",{className:"mt-auto pt-4 border-t-2 border-dashed dark:border-slate-600 space-y-4",children:[!U&&h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("label",{htmlFor:"customer",className:"font-semibold text-slate-600 dark:text-slate-300",children:[S("customer"),":"]}),h.jsxs("select",{id:"customer",value:T||"",onChange:Se=>C(Se.target.value||void 0),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-teal-500",children:[h.jsx("option",{value:"",children:S("cashCustomer")}),i.map(Se=>h.jsx("option",{value:Se.id,children:Se.name},Se.id))]})]}),R>0&&h.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h4",{className:"font-bold text-yellow-800 dark:text-yellow-300",children:S("debtPayment")}),h.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[R.toFixed(2)," DH"]})]}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"number",placeholder:S("amount"),value:W,onChange:Se=>K(Se.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:R}),h.jsx("button",{onClick:Pt,disabled:!W||parseFloat(W)<=0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg disabled:bg-gray-400 dark:disabled:bg-slate-500 whitespace-nowrap",children:S("save")})]})]}),h.jsxs("div",{className:"flex justify-between items-center text-red-600 dark:text-red-400",children:[h.jsx("label",{htmlFor:"manualTotal",className:"font-semibold",children:S("manualTotal")}),h.jsx("input",{type:"number",id:"manualTotal",placeholder:Me.toFixed(2),value:Z,onChange:Se=>se(Se.target.value),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-red-600 dark:text-red-400 font-bold dark:border-slate-600",min:"0",step:"0.01"})]}),h.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-300",children:[h.jsx("label",{htmlFor:"downPayment",className:"font-semibold",children:S("downPayment")}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"number",id:"downPayment",value:b,onChange:Se=>w(Math.max(0,parseFloat(Se.target.value)||0)),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 disabled:bg-gray-200 dark:disabled:bg-slate-600 disabled:cursor-not-allowed dark:border-slate-600",disabled:!T,readOnly:!T,step:"0.01"}),T&&h.jsx("button",{onClick:()=>w(De),className:"text-xs bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 font-semibold px-2 py-1 rounded-md hover:bg-cyan-200 dark:hover:bg-cyan-800/50",children:S("total")})]})]})]}),U?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:[h.jsxs("span",{children:[S("refundAmount"),":"]}),h.jsxs("span",{children:[Me.toFixed(2)," DH"]})]}),h.jsx("div",{className:"mt-2",children:h.jsx("button",{onClick:ln,className:"bg-orange-600 hover:bg-orange-700 w-full text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:S("processReturn")})})]}):h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300 mb-2",children:[h.jsxs("span",{className:"font-bold",children:[S("total"),":"]}),h.jsxs("span",{className:"font-bold",children:[De.toFixed(2)," DH"]})]}),h.jsx("button",{onClick:()=>We("orderForm"),className:"w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500 text-sm",disabled:f.length===0,children:S("finalizeAndPrintOrderForm")})]}),h.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg",children:[h.jsxs("div",{className:"text-sm space-y-1",children:[h.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[h.jsxs("span",{children:[S("totalHT"),":"]}),h.jsxs("span",{children:[Ce.toFixed(2)," DH"]})]}),h.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[h.jsxs("span",{children:[S("vat"),":"]}),h.jsxs("span",{children:[ne.toFixed(2)," DH"]})]}),h.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-800 dark:text-slate-100 mt-2 pt-2 border-t dark:border-slate-700",children:[h.jsxs("span",{children:[S("totalTTC"),":"]}),h.jsxs("span",{children:[De.toFixed(2)," DH"]})]})]}),h.jsx("button",{onClick:()=>We("invoice"),className:"mt-2 w-full bg-teal-600 text-white font-bold py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:S("finalizeAndPrintInvoice")})]}),h.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-cyan-100 text-cyan-700 dark:bg-cyan-900/50 dark:text-cyan-300",children:[h.jsxs("span",{children:[S("remaining"),":"]}),h.jsxs("span",{children:[Ne.toFixed(2)," DH"]})]})]})]})]})})]})]})};function rI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rI(t))&&(r&&(r+=" "),r+=e);return r}var _J=Array.isArray,Si=_J,TJ=typeof mr=="object"&&mr&&mr.Object===Object&&mr,iI=TJ,CJ=iI,NJ=typeof self=="object"&&self&&self.Object===Object&&self,EJ=CJ||NJ||Function("return this")(),mo=EJ,kJ=mo,PJ=kJ.Symbol,AA=PJ,TE=AA,aI=Object.prototype,MJ=aI.hasOwnProperty,OJ=aI.toString,uh=TE?TE.toStringTag:void 0;function jJ(t){var e=MJ.call(t,uh),n=t[uh];try{t[uh]=void 0;var r=!0}catch{}var i=OJ.call(t);return r&&(e?t[uh]=n:delete t[uh]),i}var IJ=jJ,DJ=Object.prototype,LJ=DJ.toString;function RJ(t){return LJ.call(t)}var FJ=RJ,CE=AA,$J=IJ,BJ=FJ,UJ="[object Null]",qJ="[object Undefined]",NE=CE?CE.toStringTag:void 0;function HJ(t){return t==null?t===void 0?qJ:UJ:NE&&NE in Object(t)?$J(t):BJ(t)}var ls=HJ;function zJ(t){return t!=null&&typeof t=="object"}var us=zJ,VJ=ls,GJ=us,WJ="[object Symbol]";function YJ(t){return typeof t=="symbol"||GJ(t)&&VJ(t)==WJ}var ld=YJ,KJ=Si,JJ=ld,XJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QJ=/^\w*$/;function ZJ(t,e){if(KJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||JJ(t)?!0:QJ.test(t)||!XJ.test(t)||e!=null&&t in Object(e)}var bS=ZJ;function eX(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vl=eX;const ud=Wt(vl);var tX=ls,nX=vl,rX="[object AsyncFunction]",iX="[object Function]",aX="[object GeneratorFunction]",oX="[object Proxy]";function sX(t){if(!nX(t))return!1;var e=tX(t);return e==iX||e==aX||e==rX||e==oX}var xS=sX;const yt=Wt(xS);var lX=mo,uX=lX["__core-js_shared__"],cX=uX,m1=cX,EE=function(){var t=/[^.]+$/.exec(m1&&m1.keys&&m1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fX(t){return!!EE&&EE in t}var dX=fX,hX=Function.prototype,pX=hX.toString;function AX(t){if(t!=null){try{return pX.call(t)}catch{}try{return t+""}catch{}}return""}var oI=AX,mX=xS,gX=dX,vX=vl,yX=oI,bX=/[\\^$.*+?()[\]{}|]/g,xX=/^\[object .+?Constructor\]$/,wX=Function.prototype,SX=Object.prototype,_X=wX.toString,TX=SX.hasOwnProperty,CX=RegExp("^"+_X.call(TX).replace(bX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NX(t){if(!vX(t)||gX(t))return!1;var e=mX(t)?CX:xX;return e.test(yX(t))}var EX=NX;function kX(t,e){return t==null?void 0:t[e]}var PX=kX,MX=EX,OX=PX;function jX(t,e){var n=OX(t,e);return MX(n)?n:void 0}var Iu=jX,IX=Iu,DX=IX(Object,"create"),Pv=DX,kE=Pv;function LX(){this.__data__=kE?kE(null):{},this.size=0}var RX=LX;function FX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $X=FX,BX=Pv,UX="__lodash_hash_undefined__",qX=Object.prototype,HX=qX.hasOwnProperty;function zX(t){var e=this.__data__;if(BX){var n=e[t];return n===UX?void 0:n}return HX.call(e,t)?e[t]:void 0}var VX=zX,GX=Pv,WX=Object.prototype,YX=WX.hasOwnProperty;function KX(t){var e=this.__data__;return GX?e[t]!==void 0:YX.call(e,t)}var JX=KX,XX=Pv,QX="__lodash_hash_undefined__";function ZX(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=XX&&e===void 0?QX:e,this}var eQ=ZX,tQ=RX,nQ=$X,rQ=VX,iQ=JX,aQ=eQ;function cd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cd.prototype.clear=tQ;cd.prototype.delete=nQ;cd.prototype.get=rQ;cd.prototype.has=iQ;cd.prototype.set=aQ;var oQ=cd;function sQ(){this.__data__=[],this.size=0}var lQ=sQ;function uQ(t,e){return t===e||t!==t&&e!==e}var wS=uQ,cQ=wS;function fQ(t,e){for(var n=t.length;n--;)if(cQ(t[n][0],e))return n;return-1}var Mv=fQ,dQ=Mv,hQ=Array.prototype,pQ=hQ.splice;function AQ(t){var e=this.__data__,n=dQ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():pQ.call(e,n,1),--this.size,!0}var mQ=AQ,gQ=Mv;function vQ(t){var e=this.__data__,n=gQ(e,t);return n<0?void 0:e[n][1]}var yQ=vQ,bQ=Mv;function xQ(t){return bQ(this.__data__,t)>-1}var wQ=xQ,SQ=Mv;function _Q(t,e){var n=this.__data__,r=SQ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var TQ=_Q,CQ=lQ,NQ=mQ,EQ=yQ,kQ=wQ,PQ=TQ;function fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fd.prototype.clear=CQ;fd.prototype.delete=NQ;fd.prototype.get=EQ;fd.prototype.has=kQ;fd.prototype.set=PQ;var Ov=fd,MQ=Iu,OQ=mo,jQ=MQ(OQ,"Map"),SS=jQ,PE=oQ,IQ=Ov,DQ=SS;function LQ(){this.size=0,this.__data__={hash:new PE,map:new(DQ||IQ),string:new PE}}var RQ=LQ;function FQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $Q=FQ,BQ=$Q;function UQ(t,e){var n=t.__data__;return BQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var jv=UQ,qQ=jv;function HQ(t){var e=qQ(this,t).delete(t);return this.size-=e?1:0,e}var zQ=HQ,VQ=jv;function GQ(t){return VQ(this,t).get(t)}var WQ=GQ,YQ=jv;function KQ(t){return YQ(this,t).has(t)}var JQ=KQ,XQ=jv;function QQ(t,e){var n=XQ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ZQ=QQ,eZ=RQ,tZ=zQ,nZ=WQ,rZ=JQ,iZ=ZQ;function dd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dd.prototype.clear=eZ;dd.prototype.delete=tZ;dd.prototype.get=nZ;dd.prototype.has=rZ;dd.prototype.set=iZ;var _S=dd,sI=_S,aZ="Expected a function";function TS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(aZ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(TS.Cache||sI),n}TS.Cache=sI;var lI=TS;const oZ=Wt(lI);var sZ=lI,lZ=500;function uZ(t){var e=sZ(t,function(r){return n.size===lZ&&n.clear(),r}),n=e.cache;return e}var cZ=uZ,fZ=cZ,dZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hZ=/\\(\\)?/g,pZ=fZ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dZ,function(n,r,i,a){e.push(i?a.replace(hZ,"$1"):r||n)}),e}),AZ=pZ;function mZ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var CS=mZ,ME=AA,gZ=CS,vZ=Si,yZ=ld,OE=ME?ME.prototype:void 0,jE=OE?OE.toString:void 0;function uI(t){if(typeof t=="string")return t;if(vZ(t))return gZ(t,uI)+"";if(yZ(t))return jE?jE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var bZ=uI,xZ=bZ;function wZ(t){return t==null?"":xZ(t)}var cI=wZ,SZ=Si,_Z=bS,TZ=AZ,CZ=cI;function NZ(t,e){return SZ(t)?t:_Z(t,e)?[t]:TZ(CZ(t))}var fI=NZ,EZ=ld;function kZ(t){if(typeof t=="string"||EZ(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Iv=kZ,PZ=fI,MZ=Iv;function OZ(t,e){e=PZ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[MZ(e[n++])];return n&&n==r?t:void 0}var NS=OZ,jZ=NS;function IZ(t,e,n){var r=t==null?void 0:jZ(t,e);return r===void 0?n:r}var dI=IZ;const Ui=Wt(dI);function DZ(t){return t==null}var LZ=DZ;const Ot=Wt(LZ);var RZ=ls,FZ=Si,$Z=us,BZ="[object String]";function UZ(t){return typeof t=="string"||!FZ(t)&&$Z(t)&&RZ(t)==BZ}var qZ=UZ;const bu=Wt(qZ);var hI={exports:{}},tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES=Symbol.for("react.element"),kS=Symbol.for("react.portal"),Dv=Symbol.for("react.fragment"),Lv=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),$v=Symbol.for("react.context"),HZ=Symbol.for("react.server_context"),Bv=Symbol.for("react.forward_ref"),Uv=Symbol.for("react.suspense"),qv=Symbol.for("react.suspense_list"),Hv=Symbol.for("react.memo"),zv=Symbol.for("react.lazy"),zZ=Symbol.for("react.offscreen"),pI;pI=Symbol.for("react.module.reference");function va(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ES:switch(t=t.type,t){case Dv:case Rv:case Lv:case Uv:case qv:return t;default:switch(t=t&&t.$$typeof,t){case HZ:case $v:case Bv:case zv:case Hv:case Fv:return t;default:return e}}case kS:return e}}}tn.ContextConsumer=$v;tn.ContextProvider=Fv;tn.Element=ES;tn.ForwardRef=Bv;tn.Fragment=Dv;tn.Lazy=zv;tn.Memo=Hv;tn.Portal=kS;tn.Profiler=Rv;tn.StrictMode=Lv;tn.Suspense=Uv;tn.SuspenseList=qv;tn.isAsyncMode=function(){return!1};tn.isConcurrentMode=function(){return!1};tn.isContextConsumer=function(t){return va(t)===$v};tn.isContextProvider=function(t){return va(t)===Fv};tn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ES};tn.isForwardRef=function(t){return va(t)===Bv};tn.isFragment=function(t){return va(t)===Dv};tn.isLazy=function(t){return va(t)===zv};tn.isMemo=function(t){return va(t)===Hv};tn.isPortal=function(t){return va(t)===kS};tn.isProfiler=function(t){return va(t)===Rv};tn.isStrictMode=function(t){return va(t)===Lv};tn.isSuspense=function(t){return va(t)===Uv};tn.isSuspenseList=function(t){return va(t)===qv};tn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dv||t===Rv||t===Lv||t===Uv||t===qv||t===zZ||typeof t=="object"&&t!==null&&(t.$$typeof===zv||t.$$typeof===Hv||t.$$typeof===Fv||t.$$typeof===$v||t.$$typeof===Bv||t.$$typeof===pI||t.getModuleId!==void 0)};tn.typeOf=va;hI.exports=tn;var VZ=hI.exports,GZ=ls,WZ=us,YZ="[object Number]";function KZ(t){return typeof t=="number"||WZ(t)&&GZ(t)==YZ}var AI=KZ;const JZ=Wt(AI);var XZ=AI;function QZ(t){return XZ(t)&&t!=+t}var ZZ=QZ;const mA=Wt(ZZ);var ei=function(e){return e===0?0:e>0?1:-1},Zl=function(e){return bu(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return JZ(e)&&!mA(e)},eee=function(e){return Ot(e)},gr=function(e){return Ye(e)||bu(e)},tee=0,gA=function(e){var n=++tee;return"".concat(e||"").concat(n)},ti=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!bu(e))return r;var a;if(Zl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return mA(a)&&(a=r),i&&a>n&&(a=n),a},Bs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},nee=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},js=function(e,n){return Ye(e)&&Ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function y2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ui(r,e))===n})}var ree=function(e,n){return Ye(e)&&Ye(n)?e-n:bu(e)&&bu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function uf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function b2(t){"@babel/helpers - typeof";return b2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b2(t)}var iee=["viewBox","children"],aee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IE=["points","pathLength"],g1={svg:iee,polygon:IE,polyline:IE},PS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],t0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(re.isValidElement(e)&&(r=e.props),!ud(r))return null;var i={};return Object.keys(r).forEach(function(a){PS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},oee=function(e,n,r){return function(i){return e(n,r,i),null}},xu=function(e,n,r){if(!ud(e)||b2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];PS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=oee(o,n,r))}),i},see=["children"],lee=["children"];function DE(t,e){if(t==null)return{};var n=uee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ko=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},RE=null,v1=null,MS=function t(e){if(e===RE&&Array.isArray(v1))return v1;var n=[];return re.Children.forEach(e,function(r){Ot(r)||(VZ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),v1=n,RE=e,n};function Aa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ko(i)}):r=[Ko(e)],MS(t).forEach(function(i){var a=Ui(i,"type.displayName")||Ui(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Pi(t,e){var n=Aa(t,e);return n&&n[0]}var FE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ye(r)||r<=0||!Ye(i)||i<=0)},cee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fee=function(e){return e&&e.type&&bu(e.type)&&cee.indexOf(e.type)>=0},dee=function(e,n,r,i){var a,o=(a=g1==null?void 0:g1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(e)&&(i&&o.includes(n)||aee.includes(n))||r&&PS.includes(n)},gt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(re.isValidElement(e)&&(i=e.props),!ud(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;dee((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},x2=function t(e,n){if(e===n)return!0;var r=re.Children.count(e);if(r!==re.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $E(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!$E(a,o))return!1}return!0},$E=function(e,n){if(Ot(e)&&Ot(n))return!0;if(!Ot(e)&&!Ot(n)){var r=e.props||{},i=r.children,a=DE(r,see),o=n.props||{},s=o.children,l=DE(o,lee);return i&&s?uf(a,l)&&x2(i,s):!i&&!s?uf(a,l):!1}return!1},BE=function(e,n){var r=[],i={};return MS(e).forEach(function(a,o){if(fee(a))r.push(a);else if(a){var s=Ko(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},hee=function(e){var n=e&&e.type;return n&&LE[n]?LE[n]:null},pee=function(e,n){return MS(n).indexOf(e)},Aee=["children","width","height","viewBox","className","style","title","desc"];function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(this,arguments)}function mee(t,e){if(t==null)return{};var n=gee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=mee(t,Aee),c=i||{width:n,height:r,x:0,y:0},f=kt("recharts-surface",a);return de.createElement("svg",w2({},gt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),de.createElement("title",null,s),de.createElement("desc",null,l),e)}var vee=["children","className"];function _2(){return _2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_2.apply(this,arguments)}function yee(t,e){if(t==null)return{};var n=bee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zt=de.forwardRef(function(t,e){var n=t.children,r=t.className,i=yee(t,vee),a=kt("recharts-layer",r);return de.createElement("g",_2({className:a},gt(i,!0),{ref:e}),n)}),Ba=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function xee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var wee=xee,See=wee;function _ee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:See(t,e,n)}var Tee=_ee,Cee="\\ud800-\\udfff",Nee="\\u0300-\\u036f",Eee="\\ufe20-\\ufe2f",kee="\\u20d0-\\u20ff",Pee=Nee+Eee+kee,Mee="\\ufe0e\\ufe0f",Oee="\\u200d",jee=RegExp("["+Oee+Cee+Pee+Mee+"]");function Iee(t){return jee.test(t)}var mI=Iee;function Dee(t){return t.split("")}var Lee=Dee,gI="\\ud800-\\udfff",Ree="\\u0300-\\u036f",Fee="\\ufe20-\\ufe2f",$ee="\\u20d0-\\u20ff",Bee=Ree+Fee+$ee,Uee="\\ufe0e\\ufe0f",qee="["+gI+"]",T2="["+Bee+"]",C2="\\ud83c[\\udffb-\\udfff]",Hee="(?:"+T2+"|"+C2+")",vI="[^"+gI+"]",yI="(?:\\ud83c[\\udde6-\\uddff]){2}",bI="[\\ud800-\\udbff][\\udc00-\\udfff]",zee="\\u200d",xI=Hee+"?",wI="["+Uee+"]?",Vee="(?:"+zee+"(?:"+[vI,yI,bI].join("|")+")"+wI+xI+")*",Gee=wI+xI+Vee,Wee="(?:"+[vI+T2+"?",T2,yI,bI,qee].join("|")+")",Yee=RegExp(C2+"(?="+C2+")|"+Wee+Gee,"g");function Kee(t){return t.match(Yee)||[]}var Jee=Kee,Xee=Lee,Qee=mI,Zee=Jee;function ete(t){return Qee(t)?Zee(t):Xee(t)}var tte=ete,nte=Tee,rte=mI,ite=tte,ate=cI;function ote(t){return function(e){e=ate(e);var n=rte(e)?ite(e):void 0,r=n?n[0]:e.charAt(0),i=n?nte(n,1).join(""):e.slice(1);return r[t]()+i}}var ste=ote,lte=ste,ute=lte("toUpperCase"),cte=ute;const Vv=Wt(cte);function bn(t){return function(){return t}}const SI=Math.cos,n0=Math.sin,Va=Math.sqrt,r0=Math.PI,Gv=2*r0,N2=Math.PI,E2=2*N2,Vl=1e-6,fte=E2-Vl;function _I(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function dte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _I;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class hte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_I:dte(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,A=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(A>Vl)if(!(Math.abs(f*l-u*c)>Vl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,y=i-s,x=l*l+u*u,S=p*p+y*y,v=Math.sqrt(x),b=Math.sqrt(A),w=a*Math.tan((N2-Math.acos((x+A-S)/(2*v*b)))/2),T=w/b,C=w/v;Math.abs(T-1)>Vl&&this._append`L${e+T*c},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*p>c*y)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,A=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Vl||Math.abs(this._y1-c)>Vl)&&this._append`L${u},${c}`,r&&(A<0&&(A=A%E2+E2),A>fte?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:A>Vl&&this._append`A${r},${r},0,${+(A>=N2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new hte(e)}function jS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TI(t){this._context=t}TI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wv(t){return new TI(t)}function CI(t){return t[0]}function NI(t){return t[1]}function EI(t,e){var n=bn(!0),r=null,i=Wv,a=null,o=OS(s);t=typeof t=="function"?t:t===void 0?CI:bn(t),e=typeof e=="function"?e:e===void 0?NI:bn(e);function s(l){var u,c=(l=jS(l)).length,f,A=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===A&&((A=!A)?a.lineStart():a.lineEnd()),A&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:bn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:bn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:bn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Fm(t,e,n){var r=null,i=bn(!0),a=null,o=Wv,s=null,l=OS(u);t=typeof t=="function"?t:t===void 0?CI:bn(+t),e=typeof e=="function"?e:bn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?NI:bn(+n);function u(f){var A,p,y,x=(f=jS(f)).length,S,v=!1,b,w=new Array(x),T=new Array(x);for(a==null&&(s=o(b=l())),A=0;A<=x;++A){if(!(A<x&&i(S=f[A],A,f))===v)if(v=!v)p=A,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=A-1;y>=p;--y)s.point(w[y],T[y]);s.lineEnd(),s.areaEnd()}v&&(w[A]=+t(S,A,f),T[A]=+e(S,A,f),s.point(r?+r(S,A,f):w[A],n?+n(S,A,f):T[A]))}if(b)return s=null,b+""||null}function c(){return EI().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:bn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:bn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:bn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class kI{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pte(t){return new kI(t,!0)}function Ate(t){return new kI(t,!1)}const IS={draw(t,e){const n=Va(e/r0);t.moveTo(n,0),t.arc(0,0,n,0,Gv)}},mte={draw(t,e){const n=Va(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},PI=Va(1/3),gte=PI*2,vte={draw(t,e){const n=Va(e/gte),r=n*PI;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},yte={draw(t,e){const n=Va(e),r=-n/2;t.rect(r,r,n,n)}},bte=.8908130915292852,MI=n0(r0/10)/n0(7*r0/10),xte=n0(Gv/10)*MI,wte=-SI(Gv/10)*MI,Ste={draw(t,e){const n=Va(e*bte),r=xte*n,i=wte*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Gv*a/5,s=SI(o),l=n0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},y1=Va(3),_te={draw(t,e){const n=-Va(e/(y1*3));t.moveTo(0,n*2),t.lineTo(-y1*n,-n),t.lineTo(y1*n,-n),t.closePath()}},Qi=-.5,Zi=Va(3)/2,k2=1/Va(12),Tte=(k2/2+1)*3,Cte={draw(t,e){const n=Va(e/Tte),r=n/2,i=n*k2,a=r,o=n*k2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Qi*r-Zi*i,Zi*r+Qi*i),t.lineTo(Qi*a-Zi*o,Zi*a+Qi*o),t.lineTo(Qi*s-Zi*l,Zi*s+Qi*l),t.lineTo(Qi*r+Zi*i,Qi*i-Zi*r),t.lineTo(Qi*a+Zi*o,Qi*o-Zi*a),t.lineTo(Qi*s+Zi*l,Qi*l-Zi*s),t.closePath()}};function Nte(t,e){let n=null,r=OS(i);t=typeof t=="function"?t:bn(t||IS),e=typeof e=="function"?e:bn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:bn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:bn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function i0(){}function a0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function OI(t){this._context=t}OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:a0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:a0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ete(t){return new OI(t)}function jI(t){this._context=t}jI.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:a0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kte(t){return new jI(t)}function II(t){this._context=t}II.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:a0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pte(t){return new II(t)}function DI(t){this._context=t}DI.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Mte(t){return new DI(t)}function UE(t){return t<0?-1:1}function qE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(UE(a)+UE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function HE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function b1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function o0(t){this._context=t}o0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b1(this,this._t0,HE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,b1(this,HE(this,n=qE(this,t,e)),n);break;default:b1(this,this._t0,n=qE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LI(t){this._context=new RI(t)}(LI.prototype=Object.create(o0.prototype)).point=function(t,e){o0.prototype.point.call(this,e,t)};function RI(t){this._context=t}RI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Ote(t){return new o0(t)}function jte(t){return new LI(t)}function FI(t){this._context=t}FI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zE(t),i=zE(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zE(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Ite(t){return new FI(t)}function Yv(t,e){this._context=t,this._t=e}Yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Dte(t){return new Yv(t,.5)}function Lte(t){return new Yv(t,0)}function Rte(t){return new Yv(t,1)}function Sf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function P2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Fte(t,e){return t[e]}function $te(t){const e=[];return e.key=t,e}function Bte(){var t=bn([]),e=P2,n=Sf,r=Fte;function i(a){var o=Array.from(t.apply(this,arguments),$te),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=jS(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:bn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:bn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?P2:typeof a=="function"?a:bn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Sf,i):n},i}function Ute(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Sf(t,e)}}function qte(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Sf(t,e)}}function Hte(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,A=c[r-1][1]||0,p=(f-A)/2,y=0;y<s;++y){var x=t[e[y]],S=x[r][1]||0,v=x[r-1][1]||0;p+=S-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Sf(t,e)}}function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}var zte=["type","size","sizeType"];function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(this,arguments)}function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){Vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vte(t,e,n){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Wte(t,"string");return yp(e)=="symbol"?e:e+""}function Wte(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){if(t==null)return{};var n=Kte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $I={symbolCircle:IS,symbolCross:mte,symbolDiamond:vte,symbolSquare:yte,symbolStar:Ste,symbolTriangle:_te,symbolWye:Cte},Jte=Math.PI/180,Xte=function(e){var n="symbol".concat(Vv(e));return $I[n]||IS},Qte=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Jte;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zte=function(e,n){$I["symbol".concat(Vv(e))]=n},DS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Yte(e,zte),u=GE(GE({},l),{},{type:r,size:a,sizeType:s}),c=function(){var S=Xte(r),v=Nte().type(S).size(Qte(a,s,r));return v()},f=u.className,A=u.cx,p=u.cy,y=gt(u,!0);return A===+A&&p===+p&&a===+a?de.createElement("path",M2({},y,{className:kt("recharts-symbols",f),transform:"translate(".concat(A,", ").concat(p,")"),d:c()})):null};DS.registerSymbol=Zte;function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O2.apply(this,arguments)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ene(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UI(r.key),r)}}function rne(t,e,n){return e&&nne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ine(t,e,n){return e=s0(e),ane(t,BI()?Reflect.construct(e,n||[],s0(t).constructor):e.apply(t,n))}function ane(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return one(t)}function one(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BI=function(){return!!t})()}function s0(t){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s0(t)}function sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j2(t,e)}function j2(t,e){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j2(t,e)}function bp(t,e,n){return e=UI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UI(t){var e=lne(t,"string");return _f(e)=="symbol"?e:e+""}function lne(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ea=32,LS=function(t){function e(){return tne(this,e),ine(this,e,arguments)}return sne(e,t),rne(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ea/2,o=ea/6,s=ea/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ea,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ea,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ea/8,"h").concat(ea,"v").concat(ea*3/4,"h").concat(-ea,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var u=ene({},r);return delete u.legendIcon,de.cloneElement(r.legendIcon,u)}return de.createElement(DS,{fill:l,cx:a,cy:a,size:ea,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ea,height:ea},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var x=p.formatter||l,S=kt(bp(bp({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=yt(p.value)?null:p.value;Ba(!yt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return de.createElement("li",O2({className:S,style:f,key:"legend-item-".concat(y)},xu(r.props,p,y)),de.createElement(S2,{width:o,height:o,viewBox:c,style:A},r.renderIcon(p)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,p,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(re.PureComponent);bp(LS,"displayName","Legend");bp(LS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var une=Ov;function cne(){this.__data__=new une,this.size=0}var fne=cne;function dne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var hne=dne;function pne(t){return this.__data__.get(t)}var Ane=pne;function mne(t){return this.__data__.has(t)}var gne=mne,vne=Ov,yne=SS,bne=_S,xne=200;function wne(t,e){var n=this.__data__;if(n instanceof vne){var r=n.__data__;if(!yne||r.length<xne-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bne(r)}return n.set(t,e),this.size=n.size,this}var Sne=wne,_ne=Ov,Tne=fne,Cne=hne,Nne=Ane,Ene=gne,kne=Sne;function hd(t){var e=this.__data__=new _ne(t);this.size=e.size}hd.prototype.clear=Tne;hd.prototype.delete=Cne;hd.prototype.get=Nne;hd.prototype.has=Ene;hd.prototype.set=kne;var qI=hd,Pne="__lodash_hash_undefined__";function Mne(t){return this.__data__.set(t,Pne),this}var One=Mne;function jne(t){return this.__data__.has(t)}var Ine=jne,Dne=_S,Lne=One,Rne=Ine;function l0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Dne;++e<n;)this.add(t[e])}l0.prototype.add=l0.prototype.push=Lne;l0.prototype.has=Rne;var HI=l0;function Fne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var zI=Fne;function $ne(t,e){return t.has(e)}var VI=$ne,Bne=HI,Une=zI,qne=VI,Hne=1,zne=2;function Vne(t,e,n,r,i,a){var o=n&Hne,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,A=!0,p=n&zne?new Bne:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var y=t[f],x=e[f];if(r)var S=o?r(x,y,f,e,t,a):r(y,x,f,t,e,a);if(S!==void 0){if(S)continue;A=!1;break}if(p){if(!Une(e,function(v,b){if(!qne(p,b)&&(y===v||i(y,v,n,r,a)))return p.push(b)})){A=!1;break}}else if(!(y===x||i(y,x,n,r,a))){A=!1;break}}return a.delete(t),a.delete(e),A}var GI=Vne,Gne=mo,Wne=Gne.Uint8Array,Yne=Wne;function Kne(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Jne=Kne;function Xne(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var RS=Xne,YE=AA,KE=Yne,Qne=wS,Zne=GI,ere=Jne,tre=RS,nre=1,rre=2,ire="[object Boolean]",are="[object Date]",ore="[object Error]",sre="[object Map]",lre="[object Number]",ure="[object RegExp]",cre="[object Set]",fre="[object String]",dre="[object Symbol]",hre="[object ArrayBuffer]",pre="[object DataView]",JE=YE?YE.prototype:void 0,x1=JE?JE.valueOf:void 0;function Are(t,e,n,r,i,a,o){switch(n){case pre:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case hre:return!(t.byteLength!=e.byteLength||!a(new KE(t),new KE(e)));case ire:case are:case lre:return Qne(+t,+e);case ore:return t.name==e.name&&t.message==e.message;case ure:case fre:return t==e+"";case sre:var s=ere;case cre:var l=r&nre;if(s||(s=tre),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=rre,o.set(t,e);var c=Zne(s(t),s(e),r,i,a,o);return o.delete(t),c;case dre:if(x1)return x1.call(t)==x1.call(e)}return!1}var mre=Are;function gre(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var WI=gre,vre=WI,yre=Si;function bre(t,e,n){var r=e(t);return yre(t)?r:vre(r,n(t))}var xre=bre;function wre(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Sre=wre;function _re(){return[]}var Tre=_re,Cre=Sre,Nre=Tre,Ere=Object.prototype,kre=Ere.propertyIsEnumerable,XE=Object.getOwnPropertySymbols,Pre=XE?function(t){return t==null?[]:(t=Object(t),Cre(XE(t),function(e){return kre.call(t,e)}))}:Nre,Mre=Pre;function Ore(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var jre=Ore,Ire=ls,Dre=us,Lre="[object Arguments]";function Rre(t){return Dre(t)&&Ire(t)==Lre}var Fre=Rre,QE=Fre,$re=us,YI=Object.prototype,Bre=YI.hasOwnProperty,Ure=YI.propertyIsEnumerable,qre=QE(function(){return arguments}())?QE:function(t){return $re(t)&&Bre.call(t,"callee")&&!Ure.call(t,"callee")},FS=qre,u0={exports:{}};function Hre(){return!1}var zre=Hre;u0.exports;(function(t,e){var n=mo,r=zre,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(u0,u0.exports);var KI=u0.exports,Vre=9007199254740991,Gre=/^(?:0|[1-9]\d*)$/;function Wre(t,e){var n=typeof t;return e=e??Vre,!!e&&(n=="number"||n!="symbol"&&Gre.test(t))&&t>-1&&t%1==0&&t<e}var $S=Wre,Yre=9007199254740991;function Kre(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Yre}var BS=Kre,Jre=ls,Xre=BS,Qre=us,Zre="[object Arguments]",eie="[object Array]",tie="[object Boolean]",nie="[object Date]",rie="[object Error]",iie="[object Function]",aie="[object Map]",oie="[object Number]",sie="[object Object]",lie="[object RegExp]",uie="[object Set]",cie="[object String]",fie="[object WeakMap]",die="[object ArrayBuffer]",hie="[object DataView]",pie="[object Float32Array]",Aie="[object Float64Array]",mie="[object Int8Array]",gie="[object Int16Array]",vie="[object Int32Array]",yie="[object Uint8Array]",bie="[object Uint8ClampedArray]",xie="[object Uint16Array]",wie="[object Uint32Array]",Tn={};Tn[pie]=Tn[Aie]=Tn[mie]=Tn[gie]=Tn[vie]=Tn[yie]=Tn[bie]=Tn[xie]=Tn[wie]=!0;Tn[Zre]=Tn[eie]=Tn[die]=Tn[tie]=Tn[hie]=Tn[nie]=Tn[rie]=Tn[iie]=Tn[aie]=Tn[oie]=Tn[sie]=Tn[lie]=Tn[uie]=Tn[cie]=Tn[fie]=!1;function Sie(t){return Qre(t)&&Xre(t.length)&&!!Tn[Jre(t)]}var _ie=Sie;function Tie(t){return function(e){return t(e)}}var JI=Tie,c0={exports:{}};c0.exports;(function(t,e){var n=iI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(c0,c0.exports);var Cie=c0.exports,Nie=_ie,Eie=JI,ZE=Cie,ek=ZE&&ZE.isTypedArray,kie=ek?Eie(ek):Nie,XI=kie,Pie=jre,Mie=FS,Oie=Si,jie=KI,Iie=$S,Die=XI,Lie=Object.prototype,Rie=Lie.hasOwnProperty;function Fie(t,e){var n=Oie(t),r=!n&&Mie(t),i=!n&&!r&&jie(t),a=!n&&!r&&!i&&Die(t),o=n||r||i||a,s=o?Pie(t.length,String):[],l=s.length;for(var u in t)(e||Rie.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Iie(u,l)))&&s.push(u);return s}var $ie=Fie,Bie=Object.prototype;function Uie(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Bie;return t===n}var qie=Uie;function Hie(t,e){return function(n){return t(e(n))}}var QI=Hie,zie=QI,Vie=zie(Object.keys,Object),Gie=Vie,Wie=qie,Yie=Gie,Kie=Object.prototype,Jie=Kie.hasOwnProperty;function Xie(t){if(!Wie(t))return Yie(t);var e=[];for(var n in Object(t))Jie.call(t,n)&&n!="constructor"&&e.push(n);return e}var Qie=Xie,Zie=xS,eae=BS;function tae(t){return t!=null&&eae(t.length)&&!Zie(t)}var vA=tae,nae=$ie,rae=Qie,iae=vA;function aae(t){return iae(t)?nae(t):rae(t)}var Kv=aae,oae=xre,sae=Mre,lae=Kv;function uae(t){return oae(t,lae,sae)}var cae=uae,tk=cae,fae=1,dae=Object.prototype,hae=dae.hasOwnProperty;function pae(t,e,n,r,i,a){var o=n&fae,s=tk(t),l=s.length,u=tk(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var A=s[f];if(!(o?A in e:hae.call(e,A)))return!1}var p=a.get(t),y=a.get(e);if(p&&y)return p==e&&y==t;var x=!0;a.set(t,e),a.set(e,t);for(var S=o;++f<l;){A=s[f];var v=t[A],b=e[A];if(r)var w=o?r(b,v,A,e,t,a):r(v,b,A,t,e,a);if(!(w===void 0?v===b||i(v,b,n,r,a):w)){x=!1;break}S||(S=A=="constructor")}if(x&&!S){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(x=!1)}return a.delete(t),a.delete(e),x}var Aae=pae,mae=Iu,gae=mo,vae=mae(gae,"DataView"),yae=vae,bae=Iu,xae=mo,wae=bae(xae,"Promise"),Sae=wae,_ae=Iu,Tae=mo,Cae=_ae(Tae,"Set"),ZI=Cae,Nae=Iu,Eae=mo,kae=Nae(Eae,"WeakMap"),Pae=kae,I2=yae,D2=SS,L2=Sae,R2=ZI,F2=Pae,eD=ls,pd=oI,nk="[object Map]",Mae="[object Object]",rk="[object Promise]",ik="[object Set]",ak="[object WeakMap]",ok="[object DataView]",Oae=pd(I2),jae=pd(D2),Iae=pd(L2),Dae=pd(R2),Lae=pd(F2),Gl=eD;(I2&&Gl(new I2(new ArrayBuffer(1)))!=ok||D2&&Gl(new D2)!=nk||L2&&Gl(L2.resolve())!=rk||R2&&Gl(new R2)!=ik||F2&&Gl(new F2)!=ak)&&(Gl=function(t){var e=eD(t),n=e==Mae?t.constructor:void 0,r=n?pd(n):"";if(r)switch(r){case Oae:return ok;case jae:return nk;case Iae:return rk;case Dae:return ik;case Lae:return ak}return e});var Rae=Gl,w1=qI,Fae=GI,$ae=mre,Bae=Aae,sk=Rae,lk=Si,uk=KI,Uae=XI,qae=1,ck="[object Arguments]",fk="[object Array]",$m="[object Object]",Hae=Object.prototype,dk=Hae.hasOwnProperty;function zae(t,e,n,r,i,a){var o=lk(t),s=lk(e),l=o?fk:sk(t),u=s?fk:sk(e);l=l==ck?$m:l,u=u==ck?$m:u;var c=l==$m,f=u==$m,A=l==u;if(A&&uk(t)){if(!uk(e))return!1;o=!0,c=!1}if(A&&!c)return a||(a=new w1),o||Uae(t)?Fae(t,e,n,r,i,a):$ae(t,e,l,n,r,i,a);if(!(n&qae)){var p=c&&dk.call(t,"__wrapped__"),y=f&&dk.call(e,"__wrapped__");if(p||y){var x=p?t.value():t,S=y?e.value():e;return a||(a=new w1),i(x,S,n,r,a)}}return A?(a||(a=new w1),Bae(t,e,n,r,i,a)):!1}var Vae=zae,Gae=Vae,hk=us;function tD(t,e,n,r,i){return t===e?!0:t==null||e==null||!hk(t)&&!hk(e)?t!==t&&e!==e:Gae(t,e,n,r,tD,i)}var US=tD,Wae=qI,Yae=US,Kae=1,Jae=2;function Xae(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Wae;if(r)var A=r(u,c,l,t,e,f);if(!(A===void 0?Yae(c,u,Kae|Jae,r,f):A))return!1}}return!0}var Qae=Xae,Zae=vl;function eoe(t){return t===t&&!Zae(t)}var nD=eoe,toe=nD,noe=Kv;function roe(t){for(var e=noe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,toe(i)]}return e}var ioe=roe;function aoe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var rD=aoe,ooe=Qae,soe=ioe,loe=rD;function uoe(t){var e=soe(t);return e.length==1&&e[0][2]?loe(e[0][0],e[0][1]):function(n){return n===t||ooe(n,t,e)}}var coe=uoe;function foe(t,e){return t!=null&&e in Object(t)}var doe=foe,hoe=fI,poe=FS,Aoe=Si,moe=$S,goe=BS,voe=Iv;function yoe(t,e,n){e=hoe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=voe(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&goe(i)&&moe(o,i)&&(Aoe(t)||poe(t)))}var boe=yoe,xoe=doe,woe=boe;function Soe(t,e){return t!=null&&woe(t,e,xoe)}var _oe=Soe,Toe=US,Coe=dI,Noe=_oe,Eoe=bS,koe=nD,Poe=rD,Moe=Iv,Ooe=1,joe=2;function Ioe(t,e){return Eoe(t)&&koe(e)?Poe(Moe(t),e):function(n){var r=Coe(n,t);return r===void 0&&r===e?Noe(n,t):Toe(e,r,Ooe|joe)}}var Doe=Ioe;function Loe(t){return t}var Ad=Loe;function Roe(t){return function(e){return e==null?void 0:e[t]}}var Foe=Roe,$oe=NS;function Boe(t){return function(e){return $oe(e,t)}}var Uoe=Boe,qoe=Foe,Hoe=Uoe,zoe=bS,Voe=Iv;function Goe(t){return zoe(t)?qoe(Voe(t)):Hoe(t)}var Woe=Goe,Yoe=coe,Koe=Doe,Joe=Ad,Xoe=Si,Qoe=Woe;function Zoe(t){return typeof t=="function"?t:t==null?Joe:typeof t=="object"?Xoe(t)?Koe(t[0],t[1]):Yoe(t):Qoe(t)}var go=Zoe;function ese(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var iD=ese;function tse(t){return t!==t}var nse=tse;function rse(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var ise=rse,ase=iD,ose=nse,sse=ise;function lse(t,e,n){return e===e?sse(t,e,n):ase(t,ose,n)}var use=lse,cse=use;function fse(t,e){var n=t==null?0:t.length;return!!n&&cse(t,e,0)>-1}var dse=fse;function hse(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var pse=hse;function Ase(){}var mse=Ase,S1=ZI,gse=mse,vse=RS,yse=1/0,bse=S1&&1/vse(new S1([,-0]))[1]==yse?function(t){return new S1(t)}:gse,xse=bse,wse=HI,Sse=dse,_se=pse,Tse=VI,Cse=xse,Nse=RS,Ese=200;function kse(t,e,n){var r=-1,i=Sse,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=_se;else if(a>=Ese){var u=e?null:Cse(t);if(u)return Nse(u);o=!1,i=Tse,l=new wse}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var A=l.length;A--;)if(l[A]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Pse=kse,Mse=go,Ose=Pse;function jse(t,e){return t&&t.length?Ose(t,Mse(e)):[]}var Ise=jse;const pk=Wt(Ise);function aD(t,e,n){return e===!0?pk(t,n):yt(e)?pk(t,e):t}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var Dse=["ref"];function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){Jv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function Rse(t,e,n){return e&&mk(t.prototype,e),n&&mk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fse(t,e,n){return e=f0(e),$se(t,oD()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function $se(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bse(t)}function Bse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function Use(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$2(t,e)}function $2(t,e){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$2(t,e)}function Jv(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sD(t){var e=qse(t,"string");return Tf(e)=="symbol"?e:e+""}function qse(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hse(t,e){if(t==null)return{};var n=zse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vse(t){return t.value}function Gse(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var n=Hse(e,Dse);return de.createElement(LS,n)}var gk=1,ol=function(t){function e(){var n;Lse(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Fse(this,e,[].concat(i)),Jv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Use(e,t),Rse(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gk||Math.abs(i.height-this.lastBoundingBox.height)>gk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,A;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();A={top:((c||0)-y.height)/2}}else A=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Io(Io({},f),A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Io(Io({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Gse(a,Io(Io({},this.props),{},{payload:aD(c,u,Vse)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Io(Io({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ye(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(re.PureComponent);Jv(ol,"displayName","Legend");Jv(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var vk=AA,Wse=FS,Yse=Si,yk=vk?vk.isConcatSpreadable:void 0;function Kse(t){return Yse(t)||Wse(t)||!!(yk&&t&&t[yk])}var Jse=Kse,Xse=WI,Qse=Jse;function lD(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Qse),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?lD(s,e-1,n,r,i):Xse(i,s):r||(i[i.length]=s)}return i}var uD=lD;function Zse(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var ele=Zse,tle=ele,nle=tle(),rle=nle,ile=rle,ale=Kv;function ole(t,e){return t&&ile(t,e,ale)}var cD=ole,sle=vA;function lle(t,e){return function(n,r){if(n==null)return n;if(!sle(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ule=lle,cle=cD,fle=ule,dle=fle(cle),qS=dle,hle=qS,ple=vA;function Ale(t,e){var n=-1,r=ple(t)?Array(t.length):[];return hle(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var fD=Ale;function mle(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var gle=mle,bk=ld;function vle(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=bk(t),o=e!==void 0,s=e===null,l=e===e,u=bk(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var yle=vle,ble=yle;function xle(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=ble(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var wle=xle,_1=CS,Sle=NS,_le=go,Tle=fD,Cle=gle,Nle=JI,Ele=wle,kle=Ad,Ple=Si;function Mle(t,e,n){e.length?e=_1(e,function(a){return Ple(a)?function(o){return Sle(o,a.length===1?a[0]:a)}:a}):e=[kle];var r=-1;e=_1(e,Nle(_le));var i=Tle(t,function(a,o,s){var l=_1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Cle(i,function(a,o){return Ele(a,o,n)})}var Ole=Mle;function jle(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ile=jle,Dle=Ile,xk=Math.max;function Lle(t,e,n){return e=xk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=xk(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Dle(t,this,s)}}var Rle=Lle;function Fle(t){return function(){return t}}var $le=Fle,Ble=Iu,Ule=function(){try{var t=Ble(Object,"defineProperty");return t({},"",{}),t}catch{}}(),dD=Ule,qle=$le,wk=dD,Hle=Ad,zle=wk?function(t,e){return wk(t,"toString",{configurable:!0,enumerable:!1,value:qle(e),writable:!0})}:Hle,Vle=zle,Gle=800,Wle=16,Yle=Date.now;function Kle(t){var e=0,n=0;return function(){var r=Yle(),i=Wle-(r-n);if(n=r,i>0){if(++e>=Gle)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Jle=Kle,Xle=Vle,Qle=Jle,Zle=Qle(Xle),eue=Zle,tue=Ad,nue=Rle,rue=eue;function iue(t,e){return rue(nue(t,e,tue),t+"")}var aue=iue,oue=wS,sue=vA,lue=$S,uue=vl;function cue(t,e,n){if(!uue(n))return!1;var r=typeof e;return(r=="number"?sue(n)&&lue(e,n.length):r=="string"&&e in n)?oue(n[e],t):!1}var Xv=cue,fue=uD,due=Ole,hue=aue,Sk=Xv,pue=hue(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Sk(t,e[0],e[1])?e=[]:n>2&&Sk(e[0],e[1],e[2])&&(e=[e[0]]),due(t,fue(e,1),[])}),Aue=pue;const HS=Wt(Aue);function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B2.apply(this,arguments)}function mue(t,e){return bue(t)||yue(t,e)||vue(t,e)||gue()}function gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(t,e){if(t){if(typeof t=="string")return _k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _k(t,e)}}function _k(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function bue(t){if(Array.isArray(t))return t}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){xue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xue(t,e,n){return e=wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=Sue(t,"string");return xp(e)=="symbol"?e:e+""}function Sue(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ue(t){return Array.isArray(t)&&gr(t[0])&&gr(t[1])?t.join(" ~ "):t}var Tue=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,A=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,x=e.label,S=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(c&&c.length){var j={padding:0,margin:0},$=(A?HS(c,A):c).map(function(F,H){if(F.type==="none")return null;var R=T1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),B=F.formatter||f||_ue,W=F.value,K=F.name,Z=W,se=K;if(B&&Z!=null&&se!=null){var L=B(W,K,F,H,c);if(Array.isArray(L)){var z=mue(L,2);Z=z[0],se=z[1]}else Z=L}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:R},gr(se)?de.createElement("span",{className:"recharts-tooltip-item-name"},se):null,gr(se)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},Z),de.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:j},$)}return null},T=T1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=T1({margin:0},u),k=!Ot(x),E=k?x:"",M=kt("recharts-default-tooltip",p),I=kt("recharts-tooltip-label",y);k&&S&&c!==void 0&&c!==null&&(E=S(x,c));var U=b?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",B2({className:M,style:T},U),de.createElement("p",{className:I,style:C},de.isValidElement(E)?E:"".concat(E)),w())};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Bm(t,e,n){return e=Cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Nue(t,"string");return wp(e)=="symbol"?e:e+""}function Nue(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ch="recharts-tooltip-wrapper",Eue={visibility:"hidden"};function kue(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return kt(ch,Bm(Bm(Bm(Bm({},"".concat(ch,"-right"),Ye(n)&&e&&Ye(e.x)&&n>=e.x),"".concat(ch,"-left"),Ye(n)&&e&&Ye(e.x)&&n<e.x),"".concat(ch,"-bottom"),Ye(r)&&e&&Ye(e.y)&&r>=e.y),"".concat(ch,"-top"),Ye(r)&&e&&Ye(e.y)&&r<e.y))}function Ck(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ye(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var A=c,p=l[r];return A<p?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+s,x=l[r]+u;return y>x?Math.max(c,l[r]):Math.max(f,l[r])}function Pue(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Mue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=Ck({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Ck({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Pue({translateX:c,translateY:f,useTranslate3d:s})):u=Eue,{cssProperties:u,cssClasses:kue({translateX:c,translateY:f,coordinate:n})}}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){q2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pD(r.key),r)}}function Iue(t,e,n){return e&&jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Due(t,e,n){return e=d0(e),Lue(t,hD()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function Lue(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rue(t)}function Rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hD=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function Fue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U2(t,e)}function U2(t,e){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U2(t,e)}function q2(t,e,n){return e=pD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pD(t){var e=$ue(t,"string");return Cf(e)=="symbol"?e:e+""}function $ue(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kk=1,Bue=function(t){function e(){var n;Oue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Due(this,e,[].concat(i)),q2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),q2(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Fue(e,t),Iue(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>kk||Math.abs(r.height-this.state.lastBoundingBox.height)>kk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,A=i.isAnimationActive,p=i.offset,y=i.position,x=i.reverseDirection,S=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,w=Mue({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:S,viewBox:v}),T=w.cssClasses,C=w.cssProperties,k=Ek(Ek({transition:A&&a?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return de.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(M){r.wrapperNode=M}},u)}}])}(re.PureComponent),Uue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},md={isSsr:Uue()};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){zS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function zue(t,e,n){return e&&Hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t,e,n){return e=h0(e),Gue(t,AD()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function Gue(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wue(t)}function Wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AD=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function Yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H2(t,e)}function H2(t,e){return H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H2(t,e)}function zS(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=Kue(t,"string");return Nf(e)=="symbol"?e:e+""}function Kue(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jue(t){return t.dataKey}function Xue(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(Tue,e)}var La=function(t){function e(){return que(this,e),Vue(this,e,arguments)}return Yue(e,t),zue(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,A=i.isAnimationActive,p=i.offset,y=i.payload,x=i.payloadUniqBy,S=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,T=i.wrapperStyle,C=y??[];f&&C.length&&(C=aD(y.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),x,Jue));var k=C.length>0;return de.createElement(Bue,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:A,active:a,coordinate:c,hasPayload:k,offset:p,position:S,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:T},Xue(u,Mk(Mk({},this.props),{},{payload:C})))}}])}(re.PureComponent);zS(La,"displayName","Tooltip");zS(La,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!md.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Que=mo,Zue=function(){return Que.Date.now()},ece=Zue,tce=/\s/;function nce(t){for(var e=t.length;e--&&tce.test(t.charAt(e)););return e}var rce=nce,ice=rce,ace=/^\s+/;function oce(t){return t&&t.slice(0,ice(t)+1).replace(ace,"")}var sce=oce,lce=sce,Ok=vl,uce=ld,jk=NaN,cce=/^[-+]0x[0-9a-f]+$/i,fce=/^0b[01]+$/i,dce=/^0o[0-7]+$/i,hce=parseInt;function pce(t){if(typeof t=="number")return t;if(uce(t))return jk;if(Ok(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ok(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lce(t);var n=fce.test(t);return n||dce.test(t)?hce(t.slice(2),n?2:8):cce.test(t)?jk:+t}var gD=pce,Ace=vl,C1=ece,Ik=gD,mce="Expected a function",gce=Math.max,vce=Math.min;function yce(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,A=!0;if(typeof t!="function")throw new TypeError(mce);e=Ik(e)||0,Ace(n)&&(c=!!n.leading,f="maxWait"in n,a=f?gce(Ik(n.maxWait)||0,e):a,A="trailing"in n?!!n.trailing:A);function p(k){var E=r,M=i;return r=i=void 0,u=k,o=t.apply(M,E),o}function y(k){return u=k,s=setTimeout(v,e),c?p(k):o}function x(k){var E=k-l,M=k-u,I=e-E;return f?vce(I,a-M):I}function S(k){var E=k-l,M=k-u;return l===void 0||E>=e||E<0||f&&M>=a}function v(){var k=C1();if(S(k))return b(k);s=setTimeout(v,x(k))}function b(k){return s=void 0,A&&r?p(k):(r=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?o:b(C1())}function C(){var k=C1(),E=S(k);if(r=arguments,i=this,l=k,E){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),o}return C.cancel=w,C.flush=T,C}var bce=yce,xce=bce,wce=vl,Sce="Expected a function";function _ce(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Sce);return wce(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xce(t,e,{leading:r,maxWait:e,trailing:i})}var Tce=_ce;const vD=Wt(Tce);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return e=Nce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=Ece(t,"string");return Sp(e)=="symbol"?e:e+""}function Ece(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kce(t,e){return jce(t)||Oce(t,e)||Mce(t,e)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mce(t,e){if(t){if(typeof t=="string")return Lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lk(t,e)}}function Lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jce(t){if(Array.isArray(t))return t}var Rk=re.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,A=t.maxHeight,p=t.children,y=t.debounce,x=y===void 0?0:y,S=t.id,v=t.className,b=t.onResize,w=t.style,T=w===void 0?{}:w,C=re.useRef(null),k=re.useRef();k.current=b,re.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=re.useState({containerWidth:i.width,containerHeight:i.height}),M=kce(E,2),I=M[0],U=M[1],O=re.useCallback(function($,F){U(function(H){var R=Math.round($),B=Math.round(F);return H.containerWidth===R&&H.containerHeight===B?H:{containerWidth:R,containerHeight:B}})},[]);re.useEffect(function(){var $=function(K){var Z,se=K[0].contentRect,L=se.width,z=se.height;O(L,z),(Z=k.current)===null||Z===void 0||Z.call(k,L,z)};x>0&&($=vD($,x,{trailing:!0,leading:!1}));var F=new ResizeObserver($),H=C.current.getBoundingClientRect(),R=H.width,B=H.height;return O(R,B),F.observe(C.current),function(){F.disconnect()}},[O,x]);var j=re.useMemo(function(){var $=I.containerWidth,F=I.containerHeight;if($<0||F<0)return null;Ba(Zl(o)||Zl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ba(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Zl(o)?$:o,R=Zl(l)?F:l;n&&n>0&&(H?R=H/n:R&&(H=R*n),A&&R>A&&(R=A)),Ba(H>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,R,o,l,c,f,n);var B=!Array.isArray(p)&&Ko(p.type).endsWith("Chart");return de.Children.map(p,function(W){return de.isValidElement(W)?re.cloneElement(W,Um({width:H,height:R},B?{style:Um({height:"100%",width:"100%",maxHeight:R,maxWidth:H},W.props.style)}:{})):W})},[n,p,l,A,f,c,I,o]);return de.createElement("div",{id:S?"".concat(S):void 0,className:kt("recharts-responsive-container",v),style:Um(Um({},T),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:A}),ref:C},j)}),Qv=function(e){return null};Qv.displayName="Cell";function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){Ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ice(t,e,n){return e=Dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dce(t){var e=Lce(t,"string");return _p(e)=="symbol"?e:e+""}function Lce(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vc={widthCache:{},cacheCount:0},Rce=2e3,Fce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$k="recharts_measurement_span";function $ce(t){var e=z2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Yh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||md.isSsr)return{width:0,height:0};var r=$ce(n),i=JSON.stringify({text:e,copyStyle:r});if(vc.widthCache[i])return vc.widthCache[i];try{var a=document.getElementById($k);a||(a=document.createElement("span"),a.setAttribute("id",$k),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=z2(z2({},Fce),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return vc.widthCache[i]=l,++vc.cacheCount>Rce&&(vc.cacheCount=0,vc.widthCache={}),l}catch{return{width:0,height:0}}},Bce=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function p0(t,e){return zce(t)||Hce(t,e)||qce(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t,e){if(t){if(typeof t=="string")return Bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bk(t,e)}}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zce(t){if(Array.isArray(t))return t}function Vce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wce(r.key),r)}}function Gce(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wce(t){var e=Yce(t,"string");return Tp(e)=="symbol"?e:e+""}function Yce(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xce=Object.keys(yD),Wc="NaN";function Qce(t,e){return t*yD[e]}var qm=function(){function t(e,n){Vce(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Kce.test(n)&&(this.num=NaN,this.unit=""),Xce.includes(n)&&(this.num=Qce(e,n),this.unit="px")}return Gce(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Jce.exec(n))!==null&&r!==void 0?r:[],a=p0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function bD(t){if(t.includes(Wc))return Wc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=qk.exec(e))!==null&&n!==void 0?n:[],i=p0(r,4),a=i[1],o=i[2],s=i[3],l=qm.parse(a??""),u=qm.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Wc;e=e.replace(qk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,A=(f=Hk.exec(e))!==null&&f!==void 0?f:[],p=p0(A,4),y=p[1],x=p[2],S=p[3],v=qm.parse(y??""),b=qm.parse(S??""),w=x==="+"?v.add(b):v.subtract(b);if(w.isNaN())return Wc;e=e.replace(Hk,w.toString())}return e}var zk=/\(([^()]*)\)/;function Zce(t){for(var e=t;e.includes("(");){var n=zk.exec(e),r=p0(n,2),i=r[1];e=e.replace(zk,bD(i))}return e}function efe(t){var e=t.replace(/\s+/g,"");return e=Zce(e),e=bD(e),e}function tfe(t){try{return efe(t)}catch{return Wc}}function N1(t){var e=tfe(t.slice(5,-1));return e===Wc?"":e}var nfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rfe=["dx","dy","angle","className","breakAll"];function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(this,arguments)}function Vk(t,e){if(t==null)return{};var n=ife(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gk(t,e){return lfe(t)||sfe(t,e)||ofe(t,e)||afe()}function afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ofe(t,e){if(t){if(typeof t=="string")return Wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wk(t,e)}}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function lfe(t){if(Array.isArray(t))return t}var xD=/[ \f\n\r\t\v\u2028\u2029]+/,wD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ot(n)||(r?a=n.toString().split(""):a=n.toString().split(xD));var o=a.map(function(l){return{word:l,width:Yh(l,i).width}}),s=r?0:Yh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},ufe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Ye(o),f=s,A=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(R,B){var W=B.word,K=B.width,Z=R[R.length-1];if(Z&&(i==null||a||Z.width+K+r<Number(i)))Z.words.push(W),Z.width+=K+r;else{var se={words:[W],width:K};R.push(se)}return R},[])},p=A(n),y=function(H){return H.reduce(function(R,B){return R.width>B.width?R:B})};if(!c)return p;for(var x="",S=function(H){var R=f.slice(0,H),B=wD({breakAll:u,style:l,children:R+x}).wordsWithComputedWidth,W=A(B),K=W.length>o||y(W).width>Number(i);return[K,W]},v=0,b=f.length-1,w=0,T;v<=b&&w<=f.length-1;){var C=Math.floor((v+b)/2),k=C-1,E=S(k),M=Gk(E,2),I=M[0],U=M[1],O=S(C),j=Gk(O,1),$=j[0];if(!I&&!$&&(v=C+1),I&&$&&(b=C-1),!I&&$){T=U;break}w++}return T||p},Yk=function(e){var n=Ot(e)?[]:e.toString().split(xD);return[{words:n}]},cfe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!md.isSsr){var l,u,c=wD({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,A=c.spaceWidth;l=f,u=A}else return Yk(i);return ufe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return Yk(i)},Kk="#808080",wu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,A=e.textAnchor,p=A===void 0?"start":A,y=e.verticalAnchor,x=y===void 0?"end":y,S=e.fill,v=S===void 0?Kk:S,b=Vk(e,nfe),w=re.useMemo(function(){return cfe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),T=b.dx,C=b.dy,k=b.angle,E=b.className,M=b.breakAll,I=Vk(b,rfe);if(!gr(r)||!gr(a))return null;var U=r+(Ye(T)?T:0),O=a+(Ye(C)?C:0),j;switch(x){case"start":j=N1("calc(".concat(u,")"));break;case"middle":j=N1("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=N1("calc(".concat(w.length-1," * -").concat(s,")"));break}var $=[];if(f){var F=w[0].width,H=b.width;$.push("scale(".concat((Ye(H)?H/F:1)/F,")"))}return k&&$.push("rotate(".concat(k,", ").concat(U,", ").concat(O,")")),$.length&&(I.transform=$.join(" ")),de.createElement("text",V2({},gt(I,!0),{x:U,y:O,className:kt("recharts-text",E),textAnchor:p,fill:v.includes("url")?Kk:v}),w.map(function(R,B){var W=R.words.join(M?"":" ");return de.createElement("tspan",{x:U,dy:B===0?j:s,key:"".concat(W,"-").concat(B)},W)}))};function sl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ffe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VS(t){let e,n,r;t.length!==2?(e=sl,n=(s,l)=>sl(t(s),l),r=(s,l)=>t(s)-l):(e=t===sl||t===ffe?t:dfe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function dfe(){return 0}function SD(t){return t===null?NaN:+t}function*hfe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pfe=VS(sl),yA=pfe.right;VS(SD).center;class Jk extends Map{constructor(e,n=gfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Xk(this,e))}has(e){return super.has(Xk(this,e))}set(e,n){return super.set(Afe(this,e),n)}delete(e){return super.delete(mfe(this,e))}}function Xk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Afe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function mfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function vfe(t=sl){if(t===sl)return _D;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _D(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yfe=Math.sqrt(50),bfe=Math.sqrt(10),xfe=Math.sqrt(2);function A0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=yfe?10:a>=bfe?5:a>=xfe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?A0(t,e,n*2):[s,l,u]}function G2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?A0(e,t,n):A0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function W2(t,e,n){return e=+e,t=+t,n=+n,A0(t,e,n)[2]}function Y2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?W2(e,t,n):W2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Qk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Zk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function TD(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_D:vfe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),A=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+A)),y=Math.min(r,Math.floor(e+(l-u)*f/l+A));TD(t,e,p,y,i)}const a=t[e];let o=n,s=r;for(fh(t,n,e),i(t[r],a)>0&&fh(t,n,r);o<s;){for(fh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?fh(t,n,s):(++s,fh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function fh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wfe(t,e,n){if(t=Float64Array.from(hfe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Zk(t);if(e>=1)return Qk(t);var r,i=(r-1)*e,a=Math.floor(i),o=Qk(TD(t,a).subarray(0,a+1)),s=Zk(t.subarray(a+1));return o+(s-o)*(i-a)}}function Sfe(t,e,n=SD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function _fe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ya(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function cs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K2=Symbol("implicit");function GS(){var t=new Jk,e=[],n=[],r=K2;function i(a){let o=t.get(a);if(o===void 0){if(r!==K2)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Jk;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GS(e,n).unknown(r)},ya.apply(i,arguments),i}function Cp(){var t=GS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var A=e().length,p=i<r,y=p?i:r,x=p?r:i;a=(x-y)/Math.max(1,A-l+u*2),s&&(a=Math.floor(a)),y+=(x-y-a*(A-l))*c,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var S=_fe(A).map(function(v){return y+a*v});return n(p?S.reverse():S)}return t.domain=function(A){return arguments.length?(e(A),f()):e()},t.range=function(A){return arguments.length?([r,i]=A,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(A){return[r,i]=A,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(A){return arguments.length?(s=!!A,f()):s},t.padding=function(A){return arguments.length?(l=Math.min(1,u=+A),f()):l},t.paddingInner=function(A){return arguments.length?(l=Math.min(1,A),f()):l},t.paddingOuter=function(A){return arguments.length?(u=+A,f()):u},t.align=function(A){return arguments.length?(c=Math.max(0,Math.min(1,A)),f()):c},t.copy=function(){return Cp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ya.apply(f(),arguments)}function CD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return CD(e())},t}function Kh(){return CD(Cp.apply(null,arguments).paddingInner(1))}function WS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ND(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bA(){}var Np=.7,m0=1/Np,cf="\\s*([+-]?\\d+)\\s*",Ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tfe=/^#([0-9a-f]{3,8})$/,Cfe=new RegExp(`^rgb\\(${cf},${cf},${cf}\\)$`),Nfe=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),Efe=new RegExp(`^rgba\\(${cf},${cf},${cf},${Ep}\\)$`),kfe=new RegExp(`^rgba\\(${uo},${uo},${uo},${Ep}\\)$`),Pfe=new RegExp(`^hsl\\(${Ep},${uo},${uo}\\)$`),Mfe=new RegExp(`^hsla\\(${Ep},${uo},${uo},${Ep}\\)$`),e4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};WS(bA,kp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:t4,formatHex:t4,formatHex8:Ofe,formatHsl:jfe,formatRgb:n4,toString:n4});function t4(){return this.rgb().formatHex()}function Ofe(){return this.rgb().formatHex8()}function jfe(){return ED(this).formatHsl()}function n4(){return this.rgb().formatRgb()}function kp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?r4(e):n===3?new vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cfe.exec(t))?new vi(e[1],e[2],e[3],1):(e=Nfe.exec(t))?new vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Efe.exec(t))?Hm(e[1],e[2],e[3],e[4]):(e=kfe.exec(t))?Hm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pfe.exec(t))?o4(e[1],e[2]/100,e[3]/100,1):(e=Mfe.exec(t))?o4(e[1],e[2]/100,e[3]/100,e[4]):e4.hasOwnProperty(t)?r4(e4[t]):t==="transparent"?new vi(NaN,NaN,NaN,0):null}function r4(t){return new vi(t>>16&255,t>>8&255,t&255,1)}function Hm(t,e,n,r){return r<=0&&(t=e=n=NaN),new vi(t,e,n,r)}function Ife(t){return t instanceof bA||(t=kp(t)),t?(t=t.rgb(),new vi(t.r,t.g,t.b,t.opacity)):new vi}function J2(t,e,n,r){return arguments.length===1?Ife(t):new vi(t,e,n,r??1)}function vi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}WS(vi,J2,ND(bA,{brighter(t){return t=t==null?m0:Math.pow(m0,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Np:Math.pow(Np,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vi(du(this.r),du(this.g),du(this.b),g0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i4,formatHex:i4,formatHex8:Dfe,formatRgb:a4,toString:a4}));function i4(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}`}function Dfe(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}${eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function a4(){const t=g0(this.opacity);return`${t===1?"rgb(":"rgba("}${du(this.r)}, ${du(this.g)}, ${du(this.b)}${t===1?")":`, ${t})`}`}function g0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function du(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eu(t){return t=du(t),(t<16?"0":"")+t.toString(16)}function o4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $a(t,e,n,r)}function ED(t){if(t instanceof $a)return new $a(t.h,t.s,t.l,t.opacity);if(t instanceof bA||(t=kp(t)),!t)return new $a;if(t instanceof $a)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new $a(o,s,l,t.opacity)}function Lfe(t,e,n,r){return arguments.length===1?ED(t):new $a(t,e,n,r??1)}function $a(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}WS($a,Lfe,ND(bA,{brighter(t){return t=t==null?m0:Math.pow(m0,t),new $a(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Np:Math.pow(Np,t),new $a(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vi(E1(t>=240?t-240:t+120,i,r),E1(t,i,r),E1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $a(s4(this.h),zm(this.s),zm(this.l),g0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=g0(this.opacity);return`${t===1?"hsl(":"hsla("}${s4(this.h)}, ${zm(this.s)*100}%, ${zm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function s4(t){return t=(t||0)%360,t<0?t+360:t}function zm(t){return Math.max(0,Math.min(1,t||0))}function E1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const YS=t=>()=>t;function Rfe(t,e){return function(n){return t+n*e}}function Ffe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $fe(t){return(t=+t)==1?kD:function(e,n){return n-e?Ffe(e,n,t):YS(isNaN(e)?n:e)}}function kD(t,e){var n=e-t;return n?Rfe(t,n):YS(isNaN(t)?e:t)}const l4=function t(e){var n=$fe(e);function r(i,a){var o=n((i=J2(i)).r,(a=J2(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=kD(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Bfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ufe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=gd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Hfe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function v0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var X2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k1=new RegExp(X2.source,"g");function Vfe(t){return function(){return t}}function Gfe(t){return function(e){return t(e)+""}}function Wfe(t,e){var n=X2.lastIndex=k1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=X2.exec(t))&&(i=k1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:v0(r,i)})),n=k1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Gfe(l[0].x):Vfe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function gd(t,e){var n=typeof e,r;return e==null||n==="boolean"?YS(e):(n==="number"?v0:n==="string"?(r=kp(e))?(e=r,l4):Wfe:e instanceof kp?l4:e instanceof Date?Hfe:Ufe(e)?Bfe:Array.isArray(e)?qfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zfe:v0)(t,e)}function KS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Yfe(t,e){e===void 0&&(e=t,t=gd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Kfe(t){return function(){return t}}function y0(t){return+t}var u4=[0,1];function ni(t){return t}function Q2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Kfe(isNaN(e)?NaN:.5)}function Jfe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Xfe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Q2(i,r),a=n(o,a)):(r=Q2(r,i),a=n(a,o)),function(s){return a(r(s))}}function Qfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Q2(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=yA(t,s,1,r)-1;return a[l](i[l](s))}}function xA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zv(){var t=u4,e=u4,n=gd,r,i,a,o=ni,s,l,u;function c(){var A=Math.min(t.length,e.length);return o!==ni&&(o=Jfe(t[0],t[A-1])),s=A>2?Qfe:Xfe,l=u=null,f}function f(A){return A==null||isNaN(A=+A)?a:(l||(l=s(t.map(r),e,n)))(r(o(A)))}return f.invert=function(A){return o(i((u||(u=s(e,t.map(r),v0)))(A)))},f.domain=function(A){return arguments.length?(t=Array.from(A,y0),c()):t.slice()},f.range=function(A){return arguments.length?(e=Array.from(A),c()):e.slice()},f.rangeRound=function(A){return e=Array.from(A),n=KS,c()},f.clamp=function(A){return arguments.length?(o=A?!0:ni,c()):o!==ni},f.interpolate=function(A){return arguments.length?(n=A,c()):n},f.unknown=function(A){return arguments.length?(a=A,f):a},function(A,p){return r=A,i=p,c()}}function JS(){return Zv()(ni,ni)}function Zfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function b0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ef(t){return t=b0(Math.abs(t)),t?t[1]:NaN}function ede(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function tde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pp(t){if(!(e=nde.exec(t)))throw new Error("invalid format: "+t);var e;return new XS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pp.prototype=XS.prototype;function XS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}XS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var PD;function ide(t,e){var n=b0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(PD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+b0(t,Math.max(0,e+a-1))[0]}function c4(t,e){var n=b0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const f4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>c4(t*100,e),r:c4,s:ide,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function d4(t){return t}var h4=Array.prototype.map,p4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ade(t){var e=t.grouping===void 0||t.thousands===void 0?d4:ede(h4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?d4:tde(h4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Pp(f);var A=f.fill,p=f.align,y=f.sign,x=f.symbol,S=f.zero,v=f.width,b=f.comma,w=f.precision,T=f.trim,C=f.type;C==="n"?(b=!0,C="g"):f4[C]||(w===void 0&&(w=12),T=!0,C="g"),(S||A==="0"&&p==="=")&&(S=!0,A="0",p="=");var k=x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=x==="$"?r:/[%p]/.test(C)?o:"",M=f4[C],I=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(O){var j=k,$=E,F,H,R;if(C==="c")$=M(O)+$,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?l:M(Math.abs(O),w),T&&(O=rde(O)),B&&+O==0&&y!=="+"&&(B=!1),j=(B?y==="("?y:s:y==="-"||y==="("?"":y)+j,$=(C==="s"?p4[8+PD/3]:"")+$+(B&&y==="("?")":""),I){for(F=-1,H=O.length;++F<H;)if(R=O.charCodeAt(F),48>R||R>57){$=(R===46?i+O.slice(F+1):O.slice(F))+$,O=O.slice(0,F);break}}}b&&!S&&(O=e(O,1/0));var W=j.length+O.length+$.length,K=W<v?new Array(v-W+1).join(A):"";switch(b&&S&&(O=e(K+O,K.length?v-$.length:1/0),K=""),p){case"<":O=j+O+$+K;break;case"=":O=j+K+O+$;break;case"^":O=K.slice(0,W=K.length>>1)+j+O+$+K.slice(W);break;default:O=K+j+O+$;break}return a(O)}return U.toString=function(){return f+""},U}function c(f,A){var p=u((f=Pp(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ef(A)/3)))*3,x=Math.pow(10,-y),S=p4[8+y/3];return function(v){return p(x*v)+S}}return{format:u,formatPrefix:c}}var Vm,QS,MD;ode({thousands:",",grouping:[3],currency:["$",""]});function ode(t){return Vm=ade(t),QS=Vm.format,MD=Vm.formatPrefix,Vm}function sde(t){return Math.max(0,-Ef(Math.abs(t)))}function lde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ef(e)/3)))*3-Ef(Math.abs(t)))}function ude(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ef(e)-Ef(t))+1}function OD(t,e,n,r){var i=Y2(t,e,n),a;switch(r=Pp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=lde(i,o))&&(r.precision=a),MD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ude(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=sde(i))&&(r.precision=a-(r.type==="%")*2);break}}return QS(r)}function yl(t){var e=t.domain;return t.ticks=function(n){var r=e();return G2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return OD(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=W2(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function x0(){var t=JS();return t.copy=function(){return xA(t,x0())},ya.apply(t,arguments),yl(t)}function jD(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,y0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jD(t).unknown(e)},t=arguments.length?Array.from(t,y0):[0,1],yl(n)}function ID(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function A4(t){return Math.log(t)}function m4(t){return Math.exp(t)}function cde(t){return-Math.log(-t)}function fde(t){return-Math.exp(-t)}function dde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hde(t){return t===10?dde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function g4(t){return(e,n)=>-t(-e,n)}function ZS(t){const e=t(A4,m4),n=e.domain;let r=10,i,a;function o(){return i=pde(r),a=hde(r),n()[0]<0?(i=g4(i),a=g4(a),t(cde,fde)):t(A4,m4),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let A=i(u),p=i(c),y,x;const S=s==null?10:+s;let v=[];if(!(r%1)&&p-A<S){if(A=Math.floor(A),p=Math.ceil(p),u>0){for(;A<=p;++A)for(y=1;y<r;++y)if(x=A<0?y/a(-A):y*a(A),!(x<u)){if(x>c)break;v.push(x)}}else for(;A<=p;++A)for(y=r-1;y>=1;--y)if(x=A>0?y/a(-A):y*a(A),!(x<u)){if(x>c)break;v.push(x)}v.length*2<S&&(v=G2(u,c,S))}else v=G2(A,p,Math.min(p-A,S)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Pp(l)).precision==null&&(l.trim=!0),l=QS(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(ID(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function DD(){const t=ZS(Zv()).domain([1,10]);return t.copy=()=>xA(t,DD()).base(t.base()),ya.apply(t,arguments),t}function v4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function y4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function e_(t){var e=1,n=t(v4(e),y4(e));return n.constant=function(r){return arguments.length?t(v4(e=+r),y4(e)):e},yl(n)}function LD(){var t=e_(Zv());return t.copy=function(){return xA(t,LD()).constant(t.constant())},ya.apply(t,arguments)}function b4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ade(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mde(t){return t<0?-t*t:t*t}function t_(t){var e=t(ni,ni),n=1;function r(){return n===1?t(ni,ni):n===.5?t(Ade,mde):t(b4(n),b4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},yl(e)}function n_(){var t=t_(Zv());return t.copy=function(){return xA(t,n_()).exponent(t.exponent())},ya.apply(t,arguments),t}function gde(){return n_.apply(null,arguments).exponent(.5)}function x4(t){return Math.sign(t)*t*t}function vde(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function RD(){var t=JS(),e=[0,1],n=!1,r;function i(a){var o=vde(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(x4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,y0)).map(x4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RD(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ya.apply(i,arguments),yl(i)}function FD(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Sfe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[yA(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(sl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return FD().domain(t).range(e).unknown(r)},ya.apply(a,arguments)}function $D(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[yA(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return $D().domain([t,e]).range(i).unknown(a)},ya.apply(yl(o),arguments)}function BD(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[yA(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BD().domain(t).range(e).unknown(n)},ya.apply(i,arguments)}const P1=new Date,M1=new Date;function yr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>yr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(P1.setTime(+a),M1.setTime(+o),t(P1),t(M1),Math.floor(n(P1,M1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const w0=yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);w0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):w0);w0.range;const Ho=1e3,ca=Ho*60,zo=ca*60,ns=zo*24,r_=ns*7,w4=ns*30,O1=ns*365,tu=yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCSeconds());tu.range;const i_=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho)},(t,e)=>{t.setTime(+t+e*ca)},(t,e)=>(e-t)/ca,t=>t.getMinutes());i_.range;const a_=yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ca)},(t,e)=>(e-t)/ca,t=>t.getUTCMinutes());a_.range;const o_=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho-t.getMinutes()*ca)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());o_.range;const s_=yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());s_.range;const wA=yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ca)/ns,t=>t.getDate()-1);wA.range;const ey=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>t.getUTCDate()-1);ey.range;const UD=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>Math.floor(t/ns));UD.range;function Du(t){return yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ca)/r_)}const ty=Du(0),S0=Du(1),yde=Du(2),bde=Du(3),kf=Du(4),xde=Du(5),wde=Du(6);ty.range;S0.range;yde.range;bde.range;kf.range;xde.range;wde.range;function Lu(t){return yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/r_)}const ny=Lu(0),_0=Lu(1),Sde=Lu(2),_de=Lu(3),Pf=Lu(4),Tde=Lu(5),Cde=Lu(6);ny.range;_0.range;Sde.range;_de.range;Pf.range;Tde.range;Cde.range;const l_=yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());l_.range;const u_=yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());u_.range;const rs=yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rs.range;const is=yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});is.range;function qD(t,e,n,r,i,a){const o=[[tu,1,Ho],[tu,5,5*Ho],[tu,15,15*Ho],[tu,30,30*Ho],[a,1,ca],[a,5,5*ca],[a,15,15*ca],[a,30,30*ca],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[r,1,ns],[r,2,2*ns],[n,1,r_],[e,1,w4],[e,3,3*w4],[t,1,O1]];function s(u,c,f){const A=c<u;A&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),y=p?p.range(u,+c+1):[];return A?y.reverse():y}function l(u,c,f){const A=Math.abs(c-u)/f,p=VS(([,,S])=>S).right(o,A);if(p===o.length)return t.every(Y2(u/O1,c/O1,f));if(p===0)return w0.every(Math.max(Y2(u,c,f),1));const[y,x]=o[A/o[p-1][2]<o[p][2]/A?p-1:p];return y.every(x)}return[s,l]}const[Nde,Ede]=qD(is,u_,ny,UD,s_,a_),[kde,Pde]=qD(rs,l_,ty,wA,o_,i_);function j1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function I1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Mde(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=hh(i),c=ph(i),f=hh(a),A=ph(a),p=hh(o),y=ph(o),x=hh(s),S=ph(s),v=hh(l),b=ph(l),w={a:B,A:W,b:K,B:Z,c:null,d:E4,e:E4,f:ehe,g:che,G:dhe,H:Xde,I:Qde,j:Zde,L:HD,m:the,M:nhe,p:se,q:L,Q:M4,s:O4,S:rhe,u:ihe,U:ahe,V:ohe,w:she,W:lhe,x:null,X:null,y:uhe,Y:fhe,Z:hhe,"%":P4},T={a:z,A:Q,b:te,B:ae,c:null,d:k4,e:k4,f:ghe,g:Nhe,G:khe,H:phe,I:Ahe,j:mhe,L:VD,m:vhe,M:yhe,p:me,q:he,Q:M4,s:O4,S:bhe,u:xhe,U:whe,V:She,w:_he,W:The,x:null,X:null,y:Che,Y:Ehe,Z:Phe,"%":P4},C={a:U,A:O,b:j,B:$,c:F,d:C4,e:C4,f:Wde,g:T4,G:_4,H:N4,I:N4,j:Hde,L:Gde,m:qde,M:zde,p:I,q:Ude,Q:Kde,s:Jde,S:Vde,u:Lde,U:Rde,V:Fde,w:Dde,W:$de,x:H,X:R,y:T4,Y:_4,Z:Bde,"%":Yde};w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(G,le){return function(ce){var ue=[],Me=-1,De=0,Ce=G.length,ne,Ne,Ee;for(ce instanceof Date||(ce=new Date(+ce));++Me<Ce;)G.charCodeAt(Me)===37&&(ue.push(G.slice(De,Me)),(Ne=S4[ne=G.charAt(++Me)])!=null?ne=G.charAt(++Me):Ne=ne==="e"?" ":"0",(Ee=le[ne])&&(ne=Ee(ce,Ne)),ue.push(ne),De=Me+1);return ue.push(G.slice(De,Me)),ue.join("")}}function E(G,le){return function(ce){var ue=dh(1900,void 0,1),Me=M(ue,G,ce+="",0),De,Ce;if(Me!=ce.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(le&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(De=I1(dh(ue.y,0,1)),Ce=De.getUTCDay(),De=Ce>4||Ce===0?_0.ceil(De):_0(De),De=ey.offset(De,(ue.V-1)*7),ue.y=De.getUTCFullYear(),ue.m=De.getUTCMonth(),ue.d=De.getUTCDate()+(ue.w+6)%7):(De=j1(dh(ue.y,0,1)),Ce=De.getDay(),De=Ce>4||Ce===0?S0.ceil(De):S0(De),De=wA.offset(De,(ue.V-1)*7),ue.y=De.getFullYear(),ue.m=De.getMonth(),ue.d=De.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ce="Z"in ue?I1(dh(ue.y,0,1)).getUTCDay():j1(dh(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ce+5)%7:ue.w+ue.U*7-(Ce+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,I1(ue)):j1(ue)}}function M(G,le,ce,ue){for(var Me=0,De=le.length,Ce=ce.length,ne,Ne;Me<De;){if(ue>=Ce)return-1;if(ne=le.charCodeAt(Me++),ne===37){if(ne=le.charAt(Me++),Ne=C[ne in S4?le.charAt(Me++):ne],!Ne||(ue=Ne(G,ce,ue))<0)return-1}else if(ne!=ce.charCodeAt(ue++))return-1}return ue}function I(G,le,ce){var ue=u.exec(le.slice(ce));return ue?(G.p=c.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function U(G,le,ce){var ue=p.exec(le.slice(ce));return ue?(G.w=y.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function O(G,le,ce){var ue=f.exec(le.slice(ce));return ue?(G.w=A.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function j(G,le,ce){var ue=v.exec(le.slice(ce));return ue?(G.m=b.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function $(G,le,ce){var ue=x.exec(le.slice(ce));return ue?(G.m=S.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function F(G,le,ce){return M(G,e,le,ce)}function H(G,le,ce){return M(G,n,le,ce)}function R(G,le,ce){return M(G,r,le,ce)}function B(G){return o[G.getDay()]}function W(G){return a[G.getDay()]}function K(G){return l[G.getMonth()]}function Z(G){return s[G.getMonth()]}function se(G){return i[+(G.getHours()>=12)]}function L(G){return 1+~~(G.getMonth()/3)}function z(G){return o[G.getUTCDay()]}function Q(G){return a[G.getUTCDay()]}function te(G){return l[G.getUTCMonth()]}function ae(G){return s[G.getUTCMonth()]}function me(G){return i[+(G.getUTCHours()>=12)]}function he(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var le=k(G+="",w);return le.toString=function(){return G},le},parse:function(G){var le=E(G+="",!1);return le.toString=function(){return G},le},utcFormat:function(G){var le=k(G+="",T);return le.toString=function(){return G},le},utcParse:function(G){var le=E(G+="",!0);return le.toString=function(){return G},le}}}var S4={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,Ode=/^%/,jde=/[\\^$*+?|[\]().{}]/g;function Ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ide(t){return t.replace(jde,"\\$&")}function hh(t){return new RegExp("^(?:"+t.map(Ide).join("|")+")","i")}function ph(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Dde(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Lde(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Rde(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Fde(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function $de(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _4(t,e,n){var r=kr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function T4(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Bde(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ude(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qde(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function C4(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Hde(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function N4(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zde(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Vde(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Gde(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wde(t,e,n){var r=kr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yde(t,e,n){var r=Ode.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Kde(t,e,n){var r=kr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Jde(t,e,n){var r=kr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function E4(t,e){return Ht(t.getDate(),e,2)}function Xde(t,e){return Ht(t.getHours(),e,2)}function Qde(t,e){return Ht(t.getHours()%12||12,e,2)}function Zde(t,e){return Ht(1+wA.count(rs(t),t),e,3)}function HD(t,e){return Ht(t.getMilliseconds(),e,3)}function ehe(t,e){return HD(t,e)+"000"}function the(t,e){return Ht(t.getMonth()+1,e,2)}function nhe(t,e){return Ht(t.getMinutes(),e,2)}function rhe(t,e){return Ht(t.getSeconds(),e,2)}function ihe(t){var e=t.getDay();return e===0?7:e}function ahe(t,e){return Ht(ty.count(rs(t)-1,t),e,2)}function zD(t){var e=t.getDay();return e>=4||e===0?kf(t):kf.ceil(t)}function ohe(t,e){return t=zD(t),Ht(kf.count(rs(t),t)+(rs(t).getDay()===4),e,2)}function she(t){return t.getDay()}function lhe(t,e){return Ht(S0.count(rs(t)-1,t),e,2)}function uhe(t,e){return Ht(t.getFullYear()%100,e,2)}function che(t,e){return t=zD(t),Ht(t.getFullYear()%100,e,2)}function fhe(t,e){return Ht(t.getFullYear()%1e4,e,4)}function dhe(t,e){var n=t.getDay();return t=n>=4||n===0?kf(t):kf.ceil(t),Ht(t.getFullYear()%1e4,e,4)}function hhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ht(e/60|0,"0",2)+Ht(e%60,"0",2)}function k4(t,e){return Ht(t.getUTCDate(),e,2)}function phe(t,e){return Ht(t.getUTCHours(),e,2)}function Ahe(t,e){return Ht(t.getUTCHours()%12||12,e,2)}function mhe(t,e){return Ht(1+ey.count(is(t),t),e,3)}function VD(t,e){return Ht(t.getUTCMilliseconds(),e,3)}function ghe(t,e){return VD(t,e)+"000"}function vhe(t,e){return Ht(t.getUTCMonth()+1,e,2)}function yhe(t,e){return Ht(t.getUTCMinutes(),e,2)}function bhe(t,e){return Ht(t.getUTCSeconds(),e,2)}function xhe(t){var e=t.getUTCDay();return e===0?7:e}function whe(t,e){return Ht(ny.count(is(t)-1,t),e,2)}function GD(t){var e=t.getUTCDay();return e>=4||e===0?Pf(t):Pf.ceil(t)}function She(t,e){return t=GD(t),Ht(Pf.count(is(t),t)+(is(t).getUTCDay()===4),e,2)}function _he(t){return t.getUTCDay()}function The(t,e){return Ht(_0.count(is(t)-1,t),e,2)}function Che(t,e){return Ht(t.getUTCFullYear()%100,e,2)}function Nhe(t,e){return t=GD(t),Ht(t.getUTCFullYear()%100,e,2)}function Ehe(t,e){return Ht(t.getUTCFullYear()%1e4,e,4)}function khe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pf(t):Pf.ceil(t),Ht(t.getUTCFullYear()%1e4,e,4)}function Phe(){return"+0000"}function P4(){return"%"}function M4(t){return+t}function O4(t){return Math.floor(+t/1e3)}var yc,WD,YD;Mhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mhe(t){return yc=Mde(t),WD=yc.format,yc.parse,YD=yc.utcFormat,yc.utcParse,yc}function Ohe(t){return new Date(t)}function jhe(t){return t instanceof Date?+t:+new Date(+t)}function c_(t,e,n,r,i,a,o,s,l,u){var c=JS(),f=c.invert,A=c.domain,p=u(".%L"),y=u(":%S"),x=u("%I:%M"),S=u("%I %p"),v=u("%a %d"),b=u("%b %d"),w=u("%B"),T=u("%Y");function C(k){return(l(k)<k?p:s(k)<k?y:o(k)<k?x:a(k)<k?S:r(k)<k?i(k)<k?v:b:n(k)<k?w:T)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?A(Array.from(k,jhe)):A().map(Ohe)},c.ticks=function(k){var E=A();return t(E[0],E[E.length-1],k??10)},c.tickFormat=function(k,E){return E==null?C:u(E)},c.nice=function(k){var E=A();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?A(ID(E,k)):c},c.copy=function(){return xA(c,c_(t,e,n,r,i,a,o,s,l,u))},c}function Ihe(){return ya.apply(c_(kde,Pde,rs,l_,ty,wA,o_,i_,tu,WD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dhe(){return ya.apply(c_(Nde,Ede,is,u_,ny,ey,s_,a_,tu,YD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ry(){var t=0,e=1,n,r,i,a,o=ni,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(A){var p,y;return arguments.length?([p,y]=A,o=f(p,y),u):[o(0),o(1)]}}return u.range=c(gd),u.rangeRound=c(KS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function bl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function KD(){var t=yl(ry()(ni));return t.copy=function(){return bl(t,KD())},cs.apply(t,arguments)}function JD(){var t=ZS(ry()).domain([1,10]);return t.copy=function(){return bl(t,JD()).base(t.base())},cs.apply(t,arguments)}function XD(){var t=e_(ry());return t.copy=function(){return bl(t,XD()).constant(t.constant())},cs.apply(t,arguments)}function f_(){var t=t_(ry());return t.copy=function(){return bl(t,f_()).exponent(t.exponent())},cs.apply(t,arguments)}function Lhe(){return f_.apply(null,arguments).exponent(.5)}function QD(){var t=[],e=ni;function n(r){if(r!=null&&!isNaN(r=+r))return e((yA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>wfe(t,a/r))},n.copy=function(){return QD(e).domain(t)},cs.apply(n,arguments)}function iy(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=ni,c,f=!1,A;function p(x){return isNaN(x=+x)?A:(x=.5+((x=+c(x))-a)*(r*x<r*a?s:l),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function y(x){return function(S){var v,b,w;return arguments.length?([v,b,w]=S,u=Yfe(x,[v,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=y(gd),p.rangeRound=y(KS),p.unknown=function(x){return arguments.length?(A=x,p):A},function(x){return c=x,i=x(t),a=x(e),o=x(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function ZD(){var t=yl(iy()(ni));return t.copy=function(){return bl(t,ZD())},cs.apply(t,arguments)}function eL(){var t=ZS(iy()).domain([.1,1,10]);return t.copy=function(){return bl(t,eL()).base(t.base())},cs.apply(t,arguments)}function tL(){var t=e_(iy());return t.copy=function(){return bl(t,tL()).constant(t.constant())},cs.apply(t,arguments)}function d_(){var t=t_(iy());return t.copy=function(){return bl(t,d_()).exponent(t.exponent())},cs.apply(t,arguments)}function Rhe(){return d_.apply(null,arguments).exponent(.5)}const j4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cp,scaleDiverging:ZD,scaleDivergingLog:eL,scaleDivergingPow:d_,scaleDivergingSqrt:Rhe,scaleDivergingSymlog:tL,scaleIdentity:jD,scaleImplicit:K2,scaleLinear:x0,scaleLog:DD,scaleOrdinal:GS,scalePoint:Kh,scalePow:n_,scaleQuantile:FD,scaleQuantize:$D,scaleRadial:RD,scaleSequential:KD,scaleSequentialLog:JD,scaleSequentialPow:f_,scaleSequentialQuantile:QD,scaleSequentialSqrt:Lhe,scaleSequentialSymlog:XD,scaleSqrt:gde,scaleSymlog:LD,scaleThreshold:BD,scaleTime:Ihe,scaleUtc:Dhe,tickFormat:OD},Symbol.toStringTag,{value:"Module"}));var Fhe=ld;function $he(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Fhe(o):n(o,s)))var s=o,l=a}return l}var ay=$he;function Bhe(t,e){return t>e}var nL=Bhe,Uhe=ay,qhe=nL,Hhe=Ad;function zhe(t){return t&&t.length?Uhe(t,Hhe,qhe):void 0}var Vhe=zhe;const oy=Wt(Vhe);function Ghe(t,e){return t<e}var rL=Ghe,Whe=ay,Yhe=rL,Khe=Ad;function Jhe(t){return t&&t.length?Whe(t,Khe,Yhe):void 0}var Xhe=Jhe;const sy=Wt(Xhe);var Qhe=CS,Zhe=go,epe=fD,tpe=Si;function npe(t,e){var n=tpe(t)?Qhe:epe;return n(t,Zhe(e))}var rpe=npe,ipe=uD,ape=rpe;function ope(t,e){return ipe(ape(t,e),1)}var spe=ope;const lpe=Wt(spe);var upe=US;function cpe(t,e){return upe(t,e)}var fpe=cpe;const ly=Wt(fpe);var vd=1e9,dpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p_,On=!0,ga="[DecimalError] ",hu=ga+"Invalid argument: ",h_=ga+"Exponent out of range: ",yd=Math.floor,Wl=Math.pow,hpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ii,_r=1e7,Cn=7,iL=9007199254740991,T0=yd(iL/Cn),tt={};tt.absoluteValue=tt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};tt.comparedTo=tt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Cn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};tt.dividedBy=tt.div=function(t){return Jo(this,new this.constructor(t))};tt.dividedToIntegerBy=tt.idiv=function(t){var e=this,n=e.constructor;return hn(Jo(e,new n(t),0,1),n.precision)};tt.equals=tt.eq=function(t){return!this.cmp(t)};tt.exponent=function(){return sr(this)};tt.greaterThan=tt.gt=function(t){return this.cmp(t)>0};tt.greaterThanOrEqualTo=tt.gte=function(t){return this.cmp(t)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(t){return this.cmp(t)<0};tt.lessThanOrEqualTo=tt.lte=function(t){return this.cmp(t)<1};tt.logarithm=tt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ii))throw Error(ga+"NaN");if(n.s<1)throw Error(ga+(n.s?"NaN":"-Infinity"));return n.eq(Ii)?new r(0):(On=!1,e=Jo(Mp(n,a),Mp(t,a),a),On=!0,hn(e,i))};tt.minus=tt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sL(e,t):aL(e,(t.s=-t.s,t))};tt.modulo=tt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ga+"NaN");return n.s?(On=!1,e=Jo(n,t,0,1).times(t),On=!0,n.minus(e)):hn(new r(n),i)};tt.naturalExponential=tt.exp=function(){return oL(this)};tt.naturalLogarithm=tt.ln=function(){return Mp(this)};tt.negated=tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};tt.plus=tt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aL(e,t):sL(e,(t.s=-t.s,t))};tt.precision=tt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hu+t);if(e=sr(i)+1,r=i.d.length-1,n=r*Cn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};tt.squareRoot=tt.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ga+"NaN")}for(t=sr(s),On=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=oo(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Jo(s,a,o+2)).times(.5),oo(a.d).slice(0,o)===(e=oo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(hn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return On=!0,hn(r,n)};tt.times=tt.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,A=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=A.length,u=p.length,l<u&&(a=A,A=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*A[i-r-1]+e,a[i--]=s%_r|0,e=s/_r|0;a[i]=(a[i]+e)%_r|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,On?hn(t,f.precision):t};tt.toDecimalPlaces=tt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fo(t,0,vd),e===void 0?e=r.rounding:fo(e,0,8),hn(n,t+sr(n)+1,e))};tt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Su(r,!0):(fo(t,0,vd),e===void 0?e=i.rounding:fo(e,0,8),r=hn(new i(r),t+1,e),n=Su(r,!0,t+1)),n};tt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Su(i):(fo(t,0,vd),e===void 0?e=a.rounding:fo(e,0,8),r=hn(new a(i),t+sr(i)+1,e),n=Su(r.abs(),!1,t+sr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};tt.toInteger=tt.toint=function(){var t=this,e=t.constructor;return hn(new e(t),sr(t)+1,e.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Ii);if(s=new l(s),!s.s){if(t.s<1)throw Error(ga+"Infinity");return s}if(s.eq(Ii))return s;if(r=l.precision,t.eq(Ii))return hn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=iL){for(i=new l(Ii),e=Math.ceil(r/Cn+4),On=!1;n%2&&(i=i.times(s),D4(i.d,e)),n=yd(n/2),n!==0;)s=s.times(s),D4(s.d,e);return On=!0,t.s<0?new l(Ii).div(i):hn(i,r)}}else if(a<0)throw Error(ga+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,On=!1,i=t.times(Mp(s,r+u)),On=!0,i=oL(i),i.s=a,i};tt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=sr(i),r=Su(i,n<=a.toExpNeg||n>=a.toExpPos)):(fo(t,1,vd),e===void 0?e=a.rounding:fo(e,0,8),i=hn(new a(i),t,e),n=sr(i),r=Su(i,t<=n||n<=a.toExpNeg,t)),r};tt.toSignificantDigits=tt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fo(t,1,vd),e===void 0?e=r.rounding:fo(e,0,8)),hn(new r(n),t,e)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sr(t),n=t.constructor;return Su(t,e<=n.toExpNeg||e>=n.toExpPos)};function aL(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),On?hn(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Cn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/_r|0,l[a]%=_r;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,On?hn(e,f):e}function fo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(hu+t)}function oo(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Cn-r.length,n&&(a+=Is(n)),a+=r;o=t[e],r=o+"",n=Cn-r.length,n&&(a+=Is(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Jo=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%_r|0,o=a/_r|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*_r+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,A,p,y,x,S,v,b,w,T,C,k,E,M,I=r.constructor,U=r.s==i.s?1:-1,O=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ga+"Division by zero");for(l=r.e-i.e,E=j.length,C=O.length,p=new I(U),y=p.d=[],u=0;j[u]==(O[u]||0);)++u;if(j[u]>(O[u]||0)&&--l,a==null?b=a=I.precision:o?b=a+(sr(r)-sr(i))+1:b=a,b<0)return new I(0);if(b=b/Cn+2|0,u=0,E==1)for(c=0,j=j[0],b++;(u<C||c)&&b--;u++)w=c*_r+(O[u]||0),y[u]=w/j|0,c=w%j|0;else{for(c=_r/(j[0]+1)|0,c>1&&(j=t(j,c),O=t(O,c),E=j.length,C=O.length),T=E,x=O.slice(0,E),S=x.length;S<E;)x[S++]=0;M=j.slice(),M.unshift(0),k=j[0],j[1]>=_r/2&&++k;do c=0,s=e(j,x,E,S),s<0?(v=x[0],E!=S&&(v=v*_r+(x[1]||0)),c=v/k|0,c>1?(c>=_r&&(c=_r-1),f=t(j,c),A=f.length,S=x.length,s=e(f,x,A,S),s==1&&(c--,n(f,E<A?M:j,A))):(c==0&&(s=c=1),f=j.slice()),A=f.length,A<S&&f.unshift(0),n(x,f,S),s==-1&&(S=x.length,s=e(j,x,E,S),s<1&&(c++,n(x,E<S?M:j,S))),S=x.length):s===0&&(c++,x=[0]),y[u++]=c,s&&x[0]?x[S++]=O[T]||0:(x=[O[T]],S=1);while((T++<C||x[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=l,hn(p,o?a+sr(p)+1:a)}}();function oL(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(sr(t)>16)throw Error(h_+sr(t));if(!t.s)return new c(Ii);for(On=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Wl(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Ii),c.precision=s;;){if(i=hn(i.times(t),s),n=n.times(++l),o=a.plus(Jo(i,n,s)),oo(o.d).slice(0,s)===oo(a.d).slice(0,s)){for(;u--;)a=hn(a.times(a),s);return c.precision=f,e==null?(On=!0,hn(a,f)):a}a=o}}function sr(t){for(var e=t.e*Cn,n=t.d[0];n>=10;n/=10)e++;return e}function D1(t,e,n){if(e>t.LN10.sd())throw On=!0,n&&(t.precision=n),Error(ga+"LN10 precision limit exceeded");return hn(new t(t.LN10),e)}function Is(t){for(var e="";t--;)e+="0";return e}function Mp(t,e){var n,r,i,a,o,s,l,u,c,f=1,A=10,p=t,y=p.d,x=p.constructor,S=x.precision;if(p.s<1)throw Error(ga+(p.s?"NaN":"-Infinity"));if(p.eq(Ii))return new x(0);if(e==null?(On=!1,u=S):u=e,p.eq(10))return e==null&&(On=!0),D1(x,u);if(u+=A,x.precision=u,n=oo(y),r=n.charAt(0),a=sr(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=oo(p.d),r=n.charAt(0),f++;a=sr(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=D1(x,u+2,S).times(a+""),p=Mp(new x(r+"."+n.slice(1)),u-A).plus(l),x.precision=S,e==null?(On=!0,hn(p,S)):p;for(s=o=p=Jo(p.minus(Ii),p.plus(Ii),u),c=hn(p.times(p),u),i=3;;){if(o=hn(o.times(c),u),l=s.plus(Jo(o,new x(i),u)),oo(l.d).slice(0,u)===oo(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(D1(x,u+2,S).times(a+""))),s=Jo(s,new x(f),u),x.precision=S,e==null?(On=!0,hn(s,S)):s;s=l,i+=2}}function I4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yd(n/Cn),t.d=[],r=(n+1)%Cn,n<0&&(r+=Cn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Cn;r<i;)t.d.push(+e.slice(r,r+=Cn));e=e.slice(r),r=Cn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),On&&(t.e>T0||t.e<-T0))throw Error(h_+n)}else t.s=0,t.e=0,t.d=[0];return t}function hn(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Cn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Cn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Cn,i=r-Cn+o}if(n!==void 0&&(a=Wl(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Wl(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=sr(t),f.length=1,e=e-a-1,f[0]=Wl(10,(Cn-e%Cn)%Cn),t.e=yd(-e/Cn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Wl(10,Cn-r),f[c]=i>0?(u/Wl(10,o-i)%Wl(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==_r&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=_r)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(On&&(t.e>T0||t.e<-T0))throw Error(h_+sr(t));return t}function sL(t,e){var n,r,i,a,o,s,l,u,c,f,A=t.constructor,p=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),On?hn(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Cn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=_r-1;--l[a],l[i]+=_r}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,On?hn(e,p):e):new A(0)}function Su(t,e,n){var r,i=sr(t),a=oo(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Is(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Is(-i-1)+a,n&&(r=n-o)>0&&(a+=Is(r))):i>=o?(a+=Is(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Is(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Is(r))),t.s<0?"-"+a:a}function D4(t,e){if(t.length>e)return t.length=e,!0}function lL(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return I4(o,a.toString())}else if(typeof a!="string")throw Error(hu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,hpe.test(a))I4(o,a);else throw Error(hu+a)}if(i.prototype=tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lL,i.config=i.set=ppe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ppe(t){if(!t||typeof t!="object")throw Error(ga+"Object expected");var e,n,r,i=["precision",1,vd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(hu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hu+n+": "+r);return this}var p_=lL(dpe);Ii=new p_(1);const on=p_;function Ape(t){return ype(t)||vpe(t)||gpe(t)||mpe()}function mpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpe(t,e){if(t){if(typeof t=="string")return Z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z2(t,e)}}function vpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ype(t){if(Array.isArray(t))return Z2(t)}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bpe=function(e){return e},uL={},cL=function(e){return e===uL},L4=function(e){return function n(){return arguments.length===0||arguments.length===1&&cL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},xpe=function t(e,n){return e===1?n:L4(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==uL}).length;return o>=e?n.apply(void 0,i):t(e-o,L4(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return cL(f)?l.shift():f});return n.apply(void 0,Ape(c).concat(l))}))})},uy=function(e){return xpe(e.length,e)},ew=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},wpe=uy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Spe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bpe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},tw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function _pe(t){var e;return t===0?e=1:e=Math.floor(new on(t).abs().log(10).toNumber())+1,e}function Tpe(t,e,n){for(var r=new on(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Cpe=uy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Npe=uy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Epe=uy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const cy={rangeStep:Tpe,getDigitCount:_pe,interpolateNumber:Cpe,uninterpolateNumber:Npe,uninterpolateTruncation:Epe};function nw(t){return Mpe(t)||Ppe(t)||dL(t)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ppe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mpe(t){if(Array.isArray(t))return rw(t)}function Op(t,e){return Ipe(t)||jpe(t,e)||dL(t,e)||Ope()}function Ope(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dL(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jpe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Ipe(t){if(Array.isArray(t))return t}function hL(t){var e=Op(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function pL(t,e,n){if(t.lte(0))return new on(0);var r=cy.getDigitCount(t.toNumber()),i=new on(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new on(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new on(Math.ceil(l))}function Dpe(t,e,n){var r=1,i=new on(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new on(10).pow(cy.getDigitCount(t)-1),i=new on(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new on(Math.floor(t)))}else t===0?i=new on(Math.floor((e-1)/2)):n||(i=new on(Math.floor(t)));var o=Math.floor((e-1)/2),s=Spe(wpe(function(l){return i.add(new on(l-o).mul(r)).toNumber()}),ew);return s(0,e)}function AL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new on(0),tickMin:new on(0),tickMax:new on(0)};var a=pL(new on(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new on(0):(o=new on(t).add(e).div(2),o=o.sub(new on(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new on(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?AL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new on(s).mul(a)),tickMax:o.add(new on(l).mul(a))})}function Lpe(t){var e=Op(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=hL([n,r]),l=Op(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(nw(ew(0,i-1).map(function(){return 1/0}))):[].concat(nw(ew(0,i-1).map(function(){return-1/0})),[c]);return n>r?tw(f):f}if(u===c)return Dpe(u,i,a);var A=AL(u,c,o,a),p=A.step,y=A.tickMin,x=A.tickMax,S=cy.rangeStep(y,x.add(new on(.1).mul(p)),p);return n>r?tw(S):S}function Rpe(t,e){var n=Op(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=hL([r,i]),s=Op(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=pL(new on(u).sub(l).div(c-1),a,0),A=[].concat(nw(cy.rangeStep(new on(l),new on(u).sub(new on(.99).mul(f)),f)),[u]);return r>i?tw(A):A}var Fpe=fL(Lpe),$pe=fL(Rpe),Bpe="Invariant failed";function _u(t,e){throw new Error(Bpe)}var Upe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function qpe(t,e){return Gpe(t)||Vpe(t,e)||zpe(t,e)||Hpe()}function Hpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zpe(t,e){if(t){if(typeof t=="string")return R4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R4(t,e)}}function R4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Gpe(t){if(Array.isArray(t))return t}function Wpe(t,e){if(t==null)return{};var n=Ype(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ype(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vL(r.key),r)}}function Xpe(t,e,n){return e&&Jpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qpe(t,e,n){return e=N0(e),Zpe(t,mL()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function Zpe(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eAe(t)}function eAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mL=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function tAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iw(t,e)}function gL(t,e,n){return e=vL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vL(t){var e=nAe(t,"string");return Mf(e)=="symbol"?e:e+""}function nAe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fy=function(t){function e(){return Kpe(this,e),Qpe(this,e,arguments)}return tAe(e,t),Xpe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,A=Wpe(r,Upe),p=gt(A,!1);this.props.direction==="x"&&c.type!=="number"&&_u();var y=l.map(function(x){var S=u(x,s),v=S.x,b=S.y,w=S.value,T=S.errorVal;if(!T)return null;var C=[],k,E;if(Array.isArray(T)){var M=qpe(T,2);k=M[0],E=M[1]}else k=E=T;if(a==="vertical"){var I=c.scale,U=b+i,O=U+o,j=U-o,$=I(w-k),F=I(w+E);C.push({x1:F,y1:O,x2:F,y2:j}),C.push({x1:$,y1:U,x2:F,y2:U}),C.push({x1:$,y1:O,x2:$,y2:j})}else if(a==="horizontal"){var H=f.scale,R=v+i,B=R-o,W=R+o,K=H(w-k),Z=H(w+E);C.push({x1:B,y1:Z,x2:W,y2:Z}),C.push({x1:R,y1:K,x2:R,y2:Z}),C.push({x1:B,y1:K,x2:W,y2:K})}return de.createElement(Zt,C0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},p),C.map(function(se){return de.createElement("line",C0({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return de.createElement(Zt,{className:"recharts-errorBars"},y)}}])}(de.Component);gL(fy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gL(fy,"displayName","ErrorBar");function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){rAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rAe(t,e,n){return e=iAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iAe(t){var e=aAe(t,"string");return jp(e)=="symbol"?e:e+""}function aAe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Pi(n,ol);if(!o)return null;var s=ol.defaultProps,l=s!==void 0?Dl(Dl({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var A=f.item,p=f.props,y=p.sectors||p.data||[];return c.concat(y.map(function(x){return{type:o.props.iconType||A.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(c){var f=c.item,A=f.type.defaultProps,p=A!==void 0?Dl(Dl({},A),f.props):{},y=p.dataKey,x=p.name,S=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:l.iconType||S||"square",color:A_(f),value:x||y,payload:p}}),Dl(Dl(Dl({},l),ol.getWithHeight(o,i)),{},{payload:u,item:o})};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function $4(t){return uAe(t)||lAe(t)||sAe(t)||oAe()}function oAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sAe(t,e){if(t){if(typeof t=="string")return aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(t,e)}}function lAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uAe(t){if(Array.isArray(t))return aw(t)}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){ff(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ff(t,e,n){return e=cAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cAe(t){var e=fAe(t,"string");return Ip(e)=="symbol"?e:e+""}function fAe(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,n){return Ot(t)||Ot(e)?n:gr(e)?Ui(t,e,n):yt(e)?e(t):n}function Jh(t,e,n,r){var i=lpe(t,function(s){return Wr(s,e)});if(n==="number"){var a=i.filter(function(s){return Ye(s)||parseFloat(s)});return a.length?[sy(a),oy(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Ot(s)}):i;return o.map(function(s){return gr(s)||s instanceof Date?s:""})}var dAe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,A=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(ei(f-c)!==ei(A-f)){var y=[];if(ei(A-f)===ei(l[1]-l[0])){p=A;var x=f+l[1]-l[0];y[0]=Math.min(x,(x+c)/2),y[1]=Math.max(x,(x+c)/2)}else{p=c;var S=A+l[1]-l[0];y[0]=Math.min(f,(S+f)/2),y[1]=Math.max(f,(S+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var b=Math.min(c,A),w=Math.max(c,A);if(e>(b+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},A_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},hAe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),A=0,p=f.length;A<p;A++){var y=c[f[A]],x=y.items,S=y.cateAxisId,v=x.filter(function(E){return Ko(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?Bn(Bn({},b),v[0].props):v[0].props,T=w.barSize,C=w[S];o[C]||(o[C]=[]);var k=Ot(T)?n:T;o[C].push({item:v[0],stackList:v.slice(1),barSize:Ot(k)?void 0:ti(k,r,0)})}}return o},pAe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ti(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var A=!1,p=i/l,y=o.reduce(function(T,C){return T+C.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&p>0&&(A=!0,p*=.9,y=l*p);var x=(i-y)/2>>0,S={offset:x-u,size:0};c=o.reduce(function(T,C){var k={item:C.item,position:{offset:S.offset+S.size+u,size:A?p:C.barSize}},E=[].concat($4(T),[k]);return S=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:S})}),E},f)}else{var v=ti(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var b=(i-2*v-(l-1)*u)/l;b>1&&(b>>=0);var w=s===+s?Math.min(b,s):b;c=o.reduce(function(T,C,k){var E=[].concat($4(T),[{item:C.item,position:{offset:v+(b+u)*k+(b-w)/2,size:w}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:E[E.length-1].position})}),E},f)}return c},AAe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=yL({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,A=c.height,p=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&p!=="center"&&Ye(e[p]))return Bn(Bn({},e),{},ff({},p,e[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&y!=="middle"&&Ye(e[y]))return Bn(Bn({},e),{},ff({},y,e[y]+(A||0)))}return e},mAe=function(e,n,r){return Ot(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bL=function(e,n,r,i,a){var o=n.props.children,s=Aa(o,fy).filter(function(u){return mAe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Wr(c,r);if(Ot(f))return u;var A=Array.isArray(f)?[sy(f),oy(f)]:[f,f],p=l.reduce(function(y,x){var S=Wr(c,x,0),v=A[0]-Math.abs(Array.isArray(S)?S[0]:S),b=A[1]+Math.abs(Array.isArray(S)?S[1]:S);return[Math.min(v,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},gAe=function(e,n,r,i,a){var o=n.map(function(s){return bL(e,s,r,a,i)}).filter(function(s){return!Ot(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},xL=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&bL(e,l,u,i)||Jh(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},wL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},SL=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Vo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ei(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var A=a?a.indexOf(f):f;return{coordinate:i(A)+u,value:f,offset:u}});return c.filter(function(f){return!mA(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,A){return{coordinate:i(f)+u,value:f,index:A,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,A){return{coordinate:i(f)+u,value:a?a[f]:f,index:A,offset:u}})},L1=new WeakMap,Gm=function(e,n){if(typeof n!="function")return e;L1.has(e)||L1.set(e,new WeakMap);var r=L1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},_L=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Cp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:x0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Kh(),realScaleType:"point"}:a==="category"?{scale:Cp(),realScaleType:"band"}:{scale:x0(),realScaleType:"linear"};if(bu(i)){var l="scale".concat(Vv(i));return{scale:(j4[l]||Kh)(),realScaleType:j4[l]?l:"point"}}return yt(i)?{scale:i}:{scale:Kh(),realScaleType:"point"}},U4=1e-4,TL=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-U4,o=Math.max(i[0],i[1])+U4,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},vAe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},yAe=function(e,n){if(!n||n.length!==2||!Ye(n[0])||!Ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ye(e[0])||e[0]<r)&&(a[0]=r),(!Ye(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},bAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=mA(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},xAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=mA(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},wAe={sign:bAe,expand:Ute,none:Sf,silhouette:qte,wiggle:Hte,positive:xAe},SAe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=wAe[r],o=Bte().keys(i).value(function(s,l){return+Wr(s,l,0)}).order(P2).offset(a);return o(e)},_Ae=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,A){var p,y=(p=A.type)!==null&&p!==void 0&&p.defaultProps?Bn(Bn({},A.type.defaultProps),A.props):A.props,x=y.stackId,S=y.hide;if(S)return f;var v=y[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(gr(x)){var w=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(A),b.hasStack=!0,b.stackGroups[x]=w}else b.stackGroups[gA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[A]};return Bn(Bn({},f),{},ff({},v,b))},l),c={};return Object.keys(u).reduce(function(f,A){var p=u[A];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,S){var v=p.stackGroups[S];return Bn(Bn({},x),{},ff({},S,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:SAe(e,v.items,a)}))},y)}return Bn(Bn({},f),{},ff({},A,p))},c)},CL=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Fpe(u,a,s);return e.domain([sy(c),oy(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),A=$pe(f,a,s);return{niceTicks:A}}return null},q4=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Wr(o,n.dataKey,n.domain[s]);return Ot(l)?null:n.scale(l)-a/2+i},TAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},CAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(gr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},NAe=function(e){return e.reduce(function(n,r){return[sy(r.concat([n[0]]).filter(Ye)),oy(r.concat([n[1]]).filter(Ye))]},[1/0,-1/0])},NL=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=NAe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},H4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ow=function(e,n,r){if(yt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(H4.test(e[0])){var a=+H4.exec(e[0])[1];i[0]=n[0]-a}else yt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(z4.test(e[1])){var o=+z4.exec(e[1])[1];i[1]=n[1]+o}else yt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},E0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=HS(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},V4=function(e,n,r){return!e||!e.length||ly(e,Ui(r,"type.defaultProps.domain"))?n:e},EL=function(e,n){var r=e.type.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Bn(Bn({},gt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:A_(e),value:Wr(n,i),type:l,payload:n,chartType:u,hide:c})};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){kL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kL(t,e,n){return e=EAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EAe(t){var e=kAe(t,"string");return Dp(e)=="symbol"?e:e+""}function kAe(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PAe(t,e){return IAe(t)||jAe(t,e)||OAe(t,e)||MAe()}function MAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OAe(t,e){if(t){if(typeof t=="string")return W4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W4(t,e)}}function W4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function IAe(t){if(Array.isArray(t))return t}var k0=Math.PI/180,DAe=function(e){return e*180/Math.PI},wn=function(e,n,r,i){return{x:e+Math.cos(-k0*i)*r,y:n+Math.sin(-k0*i)*r}},PL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},LAe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=ti(e.cx,o,o/2),f=ti(e.cy,s,s/2),A=PL(o,s,r),p=ti(e.innerRadius,A,0),y=ti(e.outerRadius,A,A*.8),x=Object.keys(n);return x.reduce(function(S,v){var b=n[v],w=b.domain,T=b.reversed,C;if(Ot(b.range))i==="angleAxis"?C=[l,u]:i==="radiusAxis"&&(C=[p,y]),T&&(C=[C[1],C[0]]);else{C=b.range;var k=C,E=PAe(k,2);l=E[0],u=E[1]}var M=_L(b,a),I=M.realScaleType,U=M.scale;U.domain(w).range(C),TL(U);var O=CL(U,Lo(Lo({},b),{},{realScaleType:I})),j=Lo(Lo(Lo({},b),O),{},{range:C,radius:y,realScaleType:I,scale:U,cx:c,cy:f,innerRadius:p,outerRadius:y,startAngle:l,endAngle:u});return Lo(Lo({},S),{},kL({},v,j))},{})},RAe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},FAe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=RAe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:DAe(u),angleInRadian:u}},$Ae=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},BAe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},Y4=function(e,n){var r=e.x,i=e.y,a=FAe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=$Ae(n),f=c.startAngle,A=c.endAngle,p=s,y;if(f<=A){for(;p>A;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=A}else{for(;p>f;)p-=360;for(;p<A;)p+=360;y=p>=A&&p<=f}return y?Lo(Lo({},n),{},{radius:o,angle:BAe(p,n)}):null},ML=function(e){return!re.isValidElement(e)&&!yt(e)&&typeof e!="boolean"?e.className:""};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}var UAe=["offset"];function qAe(t){return GAe(t)||VAe(t)||zAe(t)||HAe()}function HAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zAe(t,e){if(t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function VAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GAe(t){if(Array.isArray(t))return sw(t)}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WAe(t,e){if(t==null)return{};var n=YAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){KAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KAe(t,e,n){return e=JAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JAe(t){var e=XAe(t,"string");return Lp(e)=="symbol"?e:e+""}function XAe(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}var QAe=function(e){var n=e.value,r=e.formatter,i=Ot(e.children)?n:e.children;return yt(r)?r(i):i},ZAe=function(e,n){var r=ei(n-e),i=Math.min(Math.abs(n-e),360);return r*i},eme=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,A=l.outerRadius,p=l.startAngle,y=l.endAngle,x=l.clockWise,S=(f+A)/2,v=ZAe(p,y),b=v>=0?1:-1,w,T;i==="insideStart"?(w=p+b*o,T=x):i==="insideEnd"?(w=y-b*o,T=!x):i==="end"&&(w=y+b*o,T=x),T=v<=0?T:!T;var C=wn(u,c,S,w),k=wn(u,c,S,w+(T?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),M=Ot(e.id)?gA("recharts-radial-line-"):e.id;return de.createElement("text",Rp({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",s)}),de.createElement("defs",null,de.createElement("path",{id:M,d:E})),de.createElement("textPath",{xlinkHref:"#".concat(M)},n))},tme=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,A=(c+f)/2;if(i==="outside"){var p=wn(o,s,u+r,A),y=p.x,x=p.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var S=(l+u)/2,v=wn(o,s,S,A),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},nme=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,A=f*i,p=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,S=x*i,v=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return dr(dr({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+c+A,textAnchor:"middle",verticalAnchor:y};return dr(dr({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var C={x:s-S,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return dr(dr({},C),r?{width:Math.max(C.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+S,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return dr(dr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?dr({x:s+S,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?dr({x:s+u-S,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideTop"?dr({x:s+u/2,y:l+A,textAnchor:"middle",verticalAnchor:y},E):a==="insideBottom"?dr({x:s+u/2,y:l+c-A,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?dr({x:s+S,y:l+A,textAnchor:b,verticalAnchor:y},E):a==="insideTopRight"?dr({x:s+u-S,y:l+A,textAnchor:v,verticalAnchor:y},E):a==="insideBottomLeft"?dr({x:s+S,y:l+c-A,textAnchor:b,verticalAnchor:p},E):a==="insideBottomRight"?dr({x:s+u-S,y:l+c-A,textAnchor:v,verticalAnchor:p},E):ud(a)&&(Ye(a.x)||Zl(a.x))&&(Ye(a.y)||Zl(a.y))?dr({x:s+ti(a.x,u),y:l+ti(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):dr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},rme=function(e){return"cx"in e&&Ye(e.cx)};function Nr(t){var e=t.offset,n=e===void 0?5:e,r=WAe(t,UAe),i=dr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,A=i.textBreakAll;if(!a||Ot(s)&&Ot(l)&&!re.isValidElement(u)&&!yt(u))return null;if(re.isValidElement(u))return re.cloneElement(u,i);var p;if(yt(u)){if(p=re.createElement(u,i),re.isValidElement(p))return p}else p=QAe(i);var y=rme(a),x=gt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return eme(i,p,x);var S=y?tme(i):nme(i);return de.createElement(wu,Rp({className:kt("recharts-label",f)},x,S,{breakAll:A}),p)}Nr.displayName="Label";var OL=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,A=e.y,p=e.top,y=e.left,x=e.width,S=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(Ye(x)&&Ye(S)){if(Ye(f)&&Ye(A))return{x:f,y:A,width:x,height:S};if(Ye(p)&&Ye(y))return{x:p,y,width:x,height:S}}return Ye(f)&&Ye(A)?{x:f,y:A,width:0,height:0}:Ye(n)&&Ye(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},ime=function(e,n){return e?e===!0?de.createElement(Nr,{key:"label-implicit",viewBox:n}):gr(e)?de.createElement(Nr,{key:"label-implicit",viewBox:n,value:e}):re.isValidElement(e)?e.type===Nr?re.cloneElement(e,{key:"label-implicit",viewBox:n}):de.createElement(Nr,{key:"label-implicit",content:e,viewBox:n}):yt(e)?de.createElement(Nr,{key:"label-implicit",content:e,viewBox:n}):ud(e)?de.createElement(Nr,Rp({viewBox:n},e,{key:"label-implicit"})):null:null},ame=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=OL(e),o=Aa(i,Nr).map(function(l,u){return re.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=ime(e.label,n||a);return[s].concat(qAe(o))};Nr.parseViewBox=OL;Nr.renderCallByParent=ame;function ome(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var sme=ome;const lme=Wt(sme);function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}var ume=["valueAccessor"],cme=["data","dataKey","clockWise","id","textBreakAll"];function fme(t){return Ame(t)||pme(t)||hme(t)||dme()}function dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function pme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ame(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(this,arguments)}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mme(t,e,n){return e=gme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=vme(t,"string");return Fp(e)=="symbol"?e:e+""}function vme(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q4(t,e){if(t==null)return{};var n=yme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bme=function(e){return Array.isArray(e.value)?lme(e.value):e.value};function ll(t){var e=t.valueAccessor,n=e===void 0?bme:e,r=Q4(t,ume),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=Q4(r,cme);return!i||!i.length?null:de.createElement(Zt,{className:"recharts-label-list"},i.map(function(c,f){var A=Ot(a)?n(c,f):Wr(c&&c.payload,a),p=Ot(s)?{}:{id:"".concat(s,"-").concat(f)};return de.createElement(Nr,P0({},gt(c,!0),u,p,{parentViewBox:c.parentViewBox,value:A,textBreakAll:l,viewBox:Nr.parseViewBox(Ot(o)?c:X4(X4({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ll.displayName="LabelList";function xme(t,e){return t?t===!0?de.createElement(ll,{key:"labelList-implicit",data:e}):de.isValidElement(t)||yt(t)?de.createElement(ll,{key:"labelList-implicit",data:e,content:t}):ud(t)?de.createElement(ll,P0({data:e},t,{key:"labelList-implicit"})):null:null}function wme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Aa(r,ll).map(function(o,s){return re.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=xme(t.label,e);return[a].concat(fme(i))}ll.renderCallByParent=wme;function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(this,arguments)}function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){Sme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sme(t,e,n){return e=_me(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _me(t){var e=Tme(t,"string");return $p(e)=="symbol"?e:e+""}function Tme(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cme=function(e,n){var r=ei(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/k0,A=u?a:a+o*f,p=wn(n,r,c,A),y=wn(n,r,i,A),x=u?a-o*f:a,S=wn(n,r,c*Math.cos(f*k0),x);return{center:p,circleTangency:y,lineTangency:S,theta:f}},jL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Cme(o,s),u=o+l,c=wn(n,r,a,o),f=wn(n,r,a,u),A="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=wn(n,r,i,o),y=wn(n,r,i,u);A+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else A+="L ".concat(n,",").concat(r," Z");return A},Nme=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=ei(c-u),A=Wm({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=A.circleTangency,y=A.lineTangency,x=A.theta,S=Wm({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=S.circleTangency,b=S.lineTangency,w=S.theta,T=l?Math.abs(u-c):Math.abs(u-c)-x-w;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var k=Wm({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=k.circleTangency,M=k.lineTangency,I=k.theta,U=Wm({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=U.circleTangency,j=U.lineTangency,$=U.theta,F=l?Math.abs(u-c):Math.abs(u-c)-I-$;if(F<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Eme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IL=function(e){var n=e3(e3({},Eme),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,A=n.className;if(o<a||c===f)return null;var p=kt("recharts-sector",A),y=o-a,x=ti(s,y,0,!0),S;return x>0&&Math.abs(c-f)<360?S=Nme({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):S=jL({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),de.createElement("path",uw({},gt(n,!0),{className:p,d:S,role:"img"}))};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function t3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t3(Object(n),!0).forEach(function(r){kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e,n){return e=Pme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Mme(t,"string");return Bp(e)=="symbol"?e:e+""}function Mme(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r3={curveBasisClosed:kte,curveBasisOpen:Pte,curveBasis:Ete,curveBumpX:pte,curveBumpY:Ate,curveLinearClosed:Mte,curveLinear:Wv,curveMonotoneX:Ote,curveMonotoneY:jte,curveNatural:Ite,curveStep:Dte,curveStepAfter:Rte,curveStepBefore:Lte},Ym=function(e){return e.x===+e.x&&e.y===+e.y},Ah=function(e){return e.x},mh=function(e){return e.y},Ome=function(e,n){if(yt(e))return e;var r="curve".concat(Vv(e));return(r==="curveMonotone"||r==="curveBump")&&n?r3["".concat(r).concat(n==="vertical"?"Y":"X")]:r3[r]||Wv},jme=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Ome(r,s),f=u?a.filter(function(x){return Ym(x)}):a,A;if(Array.isArray(o)){var p=u?o.filter(function(x){return Ym(x)}):o,y=f.map(function(x,S){return n3(n3({},x),{},{base:p[S]})});return s==="vertical"?A=Fm().y(mh).x1(Ah).x0(function(x){return x.base.x}):A=Fm().x(Ah).y1(mh).y0(function(x){return x.base.y}),A.defined(Ym).curve(c),A(y)}return s==="vertical"&&Ye(o)?A=Fm().y(mh).x1(Ah).x0(o):Ye(o)?A=Fm().x(Ah).y1(mh).y0(o):A=EI().x(Ah).y(mh),A.defined(Ym).curve(c),A(f)},fw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?jme(e):i;return re.createElement("path",cw({},gt(e,!1),t0(e),{className:kt("recharts-curve",n),d:o,ref:a}))},DL={exports:{}},Ime="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dme=Ime,Lme=Dme;function LL(){}function RL(){}RL.resetWarningCache=LL;var Rme=function(){function t(r,i,a,o,s,l){if(l!==Lme){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RL,resetWarningCache:LL};return n.PropTypes=n,n};DL.exports=Rme();var Fme=DL.exports;const Yt=Wt(Fme);var $me=Object.getOwnPropertyNames,Bme=Object.getOwnPropertySymbols,Ume=Object.prototype.hasOwnProperty;function i3(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Km(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function qme(t){return t!=null?t[Symbol.toStringTag]:void 0}function a3(t){return $me(t).concat(Bme(t))}var Hme=Object.hasOwn||function(t,e){return Ume.call(t,e)};function Ru(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var zme="__v",Vme="__o",Gme="_owner",o3=Object.getOwnPropertyDescriptor,s3=Object.keys;function Wme(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Yme(t,e){return Ru(t.getTime(),e.getTime())}function Kme(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Jme(t,e){return t===e}function l3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var A=o.value,p=s.value;if(n.equals(A[0],p[0],l,f,t,e,n)&&n.equals(A[1],p[1],A[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Xme=Ru;function Qme(t,e,n){var r=s3(t),i=r.length;if(s3(e).length!==i)return!1;for(;i-- >0;)if(!FL(t,e,n,r[i]))return!1;return!0}function gh(t,e,n){var r=a3(t),i=r.length;if(a3(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!FL(t,e,n,a)||(o=o3(t,a),s=o3(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Zme(t,e){return Ru(t.valueOf(),e.valueOf())}function ege(t,e){return t.source===e.source&&t.flags===e.flags}function u3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function tge(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function nge(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function FL(t,e,n,r){return(r===Gme||r===Vme||r===zme)&&(t.$$typeof||e.$$typeof)?!0:Hme(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var rge="[object Arguments]",ige="[object Boolean]",age="[object Date]",oge="[object Error]",sge="[object Map]",lge="[object Number]",uge="[object Object]",cge="[object RegExp]",fge="[object Set]",dge="[object String]",hge="[object URL]",pge=Array.isArray,c3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,f3=Object.assign,Age=Object.prototype.toString.call.bind(Object.prototype.toString);function mge(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,A=t.areUrlsEqual,p=t.unknownTagComparators;return function(x,S,v){if(x===S)return!0;if(x==null||S==null)return!1;var b=typeof x;if(b!==typeof S)return!1;if(b!=="object")return b==="number"?o(x,S,v):b==="function"?i(x,S,v):!1;var w=x.constructor;if(w!==S.constructor)return!1;if(w===Object)return s(x,S,v);if(pge(x))return e(x,S,v);if(c3!=null&&c3(x))return f(x,S,v);if(w===Date)return n(x,S,v);if(w===RegExp)return u(x,S,v);if(w===Map)return a(x,S,v);if(w===Set)return c(x,S,v);var T=Age(x);if(T===age)return n(x,S,v);if(T===cge)return u(x,S,v);if(T===sge)return a(x,S,v);if(T===fge)return c(x,S,v);if(T===uge)return typeof x.then!="function"&&typeof S.then!="function"&&s(x,S,v);if(T===hge)return A(x,S,v);if(T===oge)return r(x,S,v);if(T===rge)return s(x,S,v);if(T===ige||T===lge||T===dge)return l(x,S,v);if(p){var C=p[T];if(!C){var k=qme(x);k&&(C=p[k])}if(C)return C(x,S,v)}return!1}}function gge(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?gh:Wme,areDatesEqual:Yme,areErrorsEqual:Kme,areFunctionsEqual:Jme,areMapsEqual:r?i3(l3,gh):l3,areNumbersEqual:Xme,areObjectsEqual:r?gh:Qme,arePrimitiveWrappersEqual:Zme,areRegExpsEqual:ege,areSetsEqual:r?i3(u3,gh):u3,areTypedArraysEqual:r?gh:tge,areUrlsEqual:nge,unknownTagComparators:void 0};if(n&&(i=f3({},i,n(i))),e){var a=Km(i.areArraysEqual),o=Km(i.areMapsEqual),s=Km(i.areObjectsEqual),l=Km(i.areSetsEqual);i=f3({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function vge(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function yge(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,A=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:A,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var bge=xl();xl({strict:!0});xl({circular:!0});xl({circular:!0,strict:!0});xl({createInternalComparator:function(){return Ru}});xl({strict:!0,createInternalComparator:function(){return Ru}});xl({circular:!0,createInternalComparator:function(){return Ru}});xl({circular:!0,createInternalComparator:function(){return Ru},strict:!0});function xl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=gge(t),l=mge(s),u=r?r(l):vge(l);return yge({circular:n,comparator:l,createState:i,equals:u,strict:o})}function xge(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function d3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):xge(i)};requestAnimationFrame(r)}function dw(t){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}function wge(t){return Cge(t)||Tge(t)||_ge(t)||Sge()}function Sge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ge(t,e){if(t){if(typeof t=="string")return h3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h3(t,e)}}function h3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cge(t){if(Array.isArray(t))return t}function Nge(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=wge(o),l=s[0],u=s.slice(1);if(typeof l=="number"){d3(i.bind(null,u),l);return}i(l),d3(i.bind(null,u));return}dw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function p3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(n),!0).forEach(function(r){$L(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $L(t,e,n){return e=Ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ege(t){var e=kge(t,"string");return Up(e)==="symbol"?e:String(e)}function kge(t,e){if(Up(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pge=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Mge=function(e){return e},Oge=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xh=function(e,n){return Object.keys(n).reduce(function(r,i){return A3(A3({},r),{},$L({},i,e(i,n[i])))},{})},m3=function(e,n,r){return e.map(function(i){return"".concat(Oge(i)," ").concat(n,"ms ").concat(r)}).join(",")};function jge(t,e){return Lge(t)||Dge(t,e)||BL(t,e)||Ige()}function Ige(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lge(t){if(Array.isArray(t))return t}function Rge(t){return Bge(t)||$ge(t)||BL(t)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BL(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function $ge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bge(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var M0=1e-4,UL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},qL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},g3=function(e,n){return function(r){var i=UL(e,n);return qL(i,r)}},Uge=function(e,n){return function(r){var i=UL(e,n),a=[].concat(Rge(i.map(function(o,s){return o*s}).slice(1)),[0]);return qL(a,r)}},v3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(S){return parseFloat(S)}),c=jge(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=g3(i,o),A=g3(a,s),p=Uge(i,o),y=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,w=b,T=0;T<8;++T){var C=f(w)-b,k=p(w);if(Math.abs(C-b)<M0||k<M0)return A(w);w=y(w-C/k)}return A(w)};return x.isStepper=!1,x},qge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,A){var p=-(c-f)*r,y=A*a,x=A+(p-y)*s/1e3,S=A*s/1e3+c;return Math.abs(S-f)<M0&&Math.abs(x)<M0?[f,0]:[S,x]};return l.isStepper=!0,l.dt=s,l},Hge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return v3(i);case"spring":return qge();default:if(i.split("(")[0]==="cubic-bezier")return v3(i)}return typeof i=="function"?i:null};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function y3(t){return Gge(t)||Vge(t)||HL(t)||zge()}function zge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gge(t){if(Array.isArray(t))return Aw(t)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){pw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pw(t,e,n){return e=Wge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Yge(t,"string");return qp(e)==="symbol"?e:String(e)}function Yge(t,e){if(qp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kge(t,e){return Qge(t)||Xge(t,e)||HL(t,e)||Jge()}function Jge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HL(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qge(t){if(Array.isArray(t))return t}var O0=function(e,n,r){return e+(n-e)*r},mw=function(e){var n=e.from,r=e.to;return n!==r},Zge=function t(e,n,r){var i=Xh(function(a,o){if(mw(o)){var s=e(o.from,o.to,o.velocity),l=Kge(s,2),u=l[0],c=l[1];return Or(Or({},o),{},{from:u,velocity:c})}return o},n);return r<1?Xh(function(a,o){return mw(o)?Or(Or({},o),{},{velocity:O0(o.velocity,i[a].velocity,r),from:O0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const e0e=function(t,e,n,r,i){var a=Pge(t,e),o=a.reduce(function(S,v){return Or(Or({},S),{},pw({},v,[t[v],e[v]]))},{}),s=a.reduce(function(S,v){return Or(Or({},S),{},pw({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},A=function(){return Xh(function(v,b){return b.from},s)},p=function(){return!Object.values(s).filter(mw).length},y=function(v){u||(u=v);var b=v-u,w=b/n.dt;s=Zge(n,s,w),i(Or(Or(Or({},t),e),A())),u=v,p()||(l=requestAnimationFrame(f))},x=function(v){c||(c=v);var b=(v-c)/r,w=Xh(function(C,k){return O0.apply(void 0,y3(k).concat([n(b)]))},o);if(i(Or(Or(Or({},t),e),w)),b<1)l=requestAnimationFrame(f);else{var T=Xh(function(C,k){return O0.apply(void 0,y3(k).concat([n(1)]))},o);i(Or(Or(Or({},t),e),T))}};return f=n.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}var t0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function n0e(t,e){if(t==null)return{};var n=r0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function R1(t){return s0e(t)||o0e(t)||a0e(t)||i0e()}function i0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0e(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function o0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s0e(t){if(Array.isArray(t))return gw(t)}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x3(Object(n),!0).forEach(function(r){Ch(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ch(t,e,n){return e=zL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zL(r.key),r)}}function c0e(t,e,n){return e&&u0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zL(t){var e=f0e(t,"string");return Of(e)==="symbol"?e:String(e)}function f0e(t,e){if(Of(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function h0e(t){var e=p0e();return function(){var r=j0(t),i;if(e){var a=j0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return yw(this,i)}}function yw(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bw(t)}function bw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}var as=function(t){d0e(n,t);var e=h0e(n);function n(r,i){var a;l0e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,A=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(bw(a)),a.changeStyle=a.changeStyle.bind(bw(a)),!s||p<=0)return a.state={style:{}},typeof A=="function"&&(a.state={style:c}),yw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof A=="function")return a.state={style:u},yw(a);a.state={style:l?Ch({},l,u):u}}else a.state={style:{}};return a}return c0e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,A=this.state.style;if(s){if(!o){var p={style:l?Ch({},l,c):c};this.state&&A&&(l&&A[l]!==c||!l&&A!==c)&&this.setState(p);return}if(!(bge(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:i.to;if(this.state&&A){var S={style:l?Ch({},l,x):x};(l&&A[l]!==x||!l&&A!==x)&&this.setState(S)}this.runAnimation(Ma(Ma({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,A=i.onAnimationStart,p=e0e(o,s,Hge(u),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([A,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,A=f===void 0?0:f,p=function(x,S,v){if(v===0)return x;var b=S.duration,w=S.easing,T=w===void 0?"ease":w,C=S.style,k=S.properties,E=S.onAnimationEnd,M=v>0?o[v-1]:S,I=k||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(R1(x),[a.runJSAnimation.bind(a,{from:M.style,to:C,duration:b,easing:T}),b]);var U=m3(I,b,T),O=Ma(Ma(Ma({},M.style),C),{},{transition:U});return[].concat(R1(x),[O,b,E]).filter(Mge)};return this.manager.start([l].concat(R1(o.reduce(p,[c,Math.max(A,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Nge());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,A=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(A.length>1){this.runStepAnimation(i);return}var x=s?Ch({},s,l):l,S=m3(Object.keys(x),o,u);y.start([c,a,Ma(Ma({},x),{},{transition:S}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=n0e(i,t0e),u=re.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var y=p.props,x=y.style,S=x===void 0?{}:x,v=y.className,b=re.cloneElement(p,Ma(Ma({},l),{},{style:Ma(Ma({},S),c),className:v}));return b};return u===1?f(re.Children.only(a)):de.createElement("div",null,re.Children.map(a,function(A){return f(A)}))}}]),n}(re.PureComponent);as.displayName="Animate";as.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};as.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}function A0e(t,e){return y0e(t)||v0e(t,e)||g0e(t,e)||m0e()}function m0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(t,e){if(t){if(typeof t=="string")return w3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w3(t,e)}}function w3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function y0e(t){if(Array.isArray(t))return t}function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(r){b0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b0e(t,e,n){return e=x0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x0e(t){var e=w0e(t,"string");return Hp(e)=="symbol"?e:e+""}function w0e(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T3=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],A=0,p=4;A<p;A++)f[A]=a[A]>o?o:a[A];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},S0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),A=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=A}return!1},_0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m_=function(e){var n=_3(_3({},_0e),e),r=re.useRef(),i=re.useState(-1),a=A0e(i,2),o=a[0],s=a[1];re.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,A=n.radius,p=n.className,y=n.animationEasing,x=n.animationDuration,S=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var w=kt("recharts-rectangle",p);return b?de.createElement(as,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:x,animationEasing:y,isActive:b},function(T){var C=T.width,k=T.height,E=T.x,M=T.y;return de.createElement(as,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:x,isActive:v,easing:y},de.createElement("path",I0({},gt(n,!0),{className:w,d:T3(E,M,C,k,A),ref:r})))}):de.createElement("path",I0({},gt(n,!0),{className:w,d:T3(l,u,c,f,A)}))},T0e=["points","className","baseLinePoints","connectNulls"];function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function C0e(t,e){if(t==null)return{};var n=N0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C3(t){return M0e(t)||P0e(t)||k0e(t)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k0e(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function P0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M0e(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N3=function(e){return e&&e.x===+e.x&&e.y===+e.y},O0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){N3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),N3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Qh=function(e,n){var r=O0e(e);n&&(r=[r.reduce(function(a,o){return[].concat(C3(a),C3(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},j0e=function(e,n,r){var i=Qh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Qh(n.reverse(),r).slice(1))},I0e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=C0e(e,T0e);if(!n||!n.length)return null;var s=kt("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=j0e(n,i,a);return de.createElement("g",{className:s},de.createElement("path",Yc({},gt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?de.createElement("path",Yc({},gt(o,!0),{fill:"none",d:Qh(n,a)})):null,l?de.createElement("path",Yc({},gt(o,!0),{fill:"none",d:Qh(i,a)})):null)}var c=Qh(n,a);return de.createElement("path",Yc({},gt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}var g_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=kt("recharts-dot",a);return n===+n&&r===+r&&i===+i?re.createElement("circle",ww({},gt(e,!1),t0(e),{className:o,cx:n,cy:r,r:i})):null};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}var D0e=["x","y","top","left","width","height","className"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function E3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(n),!0).forEach(function(r){R0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R0e(t,e,n){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=$0e(t,"string");return zp(e)=="symbol"?e:e+""}function $0e(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0e(t,e){if(t==null)return{};var n=U0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var q0e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},H0e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,A=e.height,p=A===void 0?0:A,y=e.className,x=B0e(e,D0e),S=L0e({x:r,y:a,top:s,left:u,width:f,height:p},x);return!Ye(r)||!Ye(a)||!Ye(f)||!Ye(p)||!Ye(s)||!Ye(u)?null:de.createElement("path",Sw({},gt(S,!0),{className:kt("recharts-cross",y),d:q0e(r,a,f,p,s,u)}))},z0e=ay,V0e=nL,G0e=go;function W0e(t,e){return t&&t.length?z0e(t,G0e(e),V0e):void 0}var Y0e=W0e;const K0e=Wt(Y0e);var J0e=ay,X0e=go,Q0e=rL;function Z0e(t,e){return t&&t.length?J0e(t,X0e(e),Q0e):void 0}var eve=Z0e;const tve=Wt(eve);var nve=["cx","cy","angle","ticks","axisLine"],rve=["ticks","tick","angle","tickFormatter","stroke"];function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P3(t,e){if(t==null)return{};var n=ive(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ive(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ave(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GL(r.key),r)}}function ove(t,e,n){return e&&M3(t.prototype,e),n&&M3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sve(t,e,n){return e=D0(e),lve(t,VL()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function lve(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(t)}function uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function cve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_w(t,e)}function _w(t,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_w(t,e)}function dy(t,e,n){return e=GL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GL(t){var e=fve(t,"string");return jf(e)=="symbol"?e:e+""}function fve(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hy=function(t){function e(){return ave(this,e),sve(this,e,arguments)}return cve(e,t),ove(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return wn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=K0e(s,function(c){return c.coordinate||0}),u=tve(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=P3(r,nve),c=s.reduce(function(y,x){return[Math.min(y[0],x.coordinate),Math.max(y[1],x.coordinate)]},[1/0,-1/0]),f=wn(i,a,c[0],o),A=wn(i,a,c[1],o),p=Ll(Ll(Ll({},gt(u,!1)),{},{fill:"none"},gt(l,!1)),{},{x1:f.x,y1:f.y,x2:A.x,y2:A.y});return de.createElement("line",Zh({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=P3(i,rve),f=this.getTickTextAnchor(),A=gt(c,!1),p=gt(o,!1),y=a.map(function(x,S){var v=r.getTickValueCoord(x),b=Ll(Ll(Ll(Ll({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},A),{},{stroke:"none",fill:u},p),{},{index:S},v),{},{payload:x});return de.createElement(Zt,Zh({className:kt("recharts-polar-radius-axis-tick",ML(o)),key:"tick-".concat(x.coordinate)},xu(r.props,x,S)),e.renderTickItem(o,b,l?l(x.value,S):x.value))});return de.createElement(Zt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:de.createElement(Zt,{className:kt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Nr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement(wu,Zh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(re.PureComponent);dy(hy,"displayName","PolarRadiusAxis");dy(hy,"axisType","radiusAxis");dy(hy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}function O3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(n),!0).forEach(function(r){py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YL(r.key),r)}}function hve(t,e,n){return e&&j3(t.prototype,e),n&&j3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pve(t,e,n){return e=L0(e),Ave(t,WL()?Reflect.construct(e,n||[],L0(t).constructor):e.apply(t,n))}function Ave(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(t)}function mve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L0(t)}function gve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function py(t,e,n){return e=YL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YL(t){var e=vve(t,"string");return If(e)=="symbol"?e:e+""}function vve(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yve=Math.PI/180,I3=1e-5,Ay=function(t){function e(){return dve(this,e),pve(this,e,arguments)}return gve(e,t),hve(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=wn(a,o,s,r.coordinate),A=wn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:A.x,y2:A.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*yve),o;return a>I3?o=i==="outer"?"start":"end":a<-I3?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Rl(Rl({},gt(this.props,!1)),{},{fill:"none"},gt(s,!1));if(l==="circle")return de.createElement(g_,Kl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(A){return wn(i,a,o,A.coordinate)});return de.createElement(I0e,Kl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=gt(this.props,!1),f=gt(o,!1),A=Rl(Rl({},c),{},{fill:"none"},gt(s,!1)),p=a.map(function(y,x){var S=r.getTickLineCoord(y),v=r.getTickTextAnchor(y),b=Rl(Rl(Rl({textAnchor:v},c),{},{stroke:"none",fill:u},f),{},{index:x,payload:y,x:S.x2,y:S.y2});return de.createElement(Zt,Kl({className:kt("recharts-polar-angle-axis-tick",ML(o)),key:"tick-".concat(y.coordinate)},xu(r.props,y,x)),s&&de.createElement("line",Kl({className:"recharts-polar-angle-axis-tick-line"},A,S)),o&&e.renderTickItem(o,b,l?l(y.value,x):y.value))});return de.createElement(Zt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:de.createElement(Zt,{className:kt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement(wu,Kl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(re.PureComponent);py(Ay,"displayName","PolarAngleAxis");py(Ay,"axisType","angleAxis");py(Ay,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bve=QI,xve=bve(Object.getPrototypeOf,Object),wve=xve,Sve=ls,_ve=wve,Tve=us,Cve="[object Object]",Nve=Function.prototype,Eve=Object.prototype,KL=Nve.toString,kve=Eve.hasOwnProperty,Pve=KL.call(Object);function Mve(t){if(!Tve(t)||Sve(t)!=Cve)return!1;var e=_ve(t);if(e===null)return!0;var n=kve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&KL.call(n)==Pve}var Ove=Mve;const jve=Wt(Ove);var Ive=ls,Dve=us,Lve="[object Boolean]";function Rve(t){return t===!0||t===!1||Dve(t)&&Ive(t)==Lve}var Fve=Rve;const $ve=Wt(Fve);function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(this,arguments)}function Bve(t,e){return zve(t)||Hve(t,e)||qve(t,e)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qve(t,e){if(t){if(typeof t=="string")return D3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D3(t,e)}}function D3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zve(t){if(Array.isArray(t))return t}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){Vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vve(t,e,n){return e=Gve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gve(t){var e=Wve(t,"string");return Vp(e)=="symbol"?e:e+""}function Wve(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F3=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Yve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kve=function(e){var n=R3(R3({},Yve),e),r=re.useRef(),i=re.useState(-1),a=Bve(i,2),o=a[0],s=a[1];re.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,A=n.height,p=n.className,y=n.animationEasing,x=n.animationDuration,S=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||A!==+A||c===0&&f===0||A===0)return null;var b=kt("recharts-trapezoid",p);return v?de.createElement(as,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:A,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:A,x:l,y:u},duration:x,animationEasing:y,isActive:v},function(w){var T=w.upperWidth,C=w.lowerWidth,k=w.height,E=w.x,M=w.y;return de.createElement(as,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:x,easing:y},de.createElement("path",R0({},gt(n,!0),{className:b,d:F3(E,M,T,C,k),ref:r})))}):de.createElement("g",null,de.createElement("path",R0({},gt(n,!0),{className:b,d:F3(l,u,c,f,A)})))},Jve=["option","shapeType","propTransformer","activeClassName","isActive"];function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function Xve(t,e){if(t==null)return{};var n=Qve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$3(Object(n),!0).forEach(function(r){Zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zve(t,e,n){return e=eye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eye(t){var e=tye(t,"string");return Gp(e)=="symbol"?e:e+""}function tye(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nye(t,e){return F0(F0({},e),t)}function rye(t,e){return t==="symbols"}function B3(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return de.createElement(m_,n);case"trapezoid":return de.createElement(Kve,n);case"sector":return de.createElement(IL,n);case"symbols":if(rye(e))return de.createElement(DS,n);break;default:return null}}function iye(t){return re.isValidElement(t)?t.props:t}function JL(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?nye:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Xve(t,Jve),u;if(re.isValidElement(e))u=re.cloneElement(e,F0(F0({},l),iye(e)));else if(yt(e))u=e(l);else if(jve(e)&&!$ve(e)){var c=i(e,l);u=de.createElement(B3,{shapeType:n,elementProps:c})}else{var f=l;u=de.createElement(B3,{shapeType:n,elementProps:f})}return s?de.createElement(Zt,{className:o},u):u}function my(t,e){return e!=null&&"trapezoids"in t.props}function gy(t,e){return e!=null&&"sectors"in t.props}function Wp(t,e){return e!=null&&"points"in t.props}function aye(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function oye(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function sye(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function lye(t,e){var n;return my(t,e)?n=aye:gy(t,e)?n=oye:Wp(t,e)&&(n=sye),n}function uye(t,e){var n;return my(t,e)?n="trapezoids":gy(t,e)?n="sectors":Wp(t,e)&&(n="points"),n}function cye(t,e){if(my(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(gy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Wp(t,e)?e.payload:{}}function fye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=uye(n,e),a=cye(n,e),o=r.filter(function(l,u){var c=ly(a,l),f=n.props[i].filter(function(y){var x=lye(n,e);return x(y,e)}),A=n.props[i].indexOf(f[f.length-1]),p=u===A;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var yg;function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){ua(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function hye(t,e,n){return e&&q3(t.prototype,e),n&&q3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pye(t,e,n){return e=$0(e),Aye(t,XL()?Reflect.construct(e,n||[],$0(t).constructor):e.apply(t,n))}function Aye(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mye(t)}function mye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$0(t)}function gye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function ua(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=vye(t,"string");return Df(e)=="symbol"?e:e+""}function vye(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fs=function(t){function e(n){var r;return dye(this,e),r=pye(this,e,[n]),ua(r,"pieRef",null),ua(r,"sectorRefs",[]),ua(r,"id",gA("recharts-pie-")),ua(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),yt(i)&&i()}),ua(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),yt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return gye(e,t),hye(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=gt(this.props,!1),f=gt(o,!1),A=gt(s,!1),p=o&&o.offsetRadius||20,y=r.map(function(x,S){var v=(x.startAngle+x.endAngle)/2,b=wn(x.cx,x.cy,x.outerRadius+p,v),w=yn(yn(yn(yn({},c),x),{},{stroke:"none"},f),{},{index:S,textAnchor:e.getTextAnchor(b.x,x.cx)},b),T=yn(yn(yn(yn({},c),x),{},{fill:"none",stroke:x.fill},A),{},{index:S,points:[wn(x.cx,x.cy,x.outerRadius,v),b]}),C=l;return Ot(l)&&Ot(u)?C="value":Ot(l)&&(C=u),de.createElement(Zt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(S)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,w,Wr(x,C)))});return de.createElement(Zt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),A=l&&i.hasActiveIndex()?l:null,p=f?o:A,y=yn(yn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return de.createElement(Zt,Kc({ref:function(S){S&&!i.sectorRefs.includes(S)&&i.sectorRefs.push(S)},tabIndex:-1,className:"recharts-pie-sector"},xu(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),de.createElement(JL,Kc({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,A=f.prevSectors,p=f.prevIsAnimationActive;return de.createElement(as,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,S=[],v=a&&a[0],b=v.startAngle;return a.forEach(function(w,T){var C=A&&A[T],k=T>0?Ui(w,"paddingAngle",0):0;if(C){var E=js(C.endAngle-C.startAngle,w.endAngle-w.startAngle),M=yn(yn({},w),{},{startAngle:b+k,endAngle:b+E(x)+k});S.push(M),b=M.endAngle}else{var I=w.endAngle,U=w.startAngle,O=js(0,I-U),j=O(x),$=yn(yn({},w),{},{startAngle:b+k,endAngle:b+j+k});S.push($),b=$.endAngle}}),de.createElement(Zt,null,r.renderSectorsStatically(S))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ly(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,A=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!Ye(u)||!Ye(c)||!Ye(f)||!Ye(A))return null;var x=kt("recharts-pie",s);return de.createElement(Zt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),Nr.renderCallByParent(this.props,null,!1),(!p||y)&&ll.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);if(yt(r))return r(i);var o=kt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return de.createElement(fw,Kc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);var o=a;if(yt(r)&&(o=r(i),de.isValidElement(o)))return o;var s=kt("recharts-pie-label-text",typeof r!="boolean"&&!yt(r)?r.className:"");return de.createElement(wu,Kc({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(re.PureComponent);yg=fs;ua(fs,"displayName","Pie");ua(fs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!md.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ua(fs,"parseDeltaAngle",function(t,e){var n=ei(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ua(fs,"getRealPieData",function(t){var e=t.data,n=t.children,r=gt(t,!1),i=Aa(n,Qv);return e&&e.length?e.map(function(a,o){return yn(yn(yn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return yn(yn({},r),a.props)}):[]});ua(fs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=PL(i,a),s=r+ti(t.cx,i,i/2),l=n+ti(t.cy,a,a/2),u=ti(t.innerRadius,o,0),c=ti(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});ua(fs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?yn(yn({},e.type.defaultProps),e.props):e.props,i=yg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,A=r.tooltipType,p=Math.abs(r.minAngle),y=yg.parseCoordinateOfPie(r,n),x=yg.parseDeltaAngle(o,s),S=Math.abs(x),v=u;Ot(u)&&Ot(f)?(Ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Ot(u)&&(Ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=i.filter(function(M){return Wr(M,v,0)!==0}).length,w=(S>=360?b:b-1)*l,T=S-b*p-w,C=i.reduce(function(M,I){var U=Wr(I,v,0);return M+(Ye(U)?U:0)},0),k;if(C>0){var E;k=i.map(function(M,I){var U=Wr(M,v,0),O=Wr(M,c,I),j=(Ye(U)?U:0)/C,$;I?$=E.endAngle+ei(x)*l*(U!==0?1:0):$=o;var F=$+ei(x)*((U!==0?p:0)+j*T),H=($+F)/2,R=(y.innerRadius+y.outerRadius)/2,B=[{name:O,value:U,payload:M,dataKey:v,type:A}],W=wn(y.cx,y.cy,R,H);return E=yn(yn(yn({percent:j,cornerRadius:a,name:O,tooltipPayload:B,midAngle:H,middleRadius:R,tooltipPosition:W},M),y),{},{value:Wr(M,v),startAngle:$,endAngle:F,payload:M,paddingAngle:ei(x)*l}),E})}return yn(yn({},y),{},{sectors:k,data:i})});var yye=Math.ceil,bye=Math.max;function xye(t,e,n,r){for(var i=-1,a=bye(yye((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var wye=xye,Sye=gD,H3=1/0,_ye=17976931348623157e292;function Tye(t){if(!t)return t===0?t:0;if(t=Sye(t),t===H3||t===-H3){var e=t<0?-1:1;return e*_ye}return t===t?t:0}var ZL=Tye,Cye=wye,Nye=Xv,F1=ZL;function Eye(t){return function(e,n,r){return r&&typeof r!="number"&&Nye(e,n,r)&&(n=r=void 0),e=F1(e),n===void 0?(n=e,e=0):n=F1(n),r=r===void 0?e<n?1:-1:F1(r),Cye(e,n,r,t)}}var kye=Eye,Pye=kye,Mye=Pye(),Oye=Mye;const B0=Wt(Oye);function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){eR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eR(t,e,n){return e=jye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jye(t){var e=Iye(t,"string");return Yp(e)=="symbol"?e:e+""}function Iye(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dye=["Webkit","Moz","O","ms"],Lye=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Dye.reduce(function(a,o){return V3(V3({},a),{},eR({},o+r,n))},{});return i[e]=n,i};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){Ei(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nR(r.key),r)}}function Fye(t,e,n){return e&&W3(t.prototype,e),n&&W3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ye(t,e,n){return e=q0(e),Bye(t,tR()?Reflect.construct(e,n||[],q0(t).constructor):e.apply(t,n))}function Bye(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uye(t)}function Uye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tR=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(t)}function qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function Ei(t,e,n){return e=nR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nR(t){var e=Hye(t,"string");return Lf(e)=="symbol"?e:e+""}function Hye(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Kh().domain(B0(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},Y3=function(e){return e.changedTouches&&!!e.changedTouches.length},Rf=function(t){function e(n){var r;return Rye(this,e),r=$ye(this,e,[n]),Ei(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ei(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ei(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ei(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ei(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ei(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ei(r,"handleSlideDragStart",function(i){var a=Y3(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return qye(e,t),Fye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),A=Math.max(i,a),p=e.getIndexInRange(o,f),y=e.getIndexInRange(o,A);return{startIndex:p-p%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Wr(a[r],s,r);return yt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,A=l.startIndex,p=l.endIndex,y=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,u+c-f-s,u+c-f-o):x<0&&(x=Math.max(x,u-o,u-s));var S=this.getIndex({startX:o+x,endX:s+x});(S.startIndex!==A||S.endIndex!==p)&&y&&y(S),this.setState({startX:o+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Y3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,A=c.width,p=c.travellerWidth,y=c.onChange,x=c.gap,S=c.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+A-p-u):b<0&&(b=Math.max(b,f-u)),v[o]=u+b;var w=this.getIndex(v),T=w.startIndex,C=w.endIndex,k=function(){var M=S.length-1;return o==="startX"&&(s>l?T%x===0:C%x===0)||s<l&&C===M||o==="endX"&&(s>l?C%x===0:T%x===0)||s>l&&C===M};this.setState(Ei(Ei({},o,u+b),"brushMoveStartX",r.pageX),function(){y&&k()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var A=f+r;if(!(A===-1||A>=s.length)){var p=s[A];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Ei({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return de.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=re.Children.only(u);return f?de.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,A=l.traveller,p=l.ariaLabel,y=l.data,x=l.startIndex,S=l.endIndex,v=Math.max(r,this.props.x),b=$1($1({},gt(this.props,!1)),{},{x:v,y:u,width:c,height:f}),w=p||"Min value: ".concat((a=y[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[S])===null||o===void 0?void 0:o.name);return de.createElement(Zt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(A,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,A=c.endX,p=5,y={pointerEvents:"none",fill:u};return de.createElement(Zt,{className:"recharts-brush-texts"},de.createElement(wu,U0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,A)-p,y:o+s/2},y),this.getTextOfTick(i)),de.createElement(wu,U0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,A)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,A=this.state,p=A.startX,y=A.endX,x=A.isTextActive,S=A.isSlideMoving,v=A.isTravellerMoving,b=A.isTravellerFocused;if(!i||!i.length||!Ye(s)||!Ye(l)||!Ye(u)||!Ye(c)||u<=0||c<=0)return null;var w=kt("recharts-brush",a),T=de.Children.count(o)===1,C=Lye("userSelect","none");return de.createElement(Zt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(x||S||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):yt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return $1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?zye({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var A=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(re.PureComponent);Ei(Rf,"displayName","Brush");Ei(Rf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vye=qS;function Gye(t,e){var n;return Vye(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Wye=Gye,Yye=zI,Kye=go,Jye=Wye,Xye=Si,Qye=Xv;function Zye(t,e,n){var r=Xye(t)?Yye:Jye;return n&&Qye(t,e,n)&&(e=void 0),r(t,Kye(e))}var ebe=Zye;const tbe=Wt(ebe);var co=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},K3=dD;function nbe(t,e,n){e=="__proto__"&&K3?K3(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var rbe=nbe,ibe=rbe,abe=cD,obe=go;function sbe(t,e){var n={};return e=obe(e),abe(t,function(r,i,a){ibe(n,i,e(r,i,a))}),n}var lbe=sbe;const ube=Wt(lbe);function cbe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var fbe=cbe,dbe=qS;function hbe(t,e){var n=!0;return dbe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var pbe=hbe,Abe=fbe,mbe=pbe,gbe=go,vbe=Si,ybe=Xv;function bbe(t,e,n){var r=vbe(t)?Abe:mbe;return n&&ybe(t,e,n)&&(e=void 0),r(t,gbe(e))}var xbe=bbe;const rR=Wt(xbe);var wbe=["x","y"];function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){Sbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sbe(t,e,n){return e=_be(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _be(t){var e=Tbe(t,"string");return Kp(e)=="symbol"?e:e+""}function Tbe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cbe(t,e){if(t==null)return{};var n=Nbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ebe(t,e){var n=t.x,r=t.y,i=Cbe(t,wbe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),A=parseInt(f,10);return vh(vh(vh(vh(vh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:A,name:e.name,radius:e.radius})}function X3(t){return de.createElement(JL,Ew({shapeType:"rectangle",propTransformer:Ebe,activeClassName:"recharts-active-bar"},t))}var kbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ye(r)||eee(r);return a?e(r,i):(a||_u(),n)}},Pbe=["value","background"],iR;function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function Mbe(t,e){if(t==null)return{};var n=Obe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Obe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){Ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oR(r.key),r)}}function Ibe(t,e,n){return e&&Z3(t.prototype,e),n&&Z3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dbe(t,e,n){return e=z0(e),Lbe(t,aR()?Reflect.construct(e,n||[],z0(t).constructor):e.apply(t,n))}function Lbe(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rbe(t)}function Rbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z0(t)}function Fbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kw(t,e)}function Ys(t,e,n){return e=oR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oR(t){var e=$be(t,"string");return Ff(e)=="symbol"?e:e+""}function $be(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fu=function(t){function e(){var n;jbe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Dbe(this,e,[].concat(i)),Ys(n,"state",{isAnimationFinished:!1}),Ys(n,"id",gA("recharts-bar-")),Ys(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ys(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Fbe(e,t),Ibe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=gt(this.props,!1);return r&&r.map(function(f,A){var p=A===l,y=p?u:o,x=tr(tr(tr({},c),f),{},{isActive:p,option:y,index:A,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(Zt,H0({className:"recharts-bar-rectangle"},xu(i.props,f,A),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(A)}),de.createElement(X3,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,A=this.state.prevData;return de.createElement(as,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,x=a.map(function(S,v){var b=A&&A[v];if(b){var w=js(b.x,S.x),T=js(b.y,S.y),C=js(b.width,S.width),k=js(b.height,S.height);return tr(tr({},S),{},{x:w(y),y:T(y),width:C(y),height:k(y)})}if(o==="horizontal"){var E=js(0,S.height),M=E(y);return tr(tr({},S),{},{y:S.y+S.height-M,height:M})}var I=js(0,S.width),U=I(y);return tr(tr({},S),{},{width:U})});return de.createElement(Zt,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ly(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=gt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,A=Mbe(u,Pbe);if(!f)return null;var p=tr(tr(tr(tr(tr({},A),{},{fill:"#eee"},f),l),xu(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return de.createElement(X3,H0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Aa(c,fy);if(!f)return null;var A=u==="vertical"?o[0].height/2:o[0].width/2,p=function(S,v){var b=Array.isArray(S.value)?S.value[1]:S.value;return{x:S.x,y:S.y,value:b,errorVal:Wr(S,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(Zt,y,f.map(function(x){return de.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:A,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,A=r.height,p=r.isAnimationActive,y=r.background,x=r.id;if(i||!a||!a.length)return null;var S=this.state.isAnimationFinished,v=kt("recharts-bar",o),b=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,T=b||w,C=Ot(x)?this.id:x;return de.createElement(Zt,{className:v},b||w?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(C)},de.createElement("rect",{x:b?u:u-f/2,y:w?c:c-A/2,width:b?f:f*2,height:w?A:A*2}))):null,de.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!p||S)&&ll.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(re.PureComponent);iR=Fu;Ys(Fu,"displayName","Bar");Ys(Fu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!md.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ys(Fu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,A=t.offset,p=vAe(r,n);if(!p)return null;var y=e.layout,x=n.type.defaultProps,S=x!==void 0?tr(tr({},x),n.props):n.props,v=S.dataKey,b=S.children,w=S.minPointSize,T=y==="horizontal"?o:a,C=u?T.scale.domain():null,k=TAe({numericAxis:T}),E=Aa(b,Qv),M=f.map(function(I,U){var O,j,$,F,H,R;u?O=yAe(u[c+U],C):(O=Wr(I,v),Array.isArray(O)||(O=[k,O]));var B=kbe(w,iR.defaultProps.minPointSize)(O[1],U);if(y==="horizontal"){var W,K=[o.scale(O[0]),o.scale(O[1])],Z=K[0],se=K[1];j=q4({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:I,index:U}),$=(W=se??Z)!==null&&W!==void 0?W:void 0,F=p.size;var L=Z-se;if(H=Number.isNaN(L)?0:L,R={x:j,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(H)<Math.abs(B)){var z=ei(H||B)*(Math.abs(B)-Math.abs(H));$-=z,H+=z}}else{var Q=[a.scale(O[0]),a.scale(O[1])],te=Q[0],ae=Q[1];if(j=te,$=q4({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:I,index:U}),F=ae-te,H=p.size,R={x:a.x,y:$,width:a.width,height:H},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var me=ei(F||B)*(Math.abs(B)-Math.abs(F));F+=me}}return tr(tr(tr({},I),{},{x:j,y:$,width:F,height:H,value:u?O:O[1],payload:I,background:R},E&&E[U]&&E[U].props),{},{tooltipPayload:[EL(n,I)],tooltipPosition:{x:j+F/2,y:$+H/2}})});return tr({data:M,layout:y},A)});function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Bbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sR(r.key),r)}}function Ube(t,e,n){return e&&eP(t.prototype,e),n&&eP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vy(t,e,n){return e=sR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sR(t){var e=qbe(t,"string");return Jp(e)=="symbol"?e:e+""}function qbe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hbe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},A=!!Pi(u,Fu);return c.reduce(function(p,y){var x=n[y],S=x.orientation,v=x.domain,b=x.padding,w=b===void 0?{}:b,T=x.mirror,C=x.reversed,k="".concat(S).concat(T?"Mirror":""),E,M,I,U,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var j=v[1]-v[0],$=1/0,F=x.categoricalDomain.sort(ree);if(F.forEach(function(Q,te){te>0&&($=Math.min((Q||0)-(F[te-1]||0),$))}),Number.isFinite($)){var H=$/j,R=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(E=H*R/2),x.padding==="no-gap"){var B=ti(e.barCategoryGap,H*R),W=H*R/2;E=W-B-(W-B)/R*B}}}i==="xAxis"?M=[r.left+(w.left||0)+(E||0),r.left+r.width-(w.right||0)-(E||0)]:i==="yAxis"?M=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(E||0),r.top+r.height-(w.bottom||0)-(E||0)]:M=x.range,C&&(M=[M[1],M[0]]);var K=_L(x,a,A),Z=K.scale,se=K.realScaleType;Z.domain(v).range(M),TL(Z);var L=CL(Z,Ra(Ra({},x),{},{realScaleType:se}));i==="xAxis"?(O=S==="top"&&!T||S==="bottom"&&T,I=r.left,U=f[k]-O*x.height):i==="yAxis"&&(O=S==="left"&&!T||S==="right"&&T,I=f[k]-O*x.width,U=r.top);var z=Ra(Ra(Ra({},x),L),{},{realScaleType:se,x:I,y:U,scale:Z,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return z.bandSize=E0(z,L),!x.hide&&i==="xAxis"?f[k]+=(O?-1:1)*z.height:x.hide||(f[k]+=(O?-1:1)*z.width),Ra(Ra({},p),{},vy({},y,z))},{})},lR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},zbe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return lR({x:n,y:r},{x:i,y:a})},uR=function(){function t(e){Bbe(this,t),this.scale=e}return Ube(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();vy(uR,"EPS",1e-4);var v_=function(e){var n=Object.keys(e).reduce(function(r,i){return Ra(Ra({},r),{},vy({},i,uR.create(e[i])))},{});return Ra(Ra({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return ube(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return rR(i,function(a,o){return n[o].isInRange(a)})}})};function Vbe(t){return(t%180+180)%180}var Gbe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vbe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Wbe=go,Ybe=vA,Kbe=Kv;function Jbe(t){return function(e,n,r){var i=Object(e);if(!Ybe(e)){var a=Wbe(n);e=Kbe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Xbe=Jbe,Qbe=ZL;function Zbe(t){var e=Qbe(t),n=e%1;return e===e?n?e-n:e:0}var e1e=Zbe,t1e=iD,n1e=go,r1e=e1e,i1e=Math.max;function a1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:r1e(n);return i<0&&(i=i1e(r+i,0)),t1e(t,n1e(e),i)}var o1e=a1e,s1e=Xbe,l1e=o1e,u1e=s1e(l1e),c1e=u1e;const f1e=Wt(c1e);var d1e=oZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),y_=re.createContext(void 0),b_=re.createContext(void 0),cR=re.createContext(void 0),fR=re.createContext({}),dR=re.createContext(void 0),hR=re.createContext(0),pR=re.createContext(0),nP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=d1e(a);return de.createElement(y_.Provider,{value:r},de.createElement(b_.Provider,{value:i},de.createElement(fR.Provider,{value:a},de.createElement(cR.Provider,{value:c},de.createElement(dR.Provider,{value:o},de.createElement(hR.Provider,{value:u},de.createElement(pR.Provider,{value:l},s)))))))},h1e=function(){return re.useContext(dR)},AR=function(e){var n=re.useContext(y_);n==null&&_u();var r=n[e];return r==null&&_u(),r},p1e=function(){var e=re.useContext(y_);return Bs(e)},A1e=function(){var e=re.useContext(b_),n=f1e(e,function(r){return rR(r.domain,Number.isFinite)});return n||Bs(e)},mR=function(e){var n=re.useContext(b_);n==null&&_u();var r=n[e];return r==null&&_u(),r},m1e=function(){var e=re.useContext(cR);return e},g1e=function(){return re.useContext(fR)},x_=function(){return re.useContext(pR)},w_=function(){return re.useContext(hR)};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function v1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vR(r.key),r)}}function b1e(t,e,n){return e&&y1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x1e(t,e,n){return e=V0(e),w1e(t,gR()?Reflect.construct(e,n||[],V0(t).constructor):e.apply(t,n))}function w1e(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S1e(t)}function S1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(t)}function _1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pw(t,e)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){S_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_(t,e,n){return e=vR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vR(t){var e=T1e(t,"string");return $f(e)=="symbol"?e:e+""}function T1e(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function C1e(t,e){return P1e(t)||k1e(t,e)||E1e(t,e)||N1e()}function N1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(t,e){if(t){if(typeof t=="string")return aP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(t,e)}}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function P1e(t){if(Array.isArray(t))return t}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}var M1e=function(e,n){var r;return de.isValidElement(e)?r=de.cloneElement(e,n):yt(e)?r=e(n):r=de.createElement("line",Mw({},n,{className:"recharts-reference-line-line"})),r},O1e=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,A=a.width,p=a.height;if(r){var y=u.y,x=e.y.apply(y,{position:o});if(co(u,"discard")&&!e.y.isInRange(x))return null;var S=[{x:c+A,y:x},{x:c,y:x}];return l==="left"?S.reverse():S}if(n){var v=u.x,b=e.x.apply(v,{position:o});if(co(u,"discard")&&!e.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?w.reverse():w}if(i){var T=u.segment,C=T.map(function(k){return e.apply(k,{position:o})});return co(u,"discard")&&tbe(C,function(k){return!e.isInRange(k)})?null:C}return null};function j1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=h1e(),c=AR(i),f=mR(a),A=m1e();if(!u||!A)return null;Ba(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=v_({x:c.scale,y:f.scale}),y=gr(e),x=gr(n),S=r&&r.length===2,v=O1e(p,y,x,S,A,t.position,c.orientation,f.orientation,t);if(!v)return null;var b=C1e(v,2),w=b[0],T=w.x,C=w.y,k=b[1],E=k.x,M=k.y,I=co(t,"hidden")?"url(#".concat(u,")"):void 0,U=iP(iP({clipPath:I},gt(t,!0)),{},{x1:T,y1:C,x2:E,y2:M});return de.createElement(Zt,{className:kt("recharts-reference-line",s)},M1e(o,U),Nr.renderCallByParent(t,zbe({x1:T,y1:C,x2:E,y2:M})))}var __=function(t){function e(){return v1e(this,e),x1e(this,e,arguments)}return _1e(e,t),b1e(e,[{key:"render",value:function(){return de.createElement(j1e,this.props)}}])}(de.Component);S_(__,"displayName","ReferenceLine");S_(__,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){yy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bR(r.key),r)}}function L1e(t,e,n){return e&&D1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R1e(t,e,n){return e=G0(e),F1e(t,yR()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function F1e(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(t)}function $1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yR=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function B1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function yy(t,e,n){return e=bR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bR(t){var e=U1e(t,"string");return Bf(e)=="symbol"?e:e+""}function U1e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q1e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=v_({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return co(e,"discard")&&!o.isInRange(s)?null:s},by=function(t){function e(){return I1e(this,e),R1e(this,e,arguments)}return B1e(e,t),L1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=gr(i),c=gr(a);if(Ba(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=q1e(this.props);if(!f)return null;var A=f.x,p=f.y,y=this.props,x=y.shape,S=y.className,v=co(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=sP(sP({clipPath:v},gt(this.props,!0)),{},{cx:A,cy:p});return de.createElement(Zt,{className:kt("recharts-reference-dot",S)},e.renderDot(x,b),Nr.renderCallByParent(this.props,{x:A-o,y:p-o,width:2*o,height:2*o}))}}])}(de.Component);yy(by,"displayName","ReferenceDot");yy(by,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yy(by,"renderDot",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(g_,Ow({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wR(r.key),r)}}function V1e(t,e,n){return e&&z1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G1e(t,e,n){return e=W0(e),W1e(t,xR()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function W1e(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(t)}function Y1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xR=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function K1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dw(t,e)}function xy(t,e,n){return e=wR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wR(t){var e=J1e(t,"string");return Uf(e)=="symbol"?e:e+""}function J1e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var X1e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var A=v_({x:c.scale,y:f.scale}),p={x:e?A.x.apply(o,{position:"start"}):A.x.rangeMin,y:r?A.y.apply(l,{position:"start"}):A.y.rangeMin},y={x:n?A.x.apply(s,{position:"end"}):A.x.rangeMax,y:i?A.y.apply(u,{position:"end"}):A.y.rangeMax};return co(a,"discard")&&(!A.isInRange(p)||!A.isInRange(y))?null:lR(p,y)},wy=function(t){function e(){return H1e(this,e),G1e(this,e,arguments)}return K1e(e,t),V1e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ba(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gr(i),A=gr(a),p=gr(o),y=gr(s),x=this.props.shape;if(!f&&!A&&!p&&!y&&!x)return null;var S=X1e(f,A,p,y,this.props);if(!S&&!x)return null;var v=co(this.props,"hidden")?"url(#".concat(c,")"):void 0;return de.createElement(Zt,{className:kt("recharts-reference-area",l)},e.renderRect(x,uP(uP({clipPath:v},gt(this.props,!0)),S)),Nr.renderCallByParent(this.props,S))}}])}(de.Component);xy(wy,"displayName","ReferenceArea");xy(wy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xy(wy,"renderRect",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(m_,Iw({},e,{className:"recharts-reference-area-rect"})),n});function SR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Q1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Gbe(r,n)}function Z1e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Y0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function exe(t,e){return SR(t,e+1)}function txe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:SR(r,u)};var x=l,S,v=function(){return S===void 0&&(S=n(y,x)),S},b=y.coordinate,w=l===0||Y0(t,b,v,c,s);w||(l=0,c=o,u+=1),w&&(c=b+t*(v()/2+i),l+=u)},A;u<=a.length;)if(A=f(),A)return A.v;return[]}function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nxe(t,e,n){return e=rxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rxe(t){var e=ixe(t,"string");return Xp(e)=="symbol"?e:e+""}function ixe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function axe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(A){var p=a[A],y,x=function(){return y===void 0&&(y=n(p,A)),y};if(A===o-1){var S=t*(p.coordinate+t*x()/2-l);a[A]=p=zr(zr({},p),{},{tickCoord:S>0?p.coordinate-S*t:p.coordinate})}else a[A]=p=zr(zr({},p),{},{tickCoord:p.coordinate});var v=Y0(t,p.tickCoord,x,s,l);v&&(l=p.tickCoord-t*(x()/2+i),a[A]=zr(zr({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function oxe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),A=t*(c.coordinate+t*f/2-u);o[s-1]=c=zr(zr({},c),{},{tickCoord:A>0?c.coordinate-A*t:c.coordinate});var p=Y0(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=zr(zr({},c),{},{isShow:!0}))}for(var y=a?s-1:s,x=function(b){var w=o[b],T,C=function(){return T===void 0&&(T=n(w,b)),T};if(b===0){var k=t*(w.coordinate-t*C()/2-l);o[b]=w=zr(zr({},w),{},{tickCoord:k<0?w.coordinate-k*t:w.coordinate})}else o[b]=w=zr(zr({},w),{},{tickCoord:w.coordinate});var E=Y0(t,w.tickCoord,C,l,u);E&&(l=w.tickCoord+t*(C()/2+i),o[b]=zr(zr({},w),{},{isShow:!0}))},S=0;S<y;S++)x(S);return o}function T_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ye(l)||md.isSsr)return exe(i,typeof l=="number"&&Ye(l)?l:0);var A=[],p=s==="top"||s==="bottom"?"width":"height",y=c&&p==="width"?Yh(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(w,T){var C=yt(u)?u(w.value,T):w.value;return p==="width"?Q1e(Yh(C,{fontSize:e,letterSpacing:n}),y,f):Yh(C,{fontSize:e,letterSpacing:n})[p]},S=i.length>=2?ei(i[1].coordinate-i[0].coordinate):1,v=Z1e(a,S,p);return l==="equidistantPreserveStart"?txe(S,v,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?A=oxe(S,v,x,i,o,l==="preserveStartEnd"):A=axe(S,v,x,i,o),A.filter(function(b){return b.isShow}))}var sxe=["viewBox"],lxe=["viewBox"],uxe=["ticks"];function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){C_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1(t,e){if(t==null)return{};var n=cxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TR(r.key),r)}}function dxe(t,e,n){return e&&dP(t.prototype,e),n&&dP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hxe(t,e,n){return e=K0(e),pxe(t,_R()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function pxe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Axe(t)}function Axe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function mxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function C_(t,e,n){return e=TR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TR(t){var e=gxe(t,"string");return qf(e)=="symbol"?e:e+""}function gxe(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bd=function(t){function e(n){var r;return fxe(this,e),r=hxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return mxe(e,t),dxe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=B1(r,sxe),s=this.props,l=s.viewBox,u=B1(s,lxe);return!uf(a,l)||!uf(o,u)||!uf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,A=i.tickMargin,p,y,x,S,v,b,w=f?-1:1,T=r.tickSize||c,C=Ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,S=o+ +!f*l,x=S-w*T,b=x-w*A,v=C;break;case"left":x=S=r.coordinate,y=a+ +!f*s,p=y-w*T,v=p-w*A,b=C;break;case"right":x=S=r.coordinate,y=a+ +f*s,p=y+w*T,v=p+w*A,b=C;break;default:p=y=r.coordinate,S=o+ +f*l,x=S+w*T,b=x+w*A,v=C;break}return{line:{x1:p,y1:x,x2:y,y2:S},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=fr(fr(fr({},gt(this.props,!1)),gt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var A=+(l==="top"&&!u||l==="bottom"&&u);f=fr(fr({},f),{},{x1:i,y1:a+A*s,x2:i+o,y2:a+A*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=fr(fr({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return de.createElement("line",Jc({},f,{className:kt("recharts-cartesian-axis-line",Ui(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,A=s.unit,p=T_(fr(fr({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),S=gt(this.props,!1),v=gt(c,!1),b=fr(fr({},S),{},{fill:"none"},gt(l,!1)),w=p.map(function(T,C){var k=o.getTickLineCoord(T),E=k.line,M=k.tick,I=fr(fr(fr(fr({textAnchor:y,verticalAnchor:x},S),{},{stroke:"none",fill:u},v),M),{},{index:C,payload:T,visibleTicksCount:p.length,tickFormatter:f});return de.createElement(Zt,Jc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},xu(o.props,T,C)),l&&de.createElement("line",Jc({},b,E,{className:kt("recharts-cartesian-axis-tick-line",Ui(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(yt(f)?f(T.value,C):T.value).concat(A||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,A=f.ticks,p=B1(f,uxe),y=A;return yt(l)&&(y=A&&A.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:de.createElement(Zt,{className:kt("recharts-cartesian-axis",u),ref:function(S){r.layerReference=S}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=kt(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?o=de.cloneElement(r,fr(fr({},i),{},{className:s})):yt(r)?o=r(fr(fr({},i),{},{className:s})):o=de.createElement(wu,Jc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(re.Component);C_(bd,"displayName","CartesianAxis");C_(bd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vxe=["x1","y1","x2","y2","key"],yxe=["offset"];function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){bxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bxe(t,e,n){return e=xxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xxe(t){var e=wxe(t,"string");return Tu(e)=="symbol"?e:e+""}function wxe(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}function pP(t,e){if(t==null)return{};var n=Sxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _xe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return de.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function CR(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(yt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=pP(e,vxe),u=gt(l,!1);u.offset;var c=pP(u,yxe);n=de.createElement("line",nu({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Txe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Vr(Vr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return CR(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Cxe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Vr(Vr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return CR(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Nxe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(A){return Math.round(A+i-i)}).sort(function(A,p){return A-p});i!==c[0]&&c.unshift(0);var f=c.map(function(A,p){var y=!c[p+1],x=y?i+o-A:c[p+1]-A;if(x<=0)return null;var S=p%e.length;return de.createElement("rect",{key:"react-".concat(p),y:A,x:r,height:x,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Exe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(A){return Math.round(A+a-a)}).sort(function(A,p){return A-p});a!==c[0]&&c.unshift(0);var f=c.map(function(A,p){var y=!c[p+1],x=y?a+s-A:c[p+1]-A;if(x<=0)return null;var S=p%r.length;return de.createElement("rect",{key:"react-".concat(p),x:A,y:o,width:x,height:l,stroke:"none",fill:r[S],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var kxe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return SL(T_(Vr(Vr(Vr({},bd.defaultProps),r),{},{ticks:Vo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Pxe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return SL(T_(Vr(Vr(Vr({},bd.defaultProps),r),{},{ticks:Vo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},bc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function NR(t){var e,n,r,i,a,o,s=x_(),l=w_(),u=g1e(),c=Vr(Vr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:bc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:bc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:bc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:bc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:bc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:bc.verticalFill,x:Ye(t.x)?t.x:u.left,y:Ye(t.y)?t.y:u.top,width:Ye(t.width)?t.width:u.width,height:Ye(t.height)?t.height:u.height}),f=c.x,A=c.y,p=c.width,y=c.height,x=c.syncWithTicks,S=c.horizontalValues,v=c.verticalValues,b=p1e(),w=A1e();if(!Ye(p)||p<=0||!Ye(y)||y<=0||!Ye(f)||f!==+f||!Ye(A)||A!==+A)return null;var T=c.verticalCoordinatesGenerator||kxe,C=c.horizontalCoordinatesGenerator||Pxe,k=c.horizontalPoints,E=c.verticalPoints;if((!k||!k.length)&&yt(C)){var M=S&&S.length,I=C({yAxis:w?Vr(Vr({},w),{},{ticks:M?S:w.ticks}):void 0,width:s,height:l,offset:u},M?!0:x);Ba(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(I),"]")),Array.isArray(I)&&(k=I)}if((!E||!E.length)&&yt(T)){var U=v&&v.length,O=T({xAxis:b?Vr(Vr({},b),{},{ticks:U?v:b.ticks}):void 0,width:s,height:l,offset:u},U?!0:x);Ba(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(O),"]")),Array.isArray(O)&&(E=O)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(_xe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),de.createElement(Txe,nu({},c,{offset:u,horizontalPoints:k,xAxis:b,yAxis:w})),de.createElement(Cxe,nu({},c,{offset:u,verticalPoints:E,xAxis:b,yAxis:w})),de.createElement(Nxe,nu({},c,{horizontalPoints:k})),de.createElement(Exe,nu({},c,{verticalPoints:E})))}NR.displayName="CartesianGrid";function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PR(r.key),r)}}function jxe(t,e,n){return e&&Oxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ixe(t,e,n){return e=J0(e),Dxe(t,ER()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function Dxe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lxe(t)}function Lxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ER(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function Rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function kR(t,e,n){return e=PR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PR(t){var e=Fxe(t,"string");return Hf(e)=="symbol"?e:e+""}function Fxe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function $xe(t){var e=t.xAxisId,n=x_(),r=w_(),i=AR(e);return i==null?null:re.createElement(bd,Fw({},i,{className:kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Vo(o,!0)}}))}var Sy=function(t){function e(){return Mxe(this,e),Ixe(this,e,arguments)}return Rxe(e,t),jxe(e,[{key:"render",value:function(){return re.createElement($xe,this.props)}}])}(re.Component);kR(Sy,"displayName","XAxis");kR(Sy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Bxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function qxe(t,e,n){return e&&Uxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hxe(t,e,n){return e=X0(e),zxe(t,MR()?Reflect.construct(e,n||[],X0(t).constructor):e.apply(t,n))}function zxe(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vxe(t)}function Vxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function Gxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$w(t,e)}function OR(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jR(t){var e=Wxe(t,"string");return zf(e)=="symbol"?e:e+""}function Wxe(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}var Yxe=function(e){var n=e.yAxisId,r=x_(),i=w_(),a=mR(n);return a==null?null:re.createElement(bd,Bw({},a,{className:kt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Vo(s,!0)}}))},_y=function(t){function e(){return Bxe(this,e),Hxe(this,e,arguments)}return Gxe(e,t),qxe(e,[{key:"render",value:function(){return re.createElement(Yxe,this.props)}}])}(re.Component);OR(_y,"displayName","YAxis");OR(_y,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AP(t){return Qxe(t)||Xxe(t)||Jxe(t)||Kxe()}function Kxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jxe(t,e){if(t){if(typeof t=="string")return Uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uw(t,e)}}function Xxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qxe(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qw=function(e,n,r,i,a){var o=Aa(e,__),s=Aa(e,by),l=[].concat(AP(o),AP(s)),u=Aa(e,wy),c="".concat(i,"Id"),f=i[0],A=n;if(l.length&&(A=l.reduce(function(x,S){if(S.props[c]===r&&co(S.props,"extendDomain")&&Ye(S.props[f])){var v=S.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},A)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");A=u.reduce(function(x,S){if(S.props[c]===r&&co(S.props,"extendDomain")&&Ye(S.props[p])&&Ye(S.props[y])){var v=S.props[p],b=S.props[y];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},A)}return a&&a.length&&(A=a.reduce(function(x,S){return Ye(S)?[Math.min(x[0],S),Math.max(x[1],S)]:x},A)),A},IR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,A){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,A),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var A=0,p=f.length,y=new Array(p);A<p;A++)y[A]=f[A].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,A,p,y){var x=n?n+u:u;if(!this._events[x])return!1;var S=this._events[x],v=arguments.length,b,w;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),v){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,c),!0;case 3:return S.fn.call(S.context,c,f),!0;case 4:return S.fn.call(S.context,c,f,A),!0;case 5:return S.fn.call(S.context,c,f,A,p),!0;case 6:return S.fn.call(S.context,c,f,A,p,y),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];S.fn.apply(S.context,b)}else{var T=S.length,C;for(w=0;w<T;w++)switch(S[w].once&&this.removeListener(u,S[w].fn,void 0,!0),v){case 1:S[w].fn.call(S[w].context);break;case 2:S[w].fn.call(S[w].context,c);break;case 3:S[w].fn.call(S[w].context,c,f);break;case 4:S[w].fn.call(S[w].context,c,f,A);break;default:if(!b)for(C=1,b=new Array(v-1);C<v;C++)b[C-1]=arguments[C];S[w].fn.apply(S[w].context,b)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,A){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===c&&(!A||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var x=0,S=[],v=y.length;x<v;x++)(y[x].fn!==c||A&&!y[x].once||f&&y[x].context!==f)&&S.push(y[x]);S.length?this._events[p]=S.length===1?S[0]:S:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(IR);var Zxe=IR.exports;const e2e=Wt(Zxe);var U1=new e2e,q1="recharts.syncMouseEvents";function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function t2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function r2e(t,e,n){return e&&n2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H1(t,e,n){return e=DR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DR(t){var e=i2e(t,"string");return Qp(e)=="symbol"?e:e+""}function i2e(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a2e=function(){function t(){t2e(this,t),H1(this,"activeIndex",0),H1(this,"coordinateList",[]),H1(this,"layout","horizontal")}return r2e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,A=n.mouseHandlerCallback,p=A===void 0?null:A;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,A=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:A})}}}])}();function o2e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ye(r)&&Ye(i))return!0}return!1}function s2e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function LR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=wn(e,n,r,i),s=wn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function l2e(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,A=wn(s,l,u,f),p=wn(s,l,c,f);r=A.x,i=A.y,a=p.x,o=p.y}else return LR(e);return[{x:r,y:i},{x:a,y:o}]}function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){u2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u2e(t,e,n){return e=c2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2e(t){var e=f2e(t,"string");return Zp(e)=="symbol"?e:e+""}function f2e(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d2e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,A=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||A!=="ScatterChart"&&i!=="axis")return null;var y,x=fw;if(A==="ScatterChart")y=o,x=H0e;else if(A==="BarChart")y=s2e(f,o,l,c),x=m_;else if(f==="radial"){var S=LR(o),v=S.cx,b=S.cy,w=S.radius,T=S.startAngle,C=S.endAngle;y={cx:v,cy:b,startAngle:T,endAngle:C,innerRadius:w,outerRadius:w},x=IL}else y={points:l2e(f,o,l)},x=fw;var k=Jm(Jm(Jm(Jm({stroke:"#ccc",pointerEvents:"none"},l),y),gt(p,!1)),{},{payload:s,payloadIndex:u,className:kt("recharts-tooltip-cursor",p.className)});return re.isValidElement(p)?re.cloneElement(p,k):re.createElement(x,k)}var h2e=["item"],p2e=["children","className","width","height","style","compact","title","desc"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function gP(t,e){return g2e(t)||m2e(t,e)||FR(t,e)||A2e()}function A2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function g2e(t){if(Array.isArray(t))return t}function vP(t,e){if(t==null)return{};var n=v2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function x2e(t,e,n){return e&&b2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w2e(t,e,n){return e=Q0(e),S2e(t,RR()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function S2e(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _2e(t)}function _2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RR=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function T2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function Gf(t){return E2e(t)||N2e(t)||FR(t)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FR(t,e){if(t){if(typeof t=="string")return zw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zw(t,e)}}function N2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E2e(t){if(Array.isArray(t))return zw(t)}function zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){pt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pt(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=k2e(t,"string");return Vf(e)=="symbol"?e:e+""}function k2e(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P2e={xAxis:["bottom","top"],yAxis:["left","right"]},M2e={width:"100%",height:"100%"},BR={x:0,y:0};function Xm(t){return t}var O2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},j2e=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ie(Ie(Ie({},i),wn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Ie(Ie(Ie({},i),wn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return BR},Ty=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Gf(s),Gf(u)):s},[]);return o.length>0?o:e&&e.length&&Ye(i)&&Ye(a)?e.slice(i,a+1):[]};function UR(t){return t==="number"?[0,"auto"]:void 0}var Vw=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ty(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var A;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;A=y2(p,o.dataKey,i)}else A=f&&f[r]||s[r];return A?[].concat(Gf(l),[EL(u,A)]):l},[])},bP=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=O2e(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=dAe(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,A=Vw(e,n,c,f),p=j2e(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:A,activeCoordinate:p}}return null},I2e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,A=e.stackOffset,p=wL(c,a);return r.reduce(function(y,x){var S,v=x.type.defaultProps!==void 0?Ie(Ie({},x.type.defaultProps),x.props):x.props,b=v.type,w=v.dataKey,T=v.allowDataOverflow,C=v.allowDuplicatedCategory,k=v.scale,E=v.ticks,M=v.includeHidden,I=v[o];if(y[I])return y;var U=Ty(e.data,{graphicalItems:i.filter(function(L){var z,Q=o in L.props?L.props[o]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[o];return Q===I}),dataStartIndex:l,dataEndIndex:u}),O=U.length,j,$,F;o2e(v.domain,T,b)&&(j=ow(v.domain,null,T),p&&(b==="number"||k!=="auto")&&(F=Jh(U,w,"category")));var H=UR(b);if(!j||j.length===0){var R,B=(R=v.domain)!==null&&R!==void 0?R:H;if(w){if(j=Jh(U,w,b),b==="category"&&p){var W=nee(j);C&&W?($=j,j=B0(0,O)):C||(j=V4(B,j,x).reduce(function(L,z){return L.indexOf(z)>=0?L:[].concat(Gf(L),[z])},[]))}else if(b==="category")C?j=j.filter(function(L){return L!==""&&!Ot(L)}):j=V4(B,j,x).reduce(function(L,z){return L.indexOf(z)>=0||z===""||Ot(z)?L:[].concat(Gf(L),[z])},[]);else if(b==="number"){var K=gAe(U,i.filter(function(L){var z,Q,te=o in L.props?L.props[o]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[o],ae="hide"in L.props?L.props.hide:(Q=L.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return te===I&&(M||!ae)}),w,a,c);K&&(j=K)}p&&(b==="number"||k!=="auto")&&(F=Jh(U,w,"category"))}else p?j=B0(0,O):s&&s[I]&&s[I].hasStack&&b==="number"?j=A==="expand"?[0,1]:NL(s[I].stackGroups,l,u):j=xL(U,i.filter(function(L){var z=o in L.props?L.props[o]:L.type.defaultProps[o],Q="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return z===I&&(M||!Q)}),b,c,!0);if(b==="number")j=qw(f,j,I,a,E),B&&(j=ow(B,j,T));else if(b==="category"&&B){var Z=B,se=j.every(function(L){return Z.indexOf(L)>=0});se&&(j=Z)}}return Ie(Ie({},y),{},pt({},I,Ie(Ie({},v),{},{axisType:a,domain:j,categoricalDomain:F,duplicateDomain:$,originalDomain:(S=v.domain)!==null&&S!==void 0?S:H,isCategorical:p,layout:c})))},{})},D2e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,A=Ty(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=A.length,y=wL(c,a),x=-1;return r.reduce(function(S,v){var b=v.type.defaultProps!==void 0?Ie(Ie({},v.type.defaultProps),v.props):v.props,w=b[o],T=UR("number");if(!S[w]){x++;var C;return y?C=B0(0,p):s&&s[w]&&s[w].hasStack?(C=NL(s[w].stackGroups,l,u),C=qw(f,C,w,a)):(C=ow(T,xL(A,r.filter(function(k){var E,M,I=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],U="hide"in k.props?k.props.hide:(M=k.type.defaultProps)===null||M===void 0?void 0:M.hide;return I===w&&!U}),"number",c),i.defaultProps.allowDataOverflow),C=qw(f,C,w,a)),Ie(Ie({},S),{},pt({},w,Ie(Ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ui(P2e,"".concat(a,".").concat(x%2),null),domain:C,originalDomain:T,isCategorical:y,layout:c})))}return S},{})},L2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),A=Aa(c,a),p={};return A&&A.length?p=I2e(e,{axes:A,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=D2e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},R2e=function(e){var n=Bs(e),r=Vo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:HS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:E0(n,r)}},xP=function(e){var n=e.children,r=e.defaultShowTooltip,i=Pi(n,Rf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},F2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ko(n&&n.type);return r&&r.indexOf("Bar")>=0})},wP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$2e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,A=r.margin||{},p=Pi(f,Rf),y=Pi(f,ol),x=Object.keys(l).reduce(function(C,k){var E=l[k],M=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},pt({},M,C[M]+E.width)):C},{left:A.left||0,right:A.right||0}),S=Object.keys(o).reduce(function(C,k){var E=o[k],M=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},pt({},M,Ui(C,"".concat(M))+E.height)):C},{top:A.top||0,bottom:A.bottom||0}),v=Ie(Ie({},S),x),b=v.bottom;p&&(v.bottom+=p.props.height||Rf.defaultProps.height),y&&n&&(v=AAe(v,i,r,n));var w=u-v.left-v.right,T=c-v.top-v.bottom;return Ie(Ie({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(T,0)})},B2e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},qR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,A=function(v,b){var w=b.graphicalItems,T=b.stackGroups,C=b.offset,k=b.updateId,E=b.dataStartIndex,M=b.dataEndIndex,I=v.barSize,U=v.layout,O=v.barGap,j=v.barCategoryGap,$=v.maxBarSize,F=wP(U),H=F.numericAxisName,R=F.cateAxisName,B=F2e(w),W=[];return w.forEach(function(K,Z){var se=Ty(v.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:M}),L=K.type.defaultProps!==void 0?Ie(Ie({},K.type.defaultProps),K.props):K.props,z=L.dataKey,Q=L.maxBarSize,te=L["".concat(H,"Id")],ae=L["".concat(R,"Id")],me={},he=l.reduce(function(ye,ke){var be=b["".concat(ke.axisType,"Map")],Ve=L["".concat(ke.axisType,"Id")];be&&be[Ve]||ke.axisType==="zAxis"||_u();var Ge=be[Ve];return Ie(Ie({},ye),{},pt(pt({},ke.axisType,Ge),"".concat(ke.axisType,"Ticks"),Vo(Ge)))},me),G=he[R],le=he["".concat(R,"Ticks")],ce=T&&T[te]&&T[te].hasStack&&CAe(K,T[te].stackGroups),ue=Ko(K.type).indexOf("Bar")>=0,Me=E0(G,le),De=[],Ce=B&&hAe({barSize:I,stackGroups:T,totalSize:B2e(he,R)});if(ue){var ne,Ne,Ee=Ot(Q)?$:Q,xe=(ne=(Ne=E0(G,le,!0))!==null&&Ne!==void 0?Ne:Ee)!==null&&ne!==void 0?ne:0;De=pAe({barGap:O,barCategoryGap:j,bandSize:xe!==Me?xe:Me,sizeList:Ce[ae],maxBarSize:Ee}),xe!==Me&&(De=De.map(function(ye){return Ie(Ie({},ye),{},{position:Ie(Ie({},ye.position),{},{offset:ye.position.offset-xe/2})})}))}var Pe=K&&K.type&&K.type.getComposedData;Pe&&W.push({props:Ie(Ie({},Pe(Ie(Ie({},he),{},{displayedData:se,props:v,dataKey:z,item:K,bandSize:Me,barPosition:De,offset:C,stackedData:ce,layout:U,dataStartIndex:E,dataEndIndex:M}))),{},pt(pt(pt({key:K.key||"item-".concat(Z)},H,he[H]),R,he[R]),"animationId",k)),childIndex:pee(K,v.children),item:K})}),W},p=function(v,b){var w=v.props,T=v.dataStartIndex,C=v.dataEndIndex,k=v.updateId;if(!FE({props:w}))return null;var E=w.children,M=w.layout,I=w.stackOffset,U=w.data,O=w.reverseStackOrder,j=wP(M),$=j.numericAxisName,F=j.cateAxisName,H=Aa(E,r),R=_Ae(U,H,"".concat($,"Id"),"".concat(F,"Id"),I,O),B=l.reduce(function(L,z){var Q="".concat(z.axisType,"Map");return Ie(Ie({},L),{},pt({},Q,L2e(w,Ie(Ie({},z),{},{graphicalItems:H,stackGroups:z.axisType===$&&R,dataStartIndex:T,dataEndIndex:C}))))},{}),W=$2e(Ie(Ie({},B),{},{props:w,graphicalItems:H}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(L){B[L]=c(w,B[L],W,L.replace("Map",""),n)});var K=B["".concat(F,"Map")],Z=R2e(K),se=A(w,Ie(Ie({},B),{},{dataStartIndex:T,dataEndIndex:C,updateId:k,graphicalItems:H,stackGroups:R,offset:W}));return Ie(Ie({formattedGraphicalItems:se,graphicalItems:H,offset:W,stackGroups:R},Z),B)},y=function(S){function v(b){var w,T,C;return y2e(this,v),C=w2e(this,v,[b]),pt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pt(C,"accessibilityManager",new a2e),pt(C,"handleLegendBBoxUpdate",function(k){if(k){var E=C.state,M=E.dataStartIndex,I=E.dataEndIndex,U=E.updateId;C.setState(Ie({legendBBox:k},p({props:C.props,dataStartIndex:M,dataEndIndex:I,updateId:U},Ie(Ie({},C.state),{},{legendBBox:k}))))}}),pt(C,"handleReceiveSyncEvent",function(k,E,M){if(C.props.syncId===k){if(M===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),pt(C,"handleBrushChange",function(k){var E=k.startIndex,M=k.endIndex;if(E!==C.state.dataStartIndex||M!==C.state.dataEndIndex){var I=C.state.updateId;C.setState(function(){return Ie({dataStartIndex:E,dataEndIndex:M},p({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:I},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:M})}}),pt(C,"handleMouseEnter",function(k){var E=C.getMouseInfo(k);if(E){var M=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var I=C.props.onMouseEnter;yt(I)&&I(M,k)}}),pt(C,"triggeredAfterMouseMove",function(k){var E=C.getMouseInfo(k),M=E?Ie(Ie({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var I=C.props.onMouseMove;yt(I)&&I(M,k)}),pt(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),pt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),pt(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),pt(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseLeave;yt(M)&&M(E,k)}),pt(C,"handleOuterEvent",function(k){var E=hee(k),M=Ui(C.props,"".concat(E));if(E&&yt(M)){var I,U;/.*touch.*/i.test(E)?U=C.getMouseInfo(k.changedTouches[0]):U=C.getMouseInfo(k),M((I=U)!==null&&I!==void 0?I:{},k)}}),pt(C,"handleClick",function(k){var E=C.getMouseInfo(k);if(E){var M=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var I=C.props.onClick;yt(I)&&I(M,k)}}),pt(C,"handleMouseDown",function(k){var E=C.props.onMouseDown;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),pt(C,"handleMouseUp",function(k){var E=C.props.onMouseUp;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),pt(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),pt(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),pt(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),pt(C,"handleDoubleClick",function(k){var E=C.props.onDoubleClick;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),pt(C,"handleContextMenu",function(k){var E=C.props.onContextMenu;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),pt(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&U1.emit(q1,C.props.syncId,k,C.eventEmitterSymbol)}),pt(C,"applySyncEvent",function(k){var E=C.props,M=E.layout,I=E.syncMethod,U=C.state.updateId,O=k.dataStartIndex,j=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(Ie({dataStartIndex:O,dataEndIndex:j},p({props:C.props,dataStartIndex:O,dataEndIndex:j,updateId:U},C.state)));else if(k.activeTooltipIndex!==void 0){var $=k.chartX,F=k.chartY,H=k.activeTooltipIndex,R=C.state,B=R.offset,W=R.tooltipTicks;if(!B)return;if(typeof I=="function")H=I(W,k);else if(I==="value"){H=-1;for(var K=0;K<W.length;K++)if(W[K].value===k.activeLabel){H=K;break}}var Z=Ie(Ie({},B),{},{x:B.left,y:B.top}),se=Math.min($,Z.x+Z.width),L=Math.min(F,Z.y+Z.height),z=W[H]&&W[H].value,Q=Vw(C.state,C.props.data,H),te=W[H]?{x:M==="horizontal"?W[H].coordinate:se,y:M==="horizontal"?L:W[H].coordinate}:BR;C.setState(Ie(Ie({},k),{},{activeLabel:z,activeCoordinate:te,activePayload:Q,activeTooltipIndex:H}))}else C.setState(k)}),pt(C,"renderCursor",function(k){var E,M=C.state,I=M.isTooltipActive,U=M.activeCoordinate,O=M.activePayload,j=M.offset,$=M.activeTooltipIndex,F=M.tooltipAxisBandSize,H=C.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:I,B=C.props.layout,W=k.key||"_recharts-cursor";return de.createElement(d2e,{key:W,activeCoordinate:U,activePayload:O,activeTooltipIndex:$,chartName:n,element:k,isActive:R,layout:B,offset:j,tooltipAxisBandSize:F,tooltipEventType:H})}),pt(C,"renderPolarAxis",function(k,E,M){var I=Ui(k,"type.axisType"),U=Ui(C.state,"".concat(I,"Map")),O=k.type.defaultProps,j=O!==void 0?Ie(Ie({},O),k.props):k.props,$=U&&U[j["".concat(I,"Id")]];return re.cloneElement(k,Ie(Ie({},$),{},{className:kt(I,$.className),key:k.key||"".concat(E,"-").concat(M),ticks:Vo($,!0)}))}),pt(C,"renderPolarGrid",function(k){var E=k.props,M=E.radialLines,I=E.polarAngles,U=E.polarRadius,O=C.state,j=O.radiusAxisMap,$=O.angleAxisMap,F=Bs(j),H=Bs($),R=H.cx,B=H.cy,W=H.innerRadius,K=H.outerRadius;return re.cloneElement(k,{polarAngles:Array.isArray(I)?I:Vo(H,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(U)?U:Vo(F,!0).map(function(Z){return Z.coordinate}),cx:R,cy:B,innerRadius:W,outerRadius:K,key:k.key||"polar-grid",radialLines:M})}),pt(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,E=C.props,M=E.children,I=E.width,U=E.height,O=C.props.margin||{},j=I-(O.left||0)-(O.right||0),$=yL({children:M,formattedGraphicalItems:k,legendWidth:j,legendContent:u});if(!$)return null;var F=$.item,H=vP($,h2e);return re.cloneElement(F,Ie(Ie({},H),{},{chartWidth:I,chartHeight:U,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),pt(C,"renderTooltip",function(){var k,E=C.props,M=E.children,I=E.accessibilityLayer,U=Pi(M,La);if(!U)return null;var O=C.state,j=O.isTooltipActive,$=O.activeCoordinate,F=O.activePayload,H=O.activeLabel,R=O.offset,B=(k=U.props.active)!==null&&k!==void 0?k:j;return re.cloneElement(U,{viewBox:Ie(Ie({},R),{},{x:R.left,y:R.top}),active:B,label:H,payload:B?F:[],coordinate:$,accessibilityLayer:I})}),pt(C,"renderBrush",function(k){var E=C.props,M=E.margin,I=E.data,U=C.state,O=U.offset,j=U.dataStartIndex,$=U.dataEndIndex,F=U.updateId;return re.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Gm(C.handleBrushChange,k.props.onChange),data:I,x:Ye(k.props.x)?k.props.x:O.left,y:Ye(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(M.bottom||0),width:Ye(k.props.width)?k.props.width:O.width,startIndex:j,endIndex:$,updateId:"brush-".concat(F)})}),pt(C,"renderReferenceElement",function(k,E,M){if(!k)return null;var I=C,U=I.clipPathId,O=C.state,j=O.xAxisMap,$=O.yAxisMap,F=O.offset,H=k.type.defaultProps||{},R=k.props,B=R.xAxisId,W=B===void 0?H.xAxisId:B,K=R.yAxisId,Z=K===void 0?H.yAxisId:K;return re.cloneElement(k,{key:k.key||"".concat(E,"-").concat(M),xAxis:j[W],yAxis:$[Z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:U})}),pt(C,"renderActivePoints",function(k){var E=k.item,M=k.activePoint,I=k.basePoint,U=k.childIndex,O=k.isRange,j=[],$=E.props.key,F=E.item.type.defaultProps!==void 0?Ie(Ie({},E.item.type.defaultProps),E.item.props):E.item.props,H=F.activeDot,R=F.dataKey,B=Ie(Ie({index:U,dataKey:R,cx:M.x,cy:M.y,r:4,fill:A_(E.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},gt(H,!1)),t0(H));return j.push(v.renderActiveDot(H,B,"".concat($,"-activePoint-").concat(U))),I?j.push(v.renderActiveDot(H,Ie(Ie({},B),{},{cx:I.x,cy:I.y}),"".concat($,"-basePoint-").concat(U))):O&&j.push(null),j}),pt(C,"renderGraphicChild",function(k,E,M){var I=C.filterFormatItem(k,E,M);if(!I)return null;var U=C.getTooltipEventType(),O=C.state,j=O.isTooltipActive,$=O.tooltipAxis,F=O.activeTooltipIndex,H=O.activeLabel,R=C.props.children,B=Pi(R,La),W=I.props,K=W.points,Z=W.isRange,se=W.baseLine,L=I.item.type.defaultProps!==void 0?Ie(Ie({},I.item.type.defaultProps),I.item.props):I.item.props,z=L.activeDot,Q=L.hide,te=L.activeBar,ae=L.activeShape,me=!!(!Q&&j&&B&&(z||te||ae)),he={};U!=="axis"&&B&&B.props.trigger==="click"?he={onClick:Gm(C.handleItemMouseEnter,k.props.onClick)}:U!=="axis"&&(he={onMouseLeave:Gm(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Gm(C.handleItemMouseEnter,k.props.onMouseEnter)});var G=re.cloneElement(k,Ie(Ie({},I.props),he));function le(ke){return typeof $.dataKey=="function"?$.dataKey(ke.payload):null}if(me)if(F>=0){var ce,ue;if($.dataKey&&!$.allowDuplicatedCategory){var Me=typeof $.dataKey=="function"?le:"payload.".concat($.dataKey.toString());ce=y2(K,Me,H),ue=Z&&se&&y2(se,Me,H)}else ce=K==null?void 0:K[F],ue=Z&&se&&se[F];if(ae||te){var De=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[re.cloneElement(k,Ie(Ie(Ie({},I.props),he),{},{activeIndex:De})),null,null]}if(!Ot(ce))return[G].concat(Gf(C.renderActivePoints({item:I,activePoint:ce,basePoint:ue,childIndex:F,isRange:Z})))}else{var Ce,ne=(Ce=C.getItemByXY(C.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:G},Ne=ne.graphicalItem,Ee=Ne.item,xe=Ee===void 0?k:Ee,Pe=Ne.childIndex,ye=Ie(Ie(Ie({},I.props),he),{},{activeIndex:Pe});return[re.cloneElement(xe,ye),null,null]}return Z?[G,null,null]:[G,null]}),pt(C,"renderCustomized",function(k,E,M){return re.cloneElement(k,Ie(Ie({key:"recharts-customized-".concat(M)},C.props),C.state))}),pt(C,"renderMap",{CartesianGrid:{handler:Xm,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Xm},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Xm},YAxis:{handler:Xm},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:gA("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=vD(C.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return T2e(v,S),x2e(v,[{key:"componentDidMount",value:function(){var w,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,T=w.children,C=w.data,k=w.height,E=w.layout,M=Pi(T,La);if(M){var I=M.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=Vw(this.state,C,I,U),j=this.state.tooltipTicks[I].coordinate,$=(this.state.offset.top+k)/2,F=E==="horizontal",H=F?{x:j,y:$}:{y:j,x:$},R=this.state.formattedGraphicalItems.find(function(W){var K=W.item;return K.type.name==="Scatter"});R&&(H=Ie(Ie({},H),R.props.points[I].tooltipPosition),O=R.props.points[I].tooltipPayload);var B={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:U,activePayload:O,activeCoordinate:H};this.setState(B),this.renderCursor(M),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){x2([Pi(w.children,La)],[Pi(this.props.children,La)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Pi(this.props.children,La);if(w&&typeof w.props.shared=="boolean"){var T=w.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),k=Bce(C),E={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},M=C.width/T.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,M);if(!I)return null;var U=this.state,O=U.xAxisMap,j=U.yAxisMap,$=this.getTooltipEventType(),F=bP(this.state,this.props.data,this.props.layout,I);if($!=="axis"&&O&&j){var H=Bs(O).scale,R=Bs(j).scale,B=H&&H.invert?H.invert(E.chartX):null,W=R&&R.invert?R.invert(E.chartY):null;return Ie(Ie({},E),{},{xValue:B,yValue:W},F)}return F?Ie(Ie({},E),F):null}},{key:"inRange",value:function(w,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=w/C,M=T/C;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,U=E>=I.left&&E<=I.left+I.width&&M>=I.top&&M<=I.top+I.height;return U?{x:E,y:M}:null}var O=this.state,j=O.angleAxisMap,$=O.radiusAxisMap;if(j&&$){var F=Bs(j);return Y4({x:E,y:M},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,T=this.getTooltipEventType(),C=Pi(w,La),k={};C&&T==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=t0(this.props,this.handleOuterEvent);return Ie(Ie({},E),k)}},{key:"addListener",value:function(){U1.on(q1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){U1.removeListener(q1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,T,C){for(var k=this.state.formattedGraphicalItems,E=0,M=k.length;E<M;E++){var I=k[E];if(I.item===w||I.props.key===w.key||T===Ko(I.item.type)&&C===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,T=this.state.offset,C=T.left,k=T.top,E=T.height,M=T.width;return de.createElement("defs",null,de.createElement("clipPath",{id:w},de.createElement("rect",{x:C,y:k,height:E,width:M})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(T,C){var k=gP(C,2),E=k[0],M=k[1];return Ie(Ie({},T),{},pt({},E,M.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(T,C){var k=gP(C,2),E=k[0],M=k[1];return Ie(Ie({},T),{},pt({},E,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(w){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(w){var T=this.state,C=T.formattedGraphicalItems,k=T.activeItem;if(C&&C.length)for(var E=0,M=C.length;E<M;E++){var I=C[E],U=I.props,O=I.item,j=O.type.defaultProps!==void 0?Ie(Ie({},O.type.defaultProps),O.props):O.props,$=Ko(O.type);if($==="Bar"){var F=(U.data||[]).find(function(W){return S0e(w,W)});if(F)return{graphicalItem:I,payload:F}}else if($==="RadialBar"){var H=(U.data||[]).find(function(W){return Y4(w,W)});if(H)return{graphicalItem:I,payload:H}}else if(my(I,k)||gy(I,k)||Wp(I,k)){var R=fye({graphicalItem:I,activeTooltipItem:k,itemData:j.data}),B=j.activeIndex===void 0?R:j.activeIndex;return{graphicalItem:Ie(Ie({},I),{},{childIndex:B}),payload:Wp(I,k)?j.data[R]:I.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!FE(this))return null;var T=this.props,C=T.children,k=T.className,E=T.width,M=T.height,I=T.style,U=T.compact,O=T.title,j=T.desc,$=vP(T,p2e),F=gt($,!1);if(U)return de.createElement(nP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(S2,Xc({},F,{width:E,height:M,title:O,desc:j}),this.renderClipPath(),BE(C,this.renderMap)));if(this.props.accessibilityLayer){var H,R;F.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(W){w.accessibilityManager.keyboardEvent(W)},F.onFocus=function(){w.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return de.createElement(nP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",Xc({className:kt("recharts-wrapper",k),style:Ie({position:"relative",cursor:"default",width:E,height:M},I)},B,{ref:function(K){w.container=K}}),de.createElement(S2,Xc({},F,{width:E,height:M,title:O,desc:j,style:M2e}),this.renderClipPath(),BE(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(re.Component);pt(y,"displayName",n),pt(y,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pt(y,"getDerivedStateFromProps",function(S,v){var b=S.dataKey,w=S.data,T=S.children,C=S.width,k=S.height,E=S.layout,M=S.stackOffset,I=S.margin,U=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var j=xP(S);return Ie(Ie(Ie({},j),{},{updateId:0},p(Ie(Ie({props:S},j),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:I,prevChildren:T})}if(b!==v.prevDataKey||w!==v.prevData||C!==v.prevWidth||k!==v.prevHeight||E!==v.prevLayout||M!==v.prevStackOffset||!uf(I,v.prevMargin)){var $=xP(S),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},H=Ie(Ie({},bP(v,w,E)),{},{updateId:v.updateId+1}),R=Ie(Ie(Ie({},$),F),H);return Ie(Ie(Ie({},R),p(Ie({props:S},R),v)),{},{prevDataKey:b,prevData:w,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:I,prevChildren:T})}if(!x2(T,v.prevChildren)){var B,W,K,Z,se=Pi(T,Rf),L=se&&(B=(W=se.props)===null||W===void 0?void 0:W.startIndex)!==null&&B!==void 0?B:U,z=se&&(K=(Z=se.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&K!==void 0?K:O,Q=L!==U||z!==O,te=!Ot(w),ae=te&&!Q?v.updateId:v.updateId+1;return Ie(Ie({updateId:ae},p(Ie(Ie({props:S},v),{},{updateId:ae,dataStartIndex:L,dataEndIndex:z}),v)),{},{prevChildren:T,dataStartIndex:L,dataEndIndex:z})}return null}),pt(y,"renderActiveDot",function(S,v,b){var w;return re.isValidElement(S)?w=re.cloneElement(S,v):yt(S)?w=S(v):w=de.createElement(g_,v),de.createElement(Zt,{className:"recharts-active-dot",key:b},w)});var x=re.forwardRef(function(v,b){return de.createElement(y,Xc({},v,{ref:b}))});return x.displayName=y.displayName,x},U2e=qR({chartName:"BarChart",GraphicalChild:Fu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Sy},{axisType:"yAxis",AxisComp:_y}],formatAxisMap:Hbe}),q2e=qR({chartName:"PieChart",GraphicalChild:fs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ay},{axisType:"radiusAxis",AxisComp:hy}],formatAxisMap:LAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const H2e=["#26A69A","#4DD0E1","#EF5350","#FFB74D","#80CBC4","#A0AEC0"],z2e=["#2dd4bf","#67e8f9","#f87171","#fbbf24","#5eead4","#94a3b8"],V2e=({onClose:t,total:e,sales:n,customers:r,onReprintInvoice:i,t:a,language:o})=>{const s=o==="ar"?"ar-MA":"fr-FR";return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:a("customItemsDetails")}),h.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:h.jsx(uS,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-4 rounded-lg text-purple-800 dark:text-purple-200 mb-4",children:[h.jsx("p",{className:"font-bold",children:a("totalCustomRevenue")}),h.jsxs("p",{className:"text-2xl font-extrabold",children:[e.toFixed(2)," DH"]})]}),h.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[h.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:a("invoiceHistory")}),n.length>0?n.slice().reverse().map(l=>{var u;return h.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[a("invoiceNumber")," ",l.id.slice(-6)]}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(l.date).toLocaleString(s)})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-left rtl:text-right",children:[h.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[l.total.toFixed(2)," DH"]}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a("profitLabel"),": ",l.profit.toFixed(2)," DH"]})]}),h.jsx("button",{onClick:()=>i(l),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:a("print"),children:h.jsx(hA,{className:"w-5 h-5"})})]})]}),h.jsxs("details",{className:"mt-2 text-sm",children:[h.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:a("viewDetails")}),h.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[h.jsxs("p",{children:[h.jsxs("strong",{children:[a("customer"),":"]})," ",((u=r.find(c=>c.id===l.customerId))==null?void 0:u.name)||a("cashCustomer")]}),h.jsxs("p",{className:"font-semibold",children:[a("customItemsInSale"),":"]}),h.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:l.items.filter(c=>c.isCustom).map(c=>h.jsxs("li",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx(ha,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),c.name," (x",c.quantity,")"]}),h.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]})]},l.id)}):h.jsx("p",{className:"text-center text-slate-500 py-8",children:a("noSalesForPeriod")})]}),h.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:h.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")})})]})})},G2e=({expense:t,onSave:e,onClose:n,t:r})=>{const[i,a]=re.useState(t),[o,s]=re.useState(!1),l=f=>{const{id:A,value:p}=f.target;a(y=>({...y,[A]:p}))},u=f=>{a(A=>({...A,amount:parseFloat(f.target.value)||0}))},c=async f=>{f.preventDefault(),s(!0),await e(i),s(!1),n()};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[h.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[r("edit")," ",r("expenses")]}),h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("description")}),h.jsx("input",{type:"text",id:"description",value:i.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[r("amount")," (DH)"]}),h.jsx("input",{type:"number",id:"amount",value:i.amount,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),h.jsx("button",{type:"submit",disabled:o,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:r(o?"saving":"save")})]})]})]})})},z1=10,W2e=({storeId:t,sales:e,expenses:n,purchases:r,suppliers:i,returns:a,customers:o,users:s,addExpense:l,updateExpense:u,deleteExpense:c,deleteReturn:f,deleteAllReturns:A,t:p,language:y,theme:x,onReprintInvoice:S})=>{const[v,b]=re.useState("all"),[w,T]=re.useState({start:"",end:""}),[C,k]=re.useState("overview"),[E,M]=re.useState(null),[I,U]=re.useState(!1),[O,j]=re.useState(1),$=y==="ar"?"ar-MA":"fr-FR";re.useEffect(()=>{j(1)},[v,w]);const F=re.useMemo(()=>x==="dark"?{pie:z2e,tick:"#94a3b8",grid:"rgba(94, 112, 131, 0.2)",tooltip:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#e2e8f0"},legend:"#e2e8f0",bar:"#2dd4bf"}:{pie:H2e,tick:"#475569",grid:"#e2e8f0",tooltip:{backgroundColor:"#ffffff",borderColor:"#e2e8f0",color:"#1e293b"},legend:"#334155",bar:"#26A69A"},[x]),H=re.useMemo(()=>Dm(e,v,w),[e,v,w]),R=re.useMemo(()=>Dm(n,v,w).sort((ye,ke)=>new Date(ke.date).getTime()-new Date(ye.date).getTime()),[n,v,w]),B=re.useMemo(()=>Dm(a,v,w),[a,v,w]),W=re.useMemo(()=>Dm(r,v,w),[r,v,w]),{totalRevenue:K,totalReturnsAmount:Z,netRevenue:se,totalExpenses:L,netProfit:z,totalCustomerDebts:Q,debtsByCustomer:te,totalCostOfGoods:ae,totalSupplierDebt:me,debtsBySupplier:he,totalCustomItemSales:G}=re.useMemo(()=>{let ye=0,ke=0;H.forEach(Se=>{const Be=Se.total,nt=Se.items.filter(ot=>!ot.isCustom).reduce((ot,An)=>ot+An.price*An.quantity,0),At=Be-nt;ke+=At,ye+=nt});let be=0;B.forEach(Se=>{Se.items.forEach(Be=>{Be.isCustom||(be+=Be.price*Be.quantity)})});const Ve=ye-be,Ge=R.reduce((Se,Be)=>Se+Be.amount,0),at=H.reduce((Se,Be)=>Se+Be.profit,0),He=B.reduce((Se,Be)=>Se+Be.profitLost,0),ft=at-He-Ge,Ze=new Map;let ht=0;e.forEach(Se=>{var Be;if(Se.customerId&&Se.remainingAmount>0){ht+=Se.remainingAmount;const nt=o.find(At=>At.id===Se.customerId);if(nt){const At=((Be=Ze.get(Se.customerId))==null?void 0:Be.debt)||0;Ze.set(Se.customerId,{customer:nt,debt:At+Se.remainingAmount})}}});const We=new Map;let ln=0;r.forEach(Se=>{var Be;if(Se.remainingAmount>0){ln+=Se.remainingAmount;const nt=i.find(At=>At.id===Se.supplierId);if(nt){const At=((Be=We.get(Se.supplierId))==null?void 0:Be.debt)||0;We.set(Se.supplierId,{supplier:nt,debt:At+Se.remainingAmount})}}});const Pt=r.reduce((Se,Be)=>Se+Be.totalAmount,0);return{totalRevenue:ye,totalReturnsAmount:be,netRevenue:Ve,totalExpenses:Ge,netProfit:ft,totalCustomerDebts:ht,debtsByCustomer:Array.from(Ze.values()).sort((Se,Be)=>Be.debt-Se.debt),totalCostOfGoods:Pt,totalSupplierDebt:ln,debtsBySupplier:Array.from(We.values()).sort((Se,Be)=>Be.debt-Se.debt),totalCustomItemSales:ke}},[H,R,B,e,o,r,i]),le=re.useMemo(()=>{const ye={},ke={day:"2-digit",month:"2-digit"};return H.forEach(be=>{const Ve=new Date(be.date).toLocaleDateString($,ke);ye[Ve]||(ye[Ve]=0);const Ge=be.items.filter(at=>!at.isCustom).reduce((at,He)=>at+He.price*He.quantity,0);ye[Ve]+=Ge}),B.forEach(be=>{const Ve=new Date(be.date).toLocaleDateString($,ke);if(ye[Ve]){const Ge=be.items.filter(at=>!at.isCustom).reduce((at,He)=>at+He.price*He.quantity,0);ye[Ve]-=Ge}ye[Ve]<0&&(ye[Ve]=0)}),Object.entries(ye).map(([be,Ve])=>({name:be,[p("sales")]:Ve})).reverse()},[H,B,$,p]),ce=re.useMemo(()=>{const ye={};return H.forEach(ke=>{ke.items.forEach(be=>{be.type==="good"&&(ye[be.id]||(ye[be.id]={name:be.name,quantity:0}),ye[be.id].quantity+=be.quantity)})}),B.forEach(ke=>{ke.items.forEach(be=>{be.type==="good"&&ye[be.id]&&(ye[be.id].quantity-=be.quantity)})}),Object.values(ye).filter(({quantity:ke})=>ke>0).map(({name:ke,quantity:be})=>({name:ke,value:be})).sort((ke,be)=>be.value-ke.value).slice(0,6)},[H,B]),ue=re.useMemo(()=>H.filter(ye=>!ye.items.some(ke=>ke.isCustom)).slice().reverse(),[H]),Me=re.useMemo(()=>H.filter(ye=>ye.items.some(ke=>ke.isCustom)),[H]),De=()=>{const[ye,ke]=re.useState({description:"",amount:""}),be=re.useRef(null),Ve=async He=>{var ft;if(He.preventDefault(),!ye.description||!ye.amount){alert(p("fillAllFields"));return}await l({storeId:t,description:ye.description,amount:parseFloat(ye.amount),date:new Date().toISOString()}),ke({description:"",amount:""}),(ft=be.current)==null||ft.focus()},Ge=He=>{c(He)},at=()=>{const He=[p("date"),p("description"),p("amount")],ft=R.map(Ze=>[new Date(Ze.date).toLocaleDateString($),Ze.description,`${Ze.amount.toFixed(2)} DH`]);Ia(p("expenseHistory"),He,ft,"expenses_report",y,p("noDataToExport"))};return h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("manageExpenses")}),h.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("addExpense")}),h.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"exp-description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:p("description")}),h.jsx("input",{ref:be,type:"text",id:"exp-description",value:ye.description,onChange:He=>ke({...ye,description:He.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"exp-amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[p("amount")," (DH)"]}),h.jsx("input",{type:"number",id:"exp-amount",value:ye.amount,onChange:He=>ke({...ye,amount:He.target.value}),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:p("addExpense")})]})]}),h.jsxs("div",{className:"lg:col-span-2",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:p("expenseHistory")}),h.jsxs("button",{onClick:at,className:"bg-cyan-600 text-white font-semibold py-1 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-xs",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto pl-2 space-y-3",children:R.length>0?R.map(He=>h.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:He.description}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(He.date).toLocaleDateString($)})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[He.amount.toFixed(2)," DH"]}),h.jsx("button",{onClick:()=>M(He),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300",children:h.jsx(xv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>Ge(He.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:h.jsx(ri,{className:"w-5 h-5"})})]})]},He.id)):h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noExpensesForPeriod")})})]})]})]})},Ce=()=>h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("debtorCustomers")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:()=>{const ye=[p("name"),p("phone"),p("debtAmount")],ke=te.map(be=>[be.customer.name,be.customer.phone,`${be.debt.toFixed(2)} DH`]);Ia(p("debtorCustomers"),ye,ke,"customer_debts",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]}),h.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),h.jsx("div",{className:"overflow-x-auto max-h-96",children:h.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[h.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("name")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:te.length>0?te.map(({customer:ye,debt:ke})=>h.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[h.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ye.name}),h.jsx("td",{className:"px-6 py-4",children:ye.phone}),h.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[ke.toFixed(2)," DH"]})]},ye.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noDebtorCustomers")})})})]})})]}),ne=()=>h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("returnHistory")}),h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsxs("button",{onClick:()=>{const ye=[p("returnId"),p("date"),p("refundAmount"),p("profitLost"),p("itemsLabel")],ke=B.map(be=>[be.id.slice(-6),new Date(be.date).toLocaleString($),`${be.refundAmount.toFixed(2)} DH`,`${be.profitLost.toFixed(2)} DH`,be.items.map(Ve=>`${Ve.name} (x${Ve.quantity})`).join(", ")]);Ia(p("returnHistory"),ye,ke,"returns_report",y,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-2 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]}),h.jsxs("button",{onClick:A,className:"bg-red-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(ri,{className:"w-4 h-4"})," ",p("deleteHistory")]}),h.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:h.jsx("ul",{className:"space-y-4",children:B.length>0?B.slice().reverse().map(ye=>h.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("returnId")," ",ye.id.slice(-6)]}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ye.date).toLocaleString($)})]}),h.jsxs("div",{className:"text-left rtl:text-right",children:[h.jsxs("p",{className:"font-bold text-lg text-orange-600 dark:text-orange-400",children:[ye.refundAmount.toFixed(2)," DH"]}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLost"),": ",ye.profitLost.toFixed(2)," DH"]})]})]}),h.jsx("div",{className:"flex justify-end mt-2",children:h.jsxs("button",{onClick:()=>f(ye.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold flex items-center gap-1",children:[h.jsx(ri,{className:"w-4 h-4"})," ",p("delete")]})}),h.jsxs("details",{className:"mt-2 text-sm",children:[h.jsx("summary",{className:"cursor-pointer text-orange-700 dark:text-orange-400 font-semibold hover:text-orange-800",children:p("returnedItems")}),h.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-orange-200 dark:border-orange-500/30",children:ye.items.map(ke=>h.jsxs("li",{className:"flex justify-between items-center text-slate-700 dark:text-slate-300",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[ke.type==="service"&&h.jsx(ha,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),ke.name," (x",ke.quantity,")"]}),h.jsxs("span",{children:[(ke.price*ke.quantity).toFixed(2)," DH"]})]},ke.id))})]})]},ye.id)):h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noReturnsForPeriod")})})})]}),Ne=()=>h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("allPurchasesHistory")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:()=>{const ye=[p("date"),p("supplier"),p("reference"),p("totalAmount"),p("amountPaid"),p("remainingAmountLabel"),p("paymentMethod")],ke=W.map(be=>{var Ve;return[new Date(be.date).toLocaleDateString($),((Ve=i.find(Ge=>Ge.id===be.supplierId))==null?void 0:Ve.name)||"N/A",be.reference&&be.reference.startsWith("purchase_ref_")?p(be.reference):be.reference||"",`${be.totalAmount.toFixed(2)} DH`,`${be.amountPaid.toFixed(2)} DH`,`${be.remainingAmount.toFixed(2)} DH`,p(be.paymentMethod)]});Ia(p("allPurchasesHistory"),ye,ke,"all_purchases_report",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]}),h.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),h.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:W.length>0?h.jsx("ul",{className:"space-y-4",children:W.slice().reverse().map(ye=>{var ke;return h.jsxs("li",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap gap-2",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("supplier"),": ",((ke=i.find(be=>be.id===ye.supplierId))==null?void 0:ke.name)||"N/A"]}),h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("date"),": ",new Date(ye.date).toLocaleDateString($)]}),ye.reference&&h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("reference"),": ",ye.reference.startsWith("purchase_ref_")?p(ye.reference):ye.reference]})]}),h.jsxs("div",{className:"text-right rtl:text-left",children:[h.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[ye.totalAmount.toFixed(2)," DH"]}),ye.remainingAmount>0&&h.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[p("remainingDebt"),": ",ye.remainingAmount.toFixed(2)," DH"]})]})]}),h.jsxs("details",{children:[h.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:p("purchaseDetails")}),h.jsxs("table",{className:"w-full text-sm mt-2 border-collapse",children:[h.jsx("thead",{className:"text-slate-600 dark:text-slate-300",children:h.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-700",children:[h.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("product")}),h.jsx("th",{className:"p-2 text-center font-semibold",children:p("quantity")}),h.jsx("th",{className:"p-2 text-center font-semibold",children:p("purchasePrice")}),h.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("total")})]})}),h.jsx("tbody",{className:"bg-white dark:bg-slate-800",children:ye.items.map((be,Ve)=>h.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[h.jsxs("td",{className:"p-2 text-start rtl:text-right font-medium text-slate-800 dark:text-slate-200",children:[be.productName," - ",be.variantName]}),h.jsx("td",{className:"p-2 text-center",children:h.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block min-w-[4ch]",children:be.quantity})}),h.jsx("td",{className:"p-2 text-center",children:h.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block",children:[be.purchasePrice.toFixed(2)," DH"]})}),h.jsx("td",{className:"p-2 text-start rtl:text-right",children:h.jsxs("span",{className:"font-bold text-white bg-blue-600 px-3 py-1 rounded-md inline-block",children:[(be.quantity*be.purchasePrice).toFixed(2)," DH"]})})]},Ve))})]})]})]},ye.id)})}):h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:p("noPurchasesRecorded")})})]}),Ee=()=>h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("supplierDebtsList")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:()=>{const ye=[p("supplier"),p("phone"),p("debtAmount")],ke=he.map(be=>[be.supplier.name,be.supplier.phone,`${be.debt.toFixed(2)} DH`]);Ia(p("supplierDebtsList"),ye,ke,"supplier_debts_report",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]}),h.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),h.jsx("div",{className:"overflow-x-auto max-h-96",children:h.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[h.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("supplier")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:he.length>0?he.map(({supplier:ye,debt:ke})=>h.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[h.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ye.name}),h.jsx("td",{className:"px-6 py-4",children:ye.phone}),h.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[ke.toFixed(2)," DH"]})]},ye.id)):h.jsx("tr",{children:h.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSupplierDebt")})})})]})})]}),xe=()=>{const[ye,ke]=re.useState(""),{reportSales:be,reportReturns:Ve,kpis:Ge}=re.useMemo(()=>{let He=H,ft=B;ye&&(He=He.filter(We=>We.userId===ye),ft=ft.filter(We=>We.userId===ye));const Ze=He.reduce((We,ln)=>We+ln.total,0),ht=ft.reduce((We,ln)=>We+ln.refundAmount,0);return{reportSales:He,reportReturns:ft,kpis:{totalSales:Ze,totalReturns:ht,netActivity:Ze-ht,salesCount:He.length,returnsCount:ft.length}}},[H,B,ye]),at=re.useMemo(()=>{const He=be.map(Ze=>({...Ze,type:"sale"})),ft=Ve.map(Ze=>({...Ze,type:"return"}));return[...He,...ft].sort((Ze,ht)=>new Date(ht.date).getTime()-new Date(Ze.date).getTime())},[be,Ve]);return h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("sellerReportsAndZReport")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("select",{value:ye,onChange:He=>ke(He.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[h.jsx("option",{value:"",children:p("all")}),s.map(He=>h.jsx("option",{value:He.id,children:He.name},He.id))]}),h.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-4 rounded-xl text-teal-800 dark:text-teal-200",children:[h.jsx("h3",{className:"font-bold text-md",children:p("netActivity")}),h.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.netActivity.toFixed(2)," ",h.jsx("span",{className:"text-md font-medium",children:"DH"})]})]}),h.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl text-green-800 dark:text-green-200",children:[h.jsx("h3",{className:"font-bold text-md",children:p("totalSales")}),h.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalSales.toFixed(2)," ",h.jsx("span",{className:"text-md font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs",children:p("numberOfSales",{count:Ge.salesCount})})]}),h.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-4 rounded-xl text-orange-800 dark:text-orange-200",children:[h.jsx("h3",{className:"font-bold text-md",children:p("totalReturns")}),h.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalReturns.toFixed(2)," ",h.jsx("span",{className:"text-md font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs",children:p("numberOfReturns",{count:Ge.returnsCount})})]})]}),h.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("transactionList")}),h.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-2",children:at.length>0?h.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[h.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("date")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("transactionType")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("amount")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:p("details")})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:at.map(He=>h.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[h.jsx("td",{className:"px-6 py-4",children:new Date(He.date).toLocaleString($)}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${He.type==="sale"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}`,children:p(He.type)})}),h.jsxs("td",{className:`px-6 py-4 font-bold ${He.type==="sale"?"text-green-700 dark:text-green-400":"text-orange-700 dark:text-orange-400"}`,children:[He.type==="sale"?He.total.toFixed(2):He.refundAmount.toFixed(2)," DH"]}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("details",{className:"text-xs",children:[h.jsxs("summary",{className:"cursor-pointer font-semibold text-cyan-700 dark:text-cyan-400",children:[He.items.length," ",p("itemsLabel")]}),h.jsx("ul",{className:"mt-1 text-slate-600 dark:text-slate-300",children:He.items.map((ft,Ze)=>h.jsxs("li",{children:[ft.name," (x",ft.quantity,")"]},Ze))})]})})]},`${He.type}-${He.id}`))})]}):h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noTransactionsForSeller")})})]})},Pe=()=>{const ye=Math.ceil(ue.length/z1),ke=ue.slice((O-1)*z1,O*z1);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg flex flex-wrap items-center gap-4",children:[h.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-300",children:p("filterByPeriod")}),h.jsxs("select",{value:v,onChange:be=>b(be.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[h.jsx("option",{value:"all",children:p("all")}),h.jsx("option",{value:"today",children:p("today")}),h.jsx("option",{value:"week",children:p("thisWeek")}),h.jsx("option",{value:"month",children:p("thisMonth")}),h.jsx("option",{value:"custom",children:p("customRange")})]}),v==="custom"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"date",value:w.start,onChange:be=>T({...w,start:be.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"}),h.jsx("input",{type:"date",value:w.end,onChange:be=>T({...w,end:be.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>U(!0),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10 bg-purple-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-purple-700 transition-transform hover:scale-110",title:p("customItemsDetails"),children:h.jsx(ha,{className:"w-6 h-6"})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-6 rounded-xl shadow text-teal-800 dark:text-teal-200",children:[h.jsx("h3",{className:"font-bold text-lg",children:p("netRevenue")}),h.jsxs("p",{className:"text-3xl font-extrabold",children:[se.toFixed(2)," ",h.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs opacity-80",children:p("totalRevenueMinusReturns")})]}),h.jsxs("div",{className:"bg-cyan-100 dark:bg-cyan-900/50 p-6 rounded-xl shadow text-cyan-800 dark:text-cyan-200",children:[h.jsx("h3",{className:"font-bold text-lg",children:p("netProfit")}),h.jsxs("p",{className:"text-3xl font-extrabold",children:[z.toFixed(2)," ",h.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs opacity-80",children:p("realizedProfitMinusExpenses")})]}),h.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 p-6 rounded-xl shadow text-yellow-800 dark:text-yellow-200 cursor-pointer hover:ring-2 ring-yellow-400 transition-all",onClick:()=>k("debts"),children:[h.jsx("h3",{className:"font-bold text-lg",children:p("customerDebts")}),h.jsxs("p",{className:"text-3xl font-extrabold",children:[Q.toFixed(2)," ",h.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),h.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-6 rounded-xl shadow text-red-800 dark:text-red-200 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("supplierDebts"),children:[h.jsx("h3",{className:"font-bold text-lg",children:p("totalSupplierDebt")}),h.jsxs("p",{className:"text-3xl font-extrabold",children:[me.toFixed(2)," ",h.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),h.jsxs("div",{className:"bg-red-100/70 dark:bg-red-900/30 p-6 rounded-xl shadow text-red-900 dark:text-red-300 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("expenses"),children:[h.jsx("h3",{className:"font-bold text-lg",children:p("totalExpenses")}),h.jsxs("p",{className:"text-3xl font-extrabold",children:[L.toFixed(2)," ",h.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),h.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-6 rounded-xl shadow text-purple-800 dark:text-purple-200 cursor-pointer hover:ring-2 ring-purple-400 transition-all",onClick:()=>k("allPurchases"),children:[h.jsx("h3",{className:"font-bold text-lg",children:p("totalCostOfGoods")}),h.jsxs("p",{className:"text-3xl font-extrabold",children:[ae.toFixed(2)," ",h.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),h.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),h.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1 bg-blue-100 dark:bg-blue-900/50 p-6 rounded-xl shadow text-blue-800 dark:text-blue-200 cursor-pointer hover:ring-2 ring-blue-400 transition-all",onClick:()=>k("sellerReports"),children:[h.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[h.jsx(sS,{})," ",p("sellerReportsAndZReport")]}),h.jsxs("p",{className:"text-3xl font-extrabold",children:[e.length," ",h.jsx("span",{className:"text-lg font-medium",children:p("sales")})]}),h.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesPerformance")}),h.jsxs("button",{onClick:()=>{const be=[p("date"),p("sales")],Ve=le.map(Ge=>[Ge.name,`${(Ge[p("sales")]||0).toFixed(2)} DH`]);Ia(p("salesPerformance"),be,Ve,"daily_sales_performance",y,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),h.jsx("div",{style:{width:"100%",height:300},children:h.jsx(Rk,{children:h.jsxs(U2e,{data:le,margin:{top:5,right:0,left:0,bottom:5},children:[h.jsx(NR,{stroke:F.grid}),h.jsx(Sy,{dataKey:"name",tick:{fill:F.tick,fontSize:12}}),h.jsx(_y,{tick:{fill:F.tick,fontSize:12},tickFormatter:be=>`${be}`}),h.jsx(La,{contentStyle:F.tooltip,labelStyle:{color:F.tooltip.color},formatter:be=>[`${be.toFixed(2)} DH`,p("sales")]}),h.jsx(ol,{wrapperStyle:{color:F.legend}}),h.jsx(Fu,{dataKey:p("sales"),fill:F.bar})]})})})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("topSellingProducts")}),h.jsxs("button",{onClick:()=>{const be=[p("product"),p("quantity")],Ve=ce.map(Ge=>[Ge.name,Ge.value]);Ia(p("topSellingProducts"),be,Ve,"top_selling_products",y,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),h.jsx("div",{style:{width:"100%",height:300},children:h.jsx(Rk,{children:h.jsxs(q2e,{children:[h.jsx(fs,{data:ce,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:{fill:F.legend},children:ce.map((be,Ve)=>h.jsx(Qv,{fill:F.pie[Ve%F.pie.length]},`cell-${Ve}`))}),h.jsx(La,{contentStyle:F.tooltip,formatter:(be,Ve)=>[`${be} ${p("units")}`,Ve]}),h.jsx(ol,{wrapperStyle:{color:F.legend}})]})})})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesHistory")}),h.jsxs("button",{onClick:()=>{const be=[p("invoiceNumber"),p("date"),p("customer"),p("total"),p("profit"),p("itemsLabel")],Ve=ue.slice().reverse().map(Ge=>{var at;return[Ge.id.slice(-6).toUpperCase(),new Date(Ge.date).toLocaleString($),((at=o.find(He=>He.id===Ge.customerId))==null?void 0:at.name)||p("cashCustomer"),`${Ge.total.toFixed(2)} DH`,`${Ge.profit.toFixed(2)} DH`,Ge.items.map(He=>`${He.name} (x${He.quantity})`).join(", ")]});Ia(p("salesHistory"),be,Ve,"sales_history",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),h.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:h.jsx("ul",{className:"space-y-4",children:ke.length>0?ke.map(be=>{var Ve;return h.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("invoiceNumber")," ",be.id.slice(-6)]}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(be.date).toLocaleString($)})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-left rtl:text-right",children:[h.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[be.total.toFixed(2)," DH"]}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLabel"),": ",be.profit.toFixed(2)," DH"]})]}),h.jsx("button",{onClick:()=>S(be),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:p("print"),children:h.jsx(hA,{className:"w-5 h-5"})})]})]}),h.jsxs("details",{className:"mt-2 text-sm",children:[h.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:p("viewDetails")}),h.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[h.jsxs("ul",{className:"space-y-1",children:[h.jsxs("li",{children:[h.jsx("strong",{children:p("billNumber")})," ",be.id.toUpperCase()]}),be.customerId&&o.find(Ge=>Ge.id===be.customerId)&&h.jsxs("li",{children:[h.jsxs("strong",{children:[p("customer"),":"]})," ",(Ve=o.find(Ge=>Ge.id===be.customerId))==null?void 0:Ve.name]}),be.discount&&be.discount>0&&h.jsxs("li",{className:"font-semibold",children:[h.jsxs("strong",{children:[p("discount"),":"]})," ",h.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",be.discount.toFixed(2)," DH"]})]}),be.remainingAmount>0&&h.jsxs("li",{className:"font-semibold",children:[h.jsx("strong",{children:p("remainingAmountLabel")})," ",h.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[be.remainingAmount.toFixed(2)," DH"]})]})]}),h.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:be.items.map(Ge=>h.jsxs("li",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"flex items-center gap-2",children:[Ge.type==="service"&&h.jsx(ha,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),Ge.name," (x",Ge.quantity,")"]}),h.jsxs("span",{children:[(Ge.price*Ge.quantity).toFixed(2)," DH"]})]},Ge.id))})]})]})]},be.id)}):h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSalesForPeriod")})})}),ye>1&&h.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[h.jsx("button",{onClick:()=>j(be=>Math.max(1,be-1)),disabled:O===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("previous"),children:h.jsx(rd,{className:"w-5 h-5"})}),h.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[p("page")," ",O," / ",ye]}),h.jsx("button",{onClick:()=>j(be=>Math.min(ye,be+1)),disabled:O===ye,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("next"),children:h.jsx(nd,{className:"w-5 h-5"})})]})]})]})};return h.jsxs("div",{className:"space-y-6",children:[E&&h.jsx(G2e,{expense:E,onClose:()=>M(null),onSave:u,t:p}),I&&h.jsx(V2e,{onClose:()=>U(!1),total:G,sales:Me,customers:o,onReprintInvoice:S,t:p,language:y}),C==="overview"&&h.jsx(Pe,{}),C==="debts"&&h.jsx(Ce,{}),C==="returns"&&h.jsx(ne,{}),C==="expenses"&&h.jsx(De,{}),C==="allPurchases"&&h.jsx(Ne,{}),C==="supplierDebts"&&h.jsx(Ee,{}),C==="sellerReports"&&h.jsx(xe,{})]})},SP="https://storage.googleapis.com/appmaker-310316.appspot.com/user_4a0de5b0722a4666a2657c793742469a/app_primo_4f5f590457634f19b16ab20c918a38b2/1721066782500_834",Z0=({url:t,className:e})=>{const n=t||SP,r=i=>{i.currentTarget.src=SP};return h.jsx("img",{src:n,alt:"Logo du magasin",className:e,onError:r})},Y2e=({activeUser:t,store:e,storeId:n,users:r,addUser:i,updateUser:a,deleteUser:o,onUpdateStore:s,t:l})=>{const[u,c]=re.useState({name:"",pin:""}),[f,A]=re.useState({}),[p,y]=re.useState({current:"",new:"",confirm:""}),[x,S]=re.useState({name:e.name,address:e.address,ice:e.ice,logo:e.logo,enableAiReceiptScan:e.enableAiReceiptScan}),[v,b]=re.useState(null),w=re.useMemo(()=>r.find($=>$.role==="admin"),[r]),T=re.useMemo(()=>r.filter($=>$.role==="seller"),[r]),C=()=>setTimeout(()=>b(null),4e3),k=async $=>{if($.preventDefault(),!u.name||!u.pin){b({type:"error",message:l("fillAllFields")}),C();return}if(u.pin.length<4){b({type:"error",message:l("pinMustBe4Chars")}),C();return}if(r.some(F=>F.name.toLowerCase()===u.name.trim().toLowerCase())){b({type:"error",message:l("userExistsError",{name:u.name})}),C();return}await i({...u,storeId:n,role:"seller"}),b({type:"success",message:l("userAddedSuccess",{name:u.name})}),c({name:"",pin:""}),C()},E=async $=>{const F=f[$.id];if(!F||F.length<4){b({type:"error",message:l("pinMustBe4Chars")}),C();return}await a({...$,pin:F}),A(H=>{const R={...H};return delete R[$.id],R}),b({type:"success",message:l("pinUpdatedForUser",{name:$.name})}),C()},M=async $=>{window.confirm(l("confirmUserDelete",{name:$.name}))&&await o($.id)},I=async $=>{if($.preventDefault(),!p.current||!p.new||!p.confirm){b({type:"error",message:l("fillAllFields")}),C();return}if(p.new!==p.confirm){b({type:"error",message:l("passwordsDoNotMatch")}),C();return}if(p.new.length<4){b({type:"error",message:l("pinMustBe4Chars")}),C();return}w&&(await a({...w,password:p.new}),b({type:"success",message:l("passwordChangedSuccess")}),y({current:"",new:"",confirm:""}),C())},U=$=>{S(F=>({...F,[$.target.id]:$.target.value}))},O=$=>{if($.target.files&&$.target.files[0]){const F=$.target.files[0],H=new FileReader;H.onloadend=()=>{S(R=>({...R,logo:H.result}))},H.readAsDataURL(F)}},j=async $=>{$.preventDefault();try{await s(x),b({type:"success",message:l("storeUpdateSuccess")})}catch{b({type:"error",message:l("storeUpdateError")})}C()};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(ej,{}),l("settings")]}),h.jsxs("form",{onSubmit:k,className:"space-y-4 mb-6",children:[h.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:l("addSeller")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[h.jsxs("div",{className:"md:col-span-1",children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("userName")}),h.jsx("input",{type:"text",id:"name",value:u.name,onChange:$=>c({...u,name:$.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{className:"md:col-span-1",children:[h.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("pinMin4Digits")}),h.jsx("input",{type:"password",id:"pin",value:u.pin,onChange:$=>c({...u,pin:$.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:l("add")})]})]}),h.jsxs("div",{className:"space-y-4 border-t pt-4 dark:border-slate-700",children:[h.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:l("userList")}),h.jsxs("ul",{className:"space-y-3",children:[w&&h.jsxs("li",{className:"p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[h.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[w.name," ",h.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-cyan-200 text-cyan-800 dark:bg-cyan-900/50 dark:text-cyan-300",children:l("admin")})]}),h.jsxs("details",{className:"mt-2",children:[h.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-cyan-700 dark:text-cyan-400",children:l("changePassword")}),h.jsxs("form",{onSubmit:I,className:"mt-2 space-y-2 p-2 bg-white dark:bg-slate-700 rounded-md",children:[h.jsx("input",{type:"password",placeholder:l("currentPassword"),value:p.current,onChange:$=>y(F=>({...F,current:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),h.jsx("input",{type:"password",placeholder:l("newPassword"),value:p.new,onChange:$=>y(F=>({...F,new:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),h.jsx("input",{type:"password",placeholder:l("confirmNewPassword"),value:p.confirm,onChange:$=>y(F=>({...F,confirm:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),h.jsx("button",{type:"submit",className:"text-xs w-full bg-blue-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-blue-700",children:l("changePassword")})]})]})]}),T.map($=>h.jsxs("li",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[h.jsxs("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:[$.name," ",h.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-gray-200 text-gray-800 dark:bg-slate-600 dark:text-slate-300",children:l("seller")})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"password",placeholder:l("newPin"),onChange:F=>A({...f,[$.id]:F.target.value}),className:"w-28 text-sm px-2 py-1 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500"}),h.jsx("button",{onClick:()=>E($),className:"text-cyan-600 hover:text-cyan-800",title:l("save"),children:h.jsx(Xx,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>M($),className:"text-red-600 hover:text-red-800",title:l("delete"),children:h.jsx(ri,{className:"w-5 h-5"})})]})]},$.id))]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(lS,{}),l("storeSettings")]}),h.jsxs("form",{onSubmit:j,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeNameLabel")}),h.jsx("input",{type:"text",id:"name",value:x.name,onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"ice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeICE")}),h.jsx("input",{type:"text",id:"ice",value:x.ice||"",onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeAddress")}),h.jsx("input",{type:"text",id:"address",value:x.address||"",onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeLogoLabel")}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(Z0,{url:x.logo,className:"w-16 h-16 rounded-lg bg-gray-200 object-cover"}),h.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:O,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]})]}),h.jsxs("div",{className:"flex items-center gap-4 p-3 bg-purple-50 dark:bg-purple-900/50 rounded-lg",children:[h.jsx(ha,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),h.jsx("label",{htmlFor:"enableAiReceiptScan",className:"font-semibold text-slate-700 dark:text-slate-200",children:l("enableAiScan")}),h.jsx("input",{type:"checkbox",id:"enableAiReceiptScan",checked:x.enableAiReceiptScan||!1,onChange:$=>S(F=>({...F,enableAiReceiptScan:$.target.checked})),className:"ml-auto w-5 h-5 text-teal-600 bg-gray-100 border-gray-300 rounded focus:ring-teal-500 dark:focus:ring-teal-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]}),h.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700",children:l("saveStoreChanges")})]})]})]}),v&&h.jsx("div",{className:`fixed bottom-4 right-4 z-50 p-4 rounded-lg shadow-xl text-sm font-semibold ${v.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/70 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200"}`,children:v.message})]})},K2e=({customer:t,sales:e,debt:n,onClose:r,t:i,language:a})=>{const o=re.useMemo(()=>e.filter(u=>u.customerId===t.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime()),[e,t.id]),s=re.useMemo(()=>o.reduce((u,c)=>u+c.total,0),[o]),l=()=>{const u=new lt;Xg(u),u.setFontSize(18);const c=i("purchaseHistoryFor",{name:t.name});u.text(c,u.internal.pageSize.getWidth()/2,20,{align:"center"}),u.setFontSize(12),u.text(`${i("customer")}: ${t.name}`,14,30),u.text(`${i("phone")}: ${t.phone}`,14,36),u.text(`${i("totalPurchases")}: ${s.toFixed(2)} DH`,14,42),u.text(`${i("currentDebt")}: ${n.toFixed(2)} DH`,14,48);const f=[],A=a==="ar"?"ar-MA":"fr-FR";o.forEach(p=>{const y=new Date(p.date).toLocaleDateString(A);f.push([{content:`${i("invoiceNumber")} ${p.id.slice(-6).toUpperCase()} | ${y} | Total: ${p.total.toFixed(2)} DH | ${i("remainingAmountLabel")}: ${p.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),p.items.forEach(x=>{f.push([`  ${x.name}`,x.quantity,x.price.toFixed(2),(x.quantity*x.price).toFixed(2)])})}),Jg(u,{startY:60,head:[[i("product"),i("quantity"),i("price"),i("total")]],body:f,theme:"grid",styles:{font:"Amiri",halign:a==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(p){p.column.index>0&&p.cell.raw.colSpan===void 0&&(p.cell.styles.halign="center")}}),u.save(`historique-${t.name.replace(/\s/g,"_")}.pdf`)};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i("purchaseHistoryFor",{name:t.name})}),h.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:h.jsx(uS,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[h.jsx("p",{className:"font-bold",children:i("totalPurchases")}),h.jsxs("p",{className:"text-2xl font-extrabold",children:[s.toFixed(2)," DH"]})]}),h.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-4 rounded-lg text-red-800 dark:text-red-200",children:[h.jsx("p",{className:"font-bold",children:i("currentDebt")}),h.jsxs("p",{className:"text-2xl font-extrabold",children:[n.toFixed(2)," DH"]})]})]}),h.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[h.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:i("invoiceHistory")}),o.length>0?o.map(u=>h.jsxs("details",{className:"p-3 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[h.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-700 dark:text-slate-200",children:[h.jsxs("span",{children:[i("invoiceNumber")," ",u.id.slice(-6)," - ",new Date(u.date).toLocaleDateString(a==="ar"?"ar-MA":"fr-FR")]}),h.jsxs("span",{className:"font-bold text-cyan-600 dark:text-cyan-400",children:[u.total.toFixed(2)," DH"]})]}),h.jsx("ul",{className:"mt-2 pt-2 border-t dark:border-slate-600 text-sm space-y-1",children:u.items.map(c=>h.jsxs("li",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[h.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),h.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]},u.id)):h.jsx("p",{className:"text-center text-slate-500 py-8",children:i("noInvoicesFound")})]}),h.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end gap-3",children:[h.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("close")}),h.jsxs("button",{onClick:l,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center gap-2",children:[h.jsx(hA,{className:"w-5 h-5"}),i("printReport")]})]})]})})},J2e=({customer:t,debt:e,onClose:n,onPayDebt:r,t:i})=>{const[a,o]=re.useState(""),[s,l]=re.useState(!1),u=async()=>{const c=parseFloat(a);if(isNaN(c)||c<=0||c>e){alert(i("enterValidPayment"));return}l(!0),await r(t.id,c),l(!1),n()};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[h.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[i("debtManagement")," - ",t.name]}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[i("totalDebt")," ",h.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[e.toFixed(2)," DH"]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("paymentAmount")}),h.jsx("input",{type:"number",id:"paymentAmount",value:a,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:e,min:"0.01",step:"0.01",autoFocus:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),h.jsx("button",{onClick:u,disabled:s||!a,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:i(s?"paying":"recordPayment")})]})]})})},V1=15,X2e=({storeId:t,customers:e,sales:n,addCustomer:r,deleteCustomer:i,payCustomerDebt:a,t:o,language:s})=>{const[l,u]=re.useState({name:"",phone:"",email:""}),[c,f]=re.useState(null),[A,p]=re.useState(null),[y,x]=re.useState(null),[S,v]=re.useState(""),[b,w]=re.useState(1);re.useEffect(()=>{w(1)},[S]);const T=re.useMemo(()=>{const F=new Map;return n.forEach(H=>{if(H.customerId&&H.remainingAmount>0){const R=F.get(H.customerId)||0;F.set(H.customerId,R+H.remainingAmount)}}),F},[n]),C=re.useMemo(()=>S?e.filter(F=>F.name.toLowerCase().startsWith(S.toLowerCase())):e,[e,S]),k=re.useMemo(()=>{const F=(b-1)*V1;return C.slice(F,F+V1)},[C,b]),E=Math.ceil(C.length/V1),M=F=>{u(H=>({...H,[F.target.id]:F.target.value}))},I=async F=>{if(F.preventDefault(),x(null),!l.name||!l.phone){x({type:"error",message:o("nameAndPhoneRequired")});return}if(e.some(H=>H.phone===l.phone.trim())){x({type:"error",message:o("customerExistsError",{phone:l.phone.trim()})});return}await r({...l,storeId:t}),u({name:"",phone:"",email:""}),x({type:"success",message:o("customerAddedSuccess",{name:l.name})}),setTimeout(()=>x(null),4e3)},U=async F=>{if(x(null),window.confirm(o("confirmCustomerDelete",{name:F.name}))){try{await i(F.id),x({type:"success",message:o("customerDeletedSuccess",{name:F.name})})}catch(H){const R=T.get(F.id)||0,B=o(H.message||"customerDeleteError",{name:F.name,debt:R.toFixed(2)});x({type:"error",message:B})}setTimeout(()=>x(null),5e3)}},O=()=>{const F=[o("name"),o("phone"),o("email"),o("debt")],H=e.map(R=>[R.name,R.phone,R.email||"N/A",`${(T.get(R.id)||0).toFixed(2)} DH`]);Ia(o("customerList"),F,H,"customers_report",s,o("noDataToExport"))},j=F=>{const H=n.filter(se=>se.customerId===F.id&&se.remainingAmount>0).sort((se,L)=>new Date(se.date).getTime()-new Date(L.date).getTime()),R=H.reduce((se,L)=>se+L.remainingAmount,0);if(H.length===0){alert(o("noDebtorCustomers"));return}const B=new lt;Xg(B),B.setFontSize(18);const W=o("debtReportFor",{name:F.name});B.text(W,B.internal.pageSize.getWidth()/2,20,{align:"center"}),B.setFontSize(12),B.text(`${o("customer")}: ${F.name}`,14,30),B.text(`${o("phone")}: ${F.phone}`,14,36),F.email&&B.text(`${o("email")}: ${F.email}`,14,42),B.setFontSize(14),B.setFont("Amiri","bold"),B.text(`${o("totalDebt")}: ${R.toFixed(2)} DH`,14,52),B.setFont("Amiri","normal");const K=[],Z=s==="ar"?"ar-MA":"fr-FR";H.forEach(se=>{const L=new Date(se.date).toLocaleDateString(Z);K.push([{content:`${o("invoiceNumber")} ${se.id.slice(-6).toUpperCase()} | ${L} | Total: ${se.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${se.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),se.items.forEach(z=>{K.push([`  ${z.name}`,z.quantity,z.price.toFixed(2),(z.quantity*z.price).toFixed(2)])})}),Jg(B,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:K,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(se){se.column.index>0&&se.cell.raw.colSpan===void 0&&(se.cell.styles.halign="center")}}),B.save(`rapport-dette-${F.name.replace(/\s/g,"_")}.pdf`)},$=()=>{const F=e.filter(B=>(T.get(B.id)||0)>0);if(F.length===0){alert(o("noDebtsToReport"));return}const H=new lt;Xg(H);const R=s==="ar"?"ar-MA":"fr-FR";F.forEach((B,W)=>{W>0&&H.addPage();const K=n.filter(z=>z.customerId===B.id&&z.remainingAmount>0).sort((z,Q)=>new Date(z.date).getTime()-new Date(Q.date).getTime()),Z=K.reduce((z,Q)=>z+Q.remainingAmount,0);H.setFontSize(18);const se=o("debtReportFor",{name:B.name});H.text(se,H.internal.pageSize.getWidth()/2,20,{align:"center"}),H.setFontSize(12),H.text(`${o("customer")}: ${B.name}`,14,30),H.text(`${o("phone")}: ${B.phone}`,14,36),B.email&&H.text(`${o("email")}: ${B.email}`,14,42),H.setFontSize(14),H.setFont("Amiri","bold"),H.text(`${o("totalDebt")}: ${Z.toFixed(2)} DH`,14,52),H.setFont("Amiri","normal");const L=[];K.forEach(z=>{const Q=new Date(z.date).toLocaleDateString(R);L.push([{content:`${o("invoiceNumber")} ${z.id.slice(-6).toUpperCase()} | ${Q} | Total: ${z.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${z.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),z.items.forEach(te=>{L.push([`  ${te.name}`,te.quantity,te.price.toFixed(2),(te.quantity*te.price).toFixed(2)])})}),Jg(H,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:L,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(z){z.column.index>0&&z.cell.raw.colSpan===void 0&&(z.cell.styles.halign="center")}})}),H.save("rapport-dettes-clients.pdf")};return h.jsxs(h.Fragment,{children:[c&&h.jsx(J2e,{customer:c,debt:T.get(c.id)||0,onClose:()=>f(null),onPayDebt:a,t:o}),A&&h.jsx(K2e,{customer:A,sales:n,debt:T.get(A.id)||0,onClose:()=>p(null),t:o,language:s}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(sS,{}),o("addNewCustomer")]}),h.jsx("form",{onSubmit:I,children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[h.jsxs("div",{className:"md:col-span-1",children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("name")}),h.jsx("input",{type:"text",id:"name",value:l.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),h.jsxs("div",{className:"md:col-span-1",children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("phone")}),h.jsx("input",{type:"tel",id:"phone",value:l.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),h.jsxs("div",{className:"md:col-span-1",children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[o("email")," (",o("optional"),")"]}),h.jsx("input",{type:"email",id:"email",value:l.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M})]}),h.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:o("addCustomer")})]})}),y&&h.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${y.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:y.message})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:o("customerList")}),h.jsx("div",{className:"flex-grow max-w-sm",children:h.jsx("input",{type:"text",placeholder:o("searchByName"),value:S,onChange:F=>v(F.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{onClick:$,className:"bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(hA,{className:"w-4 h-4"})," ",o("printAllDebtReports")]}),h.jsxs("button",{onClick:O,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",o("exportToPdf")]})]})]}),h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[h.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3",children:o("name")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:o("phone")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:o("email")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:o("debt")}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:o("actions")})]})}),h.jsx("tbody",{children:k.map(F=>{const H=T.get(F.id)||0;return h.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[h.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:F.name}),h.jsx("td",{className:"px-6 py-4",children:F.phone}),h.jsx("td",{className:"px-6 py-4",children:F.email||"N/A"}),h.jsxs("td",{className:`px-6 py-4 font-bold ${H>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[H.toFixed(2)," DH"]}),h.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:h.jsxs("div",{className:"flex items-center gap-2",children:[H>0&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>f(F),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200 dark:hover:bg-green-800/50",children:o("manageDebt")}),h.jsx("button",{onClick:()=>j(F),className:"text-cyan-600 hover:text-cyan-700 p-1 rounded-full hover:bg-cyan-100 dark:hover:bg-cyan-900/50",title:o("printDebtReport"),children:h.jsx(fB,{className:"w-5 h-5"})})]}),h.jsx("button",{onClick:()=>p(F),className:"text-blue-600 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50",title:o("history"),children:h.jsx(oB,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>U(F),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:o("delete"),children:h.jsx(ri,{className:"w-5 h-5"})})]})})]},F.id)})})]}),E>1&&h.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[h.jsx("button",{onClick:()=>w(F=>Math.max(1,F-1)),disabled:b===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("previous"),children:h.jsx(rd,{className:"w-5 h-5"})}),h.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[o("page")," ",b," / ",E]}),h.jsx("button",{onClick:()=>w(F=>Math.min(E,F+1)),disabled:b===E,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("next"),children:h.jsx(nd,{className:"w-5 h-5"})})]}),k.length===0&&h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:o(S?"noResultsFound":"noCustomersAdded")})]})]})]})]})},Q2e=({supplier:t,purchases:e,onClose:n,t:r,language:i})=>{const a=i==="ar"?"ar-MA":"fr-FR";return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("purchaseHistoryFor",{name:t.name})}),h.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:r("noPurchasesYet")}):h.jsx("ul",{className:"space-y-4",children:e.slice().reverse().map(o=>h.jsxs("li",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[r("purchaseDate"),": ",new Date(o.date).toLocaleDateString(a)]}),o.reference&&h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[r("reference"),": ",o.reference]})]}),h.jsxs("div",{className:"text-right rtl:text-left",children:[h.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[o.totalAmount.toFixed(2)," DH"]}),o.remainingAmount>0&&h.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[r("remainingDebt"),": ",o.remainingAmount.toFixed(2)," DH"]})]})]}),h.jsxs("details",{children:[h.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:r("purchaseDetails")}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm mt-2 text-slate-700 dark:text-slate-600",children:[h.jsx("thead",{className:"bg-gray-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:h.jsxs("tr",{className:i==="ar"?"text-right":"text-left",children:[h.jsx("th",{className:"p-2 font-semibold",children:r("product")}),h.jsx("th",{className:"p-2 font-semibold text-center",children:r("quantity")}),h.jsx("th",{className:"p-2 font-semibold text-center",children:r("purchasePrice")}),h.jsx("th",{className:"p-2 font-semibold",children:r("total")})]})}),h.jsx("tbody",{children:o.items.map((s,l)=>h.jsxs("tr",{className:`border-b dark:border-slate-600 ${i==="ar"?"text-right":"text-left"}`,children:[h.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[s.productName," - ",s.variantName]}),h.jsx("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:s.quantity}),h.jsxs("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:[s.purchasePrice.toFixed(2)," DH"]}),h.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[(s.quantity*s.purchasePrice).toFixed(2)," DH"]})]},s.variantId+l))})]})})]})]},o.id))})}),h.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:h.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})})]})})},Z2e=({supplier:t,products:e,variants:n,categories:r,onClose:i,onSave:a,addProduct:o,t:s,storeId:l})=>{const[u,c]=re.useState([]),[f,A]=re.useState(""),[p,y]=re.useState(!1),[x,S]=re.useState(""),[v,b]=re.useState(""),[w,T]=re.useState(""),[C,k]=re.useState([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}]),[E,M]=re.useState("cash"),[I,U]=re.useState(""),O=de.useRef(null),j=de.useRef(null),[$,F]=re.useState(null),H=re.useMemo(()=>u.reduce((G,le)=>G+le.quantity*le.purchasePrice,0),[u]);re.useEffect(()=>{U(H>0?H:"")},[H]);const R=H-(typeof I=="number"?I:0),B=()=>{var ce;const G=(ce=j.current)==null?void 0:ce.value;if(!G||!$)return;const le=n.find(ue=>ue.id===G);le&&(c(ue=>[...ue,{variantId:le.id,productId:$.id,productName:$.name,variantName:le.name,quantity:1,purchasePrice:le.purchasePrice||0}]),F(null))},W=()=>{k(G=>[...G,{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},K=G=>{k(le=>le.filter((ce,ue)=>ue!==G))},Z=(G,le,ce)=>{const ue=[...C];ue[G][le]=ce,k(ue)},se=G=>{if(G.target.files&&G.target.files[0]){const le=G.target.files[0],ce=new FileReader;ce.onloadend=()=>{b(ce.result)},ce.readAsDataURL(le)}},L=(G,le)=>{if(le.target.files&&le.target.files[0]){const ce=le.target.files[0],ue=new FileReader;ue.onloadend=()=>{const Me=[...C];Me[G].image=ue.result,k(Me)},ue.readAsDataURL(ce)}},z=async G=>{if(G.preventDefault(),!x||C.some(De=>!De.name||De.price<=0||De.purchasePrice<=0||De.price<=De.purchasePrice)){alert(s("sellingPriceMustBeHigherError"));return}const le={name:x,image:v||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`,type:"good",storeId:l,createdAt:new Date().toISOString(),supplierId:t.id,categoryId:w||void 0},{product:ce,variants:ue}=await o(le,C),Me=ue.map((De,Ce)=>({variantId:De.id,productId:ce.id,productName:ce.name,variantName:De.name,quantity:C[Ce].stockQuantity||1,purchasePrice:De.purchasePrice}));c(De=>[...De,...Me]),y(!1),S(""),b(""),T(""),k([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},Q=(G,le,ce)=>{const ue=[...u];ue[G]={...ue[G],[le]:Math.max(0,ce)},c(ue)},te=G=>{c(u.filter((le,ce)=>ce!==G))},ae=async()=>{if(u.length===0){alert(s("noProductsInPurchase"));return}const G={storeId:l,supplierId:t.id,date:new Date().toISOString(),items:u,totalAmount:H,reference:f,amountPaid:typeof I=="number"?I:0,paymentMethod:E,remainingAmount:R};await a(G),i()},me=e.filter(G=>G.type==="good"&&!u.some(le=>le.productId===G.id)),he=n.filter(G=>G.productId===($==null?void 0:$.id)&&!u.some(le=>le.variantId===G.id));return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:s("newPurchaseFor",{name:t.name})}),h.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("reference")}),h.jsx("input",{type:"text",value:f,onChange:G=>A(G.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:s("referencePlaceholder")})]}),h.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[h.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:s("addProductsToPurchase")}),p?h.jsxs("form",{onSubmit:z,className:"space-y-4 p-4 border-2 border-dashed rounded-lg bg-white dark:bg-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h5",{className:"font-bold text-gray-700 dark:text-gray-300 text-lg",children:s("productInfo")}),h.jsx("button",{type:"button",onClick:()=>y(!1),className:"text-sm text-red-600 hover:underline",children:s("cancel")})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[h.jsx("img",{src:v||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${s("productImagePreview")}`,alt:"Product Preview",className:"w-24 h-24 object-cover rounded-lg mb-4 bg-gray-200"}),h.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),h.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 gap-4",children:[h.jsx("input",{type:"text",value:x,onChange:G=>S(G.target.value),placeholder:s("productNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500 text-base",required:!0}),h.jsxs("select",{value:w,onChange:G=>T(G.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",children:[h.jsx("option",{value:"",children:s("selectCategory")}),r.map(G=>h.jsx("option",{value:G.id,children:G.name},G.id))]})]})]}),h.jsxs("div",{className:"flex justify-between items-center mb-4 mt-4 pt-4 border-t-2 border-dashed dark:border-slate-600",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:s("productVariants")}),h.jsxs("button",{type:"button",onClick:W,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[h.jsx(il,{className:"w-5 h-5"}),s("addVariant")]})]}),C.map((G,le)=>h.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-600/50 rounded-lg border dark:border-slate-500 relative",children:[h.jsx("button",{type:"button",onClick:()=>K(le),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 text-red-500 hover:text-red-700 z-10",children:h.jsx(ri,{className:"w-5 h-5"})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[h.jsx("img",{src:G.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${s("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2"}),h.jsx("input",{type:"file",accept:"image/*",onChange:ce=>L(le,ce),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),h.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"sm:col-span-3",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("variantName")}),h.jsx("input",{type:"text",value:G.name,onChange:ce=>Z(le,"name",ce.target.value),placeholder:s("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("purchasePrice")}),h.jsx("input",{type:"number",value:G.purchasePrice,onChange:ce=>Z(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("sellingPrice")}),h.jsx("input",{type:"number",value:G.price,onChange:ce=>Z(le,"price",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("semiWholesalePrice")}),h.jsx("input",{type:"number",value:G.priceSemiWholesale||"",onChange:ce=>Z(le,"priceSemiWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("wholesalePrice")}),h.jsx("input",{type:"number",value:G.priceWholesale||"",onChange:ce=>Z(le,"priceWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("quantity")}),h.jsx("input",{type:"number",step:"0.5",value:G.stockQuantity,onChange:ce=>Z(le,"stockQuantity",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0.5"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("lowStockThreshold")}),h.jsx("input",{type:"number",value:G.lowStockThreshold,onChange:ce=>Z(le,"lowStockThreshold",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.5"})]}),h.jsxs("div",{className:"sm:col-span-3",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("barcode")}),h.jsx("input",{type:"text",value:G.barcode||"",onChange:ce=>Z(le,"barcode",ce.target.value),placeholder:s("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500"})]})]})]})]},le)),h.jsx("div",{className:"flex justify-end gap-2",children:h.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg text-sm",children:s("saveAndAddToList")})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("select",{ref:O,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",onChange:G=>F(e.find(le=>le.id===G.target.value)||null),children:[h.jsx("option",{value:"",children:s("selectProducts")}),me.map(G=>h.jsx("option",{value:G.id,children:G.name},G.id))]}),$&&h.jsxs(h.Fragment,{children:[h.jsxs("select",{ref:j,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",children:[h.jsx("option",{value:"",children:s("selectVariant")}),he.map(G=>h.jsx("option",{value:G.id,children:G.name},G.id))]}),h.jsx("button",{onClick:B,className:"bg-teal-600 text-white font-bold p-2 px-3 rounded-lg hover:bg-teal-700 flex items-center justify-center",children:h.jsx(il,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"text-center mt-4 p-3 bg-slate-100 dark:bg-slate-600 rounded-lg flex items-center justify-center gap-4",children:[h.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:s("orAddNewProductPrompt")}),h.jsx("button",{type:"button",onClick:()=>y(!0),className:"font-semibold text-teal-700 dark:text-teal-300 bg-teal-200 dark:bg-teal-800/50 hover:bg-teal-300 dark:hover:bg-teal-800 px-4 py-2 rounded-lg transition-colors text-sm",children:s("addNewProductButton")})]})]})]}),h.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[u.length>0&&h.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-2 text-sm font-bold text-gray-700 dark:text-gray-300 bg-slate-200 dark:bg-slate-600 rounded-t-lg",children:[h.jsx("span",{className:"col-span-5 px-2",children:s("product")}),h.jsx("span",{className:"col-span-2 text-center",children:s("quantity")}),h.jsx("span",{className:"col-span-2 text-center",children:s("purchasePrice")}),h.jsx("span",{className:"col-span-2 text-center",children:s("total")}),h.jsx("span",{className:"col-span-1"})]}),u.map((G,le)=>h.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-1 bg-white dark:bg-slate-700 border-b dark:border-slate-600",children:[h.jsxs("span",{className:"col-span-5 font-semibold text-slate-800 dark:text-slate-100 px-2 text-xs",children:[G.productName," - ",G.variantName]}),h.jsx("div",{className:"col-span-2",children:h.jsx("input",{type:"number",min:"0.5",step:"0.5",value:G.quantity,onChange:ce=>Q(le,"quantity",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),h.jsx("div",{className:"col-span-2",children:h.jsx("input",{type:"number",min:"0",step:"0.01",value:G.purchasePrice,onChange:ce=>Q(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),h.jsx("div",{className:"col-span-2 flex justify-center",children:h.jsx("span",{className:"font-bold text-white bg-blue-500 px-3 py-1 rounded-md text-sm",children:(G.quantity*G.purchasePrice).toFixed(2)})}),h.jsx("button",{onClick:()=>te(le),className:"col-span-1 text-red-500 hover:text-red-700 justify-self-center",children:h.jsx(ri,{className:"w-5 h-5"})})]},G.variantId+le))]})]}),h.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("paymentMethod")}),h.jsxs("select",{value:E,onChange:G=>M(G.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[h.jsx("option",{value:"cash",children:s("cash")}),h.jsx("option",{value:"card",children:s("card")}),h.jsx("option",{value:"transfer",children:s("transfer")}),h.jsx("option",{value:"check",children:s("check")})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("amountPaid")}),h.jsx("input",{type:"number",value:I,onChange:G=>U(G.target.value===""?"":parseFloat(G.target.value)||0),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",max:H,step:"0.01",placeholder:s("pricePlaceholder")})]})]}),h.jsxs("div",{className:"space-y-3 text-right rtl:text-left",children:[h.jsxs("div",{className:"bg-blue-600 text-white font-bold text-xl p-3 rounded-lg inline-block",children:[h.jsxs("span",{children:[s("totalAmount"),": "]}),h.jsxs("span",{children:[H.toFixed(2)," DH"]})]}),h.jsxs("div",{className:`font-bold text-2xl ${R>0?"text-red-500":"text-green-600"}`,children:[h.jsxs("span",{children:[s("remainingDebt"),": "]}),h.jsxs("span",{children:[R.toFixed(2)," DH"]})]})]}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{type:"button",onClick:i,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:s("cancel")}),h.jsx("button",{type:"button",onClick:ae,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:s("completePurchase")})]})]})]})})},ewe=({supplier:t,purchasesWithDebt:e,onClose:n,onSavePayments:r,totalDebt:i,t:a})=>{const[o,s]=re.useState(""),l=async()=>{let u=parseFloat(o);if(isNaN(u)||u<=0||u>i){alert(a("enterValidPayment"));return}const c=[],f=[...e].sort((A,p)=>new Date(A.date).getTime()-new Date(p.date).getTime());for(const A of f){if(u<=0)break;const p=Math.min(u,A.remainingAmount),y={...A,amountPaid:A.amountPaid+p,remainingAmount:A.remainingAmount-p};c.push(y),u-=p}await r(c),n()};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[h.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[a("managePayments")," - ",t.name]}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[a("totalDebt"),": ",h.jsxs("span",{className:"font-bold text-red-600",children:[i.toFixed(2)," DH"]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("amountToPay")}),h.jsx("input",{type:"number",id:"paymentAmount",value:o,onChange:u=>s(u.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:i,min:"0.01",step:"0.01",autoFocus:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")}),h.jsx("button",{onClick:l,disabled:!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:a("recordPayment")})]})]})})},G1=15,twe=({storeId:t,suppliers:e,products:n,variants:r,purchases:i,categories:a,addSupplier:o,deleteSupplier:s,addPurchase:l,updatePurchase:u,addProduct:c,t:f,language:A})=>{const[p,y]=re.useState({name:"",phone:"",email:""}),[x,S]=re.useState(null),[v,b]=re.useState(null),[w,T]=re.useState(null),[C,k]=re.useState(null),[E,M]=re.useState(""),[I,U]=re.useState(1);re.useEffect(()=>{U(1)},[E]);const O=re.useMemo(()=>{const Z=new Map;return i.forEach(se=>{if(se.remainingAmount>0&&se.supplierId){const L=Z.get(se.supplierId)||0;Z.set(se.supplierId,L+se.remainingAmount)}}),Z},[i]),j=re.useMemo(()=>E?e.filter(Z=>Z.name.toLowerCase().startsWith(E.toLowerCase())):e,[e,E]),$=re.useMemo(()=>{const Z=(I-1)*G1;return j.slice(Z,Z+G1)},[j,I]),F=Math.ceil(j.length/G1),H=Z=>{y(se=>({...se,[Z.target.id]:Z.target.value}))},R=async Z=>{if(Z.preventDefault(),S(null),!p.name||!p.phone){S({type:"error",message:f("nameAndPhoneRequired")});return}if(e.some(se=>se.phone===p.phone.trim())){S({type:"error",message:f("supplierExistsError",{phone:p.phone.trim()})});return}await o({...p,storeId:t}),y({name:"",phone:"",email:""}),S({type:"success",message:f("supplierAddedSuccess",{name:p.name})}),setTimeout(()=>S(null),4e3)},B=async(Z,se)=>{if(window.confirm(f("confirmSupplierDelete",{name:se}))){try{await s(Z),S({type:"success",message:f("supplierDeletedSuccess",{name:se})})}catch(L){S({type:"error",message:f(L.message,{name:se,debt:"..."})||f("supplierDeleteError")})}setTimeout(()=>S(null),5e3)}},W=async Z=>{await Promise.all(Z.map(se=>u(se))),alert(f("paymentRecorded"))},K=()=>{const Z=[f("name"),f("phone"),f("supplierDebt")],se=e.map(L=>[L.name,L.phone,`${(O.get(L.id)||0).toFixed(2)} DH`]);Ia(f("supplierList"),Z,se,"suppliers_report",A,f("noDataToExport"))};return h.jsxs(h.Fragment,{children:[v&&h.jsx(Z2e,{supplier:v,products:n,variants:r,categories:a,onClose:()=>b(null),onSave:l,addProduct:c,t:f,storeId:t}),w&&h.jsx(Q2e,{supplier:w,purchases:i.filter(Z=>Z.supplierId===w.id),onClose:()=>T(null),t:f,language:A}),C&&h.jsx(ewe,{supplier:C,purchasesWithDebt:i.filter(Z=>Z.supplierId===C.id&&Z.remainingAmount>0),totalDebt:O.get(C.id)||0,onClose:()=>k(null),onSavePayments:W,t:f}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(QO,{}),f("addNewSupplier")]}),h.jsx("form",{onSubmit:R,children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[h.jsxs("div",{className:"md:col-span-1",children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("name")}),h.jsx("input",{type:"text",id:"name",value:p.name,onChange:H,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{className:"md:col-span-1",children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("phone")}),h.jsx("input",{type:"tel",id:"phone",value:p.phone,onChange:H,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{className:"md:col-span-1",children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[f("email")," (",f("optional"),")"]}),h.jsx("input",{type:"email",id:"email",value:p.email,onChange:H,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),h.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:f("addSupplier")})]})}),x&&h.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${x.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:x.message})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:f("supplierList")}),h.jsx("div",{className:"flex-grow max-w-sm",children:h.jsx("input",{type:"text",placeholder:f("searchByName"),value:E,onChange:Z=>M(Z.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),h.jsxs("button",{onClick:K,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Oa,{className:"w-4 h-4"})," ",f("exportToPdf")]})]}),h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[h.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3",children:f("name")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:f("phone")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:f("supplierDebt")}),h.jsx("th",{scope:"col",className:"px-6 py-3",children:f("actions")})]})}),h.jsx("tbody",{children:$.map(Z=>{const se=O.get(Z.id)||0;return h.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[h.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:Z.name}),h.jsx("td",{className:"px-6 py-4",children:Z.phone}),h.jsx("td",{className:`px-6 py-4 font-bold ${se>0?"text-red-500":"text-green-600"}`,children:se>0?`${se.toFixed(2)} DH`:f("noDebt")}),h.jsxs("td",{className:"px-6 py-4 flex gap-2 flex-wrap items-center",children:[h.jsx("button",{onClick:()=>b(Z),className:"text-sm font-semibold text-teal-600 bg-teal-100 dark:bg-teal-900/50 hover:bg-teal-200 dark:hover:bg-teal-800/50 px-3 py-1 rounded-full",children:f("newPurchase")}),h.jsx("button",{onClick:()=>T(Z),className:"text-sm font-semibold text-cyan-600 bg-cyan-100 dark:bg-cyan-900/50 hover:bg-cyan-200 dark:hover:bg-cyan-800/50 px-3 py-1 rounded-full",children:f("purchaseHistory")}),se>0&&h.jsx("button",{onClick:()=>k(Z),className:"text-sm font-semibold text-green-600 bg-green-100 dark:bg-green-900/50 hover:bg-green-200 dark:hover:bg-green-800/50 px-3 py-1 rounded-full",children:f("managePayments")}),h.jsx("button",{onClick:()=>B(Z.id,Z.name),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:f("delete"),children:h.jsx(ri,{className:"w-5 h-5"})})]})]},Z.id)})})]}),F>1&&h.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[h.jsx("button",{onClick:()=>U(Z=>Math.max(1,Z-1)),disabled:I===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("previous"),children:h.jsx(rd,{className:"w-5 h-5"})}),h.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[f("page")," ",I," / ",F]}),h.jsx("button",{onClick:()=>U(Z=>Math.min(F,Z+1)),disabled:I===F,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("next"),children:h.jsx(nd,{className:"w-5 h-5"})})]}),$.length===0&&h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:f(E?"noResultsFound":"noSuppliersAdded")})]})]})]})]})},nwe=({category:t,onClose:e,onSave:n,t:r})=>{const[i,a]=re.useState(t.name),o=s=>{s.preventDefault(),n({...t,name:i.trim()})};return h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editCategory")}),h.jsxs("form",{onSubmit:o,children:[h.jsx("label",{htmlFor:"editCategoryName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("categoryName")}),h.jsx("input",{id:"editCategoryName",type:"text",value:i,onChange:s=>a(s.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0}),h.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[h.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),h.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},rwe=({storeId:t,categories:e,addCategory:n,updateCategory:r,deleteCategory:i,t:a,language:o})=>{const[s,l]=re.useState(""),[u,c]=re.useState(null),[f,A]=re.useState(null),p=()=>{setTimeout(()=>c(null),4e3)},y=async v=>{v.preventDefault(),c(null);const b=s.trim();if(!b){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(w=>w.name.toLowerCase()===b.toLowerCase())){c({type:"error",message:a("categoryExistsError",{name:b})}),p();return}await n({name:b,storeId:t}),l(""),c({type:"success",message:a("categoryAddedSuccess",{name:b})}),p()},x=async v=>{if(c(null),!v.name){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(b=>b.name.toLowerCase()===v.name.toLowerCase()&&b.id!==v.id)){c({type:"error",message:a("categoryExistsError",{name:v.name})}),p();return}await r(v),A(null),c({type:"success",message:a("categoryUpdatedSuccess",{name:v.name})}),p()},S=async v=>{if(c(null),window.confirm(a("confirmCategoryDelete",{name:v.name}))){try{await i(v.id),c({type:"success",message:a("categoryDeletedSuccess",{name:v.name})})}catch{c({type:"error",message:a("categoryDeleteError")})}p()}};return h.jsxs(h.Fragment,{children:[f&&h.jsx(nwe,{category:f,onClose:()=>A(null),onSave:x,t:a}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(ZO,{}),a("addNewCategory")]}),h.jsxs("form",{onSubmit:y,className:"grid sm:grid-cols-3 gap-4 items-end",children:[h.jsxs("div",{className:"sm:col-span-2",children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("categoryName")}),h.jsx("input",{type:"text",id:"name",value:s,onChange:v=>l(v.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("add")})]}),u&&h.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${u.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:u.message})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:a("categoryList")}),h.jsxs("div",{className:"mt-4 overflow-x-auto",children:[h.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400",children:[h.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3",children:a("categoryName")}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right rtl:text-left",children:a("actions")})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(v=>h.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[h.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:v.name}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-end gap-4",children:[h.jsx("button",{onClick:()=>A(v),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:a("edit"),children:h.jsx(xv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>S(v),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:a("delete"),children:h.jsx(ri,{className:"w-5 h-5"})})]})})]},v.id))})]}),e.length===0&&h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noCategoriesAdded")})]})]})]})]})},iwe=({products:t,variants:e,suppliers:n,t:r})=>e.length===0?null:h.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 border-r-4 rtl:border-l-4 rtl:border-r-0 border-orange-500 text-orange-700 dark:text-orange-300 p-4 rounded-lg shadow-md mb-6",role:"alert",children:[h.jsx("p",{className:"font-bold",children:r("lowStockAlert")}),h.jsx("p",{className:"text-sm",children:r("lowStockMessage")}),h.jsx("ul",{className:"list-disc list-inside mr-2 rtl:ml-2 rtl:mr-0 mt-2 text-sm",children:e.map(i=>{var o;const a=t.find(s=>s.id===i.productId);return a?h.jsxs("li",{children:[h.jsxs("strong",{children:[a.name," - ",i.name]}),a.supplierId&&h.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:[" (",r("supplier"),": ",((o=n.find(s=>s.id===a.supplierId))==null?void 0:o.name)||r("unknown"),")"]})]},i.id):null})})]}),awe=({sale:t,mode:e,onClose:n,store:r,customers:i,t:a,language:o})=>{re.useEffect(()=>{const w=setTimeout(()=>{window.print()},300);return()=>clearTimeout(w)},[]);const s=()=>{window.print()},l=t.customerId?i.find(w=>w.id===t.customerId):null,u=o==="ar"?"ar-MA":"fr-FR",c=w=>{const T=Math.floor(w),C=Math.round((w-T)*100),k=["","UN","DEUX","TROIS","QUATRE","CINQ","SIX","SEPT","HUIT","NEUF"],E=["DIX","ONZE","DOUZE","TREIZE","QUATORZE","QUINZE","SEIZE","DIX-SEPT","DIX-HUIT","DIX-NEUF"],M=["","DIX","VINGT","TRENTE","QUARANTE","CINQUANTE","SOIXANTE","SOIXANTE-DIX","QUATRE-VINGT","QUATRE-VINGT-DIX"],I=$=>{if($===0)return"";if($<10)return k[$];if($<20)return E[$-10];if($<100){const F=Math.floor($/10),H=$%10;if(F===7||F===9)return M[F]+"-"+k[H];let R=M[F];return F===8&&H===0&&(R+="S"),H>0&&(R+=(H===1&&F<8?" ET ":"-")+k[H]),R}if($<1e3){const F=Math.floor($/100),H=$%100;let R=F>1?k[F]+" CENT":"CENT";return H===0&&F>1&&(R+="S"),H>0&&(R+=" "+I(H)),R}return""};if(w===0)return"ZRO";let U="";const O=Math.floor(T/1e3);O>0&&(U+=(O>1?I(O):"")+" MILLE ");const j=T%1e3;return(j>0||O===0)&&(U+=I(j)),U=U.trim().replace("UN MILLE","MILLE")+" DIRHAMS",C>0&&(U+=" ET "+I(C)+" CENTIMES"),U.toUpperCase().replace(/\s+/g," ")},f=e==="invoice",A=a(f?"invoiceTitle":"orderFormTitle"),{subTotal:p,totalHT:y,tvaAmount:x,totalTTC:S,amountForWords:v}=re.useMemo(()=>{const T=t.total,C=f?T/1.2:T,k=f?T-C:0;return{subTotal:t.items.reduce((M,I)=>{const U=f?I.price/1.2:I.price;return M+U*I.quantity},0),totalHT:C,tvaAmount:k,totalTTC:T,amountForWords:T}},[t,f]),b=c(v);return h.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full flex flex-col",children:[h.jsxs("div",{id:"printable-invoice",className:"p-10 bg-white text-black font-sans text-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"font-bold text-2xl mb-2 text-black",children:r.name||"CARRE FER"}),h.jsxs("p",{className:"text-black",children:["le : ",new Date(t.date).toLocaleDateString(u)]}),r.ice&&h.jsxs("p",{className:"text-black",children:["ICE : ",r.ice]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("h2",{className:"font-bold text-lg text-black",children:[A," N: ",t.id.slice(-8).toUpperCase()]}),h.jsx("div",{className:"border border-black p-2 mt-2 min-w-[200px]",children:h.jsx("p",{className:"text-black",children:l?l.name:"Client Particulier"})})]})]}),h.jsxs("table",{className:"w-full border-collapse mb-4",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"border-2 border-black p-1 text-left font-bold bg-gray-100 text-black",children:"Dsignation"}),h.jsx("th",{className:"border-2 border-black p-1 text-center font-bold bg-gray-100 text-black w-24",children:"Quantit"}),h.jsx("th",{className:"border-2 border-black p-1 text-center font-bold bg-gray-100 text-black w-32",children:a(f?"prixHT":"price")}),h.jsx("th",{className:"border-2 border-black p-1 text-center font-bold bg-gray-100 text-black w-32",children:a(f?"totalHT":"total")})]})}),h.jsx("tbody",{children:t.items.map(w=>{const T=f?w.price/1.2:w.price;return h.jsxs("tr",{children:[h.jsx("td",{className:"border-2 border-black p-1 text-left text-black",children:w.name}),h.jsx("td",{className:"border-2 border-black p-1 text-center text-black",children:w.quantity}),h.jsx("td",{className:"border-2 border-black p-1 text-center text-black",children:T.toFixed(2)}),h.jsx("td",{className:"border-2 border-black p-1 text-center font-semibold text-black",children:(T*w.quantity).toFixed(2)})]},w.id)})}),h.jsx("tfoot",{children:h.jsxs("tr",{children:[h.jsx("td",{colSpan:3,className:"border-2 border-black p-1 text-right font-bold text-black",children:a("total")}),h.jsx("td",{className:"border-2 border-black p-1 text-center font-bold text-black",children:p.toFixed(2)})]})})]}),h.jsxs("div",{className:"flex justify-between items-start mt-8",children:[h.jsxs("div",{className:"w-2/3",children:[h.jsx("p",{className:"font-semibold text-black",children:f?"Arrte la prsente facture  la somme de :":"Arrte le prsent bon  la somme de :"}),h.jsx("p",{className:"font-bold uppercase text-black",children:b})]}),h.jsx("div",{className:"w-1/3",children:f?h.jsx("table",{className:"w-full border-collapse",children:h.jsxs("tbody",{children:[h.jsxs("tr",{children:[h.jsx("td",{className:"border-2 border-black p-1 font-bold text-black",children:a("totalHT")}),h.jsx("td",{className:"border-2 border-black p-1 text-right font-semibold text-black",children:y.toFixed(2)})]}),h.jsxs("tr",{children:[h.jsx("td",{className:"border-2 border-black p-1 font-bold text-black",children:a("vat")}),h.jsx("td",{className:"border-2 border-black p-1 text-right font-semibold text-black",children:x.toFixed(2)})]}),h.jsxs("tr",{children:[h.jsx("td",{className:"border-2 border-black p-1 font-bold bg-gray-100 text-black",children:a("totalTTC")}),h.jsx("td",{className:"border-2 border-black p-1 text-right font-bold bg-gray-100 text-black",children:S.toFixed(2)})]})]})}):h.jsx("table",{className:"w-full border-collapse",children:h.jsx("tbody",{children:h.jsxs("tr",{children:[h.jsx("td",{className:"border-2 border-black p-1 font-bold bg-gray-100 text-black",children:a("total")}),h.jsx("td",{className:"border-2 border-black p-1 text-right font-bold bg-gray-100 text-black",children:S.toFixed(2)})]})})})})]})]}),h.jsxs("div",{className:"p-4 bg-gray-100 border-t flex justify-end gap-3 print:hidden",children:[h.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:[h.jsx(uS,{className:"w-5 h-5"}),a("close")]}),h.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:[h.jsx(hA,{className:"w-5 h-5"}),a("print")]})]})]})})},owe=({returnObject:t,onClose:e,store:n,t:r,language:i})=>{re.useEffect(()=>{const l=setTimeout(()=>{window.print()},300);return()=>clearTimeout(l)},[]);const a=()=>{window.print()},o=i==="ar"?"ar-MA":"fr-FR",s=r("returnReceiptTitle");return h.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[h.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:s}),h.jsx("p",{className:"text-sm font-semibold",children:n.name}),n.address?h.jsx("p",{className:"text-xs",children:n.address}):h.jsx("p",{className:"text-xs",children:r("invoiceAddress")}),n.ice&&h.jsxs("p",{className:"text-xs",children:["ICE: ",n.ice]})]}),h.jsxs("div",{className:"text-xs mb-4",children:[h.jsxs("p",{children:[h.jsx("strong",{children:r("returnIdLabel")})," ",t.id.slice(-8).toUpperCase()]}),h.jsxs("p",{children:[h.jsxs("strong",{children:[r("date"),":"]})," ",new Date(t.date).toLocaleString(o)]})]}),h.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-100",children:[h.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:r("productColumn")}),h.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("quantity")}),h.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("price")}),h.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("total")})]})}),h.jsx("tbody",{children:t.items.map(l=>h.jsxs("tr",{children:[h.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:l.name}),h.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.quantity}),h.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.price.toFixed(2)}),h.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(l.price*l.quantity).toFixed(2)})]},l.id))})]}),h.jsx("div",{className:"w-full mt-4 text-sm",children:h.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:h.jsx("div",{className:"col-start-2",children:h.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg bg-slate-100 p-2 rounded-md",children:[h.jsx("span",{children:r("refundAmountLabel")}),h.jsxs("span",{children:[t.refundAmount.toFixed(2)," DH"]})]})})})}),h.jsx("p",{className:"text-center text-xs mt-6",children:r("thankYou")})]}),h.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[h.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")}),h.jsx("button",{onClick:a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("print")})]})]})})},swe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hl(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class N_ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class _P extends N_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class TP extends N_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class CP extends N_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gw||(Gw={}));var lwe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class uwe{constructor(e,{headers:n={},customFetch:r,region:i=Gw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=swe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return lwe(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const A=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:s}).catch(S=>{throw S.name==="AbortError"?S:new _P(S)}),p=A.headers.get("x-relay-error");if(p&&p==="true")throw new TP(A);if(!A.ok)throw new CP(A);let y=((r=A.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield A.json():y==="application/octet-stream"?x=yield A.blob():y==="text/event-stream"?x=A:y==="multipart/form-data"?x=yield A.formData():x=yield A.text(),{data:x,error:null,response:A}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new _P(i)}:{data:null,error:i,response:i instanceof CP||i instanceof TP?i.context:void 0}}})}}var gi={},E_={},Cy={},SA={},Ny={},Ey={},cwe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wf=cwe();const fwe=Wf.fetch,HR=Wf.fetch.bind(Wf),zR=Wf.Headers,dwe=Wf.Request,hwe=Wf.Response,xd=Object.freeze(Object.defineProperty({__proto__:null,Headers:zR,Request:dwe,Response:hwe,default:HR,fetch:fwe},Symbol.toStringTag,{value:"Module"})),pwe=YP(xd);var ky={};Object.defineProperty(ky,"__esModule",{value:!0});let Awe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ky.default=Awe;var VR=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ey,"__esModule",{value:!0});const mwe=VR(pwe),gwe=VR(ky);let vwe=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mwe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,u;let c=null,f=null,A=null,p=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const S=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");S&&v&&v.length>1&&(A=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,A=null,p=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const S=await a.text();try{c=JSON.parse(S),Array.isArray(c)&&a.status===404&&(f=[],c=null,p=200,y="OK")}catch{a.status===404&&S===""?(p=204,y="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&this.shouldThrowOnError)throw new gwe.default(c)}return{error:c,data:f,count:A,status:p,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Ey.default=vwe;var ywe=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ny,"__esModule",{value:!0});const bwe=ywe(Ey);let xwe=class extends bwe.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ny.default=xwe;var wwe=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(SA,"__esModule",{value:!0});const Swe=wwe(Ny);let _we=class extends Swe.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};SA.default=_we;var Twe=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cy,"__esModule",{value:!0});const yh=Twe(SA);let Cwe=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new yh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new yh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new yh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new yh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new yh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Cy.default=Cwe;var GR=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(E_,"__esModule",{value:!0});const Nwe=GR(Cy),Ewe=GR(SA);let kwe=class WR{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Nwe.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new WR(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,A])=>A!==void 0).map(([f,A])=>[f,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([f,A])=>{l.searchParams.append(f,A)})):(s="POST",u=n);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new Ewe.default({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};E_.default=kwe;var wd=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gi,"__esModule",{value:!0});gi.PostgrestError=gi.PostgrestBuilder=gi.PostgrestTransformBuilder=gi.PostgrestFilterBuilder=gi.PostgrestQueryBuilder=gi.PostgrestClient=void 0;const YR=wd(E_);gi.PostgrestClient=YR.default;const KR=wd(Cy);gi.PostgrestQueryBuilder=KR.default;const JR=wd(SA);gi.PostgrestFilterBuilder=JR.default;const XR=wd(Ny);gi.PostgrestTransformBuilder=XR.default;const QR=wd(Ey);gi.PostgrestBuilder=QR.default;const ZR=wd(ky);gi.PostgrestError=ZR.default;var Pwe=gi.default={PostgrestClient:YR.default,PostgrestQueryBuilder:KR.default,PostgrestFilterBuilder:JR.default,PostgrestTransformBuilder:XR.default,PostgrestBuilder:QR.default,PostgrestError:ZR.default};const{PostgrestClient:Mwe,PostgrestQueryBuilder:c_e,PostgrestFilterBuilder:f_e,PostgrestTransformBuilder:d_e,PostgrestBuilder:h_e,PostgrestError:p_e}=Pwe;class Owe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jwe="2.15.5",Iwe=`realtime-js/${jwe}`,Dwe="1.0.0",Ww=1e4,Lwe=1e3,Rwe=100;var ep;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ep||(ep={}));var hr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(hr||(hr={}));var Fa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fa||(Fa={}));var Yw;(function(t){t.websocket="websocket"})(Yw||(Yw={}));var Jl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jl||(Jl={}));class Fwe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class e8{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(vn||(vn={}));const NP=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=$we(o,t,e,i),a),{})},$we=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?t8(a,o):Kw(o)},t8=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Hwe(e,n)}switch(t){case vn.bool:return Bwe(e);case vn.float4:case vn.float8:case vn.int2:case vn.int4:case vn.int8:case vn.numeric:case vn.oid:return Uwe(e);case vn.json:case vn.jsonb:return qwe(e);case vn.timestamp:return zwe(e);case vn.abstime:case vn.date:case vn.daterange:case vn.int4range:case vn.int8range:case vn.money:case vn.reltime:case vn.text:case vn.time:case vn.timestamptz:case vn.timetz:case vn.tsrange:case vn.tstzrange:return Kw(e);default:return Kw(e)}},Kw=t=>t,Bwe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Uwe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qwe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Hwe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>t8(e,s))}return t},zwe=t=>typeof t=="string"?t.replace(" ","T"):t,n8=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class W1{constructor(e,n,r={},i=Ww){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var EP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(EP||(EP={}));class tp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=tp.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=tp.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const A=c.map(S=>S.presence_ref),p=f.map(S=>S.presence_ref),y=c.filter(S=>p.indexOf(S.presence_ref)<0),x=f.filter(S=>A.indexOf(S.presence_ref)<0);y.length>0&&(s[u]=y),x.length>0&&(l[u]=x)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(p=>p.presence_ref),A=c.filter(p=>f.indexOf(p.presence_ref)<0);e[s].unshift(...A)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kP||(kP={}));var np;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(np||(np={}));var Ro;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class k_{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new W1(this,Fa.join,this.params,this.timeout),this.rejoinTimer=new e8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fa.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new tp(this),this.broadcastEndpointURL=n8(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==hr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[np.PRESENCE]&&this.bindings[np.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},A={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Ro.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ro.CLOSED)),this.updateJoinPayload(Object.assign({config:A},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){e==null||e(Ro.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,v=[];for(let b=0;b<S;b++){const w=x[b],{filter:{event:T,schema:C,table:k,filter:E}}=w,M=p&&p[b];if(M&&M.event===T&&M.schema===C&&M.table===k&&M.filter===E)v.push(Object.assign(Object.assign({},w),{id:M.id}));else{this.unsubscribe(),this.state=hr.errored,e==null||e(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ro.SUBSCRIBED);return}}).receive("error",p=>{this.state=hr.errored,e==null||e(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===hr.joined&&e===np.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new W1(this,Fa.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=hr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new W1(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Rwe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Fa;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let A=this._onMessage(o,n,r);if(n&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,x,S;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(x=p.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(p=>p.callback(A,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var y,x,S,v,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,C=(y=p.filter)===null||y===void 0?void 0:y.event;return T&&((x=n.ids)===null||x===void 0?void 0:x.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const T=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof A=="object"&&"ids"in A){const y=A.data,{schema:x,table:S,commit_timestamp:v,type:b,errors:w}=y;A=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(y))}p.callback(A,r)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&k_.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fa.close,{},e)}_onError(e){this._on(Fa.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=NP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=NP(e.columns,e.old_record)),n}}const Y1=()=>{},Qm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vwe=[1e3,2e3,5e3,1e4],Gwe=1e4,Wwe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ywe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ww,this.transport=null,this.heartbeatIntervalMs=Qm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Y1,this.ref=0,this.reconnectTimer=null,this.logger=Y1,this.conn=null,this.sendBuffer=[],this.serializer=new Fwe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>hl(async()=>{const{default:s}=await Promise.resolve().then(()=>xd);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Yw.websocket}`,this.httpEndpoint=n8(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Owe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dwe}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ep.connecting:return Jl.Connecting;case ep.open:return Jl.Open;case ep.closing:return Jl.Closing;default:return Jl.Closed}}isConnected(){return this.connectionState()===Jl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new k_(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lwe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Qm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fa.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Wwe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Iwe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Fa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new e8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ww,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Qm.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:Y1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>Vwe[f-1]||Gwe,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,A)=>A(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class P_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function nr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Kwe extends P_{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jw extends P_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Jwe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const r8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hl(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Xwe=()=>Jwe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hl(()=>Promise.resolve().then(()=>xd),void 0)).Response:Response}),Xw=t=>{if(Array.isArray(t))return t.map(n=>Xw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Xw(r)}),e},Qwe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var $u=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const K1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zwe=(t,e,n)=>$u(void 0,void 0,void 0,function*(){const r=yield Xwe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new Kwe(K1(i),a,o))}).catch(i=>{e(new Jw(K1(i),i))}):e(new Jw(K1(t),t))}),e5e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Qwe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function _A(t,e,n,r,i,a){return $u(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,e5e(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Zwe(l,s,r))})})}function ev(t,e,n,r){return $u(this,void 0,void 0,function*(){return _A(t,"GET",e,n,r)})}function to(t,e,n,r,i){return $u(this,void 0,void 0,function*(){return _A(t,"POST",e,r,i,n)})}function Qw(t,e,n,r,i){return $u(this,void 0,void 0,function*(){return _A(t,"PUT",e,r,i,n)})}function t5e(t,e,n,r){return $u(this,void 0,void 0,function*(){return _A(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function i8(t,e,n,r,i){return $u(this,void 0,void 0,function*(){return _A(t,"DELETE",e,r,i,n)})}var n5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class r5e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return n5e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}}var i5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class a5e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new r5e(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return i5e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}}var pi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const o5e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},PP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s5e{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=r8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return pi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},PP),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?Qw:to)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nr(a))return{data:null,error:a};throw a}})}upload(e,n,r){return pi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return pi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:PP.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Qw(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return pi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield to(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new P_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}update(e,n,r){return pi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return pi(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return pi(this,void 0,void 0,function*(){try{return{data:{path:(yield to(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return pi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield to(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return pi(this,void 0,void 0,function*(){try{const i=yield to(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>ev(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new a5e(l,this.shouldThrowOnError)}info(e){return pi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ev(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}exists(e){return pi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield t5e(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r)&&r instanceof Jw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return pi(this,void 0,void 0,function*(){try{return{data:yield i8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}list(e,n,r){return pi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},o5e),n),{prefix:e||""});return{data:yield to(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}listV2(e,n){return pi(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield to(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const l5e="2.12.2",u5e={"X-Client-Info":`storage-js/${l5e}`};var xc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class c5e{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},u5e),n),this.fetch=r8(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xc(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}getBucket(e){return xc(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xc(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return xc(this,void 0,void 0,function*(){try{return{data:yield Qw(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xc(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xc(this,void 0,void 0,function*(){try{return{data:yield i8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}}class f5e extends c5e{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new s5e(this.url,this.headers,e,this.fetch)}}const d5e="2.58.0";let Nh="";typeof Deno<"u"?Nh="deno":typeof document<"u"?Nh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nh="react-native":Nh="node";const h5e={"X-Client-Info":`supabase-js-${Nh}/${d5e}`},p5e={headers:h5e},A5e={schema:"public"},m5e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g5e={};var v5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const y5e=t=>{let e;return t?e=t:typeof fetch>"u"?e=HR:e=fetch,(...n)=>e(...n)},b5e=()=>typeof Headers>"u"?zR:Headers,x5e=(t,e,n)=>{const r=y5e(n),i=b5e();return(a,o)=>v5e(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var w5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};function S5e(t){return t.endsWith("/")?t:t+"/"}function _5e(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,A={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>w5e(this,void 0,void 0,function*(){return""})};return t.accessToken?A.accessToken=t.accessToken:delete A.accessToken,A}function T5e(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S5e(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const a8="2.72.0",Oc=30*1e3,Zw=3,J1=Zw*Oc,C5e="http://localhost:9999",N5e="supabase.auth.token",E5e={"X-Client-Info":`gotrue-js/${a8}`},e5="X-Supabase-Api-Version",o8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k5e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P5e=10*60*1e3;class M_ extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class M5e extends M_{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function O5e(t){return _t(t)&&t.name==="AuthApiError"}class s8 extends M_{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class wl extends M_{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ps extends wl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j5e(t){return _t(t)&&t.name==="AuthSessionMissingError"}class bh extends wl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zm extends wl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class eg extends wl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I5e(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class MP extends wl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t5 extends wl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function X1(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class OP extends wl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class n5 extends wl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const tv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jP=` 	
\r=`.split(""),D5e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jP.length;e+=1)t[jP[e].charCodeAt(0)]=-2;for(let e=0;e<tv.length;e+=1)t[tv[e].charCodeAt(0)]=e;return t})();function IP(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(tv[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(tv[r]),e.queuedBits-=6}}function l8(t,e,n){const r=D5e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function DP(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{F5e(o,r,n)};for(let o=0;o<t.length;o+=1)l8(t.charCodeAt(o),i,a);return e.join("")}function L5e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function R5e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}L5e(r,e)}}function F5e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $5e(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)l8(t.charCodeAt(i),n,r);return new Uint8Array(e)}function B5e(t){const e=[];return R5e(t,n=>e.push(n)),new Uint8Array(e)}function U5e(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>IP(i,n,r)),IP(null,n,r),e.join("")}function q5e(t){return Math.round(Date.now()/1e3)+t}function H5e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ta=()=>typeof window<"u"&&typeof document<"u",Fl={tested:!1,writable:!1},u8=()=>{if(!ta())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fl.tested)return Fl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fl.tested=!0,Fl.writable=!0}catch{Fl.tested=!0,Fl.writable=!1}return Fl.writable};function z5e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const c8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hl(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},V5e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},$l=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ks=async(t,e)=>{await t.removeItem(e)};class Py{constructor(){this.promise=new Py.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Py.promiseConstructor=Promise;function Q1(t){const e=t.split(".");if(e.length!==3)throw new n5("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!k5e.test(e[r]))throw new n5("JWT not in base64url format");return{header:JSON.parse(DP(e[0])),payload:JSON.parse(DP(e[1])),signature:$5e(e[2]),raw:{header:e[0],payload:e[1]}}}async function G5e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function W5e(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function Y5e(t){return("0"+t.toString(16)).substr(-2)}function K5e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Y5e).join("")}async function J5e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function X5e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await J5e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wc(t,e,n=!1){const r=K5e();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await jc(t,`${e}-code-verifier`,i);const a=await X5e(r);return[a,r===a?"plain":"s256"]}const Q5e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z5e(t){const e=t.headers.get(e5);if(!e||!e.match(Q5e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eSe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tSe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nSe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sc(t){if(!nSe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Z1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LP(t){return JSON.parse(JSON.stringify(t))}var rSe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Yl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iSe=[502,503,504];async function RP(t){var e;if(!V5e(t))throw new t5(Yl(t),0);if(iSe.includes(t.status))throw new t5(Yl(t),t.status);let n;try{n=await t.json()}catch(a){throw new s8(Yl(a),a)}let r;const i=Z5e(t);if(i&&i.getTime()>=o8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new OP(Yl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ps}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new OP(Yl(n),t.status,n.weak_password.reasons);throw new M5e(Yl(n),t.status||500,r)}const aSe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Mt(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[e5]||(a[e5]=o8["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await oSe(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function oSe(t,e,n,r,i,a){const o=aSe(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new t5(Yl(l),0)}if(s.ok||await RP(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await RP(l)}}function eo(t){var e;let n=null;cSe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=q5e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function FP(t){const e=eo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Us(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sSe(t){return{data:t,error:null}}function lSe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=rSe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function uSe(t){return t}function cSe(t){return t.access_token&&t.refresh_token&&t.expires_in}const ex=["global","local","others"];var fSe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class dSe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=c8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ex[0]){if(ex.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ex.join(", ")}`);try{return await Mt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Us})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=fSe(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lSe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Us})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:uSe});if(c.error)throw c.error;const f=await c.json(),A=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=x}),u.total=parseInt(A)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(_t(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Sc(e);try{return await Mt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Us})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sc(e);try{return await Mt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Us})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Sc(e);try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Us})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Sc(e.userId);try{const{data:n,error:r}=await Mt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sc(e.userId),Sc(e.id);try{return{data:await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}}function $P(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function hSe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _c={debug:!!(globalThis&&u8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f8 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pSe extends f8{}async function ASe(t,e,n){_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_c.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{_c.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw _c.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pSe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_c.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function d8(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function mSe(t){return parseInt(t,16)}function gSe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function vSe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:A}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(A!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${A}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=d8(t.address),y=c?`${c}://${r}`:r,x=t.statement?`${t.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${p}

${x}`;let v=`URI: ${f}
Version: ${A}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${S}
${v}`}hSe();const ySe={url:C5e,storageKey:N5e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E5e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function BP(t,e,n){return await n()}const Tc={};class eA{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=eA.nextInstanceID,eA.nextInstanceID+=1,this.instanceID>0&&ta()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ySe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dSe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=c8(i.fetch),this.lock=i.lock||BP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ta()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ASe:this.lock=BP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:u8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$P(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$P(this.memoryStorage)),ta()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Tc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Tc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a8}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=z5e(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ta()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),I5e(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _t(n)?{error:n}:{error:new s8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:eo}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(_t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:A}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await wc(this.storage,this.storageKey)),a=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:c,password:f,data:(n=A==null?void 0:A.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:p,code_challenge_method:y},xform:eo})}else if("phone"in e){const{phone:c,password:f,options:A}=e;a=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},channel:(i=A==null?void 0:A.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:eo})}else throw new Zm("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(_t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:FP})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:FP})}else throw new Zm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new bh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,f,A;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:x,wallet:S,statement:v,options:b}=e;let w;if(ta())if(typeof S=="object")w=S;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")w=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=S}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),C=await w.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=d8(C[0]);let E=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const I=await w.request({method:"eth_chainId"});E=mSe(I)}const M={domain:T.host,address:k,statement:v,uri:T.href,version:"1",chainId:E,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=vSe(M),y=await w.request({method:"personal_sign",params:[gSe(p),k]})}try{const{data:x,error:S}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:eo});if(S)throw S;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new bh}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:S})}catch(x){if(_t(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,f,A,p;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:S,wallet:v,statement:b,options:w}=e;let T;if(ta())if(typeof v=="object")T=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const C=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),b?{statement:b}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(c=w==null?void 0:w.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:S,error:v}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:U5e(x)},!((A=e.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:eo});if(v)throw v;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new bh}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:v})}catch(S){if(_t(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await $l(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:eo});if(await ks(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new bh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(_t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:eo}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await wc(this.storage,this.storageKey));const{error:f}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Zm("You must provide either an email or phone number.")}catch(s){if(_t(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await Mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:eo});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(_t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await wc(this.storage,this.storageKey)),await Mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:sSe})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ps;const{error:i}=await Mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(_t(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await Mt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Zm("You must provide either an email or phone number and a type")}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await $l(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<J1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await $l(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Z1()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Us}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ps}:await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Us})})}catch(n){if(_t(n))return j5e(n)&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ps;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await wc(this.storage,this.storageKey));const{data:u,error:c}=await Mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Us});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ps;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Q1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(_t(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ps;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ta())throw new eg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new eg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new MP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new MP("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new eg("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let A=c+f;l&&(A=parseInt(l));const p=A-c;p*1e3<=Oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=A-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,A,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,A,c);const{data:x,error:S}=await this._getUser(a);if(S)throw S;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:A,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(_t(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await $l(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(O5e(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=H5e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await wc(this.storage,this.storageKey,!0));try{return await Mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:A}=a;if(A)throw A;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Mt(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ta()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_t(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Mt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W5e(async i=>(i>0&&await G5e(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:eo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&X1(a)&&Date.now()+o-r<Oc})}catch(r){if(this._debug(n,"error",r),_t(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ta()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $l(this.storage,this.storageKey);if(i&&this.userStorage){let o=await $l(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await jc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Z1()}else if(i&&!i.user&&!i.user){const o=await $l(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await ks(this.storage,this.storageKey+"-user"),await jc(this.storage,this.storageKey,i)):i.user=Z1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<J1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${J1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),X1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Py;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ps;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),_t(a)){const o={session:null,error:a};return X1(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await jc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=LP(i);await jc(this.storage,this.storageKey,a)}else{const i=LP(n);await jc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ks(this.storage,this.storageKey),await ks(this.storage,this.storageKey+"-code-verifier"),await ks(this.storage,this.storageKey+"-user"),this.userStorage&&await ks(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ta()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oc}ms, refresh threshold is ${Zw} ticks`),i<=Zw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof f8)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ta()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await wc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Mt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Mt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(_t(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_t(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Q1(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+P5e>i)return r;const{data:a,error:o}=await Mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Q1(r);n!=null&&n.allowExpired||eSe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const c=tSe(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,B5e(`${s}.${l}`)))throw new n5("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}}eA.nextInstanceID=0;const bSe=eA;class xSe extends bSe{constructor(e){super(e)}}var wSe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class SSe{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=T5e(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:A5e,realtime:g5e,auth:Object.assign(Object.assign({},m5e),{storageKey:l}),global:p5e},c=_5e(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=x5e(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Mwe(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new f5e(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new uwe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return wSe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,f){const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xSe({url:this.authUrl.href,headers:Object.assign(Object.assign({},A),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ywe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _Se=(t,e,n)=>new SSe(t,e,n);function TSe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}TSe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const h8="https://kclntdmvpeykknjnndeb.supabase.co",r5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjbG50ZG12cGV5a2tuam5uZGViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTk0MjEsImV4cCI6MjA3NTE3NTQyMX0.O49_JCNUZxPlp6EAqbZHUpJWYJGFBl63QsnmBICyphI";function p8(){return!!(h8.startsWith("http")&&r5&&r5.startsWith("eyJ"))}const CSe=()=>p8()?_Se(h8,r5):(console.error("Supabase credentials are not set correctly in supabaseClient.ts! Please provide a valid URL and public anon key."),new Proxy({},{get:(t,e)=>e==="channel"?()=>({on:()=>({subscribe:()=>({unsubscribe:()=>Promise.resolve("ok")})})}):e==="removeChannel"?()=>{}:e==="from"?()=>new Proxy({},{get:()=>()=>Promise.resolve({data:[],error:{message:"Supabase not configured"}})}):()=>{}})),dt=CSe(),vo=({error:t,data:e},n)=>{if(t){if(t.code==="PGRST116"&&t.details.includes("0 rows"))return null;throw console.error(`Error in ${n}:`,t),t}return e},NSe=async t=>{const{data:e,error:n}=await dt.from("stores").select("*").eq("id",t).single();return vo({data:e,error:n},"getStoreById")},A8=async t=>{const{data:e,error:n}=await dt.from("stores").select("*").eq("licenseKey",t).single();return vo({data:e,error:n},"getStoreByLicenseKey")},Xl=async t=>{const{id:e,...n}=t,{data:r,error:i}=await dt.from("stores").update(n).eq("id",e).select().single();return vo({data:r,error:i},"updateStore")},ESe=async(t,e)=>{const{data:n,error:r}=await dt.from("users").select("*").or(`password.eq.${e},pin.eq.${e}`).limit(1).single();if(r||!n)throw console.error("Login error or no user found:",r),new Error("invalidCredentialsError");if(!t.isActive)throw new Error("storeDisabledError");return{user:{...n,storeId:t.id},store:t}},kSe=async(t,e)=>{const{data:n,error:r}=await dt.from("stores").select("id").eq("id",t).single();if(r||!n)throw new Error("storeNotFound");const i="GoShop-Activation-Key-Abzn-Secret-2024";let a;try{a=atob(e.replace("PERM-",""))}catch{return!1}const[o,s]=a.split("::");return o===t&&s===i?(await Xl({id:t,isActive:!0,trialStartDate:null}),!0):!1},PSe=async t=>{const n=["products","productVariants","sales","expenses","customers","suppliers","returns","categories","purchases","stockBatches"].map(a=>{const o=a.replace(/([A-Z])/g,"_$1").toLowerCase();return dt.from(o).select("*").eq("storeId",t).then(({data:s,error:l})=>{if(l&&l.code==="42P01")return console.warn(`Table '${o}' not found. Skipping.`),{tableName:a,data:[]};if(l)throw l;return{tableName:a,data:s}})}),r=await Promise.all(n),i={};for(const a of r)i[a.tableName]=a.data;return i},m8=async(t,e,n)=>{const{error:r}=await dt.from("user_carts").upsert({id:`${t}-${e}`,storeId:t,userId:e,cart_data:n},{onConflict:"id"});r&&console.error("Error saving cart:",r)},MSe=async(t,e)=>{const{data:n,error:r}=await dt.from("user_carts").select("cart_data").eq("id",`${t}-${e}`).single();return r||!n?[]:n.cart_data||[]},UP=async(t,e)=>{await m8(t,e,[])},qP=async(t,e)=>{const{data:n,error:r}=await dt.from("products").insert(t).select().single();if(r)throw r;const i=e.map(l=>({...l,productId:n.id,storeId:t.storeId})),{data:a,error:o}=await dt.from("product_variants").insert(i).select();if(o)throw o;const s=e.map((l,u)=>({storeId:t.storeId,variantId:a[u].id,quantity:l.stockQuantity||0,purchasePrice:l.purchasePrice,createdAt:new Date().toISOString()})).filter(l=>l.quantity>0);if(s.length>0){const{error:l}=await dt.from("stock_batches").insert(s);if(l)if(l.code==="42P01")console.warn("stock_batches table not found. Skipping initial stock creation.");else throw l}return{product:n,variants:a}},HP=async(t,e)=>{const{error:n}=await dt.from("products").update(t).eq("id",t.id);if(n)throw n;const r=e.map(i=>{const{stockQuantity:a,...o}=i,s={...o,storeId:t.storeId,productId:t.id};return dt.from("product_variants").upsert(s,{onConflict:"id"})});await Promise.all(r)},zP=async t=>{const{error:e}=await dt.from("products").delete().eq("id",t);if(e)throw e},OSe=async(t,e,n,r,i,a)=>{const{error:o}=await dt.from("stock_batches").insert({storeId:t,variantId:e,quantity:n,purchasePrice:r,createdAt:new Date().toISOString()});if(o&&o.code!=="42P01")throw o;const{error:s}=await dt.from("product_variants").update({purchasePrice:r,price:i}).eq("id",e);if(s)throw s;const{data:l}=await dt.from("product_variants").select("productId, name").eq("id",e).single();if(l){const{data:u}=await dt.from("products").select("name").eq("id",l.productId).single();if(u){const c={variantId:e,productId:l.productId,productName:u.name,variantName:l.name,quantity:n,purchasePrice:r};await g8({storeId:t,supplierId:a,date:new Date().toISOString(),items:[c],totalAmount:n*r,reference:"purchase_ref_stock_adjustment",amountPaid:n*r,remainingAmount:0,paymentMethod:"cash"})}}},jSe=async(t,e,n,r,i,a)=>{const o=e.reduce((f,A)=>{const p=(A.price-(A.purchasePrice||A.price))*A.quantity;return f+p},0),s={storeId:t,userId:a,date:new Date().toISOString(),items:e,total:i,downPayment:n,remainingAmount:i-n,profit:o,customerId:r},{data:l,error:u}=await dt.from("sales").insert(s).select().single();if(u)throw u;const c=e.filter(f=>f.type==="good"&&!f.isCustom).map(f=>({variantId:f.id,quantity:-f.quantity}));for(const f of c)try{const{error:A}=await dt.rpc("update_stock",{p_variant_id:f.variantId,p_quantity_change:f.quantity,p_store_id:t});if(A)throw A}catch(A){if(A.code==="42883"||A.code==="42P01")console.warn("RPC function 'update_stock' or 'stock_batches' table not found. Skipping stock update for sale.");else throw A}return l},ISe=async(t,e,n)=>{const r=e.reduce((c,f)=>c+f.price*f.quantity,0),i=e.reduce((c,f)=>c+(f.price-(f.purchasePrice||f.price))*f.quantity,0),a={storeId:t,userId:n,date:new Date().toISOString(),items:e,refundAmount:r,profitLost:i},{data:o,error:s}=await dt.from("returns").insert(a).select().single();if(s)throw s;const u=e.filter(c=>c.type==="good"&&!c.isCustom).map(c=>({variantId:c.id,quantity:c.quantity,purchasePrice:c.purchasePrice||0})).map(c=>({storeId:t,variantId:c.variantId,quantity:c.quantity,purchasePrice:c.purchasePrice,createdAt:new Date().toISOString()}));if(u.length>0){const{error:c}=await dt.from("stock_batches").insert(u);if(c&&c.code!=="42P01")throw console.error("Error adding stock back on return:",c),c}return o},DSe=async t=>{const{error:e}=await dt.from("returns").delete().eq("id",t);if(e)throw e},LSe=async t=>{const{error:e}=await dt.from("returns").delete().eq("storeId",t);if(e)throw e},RSe=async(t,e)=>{const{data:n}=await dt.from("customers").select("storeId").eq("id",t).single();if(!n)throw new Error("Customer not found");const r={storeId:n.storeId,userId:"system",date:new Date().toISOString(),items:[],total:-e,downPayment:-e,remainingAmount:0,profit:0,customerId:t},{error:i}=await dt.from("sales").insert(r);if(i)throw i},FSe=async t=>{const{data:e,error:n}=await dt.from("expenses").insert(t).select().single();return vo({data:e,error:n},"addExpense")},$Se=async t=>{const{error:e}=await dt.from("expenses").update(t).eq("id",t.id);if(e)throw e},BSe=async t=>{const{error:e}=await dt.from("expenses").delete().eq("id",t);if(e)throw e},USe=async t=>{const{data:e,error:n}=await dt.from("customers").insert(t).select().single();return vo({data:e,error:n},"addCustomer")},qSe=async t=>{const{data:e,error:n}=await dt.from("sales").select("remainingAmount").eq("customerId",t);if(n)throw n;if(e.reduce((a,o)=>a+o.remainingAmount,0)>0)throw new Error("customerDeleteErrorHasDebt");const{error:i}=await dt.from("customers").delete().eq("id",t);if(i)throw i},HSe=async t=>{const{data:e,error:n}=await dt.from("suppliers").insert(t).select().single();return vo({data:e,error:n},"addSupplier")},zSe=async t=>{const{data:e,error:n}=await dt.from("purchases").select("remainingAmount").eq("supplierId",t);if(n)throw n;if(e.reduce((a,o)=>a+o.remainingAmount,0)>0)throw new Error("supplierDeleteErrorHasDebt");const{error:i}=await dt.from("suppliers").delete().eq("id",t);if(i)throw i},g8=async t=>{const{error:e}=await dt.from("purchases").insert(t);if(e)throw e;const n=t.items.map(r=>({storeId:t.storeId,variantId:r.variantId,quantity:r.quantity,purchasePrice:r.purchasePrice,createdAt:t.date}));if(n.length>0){const{error:r}=await dt.from("stock_batches").insert(n);if(r&&r.code!=="42P01")throw console.error("Error adding stock from purchase:",r),r}},VSe=async t=>{const{error:e}=await dt.from("purchases").update(t).eq("id",t.id);if(e)throw e},GSe=async t=>{const{data:e,error:n}=await dt.from("categories").insert(t).select().single();return vo({data:e,error:n},"addCategory")},WSe=async t=>{const{error:e}=await dt.from("categories").update(t).eq("id",t.id);if(e)throw e},YSe=async t=>{const{error:e}=await dt.from("categories").delete().eq("id",t);if(e)throw e},v8=async t=>{const{storeId:e,...n}=t,{data:r,error:i}=await dt.from("users").insert(n).select().single();return{...vo({data:r,error:i},"addUser"),storeId:e}},y8=async t=>{const{storeId:e,...n}=t,{error:r}=await dt.from("users").update(n).eq("id",t.id);if(r)throw r},KSe=async t=>{const{error:e}=await dt.from("users").delete().eq("id",t);if(e)throw e},b8=async()=>{const{data:t,error:e}=await dt.from("stores").select("*");return vo({data:t,error:e},"getAllStores")},x8=async t=>{const{data:e,error:n}=await dt.from("users").select("*"),r=vo({data:e,error:n},"getAllUsers");return t&&r?r.map(i=>({...i,storeId:t})):r||[]},JSe=async(t,e,n,r,i,a,o,s)=>{const{data:l,error:u}=await dt.rpc("create_store_and_admin",{p_store_name:t,p_logo:e,p_admin_email:r,p_admin_password:n,p_trial_duration:i,p_address:a,p_ice:o,p_enable_ai_scan:s});if(u)throw u;return{store:l.store,user:l.user,licenseKey:l.store.licenseKey}},XSe=async t=>{const{error:e}=await dt.rpc("delete_store",{p_store_id:t});if(e)throw e},w8=async t=>{const{data:e,error:n}=await dt.from("users").select("*").eq("role","admin");if(n)throw console.error("Error fetching admin users:",n),n;return e&&e.length>0?e[0]:null},tg=({checked:t,onChange:e,labelOn:n,labelOff:r,title:i,disabled:a=!1})=>h.jsxs("label",{className:`inline-flex items-center ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`,title:i,children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"checkbox",checked:t,onChange:e,className:"sr-only peer",disabled:a}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-teal-600"})]}),h.jsx("span",{className:`ml-3 text-sm font-medium ${t?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`,children:t?n:r})]}),QSe=({onLoginAsStoreAdmin:t,onLogout:e,onGoBack:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{var he;const[l,u]=re.useState([]),[c,f]=re.useState([]),[A,p]=re.useState({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),[y,x]=re.useState(!0),[S,v]=re.useState({}),[b,w]=re.useState({}),[T,C]=re.useState(null),[k,E]=re.useState(null),[M,I]=re.useState(null),[U,O]=re.useState(null),j="GoShop-Activation-Key-Abzn-Secret-2024",$=async()=>{u((await b8()).sort((G,le)=>G.name.localeCompare(le.name))),f(await x8())};re.useEffect(()=>{$()},[]);const F=re.useMemo(()=>{const G={};for(const le of c)G[le.storeId]||(G[le.storeId]=[]),G[le.storeId].push(le);return G},[c]),H=G=>{if(G.target.files&&G.target.files[0]){const le=G.target.files[0],ce=new FileReader;ce.onloadend=()=>{p(ue=>({...ue,logo:ce.result}))},ce.readAsDataURL(le)}},R=async G=>{if(G.preventDefault(),C(null),E(null),!A.name||!A.adminPassword){alert(r("fillAllFieldsError"));return}const le=A.adminPassword,ce=A.trialDurationDays||0;try{const{licenseKey:ue}=await JSe(A.name,A.logo,A.adminPassword,A.adminEmail,ce,A.address,A.ice,A.enableAiReceiptScan);if(y){const De=await A8(ue);if(De){const Ce={isActive:!0,licenseProof:new Date().toISOString(),trialStartDate:ce>0?new Date().toISOString():null};await Xl({...De,...Ce})}}C(ue),E(le),p({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),x(!0);const Me=document.getElementById("logo");Me&&(Me.value=""),await $()}catch(ue){ue instanceof TypeError&&ue.message==="Failed to fetch"?alert(r("failedToFetchError_CORS")):alert(r(ue.message)||ue.message)}},B=async(G,le)=>{if(window.confirm(r("deleteStoreConfirm",{storeName:le})))try{await XSe(G),alert(r("storeDeletedSuccess",{storeName:le})),await $()}catch(ce){console.error("Failed to delete store:",ce),alert(`${r("storeDeleteError")}: ${ce.message}`)}},W=(G,le)=>{v(ce=>({...ce,[G]:le}))},K=async G=>{const le=(F[G]||[]).filter(ce=>S[ce.id]!==void 0&&S[ce.id].trim()!=="");for(const ce of le)if(ce.role==="seller"&&S[ce.id].length<4){alert(r("pinMustBe4Chars"));return}if(le.length!==0){for(const ce of le){const ue={...ce};ce.role==="admin"?ue.password=S[ce.id]:ue.pin=S[ce.id],await y8(ue)}v(ce=>{const ue={...ce};return le.forEach(Me=>delete ue[Me.id]),ue}),alert(r("pinUpdateSuccess")),await $()}},Z=async G=>{const le=b[G];if(!le||le.trim()===""||le.length<4){alert(r("pinMustBe4Chars"));return}const ce=(F[G]||[]).filter(Me=>Me.role==="seller").length,ue=`${r("seller")} ${ce+1}`;await v8({name:ue,pin:le,role:"seller",storeId:G}),w(Me=>({...Me,[G]:""})),await $()},se=async G=>{if(G.isActive)await Xl({...G,isActive:!1});else{let le=!1;if(G.trialStartDate){const ce=new Date(G.trialStartDate),ue=new Date(ce);ue.setDate(ce.getDate()+(G.trialDurationDays??7)),new Date>ue&&(le=!0)}if(le)if(window.confirm(r("confirmPermanentActivation",{storeName:G.name})))await Xl({...G,isActive:!0,trialStartDate:null});else return;else await Xl({...G,isActive:!0})}await $()},L=async G=>{await Xl({...G,enableAiReceiptScan:!G.enableAiReceiptScan}),await $()},z=G=>{const le=`PERM-${btoa(`${G.id}::${j}`)}`;O({storeName:G.name,code:le})},Q=(G,le)=>{navigator.clipboard.writeText(G),I(le),setTimeout(()=>{I(null)},2e3)},te=G=>{if(!G.licenseProof)return h.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:r("storeStatus_notActivated")});if(G.trialStartDate){const le=new Date(G.trialStartDate),ce=new Date(le);ce.setDate(le.getDate()+(G.trialDurationDays??7));const ue=ce.getTime()-new Date().getTime();if(ue>0){const Me=Math.ceil(ue/864e5);return h.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-yellow-200 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",children:r("trialDaysRemaining",{days:Me})})}else return h.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-red-200 text-red-800 dark:bg-red-900/50 dark:text-red-300",children:r("trialEnded")})}return h.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-green-200 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:r("storeStatus_licensed")})},ae=async G=>{try{const le=await w8(G.id);le?t(le,G):alert(r("noAdminForStore"))}catch(le){console.error("Failed to login as admin:",le),alert(`${r("unknownError")}: ${le.message}`)}},me=()=>{if(T){const G=l.find(le=>le.licenseKey===T);G?ae(G):alert("Store data not ready. Please wait a moment and try logging in from the main list.")}};return h.jsxs("div",{className:"bg-gray-100 dark:bg-slate-900 min-h-screen",children:[U&&h.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6 text-center",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("activationCodeForStore",{storeName:U.storeName})}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("copyAndSendToClient")}),h.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-between gap-4",children:[h.jsx("p",{className:"font-mono text-lg break-all text-slate-800 dark:text-slate-100",children:U.code}),h.jsx("button",{onClick:()=>Q(U.code,"activation-code"),className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-3 rounded-lg text-sm shrink-0",children:r(M==="activation-code"?"copied":"copy")})]}),h.jsx("button",{onClick:()=>O(null),className:"mt-6 bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})]})}),h.jsx("header",{className:"bg-white dark:bg-slate-800 text-white p-4 shadow-lg sticky top-0 z-40",children:h.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[h.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:[h.jsx(rd,{className:"w-5 h-5"}),h.jsx("span",{children:r("backToPortal")})]}),h.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100",children:r("superAdminDashboard")}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:o==="light"?h.jsx(Sv,{className:"w-5 h-5"}):h.jsx(wv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-3 py-2 text-sm font-bold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:i==="fr"?"AR":"FR"}),h.jsxs("button",{onClick:e,title:r("logout"),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:[h.jsx(aS,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden md:inline",children:r("logout")})]})]})]})}),h.jsxs("main",{className:"container mx-auto p-4 sm:p-6 space-y-8",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(lS,{}),r("addStore")]}),h.jsxs("form",{onSubmit:R,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center p-2 border-2 border-dashed rounded-lg dark:border-slate-600 row-span-2",children:[h.jsx(Z0,{url:A.logo,className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200 dark:bg-slate-700"}),h.jsx("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeLogo")}),h.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:H,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeName")}),h.jsx("input",{type:"text",value:A.name,onChange:G=>p({...A,name:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminPassword")}),h.jsx("input",{type:"password",value:A.adminPassword,onChange:G=>p({...A,adminPassword:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminEmail")}),h.jsx("input",{type:"email",value:A.adminEmail,onChange:G=>p({...A,adminEmail:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("trialPeriodDays")}),h.jsx("input",{type:"number",min:"0",value:A.trialDurationDays,onChange:G=>p({...A,trialDurationDays:parseInt(G.target.value,10)||0}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("address")," (",r("optional"),")"]}),h.jsx("input",{type:"text",value:A.address,onChange:G=>p({...A,address:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("ice")," (",r("optional"),")"]}),h.jsx("input",{type:"text",value:A.ice,onChange:G=>p({...A,ice:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),h.jsxs("div",{className:"lg:col-span-3 space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ha,{className:"w-8 h-8 text-purple-500 dark:text-purple-400"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("enableAiScan")}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("aiScanFeatureDescription")})]})]}),h.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:h.jsx(tg,{checked:A.enableAiReceiptScan,onChange:()=>p(G=>({...G,enableAiReceiptScan:!G.enableAiReceiptScan})),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Xx,{className:"w-8 h-8 text-blue-500 dark:text-blue-400"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("activateImmediately")}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("activateImmediatelyDesc")})]})]}),h.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:h.jsx(tg,{checked:y,onChange:()=>x(G=>!G),labelOn:r("activeOnCreation"),labelOff:r("inactiveOnCreation"),title:r("activateImmediately")})})]})]})]}),h.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(il,{}),r("addStoreButton")]})]}),T&&k&&h.jsxs("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900/50 rounded-lg text-green-800 dark:text-green-300",children:[h.jsx("h3",{className:"font-bold",children:r("storeCreatedSuccess")}),h.jsxs("div",{className:"mt-2 space-y-4 text-sm",children:[h.jsxs("p",{children:[h.jsxs("strong",{children:[r("storeName"),":"]})," ",(he=l.find(G=>G.licenseKey===T))==null?void 0:he.name]}),h.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded border border-yellow-300 dark:border-yellow-700",children:[h.jsxs("p",{className:"font-semibold",children:[r("adminPassword"),":"]}),h.jsx("p",{className:"font-mono text-xl my-1",children:k}),h.jsx("p",{className:"text-xs",children:r("useThisPasswordAfter")})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"font-semibold mt-2",children:[r("licenseKey"),":"]}),h.jsx("p",{className:"text-xs mb-1",children:r("useThisToLoginFirst")}),h.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white dark:bg-slate-700 rounded-md",children:[h.jsx("p",{className:"font-mono text-lg break-all flex-grow",children:T}),h.jsx("button",{onClick:()=>Q(T,"new-key"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg text-sm",children:r(M==="new-key"?"copied":"copy")})]})]})]}),h.jsxs("button",{onClick:me,className:"mt-4 w-full bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center justify-center gap-2",children:[h.jsx(nd,{className:"w-5 h-5"}),r("loginAsAdmin")]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("manageStores")}),h.jsx("div",{className:"space-y-6",children:l.length>0?l.map(G=>{const le=F[G.id]||[],ce=le.find(Me=>Me.role==="admin"),ue=le.filter(Me=>Me.role==="seller");return h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl shadow-md border-l-4 dark:border-l-4 border-teal-500",children:[h.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(Z0,{url:G.logo,className:"w-16 h-16 rounded-lg bg-white object-cover"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:G.name}),h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsxs("span",{className:"text-sm font-mono text-slate-500 dark:text-slate-400",children:[r("licenseKey"),":"]}),h.jsx("span",{className:"font-mono text-sm bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded break-all",children:G.licenseKey}),h.jsx("button",{type:"button",onClick:()=>Q(G.licenseKey,G.id),className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 dark:hover:bg-teal-800/50 text-xs font-bold py-1 px-2 rounded-md",children:M===G.id?r("copied"):r("copy")})]}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r("trialDurationDisplay",{days:G.trialDurationDays})})]})]}),h.jsxs("div",{className:"flex flex-col items-end gap-3",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(tg,{checked:G.isActive,onChange:()=>se(G),labelOn:r("storeStatus_active"),labelOff:r("storeStatus_inactive"),title:r("toggleStoreStatus")}),h.jsx("button",{onClick:()=>B(G.id,G.name),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:r("deleteStore"),children:h.jsx(ri,{})})]}),te(G)]})]}),h.jsxs("div",{className:"space-y-4 pt-4 border-t-2 border-dashed dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ha,{className:"w-5 h-5 text-purple-500"}),h.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("enableAiScan")})]}),h.jsx(tg,{checked:G.enableAiReceiptScan||!1,onChange:()=>L(G),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})]}),h.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("storeUsersAndPins")}),h.jsxs("div",{className:"space-y-3",children:[ce&&h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"font-semibold w-24",children:[r("admin")," (",ce.name,")"]}),h.jsx("input",{type:"password",placeholder:r("newPassword"),defaultValue:"",onChange:Me=>W(ce.id,Me.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),ue.map(Me=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"font-semibold w-24",children:Me.name}),h.jsx("input",{type:"password",placeholder:r("newPin"),defaultValue:"",onChange:De=>W(Me.id,De.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]},Me.id))]}),h.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4 mt-4",children:[h.jsx("button",{onClick:()=>K(G.id),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:r("saveChanges")}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"password",placeholder:r("newSellerPinPlaceholder"),value:b[G.id]||"",onChange:Me=>w(De=>({...De,[G.id]:Me.target.value})),className:"p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 text-sm w-48"}),h.jsxs("button",{onClick:()=>Z(G.id),className:"bg-teal-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center text-sm",children:[h.jsx(ej,{className:"w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"}),r("add")]})]})]}),h.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg mt-4",children:[h.jsxs("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-2 flex items-center gap-2",children:[h.jsx(oS,{className:"w-5 h-5"}),r("permanentActivation")]}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:r("permanentActivationDesc")}),h.jsxs("button",{onClick:()=>z(G),disabled:!G.licenseProof||!G.trialStartDate,className:"bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 dark:disabled:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[h.jsx(Xx,{className:"w-4 h-4"}),r("generateActivationCode")]})]})]})]},G.id)}):h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:r("noStoresAdded")})})]})]})]})},S8=({className:t})=>h.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 297.31 290",className:t,children:[h.jsxs("defs",{children:[h.jsx("style",{children:`
                .cls-1{fill:none;}
                .cls-9{fill:#383838; direction: ltr; text-anchor: middle;}
                .dark .cls-9 { fill: #e2e8f0; }
                .cls-3{clip-path:url(#clip-path);}
                .cls-4{fill:url(#linear-gradient);}
                .cls-5{clip-path:url(#clip-path-2);}
                .cls-6{fill:url(#linear-gradient-2);}
                .cls-7{clip-path:url(#clip-path-3);}
                .cls-8{fill:url(#linear-gradient-3);}
                .cls-9{font-size:42px;font-family:Damavand-Regular;}
            `}),h.jsx("clipPath",{id:"clip-path",transform:"translate(20.8 29.57)",children:h.jsx("path",{className:"cls-1",d:"M109.57,55.71a47,47,0,1,0,62.05,26.08c7.43,19.09-.76,40.37-18.67,48-18.26,7.73-39.71-1.71-47.91-21.08s0-41.34,18.22-49.07c18-7.61,39,1.42,47.51,20.19a47,47,0,0,0-61.2-24.07"})}),h.jsxs("linearGradient",{id:"linear-gradient",x1:"-661.98",y1:"962.1",x2:"-661.62",y2:"962.1",gradientTransform:"matrix(0, 241.28, 241.28, 0, -232006.06, 159777.96)",gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{offset:"0",stopColor:"#f8ed86"}),h.jsx("stop",{offset:"1",stopColor:"#e67026"})]}),h.jsx("clipPath",{id:"clip-path-2",transform:"translate(20.8 29.57)",children:h.jsx("path",{className:"cls-1",d:"M124.19,100.39c-6.82-16.24-1.91-33.78,11-39.19S164,64.56,170.83,80.8s1.91,33.78-11,39.19a20.64,20.64,0,0,1-8,1.6c-10.9,0-22.21-8.22-27.66-21.2m-.88-40.94C105.39,67,97.14,88.23,104.52,107.34c0,.15.11.3.17.45s.18.45.28.67l.23.54c0,.12.1.24.16.36,8.42,18.79,29.46,27.88,47.46,20.31,18.28-7.68,26.49-29.62,18.34-49-6.23-14.84-20.22-23.88-34.64-23.88a34,34,0,0,0-13.21,2.67"})}),h.jsx("linearGradient",{id:"linear-gradient-2",x1:"-658.75",y1:"961.74",x2:"-658.39",y2:"961.74",gradientTransform:"matrix(0, -173.8, -173.8, 0, 167285.74, -114352.79)",xlinkHref:"#linear-gradient"}),h.jsx("clipPath",{id:"clip-path-3",transform:"translate(20.8 29.57)",children:h.jsx("path",{className:"cls-1",d:"M200.23,52.61a392.27,392.27,0,0,0-42,10.42,44.36,44.36,0,0,1,4.52,4.37A373.26,373.26,0,0,1,201.21,58c25.59-4.64,33.87-1.82,34.68.32S232.31,68.05,210,81.4a374.37,374.37,0,0,1-35.14,18.25l-.72.33,0,0-.53.24c-11.66,5.34-24.31,10.61-37.5,15.6l-1.6.6c-6.33,2.38-12.61,4.62-18.79,6.73l0,0c-7.74,2.63-15.31,5-22.64,7.2a375.35,375.35,0,0,1-38.46,9.4c-25.59,4.63-33.88,1.81-34.68-.33s3.57-9.72,25.89-23.07A375.62,375.62,0,0,1,80.86,98.15a45.2,45.2,0,0,1,.53-6.27A391.4,391.4,0,0,0,42.9,111.69c-9.64,5.77-17,11-21.79,15.67-5.78,5.55-7.88,10.15-6.42,14s6.07,6,14.08,6.34c6.67.31,15.66-.55,26.71-2.55a389.31,389.31,0,0,0,42-10.42c7.63-2.29,15.52-4.85,23.55-7.64l.08,0q7.56-2.62,15.25-5.52,2.9-1.08,5.75-2.18c10.32-4,20.29-8.14,29.68-12.34l1-.46.08,0,1.44-.65a391.15,391.15,0,0,0,38.48-19.81c9.64-5.77,17-11,21.79-15.67,5.78-5.55,7.88-10.15,6.42-14s-6.07-6-14.07-6.34c-.9,0-1.83-.06-2.8-.06a138.81,138.81,0,0,0-23.92,2.61"})}),h.jsx("linearGradient",{id:"linear-gradient-3",x1:"-662.36",y1:"961.67",x2:"-662",y2:"961.67",gradientTransform:"matrix(0, 179.06, 179.06, 0, -172067.09, 118662.76)",xlinkHref:"#linear-gradient"})]}),h.jsx("g",{className:"cls-3",children:h.jsx("rect",{className:"cls-4",x:"54.96",y:"29.99",width:"145.51",height:"144.37",transform:"translate(-15 127.91) rotate(-37.32)"})}),h.jsx("g",{className:"cls-5",children:h.jsx("rect",{className:"cls-6",x:"80.38",y:"38.67",width:"115.7",height:"115.69",transform:"translate(-7.19 154.26) rotate(-44.55)"})}),h.jsx("g",{className:"cls-7",children:h.jsx("rect",{className:"cls-8",x:"3.22",y:"10.66",width:"249.28",height:"176.73",transform:"translate(-6.97 84.62) rotate(-21.98)"})}),h.jsx("text",{className:"cls-9",x:"148.655",y:"240",children:"Go-shop"})]}),ZSe=({onLoginAsStoreAdmin:t,onGoToDashboard:e,onLogout:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=re.useState([]);re.useEffect(()=>{(async()=>{const A=await b8();u(A.sort((p,y)=>p.name.localeCompare(y.name)))})()},[]);const c=async f=>{try{const A=await w8(f.id);A?t(A,f):alert(r("noAdminForStore"))}catch(A){console.error("Failed to login as admin:",A),alert(`${r("unknownError")}: ${A.message}`)}};return h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[h.jsx("header",{className:"absolute top-0 left-0 right-0 p-4",children:h.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?h.jsx(Sv,{className:"w-5 h-5"}):h.jsx(wv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"":"Franais"})]}),h.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[h.jsx(aS,{className:"w-5 h-5"}),h.jsx("span",{children:r("logout")})]})]})}),h.jsxs("div",{className:"text-center w-full max-w-4xl",children:[h.jsx(S8,{className:"w-64 h-auto mx-auto mb-6"}),h.jsxs("div",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[h.jsx("p",{children:"by Eventhorizon solution"}),h.jsx("p",{children:"0622119357"})]}),h.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-8",children:r("superAdminPortal")}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsxs("div",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",children:[h.jsx(oS,{className:"w-12 h-12 text-teal-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("manageAllStores")}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("manageAllStoresDesc")})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[h.jsx(lS,{className:"w-12 h-12 text-cyan-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("loginToStore")}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("loginToStoreDesc")}),h.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700",children:[h.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-300 mb-3",children:r("selectStoreToLogin")}),h.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:l.length>0?l.map(f=>h.jsxs("button",{onClick:()=>c(f),className:"w-full text-left rtl:text-right flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[h.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.name}),h.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-1 text-sm",children:[r("loginAsAdmin")," ",h.jsx(nd,{className:"w-4 h-4"})]})]},f.id)):h.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("noStoresAdded")})})]})]})]})]})]})},VP={fr:{appTitle:"Systme de Point de Vente",logout:"Dconnexion",by:"par",save:"Enregistrer",cancel:"Annuler",add:"Ajouter",delete:"Supprimer",edit:"Modifier",close:"Fermer",export:"Exporter",print:"Imprimer",actions:"Actions",name:"Nom",phone:"Tlphone",email:"Email",address:"Adresse",ice:"ICE",description:"Description",amount:"Montant",price:"Prix",stock:"Stock",barcode:"Code-barres",quantity:"Quantit",date:"Date",total:"Total",profit:"Bnfice",role:"Rle",admin:"Admin",seller:"Vendeur",category:"Catgorie",supplier:"Fournisseur",customer:"Client",all:"Tout",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois-ci",customRange:"Priode personnalise",filterByPeriod:"Filtrer par priode :",goBack:"Retour",selectCategory:"Choisir une catgorie",selectSupplier:"Choisir un fournisseur",noDataToExport:"Aucune donne  exporter.",debt:"Dette",product:"Produit",loading:"Chargement des donnes",copy:"Copier",copied:"Copi!",searchByName:"Rechercher par nom...",noResultsFound:"Aucun rsultat trouv.",variant:"Variante",details:"Dtails",pricePlaceholder:"0.00",expenses:"Dpenses",history:"Historique",page:"Page",previous:"Prcdent",next:"Suivant",login:"Connexion",loginToYourAccount:"Connectez-vous  votre compte",emailAddress:"Adresse e-mail",password:"Mot de passe",pin:"Code PIN",superAdminPin:"Code PIN Super Admin",invalidCredentialsError:"Identifiants incorrects. Veuillez ressayer.",invalidApiKeyError:"Cl API Supabase invalide. Veuillez vrifier la cl dans le fichier supabaseClient.ts. Elle doit correspondre  la cl 'anon (public)' de votre projet Supabase.",storeDisabledError:"Ce magasin est dsactiv. Veuillez contacter le support technique.",activateYourCompany:"Activer votre application",enterLicenseKey:"Veuillez entrer votre cl de licence pour continuer.",licenseKey:"Cl de licence",activate:"Activer",backToLogin:"Retour",forStore:"Pour le magasin : {storeName}",activationSuccess:"Application active avec succs! Vous pouvez maintenant vous connecter.",invalidActivationCode:"Code d'activation invalide ou ne correspondant pas  ce magasin.",licenseInUse:"Cette cl de licence est dj utilise sur un autre appareil.",tamperedLicenseError:"La licence est invalide ou l'application a t dplace. Veuillez contacter le support.",storeNotFound:"Aucun magasin trouv avec cet identifiant.",enterKeyOrSuperAdminId:"Entrez la cl de licence ou l'ID Super Admin",superAdminLogin:"Connexion Super Admin",enterSuperAdminPin:"Veuillez entrer le code PIN Super Admin",passwordOrPin:"Mot de passe ou Code PIN",rememberPin:"Se souvenir du code",trialDaysRemaining:"Vous avez {days} jour(s) restant(s) sur votre priode d'essai.",trialExpiredError:"Votre priode d'essai a expir. L'application est maintenant verrouille.",reactivationSuccess:"Licence ractive avec succs! Vous pouvez maintenant vous connecter.",trialEnded:"Priode d'essai termine",changeLicenseOrSuperAdmin:"Changer de licence / Connexion Super Admin",quickLogin:"Accs Rapide",orActivateAnotherLicense:"Ou activer une autre licence",loginTo:"Connexion  {storeName}",unknownError:"Une erreur inattendue est survenue. Veuillez ressayer.",trialHasExpired:"Votre priode d'essai a expir",contactAdminToActivate:"Veuillez contacter le support technique pour obtenir votre code d'activation permanent.",superAdminActivation:"Activation par l'administrateur",enterSuperAdminPinToActivate:"Entrez le code PIN de l'administrateur pour activer ce magasin.",activatePermanently:"Activer Dfinitivement",enterActivationCode:"Entrez le code d'activation",activateApplication:"Activer l'application",activationSuccessReload:"Activation russie ! L'application va redmarrer.",activationCode:"Code d'activation",permanentActivationCode:"Code d'activation permanent",failedToFetchError_CORS:"La requte rseau a chou. Causes possibles : 1) Votre projet Supabase est en pause (ractivez-le sur le tableau de bord Supabase). 2) Problme de CORS (vrifiez les origines autorises dans les paramtres API de Supabase). 3) Bloqueur de publicits ou problme de rseau. Veuillez vrifier ces points et ressayer.",pos:"Point de Vente",products:"Produits",services:"Services",finance:"Finances",customers:"Clients",suppliers:"Fournisseurs",categories:"Catgories",settings:"Paramtres",superAdminDashboard:"Tableau de bord Super Admin",addStore:"Ajouter un nouveau magasin",storeName:"Nom du magasin",storeLogo:"Logo du magasin (optionnel)",adminEmail:"E-mail de l'administrateur",adminPassword:"Mot de passe initial de l'administrateur",addStoreButton:"Crer le magasin",storeCreatedSuccess:"Magasin cr! Voici les informations de connexion :",manageStores:"Grer les magasins existants",storeUsersAndPins:"Utilisateurs et codes d'accs :",saveChanges:"Enregistrer les modifications",addSeller:"Ajouter un nouveau vendeur",newSellerPinPlaceholder:"Code PIN du nouveau vendeur",deleteStore:"Supprimer",deleteStoreConfirm:'tes-vous sr de vouloir supprimer le magasin "{storeName}" ? Toutes ses donnes (produits, ventes, etc.) seront dfinitivement supprimes. Cette action est irrversible.',storeDeletedSuccess:'Le magasin "{storeName}" a t supprim avec succs.',storeDeleteError:"Une erreur s'est produite lors de la suppression du magasin.",fillAllFieldsError:"Veuillez remplir tous les champs obligatoires.",pinUpdateSuccess:"Les identifiants ont t mis  jour avec succs.",enterNewSellerPin:"Veuillez entrer un code PIN pour le nouveau vendeur.",storeStatus_licensed:"Licenci",storeStatus_notActivated:"En attente d'activation",storeStatus_active:"Actif",storeStatus_inactive:"Inactif",toggleStoreStatus:"Changer l'tat du magasin",noStoresAdded:"Aucun magasin ajout.",newPassword:"Nouveau mot de passe",newPin:"Nouveau code PIN",trialPeriodDays:"Priode d'essai (jours) (0 pour permanent)",trialDurationDisplay:"Essai : {days} jours",superAdminPortal:"Portail Super Admin",manageAllStores:"Grer Tous les Magasins",manageAllStoresDesc:"Ajouter, supprimer ou grer les informations d'identification de tous les magasins.",loginToStore:"Se Connecter  un Magasin",loginToStoreDesc:"Accdez au tableau de bord d'un magasin en tant qu'administrateur pour le support.",selectStoreToLogin:"Slectionnez un magasin pour vous connecter :",loginAsAdmin:"Connexion Admin",noAdminForStore:"Erreur : Aucun utilisateur administrateur trouv pour ce magasin.",backToPortal:"Retour au Portail",returnToPortal:"Retour au Portail",permanentActivation:"Activation permanente",confirmPermanentActivation:`tes-vous sr de vouloir activer dfinitivement le magasin "{storeName}" ? Cela mettra fin  la priode d'essai et ne pourra pas tre annul.`,permanentActivationDesc:"Ceci accordera une licence complte au magasin et mettra fin  la priode d'essai.",generateActivationCode:"Gnrer un code d'activation",activationCodeForStore:"Code d'activation pour {storeName}",copyAndSendToClient:"Copiez ce code et envoyez-le au client pour l'activation permanente.",activationCode_copied:"Code copi !",enableAiScan:"Activer le scan IA",aiScanEnabled:"Scan IA Activ",aiScanDisabled:"Scan IA Dsactiv",aiScanFeatureDescription:"Activer la fonctionnalit d'ajout d'articles par scan de reu via IA.",useThisToLoginFirst:"Utilisez cette cl sur l'cran d'activation initial pour accder au magasin.",useThisPasswordAfter:"Aprs avoir utilis la cl de licence, utilisez ce mot de passe sur l'cran de connexion du magasin.",activateImmediately:"Activer immdiatement",activateImmediatelyDesc:"Le magasin sera actif et prt  l'emploi ds sa cration.",activeOnCreation:"Activ  la cration",inactiveOnCreation:"Inactif  la cration",adminDashboard:"Tableau de bord admin",storeLabel:"Magasin :",welcome:"Bonjour,",returnMode:"Retour",saleMode:"Vente",barcodeScannerActive:"Scanner de code-barres actif",scanToAdd:"Scannez le code-barres d'un produit pour l'ajouter au panier.",manualAdd:"Ajout manuel",filterByCategory:"Filtrer par catgorie",searchPlaceholder:"Ou rechercher un produit par nom...",productNotFound:"Aucun produit trouv avec le code-barres : {barcode}",productAdded:"Ajout : {productName}",productOutOfStock:'Le produit "{productName}" est en rupture de stock.',notEnoughStock:`Impossible d'ajouter plus de "{productName}". Stock insuffisant.`,invoice:"Facture",returnReceipt:"Bon de retour",clearCart:"Vider le panier",emptyCart:"Le panier est vide",totalLabel:"Total ({count} produits)",downPayment:"Acompte :",remaining:"Restant :",refundAmount:"Montant  rembourser :",processReturn:"Traiter le retour",emptyCartError:"Le panier est vide !",cashCustomer:"Client comptant",debtPayment:"Paiement de dette",orderForm:"Bon de Commande",subtotal:"Sous-total",vat:"TVA (20%)",totalTTC:"Total TTC",totalHT:"Total HT",prixHT:"Prix HT",discount:"Remise",manualTotal:"Total manuel",finalizeAndPrintInvoice:"Finaliser & Facture (TTC)",finalizeAndPrintOrderForm:"Finaliser & Bon de Cde",variants:"variantes",selectVariantFor:"Slectionner une variante pour",selectVariant:"Slectionner une variante",outOfStock:"Rupture de stock",scanReceipt:"Scanner le Reu",scanning:"Analyse en cours...",receiptScanError:"Erreur lors de l'analyse du reu.",itemsAddedFromReceipt:"{count} articles ajouts depuis le reu.",semiWholesalePrice:"Prix demi-gros",wholesalePrice:"Prix de gros",priceLevel:"Niveau de prix",priceLevels:"Niveaux de Prix",unitPrice:"Prix Unitaire",unit:"Dtail",semiWholesale:"Demi-Gros",wholesale:"Gros",addCustomItem:"Ajouter Article Personnalis",customItemName:"Nom de l'article",unitPriceLabel:"Prix Unitaire",itemNamePlaceholder:"Ex: Prestation Spciale",customItemAdded:"Article personnalis ajout",enterItemDetails:"Saisir les dtails de l'article",geminiApiKeyNotConfigured:"La cl API Gemini n'est pas configure pour le scan de reu.",addNewProduct:"Ajouter un nouveau produit",productImagePreview:"Aperu de l'image",editProduct:"Modifier le produit",productInfo:"Informations sur le produit",productName:"Nom du produit",productNamePlaceholder:"Ex: T-shirt en coton",productVariants:"Variantes du produit",addVariant:"Ajouter une variante",variantName:"Nom de la variante",variantNamePlaceholder:"Ex: Rouge, XL",purchasePrice:"Prix d'achat",sellingPrice:"Prix de vente",stockQuantity:"Quantit en stock",lowStockThreshold:"Seuil de stock bas",barcodePlaceholder:"Scanner ou saisir le code-barres",saveProduct:"Enregistrer le produit",productList:"Liste des produits",searchProducts:"Rechercher des produits...",exportToPdf:"Exporter en PDF",productNameTable:"Nom du produit",variantNameTable:"Variante",priceTable:"Prix de vente",printBarcodeLabel:"Imprimer l'tiquette du code-barres",fillNameAndPriceError:"Veuillez saisir un nom et un prix valides pour toutes les variantes.",confirmProductDelete:"tes-vous sr de vouloir supprimer ce produit et toutes ses variantes ?",noProductsAdded:"Aucun produit ajout pour le moment.",noProductsInCategory:"Aucun produit dans cette catgorie.",uncategorized:"Hors catgorie",noVariants:"Pas de variantes",sellingPriceMustBeHigherError:"Le prix de vente doit tre suprieur au prix d'achat.",addStockFor:"Ajouter du stock pour {name}",addStock:"Ajouter au stock",quantityToAdd:"Quantit  ajouter",fillAllFields:"Veuillez remplir tous les champs.",addNewService:"Ajouter un nouveau service",serviceName:"Nom du service",defaultPrice:"Prix par dfaut",saveService:"Enregistrer le service",serviceList:"Liste des services",noServicesAdded:"Aucun service ajout.",serviceNamePlaceholder:"Ex: Rparation d'cran",service:"Service",editService:"Modifier le service",confirmServiceDelete:"tes-vous sr de vouloir supprimer cette service ?",serviceAddedSuccess:'Service "{name}" ajout avec succs.',serviceUpdatedSuccess:'Service "{name}" mis  jour avec succs.',financialOverview:"Aperu financier",netRevenue:"Revenu net",totalRevenueMinusReturns:"Revenu total moins les retours",netProfit:"Bnfice net",realizedProfitMinusExpenses:"Bnfice ralis moins les dpenses",customerDebts:"Dettes clients",clickToViewDetails:"Cliquez pour voir les dtails",totalExpenses:"Total des dpenses",salesPerformance:"Performance des ventes",topSellingProducts:"Produits les plus vendus",units:"units",sales:"Ventes",salesHistory:"Historique des ventes",invoiceNumber:"Facture N",viewDetails:"Voir les dtails",billNumber:"N de facture:",downPaymentLabel:"Acompte",remainingAmountLabel:"Reste  payer",itemsLabel:"Articles",noSalesForPeriod:"Aucune vente enregistre pour cette priode.",debtorCustomers:"Clients dbiteurs",debtAmount:"Montant de la dette",noDebtorCustomers:"Aucun client dbiteur.",returnHistory:"Historique des retours",returnId:"Retour N",refundAmountLabel:"Montant rembours",profitLost:"Bnfice perdu",returnedItems:"Articles retourns",noReturnsForPeriod:"Aucun retour enregistr pour cette priode.",deleteHistory:"Supprimer l'historique",manageExpenses:"Gestion des dpenses",addExpense:"Ajouter une dpense",expenseHistory:"Historique des dpenses",noExpensesForPeriod:"Aucune dpense pour cette priode.",totalCostOfGoods:"Cot total des achats",totalSupplierDebt:"Dette Fournisseur Totale",allPurchasesHistory:"Historique de tous les achats",noPurchasesRecorded:"Aucun achat enregistr.",supplierDebtsList:"Liste des dettes fournisseurs",noSupplierDebt:"Aucune dette envers les fournisseurs.",sellerReportsAndZReport:"Rapports Vendeur & Rapport Z",netActivity:"Activit nette",totalSales:"Ventes totales",totalReturns:"Retours totaux",numberOfSales:"{count} ventes",numberOfReturns:"{count} retours",transactionList:"Liste des transactions",transactionType:"Type",noTransactionsForSeller:"Aucune transaction pour ce vendeur/priode.",type:"Type",sale:"Vente",return:"Retour",saving:"Enregistrement...",profitLabel:"Bnfice",customItemRevenue:"Revenus Articles Personnaliss",fromManuallyAddedItems:"Provenant des articles ajouts manuellement",customItemsDetails:"Dtails des Articles Personnaliss",totalCustomRevenue:"Total Revenus Personnaliss",customItemsInSale:"Articles personnaliss dans cette vente",userName:"Nom de l'utilisateur",pinMin4Digits:"Code PIN (minimum 4 chiffres)",userList:"Liste des utilisateurs",resetPinFor:"Rinitialiser le code PIN pour {name}",currentPassword:"Mot de passe actuel",confirmNewPassword:"Confirmer le nouveau mot de passe",changePassword:"Changer le mot de passe",pinMustBe4Chars:"Le code PIN doit comporter au moins 4 chiffres.",userExistsError:'Un utilisateur avec le nom "{name}" existe dj.',userAddedSuccess:'Utilisateur "{name}" ajout avec succs.',pinUpdatedForUser:"Code PIN mis  jour pour {name}.",confirmUserDelete:"tes-vous sr de vouloir supprimer l'utilisateur {name} ?",cannotDeleteAdmin:"Vous ne pouvez pas supprimer l'utilisateur administrateur.",currentPasswordIncorrect:"Le mot de passe actuel est incorrect.",newPasswordEmpty:"Le nouveau mot de passe ne peut pas tre vide.",passwordsDoNotMatch:"Les nouveaux mots de passe ne correspondent pas.",passwordChangedSuccess:"Mot de passe chang avec succs.",backupAndRestore:"Sauvegarde et Restauration",backupButton:"Sauvegarder les donnes",backupDescription:"Crez une sauvegarde de toutes vos donnes (produits, ventes, etc.). Conservez ce fichier en lieu sr.",restoreButton:"Restaurer les donnes",restoreDescription:"Restaurer les donnes depuis un fichier. ATTENTION : Cela remplacera toutes les donnes actuelles.",restoreConfirm:"tes-vous sr de vouloir restaurer les donnes ? Toutes les donnes actuelles seront crases. Cette action est irrversible.",restoreSuccess:"Restauration russie. L'application va redmarrer.",restoreError:"Le fichier de sauvegarde est invalide ou corrompu.",jsonParseError:"Le texte coll n'est pas un JSON valide. Assurez-vous d'avoir copi l'intgralit du contenu de votre fichier de sauvegarde .json, en commenant par `{` et en terminant par `}`.",restoreFromText:"Restaurer depuis le texte",pasteBackupContent:"Collez ici l'intgralit du contenu de votre fichier de sauvegarde .json.",restoreFromTextDescription:"Ceci est la mthode recommande. Elle vite les problmes potentiels de tlversement de fichier.",restoreFromFileAlternative:"Alternativement, restaurer depuis un fichier...",storeSettings:"Paramtres du Magasin",storeNameLabel:"Nom du Magasin",storeAddress:"Adresse",storeICE:"Numro ICE",storeLogoLabel:"Logo du Magasin",changeLogo:"Changer le logo",saveStoreChanges:"Enregistrer les modifications",storeUpdateSuccess:"Informations du magasin mises  jour avec succs.",storeUpdateError:"Erreur lors de la mise  jour des informations.",logoPreview:"Aperu du logo",addNewCustomer:"Ajouter un nouveau client",addCustomer:"Ajouter le client",customerList:"Liste des clients",nameAndPhoneRequired:"Le nom et le tlphone sont obligatoires.",customerExistsError:"Un client avec le numro de tlphone {phone} existe dj.",customerAddedSuccess:'Client "{name}" ajout avec succs.',customerDeletedSuccess:'Client "{name}" supprim avec succs.',customerDeleteError:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',customerDeleteErrorHasDebt:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',noCustomersAdded:"Aucun client ajout pour le moment.",debtManagement:"Gestion de la dette",totalDebt:"Dette totale :",paymentAmount:"Montant du paiement",recordPayment:"Enregistrer le paiement",manageDebt:"Grer la dette",enterValidPayment:"Veuillez saisir un montant de paiement valide.",paying:"Paiement...",confirmCustomerDelete:'tes-vous sr de vouloir supprimer le client "{name}" ?',printDebtReport:"Imprimer le rapport de dette",debtReportFor:"Rapport de dette pour {name}",printAllDebtReports:"Imprimer tous les rapports de dettes",noDebtsToReport:"Aucune dette  signaler.",purchaseHistoryFor:"Historique d'achats pour {name}",totalPurchases:"Total des achats",currentDebt:"Dette actuelle",printReport:"Imprimer le rapport",invoiceHistory:"Historique des factures",noInvoicesFound:"Aucune facture trouve pour ce client.",addNewSupplier:"Ajouter un nouveau fournisseur",addSupplier:"Ajouter le fournisseur",supplierList:"Liste des fournisseurs",supplierExistsError:"Un fournisseur avec le numro de tlphone {phone} existe dj.",supplierAddedSuccess:'Fournisseur "{name}" ajout avec succs.',supplierDeletedSuccess:'Fournisseur "{name}" supprim avec succs.',supplierDeleteError:'Impossible de supprimer le fournisseur "{name}" car il y a une dette en cours.',supplierDeleteErrorHasDebt:'Impossible de supprimer le fournisseur "{name}" car il y a une dette de {debt} DH.',noSuppliersAdded:"Aucun fournisseur ajout.",newPurchase:"Nouvel achat",purchaseHistory:"S ",managePayments:" ",supplierDebt:" ",noDebt:"  ",newPurchaseFor:"   {name}",addProductsToPurchase:"   ",selectProducts:"  ",orAddNewProductPrompt:"  ",addNewProductButton:"  ",saveAndAddToList:"   ",noProductsInPurchase:"       .",totalAmount:" ",paymentMethod:" ",amountToPay:" ",cash:"",card:" ",transfer:" ",check:"",amountPaid:" ",remainingDebt:" ",completePurchase:" ",noPurchasesYet:"       .",purchaseDate:" ",purchaseDetails:" ",reference:"",referencePlaceholder:":   123  ...",paymentRecorded:"   .",confirmSupplierDelete:'        "{name}"',addNewCategory:"  ",categoryName:" ",categoryList:" ",noCategoriesAdded:"    .",categoryNameEmptyError:"      .",categoryExistsError:'  "{name}"  .',categoryAddedSuccess:'   "{name}" .',categoryUpdatedSuccess:'   "{name}" .',confirmCategoryDelete:'        "{name}"',categoryDeleteError:"         .",editCategory:" ",categoryDeletedSuccess:'   "{name}" .',lowStockAlert:"  ",lowStockMessage:"     .    .",unknown:" ",invoiceTitle:"",orderFormTitle:" ",invoiceAddress:" ",thankYou:" !",productColumn:"",returnReceiptTitle:" ",returnIdLabel:"  ",optional:"",purchase_ref_initial_stock:" ",purchase_ref_stock_adjustment:" ",supabaseConfigErrorTitle:"   Supabase",supabaseConfigErrorSubtitle:" API     .     .",supabaseConfigErrorInstruction:"   `{fileName}`      :",supabaseConfigErrorHint:"          Supabase.        .",supabaseConfigComment1:"// --- :   API    ---",supabaseConfigComment2:"//      'anon'     Supabase (  'publishable').",supabaseConfigComment3:"//    :   Supabase ->  -> API.",supabaseConfigComment4:'//         "eyJ...".',supabaseConfigKeyWarning:" :    `publishable` (   `sb_publishable_`).     `anon` ()     ."},ar:{appTitle:"  ",logout:" ",by:"",save:"",cancel:"",add:"",delete:"",edit:"",close:"",export:"",print:"",actions:"",name:"",phone:"",email:" ",address:"",ice:"ICE",description:"",amount:"",price:"",stock:"",barcode:"",quantity:"",date:"",total:"",profit:"",role:"",admin:"",seller:"",category:"",supplier:"",customer:"",all:"",today:"",thisWeek:" ",thisMonth:" ",customRange:" ",filterByPeriod:"   :",goBack:"",selectCategory:" ",selectSupplier:" ",noDataToExport:"   .",debt:"",product:"",loading:"  ",copy:"",copied:" !",searchByName:" ...",noResultsFound:"    .",variant:"",details:"",pricePlaceholder:"0.00",expenses:"",history:"",page:"",previous:"",next:"",login:" ",loginToYourAccount:"   ",emailAddress:" ",password:" ",pin:" ",superAdminPin:"   ",invalidCredentialsError:"   .    .",invalidApiKeyError:" API Supabase  .       supabaseClient.ts.     'anon (public)'   Supabase.",storeDisabledError:"  .    .",activateYourCompany:" ",enterLicenseKey:"    .",licenseKey:" ",activate:"",backToLogin:"",forStore:": {storeName}",activationSuccess:"   !    .",invalidActivationCode:"        .",licenseInUse:"       .",tamperedLicenseError:"      .   .",storeNotFound:"      .",enterKeyOrSuperAdminId:"      ",superAdminLogin:"  ",enterSuperAdminPin:"     ",passwordOrPin:"    ",rememberPin:" ",trialDaysRemaining:" {days}     .",trialExpiredError:"  .   .",reactivationSuccess:"    !    .",trialEnded:"  ",changeLicenseOrSuperAdmin:"  /   ",quickLogin:" ",orActivateAnotherLicense:"   ",loginTo:"  {storeName}",unknownError:"   .   .",trialHasExpired:"  ",contactAdminToActivate:"           .",superAdminActivation:"   ",enterSuperAdminPinToActivate:"      .",activatePermanently:" ",enterActivationCode:"  ",activateApplication:" ",activationSuccessReload:"  !    .",activationCode:" ",permanentActivationCode:"  ",failedToFetchError_CORS:"  .  : 1)  Supabase     (    ). 2)    CORS (       API). 3)      .        .",pos:" ",products:"",services:"",finance:"",customers:"",suppliers:"",categories:"",settings:"",superAdminDashboard:"   ",addStore:"  ",storeName:" ",storeLogo:"  ()",adminEmail:"  ",adminPassword:"   ",addStoreButton:" ",storeCreatedSuccess:"  !    :",manageStores:"  ",storeUsersAndPins:"  :",saveChanges:" ",addSeller:"  ",newSellerPinPlaceholder:"   ",deleteStore:"",deleteStoreConfirm:'        "{storeName}"     (  )  .      .',storeDeletedSuccess:'   "{storeName}" .',storeDeleteError:"    .",fillAllFieldsError:"    .",pinUpdateSuccess:"    .",enterNewSellerPin:"     .",storeStatus_licensed:"",storeStatus_notActivated:"  ",storeStatus_active:"",storeStatus_inactive:" ",toggleStoreStatus:"  ",noStoresAdded:"    .",newPassword:"  ",newPin:"  ",trialPeriodDays:"  () (0 )",trialDurationDisplay:": {days} ",superAdminPortal:"  ",manageAllStores:"  ",manageAllStoresDesc:"         .",loginToStore:"   ",loginToStoreDesc:"      .",selectStoreToLogin:"   :",loginAsAdmin:" ",noAdminForStore:":        .",backToPortal:"  ",returnToPortal:"  ",permanentActivation:" ",confirmPermanentActivation:'        "{storeName}"            .',permanentActivationDesc:"       .",generateActivationCode:"  ",activationCodeForStore:"    {storeName}",copyAndSendToClient:"      .",activationCode_copied:"  !",enableAiScan:"   ",aiScanEnabled:" ",aiScanDisabled:" ",aiScanFeatureDescription:"        .",useThisToLoginFirst:"         .",useThisPasswordAfter:"             .",activateImmediately:" ",activateImmediatelyDesc:"      .",activeOnCreation:"  ",inactiveOnCreation:"   ",adminDashboard:"  ",storeLabel:":",welcome:"",returnMode:"",saleMode:"",barcodeScannerActive:"  ",scanToAdd:"     .",manualAdd:" ",filterByCategory:"  ",searchPlaceholder:"    ...",productNotFound:"     : {barcode}",productAdded:" : {productName}",productOutOfStock:' "{productName}"   .',notEnoughStock:'     "{productName}".   .',invoice:"",returnReceipt:" ",clearCart:" ",emptyCart:" ",totalLabel:" ({count} )",downPayment:" :",remaining:":",refundAmount:" :",processReturn:" ",emptyCartError:" !",cashCustomer:" ",debtPayment:" ",orderForm:" ",subtotal:" ",vat:"   (20%)",totalTTC:"  ",totalHT:"  ",prixHT:"  ",discount:"",manualTotal:" ",finalizeAndPrintInvoice:"    (TTC)",finalizeAndPrintOrderForm:"    ",variants:"",selectVariantFor:"  ",selectVariant:" ",outOfStock:"  ",scanReceipt:" ",scanning:" ...",receiptScanError:"   .",itemsAddedFromReceipt:"  {count}   .",semiWholesalePrice:"  ",wholesalePrice:" ",priceLevel:" ",priceLevels:" ",unitPrice:" ",unit:"",semiWholesale:" ",wholesale:"",addCustomItem:"  ",customItemName:" ",unitPriceLabel:" ",itemNamePlaceholder:":  ",customItemAdded:"   ",enterItemDetails:"  ",geminiApiKeyNotConfigured:" API Gemini    .",addNewProduct:"  ",productImagePreview:" ",editProduct:" ",productInfo:" ",productName:" ",productNamePlaceholder:":  ",productVariants:" ",addVariant:" ",variantName:" ",variantNamePlaceholder:":  XL",purchasePrice:" ",sellingPrice:" ",stockQuantity:"  ",lowStockThreshold:"  ",barcodePlaceholder:"   ",saveProduct:" ",productList:" ",searchProducts:"  ...",exportToPdf:"  PDF",productNameTable:" ",variantNameTable:"",priceTable:" ",printBarcodeLabel:"  ",fillNameAndPriceError:"      .",confirmProductDelete:"          ",noProductsAdded:"     .",noProductsInCategory:"     .",uncategorized:" ",noVariants:"  ",sellingPriceMustBeHigherError:"        .",addStockFor:"   {name}",addStock:"  ",quantityToAdd:" ",fillAllFields:"   .",addNewService:"  ",serviceName:" ",defaultPrice:" ",saveService:" ",serviceList:" ",noServicesAdded:"    .",serviceNamePlaceholder:":  ",service:"",editService:" ",confirmServiceDelete:"        ",serviceAddedSuccess:'   "{name}" .',serviceUpdatedSuccess:'   "{name}" .',financialOverview:"  ",netRevenue:" ",totalRevenueMinusReturns:"   ",netProfit:" ",realizedProfitMinusExpenses:"   ",customerDebts:" ",clickToViewDetails:"  ",totalExpenses:" ",salesPerformance:" ",topSellingProducts:"  ",units:"",sales:"",salesHistory:" ",invoiceNumber:" ",viewDetails:" ",billNumber:" :",downPaymentLabel:" ",remainingAmountLabel:" ",itemsLabel:"",noSalesForPeriod:"     .",debtorCustomers:" ",debtAmount:" ",noDebtorCustomers:"   .",returnHistory:" ",returnId:" ",refundAmountLabel:" ",profitLost:" ",returnedItems:" ",noReturnsForPeriod:"     .",deleteHistory:" ",manageExpenses:" ",addExpense:" ",expenseHistory:" ",noExpensesForPeriod:"    .",totalCostOfGoods:"  ",totalSupplierDebt:"  ",allPurchasesHistory:"  ",noPurchasesRecorded:"    .",supplierDebtsList:"  ",noSupplierDebt:"   .",sellerReportsAndZReport:"    Z",netActivity:" ",totalSales:" ",totalReturns:" ",numberOfSales:"{count} ",numberOfReturns:"{count} ",transactionList:" ",transactionType:"",noTransactionsForSeller:"    /.",type:"",sale:"",return:"",saving:" ...",profitLabel:"",customItemRevenue:"  ",fromManuallyAddedItems:"   ",customItemsDetails:"  ",totalCustomRevenue:"   ",customItemsInSale:"    ",userName:" ",pinMin4Digits:"  (4   )",userList:" ",resetPinFor:"     {name}",currentPassword:"  ",confirmNewPassword:"   ",changePassword:"  ",pinMustBe4Chars:"      4   .",userExistsError:'  "{name}"  .',userAddedSuccess:'   "{name}" .',pinUpdatedForUser:"     {name}.",confirmUserDelete:"        {name}",cannotDeleteAdmin:"    .",currentPasswordIncorrect:"    .",newPasswordEmpty:"       .",passwordsDoNotMatch:"    .",passwordChangedSuccess:"    .",backupAndRestore:"  ",backupButton:"  ",backupDescription:"       (  ).      .",restoreButton:" ",restoreDescription:"   . :       .",restoreConfirm:"             .      .",restoreSuccess:"  .    .",restoreError:"      .",jsonParseError:"      JSON .           .json   `{`   `}`.",restoreFromText:"  ",pasteBackupContent:"       .json  .",restoreFromTextDescription:"    .      .",restoreFromFileAlternative:"      ...",storeSettings:" ",storeNameLabel:" ",storeAddress:"",storeICE:" ICE",storeLogoLabel:" ",changeLogo:" ",saveStoreChanges:" ",storeUpdateSuccess:"    .",storeUpdateError:"   .",logoPreview:" ",addNewCustomer:"  ",addCustomer:" ",customerList:" ",nameAndPhoneRequired:"  .",customerExistsError:"   {phone}  .",customerAddedSuccess:'   "{name}" .',customerDeletedSuccess:'   "{name}" .',customerDeleteError:'    "{name}"     {debt} .',customerDeleteErrorHasDebt:'    "{name}"     {debt} .',noCustomersAdded:"     .",debtManagement:" ",totalDebt:" :",paymentAmount:" ",recordPayment:" ",manageDebt:" ",enterValidPayment:"    .",paying:" ...",confirmCustomerDelete:'        "{name}"',printDebtReport:"  ",debtReportFor:"   {name}",printAllDebtReports:"   ",noDebtsToReport:"    .",purchaseHistoryFor:"   {name}",totalPurchases:" ",currentDebt:" ",printReport:" ",invoiceHistory:" ",noInvoicesFound:"      .",addNewSupplier:"  ",addSupplier:" ",supplierList:" ",supplierExistsError:"   {phone}  .",supplierAddedSuccess:'   "{name}" .',supplierDeletedSuccess:'   "{name}" .',supplierDeleteError:'    "{name}"    .',supplierDeleteErrorHasDebt:'    "{name}"     {debt} .',noSuppliersAdded:"    .",newPurchase:" ",purchaseHistory:" ",managePayments:" ",supplierDebt:" ",noDebt:"  ",newPurchaseFor:"   {name}",addProductsToPurchase:"   ",selectProducts:"  ",orAddNewProductPrompt:"  ",addNewProductButton:"  ",saveAndAddToList:"   ",noProductsInPurchase:"       .",totalAmount:" ",paymentMethod:" ",amountToPay:" ",cash:"",card:" ",transfer:" ",check:"",amountPaid:" ",remainingDebt:" ",completePurchase:" ",noPurchasesYet:"       .",purchaseDate:" ",purchaseDetails:" ",reference:"",referencePlaceholder:":   123  ...",paymentRecorded:"   .",confirmSupplierDelete:'        "{name}"',addNewCategory:"  ",categoryName:" ",categoryList:" ",noCategoriesAdded:"    .",categoryNameEmptyError:"      .",categoryExistsError:'  "{name}"  .',categoryAddedSuccess:'   "{name}" .',categoryUpdatedSuccess:'   "{name}" .',confirmCategoryDelete:'        "{name}"',categoryDeleteError:"         .",editCategory:" ",categoryDeletedSuccess:'   "{name}" .',lowStockAlert:"  ",lowStockMessage:"     .    .",unknown:" ",invoiceTitle:"",orderFormTitle:" ",invoiceAddress:" ",thankYou:" !",productColumn:"",returnReceiptTitle:" ",returnIdLabel:"  ",optional:"",purchase_ref_initial_stock:" ",purchase_ref_stock_adjustment:" ",supabaseConfigErrorTitle:"   Supabase",supabaseConfigErrorSubtitle:" API     .     .",supabaseConfigErrorInstruction:"   `{fileName}`      :",supabaseConfigErrorHint:"          Supabase.        .",supabaseConfigComment1:"// --- :   API    ---",supabaseConfigComment2:"//      'anon'     Supabase (  'publishable').",supabaseConfigComment3:"//    :   Supabase ->  -> API.",supabaseConfigComment4:'//         "eyJ...".',supabaseConfigKeyWarning:" :    `publishable` (   `sb_publishable_`).     `anon` ()     ."}},GP="Abzn11241984",WP=({onLoginSuccess:t,onSuperAdminLogin:e,t:n,language:r,setLanguage:i,theme:a,toggleTheme:o})=>{const[s,l]=re.useState("loading"),[u,c]=re.useState(null),[f,A]=re.useState(!1),[p,y]=re.useState(null),[x,S]=re.useState(""),[v,b]=re.useState(!1),[w,T]=re.useState(""),[C,k]=re.useState(""),E=re.useCallback(async()=>{A(!0);try{const H=localStorage.getItem("pos-license");if(!H){l("license_entry");return}const R=JSON.parse(H),B=await NSe(R.storeId);if(B)if(B.trialStartDate){const W=new Date(B.trialStartDate),K=new Date(W);K.setDate(W.getDate()+(B.trialDurationDays??7)),new Date>K?(y(B),l("expired_trial")):(y(B),l("login"))}else y(B),l("login");else throw new Error("Store not found")}catch(H){localStorage.removeItem("pos-license"),c(n(H.message||"unknownError")||H.message),l("license_entry")}finally{A(!1)}},[n]);re.useEffect(()=>{s==="loading"&&E()},[E,s]),re.useEffect(()=>{if(s==="login"&&p){const H=localStorage.getItem(`pos-remembered-secret-${p.id}`);H?(S(H),b(!0)):(S(""),b(!1))}},[s,p]);const M=async H=>{if(H.preventDefault(),c(null),!p){c(n("unknownError")),l("license_entry");return}if(A(!0),!x){c(n("fillAllFields")),A(!1);return}try{if(x===GP){e();return}const R=await ESe(p,x);v?localStorage.setItem(`pos-remembered-secret-${p.id}`,x):localStorage.removeItem(`pos-remembered-secret-${p.id}`),t(R.user,R.store)}catch(R){let B=null,W=n("unknownError");if(R&&R.message){const K=R.message.toLowerCase();K.includes("invalid api key")||K.includes("unauthorized")?B="invalidApiKeyError":(R.message==="storeNotFound"||R.message==="storeDisabledError"||R.message==="invalidCredentialsError")&&(B=R.message),W=R.message}c(B?n(B):W)}finally{A(!1)}},I=async H=>{if(H.preventDefault(),!!p){A(!0),c(null);try{if(await kSe(p.id,w))alert(n("activationSuccessReload")),window.location.reload();else throw new Error("invalidActivationCode")}catch(R){const B=n(R.message)||R.message;c(B)}finally{A(!1)}}},U=async H=>{var B;H.preventDefault(),c(null),A(!0);const R=C.trim();if(!R){c(n("fillAllFields")),A(!1);return}try{if(R===GP){e();return}const W=await A8(R);if(W){const K={storeId:W.id};if(localStorage.setItem("pos-license",JSON.stringify(K)),y(W),W.trialStartDate){const Z=new Date(W.trialStartDate),se=new Date(Z);se.setDate(Z.getDate()+(W.trialDurationDays??7)),new Date>se?l("expired_trial"):l("login")}else l("login")}else c(n("invalidActivationCode"))}catch(W){console.error("Error activating store for the first time:",W),(B=W.message)!=null&&B.includes("406")?c(n("invalidActivationCode")):c(n("unknownError"))}finally{A(!1)}},O=()=>h.jsxs("form",{onSubmit:M,className:"space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("login")}),p?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:n("forStore",{storeName:p.name})}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"loginSecret",className:"sr-only",children:n("passwordOrPin")}),h.jsx("input",{id:"loginSecret",type:"password",value:x,onChange:H=>S(H.target.value),placeholder:n("passwordOrPin"),className:"w-full px-4 py-3 border rounded-lg text-center text-xl tracking-widest bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),h.jsxs("div",{className:"flex items-center justify-start text-left rtl:text-right",children:[h.jsx("input",{id:"rememberMe",type:"checkbox",checked:v,onChange:H=>b(H.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-teal-600 focus:ring-teal-500 bg-gray-100 dark:bg-slate-600"}),h.jsx("label",{htmlFor:"rememberMe",className:"ml-2 rtl:mr-2 rtl:ml-0 block text-sm text-gray-700 dark:text-gray-400 cursor-pointer",children:n("rememberPin")})]})]}):h.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]}),h.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("login")})]}),j=()=>h.jsxs("form",{onSubmit:I,className:"space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n("trialHasExpired")}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("contactAdminToActivate")}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"activationCode",className:"sr-only",children:n("activationCode")}),h.jsx("input",{id:"activationCode",type:"text",value:w,onChange:H=>T(H.target.value),placeholder:n("enterActivationCode"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),h.jsx("button",{type:"submit",disabled:f,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activateApplication")})]}),$=()=>h.jsxs("form",{onSubmit:U,className:"space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("activateYourCompany")}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("enterLicenseKey")}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"licenseKey",className:"sr-only",children:n("licenseKey")}),h.jsx("input",{id:"licenseKey",type:"text",value:C,onChange:H=>k(H.target.value),placeholder:n("licenseKey"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),h.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activate")})]}),F=()=>{if(f||s==="loading")return h.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]});switch(s){case"license_entry":return $();case"login":return O();case"expired_trial":return j();default:return h.jsx("button",{onClick:()=>l("loading"),className:"text-teal-600 hover:underline",children:n("reactivationSuccess")})}};return h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[h.jsxs("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4 flex items-center gap-3",children:[h.jsx("button",{onClick:o,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:a==="light"?h.jsx(Sv,{className:"w-5 h-5"}):h.jsx(wv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>i(r==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:r==="fr"?"":"Franais"})]}),h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(S8,{className:"w-80 h-auto mx-auto"}),h.jsxs("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[h.jsx("p",{children:"by Eventhorizon solution"}),h.jsx("p",{children:"0622119357"})]})]}),h.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-sm w-full text-center",children:[u&&h.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mb-4 bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:u}),F()]})]})},e_e=({store:t,t:e})=>{if(!t.trialStartDate)return null;const n=new Date(t.trialStartDate),r=new Date(n);r.setDate(n.getDate()+(t.trialDurationDays??7));const i=r.getTime()-new Date().getTime();if(i<=0)return null;const a=Math.ceil(i/(1e3*60*60*24));return h.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 text-center p-2 text-sm font-semibold sticky top-0 z-40",children:e("trialDaysRemaining",{days:a})})},t_e=({t})=>h.jsx("div",{className:"fixed inset-0 bg-slate-900 z-[9999] flex items-center justify-center p-4",dir:"ltr",children:h.jsxs("div",{className:"bg-slate-800 border border-red-500/50 rounded-xl shadow-2xl max-w-3xl w-full p-8 text-slate-200",children:[h.jsx("h1",{className:"text-3xl font-bold text-red-500 mb-4",children:t("supabaseConfigErrorTitle")}),h.jsx("p",{className:"text-lg mb-6 text-slate-300",children:t("supabaseConfigErrorSubtitle")}),h.jsx("p",{className:"mb-4 text-slate-300",children:t("supabaseConfigErrorInstruction",{fileName:"supabaseClient.ts"})}),h.jsx("div",{className:"p-4 mb-4 bg-yellow-900/50 border border-yellow-500/50 rounded-lg text-yellow-200 text-sm",children:h.jsx("p",{children:t("supabaseConfigKeyWarning")})}),h.jsx("pre",{className:"bg-slate-900 text-left p-4 rounded-lg mb-6 text-sm overflow-x-auto border border-slate-700",children:h.jsxs("code",{className:"text-slate-300 whitespace-pre",children:[h.jsx("span",{className:"text-slate-500",children:t("supabaseConfigComment1")}),h.jsx("br",{}),h.jsx("span",{className:"text-slate-500",children:t("supabaseConfigComment2")}),h.jsx("br",{}),h.jsx("span",{className:"text-slate-500",children:t("supabaseConfigComment3")}),h.jsx("br",{}),h.jsx("span",{className:"text-slate-500",children:t("supabaseConfigComment4")}),h.jsx("br",{}),h.jsxs("div",{className:"bg-red-900/30 border-l-4 border-red-500 px-2 py-1 -mx-4",children:[h.jsx("span",{className:"text-cyan-400",children:"const"})," supabaseAnonKey",h.jsx("span",{className:"text-purple-400",children:":"})," ",h.jsx("span",{className:"text-green-400",children:"string"})," ",h.jsx("span",{className:"text-purple-400",children:"="})," ",h.jsx("span",{className:"text-red-400",children:'"COPIEZ_VOTRE_CLE_ANON_PUBLIQUE_SUPABASE_ICI"'}),h.jsx("span",{className:"text-slate-500",children:";"})]})]})}),h.jsx("p",{className:"text-sm text-slate-400",children:t("supabaseConfigErrorHint")})]})}),n_e=({user:t,store:e,onLogout:n,handleUpdateStore:r,onReturnToPortal:i,loggedInViaSuperAdmin:a,t:o,language:s,setLanguage:l,theme:u,toggleTheme:c})=>{const[f,A]=re.useState(t.role==="admin"?er.Finance:er.POS),[p,y]=re.useState([]),[x,S]=re.useState(null),[v,b]=re.useState(null),[w,T]=re.useState([]),[C,k]=re.useState([]),[E,M]=re.useState([]),[I,U]=re.useState([]),[O,j]=re.useState([]),[$,F]=re.useState([]),[H,R]=re.useState([]),[B,W]=re.useState([]),[K,Z]=re.useState([]),[se,L]=re.useState([]),[z,Q]=re.useState([]),[te,ae]=re.useState(!0),me=re.useRef(!1);re.useEffect(()=>{e&&!e.licenseProof&&(async()=>(console.log("First login detected (no license proof). Activating store in database..."),await r({isActive:!0,trialStartDate:new Date().toISOString(),licenseProof:new Date().toISOString()})))()},[e,r]),re.useEffect(()=>{(async()=>{const Ke=await MSe(e.id,t.id);y(Ke),me.current=!0})()},[e.id,t.id]),re.useEffect(()=>{if(!me.current)return;(async()=>{await m8(e.id,t.id,p)})()},[p,e.id,t.id]);const he=re.useCallback(async()=>{if(!e.id)return;ae(!0);const ze=await PSe(e.id),Ke=await x8(e.id);T(ze.products||[]),k(ze.productVariants||[]),M(ze.sales||[]),U(ze.expenses||[]),j(Ke),F(ze.customers||[]),R(ze.suppliers||[]),W(ze.returns||[]);const nn=(ze.categories||[]).sort((br,cn)=>br.name.localeCompare(cn.name,"fr"));Z(nn),L(ze.purchases||[]),Q(ze.stockBatches||[]),ae(!1)},[e.id]);re.useEffect(()=>{he()},[he]),re.useEffect(()=>{if(!e.id)return;const ze=dt.channel(`public:store-changes-${e.id}`).on("postgres_changes",{event:"*",schema:"public"},Ke=>{console.log("Real-time change received!",Ke),he()}).subscribe();return()=>{dt.removeChannel(ze)}},[e.id,he]);const{goods:G,services:le,stockMap:ce,lowStockVariants:ue,variantsByProduct:Me,variantMap:De,barcodeMap:Ce}=re.useMemo(()=>{const ze=new Map;z.forEach(Ft=>{ze.set(Ft.variantId,(ze.get(Ft.variantId)||0)+Ft.quantity)});const Ke=[],nn=[];w.forEach(Ft=>{Ft.type==="service"?nn.push(Ft):Ke.push(Ft)});const br=C.filter(Ft=>(ze.get(Ft.id)||0)<=Ft.lowStockThreshold),cn=new Map;C.forEach(Ft=>{const Ga=cn.get(Ft.productId)||[];Ga.push(Ft),cn.set(Ft.productId,Ga)});const jn=new Map;C.forEach(Ft=>jn.set(Ft.id,Ft));const In=new Map;return C.forEach(Ft=>{Ft.barcode&&In.set(Ft.barcode,Ft)}),{goods:Ke,services:nn,stockMap:ze,lowStockVariants:br,variantsByProduct:cn,variantMap:jn,barcodeMap:In}},[w,C,z]),ne=async(ze,...Ke)=>{try{return await ze(...Ke)}catch(nn){console.error("API call failed:",nn);const br=o(nn.message||"unknownError",{name:Ke[1],debt:"..."});throw alert(`An error occurred: ${br}`),nn}},Ne=async(ze,Ke)=>await ne(qP,ze,Ke),Ee=async(ze,Ke)=>{await ne(HP,ze,Ke)},xe=async ze=>{await ne(zP,ze)},Pe=async ze=>{await ne(OSe,e.id,ze.variantId,ze.quantity,ze.purchasePrice,ze.sellingPrice,ze.supplierId)},ye=async ze=>await ne(qP,ze,[]),ke=async ze=>{await ne(HP,ze,[])},be=async ze=>{await ne(zP,ze)},Ve=async(ze,Ke,nn,br)=>{try{const cn=await ne(jSe,e.id,p,ze,Ke,nn,t.id);cn&&cn.id?S({sale:cn,mode:br}):(console.error("Sale completion did not return a valid sale object:",cn),alert(o("unknownError")))}catch(cn){console.error("Sale completion failed:",cn)}},Ge=()=>{S(null),y([]),UP(e.id,t.id)},at=ze=>{S({sale:ze,mode:"invoice"})},He=async ze=>{try{const Ke=await ne(ISe,e.id,ze,t.id);Ke&&b(Ke)}catch(Ke){console.error("Return processing failed:",Ke)}},ft=()=>{b(null),y([]),UP(e.id,t.id)},Ze=async ze=>{await ne(DSe,ze)},ht=async()=>{await ne(LSe,e.id)},We=async(ze,Ke)=>{await ne(RSe,ze,Ke)},ln=async ze=>await ne(FSe,ze),Pt=async ze=>{await ne($Se,ze)},Se=async ze=>{await ne(BSe,ze)},Be=async ze=>await ne(USe,ze),nt=async ze=>{await ne(qSe,ze)},At=async ze=>await ne(HSe,ze),ot=async ze=>{await ne(zSe,ze)},An=async ze=>await ne(GSe,ze),Et=async ze=>{await ne(WSe,ze)},lr=async ze=>{await ne(YSe,ze)},ai=async ze=>{await ne(g8,ze)},un=async ze=>{await ne(VSe,ze)},ut=async ze=>await ne(v8,ze),jt=async ze=>{await ne(y8,ze)},oi=async ze=>{await ne(KSe,ze)},qn=()=>{if(te)return h.jsxs("div",{className:"text-center p-10 font-semibold text-slate-500 dark:text-slate-400",children:[o("loading"),"..."]});const Ke={...{products:w,variants:C,customers:$,categories:K,sales:E,t:o,language:s},store:e,user:t,stockMap:ce,variantMap:De,variantsByProduct:Me,barcodeMap:Ce,cart:p,setCart:y,completeSale:Ve,processReturn:He,payCustomerDebt:We};if(t.role==="seller")return h.jsx(_E,{...Ke});const nn={[er.POS]:h.jsx(_E,{...Ke}),[er.Products]:h.jsx(gU,{storeId:e.id,products:G,variants:C,suppliers:H,categories:K,stockMap:ce,addProduct:Ne,updateProduct:Ee,deleteProduct:xe,addStockToVariant:Pe,t:o,language:s}),[er.Services]:h.jsx(yU,{storeId:e.id,services:le,addService:ye,updateService:ke,deleteService:be,t:o}),[er.Finance]:h.jsx(W2e,{storeId:e.id,sales:E,expenses:I,returns:B,purchases:se,suppliers:H,users:O,addProduct:Ne,addExpense:ln,updateExpense:Pt,deleteExpense:Se,customers:$,deleteReturn:Ze,deleteAllReturns:ht,t:o,language:s,theme:u,onReprintInvoice:at}),[er.Customers]:h.jsx(X2e,{storeId:e.id,customers:$,sales:E,addCustomer:Be,deleteCustomer:nt,payCustomerDebt:We,t:o,language:s}),[er.Suppliers]:h.jsx(twe,{storeId:e.id,suppliers:H,products:G,variants:C,purchases:se,categories:K,addSupplier:At,deleteSupplier:ot,addPurchase:ai,updatePurchase:un,addProduct:Ne,t:o,language:s}),[er.Categories]:h.jsx(rwe,{storeId:e.id,categories:K,addCategory:An,updateCategory:Et,deleteCategory:lr,t:o,language:s}),[er.Settings]:h.jsx(Y2e,{activeUser:t,store:e,storeId:e.id,users:O,addUser:ut,updateUser:jt,deleteUser:oi,onUpdateStore:r,t:o})};return nn[f]||nn[er.POS]},ur=({tab:ze,icon:Ke,label:nn})=>h.jsxs("button",{onClick:()=>A(ze),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-3 py-3 text-sm sm:text-base font-bold rounded-lg transition-colors ${f===ze?"bg-white dark:bg-slate-900 text-teal-600 dark:text-teal-400 shadow-md":"bg-transparent text-teal-100 hover:bg-white/10"}`,children:[Ke,nn]});return h.jsxs("div",{className:"bg-gray-100 dark:bg-slate-900 min-h-screen",children:[h.jsx(e_e,{store:e,t:o}),h.jsx("header",{className:`bg-teal-600 dark:bg-slate-800 text-white p-4 shadow-lg sticky z-50 ${e.trialStartDate?"top-8":"top-0"}`,children:h.jsxs("div",{className:"container mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(Z0,{url:e.logo,className:"w-12 h-12 rounded-full bg-white object-cover"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:t.role==="admin"?o("adminDashboard"):o("pos")}),h.jsxs("p",{className:"text-sm text-teal-200 dark:text-slate-400",children:[o("storeLabel")," ",e.name]})]}),a&&h.jsxs("button",{onClick:i,className:"ml-4 flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-white/10 hover:bg-white/20 rounded-lg transition-colors",title:o("returnToPortal"),children:[h.jsx(rd,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden md:inline",children:o("returnToPortal")})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:c,title:"Toggle theme",className:"p-2 bg-teal-700 dark:bg-slate-700 hover:bg-teal-800 dark:hover:bg-slate-600 rounded-lg transition-colors",children:u==="light"?h.jsx(Sv,{className:"w-5 h-5"}):h.jsx(wv,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>l(s==="fr"?"ar":"fr"),className:"px-3 py-2 text-sm font-bold bg-teal-700 dark:bg-slate-700 hover:bg-teal-800 dark:hover:bg-slate-600 rounded-lg transition-colors",children:s==="fr"?"AR":"FR"}),h.jsxs("span",{className:"font-semibold hidden sm:block",children:[o("welcome")," ",t.name]}),h.jsxs("button",{onClick:n,title:o("logout"),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:[h.jsx(aS,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden md:inline",children:o("logout")})]})]})]}),t.role==="admin"&&h.jsxs("nav",{className:"flex flex-wrap items-center gap-2 bg-teal-800/50 dark:bg-slate-700/50 rounded-xl p-2",children:[h.jsx(ur,{tab:er.POS,icon:h.jsx(lB,{className:"w-5 h-5"}),label:o("pos")}),h.jsx(ur,{tab:er.Products,icon:h.jsx(sB,{className:"w-5 h-5"}),label:o("products")}),h.jsx(ur,{tab:er.Services,icon:h.jsx(ha,{className:"w-5 h-5"}),label:o("services")}),h.jsx(ur,{tab:er.Finance,icon:h.jsx(uB,{className:"w-5 h-5"}),label:o("finance")}),h.jsx(ur,{tab:er.Customers,icon:h.jsx(sS,{className:"w-5 h-5"}),label:o("customers")}),h.jsx(ur,{tab:er.Suppliers,icon:h.jsx(QO,{className:"w-5 h-5"}),label:o("suppliers")}),h.jsx(ur,{tab:er.Categories,icon:h.jsx(ZO,{className:"w-5 h-5"}),label:o("categories")}),h.jsx(ur,{tab:er.Settings,icon:h.jsx(oS,{className:"w-5 h-5"}),label:o("settings")})]})]})}),h.jsxs("main",{className:"container mx-auto p-4 sm:p-6",children:[h.jsx("div",{className:"space-y-4 mb-6",children:t.role==="admin"&&ue.length>0&&h.jsx(iwe,{products:w,variants:ue,suppliers:H,t:o})}),qn()]}),x&&h.jsx(awe,{sale:x.sale,mode:x.mode,onClose:Ge,store:e,customers:$||[],t:o,language:s}),v&&h.jsx(owe,{returnObject:v,onClose:ft,store:e,t:o,language:s})]})},r_e=()=>{const[t,e]=re.useState(()=>localStorage.getItem("language")||"fr"),[n,r]=re.useState({isAuthenticated:!1,isSuperAdmin:!1,user:null,store:null,loggedInViaSuperAdmin:!1}),[i,a]=re.useState("landing"),[o,s]=re.useState(()=>localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),l=re.useCallback((b,w)=>{let T=VP[t][b]||VP.fr[b]||b;return w&&Object.keys(w).forEach(C=>{const k=new RegExp(`\\{${C}\\}`,"g");T=T.replace(k,String(w[C]))}),T},[t]);re.useEffect(()=>{o==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[o]);const u=()=>{s(b=>b==="light"?"dark":"light")};re.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(b=>{console.log("SW registered: ",b)}).catch(b=>{console.log("SW registration failed: ",b)})})},[]);const c=b=>{e(b),localStorage.setItem("language",b)};re.useEffect(()=>{document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr",document.title=l("appTitle")},[t,l]);const f=(b,w)=>{r({isAuthenticated:!0,isSuperAdmin:!1,user:b,store:w,loggedInViaSuperAdmin:n.isSuperAdmin})},A=()=>{r({isAuthenticated:!0,isSuperAdmin:!0,user:null,store:null,loggedInViaSuperAdmin:!1}),a("landing")},p=()=>{r({isAuthenticated:!1,isSuperAdmin:!1,user:null,store:null,loggedInViaSuperAdmin:!1}),a("landing")},y=()=>{r({isAuthenticated:!0,isSuperAdmin:!0,user:null,store:null,loggedInViaSuperAdmin:!1}),a("landing")},x=re.useCallback(async b=>{if(!n.store)return;const w={...n.store,...b};await Xl(w),r(T=>({...T,store:w}))},[n.store]),S={t:l,language:t,setLanguage:c},v={theme:o,toggleTheme:u};return p8()?n.isAuthenticated?n.isSuperAdmin?i==="landing"?h.jsx(ZSe,{onLoginAsStoreAdmin:f,onGoToDashboard:()=>a("dashboard"),onLogout:p,...S,...v}):h.jsx(QSe,{onLoginAsStoreAdmin:f,onLogout:p,onGoBack:()=>a("landing"),...S,...v}):n.user&&n.store?h.jsx(n_e,{user:n.user,store:n.store,onLogout:p,handleUpdateStore:x,onReturnToPortal:y,loggedInViaSuperAdmin:n.loggedInViaSuperAdmin,...S,...v}):h.jsx(WP,{onLoginSuccess:f,onSuperAdminLogin:A,...S,...v}):h.jsx(WP,{onLoginSuccess:f,onSuperAdminLogin:A,...S,...v}):h.jsx(t_e,{t:l})},_8=document.getElementById("root");if(!_8)throw new Error("Could not find root element to mount to");const i_e=aB.createRoot(_8);i_e.render(h.jsx(de.StrictMode,{children:h.jsx(r_e,{})}));export{en as _,mr as c,Wt as g};
