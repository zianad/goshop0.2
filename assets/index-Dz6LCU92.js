(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var KP={exports:{}},Av={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o7=Symbol.for("react.transitional.element"),s7=Symbol.for("react.fragment");function JP(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:o7,type:t,key:r,ref:e!==void 0?e:null,props:n}}Av.Fragment=s7;Av.jsx=JP;Av.jsxs=JP;KP.exports=Av;var m=KP.exports,XP={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5=Symbol.for("react.transitional.element"),l7=Symbol.for("react.portal"),u7=Symbol.for("react.fragment"),c7=Symbol.for("react.strict_mode"),f7=Symbol.for("react.profiler"),d7=Symbol.for("react.consumer"),h7=Symbol.for("react.context"),p7=Symbol.for("react.forward_ref"),A7=Symbol.for("react.suspense"),m7=Symbol.for("react.memo"),QP=Symbol.for("react.lazy"),g7=Symbol.for("react.activity"),cT=Symbol.iterator;function v7(t){return t===null||typeof t!="object"?null:(t=cT&&t[cT]||t["@@iterator"],typeof t=="function"?t:null)}var ZP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e6=Object.assign,t6={};function hd(t,e,n){this.props=t,this.context=e,this.refs=t6,this.updater=n||ZP}hd.prototype.isReactComponent={};hd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n6(){}n6.prototype=hd.prototype;function c5(t,e,n){this.props=t,this.context=e,this.refs=t6,this.updater=n||ZP}var f5=c5.prototype=new n6;f5.constructor=c5;e6(f5,hd.prototype);f5.isPureReactComponent=!0;var fT=Array.isArray;function ax(){}var Pn={H:null,A:null,T:null,S:null},r6=Object.prototype.hasOwnProperty;function d5(t,e,n){var r=n.ref;return{$$typeof:u5,type:t,key:e,ref:r!==void 0?r:null,props:n}}function y7(t,e){return d5(t.type,e,t.props)}function h5(t){return typeof t=="object"&&t!==null&&t.$$typeof===u5}function b7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dT=/\/+/g;function Sb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b7(""+t.key):e.toString(36)}function x7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ax,ax):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function zc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case u5:case l7:o=!0;break;case QP:return o=t._init,zc(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+Sb(t,0):r,fT(i)?(n="",o!=null&&(n=o.replace(dT,"$&/")+"/"),zc(i,e,n,"",function(u){return u})):i!=null&&(h5(i)&&(i=y7(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(dT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(fT(t))for(var l=0;l<t.length;l++)r=t[l],a=s+Sb(r,l),o+=zc(r,e,n,a,i);else if(l=v7(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+Sb(r,l++),o+=zc(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return zc(x7(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Em(t,e,n){if(t==null)return t;var r=[],i=0;return zc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function w7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},S7={map:Em,forEach:function(t,e,n){Em(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Em(t,function(){e++}),e},toArray:function(t){return Em(t,function(e){return e})||[]},only:function(t){if(!h5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ct.Activity=g7;Ct.Children=S7;Ct.Component=hd;Ct.Fragment=u7;Ct.Profiler=f7;Ct.PureComponent=c5;Ct.StrictMode=c7;Ct.Suspense=A7;Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pn;Ct.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pn.H.useMemoCache(t)}};Ct.cache=function(t){return function(){return t.apply(null,arguments)}};Ct.cacheSignal=function(){return null};Ct.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=e6({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!r6.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return d5(t.type,i,r)};Ct.createContext=function(t){return t={$$typeof:h7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:d7,_context:t},t};Ct.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)r6.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return d5(t,a,i)};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(t){return{$$typeof:p7,render:t}};Ct.isValidElement=h5;Ct.lazy=function(t){return{$$typeof:QP,_payload:{_status:-1,_result:t},_init:w7}};Ct.memo=function(t,e){return{$$typeof:m7,type:t,compare:e===void 0?null:e}};Ct.startTransition=function(t){var e=Pn.T,n={};Pn.T=n;try{var r=t(),i=Pn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(ax,hT)}catch(a){hT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Pn.T=e}};Ct.unstable_useCacheRefresh=function(){return Pn.H.useCacheRefresh()};Ct.use=function(t){return Pn.H.use(t)};Ct.useActionState=function(t,e,n){return Pn.H.useActionState(t,e,n)};Ct.useCallback=function(t,e){return Pn.H.useCallback(t,e)};Ct.useContext=function(t){return Pn.H.useContext(t)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(t,e){return Pn.H.useDeferredValue(t,e)};Ct.useEffect=function(t,e){return Pn.H.useEffect(t,e)};Ct.useEffectEvent=function(t){return Pn.H.useEffectEvent(t)};Ct.useId=function(){return Pn.H.useId()};Ct.useImperativeHandle=function(t,e,n){return Pn.H.useImperativeHandle(t,e,n)};Ct.useInsertionEffect=function(t,e){return Pn.H.useInsertionEffect(t,e)};Ct.useLayoutEffect=function(t,e){return Pn.H.useLayoutEffect(t,e)};Ct.useMemo=function(t,e){return Pn.H.useMemo(t,e)};Ct.useOptimistic=function(t,e){return Pn.H.useOptimistic(t,e)};Ct.useReducer=function(t,e,n){return Pn.H.useReducer(t,e,n)};Ct.useRef=function(t){return Pn.H.useRef(t)};Ct.useState=function(t){return Pn.H.useState(t)};Ct.useSyncExternalStore=function(t,e,n){return Pn.H.useSyncExternalStore(t,e,n)};Ct.useTransition=function(){return Pn.H.useTransition()};Ct.version="19.2.0";XP.exports=Ct;var re=XP.exports;const de=Jt(re);var i6={exports:{}},mv={},a6={exports:{}},o6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,B){var W=R.length;R.push(B);e:for(;0<W;){var K=W-1>>>1,Z=R[K];if(0<i(Z,B))R[K]=B,R[W]=Z,W=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],W=R.pop();if(W!==B){R[0]=W;e:for(var K=0,Z=R.length,se=Z>>>1;K<se;){var L=2*(K+1)-1,z=R[L],Q=L+1,te=R[Q];if(0>i(z,W))Q<Z&&0>i(te,z)?(R[K]=te,R[Q]=W,K=Q):(R[K]=z,R[L]=W,K=L);else if(Q<Z&&0>i(te,W))R[K]=te,R[Q]=W,K=Q;else break e}}return B}function i(R,B){var W=R.sortIndex-B.sortIndex;return W!==0?W:R.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,v=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(R){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=R)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function C(R){if(b=!1,T(R),!v)if(n(l)!==null)v=!0,k||(k=!0,D());else{var B=n(u);B!==null&&G(C,B.startTime-R)}}var k=!1,E=-1,M=5,I=-1;function U(){return w?!0:!(t.unstable_now()-I<M)}function O(){if(w=!1,k){var R=t.unstable_now();I=R;var B=!0;try{e:{v=!1,b&&(b=!1,x(E),E=-1),p=!0;var W=h;try{t:{for(T(R),f=n(l);f!==null&&!(f.expirationTime>R&&U());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var Z=K(f.expirationTime<=R);if(R=t.unstable_now(),typeof Z=="function"){f.callback=Z,T(R),B=!0;break t}f===n(l)&&r(l),T(R)}else r(l);f=n(l)}if(f!==null)B=!0;else{var se=n(u);se!==null&&G(C,se.startTime-R),B=!1}}break e}finally{f=null,h=W,p=!1}B=void 0}}finally{B?D():k=!1}}}var D;if(typeof S=="function")D=function(){S(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=O,D=function(){F.postMessage(null)}}else D=function(){y(O,0)};function G(R,B){E=y(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return R()}finally{h=W}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=h;h=R;try{return B()}finally{h=W}},t.unstable_scheduleCallback=function(R,B,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,R={id:c++,callback:B,priorityLevel:R,startTime:W,expirationTime:Z,sortIndex:-1},W>K?(R.sortIndex=W,e(u,R),n(l)===null&&R===n(u)&&(b?(x(E),E=-1):b=!0,G(C,W-K))):(R.sortIndex=Z,e(l,R),v||p||(v=!0,k||(k=!0,D()))),R},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(R){var B=h;return function(){var W=h;h=B;try{return R.apply(this,arguments)}finally{h=W}}}})(o6);a6.exports=o6;var _7=a6.exports,s6={exports:{}},si={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T7=re;function l6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bs(){}var ni={d:{f:Bs,r:function(){throw Error(l6(522))},D:Bs,C:Bs,L:Bs,m:Bs,X:Bs,S:Bs,M:Bs},p:0,findDOMNode:null},C7=Symbol.for("react.portal");function N7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C7,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Jh=T7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ni;si.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(l6(299));return N7(t,e,null,n)};si.flushSync=function(t){var e=Jh.T,n=ni.p;try{if(Jh.T=null,ni.p=2,t)return t()}finally{Jh.T=e,ni.p=n,ni.d.f()}};si.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ni.d.C(t,e))};si.prefetchDNS=function(t){typeof t=="string"&&ni.d.D(t)};si.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=gv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?ni.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&ni.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};si.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=gv(e.as,e.crossOrigin);ni.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ni.d.M(t)};si.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=gv(n,e.crossOrigin);ni.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};si.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=gv(e.as,e.crossOrigin);ni.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ni.d.m(t)};si.requestFormReset=function(t){ni.d.r(t)};si.unstable_batchedUpdates=function(t,e){return t(e)};si.useFormState=function(t,e,n){return Jh.H.useFormState(t,e,n)};si.useFormStatus=function(){return Jh.H.useHostTransitionStatus()};si.version="19.2.0";function u6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u6)}catch(t){console.error(t)}}u6(),s6.exports=si;var E7=s6.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=_7,c6=re,k7=E7;function Fe(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function SA(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h6(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pT(t){if(SA(t)!==t)throw Error(Fe(188))}function P7(t){var e=t.alternate;if(!e){if(e=SA(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return pT(i),t;if(a===r)return pT(i),e;a=a.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function p6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p6(t),e!==null)return e;t=t.sibling}return null}var Mn=Object.assign,M7=Symbol.for("react.element"),km=Symbol.for("react.transitional.element"),Hh=Symbol.for("react.portal"),Zc=Symbol.for("react.fragment"),A6=Symbol.for("react.strict_mode"),ox=Symbol.for("react.profiler"),m6=Symbol.for("react.consumer"),Wo=Symbol.for("react.context"),p5=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),lx=Symbol.for("react.suspense_list"),A5=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),ux=Symbol.for("react.activity"),O7=Symbol.for("react.memo_cache_sentinel"),AT=Symbol.iterator;function xh(t){return t===null||typeof t!="object"?null:(t=AT&&t[AT]||t["@@iterator"],typeof t=="function"?t:null)}var D7=Symbol.for("react.client.reference");function cx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zc:return"Fragment";case ox:return"Profiler";case A6:return"StrictMode";case sx:return"Suspense";case lx:return"SuspenseList";case ux:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Hh:return"Portal";case Wo:return t.displayName||"Context";case m6:return(t._context.displayName||"Context")+".Consumer";case p5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A5:return e=t.displayName||null,e!==null?e:cx(t.type)||"Memo";case Vs:e=t._payload,t=t._init;try{return cx(t(e))}catch{}}return null}var zh=Array.isArray,vt=c6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kt=k7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bu={pending:!1,data:null,method:null,action:null},fx=[],ef=-1;function xo(t){return{current:t}}function Nr(t){0>ef||(t.current=fx[ef],fx[ef]=null,ef--)}function wn(t,e){ef++,fx[ef]=t.current,t.current=e}var mo=xo(null),Tp=xo(null),ul=xo(null),Ig=xo(null);function jg(t,e){switch(wn(ul,e),wn(Tp,t),wn(mo,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?xC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=xC(e),t=LO(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Nr(mo),wn(mo,t)}function Mf(){Nr(mo),Nr(Tp),Nr(ul)}function dx(t){t.memoizedState!==null&&wn(Ig,t);var e=mo.current,n=LO(e,t.type);e!==n&&(wn(Tp,t),wn(mo,n))}function Lg(t){Tp.current===t&&(Nr(mo),Nr(Tp)),Ig.current===t&&(Nr(Ig),Lp._currentValue=bu)}var _b,mT;function iu(t){if(_b===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_b=e&&e[1]||"",mT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_b+t+mT}var Tb=!1;function Cb(t,e){if(!t||Tb)return"";Tb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){h=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{Tb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?iu(n):""}function I7(t,e){switch(t.tag){case 26:case 27:case 5:return iu(t.type);case 16:return iu("Lazy");case 13:return t.child!==e&&e!==null?iu("Suspense Fallback"):iu("Suspense");case 19:return iu("SuspenseList");case 0:case 15:return Cb(t.type,!1);case 11:return Cb(t.type.render,!1);case 1:return Cb(t.type,!0);case 31:return iu("Activity");default:return""}}function gT(t){try{var e="",n=null;do e+=I7(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var hx=Object.prototype.hasOwnProperty,m5=gr.unstable_scheduleCallback,Nb=gr.unstable_cancelCallback,j7=gr.unstable_shouldYield,L7=gr.unstable_requestPaint,zi=gr.unstable_now,R7=gr.unstable_getCurrentPriorityLevel,g6=gr.unstable_ImmediatePriority,v6=gr.unstable_UserBlockingPriority,Rg=gr.unstable_NormalPriority,F7=gr.unstable_LowPriority,y6=gr.unstable_IdlePriority,$7=gr.log,B7=gr.unstable_setDisableYieldValue,_A=null,Vi=null;function nl(t){if(typeof $7=="function"&&B7(t),Vi&&typeof Vi.setStrictMode=="function")try{Vi.setStrictMode(_A,t)}catch{}}var Gi=Math.clz32?Math.clz32:H7,U7=Math.log,q7=Math.LN2;function H7(t){return t>>>=0,t===0?32:31-(U7(t)/q7|0)|0}var Pm=256,Mm=262144,Om=4194304;function au(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=au(r):(o&=s,o!==0?i=au(o):n||(n=s&~t,n!==0&&(i=au(n))))):(s=r&~a,s!==0?i=au(s):o!==0?i=au(o):n||(n=r&~t,n!==0&&(i=au(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function TA(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function z7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b6(){var t=Om;return Om<<=1,!(Om&62914560)&&(Om=4194304),t}function Eb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function CA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function V7(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Gi(n),f=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&x6(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function x6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Gi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function w6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function S6(t,e){var n=e&-e;return n=n&42?1:g5(n),n&(t.suspendedLanes|e)?0:n}function g5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function v5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function _6(){var t=Kt.p;return t!==0?t:(t=window.event,t===void 0?32:WO(t.type))}function vT(t,e){var n=Kt.p;try{return Kt.p=t,e()}finally{Kt.p=n}}var Pl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Pl,Si="__reactProps$"+Pl,pd="__reactContainer$"+Pl,px="__reactEvents$"+Pl,G7="__reactListeners$"+Pl,W7="__reactHandles$"+Pl,yT="__reactResources$"+Pl,NA="__reactMarker$"+Pl;function y5(t){delete t[Ir],delete t[Si],delete t[px],delete t[G7],delete t[W7]}function tf(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pd]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=CC(t);t!==null;){if(n=t[Ir])return n;t=CC(t)}return e}t=n,n=t.parentNode}return null}function Ad(t){if(t=t[Ir]||t[pd]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Vh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Fe(33))}function vf(t){var e=t[yT];return e||(e=t[yT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Tr(t){t[NA]=!0}var T6=new Set,C6={};function Hu(t,e){Of(t,e),Of(t+"Capture",e)}function Of(t,e){for(C6[t]=e,t=0;t<e.length;t++)T6.add(e[t])}var Y7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bT={},xT={};function K7(t){return hx.call(xT,t)?!0:hx.call(bT,t)?!1:Y7.test(t)?xT[t]=!0:(bT[t]=!0,!1)}function mg(t,e,n){if(K7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Dm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Lo(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function pa(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J7(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ax(t){if(!t._valueTracker){var e=N6(t)?"checked":"value";t._valueTracker=J7(t,e,""+t[e])}}function E6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var X7=/[\n"\\]/g;function ga(t){return t.replace(X7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mx(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+pa(e)):t.value!==""+pa(e)&&(t.value=""+pa(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?gx(t,o,pa(e)):n!=null?gx(t,o,pa(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+pa(s):t.removeAttribute("name")}function k6(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){Ax(t);return}n=n!=null?""+pa(n):"",e=e!=null?""+pa(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),Ax(t)}function gx(t,e,n){e==="number"&&Fg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function yf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function P6(t,e,n){if(e!=null&&(e=""+pa(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+pa(n):""}function M6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Fe(92));if(zh(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=pa(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),Ax(t)}function Df(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Q7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Q7.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function O6(t,e,n){if(e!=null&&typeof e!="object")throw Error(Fe(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&wT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&wT(t,a,e[a])}function b5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eF=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gg(t){return eF.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yo(){}var vx=null;function x5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nf=null,bf=null;function ST(t){var e=Ad(t);if(e&&(t=e.stateNode)){var n=t[Si]||null;e:switch(t=e.stateNode,e.type){case"input":if(mx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ga(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Si]||null;if(!i)throw Error(Fe(90));mx(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&E6(r)}break e;case"textarea":P6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&yf(t,!!n.multiple,e,!1)}}}var kb=!1;function D6(t,e,n){if(kb)return t(e,n);kb=!0;try{var r=t(e);return r}finally{if(kb=!1,(nf!==null||bf!==null)&&(Pv(),nf&&(e=nf,t=bf,bf=nf=null,ST(e),t)))for(e=0;e<t.length;e++)ST(t[e])}}function Cp(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Si]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yx=!1;if(is)try{var wh={};Object.defineProperty(wh,"passive",{get:function(){yx=!0}}),window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{yx=!1}var rl=null,w5=null,vg=null;function I6(){if(vg)return vg;var t,e=w5,n=e.length,r,i="value"in rl?rl.value:rl.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return vg=i.slice(t,1<r?1-r:void 0)}function yg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Im(){return!0}function _T(){return!1}function _i(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Im:_T,this.isPropagationStopped=_T,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Im)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Im)},persist:function(){},isPersistent:Im}),e}var zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yv=_i(zu),EA=Mn({},zu,{view:0,detail:0}),tF=_i(EA),Pb,Mb,Sh,bv=Mn({},EA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sh&&(Sh&&t.type==="mousemove"?(Pb=t.screenX-Sh.screenX,Mb=t.screenY-Sh.screenY):Mb=Pb=0,Sh=t),Pb)},movementY:function(t){return"movementY"in t?t.movementY:Mb}}),TT=_i(bv),nF=Mn({},bv,{dataTransfer:0}),rF=_i(nF),iF=Mn({},EA,{relatedTarget:0}),Ob=_i(iF),aF=Mn({},zu,{animationName:0,elapsedTime:0,pseudoElement:0}),oF=_i(aF),sF=Mn({},zu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lF=_i(sF),uF=Mn({},zu,{data:0}),CT=_i(uF),cF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dF[t])?!!e[t]:!1}function S5(){return hF}var pF=Mn({},EA,{key:function(t){if(t.key){var e=cF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S5,charCode:function(t){return t.type==="keypress"?yg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AF=_i(pF),mF=Mn({},bv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NT=_i(mF),gF=Mn({},EA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S5}),vF=_i(gF),yF=Mn({},zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),bF=_i(yF),xF=Mn({},bv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wF=_i(xF),SF=Mn({},zu,{newState:0,oldState:0}),_F=_i(SF),TF=[9,13,27,32],_5=is&&"CompositionEvent"in window,Xh=null;is&&"documentMode"in document&&(Xh=document.documentMode);var CF=is&&"TextEvent"in window&&!Xh,j6=is&&(!_5||Xh&&8<Xh&&11>=Xh),ET=" ",kT=!1;function L6(t,e){switch(t){case"keyup":return TF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rf=!1;function NF(t,e){switch(t){case"compositionend":return R6(e);case"keypress":return e.which!==32?null:(kT=!0,ET);case"textInput":return t=e.data,t===ET&&kT?null:t;default:return null}}function EF(t,e){if(rf)return t==="compositionend"||!_5&&L6(t,e)?(t=I6(),vg=w5=rl=null,rf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j6&&e.locale!=="ko"?null:e.data;default:return null}}var kF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kF[t.type]:e==="textarea"}function F6(t,e,n,r){nf?bf?bf.push(r):bf=[r]:nf=r,e=n0(e,"onChange"),0<e.length&&(n=new yv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qh=null,Np=null;function PF(t){DO(t,0)}function xv(t){var e=Vh(t);if(E6(e))return t}function MT(t,e){if(t==="change")return e}var $6=!1;if(is){var Db;if(is){var Ib="oninput"in document;if(!Ib){var OT=document.createElement("div");OT.setAttribute("oninput","return;"),Ib=typeof OT.oninput=="function"}Db=Ib}else Db=!1;$6=Db&&(!document.documentMode||9<document.documentMode)}function DT(){Qh&&(Qh.detachEvent("onpropertychange",B6),Np=Qh=null)}function B6(t){if(t.propertyName==="value"&&xv(Np)){var e=[];F6(e,Np,t,x5(t)),D6(PF,e)}}function MF(t,e,n){t==="focusin"?(DT(),Qh=e,Np=n,Qh.attachEvent("onpropertychange",B6)):t==="focusout"&&DT()}function OF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xv(Np)}function DF(t,e){if(t==="click")return xv(e)}function IF(t,e){if(t==="input"||t==="change")return xv(e)}function jF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ki=typeof Object.is=="function"?Object.is:jF;function Ep(t,e){if(Ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hx.call(e,i)||!Ki(t[i],e[i]))return!1}return!0}function IT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jT(t,e){var n=IT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=IT(n)}}function U6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?U6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fg(t.document)}return e}function T5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var LF=is&&"documentMode"in document&&11>=document.documentMode,af=null,bx=null,Zh=null,xx=!1;function LT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xx||af==null||af!==Fg(r)||(r=af,"selectionStart"in r&&T5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zh&&Ep(Zh,r)||(Zh=r,r=n0(bx,"onSelect"),0<r.length&&(e=new yv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=af)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var of={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionrun:Ql("Transition","TransitionRun"),transitionstart:Ql("Transition","TransitionStart"),transitioncancel:Ql("Transition","TransitionCancel"),transitionend:Ql("Transition","TransitionEnd")},jb={},H6={};is&&(H6=document.createElement("div").style,"AnimationEvent"in window||(delete of.animationend.animation,delete of.animationiteration.animation,delete of.animationstart.animation),"TransitionEvent"in window||delete of.transitionend.transition);function Vu(t){if(jb[t])return jb[t];if(!of[t])return t;var e=of[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in H6)return jb[t]=e[n];return t}var z6=Vu("animationend"),V6=Vu("animationiteration"),G6=Vu("animationstart"),RF=Vu("transitionrun"),FF=Vu("transitionstart"),$F=Vu("transitioncancel"),W6=Vu("transitionend"),Y6=new Map,wx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wx.push("scrollEnd");function Xa(t,e){Y6.set(t,e),Hu(e,[t])}var $g=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ha=[],sf=0,C5=0;function wv(){for(var t=sf,e=C5=sf=0;e<t;){var n=ha[e];ha[e++]=null;var r=ha[e];ha[e++]=null;var i=ha[e];ha[e++]=null;var a=ha[e];if(ha[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&K6(n,i,a)}}function Sv(t,e,n,r){ha[sf++]=t,ha[sf++]=e,ha[sf++]=n,ha[sf++]=r,C5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function N5(t,e,n,r){return Sv(t,e,n,r),Bg(t)}function Gu(t,e){return Sv(t,null,null,e),Bg(t)}function K6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Gi(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Bg(t){if(50<lp)throw lp=0,Hx=null,Error(Fe(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var lf={};function BF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(t,e,n,r){return new BF(t,e,n,r)}function E5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zo(t,e){var n=t.alternate;return n===null?(n=$i(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function J6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function bg(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")E5(t)&&(o=1);else if(typeof t=="string")o=V$(t,n,mo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ux:return t=$i(31,n,e,i),t.elementType=ux,t.lanes=a,t;case Zc:return xu(n.children,i,a,e);case A6:o=8,i|=24;break;case ox:return t=$i(12,n,e,i|2),t.elementType=ox,t.lanes=a,t;case sx:return t=$i(13,n,e,i),t.elementType=sx,t.lanes=a,t;case lx:return t=$i(19,n,e,i),t.elementType=lx,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wo:o=10;break e;case m6:o=9;break e;case p5:o=11;break e;case A5:o=14;break e;case Vs:o=16,r=null;break e}o=29,n=Error(Fe(130,t===null?"null":typeof t,"")),r=null}return e=$i(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function xu(t,e,n,r){return t=$i(7,t,r,e),t.lanes=n,t}function Lb(t,e,n){return t=$i(6,t,null,e),t.lanes=n,t}function X6(t){var e=$i(18,null,null,0);return e.stateNode=t,e}function Rb(t,e,n){return e=$i(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var RT=new WeakMap;function va(t,e){if(typeof t=="object"&&t!==null){var n=RT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:gT(e)},RT.set(t,e),e)}return{value:t,source:e,stack:gT(e)}}var uf=[],cf=0,Ug=null,kp=0,Aa=[],ma=0,Sl=null,co=1,fo="";function Vo(t,e){uf[cf++]=kp,uf[cf++]=Ug,Ug=t,kp=e}function Q6(t,e,n){Aa[ma++]=co,Aa[ma++]=fo,Aa[ma++]=Sl,Sl=t;var r=co;t=fo;var i=32-Gi(r)-1;r&=~(1<<i),n+=1;var a=32-Gi(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,co=1<<32-Gi(e)+i|n<<i|r,fo=a+t}else co=1<<a|n<<i|r,fo=t}function k5(t){t.return!==null&&(Vo(t,1),Q6(t,1,0))}function P5(t){for(;t===Ug;)Ug=uf[--cf],uf[cf]=null,kp=uf[--cf],uf[cf]=null;for(;t===Sl;)Sl=Aa[--ma],Aa[ma]=null,fo=Aa[--ma],Aa[ma]=null,co=Aa[--ma],Aa[ma]=null}function Z6(t,e){Aa[ma++]=co,Aa[ma++]=fo,Aa[ma++]=Sl,co=e.id,fo=e.overflow,Sl=t}var jr=null,En=null,$t=!1,cl=null,ya=!1,Sx=Error(Fe(519));function _l(t){var e=Error(Fe(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pp(va(e,t)),Sx}function FT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Ir]=t,e[Si]=r,n){case"dialog":jt("cancel",e),jt("close",e);break;case"iframe":case"object":case"embed":jt("load",e);break;case"video":case"audio":for(n=0;n<Ip.length;n++)jt(Ip[n],e);break;case"source":jt("error",e);break;case"img":case"image":case"link":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"input":jt("invalid",e),k6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":jt("invalid",e);break;case"textarea":jt("invalid",e),M6(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||jO(e.textContent,n)?(r.popover!=null&&(jt("beforetoggle",e),jt("toggle",e)),r.onScroll!=null&&jt("scroll",e),r.onScrollEnd!=null&&jt("scrollend",e),r.onClick!=null&&(e.onclick=Yo),e=!0):e=!1,e||_l(t,!0)}function $T(t){for(jr=t.return;jr;)switch(jr.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:jr=jr.return}}function Oc(t){if(t!==jr)return!1;if(!$t)return $T(t),$t=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Yx(t.type,t.memoizedProps)),n=!n),n&&En&&_l(t),$T(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));En=TC(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));En=TC(t)}else e===27?(e=En,Ml(t.type)?(t=Qx,Qx=null,En=t):En=e):En=jr?Sa(t.stateNode.nextSibling):null;return!0}function Mu(){En=jr=null,$t=!1}function Fb(){var t=cl;return t!==null&&(yi===null?yi=t:yi.push.apply(yi,t),cl=null),t}function Pp(t){cl===null?cl=[t]:cl.push(t)}var _x=xo(null),Wu=null,Ko=null;function Ks(t,e,n){wn(_x,e._currentValue),e._currentValue=n}function es(t){t._currentValue=_x.current,Nr(_x)}function Tx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cx(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Tx(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tx(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function md(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(Fe(387));if(o=o.memoizedProps,o!==null){var s=i.type;Ki(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===Ig.current){if(o=i.alternate,o===null)throw Error(Fe(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Lp):t=[Lp])}i=i.return}t!==null&&Cx(e,t,n,r),e.flags|=262144}function qg(t){for(t=t.firstContext;t!==null;){if(!Ki(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ou(t){Wu=t,Ko=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Lr(t){return eM(Wu,t)}function jm(t,e){return Wu===null&&Ou(t),eM(t,e)}function eM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ko===null){if(t===null)throw Error(Fe(308));Ko=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ko=Ko.next=e;return n}var UF=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},qF=gr.unstable_scheduleCallback,HF=gr.unstable_NormalPriority,ar={$$typeof:Wo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function M5(){return{controller:new UF,data:new Map,refCount:0}}function kA(t){t.refCount--,t.refCount===0&&qF(HF,function(){t.controller.abort()})}var ep=null,Nx=0,If=0,xf=null;function zF(t,e){if(ep===null){var n=ep=[];Nx=0,If=nS(),xf={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Nx++,e.then(BT,BT),e}function BT(){if(--Nx===0&&ep!==null){xf!==null&&(xf.status="fulfilled");var t=ep;ep=null,If=0,xf=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function VF(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var UT=vt.S;vt.S=function(t,e){pO=zi(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&zF(t,e),UT!==null&&UT(t,e)};var wu=xo(null);function O5(){var t=wu.current;return t!==null?t:An.pooledCache}function xg(t,e){e===null?wn(wu,wu.current):wn(wu,e.pool)}function tM(){var t=O5();return t===null?null:{parent:ar._currentValue,pool:t}}var gd=Error(Fe(460)),D5=Error(Fe(474)),_v=Error(Fe(542)),Hg={then:function(){}};function qT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Yo,Yo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,zT(t),t;default:if(typeof e.status=="string")e.then(Yo,Yo);else{if(t=An,t!==null&&100<t.shellSuspendCounter)throw Error(Fe(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,zT(t),t}throw Su=e,gd}}function ou(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Su=n,gd):n}}var Su=null;function HT(){if(Su===null)throw Error(Fe(459));var t=Su;return Su=null,t}function zT(t){if(t===gd||t===_v)throw Error(Fe(483))}var wf=null,Mp=0;function Lm(t){var e=Mp;return Mp+=1,wf===null&&(wf=[]),nM(wf,t,e)}function _h(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Rm(t,e){throw e.$$typeof===M7?Error(Fe(525)):(t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function rM(t){function e(y,x){if(t){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(y,x){return y=Zo(y,x),y.index=0,y.sibling=null,y}function a(y,x,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=67108866,x):S):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function s(y,x,S,T){return x===null||x.tag!==6?(x=Lb(S,y.mode,T),x.return=y,x):(x=i(x,S),x.return=y,x)}function l(y,x,S,T){var C=S.type;return C===Zc?c(y,x,S.props.children,T,S.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vs&&ou(C)===x.type)?(x=i(x,S.props),_h(x,S),x.return=y,x):(x=bg(S.type,S.key,S.props,null,y.mode,T),_h(x,S),x.return=y,x)}function u(y,x,S,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Rb(S,y.mode,T),x.return=y,x):(x=i(x,S.children||[]),x.return=y,x)}function c(y,x,S,T,C){return x===null||x.tag!==7?(x=xu(S,y.mode,T,C),x.return=y,x):(x=i(x,S),x.return=y,x)}function f(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Lb(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case km:return S=bg(x.type,x.key,x.props,null,y.mode,S),_h(S,x),S.return=y,S;case Hh:return x=Rb(x,y.mode,S),x.return=y,x;case Vs:return x=ou(x),f(y,x,S)}if(zh(x)||xh(x))return x=xu(x,y.mode,S,null),x.return=y,x;if(typeof x.then=="function")return f(y,Lm(x),S);if(x.$$typeof===Wo)return f(y,jm(y,x),S);Rm(y,x)}return null}function h(y,x,S,T){var C=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return C!==null?null:s(y,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case km:return S.key===C?l(y,x,S,T):null;case Hh:return S.key===C?u(y,x,S,T):null;case Vs:return S=ou(S),h(y,x,S,T)}if(zh(S)||xh(S))return C!==null?null:c(y,x,S,T,null);if(typeof S.then=="function")return h(y,x,Lm(S),T);if(S.$$typeof===Wo)return h(y,x,jm(y,S),T);Rm(y,S)}return null}function p(y,x,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return y=y.get(S)||null,s(x,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case km:return y=y.get(T.key===null?S:T.key)||null,l(x,y,T,C);case Hh:return y=y.get(T.key===null?S:T.key)||null,u(x,y,T,C);case Vs:return T=ou(T),p(y,x,S,T,C)}if(zh(T)||xh(T))return y=y.get(S)||null,c(x,y,T,C,null);if(typeof T.then=="function")return p(y,x,S,Lm(T),C);if(T.$$typeof===Wo)return p(y,x,S,jm(x,T),C);Rm(x,T)}return null}function v(y,x,S,T){for(var C=null,k=null,E=x,M=x=0,I=null;E!==null&&M<S.length;M++){E.index>M?(I=E,E=null):I=E.sibling;var U=h(y,E,S[M],T);if(U===null){E===null&&(E=I);break}t&&E&&U.alternate===null&&e(y,E),x=a(U,x,M),k===null?C=U:k.sibling=U,k=U,E=I}if(M===S.length)return n(y,E),$t&&Vo(y,M),C;if(E===null){for(;M<S.length;M++)E=f(y,S[M],T),E!==null&&(x=a(E,x,M),k===null?C=E:k.sibling=E,k=E);return $t&&Vo(y,M),C}for(E=r(E);M<S.length;M++)I=p(E,y,M,S[M],T),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?M:I.key),x=a(I,x,M),k===null?C=I:k.sibling=I,k=I);return t&&E.forEach(function(O){return e(y,O)}),$t&&Vo(y,M),C}function b(y,x,S,T){if(S==null)throw Error(Fe(151));for(var C=null,k=null,E=x,M=x=0,I=null,U=S.next();E!==null&&!U.done;M++,U=S.next()){E.index>M?(I=E,E=null):I=E.sibling;var O=h(y,E,U.value,T);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(y,E),x=a(O,x,M),k===null?C=O:k.sibling=O,k=O,E=I}if(U.done)return n(y,E),$t&&Vo(y,M),C;if(E===null){for(;!U.done;M++,U=S.next())U=f(y,U.value,T),U!==null&&(x=a(U,x,M),k===null?C=U:k.sibling=U,k=U);return $t&&Vo(y,M),C}for(E=r(E);!U.done;M++,U=S.next())U=p(E,y,M,U.value,T),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?M:U.key),x=a(U,x,M),k===null?C=U:k.sibling=U,k=U);return t&&E.forEach(function(D){return e(y,D)}),$t&&Vo(y,M),C}function w(y,x,S,T){if(typeof S=="object"&&S!==null&&S.type===Zc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case km:e:{for(var C=S.key;x!==null;){if(x.key===C){if(C=S.type,C===Zc){if(x.tag===7){n(y,x.sibling),T=i(x,S.props.children),T.return=y,y=T;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vs&&ou(C)===x.type){n(y,x.sibling),T=i(x,S.props),_h(T,S),T.return=y,y=T;break e}n(y,x);break}else e(y,x);x=x.sibling}S.type===Zc?(T=xu(S.props.children,y.mode,T,S.key),T.return=y,y=T):(T=bg(S.type,S.key,S.props,null,y.mode,T),_h(T,S),T.return=y,y=T)}return o(y);case Hh:e:{for(C=S.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),T=i(x,S.children||[]),T.return=y,y=T;break e}else{n(y,x);break}else e(y,x);x=x.sibling}T=Rb(S,y.mode,T),T.return=y,y=T}return o(y);case Vs:return S=ou(S),w(y,x,S,T)}if(zh(S))return v(y,x,S,T);if(xh(S)){if(C=xh(S),typeof C!="function")throw Error(Fe(150));return S=C.call(S),b(y,x,S,T)}if(typeof S.then=="function")return w(y,x,Lm(S),T);if(S.$$typeof===Wo)return w(y,x,jm(y,S),T);Rm(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),T=i(x,S),T.return=y,y=T):(n(y,x),T=Lb(S,y.mode,T),T.return=y,y=T),o(y)):n(y,x)}return function(y,x,S,T){try{Mp=0;var C=w(y,x,S,T);return wf=null,C}catch(E){if(E===gd||E===_v)throw E;var k=$i(29,E,null,y.mode);return k.lanes=T,k.return=y,k}finally{}}}var Du=rM(!0),iM=rM(!1),Gs=!1;function I5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ex(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function dl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Bg(t),K6(t,null,n),e}return Sv(t,r,e,n),Bg(t)}function tp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w6(t,n)}}function $b(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var kx=!1;function np(){if(kx){var t=xf;if(t!==null)throw t}}function rp(t,e,n,r){kx=!1;var i=t.updateQueue;Gs=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane&-536870913,p=h!==s.lane;if(p?(Ft&h)===h:(r&h)===h){h!==0&&h===If&&(kx=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,b=s;h=e;var w=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(w,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(w,f,h):v,h==null)break e;f=Mn({},f,h);break e;case 2:Gs=!0}}h=s.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),Cl|=o,t.lanes=o,t.memoizedState=f}}function aM(t,e){if(typeof t!="function")throw Error(Fe(191,t));t.call(e)}function oM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aM(n[t],e)}var jf=xo(null),zg=xo(0);function VT(t,e){t=ls,wn(zg,t),wn(jf,e),ls=t|e.baseLanes}function Px(){wn(zg,ls),wn(jf,jf.current)}function j5(){ls=zg.current,Nr(jf),Nr(zg)}var Ji=xo(null),wa=null;function Js(t){var e=t.alternate;wn(Jn,Jn.current&1),wn(Ji,t),wa===null&&(e===null||jf.current!==null||e.memoizedState!==null)&&(wa=t)}function Mx(t){wn(Jn,Jn.current),wn(Ji,t),wa===null&&(wa=t)}function sM(t){t.tag===22?(wn(Jn,Jn.current),wn(Ji,t),wa===null&&(wa=t)):Xs()}function Xs(){wn(Jn,Jn.current),wn(Ji,Ji.current)}function Fi(t){Nr(Ji),wa===t&&(wa=null),Nr(Jn)}var Jn=xo(0);function Vg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Jx(n)||Xx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var as=0,Et=null,un=null,rr=null,Gg=!1,Sf=!1,Iu=!1,Wg=0,Op=0,_f=null,GF=0;function $n(){throw Error(Fe(321))}function L5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ki(t[n],e[n]))return!1;return!0}function R5(t,e,n,r,i,a){return as=a,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vt.H=t===null||t.memoizedState===null?FM:Y5,Iu=!1,a=n(r,i),Iu=!1,Sf&&(a=uM(e,n,r,i)),lM(t),a}function lM(t){vt.H=Dp;var e=un!==null&&un.next!==null;if(as=0,rr=un=Et=null,Gg=!1,Op=0,_f=null,e)throw Error(Fe(300));t===null||or||(t=t.dependencies,t!==null&&qg(t)&&(or=!0))}function uM(t,e,n,r){Et=t;var i=0;do{if(Sf&&(_f=null),Op=0,Sf=!1,25<=i)throw Error(Fe(301));if(i+=1,rr=un=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}vt.H=$M,a=e(n,r)}while(Sf);return a}function WF(){var t=vt.H,e=t.useState()[0];return e=typeof e.then=="function"?PA(e):e,t=t.useState()[0],(un!==null?un.memoizedState:null)!==t&&(Et.flags|=1024),e}function F5(){var t=Wg!==0;return Wg=0,t}function $5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function B5(t){if(Gg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Gg=!1}as=0,rr=un=Et=null,Sf=!1,Op=Wg=0,_f=null}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Et.memoizedState=rr=t:rr=rr.next=t,rr}function Xn(){if(un===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var e=rr===null?Et.memoizedState:rr.next;if(e!==null)rr=e,un=t;else{if(t===null)throw Et.alternate===null?Error(Fe(467)):Error(Fe(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},rr===null?Et.memoizedState=rr=t:rr=rr.next=t}return rr}function Tv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function PA(t){var e=Op;return Op+=1,_f===null&&(_f=[]),t=nM(_f,t,e),e=Et,(rr===null?e.memoizedState:rr.next)===null&&(e=e.alternate,vt.H=e===null||e.memoizedState===null?FM:Y5),t}function Cv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return PA(t);if(t.$$typeof===Wo)return Lr(t)}throw Error(Fe(438,String(t)))}function U5(t){var e=null,n=Et.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Et.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Tv(),Et.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=O7;return e.index++,n}function os(t,e){return typeof e=="function"?e(t):e}function wg(t){var e=Xn();return q5(e,un,t)}function q5(t,e,n){var r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ft&f)===f:(as&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===If&&(c=!0);else if((as&h)===h){u=u.next,h===If&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,Et.lanes|=h,Cl|=h;f=u.action,Iu&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,o=a):l=l.next=h,Et.lanes|=f,Cl|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!Ki(a,t.memoizedState)&&(or=!0,c&&(n=xf,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Bb(t){var e=Xn(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ki(a,e.memoizedState)||(or=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function cM(t,e,n){var r=Et,i=Xn(),a=$t;if(a){if(n===void 0)throw Error(Fe(407));n=n()}else n=e();var o=!Ki((un||i).memoizedState,n);if(o&&(i.memoizedState=n,or=!0),i=i.queue,H5(hM.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||rr!==null&&rr.memoizedState.tag&1){if(r.flags|=2048,Lf(9,{destroy:void 0},dM.bind(null,r,i,n,e),null),An===null)throw Error(Fe(349));a||as&127||fM(r,e,n)}return n}function fM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e=Tv(),Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dM(t,e,n,r){e.value=n,e.getSnapshot=r,pM(e)&&AM(t)}function hM(t,e,n){return n(function(){pM(e)&&AM(t)})}function pM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ki(t,n)}catch{return!0}}function AM(t){var e=Gu(t,2);e!==null&&wi(e,t,2)}function Ox(t){var e=ti();if(typeof t=="function"){var n=t;if(t=n(),Iu){nl(!0);try{n()}finally{nl(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},e}function mM(t,e,n,r){return t.baseState=n,q5(t,un,typeof r=="function"?r:os)}function YF(t,e,n,r,i){if(Ev(t))throw Error(Fe(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};vt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,gM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function gM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=vt.T,o={};vt.T=o;try{var s=n(i,r),l=vt.S;l!==null&&l(o,s),GT(t,e,s)}catch(u){Dx(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),vt.T=a}}else try{a=n(i,r),GT(t,e,a)}catch(u){Dx(t,e,u)}}function GT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){WT(t,e,r)},function(r){return Dx(t,e,r)}):WT(t,e,n)}function WT(t,e,n){e.status="fulfilled",e.value=n,vM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,gM(t,n)))}function Dx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,vM(e),e=e.next;while(e!==r)}t.action=null}function vM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function yM(t,e){return e}function YT(t,e){if($t){var n=An.formState;if(n!==null){e:{var r=Et;if($t){if(En){t:{for(var i=En,a=ya;i.nodeType!==8;){if(!a){i=null;break t}if(i=Sa(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){En=Sa(i.nextSibling),r=i.data==="F!";break e}}_l(r)}r=!1}r&&(e=n[0])}}return n=ti(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yM,lastRenderedState:e},n.queue=r,n=jM.bind(null,Et,r),r.dispatch=n,r=Ox(!1),a=W5.bind(null,Et,!1,r.queue),r=ti(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=YF.bind(null,Et,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function KT(t){var e=Xn();return bM(e,un,t)}function bM(t,e,n){if(e=q5(t,e,yM)[0],t=wg(os)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=PA(e)}catch(o){throw o===gd?_v:o}else r=e;e=Xn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Et.flags|=2048,Lf(9,{destroy:void 0},KF.bind(null,i,n),null)),[r,a,t]}function KF(t,e){t.action=e}function JT(t){var e=Xn(),n=un;if(n!==null)return bM(e,n,t);Xn(),e=e.memoizedState,n=Xn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Lf(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Et.updateQueue,e===null&&(e=Tv(),Et.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function xM(){return Xn().memoizedState}function Sg(t,e,n,r){var i=ti();Et.flags|=t,i.memoizedState=Lf(1|e,{destroy:void 0},n,r===void 0?null:r)}function Nv(t,e,n,r){var i=Xn();r=r===void 0?null:r;var a=i.memoizedState.inst;un!==null&&r!==null&&L5(r,un.memoizedState.deps)?i.memoizedState=Lf(e,a,n,r):(Et.flags|=t,i.memoizedState=Lf(1|e,a,n,r))}function XT(t,e){Sg(8390656,8,t,e)}function H5(t,e){Nv(2048,8,t,e)}function JF(t){Et.flags|=4;var e=Et.updateQueue;if(e===null)e=Tv(),Et.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function wM(t){var e=Xn().memoizedState;return JF({ref:e,nextImpl:t}),function(){if(Yt&2)throw Error(Fe(440));return e.impl.apply(void 0,arguments)}}function SM(t,e){return Nv(4,2,t,e)}function _M(t,e){return Nv(4,4,t,e)}function TM(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CM(t,e,n){n=n!=null?n.concat([t]):null,Nv(4,4,TM.bind(null,e,t),n)}function z5(){}function NM(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&L5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function EM(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&L5(e,r[1]))return r[0];if(r=t(),Iu){nl(!0);try{t()}finally{nl(!1)}}return n.memoizedState=[r,e],r}function V5(t,e,n){return n===void 0||as&1073741824&&!(Ft&261930)?t.memoizedState=e:(t.memoizedState=n,t=mO(),Et.lanes|=t,Cl|=t,n)}function kM(t,e,n,r){return Ki(n,e)?n:jf.current!==null?(t=V5(t,n,r),Ki(t,e)||(or=!0),t):!(as&42)||as&1073741824&&!(Ft&261930)?(or=!0,t.memoizedState=n):(t=mO(),Et.lanes|=t,Cl|=t,e)}function PM(t,e,n,r,i){var a=Kt.p;Kt.p=a!==0&&8>a?a:8;var o=vt.T,s={};vt.T=s,W5(t,!1,e,n);try{var l=i(),u=vt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=VF(l,r);ip(t,e,c,Wi(t))}else ip(t,e,r,Wi(t))}catch(f){ip(t,e,{then:function(){},status:"rejected",reason:f},Wi())}finally{Kt.p=a,o!==null&&s.types!==null&&(o.types=s.types),vt.T=o}}function XF(){}function Ix(t,e,n,r){if(t.tag!==5)throw Error(Fe(476));var i=MM(t).queue;PM(t,i,e,bu,n===null?XF:function(){return OM(t),n(r)})}function MM(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:bu,baseState:bu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:bu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function OM(t){var e=MM(t);e.next===null&&(e=t.alternate.memoizedState),ip(t,e.next.queue,{},Wi())}function G5(){return Lr(Lp)}function DM(){return Xn().memoizedState}function IM(){return Xn().memoizedState}function QF(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Wi();t=fl(n);var r=dl(e,t,n);r!==null&&(wi(r,e,n),tp(r,e,n)),e={cache:M5()},t.payload=e;return}e=e.return}}function ZF(t,e,n){var r=Wi();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ev(t)?LM(e,n):(n=N5(t,e,n,r),n!==null&&(wi(n,t,r),RM(n,e,r)))}function jM(t,e,n){var r=Wi();ip(t,e,n,r)}function ip(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ev(t))LM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ki(s,o))return Sv(t,e,i,0),An===null&&wv(),!1}catch{}finally{}if(n=N5(t,e,i,r),n!==null)return wi(n,t,r),RM(n,e,r),!0}return!1}function W5(t,e,n,r){if(r={lane:2,revertLane:nS(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ev(t)){if(e)throw Error(Fe(479))}else e=N5(t,n,r,2),e!==null&&wi(e,t,2)}function Ev(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function LM(t,e){Sf=Gg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RM(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w6(t,n)}}var Dp={readContext:Lr,use:Cv,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};Dp.useEffectEvent=$n;var FM={readContext:Lr,use:Cv,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:Lr,useEffect:XT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Sg(4194308,4,TM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sg(4194308,4,t,e)},useInsertionEffect:function(t,e){Sg(4,2,t,e)},useMemo:function(t,e){var n=ti();e=e===void 0?null:e;var r=t();if(Iu){nl(!0);try{t()}finally{nl(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=ti();if(n!==void 0){var i=n(e);if(Iu){nl(!0);try{n(e)}finally{nl(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=ZF.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:function(t){t=Ox(t);var e=t.queue,n=jM.bind(null,Et,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:z5,useDeferredValue:function(t,e){var n=ti();return V5(n,t,e)},useTransition:function(){var t=Ox(!1);return t=PM.bind(null,Et,t.queue,!0,!1),ti().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Et,i=ti();if($t){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),An===null)throw Error(Fe(349));Ft&127||fM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,XT(hM.bind(null,r,a,t),[t]),r.flags|=2048,Lf(9,{destroy:void 0},dM.bind(null,r,a,n,e),null),n},useId:function(){var t=ti(),e=An.identifierPrefix;if($t){var n=fo,r=co;n=(r&~(1<<32-Gi(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Wg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=GF++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:G5,useFormState:YT,useActionState:YT,useOptimistic:function(t){var e=ti();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=W5.bind(null,Et,!0,n),n.dispatch=e,[t,e]},useMemoCache:U5,useCacheRefresh:function(){return ti().memoizedState=QF.bind(null,Et)},useEffectEvent:function(t){var e=ti(),n={impl:t};return e.memoizedState=n,function(){if(Yt&2)throw Error(Fe(440));return n.impl.apply(void 0,arguments)}}},Y5={readContext:Lr,use:Cv,useCallback:NM,useContext:Lr,useEffect:H5,useImperativeHandle:CM,useInsertionEffect:SM,useLayoutEffect:_M,useMemo:EM,useReducer:wg,useRef:xM,useState:function(){return wg(os)},useDebugValue:z5,useDeferredValue:function(t,e){var n=Xn();return kM(n,un.memoizedState,t,e)},useTransition:function(){var t=wg(os)[0],e=Xn().memoizedState;return[typeof t=="boolean"?t:PA(t),e]},useSyncExternalStore:cM,useId:DM,useHostTransitionStatus:G5,useFormState:KT,useActionState:KT,useOptimistic:function(t,e){var n=Xn();return mM(n,un,t,e)},useMemoCache:U5,useCacheRefresh:IM};Y5.useEffectEvent=wM;var $M={readContext:Lr,use:Cv,useCallback:NM,useContext:Lr,useEffect:H5,useImperativeHandle:CM,useInsertionEffect:SM,useLayoutEffect:_M,useMemo:EM,useReducer:Bb,useRef:xM,useState:function(){return Bb(os)},useDebugValue:z5,useDeferredValue:function(t,e){var n=Xn();return un===null?V5(n,t,e):kM(n,un.memoizedState,t,e)},useTransition:function(){var t=Bb(os)[0],e=Xn().memoizedState;return[typeof t=="boolean"?t:PA(t),e]},useSyncExternalStore:cM,useId:DM,useHostTransitionStatus:G5,useFormState:JT,useActionState:JT,useOptimistic:function(t,e){var n=Xn();return un!==null?mM(n,un,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:U5,useCacheRefresh:IM};$M.useEffectEvent=wM;function Ub(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jx={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wi(),i=fl(r);i.payload=e,n!=null&&(i.callback=n),e=dl(t,i,r),e!==null&&(wi(e,t,r),tp(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wi(),i=fl(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=dl(t,i,r),e!==null&&(wi(e,t,r),tp(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wi(),r=fl(n);r.tag=2,e!=null&&(r.callback=e),e=dl(t,r,n),e!==null&&(wi(e,t,n),tp(e,t,n))}};function QT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ep(n,r)||!Ep(i,a):!0}function ZT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&jx.enqueueReplaceState(e,e.state,null)}function ju(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Mn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function BM(t){$g(t)}function UM(t){console.error(t)}function qM(t){$g(t)}function Yg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function eC(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Lx(t,e,n){return n=fl(n),n.tag=3,n.payload={element:null},n.callback=function(){Yg(t,e)},n}function HM(t){return t=fl(t),t.tag=3,t}function zM(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){eC(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){eC(e,n,r),typeof i!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function e$(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&md(e,n,i,!0),n=Ji.current,n!==null){switch(n.tag){case 31:case 13:return wa===null?Zg():n.alternate===null&&qn===0&&(qn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Hg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Qb(t,r,i)),!1;case 22:return n.flags|=65536,r===Hg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Qb(t,r,i)),!1}throw Error(Fe(435,n.tag))}return Qb(t,r,i),Zg(),!1}if($t)return e=Ji.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Sx&&(t=Error(Fe(422),{cause:r}),Pp(va(t,n)))):(r!==Sx&&(e=Error(Fe(423),{cause:r}),Pp(va(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=va(r,n),i=Lx(t.stateNode,r,i),$b(t,i),qn!==4&&(qn=2)),!1;var a=Error(Fe(520),{cause:r});if(a=va(a,n),sp===null?sp=[a]:sp.push(a),qn!==4&&(qn=2),e===null)return!0;r=va(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Lx(n.stateNode,r,t),$b(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(hl===null||!hl.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=HM(i),zM(i,t,n,r),$b(n,i),!1}n=n.return}while(n!==null);return!1}var K5=Error(Fe(461)),or=!1;function Dr(t,e,n,r){e.child=t===null?iM(e,null,n,r):Du(e,t.child,n,r)}function tC(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return Ou(e),r=R5(t,e,n,o,a,i),s=F5(),t!==null&&!or?($5(t,e,i),ss(t,e,i)):($t&&s&&k5(e),e.flags|=1,Dr(t,e,r,i),e.child)}function nC(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!E5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,VM(t,e,a,r,i)):(t=bg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!J5(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ep,n(o,r)&&t.ref===e.ref)return ss(t,e,i)}return e.flags|=1,t=Zo(a,r),t.ref=e.ref,t.return=e,e.child=t}function VM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Ep(a,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=a,J5(t,i))t.flags&131072&&(or=!0);else return e.lanes=t.lanes,ss(t,e,i)}return Rx(t,e,n,r,i)}function GM(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return rC(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&xg(e,a!==null?a.cachePool:null),a!==null?VT(e,a):Px(),sM(e);else return r=e.lanes=536870912,rC(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(xg(e,a.cachePool),VT(e,a),Xs(),e.memoizedState=null):(t!==null&&xg(e,null),Px(),Xs());return Dr(t,e,i,n),e.child}function Gh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function rC(t,e,n,r,i){var a=O5();return a=a===null?null:{parent:ar._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&xg(e,null),Px(),sM(e),t!==null&&md(t,e,r,!0),e.childLanes=i,null}function _g(t,e){return e=Kg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function iC(t,e,n){return Du(e,t.child,null,n),t=_g(e,e.pendingProps),t.flags|=2,Fi(e),e.memoizedState=null,t}function t$(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if($t){if(r.mode==="hidden")return t=_g(e,r),e.lanes=536870912,Gh(null,t);if(Mx(e),(t=En)?(t=FO(t,ya),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Sl!==null?{id:co,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},n=X6(t),n.return=e,e.child=n,jr=e,En=null)):t=null,t===null)throw _l(e);return e.lanes=536870912,null}return _g(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(Mx(e),i)if(e.flags&256)e.flags&=-257,e=iC(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Fe(558));else if(or||md(t,e,n,!1),i=(n&t.childLanes)!==0,or||i){if(r=An,r!==null&&(o=S6(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,Gu(t,o),wi(r,t,o),K5;Zg(),e=iC(t,e,n)}else t=a.treeContext,En=Sa(o.nextSibling),jr=e,$t=!0,cl=null,ya=!1,t!==null&&Z6(e,t),e=_g(e,r),e.flags|=4096;return e}return t=Zo(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Tg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Fe(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Rx(t,e,n,r,i){return Ou(e),n=R5(t,e,n,r,void 0,i),r=F5(),t!==null&&!or?($5(t,e,i),ss(t,e,i)):($t&&r&&k5(e),e.flags|=1,Dr(t,e,n,i),e.child)}function aC(t,e,n,r,i,a){return Ou(e),e.updateQueue=null,n=uM(e,r,n,i),lM(t),r=F5(),t!==null&&!or?($5(t,e,a),ss(t,e,a)):($t&&r&&k5(e),e.flags|=1,Dr(t,e,n,a),e.child)}function oC(t,e,n,r,i){if(Ou(e),e.stateNode===null){var a=lf,o=n.contextType;typeof o=="object"&&o!==null&&(a=Lr(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=jx,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},I5(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Lr(o):lf,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Ub(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&jx.enqueueReplaceState(a,a.state,null),rp(e,r,a,i),np(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=ju(n,s);a.props=l;var u=a.context,c=n.contextType;o=lf,typeof c=="object"&&c!==null&&(o=Lr(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&ZT(e,a,r,o),Gs=!1;var h=e.memoizedState;a.state=h,rp(e,r,a,i),np(),u=e.memoizedState,s||h!==u||Gs?(typeof f=="function"&&(Ub(e,n,f,r),u=e.memoizedState),(l=Gs||QT(e,n,l,r,h,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ex(t,e),o=e.memoizedProps,c=ju(n,o),a.props=c,f=e.pendingProps,h=a.context,u=n.contextType,l=lf,typeof u=="object"&&u!==null&&(l=Lr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&ZT(e,a,r,l),Gs=!1,h=e.memoizedState,a.state=h,rp(e,r,a,i),np();var p=e.memoizedState;o!==f||h!==p||Gs||t!==null&&t.dependencies!==null&&qg(t.dependencies)?(typeof s=="function"&&(Ub(e,n,s,r),p=e.memoizedState),(c=Gs||QT(e,n,c,r,h,p,l)||t!==null&&t.dependencies!==null&&qg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Tg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Du(e,t.child,null,i),e.child=Du(e,null,n,i)):Dr(t,e,n,i),e.memoizedState=a.state,t=e.child):t=ss(t,e,i),t}function sC(t,e,n,r){return Mu(),e.flags|=256,Dr(t,e,n,r),e.child}var qb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hb(t){return{baseLanes:t,cachePool:tM()}}function zb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=qi),t}function WM(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(Jn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if($t){if(i?Js(e):Xs(),(t=En)?(t=FO(t,ya),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Sl!==null?{id:co,overflow:fo}:null,retryLane:536870912,hydrationErrors:null},n=X6(t),n.return=e,e.child=n,jr=e,En=null)):t=null,t===null)throw _l(e);return Xx(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Xs(),i=e.mode,s=Kg({mode:"hidden",children:s},i),r=xu(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Hb(n),r.childLanes=zb(t,o,n),e.memoizedState=qb,Gh(null,r)):(Js(e),Fx(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(Js(e),e.flags&=-257,e=Vb(t,e,n)):e.memoizedState!==null?(Xs(),e.child=t.child,e.flags|=128,e=null):(Xs(),s=r.fallback,i=e.mode,r=Kg({mode:"visible",children:r.children},i),s=xu(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,Du(e,t.child,null,n),r=e.child,r.memoizedState=Hb(n),r.childLanes=zb(t,o,n),e.memoizedState=qb,e=Gh(null,r));else if(Js(e),Xx(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(Fe(419)),r.stack="",r.digest=o,Pp({value:r,source:null,stack:null}),e=Vb(t,e,n)}else if(or||md(t,e,n,!1),o=(n&t.childLanes)!==0,or||o){if(o=An,o!==null&&(r=S6(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Gu(t,r),wi(o,t,r),K5;Jx(s)||Zg(),e=Vb(t,e,n)}else Jx(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,En=Sa(s.nextSibling),jr=e,$t=!0,cl=null,ya=!1,t!==null&&Z6(e,t),e=Fx(e,r.children),e.flags|=4096);return e}return i?(Xs(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Zo(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Zo(u,s):(s=xu(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,Gh(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Hb(n):(i=s.cachePool,i!==null?(l=ar._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=tM(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=zb(t,o,n),e.memoizedState=qb,Gh(t.child,r)):(Js(e),n=t.child,t=n.sibling,n=Zo(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Fx(t,e){return e=Kg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Kg(t,e){return t=$i(22,t,null,e),t.lanes=0,t}function Vb(t,e,n){return Du(e,t.child,null,n),t=Fx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tx(t.return,e,n)}function Gb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function YM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Jn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,wn(Jn,o),Dr(t,e,r,n),r=$t?kp:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lC(t,n,e);else if(t.tag===19)lC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gb(e,!0,n,null,a,r);break;case"together":Gb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cl|=e.lanes,!(n&e.childLanes))if(t!==null){if(md(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=Zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&qg(t)))}function n$(t,e,n){switch(e.tag){case 3:jg(e,e.stateNode.containerInfo),Ks(e,ar,t.memoizedState.cache),Mu();break;case 27:case 5:dx(e);break;case 4:jg(e,e.stateNode.containerInfo);break;case 10:Ks(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Mx(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Js(e),e.flags|=128,null):n&e.child.childLanes?WM(t,e,n):(Js(e),t=ss(t,e,n),t!==null?t.sibling:null);Js(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(md(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return YM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Jn,Jn.current),r)break;return null;case 22:return e.lanes=0,GM(t,e,n,e.pendingProps);case 24:Ks(e,ar,t.memoizedState.cache)}return ss(t,e,n)}function KM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)or=!0;else{if(!J5(t,n)&&!(e.flags&128))return or=!1,n$(t,e,n);or=!!(t.flags&131072)}else or=!1,$t&&e.flags&1048576&&Q6(e,kp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=ou(e.elementType),e.type=t,typeof t=="function")E5(t)?(r=ju(t,r),e.tag=1,e=oC(null,e,t,r,n)):(e.tag=0,e=Rx(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===p5){e.tag=11,e=tC(null,e,t,r,n);break e}else if(i===A5){e.tag=14,e=nC(null,e,t,r,n);break e}}throw e=cx(t)||t,Error(Fe(306,e,""))}}return e;case 0:return Rx(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=ju(r,e.pendingProps),oC(t,e,r,i,n);case 3:e:{if(jg(e,e.stateNode.containerInfo),t===null)throw Error(Fe(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Ex(t,e),rp(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Ks(e,ar,r),r!==a.cache&&Cx(e,[ar],n,!0),np(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=sC(t,e,r,n);break e}else if(r!==i){i=va(Error(Fe(424)),e),Pp(i),e=sC(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(En=Sa(t.firstChild),jr=e,$t=!0,cl=null,ya=!0,n=iM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Mu(),r===i){e=ss(t,e,n);break e}Dr(t,e,r,n)}e=e.child}return e;case 26:return Tg(t,e),t===null?(n=EC(e.type,null,e.pendingProps,null))?e.memoizedState=n:$t||(n=e.type,t=e.pendingProps,r=r0(ul.current).createElement(n),r[Ir]=e,r[Si]=t,Rr(r,n,t),Tr(r),e.stateNode=r):e.memoizedState=EC(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return dx(e),t===null&&$t&&(r=e.stateNode=$O(e.type,e.pendingProps,ul.current),jr=e,ya=!0,i=En,Ml(e.type)?(Qx=i,En=Sa(r.firstChild)):En=i),Dr(t,e,e.pendingProps.children,n),Tg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&$t&&((i=r=En)&&(r=O$(r,e.type,e.pendingProps,ya),r!==null?(e.stateNode=r,jr=e,En=Sa(r.firstChild),ya=!1,i=!0):i=!1),i||_l(e)),dx(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,Yx(i,a)?r=null:o!==null&&Yx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=R5(t,e,WF,null,null,n),Lp._currentValue=i),Tg(t,e),Dr(t,e,r,n),e.child;case 6:return t===null&&$t&&((t=n=En)&&(n=D$(n,e.pendingProps,ya),n!==null?(e.stateNode=n,jr=e,En=null,t=!0):t=!1),t||_l(e)),null;case 13:return WM(t,e,n);case 4:return jg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Du(e,null,r,n):Dr(t,e,r,n),e.child;case 11:return tC(t,e,e.type,e.pendingProps,n);case 7:return Dr(t,e,e.pendingProps,n),e.child;case 8:return Dr(t,e,e.pendingProps.children,n),e.child;case 12:return Dr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ks(e,e.type,r.value),Dr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Ou(e),i=Lr(i),r=r(i),e.flags|=1,Dr(t,e,r,n),e.child;case 14:return nC(t,e,e.type,e.pendingProps,n);case 15:return VM(t,e,e.type,e.pendingProps,n);case 19:return YM(t,e,n);case 31:return t$(t,e,n);case 22:return GM(t,e,n,e.pendingProps);case 24:return Ou(e),r=Lr(ar),t===null?(i=O5(),i===null&&(i=An,a=M5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},I5(e),Ks(e,ar,i)):(t.lanes&n&&(Ex(t,e),rp(e,null,null,n),np()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ks(e,ar,r)):(r=a.cache,Ks(e,ar,r),r!==i.cache&&Cx(e,[ar],n,!0))),Dr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Fe(156,e.tag))}function Ro(t){t.flags|=4}function Wb(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(yO())t.flags|=8192;else throw Su=Hg,D5}else t.flags&=-16777217}function uC(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!qO(e))if(yO())t.flags|=8192;else throw Su=Hg,D5}function Fm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?b6():536870912,t.lanes|=e,Rf|=e)}function Th(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function r$(t,e,n){var r=e.pendingProps;switch(P5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return _n(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),es(ar),Mf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?Ro(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fb())),_n(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Ro(e),a!==null?(_n(e),uC(e,a)):(_n(e),Wb(e,i,null,r,n))):a?a!==t.memoizedState?(Ro(e),_n(e),uC(e,a)):(_n(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ro(e),_n(e),Wb(e,i,t,r,n)),null;case 27:if(Lg(e),n=ul.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ro(e);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return _n(e),null}t=mo.current,Oc(e)?FT(e):(t=$O(i,r,n),e.stateNode=t,Ro(e))}return _n(e),null;case 5:if(Lg(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ro(e);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return _n(e),null}if(a=mo.current,Oc(e))FT(e);else{var o=r0(ul.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Ir]=e,a[Si]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(Rr(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ro(e)}}return _n(e),Wb(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ro(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(t=ul.current,Oc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=jr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Ir]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||jO(t.nodeValue,n)),t||_l(e,!0)}else t=r0(t).createTextNode(r),t[Ir]=e,e.stateNode=t}return _n(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Oc(e),n!==null){if(t===null){if(!r)throw Error(Fe(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(557));t[Ir]=e}else Mu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),t=!1}else n=Fb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Fi(e),e):(Fi(e),null);if(e.flags&128)throw Error(Fe(558))}return _n(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));i[Ir]=e}else Mu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else i=Fb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Fi(e),e):(Fi(e),null)}return Fi(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Fm(e,e.updateQueue),_n(e),null);case 4:return Mf(),t===null&&rS(e.stateNode.containerInfo),_n(e),null;case 10:return es(e.type),_n(e),null;case 19:if(Nr(Jn),r=e.memoizedState,r===null)return _n(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Th(r,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vg(t),a!==null){for(e.flags|=128,Th(r,!1),t=a.updateQueue,e.updateQueue=t,Fm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)J6(n,t),n=n.sibling;return wn(Jn,Jn.current&1|2),$t&&Vo(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&zi()>Xg&&(e.flags|=128,i=!0,Th(r,!1),e.lanes=4194304)}else{if(!i)if(t=Vg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Fm(e,t),Th(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!$t)return _n(e),null}else 2*zi()-r.renderingStartTime>Xg&&n!==536870912&&(e.flags|=128,i=!0,Th(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=zi(),t.sibling=null,n=Jn.current,wn(Jn,i?n&1|2:n&1),$t&&Vo(e,r.treeForkCount),t):(_n(e),null);case 22:case 23:return Fi(e),j5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),n=e.updateQueue,n!==null&&Fm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Nr(wu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),es(ar),_n(e),null;case 25:return null;case 30:return null}throw Error(Fe(156,e.tag))}function i$(t,e){switch(P5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return es(ar),Mf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Lg(e),null;case 31:if(e.memoizedState!==null){if(Fi(e),e.alternate===null)throw Error(Fe(340));Mu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Fi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Mu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nr(Jn),null;case 4:return Mf(),null;case 10:return es(e.type),null;case 22:case 23:return Fi(e),j5(),t!==null&&Nr(wu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return es(ar),null;case 25:return null;default:return null}}function JM(t,e){switch(P5(e),e.tag){case 3:es(ar),Mf();break;case 26:case 27:case 5:Lg(e);break;case 4:Mf();break;case 31:e.memoizedState!==null&&Fi(e);break;case 13:Fi(e);break;case 19:Nr(Jn);break;case 10:es(e.type);break;case 22:case 23:Fi(e),j5(),t!==null&&Nr(wu);break;case 24:es(ar)}}function MA(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){tn(e,e.return,s)}}function Tl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){tn(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){tn(e,e.return,c)}}function XM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{oM(e,n)}catch(r){tn(t,t.return,r)}}}function QM(t,e,n){n.props=ju(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){tn(t,e,r)}}function ap(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){tn(t,e,i)}}function ho(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){tn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){tn(t,e,i)}else n.current=null}function ZM(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){tn(t,t.return,i)}}function Yb(t,e,n){try{var r=t.stateNode;C$(r,t.type,n,e),r[Si]=e}catch(i){tn(t,t.return,i)}}function eO(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ml(t.type)||t.tag===4}function Kb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ml(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $x(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yo));else if(r!==4&&(r===27&&Ml(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for($x(t,e,n),t=t.sibling;t!==null;)$x(t,e,n),t=t.sibling}function Jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ml(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Jg(t,e,n),t=t.sibling;t!==null;)Jg(t,e,n),t=t.sibling}function tO(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Rr(e,r,n),e[Ir]=t,e[Si]=n}catch(a){tn(t,t.return,a)}}var Go=!1,ir=!1,Jb=!1,cC=typeof WeakSet=="function"?WeakSet:Set,_r=null;function a$(t,e){if(t=t.containerInfo,Gx=s0,t=q6(t),T5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wx={focusedElem:t,selectionRange:n},s0=!1,_r=e;_r!==null;)if(e=_r,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_r=t;else for(;_r!==null;){switch(e=_r,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=ju(n.type,i);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){tn(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Kx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Fe(163))}if(t=e.sibling,t!==null){t.return=e.return,_r=t;break}_r=e.return}}function nO(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$o(t,n),r&4&&MA(5,n);break;case 1:if($o(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){tn(n,n.return,o)}else{var i=ju(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){tn(n,n.return,o)}}r&64&&XM(n),r&512&&ap(n,n.return);break;case 3:if($o(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{oM(t,e)}catch(o){tn(n,n.return,o)}}break;case 27:e===null&&r&4&&tO(n);case 26:case 5:$o(t,n),e===null&&r&4&&ZM(n),r&512&&ap(n,n.return);break;case 12:$o(t,n);break;case 31:$o(t,n),r&4&&aO(t,n);break;case 13:$o(t,n),r&4&&oO(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=p$.bind(null,n),I$(t,n))));break;case 22:if(r=n.memoizedState!==null||Go,!r){e=e!==null&&e.memoizedState!==null||ir,i=Go;var a=ir;Go=r,(ir=e)&&!a?qo(t,n,(n.subtreeFlags&8772)!==0):$o(t,n),Go=i,ir=a}break;case 30:break;default:$o(t,n)}}function rO(t){var e=t.alternate;e!==null&&(t.alternate=null,rO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&y5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var On=null,vi=!1;function Fo(t,e,n){for(n=n.child;n!==null;)iO(t,e,n),n=n.sibling}function iO(t,e,n){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(_A,n)}catch{}switch(n.tag){case 26:ir||ho(n,e),Fo(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ir||ho(n,e);var r=On,i=vi;Ml(n.type)&&(On=n.stateNode,vi=!1),Fo(t,e,n),up(n.stateNode),On=r,vi=i;break;case 5:ir||ho(n,e);case 6:if(r=On,i=vi,On=null,Fo(t,e,n),On=r,vi=i,On!==null)if(vi)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(n.stateNode)}catch(a){tn(n,e,a)}else try{On.removeChild(n.stateNode)}catch(a){tn(n,e,a)}break;case 18:On!==null&&(vi?(t=On,SC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Uf(t)):SC(On,n.stateNode));break;case 4:r=On,i=vi,On=n.stateNode.containerInfo,vi=!0,Fo(t,e,n),On=r,vi=i;break;case 0:case 11:case 14:case 15:Tl(2,n,e),ir||Tl(4,n,e),Fo(t,e,n);break;case 1:ir||(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&QM(n,e,r)),Fo(t,e,n);break;case 21:Fo(t,e,n);break;case 22:ir=(r=ir)||n.memoizedState!==null,Fo(t,e,n),ir=r;break;default:Fo(t,e,n)}}function aO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Uf(t)}catch(n){tn(e,e.return,n)}}}function oO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Uf(t)}catch(n){tn(e,e.return,n)}}function o$(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new cC),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new cC),e;default:throw Error(Fe(435,t.tag))}}function $m(t,e){var n=o$(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=A$.bind(null,t,r);r.then(i,i)}})}function Ai(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Ml(s.type)){On=s.stateNode,vi=!1;break e}break;case 5:On=s.stateNode,vi=!1;break e;case 3:case 4:On=s.stateNode.containerInfo,vi=!0;break e}s=s.return}if(On===null)throw Error(Fe(160));iO(a,o,i),On=null,vi=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)sO(e,t),e=e.sibling}var za=null;function sO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ai(e,t),mi(t),r&4&&(Tl(3,t,t.return),MA(3,t),Tl(5,t,t.return));break;case 1:Ai(e,t),mi(t),r&512&&(ir||n===null||ho(n,n.return)),r&64&&Go&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=za;if(Ai(e,t),mi(t),r&512&&(ir||n===null||ho(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[NA]||a[Ir]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Rr(a,r,n),a[Ir]=t,Tr(a),r=a;break e;case"link":var o=PC("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Rr(a,r,n),i.head.appendChild(a);break;case"meta":if(o=PC("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Rr(a,r,n),i.head.appendChild(a);break;default:throw Error(Fe(468,r))}a[Ir]=t,Tr(a),r=a}t.stateNode=r}else MC(i,t.type,t.stateNode);else t.stateNode=kC(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?MC(i,t.type,t.stateNode):kC(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Yb(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ai(e,t),mi(t),r&512&&(ir||n===null||ho(n,n.return)),n!==null&&r&4&&Yb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ai(e,t),mi(t),r&512&&(ir||n===null||ho(n,n.return)),t.flags&32){i=t.stateNode;try{Df(i,"")}catch(v){tn(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Yb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Jb=!0);break;case 6:if(Ai(e,t),mi(t),r&4){if(t.stateNode===null)throw Error(Fe(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){tn(t,t.return,v)}}break;case 3:if(Eg=null,i=za,za=i0(e.containerInfo),Ai(e,t),za=i,mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uf(e.containerInfo)}catch(v){tn(t,t.return,v)}Jb&&(Jb=!1,lO(t));break;case 4:r=za,za=i0(t.stateNode.containerInfo),Ai(e,t),mi(t),za=r;break;case 12:Ai(e,t),mi(t);break;case 31:Ai(e,t),mi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,$m(t,r)));break;case 13:Ai(e,t),mi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(kv=zi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,$m(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Go,c=ir;if(Go=u||i,ir=c||l,Ai(e,t),ir=c,Go=u,mi(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Go||ir||su(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){tn(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){tn(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?_C(p,!0):_C(l.stateNode,!1)}catch(v){tn(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,$m(t,n))));break;case 19:Ai(e,t),mi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,$m(t,r)));break;case 30:break;case 21:break;default:Ai(e,t),mi(t)}}function mi(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(eO(r)){n=r;break}r=r.return}if(n==null)throw Error(Fe(160));switch(n.tag){case 27:var i=n.stateNode,a=Kb(t);Jg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(Df(o,""),n.flags&=-33);var s=Kb(t);Jg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Kb(t);$x(t,u,l);break;default:throw Error(Fe(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;lO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function $o(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)nO(t,e.alternate,e),e=e.sibling}function su(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Tl(4,e,e.return),su(e);break;case 1:ho(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&QM(e,e.return,n),su(e);break;case 27:up(e.stateNode);case 26:case 5:ho(e,e.return),su(e);break;case 22:e.memoizedState===null&&su(e);break;case 30:su(e);break;default:su(e)}t=t.sibling}}function qo(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:qo(i,a,n),MA(4,a);break;case 1:if(qo(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){tn(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)aM(l[i],s)}catch(u){tn(r,r.return,u)}}n&&o&64&&XM(a),ap(a,a.return);break;case 27:tO(a);case 26:case 5:qo(i,a,n),n&&r===null&&o&4&&ZM(a),ap(a,a.return);break;case 12:qo(i,a,n);break;case 31:qo(i,a,n),n&&o&4&&aO(i,a);break;case 13:qo(i,a,n),n&&o&4&&oO(i,a);break;case 22:a.memoizedState===null&&qo(i,a,n),ap(a,a.return);break;case 30:break;default:qo(i,a,n)}e=e.sibling}}function X5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&kA(n))}function Q5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&kA(t))}function La(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uO(t,e,n,r),e=e.sibling}function uO(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:La(t,e,n,r),i&2048&&MA(9,e);break;case 1:La(t,e,n,r);break;case 3:La(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&kA(t)));break;case 12:if(i&2048){La(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){tn(e,e.return,l)}}else La(t,e,n,r);break;case 31:La(t,e,n,r);break;case 13:La(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?La(t,e,n,r):op(t,e):a._visibility&2?La(t,e,n,r):(a._visibility|=2,Vc(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&X5(o,e);break;case 24:La(t,e,n,r),i&2048&&Q5(e.alternate,e);break;default:La(t,e,n,r)}}function Vc(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Vc(a,o,s,l,i),MA(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Vc(a,o,s,l,i):op(a,o):(c._visibility|=2,Vc(a,o,s,l,i)),i&&u&2048&&X5(o.alternate,o);break;case 24:Vc(a,o,s,l,i),i&&u&2048&&Q5(o.alternate,o);break;default:Vc(a,o,s,l,i)}e=e.sibling}}function op(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:op(n,r),i&2048&&X5(r.alternate,r);break;case 24:op(n,r),i&2048&&Q5(r.alternate,r);break;default:op(n,r)}e=e.sibling}}var Wh=8192;function Dc(t,e,n){if(t.subtreeFlags&Wh)for(t=t.child;t!==null;)cO(t,e,n),t=t.sibling}function cO(t,e,n){switch(t.tag){case 26:Dc(t,e,n),t.flags&Wh&&t.memoizedState!==null&&G$(n,za,t.memoizedState,t.memoizedProps);break;case 5:Dc(t,e,n);break;case 3:case 4:var r=za;za=i0(t.stateNode.containerInfo),Dc(t,e,n),za=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Wh,Wh=16777216,Dc(t,e,n),Wh=r):Dc(t,e,n));break;default:Dc(t,e,n)}}function fO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ch(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_r=r,hO(r,t)}fO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dO(t),t=t.sibling}function dO(t){switch(t.tag){case 0:case 11:case 15:Ch(t),t.flags&2048&&Tl(9,t,t.return);break;case 3:Ch(t);break;case 12:Ch(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Cg(t)):Ch(t);break;default:Ch(t)}}function Cg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_r=r,hO(r,t)}fO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Tl(8,e,e.return),Cg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Cg(e));break;default:Cg(e)}t=t.sibling}}function hO(t,e){for(;_r!==null;){var n=_r;switch(n.tag){case 0:case 11:case 15:Tl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:kA(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,_r=r;else e:for(n=t;_r!==null;){r=_r;var i=r.sibling,a=r.return;if(rO(r),r===n){_r=null;break e}if(i!==null){i.return=a,_r=i;break e}_r=a}}}var s$={getCacheForType:function(t){var e=Lr(ar),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Lr(ar).controller.signal}},l$=typeof WeakMap=="function"?WeakMap:Map,Yt=0,An=null,Lt=null,Ft=0,en=0,Li=null,il=!1,vd=!1,Z5=!1,ls=0,qn=0,Cl=0,_u=0,eS=0,qi=0,Rf=0,sp=null,yi=null,Bx=!1,kv=0,pO=0,Xg=1/0,Qg=null,hl=null,pr=0,pl=null,Ff=null,ts=0,Ux=0,qx=null,AO=null,lp=0,Hx=null;function Wi(){return Yt&2&&Ft!==0?Ft&-Ft:vt.T!==null?nS():_6()}function mO(){if(qi===0)if(!(Ft&536870912)||$t){var t=Mm;Mm<<=1,!(Mm&3932160)&&(Mm=262144),qi=t}else qi=536870912;return t=Ji.current,t!==null&&(t.flags|=32),qi}function wi(t,e,n){(t===An&&(en===2||en===9)||t.cancelPendingCommit!==null)&&($f(t,0),al(t,Ft,qi,!1)),CA(t,n),(!(Yt&2)||t!==An)&&(t===An&&(!(Yt&2)&&(_u|=n),qn===4&&al(t,Ft,qi,!1)),wo(t))}function gO(t,e,n){if(Yt&6)throw Error(Fe(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||TA(t,e),i=r?f$(t,e):Xb(t,e,!0),a=r;do{if(i===0){vd&&!r&&al(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!u$(n)){i=Xb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=sp;var l=s.current.memoizedState.isDehydrated;if(l&&($f(s,o).flags|=256),o=Xb(s,o,!1),o!==2){if(Z5&&!l){s.errorRecoveryDisabledLanes|=a,_u|=a,i=4;break e}a=yi,yi=i,a!==null&&(yi===null?yi=a:yi.push.apply(yi,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){$f(t,0),al(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(Fe(345));case 4:if((e&4194048)!==e)break;case 6:al(r,e,qi,!il);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(Fe(329))}if((e&62914560)===e&&(i=kv+300-zi(),10<i)){if(al(r,e,qi,!il),vv(r,0,!0)!==0)break e;ts=e,r.timeoutHandle=RO(fC.bind(null,r,n,yi,Qg,Bx,e,qi,_u,Rf,il,a,"Throttled",-0,0),i);break e}fC(r,n,yi,Qg,Bx,e,qi,_u,Rf,il,a,null,-0,0)}}break}while(!0);wo(t)}function fC(t,e,n,r,i,a,o,s,l,u,c,f,h,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yo},cO(e,a,f);var v=(a&62914560)===a?kv-zi():(a&4194048)===a?pO-zi():0;if(v=W$(f,v),v!==null){ts=a,t.cancelPendingCommit=v(hC.bind(null,t,e,a,n,r,i,o,s,l,c,f,null,h,p)),al(t,a,o,!u);return}}hC(t,e,a,n,r,i,o,s,l)}function u$(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ki(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function al(t,e,n,r){e&=~eS,e&=~_u,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Gi(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&x6(t,n,e)}function Pv(){return Yt&6?!0:(OA(0),!1)}function tS(){if(Lt!==null){if(en===0)var t=Lt.return;else t=Lt,Ko=Wu=null,B5(t),wf=null,Mp=0,t=Lt;for(;t!==null;)JM(t.alternate,t),t=t.return;Lt=null}}function $f(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,k$(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),ts=0,tS(),An=t,Lt=n=Zo(t.current,null),Ft=e,en=0,Li=null,il=!1,vd=TA(t,e),Z5=!1,Rf=qi=eS=_u=Cl=qn=0,yi=sp=null,Bx=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Gi(r),a=1<<i;e|=t[i],r&=~a}return ls=e,wv(),n}function vO(t,e){Et=null,vt.H=Dp,e===gd||e===_v?(e=HT(),en=3):e===D5?(e=HT(),en=4):en=e===K5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Li=e,Lt===null&&(qn=1,Yg(t,va(e,t.current)))}function yO(){var t=Ji.current;return t===null?!0:(Ft&4194048)===Ft?wa===null:(Ft&62914560)===Ft||Ft&536870912?t===wa:!1}function bO(){var t=vt.H;return vt.H=Dp,t===null?Dp:t}function xO(){var t=vt.A;return vt.A=s$,t}function Zg(){qn=4,il||(Ft&4194048)!==Ft&&Ji.current!==null||(vd=!0),!(Cl&134217727)&&!(_u&134217727)||An===null||al(An,Ft,qi,!1)}function Xb(t,e,n){var r=Yt;Yt|=2;var i=bO(),a=xO();(An!==t||Ft!==e)&&(Qg=null,$f(t,e)),e=!1;var o=qn;e:do try{if(en!==0&&Lt!==null){var s=Lt,l=Li;switch(en){case 8:tS(),o=6;break e;case 3:case 2:case 9:case 6:Ji.current===null&&(e=!0);var u=en;if(en=0,Li=null,ff(t,s,l,u),n&&vd){o=0;break e}break;default:u=en,en=0,Li=null,ff(t,s,l,u)}}c$(),o=qn;break}catch(c){vO(t,c)}while(!0);return e&&t.shellSuspendCounter++,Ko=Wu=null,Yt=r,vt.H=i,vt.A=a,Lt===null&&(An=null,Ft=0,wv()),o}function c$(){for(;Lt!==null;)wO(Lt)}function f$(t,e){var n=Yt;Yt|=2;var r=bO(),i=xO();An!==t||Ft!==e?(Qg=null,Xg=zi()+500,$f(t,e)):vd=TA(t,e);e:do try{if(en!==0&&Lt!==null){e=Lt;var a=Li;t:switch(en){case 1:en=0,Li=null,ff(t,e,a,1);break;case 2:case 9:if(qT(a)){en=0,Li=null,dC(e);break}e=function(){en!==2&&en!==9||An!==t||(en=7),wo(t)},a.then(e,e);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:qT(a)?(en=0,Li=null,dC(e)):(en=0,Li=null,ff(t,e,a,7));break;case 5:var o=null;switch(Lt.tag){case 26:o=Lt.memoizedState;case 5:case 27:var s=Lt;if(o?qO(o):s.stateNode.complete){en=0,Li=null;var l=s.sibling;if(l!==null)Lt=l;else{var u=s.return;u!==null?(Lt=u,Mv(u)):Lt=null}break t}}en=0,Li=null,ff(t,e,a,5);break;case 6:en=0,Li=null,ff(t,e,a,6);break;case 8:tS(),qn=6;break e;default:throw Error(Fe(462))}}d$();break}catch(c){vO(t,c)}while(!0);return Ko=Wu=null,vt.H=r,vt.A=i,Yt=n,Lt!==null?0:(An=null,Ft=0,wv(),qn)}function d$(){for(;Lt!==null&&!j7();)wO(Lt)}function wO(t){var e=KM(t.alternate,t,ls);t.memoizedProps=t.pendingProps,e===null?Mv(t):Lt=e}function dC(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=aC(n,e,e.pendingProps,e.type,void 0,Ft);break;case 11:e=aC(n,e,e.pendingProps,e.type.render,e.ref,Ft);break;case 5:B5(e);default:JM(n,e),e=Lt=J6(e,ls),e=KM(n,e,ls)}t.memoizedProps=t.pendingProps,e===null?Mv(t):Lt=e}function ff(t,e,n,r){Ko=Wu=null,B5(e),wf=null,Mp=0;var i=e.return;try{if(e$(t,i,e,n,Ft)){qn=1,Yg(t,va(n,t.current)),Lt=null;return}}catch(a){if(i!==null)throw Lt=i,a;qn=1,Yg(t,va(n,t.current)),Lt=null;return}e.flags&32768?($t||r===1?t=!0:vd||Ft&536870912?t=!1:(il=t=!0,(r===2||r===9||r===3||r===6)&&(r=Ji.current,r!==null&&r.tag===13&&(r.flags|=16384))),SO(e,t)):Mv(e)}function Mv(t){var e=t;do{if(e.flags&32768){SO(e,il);return}t=e.return;var n=r$(e.alternate,e,ls);if(n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);qn===0&&(qn=5)}function SO(t,e){do{var n=i$(t.alternate,t);if(n!==null){n.flags&=32767,Lt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=n}while(t!==null);qn=6,Lt=null}function hC(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do Ov();while(pr!==0);if(Yt&6)throw Error(Fe(327));if(e!==null){if(e===t.current)throw Error(Fe(177));if(a=e.lanes|e.childLanes,a|=C5,V7(t,n,a,o,s,l),t===An&&(Lt=An=null,Ft=0),Ff=e,pl=t,ts=n,Ux=a,qx=i,AO=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,m$(Rg,function(){return EO(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=vt.T,vt.T=null,i=Kt.p,Kt.p=2,o=Yt,Yt|=4;try{a$(t,e,n)}finally{Yt=o,Kt.p=i,vt.T=r}}pr=1,_O(),TO(),CO()}}function _O(){if(pr===1){pr=0;var t=pl,e=Ff,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=vt.T,vt.T=null;var r=Kt.p;Kt.p=2;var i=Yt;Yt|=4;try{sO(e,t);var a=Wx,o=q6(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&U6(s.ownerDocument.documentElement,s)){if(l!==null&&T5(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),v=s.textContent.length,b=Math.min(l.start,v),w=l.end===void 0?b:Math.min(l.end,v);!p.extend&&b>w&&(o=w,w=b,b=o);var y=jT(s,b),x=jT(s,w);if(y&&x&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==x.node||p.focusOffset!==x.offset)){var S=f.createRange();S.setStart(y.node,y.offset),p.removeAllRanges(),b>w?(p.addRange(S),p.extend(x.node,x.offset)):(S.setEnd(x.node,x.offset),p.addRange(S))}}}}for(f=[],p=s;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}s0=!!Gx,Wx=Gx=null}finally{Yt=i,Kt.p=r,vt.T=n}}t.current=e,pr=2}}function TO(){if(pr===2){pr=0;var t=pl,e=Ff,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=vt.T,vt.T=null;var r=Kt.p;Kt.p=2;var i=Yt;Yt|=4;try{nO(t,e.alternate,e)}finally{Yt=i,Kt.p=r,vt.T=n}}pr=3}}function CO(){if(pr===4||pr===3){pr=0,L7();var t=pl,e=Ff,n=ts,r=AO;e.subtreeFlags&10256||e.flags&10256?pr=5:(pr=0,Ff=pl=null,NO(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(hl=null),v5(n),e=e.stateNode,Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(_A,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=vt.T,i=Kt.p,Kt.p=2,vt.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{vt.T=e,Kt.p=i}}ts&3&&Ov(),wo(t),i=t.pendingLanes,n&261930&&i&42?t===Hx?lp++:(lp=0,Hx=t):lp=0,OA(0)}}function NO(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,kA(e)))}function Ov(){return _O(),TO(),CO(),EO()}function EO(){if(pr!==5)return!1;var t=pl,e=Ux;Ux=0;var n=v5(ts),r=vt.T,i=Kt.p;try{Kt.p=32>n?32:n,vt.T=null,n=qx,qx=null;var a=pl,o=ts;if(pr=0,Ff=pl=null,ts=0,Yt&6)throw Error(Fe(331));var s=Yt;if(Yt|=4,dO(a.current),uO(a,a.current,o,n),Yt=s,OA(0,!1),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(_A,a)}catch{}return!0}finally{Kt.p=i,vt.T=r,NO(t,e)}}function pC(t,e,n){e=va(n,e),e=Lx(t.stateNode,e,2),t=dl(t,e,2),t!==null&&(CA(t,2),wo(t))}function tn(t,e,n){if(t.tag===3)pC(t,t,n);else for(;e!==null;){if(e.tag===3){pC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hl===null||!hl.has(r))){t=va(n,t),n=HM(2),r=dl(e,n,2),r!==null&&(zM(n,r,e,t),CA(r,2),wo(r));break}}e=e.return}}function Qb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Z5=!0,i.add(n),t=h$.bind(null,t,e,n),e.then(t,t))}function h$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,An===t&&(Ft&n)===n&&(qn===4||qn===3&&(Ft&62914560)===Ft&&300>zi()-kv?!(Yt&2)&&$f(t,0):eS|=n,Rf===Ft&&(Rf=0)),wo(t)}function kO(t,e){e===0&&(e=b6()),t=Gu(t,e),t!==null&&(CA(t,e),wo(t))}function p$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kO(t,n)}function A$(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),kO(t,n)}function m$(t,e){return m5(t,e)}var e0=null,Gc=null,zx=!1,t0=!1,Zb=!1,ol=0;function wo(t){t!==Gc&&t.next===null&&(Gc===null?e0=Gc=t:Gc=Gc.next=t),t0=!0,zx||(zx=!0,v$())}function OA(t,e){if(!Zb&&t0){Zb=!0;do for(var n=!1,r=e0;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Gi(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,AC(r,a))}else a=Ft,a=vv(r,r===An?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||TA(r,a)||(n=!0,AC(r,a));r=r.next}while(n);Zb=!1}}function g$(){PO()}function PO(){t0=zx=!1;var t=0;ol!==0&&E$()&&(t=ol);for(var e=zi(),n=null,r=e0;r!==null;){var i=r.next,a=MO(r,e);a===0?(r.next=null,n===null?e0=i:n.next=i,i===null&&(Gc=n)):(n=r,(t!==0||a&3)&&(t0=!0)),r=i}pr!==0&&pr!==5||OA(t),ol!==0&&(ol=0)}function MO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Gi(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=z7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=An,n=Ft,n=vv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(en===2||en===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Nb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||TA(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Nb(r),v5(n)){case 2:case 8:n=v6;break;case 32:n=Rg;break;case 268435456:n=y6;break;default:n=Rg}return r=OO.bind(null,t),n=m5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Nb(r),t.callbackPriority=2,t.callbackNode=null,2}function OO(t,e){if(pr!==0&&pr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ov()&&t.callbackNode!==n)return null;var r=Ft;return r=vv(t,t===An?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(gO(t,r,e),MO(t,zi()),t.callbackNode!=null&&t.callbackNode===n?OO.bind(null,t):null)}function AC(t,e){if(Ov())return null;gO(t,e,!0)}function v$(){P$(function(){Yt&6?m5(g6,g$):PO()})}function nS(){if(ol===0){var t=If;t===0&&(t=Pm,Pm<<=1,!(Pm&261888)&&(Pm=256)),ol=t}return ol}function mC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gg(""+t)}function gC(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function y$(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=mC((i[Si]||null).action),o=r.submitter;o&&(e=(e=o[Si]||null)?mC(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new yv("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ol!==0){var l=o?gC(i,o):new FormData(i);Ix(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?gC(i,o):new FormData(i),Ix(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var e1=0;e1<wx.length;e1++){var t1=wx[e1],b$=t1.toLowerCase(),x$=t1[0].toUpperCase()+t1.slice(1);Xa(b$,"on"+x$)}Xa(z6,"onAnimationEnd");Xa(V6,"onAnimationIteration");Xa(G6,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(RF,"onTransitionRun");Xa(FF,"onTransitionStart");Xa($F,"onTransitionCancel");Xa(W6,"onTransitionEnd");Of("onMouseEnter",["mouseout","mouseover"]);Of("onMouseLeave",["mouseout","mouseover"]);Of("onPointerEnter",["pointerout","pointerover"]);Of("onPointerLeave",["pointerout","pointerover"]);Hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ip="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ip));function DO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){$g(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){$g(c)}i.currentTarget=null,a=l}}}}function jt(t,e){var n=e[px];n===void 0&&(n=e[px]=new Set);var r=t+"__bubble";n.has(r)||(IO(e,t,2,!1),n.add(r))}function n1(t,e,n){var r=0;e&&(r|=4),IO(n,t,r,e)}var Bm="_reactListening"+Math.random().toString(36).slice(2);function rS(t){if(!t[Bm]){t[Bm]=!0,T6.forEach(function(n){n!=="selectionchange"&&(w$.has(n)||n1(n,!1,t),n1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bm]||(e[Bm]=!0,n1("selectionchange",!1,e))}}function IO(t,e,n,r){switch(WO(e)){case 2:var i=J$;break;case 8:i=X$;break;default:i=sS}n=i.bind(null,e,n,t),i=void 0,!yx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function r1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=tf(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}D6(function(){var u=a,c=x5(n),f=[];e:{var h=Y6.get(t);if(h!==void 0){var p=yv,v=t;switch(t){case"keypress":if(yg(n)===0)break e;case"keydown":case"keyup":p=AF;break;case"focusin":v="focus",p=Ob;break;case"focusout":v="blur",p=Ob;break;case"beforeblur":case"afterblur":p=Ob;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=TT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vF;break;case z6:case V6:case G6:p=oF;break;case W6:p=bF;break;case"scroll":case"scrollend":p=tF;break;case"wheel":p=wF;break;case"copy":case"cut":case"paste":p=lF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=NT;break;case"toggle":case"beforetoggle":p=_F}var b=(e&4)!==0,w=!b&&(t==="scroll"||t==="scrollend"),y=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,S;x!==null;){var T=x;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||y===null||(T=Cp(x,y),T!=null&&b.push(jp(x,T,S))),w)break;x=x.return}0<b.length&&(h=new p(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==vx&&(v=n.relatedTarget||n.fromElement)&&(tf(v)||v[pd]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?tf(v):null,v!==null&&(w=SA(v),b=v.tag,v!==w||b!==5&&b!==27&&b!==6)&&(v=null)):(p=null,v=u),p!==v)){if(b=TT,T="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=NT,T="onPointerLeave",y="onPointerEnter",x="pointer"),w=p==null?h:Vh(p),S=v==null?h:Vh(v),h=new b(T,x+"leave",p,n,c),h.target=w,h.relatedTarget=S,T=null,tf(c)===u&&(b=new b(y,x+"enter",v,n,c),b.target=S,b.relatedTarget=w,T=b),w=T,p&&v)t:{for(b=S$,y=p,x=v,S=0,T=y;T;T=b(T))S++;T=0;for(var C=x;C;C=b(C))T++;for(;0<S-T;)y=b(y),S--;for(;0<T-S;)x=b(x),T--;for(;S--;){if(y===x||x!==null&&y===x.alternate){b=y;break t}y=b(y),x=b(x)}b=null}else b=null;p!==null&&vC(f,h,p,b,!1),v!==null&&w!==null&&vC(f,w,v,b,!0)}}e:{if(h=u?Vh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=MT;else if(PT(h))if($6)k=IF;else{k=OF;var E=MF}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&b5(u.elementType)&&(k=MT):k=DF;if(k&&(k=k(t,u))){F6(f,k,n,c);break e}E&&E(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&gx(h,"number",h.value)}switch(E=u?Vh(u):window,t){case"focusin":(PT(E)||E.contentEditable==="true")&&(af=E,bx=u,Zh=null);break;case"focusout":Zh=bx=af=null;break;case"mousedown":xx=!0;break;case"contextmenu":case"mouseup":case"dragend":xx=!1,LT(f,n,c);break;case"selectionchange":if(LF)break;case"keydown":case"keyup":LT(f,n,c)}var M;if(_5)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else rf?L6(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(j6&&n.locale!=="ko"&&(rf||I!=="onCompositionStart"?I==="onCompositionEnd"&&rf&&(M=I6()):(rl=c,w5="value"in rl?rl.value:rl.textContent,rf=!0)),E=n0(u,I),0<E.length&&(I=new CT(I,t,null,n,c),f.push({event:I,listeners:E}),M?I.data=M:(M=R6(n),M!==null&&(I.data=M)))),(M=CF?NF(t,n):EF(t,n))&&(I=n0(u,"onBeforeInput"),0<I.length&&(E=new CT("onBeforeInput","beforeinput",null,n,c),f.push({event:E,listeners:I}),E.data=M)),y$(f,t,u,n,c)}DO(f,e)})}function jp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function n0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Cp(t,n),i!=null&&r.unshift(jp(t,i,a)),i=Cp(t,e),i!=null&&r.push(jp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function S$(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Cp(n,a),u!=null&&o.unshift(jp(n,u,l))):i||(u=Cp(n,a),u!=null&&o.push(jp(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _$=/\r\n?/g,T$=/\u0000|\uFFFD/g;function yC(t){return(typeof t=="string"?t:""+t).replace(_$,`
`).replace(T$,"")}function jO(t,e){return e=yC(e),yC(t)===e}function sn(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Df(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Df(t,""+r);break;case"className":Dm(t,"class",r);break;case"tabIndex":Dm(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Dm(t,n,r);break;case"style":O6(t,r,a);break;case"data":if(e!=="object"){Dm(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=gg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&sn(t,e,"name",i.name,i,null),sn(t,e,"formEncType",i.formEncType,i,null),sn(t,e,"formMethod",i.formMethod,i,null),sn(t,e,"formTarget",i.formTarget,i,null)):(sn(t,e,"encType",i.encType,i,null),sn(t,e,"method",i.method,i,null),sn(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=gg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Yo);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Fe(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Fe(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=gg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":jt("beforetoggle",t),jt("toggle",t),mg(t,"popover",r);break;case"xlinkActuate":Lo(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Lo(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Lo(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Lo(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Lo(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Lo(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Lo(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Lo(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Lo(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":mg(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Z7.get(n)||n,mg(t,n,r))}}function Vx(t,e,n,r,i,a){switch(n){case"style":O6(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Fe(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Fe(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Df(t,r):(typeof r=="number"||typeof r=="bigint")&&Df(t,""+r);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Si]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):mg(t,n,r)}}}function Rr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Fe(137,e));default:sn(t,e,a,o,n,null)}}i&&sn(t,e,"srcSet",n.srcSet,n,null),r&&sn(t,e,"src",n.src,n,null);return;case"input":jt("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(Fe(137,e));break;default:sn(t,e,r,c,n,null)}}k6(t,a,s,l,u,o,i,!1);return;case"select":jt("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:sn(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?yf(t,!!r,e,!1):n!=null&&yf(t,!!r,n,!0);return;case"textarea":jt("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(Fe(91));break;default:sn(t,e,o,s,n,null)}M6(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:sn(t,e,l,r,n,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(r=0;r<Ip.length;r++)jt(Ip[r],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Fe(137,e));default:sn(t,e,u,r,n,null)}return;default:if(b5(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Vx(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&sn(t,e,s,r,n,null))}function C$(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||sn(t,e,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Fe(137,e));break;default:p!==f&&sn(t,e,h,p,r,f)}}mx(t,o,s,l,u,c,a,i);return;case"select":p=o=s=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||sn(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&sn(t,e,i,a,r,l)}e=s,n=o,r=p,h!=null?yf(t,!!n,h,!1):!!r!=!!n&&(e!=null?yf(t,!!n,e,!0):yf(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:sn(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Fe(91));break;default:i!==a&&sn(t,e,o,i,r,a)}P6(t,h,p);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:sn(t,e,v,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:sn(t,e,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&sn(t,e,b,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Fe(137,e));break;default:sn(t,e,u,h,r,p)}return;default:if(b5(e)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!r.hasOwnProperty(w)&&Vx(t,e,w,void 0,r,h);for(c in r)h=r[c],p=n[c],!r.hasOwnProperty(c)||h===p||h===void 0&&p===void 0||Vx(t,e,c,h,r,p);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&sn(t,e,y,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||h==null&&p==null||sn(t,e,f,h,r,p)}function bC(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N$(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&bC(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&bC(f)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gx=null,Wx=null;function r0(t){return t.nodeType===9?t:t.ownerDocument}function xC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LO(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Yx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var i1=null;function E$(){var t=window.event;return t&&t.type==="popstate"?t===i1?!1:(i1=t,!0):(i1=null,!1)}var RO=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0,wC=typeof Promise=="function"?Promise:void 0,P$=typeof queueMicrotask=="function"?queueMicrotask:typeof wC<"u"?function(t){return wC.resolve(null).then(t).catch(M$)}:RO;function M$(t){setTimeout(function(){throw t})}function Ml(t){return t==="head"}function SC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Uf(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")up(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,up(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[NA]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&up(t.ownerDocument.body);n=i}while(n);Uf(e)}function _C(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Kx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Kx(n),y5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function O$(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[NA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Sa(t.nextSibling),t===null)break}return null}function D$(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Sa(t.nextSibling),t===null))return null;return t}function FO(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Sa(t.nextSibling),t===null))return null;return t}function Jx(t){return t.data==="$?"||t.data==="$~"}function Xx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function I$(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Qx=null;function TC(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Sa(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function CC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function $O(t,e,n){switch(e=r0(n),t){case"html":if(t=e.documentElement,!t)throw Error(Fe(452));return t;case"head":if(t=e.head,!t)throw Error(Fe(453));return t;case"body":if(t=e.body,!t)throw Error(Fe(454));return t;default:throw Error(Fe(451))}}function up(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);y5(t)}var Ca=new Map,NC=new Set;function i0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=Kt.d;Kt.d={f:j$,r:L$,D:R$,C:F$,L:$$,m:B$,X:q$,S:U$,M:H$};function j$(){var t=hs.f(),e=Pv();return t||e}function L$(t){var e=Ad(t);e!==null&&e.tag===5&&e.type==="form"?OM(e):hs.r(t)}var yd=typeof document>"u"?null:document;function BO(t,e,n){var r=yd;if(r&&typeof e=="string"&&e){var i=ga(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),NC.has(i)||(NC.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Rr(e,"link",t),Tr(e),r.head.appendChild(e)))}}function R$(t){hs.D(t),BO("dns-prefetch",t,null)}function F$(t,e){hs.C(t,e),BO("preconnect",t,e)}function $$(t,e,n){hs.L(t,e,n);var r=yd;if(r&&t&&e){var i='link[rel="preload"][as="'+ga(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ga(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+ga(n.imageSizes)+'"]')):i+='[href="'+ga(t)+'"]';var a=i;switch(e){case"style":a=Bf(t);break;case"script":a=bd(t)}Ca.has(a)||(t=Mn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ca.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(DA(a))||e==="script"&&r.querySelector(IA(a))||(e=r.createElement("link"),Rr(e,"link",t),Tr(e),r.head.appendChild(e)))}}function B$(t,e){hs.m(t,e);var n=yd;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+ga(r)+'"][href="'+ga(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=bd(t)}if(!Ca.has(a)&&(t=Mn({rel:"modulepreload",href:t},e),Ca.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(IA(a)))return}r=n.createElement("link"),Rr(r,"link",t),Tr(r),n.head.appendChild(r)}}}function U$(t,e,n){hs.S(t,e,n);var r=yd;if(r&&t){var i=vf(r).hoistableStyles,a=Bf(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(DA(a)))s.loading=5;else{t=Mn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ca.get(a))&&iS(t,n);var l=o=r.createElement("link");Tr(l),Rr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Ng(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function q$(t,e){hs.X(t,e);var n=yd;if(n&&t){var r=vf(n).hoistableScripts,i=bd(t),a=r.get(i);a||(a=n.querySelector(IA(i)),a||(t=Mn({src:t,async:!0},e),(e=Ca.get(i))&&aS(t,e),a=n.createElement("script"),Tr(a),Rr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function H$(t,e){hs.M(t,e);var n=yd;if(n&&t){var r=vf(n).hoistableScripts,i=bd(t),a=r.get(i);a||(a=n.querySelector(IA(i)),a||(t=Mn({src:t,async:!0,type:"module"},e),(e=Ca.get(i))&&aS(t,e),a=n.createElement("script"),Tr(a),Rr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function EC(t,e,n,r){var i=(i=ul.current)?i0(i):null;if(!i)throw Error(Fe(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Bf(n.href),n=vf(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Bf(n.href);var a=vf(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(DA(t)))&&!a._p&&(o.instance=a,o.state.loading=5),Ca.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ca.set(t,n),a||z$(i,t,n,o.state))),e&&r===null)throw Error(Fe(528,""));return o}if(e&&r!==null)throw Error(Fe(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=bd(n),n=vf(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Fe(444,t))}}function Bf(t){return'href="'+ga(t)+'"'}function DA(t){return'link[rel="stylesheet"]['+t+"]"}function UO(t){return Mn({},t,{"data-precedence":t.precedence,precedence:null})}function z$(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Rr(e,"link",n),Tr(e),t.head.appendChild(e))}function bd(t){return'[src="'+ga(t)+'"]'}function IA(t){return"script[async]"+t}function kC(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ga(n.href)+'"]');if(r)return e.instance=r,Tr(r),r;var i=Mn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Tr(r),Rr(r,"style",i),Ng(r,n.precedence,t),e.instance=r;case"stylesheet":i=Bf(n.href);var a=t.querySelector(DA(i));if(a)return e.state.loading|=4,e.instance=a,Tr(a),a;r=UO(n),(i=Ca.get(i))&&iS(r,i),a=(t.ownerDocument||t).createElement("link"),Tr(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Rr(a,"link",r),e.state.loading|=4,Ng(a,n.precedence,t),e.instance=a;case"script":return a=bd(n.src),(i=t.querySelector(IA(a)))?(e.instance=i,Tr(i),i):(r=n,(i=Ca.get(a))&&(r=Mn({},n),aS(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Tr(i),Rr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Fe(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Ng(r,n.precedence,t));return e.instance}function Ng(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function iS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function aS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Eg=null;function PC(t,e,n){if(Eg===null){var r=new Map,i=Eg=new Map;i.set(n,r)}else i=Eg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[NA]||a[Ir]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function MC(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function V$(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function qO(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function G$(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Bf(r.href),a=e.querySelector(DA(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=a0.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Tr(a);return}a=e.ownerDocument||e,r=UO(r),(i=Ca.get(i))&&iS(r,i),a=a.createElement("link"),Tr(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Rr(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=a0.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var a1=0;function W$(t,e){return t.stylesheets&&t.count===0&&kg(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&kg(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&a1===0&&(a1=62500*N$());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kg(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>a1?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function a0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var o0=null;function kg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,o0=new Map,e.forEach(Y$,t),o0=null,a0.call(t))}function Y$(t,e){if(!(e.state.loading&4)){var n=o0.get(t);if(n)var r=n.get(null);else{n=new Map,o0.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=a0.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Lp={$$typeof:Wo,Provider:null,Consumer:null,_currentValue:bu,_currentValue2:bu,_threadCount:0};function K$(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eb(0),this.hiddenUpdates=Eb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function HO(t,e,n,r,i,a,o,s,l,u,c,f){return t=new K$(t,e,n,o,l,u,c,f,s),e=1,a===!0&&(e|=24),a=$i(3,null,null,e),t.current=a,a.stateNode=t,e=M5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},I5(a),t}function zO(t){return t?(t=lf,t):lf}function VO(t,e,n,r,i,a){i=zO(i),r.context===null?r.context=i:r.pendingContext=i,r=fl(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=dl(t,r,e),n!==null&&(wi(n,t,e),tp(n,t,e))}function OC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function oS(t,e){OC(t,e),(t=t.alternate)&&OC(t,e)}function GO(t){if(t.tag===13||t.tag===31){var e=Gu(t,67108864);e!==null&&wi(e,t,67108864),oS(t,67108864)}}function DC(t){if(t.tag===13||t.tag===31){var e=Wi();e=g5(e);var n=Gu(t,e);n!==null&&wi(n,t,e),oS(t,e)}}var s0=!0;function J$(t,e,n,r){var i=vt.T;vt.T=null;var a=Kt.p;try{Kt.p=2,sS(t,e,n,r)}finally{Kt.p=a,vt.T=i}}function X$(t,e,n,r){var i=vt.T;vt.T=null;var a=Kt.p;try{Kt.p=8,sS(t,e,n,r)}finally{Kt.p=a,vt.T=i}}function sS(t,e,n,r){if(s0){var i=Zx(r);if(i===null)r1(t,e,r,l0,n),IC(t,r);else if(Z$(i,t,e,n,r))r.stopPropagation();else if(IC(t,r),e&4&&-1<Q$.indexOf(t)){for(;i!==null;){var a=Ad(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=au(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Gi(o);s.entanglements[1]|=l,o&=~l}wo(a),!(Yt&6)&&(Xg=zi()+500,OA(0))}}break;case 31:case 13:s=Gu(a,2),s!==null&&wi(s,a,2),Pv(),oS(a,2)}if(a=Zx(r),a===null&&r1(t,e,r,l0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else r1(t,e,r,null,n)}}function Zx(t){return t=x5(t),lS(t)}var l0=null;function lS(t){if(l0=null,t=tf(t),t!==null){var e=SA(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=d6(e),t!==null)return t;t=null}else if(n===31){if(t=h6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return l0=t,null}function WO(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(R7()){case g6:return 2;case v6:return 8;case Rg:case F7:return 32;case y6:return 268435456;default:return 32}default:return 32}}var e2=!1,Al=null,ml=null,gl=null,Rp=new Map,Fp=new Map,Qs=[],Q$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IC(t,e){switch(t){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":Rp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fp.delete(e.pointerId)}}function Nh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ad(e),e!==null&&GO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Z$(t,e,n,r,i){switch(e){case"focusin":return Al=Nh(Al,t,e,n,r,i),!0;case"dragenter":return ml=Nh(ml,t,e,n,r,i),!0;case"mouseover":return gl=Nh(gl,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rp.set(a,Nh(Rp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Fp.set(a,Nh(Fp.get(a)||null,t,e,n,r,i)),!0}return!1}function YO(t){var e=tf(t.target);if(e!==null){var n=SA(e);if(n!==null){if(e=n.tag,e===13){if(e=d6(n),e!==null){t.blockedOn=e,vT(t.priority,function(){DC(n)});return}}else if(e===31){if(e=h6(n),e!==null){t.blockedOn=e,vT(t.priority,function(){DC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vx=r,n.target.dispatchEvent(r),vx=null}else return e=Ad(n),e!==null&&GO(e),t.blockedOn=n,!1;e.shift()}return!0}function jC(t,e,n){Pg(t)&&n.delete(e)}function eB(){e2=!1,Al!==null&&Pg(Al)&&(Al=null),ml!==null&&Pg(ml)&&(ml=null),gl!==null&&Pg(gl)&&(gl=null),Rp.forEach(jC),Fp.forEach(jC)}function Um(t,e){t.blockedOn===e&&(t.blockedOn=null,e2||(e2=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,eB)))}var qm=null;function LC(t){qm!==t&&(qm=t,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,function(){qm===t&&(qm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(lS(r||n)===null)continue;break}var a=Ad(n);a!==null&&(t.splice(e,3),e-=3,Ix(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Uf(t){function e(l){return Um(l,t)}Al!==null&&Um(Al,t),ml!==null&&Um(ml,t),gl!==null&&Um(gl,t),Rp.forEach(e),Fp.forEach(e);for(var n=0;n<Qs.length;n++){var r=Qs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)YO(n),n.blockedOn===null&&Qs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Si]||null;if(typeof a=="function")o||LC(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Si]||null)s=o.formAction;else if(lS(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),LC(n)}}}function KO(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function uS(t){this._internalRoot=t}Dv.prototype.render=uS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));var n=e.current,r=Wi();VO(n,r,t,e,null,null)};Dv.prototype.unmount=uS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;VO(t.current,2,null,t,null,null),Pv(),e[pd]=null}};function Dv(t){this._internalRoot=t}Dv.prototype.unstable_scheduleHydration=function(t){if(t){var e=_6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qs.length&&e!==0&&e<Qs[n].priority;n++);Qs.splice(n,0,t),n===0&&YO(t)}};var RC=c6.version;if(RC!=="19.2.0")throw Error(Fe(527,RC,"19.2.0"));Kt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=P7(e),t=t!==null?p6(t):null,t=t===null?null:t.stateNode,t};var tB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:vt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{_A=Hm.inject(tB),Vi=Hm}catch{}}mv.createRoot=function(t,e){if(!f6(t))throw Error(Fe(299));var n=!1,r="",i=BM,a=UM,o=qM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=HO(t,1,!1,null,null,n,r,null,i,a,o,KO),t[pd]=e.current,rS(t),new uS(e)};mv.hydrateRoot=function(t,e,n){if(!f6(t))throw Error(Fe(299));var r=!1,i="",a=BM,o=UM,s=qM,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=HO(t,1,!0,e,n??null,r,i,l,a,o,s,KO),e.context=zO(null),n=e.current,r=Wi(),r=g5(r),i=fl(r),i.callback=null,dl(n,i,r),n=r,e.current.lanes=n,CA(e,n),wo(e),t[pd]=e.current,rS(t),new Dv(e)};mv.version="19.2.0";function JO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JO)}catch(t){console.error(t)}}JO(),i6.exports=mv;var nB=i6.exports;const rB=Jt(nB);var wr=(t=>(t.POS="POS",t.Products="Products",t.Services="Services",t.Finance="Finance",t.Customers="Customers",t.Suppliers="Suppliers",t.Categories="Categories",t.Settings="Settings",t))(wr||{});const FC={fr:{appTitle:"Systme de Point de Vente",logout:"Dconnexion",by:"par",save:"Enregistrer",cancel:"Annuler",add:"Ajouter",delete:"Supprimer",edit:"Modifier",close:"Fermer",export:"Exporter",print:"Imprimer",actions:"Actions",name:"Nom",phone:"Tlphone",email:"Email",address:"Adresse",ice:"ICE",description:"Description",amount:"Montant",price:"Prix",stock:"Stock",barcode:"Code-barres",quantity:"Quantit",date:"Date",total:"Total",profit:"Bnfice",role:"Rle",admin:"Admin",seller:"Vendeur",category:"Catgorie",supplier:"Fournisseur",customer:"Client",all:"Tout",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois-ci",customRange:"Priode personnalise",filterByPeriod:"Filtrer par priode :",goBack:"Retour",selectCategory:"Choisir une catgorie",selectSupplier:"Choisir un fournisseur",noDataToExport:"Aucune donne  exporter.",debt:"Dette",product:"Produit",loading:"Chargement des donnes",copy:"Copier",copied:"Copi!",searchByName:"Rechercher par nom...",noResultsFound:"Aucun rsultat trouv.",variant:"Variante",details:"Dtails",pricePlaceholder:"0.00",expenses:"Dpenses",history:"Historique",page:"Page",previous:"Prcdent",next:"Suivant",login:"Connexion",loginToYourAccount:"Connectez-vous  votre compte",emailAddress:"Adresse e-mail",password:"Mot de passe",pin:"Code PIN",superAdminPin:"Code PIN Super Admin",invalidCredentialsError:"Identifiants incorrects. Veuillez ressayer.",invalidApiKeyError:"Cl API Supabase invalide. Veuillez vrifier la cl dans le fichier supabaseClient.ts. Elle doit correspondre  la cl 'anon (public)' de votre projet Supabase.",storeDisabledError:"Ce magasin est dsactiv. Veuillez contacter le support technique.",activateYourCompany:"Activer votre application",enterLicenseKey:"Veuillez entrer votre cl de licence pour continuer.",licenseKey:"Cl de licence",activate:"Activer",backToLogin:"Retour",forStore:"Pour le magasin : {storeName}",activationSuccess:"Application active avec succs! Vous pouvez maintenant vous connecter.",invalidActivationCode:"Code d'activation invalide ou ne correspondant pas  ce magasin.",licenseInUse:"Cette cl de licence est dj utilise sur un autre appareil.",tamperedLicenseError:"La licence est invalide ou l'application a t dplace. Veuillez contacter le support.",storeNotFound:"Aucun magasin trouv avec cet identifiant.",enterKeyOrSuperAdminId:"Entrez la cl de licence ou l'ID Super Admin",superAdminLogin:"Connexion Super Admin",enterSuperAdminPin:"Veuillez entrer le code PIN Super Admin",passwordOrPin:"Mot de passe ou Code PIN",rememberPin:"Se souvenir du code",trialDaysRemaining:"Vous avez {days} jour(s) restant(s) sur votre priode d'essai.",trialExpiredError:"Votre priode d'essai a expir. L'application est maintenant verrouille.",reactivationSuccess:"Licence ractive avec succs! Vous pouvez maintenant vous connecter.",trialEnded:"Priode d'essai termine",changeLicenseOrSuperAdmin:"Changer de licence / Connexion Super Admin",quickLogin:"Accs Rapide",orActivateAnotherLicense:"Ou activer une autre licence",loginTo:"Connexion  {storeName}",unknownError:"Une erreur inattendue est survenue. Veuillez ressayer.",trialHasExpired:"Votre priode d'essai a expir",contactAdminToActivate:"Veuillez contacter le support technique pour obtenir votre code d'activation permanent.",superAdminActivation:"Activation par l'administrateur",enterSuperAdminPinToActivate:"Entrez le code PIN de l'administrateur pour activer ce magasin.",activatePermanently:"Activer Dfinitivement",enterActivationCode:"Entrez le code d'activation",activateApplication:"Activer l'application",activationSuccessReload:"Activation russie ! L'application va redmarrer.",activationCode:"Code d'activation",permanentActivationCode:"Code d'activation permanent",failedToFetchError_CORS:"La requte rseau a chou. Causes possibles : 1) Votre projet Supabase est en pause (ractivez-le sur le tableau de bord Supabase). 2) Problme de CORS (vrifiez les origines autorises dans les paramtres API de Supabase). 3) Bloqueur de publicits ou problme de rseau. Veuillez vrifier ces points et ressayer.",pos:"Point de Vente",products:"Produits",services:"Services",finance:"Finances",customers:"Clients",suppliers:"Fournisseurs",categories:"Catgories",settings:"Paramtres",superAdminDashboard:"Tableau de bord Super Admin",addStore:"Ajouter un nouveau magasin",storeName:"Nom du magasin",storeLogo:"Logo du magasin (optionnel)",adminEmail:"E-mail de l'administrateur",adminPassword:"Mot de passe initial de l'administrateur",addStoreButton:"Crer le magasin",storeCreatedSuccess:"Magasin cr! Voici les informations de connexion :",manageStores:"Grer les magasins existants",storeUsersAndPins:"Utilisateurs et codes d'accs :",saveChanges:"Enregistrer les modifications",addSeller:"Ajouter un nouveau vendeur",newSellerPinPlaceholder:"Code PIN du nouveau vendeur",deleteStore:"Supprimer",deleteStoreConfirm:'tes-vous sr de vouloir supprimer le magasin "{storeName}" ? Toutes ses donnes (produits, ventes, etc.) seront dfinitivement supprimes. Cette action est irrversible.',storeDeletedSuccess:'Le magasin "{storeName}" a t supprim avec succs.',storeDeleteError:"Une erreur s'est produite lors de la suppression du magasin.",fillAllFieldsError:"Veuillez remplir tous les champs obligatoires.",pinUpdateSuccess:"Les identifiants ont t mis  jour avec succs.",enterNewSellerPin:"Veuillez entrer un code PIN pour le nouveau vendeur.",storeStatus_licensed:"Licenci",storeStatus_notActivated:"En attente d'activation",storeStatus_active:"Actif",storeStatus_inactive:"Inactif",toggleStoreStatus:"Changer l'tat du magasin",noStoresAdded:"Aucun magasin ajout.",newPassword:"Nouveau mot de passe",newPin:"Nouveau code PIN",trialPeriodDays:"Priode d'essai (jours) (0 pour permanent)",trialDurationDisplay:"Essai : {days} jours",superAdminPortal:"Portail Super Admin",manageAllStores:"Grer Tous les Magasins",manageAllStoresDesc:"Ajouter, supprimer ou grer les informations d'identification de tous les magasins.",loginToStore:"Se Connecter  un Magasin",loginToStoreDesc:"Accdez au tableau de bord d'un magasin en tant qu'administrateur pour le support.",selectStoreToLogin:"Slectionnez un magasin pour vous connecter :",loginAsAdmin:"Connexion Admin",noAdminForStore:"Erreur : Aucun utilisateur administrateur trouv pour ce magasin.",backToPortal:"Retour au Portail",returnToPortal:"Retour au Portail",permanentActivation:"Activation permanente",confirmPermanentActivation:`tes-vous sr de vouloir activer dfinitivement le magasin "{storeName}" ? Cela mettra fin  la priode d'essai et ne pourra pas tre annul.`,permanentActivationDesc:"Ceci accordera une licence complte au magasin et mettra fin  la priode d'essai.",generateActivationCode:"Gnrer un code d'activation",activationCodeForStore:"Code d'activation pour {storeName}",copyAndSendToClient:"Copiez ce code et envoyez-le au client pour l'activation permanente.",activationCode_copied:"Code copi !",enableAiScan:"Activer le scan IA",aiScanEnabled:"Scan IA Activ",aiScanDisabled:"Scan IA Dsactiv",aiScanFeatureDescription:"Activer la fonctionnalit d'ajout d'articles par scan de reu via IA.",useThisToLoginFirst:"Utilisez cette cl sur l'cran d'activation initial pour accder au magasin.",useThisPasswordAfter:"Aprs avoir utilis la cl de licence, utilisez ce mot de passe sur l'cran de connexion du magasin.",activateImmediately:"Activer immdiatement",activateImmediatelyDesc:"Le magasin sera actif et prt  l'emploi ds sa cration.",activeOnCreation:"Activ  la cration",inactiveOnCreation:"Inactif  la cration",adminDashboard:"Tableau de bord admin",storeLabel:"Magasin :",welcome:"Bonjour,",returnMode:"Retour",saleMode:"Vente",barcodeScannerActive:"Scanner de code-barres actif",scanToAdd:"Scannez le code-barres d'un produit pour l'ajouter au panier.",manualAdd:"Ajout manuel",filterByCategory:"Filtrer par catgorie",searchPlaceholder:"Ou rechercher un produit par nom...",productNotFound:"Aucun produit trouv avec le code-barres : {barcode}",productAdded:"Ajout : {productName}",productOutOfStock:'Le produit "{productName}" est en rupture de stock.',notEnoughStock:`Impossible d'ajouter plus de "{productName}". Stock insuffisant.`,invoice:"Facture",returnReceipt:"Bon de retour",clearCart:"Vider le panier",emptyCart:"Le panier est vide",totalLabel:"Total ({count} produits)",downPayment:"Acompte :",remaining:"Restant :",refundAmount:"Montant  rembourser :",processReturn:"Traiter le retour",emptyCartError:"Le panier est vide !",cashCustomer:"Client comptant",debtPayment:"Paiement de dette",orderForm:"Bon de Commande",subtotal:"Sous-total",vat:"TVA (20%)",totalTTC:"Total TTC",totalHT:"Total HT",prixHT:"Prix HT",discount:"Remise",manualTotal:"Total manuel",finalizeAndPrintInvoice:"Finaliser & Facture (TTC)",finalizeAndPrintOrderForm:"Finaliser & Bon de Cde",variants:"variantes",selectVariantFor:"Slectionner une variante pour",selectVariant:"Slectionner une variante",outOfStock:"Rupture de stock",scanReceipt:"Scanner le Reu",scanning:"Analyse en cours...",receiptScanError:"Erreur lors de l'analyse du reu.",itemsAddedFromReceipt:"{count} articles ajouts depuis le reu.",semiWholesalePrice:"Prix demi-gros",wholesalePrice:"Prix de gros",priceLevel:"Niveau de prix",priceLevels:"Niveaux de Prix",unitPrice:"Prix Unitaire",unit:"Dtail",semiWholesale:"Demi-Gros",wholesale:"Gros",addCustomItem:"Ajouter Article Personnalis",customItemName:"Nom de l'article",unitPriceLabel:"Prix Unitaire",itemNamePlaceholder:"Ex: Prestation Spciale",customItemAdded:"Article personnalis ajout",enterItemDetails:"Saisir les dtails de l'article",geminiApiKeyNotConfigured:"La cl API Gemini n'est pas configure pour le scan de reu.",addNewProduct:"Ajouter un nouveau produit",productImagePreview:"Aperu de l'image",editProduct:"Modifier le produit",productInfo:"Informations sur le produit",productName:"Nom du produit",productNamePlaceholder:"Ex: T-shirt en coton",productVariants:"Variantes du produit",addVariant:"Ajouter une variante",variantName:"Nom de la variante",variantNamePlaceholder:"Ex: Rouge, XL",purchasePrice:"Prix d'achat",sellingPrice:"Prix de vente",stockQuantity:"Quantit en stock",lowStockThreshold:"Seuil de stock bas",barcodePlaceholder:"Scanner ou saisir le code-barres",saveProduct:"Enregistrer le produit",productList:"Liste des produits",searchProducts:"Rechercher des produits...",exportToPdf:"Exporter en PDF",productNameTable:"Nom du produit",variantNameTable:"Variante",priceTable:"Prix de vente",printBarcodeLabel:"Imprimer l'tiquette du code-barres",fillNameAndPriceError:"Veuillez saisir un nom et un prix valides pour toutes les variantes.",confirmProductDelete:"tes-vous sr de vouloir supprimer ce produit et toutes ses variantes ?",noProductsAdded:"Aucun produit ajout pour le moment.",noProductsInCategory:"Aucun produit dans cette catgorie.",uncategorized:"Hors catgorie",noVariants:"Pas de variantes",sellingPriceMustBeHigherError:"Le prix de vente doit tre suprieur au prix d'achat.",addStockFor:"Ajouter du stock pour {name}",addStock:"Ajouter au stock",quantityToAdd:"Quantit  ajouter",fillAllFields:"Veuillez remplir tous les champs.",addNewService:"Ajouter un nouveau service",serviceName:"Nom du service",defaultPrice:"Prix par dfaut",saveService:"Enregistrer le service",serviceList:"Liste des services",noServicesAdded:"Aucun service ajout.",serviceNamePlaceholder:"Ex: Rparation d'cran",service:"Service",editService:"Modifier le service",confirmServiceDelete:"tes-vous sr de vouloir supprimer cette service ?",serviceAddedSuccess:'Service "{name}" ajout avec succs.',serviceUpdatedSuccess:'Service "{name}" mis  jour avec succs.',financialOverview:"Aperu financier",netRevenue:"Revenu net",totalRevenueMinusReturns:"Revenu total moins les retours",netProfit:"Bnfice net",realizedProfitMinusExpenses:"Bnfice ralis moins les dpenses",customerDebts:"Dettes clients",clickToViewDetails:"Cliquez pour voir les dtails",totalExpenses:"Total des dpenses",salesPerformance:"Performance des ventes",topSellingProducts:"Produits les plus vendus",units:"units",sales:"Ventes",salesHistory:"Historique des ventes",invoiceNumber:"Facture N",viewDetails:"Voir les dtails",billNumber:"N de facture:",downPaymentLabel:"Acompte",remainingAmountLabel:"Reste  payer",itemsLabel:"Articles",noSalesForPeriod:"Aucune vente enregistre pour cette priode.",debtorCustomers:"Clients dbiteurs",debtAmount:"Montant de la dette",noDebtorCustomers:"Aucun client dbiteur.",returnHistory:"Historique des retours",returnId:"Retour N",refundAmountLabel:"Montant rembours",profitLost:"Bnfice perdu",returnedItems:"Articles retourns",noReturnsForPeriod:"Aucun retour enregistr pour cette priode.",deleteHistory:"Supprimer l'historique",manageExpenses:"Gestion des dpenses",addExpense:"Ajouter une dpense",expenseHistory:"Historique des dpenses",noExpensesForPeriod:"Aucune dpense pour cette priode.",totalCostOfGoods:"Cot total des achats",totalSupplierDebt:"Dette Fournisseur Totale",allPurchasesHistory:"Historique de tous les achats",noPurchasesRecorded:"Aucun achat enregistr.",supplierDebtsList:"Liste des dettes fournisseurs",noSupplierDebt:"Aucune dette envers les fournisseurs.",sellerReportsAndZReport:"Rapports Vendeur & Rapport Z",netActivity:"Activit nette",totalSales:"Ventes totales",totalReturns:"Retours totaux",numberOfSales:"{count} ventes",numberOfReturns:"{count} retours",transactionList:"Liste des transactions",transactionType:"Type",noTransactionsForSeller:"Aucune transaction pour ce vendeur/priode.",type:"Type",sale:"Vente",return:"Retour",saving:"Enregistrement...",profitLabel:"Bnfice",customItemRevenue:"Revenus Articles Personnaliss",fromManuallyAddedItems:"Provenant des articles ajouts manuellement",customItemsDetails:"Dtails des Articles Personnaliss",totalCustomRevenue:"Total Revenus Personnaliss",customItemsInSale:"Articles personnaliss dans cette vente",userName:"Nom de l'utilisateur",pinMin4Digits:"Code PIN (minimum 4 chiffres)",userList:"Liste des utilisateurs",resetPinFor:"Rinitialiser le code PIN pour {name}",currentPassword:"Mot de passe actuel",confirmNewPassword:"Confirmer le nouveau mot de passe",changePassword:"Changer le mot de passe",pinMustBe4Chars:"Le code PIN doit comporter au moins 4 chiffres.",userExistsError:'Un utilisateur avec le nom "{name}" existe dj.',userAddedSuccess:'Utilisateur "{name}" ajout avec succs.',pinUpdatedForUser:"Code PIN mis  jour pour {name}.",confirmUserDelete:"tes-vous sr de vouloir supprimer l'utilisateur {name} ?",cannotDeleteAdmin:"Vous ne pouvez pas supprimer l'utilisateur administrateur.",currentPasswordIncorrect:"Le mot de passe actuel est incorrect.",newPasswordEmpty:"Le nouveau mot de passe ne peut pas tre vide.",passwordsDoNotMatch:"Les nouveaux mots de passe ne correspondent pas.",passwordChangedSuccess:"Mot de passe chang avec succs.",backupAndRestore:"Sauvegarde et Restauration",backupButton:"Sauvegarder les donnes",backupDescription:"Crez une sauvegarde de toutes vos donnes (produits, ventes, etc.). Conservez ce fichier en lieu sr.",restoreButton:"Restaurer les donnes",restoreDescription:"Restaurer les donnes depuis un fichier. ATTENTION : Cela remplacera toutes les donnes actuelles.",restoreConfirm:"tes-vous sr de vouloir restaurer les donnes ? Toutes les donnes actuelles seront crases. Cette action est irrversible.",restoreSuccess:"Restauration russie. L'application va redmarrer.",restoreError:"Le fichier de sauvegarde est invalide ou corrompu.",jsonParseError:"Le texte coll n'est pas un JSON valide. Assurez-vous d'avoir copi l'intgralit du contenu de votre fichier de sauvegarde .json, en commenant par `{` et en terminant par `}`.",restoreFromText:"Restaurer depuis le texte",pasteBackupContent:"Collez ici l'intgralit du contenu de votre fichier de sauvegarde .json.",restoreFromTextDescription:"Ceci est la mthode recommande. Elle vite les problmes potentiels de tlversement de fichier.",restoreFromFileAlternative:"Alternativement, restaurer depuis un fichier...",storeSettings:"Paramtres du Magasin",storeNameLabel:"Nom du Magasin",storeAddress:"Adresse",storeICE:"Numro ICE",storeLogoLabel:"Logo du Magasin",changeLogo:"Changer le logo",saveStoreChanges:"Enregistrer les modifications",storeUpdateSuccess:"Informations du magasin mises  jour avec succs.",storeUpdateError:"Erreur lors de la mise  jour des informations.",logoPreview:"Aperu du logo",addNewCustomer:"Ajouter un nouveau client",addCustomer:"Ajouter le client",customerList:"Liste des clients",nameAndPhoneRequired:"Le nom et le tlphone sont obligatoires.",customerExistsError:"Un client avec le numro de tlphone {phone} existe dj.",customerAddedSuccess:'Client "{name}" ajout avec succs.',customerDeletedSuccess:'Client "{name}" supprim avec succs.',customerDeleteError:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',customerDeleteErrorHasDebt:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',noCustomersAdded:"Aucun client ajout pour le moment.",debtManagement:"Gestion de la dette",totalDebt:"Dette totale :",paymentAmount:"Montant du paiement",recordPayment:"Enregistrer le paiement",manageDebt:"Grer la dette",enterValidPayment:"Veuillez saisir un montant de paiement valide.",paying:"Paiement...",confirmCustomerDelete:'tes-vous sr de vouloir supprimer le client "{name}" ?',printDebtReport:"Imprimer le rapport de dette",debtReportFor:"Rapport de dette pour {name}",printAllDebtReports:"Imprimer tous les rapports de dettes",noDebtsToReport:"Aucune dette  signaler.",purchaseHistoryFor:"Historique d'achats pour {name}",totalPurchases:"Total des achats",currentDebt:"Dette actuelle",printReport:"Imprimer le rapport",invoiceHistory:"Historique des factures",noInvoicesFound:"Aucune facture trouve pour ce client.",addNewSupplier:"Ajouter un nouveau fournisseur",addSupplier:"Ajouter le fournisseur",supplierList:"Liste des fournisseurs",supplierExistsError:"Un fournisseur avec le numro de tlphone {phone} existe dj.",supplierAddedSuccess:'Fournisseur "{name}" ajout avec succs.',supplierDeletedSuccess:'Fournisseur "{name}" supprim avec succs.',supplierDeleteError:'Impossible de supprimer le fournisseur "{name}" car il y a une dette en cours.',supplierDeleteErrorHasDebt:'Impossible de supprimer le fournisseur "{name}" car il y a une dette de {debt} DH.',noSuppliersAdded:"Aucun fournisseur ajout.",newPurchase:"Nouvel achat",purchaseHistory:"S ",managePayments:" ",supplierDebt:" ",noDebt:"  ",newPurchaseFor:"   {name}",addProductsToPurchase:"   ",selectProducts:"  ",orAddNewProductPrompt:"  ",addNewProductButton:"  ",saveAndAddToList:"   ",noProductsInPurchase:"       .",totalAmount:" ",paymentMethod:" ",amountToPay:" ",cash:"",card:" ",transfer:" ",check:"",amountPaid:" ",remainingDebt:" ",completePurchase:" ",noPurchasesYet:"       .",purchaseDate:" ",purchaseDetails:" ",reference:"",referencePlaceholder:":   123  ...",paymentRecorded:"   .",confirmSupplierDelete:'        "{name}"',addNewCategory:"  ",categoryName:" ",categoryList:" ",noCategoriesAdded:"    .",categoryNameEmptyError:"      .",categoryExistsError:'  "{name}"  .',categoryAddedSuccess:'   "{name}" .',categoryUpdatedSuccess:'   "{name}" .',confirmCategoryDelete:'        "{name}"',categoryDeleteError:"         .",editCategory:" ",categoryDeletedSuccess:'   "{name}" .',lowStockAlert:"  ",lowStockMessage:"     .    .",unknown:" ",invoiceTitle:"",orderFormTitle:" ",invoiceAddress:" ",thankYou:" !",productColumn:"",returnReceiptTitle:" ",returnIdLabel:"  ",optional:"",purchase_ref_initial_stock:" ",purchase_ref_stock_adjustment:" ",supabaseConfigErrorTitle:"   Supabase",supabaseConfigErrorSubtitle:" API     .     .",supabaseConfigErrorInstruction:"   `{fileName}`      :",supabaseConfigErrorHint:"          Supabase.        .",supabaseConfigComment1:"// --- :   API    ---",supabaseConfigComment2:"//      'anon'     Supabase (  'publishable').",supabaseConfigComment3:"//    :   Supabase ->  -> API.",supabaseConfigComment4:'//         "eyJ...".',supabaseConfigKeyWarning:" :    `publishable` (   `sb_publishable_`).     `anon` ()     ."},ar:{appTitle:"  ",logout:" ",by:"",save:"",cancel:"",add:"",delete:"",edit:"",close:"",export:"",print:"",actions:"",name:"",phone:"",email:" ",address:"",ice:"ICE",description:"",amount:"",price:"",stock:"",barcode:"",quantity:"",date:"",total:"",profit:"",role:"",admin:"",seller:"",category:"",supplier:"",customer:"",all:"",today:"",thisWeek:" ",thisMonth:" ",customRange:" ",filterByPeriod:"   :",goBack:"",selectCategory:" ",selectSupplier:" ",noDataToExport:"   .",debt:"",product:"",loading:"  ",copy:"",copied:" !",searchByName:" ...",noResultsFound:"    .",variant:"",details:"",pricePlaceholder:"0.00",expenses:"",history:"",page:"",previous:"",next:"",login:" ",loginToYourAccount:"   ",emailAddress:" ",password:" ",pin:" ",superAdminPin:"   ",invalidCredentialsError:"   .    .",invalidApiKeyError:" API Supabase  .       supabaseClient.ts.     'anon (public)'   Supabase.",storeDisabledError:"  .    .",activateYourCompany:" ",enterLicenseKey:"    .",licenseKey:" ",activate:"",backToLogin:"",forStore:": {storeName}",activationSuccess:"   !    .",invalidActivationCode:"        .",licenseInUse:"       .",tamperedLicenseError:"      .   .",storeNotFound:"      .",enterKeyOrSuperAdminId:"      ",superAdminLogin:"  ",enterSuperAdminPin:"     ",passwordOrPin:"    ",rememberPin:" ",trialDaysRemaining:" {days}     .",trialExpiredError:"  .   .",reactivationSuccess:"    !    .",trialEnded:"  ",changeLicenseOrSuperAdmin:"  /   ",quickLogin:" ",orActivateAnotherLicense:"   ",loginTo:"  {storeName}",unknownError:"   .   .",trialHasExpired:"  ",contactAdminToActivate:"           .",superAdminActivation:"   ",enterSuperAdminPinToActivate:"      .",activatePermanently:" ",enterActivationCode:"  ",activateApplication:" ",activationSuccessReload:"  !    .",activationCode:" ",permanentActivationCode:"  ",failedToFetchError_CORS:"  .  : 1)  Supabase     (    ). 2)    CORS (       API). 3)      .        .",pos:" ",products:"",services:"",finance:"",customers:"",suppliers:"",categories:"",settings:"",superAdminDashboard:"   ",addStore:"  ",storeName:" ",storeLogo:"  ()",adminEmail:"  ",adminPassword:"   ",addStoreButton:" ",storeCreatedSuccess:"  !    :",manageStores:"  ",storeUsersAndPins:"  :",saveChanges:" ",addSeller:"  ",newSellerPinPlaceholder:"   ",deleteStore:"",deleteStoreConfirm:'        "{storeName}"     (  )  .      .',storeDeletedSuccess:'   "{storeName}" .',storeDeleteError:"    .",fillAllFieldsError:"    .",pinUpdateSuccess:"    .",enterNewSellerPin:"     .",storeStatus_licensed:"",storeStatus_notActivated:"  ",storeStatus_active:"",storeStatus_inactive:" ",toggleStoreStatus:"  ",noStoresAdded:"    .",newPassword:"  ",newPin:"  ",trialPeriodDays:"  () (0 )",trialDurationDisplay:": {days} ",superAdminPortal:"  ",manageAllStores:"  ",manageAllStoresDesc:"         .",loginToStore:"   ",loginToStoreDesc:"      .",selectStoreToLogin:"   :",loginAsAdmin:" ",noAdminForStore:":        .",backToPortal:"  ",returnToPortal:"  ",permanentActivation:" ",confirmPermanentActivation:'        "{storeName}"            .',permanentActivationDesc:"       .",generateActivationCode:"  ",activationCodeForStore:"    {storeName}",copyAndSendToClient:"      .",activationCode_copied:"  !",enableAiScan:"   ",aiScanEnabled:" ",aiScanDisabled:" ",aiScanFeatureDescription:"        .",useThisToLoginFirst:"         .",useThisPasswordAfter:"             .",activateImmediately:" ",activateImmediatelyDesc:"      .",activeOnCreation:"  ",inactiveOnCreation:"   ",adminDashboard:"  ",storeLabel:":",welcome:"",returnMode:"",saleMode:"",barcodeScannerActive:"  ",scanToAdd:"     .",manualAdd:" ",filterByCategory:"  ",searchPlaceholder:"    ...",productNotFound:"     : {barcode}",productAdded:" : {productName}",productOutOfStock:' "{productName}"   .',notEnoughStock:'     "{productName}".   .',invoice:"",returnReceipt:" ",clearCart:" ",emptyCart:" ",totalLabel:" ({count} )",downPayment:" :",remaining:":",refundAmount:" :",processReturn:" ",emptyCartError:" !",cashCustomer:" ",debtPayment:" ",orderForm:" ",subtotal:" ",vat:"   (20%)",totalTTC:"  ",totalHT:"  ",prixHT:"  ",discount:"",manualTotal:" ",finalizeAndPrintInvoice:"    (TTC)",finalizeAndPrintOrderForm:"    ",variants:"",selectVariantFor:"  ",selectVariant:" ",outOfStock:"  ",scanReceipt:" ",scanning:" ...",receiptScanError:"   .",itemsAddedFromReceipt:"  {count}   .",semiWholesalePrice:"  ",wholesalePrice:" ",priceLevel:" ",priceLevels:" ",unitPrice:" ",unit:"",semiWholesale:" ",wholesale:"",addCustomItem:"  ",customItemName:" ",unitPriceLabel:" ",itemNamePlaceholder:":  ",customItemAdded:"   ",enterItemDetails:"  ",geminiApiKeyNotConfigured:" API Gemini    .",addNewProduct:"  ",productImagePreview:" ",editProduct:" ",productInfo:" ",productName:" ",productNamePlaceholder:":  ",productVariants:" ",addVariant:" ",variantName:" ",variantNamePlaceholder:":  XL",purchasePrice:" ",sellingPrice:" ",stockQuantity:"  ",lowStockThreshold:"  ",barcodePlaceholder:"   ",saveProduct:" ",productList:" ",searchProducts:"  ...",exportToPdf:"  PDF",productNameTable:" ",variantNameTable:"",priceTable:" ",printBarcodeLabel:"  ",fillNameAndPriceError:"      .",confirmProductDelete:"          ",noProductsAdded:"     .",noProductsInCategory:"     .",uncategorized:" ",noVariants:"  ",sellingPriceMustBeHigherError:"        .",addStockFor:"   {name}",addStock:"  ",quantityToAdd:" ",fillAllFields:"   .",addNewService:"  ",serviceName:" ",defaultPrice:" ",saveService:" ",serviceList:" ",noServicesAdded:"    .",serviceNamePlaceholder:":  ",service:"",editService:" ",confirmServiceDelete:"        ",serviceAddedSuccess:'   "{name}" .',serviceUpdatedSuccess:'   "{name}" .',financialOverview:"  ",netRevenue:" ",totalRevenueMinusReturns:"   ",netProfit:" ",realizedProfitMinusExpenses:"   ",customerDebts:" ",clickToViewDetails:"  ",totalExpenses:" ",salesPerformance:" ",topSellingProducts:"  ",units:"",sales:"",salesHistory:" ",invoiceNumber:" ",viewDetails:" ",billNumber:" :",downPaymentLabel:" ",remainingAmountLabel:" ",itemsLabel:"",noSalesForPeriod:"     .",debtorCustomers:" ",debtAmount:" ",noDebtorCustomers:"   .",returnHistory:" ",returnId:" ",refundAmountLabel:" ",profitLost:" ",returnedItems:" ",noReturnsForPeriod:"     .",deleteHistory:" ",manageExpenses:" ",addExpense:" ",expenseHistory:" ",noExpensesForPeriod:"    .",totalCostOfGoods:"  ",totalSupplierDebt:"  ",allPurchasesHistory:"  ",noPurchasesRecorded:"    .",supplierDebtsList:"  ",noSupplierDebt:"   .",sellerReportsAndZReport:"    Z",netActivity:" ",totalSales:" ",totalReturns:" ",numberOfSales:"{count} ",numberOfReturns:"{count} ",transactionList:" ",transactionType:"",noTransactionsForSeller:"    /.",type:"",sale:"",return:"",saving:" ...",profitLabel:"",customItemRevenue:"  ",fromManuallyAddedItems:"   ",customItemsDetails:"  ",totalCustomRevenue:"   ",customItemsInSale:"    ",userName:" ",pinMin4Digits:"  (4   )",userList:" ",resetPinFor:"     {name}",currentPassword:"  ",confirmNewPassword:"   ",changePassword:"  ",pinMustBe4Chars:"      4   .",userExistsError:'  "{name}"  .',userAddedSuccess:'   "{name}" .',pinUpdatedForUser:"     {name}.",confirmUserDelete:"        {name}",cannotDeleteAdmin:"    .",currentPasswordIncorrect:"    .",newPasswordEmpty:"       .",passwordsDoNotMatch:"    .",passwordChangedSuccess:"    .",backupAndRestore:"  ",backupButton:"  ",backupDescription:"       (  ).      .",restoreButton:" ",restoreDescription:"   . :       .",restoreConfirm:"             .      .",restoreSuccess:"  .    .",restoreError:"      .",jsonParseError:"      JSON .           .json   `{`   `}`.",restoreFromText:"  ",pasteBackupContent:"       .json  .",restoreFromTextDescription:"    .      .",restoreFromFileAlternative:"      ...",storeSettings:" ",storeNameLabel:" ",storeAddress:"",storeICE:" ICE",storeLogoLabel:" ",changeLogo:" ",saveStoreChanges:" ",storeUpdateSuccess:"    .",storeUpdateError:"   .",logoPreview:" ",addNewCustomer:"  ",addCustomer:" ",customerList:" ",nameAndPhoneRequired:"  .",customerExistsError:"   {phone}  .",customerAddedSuccess:'   "{name}" .',customerDeletedSuccess:'   "{name}" .',customerDeleteError:'    "{name}"     {debt} .',customerDeleteErrorHasDebt:'    "{name}"     {debt} .',noCustomersAdded:"     .",debtManagement:" ",totalDebt:" :",paymentAmount:" ",recordPayment:" ",manageDebt:" ",enterValidPayment:"    .",paying:" ...",confirmCustomerDelete:'        "{name}"',printDebtReport:"  ",debtReportFor:"   {name}",printAllDebtReports:"   ",noDebtsToReport:"    .",purchaseHistoryFor:"   {name}",totalPurchases:" ",currentDebt:" ",printReport:" ",invoiceHistory:" ",noInvoicesFound:"      .",addNewSupplier:"  ",addSupplier:" ",supplierList:" ",supplierExistsError:"   {phone}  .",supplierAddedSuccess:'   "{name}" .',supplierDeletedSuccess:'   "{name}" .',supplierDeleteError:'    "{name}"    .',supplierDeleteErrorHasDebt:'    "{name}"     {debt} .',noSuppliersAdded:"    .",newPurchase:" ",purchaseHistory:" ",managePayments:" ",supplierDebt:" ",noDebt:"  ",newPurchaseFor:"   {name}",addProductsToPurchase:"   ",selectProducts:"  ",orAddNewProductPrompt:"  ",addNewProductButton:"  ",saveAndAddToList:"   ",noProductsInPurchase:"       .",totalAmount:" ",paymentMethod:" ",amountToPay:" ",cash:"",card:" ",transfer:" ",check:"",amountPaid:" ",remainingDebt:" ",completePurchase:" ",noPurchasesYet:"       .",purchaseDate:" ",purchaseDetails:" ",reference:"",referencePlaceholder:":   123  ...",paymentRecorded:"   .",confirmSupplierDelete:'        "{name}"',addNewCategory:"  ",categoryName:" ",categoryList:" ",noCategoriesAdded:"    .",categoryNameEmptyError:"      .",categoryExistsError:'  "{name}"  .',categoryAddedSuccess:'   "{name}" .',categoryUpdatedSuccess:'   "{name}" .',confirmCategoryDelete:'        "{name}"',categoryDeleteError:"         .",editCategory:" ",categoryDeletedSuccess:'   "{name}" .',lowStockAlert:"  ",lowStockMessage:"     .    .",unknown:" ",invoiceTitle:"",orderFormTitle:" ",invoiceAddress:" ",thankYou:" !",productColumn:"",returnReceiptTitle:" ",returnIdLabel:"  ",optional:"",purchase_ref_initial_stock:" ",purchase_ref_stock_adjustment:" ",supabaseConfigErrorTitle:"   Supabase",supabaseConfigErrorSubtitle:" API     .     .",supabaseConfigErrorInstruction:"   `{fileName}`      :",supabaseConfigErrorHint:"          Supabase.        .",supabaseConfigComment1:"// --- :   API    ---",supabaseConfigComment2:"//      'anon'     Supabase (  'publishable').",supabaseConfigComment3:"//    :   Supabase ->  -> API.",supabaseConfigComment4:'//         "eyJ...".',supabaseConfigKeyWarning:" :    `publishable` (   `sb_publishable_`).     `anon` ()     ."}},XO=({className:t})=>m.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 297.31 290",className:t,children:[m.jsxs("defs",{children:[m.jsx("style",{children:`
                .cls-1{fill:none;}
                .cls-9{fill:#383838; direction: ltr; text-anchor: middle;}
                .dark .cls-9 { fill: #e2e8f0; }
                .cls-3{clip-path:url(#clip-path);}
                .cls-4{fill:url(#linear-gradient);}
                .cls-5{clip-path:url(#clip-path-2);}
                .cls-6{fill:url(#linear-gradient-2);}
                .cls-7{clip-path:url(#clip-path-3);}
                .cls-8{fill:url(#linear-gradient-3);}
                .cls-9{font-size:42px;font-family:Damavand-Regular;}
            `}),m.jsx("clipPath",{id:"clip-path",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M109.57,55.71a47,47,0,1,0,62.05,26.08c7.43,19.09-.76,40.37-18.67,48-18.26,7.73-39.71-1.71-47.91-21.08s0-41.34,18.22-49.07c18-7.61,39,1.42,47.51,20.19a47,47,0,0,0-61.2-24.07"})}),m.jsxs("linearGradient",{id:"linear-gradient",x1:"-661.98",y1:"962.1",x2:"-661.62",y2:"962.1",gradientTransform:"matrix(0, 241.28, 241.28, 0, -232006.06, 159777.96)",gradientUnits:"userSpaceOnUse",children:[m.jsx("stop",{offset:"0",stopColor:"#f8ed86"}),m.jsx("stop",{offset:"1",stopColor:"#e67026"})]}),m.jsx("clipPath",{id:"clip-path-2",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M124.19,100.39c-6.82-16.24-1.91-33.78,11-39.19S164,64.56,170.83,80.8s1.91,33.78-11,39.19a20.64,20.64,0,0,1-8,1.6c-10.9,0-22.21-8.22-27.66-21.2m-.88-40.94C105.39,67,97.14,88.23,104.52,107.34c0,.15.11.3.17.45s.18.45.28.67l.23.54c0,.12.1.24.16.36,8.42,18.79,29.46,27.88,47.46,20.31,18.28-7.68,26.49-29.62,18.34-49-6.23-14.84-20.22-23.88-34.64-23.88a34,34,0,0,0-13.21,2.67"})}),m.jsx("linearGradient",{id:"linear-gradient-2",x1:"-658.75",y1:"961.74",x2:"-658.39",y2:"961.74",gradientTransform:"matrix(0, -173.8, -173.8, 0, 167285.74, -114352.79)",xlinkHref:"#linear-gradient"}),m.jsx("clipPath",{id:"clip-path-3",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M200.23,52.61a392.27,392.27,0,0,0-42,10.42,44.36,44.36,0,0,1,4.52,4.37A373.26,373.26,0,0,1,201.21,58c25.59-4.64,33.87-1.82,34.68.32S232.31,68.05,210,81.4a374.37,374.37,0,0,1-35.14,18.25l-.72.33,0,0-.53.24c-11.66,5.34-24.31,10.61-37.5,15.6l-1.6.6c-6.33,2.38-12.61,4.62-18.79,6.73l0,0c-7.74,2.63-15.31,5-22.64,7.2a375.35,375.35,0,0,1-38.46,9.4c-25.59,4.63-33.88,1.81-34.68-.33s3.57-9.72,25.89-23.07A375.62,375.62,0,0,1,80.86,98.15a45.2,45.2,0,0,1,.53-6.27A391.4,391.4,0,0,0,42.9,111.69c-9.64,5.77-17,11-21.79,15.67-5.78,5.55-7.88,10.15-6.42,14s6.07,6,14.08,6.34c6.67.31,15.66-.55,26.71-2.55a389.31,389.31,0,0,0,42-10.42c7.63-2.29,15.52-4.85,23.55-7.64l.08,0q7.56-2.62,15.25-5.52,2.9-1.08,5.75-2.18c10.32-4,20.29-8.14,29.68-12.34l1-.46.08,0,1.44-.65a391.15,391.15,0,0,0,38.48-19.81c9.64-5.77,17-11,21.79-15.67,5.78-5.55,7.88-10.15,6.42-14s-6.07-6-14.07-6.34c-.9,0-1.83-.06-2.8-.06a138.81,138.81,0,0,0-23.92,2.61"})}),m.jsx("linearGradient",{id:"linear-gradient-3",x1:"-662.36",y1:"961.67",x2:"-662",y2:"961.67",gradientTransform:"matrix(0, 179.06, 179.06, 0, -172067.09, 118662.76)",xlinkHref:"#linear-gradient"})]}),m.jsx("g",{className:"cls-3",children:m.jsx("rect",{className:"cls-4",x:"54.96",y:"29.99",width:"145.51",height:"144.37",transform:"translate(-15 127.91) rotate(-37.32)"})}),m.jsx("g",{className:"cls-5",children:m.jsx("rect",{className:"cls-6",x:"80.38",y:"38.67",width:"115.7",height:"115.69",transform:"translate(-7.19 154.26) rotate(-44.55)"})}),m.jsx("g",{className:"cls-7",children:m.jsx("rect",{className:"cls-8",x:"3.22",y:"10.66",width:"249.28",height:"176.73",transform:"translate(-6.97 84.62) rotate(-21.98)"})}),m.jsx("text",{className:"cls-9",x:"148.655",y:"240",children:"Go-shop"})]}),iB="modulepreload",aB=function(t){return"/goshop0.2/"+t},$C={},Nl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=aB(l),l in $C)return;$C[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":iB,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},oB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nl(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class cS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class BC extends cS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class UC extends cS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qC extends cS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var t2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(t2||(t2={}));var sB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class lB{constructor(e,{headers:n={},customFetch:r,region:i=t2.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=oB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return sB(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:s}).catch(w=>{throw w.name==="AbortError"?w:new BC(w)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new UC(h);if(!h.ok)throw new qC(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield h.json():v==="application/octet-stream"?b=yield h.blob():v==="text/event-stream"?b=h:v==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new BC(i)}:{data:null,error:i,response:i instanceof qC||i instanceof UC?i.context:void 0}}})}}var bi={},fS={},Iv={},jA={},jv={},Lv={},uB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qf=uB();const cB=qf.fetch,QO=qf.fetch.bind(qf),ZO=qf.Headers,fB=qf.Request,dB=qf.Response,xd=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZO,Request:fB,Response:dB,default:QO,fetch:cB},Symbol.toStringTag,{value:"Module"})),hB=YP(xd);var Rv={};Object.defineProperty(Rv,"__esModule",{value:!0});let pB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Rv.default=pB;var eD=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lv,"__esModule",{value:!0});const AB=eD(hB),mB=eD(Rv);let gB=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=AB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,u;let c=null,f=null,h=null,p=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const w=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{c=JSON.parse(w),Array.isArray(c)&&a.status===404&&(f=[],c=null,p=200,v="OK")}catch{a.status===404&&w===""?(p=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new mB.default(c)}return{error:c,data:f,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Lv.default=gB;var vB=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jv,"__esModule",{value:!0});const yB=vB(Lv);let bB=class extends yB.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};jv.default=bB;var xB=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jA,"__esModule",{value:!0});const wB=xB(jv);let SB=class extends wB.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};jA.default=SB;var _B=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Iv,"__esModule",{value:!0});const Eh=_B(jA);let TB=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Eh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Eh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Eh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Eh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Eh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Iv.default=TB;var tD=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fS,"__esModule",{value:!0});const CB=tD(Iv),NB=tD(jA);let EB=class nD{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new CB.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nD(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new NB.default({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};fS.default=EB;var wd=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});bi.PostgrestError=bi.PostgrestBuilder=bi.PostgrestTransformBuilder=bi.PostgrestFilterBuilder=bi.PostgrestQueryBuilder=bi.PostgrestClient=void 0;const rD=wd(fS);bi.PostgrestClient=rD.default;const iD=wd(Iv);bi.PostgrestQueryBuilder=iD.default;const aD=wd(jA);bi.PostgrestFilterBuilder=aD.default;const oD=wd(jv);bi.PostgrestTransformBuilder=oD.default;const sD=wd(Lv);bi.PostgrestBuilder=sD.default;const lD=wd(Rv);bi.PostgrestError=lD.default;var kB=bi.default={PostgrestClient:rD.default,PostgrestQueryBuilder:iD.default,PostgrestFilterBuilder:aD.default,PostgrestTransformBuilder:oD.default,PostgrestBuilder:sD.default,PostgrestError:lD.default};const{PostgrestClient:PB,PostgrestQueryBuilder:C_e,PostgrestFilterBuilder:N_e,PostgrestTransformBuilder:E_e,PostgrestBuilder:k_e,PostgrestError:P_e}=kB;class MB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const OB="2.15.5",DB=`realtime-js/${OB}`,IB="1.0.0",n2=1e4,jB=1e3,LB=100;var cp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cp||(cp={}));var dr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dr||(dr={}));var Va;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Va||(Va={}));var r2;(function(t){t.websocket="websocket"})(r2||(r2={}));var hu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hu||(hu={}));class RB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class uD{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yn||(yn={}));const HC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=FB(o,t,e,i),a),{})},FB=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?cD(a,o):i2(o)},cD=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return qB(e,n)}switch(t){case yn.bool:return $B(e);case yn.float4:case yn.float8:case yn.int2:case yn.int4:case yn.int8:case yn.numeric:case yn.oid:return BB(e);case yn.json:case yn.jsonb:return UB(e);case yn.timestamp:return HB(e);case yn.abstime:case yn.date:case yn.daterange:case yn.int4range:case yn.int8range:case yn.money:case yn.reltime:case yn.text:case yn.time:case yn.timestamptz:case yn.timetz:case yn.tsrange:case yn.tstzrange:return i2(e);default:return i2(e)}},i2=t=>t,$B=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>cD(e,s))}return t},HB=t=>typeof t=="string"?t.replace(" ","T"):t,fD=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class o1{constructor(e,n,r={},i=n2){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zC||(zC={}));class fp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=fp.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fp.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const h=c.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),v=c.filter(w=>p.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(l[u]=b)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(p=>p.presence_ref),h=c.filter(p=>f.indexOf(p.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(VC||(VC={}));var dp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(dp||(dp={}));var Ho;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ho||(Ho={}));class dS{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new o1(this,Va.join,this.params,this.timeout),this.rejoinTimer=new uD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Va.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new fp(this),this.broadcastEndpointURL=fD(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==dr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[dp.PRESENCE]&&this.bindings[dp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Ho.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Ho.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(Ho.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<w;x++){const S=b[x],{filter:{event:T,schema:C,table:k,filter:E}}=S,M=p&&p[x];if(M&&M.event===T&&M.schema===C&&M.table===k&&M.filter===E)y.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),this.state=dr.errored,e==null||e(Ho.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ho.SUBSCRIBED);return}}).receive("error",p=>{this.state=dr.errored,e==null||e(Ho.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ho.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===dr.joined&&e===dp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Va.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new o1(this,Va.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new o1(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>LB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Va;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,b,w;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var v,b,w,y,x,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,C=(v=p.filter)===null||v===void 0?void 0:v.event;return T&&((b=n.ids)===null||b===void 0?void 0:b.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:w,commit_timestamp:y,type:x,errors:S}=v;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(v))}p.callback(h,r)})}_isClosed(){return this.state===dr.closed}_isJoined(){return this.state===dr.joined}_isJoining(){return this.state===dr.joining}_isLeaving(){return this.state===dr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&dS.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Va.close,{},e)}_onError(e){this._on(Va.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=HC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=HC(e.columns,e.old_record)),n}}const s1=()=>{},zm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zB=[1e3,2e3,5e3,1e4],VB=1e4,GB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WB{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=n2,this.transport=null,this.heartbeatIntervalMs=zm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=s1,this.ref=0,this.reconnectTimer=null,this.logger=s1,this.conn=null,this.sendBuffer=[],this.serializer=new RB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Nl(async()=>{const{default:s}=await Promise.resolve().then(()=>xd);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${r2.websocket}`,this.httpEndpoint=fD(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IB}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cp.connecting:return hu.Connecting;case cp.open:return hu.Open;case cp.closing:return hu.Closing;default:return hu.Closed}}isConnected(){return this.connectionState()===hu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new dS(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(jB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Va.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([GB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:DB};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Va.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:n2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:zm.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:s1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>zB[f-1]||VB,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class hS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function nr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class YB extends hS{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class a2 extends hS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var KB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const dD=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nl(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},JB=()=>KB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nl(()=>Promise.resolve().then(()=>xd),void 0)).Response:Response}),o2=t=>{if(Array.isArray(t))return t.map(n=>o2(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=o2(r)}),e},XB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Yu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const l1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QB=(t,e,n)=>Yu(void 0,void 0,void 0,function*(){const r=yield JB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new YB(l1(i),a,o))}).catch(i=>{e(new a2(l1(i),i))}):e(new a2(l1(t),t))}),ZB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(XB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function LA(t,e,n,r,i,a){return Yu(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,ZB(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>QB(l,s,r))})})}function u0(t,e,n,r){return Yu(this,void 0,void 0,function*(){return LA(t,"GET",e,n,r)})}function uo(t,e,n,r,i){return Yu(this,void 0,void 0,function*(){return LA(t,"POST",e,r,i,n)})}function s2(t,e,n,r,i){return Yu(this,void 0,void 0,function*(){return LA(t,"PUT",e,r,i,n)})}function eU(t,e,n,r){return Yu(this,void 0,void 0,function*(){return LA(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hD(t,e,n,r,i){return Yu(this,void 0,void 0,function*(){return LA(t,"DELETE",e,r,i,n)})}var tU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class nU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return tU(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}}var rU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class iU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new nU(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return rU(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}}var gi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const aU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oU{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=dD(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return gi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},GC),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?s2:uo)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nr(a))return{data:null,error:a};throw a}})}upload(e,n,r){return gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return gi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:GC.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield s2(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return gi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield uo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new hS("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}update(e,n,r){return gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return gi(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return gi(this,void 0,void 0,function*(){try{return{data:{path:(yield uo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return gi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield uo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return gi(this,void 0,void 0,function*(){try{const i=yield uo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>u0(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new iU(l,this.shouldThrowOnError)}info(e){return gi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield u0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:o2(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}exists(e){return gi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield eU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r)&&r instanceof a2){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return gi(this,void 0,void 0,function*(){try{return{data:yield hD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}list(e,n,r){return gi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},aU),n),{prefix:e||""});return{data:yield uo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nr(i))return{data:null,error:i};throw i}})}listV2(e,n){return gi(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield uo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const sU="2.12.2",lU={"X-Client-Info":`storage-js/${sU}`};var Ic=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class uU{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},lU),n),this.fetch=dD(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ic(this,void 0,void 0,function*(){try{return{data:yield u0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nr(e))return{data:null,error:e};throw e}})}getBucket(e){return Ic(this,void 0,void 0,function*(){try{return{data:yield u0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ic(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ic(this,void 0,void 0,function*(){try{return{data:yield s2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ic(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ic(this,void 0,void 0,function*(){try{return{data:yield hD(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nr(n))return{data:null,error:n};throw n}})}}class cU extends uU{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new oU(this.url,this.headers,e,this.fetch)}}const fU="2.58.0";let Yh="";typeof Deno<"u"?Yh="deno":typeof document<"u"?Yh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yh="react-native":Yh="node";const dU={"X-Client-Info":`supabase-js-${Yh}/${fU}`},hU={headers:dU},pU={schema:"public"},AU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mU={};var gU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const vU=t=>{let e;return t?e=t:typeof fetch>"u"?e=QO:e=fetch,(...n)=>e(...n)},yU=()=>typeof Headers>"u"?ZO:Headers,bU=(t,e,n)=>{const r=vU(n),i=yU();return(a,o)=>gU(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var xU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};function wU(t){return t.endsWith("/")?t:t+"/"}function SU(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>xU(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function _U(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pD="2.72.0",Wc=30*1e3,l2=3,u1=l2*Wc,TU="http://localhost:9999",CU="supabase.auth.token",NU={"X-Client-Info":`gotrue-js/${pD}`},u2="X-Supabase-Api-Version",AD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kU=10*60*1e3;class pS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Tt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PU extends pS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function MU(t){return Tt(t)&&t.name==="AuthApiError"}class mD extends pS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ol extends pS{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class zs extends Ol{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OU(t){return Tt(t)&&t.name==="AuthSessionMissingError"}class kh extends Ol{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vm extends Ol{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Gm extends Ol{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DU(t){return Tt(t)&&t.name==="AuthImplicitGrantRedirectError"}class WC extends Ol{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c2 extends Ol{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function c1(t){return Tt(t)&&t.name==="AuthRetryableFetchError"}class YC extends Ol{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class f2 extends Ol{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const c0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),KC=` 	
\r=`.split(""),IU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<KC.length;e+=1)t[KC[e].charCodeAt(0)]=-2;for(let e=0;e<c0.length;e+=1)t[c0[e].charCodeAt(0)]=e;return t})();function JC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(c0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(c0[r]),e.queuedBits-=6}}function gD(t,e,n){const r=IU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function XC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{RU(o,r,n)};for(let o=0;o<t.length;o+=1)gD(t.charCodeAt(o),i,a);return e.join("")}function jU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}jU(r,e)}}function RU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function FU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)gD(t.charCodeAt(i),n,r);return new Uint8Array(e)}function $U(t){const e=[];return LU(t,n=>e.push(n)),new Uint8Array(e)}function BU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>JC(i,n,r)),JC(null,n,r),e.join("")}function UU(t){return Math.round(Date.now()/1e3)+t}function qU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const da=()=>typeof window<"u"&&typeof document<"u",Zl={tested:!1,writable:!1},vD=()=>{if(!da())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zl.tested)return Zl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zl.tested=!0,Zl.writable=!0}catch{Zl.tested=!0,Zl.writable=!1}return Zl.writable};function HU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const yD=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Nl(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Yc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},eu=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Us=async(t,e)=>{await t.removeItem(e)};class Fv{constructor(){this.promise=new Fv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Fv.promiseConstructor=Promise;function f1(t){const e=t.split(".");if(e.length!==3)throw new f2("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!EU.test(e[r]))throw new f2("JWT not in base64url format");return{header:JSON.parse(XC(e[0])),payload:JSON.parse(XC(e[1])),signature:FU(e[2]),raw:{header:e[0],payload:e[1]}}}async function VU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GU(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function WU(t){return("0"+t.toString(16)).substr(-2)}function YU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,WU).join("")}async function KU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function JU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jc(t,e,n=!1){const r=YU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Yc(t,`${e}-code-verifier`,i);const a=await JU(r);return[a,r===a?"plain":"s256"]}const XU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QU(t){const e=t.headers.get(u2);if(!e||!e.match(XU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function e9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const t9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lc(t){if(!t9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function d1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QC(t){return JSON.parse(JSON.stringify(t))}var n9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r9=[502,503,504];async function ZC(t){var e;if(!zU(t))throw new c2(lu(t),0);if(r9.includes(t.status))throw new c2(lu(t),t.status);let n;try{n=await t.json()}catch(a){throw new mD(lu(a),a)}let r;const i=QU(t);if(i&&i.getTime()>=AD["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new YC(lu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new zs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new YC(lu(n),t.status,n.weak_password.reasons);throw new PU(lu(n),t.status||500,r)}const i9=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Dt(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[u2]||(a[u2]=AD["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await a9(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function a9(t,e,n,r,i,a){const o=i9(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new c2(lu(l),0)}if(s.ok||await ZC(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await ZC(l)}}function so(t){var e;let n=null;u9(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=UU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eN(t){const e=so(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function o9(t){return{data:t,error:null}}function s9(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=n9(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function l9(t){return t}function u9(t){return t.access_token&&t.refresh_token&&t.expires_in}const h1=["global","local","others"];var c9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class f9{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=yD(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=h1[0]){if(h1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${h1.join(", ")}`);try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Zs})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=c9(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:s9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Tt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zs})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:l9});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Tt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Lc(e);try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zs})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Lc(e);try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Zs})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Lc(e);try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Zs})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Lc(e.userId);try{const{data:n,error:r}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Lc(e.userId),Lc(e.id);try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}}function tN(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function d9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rc={debug:!!(globalThis&&vD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bD extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class h9 extends bD{}async function p9(t,e,n){Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Rc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new h9(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xD(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function A9(t){return parseInt(t,16)}function m9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function g9(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=xD(t.address),v=c?`${c}://${r}`:r,b=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${p}

${b}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);x+=`
- ${S}`}y+=x}return`${w}
${y}`}d9();const v9={url:TU,storageKey:CU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nN(t,e,n){return await n()}const Fc={};class $p{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$p.nextInstanceID,$p.nextInstanceID+=1,this.instanceID>0&&da()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},v9),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new f9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=yD(i.fetch),this.lock=i.lock||nN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:da()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=p9:this.lock=nN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:vD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tN(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=tN(this.memoryStorage)),da()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Fc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Fc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pD}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=HU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),da()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),DU(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Tt(n)?{error:n}:{error:new mD("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:so}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Tt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await jc(this.storage,this.storageKey)),a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:so})}else if("phone"in e){const{phone:c,password:f,options:h}=e;a=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:so})}else throw new Vm("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Tt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:eN})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:eN})}else throw new Vm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new kh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,f,h;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:b,wallet:w,statement:y,options:x}=e;let S;if(da())if(typeof w=="object")S=w;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=xD(C[0]);let E=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const I=await S.request({method:"eth_chainId"});E=A9(I)}const M={domain:T.host,address:k,statement:y,uri:T.href,version:"1",chainId:E,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=g9(M),v=await S.request({method:"personal_sign",params:[m9(p),k]})}try{const{data:b,error:w}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:so});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new kh}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(Tt(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,f,h,p;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:w,wallet:y,statement:x,options:S}=e;let T;if(da())if(typeof y=="object")T=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),x?{statement:x}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:w,error:y}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:BU(b)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:so});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new kh}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Tt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await eu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:so});if(await Us(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new kh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Tt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:so}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new kh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await jc(this.storage,this.storageKey));const{error:f}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Vm("You must provide either an email or phone number.")}catch(s){if(Tt(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:so});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await jc(this.storage,this.storageKey)),await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:o9})}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new zs;const{error:i}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Tt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Dt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await Dt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Vm("You must provide either an email or phone number and a type")}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await eu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<u1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await eu(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=d1()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zs}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zs}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Zs})})}catch(n){if(Tt(n))return OU(n)&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new zs;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await jc(this.storage,this.storageKey));const{data:u,error:c}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Zs});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zs;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=f1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Tt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new zs;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!da())throw new Gm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Gm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WC("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Gm("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const p=h-c;p*1e3<=Wc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Tt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await eu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(MU(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=qU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await jc(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return da()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Tt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GU(async i=>(i>0&&await VU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:so})),(i,a)=>{const o=200*Math.pow(2,i);return a&&c1(a)&&Date.now()+o-r<Wc})}catch(r){if(this._debug(n,"error",r),Tt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),da()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await eu(this.storage,this.storageKey);if(i&&this.userStorage){let o=await eu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Yc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:d1()}else if(i&&!i.user&&!i.user){const o=await eu(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Us(this.storage,this.storageKey+"-user"),await Yc(this.storage,this.storageKey,i)):i.user=d1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<u1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${u1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),c1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fv;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new zs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Tt(a)){const o={session:null,error:a};return c1(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Yc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=QC(i);await Yc(this.storage,this.storageKey,a)}else{const i=QC(n);await Yc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Us(this.storage,this.storageKey),await Us(this.storage,this.storageKey+"-code-verifier"),await Us(this.storage,this.storageKey+"-user"),this.userStorage&&await Us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&da()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Wc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wc}ms, refresh threshold is ${l2} ticks`),i<=l2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bD)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!da()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await jc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=f1(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+kU>i)return r;const{data:a,error:o}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=f1(r);n!=null&&n.allowExpired||ZU(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const c=e9(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,$U(`${s}.${l}`)))throw new f2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}}$p.nextInstanceID=0;const y9=$p;class b9 extends y9{constructor(e){super(e)}}var x9=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class w9{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=_U(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:pU,realtime:mU,auth:Object.assign(Object.assign({},AU),{storageKey:l}),global:hU},c=SU(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=bU(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new PB(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new cU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new lB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return x9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b9({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new WB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S9=(t,e,n)=>new w9(t,e,n);function _9(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wD="https://kclntdmvpeykknjnndeb.supabase.co",d2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjbG50ZG12cGV5a2tuam5uZGViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTk0MjEsImV4cCI6MjA3NTE3NTQyMX0.O49_JCNUZxPlp6EAqbZHUpJWYJGFBl63QsnmBICyphI";function T9(){return!!(wD.startsWith("http")&&d2&&d2.startsWith("eyJ"))}const C9=()=>T9()?S9(wD,d2):(console.error("Supabase credentials are not set correctly in supabaseClient.ts! Please provide a valid URL and public anon key."),new Proxy({},{get:(t,e)=>e==="channel"?()=>({on:()=>({subscribe:()=>({unsubscribe:()=>Promise.resolve("ok")})})}):e==="removeChannel"?()=>{}:e==="from"?()=>new Proxy({},{get:()=>()=>Promise.resolve({data:[],error:{message:"Supabase not configured"}})}):()=>{}})),Ht=C9(),Wt=(t,e)=>{if(t)throw console.error(`Supabase error in ${e}:`,t),new Error(t.message)},N9=async t=>{const{data:e,error:n}=await Ht.from("stores").select("*").eq("id",t).single();return Wt(n,"getStoreById"),e},SD=async t=>{const{data:e,error:n}=await Ht.from("stores").select("*").eq("licenseKey",t).single();return n&&n.code!=="PGRST116"&&Wt(n,"getStoreByLicenseKey"),e},E9=async(t,e)=>{if(!t.isActive)throw new Error("storeDisabledError");const{data:n,error:r}=await Ht.from("users").select("*").eq("storeId",t.id).or(`password.eq.${e},pin.eq.${e}`);if(Wt(r,"login"),n&&n.length>0)return{user:n[0],store:t};throw new Error("invalidCredentialsError")},k9=async(t,e)=>{const n="GoShop-Activation-Key-Abzn-Secret-2024";if(!e.startsWith("PERM-"))return!1;try{const r=atob(e.replace("PERM-","")),[i,a]=r.split("::");if(i===t&&a===n){const{error:o}=await Ht.from("stores").update({isActive:!0,trialStartDate:null,licenseProof:new Date().toISOString()}).eq("id",t);return Wt(o,"verifyAndActivateStoreWithCode"),!0}}catch(r){console.error("Activation code decoding failed",r)}return!1},Qa=async(t,e)=>{const{data:n,error:r}=await Ht.from(t).select("*").eq("storeId",e);return Wt(r,`getAllForStore (${t})`),n||[]},P9=t=>Qa("products",t),_D=t=>Qa("productVariants",t),M9=t=>Qa("sales",t),O9=t=>Qa("expenses",t),D9=t=>Qa("customers",t),I9=t=>Qa("suppliers",t),j9=t=>Qa("categories",t),L9=t=>Qa("purchases",t),R9=t=>Qa("stockBatches",t),F9=t=>Qa("returns",t),$9=t=>Qa("users",t),TD=async()=>{const{data:t,error:e}=await Ht.from("stores").select("*");return Wt(e,"getAllStores"),t||[]},B9=async()=>{const{data:t,error:e}=await Ht.from("users").select("*");return Wt(e,"getAllUsers"),t||[]},CD=async t=>{const{data:e,error:n}=await Ht.from("users").select("*").eq("storeId",t).eq("role","admin").single();return Wt(n,"getAdminUserForStore"),e},U9=async(t,e,n,r,i,a,o,s)=>{const l=`GO-${crypto.randomUUID().slice(0,8).toUpperCase()}`,{data:u,error:c}=await Ht.from("stores").insert({name:t,logo:e,licenseKey:l,trialDurationDays:i,address:a,ice:o,enableAiReceiptScan:s}).select().single();if(Wt(c,"createStore"),!u)throw new Error("Store creation failed");const{data:f,error:h}=await Ht.from("users").insert({name:"admin",email:r,password:n,role:"admin",storeId:u.id}).select().single();if(Wt(h,"createAdmin"),!f)throw new Error("Admin creation failed");return{store:u,user:f,licenseKey:l}},q9=async t=>{const{error:e}=await Ht.from("stores").delete().eq("id",t);Wt(e,"deleteStore")},Kc=async t=>{const{data:e,error:n}=await Ht.from("stores").update(t).eq("id",t.id).select().single();return Wt(n,"updateStore"),e},Dl=async(t,e)=>{const{data:n,error:r}=await Ht.from(t).insert(e).select().single();return Wt(r,`addSingle (${t})`),n},$v=async(t,e)=>{const{error:n}=await Ht.from(t).update(e).eq("id",e.id);Wt(n,`updateSingle (${t})`)},Ku=async(t,e)=>{const{error:n}=await Ht.from(t).delete().eq("id",e);Wt(n,`deleteSingle (${t})`)},H9=async(t,e)=>{const{data:n,error:r}=await Ht.from("products").insert(t).select().single();if(Wt(r,"addProductWithVariants (product)"),!n)throw new Error("Product creation failed");const i=e.map(u=>({...u,productId:n.id,storeId:n.storeId})),{data:a,error:o}=await Ht.from("productVariants").insert(i.map(({stockQuantity:u,...c})=>c)).select();if(Wt(o,"addProductWithVariants (variants)"),!a)throw new Error("Variants creation failed");const s=a.map((u,c)=>({variantId:u.id,quantity:e[c].stockQuantity||0,purchasePrice:u.purchasePrice,storeId:n.storeId,createdAt:new Date().toISOString()})).filter(u=>u.quantity>0);let l=[];if(s.length>0){const{data:u,error:c}=await Ht.from("stockBatches").insert(s).select();Wt(c,"addProductWithVariants (stock)"),l=u||[]}return{product:n,variants:a,stockBatches:l}},z9=async(t,e)=>{const{error:n}=await Ht.from("products").update(t).eq("id",t.id);Wt(n,"updateProductWithVariants (product)");const i=(await _D(t.storeId)).filter(h=>h.productId===t.id),a=[],o=[],s=[];for(const h of e)if(h.id){const p=i.find(v=>v.id===h.id);p&&a.push({...p,...h,id:h.id,priceSemiWholesale:h.priceSemiWholesale||0,priceWholesale:h.priceWholesale||0})}else o.push({...h,productId:t.id,storeId:t.storeId,priceSemiWholesale:h.priceSemiWholesale||0,priceWholesale:h.priceWholesale||0});let l=[];if(a.length>0){const{data:h,error:p}=await Ht.from("productVariants").upsert(a).select();Wt(p,"updateProductWithVariants (update variants)"),l=h||[]}let u=[];if(o.length>0){const{data:h,error:p}=await Ht.from("productVariants").insert(o.map(v=>({...v,stockQuantity:void 0}))).select();Wt(p,"updateProductWithVariants (insert variants)"),u=h||[],u.forEach(v=>{const b=o.find(w=>w.name===v.name);b&&"stockQuantity"in b&&b.stockQuantity>0&&s.push({variantId:v.id,quantity:b.stockQuantity,purchasePrice:v.purchasePrice,storeId:t.storeId,createdAt:new Date().toISOString()})})}const c=i.filter(h=>!e.some(p=>p.id===h.id)).map(h=>h.id);if(c.length>0){const{error:h}=await Ht.from("productVariants").delete().in("id",c);Wt(h,"updateProductWithVariants (delete variants)")}let f=[];if(s.length>0){const{data:h,error:p}=await Ht.from("stockBatches").insert(s).select();Wt(p,"updateProductWithVariants (stock)"),f=h||[]}return{updatedVariants:l,newVariants:u,deletedVariantIds:c,newStockBatches:f}},V9=t=>Ku("products",t),G9=async t=>{const e=(await Ht.from("productVariants").select("*").eq("id",t.variantId).single()).data;if(!e)throw new Error("Variant not found");const n={variantId:t.variantId,productId:e.productId,productName:"",variantName:e.name,quantity:t.quantity,purchasePrice:t.purchasePrice},r={storeId:e.storeId,supplierId:t.supplierId,date:new Date().toISOString(),items:[n],totalAmount:t.quantity*t.purchasePrice,reference:"purchase_ref_stock_adjustment",amountPaid:t.quantity*t.purchasePrice,remainingAmount:0,paymentMethod:"cash"},{data:i,error:a}=await Ht.from("purchases").insert(r).select().single();if(Wt(a,"addStock (purchase)"),!i)throw new Error("Purchase creation failed");const o={variantId:t.variantId,quantity:t.quantity,purchasePrice:t.purchasePrice,storeId:e.storeId,createdAt:new Date().toISOString()},{data:s,error:l}=await Ht.from("stockBatches").insert(o).select().single();if(Wt(l,"addStock (stock)"),!s)throw new Error("Stock batch creation failed");const u={...e,purchasePrice:t.purchasePrice,price:t.sellingPrice},{data:c,error:f}=await Ht.from("productVariants").update(u).eq("id",t.variantId).select().single();if(Wt(f,"addStock (variant update)"),!c)throw new Error("Variant update failed");return{purchase:i,newStockBatch:s,updatedVariant:c}},W9=async t=>{const{data:e,error:n}=await Ht.from("purchases").insert(t).select().single();if(Wt(n,"addPurchase"),!e)throw new Error("Purchase creation failed");const r=t.items.map(o=>({variantId:o.variantId,quantity:o.quantity,purchasePrice:o.purchasePrice,storeId:t.storeId,createdAt:t.date})),{data:i,error:a}=await Ht.from("stockBatches").insert(r).select();return Wt(a,"addPurchase (stock)"),{newPurchase:e,newStockBatches:i||[]}},Y9=t=>$v("purchases",t),K9=async(t,e,n,r,i,a)=>{const o=t.reduce((l,u)=>u.purchasePrice?l+(u.price-u.purchasePrice)*u.quantity:l+u.price*u.quantity,0),s={storeId:a,userId:i,date:new Date().toISOString(),items:t,total:r,downPayment:e,remainingAmount:r-e,profit:o,customerId:n};return Dl("sales",s)},J9=async(t,e,n)=>{const r=t.reduce((o,s)=>o+s.price*s.quantity,0),i=t.reduce((o,s)=>s.purchasePrice?o+(s.price-s.purchasePrice)*s.quantity:o,0),a={storeId:n,userId:e,date:new Date().toISOString(),items:t,refundAmount:r,profitLost:i};return Dl("returns",a)},X9=async(t,e,n,r)=>{const i={storeId:r,userId:n,customerId:t,date:new Date().toISOString(),items:[{id:`debt_payment_${Date.now()}`,productId:`debt_payment_${Date.now()}`,storeId:r,name:"Paiement de dette",price:e,quantity:1,type:"service",image:"",isCustom:!0}],total:0,downPayment:-e,remainingAmount:-e,profit:0};return Dl("sales",i)},Q9=t=>Dl("expenses",t),Z9=t=>$v("expenses",t),eq=t=>Ku("expenses",t),tq=t=>Ku("returns",t),nq=async t=>{const{error:e}=await Ht.from("returns").delete().eq("storeId",t);Wt(e,"deleteAllReturns")},rq=t=>Dl("customers",t),iq=async t=>{const{data:e,error:n}=await Ht.from("sales").select("remainingAmount").eq("customerId",t);if(Wt(n,"deleteCustomer (check debt)"),((e==null?void 0:e.reduce((i,a)=>i+a.remainingAmount,0))||0)>0)throw new Error("customerDeleteErrorHasDebt");await Ku("customers",t)},aq=t=>Dl("suppliers",t),oq=async t=>{const{data:e,error:n}=await Ht.from("purchases").select("remainingAmount").eq("supplierId",t);if(Wt(n,"deleteSupplier (check debt)"),((e==null?void 0:e.reduce((i,a)=>i+a.remainingAmount,0))||0)>0)throw new Error("supplierDeleteErrorHasDebt");await Ku("suppliers",t)},sq=t=>Dl("categories",t),lq=t=>$v("categories",t),uq=t=>Ku("categories",t),ND=t=>Dl("users",t),ED=t=>$v("users",t),cq=t=>Ku("users",t),fq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),m.jsx("path",{d:"M12 8v4l2 2"})]}),dq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),m.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),m.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),hq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),pq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"8",cy:"8",r:"6"}),m.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),m.jsx("path",{d:"M7 6h1v4"}),m.jsx("path",{d:"m16.71 13.88.7.71-2.82 2.82-.71-.71A6 6 0 0 1 7.18 6.18"})]}),vl=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),oi=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),kD=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5"}),m.jsx("path",{d:"M17 9v6"}),m.jsx("path",{d:"M13 9v6"}),m.jsx("path",{d:"M9 9v6"}),m.jsx("path",{d:"M5 9v6"})]}),AS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),mS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2a2 2 0 0 0-2-2z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Ua=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12 17v-10"}),m.jsx("path",{d:"M9 14l3 3 3-3"}),m.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"})]}),Bv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),gS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("path",{d:"M20 8v6M23 11h-6"})]}),PD=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M10 17.5V14H3V12l4-9h11v9h-3.5"}),m.jsx("path",{d:"M10 17.5h4.5l1.9-2.9"}),m.jsx("circle",{cx:"6.5",cy:"17.5",r:"2.5"}),m.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),MD=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),Uv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}),m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}),m.jsx("path",{d:"M2 7h20"}),m.jsx("path",{d:"M22 7v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7"})]}),OD=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),m.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),Ka=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})}),vS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),yS=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),Sd=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),m.jsx("polyline",{points:"12 5 19 12 12 19"})]}),RA=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),qv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),m.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),m.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),rN=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m6 9 6 6 6-6"})}),Aq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),DD=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),mq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),h2=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),m.jsx("path",{d:"m21 2-9.6 9.6"}),m.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]}),iN="Abzn11241984",gq=({onLoginSuccess:t,onSuperAdminLogin:e,t:n,language:r,setLanguage:i,theme:a,toggleTheme:o})=>{const[s,l]=re.useState("loading"),[u,c]=re.useState(null),[f,h]=re.useState(!1),[p,v]=re.useState(null),[b,w]=re.useState(""),[y,x]=re.useState(!1),[S,T]=re.useState(""),[C,k]=re.useState(""),E=re.useCallback(async()=>{h(!0);try{const G=localStorage.getItem("pos-license");if(!G){l("license_entry");return}const R=JSON.parse(G),B=await N9(R.storeId);if(B)if(B.trialStartDate){const W=new Date(B.trialStartDate),K=new Date(W);K.setDate(W.getDate()+(B.trialDurationDays??7)),new Date>K?(v(B),l("expired_trial")):(v(B),l("login"))}else v(B),l("login");else throw new Error("Store not found")}catch(G){localStorage.removeItem("pos-license"),c(n(G.message||"unknownError")||G.message),l("license_entry")}finally{h(!1)}},[n]);re.useEffect(()=>{s==="loading"&&E()},[E,s]),re.useEffect(()=>{if(s==="login"&&p){const G=localStorage.getItem(`pos-remembered-secret-${p.id}`);G?(w(G),x(!0)):(w(""),x(!1))}},[s,p]);const M=async G=>{if(G.preventDefault(),c(null),!p){c(n("unknownError")),l("license_entry");return}if(h(!0),!b){c(n("fillAllFields")),h(!1);return}try{if(b===iN){e();return}const R=await E9(p,b);y?localStorage.setItem(`pos-remembered-secret-${p.id}`,b):localStorage.removeItem(`pos-remembered-secret-${p.id}`),t(R.user,R.store)}catch(R){let B=null,W=n("unknownError");if(R&&R.message){const K=R.message.toLowerCase();K.includes("invalid api key")||K.includes("unauthorized")?B="invalidApiKeyError":(R.message==="storeNotFound"||R.message==="storeDisabledError"||R.message==="invalidCredentialsError")&&(B=R.message),W=R.message}c(B?n(B):W)}finally{h(!1)}},I=async G=>{if(G.preventDefault(),!!p){h(!0),c(null);try{if(await k9(p.id,S))alert(n("activationSuccessReload")),window.location.reload();else throw new Error("invalidActivationCode")}catch(R){const B=n(R.message)||R.message;c(B)}finally{h(!1)}}},U=async G=>{var B;G.preventDefault(),c(null),h(!0);const R=C.trim();if(!R){c(n("fillAllFields")),h(!1);return}try{if(R===iN){e();return}const W=await SD(R);if(W){const K={storeId:W.id};if(localStorage.setItem("pos-license",JSON.stringify(K)),v(W),W.trialStartDate){const Z=new Date(W.trialStartDate),se=new Date(Z);se.setDate(Z.getDate()+(W.trialDurationDays??7)),new Date>se?l("expired_trial"):l("login")}else l("login")}else c(n("invalidActivationCode"))}catch(W){console.error("Error activating store for the first time:",W),(B=W.message)!=null&&B.includes("406")?c(n("invalidActivationCode")):c(n("unknownError"))}finally{h(!1)}},O=()=>m.jsxs("form",{onSubmit:M,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("login")}),p?m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:n("forStore",{storeName:p.name})}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loginSecret",className:"sr-only",children:n("passwordOrPin")}),m.jsx("input",{id:"loginSecret",type:"password",value:b,onChange:G=>w(G.target.value),placeholder:n("passwordOrPin"),className:"w-full px-4 py-3 border rounded-lg text-center text-xl tracking-widest bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"flex items-center justify-start text-left rtl:text-right",children:[m.jsx("input",{id:"rememberMe",type:"checkbox",checked:y,onChange:G=>x(G.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-teal-600 focus:ring-teal-500 bg-gray-100 dark:bg-slate-600"}),m.jsx("label",{htmlFor:"rememberMe",className:"ml-2 rtl:mr-2 rtl:ml-0 block text-sm text-gray-700 dark:text-gray-400 cursor-pointer",children:n("rememberPin")})]})]}):m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("login")})]}),D=()=>m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n("trialHasExpired")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("contactAdminToActivate")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"activationCode",className:"sr-only",children:n("activationCode")}),m.jsx("input",{id:"activationCode",type:"text",value:S,onChange:G=>T(G.target.value),placeholder:n("enterActivationCode"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activateApplication")})]}),$=()=>m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("activateYourCompany")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("enterLicenseKey")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"licenseKey",className:"sr-only",children:n("licenseKey")}),m.jsx("input",{id:"licenseKey",type:"text",value:C,onChange:G=>k(G.target.value),placeholder:n("licenseKey"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activate")})]}),F=()=>{if(f||s==="loading")return m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]});switch(s){case"license_entry":return $();case"login":return O();case"expired_trial":return D();default:return m.jsx("button",{onClick:()=>l("loading"),className:"text-teal-600 hover:underline",children:n("reactivationSuccess")})}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsxs("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4 flex items-center gap-3",children:[m.jsx("button",{onClick:o,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:a==="light"?m.jsx(yS,{className:"w-5 h-5"}):m.jsx(vS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>i(r==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:r==="fr"?"":"Franais"})]}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(XO,{className:"w-80 h-auto mx-auto"}),m.jsxs("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]})]}),m.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-sm w-full text-center",children:[u&&m.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mb-4 bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:u}),F()]})]})},vq=({onLoginAsStoreAdmin:t,onGoToDashboard:e,onLogout:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=re.useState([]);re.useEffect(()=>{(async()=>{const h=await TD();u(h.sort((p,v)=>p.name.localeCompare(v.name)))})()},[]);const c=async f=>{try{const h=await CD(f.id);h?t(h,f):alert(r("noAdminForStore"))}catch(h){console.error("Failed to login as admin:",h),alert(`${r("unknownError")}: ${h.message}`)}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsx("header",{className:"absolute top-0 left-0 right-0 p-4",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(yS,{className:"w-5 h-5"}):m.jsx(vS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"":"Franais"})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(AS,{className:"w-5 h-5"}),m.jsx("span",{children:r("logout")})]})]})}),m.jsxs("div",{className:"text-center w-full max-w-4xl",children:[m.jsx(XO,{className:"w-64 h-auto mx-auto mb-6"}),m.jsxs("div",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-8",children:r("superAdminPortal")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",children:[m.jsx(mS,{className:"w-12 h-12 text-teal-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("manageAllStores")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("manageAllStoresDesc")})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx(Uv,{className:"w-12 h-12 text-cyan-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("loginToStore")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("loginToStoreDesc")}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700",children:[m.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-300 mb-3",children:r("selectStoreToLogin")}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:l.length>0?l.map(f=>m.jsxs("button",{onClick:()=>c(f),className:"w-full text-left rtl:text-right flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.name}),m.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-1 text-sm",children:[r("loginAsAdmin")," ",m.jsx(Sd,{className:"w-4 h-4"})]})]},f.id)):m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("noStoresAdded")})})]})]})]})]})]})},aN="https://storage.googleapis.com/appmaker-310316.appspot.com/user_4a0de5b0722a4666a2657c793742469a/app_primo_4f5f590457634f19b16ab20c918a38b2/1721066782500_834",p2=({url:t,className:e})=>{const n=t||aN,r=i=>{i.currentTarget.src=aN};return m.jsx("img",{src:n,alt:"Logo du magasin",className:e,onError:r})},Wm=({checked:t,onChange:e,labelOn:n,labelOff:r,title:i,disabled:a=!1})=>m.jsxs("label",{className:`inline-flex items-center ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`,title:i,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:t,onChange:e,className:"sr-only peer",disabled:a}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-teal-600"})]}),m.jsx("span",{className:`ml-3 text-sm font-medium ${t?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`,children:t?n:r})]}),yq=({onLoginAsStoreAdmin:t,onLogout:e,onGoBack:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{var Ae;const[l,u]=re.useState([]),[c,f]=re.useState([]),[h,p]=re.useState({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),[v,b]=re.useState(!0),[w,y]=re.useState({}),[x,S]=re.useState({}),[T,C]=re.useState(null),[k,E]=re.useState(null),[M,I]=re.useState(null),[U,O]=re.useState(null),D="GoShop-Activation-Key-Abzn-Secret-2024",$=async()=>{u((await TD()).sort((V,le)=>V.name.localeCompare(le.name))),f(await B9())};re.useEffect(()=>{$()},[]);const F=re.useMemo(()=>{const V={};for(const le of c)V[le.storeId]||(V[le.storeId]=[]),V[le.storeId].push(le);return V},[c]),G=V=>{if(V.target.files&&V.target.files[0]){const le=V.target.files[0],ce=new FileReader;ce.onloadend=()=>{p(ue=>({...ue,logo:ce.result}))},ce.readAsDataURL(le)}},R=async V=>{if(V.preventDefault(),C(null),E(null),!h.name||!h.adminPassword){alert(r("fillAllFieldsError"));return}const le=h.adminPassword,ce=h.trialDurationDays||0;try{const{licenseKey:ue}=await U9(h.name,h.logo,h.adminPassword,h.adminEmail,ce,h.address,h.ice,h.enableAiReceiptScan);if(v){const Le=await SD(ue);if(Le){const Ce={isActive:!0,licenseProof:new Date().toISOString(),trialStartDate:ce>0?new Date().toISOString():null};await Kc({...Le,...Ce})}}C(ue),E(le),p({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),b(!0);const Me=document.getElementById("logo");Me&&(Me.value=""),await $()}catch(ue){ue instanceof TypeError&&ue.message==="Failed to fetch"?alert(r("failedToFetchError_CORS")):alert(r(ue.message)||ue.message)}},B=async(V,le)=>{if(window.confirm(r("deleteStoreConfirm",{storeName:le})))try{await q9(V),alert(r("storeDeletedSuccess",{storeName:le})),await $()}catch(ce){console.error("Failed to delete store:",ce),alert(`${r("storeDeleteError")}: ${ce.message}`)}},W=(V,le)=>{y(ce=>({...ce,[V]:le}))},K=async V=>{const le=(F[V]||[]).filter(ce=>w[ce.id]!==void 0&&w[ce.id].trim()!=="");for(const ce of le)if(ce.role==="seller"&&w[ce.id].length<4){alert(r("pinMustBe4Chars"));return}if(le.length!==0){for(const ce of le){const ue={...ce};ce.role==="admin"?ue.password=w[ce.id]:ue.pin=w[ce.id],await ED(ue)}y(ce=>{const ue={...ce};return le.forEach(Me=>delete ue[Me.id]),ue}),alert(r("pinUpdateSuccess")),await $()}},Z=async V=>{const le=x[V];if(!le||le.trim()===""||le.length<4){alert(r("pinMustBe4Chars"));return}const ce=(F[V]||[]).filter(Me=>Me.role==="seller").length,ue=`${r("seller")} ${ce+1}`;await ND({name:ue,pin:le,role:"seller",storeId:V}),S(Me=>({...Me,[V]:""})),await $()},se=async V=>{if(V.isActive)await Kc({...V,isActive:!1});else{let le=!1;if(V.trialStartDate){const ce=new Date(V.trialStartDate),ue=new Date(ce);ue.setDate(ce.getDate()+(V.trialDurationDays??7)),new Date>ue&&(le=!0)}if(le)if(window.confirm(r("confirmPermanentActivation",{storeName:V.name})))await Kc({...V,isActive:!0,trialStartDate:null});else return;else await Kc({...V,isActive:!0})}await $()},L=async V=>{await Kc({...V,enableAiReceiptScan:!V.enableAiReceiptScan}),await $()},z=V=>{const le=`PERM-${btoa(`${V.id}::${D}`)}`;O({storeName:V.name,code:le})},Q=(V,le)=>{navigator.clipboard.writeText(V),I(le),setTimeout(()=>{I(null)},2e3)},te=V=>{if(!V.licenseProof)return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:r("storeStatus_notActivated")});if(V.trialStartDate){const le=new Date(V.trialStartDate),ce=new Date(le);ce.setDate(le.getDate()+(V.trialDurationDays??7));const ue=ce.getTime()-new Date().getTime();if(ue>0){const Me=Math.ceil(ue/864e5);return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-yellow-200 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",children:r("trialDaysRemaining",{days:Me})})}else return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-red-200 text-red-800 dark:bg-red-900/50 dark:text-red-300",children:r("trialEnded")})}return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-green-200 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:r("storeStatus_licensed")})},ie=async V=>{try{const le=await CD(V.id);le?t(le,V):alert(r("noAdminForStore"))}catch(le){console.error("Failed to login as admin:",le),alert(`${r("unknownError")}: ${le.message}`)}},me=()=>{if(T){const V=l.find(le=>le.licenseKey===T);V?ie(V):alert("Store data not ready. Please wait a moment and try logging in from the main list.")}};return m.jsxs("div",{className:"bg-gray-100 dark:bg-slate-900 min-h-screen",children:[U&&m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6 text-center",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("activationCodeForStore",{storeName:U.storeName})}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("copyAndSendToClient")}),m.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-between gap-4",children:[m.jsx("p",{className:"font-mono text-lg break-all text-slate-800 dark:text-slate-100",children:U.code}),m.jsx("button",{onClick:()=>Q(U.code,"activation-code"),className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-3 rounded-lg text-sm shrink-0",children:r(M==="activation-code"?"copied":"copy")})]}),m.jsx("button",{onClick:()=>O(null),className:"mt-6 bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})]})}),m.jsx("header",{className:"bg-white dark:bg-slate-800 text-white p-4 shadow-lg sticky top-0 z-40",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:[m.jsx(RA,{className:"w-5 h-5"}),m.jsx("span",{children:r("backToPortal")})]}),m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100",children:r("superAdminDashboard")}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:o==="light"?m.jsx(yS,{className:"w-5 h-5"}):m.jsx(vS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-3 py-2 text-sm font-bold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:i==="fr"?"AR":"FR"}),m.jsxs("button",{onClick:e,title:r("logout"),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(AS,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden md:inline",children:r("logout")})]})]})]})}),m.jsxs("main",{className:"container mx-auto p-4 sm:p-6 space-y-8",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(Uv,{}),r("addStore")]}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2 border-2 border-dashed rounded-lg dark:border-slate-600 row-span-2",children:[m.jsx(p2,{url:h.logo,className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200 dark:bg-slate-700"}),m.jsx("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeLogo")}),m.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:G,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeName")}),m.jsx("input",{type:"text",value:h.name,onChange:V=>p({...h,name:V.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminPassword")}),m.jsx("input",{type:"password",value:h.adminPassword,onChange:V=>p({...h,adminPassword:V.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminEmail")}),m.jsx("input",{type:"email",value:h.adminEmail,onChange:V=>p({...h,adminEmail:V.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("trialPeriodDays")}),m.jsx("input",{type:"number",min:"0",value:h.trialDurationDays,onChange:V=>p({...h,trialDurationDays:parseInt(V.target.value,10)||0}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("address")," (",r("optional"),")"]}),m.jsx("input",{type:"text",value:h.address,onChange:V=>p({...h,address:V.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("ice")," (",r("optional"),")"]}),m.jsx("input",{type:"text",value:h.ice,onChange:V=>p({...h,ice:V.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{className:"lg:col-span-3 space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ka,{className:"w-8 h-8 text-purple-500 dark:text-purple-400"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("enableAiScan")}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("aiScanFeatureDescription")})]})]}),m.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:m.jsx(Wm,{checked:h.enableAiReceiptScan,onChange:()=>p(V=>({...V,enableAiReceiptScan:!V.enableAiReceiptScan})),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})})]}),m.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(h2,{className:"w-8 h-8 text-blue-500 dark:text-blue-400"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("activateImmediately")}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("activateImmediatelyDesc")})]})]}),m.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:m.jsx(Wm,{checked:v,onChange:()=>b(V=>!V),labelOn:r("activeOnCreation"),labelOff:r("inactiveOnCreation"),title:r("activateImmediately")})})]})]})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center gap-2",children:[m.jsx(vl,{}),r("addStoreButton")]})]}),T&&k&&m.jsxs("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900/50 rounded-lg text-green-800 dark:text-green-300",children:[m.jsx("h3",{className:"font-bold",children:r("storeCreatedSuccess")}),m.jsxs("div",{className:"mt-2 space-y-4 text-sm",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[r("storeName"),":"]})," ",(Ae=l.find(V=>V.licenseKey===T))==null?void 0:Ae.name]}),m.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded border border-yellow-300 dark:border-yellow-700",children:[m.jsxs("p",{className:"font-semibold",children:[r("adminPassword"),":"]}),m.jsx("p",{className:"font-mono text-xl my-1",children:k}),m.jsx("p",{className:"text-xs",children:r("useThisPasswordAfter")})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-semibold mt-2",children:[r("licenseKey"),":"]}),m.jsx("p",{className:"text-xs mb-1",children:r("useThisToLoginFirst")}),m.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white dark:bg-slate-700 rounded-md",children:[m.jsx("p",{className:"font-mono text-lg break-all flex-grow",children:T}),m.jsx("button",{onClick:()=>Q(T,"new-key"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg text-sm",children:r(M==="new-key"?"copied":"copy")})]})]})]}),m.jsxs("button",{onClick:me,className:"mt-4 w-full bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center justify-center gap-2",children:[m.jsx(Sd,{className:"w-5 h-5"}),r("loginAsAdmin")]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("manageStores")}),m.jsx("div",{className:"space-y-6",children:l.length>0?l.map(V=>{const le=F[V.id]||[],ce=le.find(Me=>Me.role==="admin"),ue=le.filter(Me=>Me.role==="seller");return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl shadow-md border-l-4 dark:border-l-4 border-teal-500",children:[m.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-4 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(p2,{url:V.logo,className:"w-16 h-16 rounded-lg bg-white object-cover"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:V.name}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("span",{className:"text-sm font-mono text-slate-500 dark:text-slate-400",children:[r("licenseKey"),":"]}),m.jsx("span",{className:"font-mono text-sm bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded break-all",children:V.licenseKey}),m.jsx("button",{type:"button",onClick:()=>Q(V.licenseKey,V.id),className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 dark:hover:bg-teal-800/50 text-xs font-bold py-1 px-2 rounded-md",children:M===V.id?r("copied"):r("copy")})]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r("trialDurationDisplay",{days:V.trialDurationDays})})]})]}),m.jsxs("div",{className:"flex flex-col items-end gap-3",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Wm,{checked:V.isActive,onChange:()=>se(V),labelOn:r("storeStatus_active"),labelOff:r("storeStatus_inactive"),title:r("toggleStoreStatus")}),m.jsx("button",{onClick:()=>B(V.id,V.name),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:r("deleteStore"),children:m.jsx(oi,{})})]}),te(V)]})]}),m.jsxs("div",{className:"space-y-4 pt-4 border-t-2 border-dashed dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ka,{className:"w-5 h-5 text-purple-500"}),m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("enableAiScan")})]}),m.jsx(Wm,{checked:V.enableAiReceiptScan||!1,onChange:()=>L(V),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})]}),m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("storeUsersAndPins")}),m.jsxs("div",{className:"space-y-3",children:[ce&&m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{className:"font-semibold w-24",children:[r("admin")," (",ce.name,")"]}),m.jsx("input",{type:"password",placeholder:r("newPassword"),defaultValue:"",onChange:Me=>W(ce.id,Me.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),ue.map(Me=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"font-semibold w-24",children:Me.name}),m.jsx("input",{type:"password",placeholder:r("newPin"),defaultValue:"",onChange:Le=>W(Me.id,Le.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]},Me.id))]}),m.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4 mt-4",children:[m.jsx("button",{onClick:()=>K(V.id),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:r("saveChanges")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"password",placeholder:r("newSellerPinPlaceholder"),value:x[V.id]||"",onChange:Me=>S(Le=>({...Le,[V.id]:Me.target.value})),className:"p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 text-sm w-48"}),m.jsxs("button",{onClick:()=>Z(V.id),className:"bg-teal-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center text-sm",children:[m.jsx(OD,{className:"w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"}),r("add")]})]})]}),m.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg mt-4",children:[m.jsxs("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-2 flex items-center gap-2",children:[m.jsx(mS,{className:"w-5 h-5"}),r("permanentActivation")]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:r("permanentActivationDesc")}),m.jsxs("button",{onClick:()=>z(V),disabled:!V.licenseProof||!V.trialStartDate,className:"bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 dark:disabled:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(h2,{className:"w-4 h-4"}),r("generateActivationCode")]})]})]})]},V.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:r("noStoresAdded")})})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bq,xq;function wq(){return{geminiUrl:bq,vertexUrl:xq}}function Sq(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=wq();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ju{}function at(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function A(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];A(c,e.slice(a+1),n[u])}else for(const u of l)A(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];A(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>d(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _q(t){const e={},n=d(t,["operationName"]);n!=null&&A(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&A(e,["_url","resourceName"],r),e}function Tq(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&A(e,["response"],Nq(o)),e}function Cq(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response"]);return o!=null&&A(e,["response"],Eq(o)),e}function Nq(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>kq(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function Eq(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Pq(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function kq(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],Dq(n)),e}function Pq(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],Iq(n)),e}function Mq(t){const e={},n=d(t,["operationName"]);return n!=null&&A(e,["_url","operationName"],n),e}function Oq(t){const e={},n=d(t,["operationName"]);return n!=null&&A(e,["_url","operationName"],n),e}function Dq(t){const e={},n=d(t,["video","uri"]);n!=null&&A(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&A(e,["videoBytes"],bS(r));const i=d(t,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function Iq(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],bS(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oN||(oN={}));var sN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(sN||(sN={}));var Bi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Bi||(Bi={}));var lN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(lN||(lN={}));var uN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(uN||(uN={}));var cN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(cN||(cN={}));var fN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fN||(fN={}));var dN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dN||(dN={}));var hN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hN||(hN={}));var pN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(pN||(pN={}));var AN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(AN||(AN={}));var mN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(mN||(mN={}));var gN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gN||(gN={}));var vN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(vN||(vN={}));var yN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yN||(yN={}));var f0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(f0||(f0={}));var bN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bN||(bN={}));var A2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(A2||(A2={}));var xN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xN||(xN={}));var wN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wN||(wN={}));var SN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(SN||(SN={}));var _N;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(_N||(_N={}));var TN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TN||(TN={}));var CN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(CN||(CN={}));var NN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(NN||(NN={}));var EN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(EN||(EN={}));var kN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kN||(kN={}));var PN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(PN||(PN={}));var MN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(MN||(MN={}));var ON;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ON||(ON={}));var DN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(DN||(DN={}));var IN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(IN||(IN={}));var jN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jN||(jN={}));var LN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(LN||(LN={}));var RN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(RN||(RN={}));var FN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(FN||(FN={}));var $N;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($N||($N={}));var BN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(BN||(BN={}));var UN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(UN||(UN={}));var qN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qN||(qN={}));var HN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(HN||(HN={}));var zN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zN||(zN={}));var VN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(VN||(VN={}));var GN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(GN||(GN={}));var WN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(WN||(WN={}));var YN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(YN||(YN={}));var KN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KN||(KN={}));var JN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(JN||(JN={}));var df;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(df||(df={}));class m2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ph{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class XN{}class QN{}class jq{}class Lq{}class Rq{}class Fq{}class ZN{}class eE{}class tE{}class $q{}class d0{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new d0;let i;const a=e;return n?i=Cq(a):i=Tq(a),Object.assign(r,i),r}}class nE{}class rE{}class iE{}class Bq{}class Uq{}class qq{}class aE{}class Hq{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class zq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ID(t,e){const n=zt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function jD(t){return Array.isArray(t)?t.map(e=>h0(e)):[h0(t)]}function h0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function LD(t){const e=h0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RD(t){const e=h0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function FD(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>oE(e)):[oE(t)]}function g2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function sE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function lE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Jr(t){if(t==null)throw new Error("ContentUnion is required");return g2(t)?t:{role:"user",parts:FD(t)}}function xS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Jr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Jr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Jr(n)):[Jr(e)]}function _a(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(sE(t)||lE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Jr(t)]}const e=[],n=[],r=g2(t[0]);for(const i of t){const a=g2(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(sE(i)||lE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:FD(n)}),e}function Vq(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Bi).includes(n[0].toUpperCase())?n[0].toUpperCase():Bi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Bi).includes(r.toUpperCase())?r.toUpperCase():Bi.TYPE_UNSPECIFIED})}}function Tf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Vq(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Bi).includes(s.toUpperCase())?s.toUpperCase():Bi.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Tf(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Tf(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=Tf(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function wS(t){return Tf(t)}function SS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _S(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function _d(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Tf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Tf(e.response));return t}function Td(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Gq(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ps(t,e){if(typeof e!="string")throw new Error("name must be a string");return Gq(t,e,"cachedContents")}function $D(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Xu(t){return bS(t)}function Wq(t){return t!=null&&typeof t=="object"&&"name"in t}function Yq(t){return t!=null&&typeof t=="object"&&"video"in t}function Kq(t){return t!=null&&typeof t=="object"&&"uri"in t}function BD(t){var e;let n;if(Wq(t)&&(n=t.name),!(Kq(t)&&(n=t.uri,n===void 0))&&!(Yq(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function UD(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function qD(t){for(const e of["models","tunedModels","publisherModels"])if(Jq(t,e))return t[e];return[]}function Jq(t,e){return t!==null&&typeof t=="object"&&e in t}function Xq(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Qq(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=Xq(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function HD(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Zq(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zD(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Cd(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function VD(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eH(t){const e={},n=d(t,["responsesFile"]);n!=null&&A(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>qH(o))),A(e,["inlinedResponses"],a)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>BH(o))),A(e,["inlinedEmbedContentResponses"],a)}return e}function tH(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&A(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&A(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function nH(t){const e={},n=d(t,["format"]);n!=null&&A(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&A(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&A(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Jc(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&A(e,["state"],VD(i));const a=d(t,["metadata","createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["metadata","endTime"]);o!=null&&A(e,["endTime"],o);const s=d(t,["metadata","updateTime"]);s!=null&&A(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&A(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&A(e,["dest"],eH(zD(u))),e}function v2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],VD(i));const a=d(t,["error"]);a!=null&&A(e,["error"],WD(a));const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["startTime"]);s!=null&&A(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&A(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&A(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&A(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&A(e,["src"],rH(f));const h=d(t,["outputConfig"]);return h!=null&&A(e,["dest"],tH(zD(h))),e}function rH(t){const e={},n=d(t,["instancesFormat"]);n!=null&&A(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&A(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function iH(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&A(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>UH(t,o))),A(n,["requests","requests"],a)}return n}function aH(t){const e={},n=d(t,["format"]);n!=null&&A(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&A(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&A(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function oH(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function sH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function lH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Cd(t,r)),n}function uH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Cd(t,r)),n}function cH(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],pH(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],fH(r));const i=d(t,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],cz(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function fH(t){const e={},n=d(t,["citationSources"]);return n!=null&&A(e,["citations"],n),e}function dH(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function hH(t){const e={},n=d(t,["values"]);return n!=null&&A(e,["values"],n),e}function pH(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>QH(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function GD(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ZH(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function AH(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&A(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function mH(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&A(e,["outputConfig"],nH(Zq(i))),n}function p1(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["src"]);i!=null&&A(n,["batch","inputConfig"],iH(t,HD(t,i)));const a=d(e,["config"]);return a!=null&&AH(a,n),n}function gH(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],zt(t,r));const i=d(e,["src"]);i!=null&&A(n,["inputConfig"],aH(HD(t,i)));const a=d(e,["config"]);return a!=null&&mH(a,n),n}function vH(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&A(e,["batch","displayName"],r),n}function A1(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["src"]);i!=null&&A(n,["batch","inputConfig"],CH(t,i));const a=d(e,["config"]);return a!=null&&vH(a,n),n}function yH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Cd(t,r)),n}function bH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Cd(t,r)),n}function xH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);return a!=null&&A(e,["error"],TS(a)),e}function wH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);return a!=null&&A(e,["error"],WD(a)),e}function SH(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function _H(t,e){const n={},r=d(e,["contents"]);r!=null&&A(n,["requests[]","request","content"],xS(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],TH(i,n)),n}function TH(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function CH(t,e){const n={},r=d(e,["fileName"]);r!=null&&A(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&A(n,["requests"],_H(t,i)),n}function NH(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function EH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function kH(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function PH(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function MH(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function OH(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function DH(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],GD(Jr(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&A(r,["logprobs"],h);const p=d(e,["presencePenalty"]);p!=null&&A(r,["presencePenalty"],p);const v=d(e,["frequencyPenalty"]);v!=null&&A(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&A(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&A(r,["responseSchema"],rz(wS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&A(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map($=>nz($))),A(n,["safetySettings"],D)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let D=Td(T);Array.isArray(D)&&(D=D.map($=>uz(_d($)))),A(n,["tools"],D)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&A(n,["toolConfig"],lz(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&A(n,["cachedContent"],ps(t,k));const E=d(e,["responseModalities"]);E!=null&&A(r,["responseModalities"],E);const M=d(e,["mediaResolution"]);M!=null&&A(r,["mediaResolution"],M);const I=d(e,["speechConfig"]);if(I!=null&&A(r,["speechConfig"],oz(SS(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&A(r,["thinkingConfig"],sz(U));const O=d(e,["imageConfig"]);return O!=null&&A(r,["imageConfig"],$H(O)),r}function IH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>cH(u))),A(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&A(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&A(e,["usageMetadata"],s),e}function jH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Cd(t,r)),n}function LH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Cd(t,r)),n}function RH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],SH(n)),e}function FH(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],HH(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function $H(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function BH(t){const e={},n=d(t,["response"]);n!=null&&A(e,["response"],iz(n));const r=d(t,["error"]);return r!=null&&A(e,["error"],TS(r)),e}function UH(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["request","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=_a(i);Array.isArray(o)&&(o=o.map(s=>GD(s))),A(n,["request","contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["request","generationConfig"],DH(t,a,n)),n}function qH(t){const e={},n=d(t,["response"]);n!=null&&A(e,["response"],IH(n));const r=d(t,["error"]);return r!=null&&A(e,["error"],TS(r)),e}function HH(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function TS(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["code"]);r!=null&&A(e,["code"],r);const i=d(t,["message"]);return i!=null&&A(e,["message"],i),e}function WD(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["code"]);r!=null&&A(e,["code"],r);const i=d(t,["message"]);return i!=null&&A(e,["message"],i),e}function zH(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function VH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function GH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function WH(t){const e={},n=d(t,["config"]);return n!=null&&VH(n,e),e}function YH(t){const e={},n=d(t,["config"]);return n!=null&&GH(n,e),e}function KH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Jc(o))),A(e,["batchJobs"],a)}return e}function JH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>v2(o))),A(e,["batchJobs"],a)}return e}function XH(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>az(i))),A(e,["speakerVoiceConfigs"],r)}return e}function QH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],hz(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],oH(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],NH(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],kH(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function ZH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],pz(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],sH(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],EH(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],PH(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function ez(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function tz(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],zH(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function nz(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&A(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function rz(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&A(e,["maximum"],h);const p=d(t,["minItems"]);p!=null&&A(e,["minItems"],p);const v=d(t,["minLength"]);v!=null&&A(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&A(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&A(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&A(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function iz(t){const e={},n=d(t,["embedding"]);n!=null&&A(e,["embedding"],hH(n));const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function az(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],YD(r)),e}function oz(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],YD(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],XH(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function sz(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function lz(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],MH(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],tz(r)),e}function uz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>OH(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],FH(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],RH(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],fz());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],dH(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function cz(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dz(i))),A(e,["urlMetadata"],r)}return e}function fz(){return{}}function dz(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function hz(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function pz(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function YD(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],ez(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Lu||(Lu={}));class FA{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Az extends Ju{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const a=n.src;if(!(Array.isArray(n.src)||a.inlinedRequests!==void 0))return this.createInternal(n);const s=this.createInlinedGenerateContentRequest(n),l=s.path,u=s.body,c=p1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Jc(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const s=this.createInlinedEmbedContentRequest(n),l=s.path,u=s.body,c=A1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Jc(h))},this.list=async(n={})=>new FA(Lu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=p1(this.apiClient,e),r=n._url,i=at("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=A1(this.apiClient,e),r=n._url,i=at("{model}:asyncBatchEmbedContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];delete s.config;for(const c of l){const f=Object.assign({},c),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=gH(this.apiClient,e);return s=at("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>v2(c))}else{const u=p1(this.apiClient,e);return s=at("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Jc(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=A1(this.apiClient,e);return a=at("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Jc(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=LH(this.apiClient,e);return s=at("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>v2(c))}else{const u=jH(this.apiClient,e);return s=at("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Jc(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=uH(this.apiClient,e);o=at("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=lH(this.apiClient,e);o=at("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=YH(e);return s=at("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=JH(c),h=new aE;return Object.assign(h,f),h})}else{const u=WH(e);return s=at("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=KH(c),h=new aE;return Object.assign(h,f),h})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=bH(this.apiClient,e);return s=at("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>wH(c))}else{const u=yH(this.apiClient,e);return s=at("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>xH(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mz(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function gz(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],mz(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function vz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function yz(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function Mg(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["model"]);i!=null&&A(e,["model"],i);const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&A(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&A(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function Og(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["model"]);i!=null&&A(e,["model"],i);const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&A(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&A(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function bz(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function xz(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function uE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>iV(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function cE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aV(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function wz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let c=_a(o);Array.isArray(c)&&(c=c.map(f=>uE(f))),A(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&A(e,["systemInstruction"],uE(Jr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>cV(f))),A(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&A(e,["toolConfig"],lV(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Sz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let f=_a(o);Array.isArray(f)&&(f=f.map(h=>cE(h))),A(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&A(e,["systemInstruction"],cE(Jr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>fV(h))),A(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&A(e,["toolConfig"],uV(u));const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&A(e,["encryption_spec","kmsKeyName"],c),n}function _z(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],ID(t,r));const i=d(e,["config"]);return i!=null&&wz(i,n),n}function Tz(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],ID(t,r));const i=d(e,["config"]);return i!=null&&Sz(i,n),n}function Cz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],ps(t,r)),n}function Nz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],ps(t,r)),n}function Ez(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function kz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function Pz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function Mz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function Oz(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function Dz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function Iz(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function jz(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function Lz(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function Rz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function Fz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function $z(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function Bz(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function Uz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],ps(t,r)),n}function qz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],ps(t,r)),n}function Hz(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],gz(n)),e}function zz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],Pz(n)),e}function Vz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],Mz(n)),e}function Gz(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],Yz(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Wz(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],Kz(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function Yz(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function Kz(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function Jz(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function Xz(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function Qz(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function Zz(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function eV(t){const e={},n=d(t,["config"]);return n!=null&&Qz(n,e),e}function tV(t){const e={},n=d(t,["config"]);return n!=null&&Zz(n,e),e}function nV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Mg(o))),A(e,["cachedContents"],a)}return e}function rV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Og(o))),A(e,["cachedContents"],a)}return e}function iV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],vV(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],vz(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],Dz(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],jz(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function aV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],yV(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],yz(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],Iz(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],Lz(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function oV(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],Jz(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function sV(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],Xz(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function lV(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],Rz(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],oV(r)),e}function uV(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],Fz(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],sV(r)),e}function cV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>$z(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],Gz(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],zz(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],mV());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],bz(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function fV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>Bz(h))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],Wz(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],Vz(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],Oz(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],Hz(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],gV());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],xz(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function dV(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),n}function hV(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),n}function pV(t,e){const n={},r=d(e,["name"]);r!=null&&A(n,["_url","name"],ps(t,r));const i=d(e,["config"]);return i!=null&&dV(i,n),n}function AV(t,e){const n={},r=d(e,["name"]);r!=null&&A(n,["_url","name"],ps(t,r));const i=d(e,["config"]);return i!=null&&hV(i,n),n}function mV(){return{}}function gV(){return{}}function vV(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function yV(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bV extends Ju{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new FA(Lu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Tz(this.apiClient,e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Og(c))}else{const u=_z(this.apiClient,e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Mg(c))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=qz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Og(c))}else{const u=Uz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Mg(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Nz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=kz(c),h=new rE;return Object.assign(h,f),h})}else{const u=Cz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Ez(c),h=new rE;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=AV(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Og(c))}else{const u=pV(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Mg(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=tV(e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=rV(c),h=new iE;return Object.assign(h,f),h})}else{const u=eV(e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=nV(c),h=new iE;return Object.assign(h,f),h})}}}function fE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function Cf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(v){return Promise.resolve(v).then(p,f)}}function s(p,v){r[p]&&(i[p]=function(b){return new Promise(function(w,y){a.push([p,b,w,y])>1||l(p,b)})},v&&(i[p]=v(i[p])))}function l(p,v){try{u(r[p](v))}catch(b){h(a[0][3],b)}}function u(p){p.value instanceof Tn?Promise.resolve(p.value.v).then(c,f):h(a[0][2],p)}function c(p){l("next",p)}function f(p){l("throw",p)}function h(p,v){p(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function hp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fE=="function"?fE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xV(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:KD(n)}function KD(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wV(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!KD(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class SV{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _V(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _V{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),wV(a)}async sendMessage(e){var n;await this.sendPromise;const r=Jr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const p=u?[u]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Jr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?dE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Cf(this,arguments,function*(){var o,s,l,u;const c=[];try{for(var f=!0,h=hp(e),p;p=yield Tn(h.next()),o=p.done,!o;f=!0){u=p.value,f=!1;const v=u;if(xV(v)){const b=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&c.push(b)}yield yield Tn(v)}}catch(v){s={error:v}}finally{try{!f&&!o&&(l=h.return)&&(yield Tn(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...dE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Hv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TV(t){const e={},n=d(t,["file"]);return n!=null&&A(e,["file"],MV(n)),e}function CV(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function NV(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","file"],BD(n)),e}function EV(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function y2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&A(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&A(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&A(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&A(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&A(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&A(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&A(e,["state"],h);const p=d(t,["source"]);p!=null&&A(e,["source"],p);const v=d(t,["videoMetadata"]);v!=null&&A(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&A(e,["error"],kV(b)),e}function kV(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["message"]);r!=null&&A(e,["message"],r);const i=d(t,["code"]);return i!=null&&A(e,["code"],i),e}function PV(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["message"]);r!=null&&A(e,["message"],r);const i=d(t,["code"]);return i!=null&&A(e,["code"],i),e}function MV(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&A(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&A(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&A(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&A(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&A(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&A(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&A(e,["state"],h);const p=d(t,["source"]);p!=null&&A(e,["source"],p);const v=d(t,["videoMetadata"]);v!=null&&A(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&A(e,["error"],PV(b)),e}function OV(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","file"],BD(n)),e}function DV(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function IV(t){const e={},n=d(t,["config"]);return n!=null&&DV(n,e),e}function jV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>y2(o))),A(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LV extends Ju{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new FA(Lu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>y2(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=IV(e);return a=at("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=jV(l),c=new Bq;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=TV(e);return a=at("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=CV(l),c=new Uq;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OV(e);return a=at("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>y2(l))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=NV(e);return a=at("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=EV(l),c=new qq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RV(){return{}}function FV(){return{}}function $V(){return{}}function BV(){return{}}function UV(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function qV(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);r!=null&&A(e,["mimeType"],r);const i=d(t,["sourceMetadata"]);return i!=null&&A(e,["sourceMetadata"],IG(i)),e}function hE(){return{}}function pE(){return{}}function HV(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],UV(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function zV(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function VV(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function GV(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function WV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function YV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function KV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function JV(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function XV(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function QV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>QG(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function ZV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ZG(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function eG(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>eW(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function tG(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>tW(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function nG(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],cW(r)),e}function rG(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],fW(r)),e}function iG(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function aG(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function oG(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function sG(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function lG(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function uG(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function cG(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function JD(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function XD(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function fG(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function dG(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function hG(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function pG(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function AG(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],HV(n)),e}function mG(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],iG(n)),e}function gG(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],aG(n)),e}function vG(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],bG(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function yG(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],xG(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function bG(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function xG(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function wG(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],hW(_S(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","thinkingConfig"],AW(h));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&A(e,["setup","systemInstruction"],eG(Jr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Td(b);Array.isArray(k)&&(k=k.map(E=>gW(_d(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],lW(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&A(e,["setup","inputAudioTranscription"],hE());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&A(e,["setup","outputAudioTranscription"],hE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],oW(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],nG(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],iW(C)),n}function SG(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],pW(_S(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","thinkingConfig"],mW(h));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&A(e,["setup","systemInstruction"],tG(Jr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Td(b);Array.isArray(k)&&(k=k.map(E=>vW(_d(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],uW(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&A(e,["setup","inputAudioTranscription"],pE());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&A(e,["setup","outputAudioTranscription"],pE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],sW(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],rG(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],aW(C)),n}function _G(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],wG(i,n)),n}function TG(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],SG(i,n)),n}function CG(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>PW(i))),A(e,["weightedPrompts"],r)}return e}function QD(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nI(i))),A(e,["weightedPrompts"],r)}return e}function b2(t){const e={},n=d(t,["setup"]);n!=null&&A(e,["setup"],ZD(n));const r=d(t,["clientContent"]);r!=null&&A(e,["clientContent"],QD(r));const i=d(t,["musicGenerationConfig"]);i!=null&&A(e,["musicGenerationConfig"],eI(i));const a=d(t,["playbackControl"]);return a!=null&&A(e,["playbackControl"],a),e}function ZD(t){const e={},n=d(t,["model"]);return n!=null&&A(e,["model"],n),e}function NG(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["filteredReason"]);return r!=null&&A(e,["filteredReason"],r),e}function EG(t){const e={},n=d(t,["temperature"]);n!=null&&A(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&A(e,["topK"],r);const i=d(t,["seed"]);i!=null&&A(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&A(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&A(e,["bpm"],o);const s=d(t,["density"]);s!=null&&A(e,["density"],s);const l=d(t,["brightness"]);l!=null&&A(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&A(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&A(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&A(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&A(e,["onlyBassAndDrums"],h);const p=d(t,["musicGenerationMode"]);return p!=null&&A(e,["musicGenerationMode"],p),e}function eI(t){const e={},n=d(t,["temperature"]);n!=null&&A(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&A(e,["topK"],r);const i=d(t,["seed"]);i!=null&&A(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&A(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&A(e,["bpm"],o);const s=d(t,["density"]);s!=null&&A(e,["density"],s);const l=d(t,["brightness"]);l!=null&&A(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&A(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&A(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&A(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&A(e,["onlyBassAndDrums"],h);const p=d(t,["musicGenerationMode"]);return p!=null&&A(e,["musicGenerationMode"],p),e}function kG(t){const e={},n=d(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qV(i))),A(e,["audioChunks"],r)}return e}function PG(t){const e={};d(t,["setupComplete"])!=null&&A(e,["setupComplete"],MG());const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],kG(r));const i=d(t,["filteredPrompt"]);return i!=null&&A(e,["filteredPrompt"],NG(i)),e}function MG(){return{}}function OG(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&A(e,["musicGenerationConfig"],eI(n)),e}function DG(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nI(i))),A(e,["weightedPrompts"],r)}return e}function IG(t){const e={},n=d(t,["clientContent"]);n!=null&&A(e,["clientContent"],CG(n));const r=d(t,["musicGenerationConfig"]);return r!=null&&A(e,["musicGenerationConfig"],EG(r)),e}function jG(t){const e={},n=d(t,["media"]);if(n!=null){let u=jD(n);Array.isArray(u)&&(u=u.map(c=>c)),A(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&A(e,["audio"],RD(r));const i=d(t,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&A(e,["video"],LD(a));const o=d(t,["text"]);return o!=null&&A(e,["text"],o),d(t,["activityStart"])!=null&&A(e,["activityStart"],$V()),d(t,["activityEnd"])!=null&&A(e,["activityEnd"],RV()),e}function LG(t){const e={},n=d(t,["media"]);if(n!=null){let u=jD(n);Array.isArray(u)&&(u=u.map(c=>c)),A(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&A(e,["audio"],RD(r));const i=d(t,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&A(e,["video"],LD(a));const o=d(t,["text"]);return o!=null&&A(e,["text"],o),d(t,["activityStart"])!=null&&A(e,["activityStart"],BV()),d(t,["activityEnd"])!=null&&A(e,["activityEnd"],FV()),e}function RG(t){const e={},n=d(t,["modelTurn"]);n!=null&&A(e,["modelTurn"],QV(n));const r=d(t,["turnComplete"]);r!=null&&A(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&A(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&A(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&A(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&A(e,["inputTranscription"],AE(s));const l=d(t,["outputTranscription"]);l!=null&&A(e,["outputTranscription"],AE(l));const u=d(t,["urlContextMetadata"]);u!=null&&A(e,["urlContextMetadata"],yW(u));const c=d(t,["turnCompleteReason"]);c!=null&&A(e,["turnCompleteReason"],c);const f=d(t,["waitingForInput"]);return f!=null&&A(e,["waitingForInput"],f),e}function FG(t){const e={},n=d(t,["modelTurn"]);n!=null&&A(e,["modelTurn"],ZV(n));const r=d(t,["turnComplete"]);r!=null&&A(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&A(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&A(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&A(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&A(e,["inputTranscription"],mE(s));const l=d(t,["outputTranscription"]);l!=null&&A(e,["outputTranscription"],mE(l));const u=d(t,["turnCompleteReason"]);u!=null&&A(e,["turnCompleteReason"],u);const c=d(t,["waitingForInput"]);return c!=null&&A(e,["waitingForInput"],c),e}function $G(t){const e={},n=d(t,["timeLeft"]);return n!=null&&A(e,["timeLeft"],n),e}function BG(t){const e={},n=d(t,["timeLeft"]);return n!=null&&A(e,["timeLeft"],n),e}function UG(t){const e={};d(t,["setupComplete"])!=null&&A(e,["setupComplete"],VG());const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],RG(r));const i=d(t,["toolCall"]);i!=null&&A(e,["toolCall"],KG(i));const a=d(t,["toolCallCancellation"]);a!=null&&A(e,["toolCallCancellation"],WG(a));const o=d(t,["usageMetadata"]);o!=null&&A(e,["usageMetadata"],SW(o));const s=d(t,["goAway"]);s!=null&&A(e,["goAway"],$G(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&A(e,["sessionResumptionUpdate"],HG(l)),e}function qG(t){const e={},n=d(t,["setupComplete"]);n!=null&&A(e,["setupComplete"],GG(n));const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],FG(r));const i=d(t,["toolCall"]);i!=null&&A(e,["toolCall"],JG(i));const a=d(t,["toolCallCancellation"]);a!=null&&A(e,["toolCallCancellation"],YG(a));const o=d(t,["usageMetadata"]);o!=null&&A(e,["usageMetadata"],_W(o));const s=d(t,["goAway"]);s!=null&&A(e,["goAway"],BG(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&A(e,["sessionResumptionUpdate"],zG(l)),e}function HG(t){const e={},n=d(t,["newHandle"]);n!=null&&A(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&A(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&A(e,["lastConsumedClientMessageIndex"],i),e}function zG(t){const e={},n=d(t,["newHandle"]);n!=null&&A(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&A(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&A(e,["lastConsumedClientMessageIndex"],i),e}function VG(){return{}}function GG(t){const e={},n=d(t,["sessionId"]);return n!=null&&A(e,["sessionId"],n),e}function WG(t){const e={},n=d(t,["ids"]);return n!=null&&A(e,["ids"],n),e}function YG(t){const e={},n=d(t,["ids"]);return n!=null&&A(e,["ids"],n),e}function KG(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JD(i))),A(e,["functionCalls"],r)}return e}function JG(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XD(i))),A(e,["functionCalls"],r)}return e}function Ym(t){const e={},n=d(t,["modality"]);n!=null&&A(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function Km(t){const e={},n=d(t,["modality"]);n!=null&&A(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function XG(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dW(i))),A(e,["speakerVoiceConfigs"],r)}return e}function QG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],TW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],GV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],sG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],JD(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function ZG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],CW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],WV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],lG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],XD(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function eW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],NW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],YV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],uG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],fG(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function tW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],EW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],KV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],cG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],dG(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function nW(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function rW(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function iW(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function aW(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function oW(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],zV(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function sW(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],VV(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function lW(t){const e={},n=d(t,["handle"]);if(n!=null&&A(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uW(t){const e={},n=d(t,["handle"]);n!=null&&A(e,["handle"],n);const r=d(t,["transparent"]);return r!=null&&A(e,["transparent"],r),e}function cW(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function fW(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function dW(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],tI(r)),e}function hW(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],tI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],XG(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function pW(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&A(e,["voiceConfig"],kW(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function AW(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function mW(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function gW(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>hG(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],vG(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],mG(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],bW());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],JV(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function vW(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>pG(h))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],yG(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],gG(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],oG(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],AG(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],xW());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],XV(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function AE(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["finished"]);return r!=null&&A(e,["finished"],r),e}function mE(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["finished"]);return r!=null&&A(e,["finished"],r),e}function yW(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wW(i))),A(e,["urlMetadata"],r)}return e}function bW(){return{}}function xW(){return{}}function wW(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function SW(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&A(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&A(e,["cachedContentTokenCount"],r);const i=d(t,["responseTokenCount"]);i!=null&&A(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&A(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&A(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&A(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Ym(p))),A(e,["promptTokensDetails"],h)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Ym(p))),A(e,["cacheTokensDetails"],h)}const c=d(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Ym(p))),A(e,["responseTokensDetails"],h)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Ym(p))),A(e,["toolUsePromptTokensDetails"],h)}return e}function _W(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&A(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&A(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&A(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&A(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&A(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&A(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>Km(v))),A(e,["promptTokensDetails"],p)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>Km(v))),A(e,["cacheTokensDetails"],p)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>Km(v))),A(e,["responseTokensDetails"],p)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>Km(v))),A(e,["toolUsePromptTokensDetails"],p)}const h=d(t,["trafficType"]);return h!=null&&A(e,["trafficType"],h),e}function TW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function CW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function NW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function EW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function tI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],nW(n)),e}function kW(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],rW(n)),e}function PW(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["weight"]);return r!=null&&A(e,["weight"],r),e}function nI(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["weight"]);return r!=null&&A(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MW(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function OW(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],MW(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function DW(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function IW(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function jW(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function LW(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function RW(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],KW(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],BW(r));const i=d(t,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],AJ(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function FW(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],JW(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],UW(r));const i=d(t,["finishMessage"]);i!=null&&A(e,["finishMessage"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],mJ(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function $W(t){const e={},n=d(t,["checkpointId"]);n!=null&&A(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&A(e,["epoch"],r);const i=d(t,["step"]);return i!=null&&A(e,["step"],i),e}function BW(t){const e={},n=d(t,["citationSources"]);return n!=null&&A(e,["citations"],n),e}function UW(t){const e={},n=d(t,["citations"]);return n!=null&&A(e,["citations"],n),e}function qW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let a=_a(i);Array.isArray(a)&&(a=a.map(o=>Nd(o))),A(n,["contents"],a)}return n}function HW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);return r!=null&&A(e,["tokensInfo"],r),e}function zW(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function VW(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function GW(t){const e={},n=d(t,["values"]);return n!=null&&A(e,["values"],n),e}function WW(t){const e={},n=d(t,["values"]);n!=null&&A(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&A(e,["statistics"],YW(r)),e}function YW(t){const e={},n=d(t,["truncated"]);n!=null&&A(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&A(e,["tokenCount"],r),e}function KW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>NK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function JW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>EK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function zv(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>kK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function Nd(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>PK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function XW(t){const e={},n=d(t,["controlType"]);n!=null&&A(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&A(e,["computeControl"],r),e}function QW(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ZW(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&A(e,["systemInstruction"],Nd(Jr(r)));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sI(s))),A(e,["tools"],o)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&A(e,["generationConfig"],a),n}function eY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=_a(i);Array.isArray(o)&&(o=o.map(s=>zv(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&QW(a),n}function tY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=_a(i);Array.isArray(o)&&(o=o.map(s=>Nd(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&ZW(a,n),n}function nY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&A(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&A(e,["cachedContentTokenCount"],i),e}function rY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&A(e,["totalTokens"],r),e}function iY(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],zt(t,r)),n}function aY(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],zt(t,r)),n}function oY(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function sY(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function lY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function uY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function cY(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&A(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&A(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&A(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&A(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&A(e,["parameters","includeRaiReason"],h);const p=d(t,["language"]);e!==void 0&&p!=null&&A(e,["parameters","language"],p);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&A(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&A(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&A(e,["parameters","addWatermark"],w);const y=d(t,["editMode"]);e!==void 0&&y!=null&&A(e,["parameters","editMode"],y);const x=d(t,["baseSteps"]);return e!==void 0&&x!=null&&A(e,["parameters","editConfig","baseSteps"],x),n}function fY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>FK(l))),A(n,["instances[0]","referenceImages"],s)}const o=d(e,["config"]);return o!=null&&cY(o,n),n}function dY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Vv(a))),A(e,["generatedImages"],i)}return e}function hY(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function pY(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["instances[]","title"],i);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&A(e,["parameters","outputDimensionality"],a);const o=d(t,["mimeType"]);e!==void 0&&o!=null&&A(e,["instances[]","mimeType"],o);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&A(e,["parameters","autoTruncate"],s),n}function AY(){return{}}function mY(t){const e={},n=d(t,["billableCharacterCount"]);return n!=null&&A(e,["billableCharacterCount"],n),e}function gY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);i!=null&&A(n,["requests[]","content"],xS(t,i));const a=d(e,["config"]);a!=null&&hY(a,n);const o=d(e,["model"]);return o!==void 0&&A(n,["requests[]","model"],zt(t,o)),n}function vY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);i!=null&&A(n,["instances[]","content"],xS(t,i));const a=d(e,["config"]);return a!=null&&pY(a,n),n}function yY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>GW(o))),A(e,["embeddings"],a)}return d(t,["metadata"])!=null&&A(e,["metadata"],AY()),e}function bY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>WW(o))),A(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&A(e,["metadata"],mY(i)),e}function xY(t){const e={},n=d(t,["endpoint"]);n!=null&&A(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&A(e,["deployedModelId"],r),e}function wY(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function SY(t){const e={},n=d(t,["label"]);n!=null&&A(e,["label"],n);const r=d(t,["score"]);return r!=null&&A(e,["score"],r),e}function _Y(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function TY(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function CY(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function NY(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function EY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function kY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function PY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function MY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function OY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function DY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function IY(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function jY(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function LY(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],zv(Jr(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&A(r,["logprobs"],h);const p=d(e,["presencePenalty"]);p!=null&&A(r,["presencePenalty"],p);const v=d(e,["frequencyPenalty"]);v!=null&&A(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&A(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&A(r,["responseSchema"],HK(wS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&A(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map($=>UK($))),A(n,["safetySettings"],D)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let D=Td(T);Array.isArray(D)&&(D=D.map($=>aJ(_d($)))),A(n,["tools"],D)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&A(n,["toolConfig"],rJ(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&A(n,["cachedContent"],ps(t,k));const E=d(e,["responseModalities"]);E!=null&&A(r,["responseModalities"],E);const M=d(e,["mediaResolution"]);M!=null&&A(r,["mediaResolution"],M);const I=d(e,["speechConfig"]);if(I!=null&&A(r,["speechConfig"],XK(SS(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&A(r,["thinkingConfig"],tJ(U));const O=d(e,["imageConfig"]);return O!=null&&A(r,["imageConfig"],fK(O)),r}function RY(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],Nd(Jr(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&A(r,["logprobs"],h);const p=d(e,["presencePenalty"]);p!=null&&A(r,["presencePenalty"],p);const v=d(e,["frequencyPenalty"]);v!=null&&A(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&A(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&A(r,["responseSchema"],zK(wS(y)));const x=d(e,["responseJsonSchema"]);x!=null&&A(r,["responseJsonSchema"],x);const S=d(e,["routingConfig"]);S!=null&&A(r,["routingConfig"],S);const T=d(e,["modelSelectionConfig"]);T!=null&&A(r,["modelConfig"],TK(T));const C=d(e,["safetySettings"]);if(n!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(B=>qK(B))),A(n,["safetySettings"],R)}const k=d(e,["tools"]);if(n!==void 0&&k!=null){let R=Td(k);Array.isArray(R)&&(R=R.map(B=>sI(_d(B)))),A(n,["tools"],R)}const E=d(e,["toolConfig"]);n!==void 0&&E!=null&&A(n,["toolConfig"],iJ(E));const M=d(e,["labels"]);n!==void 0&&M!=null&&A(n,["labels"],M);const I=d(e,["cachedContent"]);n!==void 0&&I!=null&&A(n,["cachedContent"],ps(t,I));const U=d(e,["responseModalities"]);U!=null&&A(r,["responseModalities"],U);const O=d(e,["mediaResolution"]);O!=null&&A(r,["mediaResolution"],O);const D=d(e,["speechConfig"]);D!=null&&A(r,["speechConfig"],QK(SS(D)));const $=d(e,["audioTimestamp"]);$!=null&&A(r,["audioTimestamp"],$);const F=d(e,["thinkingConfig"]);F!=null&&A(r,["thinkingConfig"],nJ(F));const G=d(e,["imageConfig"]);return G!=null&&A(r,["imageConfig"],dK(G)),r}function gE(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=_a(i);Array.isArray(o)&&(o=o.map(s=>zv(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["generationConfig"],LY(t,a,n)),n}function vE(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=_a(i);Array.isArray(o)&&(o=o.map(s=>Nd(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["generationConfig"],RY(t,a,n)),n}function yE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>RW(u))),A(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&A(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&A(e,["usageMetadata"],s),e}function bE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>FW(c))),A(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&A(e,["createTime"],i);const a=d(t,["modelVersion"]);a!=null&&A(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&A(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&A(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function FY(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&A(e,["parameters","aspectRatio"],i);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&A(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&A(e,["parameters","safetySetting"],o);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&A(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&A(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&A(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&A(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&A(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&A(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=d(t,["imageSize"]);if(e!==void 0&&p!=null&&A(e,["parameters","sampleImageSize"],p),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $Y(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&A(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&A(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&A(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&A(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&A(e,["parameters","includeRaiReason"],h);const p=d(t,["language"]);e!==void 0&&p!=null&&A(e,["parameters","language"],p);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&A(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&A(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&A(e,["parameters","addWatermark"],w);const y=d(t,["imageSize"]);e!==void 0&&y!=null&&A(e,["parameters","sampleImageSize"],y);const x=d(t,["enhancePrompt"]);return e!==void 0&&x!=null&&A(e,["parameters","enhancePrompt"],x),n}function BY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&FY(a,n),n}function UY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&$Y(a,n),n}function qY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>eK(o))),A(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],aI(i)),e}function HY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Vv(o))),A(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],oI(i)),e}function zY(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&A(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&A(e,["parameters","aspectRatio"],a);const o=d(t,["resolution"]);e!==void 0&&o!=null&&A(e,["parameters","resolution"],o);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&A(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&A(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&A(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function VY(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&A(e,["parameters","storageUri"],i);const a=d(t,["fps"]);e!==void 0&&a!=null&&A(e,["parameters","fps"],a);const o=d(t,["durationSeconds"]);e!==void 0&&o!=null&&A(e,["parameters","durationSeconds"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&A(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&A(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&A(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&A(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&A(e,["parameters","negativePrompt"],h);const p=d(t,["enhancePrompt"]);e!==void 0&&p!=null&&A(e,["parameters","enhancePrompt"],p);const v=d(t,["generateAudio"]);e!==void 0&&v!=null&&A(e,["parameters","generateAudio"],v);const b=d(t,["lastFrame"]);e!==void 0&&b!=null&&A(e,["instances[0]","lastFrame"],Za(b));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(T=>_J(T))),A(e,["instances[0]","referenceImages"],S)}const y=d(t,["mask"]);e!==void 0&&y!=null&&A(e,["instances[0]","mask"],SJ(y));const x=d(t,["compressionQuality"]);return e!==void 0&&x!=null&&A(e,["parameters","compressionQuality"],x),n}function GY(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&A(e,["response"],JY(o)),e}function WY(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response"]);return o!=null&&A(e,["response"],XY(o)),e}function YY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["image"]);if(a!=null&&A(n,["instances[0]","image"],iI(a)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=d(e,["source"]);o!=null&&QY(o,n);const s=d(e,["config"]);return s!=null&&zY(s,n),n}function KY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&A(n,["instances[0]","image"],Za(a));const o=d(e,["video"]);o!=null&&A(n,["instances[0]","video"],lI(o));const s=d(e,["source"]);s!=null&&ZY(s,n);const l=d(e,["config"]);return l!=null&&VY(l,n),n}function JY(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>nK(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function XY(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>rK(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function QY(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);if(e!==void 0&&i!=null&&A(e,["instances[0]","image"],iI(i)),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function ZY(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],Za(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&A(e,["instances[0]","video"],lI(a)),n}function eK(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["image"],hK(n));const r=d(t,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&A(e,["safetyAttributes"],aI(i)),e}function Vv(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["image"],rI(n));const r=d(t,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&A(e,["safetyAttributes"],oI(i));const a=d(t,["prompt"]);return a!=null&&A(e,["enhancedPrompt"],a),e}function tK(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["mask"],rI(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>SY(a))),A(e,["labels"],i)}return e}function nK(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],xJ(n)),e}function rK(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],wJ(n)),e}function iK(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],zt(t,r)),n}function aK(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],zt(t,r)),n}function oK(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],OW(n)),e}function sK(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],lY(n)),e}function lK(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],uY(n)),e}function uK(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],pK(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cK(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],AK(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function fK(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function dK(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function hK(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&A(e,["imageBytes"],Xu(n));const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function rI(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["imageBytes"],Xu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function iI(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&A(e,["bytesBase64Encoded"],Xu(n));const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function Za(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&A(e,["bytesBase64Encoded"],Xu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function pK(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function AK(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function mK(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function gK(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function vK(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&A(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&A(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&A(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&A(n,["_url","models_url"],UD(t,s)),r}function yK(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&A(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&A(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&A(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&A(n,["_url","models_url"],UD(t,s)),r}function bK(t,e){const n={},r=d(e,["config"]);return r!=null&&vK(t,r,n),n}function xK(t,e){const n={},r=d(e,["config"]);return r!=null&&yK(t,r,n),n}function wK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=qD(i);Array.isArray(a)&&(a=a.map(o=>x2(o))),A(e,["models"],a)}return e}function SK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=qD(i);Array.isArray(a)&&(a=a.map(o=>w2(o))),A(e,["models"],a)}return e}function _K(t){const e={},n=d(t,["maskMode"]);n!=null&&A(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&A(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&A(e,["dilation"],i),e}function x2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["version"]);a!=null&&A(e,["version"],a);const o=d(t,["_self"]);o!=null&&A(e,["tunedModelInfo"],oJ(o));const s=d(t,["inputTokenLimit"]);s!=null&&A(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&A(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);return u!=null&&A(e,["supportedActions"],u),e}function w2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["versionId"]);a!=null&&A(e,["version"],a);const o=d(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>xY(h))),A(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&A(e,["labels"],s);const l=d(t,["_self"]);l!=null&&A(e,["tunedModelInfo"],sJ(l));const u=d(t,["defaultCheckpointId"]);u!=null&&A(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>$W(h))),A(e,["checkpoints"],f)}return e}function TK(t){const e={},n=d(t,["featureSelectionPreference"]);return n!=null&&A(e,["featureSelectionPreference"],n),e}function CK(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JK(i))),A(e,["speakerVoiceConfigs"],r)}return e}function NK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],TJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],DW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],_Y(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],EY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function EK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],CJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],IW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],TY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],kY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function kK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],NJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],jW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],CY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],PY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function PK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],EJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],LW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],NY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],MY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function MK(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function OK(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function DK(t){const e={},n=d(t,["productImage"]);return n!=null&&A(e,["image"],Za(n)),e}function IK(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&A(e,["parameters","editConfig","baseSteps"],i);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&A(e,["parameters","storageUri"],a);const o=d(t,["seed"]);e!==void 0&&o!=null&&A(e,["parameters","seed"],o);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&A(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&A(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&A(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&A(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&A(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);return e!==void 0&&h!=null&&A(e,["parameters","enhancePrompt"],h),n}function jK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["source"]);i!=null&&RK(i,n);const a=d(e,["config"]);return a!=null&&IK(a,n),n}function LK(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Vv(i))),A(e,["generatedImages"],r)}return e}function RK(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&A(e,["instances[0]","personImage","image"],Za(i));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>DK(s))),A(e,["instances[0]","productImages"],o)}return n}function FK(t){const e={},n=d(t,["referenceImage"]);n!=null&&A(e,["referenceImage"],Za(n));const r=d(t,["referenceId"]);r!=null&&A(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&A(e,["referenceType"],i);const a=d(t,["maskImageConfig"]);a!=null&&A(e,["maskImageConfig"],_K(a));const o=d(t,["controlImageConfig"]);o!=null&&A(e,["controlImageConfig"],XW(o));const s=d(t,["styleImageConfig"]);s!=null&&A(e,["styleImageConfig"],ZK(s));const l=d(t,["subjectImageConfig"]);return l!=null&&A(e,["subjectImageConfig"],eJ(l)),e}function $K(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],mK(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function BK(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],gK(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function aI(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&A(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function oI(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&A(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function UK(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&A(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function qK(t){const e={},n=d(t,["method"]);n!=null&&A(e,["method"],n);const r=d(t,["category"]);r!=null&&A(e,["category"],r);const i=d(t,["threshold"]);return i!=null&&A(e,["threshold"],i),e}function HK(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&A(e,["maximum"],h);const p=d(t,["minItems"]);p!=null&&A(e,["minItems"],p);const v=d(t,["minLength"]);v!=null&&A(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&A(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&A(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&A(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function zK(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&A(e,["maximum"],h);const p=d(t,["minItems"]);p!=null&&A(e,["minItems"],p);const v=d(t,["minLength"]);v!=null&&A(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&A(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&A(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&A(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function VK(t){const e={},n=d(t,["image"]);return n!=null&&A(e,["image"],Za(n)),e}function GK(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&A(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&A(e,["parameters","maxPredictions"],i);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&A(e,["parameters","confidenceThreshold"],a);const o=d(t,["maskDilation"]);e!==void 0&&o!=null&&A(e,["parameters","maskDilation"],o);const s=d(t,["binaryColorThreshold"]);return e!==void 0&&s!=null&&A(e,["parameters","binaryColorThreshold"],s),n}function WK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["source"]);i!=null&&KK(i,n);const a=d(e,["config"]);return a!=null&&GK(a,n),n}function YK(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tK(i))),A(e,["generatedMasks"],r)}return e}function KK(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],Za(i));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&A(e,["instances[0]","scribble"],VK(a)),n}function JK(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],uI(r)),e}function XK(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],uI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],CK(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function QK(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&A(e,["voiceConfig"],kJ(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function ZK(t){const e={},n=d(t,["styleDescription"]);return n!=null&&A(e,["styleDescription"],n),e}function eJ(t){const e={},n=d(t,["subjectType"]);n!=null&&A(e,["subjectType"],n);const r=d(t,["subjectDescription"]);return r!=null&&A(e,["subjectDescription"],r),e}function tJ(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function nJ(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function rJ(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],OY(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],$K(r)),e}function iJ(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],DY(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],BK(r)),e}function aJ(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>IY(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],uK(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],sK(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],gJ());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],zW(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function sI(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>jY(h))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],cK(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],lK(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],wY(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],oK(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],vJ());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],VW(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function oJ(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&A(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function sJ(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&A(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function lJ(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),n}function uJ(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),n}function cJ(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","name"],zt(t,r));const i=d(e,["config"]);return i!=null&&lJ(i,n),n}function fJ(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&uJ(i,n),n}function dJ(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["includeRaiReason"]);e!==void 0&&i!=null&&A(e,["parameters","includeRaiReason"],i);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&A(e,["parameters","outputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&A(e,["parameters","outputOptions","compressionQuality"],o);const s=d(t,["enhanceInputImage"]);e!==void 0&&s!=null&&A(e,["parameters","upscaleConfig","enhanceInputImage"],s);const l=d(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&A(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=d(t,["numberOfImages"]);e!==void 0&&u!=null&&A(e,["parameters","sampleCount"],u);const c=d(t,["mode"]);return e!==void 0&&c!=null&&A(e,["parameters","mode"],c),n}function hJ(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],zt(t,r));const i=d(e,["image"]);i!=null&&A(n,["instances[0]","image"],Za(i));const a=d(e,["upscaleFactor"]);a!=null&&A(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=d(e,["config"]);return o!=null&&dJ(o,n),n}function pJ(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Vv(a))),A(e,["generatedImages"],i)}return e}function AJ(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yJ(i))),A(e,["urlMetadata"],r)}return e}function mJ(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bJ(i))),A(e,["urlMetadata"],r)}return e}function gJ(){return{}}function vJ(){return{}}function yJ(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function bJ(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function xJ(t){const e={},n=d(t,["video","uri"]);n!=null&&A(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&A(e,["videoBytes"],Xu(r));const i=d(t,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function wJ(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],Xu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function SJ(t){const e={},n=d(t,["image"]);n!=null&&A(e,["_self"],Za(n));const r=d(t,["maskMode"]);return r!=null&&A(e,["maskMode"],r),e}function _J(t){const e={},n=d(t,["image"]);n!=null&&A(e,["image"],Za(n));const r=d(t,["referenceType"]);return r!=null&&A(e,["referenceType"],r),e}function TJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function CJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function NJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function EJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function lI(t){const e={},n=d(t,["uri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&A(e,["bytesBase64Encoded"],Xu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function uI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],MK(n)),e}function kJ(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],OK(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PJ="Content-Type",MJ="X-Server-Timeout",OJ="User-Agent",S2="x-goog-api-client",DJ="1.22.0",IJ=`google-genai-sdk/${DJ}`,jJ="v1beta1",LJ="v1beta",xE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class RJ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:jJ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:LJ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&FJ(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wE(i),new m2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Cf(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield Tn(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,v=h.code,b=`got status: ${p}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Hv({message:b,status:v})}}catch(f){if(f.name==="ApiError")throw f}o+=u;let c=o.match(xE);for(;c;){const f=c[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Tn(new m2(h)),o=o.slice(c[0].length),c=o.match(xE)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=IJ+" "+this.clientOptions.userAgentExtra;return e[OJ]=n,e[S2]=n,e[PJ]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(MJ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l=await this.fetchUploadUrl(i,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:at("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function wE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Hv({message:i,status:n}):new Error(i)}}function FJ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $J="mcp_used/unknown";let BJ=!1;function cI(t){for(const e of t)if(UJ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return BJ}function fI(t){var e;const n=(e=t[S2])!==null&&e!==void 0?e:"";t[S2]=(n+` ${$J}`).trimStart()}function UJ(t){return t!==null&&typeof t=="object"&&t instanceof CS}function qJ(t,e=100){return Cf(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Tn(t.listTools({cursor:r}));for(const o of a.tools)yield yield Tn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class CS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new CS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,hp(qJ(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;o.push(f);const h=f.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Qq(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HJ(t,e,n){const r=new zq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=PG(i);Object.assign(r,a),e(r)}class zJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=WJ(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},p=this.apiClient,v={onopen:h,onmessage:S=>{HJ(p,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(l,GJ(o),v);b.connect(),await c;const w=zt(this.apiClient,e.model),y=ZD({model:w}),x=b2({setup:y});return b.send(JSON.stringify(x)),new VJ(b,this.apiClient)}}class VJ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=DG(e),r=QD(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=OG(e),r=b2(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=b2({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(df.PLAY)}pause(){this.sendPlaybackControl(df.PAUSE)}stop(){this.sendPlaybackControl(df.STOP)}resetContext(){this.sendPlaybackControl(df.RESET_CONTEXT)}close(){this.conn.close()}}function GJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function WJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YJ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KJ(t,e,n){const r=new Hq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=qG(a);Object.assign(r,o)}else{const o=UG(a);Object.assign(r,o)}e(r)}class JJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new zJ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&cI(e.config.tools)&&fI(f);const h=eX(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const I=this.apiClient.getApiKey();let U="BidiGenerateContent",O="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${O}=${I}`}let p=()=>{};const v=new Promise(I=>{p=I}),b=e.callbacks,w=function(){var I;(I=b==null?void 0:b.onopen)===null||I===void 0||I.call(b),p({})},y=this.apiClient,x={onopen:w,onmessage:I=>{KJ(y,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(c,ZJ(h),x);S.connect(),await v;let T=zt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const I=this.apiClient.getProject(),U=this.apiClient.getLocation();T=`projects/${I}/locations/${U}/`+T}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[f0.AUDIO]}:e.config.responseModalities=[f0.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const I of k)if(this.isCallableTool(I)){const U=I;E.push(await U.tool())}else E.push(I);E.length>0&&(e.config.tools=E);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=TG(this.apiClient,M):C=_G(this.apiClient,M),delete C.config,S.send(JSON.stringify(C)),new QJ(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const XJ={turnComplete:!0};class QJ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_a(n.turns),e.isVertexAI()?r=r.map(i=>Nd(i)):r=r.map(i=>zv(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(YJ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},XJ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:LG(e)}:n={realtimeInput:jG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ZJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SE=10;function _E(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Nf(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Nf(t){return"callTool"in t&&typeof t.callTool=="function"}function tX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Nf(i)))!==null&&r!==void 0?r:!1}function nX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Nf(i)))!==null&&r!==void 0?r:!1}function TE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rX extends Ju{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tX(n)||_E(n.config))return await this.generateContentInternal(l);if(nX(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const f=_a(l.contents),h=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:SE;let p=0;for(;p<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const v=u.candidates[0].content,b=[];for(const w of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Nf(w)){const x=await w.callTool(u.functionCalls);b.push(...x)}p++,c={role:"user",parts:b},l.contents=_a(l.contents),l.contents.push(v),l.contents.push(c),TE(l.config)&&(f.push(v),f.push(c))}return TE(l.config)&&(u.automaticFunctionCallingHistory=f),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),_E(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new FA(Lu.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>Nf(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&cI(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),fI(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Nf(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:SE;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var h,p;return Cf(this,arguments,function*(){for(var v,b,w,y;s<a;){o&&(s++,o=!1);const C=yield Tn(u.processParamsMaybeAddMcpUsage(f)),k=yield Tn(u.generateContentStreamInternal(C)),E=[],M=[];try{for(var x=!0,S=(b=void 0,hp(k)),T;T=yield Tn(S.next()),v=T.done,!v;x=!0){y=T.value,x=!1;const I=y;if(yield yield Tn(I),I.candidates&&(!((h=I.candidates[0])===null||h===void 0)&&h.content)){M.push(I.candidates[0].content);for(const U of(p=I.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(s<a&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(U.functionCall.name)){const O=yield Tn(c.get(U.functionCall.name).callTool([U.functionCall]));E.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(I){b={error:I}}finally{try{!x&&!v&&(w=S.return)&&(yield Tn(w.call(S)))}finally{if(b)throw b.error}}if(E.length>0){o=!0;const I=new Ph;I.candidates=[{content:{role:"user",parts:E}}],yield yield Tn(I);const U=[];U.push(...M),U.push({role:"user",parts:E});const O=_a(f.contents).concat(U);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vE(this.apiClient,e);return s=at("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=bE(c),h=new Ph;return Object.assign(h,f),h})}else{const u=gE(this.apiClient,e);return s=at("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=yE(c),h=new Ph;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vE(this.apiClient,e);return s=at("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return Cf(this,arguments,function*(){var h,p,v,b;try{for(var w=!0,y=hp(f),x;x=yield Tn(y.next()),h=x.done,!h;w=!0){b=x.value,w=!1;const S=b,T=bE(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new Ph;Object.assign(C,T),yield yield Tn(C)}}catch(S){p={error:S}}finally{try{!w&&!h&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(p)throw p.error}}})})}else{const u=gE(this.apiClient,e);return s=at("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return Cf(this,arguments,function*(){var h,p,v,b;try{for(var w=!0,y=hp(f),x;x=yield Tn(y.next()),h=x.done,!h;w=!0){b=x.value,w=!1;const S=b,T=yE(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new Ph;Object.assign(C,T),yield yield Tn(C)}}catch(S){p={error:S}}finally{try{!w&&!h&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=bY(c),h=new XN;return Object.assign(h,f),h})}else{const u=gY(this.apiClient,e);return s=at("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=yY(c),h=new XN;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=UY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=HY(c),h=new QN;return Object.assign(h,f),h})}else{const u=BY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=qY(c),h=new QN;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=fY(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=dY(l),c=new jq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=hJ(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=pJ(l),c=new Lq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=jK(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=LK(l),c=new Rq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=WK(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=YK(l),c=new Fq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aK(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>w2(c))}else{const u=iK(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>x2(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=xK(this.apiClient,e);return s=at("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=SK(c),h=new ZN;return Object.assign(h,f),h})}else{const u=bK(this.apiClient,e);return s=at("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=wK(c),h=new ZN;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=fJ(this.apiClient,e);return s=at("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>w2(c))}else{const u=cJ(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>x2(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aY(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=sY(c),h=new eE;return Object.assign(h,f),h})}else{const u=iY(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=oY(c),h=new eE;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=tY(this.apiClient,e);return s=at("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=rY(c),h=new tE;return Object.assign(h,f),h})}else{const u=eY(this.apiClient,e);return s=at("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=nY(c),h=new tE;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=qW(this.apiClient,e);return a=at("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=HW(l),c=new $q;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=KY(this.apiClient,e);return s=at("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=WY(c),h=new d0;return Object.assign(h,f),h})}else{const u=YY(this.apiClient,e);return s=at("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const f=GY(c),h=new d0;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iX extends Ju{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Oq(e);return s=at("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=Mq(e);return s=at("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=_q(e);return a=at("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(){return{}}function aX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["name"],n),e}function oX(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function sX(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function lX(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function uX(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>SX(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function cX(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],EX(r)),e}function fX(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&A(n,["expireTime"],i);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&A(n,["newSessionExpireTime"],a);const o=d(e,["uses"]);n!==void 0&&o!=null&&A(n,["uses"],o);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&A(n,["bidiGenerateContentSetup"],xX(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&A(n,["fieldMask"],l),r}function dX(t,e){const n={},r=d(e,["config"]);return r!=null&&A(n,["config"],fX(t,r,n)),n}function hX(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function pX(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function AX(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function mX(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function gX(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],hX(n)),e}function vX(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],yX(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function yX(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function bX(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],PX(_S(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","thinkingConfig"],MX(h));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&A(e,["setup","systemInstruction"],uX(Jr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Td(b);Array.isArray(k)&&(k=k.map(E=>OX(_d(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],NX(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&A(e,["setup","inputAudioTranscription"],CE());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&A(e,["setup","outputAudioTranscription"],CE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],CX(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],cX(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],TX(C)),n}function xX(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],bX(i,n)),n}function wX(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kX(i))),A(e,["speakerVoiceConfigs"],r)}return e}function SX(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],IX(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],sX(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],pX(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],AX(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function _X(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function TX(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function CX(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],oX(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function NX(t){const e={},n=d(t,["handle"]);if(n!=null&&A(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function EX(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function kX(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],dI(r)),e}function PX(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],dI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],wX(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function MX(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function OX(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>mX(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],vX(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],gX(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],DX());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],lX(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function DX(){return{}}function IX(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function dI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],_X(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function LX(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=jX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class RX extends Ju{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=dX(this.apiClient,e);a=at("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=LX(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>aX(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function $X(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function BX(t,e){const n={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&A(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=d(t,["epochCount"]);e!==void 0&&i!=null&&A(e,["tuningTask","hyperparameters","epochCount"],i);const a=d(t,["learningRateMultiplier"]);if(a!=null&&A(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(t,["batchSize"]);e!==void 0&&o!=null&&A(e,["tuningTask","hyperparameters","batchSize"],o);const s=d(t,["learningRate"]);if(e!==void 0&&s!=null&&A(e,["tuningTask","hyperparameters","learningRate"],s),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function UX(t,e){const n={},r=d(t,["validationDataset"]);e!==void 0&&r!=null&&A(e,["supervisedTuningSpec"],aQ(r,n));const i=d(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&A(e,["tunedModelDisplayName"],i);const a=d(t,["description"]);e!==void 0&&a!=null&&A(e,["description"],a);const o=d(t,["epochCount"]);e!==void 0&&o!=null&&A(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);e!==void 0&&s!=null&&A(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=d(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&A(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=d(t,["adapterSize"]);if(e!==void 0&&u!=null&&A(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=d(t,["labels"]);return e!==void 0&&c!=null&&A(e,["labels"],c),n}function qX(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&A(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&A(e,["tuningTask","trainingData"],tQ(i));const a=d(t,["config"]);return a!=null&&BX(a,e),e}function HX(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&A(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],nQ(i,e));const a=d(t,["config"]);return a!=null&&UX(a,e),e}function zX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function VX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function GX(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function WX(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function YX(t){const e={},n=d(t,["config"]);return n!=null&&GX(n,e),e}function KX(t){const e={},n=d(t,["config"]);return n!=null&&WX(n,e),e}function JX(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>hI(o))),A(e,["tuningJobs"],a)}return e}function XX(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>_2(o))),A(e,["tuningJobs"],a)}return e}function QX(t){const e={},n=d(t,["checkpointId"]);n!=null&&A(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&A(e,["epoch"],r);const i=d(t,["step"]);i!=null&&A(e,["step"],i);const a=d(t,["endpoint"]);return a!=null&&A(e,["endpoint"],a),e}function ZX(t){const e={},n=d(t,["name"]);n!=null&&A(e,["model"],n);const r=d(t,["name"]);return r!=null&&A(e,["endpoint"],r),e}function eQ(t){const e={},n=d(t,["model"]);n!=null&&A(e,["model"],n);const r=d(t,["endpoint"]);r!=null&&A(e,["endpoint"],r);const i=d(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>QX(o))),A(e,["checkpoints"],a)}return e}function tQ(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=d(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rQ(i))),A(e,["examples","examples"],r)}return e}function nQ(t,e){const n={},r=d(t,["gcsUri"]);e!==void 0&&r!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],i),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function rQ(t){const e={},n=d(t,["textInput"]);n!=null&&A(e,["textInput"],n);const r=d(t,["output"]);return r!=null&&A(e,["output"],r),e}function hI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],$D(i));const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["tuningTask","startTime"]);o!=null&&A(e,["startTime"],o);const s=d(t,["tuningTask","completeTime"]);s!=null&&A(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["description"]);u!=null&&A(e,["description"],u);const c=d(t,["baseModel"]);c!=null&&A(e,["baseModel"],c);const f=d(t,["_self"]);f!=null&&A(e,["tunedModel"],ZX(f));const h=d(t,["customBaseModel"]);h!=null&&A(e,["customBaseModel"],h);const p=d(t,["experiment"]);p!=null&&A(e,["experiment"],p);const v=d(t,["labels"]);v!=null&&A(e,["labels"],v);const b=d(t,["outputUri"]);b!=null&&A(e,["outputUri"],b);const w=d(t,["pipelineJob"]);w!=null&&A(e,["pipelineJob"],w);const y=d(t,["serviceAccount"]);y!=null&&A(e,["serviceAccount"],y);const x=d(t,["tunedModelDisplayName"]);x!=null&&A(e,["tunedModelDisplayName"],x);const S=d(t,["veoTuningSpec"]);return S!=null&&A(e,["veoTuningSpec"],S),e}function _2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],$D(i));const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["startTime"]);o!=null&&A(e,["startTime"],o);const s=d(t,["endTime"]);s!=null&&A(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["error"]);u!=null&&A(e,["error"],u);const c=d(t,["description"]);c!=null&&A(e,["description"],c);const f=d(t,["baseModel"]);f!=null&&A(e,["baseModel"],f);const h=d(t,["tunedModel"]);h!=null&&A(e,["tunedModel"],eQ(h));const p=d(t,["preTunedModel"]);p!=null&&A(e,["preTunedModel"],p);const v=d(t,["supervisedTuningSpec"]);v!=null&&A(e,["supervisedTuningSpec"],v);const b=d(t,["tuningDataStats"]);b!=null&&A(e,["tuningDataStats"],b);const w=d(t,["encryptionSpec"]);w!=null&&A(e,["encryptionSpec"],w);const y=d(t,["partnerModelTuningSpec"]);y!=null&&A(e,["partnerModelTuningSpec"],y);const x=d(t,["customBaseModel"]);x!=null&&A(e,["customBaseModel"],x);const S=d(t,["experiment"]);S!=null&&A(e,["experiment"],S);const T=d(t,["labels"]);T!=null&&A(e,["labels"],T);const C=d(t,["outputUri"]);C!=null&&A(e,["outputUri"],C);const k=d(t,["pipelineJob"]);k!=null&&A(e,["pipelineJob"],k);const E=d(t,["serviceAccount"]);E!=null&&A(e,["serviceAccount"],E);const M=d(t,["tunedModelDisplayName"]);M!=null&&A(e,["tunedModelDisplayName"],M);const I=d(t,["veoTuningSpec"]);return I!=null&&A(e,["veoTuningSpec"],I),e}function iQ(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["metadata"]);i!=null&&A(e,["metadata"],i);const a=d(t,["done"]);a!=null&&A(e,["done"],a);const o=d(t,["error"]);return o!=null&&A(e,["error"],o),e}function aQ(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&A(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oQ extends Ju{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new FA(Lu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:A2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=VX(e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>_2(c))}else{const u=zX(e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>hI(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=KX(e);return s=at("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=XX(c),h=new nE;return Object.assign(h,f),h})}else{const u=YX(e);return s=at("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=JX(c),h=new nE;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=$X(e);o=at("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=FX(e);o=at("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=HX(e);return a=at("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>_2(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=qX(e);return a=at("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>iQ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sQ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lQ=1024*1024*8,uQ=3,cQ=1e3,fQ=2,m1="x-goog-upload-status";async function dQ(t,e,n){var r,i,a;let o=0,s=0,l=new m2(new Response),u="upload";for(o=t.size;s<o;){const f=Math.min(lQ,o-s),h=t.slice(s,s+f);s+f>=o&&(u+=", finalize");let p=0,v=cQ;for(;p<uQ&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[m1]));)p++,await pQ(v),v=v*fQ;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[m1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[m1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function hQ(t){return{size:t.size,type:t.type}}function pQ(t){return new Promise(e=>setTimeout(e,t))}class AQ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dQ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hQ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mQ{create(e,n,r){return new gQ(e,n,r)}}class gQ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NE="x-goog-api-key";class vQ{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(NE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(NE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yQ="gl-node/";class bQ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Sq(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new vQ(this.apiKey);this.apiClient=new RJ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:yQ+"web",uploader:new AQ,downloader:new sQ}),this.models=new rX(this.apiClient),this.live=new JJ(this.apiClient,i,new mQ),this.batches=new Az(this.apiClient),this.chats=new SV(this.models,this.apiClient),this.caches=new bV(this.apiClient),this.files=new LV(this.apiClient),this.operations=new iX(this.apiClient),this.authTokens=new RX(this.apiClient),this.tunings=new oQ(this.apiClient)}}var xQ={};const EE=xQ.API_KEY,wQ=({product:t,variants:e,stockMap:n,onClose:r,onSelectVariant:i,t:a,isReturnMode:o})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[a("selectVariantFor"),' "',t.name,'"']}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:e.map(s=>{const l=n.get(s.id)||0,u=!o&&l<=0;return m.jsxs("div",{onClick:()=>!u&&i(s),className:`flex items-center p-3 border dark:border-slate-700 rounded-lg gap-4 ${u?"bg-gray-100 dark:bg-slate-700 opacity-50 cursor-not-allowed":"bg-white dark:bg-slate-900 hover:bg-teal-50 dark:hover:bg-slate-700 cursor-pointer"}`,children:[m.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-md bg-gray-200"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:s.name}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s.price.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:`font-semibold ${l>s.lowStockThreshold?"text-green-600 dark:text-green-400":"text-orange-500 dark:text-orange-400"}`,children:[a("stock"),": ",l]}),u&&m.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:a("outOfStock")})]})]},s.id)})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")})})]})}),SQ=({onSave:t,onClose:e,t:n})=>{const[r,i]=re.useState(""),[a,o]=re.useState(1),[s,l]=re.useState(""),u=c=>{if(c.preventDefault(),!r||a===""||a<=0||s===""||s<=0){alert(n("fillAllFields"));return}t(r,a,s)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("enterItemDetails")}),m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("customItemName")}),m.jsx("input",{id:"itemName",type:"text",value:r,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:n("itemNamePlaceholder"),required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemQuantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("quantity")}),m.jsx("input",{id:"itemQuantity",type:"number",value:a,onChange:c=>o(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("unitPriceLabel")}),m.jsx("input",{id:"itemPrice",type:"number",value:s,onChange:c=>l(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:n("add")})]})]})]})})},_Q=({store:t,user:e,products:n,variants:r,customers:i,categories:a,sales:o,stockMap:s,variantMap:l,variantsByProduct:u,barcodeMap:c,cart:f,setCart:h,completeSale:p,processReturn:v,payCustomerDebt:b,t:w,language:y})=>{const[x,S]=re.useState(0),[T,C]=re.useState(void 0),[k,E]=re.useState(null),[M,I]=re.useState(""),[U,O]=re.useState(!1),[D,$]=re.useState(null),[F,G]=re.useState(!1),[R,B]=re.useState(0),[W,K]=re.useState(""),[Z,se]=re.useState(""),[L,z]=re.useState(null),[Q,te]=re.useState(!1),[ie,me]=re.useState(!1),[Ae,V]=re.useState("unit"),le=re.useRef(""),ce=re.useRef(null),ue=re.useRef(null),Me=re.useMemo(()=>f.reduce((Se,Ue)=>Se+Ue.price*Ue.quantity,0),[f]),Le=Z?parseFloat(Z):Me,Ce=Le/1.2,ae=Le-Ce,Ne=Le-x,Ee=re.useCallback((Se,Ue)=>Ue==="wholesale"&&Se.priceWholesale&&Se.priceWholesale>0?Se.priceWholesale:Ue==="semiWholesale"&&Se.priceSemiWholesale&&Se.priceSemiWholesale>0?Se.priceSemiWholesale:Se.price||0,[]);re.useEffect(()=>{h(Se=>Se.map(Ue=>{let rt=Ue.price;if(Ue.type==="good"){const pt=l.get(Ue.id);pt&&(rt=Ee(pt,Ae))}else if(Ue.type==="service"&&!Ue.isCustom){const pt=n.find(st=>st.id===Ue.productId);pt&&(rt=Ee(pt,Ae))}return{...Ue,price:rt}}))},[Ae,l,n,Ee,h]),re.useEffect(()=>{if(T){const Se=o.filter(Ue=>Ue.customerId===T&&Ue.remainingAmount>0).reduce((Ue,rt)=>Ue+rt.remainingAmount,0);B(Se)}else B(0)},[T,o]),re.useEffect(()=>{T||S(Le)},[Le,T]),re.useEffect(()=>{se("")},[f]);const xe=re.useCallback(Se=>{const Ue=s.get(Se.id)||0;if(!U&&Ue<=0){E(w("productOutOfStock",{productName:Se.name})),setTimeout(()=>E(null),3e3);return}h(rt=>{const pt=rt.find(Pt=>Pt.id===Se.id);if(pt){const Pt=pt.quantity+1;return!U&&Pt>Ue?(E(w("notEnoughStock",{productName:Se.name})),setTimeout(()=>E(null),3e3),rt):rt.map(lr=>lr.id===Se.id?{...lr,quantity:Pt}:lr)}const st=n.find(Pt=>Pt.id===Se.productId),mn={id:Se.id,storeId:Se.storeId,name:`${st==null?void 0:st.name} - ${Se.name}`,type:"good",price:Ee(Se,Ae),purchasePrice:Se.purchasePrice,stock:Ue,quantity:1,image:Se.image,productId:Se.productId};return[...rt,mn]}),E(w("productAdded",{productName:Se.name})),setTimeout(()=>E(null),3e3)},[h,U,w,s,n,Ee,Ae]),Pe=re.useCallback(Se=>{h(Ue=>{if(Ue.find(st=>st.id===Se.id))return Ue.map(st=>st.id===Se.id?{...st,quantity:st.quantity+1}:st);const pt={id:Se.id,storeId:Se.storeId,name:Se.name,type:"service",price:Ee(Se,Ae),quantity:1,image:Se.image,productId:Se.id};return[...Ue,pt]})},[h,Ee,Ae]),be=(Se,Ue,rt)=>{const pt=crypto.randomUUID(),st={id:pt,productId:pt,storeId:e.storeId,name:Se,price:rt,quantity:Ue,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("service"))}`,isCustom:!0};h(mn=>[...mn,st]),me(!1),E(w("customItemAdded")),setTimeout(()=>E(null),3e3)},ke=re.useCallback(Se=>{const Ue=c.get(Se);Ue?xe(Ue):(E(w("productNotFound",{barcode:Se})),setTimeout(()=>E(null),3e3))},[c,xe,w]),ye=async Se=>{var rt;const Ue=(rt=Se.target.files)==null?void 0:rt[0];if(Ue){if(!EE){E(w("geminiApiKeyNotConfigured")),setTimeout(()=>E(null),4e3),Se.target&&(Se.target.value="");return}te(!0),E(w("scanning"));try{const pt=await new Promise((Ke,Mt)=>{const kr=new FileReader;kr.onload=()=>Ke(kr.result.split(",")[1]),kr.onerror=Hn=>Mt(Hn),kr.readAsDataURL(Ue)}),st=new bQ({apiKey:EE}),mn={inlineData:{mimeType:Ue.type,data:pt}},Pt={text:"From the provided receipt image, extract all purchase line items. For each item, provide its name (designation), quantity (quantite), and its unit price (prixHT). Return as a JSON array."},lr=await st.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[mn,Pt]},config:{responseMimeType:"application/json",responseSchema:{type:Bi.ARRAY,items:{type:Bi.OBJECT,properties:{designation:{type:Bi.STRING,description:"Item name or description from the receipt."},quantite:{type:Bi.NUMBER,description:"The quantity of the item."},prixHT:{type:Bi.NUMBER,description:"The unit price of the item (Prix HT)."}},required:["designation","quantite","prixHT"]}}}}),li=JSON.parse(lr.text);if(!Array.isArray(li))throw new Error("AI response is not a valid array.");const fn=li.map(Ke=>{const Mt=crypto.randomUUID();return{id:Mt,productId:Mt,storeId:e.storeId,name:Ke.designation,price:Ke.prixHT,quantity:Ke.quantite,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("service"))}`,isCustom:!0}});h(Ke=>[...Ke,...fn]),E(w("itemsAddedFromReceipt",{count:fn.length})),setTimeout(()=>E(null),4e3)}catch(pt){console.error("Error scanning receipt:",pt),E(w("receiptScanError")),setTimeout(()=>E(null),4e3)}finally{te(!1),Se.target&&(Se.target.value="")}}};re.useEffect(()=>{const Se=Ue=>{const rt=Ue.target;if(!(["INPUT","SELECT","TEXTAREA"].includes(rt.tagName)&&rt.id!=="pos-scanner-listener")){if(ce.current&&clearTimeout(ce.current),Ue.key==="Enter"){le.current.length>3&&ke(le.current),le.current="",Ue.preventDefault();return}Ue.key.length===1&&(le.current+=Ue.key),ce.current=setTimeout(()=>{le.current=""},100)}};return window.addEventListener("keydown",Se),()=>{window.removeEventListener("keydown",Se),ce.current&&clearTimeout(ce.current)}},[ke]);const Ve=re.useMemo(()=>{const Se=M.toLowerCase();if(F){const rt=n.filter(pt=>pt.type==="service");return M?rt.filter(pt=>pt.name.toLowerCase().includes(Se)):rt}return M.length<1&&!D?[]:n.filter(rt=>rt.type==="good").filter(rt=>!D||rt.categoryId===D?M?rt.name.toLowerCase().includes(Se):!0:!1)},[n,D,M,F]),Ge=Se=>{Se.type==="service"?Pe(Se):z(Se),I("")},ot=Se=>{xe(Se),z(null)},ze=F||M.length>0||!!D,ft=(Se,Ue,rt)=>{h(pt=>{const st=pt.find(Pt=>Pt.id===Se);if(!st)return pt;let mn=rt;return Ue==="quantity"&&(mn<.5&&(mn=.5),st.type==="good"&&!U&&st.stock&&mn>st.stock&&(mn=st.stock)),Ue==="price"&&mn<0&&(mn=0),pt.map(Pt=>Pt.id===Se?{...Pt,[Ue]:mn}:Pt)})},et=Se=>{h(f.filter(Ue=>Ue.id!==Se))},ht=()=>{h([]),S(0),se(""),C(void 0)},We=async Se=>{if(f.length===0){alert(w("emptyCartError"));return}await p(x,T,Le,Se),S(0),C(void 0),se("")},cn=()=>{if(f.length===0){alert(w("emptyCartError"));return}v(f)},kt=()=>{const Se=parseFloat(W);if(T&&Se>0){if(Se>R){alert(w("enterValidPayment"));return}b(T,Se),K("")}};return re.useEffect(()=>{ht(),G(!1)},[U]),m.jsxs(m.Fragment,{children:[L&&m.jsx(wQ,{product:L,variants:u.get(L.id)||[],stockMap:s,onClose:()=>z(null),onSelectVariant:ot,t:w,isReturnMode:U}),ie&&m.jsx(SQ,{onSave:be,onClose:()=>me(!1),t:w}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-xl shadow-lg flex justify-center",children:m.jsxs("div",{className:`flex rounded-lg p-1 ${U?"bg-orange-100 dark:bg-orange-900/50":"bg-gray-200 dark:bg-slate-700"}`,children:[m.jsx("button",{onClick:()=>O(!1),className:`px-8 py-2 rounded-md font-semibold transition-all ${U?"text-slate-600 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400"}`,children:w("saleMode")}),m.jsx("button",{onClick:()=>O(!0),className:`px-8 py-2 rounded-md font-semibold transition-all ${U?"bg-white dark:bg-slate-800 shadow text-orange-700 dark:text-orange-400":"text-slate-600 dark:text-slate-400"}`,children:w("returnMode")})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:w("priceLevels")}),m.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-200 dark:bg-slate-700",children:[m.jsx("button",{onClick:()=>V("unit"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${Ae==="unit"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("unit")}),m.jsx("button",{onClick:()=>V("semiWholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${Ae==="semiWholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("semiWholesale")}),m.jsx("button",{onClick:()=>V("wholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${Ae==="wholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("wholesale")})]})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-center gap-3 bg-teal-50 dark:bg-slate-700 text-teal-700 dark:text-teal-300 p-3 rounded-lg",children:[m.jsx(kD,{className:"w-8 h-8"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold",children:w("barcodeScannerActive")}),m.jsx("p",{className:"text-sm",children:w("scanToAdd")})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:w("manualAdd")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>me(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(vl,{className:"w-5 h-5"}),w("addCustomItem")]}),t.enableAiReceiptScan&&m.jsxs("button",{onClick:()=>{var Se;return(Se=ue.current)==null?void 0:Se.click()},disabled:Q,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",children:[Q?m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m.jsx(Ka,{className:"w-5 h-5"}),w(Q?"scanning":"scanReceipt")]})]}),m.jsx("input",{type:"file",ref:ue,onChange:ye,className:"hidden",accept:"image/*"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:w("filterByCategory")}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>{$(null),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${!D&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:w("all")}),a.map(Se=>m.jsx("button",{onClick:()=>{$(Se.id),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${D===Se.id&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:Se.name},Se.id))]})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("button",{onClick:()=>{G(!0),$(null)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-base font-bold rounded-lg border-2 transition-all ${F?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-gray-300 dark:border-slate-600 hover:border-purple-500 dark:hover:border-purple-500"}`,children:[m.jsx(Ka,{className:"w-6 h-6"})," ",w("services")]})}),m.jsxs("div",{className:"relative mt-4",children:[m.jsx("input",{type:"text",placeholder:w("searchPlaceholder"),value:M,onChange:Se=>I(Se.target.value),className:"w-full px-4 py-2 border dark:border-slate-600 rounded-lg focus:ring-teal-500 bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),ze&&m.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Ve.length>0?Ve.map(Se=>{var Ue;return m.jsxs("li",{className:"flex items-center p-3 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>Ge(Se),children:[Se.type==="good"?m.jsx("img",{src:Se.image,alt:Se.name,className:"w-12 h-12 object-cover rounded-md mx-4 bg-gray-200"}):m.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-md bg-purple-100 dark:bg-purple-900/50 mx-4",children:m.jsx(Ka,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Se.name}),m.jsxs("div",{className:"flex justify-between items-center",children:[Se.type==="service"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[w("price"),": ",(Ue=Se.price)==null?void 0:Ue.toFixed(2)," DH"]}),Se.type==="good"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(u.get(Se.id)||[]).length," ",w("variants")]})]})]}),m.jsxs("button",{className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 font-bold py-2 px-3 rounded-lg text-sm flex items-center gap-1 pointer-events-none",children:[m.jsx(vl,{className:"w-4 h-4"})," ",w("add")]})]},Se.id)}):m.jsx("li",{className:"p-3 text-slate-500 dark:text-slate-400",children:w("productNotFound",{barcode:""})})})]})]}),k&&m.jsx("div",{className:`fixed bottom-4 left-4 z-50 p-4 text-center rounded-lg shadow-xl ${k.includes("Impossible")||k.includes("rupture")||k.includes("Aucun")||k.includes("Erreur")?"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200":"bg-teal-100 text-teal-800 dark:bg-teal-900/70 dark:text-teal-200"}`,children:k})]}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:`p-6 rounded-xl shadow-lg sticky top-6 flex flex-col h-[90vh] ${U?"bg-orange-50 dark:bg-slate-800 border-2 border-orange-500/50":"bg-white dark:bg-slate-800"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:w(U?"returnReceipt":"invoice")}),m.jsx("button",{onClick:ht,title:w(U?"returnReceipt":"invoice"),className:"text-slate-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 p-2 rounded-lg transition-colors",children:m.jsx(oi,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto pl-2 space-y-3 mb-4 text-sm",children:f.length>0?f.map(Se=>m.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[m.jsxs("div",{className:"col-span-3",children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Se.name}),Se.type==="good"||Se.isCustom?m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Se.price.toFixed(2)," x ",Se.quantity]}):m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:Se.price,onChange:Ue=>ft(Se.id,"price",parseFloat(Ue.target.value)),className:"w-20 text-xs p-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"}),m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mx-1",children:["x ",Se.quantity]})]})]}),m.jsx("input",{type:"number",value:Se.quantity,onChange:Ue=>ft(Se.id,"quantity",parseFloat(Ue.target.value)||0),min:"0.5",step:"0.5",max:U||Se.type==="service"?void 0:Se.stock,className:"w-16 text-center border dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),m.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 w-20 text-left col-span-1",children:(Se.price*Se.quantity).toFixed(2)}),m.jsx("button",{onClick:()=>et(Se.id),className:"text-red-500 hover:text-red-700 justify-self-center",children:m.jsx(oi,{className:"w-5 h-5"})})]},Se.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:w("emptyCart")})}),m.jsxs("div",{className:"mt-auto pt-4 border-t-2 border-dashed dark:border-slate-600 space-y-4",children:[!U&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{htmlFor:"customer",className:"font-semibold text-slate-600 dark:text-slate-300",children:[w("customer"),":"]}),m.jsxs("select",{id:"customer",value:T||"",onChange:Se=>C(Se.target.value||void 0),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-teal-500",children:[m.jsx("option",{value:"",children:w("cashCustomer")}),i.map(Se=>m.jsx("option",{value:Se.id,children:Se.name},Se.id))]})]}),R>0&&m.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-yellow-800 dark:text-yellow-300",children:w("debtPayment")}),m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[R.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx("input",{type:"number",placeholder:w("amount"),value:W,onChange:Se=>K(Se.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:R}),m.jsx("button",{onClick:kt,disabled:!W||parseFloat(W)<=0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg disabled:bg-gray-400 dark:disabled:bg-slate-500 whitespace-nowrap",children:w("save")})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-red-600 dark:text-red-400",children:[m.jsx("label",{htmlFor:"manualTotal",className:"font-semibold",children:w("manualTotal")}),m.jsx("input",{type:"number",id:"manualTotal",placeholder:Me.toFixed(2),value:Z,onChange:Se=>se(Se.target.value),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-red-600 dark:text-red-400 font-bold dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-300",children:[m.jsx("label",{htmlFor:"downPayment",className:"font-semibold",children:w("downPayment")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",id:"downPayment",value:x,onChange:Se=>S(Math.max(0,parseFloat(Se.target.value)||0)),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 disabled:bg-gray-200 dark:disabled:bg-slate-600 disabled:cursor-not-allowed dark:border-slate-600",disabled:!T,readOnly:!T,step:"0.01"}),T&&m.jsx("button",{onClick:()=>S(Le),className:"text-xs bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 font-semibold px-2 py-1 rounded-md hover:bg-cyan-200 dark:hover:bg-cyan-800/50",children:w("total")})]})]})]}),U?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:[m.jsxs("span",{children:[w("refundAmount"),":"]}),m.jsxs("span",{children:[Me.toFixed(2)," DH"]})]}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:cn,className:"bg-orange-600 hover:bg-orange-700 w-full text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("processReturn")})})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300 mb-2",children:[m.jsxs("span",{className:"font-bold",children:[w("total"),":"]}),m.jsxs("span",{className:"font-bold",children:[Le.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>We("orderForm"),className:"w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500 text-sm",disabled:f.length===0,children:w("finalizeAndPrintOrderForm")})]}),m.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg",children:[m.jsxs("div",{className:"text-sm space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("totalHT"),":"]}),m.jsxs("span",{children:[Ce.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("vat"),":"]}),m.jsxs("span",{children:[ae.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-800 dark:text-slate-100 mt-2 pt-2 border-t dark:border-slate-700",children:[m.jsxs("span",{children:[w("totalTTC"),":"]}),m.jsxs("span",{children:[Le.toFixed(2)," DH"]})]})]}),m.jsx("button",{onClick:()=>We("invoice"),className:"mt-2 w-full bg-teal-600 text-white font-bold py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("finalizeAndPrintInvoice")})]}),m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-cyan-100 text-cyan-700 dark:bg-cyan-900/50 dark:text-cyan-300",children:[m.jsxs("span",{children:[w("remaining"),":"]}),m.jsxs("span",{children:[Ne.toFixed(2)," DH"]})]})]})]})]})})]})]})};function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}var Yr=Uint8Array,Hi=Uint16Array,NS=Int32Array,Gv=new Yr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wv=new Yr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),T2=new Yr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pI=function(t,e){for(var n=new Hi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new NS(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},AI=pI(Gv,2),mI=AI.b,C2=AI.r;mI[28]=258,C2[258]=28;var gI=pI(Wv,0),TQ=gI.b,kE=gI.r,N2=new Hi(32768);for(var kn=0;kn<32768;++kn){var qs=(kn&43690)>>1|(kn&21845)<<1;qs=(qs&52428)>>2|(qs&13107)<<2,qs=(qs&61680)>>4|(qs&3855)<<4,N2[kn]=((qs&65280)>>8|(qs&255)<<8)>>1}var go=function(t,e,n){for(var r=t.length,i=0,a=new Hi(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Hi(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Hi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)s[N2[f]>>l]=u}else for(s=new Hi(r),i=0;i<r;++i)t[i]&&(s[i]=N2[o[t[i]-1]++]>>15-t[i]);return s},El=new Yr(288);for(var kn=0;kn<144;++kn)El[kn]=8;for(var kn=144;kn<256;++kn)El[kn]=9;for(var kn=256;kn<280;++kn)El[kn]=7;for(var kn=280;kn<288;++kn)El[kn]=8;var Bp=new Yr(32);for(var kn=0;kn<32;++kn)Bp[kn]=5;var CQ=go(El,9,0),NQ=go(El,9,1),EQ=go(Bp,5,0),kQ=go(Bp,5,1),g1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ra=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},v1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ES=function(t){return(t+7)/8|0},vI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Yr(t.subarray(e,n))},PQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qa=function(t,e,n){var r=new Error(e||PQ[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,qa),!n)throw r;return r},MQ=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new Yr(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new Yr(i*3));var u=function(ce){var ue=n.length;if(ce>ue){var Me=new Yr(Math.max(ue*2,ce));Me.set(n),n=Me}},c=e.f||0,f=e.p||0,h=e.b||0,p=e.l,v=e.d,b=e.m,w=e.n,y=i*8;do{if(!p){c=Ra(t,f,1);var x=Ra(t,f+1,3);if(f+=3,x)if(x==1)p=NQ,v=kQ,b=9,w=5;else if(x==2){var k=Ra(t,f,31)+257,E=Ra(t,f+10,15)+4,M=k+Ra(t,f+5,31)+1;f+=14;for(var I=new Yr(M),U=new Yr(19),O=0;O<E;++O)U[T2[O]]=Ra(t,f+O*3,7);f+=E*3;for(var D=g1(U),$=(1<<D)-1,F=go(U,D,1),O=0;O<M;){var G=F[Ra(t,f,$)];f+=G&15;var S=G>>4;if(S<16)I[O++]=S;else{var R=0,B=0;for(S==16?(B=3+Ra(t,f,3),f+=2,R=I[O-1]):S==17?(B=3+Ra(t,f,7),f+=3):S==18&&(B=11+Ra(t,f,127),f+=7);B--;)I[O++]=R}}var W=I.subarray(0,k),K=I.subarray(k);b=g1(W),w=g1(K),p=go(W,b,1),v=go(K,w,1)}else qa(1);else{var S=ES(f)+4,T=t[S-4]|t[S-3]<<8,C=S+T;if(C>i){l&&qa(0);break}s&&u(h+T),n.set(t.subarray(S,C),h),e.b=h+=T,e.p=f=C*8,e.f=c;continue}if(f>y){l&&qa(0);break}}s&&u(h+131072);for(var Z=(1<<b)-1,se=(1<<w)-1,L=f;;L=f){var R=p[v1(t,f)&Z],z=R>>4;if(f+=R&15,f>y){l&&qa(0);break}if(R||qa(2),z<256)n[h++]=z;else if(z==256){L=f,p=null;break}else{var Q=z-254;if(z>264){var O=z-257,te=Gv[O];Q=Ra(t,f,(1<<te)-1)+mI[O],f+=te}var ie=v[v1(t,f)&se],me=ie>>4;ie||qa(3),f+=ie&15;var K=TQ[me];if(me>3){var te=Wv[me];K+=v1(t,f)&(1<<te)-1,f+=te}if(f>y){l&&qa(0);break}s&&u(h+131072);var Ae=h+Q;if(h<K){var V=a-K,le=Math.min(K,Ae);for(V+h<0&&qa(3);h<le;++h)n[h]=r[V+h]}for(;h<Ae;++h)n[h]=n[h-K]}}e.l=p,e.p=L,e.b=h,e.f=c,p&&(c=1,e.m=b,e.d=v,e.n=w)}while(!c);return h!=n.length&&o?vI(n,0,h):n.subarray(0,h)},Bo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Mh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},y1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:bI,l:0};if(i==1){var o=new Yr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,k){return C.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new Hi(h+1),v=E2(n[c-1],p,0);if(v>e){var r=0,b=0,w=v-e,y=1<<w;for(a.sort(function(k,E){return p[E.s]-p[k.s]||k.f-E.f});r<i;++r){var x=a[r].s;if(p[x]>e)b+=y-(1<<v-p[x]),p[x]=e;else break}for(b>>=w;b>0;){var S=a[r].s;p[S]<e?b-=1<<e-p[S]++-1:++r}for(;r>=0&&b;--r){var T=a[r].s;p[T]==e&&(--p[T],++b)}v=e}return{t:new Yr(p),l:v}},E2=function(t,e,n){return t.s==-1?Math.max(E2(t.l,e,n+1),E2(t.r,e,n+1)):e[t.s]=n},PE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Hi(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},Oh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},yI=function(t,e,n){var r=n.length,i=ES(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},ME=function(t,e,n,r,i,a,o,s,l,u,c){Bo(e,c++,n),++i[256];for(var f=y1(i,15),h=f.t,p=f.l,v=y1(a,15),b=v.t,w=v.l,y=PE(h),x=y.c,S=y.n,T=PE(b),C=T.c,k=T.n,E=new Hi(19),M=0;M<x.length;++M)++E[x[M]&31];for(var M=0;M<C.length;++M)++E[C[M]&31];for(var I=y1(E,7),U=I.t,O=I.l,D=19;D>4&&!U[T2[D-1]];--D);var $=u+5<<3,F=Oh(i,El)+Oh(a,Bp)+o,G=Oh(i,h)+Oh(a,b)+o+14+3*D+Oh(E,U)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&$<=F&&$<=G)return yI(e,c,t.subarray(l,l+u));var R,B,W,K;if(Bo(e,c,1+(G<F)),c+=2,G<F){R=go(h,p,0),B=h,W=go(b,w,0),K=b;var Z=go(U,O,0);Bo(e,c,S-257),Bo(e,c+5,k-1),Bo(e,c+10,D-4),c+=14;for(var M=0;M<D;++M)Bo(e,c+3*M,U[T2[M]]);c+=3*D;for(var se=[x,C],L=0;L<2;++L)for(var z=se[L],M=0;M<z.length;++M){var Q=z[M]&31;Bo(e,c,Z[Q]),c+=U[Q],Q>15&&(Bo(e,c,z[M]>>5&127),c+=z[M]>>12)}}else R=CQ,B=El,W=EQ,K=Bp;for(var M=0;M<s;++M){var te=r[M];if(te>255){var Q=te>>18&31;Mh(e,c,R[Q+257]),c+=B[Q+257],Q>7&&(Bo(e,c,te>>23&31),c+=Gv[Q]);var ie=te&31;Mh(e,c,W[ie]),c+=K[ie],ie>3&&(Mh(e,c,te>>5&8191),c+=Wv[ie])}else Mh(e,c,R[te]),c+=B[te]}return Mh(e,c,R[256]),c+B[256]},OQ=new NS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bI=new Yr(0),DQ=function(t,e,n,r,i,a){var o=a.z||t.length,s=new Yr(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=OQ[e-1],h=f>>13,p=f&8191,v=(1<<n)-1,b=a.p||new Hi(32768),w=a.h||new Hi(v+1),y=Math.ceil(n/3),x=2*y,S=function(Le){return(t[Le]^t[Le+1]<<y^t[Le+2]<<x)&v},T=new NS(25e3),C=new Hi(288),k=new Hi(32),E=0,M=0,I=a.i||0,U=0,O=a.w||0,D=0;I+2<o;++I){var $=S(I),F=I&32767,G=w[$];if(b[F]=G,w[$]=F,O<=I){var R=o-I;if((E>7e3||U>24576)&&(R>423||!u)){c=ME(t,l,0,T,C,k,M,U,D,I-D,c),U=E=M=0,D=I;for(var B=0;B<286;++B)C[B]=0;for(var B=0;B<30;++B)k[B]=0}var W=2,K=0,Z=p,se=F-G&32767;if(R>2&&$==S(I-se))for(var L=Math.min(h,R)-1,z=Math.min(32767,I),Q=Math.min(258,R);se<=z&&--Z&&F!=G;){if(t[I+W]==t[I+W-se]){for(var te=0;te<Q&&t[I+te]==t[I+te-se];++te);if(te>W){if(W=te,K=se,te>L)break;for(var ie=Math.min(se,te-2),me=0,B=0;B<ie;++B){var Ae=I-se+B&32767,V=b[Ae],le=Ae-V&32767;le>me&&(me=le,G=Ae)}}}F=G,G=b[F],se+=F-G&32767}if(K){T[U++]=268435456|C2[W]<<18|kE[K];var ce=C2[W]&31,ue=kE[K]&31;M+=Gv[ce]+Wv[ue],++C[257+ce],++k[ue],O=I+W,++E}else T[U++]=t[I],++C[t[I]]}}for(I=Math.max(I,O);I<o;++I)T[U++]=t[I],++C[t[I]];c=ME(t,l,u,T,C,k,M,U,D,I-D,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=w,a.p=b,a.i=I,a.w=O)}else{for(var I=a.w||0;I<o+u;I+=65535){var Me=I+65535;Me>=o&&(l[c/8|0]=u,Me=o),c=yI(l,c+1,t.subarray(I,Me))}a.i=o}return vI(s,0,r+ES(c)+i)},xI=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},IQ=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Yr(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return DQ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},wI=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},jQ=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=xI();i.p(e.dictionary),wI(t,2,i.d())}},LQ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&qa(6,"invalid zlib data"),(t[1]>>5&1)==1&&qa(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function k2(t,e){e||(e={});var n=xI();n.p(t);var r=IQ(t,e,e.dictionary?6:2,4);return jQ(r,e),wI(r,r.length-4,n.d()),r}function RQ(t,e){return MQ(t.subarray(LQ(t),-4),{i:2},e,e)}var FQ=typeof TextDecoder<"u"&&new TextDecoder,$Q=0;try{FQ.decode(bI,{stream:!0}),$Q=1}catch{}var mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function b1(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var hn={log:b1,warn:function(t){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):b1.call(null,arguments))},error:function(t){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):b1(t))}};function x1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){uu(r.response,e,n)},r.onerror=function(){hn.error("could not download file")},r.send()}function OE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Jm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var pp,P2,uu=mt.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=mt.URL||mt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?OE(i.href)?x1(t,e,n):Jm(i,i.target="_blank"):Jm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Jm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(OE(t))x1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Jm(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:rn(a)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return x1(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(mt.HTMLElement)||mt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=mt.URL||mt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function w1(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=qr(n,r,i,a,e[0],7,-680876936),a=qr(a,n,r,i,e[1],12,-389564586),i=qr(i,a,n,r,e[2],17,606105819),r=qr(r,i,a,n,e[3],22,-1044525330),n=qr(n,r,i,a,e[4],7,-176418897),a=qr(a,n,r,i,e[5],12,1200080426),i=qr(i,a,n,r,e[6],17,-1473231341),r=qr(r,i,a,n,e[7],22,-45705983),n=qr(n,r,i,a,e[8],7,1770035416),a=qr(a,n,r,i,e[9],12,-1958414417),i=qr(i,a,n,r,e[10],17,-42063),r=qr(r,i,a,n,e[11],22,-1990404162),n=qr(n,r,i,a,e[12],7,1804603682),a=qr(a,n,r,i,e[13],12,-40341101),i=qr(i,a,n,r,e[14],17,-1502002290),n=Hr(n,r=qr(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Hr(a,n,r,i,e[6],9,-1069501632),i=Hr(i,a,n,r,e[11],14,643717713),r=Hr(r,i,a,n,e[0],20,-373897302),n=Hr(n,r,i,a,e[5],5,-701558691),a=Hr(a,n,r,i,e[10],9,38016083),i=Hr(i,a,n,r,e[15],14,-660478335),r=Hr(r,i,a,n,e[4],20,-405537848),n=Hr(n,r,i,a,e[9],5,568446438),a=Hr(a,n,r,i,e[14],9,-1019803690),i=Hr(i,a,n,r,e[3],14,-187363961),r=Hr(r,i,a,n,e[8],20,1163531501),n=Hr(n,r,i,a,e[13],5,-1444681467),a=Hr(a,n,r,i,e[2],9,-51403784),i=Hr(i,a,n,r,e[7],14,1735328473),n=zr(n,r=Hr(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=zr(a,n,r,i,e[8],11,-2022574463),i=zr(i,a,n,r,e[11],16,1839030562),r=zr(r,i,a,n,e[14],23,-35309556),n=zr(n,r,i,a,e[1],4,-1530992060),a=zr(a,n,r,i,e[4],11,1272893353),i=zr(i,a,n,r,e[7],16,-155497632),r=zr(r,i,a,n,e[10],23,-1094730640),n=zr(n,r,i,a,e[13],4,681279174),a=zr(a,n,r,i,e[0],11,-358537222),i=zr(i,a,n,r,e[3],16,-722521979),r=zr(r,i,a,n,e[6],23,76029189),n=zr(n,r,i,a,e[9],4,-640364487),a=zr(a,n,r,i,e[12],11,-421815835),i=zr(i,a,n,r,e[15],16,530742520),n=Vr(n,r=zr(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Vr(a,n,r,i,e[7],10,1126891415),i=Vr(i,a,n,r,e[14],15,-1416354905),r=Vr(r,i,a,n,e[5],21,-57434055),n=Vr(n,r,i,a,e[12],6,1700485571),a=Vr(a,n,r,i,e[3],10,-1894986606),i=Vr(i,a,n,r,e[10],15,-1051523),r=Vr(r,i,a,n,e[1],21,-2054922799),n=Vr(n,r,i,a,e[8],6,1873313359),a=Vr(a,n,r,i,e[15],10,-30611744),i=Vr(i,a,n,r,e[6],15,-1560198380),r=Vr(r,i,a,n,e[13],21,1309151649),n=Vr(n,r,i,a,e[4],6,-145523070),a=Vr(a,n,r,i,e[11],10,-1120210379),i=Vr(i,a,n,r,e[2],15,718787259),r=Vr(r,i,a,n,e[9],21,-343485551),t[0]=sl(n,t[0]),t[1]=sl(r,t[1]),t[2]=sl(i,t[2]),t[3]=sl(a,t[3])}function Yv(t,e,n,r,i,a){return e=sl(sl(e,t),sl(r,a)),sl(e<<i|e>>>32-i,n)}function qr(t,e,n,r,i,a,o){return Yv(e&n|~e&r,t,e,i,a,o)}function Hr(t,e,n,r,i,a,o){return Yv(e&r|n&~r,t,e,i,a,o)}function zr(t,e,n,r,i,a,o){return Yv(e^n^r,t,e,i,a,o)}function Vr(t,e,n,r,i,a,o){return Yv(n^(e|~r),t,e,i,a,o)}function _I(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)w1(r,BQ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(w1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,w1(r,i),r}function BQ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}pp=mt.atob.bind(mt),P2=mt.btoa.bind(mt);var DE="0123456789abcdef".split("");function UQ(t){for(var e="",n=0;n<4;n++)e+=DE[t>>8*n+4&15]+DE[t>>8*n&15];return e}function qQ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function M2(t){return _I(t).map(qQ).join("")}var HQ=function(t){for(var e=0;e<t.length;e++)t[e]=UQ(t[e]);return t.join("")}(_I("hello"))!="5d41402abc4b2a76b9719d911017c592";function sl(t,e){if(HQ){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function O2(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,h=0,p=0,v="";for(l=0;l<f;l++)p=(p+(c=s[h=(h+1)%256]))%256,s[h]=s[p],s[p]=c,o=s[(s[h]+s[p])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var IE={print:4,modify:8,copy:16,"annot-forms":32};function Xc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(IE.perm!==void 0)throw new Error("Invalid permission: "+s);i+=IE[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=M2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=O2(this.encryptionKey,this.padding)}function Qc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function jE(t){if(rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){mt.console&&hn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Up(t){if(!(this instanceof Up))return new Up(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function TI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function el(t,e,n,r,i){if(!(this instanceof el))return new el(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,TI.call(this,r,i)}function Au(t,e,n,r,i){if(!(this instanceof Au))return new Au(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,TI.call(this,r,i)}function ut(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;rn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=jE;var v="1.3",b=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(N){v=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var y=p.__private__.getPageFormat=function(N){return w[N]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function T(){this.saveGraphicsState(),ae(new ct(We,0,0,-We,0,Es()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),u="n",S=x.ADVANCED}function C(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var k=p.__private__.combineFontStyleAndFontWeight=function(N,H){if(N=="bold"&&H=="normal"||N=="bold"&&H==400||N=="normal"&&H=="italic"||N=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(N=H==400||H==="normal"?N==="italic"?"italic":"normal":H!=700&&H!=="bold"||N!=="normal"?(H==700?"bold":H)+""+N:"bold"),N};p.advancedAPI=function(N){var H=S===x.COMPAT;return H&&T.call(this),typeof N!="function"||(N(this),H&&C.call(this)),this},p.compatAPI=function(N){var H=S===x.ADVANCED;return H&&C.call(this),typeof N!="function"||(N(this),H&&T.call(this)),this},p.isAdvancedAPI=function(){return S===x.ADVANCED};var E,M=function(N){if(S!==x.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(N,H){var oe=e||H;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,16)};var U=p.f2=p.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return I(N,2)},O=p.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return I(N,3)},D=p.scale=p.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?N*We:S===x.ADVANCED?N:void 0},$=function(N){return S===x.COMPAT?Es()-N:S===x.ADVANCED?N:void 0},F=function(N){return D($(N))};p.__private__.setPrecision=p.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var G,R="00000000000000000000000000000000",B=p.__private__.getFileId=function(){return R},W=p.__private__.setFileId=function(N){return R=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Br=new Xc(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};p.setFileId=function(N){return W(N),this},p.getFileId=function(){return B()};var K=p.__private__.convertDateToPDFDate=function(N){var H=N.getTimezoneOffset(),oe=H<0?"+":"-",fe=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),De=[oe,Q(fe),"'",Q(we),"'"].join("");return["D:",N.getFullYear(),Q(N.getMonth()+1),Q(N.getDate()),Q(N.getHours()),Q(N.getMinutes()),Q(N.getSeconds()),De].join("")},Z=p.__private__.convertPDFDateToDate=function(N){var H=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,fe=parseInt(N.substr(8,2),10),we=parseInt(N.substr(10,2),10),De=parseInt(N.substr(12,2),10),He=parseInt(N.substr(14,2),10);return new Date(H,oe,fe,we,De,He,0)},se=p.__private__.setCreationDate=function(N){var H;if(N===void 0&&(N=new Date),N instanceof Date)H=K(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=N}return G=H},L=p.__private__.getCreationDate=function(N){var H=G;return N==="jsDate"&&(H=Z(G)),H};p.setCreationDate=function(N){return se(N),this},p.getCreationDate=function(N){return L(N)};var z,Q=p.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},te=p.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},ie=0,me=[],Ae=[],V=0,le=[],ce=[],ue=!1,Me=Ae,Le=function(){ie=0,V=0,Ae=[],me=[],le=[],Zi=In(),ui=In()};p.__private__.setCustomOutputDestination=function(N){ue=!0,Me=N};var Ce=function(N){ue||(Me=N)};p.__private__.resetCustomOutputDestination=function(){ue=!1,Me=Ae};var ae=p.__private__.out=function(N){return N=N.toString(),V+=N.length+1,Me.push(N),Me},Ne=p.__private__.write=function(N){return ae(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ee=p.__private__.getArrayBuffer=function(N){for(var H=N.length,oe=new ArrayBuffer(H),fe=new Uint8Array(oe);H--;)fe[H]=N.charCodeAt(H);return oe},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return xe};var Pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(N){return Pe=S===x.ADVANCED?N/We:N,this};var be,ke=p.__private__.getFontSize=p.getFontSize=function(){return S===x.COMPAT?Pe:Pe*We},ye=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(N){return ye=N,this},p.__private__.getR2L=p.getR2L=function(){return ye};var Ve,Ge=p.__private__.setZoomMode=function(N){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))be=N;else if(isNaN(N)){if(H.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');be=N}else be=parseInt(N,10)};p.__private__.getZoomMode=function(){return be};var ot,ze=p.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ve=N};p.__private__.getPageMode=function(){return Ve};var ft=p.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');ot=N};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(N,H,oe){return Ge(N),ft(H),ze(oe),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(N){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[N]},p.__private__.getDocumentProperties=function(){return et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(N){for(var H in et)et.hasOwnProperty(H)&&N[H]&&(et[H]=N[H]);return this},p.__private__.setDocumentProperty=function(N,H){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[N]=H};var ht,We,cn,kt,Se,Ue={},rt={},pt=[],st={},mn={},Pt={},lr={},li=null,fn=0,Ke=[],Mt=new jE(p),kr=t.hotfixes||[],Hn={},Xi={},Qi=[],ct=function N(H,oe,fe,we,De,He){if(!(this instanceof N))return new N(H,oe,fe,we,De,He);isNaN(H)&&(H=1),isNaN(oe)&&(oe=0),isNaN(fe)&&(fe=0),isNaN(we)&&(we=1),isNaN(De)&&(De=0),isNaN(He)&&(He=0),this._matrix=[H,oe,fe,we,De,He]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(N)},ct.prototype.multiply=function(N){var H=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,fe=N.shx*this.sx+N.sy*this.shx,we=N.shx*this.shy+N.sy*this.sy,De=N.tx*this.sx+N.ty*this.shx+this.tx,He=N.tx*this.shy+N.ty*this.sy+this.ty;return new ct(H,oe,fe,we,De,He)},ct.prototype.decompose=function(){var N=this.sx,H=this.shy,oe=this.shx,fe=this.sy,we=this.tx,De=this.ty,He=Math.sqrt(N*N+H*H),Ze=(N/=He)*oe+(H/=He)*fe;oe-=N*Ze,fe-=H*Ze;var lt=Math.sqrt(oe*oe+fe*fe);return Ze/=lt,N*(fe/=lt)<H*(oe/=lt)&&(N=-N,H=-H,Ze=-Ze,He=-He),{scale:new ct(He,0,0,lt,0,0),translate:new ct(1,0,0,1,we,De),rotate:new ct(N,H,-H,N,0,0),skew:new ct(1,0,Ze,1,0,0)}},ct.prototype.toString=function(N){return this.join(" ")},ct.prototype.inversed=function(){var N=this.sx,H=this.shy,oe=this.shx,fe=this.sy,we=this.tx,De=this.ty,He=1/(N*fe-H*oe),Ze=fe*He,lt=-H*He,_t=-oe*He,wt=N*He;return new ct(Ze,lt,_t,wt,-Ze*we-_t*De,-lt*we-wt*De)},ct.prototype.applyToPoint=function(N){var H=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new mc(H,oe)},ct.prototype.applyToRectangle=function(N){var H=this.applyToPoint(N),oe=this.applyToPoint(new mc(N.x+N.w,N.y+N.h));return new th(H.x,H.y,oe.x-H.x,oe.y-H.y)},ct.prototype.clone=function(){var N=this.sx,H=this.shy,oe=this.shx,fe=this.sy,we=this.tx,De=this.ty;return new ct(N,H,oe,fe,we,De)},p.Matrix=ct;var Ni=p.matrixMult=function(N,H){return H.multiply(N)},Ei=new ct(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ei;var Fr=function(N,H){if(!mn[N]){var oe=(H instanceof el?"Sh":"P")+(Object.keys(st).length+1).toString(10);H.id=oe,mn[N]=oe,st[oe]=H,Mt.publish("addPattern",H)}};p.ShadingPattern=el,p.TilingPattern=Au,p.addShadingPattern=function(N,H){return M("addShadingPattern()"),Fr(N,H),this},p.beginTilingPattern=function(N){M("beginTilingPattern()"),nm(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},p.endTilingPattern=function(N,H){M("endTilingPattern()"),H.stream=ce[z].join(`
`),Fr(N,H),Mt.publish("endTilingPattern",H),Qi.pop().restore()};var zn=p.__private__.newObject=function(){var N=In();return $r(N,!0),N},In=p.__private__.newObjectDeferred=function(){return ie++,me[ie]=function(){return V},ie},$r=function(N,H){return H=typeof H=="boolean"&&H,me[N]=V,H&&ae(N+" 0 obj"),N},Pa=p.__private__.newAdditionalObject=function(){var N={objId:In(),content:""};return le.push(N),N},Zi=In(),ui=In(),ki=p.__private__.decodeColorString=function(N){var H=N.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var oe=parseFloat(H[0]);H=[oe,oe,oe,"r"]}for(var fe="#",we=0;we<3;we++)fe+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return fe},Pi=p.__private__.encodeColorString=function(N){var H;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,fe=N.ch2,we=N.ch3,De=N.ch4,He=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var Ze=new SI(oe);if(Ze.ok)oe=Ze.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var lt=parseInt(oe.substr(1),16);oe=lt>>16&255,fe=lt>>8&255,we=255&lt}if(fe===void 0||De===void 0&&oe===fe&&fe===we)if(typeof oe=="string")H=oe+" "+He[0];else switch(N.precision){case 2:H=U(oe/255)+" "+He[0];break;case 3:default:H=O(oe/255)+" "+He[0]}else if(De===void 0||rn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return H=["1.","1.","1.",He[1]].join(" ");if(typeof oe=="string")H=[oe,fe,we,He[1]].join(" ");else switch(N.precision){case 2:H=[U(oe/255),U(fe/255),U(we/255),He[1]].join(" ");break;default:case 3:H=[O(oe/255),O(fe/255),O(we/255),He[1]].join(" ")}}else if(typeof oe=="string")H=[oe,fe,we,De,He[2]].join(" ");else switch(N.precision){case 2:H=[U(oe),U(fe),U(we),U(De),He[2]].join(" ");break;case 3:default:H=[O(oe),O(fe),O(we),O(De),He[2]].join(" ")}return H},ea=p.__private__.getFilters=function(){return o},Xr=p.__private__.putStream=function(N){var H=(N=N||{}).data||"",oe=N.filters||ea(),fe=N.alreadyAppliedFilters||[],we=N.addLength1||!1,De=H.length,He=N.objectId,Ze=function(Ur){return Ur};if(c!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ze=Br.encryptor(He,0));var lt={};oe===!0&&(oe=["FlateEncode"]);var _t=N.additionalKeyValues||[],wt=(lt=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(H,oe):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(lt.data.length!==0&&(_t.push({key:"Length",value:lt.data.length}),we===!0&&_t.push({key:"Length1",value:De})),wt.length!=0)if(wt.split("/").length-1==1)_t.push({key:"Filter",value:wt});else{_t.push({key:"Filter",value:"["+wt+"]"});for(var Bt=0;Bt<_t.length;Bt+=1)if(_t[Bt].key==="DecodeParms"){for(var Ln=[],Rn=0;Rn<lt.reverseChain.split("/").length-1;Rn+=1)Ln.push("null");Ln.push(_t[Bt].value),_t[Bt].value="["+Ln.join(" ")+"]"}}ae("<<");for(var Qn=0;Qn<_t.length;Qn++)ae("/"+_t[Qn].key+" "+_t[Qn].value);ae(">>"),lt.data.length!==0&&(ae("stream"),ae(Ze(lt.data)),ae("endstream"))},ta=p.__private__.putPage=function(N){var H=N.number,oe=N.data,fe=N.objId,we=N.contentsObjId;$r(fe,!0),ae("<</Type /Page"),ae("/Parent "+N.rootDictionaryObjId+" 0 R"),ae("/Resources "+N.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(E(N.mediaBox.bottomLeftX))+" "+parseFloat(E(N.mediaBox.bottomLeftY))+" "+E(N.mediaBox.topRightX)+" "+E(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ae("/CropBox ["+E(N.cropBox.bottomLeftX)+" "+E(N.cropBox.bottomLeftY)+" "+E(N.cropBox.topRightX)+" "+E(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ae("/BleedBox ["+E(N.bleedBox.bottomLeftX)+" "+E(N.bleedBox.bottomLeftY)+" "+E(N.bleedBox.topRightX)+" "+E(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ae("/TrimBox ["+E(N.trimBox.bottomLeftX)+" "+E(N.trimBox.bottomLeftY)+" "+E(N.trimBox.topRightX)+" "+E(N.trimBox.topRightY)+"]"),N.artBox!==null&&ae("/ArtBox ["+E(N.artBox.bottomLeftX)+" "+E(N.artBox.bottomLeftY)+" "+E(N.artBox.topRightX)+" "+E(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ae("/UserUnit "+N.userUnit),Mt.publish("putPage",{objId:fe,pageContext:Ke[H],pageNumber:H,page:oe}),ae("/Contents "+we+" 0 R"),ae(">>"),ae("endobj");var De=oe.join(`
`);return S===x.ADVANCED&&(De+=`
Q`),$r(we,!0),Xr({data:De,filters:ea(),objectId:we}),ae("endobj"),fe},Co=p.__private__.putPages=function(){var N,H,oe=[];for(N=1;N<=fn;N++)Ke[N].objId=In(),Ke[N].contentsObjId=In();for(N=1;N<=fn;N++)oe.push(ta({number:N,data:ce[N],objId:Ke[N].objId,contentsObjId:Ke[N].contentsObjId,mediaBox:Ke[N].mediaBox,cropBox:Ke[N].cropBox,bleedBox:Ke[N].bleedBox,trimBox:Ke[N].trimBox,artBox:Ke[N].artBox,userUnit:Ke[N].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:ui}));$r(Zi,!0),ae("<</Type /Pages");var fe="/Kids [";for(H=0;H<fn;H++)fe+=oe[H]+" 0 R ";ae(fe+"]"),ae("/Count "+fn),ae(">>"),ae("endobj"),Mt.publish("postPutPages")},ys=function(N){Mt.publish("putFont",{font:N,out:ae,newObject:zn,putStream:Xr}),N.isAlreadyPutted!==!0&&(N.objectNumber=zn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Qc(N.postScriptName)),ae("/Subtype /Type1"),typeof N.encoding=="string"&&ae("/Encoding /"+N.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},bs=function(){for(var N in Ue)Ue.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&ys(Ue[N])},xs=function(N){N.objectNumber=zn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[E(N.x),E(N.y),E(N.x+N.width),E(N.y+N.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);Xr({data:oe,additionalKeyValues:H,objectId:N.objectNumber}),ae("endobj")},ws=function(){for(var N in Hn)Hn.hasOwnProperty(N)&&xs(Hn[N])},ic=function(N,H){var oe,fe=[],we=1/(H-1);for(oe=0;oe<1;oe+=we)fe.push(oe);if(fe.push(1),N[0].offset!=0){var De={offset:0,color:N[0].color};N.unshift(De)}if(N[N.length-1].offset!=1){var He={offset:1,color:N[N.length-1].color};N.push(He)}for(var Ze="",lt=0,_t=0;_t<fe.length;_t++){for(oe=fe[_t];oe>N[lt+1].offset;)lt++;var wt=N[lt].offset,Bt=(oe-wt)/(N[lt+1].offset-wt),Ln=N[lt].color,Rn=N[lt+1].color;Ze+=te(Math.round((1-Bt)*Ln[0]+Bt*Rn[0]).toString(16))+te(Math.round((1-Bt)*Ln[1]+Bt*Rn[1]).toString(16))+te(Math.round((1-Bt)*Ln[2]+Bt*Rn[2]).toString(16))}return Ze.trim()},Ud=function(N,H){H||(H=21);var oe=zn(),fe=ic(N.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xr({data:fe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ae("endobj"),N.objectNumber=zn(),ae("<< /ShadingType "+N.type),ae("/ColorSpace /DeviceRGB");var De="/Coords ["+E(parseFloat(N.coords[0]))+" "+E(parseFloat(N.coords[1]))+" ";N.type===2?De+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3])):De+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3]))+" "+E(parseFloat(N.coords[4]))+" "+E(parseFloat(N.coords[5])),ae(De+="]"),N.matrix&&ae("/Matrix ["+N.matrix.toString()+"]"),ae("/Function "+oe+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},qd=function(N,H){var oe=In(),fe=zn();H.push({resourcesOid:oe,objectOid:fe}),N.objectNumber=fe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+N.boundingBox.map(E).join(" ")+"]"}),we.push({key:"XStep",value:E(N.xStep)}),we.push({key:"YStep",value:E(N.yStep)}),we.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&we.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Xr({data:N.stream,additionalKeyValues:we,objectId:N.objectNumber}),ae("endobj")},Ss=function(N){var H;for(H in st)st.hasOwnProperty(H)&&(st[H]instanceof el?Ud(st[H]):st[H]instanceof Au&&qd(st[H],N))},ac=function(N){for(var H in N.objectNumber=zn(),ae("<<"),N)switch(H){case"opacity":ae("/ca "+U(N[H]));break;case"stroke-opacity":ae("/CA "+U(N[H]))}ae(">>"),ae("endobj")},Hd=function(){var N;for(N in Pt)Pt.hasOwnProperty(N)&&ac(Pt[N])},Fl=function(){for(var N in ae("/XObject <<"),Hn)Hn.hasOwnProperty(N)&&Hn[N].objectNumber>=0&&ae("/"+N+" "+Hn[N].objectNumber+" 0 R");Mt.publish("putXobjectDict"),ae(">>")},zd=function(){Br.oid=zn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Br.v),ae("/R "+Br.r),ae("/U <"+Br.toHexString(Br.U)+">"),ae("/O <"+Br.toHexString(Br.O)+">"),ae("/P "+Br.P),ae(">>"),ae("endobj")},oc=function(){for(var N in ae("/Font <<"),Ue)Ue.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&ae("/"+N+" "+Ue[N].objectNumber+" 0 R");ae(">>")},Vd=function(){if(Object.keys(st).length>0){for(var N in ae("/Shading <<"),st)st.hasOwnProperty(N)&&st[N]instanceof el&&st[N].objectNumber>=0&&ae("/"+N+" "+st[N].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),ae(">>")}},_s=function(N){if(Object.keys(st).length>0){for(var H in ae("/Pattern <<"),st)st.hasOwnProperty(H)&&st[H]instanceof p.TilingPattern&&st[H].objectNumber>=0&&st[H].objectNumber<N&&ae("/"+H+" "+st[H].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),ae(">>")}},Gd=function(){if(Object.keys(Pt).length>0){var N;for(N in ae("/ExtGState <<"),Pt)Pt.hasOwnProperty(N)&&Pt[N].objectNumber>=0&&ae("/"+N+" "+Pt[N].objectNumber+" 0 R");Mt.publish("putGStateDict"),ae(">>")}},jn=function(N){$r(N.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),oc(),Vd(),_s(N.objectOid),Gd(),Fl(),ae(">>"),ae("endobj")},$l=function(){var N=[];bs(),Hd(),ws(),Ss(N),Mt.publish("putResources"),N.forEach(jn),jn({resourcesOid:ui,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources")},sc=function(){Mt.publish("putAdditionalObjects");for(var N=0;N<le.length;N++){var H=le[N];$r(H.objId,!0),ae(H.content),ae("endobj")}Mt.publish("postPutAdditionalObjects")},lc=function(N){rt[N.fontName]=rt[N.fontName]||{},rt[N.fontName][N.fontStyle]=N.id},Bl=function(N,H,oe,fe,we){var De={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:N,fontName:H,fontStyle:oe,encoding:fe,isStandardFont:we||!1,metadata:{}};return Mt.publish("addFont",{font:De,instance:this}),Ue[De.id]=De,lc(De),De.id},je=function(N){for(var H=0,oe=xe.length;H<oe;H++){var fe=Bl.call(this,N[H][0],N[H][1],N[H][2],xe[H][3],!0);f===!1&&(h[fe]=!0);var we=N[H][0].split("-");lc({id:fe,fontName:we[0],fontStyle:we[1]||""})}Mt.publish("addFonts",{fonts:Ue,dictionary:rt})},Qe=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(fe){var H=fe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var oe="Error in function "+H.split(`
`)[0].split("<")[0]+": "+fe.message;if(!mt.console)throw new Error(oe);mt.console.error(oe,fe),mt.alert&&alert(oe)}},N.foo.bar=N,N.foo},xt=function(N,H){var oe,fe,we,De,He,Ze,lt,_t,wt;if(we=(H=H||{}).sourceEncoding||"Unicode",He=H.outputEncoding,(H.autoencode||He)&&Ue[ht].metadata&&Ue[ht].metadata[we]&&Ue[ht].metadata[we].encoding&&(De=Ue[ht].metadata[we].encoding,!He&&Ue[ht].encoding&&(He=Ue[ht].encoding),!He&&De.codePages&&(He=De.codePages[0]),typeof He=="string"&&(He=De[He]),He)){for(lt=!1,Ze=[],oe=0,fe=N.length;oe<fe;oe++)(_t=He[N.charCodeAt(oe)])?Ze.push(String.fromCharCode(_t)):Ze.push(N[oe]),Ze[oe].charCodeAt(0)>>8&&(lt=!0);N=Ze.join("")}for(oe=N.length;lt===void 0&&oe!==0;)N.charCodeAt(oe-1)>>8&&(lt=!0),oe--;if(!lt)return N;for(Ze=H.noBOM?[]:[254,255],oe=0,fe=N.length;oe<fe;oe++){if((wt=(_t=N.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(wt),Ze.push(_t-(wt<<8))}return String.fromCharCode.apply(void 0,Ze)},qt=p.__private__.pdfEscape=p.pdfEscape=function(N,H){return xt(N,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ci=p.__private__.beginPage=function(N){ce[++fn]=[],Ke[fn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},uc(fn),Ce(ce[z])},Ts=function(N,H){var oe,fe,we;switch(n=H||n,typeof N=="string"&&(oe=y(N.toLowerCase()),Array.isArray(oe)&&(fe=oe[0],we=oe[1])),Array.isArray(N)&&(fe=N[0]*We,we=N[1]*We),isNaN(fe)&&(fe=i[0],we=i[1]),(fe>14400||we>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),we=Math.min(14400,we)),i=[fe,we],n.substr(0,1)){case"l":we>fe&&(i=[we,fe]);break;case"p":fe>we&&(i=[we,fe])}ci(i),XA(Xd),ae(Oa),Zd!==0&&ae(Zd+" J"),eh!==0&&ae(eh+" j"),Mt.publish("addPage",{pageNumber:fn})},Ma=function(N){N>0&&N<=fn&&(ce.splice(N,1),Ke.splice(N,1),fn--,z>fn&&(z=fn),this.setPage(z))},uc=function(N){N>0&&N<=fn&&(z=N)},Wd=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ce.length-1},cc=function(N,H,oe){var fe,we=void 0;return oe=oe||{},N=N!==void 0?N:Ue[ht].fontName,H=H!==void 0?H:Ue[ht].fontStyle,fe=N.toLowerCase(),rt[fe]!==void 0&&rt[fe][H]!==void 0?we=rt[fe][H]:rt[N]!==void 0&&rt[N][H]!==void 0?we=rt[N][H]:oe.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+N+"', '"+H+"'. Refer to getFontList() for available fonts."),we||oe.noFallback||(we=rt.times[H])==null&&(we=rt.times.normal),we},Yd=p.__private__.putInfo=function(){var N=zn(),H=function(fe){return fe};for(var oe in c!==null&&(H=Br.encryptor(N,0)),ae("<<"),ae("/Producer ("+qt(H("jsPDF "+ut.version))+")"),et)et.hasOwnProperty(oe)&&et[oe]&&ae("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+qt(H(et[oe]))+")");ae("/CreationDate ("+qt(H(G))+")"),ae(">>"),ae("endobj")},Ul=p.__private__.putCatalog=function(N){var H=(N=N||{}).rootDictionaryObjId||Zi;switch(zn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+H+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+be;oe.substr(oe.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+U(be)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Ve&&ae("/PageMode /"+Ve),Mt.publish("putCatalog"),ae(">>"),ae("endobj")},Vy=p.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(ie+1)),ae("/Root "+ie+" 0 R"),ae("/Info "+(ie-1)+" 0 R"),c!==null&&ae("/Encrypt "+Br.oid+" 0 R"),ae("/ID [ <"+R+"> <"+R+"> ]"),ae(">>")},Gy=p.__private__.putHeader=function(){ae("%PDF-"+v),ae("%")},Wy=p.__private__.putXRef=function(){var N="0000000000";ae("xref"),ae("0 "+(ie+1)),ae("0000000000 65535 f ");for(var H=1;H<=ie;H++)typeof me[H]=="function"?ae((N+me[H]()).slice(-10)+" 00000 n "):me[H]!==void 0?ae((N+me[H]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},No=p.__private__.buildDocument=function(){Le(),Ce(Ae),Mt.publish("buildDocument"),Gy(),Co(),sc(),$l(),c!==null&&zd(),Yd(),Ul();var N=V;return Wy(),Vy(),ae("startxref"),ae(""+N),ae("%%EOF"),Ce(ce[z]),Ae.join(`
`)},fc=p.__private__.getBlob=function(N){return new Blob([Ee(N)],{type:"application/pdf"})},dc=p.output=p.__private__.output=Qe(function(N,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",N){case void 0:return No();case"save":p.save(H.filename);break;case"arraybuffer":return Ee(No());case"blob":return fc(No());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(fc(No()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",fe=No();try{oe=P2(fe)}catch{oe=P2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+H.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,De="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Ze=mt.open();return Ze!==null&&Ze.document.write(He),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',_t=mt.open();if(_t!==null){_t.document.write(lt);var wt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=H.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Ln=mt.open();if(Ln!==null&&(Ln.document.write(Bt),Ln.document.title=H.filename),Ln||typeof safari>"u")return Ln;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",H);default:return null}}),WA=function(N){return Array.isArray(kr)===!0&&kr.indexOf(N)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=WA("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var Br=null;se(),W();var Yy=function(N){return c!==null?Br.encryptor(N,0):function(H){return H}},YA=p.__private__.getPageInfo=p.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ke[N].objId,pageNumber:N,pageContext:Ke[N]}},bt=p.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Ke)if(Ke[H].objId===N)break;return YA(H)},Ky=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ke[z].objId,pageNumber:z,pageContext:Ke[z]}};p.addPage=function(){return Ts.apply(this,arguments),this},p.setPage=function(){return uc.apply(this,arguments),Ce.call(this,ce[z]),this},p.insertPage=function(N){return this.addPage(),this.movePage(z,N),this},p.movePage=function(N,H){var oe,fe;if(N>H){oe=ce[N],fe=Ke[N];for(var we=N;we>H;we--)ce[we]=ce[we-1],Ke[we]=Ke[we-1];ce[H]=oe,Ke[H]=fe,this.setPage(H)}else if(N<H){oe=ce[N],fe=Ke[N];for(var De=N;De<H;De++)ce[De]=ce[De+1],Ke[De]=Ke[De+1];ce[H]=oe,Ke[H]=fe,this.setPage(H)}return this},p.deletePage=function(){return Ma.apply(this,arguments),this},p.__private__.text=p.text=function(N,H,oe,fe,we){var De,He,Ze,lt,_t,wt,Bt,Ln,Rn,Qn=(fe=fe||{}).scope||this;if(typeof N=="number"&&typeof H=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Ur=oe;oe=H,H=N,N=Ur}if(arguments[3]instanceof ct?(M("The transform parameter of text() with a Matrix value"),Rn=we):(Ze=arguments[4],lt=arguments[5],rn(Bt=arguments[3])==="object"&&Bt!==null||(typeof Ze=="string"&&(lt=Ze,Ze=null),typeof Bt=="string"&&(lt=Bt,Bt=null),typeof Bt=="number"&&(Ze=Bt,Bt=null),fe={flags:Bt,angle:Ze,align:lt})),isNaN(H)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Qn;var yr="",Da=!1,Mi=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Hl,ao=Qn.internal.scaleFactor;function rm(gn){return gn=gn.split("	").join(Array(fe.TabLen||9).join(" ")),qt(gn,Bt)}function ah(gn){for(var vn,Gn=gn.concat(),ur=[],Oo=Gn.length;Oo--;)typeof(vn=Gn.shift())=="string"?ur.push(vn):Array.isArray(gn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?ur.push(vn[0]):ur.push([vn[0],vn[1],vn[2]]);return ur}function oh(gn,vn){var Gn;if(typeof gn=="string")Gn=vn(gn)[0];else if(Array.isArray(gn)){for(var ur,Oo,ph=gn.concat(),Nc=[],lm=ph.length;lm--;)typeof(ur=ph.shift())=="string"?Nc.push(vn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(Oo=vn(ur[0],ur[1],ur[2]),Nc.push([Oo[0],Oo[1],Oo[2]]));Gn=Nc}return Gn}var vc=!1,sh=!0;if(typeof N=="string")vc=!0;else if(Array.isArray(N)){var lh=N.concat();He=[];for(var yc,Pr=lh.length;Pr--;)(typeof(yc=lh.shift())!="string"||Array.isArray(yc)&&typeof yc[0]!="string")&&(sh=!1);vc=sh}if(vc===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var bc=Pe/Qn.internal.scaleFactor,xc=bc*(Mi-1);switch(fe.baseline){case"bottom":oe-=xc;break;case"top":oe+=bc-xc;break;case"hanging":oe+=bc-2*xc;break;case"middle":oe+=bc/2-xc}if((wt=fe.maxWidth||0)>0&&(typeof N=="string"?N=Qn.splitTextToSize(N,wt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(gn,vn){return gn.concat(Qn.splitTextToSize(vn,wt))},[]))),De={text:N,x:H,y:oe,options:fe,mutex:{pdfEscape:qt,activeFontKey:ht,fonts:Ue,activeFontSize:Pe}},Mt.publish("preProcessText",De),N=De.text,Ze=(fe=De.options).angle,!(Rn instanceof ct)&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,fe.rotationDirection===0&&(Ze=-Ze),S===x.ADVANCED&&(Ze=-Ze);var wc=Math.cos(Ze),uh=Math.sin(Ze);Rn=new ct(wc,uh,-uh,wc,0,0)}else Ze&&Ze instanceof ct&&(Rn=Ze);S!==x.ADVANCED||Rn||(Rn=Ei),(_t=fe.charSpace||Ac)!==void 0&&(yr+=E(D(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ln=fe.horizontalScale)!==void 0&&(yr+=E(100*Ln)+` Tz
`),fe.lang;var fi=-1,ab=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,ch=Qn.internal.getCurrentPageInfo().pageContext;switch(ab){case 0:case!1:case"fill":fi=0;break;case 1:case!0:case"stroke":fi=1;break;case 2:case"fillThenStroke":fi=2;break;case 3:case"invisible":fi=3;break;case 4:case"fillAndAddForClipping":fi=4;break;case 5:case"strokeAndAddPathForClipping":fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fi=6;break;case 7:case"addToPathForClipping":fi=7}var im=ch.usedRenderingMode!==void 0?ch.usedRenderingMode:-1;fi!==-1?yr+=fi+` Tr
`:im!==-1&&(yr+=`0 Tr
`),fi!==-1&&(ch.usedRenderingMode=fi),lt=fe.align||"left";var na,Sc=Pe*Mi,am=Qn.internal.pageSize.getWidth(),om=Ue[ht];_t=fe.charSpace||Ac,wt=fe.maxWidth||0,Bt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var ks=[],Gl=function(gn){return Qn.getStringUnitWidth(gn,{font:om,charSpace:_t,fontSize:Pe,doKerning:!1})*Pe/ao};if(Object.prototype.toString.call(N)==="[object Array]"){var di;He=ah(N),lt!=="left"&&(na=He.map(Gl));var Qr,Ps=0;if(lt==="right"){H-=na[0],N=[],Pr=He.length;for(var ko=0;ko<Pr;ko++)ko===0?(Qr=io(H),di=Eo(oe)):(Qr=D(Ps-na[ko]),di=-Sc),N.push([He[ko],Qr,di]),Ps=na[ko]}else if(lt==="center"){H-=na[0]/2,N=[],Pr=He.length;for(var Po=0;Po<Pr;Po++)Po===0?(Qr=io(H),di=Eo(oe)):(Qr=D((Ps-na[Po])/2),di=-Sc),N.push([He[Po],Qr,di]),Ps=na[Po]}else if(lt==="left"){N=[],Pr=He.length;for(var _c=0;_c<Pr;_c++)N.push(He[_c])}else if(lt==="justify"&&om.encoding==="Identity-H"){N=[],Pr=He.length,wt=wt!==0?wt:am;for(var Mo=0,Vn=0;Vn<Pr;Vn++)if(di=Vn===0?Eo(oe):-Sc,Qr=Vn===0?io(H):Mo,Vn<Pr-1){var fh=D((wt-na[Vn])/(He[Vn].split(" ").length-1)),Zr=He[Vn].split(" ");N.push([Zr[0]+" ",Qr,di]),Mo=0;for(var ra=1;ra<Zr.length;ra++){var Tc=(Gl(Zr[ra-1]+" "+Zr[ra])-Gl(Zr[ra]))*ao+fh;ra==Zr.length-1?N.push([Zr[ra],Tc,0]):N.push([Zr[ra]+" ",Tc,0]),Mo-=Tc}}else N.push([He[Vn],Qr,di]);N.push(["",Mo,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Pr=He.length,wt=wt!==0?wt:am,Vn=0;Vn<Pr;Vn++)di=Vn===0?Eo(oe):-Sc,Qr=Vn===0?io(H):0,Vn<Pr-1?ks.push(E(D((wt-na[Vn])/(He[Vn].split(" ").length-1)))):ks.push(0),N.push([He[Vn],Qr,di])}}var sm=typeof fe.R2L=="boolean"?fe.R2L:ye;sm===!0&&(N=oh(N,function(gn,vn,Gn){return[gn.split("").reverse().join(""),vn,Gn]})),De={text:N,x:H,y:oe,options:fe,mutex:{pdfEscape:qt,activeFontKey:ht,fonts:Ue,activeFontSize:Pe}},Mt.publish("postProcessText",De),N=De.text,Da=De.mutex.isHex||!1;var dh=Ue[ht].encoding;dh!=="WinAnsiEncoding"&&dh!=="StandardEncoding"||(N=oh(N,function(gn,vn,Gn){return[rm(gn),vn,Gn]})),He=ah(N),N=[];for(var Wl,Yl,Ms,Kl=0,Cc=1,Jl=Array.isArray(He[0])?Cc:Kl,Os="",hh=function(gn,vn,Gn){var ur="";return Gn instanceof ct?(Gn=typeof fe.angle=="number"?Ni(Gn,new ct(1,0,0,1,gn,vn)):Ni(new ct(1,0,0,1,gn,vn),Gn),S===x.ADVANCED&&(Gn=Ni(new ct(1,0,0,-1,0,0),Gn)),ur=Gn.join(" ")+` Tm
`):ur=E(gn)+" "+E(vn)+` Td
`,ur},ia=0;ia<He.length;ia++){switch(Os="",Jl){case Cc:Ms=(Da?"<":"(")+He[ia][0]+(Da?">":")"),Wl=parseFloat(He[ia][1]),Yl=parseFloat(He[ia][2]);break;case Kl:Ms=(Da?"<":"(")+He[ia]+(Da?">":")"),Wl=io(H),Yl=Eo(oe)}ks!==void 0&&ks[ia]!==void 0&&(Os=ks[ia]+` Tw
`),ia===0?N.push(Os+hh(Wl,Yl,Rn)+Ms):Jl===Kl?N.push(Os+Ms):Jl===Cc&&N.push(Os+hh(Wl,Yl,Rn)+Ms)}N=Jl===Kl?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var aa=`BT
/`;return aa+=ht+" "+Pe+` Tf
`,aa+=E(Pe*Mi)+` TL
`,aa+=zl+`
`,aa+=yr,aa+=N,ae(aa+="ET"),h[ht]=!0,Qn};var Jy=p.__private__.clip=p.clip=function(N){return ae(N==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Jy("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ae("n"),this};var ro=p.__private__.isValidStyle=function(N){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(H=!0),H};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(N){return ro(N)&&(u=N),this};var KA=p.__private__.getStyle=p.getStyle=function(N){var H=u;switch(N){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=N}return H},JA=p.close=function(){return ae("h"),this};p.stroke=function(){return ae("S"),this},p.fill=function(N){return hc("f",N),this},p.fillEvenOdd=function(N){return hc("f*",N),this},p.fillStroke=function(N){return hc("B",N),this},p.fillStrokeEvenOdd=function(N){return hc("B*",N),this};var hc=function(N,H){rn(H)==="object"?Qy(H,N):ae(N)},Kd=function(N){N===null||S===x.ADVANCED&&N===void 0||(N=KA(N),ae(N))};function Xy(N,H,oe,fe,we){var De=new Au(H||this.boundingBox,oe||this.xStep,fe||this.yStep,this.gState,we||this.matrix);De.stream=this.stream;var He=N+"$$"+this.cloneIndex+++"$$";return Fr(He,De),De}var Qy=function(N,H){var oe=mn[N.key],fe=st[oe];if(fe instanceof el)ae("q"),ae(Zy(H)),fe.gState&&p.setGState(fe.gState),ae(N.matrix.toString()+" cm"),ae("/"+oe+" sh"),ae("Q");else if(fe instanceof Au){var we=new ct(1,0,0,-1,0,Es());N.matrix&&(we=we.multiply(N.matrix||Ei),oe=Xy.call(fe,N.key,N.boundingBox,N.xStep,N.yStep,we).id),ae("q"),ae("/Pattern cs"),ae("/"+oe+" scn"),fe.gState&&p.setGState(fe.gState),ae(H),ae("Q")}},Zy=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jd=p.moveTo=function(N,H){return ae(E(D(N))+" "+E(F(H))+" m"),this},ql=p.lineTo=function(N,H){return ae(E(D(N))+" "+E(F(H))+" l"),this},Cs=p.curveTo=function(N,H,oe,fe,we,De){return ae([E(D(N)),E(F(H)),E(D(oe)),E(F(fe)),E(D(we)),E(F(De)),"c"].join(" ")),this};p.__private__.line=p.line=function(N,H,oe,fe,we){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(fe)||!ro(we))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[oe-N,fe-H]],N,H,[1,1],we||"S"):this.lines([[oe-N,fe-H]],N,H,[1,1]).stroke()},p.__private__.lines=p.lines=function(N,H,oe,fe,we,De){var He,Ze,lt,_t,wt,Bt,Ln,Rn,Qn,Ur,yr,Da;if(typeof N=="number"&&(Da=oe,oe=H,H=N,N=Da),fe=fe||[1,1],De=De||!1,isNaN(H)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(fe)||!ro(we)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jd(H,oe),He=fe[0],Ze=fe[1],_t=N.length,Ur=H,yr=oe,lt=0;lt<_t;lt++)(wt=N[lt]).length===2?(Ur=wt[0]*He+Ur,yr=wt[1]*Ze+yr,ql(Ur,yr)):(Bt=wt[0]*He+Ur,Ln=wt[1]*Ze+yr,Rn=wt[2]*He+Ur,Qn=wt[3]*Ze+yr,Ur=wt[4]*He+Ur,yr=wt[5]*Ze+yr,Cs(Bt,Ln,Rn,Qn,Ur,yr));return De&&JA(),Kd(we),this},p.path=function(N){for(var H=0;H<N.length;H++){var oe=N[H],fe=oe.c;switch(oe.op){case"m":Jd(fe[0],fe[1]);break;case"l":ql(fe[0],fe[1]);break;case"c":Cs.apply(this,fe);break;case"h":JA()}}return this},p.__private__.rect=p.rect=function(N,H,oe,fe,we){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(fe)||!ro(we))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(fe=-fe),ae([E(D(N)),E(F(H)),E(D(oe)),E(D(fe)),"re"].join(" ")),Kd(we),this},p.__private__.triangle=p.triangle=function(N,H,oe,fe,we,De,He){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(fe)||isNaN(we)||isNaN(De)||!ro(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,fe-H],[we-oe,De-fe],[N-we,H-De]],N,H,[1,1],He,!0),this},p.__private__.roundedRect=p.roundedRect=function(N,H,oe,fe,we,De,He){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(fe)||isNaN(we)||isNaN(De)||!ro(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*oe),De=Math.min(De,.5*fe),this.lines([[oe-2*we,0],[we*Ze,0,we,De-De*Ze,we,De],[0,fe-2*De],[0,De*Ze,-we*Ze,De,-we,De],[2*we-oe,0],[-we*Ze,0,-we,-De*Ze,-we,-De],[0,2*De-fe],[0,-De*Ze,we*Ze,-De,we,-De]],N+we,H,[1,1],He,!0),this},p.__private__.ellipse=p.ellipse=function(N,H,oe,fe,we){if(isNaN(N)||isNaN(H)||isNaN(oe)||isNaN(fe)||!ro(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*oe,He=4/3*(Math.SQRT2-1)*fe;return Jd(N+oe,H),Cs(N+oe,H-He,N+De,H-fe,N,H-fe),Cs(N-De,H-fe,N-oe,H-He,N-oe,H),Cs(N-oe,H+He,N-De,H+fe,N,H+fe),Cs(N+De,H+fe,N+oe,H+He,N+oe,H),Kd(we),this},p.__private__.circle=p.circle=function(N,H,oe,fe){if(isNaN(N)||isNaN(H)||isNaN(oe)||!ro(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,H,oe,oe,fe)},p.setFont=function(N,H,oe){return oe&&(H=k(H,oe)),ht=cc(N,H,{disableWarning:!1}),this};var eb=p.__private__.getFont=p.getFont=function(){return Ue[cc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var N,H,oe={};for(N in rt)if(rt.hasOwnProperty(N))for(H in oe[N]=[],rt[N])rt[N].hasOwnProperty(H)&&oe[N].push(H);return oe},p.addFont=function(N,H,oe,fe,we){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(oe=k(oe,fe)),we=we||"Identity-H",Bl.call(this,N,H,oe,we)};var Hl,Xd=t.lineWidth||.200025,pc=p.__private__.getLineWidth=p.getLineWidth=function(){return Xd},XA=p.__private__.setLineWidth=p.setLineWidth=function(N){return Xd=N,ae(E(D(N))+" w"),this};p.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(N,H){if(N=N||[],H=H||0,isNaN(H)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return E(D(oe))}).join(" "),H=E(D(H)),ae("["+N+"] "+H+" d"),this};var QA=p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Hl};p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Hl};var ZA=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Hl=N),this},em=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Hl};ZA(t.lineHeight);var io=p.__private__.getHorizontalCoordinate=function(N){return D(N)},Eo=p.__private__.getVerticalCoordinate=function(N){return S===x.ADVANCED?N:Ke[z].mediaBox.topRightY-Ke[z].mediaBox.bottomLeftY-D(N)},tb=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(N){return E(io(N))},Ns=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(N){return E(Eo(N))},Oa=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ki(Oa)},p.__private__.setStrokeColor=p.setDrawColor=function(N,H,oe,fe){return Oa=Pi({ch1:N,ch2:H,ch3:oe,ch4:fe,pdfColorType:"draw",precision:2}),ae(Oa),this};var Qd=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ki(Qd)},p.__private__.setFillColor=p.setFillColor=function(N,H,oe,fe){return Qd=Pi({ch1:N,ch2:H,ch3:oe,ch4:fe,pdfColorType:"fill",precision:2}),ae(Qd),this};var zl=t.textColor||"0 g",nb=p.__private__.getTextColor=p.getTextColor=function(){return ki(zl)};p.__private__.setTextColor=p.setTextColor=function(N,H,oe,fe){return zl=Pi({ch1:N,ch2:H,ch3:oe,ch4:fe,pdfColorType:"text",precision:3}),this};var Ac=t.charSpace,rb=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ac||0)};p.__private__.setCharSpace=p.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ac=N,this};var Zd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(N){var H=p.CapJoinStyles[N];if(H===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zd=H,ae(H+" J"),this};var eh=0;p.__private__.setLineJoin=p.setLineJoin=function(N){var H=p.CapJoinStyles[N];if(H===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eh=H,ae(H+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(E(D(N))+" M"),this},p.GState=Up,p.setGState=function(N){(N=typeof N=="string"?Pt[lr[N]]:tm(null,N)).equals(li)||(ae("/"+N.id+" gs"),li=N)};var tm=function(N,H){if(!N||!lr[N]){var oe=!1;for(var fe in Pt)if(Pt.hasOwnProperty(fe)&&Pt[fe].equals(H)){oe=!0;break}if(oe)H=Pt[fe];else{var we="GS"+(Object.keys(Pt).length+1).toString(10);Pt[we]=H,H.id=we}return N&&(lr[N]=H.id),Mt.publish("addGState",H),H}};p.addGState=function(N,H){return tm(N,H),this},p.saveGraphicsState=function(){return ae("q"),pt.push({key:ht,size:Pe,color:zl}),this},p.restoreGraphicsState=function(){ae("Q");var N=pt.pop();return ht=N.key,Pe=N.size,zl=N.color,li=null,this},p.setCurrentTransformationMatrix=function(N){return ae(N.toString()+" cm"),this},p.comment=function(N){return ae("#"+N),this};var mc=function(N,H){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(De){isNaN(De)||(oe=parseFloat(De))}});var fe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(De){isNaN(De)||(fe=parseFloat(De))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(De){we=De.toString()}}),this},th=function(N,H,oe,fe){mc.call(this,N,H),this.type="rect";var we=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(He){isNaN(He)||(we=parseFloat(He))}});var De=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(He){isNaN(He)||(De=parseFloat(He))}}),this},nh=function(){this.page=fn,this.currentPage=z,this.pages=ce.slice(0),this.pagesContext=Ke.slice(0),this.x=cn,this.y=kt,this.matrix=Se,this.width=Vl(z),this.height=Es(z),this.outputDestination=Me,this.id="",this.objectNumber=-1};nh.prototype.restore=function(){fn=this.page,z=this.currentPage,Ke=this.pagesContext,ce=this.pages,cn=this.x,kt=this.y,Se=this.matrix,rh(z,this.width),ih(z,this.height),Me=this.outputDestination};var nm=function(N,H,oe,fe,we){Qi.push(new nh),fn=z=0,ce=[],cn=N,kt=H,Se=we,ci([oe,fe])},ib=function(N){if(Xi[N])Qi.pop().restore();else{var H=new nh,oe="Xo"+(Object.keys(Hn).length+1).toString(10);H.id=oe,Xi[N]=oe,Hn[oe]=H,Mt.publish("addFormObject",H),Qi.pop().restore()}};for(var gc in p.beginFormObject=function(N,H,oe,fe,we){return nm(N,H,oe,fe,we),this},p.endFormObject=function(N){return ib(N),this},p.doFormObject=function(N,H){var oe=Hn[Xi[N]];return ae("q"),ae(H.toString()+" cm"),ae("/"+oe.id+" Do"),ae("Q"),this},p.getFormObject=function(N){var H=Hn[Xi[N]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},p.save=function(N,H){return N=N||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(uu(fc(No()),N),typeof uu.unload=="function"&&mt.setTimeout&&setTimeout(uu.unload,911),this):new Promise(function(oe,fe){try{var we=uu(fc(No()),N);typeof uu.unload=="function"&&mt.setTimeout&&setTimeout(uu.unload,911),oe(we)}catch(De){fe(De.message)}})},ut.API)ut.API.hasOwnProperty(gc)&&(gc==="events"&&ut.API.events.length?function(N,H){var oe,fe,we;for(we=H.length-1;we!==-1;we--)oe=H[we][0],fe=H[we][1],N.subscribe.apply(N,[oe].concat(typeof fe=="function"?[fe]:fe))}(Mt,ut.API.events):p[gc]=ut.API[gc]);var Vl=p.getPageWidth=function(N){return(Ke[N=N||z].mediaBox.topRightX-Ke[N].mediaBox.bottomLeftX)/We},rh=p.setPageWidth=function(N,H){Ke[N].mediaBox.topRightX=H*We+Ke[N].mediaBox.bottomLeftX},Es=p.getPageHeight=function(N){return(Ke[N=N||z].mediaBox.topRightY-Ke[N].mediaBox.bottomLeftY)/We},ih=p.setPageHeight=function(N,H){Ke[N].mediaBox.topRightY=H*We+Ke[N].mediaBox.bottomLeftY};return p.internal={pdfEscape:qt,getStyle:KA,getFont:eb,getFontSize:ke,getCharSpace:rb,getTextColor:nb,getLineHeight:QA,getLineHeightFactor:em,getLineWidth:pc,write:Ne,getHorizontalCoordinate:io,getVerticalCoordinate:Eo,getCoordinateString:tb,getVerticalCoordinateString:Ns,collections:{},newObject:zn,newAdditionalObject:Pa,newObjectDeferred:In,newObjectDeferredBegin:$r,getFilters:ea,putStream:Xr,events:Mt,scaleFactor:We,pageSize:{getWidth:function(){return Vl(z)},setWidth:function(N){rh(z,N)},getHeight:function(){return Es(z)},setHeight:function(N){ih(z,N)}},encryptionOptions:c,encryption:Br,getEncryptor:Yy,output:dc,getNumberOfPages:Wd,pages:ce,out:ae,f2:U,f3:O,getPageInfo:YA,getPageInfoByObjId:bt,getCurrentPageInfo:Ky,getPDFVersion:b,Point:mc,Rectangle:th,Matrix:ct,hasHotfix:WA},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Vl(z)},set:function(N){rh(z,N)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Es(z)},set:function(N){ih(z,N)},enumerable:!0,configurable:!0}),je.call(p,xe),ht="F1",Ts(i,n),Mt.publish("initialized"),p}Xc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Xc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Xc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Xc.prototype.processOwnerPassword=function(t,e){return O2(M2(e).substr(0,5),t)},Xc.prototype.encryptor=function(t,e){var n=M2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return O2(n,r)}},Up.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||rn(t)!==rn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ut.API={events:[]},ut.version="2.5.2";var Bn=ut.API,kS=1,Qu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$c=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(t){return t.toFixed(2)},Hs=function(t){return t.toFixed(5)};Bn.__acroform__={};var Ti=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},LE=function(t){return t*kS},lo=function(t){var e=new NI,n=it.internal.getHeight(t)||0,r=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(St(r)),Number(St(n))],e},zQ=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},VQ=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},GQ=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Wn=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GQ(t,e-1)},Yn=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zQ(t,e-1)},Kn=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VQ(t,e-1)},WQ=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},YQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=D2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=lo(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},D2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=n,o=it.internal.getHeight(t)||0;o=o<0?-o:o;var s=it.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(O,D,$){if(O+1<i.length){var F=D+" "+i[O+1][0];return Xm(F,t,$).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Xm("3",t,a).height,h=t.multiline?o-a:(o-f)/2,p=h+=2,v=0,b=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xm(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var y="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&w!==i[S].length-1){if((f+2)*(x+2)+2>o)continue e;y+=i[S][w],T=!0,b=S,S--}else{y=(y+=i[S][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(S),k=l(C,y,a),E=S>=i.length-1;if(k&&!E){y+=" ",w=0;continue}if(k||E){if(E)b=C;else if(t.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>o)continue e;b=C}}for(var M="",I=v;I<=b;I++){var U=i[I];if(t.multiline){if(I===b){M+=U[w]+" ",w=(w+1)%U.length;continue}if(I===v){M+=U[U.length-1]+" ";continue}}M+=U[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,c=Xm(M,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=St(u)+" "+St(p)+` Td
`,e+="("+Qu(M)+`) Tj
`,e+=-St(u)+` 0 Td
`,p=-(a+2),c=0,v=T?b:b+1,x++,y=""}break}return r.text=e,r.fontSize=a,r},Xm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},KQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JQ=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},XQ=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),rn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},QQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(eo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(KQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");kS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new EI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&JQ(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=WQ(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=it.createDefaultAppearanceStream(s),rn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=YQ(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var p=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&XQ(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},CI=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),rn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Qu(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},S1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Qu(r(t))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:CI(i,this.objId,this.scope)}):i instanceof po?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var NI=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ti(NI,po);var EI=function(){po.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Qu(n(t))+")"}},set:function(n){t=n}})};Ti(EI,po);var eo=function t(){po.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wn(e,3)},set:function(y){y?this.F=Yn(e,3):this.F=Kn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof p0)return;a="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Qu(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/kS:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof p0||this instanceof yl))return S1(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof hr?h:S1(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof hr?y:y.substr(0,1)==="("?$c(y.substr(1,y.length-2)):$c(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?$c(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof hr?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof hr?p:S1(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof hr?y:y.substr(0,1)==="("?$c(y.substr(1,y.length-2)):$c(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?$c(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof hr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,1)},set:function(y){y?this.Ff=Yn(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,2)},set:function(y){y?this.Ff=Yn(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,3)},set:function(y){y?this.Ff=Yn(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Ti(eo,po);var Tu=function(){eo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,18)},set:function(n){n?this.Ff=Yn(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Yn(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,20)},set:function(n){n?(this.Ff=Yn(this.Ff,20),e.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,22)},set:function(n){n?this.Ff=Yn(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(n){n?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,27)},set:function(n){n?this.Ff=Yn(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ti(Tu,eo);var Cu=function(){Tu.call(this),this.fontName="helvetica",this.combo=!1};Ti(Cu,Tu);var Nu=function(){Cu.call(this),this.combo=!0};Ti(Nu,Cu);var Ap=function(){Nu.call(this),this.edit=!0};Ti(Ap,Nu);var hr=function(){eo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,15)},set:function(n){n?this.Ff=Yn(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,16)},set:function(n){n?this.Ff=Yn(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,17)},set:function(n){n?this.Ff=Yn(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(n){n?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Qu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){rn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ti(hr,eo);var mp=function(){hr.call(this),this.pushButton=!0};Ti(mp,hr);var Eu=function(){hr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ti(Eu,hr);var p0=function(){var t,e;eo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Qu(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){rn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ti(p0,eo),Eu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Eu.prototype.createOption=function(t){var e=new p0;return e.Parent=this,e.optionName=t,this.Kids.push(e),ZQ.call(this.scope,e),e};var gp=function(){hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Ti(gp,hr);var yl=function(){eo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,13)},set:function(e){e?this.Ff=Yn(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,21)},set:function(e){e?this.Ff=Yn(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(e){e?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,24)},set:function(e){e?this.Ff=Yn(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,25)},set:function(e){e?this.Ff=Yn(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(e){e?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ti(yl,eo);var vp=function(){yl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,14)},set:function(t){t?this.Ff=Yn(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};Ti(vp,yl);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=lo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=D2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+St(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=lo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=it.internal.getHeight(t),o=it.internal.getWidth(t),s=D2(t,t.caption);return i.push("1 g"),i.push("0 0 "+St(o)+" "+St(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(o-1)+" "+St(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+St(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=lo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=lo(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=it.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Hs(it.internal.getWidth(t)/2)+" "+Hs(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=lo(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5)),o=Number((r*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Hs(it.internal.getWidth(t)/2)+" "+Hs(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Hs(it.internal.getWidth(t)/2)+" "+Hs(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=lo(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Hs(it.internal.getWidth(t)/2)+" "+Hs(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=lo(t);e.scope=t.scope;var n=[],r=it.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+St(it.internal.getWidth(t)-2)+" "+St(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),n.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),n.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),n.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=lo(t);e.scope=t.scope;var n=it.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(it.internal.getWidth(t)-2)+" "+St(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),r.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),r.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),r.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=lo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),n=it.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},it.internal.getWidth=function(t){var e=0;return rn(t)==="object"&&(e=LE(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return rn(t)==="object"&&(e=LE(t.Rect[3])),e};var ZQ=Bn.addField=function(t){if(QQ(this,t),!(t instanceof eo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Tu,Bn.AcroFormListBox=Cu,Bn.AcroFormComboBox=Nu,Bn.AcroFormEditBox=Ap,Bn.AcroFormButton=hr,Bn.AcroFormPushButton=mp,Bn.AcroFormRadioButton=Eu,Bn.AcroFormCheckBox=gp,Bn.AcroFormTextField=yl,Bn.AcroFormPasswordField=vp,Bn.AcroFormAppearance=it,Bn.AcroForm={ChoiceField:Tu,ListBox:Cu,ComboBox:Nu,EditBox:Ap,Button:hr,PushButton:mp,RadioButton:Eu,CheckBox:gp,TextField:yl,PasswordField:vp,Appearance:it},ut.AcroForm={ChoiceField:Tu,ListBox:Cu,ComboBox:Nu,EditBox:Ap,Button:hr,PushButton:mp,RadioButton:Eu,CheckBox:gp,TextField:yl,PasswordField:vp,Appearance:it};var eZ=ut.AcroForm;function kI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,D){var $,F,G,R,B,W=e;if((D=D||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for(B in n)for(G=n[B],$=0;$<G.length;$+=1){for(R=!0,F=0;F<G[$].length;F+=1)if(G[$][F]!==void 0&&G[$][F]!==O[F]){R=!1;break}if(R===!0){W=B;break}}else for(B in n)for(G=n[B],$=0;$<G.length;$+=1){for(R=!0,F=0;F<G[$].length;F+=1)if(G[$][F]!==void 0&&G[$][F]!==O.charCodeAt(F)){R=!1;break}if(R===!0){W=B;break}}return W===e&&D!==e&&(W=D),W},i=function O(D){for(var $=this.internal.write,F=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:D.width}),R.push({key:"Height",value:D.height}),D.colorSpace===w.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===w.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var B="",W=0,K=D.transparency.length;W<K;W++)B+=D.transparency[W]+" "+D.transparency[W]+" ";R.push({key:"Mask",value:"["+B+"]"})}D.sMask!==void 0&&R.push({key:"SMask",value:D.objectId+1+" 0 R"});var Z=D.filter!==void 0?["/"+D.filter]:void 0;if(F({data:D.data,additionalKeyValues:R,alreadyAppliedFilters:Z,objectId:D.objectId}),$("endobj"),"sMask"in D&&D.sMask!==void 0){var se="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,L={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:se,data:D.sMask};"filter"in D&&(L.filter=D.filter),O.call(this,L)}if(D.colorSpace===w.INDEXED){var z=this.internal.newObject();F({data:M(new Uint8Array(D.palette)),objectId:z}),$("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var D in O)i.call(this,O[D])},o=function(){var O,D=this.internal.collections.addImage_images,$=this.internal.write;for(var F in D)$("/I"+(O=D[F]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof t["process"+O.toUpperCase()]=="function"},f=function(O){return rn(O)==="object"&&O.nodeType===1},h=function(O,D){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var $=""+O.getAttribute("src");if($.indexOf("data:image/")===0)return pp(unescape($).split("base64,").pop());var F=t.loadFile($,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(D){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return pp(O.toDataURL(G,1).split("base64,").pop())}},p=function(O){var D=this.internal.collections.addImage_images;if(D){for(var $ in D)if(O===D[$].alias)return D[$]}},v=function(O,D,$){return O||D||(O=-96,D=-96),O<0&&(O=-1*$.width*72/O/this.internal.scaleFactor),D<0&&(D=-1*$.height*72/D/this.internal.scaleFactor),O===0&&(O=D*$.width/$.height),D===0&&(D=O*$.height/$.width),[O,D]},b=function(O,D,$,F,G,R){var B=v.call(this,$,F,G),W=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,Z=l.call(this);if($=B[0],F=B[1],Z[G.index]=G,R){R*=Math.PI/180;var se=Math.cos(R),L=Math.sin(R),z=function(te){return te.toFixed(4)},Q=[z(se),z(L),z(-1*L),z(se),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,W(O),K(D+F),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W($),"0","0",W(F),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(F),W(O),K(D+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(O){var D,$,F=0;if(typeof O=="string")for($=O.length,D=0;D<$;D++)F=(F<<5)-F+O.charCodeAt(D),F|=0;else if(k(O))for($=O.byteLength/2,D=0;D<$;D++)F=(F<<5)-F+O[D],F|=0;return F},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var D=!0;return O.length===0&&(D=!1),O.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(D=!1),D},T=t.__addimage__.extractImageFromDataUrl=function(O){var D=(O=O||"").split("base64,"),$=null;if(D.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(D[0]);Array.isArray(F)&&($={mimeType:F[1],charset:F[2],data:D[1]})}return $},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return C()&&O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return C()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var D=O.length,$=new Uint8Array(D),F=0;F<D;F++)$[F]=O.charCodeAt(F);return $},M=t.__addimage__.arrayBufferToBinaryString=function(O){for(var D="",$=k(O)?O:new Uint8Array(O),F=0;F<$.length;F+=8192)D+=String.fromCharCode.apply(null,$.subarray(F,F+8192));return D};t.addImage=function(){var O,D,$,F,G,R,B,W,K;if(typeof arguments[1]=="number"?(D=e,$=arguments[1],F=arguments[2],G=arguments[3],R=arguments[4],B=arguments[5],W=arguments[6],K=arguments[7]):(D=arguments[1],$=arguments[2],F=arguments[3],G=arguments[4],R=arguments[5],B=arguments[6],W=arguments[7],K=arguments[8]),rn(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var Z=O;O=Z.imageData,D=Z.format||D||e,$=Z.x||$||0,F=Z.y||F||0,G=Z.w||Z.width||G,R=Z.h||Z.height||R,B=Z.alias||B,W=Z.compression||W,K=Z.rotation||Z.angle||K}var se=this.internal.getFilters();if(W===void 0&&se.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=I.call(this,O,D,B,W);return b.call(this,$,F,G,R,L,K),this};var I=function(O,D,$,F){var G,R,B;if(typeof O=="string"&&r(O)===e){O=unescape(O);var W=U(O,!1);(W!==""||(W=t.loadFile(O,!0))!==void 0)&&(O=W)}if(f(O)&&(O=h(O,D)),D=r(O,D),!c(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((B=$)==null||B.length===0)&&($=function(K){return typeof K=="string"||k(K)?x(K):k(K.data)?x(K.data):null}(O)),(G=p.call(this,$))||(C()&&(O instanceof Uint8Array||D==="RGBA"||(R=O,O=E(O))),G=this["process"+D.toUpperCase()](O,u.call(this),$,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:y.NONE}(F),R)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},U=t.__addimage__.convertBase64ToBinaryString=function(O,D){var $;D=typeof D!="boolean"||D;var F,G="";if(typeof O=="string"){F=($=T(O))!==null?$.data:O;try{G=pp(F)}catch(R){if(D)throw S(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(O){var D,$,F="";if(f(O)&&(O=h(O)),typeof O=="string"&&r(O)===e&&((F=U(O,!1))===""&&(F=t.loadFile(O)||""),O=F),$=r(O),!c($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!C()||O instanceof Uint8Array||(O=E(O)),!(D=this["process"+$.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=$,D}})(ut.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ut.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+p(y(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(y(x))+") >>",b.content=a;var S=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ut.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var w=0,y=n,x="",S=0;for(w=0;w<b.length;w+=1)y[b.charCodeAt(w)]!==void 0?(S++,typeof(y=y[b.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(y),y=n,S=0),w===b.length-1&&(y=n,x+=b.charAt(w-(S-1)),w-=S-1,S=0)):(y=n,x+=b.charAt(w-S),w-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(b,w,y){return o(b)?a(b)===!1?-1:!u(b)||!o(w)&&!o(y)||!o(y)&&s(w)||s(b)&&!o(w)||s(b)&&l(w)||s(b)&&s(w)?0:c(b)&&o(w)&&!s(w)&&o(y)&&u(y)?3:s(b)||!o(y)?1:2:-1},p=function(b){var w=0,y=0,x=0,S="",T="",C="",k=(b=b||"").split("\\s+"),E=[];for(w=0;w<k.length;w+=1){for(E.push(""),y=0;y<k[w].length;y+=1)S=k[w][y],T=k[w][y-1],C=k[w][y+1],o(S)?(x=h(S,T,C),E[w]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):E[w]+=S;E[w]=f(E[w])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var x=0;for(y=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?y.push([p(w[x][0]),w[x][1],w[x][2]]):y.push([p(w[x])]);b=y}else b=p(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(ut.API),ut.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ut.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,b=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(w.splitTextToSize(T,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)p<(b=this.getStringUnitWidth(l[x],{font:f})*c)&&(p=b);return p!==0&&(v=l.length),{w:p/=h,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,v,b,w,y=[],x=[],S=[],T={},C={},k=[],E=[],M=(h=h||{}).autoSize||!1,I=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},e),D=typeof h.padding=="number"?h.padding:3,$=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=F,this.setFontSize(U),f==null)x=y=Object.keys(c[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&rn(f[0])==="object")for(y=f.map(function(Z){return Z.name}),x=f.map(function(Z){return Z.prompt||Z.name||""}),S=f.map(function(Z){return Z.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,S=y.map(function(){return"left"}));if(M||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(T[w=y[p]]=c.map(function(Z){return Z[w]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=T[w],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)k.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[w]=Math.max.apply(null,k)+D+D,k=[]}if(I){var G={};for(p=0;p<y.length;p+=1)G[y[p]]={},G[y[p]].text=x[p],G[y[p]].align=S[p];var R=s.call(this,G,C);E=y.map(function(Z){return new a(l,u,C[Z],R,G[Z].text,void 0,G[Z].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var B=f.reduce(function(Z,se){return Z[se.name]=se.align,Z},{});for(p=0;p<c.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:c[p]},this);var W=s.call(this,c[p],C);for(b=0;b<y.length;b+=1){var K=c[p][y[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:b,data:K},this),o.call(this,new a(l,u,C[y[b]],W,K,p+2,B[y[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+c+c},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(ut.API);var PI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},MI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],I2=kI(MI),OI=[100,200,300,400,500,600,700,800,900],tZ=kI(OI);function j2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return PI[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof I2[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function RE(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var nZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $E(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function rZ(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},nZ,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=j2(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+$E(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=I2[l],f=c<=I2.normal?-1:1,h=RE(u,MI,c,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=PI[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=tZ[l],f=RE(u,OI,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+$E(a)+"'.");return o}function BE(t){return t.trimLeft()}function iZ(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function aZ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Qm,UE,qE,_1=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ce){Q=!!Ce}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Ce){te=!!Ce}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ce){isNaN(Ce)||(ie=Ce)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ce){isNaN(Ce)||(me=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var ae;typeof Ce=="number"?ae=[Ce,Ce,Ce,Ce]:((ae=new Array(4))[0]=Ce[0],ae[1]=Ce.length>=2?Ce[1]:ae[0],ae[2]=Ce.length>=3?Ce[2]:ae[0],ae[3]=Ce.length>=4?Ce[3]:ae[1]),u.margin=ae}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(Ce){Ae=Ce}});var V=0;Object.defineProperty(this,"lastBreak",{get:function(){return V},set:function(Ce){V=Ce}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(Ce){le=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof c&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return ce},set:function(Ce){ce=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ae;ae=h(Ce),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ae=h(Ce);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var ue=null;function Me(Ce,ae){if(ue===null){var Ne=function(Ee){var xe=[];return Object.keys(Ee).forEach(function(Pe){Ee[Pe].forEach(function(be){var ke=null;switch(be){case"bold":ke={family:Pe,weight:"bold"};break;case"italic":ke={family:Pe,style:"italic"};break;case"bolditalic":ke={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:Pe}}ke!==null&&(ke.ref={name:Pe,style:be},xe.push(ke))})}),xe}(Ce.getFontList());ue=function(Ee){for(var xe={},Pe=0;Pe<Ee.length;++Pe){var be=j2(Ee[Pe]),ke=be.family,ye=be.stretch,Ve=be.style,Ge=be.weight;xe[ke]=xe[ke]||{},xe[ke][ye]=xe[ke][ye]||{},xe[ke][ye][Ve]=xe[ke][ye][Ve]||{},xe[ke][ye][Ve][Ge]=be}return xe}(Ne.concat(ae))}return ue}var Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(Ce){ue=null,Le=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ae;if(this.ctx.font=Ce,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var Ne=ae[1],Ee=(ae[2],ae[3]),xe=ae[4],Pe=(ae[5],ae[6]),be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(be==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var ke=function(et){var ht,We,cn=[],kt=et.trim();if(kt==="")return _1;if(kt in FE)return[FE[kt]];for(;kt!=="";){switch(We=null,ht=(kt=BE(kt)).charAt(0)){case'"':case"'":We=iZ(kt.substring(1),ht);break;default:We=aZ(kt)}if(We===null||(cn.push(We[0]),(kt=BE(We[1]))!==""&&kt.charAt(0)!==","))return _1;kt=kt.replace(/^,/,"")}return cn}(Pe);if(this.fontFaces){var ye=rZ(Me(this.pdf,this.fontFaces),ke.map(function(et){return{family:et,stretch:"normal",weight:Ee,style:Ne}}));this.pdf.setFont(ye.ref.name,ye.ref.style)}else{var Ve="";(Ee==="bold"||parseInt(Ee,10)>=700||Ne==="bold")&&(Ve="bold"),Ne==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var Ge="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<ke.length;ze++){if(this.pdf.internal.getFont(ke[ze],Ve,{noFallback:!0,disableWarning:!0})!==void 0){Ge=ke[ze];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(ke[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=ke[ze],Ve="bold";else if(this.pdf.internal.getFont(ke[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=ke[ze],Ve="normal";break}}if(Ge===""){for(var ft=0;ft<ke.length;ft++)if(ot[ke[ft]]){Ge=ot[ke[ft]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(L,z)},f.prototype.closePath=function(){var L=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&rn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,z,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(L)||isNaN(z))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Q,te)),me=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},f.prototype.bezierCurveTo=function(L,z,Q,te,ie,me){if(isNaN(ie)||isNaN(me)||isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(ie,me)),V=this.ctx.transform.applyToPoint(new o(L,z)),le=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:V.x,y1:V.y,x2:le.x,y2:le.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},f.prototype.arc=function(L,z,Q,te,ie,me){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(ie))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(L,z));L=Ae.x,z=Ae.y;var V=this.ctx.transform.applyToPoint(new o(0,Q)),le=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(V.x-le.x,2)+Math.pow(V.y-le.y,2))}Math.abs(ie-te)>=2*Math.PI&&(te=0,ie=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:Q,startAngle:te,endAngle:ie,counterclockwise:me})},f.prototype.arcTo=function(L,z,Q,te,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+Q,z),this.lineTo(L+Q,z+te),this.lineTo(L,z+te),this.lineTo(L,z),this.lineTo(L+Q,z),this.lineTo(L,z)},f.prototype.fillRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,Q,te),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,z,Q,te),this.stroke())},f.prototype.clearRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,Q,te))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(L){var z,Q,te,ie;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,Q=0,te=0,ie=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(me!==null)z=parseInt(me[1]),Q=parseInt(me[2]),te=parseInt(me[3]),ie=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(me[1]),Q=parseInt(me[2]),te=parseInt(me[3]),ie=parseFloat(me[4]);else{if(ie=1,typeof L=="string"&&L.charAt(0)!=="#"){var Ae=new SI(L);L=Ae.ok?Ae.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,Q=L.substring(2,3),Q+=Q,te=L.substring(3,4),te+=te):(z=L.substring(1,3),Q=L.substring(3,5),te=L.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:z,g:Q,b:te,a:ie,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof L!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var ie=W(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;D.call(this,{text:L,x:z,y:Q,scale:me,angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(L,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof L!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var ie=W(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;D.call(this,{text:L,x:z,y:Q,scale:me,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(L){if(typeof L!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),ie=z.getStringUnitWidth(L)*te/z.internal.scaleFactor,me=function(Ae){var V=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return V}}),this};return new me({width:ie*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(L){if(isNaN(L))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(L,z,Q,te,ie,me){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(ie)||isNaN(me))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new l(L,z,Q,te,ie,me);this.ctx.transform=this.ctx.transform.multiply(Ae)},f.prototype.setTransform=function(L,z,Q,te,ie,me){L=isNaN(L)?1:L,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,ie=isNaN(ie)?0:ie,me=isNaN(me)?0:me,this.ctx.transform=new l(L,z,Q,te,ie,me)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,z,Q,te,ie,me,Ae,V,le){var ce=this.pdf.getImageProperties(L),ue=1,Me=1,Le=1,Ce=1;te!==void 0&&V!==void 0&&(Le=V/te,Ce=le/ie,ue=ce.width/te*V/te,Me=ce.height/ie*le/ie),me===void 0&&(me=z,Ae=Q,z=0,Q=0),te!==void 0&&V===void 0&&(V=te,le=ie),te===void 0&&V===void 0&&(V=ce.width,le=ce.height);for(var ae,Ne=this.ctx.transform.decompose(),Ee=W(Ne.rotate.shx),xe=new l,Pe=(xe=(xe=(xe=xe.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new s(me-z*Le,Ae-Q*Ce,te*ue,ie*Me)),be=w.call(this,Pe),ke=[],ye=0;ye<be.length;ye+=1)ke.indexOf(be[ye])===-1&&ke.push(be[ye]);if(S(ke),this.autoPaging)for(var Ve=ke[0],Ge=ke[ke.length-1],ot=Ve;ot<Ge+1;ot++){this.pdf.setPage(ot);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=ot===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=ot===1?0:et+(ot-2)*ht;if(this.ctx.clip_path.length!==0){var cn=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ae,this.posX+this.margin[3],-We+ft+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=cn}var kt=JSON.parse(JSON.stringify(Pe));kt=x([kt],this.posX+this.margin[3],-We+ft+this.ctx.prevPageLastElemOffset)[0];var Se=(ot>Ve||ot<Ge)&&b.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ht,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,Ee),Se&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Ee)};var w=function(L,z,Q){var te=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":te.push(Math.floor((L.y+ie)/Q)+1);break;case"arc":te.push(Math.floor((L.y+ie-L.radius)/Q)+1),te.push(Math.floor((L.y+ie+L.radius)/Q)+1);break;case"qct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);te.push(Math.floor((me.y+ie)/Q)+1),te.push(Math.floor((me.y+me.h+ie)/Q)+1);break;case"bct":var Ae=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);te.push(Math.floor((Ae.y+ie)/Q)+1),te.push(Math.floor((Ae.y+Ae.h+ie)/Q)+1);break;case"rect":te.push(Math.floor((L.y+ie)/Q)+1),te.push(Math.floor((L.y+L.h+ie)/Q)+1)}for(var V=0;V<te.length;V+=1)for(;this.pdf.internal.getNumberOfPages()<te[V];)y.call(this);return te},y=function(){var L=this.fillStyle,z=this.strokeStyle,Q=this.font,te=this.lineCap,ie=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=Q,this.lineCap=te,this.lineWidth=ie,this.lineJoin=me},x=function(L,z,Q){for(var te=0;te<L.length;te++)switch(L[te].type){case"bct":L[te].x2+=z,L[te].y2+=Q;case"qct":L[te].x1+=z,L[te].y1+=Q;case"mt":case"lt":case"arc":default:L[te].x+=z,L[te].y+=Q}return L},S=function(L){return L.sort(function(z,Q){return z-Q})},T=function(L,z){for(var Q,te,ie=this.fillStyle,me=this.strokeStyle,Ae=this.lineCap,V=this.lineWidth,le=Math.abs(V*this.ctx.transform.scaleX),ce=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Le=[],Ce=0;Ce<Me.length;Ce++)if(Me[Ce].x!==void 0)for(var ae=w.call(this,Me[Ce]),Ne=0;Ne<ae.length;Ne+=1)Le.indexOf(ae[Ne])===-1&&Le.push(ae[Ne]);for(var Ee=0;Ee<Le.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<Le[Ee];)y.call(this);if(S(Le),this.autoPaging)for(var xe=Le[0],Pe=Le[Le.length-1],be=xe;be<Pe+1;be++){this.pdf.setPage(be),this.fillStyle=ie,this.strokeStyle=me,this.lineCap=Ae,this.lineWidth=le,this.lineJoin=ce;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=be===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=be===1?0:Ve+(be-2)*Ge;if(this.ctx.clip_path.length!==0){var ze=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-ot+ye+this.ctx.prevPageLastElemOffset),C.call(this,L,!0),this.path=ze}if(te=JSON.parse(JSON.stringify(ue)),this.path=x(te,this.posX+this.margin[3],-ot+ye+this.ctx.prevPageLastElemOffset),z===!1||be===0){var ft=(be>xe||be<Pe)&&b.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,Ge,null).clip().discardPath()),C.call(this,L,z),ft&&this.pdf.restoreGraphicsState()}this.lineWidth=V}else this.lineWidth=le,C.call(this,L,z),this.lineWidth=V;this.path=ue},C=function(L,z){if((L!=="stroke"||z||!v.call(this))&&(L==="stroke"||z||!p.call(this))){for(var Q,te,ie=[],me=this.path,Ae=0;Ae<me.length;Ae++){var V=me[Ae];switch(V.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:V,deltas:[],abs:[]});break;case"lt":var le=ie.length;if(me[Ae-1]&&!isNaN(me[Ae-1].x)&&(Q=[V.x-me[Ae-1].x,V.y-me[Ae-1].y],le>0)){for(;le>=0;le--)if(ie[le-1].close!==!0&&ie[le-1].begin!==!0){ie[le-1].deltas.push(Q),ie[le-1].abs.push(V);break}}break;case"bct":Q=[V.x1-me[Ae-1].x,V.y1-me[Ae-1].y,V.x2-me[Ae-1].x,V.y2-me[Ae-1].y,V.x-me[Ae-1].x,V.y-me[Ae-1].y],ie[ie.length-1].deltas.push(Q);break;case"qct":var ce=me[Ae-1].x+2/3*(V.x1-me[Ae-1].x),ue=me[Ae-1].y+2/3*(V.y1-me[Ae-1].y),Me=V.x+2/3*(V.x1-V.x),Le=V.y+2/3*(V.y1-V.y),Ce=V.x,ae=V.y;Q=[ce-me[Ae-1].x,ue-me[Ae-1].y,Me-me[Ae-1].x,Le-me[Ae-1].y,Ce-me[Ae-1].x,ae-me[Ae-1].y],ie[ie.length-1].deltas.push(Q);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(V)}}te=z?null:L==="stroke"?"stroke":"fill";for(var Ne=!1,Ee=0;Ee<ie.length;Ee++)if(ie[Ee].arc)for(var xe=ie[Ee].abs,Pe=0;Pe<xe.length;Pe++){var be=xe[Pe];be.type==="arc"?M.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,z,!Ne):$.call(this,be.x,be.y),Ne=!0}else if(ie[Ee].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(ie[Ee].begin!==!0){var ke=ie[Ee].start.x,ye=ie[Ee].start.y;F.call(this,ie[Ee].deltas,ke,ye),Ne=!0}te&&I.call(this,te),z&&U.call(this)}},k=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Q;case"top":return L+z-Q;case"hanging":return L+z-2*Q;case"middle":return L+z/2-Q;case"ideographic":return L;case"alphabetic":default:return L}},E=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,Q){this.colorStops.push([z,Q])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(L,z,Q,te,ie,me,Ae,V,le){for(var ce=R.call(this,Q,te,ie,me),ue=0;ue<ce.length;ue++){var Me=ce[ue];ue===0&&(le?O.call(this,Me.x1+L,Me.y1+z):$.call(this,Me.x1+L,Me.y1+z)),G.call(this,L,z,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}V?U.call(this):I.call(this,Ae)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(L,z){this.pdf.internal.out(n(L)+" "+r(z)+" m")},D=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Q=this.pdf.getTextDimensions(L.text),te=k.call(this,L.y),ie=E.call(this,te)-Q.h,me=this.ctx.transform.applyToPoint(new o(L.x,te)),Ae=this.ctx.transform.decompose(),V=new l;V=(V=(V=V.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var le,ce,ue,Me=this.ctx.transform.applyToRectangle(new s(L.x,te,Q.w,Q.h)),Le=V.applyToRectangle(new s(L.x,ie,Q.w,Q.h)),Ce=w.call(this,Le),ae=[],Ne=0;Ne<Ce.length;Ne+=1)ae.indexOf(Ce[Ne])===-1&&ae.push(Ce[Ne]);if(S(ae),this.autoPaging)for(var Ee=ae[0],xe=ae[ae.length-1],Pe=Ee;Pe<xe+1;Pe++){this.pdf.setPage(Pe);var be=Pe===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ye=this.pdf.internal.pageSize.height-this.margin[2],Ve=ye-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],ot=Ge-this.margin[3],ze=Pe===1?0:ke+(Pe-2)*Ve;if(this.ctx.clip_path.length!==0){var ft=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(le,this.posX+this.margin[3],-1*ze+be),C.call(this,"fill",!0),this.path=ft}var et=x([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-ze+be+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale);var ht=this.autoPaging!=="text";if(ht||et.y+et.h<=ye){if(ht||et.y>=be&&et.x<=Ge){var We=ht?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ge-et.x)[0],cn=x([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-ze+be+this.ctx.prevPageLastElemOffset)[0],kt=ht&&(Pe>Ee||Pe<xe)&&b.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ve,null).clip().discardPath()),this.pdf.text(We,cn.x,cn.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else et.y<ye&&(this.ctx.prevPageLastElemOffset+=ye-et.y);L.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)}else L.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale),this.pdf.text(L.text,me.x+this.posX,me.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)},$=function(L,z,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(L+Q)+" "+r(z+te)+" l")},F=function(L,z,Q){return this.pdf.lines(L,z,Q,null,null)},G=function(L,z,Q,te,ie,me,Ae,V){this.pdf.internal.out([e(i(Q+L)),e(a(te+z)),e(i(ie+L)),e(a(me+z)),e(i(Ae+L)),e(a(V+z)),"c"].join(" "))},R=function(L,z,Q,te){for(var ie=2*Math.PI,me=Math.PI/2;z>Q;)z-=ie;var Ae=Math.abs(Q-z);Ae<ie&&te&&(Ae=ie-Ae);for(var V=[],le=te?-1:1,ce=z;Ae>1e-5;){var ue=ce+le*Math.min(Ae,me);V.push(B.call(this,L,ce,ue)),Ae-=Math.abs(ue-ce),ce=ue}return V},B=function(L,z,Q){var te=(Q-z)/2,ie=L*Math.cos(te),me=L*Math.sin(te),Ae=ie,V=-me,le=Ae*Ae+V*V,ce=le+Ae*ie+V*me,ue=4/3*(Math.sqrt(2*le*ce)-ce)/(Ae*me-V*ie),Me=Ae-ue*V,Le=V+ue*Ae,Ce=Me,ae=-Le,Ne=te+z,Ee=Math.cos(Ne),xe=Math.sin(Ne);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:Me*Ee-Le*xe,y2:Me*xe+Le*Ee,x3:Ce*Ee-ae*xe,y3:Ce*xe+ae*Ee,x4:L*Math.cos(Q),y4:L*Math.sin(Q)}},W=function(L){return 180*L/Math.PI},K=function(L,z,Q,te,ie,me){var Ae=L+.5*(Q-L),V=z+.5*(te-z),le=ie+.5*(Q-ie),ce=me+.5*(te-me),ue=Math.min(L,ie,Ae,le),Me=Math.max(L,ie,Ae,le),Le=Math.min(z,me,V,ce),Ce=Math.max(z,me,V,ce);return new s(ue,Le,Me-ue,Ce-Le)},Z=function(L,z,Q,te,ie,me,Ae,V){var le,ce,ue,Me,Le,Ce,ae,Ne,Ee,xe,Pe,be,ke,ye,Ve=Q-L,Ge=te-z,ot=ie-Q,ze=me-te,ft=Ae-ie,et=V-me;for(ce=0;ce<41;ce++)Ee=(ae=(ue=L+(le=ce/40)*Ve)+le*((Le=Q+le*ot)-ue))+le*(Le+le*(ie+le*ft-Le)-ae),xe=(Ne=(Me=z+le*Ge)+le*((Ce=te+le*ze)-Me))+le*(Ce+le*(me+le*et-Ce)-Ne),ce==0?(Pe=Ee,be=xe,ke=Ee,ye=xe):(Pe=Math.min(Pe,Ee),be=Math.min(be,xe),ke=Math.max(ke,Ee),ye=Math.max(ye,xe));return new s(Math.round(Pe),Math.round(be),Math.round(ke-Pe),Math.round(ye-be))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,Q=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ut.API),function(t){var e=function(a){var o,s,l,u,c,f,h,p,v,b;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(b=c%85))/85)-(v=c%85))/85)-(p=c%85))/85)-(h=c%85))/85)%85,s.push(f+33,h+33,p+33,v+33,b+33)):s.push(122);return function(w,y){for(var x=y;x>0;x--)w.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,f=String,h="length",p=255,v="charCodeAt",b="slice",w="replace";for(a[b](-2),a=a[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[b](a[h]%5||5))[h];c>u;u+=5)s=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),l.push(p&s>>24,p&s>>16,p&s>>8,p&s);return function(y,x){for(var S=x;S>0;S--)y.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=k2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ut.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,h=0,p=function(v){var b=v.length,w=[],y=String.fromCharCode;for(h=0;h<b;h+=1)w.push(y(255&v.charCodeAt(h)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(p(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(ut.API),function(t){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):Nl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):Nl(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=rn(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(b){return b.format==="truetype"});v&&l.addFont(v.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ut.getPageSize=function(o,s,l){if(rn(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var p,v=0,b=0;if(h.hasOwnProperty(f))v=h[f][1]/c,b=h[f][0]/c;else try{v=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>v&&(p=b,b=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(p=b,b=v,v=p)}return{width:b,height:v,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(j2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(ut.API),ut.API.addJS=function(t){return qE=t,this.internal.events.subscribe("postPutResources",function(){Qm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qm!==void 0&&UE!==void 0&&this.internal.out("/Names <</JavaScript "+Qm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ut.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,b={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=p,e.indexOf(f.charCodeAt(w+1))!==-1){h=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),b={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:h,numcomponents:f.charCodeAt(w+9)};break}p=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ut.API);var Bc,Zm,HE,zE,VE,oZ=function(){var t,e,n;function r(a){var o,s,l,u,c,f,h,p,v,b,w,y,x,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(w=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,w.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,w.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,h,p,v){var b,w,y,x,S,T,C,k,E,M,I,U,O,D,$,F,G,R,B,W,K,Z=Math.ceil((u.width-f)/p),se=Math.ceil((u.height-h)/v),L=u.width==Z&&u.height==se;for(D=o*Z,U=L?s:new Uint8Array(D*se),T=a.length,O=0,w=0;O<se&&l<T;){switch(a[l++]){case 0:for(x=G=0;G<D;x=G+=1)U[w++]=a[l++];break;case 1:for(x=R=0;R<D;x=R+=1)b=a[l++],S=x<o?0:U[w-o],U[w++]=(b+S)%256;break;case 2:for(x=B=0;B<D;x=B+=1)b=a[l++],y=(x-x%o)/o,$=O&&U[(O-1)*D+y*o+x%o],U[w++]=($+b)%256;break;case 3:for(x=W=0;W<D;x=W+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:U[w-o],$=O&&U[(O-1)*D+y*o+x%o],U[w++]=(b+Math.floor((S+$)/2))%256;break;case 4:for(x=K=0;K<D;x=K+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:U[w-o],O===0?$=F=0:($=U[(O-1)*D+y*o+x%o],F=y&&U[(O-1)*D+(y-1)*o+x%o]),C=S+$-F,k=Math.abs(C-S),M=Math.abs(C-$),I=Math.abs(C-F),E=k<=M&&k<=I?S:M<=I?$:F,U[w++]=(b+E)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!L){var z=((h+O*v)*u.width+f)*o,Q=O*D;for(x=0;x<Z;x+=1){for(var te=0;te<o;te+=1)s[z++]=U[Q++];z+=(p-1)*o}}O++}}return a=RQ(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,f,h,p;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(p=c[a++])!=null?p:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,f,h,p,v,b,w,y;if(l=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,s=!0),v=(u=a.data||a).length,f=b||o,c=h=0,l===1)for(;c<v;)p=b?4*o[c/4]:h,w=f[p++],u[c++]=w,u[c++]=w,u[c++]=w,u[c++]=s?f[p++]:255,h=p;else for(;c<v;)p=b?4*o[c/4]:h,u[c++]=f[p++],u[c++]=f[p++],u[c++]=f[p++],u[c++]=s?f[p++]:255,h=p},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(mt)==="[object Window]"){try{e=mt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,f,h,p;if(this.animation){for(p=[],s=c=0,f=(h=this.animation.frames).length;c<f;s=++c)o=h[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(o=function(){var p,v;if(p=s++%u,v=l[p],h.renderFrame(a,p),u>1&&s/u<c)return h.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function sZ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,h=null,p=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],!(1&b)&&(h=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,k=1<<(7&T)+1,E=s,M=l,I=!1;T>>7&&(I=!0,E=e,M=k,e+=3*k);var U=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x:w,y,width:x,height:S,has_local_palette:I,palette_offset:E,palette_size:M,data_offset:U,data_length:e-U,transparent_index:h,interlaced:!!C,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(D){if(D<0||D>=c.length)throw new Error("Frame index out of range.");return c[D]},this.decodeAndBlitFrameBGRA=function(D,$){var F=this.frameInfo(D),G=F.width*F.height,R=new Uint8Array(G);GE(t,F.data_offset,R,G);var B=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var K=F.width,Z=n-K,se=K,L=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=L,te=4*Z;F.interlaced===!0&&(te+=4*n*7);for(var ie=8,me=0,Ae=R.length;me<Ae;++me){var V=R[me];if(se===0&&(se=K,(Q+=te)>=z&&(te=4*Z+4*n*(ie-1),Q=L+(K+Z)*(ie<<1),ie>>=1)),V===W)Q+=4;else{var le=t[B+3*V],ce=t[B+3*V+1],ue=t[B+3*V+2];$[Q++]=ue,$[Q++]=ce,$[Q++]=le,$[Q++]=255}--se}},this.decodeAndBlitFrameRGBA=function(D,$){var F=this.frameInfo(D),G=F.width*F.height,R=new Uint8Array(G);GE(t,F.data_offset,R,G);var B=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var K=F.width,Z=n-K,se=K,L=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=L,te=4*Z;F.interlaced===!0&&(te+=4*n*7);for(var ie=8,me=0,Ae=R.length;me<Ae;++me){var V=R[me];if(se===0&&(se=K,(Q+=te)>=z&&(te=4*Z+4*n*(ie-1),Q=L+(K+Z)*(ie<<1),ie>>=1)),V===W)Q+=4;else{var le=t[B+3*V],ce=t[B+3*V+1],ue=t[B+3*V+2];$[Q++]=le,$[Q++]=ce,$[Q++]=ue,$[Q++]=255}--se}}}function GE(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,p=t[e++],v=new Int32Array(4096),b=null;;){for(;c<16&&p!==0;)f|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==a){if(w===o)break;for(var y=w<s?w:b,x=0,S=y;S>a;)S=v[S]>>8,++x;var T=S;if(h+x+(y!==w?1:0)>r)return void hn.log("Warning, gif stream longer than expected.");n[h++]=T;var C=h+=x;for(y!==w&&(n[h++]=T),S=y;x--;)S=v[S],n[--C]=255&S,S>>=8;b!==null&&s<4096&&(v[s++]=b<<8|T,s>=u+1&&l<12&&(++l,u=u<<1|1)),b=w}else s=o+1,u=(1<<(l=i+1))-1,b=null}return h!==r&&hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function T1(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),b=[],w=0,y=7,x=new Array(64),S=new Array(64),T=new Array(64),C=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(L,z){for(var Q=0,te=0,ie=new Array,me=1;me<=16;me++){for(var Ae=1;Ae<=L[me];Ae++)ie[z[te]]=[],ie[z[te]][0]=Q,ie[z[te]][1]=me,te++,Q++;Q*=2}return ie}function B(L){for(var z=L[0],Q=L[1]-1;Q>=0;)z&1<<Q&&(w|=1<<y),Q--,--y<0&&(w==255?(W(255),W(0)):W(w),y=7,w=0)}function W(L){b.push(L)}function K(L){W(L>>8&255),W(255&L)}function Z(L,z,Q,te,ie){for(var me,Ae=ie[0],V=ie[240],le=function(xe,Pe){var be,ke,ye,Ve,Ge,ot,ze,ft,et,ht,We=0;for(et=0;et<8;++et){be=xe[We],ke=xe[We+1],ye=xe[We+2],Ve=xe[We+3],Ge=xe[We+4],ot=xe[We+5],ze=xe[We+6];var cn=be+(ft=xe[We+7]),kt=be-ft,Se=ke+ze,Ue=ke-ze,rt=ye+ot,pt=ye-ot,st=Ve+Ge,mn=Ve-Ge,Pt=cn+st,lr=cn-st,li=Se+rt,fn=Se-rt;xe[We]=Pt+li,xe[We+4]=Pt-li;var Ke=.707106781*(fn+lr);xe[We+2]=lr+Ke,xe[We+6]=lr-Ke;var Mt=.382683433*((Pt=mn+pt)-(fn=Ue+kt)),kr=.5411961*Pt+Mt,Hn=1.306562965*fn+Mt,Xi=.707106781*(li=pt+Ue),Qi=kt+Xi,ct=kt-Xi;xe[We+5]=ct+kr,xe[We+3]=ct-kr,xe[We+1]=Qi+Hn,xe[We+7]=Qi-Hn,We+=8}for(We=0,et=0;et<8;++et){be=xe[We],ke=xe[We+8],ye=xe[We+16],Ve=xe[We+24],Ge=xe[We+32],ot=xe[We+40],ze=xe[We+48];var Ni=be+(ft=xe[We+56]),Ei=be-ft,Fr=ke+ze,zn=ke-ze,In=ye+ot,$r=ye-ot,Pa=Ve+Ge,Zi=Ve-Ge,ui=Ni+Pa,ki=Ni-Pa,Pi=Fr+In,ea=Fr-In;xe[We]=ui+Pi,xe[We+32]=ui-Pi;var Xr=.707106781*(ea+ki);xe[We+16]=ki+Xr,xe[We+48]=ki-Xr;var ta=.382683433*((ui=Zi+$r)-(ea=zn+Ei)),Co=.5411961*ui+ta,ys=1.306562965*ea+ta,bs=.707106781*(Pi=$r+zn),xs=Ei+bs,ws=Ei-bs;xe[We+40]=ws+Co,xe[We+24]=ws-Co,xe[We+8]=xs+ys,xe[We+56]=xs-ys,We++}for(et=0;et<64;++et)ht=xe[et]*Pe[et],p[et]=ht>0?ht+.5|0:ht-.5|0;return p}(L,z),ce=0;ce<64;++ce)v[E[ce]]=le[ce];var ue=v[0]-Q;Q=v[0],ue==0?B(te[0]):(B(te[h[me=32767+ue]]),B(f[me]));for(var Me=63;Me>0&&v[Me]==0;)Me--;if(Me==0)return B(Ae),Q;for(var Le,Ce=1;Ce<=Me;){for(var ae=Ce;v[Ce]==0&&Ce<=Me;)++Ce;var Ne=Ce-ae;if(Ne>=16){Le=Ne>>4;for(var Ee=1;Ee<=Le;++Ee)B(V);Ne&=15}me=32767+v[Ce],B(ie[(Ne<<4)+h[me]]),B(f[me]),Ce++}return Me!=63&&B(Ae),Q}function se(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ie=o((Q[te]*z+50)/100);ie=Math.min(Math.max(ie,1),255),s[E[te]]=ie}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var V=o((me[Ae]*z+50)/100);V=Math.min(Math.max(V,1),255),l[E[Ae]]=V}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ce=0,ue=0;ue<8;ue++)for(var Me=0;Me<8;Me++)u[ce]=1/(s[E[ce]]*le[ue]*le[Me]*8),c[ce]=1/(l[E[ce]]*le[ue]*le[Me]*8),ce++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,z){z&&se(z),b=new Array,w=0,y=7,K(65496),K(65504),K(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),K(1),K(1),W(0),W(0),function(){K(65499),K(132),W(0);for(var ke=0;ke<64;ke++)W(s[ke]);W(1);for(var ye=0;ye<64;ye++)W(l[ye])}(),function(ke,ye){K(65472),K(17),W(8),K(ye),K(ke),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(L.width,L.height),function(){K(65476),K(418),W(0);for(var ke=0;ke<16;ke++)W(M[ke+1]);for(var ye=0;ye<=11;ye++)W(I[ye]);W(16);for(var Ve=0;Ve<16;Ve++)W(U[Ve+1]);for(var Ge=0;Ge<=161;Ge++)W(O[Ge]);W(1);for(var ot=0;ot<16;ot++)W(D[ot+1]);for(var ze=0;ze<=11;ze++)W($[ze]);W(17);for(var ft=0;ft<16;ft++)W(F[ft+1]);for(var et=0;et<=161;et++)W(G[et])}(),K(65498),K(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,te=0,ie=0;w=0,y=7,this.encode.displayName="_encode_";for(var me,Ae,V,le,ce,ue,Me,Le,Ce,ae=L.data,Ne=L.width,Ee=L.height,xe=4*Ne,Pe=0;Pe<Ee;){for(me=0;me<xe;){for(ce=xe*Pe+me,Me=-1,Le=0,Ce=0;Ce<64;Ce++)ue=ce+(Le=Ce>>3)*xe+(Me=4*(7&Ce)),Pe+Le>=Ee&&(ue-=xe*(Pe+1+Le-Ee)),me+Me>=xe&&(ue-=me+Me-xe+4),Ae=ae[ue++],V=ae[ue++],le=ae[ue++],x[Ce]=(k[Ae]+k[V+256>>0]+k[le+512>>0]>>16)-128,S[Ce]=(k[Ae+768>>0]+k[V+1024>>0]+k[le+1280>>0]>>16)-128,T[Ce]=(k[Ae+1280>>0]+k[V+1536>>0]+k[le+1792>>0]>>16)-128;Q=Z(x,u,Q,e,r),te=Z(S,c,te,n,i),ie=Z(T,c,ie,n,i),me+=32}Pe+=8}if(y>=0){var be=[];be[1]=y+1,be[0]=(1<<y+1)-1,B(be)}return K(65497),new Uint8Array(b)},t=t||50,function(){for(var L=String.fromCharCode,z=0;z<256;z++)C[z]=L(z)}(),e=R(M,I),n=R(D,$),r=R(U,O),i=R(F,G),function(){for(var L=1,z=2,Q=1;Q<=15;Q++){for(var te=L;te<z;te++)h[32767+te]=Q,f[32767+te]=[],f[32767+te][1]=Q,f[32767+te][0]=te;for(var ie=-(z-1);ie<=-L;ie++)h[32767+ie]=Q,f[32767+ie]=[],f[32767+ie][1]=Q,f[32767+ie][0]=z-1+ie;L<<=1,z<<=1}}(),function(){for(var L=0;L<256;L++)k[L]=19595*L,k[L+256>>0]=38470*L,k[L+512>>0]=7471*L+32768,k[L+768>>0]=-11059*L,k[L+1024>>0]=-21709*L,k[L+1280>>0]=32768*L+8421375,k[L+1536>>0]=-27439*L,k[L+1792>>0]=-5329*L}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WE(t){function e(M){if(!M)throw Error("assert :P")}function n(M,I,U){for(var O=0;4>O;O++)if(M[I+O]!=U.charCodeAt(O))return!0;return!1}function r(M,I,U,O,D){for(var $=0;$<D;$++)M[I+$]=U[O+$]}function i(M,I,U,O){for(var D=0;D<O;D++)M[I+D]=U}function a(M){return new Int32Array(M)}function o(M,I){for(var U=[],O=0;O<M;O++)U.push(new I);return U}function s(M,I){var U=[];return function O(D,$,F){for(var G=F[$],R=0;R<G&&(D.push(F.length>$+1?[]:new I),!(F.length<$+1));R++)O(D[R],$+1,F)}(U,0,M),U}var l=function(){var M=this;function I(g,_){for(var P=1<<_-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function U(g,_,P,j,q){e(!(j%P));do g[_+(j-=P)]=q;while(0<j)}function O(g,_,P,j,q){if(e(2328>=q),512>=q)var Y=a(512);else if((Y=a(q))==null)return 0;return function(J,X,ee,ne,he,_e){var Te,ve,Be=X,Oe=1<<ee,pe=a(16),ge=a(16);for(e(he!=0),e(ne!=null),e(J!=null),e(0<ee),ve=0;ve<he;++ve){if(15<ne[ve])return 0;++pe[ne[ve]]}if(pe[0]==he)return 0;for(ge[1]=0,Te=1;15>Te;++Te){if(pe[Te]>1<<Te)return 0;ge[Te+1]=ge[Te]+pe[Te]}for(ve=0;ve<he;++ve)Te=ne[ve],0<ne[ve]&&(_e[ge[Te]++]=ve);if(ge[15]==1)return(ne=new D).g=0,ne.value=_e[0],U(J,Be,1,Oe,ne),Oe;var Re,qe=-1,$e=Oe-1,tt=0,Je=1,dt=1,Xe=1<<ee;for(ve=0,Te=1,he=2;Te<=ee;++Te,he<<=1){if(Je+=dt<<=1,0>(dt-=pe[Te]))return 0;for(;0<pe[Te];--pe[Te])(ne=new D).g=Te,ne.value=_e[ve++],U(J,Be+tt,he,Xe,ne),tt=I(tt,Te)}for(Te=ee+1,he=2;15>=Te;++Te,he<<=1){if(Je+=dt<<=1,0>(dt-=pe[Te]))return 0;for(;0<pe[Te];--pe[Te]){if(ne=new D,(tt&$e)!=qe){for(Be+=Xe,Re=1<<(qe=Te)-ee;15>qe&&!(0>=(Re-=pe[qe]));)++qe,Re<<=1;Oe+=Xe=1<<(Re=qe-ee),J[X+(qe=tt&$e)].g=Re+ee,J[X+qe].value=Be-X-qe}ne.g=Te-ee,ne.value=_e[ve++],U(J,Be+(tt>>ee),he,Xe,ne),tt=I(tt,Te)}}return Je!=2*ge[15]-1?0:Oe}(g,_,P,j,q,Y)}function D(){this.value=this.g=0}function $(){this.value=this.g=0}function F(){this.G=o(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Pr,$)}function G(g,_,P,j){e(g!=null),e(_!=null),e(2147483648>j),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=P,g.Jd=_,g.Yc=P+j,g.Zc=4<=j?P+j-4+1:P,me(g)}function R(g,_){for(var P=0;0<_--;)P|=V(g,128)<<_;return P}function B(g,_){var P=R(g,_);return Ae(g)?-P:P}function W(g,_,P,j){var q,Y=0;for(e(g!=null),e(_!=null),e(4294967288>j),g.Sb=j,g.Ra=0,g.u=0,g.h=0,4<j&&(j=4),q=0;q<j;++q)Y+=_[P+q]<<8*q;g.Ra=Y,g.bb=j,g.oa=_,g.pa=P}function K(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<wc-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function Z(g,_){if(e(0<=_),!g.h&&_<=xc){var P=z(g)&bc[_];return g.u+=_,K(g),P}return g.h=1,g.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&wc-1)>>>0}function Q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>wc}function te(g,_){g.u=_,g.h=Q(g)}function ie(g){g.u>=uh&&(e(g.u>=uh),K(g))}function me(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ae(g){return R(g,1)}function V(g,_){var P=g.Ca;0>g.b&&me(g);var j=g.b,q=P*_>>>8,Y=(g.I>>>j>q)+0;for(Y?(P-=q,g.I-=q+1<<j>>>0):P=q+1,j=P,q=0;256<=j;)q+=8,j>>=8;return j=7^q+fi[j],g.b-=j,g.Ca=(P<<j)-1,Y}function le(g,_,P){g[_+0]=P>>24&255,g[_+1]=P>>16&255,g[_+2]=P>>8&255,g[_+3]=P>>0&255}function ce(g,_){return g[_+0]<<0|g[_+1]<<8}function ue(g,_){return ce(g,_)|g[_+2]<<16}function Me(g,_){return ce(g,_)|ce(g,_+2)<<16}function Le(g,_){var P=1<<_;return e(g!=null),e(0<_),g.X=a(P),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Ce(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ne(g,_,P,j){e(P!=null),e(j!=null);var q=P[0],Y=j[0];return q==0&&(q=(g*Y+_/2)/_),Y==0&&(Y=(_*q+g/2)/g),0>=q||0>=Y?0:(P[0]=q,j[0]=Y,1)}function Ee(g,_){return g+(1<<_)-1>>>_}function xe(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Pe(g,_){M[_]=function(P,j,q,Y,J,X,ee){var ne;for(ne=0;ne<J;++ne){var he=M[g](X[ee+ne-1],q,Y+ne);X[ee+ne]=xe(P[j+ne],he)}}}function be(){this.ud=this.hd=this.jd=0}function ke(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function ye(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ve(g,_){return ye(g+(g-_+.5>>1))}function Ge(g,_,P){return Math.abs(_-P)-Math.abs(g-P)}function ot(g,_,P,j,q,Y,J){for(j=Y[J-1],P=0;P<q;++P)Y[J+P]=j=xe(g[_+P],j)}function ze(g,_,P,j,q){var Y;for(Y=0;Y<P;++Y){var J=g[_+Y],X=J>>8&255,ee=16711935&(ee=(ee=16711935&J)+((X<<16)+X));j[q+Y]=(4278255360&J)+ee>>>0}}function ft(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function et(g,_,P,j,q,Y){var J;for(J=0;J<j;++J){var X=_[P+J],ee=X>>>8,ne=X,he=255&(he=(he=X>>>16)+((g.jd<<24>>24)*(ee<<24>>24)>>>5));ne=255&(ne=(ne=ne+((g.hd<<24>>24)*(ee<<24>>24)>>>5))+((g.ud<<24>>24)*(he<<24>>24)>>>5)),q[Y+J]=(4278255360&X)+(he<<16)+ne}}function ht(g,_,P,j,q){M[_]=function(Y,J,X,ee,ne,he,_e,Te,ve){for(ee=_e;ee<Te;++ee)for(_e=0;_e<ve;++_e)ne[he++]=q(X[j(Y[J++])])},M[g]=function(Y,J,X,ee,ne,he,_e){var Te=8>>Y.b,ve=Y.Ea,Be=Y.K[0],Oe=Y.w;if(8>Te)for(Y=(1<<Y.b)-1,Oe=(1<<Te)-1;J<X;++J){var pe,ge=0;for(pe=0;pe<ve;++pe)pe&Y||(ge=j(ee[ne++])),he[_e++]=q(Be[ge&Oe]),ge>>=Te}else M["VP8LMapColor"+P](ee,ne,Be,Oe,he,_e,J,X,ve)}}function We(g,_,P,j,q){for(P=_+P;_<P;){var Y=g[_++];j[q++]=Y>>16&255,j[q++]=Y>>8&255,j[q++]=Y>>0&255}}function cn(g,_,P,j,q){for(P=_+P;_<P;){var Y=g[_++];j[q++]=Y>>16&255,j[q++]=Y>>8&255,j[q++]=Y>>0&255,j[q++]=Y>>24&255}}function kt(g,_,P,j,q){for(P=_+P;_<P;){var Y=(J=g[_++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;j[q++]=Y,j[q++]=J}}function Se(g,_,P,j,q){for(P=_+P;_<P;){var Y=(J=g[_++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;j[q++]=Y,j[q++]=J}}function Ue(g,_,P,j,q){for(P=_+P;_<P;){var Y=g[_++];j[q++]=Y>>0&255,j[q++]=Y>>8&255,j[q++]=Y>>16&255}}function rt(g,_,P,j,q,Y){if(Y==0)for(P=_+P;_<P;)le(j,((Y=g[_++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),q+=32;else r(j,q,g,_,P)}function pt(g,_){M[_][0]=M[g+"0"],M[_][1]=M[g+"1"],M[_][2]=M[g+"2"],M[_][3]=M[g+"3"],M[_][4]=M[g+"4"],M[_][5]=M[g+"5"],M[_][6]=M[g+"6"],M[_][7]=M[g+"7"],M[_][8]=M[g+"8"],M[_][9]=M[g+"9"],M[_][10]=M[g+"10"],M[_][11]=M[g+"11"],M[_][12]=M[g+"12"],M[_][13]=M[g+"13"],M[_][14]=M[g+"0"],M[_][15]=M[g+"0"]}function st(g){return g==lb||g==ub||g==pm||g==cb}function mn(){this.eb=[],this.size=this.A=this.fb=0}function Pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function lr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mn,this.f.kb=new Pt,this.sd=null}function li(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ke(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Mt(g,_){var P=g.T,j=_.ba.f.RGBA,q=j.eb,Y=j.fb+g.ka*j.A,J=sa[_.ba.S],X=g.y,ee=g.O,ne=g.f,he=g.N,_e=g.ea,Te=g.W,ve=_.cc,Be=_.dc,Oe=_.Mc,pe=_.Nc,ge=g.ka,Re=g.ka+g.T,qe=g.U,$e=qe+1>>1;for(ge==0?J(X,ee,null,null,ne,he,_e,Te,ne,he,_e,Te,q,Y,null,null,qe):(J(_.ec,_.fc,X,ee,ve,Be,Oe,pe,ne,he,_e,Te,q,Y-j.A,q,Y,qe),++P);ge+2<Re;ge+=2)ve=ne,Be=he,Oe=_e,pe=Te,he+=g.Rc,Te+=g.Rc,Y+=2*j.A,J(X,(ee+=2*g.fa)-g.fa,X,ee,ve,Be,Oe,pe,ne,he,_e,Te,q,Y-j.A,q,Y,qe);return ee+=g.fa,g.j+Re<g.o?(r(_.ec,_.fc,X,ee,qe),r(_.cc,_.dc,ne,he,$e),r(_.Mc,_.Nc,_e,Te,$e),P--):1&Re||J(X,ee,null,null,ne,he,_e,Te,ne,he,_e,Te,q,Y+j.A,null,null,qe),P}function kr(g,_,P){var j=g.F,q=[g.J];if(j!=null){var Y=g.U,J=_.ba.S,X=J==hm||J==pm;_=_.ba.f.RGBA;var ee=[0],ne=g.ka;ee[0]=g.T,g.Kb&&(ne==0?--ee[0]:(--ne,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(ee[0]=g.o-g.j-ne));var he=_.eb;ne=_.fb+ne*_.A,g=vn(j,q[0],g.width,Y,ee,he,ne+(X?0:3),_.A),e(P==ee),g&&st(J)&&aa(he,ne,X,Y,ee,_.A)}return 0}function Hn(g){var _=g.ma,P=_.ba.S,j=11>P,q=P==fm||P==dm||P==hm||P==sb||P==12||st(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!sh(_.Oa,g,q?11:12))return 0;if(q&&st(P)&&He(),g.da)alert("todo:use_scaling");else{if(j){if(_.Ib=Ke,g.Kb){if(P=g.U+1>>1,_.memory=a(g.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=Mt,He()}}else alert("todo:EmitYUV");q&&(_.Jb=kr,j&&we())}if(j&&!G_){for(g=0;256>g;++g)U8[g]=89858*(g-128)+mm>>Am,z8[g]=-22014*(g-128)+mm,H8[g]=-45773*(g-128),q8[g]=113618*(g-128)+mm>>Am;for(g=mh;g<hb;++g)_=76283*(g-16)+mm>>Am,V8[g-mh]=Mi(_,255),G8[g-mh]=Mi(_+8>>4,15);G_=1}return 1}function Xi(g){var _=g.ma,P=g.U,j=g.T;return e(!(1&g.ka)),0>=P||0>=j?0:(P=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,P),_.Dc+=P,1)}function Qi(g){g.ma.memory=null}function ct(g,_,P,j){return Z(g,8)!=47?0:(_[0]=Z(g,14)+1,P[0]=Z(g,14)+1,j[0]=Z(g,1),Z(g,3)!=0?0:!g.h)}function Ni(g,_){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+Z(_,P)+1}function Ei(g,_){return 120<_?_-120:1<=(P=((P=N8[_-1])>>4)*g+(8-(15&P)))?P:1;var P}function Fr(g,_,P){var j=z(P),q=g[_+=255&j].g-8;return 0<q&&(te(P,P.u+8),j=z(P),_+=g[_].value,_+=j&(1<<q)-1),te(P,P.u+g[_].g),g[_].value}function zn(g,_,P){return P.g+=g.g,P.value+=g.value<<_>>>0,e(8>=P.g),g.g}function In(g,_,P){var j=g.xc;return e((_=j==0?0:g.vc[g.md*(P>>j)+(_>>j)])<g.Wb),g.Ya[_]}function $r(g,_,P,j){var q=g.ab,Y=g.c*_,J=g.C;_=J+_;var X=P,ee=j;for(j=g.Ta,P=g.Ua;0<q--;){var ne=g.gc[q],he=J,_e=_,Te=X,ve=ee,Be=(ee=j,X=P,ne.Ea);switch(e(he<_e),e(_e<=ne.nc),ne.hc){case 2:im(Te,ve,(_e-he)*Be,ee,X);break;case 0:var Oe=he,pe=_e,ge=ee,Re=X,qe=(Xe=ne).Ea;Oe==0&&(ab(Te,ve,null,null,1,ge,Re),ot(Te,ve+1,0,0,qe-1,ge,Re+1),ve+=qe,Re+=qe,++Oe);for(var $e=1<<Xe.b,tt=$e-1,Je=Ee(qe,Xe.b),dt=Xe.K,Xe=Xe.w+(Oe>>Xe.b)*Je;Oe<pe;){var Gt=dt,Qt=Xe,Ut=1;for(ch(Te,ve,ge,Re-qe,1,ge,Re);Ut<qe;){var Rt=(Ut&~tt)+$e;Rt>qe&&(Rt=qe),(0,ks[Gt[Qt++]>>8&15])(Te,ve+ +Ut,ge,Re+Ut-qe,Rt-Ut,ge,Re+Ut),Ut=Rt}ve+=qe,Re+=qe,++Oe&tt||(Xe+=Je)}_e!=ne.nc&&r(ee,X-Be,ee,X+(_e-he-1)*Be,Be);break;case 1:for(Be=Te,pe=ve,qe=(Te=ne.Ea)-(Re=Te&~(ge=(ve=1<<ne.b)-1)),Oe=Ee(Te,ne.b),$e=ne.K,ne=ne.w+(he>>ne.b)*Oe;he<_e;){for(tt=$e,Je=ne,dt=new be,Xe=pe+Re,Gt=pe+Te;pe<Xe;)ft(tt[Je++],dt),Gl(dt,Be,pe,ve,ee,X),pe+=ve,X+=ve;pe<Gt&&(ft(tt[Je++],dt),Gl(dt,Be,pe,qe,ee,X),pe+=qe,X+=qe),++he&ge||(ne+=Oe)}break;case 3:if(Te==ee&&ve==X&&0<ne.b){for(pe=ee,Te=Be=X+(_e-he)*Be-(Re=(_e-he)*Ee(ne.Ea,ne.b)),ve=ee,ge=X,Oe=[],Re=(qe=Re)-1;0<=Re;--Re)Oe[Re]=ve[ge+Re];for(Re=qe-1;0<=Re;--Re)pe[Te+Re]=Oe[Re];na(ne,he,_e,ee,Be,ee,X)}else na(ne,he,_e,Te,ve,ee,X)}X=j,ee=P}ee!=P&&r(j,P,X,ee,Y)}function Pa(g,_){var P=g.V,j=g.Ba+g.c*g.C,q=_-g.C;if(e(_<=g.l.o),e(16>=q),0<q){var Y=g.l,J=g.Ta,X=g.Ua,ee=Y.width;if($r(g,q,P,j),q=X=[X],e((P=g.C)<(j=_)),e(Y.v<Y.va),j>Y.o&&(j=Y.o),P<Y.j){var ne=Y.j-P;P=Y.j,q[0]+=ne*ee}if(P>=j?P=0:(q[0]+=4*Y.v,Y.ka=P-Y.j,Y.U=Y.va-Y.v,Y.T=j-P,P=1),P){if(X=X[0],11>(P=g.ca).S){var he=P.f.RGBA,_e=(j=P.S,q=Y.U,Y=Y.T,ne=he.eb,he.A),Te=Y;for(he=he.fb+g.Ma*he.A;0<Te--;){var ve=J,Be=X,Oe=q,pe=ne,ge=he;switch(j){case cm:di(ve,Be,Oe,pe,ge);break;case fm:Qr(ve,Be,Oe,pe,ge);break;case lb:Qr(ve,Be,Oe,pe,ge),aa(pe,ge,0,Oe,1,0);break;case R_:Po(ve,Be,Oe,pe,ge);break;case dm:rt(ve,Be,Oe,pe,ge,1);break;case ub:rt(ve,Be,Oe,pe,ge,1),aa(pe,ge,0,Oe,1,0);break;case hm:rt(ve,Be,Oe,pe,ge,0);break;case pm:rt(ve,Be,Oe,pe,ge,0),aa(pe,ge,1,Oe,1,0);break;case sb:Ps(ve,Be,Oe,pe,ge);break;case cb:Ps(ve,Be,Oe,pe,ge),gn(pe,ge,Oe,1,0);break;case F_:ko(ve,Be,Oe,pe,ge);break;default:e(0)}X+=ee,he+=_e}g.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=_,e(g.C<=g.i)}function Zi(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var P=g.Ya[_].G,j=g.Ya[_].H;if(0<P[1][j[1]+0].g||0<P[2][j[2]+0].g||0<P[3][j[3]+0].g)return 0}return 1}function ui(g,_,P,j,q,Y){if(g.Z!=0){var J=g.qd,X=g.rd;for(e(Is[g.Z]!=null);_<P;++_)Is[g.Z](J,X,j,q,j,q,Y),J=j,X=q,q+=Y;g.qd=J,g.rd=X}}function ki(g,_){var P=g.l.ma,j=P.Z==0||P.Z==1?g.l.j:g.C;if(j=g.C<j?j:g.C,e(_<=g.l.o),_>j){var q=g.l.width,Y=P.ca,J=P.tb+q*j,X=g.V,ee=g.Ba+g.c*j,ne=g.gc;e(g.ab==1),e(ne[0].hc==3),am(ne[0],j,_,X,ee,Y,J),ui(P,j,_,Y,J,q)}g.C=g.Ma=_}function Pi(g,_,P,j,q,Y,J){var X=g.$/j,ee=g.$%j,ne=g.m,he=g.s,_e=P+g.$,Te=_e;q=P+j*q;var ve=P+j*Y,Be=280+he.ua,Oe=g.Pb?X:16777216,pe=0<he.ua?he.Wa:null,ge=he.wc,Re=_e<ve?In(he,ee,X):null;e(g.C<Y),e(ve<=q);var qe=!1;e:for(;;){for(;qe||_e<ve;){var $e=0;if(X>=Oe){var tt=_e-P;e((Oe=g).Pb),Oe.wd=Oe.m,Oe.xd=tt,0<Oe.s.ua&&Ce(Oe.s.Wa,Oe.s.vb),Oe=X+k8}if(ee&ge||(Re=In(he,ee,X)),e(Re!=null),Re.Qb&&(_[_e]=Re.qb,qe=!0),!qe)if(ie(ne),Re.jc){$e=ne,tt=_;var Je=_e,dt=Re.pd[z($e)&Pr-1];e(Re.jc),256>dt.g?(te($e,$e.u+dt.g),tt[Je]=dt.value,$e=0):(te($e,$e.u+dt.g-256),e(256<=dt.value),$e=dt.value),$e==0&&(qe=!0)}else $e=Fr(Re.G[0],Re.H[0],ne);if(ne.h)break;if(qe||256>$e){if(!qe)if(Re.nd)_[_e]=(Re.qb|$e<<8)>>>0;else{if(ie(ne),qe=Fr(Re.G[1],Re.H[1],ne),ie(ne),tt=Fr(Re.G[2],Re.H[2],ne),Je=Fr(Re.G[3],Re.H[3],ne),ne.h)break;_[_e]=(Je<<24|qe<<16|$e<<8|tt)>>>0}if(qe=!1,++_e,++ee>=j&&(ee=0,++X,J!=null&&X<=Y&&!(X%16)&&J(g,X),pe!=null))for(;Te<_e;)$e=_[Te++],pe.X[(506832829*$e&4294967295)>>>pe.Mb]=$e}else if(280>$e){if($e=Ni($e-256,ne),tt=Fr(Re.G[4],Re.H[4],ne),ie(ne),tt=Ei(j,tt=Ni(tt,ne)),ne.h)break;if(_e-P<tt||q-_e<$e)break e;for(Je=0;Je<$e;++Je)_[_e+Je]=_[_e+Je-tt];for(_e+=$e,ee+=$e;ee>=j;)ee-=j,++X,J!=null&&X<=Y&&!(X%16)&&J(g,X);if(e(_e<=q),ee&ge&&(Re=In(he,ee,X)),pe!=null)for(;Te<_e;)$e=_[Te++],pe.X[(506832829*$e&4294967295)>>>pe.Mb]=$e}else{if(!($e<Be))break e;for(qe=$e-280,e(pe!=null);Te<_e;)$e=_[Te++],pe.X[(506832829*$e&4294967295)>>>pe.Mb]=$e;$e=_e,e(!(qe>>>(tt=pe).Xa)),_[$e]=tt.X[qe],qe=!0}qe||e(ne.h==Q(ne))}if(g.Pb&&ne.h&&_e<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ce(g.s.vb,g.s.Wa);else{if(ne.h)break e;J!=null&&J(g,X>Y?Y:X),g.a=0,g.$=_e-P}return 1}return g.a=3,0}function ea(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function Xr(){var g=new ib;return g==null?null:(g.a=0,g.xb=U_,pt("Predictor","VP8LPredictors"),pt("Predictor","VP8LPredictors_C"),pt("PredictorAdd","VP8LPredictorsAdd"),pt("PredictorAdd","VP8LPredictorsAdd_C"),im=ze,Gl=et,di=We,Qr=cn,Ps=kt,ko=Se,Po=Ue,M.VP8LMapColor32b=Sc,M.VP8LMapColor8b=om,g)}function ta(g,_,P,j,q){var Y=1,J=[g],X=[_],ee=j.m,ne=j.s,he=null,_e=0;e:for(;;){if(P)for(;Y&&Z(ee,1);){var Te=J,ve=X,Be=j,Oe=1,pe=Be.m,ge=Be.gc[Be.ab],Re=Z(pe,2);if(Be.Oc&1<<Re)Y=0;else{switch(Be.Oc|=1<<Re,ge.hc=Re,ge.Ea=Te[0],ge.nc=ve[0],ge.K=[null],++Be.ab,e(4>=Be.ab),Re){case 0:case 1:ge.b=Z(pe,3)+2,Oe=ta(Ee(ge.Ea,ge.b),Ee(ge.nc,ge.b),0,Be,ge.K),ge.K=ge.K[0];break;case 3:var qe,$e=Z(pe,8)+1,tt=16<$e?0:4<$e?1:2<$e?2:3;if(Te[0]=Ee(ge.Ea,tt),ge.b=tt,qe=Oe=ta($e,1,0,Be,ge.K)){var Je,dt=$e,Xe=ge,Gt=1<<(8>>Xe.b),Qt=a(Gt);if(Qt==null)qe=0;else{var Ut=Xe.K[0],Rt=Xe.w;for(Qt[0]=Xe.K[0][0],Je=1;Je<1*dt;++Je)Qt[Je]=xe(Ut[Rt+Je],Qt[Je-1]);for(;Je<4*Gt;++Je)Qt[Je]=0;Xe.K[0]=null,Xe.K[0]=Qt,qe=1}}Oe=qe;break;case 2:break;default:e(0)}Y=Oe}}if(J=J[0],X=X[0],Y&&Z(ee,1)&&!(Y=1<=(_e=Z(ee,4))&&11>=_e)){j.a=3;break e}var dn;if(dn=Y)t:{var on,Nt,Zn,hi=j,er=J,pi=X,Zt=_e,Di=P,Ii=hi.m,br=hi.s,Mr=[null],ei=1,la=0,oo=E8[Zt];n:for(;;){if(Di&&Z(Ii,1)){var xr=Z(Ii,3)+2,Io=Ee(er,xr),Xl=Ee(pi,xr),Ec=Io*Xl;if(!ta(Io,Xl,0,hi,Mr))break n;for(Mr=Mr[0],br.xc=xr,on=0;on<Ec;++on){var js=Mr[on]>>8&65535;Mr[on]=js,js>=ei&&(ei=js+1)}}if(Ii.h)break n;for(Nt=0;5>Nt;++Nt){var Fn=$_[Nt];!Nt&&0<Zt&&(Fn+=1<<Zt),la<Fn&&(la=Fn)}var pb=o(ei*oo,D),K_=ei,J_=o(K_,F);if(J_==null)var vm=null;else e(65536>=K_),vm=J_;var gh=a(la);if(vm==null||gh==null||pb==null){hi.a=1;break n}var ym=pb;for(on=Zn=0;on<ei;++on){var ja=vm[on],kc=ja.G,Pc=ja.H,X_=0,bm=1,Q_=0;for(Nt=0;5>Nt;++Nt){Fn=$_[Nt],kc[Nt]=ym,Pc[Nt]=Zn,!Nt&&0<Zt&&(Fn+=1<<Zt);i:{var xm,Ab=Fn,wm=hi,vh=gh,K8=ym,J8=Zn,mb=0,Ls=wm.m,X8=Z(Ls,1);if(i(vh,0,0,Ab),X8){var Q8=Z(Ls,1)+1,Z8=Z(Ls,1),Z_=Z(Ls,Z8==0?1:8);vh[Z_]=1,Q8==2&&(vh[Z_=Z(Ls,8)]=1);var Sm=1}else{var eT=a(19),tT=Z(Ls,4)+4;if(19<tT){wm.a=3;var _m=0;break i}for(xm=0;xm<tT;++xm)eT[C8[xm]]=Z(Ls,3);var gb=void 0,yh=void 0,nT=wm,e7=eT,Tm=Ab,rT=vh,vb=0,Rs=nT.m,iT=8,aT=o(128,D);r:for(;O(aT,0,7,e7,19);){if(Z(Rs,1)){var t7=2+2*Z(Rs,3);if((gb=2+Z(Rs,t7))>Tm)break r}else gb=Tm;for(yh=0;yh<Tm&&gb--;){ie(Rs);var oT=aT[0+(127&z(Rs))];te(Rs,Rs.u+oT.g);var Mc=oT.value;if(16>Mc)rT[yh++]=Mc,Mc!=0&&(iT=Mc);else{var n7=Mc==16,sT=Mc-16,r7=_8[sT],lT=Z(Rs,S8[sT])+r7;if(yh+lT>Tm)break r;for(var i7=n7?iT:0;0<lT--;)rT[yh++]=i7}}vb=1;break r}vb||(nT.a=3),Sm=vb}(Sm=Sm&&!Ls.h)&&(mb=O(K8,J8,8,vh,Ab)),Sm&&mb!=0?_m=mb:(wm.a=3,_m=0)}if(_m==0)break n;if(bm&&T8[Nt]==1&&(bm=ym[Zn].g==0),X_+=ym[Zn].g,Zn+=_m,3>=Nt){var bh,yb=gh[0];for(bh=1;bh<Fn;++bh)gh[bh]>yb&&(yb=gh[bh]);Q_+=yb}}if(ja.nd=bm,ja.Qb=0,bm&&(ja.qb=(kc[3][Pc[3]+0].value<<24|kc[1][Pc[1]+0].value<<16|kc[2][Pc[2]+0].value)>>>0,X_==0&&256>kc[0][Pc[0]+0].value&&(ja.Qb=1,ja.qb+=kc[0][Pc[0]+0].value<<8)),ja.jc=!ja.Qb&&6>Q_,ja.jc){var Cm,jo=ja;for(Cm=0;Cm<Pr;++Cm){var Fs=Cm,$s=jo.pd[Fs],Nm=jo.G[0][jo.H[0]+Fs];256<=Nm.value?($s.g=Nm.g+256,$s.value=Nm.value):($s.g=0,$s.value=0,Fs>>=zn(Nm,8,$s),Fs>>=zn(jo.G[1][jo.H[1]+Fs],16,$s),Fs>>=zn(jo.G[2][jo.H[2]+Fs],0,$s),zn(jo.G[3][jo.H[3]+Fs],24,$s))}}}br.vc=Mr,br.Wb=ei,br.Ya=vm,br.yc=pb,dn=1;break t}dn=0}if(!(Y=dn)){j.a=3;break e}if(0<_e){if(ne.ua=1<<_e,!Le(ne.Wa,_e)){j.a=1,Y=0;break e}}else ne.ua=0;var bb=j,uT=J,a7=X,xb=bb.s,wb=xb.xc;if(bb.c=uT,bb.i=a7,xb.md=Ee(uT,wb),xb.wc=wb==0?-1:(1<<wb)-1,P){j.xb=L8;break e}if((he=a(J*X))==null){j.a=1,Y=0;break e}Y=(Y=Pi(j,he,0,J,X,X,null))&&!ee.h;break e}return Y?(q!=null?q[0]=he:(e(he==null),e(P)),j.$=0,P||ea(ne)):ea(ne),Y}function Co(g,_){var P=g.c*g.i,j=P+_+16*_;return e(g.c<=_),g.V=a(j),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+_,1)}function ys(g,_){var P=g.C,j=_-P,q=g.V,Y=g.Ba+g.c*P;for(e(_<=g.l.o);0<j;){var J=16<j?16:j,X=g.l.ma,ee=g.l.width,ne=ee*J,he=X.ca,_e=X.tb+ee*P,Te=g.Ta,ve=g.Ua;$r(g,J,q,Y),Gn(Te,ve,he,_e,ne),ui(X,P,P+J,he,_e,ee),j-=J,q+=J*g.c,P+=J}e(P==_),g.C=g.Ma=_}function bs(){this.ub=this.yd=this.td=this.Rb=0}function xs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ws(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ic(){this.Yb=function(){var g=[];return function _(P,j,q){for(var Y=q[j],J=0;J<Y&&(P.push(q.length>j+1?[]:0),!(q.length<j+1));J++)_(P[J],j+1,q)}(g,0,[3,11]),g}()}function Ud(){this.jb=a(3),this.Wc=s([4,8],ic),this.Xc=s([4,17],ic)}function qd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ss(){this.ld=this.La=this.dd=this.tc=0}function ac(){this.Na=this.la=0}function Hd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ss),this.Y=0,this.ya=Array(new Fl),this.aa=0,this.l=new _s}function oc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Vd(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new bs,this.Kc=new xs,this.ed=new qd,this.Qa=new ws,this.Ic=this.$c=this.Aa=0,this.D=new zd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,se),this.ia=0,this.pb=o(4,Hd),this.Pa=new Ud,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oc),this.Hd=0,this.rb=Array(new ac),this.sb=0,this.wa=Array(new Ss),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fl),this.L=this.aa=0,this.gd=s([4,2],Ss),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _s(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gd(){var g=new Vd;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Ah||(Ah=lc)),g}function jn(g,_,P){return g.a==0&&(g.a=_,g.sc=P,g.cb=0),0}function $l(g,_,P){return 3<=P&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function sc(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return jn(g,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,j=_.w,q=_.ha;if(4>q)return jn(g,7,"Truncated header.");var Y=P[j+0]|P[j+1]<<8|P[j+2]<<16,J=g.Od;if(J.Rb=!(1&Y),J.td=Y>>1&7,J.yd=Y>>4&1,J.ub=Y>>5,3<J.td)return jn(g,3,"Incorrect keyframe parameters.");if(!J.yd)return jn(g,4,"Frame not displayable.");j+=3,q-=3;var X=g.Kc;if(J.Rb){if(7>q)return jn(g,7,"cannot parse picture header");if(!$l(P,j,q))return jn(g,3,"Bad code word");X.c=16383&(P[j+4]<<8|P[j+3]),X.Td=P[j+4]>>6,X.i=16383&(P[j+6]<<8|P[j+5]),X.Ud=P[j+6]>>6,j+=7,q-=7,g.za=X.c+15>>4,g.Ub=X.i+15>>4,_.width=X.c,_.height=X.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((Y=g.Pa).jb,0,255,Y.jb.length),e((Y=g.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(J.ub>q)return jn(g,7,"bad partition length");G(Y=g.m,P,j,J.ub),j+=J.ub,q-=J.ub,J.Rb&&(X.Ld=Ae(Y),X.Kd=Ae(Y)),X=g.Qa;var ee,ne=g.Pa;if(e(Y!=null),e(X!=null),X.Cb=Ae(Y),X.Cb){if(X.Bb=Ae(Y),Ae(Y)){for(X.Fb=Ae(Y),ee=0;4>ee;++ee)X.Zb[ee]=Ae(Y)?B(Y,7):0;for(ee=0;4>ee;++ee)X.Lb[ee]=Ae(Y)?B(Y,6):0}if(X.Bb)for(ee=0;3>ee;++ee)ne.jb[ee]=Ae(Y)?R(Y,8):255}else X.Bb=0;if(Y.Ka)return jn(g,3,"cannot parse segment header");if((X=g.ed).zd=Ae(Y),X.Tb=R(Y,6),X.wb=R(Y,3),X.Pc=Ae(Y),X.Pc&&Ae(Y)){for(ne=0;4>ne;++ne)Ae(Y)&&(X.vd[ne]=B(Y,6));for(ne=0;4>ne;++ne)Ae(Y)&&(X.od[ne]=B(Y,6))}if(g.L=X.Tb==0?0:X.zd?1:2,Y.Ka)return jn(g,3,"cannot parse filter header");var he=q;if(q=ee=j,j=ee+he,X=he,g.Xb=(1<<R(g.m,2))-1,he<3*(ne=g.Xb))P=7;else{for(ee+=3*ne,X-=3*ne,he=0;he<ne;++he){var _e=P[q+0]|P[q+1]<<8|P[q+2]<<16;_e>X&&(_e=X),G(g.Jc[+he],P,ee,_e),ee+=_e,X-=_e,q+=3}G(g.Jc[+ne],P,ee,X),P=ee<j?0:5}if(P!=0)return jn(g,P,"cannot parse partitions");for(P=R(ee=g.m,7),q=Ae(ee)?B(ee,4):0,j=Ae(ee)?B(ee,4):0,X=Ae(ee)?B(ee,4):0,ne=Ae(ee)?B(ee,4):0,ee=Ae(ee)?B(ee,4):0,he=g.Qa,_e=0;4>_e;++_e){if(he.Cb){var Te=he.Zb[_e];he.Fb||(Te+=P)}else{if(0<_e){g.pb[_e]=g.pb[0];continue}Te=P}var ve=g.pb[_e];ve.Sc[0]=fb[Mi(Te+q,127)],ve.Sc[1]=db[Mi(Te+0,127)],ve.Eb[0]=2*fb[Mi(Te+j,127)],ve.Eb[1]=101581*db[Mi(Te+X,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=fb[Mi(Te+ne,117)],ve.Qc[1]=db[Mi(Te+ee,127)],ve.lc=Te+ee}if(!J.Rb)return jn(g,4,"Not a key frame.");for(Ae(Y),J=g.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(j=0;3>j;++j)for(X=0;11>X;++X)ne=V(Y,I8[P][q][j][X])?R(Y,8):O8[P][q][j][X],J.Wc[P][q].Yb[j][X]=ne;for(q=0;17>q;++q)J.Xc[P][q]=J.Wc[P][j8[q]]}return g.kc=Ae(Y),g.kc&&(g.Bd=R(Y,8)),g.cb=1}function lc(g,_,P,j,q,Y,J){var X=_[q].Yb[P];for(P=0;16>q;++q){if(!V(g,X[P+0]))return q;for(;!V(g,X[P+1]);)if(X=_[++q].Yb[0],P=0,q==16)return 16;var ee=_[q+1].Yb;if(V(g,X[P+2])){var ne=g,he=0;if(V(ne,(Te=X)[(_e=P)+3]))if(V(ne,Te[_e+6])){for(X=0,_e=2*(he=V(ne,Te[_e+8]))+(Te=V(ne,Te[_e+9+he])),he=0,Te=P8[_e];Te[X];++X)he+=he+V(ne,Te[X]);he+=3+(8<<_e)}else V(ne,Te[_e+7])?(he=7+2*V(ne,165),he+=V(ne,145)):he=5+V(ne,159);else he=V(ne,Te[_e+4])?3+V(ne,Te[_e+5]):2;X=ee[2]}else he=1,X=ee[1];ee=J+M8[q],0>(ne=g).b&&me(ne);var _e,Te=ne.b,ve=(_e=ne.Ca>>1)-(ne.I>>Te)>>31;--ne.b,ne.Ca+=ve,ne.Ca|=1,ne.I-=(_e+1&ve)<<Te,Y[ee]=((he^ve)-ve)*j[(0<q)+0]}return 16}function Bl(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function je(g,_){if(g==null)return 0;if(_==null)return jn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!sc(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var P=gm[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-P>>4,g.zb=_.j-P>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+P>>4,g.Hb=_.va+15+P>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var j=g.ed;for(P=0;4>P;++P){var q;if(g.Qa.Cb){var Y=g.Qa.Lb[P];g.Qa.Fb||(Y+=j.Tb)}else Y=j.Tb;for(q=0;1>=q;++q){var J=g.gd[P][q],X=Y;if(j.Pc&&(X+=j.vd[0],q&&(X+=j.od[0])),0<(X=0>X?0:63<X?63:X)){var ee=X;0<j.wb&&(ee=4<j.wb?ee>>2:ee>>1)>9-j.wb&&(ee=9-j.wb),1>ee&&(ee=1),J.dd=ee,J.tc=2*X+ee,J.ld=40<=X?2:15<=X?1:0}else J.tc=0;J.La=q}}}P=0}else jn(g,6,"Frame setup failed"),P=g.a;if(P=P==0){if(P){g.$c=0,0<g.Aa||(g.Ic=Y8);e:{P=g.Ic,j=4*(ee=g.za);var ne=32*ee,he=ee+1,_e=0<g.L?ee*(0<g.Aa?2:1):0,Te=(g.Aa==2?2:1)*ee;if((J=j+832+(q=3*(16*P+gm[g.L])/2*ne)+(Y=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=J)P=0;else{if(J>g.Vb){if(g.Vb=0,g.Ec=a(J),g.Fc=0,g.Ec==null){P=jn(g,1,"no memory during frame initialization.");break e}g.Vb=J}J=g.Ec,X=g.Fc,g.Ac=J,g.Bc=X,X+=j,g.Gd=o(ne,oc),g.Hd=0,g.rb=o(he+1,ac),g.sb=1,g.wa=_e?o(_e,Ss):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ee),e(!0),g.oc=J,g.pc=X,X+=832,g.ya=o(Te,Fl),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ee),g.R=16*ee,g.B=8*ee,ee=(ne=gm[g.L])*g.R,ne=ne/2*g.B,g.sa=J,g.ta=X+ee,g.qa=g.sa,g.ra=g.ta+16*P*g.R+ne,g.Ha=g.qa,g.Ia=g.ra+8*P*g.B+ne,g.$c=0,X+=q,g.mb=Y?J:null,g.nb=Y?X:null,e(X+Y<=g.Fc+g.Vb),Bl(g),i(g.Ac,g.Bc,0,j),P=1}}if(P){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!lm){for(P=-255;255>=P;++P)ur[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Oo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)ph[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Nc[255+P]=0>P?0:255<P?255:P;lm=1}_c=Yd,Mo=Ma,fh=uc,Zr=Wd,ra=cc,Vn=Ts,Tc=Qd,sm=zl,dh=rb,Wl=Zd,Yl=nb,Ms=Ac,Kl=eh,Cc=tm,Jl=em,Os=io,hh=Eo,ia=tb,Ia[0]=ro,Ia[1]=Vy,Ia[2]=Ky,Ia[3]=Jy,Ia[4]=KA,Ia[5]=hc,Ia[6]=JA,Ia[7]=Kd,Ia[8]=Qy,Ia[9]=Xy,Ds[0]=WA,Ds[1]=Wy,Ds[2]=No,Ds[3]=fc,Ds[4]=Br,Ds[5]=Yy,Ds[6]=YA,Do[0]=Cs,Do[1]=Gy,Do[2]=Zy,Do[3]=Jd,Do[4]=Hl,Do[5]=eb,Do[6]=Xd,P=1}else P=0}P&&(P=function(ve,Be){for(ve.M=0;ve.M<ve.Va;++ve.M){var Oe,pe=ve.Jc[ve.M&ve.Xb],ge=ve.m,Re=ve;for(Oe=0;Oe<Re.za;++Oe){var qe=ge,$e=Re,tt=$e.Ac,Je=$e.Bc+4*Oe,dt=$e.zc,Xe=$e.ya[$e.aa+Oe];if($e.Qa.Bb?Xe.$b=V(qe,$e.Pa.jb[0])?2+V(qe,$e.Pa.jb[2]):V(qe,$e.Pa.jb[1]):Xe.$b=0,$e.kc&&(Xe.Ad=V(qe,$e.Bd)),Xe.Za=!V(qe,145)+0,Xe.Za){var Gt=Xe.Ob,Qt=0;for($e=0;4>$e;++$e){var Ut,Rt=dt[0+$e];for(Ut=0;4>Ut;++Ut){Rt=D8[tt[Je+Ut]][Rt];for(var dn=B_[V(qe,Rt[0])];0<dn;)dn=B_[2*dn+V(qe,Rt[dn])];Rt=-dn,tt[Je+Ut]=Rt}r(Gt,Qt,tt,Je,4),Qt+=4,dt[0+$e]=Rt}}else Rt=V(qe,156)?V(qe,128)?1:3:V(qe,163)?2:0,Xe.Ob[0]=Rt,i(tt,Je,Rt,4),i(dt,0,Rt,4);Xe.Dd=V(qe,142)?V(qe,114)?V(qe,183)?1:3:2:0}if(Re.m.Ka)return jn(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Re=pe,qe=(ge=ve).rb[ge.sb-1],tt=ge.rb[ge.sb+ge.ja],Oe=ge.ya[ge.aa+ge.ja],Je=ge.kc?Oe.Ad:0)qe.la=tt.la=0,Oe.Za||(qe.Na=tt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var on,Nt;if(qe=tt,tt=Re,Je=ge.Pa.Xc,dt=ge.ya[ge.aa+ge.ja],Xe=ge.pb[dt.$b],$e=dt.ad,Gt=0,Qt=ge.rb[ge.sb-1],Rt=Ut=0,i($e,Gt,0,384),dt.Za)var Zn=0,hi=Je[3];else{dn=a(16);var er=qe.Na+Qt.Na;if(er=Ah(tt,Je[1],er,Xe.Eb,0,dn,0),qe.Na=Qt.Na=(0<er)+0,1<er)_c(dn,0,$e,Gt);else{var pi=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)$e[Gt+dn]=pi}Zn=1,hi=Je[0]}var Zt=15&qe.la,Di=15&Qt.la;for(dn=0;4>dn;++dn){var Ii=1&Di;for(pi=Nt=0;4>pi;++pi)Zt=Zt>>1|(Ii=(er=Ah(tt,hi,er=Ii+(1&Zt),Xe.Sc,Zn,$e,Gt))>Zn)<<7,Nt=Nt<<2|(3<er?3:1<er?2:$e[Gt+0]!=0),Gt+=16;Zt>>=4,Di=Di>>1|Ii<<7,Ut=(Ut<<8|Nt)>>>0}for(hi=Zt,Zn=Di>>4,on=0;4>on;on+=2){for(Nt=0,Zt=qe.la>>4+on,Di=Qt.la>>4+on,dn=0;2>dn;++dn){for(Ii=1&Di,pi=0;2>pi;++pi)er=Ii+(1&Zt),Zt=Zt>>1|(Ii=0<(er=Ah(tt,Je[2],er,Xe.Qc,0,$e,Gt)))<<3,Nt=Nt<<2|(3<er?3:1<er?2:$e[Gt+0]!=0),Gt+=16;Zt>>=2,Di=Di>>1|Ii<<5}Rt|=Nt<<4*on,hi|=Zt<<4<<on,Zn|=(240&Di)<<on}qe.la=hi,Qt.la=Zn,dt.Hc=Ut,dt.Gc=Rt,dt.ia=43690&Rt?0:Xe.ia,Je=!(Ut|Rt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Oe.$b][Oe.Za],ge.wa[ge.Y+ge.ja].La|=!Je),Re.Ka)return jn(ve,7,"Premature end-of-file encountered.")}if(Bl(ve),ge=Be,Re=1,Oe=(pe=ve).D,qe=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(Oe.M=pe.M,Oe.uc=qe,oh(pe,Oe),Re=1,Oe=(Nt=pe.D).Nb,qe=(Rt=gm[pe.L])*pe.R,tt=Rt/2*pe.B,dn=16*Oe*pe.R,pi=8*Oe*pe.B,Je=pe.sa,dt=pe.ta-qe+dn,Xe=pe.qa,$e=pe.ra-tt+pi,Gt=pe.Ha,Qt=pe.Ia-tt+pi,Di=(Zt=Nt.M)==0,Ut=Zt>=pe.Va-1,pe.Aa==2&&oh(pe,Nt),Nt.uc)for(Ii=(er=pe).D.M,e(er.D.uc),Nt=er.yb;Nt<er.Hb;++Nt){Zn=Nt,hi=Ii;var br=(Mr=(Fn=er).D).Nb;on=Fn.R;var Mr=Mr.wa[Mr.Y+Zn],ei=Fn.sa,la=Fn.ta+16*br*on+16*Zn,oo=Mr.dd,xr=Mr.tc;if(xr!=0)if(e(3<=xr),Fn.L==1)0<Zn&&Os(ei,la,on,xr+4),Mr.La&&ia(ei,la,on,xr),0<hi&&Jl(ei,la,on,xr+4),Mr.La&&hh(ei,la,on,xr);else{var Io=Fn.B,Xl=Fn.qa,Ec=Fn.ra+8*br*Io+8*Zn,js=Fn.Ha,Fn=Fn.Ia+8*br*Io+8*Zn;br=Mr.ld,0<Zn&&(sm(ei,la,on,xr+4,oo,br),Wl(Xl,Ec,js,Fn,Io,xr+4,oo,br)),Mr.La&&(Ms(ei,la,on,xr,oo,br),Cc(Xl,Ec,js,Fn,Io,xr,oo,br)),0<hi&&(Tc(ei,la,on,xr+4,oo,br),dh(Xl,Ec,js,Fn,Io,xr+4,oo,br)),Mr.La&&(Yl(ei,la,on,xr,oo,br),Kl(Xl,Ec,js,Fn,Io,xr,oo,br))}}if(pe.ia&&alert("todo:DitherRow"),ge.put!=null){if(Nt=16*Zt,Zt=16*(Zt+1),Di?(ge.y=pe.sa,ge.O=pe.ta+dn,ge.f=pe.qa,ge.N=pe.ra+pi,ge.ea=pe.Ha,ge.W=pe.Ia+pi):(Nt-=Rt,ge.y=Je,ge.O=dt,ge.f=Xe,ge.N=$e,ge.ea=Gt,ge.W=Qt),Ut||(Zt-=Rt),Zt>ge.o&&(Zt=ge.o),ge.F=null,ge.J=null,pe.Fa!=null&&0<pe.Fa.length&&Nt<Zt&&(ge.J=ih(pe,ge,Nt,Zt-Nt),ge.F=pe.mb,ge.F==null&&ge.F.length==0)){Re=jn(pe,3,"Could not decode alpha data.");break e}Nt<ge.j&&(Rt=ge.j-Nt,Nt=ge.j,e(!(1&Rt)),ge.O+=pe.R*Rt,ge.N+=pe.B*(Rt>>1),ge.W+=pe.B*(Rt>>1),ge.F!=null&&(ge.J+=ge.width*Rt)),Nt<Zt&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Nt-ge.j,ge.U=ge.va-ge.v,ge.T=Zt-Nt,Re=ge.put(ge))}Oe+1!=pe.Ic||Ut||(r(pe.sa,pe.ta-qe,Je,dt+16*pe.R,qe),r(pe.qa,pe.ra-tt,Xe,$e+8*pe.B,tt),r(pe.Ha,pe.Ia-tt,Gt,Qt+8*pe.B,tt))}if(!Re)return jn(ve,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),P&=1}return P?(g.cb=0,P):0}function Qe(g,_,P,j,q){q=g[_+P+32*j]+(q>>3),g[_+P+32*j]=-256&q?0>q?0:255:q}function xt(g,_,P,j,q,Y){Qe(g,_,0,P,j+q),Qe(g,_,1,P,j+Y),Qe(g,_,2,P,j-Y),Qe(g,_,3,P,j-q)}function qt(g){return(20091*g>>16)+g}function ci(g,_,P,j){var q,Y=0,J=a(16);for(q=0;4>q;++q){var X=g[_+0]+g[_+8],ee=g[_+0]-g[_+8],ne=(35468*g[_+4]>>16)-qt(g[_+12]),he=qt(g[_+4])+(35468*g[_+12]>>16);J[Y+0]=X+he,J[Y+1]=ee+ne,J[Y+2]=ee-ne,J[Y+3]=X-he,Y+=4,_++}for(q=Y=0;4>q;++q)X=(g=J[Y+0]+4)+J[Y+8],ee=g-J[Y+8],ne=(35468*J[Y+4]>>16)-qt(J[Y+12]),Qe(P,j,0,0,X+(he=qt(J[Y+4])+(35468*J[Y+12]>>16))),Qe(P,j,1,0,ee+ne),Qe(P,j,2,0,ee-ne),Qe(P,j,3,0,X-he),Y++,j+=32}function Ts(g,_,P,j){var q=g[_+0]+4,Y=35468*g[_+4]>>16,J=qt(g[_+4]),X=35468*g[_+1]>>16;xt(P,j,0,q+J,g=qt(g[_+1]),X),xt(P,j,1,q+Y,g,X),xt(P,j,2,q-Y,g,X),xt(P,j,3,q-J,g,X)}function Ma(g,_,P,j,q){ci(g,_,P,j),q&&ci(g,_+16,P,j+4)}function uc(g,_,P,j){Mo(g,_+0,P,j,1),Mo(g,_+32,P,j+128,1)}function Wd(g,_,P,j){var q;for(g=g[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)Qe(P,j,_,q,g)}function cc(g,_,P,j){g[_+0]&&Zr(g,_+0,P,j),g[_+16]&&Zr(g,_+16,P,j+4),g[_+32]&&Zr(g,_+32,P,j+128),g[_+48]&&Zr(g,_+48,P,j+128+4)}function Yd(g,_,P,j){var q,Y=a(16);for(q=0;4>q;++q){var J=g[_+0+q]+g[_+12+q],X=g[_+4+q]+g[_+8+q],ee=g[_+4+q]-g[_+8+q],ne=g[_+0+q]-g[_+12+q];Y[0+q]=J+X,Y[8+q]=J-X,Y[4+q]=ne+ee,Y[12+q]=ne-ee}for(q=0;4>q;++q)J=(g=Y[0+4*q]+3)+Y[3+4*q],X=Y[1+4*q]+Y[2+4*q],ee=Y[1+4*q]-Y[2+4*q],ne=g-Y[3+4*q],P[j+0]=J+X>>3,P[j+16]=ne+ee>>3,P[j+32]=J-X>>3,P[j+48]=ne-ee>>3,j+=64}function Ul(g,_,P){var j,q=_-32,Y=Oi,J=255-g[q-1];for(j=0;j<P;++j){var X,ee=Y,ne=J+g[_-1];for(X=0;X<P;++X)g[_+X]=ee[ne+g[q+X]];_+=32}}function Vy(g,_){Ul(g,_,4)}function Gy(g,_){Ul(g,_,8)}function Wy(g,_){Ul(g,_,16)}function No(g,_){var P;for(P=0;16>P;++P)r(g,_+32*P,g,_-32,16)}function fc(g,_){var P;for(P=16;0<P;--P)i(g,_,g[_-1],16),_+=32}function dc(g,_,P){var j;for(j=0;16>j;++j)i(_,P+32*j,g,16)}function WA(g,_){var P,j=16;for(P=0;16>P;++P)j+=g[_-1+32*P]+g[_+P-32];dc(j>>5,g,_)}function Br(g,_){var P,j=8;for(P=0;16>P;++P)j+=g[_-1+32*P];dc(j>>4,g,_)}function Yy(g,_){var P,j=8;for(P=0;16>P;++P)j+=g[_+P-32];dc(j>>4,g,_)}function YA(g,_){dc(128,g,_)}function bt(g,_,P){return g+2*_+P+2>>2}function Ky(g,_){var P,j=_-32;for(j=new Uint8Array([bt(g[j-1],g[j+0],g[j+1]),bt(g[j+0],g[j+1],g[j+2]),bt(g[j+1],g[j+2],g[j+3]),bt(g[j+2],g[j+3],g[j+4])]),P=0;4>P;++P)r(g,_+32*P,j,0,j.length)}function Jy(g,_){var P=g[_-1],j=g[_-1+32],q=g[_-1+64],Y=g[_-1+96];le(g,_+0,16843009*bt(g[_-1-32],P,j)),le(g,_+32,16843009*bt(P,j,q)),le(g,_+64,16843009*bt(j,q,Y)),le(g,_+96,16843009*bt(q,Y,Y))}function ro(g,_){var P,j=4;for(P=0;4>P;++P)j+=g[_+P-32]+g[_-1+32*P];for(j>>=3,P=0;4>P;++P)i(g,_+32*P,j,4)}function KA(g,_){var P=g[_-1+0],j=g[_-1+32],q=g[_-1+64],Y=g[_-1-32],J=g[_+0-32],X=g[_+1-32],ee=g[_+2-32],ne=g[_+3-32];g[_+0+96]=bt(j,q,g[_-1+96]),g[_+1+96]=g[_+0+64]=bt(P,j,q),g[_+2+96]=g[_+1+64]=g[_+0+32]=bt(Y,P,j),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=bt(J,Y,P),g[_+3+64]=g[_+2+32]=g[_+1+0]=bt(X,J,Y),g[_+3+32]=g[_+2+0]=bt(ee,X,J),g[_+3+0]=bt(ne,ee,X)}function JA(g,_){var P=g[_+1-32],j=g[_+2-32],q=g[_+3-32],Y=g[_+4-32],J=g[_+5-32],X=g[_+6-32],ee=g[_+7-32];g[_+0+0]=bt(g[_+0-32],P,j),g[_+1+0]=g[_+0+32]=bt(P,j,q),g[_+2+0]=g[_+1+32]=g[_+0+64]=bt(j,q,Y),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=bt(q,Y,J),g[_+3+32]=g[_+2+64]=g[_+1+96]=bt(Y,J,X),g[_+3+64]=g[_+2+96]=bt(J,X,ee),g[_+3+96]=bt(X,ee,ee)}function hc(g,_){var P=g[_-1+0],j=g[_-1+32],q=g[_-1+64],Y=g[_-1-32],J=g[_+0-32],X=g[_+1-32],ee=g[_+2-32],ne=g[_+3-32];g[_+0+0]=g[_+1+64]=Y+J+1>>1,g[_+1+0]=g[_+2+64]=J+X+1>>1,g[_+2+0]=g[_+3+64]=X+ee+1>>1,g[_+3+0]=ee+ne+1>>1,g[_+0+96]=bt(q,j,P),g[_+0+64]=bt(j,P,Y),g[_+0+32]=g[_+1+96]=bt(P,Y,J),g[_+1+32]=g[_+2+96]=bt(Y,J,X),g[_+2+32]=g[_+3+96]=bt(J,X,ee),g[_+3+32]=bt(X,ee,ne)}function Kd(g,_){var P=g[_+0-32],j=g[_+1-32],q=g[_+2-32],Y=g[_+3-32],J=g[_+4-32],X=g[_+5-32],ee=g[_+6-32],ne=g[_+7-32];g[_+0+0]=P+j+1>>1,g[_+1+0]=g[_+0+64]=j+q+1>>1,g[_+2+0]=g[_+1+64]=q+Y+1>>1,g[_+3+0]=g[_+2+64]=Y+J+1>>1,g[_+0+32]=bt(P,j,q),g[_+1+32]=g[_+0+96]=bt(j,q,Y),g[_+2+32]=g[_+1+96]=bt(q,Y,J),g[_+3+32]=g[_+2+96]=bt(Y,J,X),g[_+3+64]=bt(J,X,ee),g[_+3+96]=bt(X,ee,ne)}function Xy(g,_){var P=g[_-1+0],j=g[_-1+32],q=g[_-1+64],Y=g[_-1+96];g[_+0+0]=P+j+1>>1,g[_+2+0]=g[_+0+32]=j+q+1>>1,g[_+2+32]=g[_+0+64]=q+Y+1>>1,g[_+1+0]=bt(P,j,q),g[_+3+0]=g[_+1+32]=bt(j,q,Y),g[_+3+32]=g[_+1+64]=bt(q,Y,Y),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=Y}function Qy(g,_){var P=g[_-1+0],j=g[_-1+32],q=g[_-1+64],Y=g[_-1+96],J=g[_-1-32],X=g[_+0-32],ee=g[_+1-32],ne=g[_+2-32];g[_+0+0]=g[_+2+32]=P+J+1>>1,g[_+0+32]=g[_+2+64]=j+P+1>>1,g[_+0+64]=g[_+2+96]=q+j+1>>1,g[_+0+96]=Y+q+1>>1,g[_+3+0]=bt(X,ee,ne),g[_+2+0]=bt(J,X,ee),g[_+1+0]=g[_+3+32]=bt(P,J,X),g[_+1+32]=g[_+3+64]=bt(j,P,J),g[_+1+64]=g[_+3+96]=bt(q,j,P),g[_+1+96]=bt(Y,q,j)}function Zy(g,_){var P;for(P=0;8>P;++P)r(g,_+32*P,g,_-32,8)}function Jd(g,_){var P;for(P=0;8>P;++P)i(g,_,g[_-1],8),_+=32}function ql(g,_,P){var j;for(j=0;8>j;++j)i(_,P+32*j,g,8)}function Cs(g,_){var P,j=8;for(P=0;8>P;++P)j+=g[_+P-32]+g[_-1+32*P];ql(j>>4,g,_)}function eb(g,_){var P,j=4;for(P=0;8>P;++P)j+=g[_+P-32];ql(j>>3,g,_)}function Hl(g,_){var P,j=4;for(P=0;8>P;++P)j+=g[_-1+32*P];ql(j>>3,g,_)}function Xd(g,_){ql(128,g,_)}function pc(g,_,P){var j=g[_-P],q=g[_+0],Y=3*(q-j)+ob[1020+g[_-2*P]-g[_+P]],J=um[112+(Y+4>>3)];g[_-P]=Oi[255+j+um[112+(Y+3>>3)]],g[_+0]=Oi[255+q-J]}function XA(g,_,P,j){var q=g[_+0],Y=g[_+P];return oa[255+g[_-2*P]-g[_-P]]>j||oa[255+Y-q]>j}function QA(g,_,P,j){return 4*oa[255+g[_-P]-g[_+0]]+oa[255+g[_-2*P]-g[_+P]]<=j}function ZA(g,_,P,j,q){var Y=g[_-3*P],J=g[_-2*P],X=g[_-P],ee=g[_+0],ne=g[_+P],he=g[_+2*P],_e=g[_+3*P];return 4*oa[255+X-ee]+oa[255+J-ne]>j?0:oa[255+g[_-4*P]-Y]<=q&&oa[255+Y-J]<=q&&oa[255+J-X]<=q&&oa[255+_e-he]<=q&&oa[255+he-ne]<=q&&oa[255+ne-ee]<=q}function em(g,_,P,j){var q=2*j+1;for(j=0;16>j;++j)QA(g,_+j,P,q)&&pc(g,_+j,P)}function io(g,_,P,j){var q=2*j+1;for(j=0;16>j;++j)QA(g,_+j*P,1,q)&&pc(g,_+j*P,1)}function Eo(g,_,P,j){var q;for(q=3;0<q;--q)em(g,_+=4*P,P,j)}function tb(g,_,P,j){var q;for(q=3;0<q;--q)io(g,_+=4,P,j)}function Ns(g,_,P,j,q,Y,J,X){for(Y=2*Y+1;0<q--;){if(ZA(g,_,P,Y,J))if(XA(g,_,P,X))pc(g,_,P);else{var ee=g,ne=_,he=P,_e=ee[ne-2*he],Te=ee[ne-he],ve=ee[ne+0],Be=ee[ne+he],Oe=ee[ne+2*he],pe=27*(Re=ob[1020+3*(ve-Te)+ob[1020+_e-Be]])+63>>7,ge=18*Re+63>>7,Re=9*Re+63>>7;ee[ne-3*he]=Oi[255+ee[ne-3*he]+Re],ee[ne-2*he]=Oi[255+_e+ge],ee[ne-he]=Oi[255+Te+pe],ee[ne+0]=Oi[255+ve-pe],ee[ne+he]=Oi[255+Be-ge],ee[ne+2*he]=Oi[255+Oe-Re]}_+=j}}function Oa(g,_,P,j,q,Y,J,X){for(Y=2*Y+1;0<q--;){if(ZA(g,_,P,Y,J))if(XA(g,_,P,X))pc(g,_,P);else{var ee=g,ne=_,he=P,_e=ee[ne-he],Te=ee[ne+0],ve=ee[ne+he],Be=um[112+((Oe=3*(Te-_e))+4>>3)],Oe=um[112+(Oe+3>>3)],pe=Be+1>>1;ee[ne-2*he]=Oi[255+ee[ne-2*he]+pe],ee[ne-he]=Oi[255+_e+Oe],ee[ne+0]=Oi[255+Te-Be],ee[ne+he]=Oi[255+ve-pe]}_+=j}}function Qd(g,_,P,j,q,Y){Ns(g,_,P,1,16,j,q,Y)}function zl(g,_,P,j,q,Y){Ns(g,_,1,P,16,j,q,Y)}function nb(g,_,P,j,q,Y){var J;for(J=3;0<J;--J)Oa(g,_+=4*P,P,1,16,j,q,Y)}function Ac(g,_,P,j,q,Y){var J;for(J=3;0<J;--J)Oa(g,_+=4,1,P,16,j,q,Y)}function rb(g,_,P,j,q,Y,J,X){Ns(g,_,q,1,8,Y,J,X),Ns(P,j,q,1,8,Y,J,X)}function Zd(g,_,P,j,q,Y,J,X){Ns(g,_,1,q,8,Y,J,X),Ns(P,j,1,q,8,Y,J,X)}function eh(g,_,P,j,q,Y,J,X){Oa(g,_+4*q,q,1,8,Y,J,X),Oa(P,j+4*q,q,1,8,Y,J,X)}function tm(g,_,P,j,q,Y,J,X){Oa(g,_+4,1,q,8,Y,J,X),Oa(P,j+4,1,q,8,Y,J,X)}function mc(){this.ba=new lr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function th(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nm(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new D}function ib(){this.xb=this.a=0,this.l=new _s,this.ca=new lr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nm,this.ab=0,this.gc=o(4,nh),this.Oc=0}function gc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _s,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vl(g,_,P,j,q,Y,J){for(g=g==null?0:g[_+0],_=0;_<J;++_)q[Y+_]=g+P[j+_]&255,g=q[Y+_]}function rh(g,_,P,j,q,Y,J){var X;if(g==null)Vl(null,null,P,j,q,Y,J);else for(X=0;X<J;++X)q[Y+X]=g[_+X]+P[j+X]&255}function Es(g,_,P,j,q,Y,J){if(g==null)Vl(null,null,P,j,q,Y,J);else{var X,ee=g[_+0],ne=ee,he=ee;for(X=0;X<J;++X)ne=he+(ee=g[_+X])-ne,he=P[j+X]+(-256&ne?0>ne?0:255:ne)&255,ne=ee,q[Y+X]=he}}function ih(g,_,P,j){var q=_.width,Y=_.o;if(e(g!=null&&_!=null),0>P||0>=j||P+j>Y)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new gc,(J=g.ga==null)||(J=_.width*_.o,e(g.Gb.length==0),g.Gb=a(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var X=g.Fa,ee=g.P,ne=g.qc,he=g.mb,_e=g.nb,Te=ee+1,ve=ne-1,Be=J.l;if(e(X!=null&&he!=null&&_!=null),Is[0]=null,Is[1]=Vl,Is[2]=rh,Is[3]=Es,J.ca=he,J.tb=_e,J.c=_.width,J.i=_.height,e(0<J.c&&0<J.i),1>=ne)_=0;else if(J.$a=X[ee+0]>>0&3,J.Z=X[ee+0]>>2&3,J.Lc=X[ee+0]>>4&3,ee=X[ee+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ee)_=0;else if(Be.put=Xi,Be.ac=Hn,Be.bc=Qi,Be.ma=J,Be.width=_.width,Be.height=_.height,Be.Da=_.Da,Be.v=_.v,Be.va=_.va,Be.j=_.j,Be.o=_.o,J.$a)e:{e(J.$a==1),_=Xr();t:for(;;){if(_==null){_=0;break e}if(e(J!=null),J.mc=_,_.c=J.c,_.i=J.i,_.l=J.l,_.l.ma=J,_.l.width=J.c,_.l.height=J.i,_.a=0,W(_.m,X,Te,ve),!ta(J.c,J.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Zi(_.s)?(J.ic=1,X=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(X),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(J.ic=0,_=Co(_,J.c)),!_))break t;_=1;break e}J.mc=null,_=0}else _=ve>=J.c*J.i;J=!_}if(J)return null;g.ga.Lc!=1?g.Ga=0:j=Y-P}e(g.ga!=null),e(P+j<=Y);e:{if(_=(X=g.ga).c,Y=X.l.o,X.$a==0){if(Te=g.rc,ve=g.Vc,Be=g.Fa,ee=g.P+1+P*_,ne=g.mb,he=g.nb+P*_,e(ee<=g.P+g.qc),X.Z!=0)for(e(Is[X.Z]!=null),J=0;J<j;++J)Is[X.Z](Te,ve,Be,ee,ne,he,_),Te=ne,ve=he,he+=_,ee+=_;else for(J=0;J<j;++J)r(ne,he,Be,ee,_),Te=ne,ve=he,he+=_,ee+=_;g.rc=Te,g.Vc=ve}else{if(e(X.mc!=null),_=P+j,e((J=X.mc)!=null),e(_<=J.i),J.C>=_)_=1;else if(X.ic||we(),X.ic){X=J.V,Te=J.Ba,ve=J.c;var Oe=J.i,pe=(Be=1,ee=J.$/ve,ne=J.$%ve,he=J.m,_e=J.s,J.$),ge=ve*Oe,Re=ve*_,qe=_e.wc,$e=pe<Re?In(_e,ne,ee):null;e(pe<=ge),e(_<=Oe),e(Zi(_e));t:for(;;){for(;!he.h&&pe<Re;){if(ne&qe||($e=In(_e,ne,ee)),e($e!=null),ie(he),256>(Oe=Fr($e.G[0],$e.H[0],he)))X[Te+pe]=Oe,++pe,++ne>=ve&&(ne=0,++ee<=_&&!(ee%16)&&ki(J,ee));else{if(!(280>Oe)){Be=0;break t}Oe=Ni(Oe-256,he);var tt,Je=Fr($e.G[4],$e.H[4],he);if(ie(he),!(pe>=(Je=Ei(ve,Je=Ni(Je,he)))&&ge-pe>=Oe)){Be=0;break t}for(tt=0;tt<Oe;++tt)X[Te+pe+tt]=X[Te+pe+tt-Je];for(pe+=Oe,ne+=Oe;ne>=ve;)ne-=ve,++ee<=_&&!(ee%16)&&ki(J,ee);pe<Re&&ne&qe&&($e=In(_e,ne,ee))}e(he.h==Q(he))}ki(J,ee>_?_:ee);break t}!Be||he.h&&pe<ge?(Be=0,J.a=he.h?5:3):J.$=pe,_=Be}else _=Pi(J,J.V,J.Ba,J.c,J.i,_,ys);if(!_){j=0;break e}}P+j>=Y&&(g.Cc=1),j=1}if(!j)return null;if(g.Cc&&((j=g.ga)!=null&&(j.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*q}function N(g,_,P,j,q,Y){for(;0<q--;){var J,X=g,ee=_+(P?1:0),ne=g,he=_+(P?0:3);for(J=0;J<j;++J){var _e=ne[he+4*J];_e!=255&&(_e*=32897,X[ee+4*J+0]=X[ee+4*J+0]*_e>>23,X[ee+4*J+1]=X[ee+4*J+1]*_e>>23,X[ee+4*J+2]=X[ee+4*J+2]*_e>>23)}_+=Y}}function H(g,_,P,j,q){for(;0<j--;){var Y;for(Y=0;Y<P;++Y){var J=g[_+2*Y+0],X=15&(ne=g[_+2*Y+1]),ee=4369*X,ne=(240&ne|ne>>4)*ee>>16;g[_+2*Y+0]=(240&J|J>>4)*ee>>16&240|(15&J|J<<4)*ee>>16>>4&15,g[_+2*Y+1]=240&ne|X}_+=q}}function oe(g,_,P,j,q,Y,J,X){var ee,ne,he=255;for(ne=0;ne<q;++ne){for(ee=0;ee<j;++ee){var _e=g[_+ee];Y[J+4*ee]=_e,he&=_e}_+=P,J+=X}return he!=255}function fe(g,_,P,j,q){var Y;for(Y=0;Y<q;++Y)P[j+Y]=g[_+Y]>>8}function we(){aa=N,gn=H,vn=oe,Gn=fe}function De(g,_,P){M[g]=function(j,q,Y,J,X,ee,ne,he,_e,Te,ve,Be,Oe,pe,ge,Re,qe){var $e,tt=qe-1>>1,Je=X[ee+0]|ne[he+0]<<16,dt=_e[Te+0]|ve[Be+0]<<16;e(j!=null);var Xe=3*Je+dt+131074>>2;for(_(j[q+0],255&Xe,Xe>>16,Oe,pe),Y!=null&&(Xe=3*dt+Je+131074>>2,_(Y[J+0],255&Xe,Xe>>16,ge,Re)),$e=1;$e<=tt;++$e){var Gt=X[ee+$e]|ne[he+$e]<<16,Qt=_e[Te+$e]|ve[Be+$e]<<16,Ut=Je+Gt+dt+Qt+524296,Rt=Ut+2*(Gt+dt)>>3;Xe=Rt+Je>>1,Je=(Ut=Ut+2*(Je+Qt)>>3)+Gt>>1,_(j[q+2*$e-1],255&Xe,Xe>>16,Oe,pe+(2*$e-1)*P),_(j[q+2*$e-0],255&Je,Je>>16,Oe,pe+(2*$e-0)*P),Y!=null&&(Xe=Ut+dt>>1,Je=Rt+Qt>>1,_(Y[J+2*$e-1],255&Xe,Xe>>16,ge,Re+(2*$e-1)*P),_(Y[J+2*$e+0],255&Je,Je>>16,ge,Re+(2*$e+0)*P)),Je=Gt,dt=Qt}1&qe||(Xe=3*Je+dt+131074>>2,_(j[q+qe-1],255&Xe,Xe>>16,Oe,pe+(qe-1)*P),Y!=null&&(Xe=3*dt+Je+131074>>2,_(Y[J+qe-1],255&Xe,Xe>>16,ge,Re+(qe-1)*P)))}}function He(){sa[cm]=R8,sa[fm]=q_,sa[R_]=F8,sa[dm]=H_,sa[hm]=z_,sa[sb]=V_,sa[F_]=$8,sa[lb]=q_,sa[ub]=H_,sa[pm]=z_,sa[cb]=V_}function Ze(g){return g&-16384?0>g?0:255:g>>B8}function lt(g,_){return Ze((19077*g>>8)+(26149*_>>8)-14234)}function _t(g,_,P){return Ze((19077*g>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function wt(g,_){return Ze((19077*g>>8)+(33050*_>>8)-17685)}function Bt(g,_,P,j,q){j[q+0]=lt(g,P),j[q+1]=_t(g,_,P),j[q+2]=wt(g,_)}function Ln(g,_,P,j,q){j[q+0]=wt(g,_),j[q+1]=_t(g,_,P),j[q+2]=lt(g,P)}function Rn(g,_,P,j,q){var Y=_t(g,_,P);_=Y<<3&224|wt(g,_)>>3,j[q+0]=248&lt(g,P)|Y>>5,j[q+1]=_}function Qn(g,_,P,j,q){var Y=240&wt(g,_)|15;j[q+0]=240&lt(g,P)|_t(g,_,P)>>4,j[q+1]=Y}function Ur(g,_,P,j,q){j[q+0]=255,Bt(g,_,P,j,q+1)}function yr(g,_,P,j,q){Ln(g,_,P,j,q),j[q+3]=255}function Da(g,_,P,j,q){Bt(g,_,P,j,q),j[q+3]=255}function Mi(g,_){return 0>g?0:g>_?_:g}function ao(g,_,P){M[g]=function(j,q,Y,J,X,ee,ne,he,_e){for(var Te=he+(-2&_e)*P;he!=Te;)_(j[q+0],Y[J+0],X[ee+0],ne,he),_(j[q+1],Y[J+0],X[ee+0],ne,he+P),q+=2,++J,++ee,he+=2*P;1&_e&&_(j[q+0],Y[J+0],X[ee+0],ne,he)}}function rm(g,_,P){return P==0?g==0?_==0?6:5:_==0?4:0:P}function ah(g,_,P,j,q){switch(g>>>30){case 3:Mo(_,P,j,q,0);break;case 2:Vn(_,P,j,q);break;case 1:Zr(_,P,j,q)}}function oh(g,_){var P,j,q=_.M,Y=_.Nb,J=g.oc,X=g.pc+40,ee=g.oc,ne=g.pc+584,he=g.oc,_e=g.pc+600;for(P=0;16>P;++P)J[X+32*P-1]=129;for(P=0;8>P;++P)ee[ne+32*P-1]=129,he[_e+32*P-1]=129;for(0<q?J[X-1-32]=ee[ne-1-32]=he[_e-1-32]=129:(i(J,X-32-1,127,21),i(ee,ne-32-1,127,9),i(he,_e-32-1,127,9)),j=0;j<g.za;++j){var Te=_.ya[_.aa+j];if(0<j){for(P=-1;16>P;++P)r(J,X+32*P-4,J,X+32*P+12,4);for(P=-1;8>P;++P)r(ee,ne+32*P-4,ee,ne+32*P+4,4),r(he,_e+32*P-4,he,_e+32*P+4,4)}var ve=g.Gd,Be=g.Hd+j,Oe=Te.ad,pe=Te.Hc;if(0<q&&(r(J,X-32,ve[Be].y,0,16),r(ee,ne-32,ve[Be].f,0,8),r(he,_e-32,ve[Be].ea,0,8)),Te.Za){var ge=J,Re=X-32+16;for(0<q&&(j>=g.za-1?i(ge,Re,ve[Be].y[15],4):r(ge,Re,ve[Be+1].y,0,4)),P=0;4>P;P++)ge[Re+128+P]=ge[Re+256+P]=ge[Re+384+P]=ge[Re+0+P];for(P=0;16>P;++P,pe<<=2)ge=J,Re=X+W_[P],Ia[Te.Ob[P]](ge,Re),ah(pe,Oe,16*+P,ge,Re)}else if(ge=rm(j,q,Te.Ob[0]),Ds[ge](J,X),pe!=0)for(P=0;16>P;++P,pe<<=2)ah(pe,Oe,16*+P,J,X+W_[P]);for(P=Te.Gc,ge=rm(j,q,Te.Dd),Do[ge](ee,ne),Do[ge](he,_e),pe=Oe,ge=ee,Re=ne,255&(Te=P>>0)&&(170&Te?fh(pe,256,ge,Re):ra(pe,256,ge,Re)),Te=he,pe=_e,255&(P>>=8)&&(170&P?fh(Oe,320,Te,pe):ra(Oe,320,Te,pe)),q<g.Ub-1&&(r(ve[Be].y,0,J,X+480,16),r(ve[Be].f,0,ee,ne+224,8),r(ve[Be].ea,0,he,_e+224,8)),P=8*Y*g.B,ve=g.sa,Be=g.ta+16*j+16*Y*g.R,Oe=g.qa,Te=g.ra+8*j+P,pe=g.Ha,ge=g.Ia+8*j+P,P=0;16>P;++P)r(ve,Be+P*g.R,J,X+32*P,16);for(P=0;8>P;++P)r(Oe,Te+P*g.B,ee,ne+32*P,8),r(pe,ge+P*g.B,he,_e+32*P,8)}}function vc(g,_,P,j,q,Y,J,X,ee){var ne=[0],he=[0],_e=0,Te=ee!=null?ee.kd:0,ve=ee??new th;if(g==null||12>P)return 7;ve.data=g,ve.w=_,ve.ha=P,_=[_],P=[P],ve.gb=[ve.gb];e:{var Be=_,Oe=P,pe=ve.gb;if(e(g!=null),e(Oe!=null),e(pe!=null),pe[0]=0,12<=Oe[0]&&!n(g,Be[0],"RIFF")){if(n(g,Be[0]+8,"WEBP")){pe=3;break e}var ge=Me(g,Be[0]+4);if(12>ge||4294967286<ge){pe=3;break e}if(Te&&ge>Oe[0]-8){pe=7;break e}pe[0]=ge,Be[0]+=12,Oe[0]-=12}pe=0}if(pe!=0)return pe;for(ge=0<ve.gb[0],P=P[0];;){e:{var Re=g;Oe=_,pe=P;var qe=ne,$e=he,tt=Be=[0];if((Xe=_e=[_e])[0]=0,8>pe[0])pe=7;else{if(!n(Re,Oe[0],"VP8X")){if(Me(Re,Oe[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var Je=Me(Re,Oe[0]+8),dt=1+ue(Re,Oe[0]+12);if(2147483648<=dt*(Re=1+ue(Re,Oe[0]+15))){pe=3;break e}tt!=null&&(tt[0]=Je),qe!=null&&(qe[0]=dt),$e!=null&&($e[0]=Re),Oe[0]+=18,pe[0]-=18,Xe[0]=1}pe=0}}if(_e=_e[0],Be=Be[0],pe!=0)return pe;if(Oe=!!(2&Be),!ge&&_e)return 3;if(Y!=null&&(Y[0]=!!(16&Be)),J!=null&&(J[0]=Oe),X!=null&&(X[0]=0),J=ne[0],Be=he[0],_e&&Oe&&ee==null){pe=0;break}if(4>P){pe=7;break}if(ge&&_e||!ge&&!_e&&!n(g,_[0],"ALPH")){P=[P],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{Je=g,pe=_,ge=P;var Xe=ve.gb;qe=ve.na,$e=ve.P,tt=ve.Sa,dt=22,e(Je!=null),e(ge!=null),Re=pe[0];var Gt=ge[0];for(e(qe!=null),e(tt!=null),qe[0]=null,$e[0]=null,tt[0]=0;;){if(pe[0]=Re,ge[0]=Gt,8>Gt){pe=7;break e}var Qt=Me(Je,Re+4);if(4294967286<Qt){pe=3;break e}var Ut=8+Qt+1&-2;if(dt+=Ut,0<Xe&&dt>Xe){pe=3;break e}if(!n(Je,Re,"VP8 ")||!n(Je,Re,"VP8L")){pe=0;break e}if(Gt[0]<Ut){pe=7;break e}n(Je,Re,"ALPH")||(qe[0]=Je,$e[0]=Re+8,tt[0]=Qt),Re+=Ut,Gt-=Ut}}if(P=P[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],pe!=0)break}P=[P],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(Xe=g,pe=_,ge=P,qe=ve.gb[0],$e=ve.Ja,tt=ve.xa,Je=pe[0],Re=!n(Xe,Je,"VP8 "),dt=!n(Xe,Je,"VP8L"),e(Xe!=null),e(ge!=null),e($e!=null),e(tt!=null),8>ge[0])pe=7;else{if(Re||dt){if(Xe=Me(Xe,Je+4),12<=qe&&Xe>qe-12){pe=3;break e}if(Te&&Xe>ge[0]-8){pe=7;break e}$e[0]=Xe,pe[0]+=8,ge[0]-=8,tt[0]=dt}else tt[0]=5<=ge[0]&&Xe[Je+0]==47&&!(Xe[Je+4]>>5),$e[0]=ge[0];pe=0}if(P=P[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],_=_[0],pe!=0)break;if(4294967286<ve.Ja)return 3;if(X==null||Oe||(X[0]=ve.xa?2:1),J=[J],Be=[Be],ve.xa){if(5>P){pe=7;break}X=J,Te=Be,Oe=Y,g==null||5>P?g=0:5<=P&&g[_+0]==47&&!(g[_+4]>>5)?(ge=[0],Xe=[0],qe=[0],W($e=new L,g,_,P),ct($e,ge,Xe,qe)?(X!=null&&(X[0]=ge[0]),Te!=null&&(Te[0]=Xe[0]),Oe!=null&&(Oe[0]=qe[0]),g=1):g=0):g=0}else{if(10>P){pe=7;break}X=Be,g==null||10>P||!$l(g,_+3,P-3)?g=0:(Te=g[_+0]|g[_+1]<<8|g[_+2]<<16,Oe=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=ve.Ja||!Oe||!g?g=0:(J&&(J[0]=Oe),X&&(X[0]=g),g=1))}if(!g||(J=J[0],Be=Be[0],_e&&(ne[0]!=J||he[0]!=Be)))return 3;ee!=null&&(ee[0]=ve,ee.offset=_-ee.w,e(4294967286>_-ee.w),e(ee.offset==ee.ha-P));break}return pe==0||pe==7&&_e&&ee==null?(Y!=null&&(Y[0]|=ve.na!=null&&0<ve.na.length),j!=null&&(j[0]=J),q!=null&&(q[0]=Be),0):pe}function sh(g,_,P){var j=_.width,q=_.height,Y=0,J=0,X=j,ee=q;if(_.Da=g!=null&&0<g.Da,_.Da&&(X=g.cd,ee=g.bd,Y=g.v,J=g.j,11>P||(Y&=-2,J&=-2),0>Y||0>J||0>=X||0>=ee||Y+X>j||J+ee>q))return 0;if(_.v=Y,_.j=J,_.va=Y+X,_.o=J+ee,_.U=X,_.T=ee,_.da=g!=null&&0<g.da,_.da){if(!Ne(X,ee,P=[g.ib],Y=[g.hb]))return 0;_.ib=P[0],_.hb=Y[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*j/4&&_.hb<3*q/4,_.Kb=0),1}function lh(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function yc(g,_,P,j){if(j==null||0>=g||0>=_)return 2;if(P!=null){if(P.Da){var q=P.cd,Y=P.bd,J=-2&P.v,X=-2&P.j;if(0>J||0>X||0>=q||0>=Y||J+q>g||X+Y>_)return 2;g=q,_=Y}if(P.da){if(!Ne(g,_,q=[P.ib],Y=[P.hb]))return 2;g=q[0],_=Y[0]}}j.width=g,j.height=_;e:{var ee=j.width,ne=j.height;if(g=j.S,0>=ee||0>=ne||!(g>=cm&&13>g))g=2;else{if(0>=j.Rd&&j.sd==null){J=Y=q=_=0;var he=(X=ee*Y_[g])*ne;if(11>g||(Y=(ne+1)/2*(_=(ee+1)/2),g==12&&(J=(q=ee)*ne)),(ne=a(he+2*Y+J))==null){g=1;break e}j.sd=ne,11>g?((ee=j.f.RGBA).eb=ne,ee.fb=0,ee.A=X,ee.size=he):((ee=j.f.kb).y=ne,ee.O=0,ee.fa=X,ee.Fd=he,ee.f=ne,ee.N=0+he,ee.Ab=_,ee.Cd=Y,ee.ea=ne,ee.W=0+he+Y,ee.Db=_,ee.Ed=Y,g==12&&(ee.F=ne,ee.J=0+he+2*Y),ee.Tc=J,ee.lb=q)}if(_=1,q=j.S,Y=j.width,J=j.height,q>=cm&&13>q)if(11>q)g=j.f.RGBA,_&=(X=Math.abs(g.A))*(J-1)+Y<=g.size,_&=X>=Y*Y_[q],_&=g.eb!=null;else{g=j.f.kb,X=(Y+1)/2,he=(J+1)/2,ee=Math.abs(g.fa),ne=Math.abs(g.Ab);var _e=Math.abs(g.Db),Te=Math.abs(g.lb),ve=Te*(J-1)+Y;_&=ee*(J-1)+Y<=g.Fd,_&=ne*(he-1)+X<=g.Cd,_=(_&=_e*(he-1)+X<=g.Ed)&ee>=Y&ne>=X&_e>=X,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,q==12&&(_&=Te>=Y,_&=ve<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||P!=null&&P.fd&&(g=lh(j)),g}var Pr=64,bc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xc=24,wc=32,uh=8,fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(g){return g},M.Predictor2=function(g,_,P){return _[P+0]},M.Predictor3=function(g,_,P){return _[P+1]},M.Predictor4=function(g,_,P){return _[P-1]},M.Predictor5=function(g,_,P){return ke(ke(g,_[P+1]),_[P+0])},M.Predictor6=function(g,_,P){return ke(g,_[P-1])},M.Predictor7=function(g,_,P){return ke(g,_[P+0])},M.Predictor8=function(g,_,P){return ke(_[P-1],_[P+0])},M.Predictor9=function(g,_,P){return ke(_[P+0],_[P+1])},M.Predictor10=function(g,_,P){return ke(ke(g,_[P-1]),ke(_[P+0],_[P+1]))},M.Predictor11=function(g,_,P){var j=_[P+0];return 0>=Ge(j>>24&255,g>>24&255,(_=_[P-1])>>24&255)+Ge(j>>16&255,g>>16&255,_>>16&255)+Ge(j>>8&255,g>>8&255,_>>8&255)+Ge(255&j,255&g,255&_)?j:g},M.Predictor12=function(g,_,P){var j=_[P+0];return(ye((g>>24&255)+(j>>24&255)-((_=_[P-1])>>24&255))<<24|ye((g>>16&255)+(j>>16&255)-(_>>16&255))<<16|ye((g>>8&255)+(j>>8&255)-(_>>8&255))<<8|ye((255&g)+(255&j)-(255&_)))>>>0},M.Predictor13=function(g,_,P){var j=_[P-1];return(Ve((g=ke(g,_[P+0]))>>24&255,j>>24&255)<<24|Ve(g>>16&255,j>>16&255)<<16|Ve(g>>8&255,j>>8&255)<<8|Ve(g>>0&255,j>>0&255))>>>0};var ab=M.PredictorAdd0;M.PredictorAdd1=ot,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var ch=M.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var im,na=M.ColorIndexInverseTransform,Sc=M.MapARGB,am=M.VP8LColorIndexInverseTransformAlpha,om=M.MapAlpha,ks=M.VP8LPredictorsAdd=[];ks.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Gl,di,Qr,Ps,ko,Po,_c,Mo,Vn,fh,Zr,ra,Tc,sm,dh,Wl,Yl,Ms,Kl,Cc,Jl,Os,hh,ia,aa,gn,vn,Gn,ur=a(511),Oo=a(2041),ph=a(225),Nc=a(767),lm=0,ob=Oo,um=ph,Oi=Nc,oa=ur,cm=0,fm=1,R_=2,dm=3,hm=4,sb=5,F_=6,lb=7,ub=8,pm=9,cb=10,S8=[2,3,7],_8=[3,3,11],$_=[280,256,256,256,40],T8=[0,1,1,1,0],C8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],N8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],E8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],k8=8,fb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],db=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ah=null,P8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],M8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],B_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],O8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],D8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],I8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],j8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ds=[],Ia=[],Do=[],L8=1,U_=2,Is=[],sa=[];De("UpsampleRgbLinePair",Bt,3),De("UpsampleBgrLinePair",Ln,3),De("UpsampleRgbaLinePair",Da,4),De("UpsampleBgraLinePair",yr,4),De("UpsampleArgbLinePair",Ur,4),De("UpsampleRgba4444LinePair",Qn,2),De("UpsampleRgb565LinePair",Rn,2);var R8=M.UpsampleRgbLinePair,F8=M.UpsampleBgrLinePair,q_=M.UpsampleRgbaLinePair,H_=M.UpsampleBgraLinePair,z_=M.UpsampleArgbLinePair,V_=M.UpsampleRgba4444LinePair,$8=M.UpsampleRgb565LinePair,Am=16,mm=1<<Am-1,mh=-227,hb=482,B8=6,G_=0,U8=a(256),q8=a(256),H8=a(256),z8=a(256),V8=a(hb-mh),G8=a(hb-mh);ao("YuvToRgbRow",Bt,3),ao("YuvToBgrRow",Ln,3),ao("YuvToRgbaRow",Da,4),ao("YuvToBgraRow",yr,4),ao("YuvToArgbRow",Ur,4),ao("YuvToRgba4444Row",Qn,2),ao("YuvToRgb565Row",Rn,2);var W_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gm=[0,2,8],W8=[8,7,6,4,4,2,2,2,1,1,1,1],Y8=1;this.WebPDecodeRGBA=function(g,_,P,j,q){var Y=fm,J=new mc,X=new lr;J.ba=X,X.S=Y,X.width=[X.width],X.height=[X.height];var ee=X.width,ne=X.height,he=new li;if(he==null||g==null)var _e=2;else e(he!=null),_e=vc(g,_,P,he.width,he.height,he.Pd,he.Qd,he.format,null);if(_e!=0?ee=0:(ee!=null&&(ee[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),ee=1),ee){X.width=X.width[0],X.height=X.height[0],j!=null&&(j[0]=X.width),q!=null&&(q[0]=X.height);e:{if(j=new _s,(q=new th).data=g,q.w=_,q.ha=P,q.kd=1,_=[0],e(q!=null),((g=vc(q.data,q.w,q.ha,null,null,null,_,null,q))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(J!=null),j.data=q.data,j.w=q.w+q.offset,j.ha=q.ha-q.offset,j.put=Xi,j.ac=Hn,j.bc=Qi,j.ma=J,q.xa){if((g=Xr())==null){J=1;break e}if(function(Te,ve){var Be=[0],Oe=[0],pe=[0];t:for(;;){if(Te==null)return 0;if(ve==null)return Te.a=2,0;if(Te.l=ve,Te.a=0,W(Te.m,ve.data,ve.w,ve.ha),!ct(Te.m,Be,Oe,pe)){Te.a=3;break t}if(Te.xb=U_,ve.width=Be[0],ve.height=Oe[0],!ta(Be[0],Oe[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(g,j)){if(j=(_=yc(j.width,j.height,J.Oa,J.ba))==0){t:{j=g;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((P=j.l)!=null),e((q=P.ma)!=null),j.xb!=0){if(j.ca=q.ba,j.tb=q.tb,e(j.ca!=null),!sh(q.Oa,P,dm)){j.a=2;break n}if(!Co(j,P.width)||P.da)break n;if((P.da||st(j.ca.S))&&we(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&we()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Le(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Pi(j,j.V,j.Ba,j.c,j.i,P.o,Pa))break n;q.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(_=g.a)}else _=g.a}else{if((g=new Gd)==null){J=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,sc(g,j)){if((_=yc(j.width,j.height,J.Oa,J.ba))==0){if(g.Aa=0,P=J.Oa,e((q=g)!=null),P!=null){if(0<(ee=0>(ee=P.Md)?0:100<ee?255:255*ee/100)){for(ne=he=0;4>ne;++ne)12>(_e=q.pb[ne]).lc&&(_e.ia=ee*W8[0>_e.lc?0:_e.lc]>>3),he|=_e.ia;he&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}je(g,j)||(_=g.a)}}else _=g.a}_==0&&J.Oa!=null&&J.Oa.fd&&(_=lh(J.ba))}J=_}Y=J!=0?null:11>Y?X.f.RGBA.eb:X.f.kb.y}else Y=null;return Y};var Y_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,I){for(var U="",O=0;O<4;O++)U+=String.fromCharCode(M[I++]);return U}function c(M,I){return(M[I+0]<<0|M[I+1]<<8|M[I+2]<<16)>>>0}function f(M,I){return(M[I+0]<<0|M[I+1]<<8|M[I+2]<<16|M[I+3]<<24)>>>0}new l;var h=[0],p=[0],v=[],b=new l,w=t,y=function(M,I){var U={},O=0,D=!1,$=0,F=0;if(U.frames=[],!function(z,Q,te,ie){for(var me=0;me<ie;me++)if(z[Q+me]!=te.charCodeAt(me))return!0;return!1}(M,I,"RIFF",4)){var G,R;for(f(M,I+=4),I+=8;I<M.length;){var B=u(M,I),W=f(M,I+=4);I+=4;var K=W+(1&W);switch(B){case"VP8 ":case"VP8L":U.frames[O]===void 0&&(U.frames[O]={}),(L=U.frames[O]).src_off=D?F:I-8,L.src_size=$+W+8,O++,D&&(D=!1,$=0,F=0);break;case"VP8X":(L=U.header={}).feature_flags=M[I];var Z=I+4;L.canvas_width=1+c(M,Z),Z+=3,L.canvas_height=1+c(M,Z),Z+=3;break;case"ALPH":D=!0,$=K+8,F=I-8;break;case"ANIM":(L=U.header).bgcolor=f(M,I),Z=I+4,L.loop_count=(G=M)[(R=Z)+0]<<0|G[R+1]<<8,Z+=2;break;case"ANMF":var se,L;(L=U.frames[O]={}).offset_x=2*c(M,I),I+=3,L.offset_y=2*c(M,I),I+=3,L.width=1+c(M,I),I+=3,L.height=1+c(M,I),I+=3,L.duration=c(M,I),I+=3,se=M[I++],L.dispose=1&se,L.blend=se>>1&1}B!="ANMF"&&(I+=K)}return U}}(w,0);y.response=w,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],p=[x.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var C=S[0],k=b.WebPDecodeRGBA(w,C.src_off,C.src_size,p,h);C.rgba=k,C.imgwidth=p[0],C.imgheight=h[0];for(var E=0;E<p[0]*h[0]*4;E++)v[E]=k[E];return this.width=p,this.height=h,this.data=v,this}(function(t){var e=function(){return typeof k2=="function"},n=function(h,p,v,b){var w=4,y=o;switch(b){case t.image_compression.FAST:w=1,y=a;break;case t.image_compression.MEDIUM:w=6,y=s;break;case t.image_compression.SLOW:w=9,y=l}h=r(h,p,v,y);var x=k2(h,{level:w});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(h,p,v,b){for(var w,y,x,S=h.length/p,T=new Uint8Array(h.length+S),C=c(),k=0;k<S;k+=1){if(x=k*p,w=h.subarray(x,x+p),b)T.set(b(w,v,y),x+k);else{for(var E,M=C.length,I=[];E<M;E+=1)I[E]=C[E](w,v,y);var U=f(I.concat());T.set(I[U],x+k)}y=w}return T},i=function(h){var p=Array.apply([],h);return p.unshift(0),p},a=function(h,p){var v,b=[],w=h.length;b[0]=1;for(var y=0;y<w;y+=1)v=h[y-p]||0,b[y+1]=h[y]-v+256&255;return b},o=function(h,p,v){var b,w=[],y=h.length;w[0]=2;for(var x=0;x<y;x+=1)b=v&&v[x]||0,w[x+1]=h[x]-b+256&255;return w},s=function(h,p,v){var b,w,y=[],x=h.length;y[0]=3;for(var S=0;S<x;S+=1)b=h[S-p]||0,w=v&&v[S]||0,y[S+1]=h[S]+256-(b+w>>>1)&255;return y},l=function(h,p,v){var b,w,y,x,S=[],T=h.length;S[0]=4;for(var C=0;C<T;C+=1)b=h[C-p]||0,w=v&&v[C]||0,y=v&&v[C-p]||0,x=u(b,w,y),S[C+1]=h[C]-x+256&255;return S},u=function(h,p,v){if(h===p&&p===v)return h;var b=Math.abs(p-v),w=Math.abs(h-v),y=Math.abs(h+p-v-v);return b<=w&&b<=y?h:w<=y?p:v},c=function(){return[i,a,o,s,l]},f=function(h){var p=h.map(function(v){return v.reduce(function(b,w){return b+Math.abs(w)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(h,p,v,b){var w,y,x,S,T,C,k,E,M,I,U,O,D,$,F,G=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(x=new oZ(h)).imgData,y=x.bits,w=x.colorSpace,T=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){M=(E=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,U=new Uint8Array(M*x.colors),I=new Uint8Array(M);var B,W=x.pixelBitlength-x.bits;for($=0,F=0;$<M;$++){for(D=E[$],B=0;B<W;)U[F++]=D>>>B&255,B+=x.bits;I[$]=D>>>B&255}}if(x.bits===16){M=(E=new Uint32Array(x.decodePixels().buffer)).length,U=new Uint8Array(M*(32/x.pixelBitlength)*x.colors),I=new Uint8Array(M*(32/x.pixelBitlength)),O=x.colors>1,$=0,F=0;for(var K=0;$<M;)D=E[$++],U[F++]=D>>>0&255,O&&(U[F++]=D>>>16&255,D=E[$++],U[F++]=D>>>0&255),I[K++]=D>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(h=n(U,x.width*x.colors,x.colors,b),k=n(I,x.width,1,b)):(h=U,k=I,G=void 0)}if(x.colorType===3&&(w=this.color_spaces.INDEXED,C=x.palette,x.transparency.indexed)){var Z=x.transparency.indexed,se=0;for($=0,M=Z.length;$<M;++$)se+=Z[$];if((se/=255)===M-1&&Z.indexOf(0)!==-1)S=[Z.indexOf(0)];else if(se!==M){for(E=x.decodePixels(),I=new Uint8Array(E.length),$=0,M=E.length;$<M;$++)I[$]=Z[E[$]];k=n(I,x.width,1)}}var L=function(z){var Q;switch(z){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(b);return G===this.decode.FLATE_DECODE&&(R="/Predictor "+L+" "),R+="/Colors "+T+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:v,data:h,index:p,filter:G,decodeParameters:R,transparency:S,palette:C,sMask:k,predictor:L,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:w}}}})(ut.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new sZ(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new T1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ut.API),Fa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){hn.log("bit decode error:"+n)}},Fa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Fa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Fa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Fa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Fa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Fa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Fa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Fa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Fa(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new T1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),WE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new WE(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new T1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),ut.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],h=r[u+2],p=r[u+3];a[s++]=c,a[s++]=f,a[s++]=h,o[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ut.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Bc=ut.API,Zm=Bc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,p=t.length,v=0,b=s[0]||l,w=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=f&&rn(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,w.push((s[r]||b)/l+h)),v=r;return w},HE=Bc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Bc.processArabic&&(t=Bc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Zm.apply(this,arguments).reduce(function(a,o){return a+o},0)},zE=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},VE=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],h=n.textIndent||0,p=0,v=0,b=t.split(" "),w=Zm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];b.map(function(T){(T=T.split(/\s*\n/)).length>1?x=x.concat(T.map(function(C,k){return(k&&C.length?`
`:"")+C})):x.push(T[0])}),b=x,l=HE.apply(this,[y,n])}for(a=0,o=b.length;a<o;a++){var S=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+p+(v=(i=Zm.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||S){if(v>e){for(s=zE.apply(this,[r,i,e-(h+p),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(T,C){return T+C},0)}else c=[r];f.push(c),h=v+l,p=w}else c.push(r),h+=p+v,p=w}return u=l?function(T,C){return(C?y:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},Bc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(VE.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,p,v,b,w=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=a(y).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof h=="number")h<0?(v=a(h).slice(3),b="-"):(v=a(h).slice(2),b=""),v=b+v.slice(0,-1)+r[v.slice(-1)];else{if(rn(h)!=="object")throw new Error("Don't know what to do with value type "+rn(h)+".");v=o(h)}w.push(p+v)}return w.push("}"),w.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,b,w={},y=1,x=w,S=[],T="",C="",k=f.length-1,E=1;E<k;E+=1)(b=f[E])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(S.push([x,v]),x={},v=void 0):b=="}"?((p=S.pop())[0][p[1]]=x,v=void 0,x=p[0]):b=="-"?y=-1:v===void 0?n.hasOwnProperty(b)?(T+=n[b],v=parseInt(T,16)*y,y=1,T=""):T+=b:n.hasOwnProperty(b)?(C+=n[b],x[v]=parseInt(C,16)*y,y=1,v=void 0,C=""):C+=b;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=c.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(ut.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(pp(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ut),function(t){function e(){return(mt.canvg?Promise.resolve(mt.canvg):Nl(()=>import("./index.es-C5gTMI-f.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ut.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(v){return v.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),ut.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ut.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function h(v,b){var w,y=!1;for(w=0;w<v.length;w+=1)v[w]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=s.length;for(f=0;f<p;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(rn(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ut.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,h=a.length;f<h;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(a).sort(function(p,v){return p-v})).length;f<h;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var b=u();c({data:p,addLength1:!0,objectId:b}),l("endobj");var w=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Qc(s.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Qc(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Qc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var v=u();c({data:h,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Qc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Qc(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},h=f.pdfEscape,p=f.activeFontKey,v=f.fonts,b=p,w="",y=0,x="",S=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(x=s,b=p,Array.isArray(s)&&(x=s[0]),y=0;y<x.length;y+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?w+=x[y]:w+="";var T="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?T=h(w,b).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=n(w,v[b])),f.isHex=!0,{text:T,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(ut),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ut.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var T=function(O){var D=O.charCodeAt(),$=D>>8,F=b[$];return F!==void 0?f[256*F+(255&D)]:$===252||$===253?"AL":y.test($)?"L":$===8?"R":"N"},C=function(O){for(var D,$=0;$<O.length;$++){if((D=T(O.charAt($)))==="L")return!1;if(D==="R")return!0}return!1},k=function(O,D,$,F){var G,R,B,W,K=D[F];switch(K){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(K="AN");break;case"AL":x=!0,K="R";break;case"WS":K="N";break;case"CS":F<1||F+1>=D.length||(G=$[F-1])!=="EN"&&G!=="AN"||(R=D[F+1])!=="EN"&&R!=="AN"?K="N":x&&(R="AN"),K=R===G?R:"N";break;case"ES":K=(G=F>0?$[F-1]:"B")==="EN"&&F+1<D.length&&D[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&$[F-1]==="EN"){K="EN";break}if(x){K="N";break}for(B=F+1,W=D.length;B<W&&D[B]==="ET";)B++;K=B<W&&D[B]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(W=D.length,B=F+1;B<W&&D[B]==="NSM";)B++;if(B<W){var Z=O[F],se=Z>=1425&&Z<=2303||Z===64286;if(G=D[B],se&&(G==="R"||G==="AL")){K="R";break}}}K=F<1||(G=D[F-1])==="B"?"N":$[F-1];break;case"B":x=!1,i=!0,K=S;break;case"S":a=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":K="N"}return K},E=function(O,D,$){var F=O.split("");return $&&M(F,$,{hiLevel:S}),F.reverse(),D&&D.reverse(),F.join("")},M=function(O,D,$){var F,G,R,B,W,K=-1,Z=O.length,se=0,L=[],z=S?p:h,Q=[];for(x=!1,i=!1,a=!1,G=0;G<Z;G++)Q[G]=T(O[G]);for(R=0;R<Z;R++){if(W=se,L[R]=k(O,Q,L,R),F=240&(se=z[W][v[L[R]]]),se&=15,D[R]=B=z[se][5],F>0)if(F===16){for(G=K;G<R;G++)D[G]=1;K=-1}else K=-1;if(z[se][6])K===-1&&(K=R);else if(K>-1){for(G=K;G<R;G++)D[G]=B;K=-1}Q[R]==="B"&&(D[R]=0),$.hiLevel|=B}a&&function(te,ie,me){for(var Ae=0;Ae<me;Ae++)if(te[Ae]==="S"){ie[Ae]=S;for(var V=Ae-1;V>=0&&te[V]==="WS";V--)ie[V]=S}}(Q,D,Z)},I=function(O,D,$,F,G){if(!(G.hiLevel<O)){if(O===1&&S===1&&!i)return D.reverse(),void($&&$.reverse());for(var R,B,W,K,Z=D.length,se=0;se<Z;){if(F[se]>=O){for(W=se+1;W<Z&&F[W]>=O;)W++;for(K=se,B=W-1;K<B;K++,B--)R=D[K],D[K]=D[B],D[B]=R,$&&(R=$[K],$[K]=$[B],$[B]=R);se=W}se++}}},U=function(O,D,$){var F=O.split(""),G={hiLevel:S};return $||($=[]),M(F,$,G),function(R,B,W){if(W.hiLevel!==0&&c)for(var K,Z=0;Z<R.length;Z++)B[Z]===1&&(K=w.indexOf(R[Z]))>=0&&(R[Z]=w[K+1])}(F,$,G),I(2,F,D,$,G),I(1,F,D,$,G),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,D,$){if(function(G,R){if(R)for(var B=0;B<G.length;B++)R[B]=B;s===void 0&&(s=C(G)),u===void 0&&(u=C(G))}(O,D),o||!l||u)if(o&&l&&s^u)S=s?1:0,O=E(O,D,$);else if(!o&&l&&u)S=s?1:0,O=U(O,D,$),O=E(O,D);else if(!o||s||l||u){if(o&&!l&&s^u)O=E(O,D),s?(S=0,O=U(O,D,$)):(S=1,O=U(O,D,$),O=E(O,D));else if(o&&s&&!l&&u)S=1,O=U(O,D,$),O=E(O,D);else if(!o&&!l&&s^u){var F=c;s?(S=1,O=U(O,D,$),S=0,c=!1,O=U(O,D,$),c=F):(S=0,O=U(O,D,$),O=E(O,D),S=1,c=!1,O=U(O,D,$),c=F,O=E(O,D))}}else S=0,O=U(O,D,$);else S=s?1:0,O=U(O,D,$);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,s=O.isInputRtl,u=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new kl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new wZ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lZ(this.contents),this.head=new cZ(this),this.name=new AZ(this),this.cmap=new DI(this),this.toUnicode={},this.hhea=new fZ(this),this.maxp=new mZ(this),this.hmtx=new gZ(this),this.post=new hZ(this),this.os2=new dZ(this),this.loca=new xZ(this),this.glyf=new vZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var to,kl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),lZ=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,h,p,v,b;for(b in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),c=16*p-f,(i=new kl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*p,u=i.pos+a,s=null,v=[],n)for(h=n[b],i.writeString(b),i.writeInt(t(h)),i.writeInt(u),i.writeInt(h.length),v=v.concat(h),b==="head"&&(s=u),u+=h.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=II.call(n);n.length%4;)n.push(0);for(a=new kl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),uZ={}.hasOwnProperty,So=function(t,e){for(var n in e)uZ.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};to=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var cZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new kl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),YE=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,h,p,v,b,w,y,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,a=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,b=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(e.readUInt16());return C}(),l=y=0,S=a.length;y<S;l=++y)for(w=a[l],r=x=v=b[l];v<=w?x<=w:x>=w;r=v<=w?++x:--x)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-v)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,p,v,b,w,y,x,S,T,C,k,E,M,I,U,O,D,$,F,G,R,B,W,K,Z,se,L,z,Q,te,ie,me,Ae,V,le,ce,ue;switch(F=new kl,o=Object.keys(e).sort(function(Me,Le){return Me-Le}),n){case"macroman":for(b=0,w=function(){var Me=[];for(v=0;v<256;++v)Me.push(0);return Me}(),x={0:0},a={},G=0,K=o.length;G<K;G++)x[V=e[i=o[G]]]==null&&(x[V]=++b),a[i]={old:e[i],new:x[e[i]]},w[i]=x[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(w),{charMap:a,subtable:F.data,maxGlyphID:b+1};case"unicode":for(D=[],f=[],S=0,x={},r={},y=u=null,R=0,Z=o.length;R<Z;R++)x[C=e[i=o[R]]]==null&&(x[C]=++S),r[i]={old:C,new:x[C]},s=x[C]-i,y!=null&&s===u||(y&&f.push(y),D.push(i),u=s),y=i;for(y&&f.push(y),f.push(65535),D.push(65535),U=2*(I=D.length),M=2*Math.pow(Math.log(I)/Math.LN2,2),h=Math.log(M/2)/Math.LN2,E=2*I-M,l=[],k=[],p=[],v=B=0,se=D.length;B<se;v=++B){if(O=D[v],c=f[v],O===65535){l.push(0),k.push(0);break}if(O-($=r[O].new)>=32768)for(l.push(0),k.push(2*(p.length+I-v)),i=W=O;O<=c?W<=c:W>=c;i=O<=c?++W:--W)p.push(r[i].new);else l.push($-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*I+2*p.length),F.writeUInt16(0),F.writeUInt16(U),F.writeUInt16(M),F.writeUInt16(h),F.writeUInt16(E),me=0,L=f.length;me<L;me++)i=f[me],F.writeUInt16(i);for(F.writeUInt16(0),Ae=0,z=D.length;Ae<z;Ae++)i=D[Ae],F.writeUInt16(i);for(le=0,Q=l.length;le<Q;le++)s=l[le],F.writeUInt16(s);for(ce=0,te=k.length;ce<te;ce++)T=k[ce],F.writeUInt16(T);for(ue=0,ie=p.length;ue<ie;ue++)b=p[ue],F.writeUInt16(b);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},t}(),DI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new YE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=YE.encode(n,r),(a=new kl).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),fZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),dZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),hZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),pZ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},AZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,f,h,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,h=i.length;f<h;o=++f)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new pZ(c,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),mZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),gZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,h,p;for(p=[],c=0,f=(h=this.metrics).length;c<f;c++)o=h[c],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),II=[].slice,vZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,f,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new kl(r.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new bZ(l,c,h,u,f):new yZ(l,s,c,h,u,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),yZ=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bZ=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new kl(II.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),xZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return So(e,to),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),wZ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,p,v,b,w,y;for(i in r=DI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},y=r.charMap)p[(l=y[i]).old]=l.new;for(v in h=r.maxGlyphID,o)v in p||(p[v]=h++);return c=function(x){var S,T;for(S in T={},x)T[x[S]]=S;return T}(p),f=Object.keys(c).sort(function(x,S){return x-S}),b=function(){var x,S,T;for(T=[],x=0,S=f.length;x<S;x++)s=f[x],T.push(c[s]);return T}(),a=this.font.glyf.encode(o,b,p),u=this.font.loca.encode(a.offsets,b),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();ut.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const SZ=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:eZ,AcroFormAppearance:it,AcroFormButton:hr,AcroFormCheckBox:gp,AcroFormChoiceField:Tu,AcroFormComboBox:Nu,AcroFormEditBox:Ap,AcroFormListBox:Cu,AcroFormPasswordField:vp,AcroFormPushButton:mp,AcroFormRadioButton:Eu,AcroFormTextField:yl,GState:Up,ShadingPattern:el,TilingPattern:Au,default:ut,jsPDF:ut},Symbol.toStringTag,{value:"Module"}));var jI={exports:{}};const _Z=YP(SZ);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return _Z}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ar<"u"?Ar:typeof window<"u"?window:typeof self<"u"?self:Ar,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var h=function(p,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(b[y]=w[y])},h(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(p,v);function b(){this.constructor=p}p.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function h(p,v,b){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=b,this.doc=p.getDocument()}return h}();l.HookData=c;var f=function(h){u(p,h);function p(v,b,w,y,x,S){var T=h.call(this,v,b,S)||this;return T.cell=w,T.row=y,T.column=x,T.section=y.section,T}return p}(c);l.CellHookData=f},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),h=u(744),p=u(776),v=u(664),b=u(972);function w(y){y.API.autoTable=function(){for(var x=[],S=0;S<arguments.length;S++)x[S]=arguments[S];var T;x.length===1?T=x[0]:(console.error("Use of deprecated autoTable initiation"),T=x[2]||{},T.columns=x[0],T.body=x[1]);var C=(0,p.parseInput)(this,T),k=(0,b.createTable)(this,C);return(0,v.drawTable)(this,k),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(x,S,T,C){(0,f.default)(x,S,T,C,this)},y.API.autoTableSetDefaults=function(x){return h.DocHandler.setDefaults(x,this),this},y.autoTableSetDefaults=function(x,S){h.DocHandler.setDefaults(x,S)},y.API.autoTableHtmlToJson=function(x,S){var T;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new h.DocHandler(this),k=(0,c.parseHtml)(C,x,window,S,!1),E=k.head,M=k.body,I=((T=E[0])===null||T===void 0?void 0:T.map(function(U){return U.content}))||[];return{columns:I,rows:M,data:M}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},y.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=x,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,h,p,v){p=p||{};var b=1.15,w=v.internal.scaleFactor,y=v.internal.getFontSize()/w,x=v.getLineHeightFactor?v.getLineHeightFactor():b,S=y*x,T=/\r\n|\r|\n/g,C="",k=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(C=typeof c=="string"?c.split(T):c,k=C.length||1),h+=y*(2-b),p.valign==="middle"?h-=k/2*S:p.valign==="bottom"&&(h-=k*S),p.halign==="center"||p.halign==="right"){var E=y;if(p.halign==="center"&&(E*=.5),C&&k>=1){for(var M=0;M<C.length;M++)v.text(C[M],f-v.getStringUnitWidth(C[M])*E,h),h+=S;return v}f-=v.getStringUnitWidth(c)*E}return p.halign==="justify"?v.text(c,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):v.text(c,f,h),v}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(v,b,w){w.applyStyles(b,!0);var y=Array.isArray(v)?v:[v],x=y.map(function(S){return w.getTextWidth(S)}).reduce(function(S,T){return Math.max(S,T)},0);return x}l.getStringWidth=u;function c(v,b,w,y){var x=b.settings.tableLineWidth,S=b.settings.tableLineColor;v.applyStyles({lineWidth:x,lineColor:S});var T=f(x,!1);T&&v.rect(w.x,w.y,b.getWidth(v.pageSize().width),y.y-w.y,T)}l.addTableBorder=c;function f(v,b){var w=v>0,y=b||b===0;return w&&y?"DF":w?"S":y?"F":null}l.getFillStyle=f;function h(v,b){var w,y,x,S;if(v=v||b,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=b}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(w=v.left)!==null&&w!==void 0?w:b,top:(y=v.top)!==null&&y!==void 0?y:b,right:(x=v.right)!==null&&x!==void 0?x:b,bottom:(S=v.bottom)!==null&&S!==void 0?S:b}):(typeof v!="number"&&(v=b),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=h;function p(v,b){var w=h(b.settings.margin,0);return v.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=p},796:function(s,l){var u=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,y){w.__proto__=y}||function(w,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(w[x]=y[x])},p(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");p(v,b);function w(){this.constructor=v}v.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(p){u(v,p);function v(b){var w=p.call(this)||this;return w._element=b,w}return v}(Array);l.HtmlRowInput=c;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(p){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[p]}l.getTheme=h},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(w,y,x,S,T){var C={},k=1.3333333333333333,E=p(y,function(K){return T.getComputedStyle(K).backgroundColor});E!=null&&(C.fillColor=E);var M=p(y,function(K){return T.getComputedStyle(K).color});M!=null&&(C.textColor=M);var I=b(S,x);I&&(C.cellPadding=I);var U="borderTopColor",O=k*x,D=S.borderTopWidth;if(S.borderBottomWidth===D&&S.borderRightWidth===D&&S.borderLeftWidth===D){var $=(parseFloat(D)||0)/O;$&&(C.lineWidth=$)}else C.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/O,right:(parseFloat(S.borderRightWidth)||0)/O,bottom:(parseFloat(S.borderBottomWidth)||0)/O,left:(parseFloat(S.borderLeftWidth)||0)/O},C.lineWidth.top||(C.lineWidth.right?U="borderRightColor":C.lineWidth.bottom?U="borderBottomColor":C.lineWidth.left&&(U="borderLeftColor"));var F=p(y,function(K){return T.getComputedStyle(K)[U]});F!=null&&(C.lineColor=F);var G=["left","right","center","justify"];G.indexOf(S.textAlign)!==-1&&(C.halign=S.textAlign),G=["middle","bottom","top"],G.indexOf(S.verticalAlign)!==-1&&(C.valign=S.verticalAlign);var R=parseInt(S.fontSize||"");isNaN(R)||(C.fontSize=R/k);var B=h(S);B&&(C.fontStyle=B);var W=(S.fontFamily||"").toLowerCase();return w.indexOf(W)!==-1&&(C.font=W),C}l.parseCss=f;function h(w){var y="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(y="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(y+="italic"),y}function p(w,y){var x=v(w,y);if(!x)return null;var S=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var T=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],C=parseInt(S[4]);return C===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function v(w,y){var x=y(w);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?w.parentElement==null?null:v(w.parentElement,y):x}function b(w,y){var x=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],S=96/(72/y),T=(parseInt(w.lineHeight)-parseInt(w.fontSize))/y/2,C=x.map(function(E){return parseInt(E||"0")/S}),k=(0,c.parseSpacing)(C,0);return T>k.top&&(k.top=T),T>k.bottom&&(k.bottom=T),k}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var v,b,w;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var y=this.jsPDFDocument.internal.getFont(),x=y.fontStyle,S=y.fontName;if(h.font&&(S=h.font),h.fontStyle){x=h.fontStyle;var T=this.getFontList()[S];T&&T.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),x=T[0])}if(this.jsPDFDocument.setFont(S,x),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var C=f.unifyColor(h.fillColor);C&&(v=this.jsPDFDocument).setFillColor.apply(v,C),C=f.unifyColor(h.textColor),C&&(b=this.jsPDFDocument).setTextColor.apply(b,C),C=f.unifyColor(h.lineColor),C&&(w=this.jsPDFDocument).setDrawColor.apply(w,C),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,v){return this.jsPDFDocument.splitTextToSize(h,p,v)},f.prototype.rect=function(h,p,v,b,w){return this.jsPDFDocument.rect(h,p,v,b,w)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function h(b,w,y,x,S){var T,C;x===void 0&&(x=!1),S===void 0&&(S=!1);var k;typeof w=="string"?k=y.document.querySelector(w):k=w;var E=Object.keys(b.getFontList()),M=b.scaleFactor(),I=[],U=[],O=[];if(!k)return console.error("Html table could not be found with input: ",w),{head:I,body:U,foot:O};for(var D=0;D<k.rows.length;D++){var $=k.rows[D],F=(C=(T=$==null?void 0:$.parentElement)===null||T===void 0?void 0:T.tagName)===null||C===void 0?void 0:C.toLowerCase(),G=p(E,M,y,$,x,S);G&&(F==="thead"?I.push(G):F==="tfoot"?O.push(G):U.push(G))}return{head:I,body:U,foot:O}}l.parseHtml=h;function p(b,w,y,x,S,T){for(var C=new f.HtmlRowInput(x),k=0;k<x.cells.length;k++){var E=x.cells[k],M=y.getComputedStyle(E);if(S||M.display!=="none"){var I=void 0;T&&(I=(0,c.parseCss)(b,E,w,M,y)),C.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:I,_element:E,content:v(E)})}}var U=y.getComputedStyle(x);if(C.length>0&&(S||U.display!=="none"))return C}function v(b){var w=b.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),w.innerText||w.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),h=u(420),p=u(744),v=u(792);function b(k,E){var M=new p.DocHandler(k),I=M.getDocumentOptions(),U=M.getGlobalOptions();(0,v.default)(M,U,I,E);var O=(0,f.assign)({},U,I,E),D;typeof window<"u"&&(D=window);var $=w(U,I,E),F=y(U,I,E),G=x(M,O),R=T(M,O,D);return{id:E.tableId,content:R,hooks:F,styles:$,settings:G}}l.parseInput=b;function w(k,E,M){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},U=function(F){if(F==="columnStyles"){var G=k[F],R=E[F],B=M[F];I.columnStyles=(0,f.assign)({},G,R,B)}else{var W=[k,E,M],K=W.map(function(Z){return Z[F]||{}});I[F]=(0,f.assign)({},K[0],K[1],K[2])}},O=0,D=Object.keys(I);O<D.length;O++){var $=D[O];U($)}return I}function y(k,E,M){for(var I=[k,E,M],U={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,D=I;O<D.length;O++){var $=D[O];$.didParseCell&&U.didParseCell.push($.didParseCell),$.willDrawCell&&U.willDrawCell.push($.willDrawCell),$.didDrawCell&&U.didDrawCell.push($.didDrawCell),$.willDrawPage&&U.willDrawPage.push($.willDrawPage),$.didDrawPage&&U.didDrawPage.push($.didDrawPage)}return U}function x(k,E){var M,I,U,O,D,$,F,G,R,B,W,K,Z=(0,h.parseSpacing)(E.margin,40/k.scaleFactor()),se=(M=S(k,E.startY))!==null&&M!==void 0?M:Z.top,L;E.showFoot===!0?L="everyPage":E.showFoot===!1?L="never":L=(I=E.showFoot)!==null&&I!==void 0?I:"everyPage";var z;E.showHead===!0?z="everyPage":E.showHead===!1?z="never":z=(U=E.showHead)!==null&&U!==void 0?U:"everyPage";var Q=(O=E.useCss)!==null&&O!==void 0?O:!1,te=E.theme||(Q?"plain":"striped"),ie=!!E.horizontalPageBreak,me=(D=E.horizontalPageBreakRepeat)!==null&&D!==void 0?D:null;return{includeHiddenHtml:($=E.includeHiddenHtml)!==null&&$!==void 0?$:!1,useCss:Q,theme:te,startY:se,margin:Z,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(G=E.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(R=E.tableWidth)!==null&&R!==void 0?R:"auto",showHead:z,showFoot:L,tableLineWidth:(B=E.tableLineWidth)!==null&&B!==void 0?B:0,tableLineColor:(W=E.tableLineColor)!==null&&W!==void 0?W:200,horizontalPageBreak:ie,horizontalPageBreakRepeat:me,horizontalPageBreakBehaviour:(K=E.horizontalPageBreakBehaviour)!==null&&K!==void 0?K:"afterAllRows"}}function S(k,E){var M=k.getLastAutoTable(),I=k.scaleFactor(),U=k.pageNumber(),O=!1;if(M&&M.startPageNumber){var D=M.startPageNumber+M.pageNumber-1;O=D===U}return typeof E=="number"?E:(E==null||E===!1)&&O&&(M==null?void 0:M.finalY)!=null?M.finalY+20/I:null}function T(k,E,M){var I=E.head||[],U=E.body||[],O=E.foot||[];if(E.html){var D=E.includeHiddenHtml;if(M){var $=(0,c.parseHtml)(k,E.html,M,D,E.useCss)||{};I=$.head||I,U=$.body||I,O=$.foot||I}else console.error("Cannot parse html in non browser environment")}var F=E.columns||C(I,U,O);return{columns:F,head:I,body:U,foot:O}}function C(k,E,M){var I=k[0]||E[0]||M[0]||[],U=[];return Object.keys(I).filter(function(O){return O!=="_element"}).forEach(function(O){var D=1,$;Array.isArray(I)?$=I[parseInt(O)]:$=I[O],typeof $=="object"&&!Array.isArray($)&&(D=($==null?void 0:$.colSpan)||1);for(var F=0;F<D;F++){var G=void 0;Array.isArray(I)?G=U.length:G=O+(F>0?"_".concat(F):"");var R={dataKey:G};U.push(R)}}),U}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,p,v){for(var b=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(O){f.applyStyles(f.userStyles),S.beforePageContent&&S.beforePageContent(O),f.applyStyles(f.userStyles),S.afterPageContent&&S.afterPageContent(O),f.applyStyles(f.userStyles),S.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){S[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var D=O[0],$=O[1];S[$]&&(console.error("Use of deprecated option ".concat($,". Use ").concat(D," instead")),S[D]=S[$])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var D=typeof O=="string"?O:O[0],$=typeof O=="string"?O:O[1];typeof S[D]<"u"&&(typeof S.styles[$]>"u"&&(S.styles[$]=S[D]),console.error("Use of deprecated option: "+D+", use the style "+$+" instead."))});for(var T=0,C=["styles","bodyStyles","headStyles","footStyles"];T<C.length;T++){var k=C[T];c(S[k]||{})}for(var E=S.columnStyles||{},M=0,I=Object.keys(E);M<I.length;M++){var U=I[M];c(E[U]||{})}},w=0,y=[h,p,v];w<y.length;w++){var x=y[w];b(x)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),h=u(420),p=function(){function y(x,S){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return y.prototype.getHeadHeight=function(x){return this.head.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.getFootHeight=function(x){return this.foot.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(x,S,T,C,k,E){for(var M=0,I=S;M<I.length;M++){var U=I[M],O=new f.CellHookData(x,this,T,C,k,E),D=U(O)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],D)return!1}return!0},y.prototype.callEndPageHooks=function(x,S){x.applyStyles(x.userStyles);for(var T=0,C=this.hooks.didDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.callWillDrawPageHooks=function(x,S){for(var T=0,C=this.hooks.willDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(C,k){return C+k.wrappedWidth},0);return S}else{var T=this.settings.margin;return x-T.left-T.right}},y}();l.Table=p;var v=function(){function y(x,S,T,C,k){k===void 0&&(k=!1),this.height=0,this.raw=x,x instanceof c.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=S,this.section=T,this.cells=C,this.spansMultiplePages=k}return y.prototype.getMaxCellHeight=function(x){var S=this;return x.reduce(function(T,C){var k;return Math.max(T,((k=S.cells[C.index])===null||k===void 0?void 0:k.height)||0)},0)},y.prototype.hasRowSpan=function(x){var S=this;return x.filter(function(T){var C=S.cells[T.index];return C?C.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(x,S){return this.getMaxCellHeight(S)<=x},y.prototype.getMinimumRowHeight=function(x,S){var T=this;return x.reduce(function(C,k){var E=T.cells[k.index];if(!E)return 0;var M=S.getLineHeight(E.styles.fontSize),I=E.padding("vertical"),U=I+M;return U>C?U:C},0)},y}();l.Row=v;var b=function(){function y(x,S,T){var C,k;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=T,this.raw=x;var E=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,E=(k=(C=x.content)!==null&&C!==void 0?C:x.title)!==null&&k!==void 0?k:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var M=E!=null?""+E:"",I=/\r\n|\r|\n/g;this.text=M.split(I)}return y.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");x=this.y+S/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");T=this.x+C/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:x}},y.prototype.getContentHeight=function(x,S){S===void 0&&(S=1.15);var T=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/x*S,k=T*C+this.padding("vertical");return Math.max(k,this.styles.minCellHeight)},y.prototype.padding=function(x){var S=(0,h.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?S.top+S.bottom:x==="horizontal"?S.left+S.right:S[x]},y}();l.Cell=b;var w=function(){function y(x,S,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=S,this.index=T}return y.prototype.getMaxCustomCellWidth=function(x){for(var S=0,T=0,C=x.allRows();T<C.length;T++){var k=C[T],E=k.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(S=Math.max(S,E.styles.cellWidth))}return S},y}();l.Column=w},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,h,p,v){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(c),w=1;w<arguments.length;w++){var y=arguments[w];if(y!=null)for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])}return b}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),h=u(324),p=u(796),v=u(356);function b(k,E){var M=new c.DocHandler(k),I=w(E,M.scaleFactor()),U=new f.Table(E,I);return(0,h.calculateWidths)(M,U),M.applyStyles(M.userStyles),U}l.createTable=b;function w(k,E){var M=k.content,I=T(M.columns);if(M.head.length===0){var U=x(I,"head");U&&M.head.push(U)}if(M.foot.length===0){var U=x(I,"foot");U&&M.foot.push(U)}var O=k.settings.theme,D=k.styles;return{columns:I,head:y("head",M.head,I,D,O,E),body:y("body",M.body,I,D,O,E),foot:y("foot",M.foot,I,D,O,E)}}function y(k,E,M,I,U,O){var D={},$=E.map(function(F,G){for(var R=0,B={},W=0,K=0,Z=0,se=M;Z<se.length;Z++){var L=se[Z];if(D[L.index]==null||D[L.index].left===0)if(K===0){var z=void 0;Array.isArray(F)?z=F[L.index-W-R]:z=F[L.dataKey];var Q={};typeof z=="object"&&!Array.isArray(z)&&(Q=(z==null?void 0:z.styles)||{});var te=C(k,L,G,U,I,O,Q),ie=new f.Cell(z,te,k);B[L.dataKey]=ie,B[L.index]=ie,K=ie.colSpan-1,D[L.index]={left:ie.rowSpan-1,times:K}}else K--,W++;else D[L.index].left--,K=D[L.index].times,R++}return new f.Row(F,G,k,B)});return $}function x(k,E){var M={};return k.forEach(function(I){if(I.raw!=null){var U=S(E,I.raw);U!=null&&(M[I.dataKey]=U)}}),Object.keys(M).length>0?M:null}function S(k,E){if(k==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(k==="foot"&&typeof E=="object")return E.footer;return null}function T(k){return k.map(function(E,M){var I,U,O;return typeof E=="object"?O=(U=(I=E.dataKey)!==null&&I!==void 0?I:E.key)!==null&&U!==void 0?U:M:O=M,new f.Column(O,E,M)})}function C(k,E,M,I,U,O,D){var $=(0,p.getTheme)(I),F;k==="head"?F=U.headStyles:k==="body"?F=U.bodyStyles:k==="foot"&&(F=U.footStyles);var G=(0,v.assign)({},$.table,$[k],U.styles,F),R=U.columnStyles[E.dataKey]||U.columnStyles[E.index]||{},B=k==="body"?R:{},W=k==="body"&&M%2===0?(0,v.assign)({},$.alternateRow,U.alternateRowStyles):{},K=(0,p.defaultStyles)(O),Z=(0,v.assign)({},K,G,W,B);return(0,v.assign)(Z,D)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),h=u(744),p=u(356),v=u(136),b=u(224);function w(R,B){var W=B.settings,K=W.startY,Z=W.margin,se={x:Z.left,y:K},L=B.getHeadHeight(B.columns)+B.getFootHeight(B.columns),z=K+Z.bottom+L;if(W.pageBreak==="avoid"){var Q=B.body,te=Q.reduce(function(Ae,V){return Ae+V.height},0);z+=te}var ie=new h.DocHandler(R);(W.pageBreak==="always"||W.startY!=null&&z>ie.pageSize().height)&&(G(ie),se.y=Z.top),B.callWillDrawPageHooks(ie,se);var me=(0,p.assign)({},se);B.startPageNumber=ie.pageNumber(),W.horizontalPageBreak?y(ie,B,me,se):(ie.applyStyles(ie.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&B.head.forEach(function(Ae){return U(ie,B,Ae,se,B.columns)}),ie.applyStyles(ie.userStyles),B.body.forEach(function(Ae,V){var le=V===B.body.length-1;I(ie,B,Ae,le,me,se,B.columns)}),ie.applyStyles(ie.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&B.foot.forEach(function(Ae){return U(ie,B,Ae,se,B.columns)})),(0,c.addTableBorder)(ie,B,me,se),B.callEndPageHooks(ie,se),B.finalY=se.y,R.lastAutoTable=B,R.previousAutoTable=B,R.autoTable&&(R.autoTable.previous=B),ie.applyStyles(ie.userStyles)}l.drawTable=w;function y(R,B,W,K){var Z=(0,b.calculateAllColumnsCanFitInPage)(R,B),se=B.settings;if(se.horizontalPageBreakBehaviour==="afterAllRows")Z.forEach(function(te,ie){R.applyStyles(R.userStyles),ie>0?F(R,B,W,K,te.columns,!0):x(R,B,K,te.columns),S(R,B,W,K,te.columns),C(R,B,K,te.columns)});else for(var L=-1,z=Z[0],Q=function(){var te=L;if(z){R.applyStyles(R.userStyles);var ie=z.columns;L>=0?F(R,B,W,K,ie,!0):x(R,B,K,ie),te=T(R,B,L+1,K,ie),C(R,B,K,ie)}var me=te-L;Z.slice(1).forEach(function(Ae){R.applyStyles(R.userStyles),F(R,B,W,K,Ae.columns,!0),T(R,B,L+1,K,Ae.columns,me),C(R,B,K,Ae.columns)}),L=te};L<B.body.length-1;)Q()}function x(R,B,W,K){var Z=B.settings;R.applyStyles(R.userStyles),(Z.showHead==="firstPage"||Z.showHead==="everyPage")&&B.head.forEach(function(se){return U(R,B,se,W,K)})}function S(R,B,W,K,Z){R.applyStyles(R.userStyles),B.body.forEach(function(se,L){var z=L===B.body.length-1;I(R,B,se,z,W,K,Z)})}function T(R,B,W,K,Z,se){R.applyStyles(R.userStyles),se=se??B.body.length;var L=Math.min(W+se,B.body.length),z=-1;return B.body.slice(W,L).forEach(function(Q,te){var ie=W+te===B.body.length-1,me=$(R,B,ie,K);Q.canEntireRowFit(me,Z)&&(U(R,B,Q,K,Z),z=W+te)}),z}function C(R,B,W,K){var Z=B.settings;R.applyStyles(R.userStyles),(Z.showFoot==="lastPage"||Z.showFoot==="everyPage")&&B.foot.forEach(function(se){return U(R,B,se,W,K)})}function k(R,B,W){var K=W.getLineHeight(R.styles.fontSize),Z=R.padding("vertical"),se=Math.floor((B-Z)/K);return Math.max(0,se)}function E(R,B,W,K){var Z={};R.spansMultiplePages=!0,R.height=0;for(var se=0,L=0,z=W.columns;L<z.length;L++){var Q=z[L],te=R.cells[Q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var ie=new f.Cell(te.raw,te.styles,te.section);ie=(0,p.assign)(ie,te),ie.text=[];var me=k(te,B,K);te.text.length>me&&(ie.text=te.text.splice(me,te.text.length));var Ae=K.scaleFactor(),V=K.getLineHeightFactor();te.contentHeight=te.getContentHeight(Ae,V),te.contentHeight>=B&&(te.contentHeight=B,ie.styles.minCellHeight-=B),te.contentHeight>R.height&&(R.height=te.contentHeight),ie.contentHeight=ie.getContentHeight(Ae,V),ie.contentHeight>se&&(se=ie.contentHeight),Z[Q.index]=ie}}var le=new f.Row(R.raw,-1,R.section,Z,!0);le.height=se;for(var ce=0,ue=W.columns;ce<ue.length;ce++){var Q=ue[ce],ie=le.cells[Q.index];ie&&(ie.height=le.height);var te=R.cells[Q.index];te&&(te.height=R.height)}return le}function M(R,B,W,K){var Z=R.pageSize().height,se=K.settings.margin,L=se.top+se.bottom,z=Z-L;B.section==="body"&&(z-=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns));var Q=B.getMinimumRowHeight(K.columns,R),te=Q<W;if(Q>z)return console.error("Will not be able to print row ".concat(B.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var ie=B.hasRowSpan(K.columns),me=B.getMaxCellHeight(K.columns)>z;return me?(ie&&console.error("The content of row ".concat(B.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ie||K.settings.rowPageBreak==="avoid")}function I(R,B,W,K,Z,se,L){var z=$(R,B,K,se);if(W.canEntireRowFit(z,L))U(R,B,W,se,L);else if(M(R,W,z,B)){var Q=E(W,z,B,R);U(R,B,W,se,L),F(R,B,Z,se,L),I(R,B,Q,K,Z,se,L)}else F(R,B,Z,se,L),I(R,B,W,K,Z,se,L)}function U(R,B,W,K,Z){K.x=B.settings.margin.left;for(var se=0,L=Z;se<L.length;se++){var z=L[se],Q=W.cells[z.index];if(!Q){K.x+=z.width;continue}R.applyStyles(Q.styles),Q.x=K.x,Q.y=K.y;var te=B.callCellHooks(R,B.hooks.willDrawCell,Q,W,z,K);if(te===!1){K.x+=z.width;continue}O(R,Q,K);var ie=Q.getTextPos();(0,v.default)(Q.text,ie.x,ie.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},R.getDocument()),B.callCellHooks(R,B.hooks.didDrawCell,Q,W,z,K),K.x+=z.width}K.y+=W.height}function O(R,B,W){var K=B.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof K.lineWidth=="number"){var Z=(0,c.getFillStyle)(K.lineWidth,K.fillColor);Z&&R.rect(B.x,W.y,B.width,B.height,Z)}else typeof K.lineWidth=="object"&&(K.fillColor&&R.rect(B.x,W.y,B.width,B.height,"F"),D(R,B,W,K.lineWidth))}function D(R,B,W,K){var Z,se,L,z;K.top&&(Z=W.x,se=W.y,L=W.x+B.width,z=W.y,K.right&&(L+=.5*K.right),K.left&&(Z-=.5*K.left),Q(K.top,Z,se,L,z)),K.bottom&&(Z=W.x,se=W.y+B.height,L=W.x+B.width,z=W.y+B.height,K.right&&(L+=.5*K.right),K.left&&(Z-=.5*K.left),Q(K.bottom,Z,se,L,z)),K.left&&(Z=W.x,se=W.y,L=W.x,z=W.y+B.height,K.top&&(se-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.left,Z,se,L,z)),K.right&&(Z=W.x+B.width,se=W.y,L=W.x+B.width,z=W.y+B.height,K.top&&(se-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.right,Z,se,L,z));function Q(te,ie,me,Ae,V){R.getDocument().setLineWidth(te),R.getDocument().line(ie,me,Ae,V,"S")}}function $(R,B,W,K){var Z=B.settings.margin.bottom,se=B.settings.showFoot;return(se==="everyPage"||se==="lastPage"&&W)&&(Z+=B.getFootHeight(B.columns)),R.pageSize().height-K.y-Z}function F(R,B,W,K,Z,se){Z===void 0&&(Z=[]),se===void 0&&(se=!1),R.applyStyles(R.userStyles),B.settings.showFoot==="everyPage"&&!se&&B.foot.forEach(function(z){return U(R,B,z,K,Z)}),B.callEndPageHooks(R,K);var L=B.settings.margin;(0,c.addTableBorder)(R,B,W,K),G(R),B.pageNumber++,B.pageCount++,K.x=L.left,K.y=L.top,W.y=L.top,B.callWillDrawPageHooks(R,K),B.settings.showHead==="everyPage"&&(B.head.forEach(function(z){return U(R,B,z,K,Z)}),R.applyStyles(R.userStyles))}l.addPage=F;function G(R){var B=R.pageNumber();R.setPage(B+1);var W=R.pageNumber();return W===B?(R.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(p,v,b){var w;b===void 0&&(b={});var y=(0,c.getPageAvailableWidth)(p,v),x=new Map,S=[],T=[],C=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?C=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(C=[v.settings.horizontalPageBreakRepeat]),C.forEach(function(I){var U=v.columns.find(function(O){return O.dataKey===I||O.index===I});U&&!x.has(U.index)&&(x.set(U.index,!0),S.push(U.index),T.push(v.columns[U.index]),y-=U.wrappedWidth)});for(var k=!0,E=(w=b==null?void 0:b.start)!==null&&w!==void 0?w:0;E<v.columns.length;){if(x.has(E)){E++;continue}var M=v.columns[E].wrappedWidth;if(k||y>=M)k=!1,S.push(E),T.push(v.columns[E]),y-=M;else break;E++}return{colIndexes:S,columns:T,lastIndex:E-1}}function h(p,v){for(var b=[],w=0;w<v.columns.length;w++){var y=f(p,v,{start:w});y.columns.length&&(b.push(y),w=y.lastIndex)}return b}l.calculateAllColumnsCanFitInPage=h},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(S,T){h(S,T);var C=[],k=0;T.columns.forEach(function(M){var I=M.getMaxCustomCellWidth(T);I?M.width=I:(M.width=M.wrappedWidth,C.push(M)),k+=M.width});var E=T.getWidth(S.pageSize().width)-k;E&&(E=p(C,E,function(M){return Math.max(M.minReadableWidth,M.minWidth)})),E&&(E=p(C,E,function(M){return M.minWidth})),E=Math.abs(E),!T.settings.horizontalPageBreak&&E>.1/S.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),b(T),w(T,S),v(T)}l.calculateWidths=f;function h(S,T){var C=S.scaleFactor(),k=T.settings.horizontalPageBreak,E=(0,c.getPageAvailableWidth)(S,T);T.allRows().forEach(function(M){for(var I=0,U=T.columns;I<U.length;I++){var O=U[I],D=M.cells[O.index];if(D){var $=T.hooks.didParseCell;T.callCellHooks(S,$,D,M,O,null);var F=D.padding("horizontal");D.contentWidth=(0,c.getStringWidth)(D.text,D.styles,S)+F;var G=(0,c.getStringWidth)(D.text.join(" ").split(/[^\S\u00A0]+/),D.styles,S);if(D.minReadableWidth=G+D.padding("horizontal"),typeof D.styles.cellWidth=="number")D.minWidth=D.styles.cellWidth,D.wrappedWidth=D.styles.cellWidth;else if(D.styles.cellWidth==="wrap"||k===!0)D.contentWidth>E?(D.minWidth=E,D.wrappedWidth=E):(D.minWidth=D.contentWidth,D.wrappedWidth=D.contentWidth);else{var R=10/C;D.minWidth=D.styles.minCellWidth||R,D.wrappedWidth=D.contentWidth,D.minWidth>D.wrappedWidth&&(D.wrappedWidth=D.minWidth)}}}}),T.allRows().forEach(function(M){for(var I=0,U=T.columns;I<U.length;I++){var O=U[I],D=M.cells[O.index];if(D&&D.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,D.wrappedWidth),O.minWidth=Math.max(O.minWidth,D.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,D.minReadableWidth);else{var $=T.styles.columnStyles[O.dataKey]||T.styles.columnStyles[O.index]||{},F=$.cellWidth||$.minCellWidth;F&&typeof F=="number"&&(O.minWidth=F,O.wrappedWidth=F)}D&&(D.colSpan>1&&!O.minWidth&&(O.minWidth=D.minWidth),D.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=D.minWidth))}})}function p(S,T,C){for(var k=T,E=S.reduce(function(R,B){return R+B.wrappedWidth},0),M=0;M<S.length;M++){var I=S[M],U=I.wrappedWidth/E,O=k*U,D=I.width+O,$=C(I),F=D<$?$:D;T-=F-I.width,I.width=F}if(T=Math.round(T*1e10)/1e10,T){var G=S.filter(function(R){return T<0?R.width>C(R):!0});G.length&&(T=p(G,T,C))}return T}l.resizeColumns=p;function v(S){for(var T={},C=1,k=S.allRows(),E=0;E<k.length;E++)for(var M=k[E],I=0,U=S.columns;I<U.length;I++){var O=U[I],D=T[O.index];if(C>1)C--,delete M.cells[O.index];else if(D)D.cell.height+=M.height,C=D.cell.colSpan,delete M.cells[O.index],D.left--,D.left<=1&&delete T[O.index];else{var $=M.cells[O.index];if(!$)continue;if($.height=M.height,$.rowSpan>1){var F=k.length-E,G=$.rowSpan>F?F:$.rowSpan;T[O.index]={cell:$,left:G,row:M}}}}}function b(S){for(var T=S.allRows(),C=0;C<T.length;C++)for(var k=T[C],E=null,M=0,I=0,U=0;U<S.columns.length;U++){var O=S.columns[U];if(I-=1,I>1&&S.columns[U+1])M+=O.width,delete k.cells[O.index];else if(E){var D=E;delete k.cells[O.index],E=null,D.width=O.width+M}else{var D=k.cells[O.index];if(!D)continue;if(I=D.colSpan,M=0,D.colSpan>1){E=D,M+=O.width;continue}D.width=O.width+M}}}function w(S,T){for(var C={count:0,height:0},k=0,E=S.allRows();k<E.length;k++){for(var M=E[k],I=0,U=S.columns;I<U.length;I++){var O=U[I],D=M.cells[O.index];if(D){T.applyStyles(D.styles,!0);var $=D.width-D.padding("horizontal");if(D.styles.overflow==="linebreak")D.text=T.splitTextToSize(D.text,$+1/T.scaleFactor(),{fontSize:D.styles.fontSize});else if(D.styles.overflow==="ellipsize")D.text=y(D.text,$,D.styles,T,"...");else if(D.styles.overflow==="hidden")D.text=y(D.text,$,D.styles,T,"");else if(typeof D.styles.overflow=="function"){var F=D.styles.overflow(D.text,$);typeof F=="string"?D.text=[F]:D.text=F}D.contentHeight=D.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var G=D.contentHeight/D.rowSpan;D.rowSpan>1&&C.count*C.height<G*D.rowSpan?C={height:G,count:D.rowSpan}:C&&C.count>0&&C.height>G&&(G=C.height),G>M.height&&(M.height=G)}}C.count--}}function y(S,T,C,k,E){return S.map(function(M){return x(M,T,C,k,E)})}l.ellipsize=y;function x(S,T,C,k,E){var M=1e4*k.scaleFactor();if(T=Math.ceil(T*M)/M,T>=(0,c.getStringWidth)(S,C,k))return S;for(;T<(0,c.getStringWidth)(S+E,C,k)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+E}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),h=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return h.Table}});var p=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var v=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return v.Row}});function b(T){(0,l.default)(T)}s.applyPlugin=b;function w(T,C){var k=(0,u.parseInput)(T,C),E=(0,f.createTable)(T,k);(0,c.drawTable)(T,E)}function y(T,C){var k=(0,u.parseInput)(T,C);return(0,f.createTable)(T,k)}s.__createTable=y;function x(T,C){(0,c.drawTable)(T,C)}s.__drawTable=x;try{var S=a(964);S.jsPDF&&(S=S.jsPDF),b(S)}catch{}s.default=w}(),o}()})})(jI);var TZ=jI.exports;const A0=Jt(TZ),C1="data:application/font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAAAAQAAAAIAAAGDAAAAAAFT1MvMg8SDzQAAAZgAAAAYGNtYXABDQGXAAAIJAAAAOpnYXNw//8AAwAAGYQAAAAIZ2x5ZgscA3UAABmUAAE4YGhlYWQG41YJAAA8ZAAAADZoaGVhA+IB6AAAAD3sAAAAJGhtdHgAewYIAAABQAAAALRsb2NhAIwBqAAAE0gAAAFQbWF4cAIgA2gAAD4UAAAAIG5hbWXLh+9IAAAR0AAAAYdwb3N0/5wAMQAAFUgAAAAgcHJlcGgGjIUDAAAY/AAAAFMAAQAAAAEAAC7a32BfDzz1AAsEAAAAAADbB8BSAAAAANsHwFIAAAAAAIAAAACAAAAAwAAABQAAwABAAAAFAAEAEAAAAAMAAgAAgAEAAEAIOkB//8AAOkg///+8wDsAPAAAwAAAAAAAAECAAAAAAAAAAAAAAICAAUAAAAAAAAAAAAAAAACAAEAAgAGAAgAAwABBAkAAQACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAIAAwABBAkAAgACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAgAAAAAAAAAAAACACgAAAAAAAoAP8AwADgAAAAAAAAAAAAAAMwAZAAAAAAAAABkAUAAAAAAAAAAAAAAAACQAZAAAAAAAAAAQADgAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAUAFQAAAAAAAAAAAAAABgAYAAAAAAAAAAAAAAAHABsAAAAAAAAAAAAAAAgAIAAAAAAAAAAAAAAACQAhAAAAAAAAAAAAAAAKACMAAAAAAAAAAAAAAAsAKgAAAAAAAAAAAAAADAAqAAAAAAAAAAAAAAANACwAAAAAAAAAAAAAAA4ALgAAAAAAAAAAAAAADwAvAAAAAAAAAAAAAAABAAAADgAAAAAAAAAAAAAAAQAIAAIAAAAAAAAAAgAAAAEAAQABAAAAAgAAAAIAAgABAAIAAgACAAEAAgACAAIAAgACAAEAAwACAAQAAwACAAQABQADAAYAAgAHAAkABQAIAAgACQAJAAoACQALAAkADAAJAA0ACQAOAAkADwAJABAACQARAAkAEgAJABMACQAUAAkAFQAJABYACQAXAAkAGAACABkACgAaAAoAGwAKABwACgAdAAoAHgAKAB8ACgAgAAoAIQAKACQAKgAlACoAJgAqACcAKgAoACoAKQAqACoAKgArACoALAAsAC0ALAAuACwALwAsADAALAAxACwAMgAsADMALAA0ACwANQAsADYALAA3ACwAOAAsADkALAA6ACwAOwAsADwALAA9ACwAPgAsAD8ALAA/ACwAQAB/AEIAfwBDAH8ARAB/AEUAfwBGAH8ARwB/AEgAQQBBAEIAQQBDAEEARABBAEUAQQBGAEEARwBBAEgAQgBIAEMASABEAEMASQBGAEcASABHAEgASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBsAG0AbgBvAHAAcQByAHMAdAB1AGMAAAAABgADAPgACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAdG9wZQAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAMjAwMjAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAACAAQAAAPgA8AD8ARABIAFoAYABqAHQAgACSAKwAwADcAOwA8AEAARgBKAE4AUQBXAFsAXgBiAGcAbQBzAHkAfACKAJYAnQCqAK8AsgC4ALsAxADFAMcAzgDQANUA2ADbAN8A4wDnAPcA+gD/AQUA7QDvAPEA8wD1APgA+wD9AP8BBAEEAQwBFQEaASQBKwEyATYBOgE+AUIDQgNGA0oDTgNSA1YDWgNeA2IDZgNqA24DcQN2A3kDfgOAA4QDiAOOA5IDlAOYA5wDoAOmA6oDrgOyA7YDuwPCA8YDyQPOBAAECgQWBBwEIgQoBDIEOgRABEYEUARWBFwEZAQAAAQAAAAAAAAAAAAAAAAAB/8AAQAHAAABAAAAAAAAAAAAAAAAABoBAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAABAAADAPgAAwADAPgAAQADAPgABQADAPgA//8ABQAAAAAAAAACAAYAAAAUAAEAAAABAAIAAAAAAAAAAQAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-Regular.ttf",m0=(t,e)=>{try{if(!C1||!C1.includes(","))throw new Error("Invalid font data URI");const n=C1.split(",")[1];t.addFileToVFS("Amiri-Regular.ttf",n),t.addFont("Amiri-Regular.ttf","Amiri","normal"),t.setFont("Amiri")}catch(n){console.error("Error loading custom font for PDF, falling back to default.",n),t.setFont("helvetica")}},Ha=(t,e,n,r,i,a)=>{if(n.length===0){alert(a);return}const o=new ut;m0(o),o.setFontSize(18);const s=o.internal.pageSize.getWidth();o.text(t,s/2,20,{align:"center"}),A0(o,{head:[e],body:n,startY:30,theme:"grid",styles:{font:"Amiri",halign:i==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}});const l=new Date().toLocaleDateString(i.split("-")[0]);o.save(`${r}_${l}.pdf`)},eg=(t,e,n)=>{const r=new Date;let i=null,a=new Date;switch(a.setHours(23,59,59,999),e){case"today":i=new Date(r.setHours(0,0,0,0));break;case"week":i=new Date(r),i.setDate(r.getDate()-r.getDay()+(r.getDay()===0?-6:1)),i.setHours(0,0,0,0);break;case"month":i=new Date(r.getFullYear(),r.getMonth(),1);break;case"custom":i=n.start?new Date(n.start):null,a=n.end?new Date(n.end):null,i&&i.setHours(0,0,0,0),a&&a.setHours(23,59,59,999);break;default:return t}return t.filter(o=>{const s=new Date(o.date),l=i?s>=i:!0,u=a?s<=a:!0;return l&&u})},CZ=({variant:t,product:e,onDone:n,t:r})=>(re.useEffect(()=>{const i=()=>{window.removeEventListener("afterprint",i),n()};window.addEventListener("afterprint",i);const a=setTimeout(()=>{i()},500);return window.print(),()=>{clearTimeout(a),window.removeEventListener("afterprint",i)}},[n]),t.barcode?m.jsx("div",{id:"printable-barcode",className:"p-2 bg-white text-black font-sans",style:{width:"80mm",height:"40mm",boxSizing:"border-box"},children:m.jsxs("div",{className:"border border-black p-2 h-full flex flex-col justify-between items-center text-center",children:[m.jsxs("div",{className:"w-full",children:[m.jsx("p",{className:"font-bold text-lg truncate",children:e.name}),m.jsx("p",{className:"text-sm truncate",children:t.name})]}),m.jsxs("div",{className:"w-full my-1",children:[m.jsx("div",{className:"flex justify-center items-end h-10 overflow-hidden",children:t.barcode.split("").map((i,a)=>m.jsx("div",{className:"bg-black",style:{width:`${parseInt(i,16)%3+1}px`,height:`${parseInt(i,16)%40+40}%`}},a))}),m.jsx("p",{className:"font-mono tracking-widest text-lg mt-1",children:t.barcode})]}),m.jsxs("p",{className:"font-extrabold text-xl",children:[t.price.toFixed(2)," DH"]})]})}):null),NZ=({product:t,variants:e,onClose:n,onSave:r,t:i})=>{const[a,o]=re.useState(""),[s,l]=re.useState(1),[u,c]=re.useState(0),[f,h]=re.useState(0);re.useEffect(()=>{e.length===1&&o(e[0].id)},[e]),re.useEffect(()=>{const v=e.find(b=>b.id===a);v?(c(v.purchasePrice),h(v.price),l(1)):(c(0),h(0),l(1))},[a,e]);const p=v=>{if(v.preventDefault(),!a||s===""||s<=0||u===""||u<0||f===""||f<=0){alert(i("fillAllFieldsError"));return}if(f<=u){alert(i("sellingPriceMustBeHigherError"));return}r({variantId:a,quantity:s,purchasePrice:u,sellingPrice:f})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:i("addStockFor",{name:t.name})}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"variant",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("variant")}),m.jsxs("select",{id:"variant",value:a,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,children:[m.jsx("option",{value:"",disabled:!0,children:i("selectVariant")}),e.map(v=>m.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("quantityToAdd")}),m.jsx("input",{id:"quantity",type:"number",value:s,onChange:v=>l(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("purchasePrice")}),m.jsx("input",{id:"purchasePrice",type:"number",value:u,onChange:v=>c(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"sellingPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("sellingPrice")}),m.jsx("input",{id:"sellingPrice",type:"number",value:f,onChange:v=>h(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{type:"submit",disabled:!a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400 dark:disabled:bg-slate-500",children:i("save")})]})]})]})})},N1=20,EZ=({storeId:t,products:e,variants:n,suppliers:r,categories:i,stockMap:a,addProduct:o,updateProduct:s,deleteProduct:l,addStockToVariant:u,t:c,language:f})=>{const[h,p]=re.useState(!1),[v,b]=re.useState(null),[w,y]=re.useState(null),[x,S]=re.useState(""),[T,C]=re.useState(""),[k,E]=re.useState(""),[M,I]=re.useState(""),[U,O]=re.useState([]),[D,$]=re.useState([]),[F,G]=re.useState(""),[R,B]=re.useState(null),[W,K]=re.useState({}),Z=re.useMemo(()=>{const Ne=new Map;return n.forEach(Ee=>{const xe=Ne.get(Ee.productId)||[];xe.push(Ee),Ne.set(Ee.productId,xe)}),Ne},[n]),se=re.useMemo(()=>{if(!F)return e;const Ne=F.toLowerCase(),Ee=new Set(e.filter(Pe=>Pe.name.toLowerCase().includes(Ne)).map(Pe=>Pe.id)),xe=new Set(i.filter(Pe=>Pe.name.toLowerCase().includes(Ne)).map(Pe=>Pe.id));return e.filter(Pe=>Ee.has(Pe.id)||Pe.categoryId&&xe.has(Pe.categoryId))},[F,e,i]);re.useEffect(()=>{if(F){const Ne=new Set(se.map(Ee=>Ee.categoryId||"uncategorized"));$(Array.from(Ne))}else $([]);K({})},[F,se]);const L=Ne=>{$(Ee=>Ee.includes(Ne)?Ee.filter(xe=>xe!==Ne):[...Ee,Ne])},z=()=>{p(!1),b(null),S(""),C(""),E(""),I(""),O([]);const Ne=document.getElementById("productImageFile");Ne&&(Ne.value="")},Q=Ne=>{var Ee;p(!0),b(Ne),S(Ne.name),C(Ne.categoryId||""),E(Ne.supplierId||""),I(Ne.image),O(((Ee=Z.get(Ne.id))==null?void 0:Ee.map(xe=>({...xe,priceSemiWholesale:xe.priceSemiWholesale||0,priceWholesale:xe.priceWholesale||0,stockQuantity:a.get(xe.id)||0})))||[]),window.scrollTo({top:0,behavior:"smooth"})},te=Ne=>{if(Ne.target.files&&Ne.target.files[0]){const Ee=Ne.target.files[0],xe=new FileReader;xe.onloadend=()=>I(xe.result),xe.readAsDataURL(Ee)}},ie=(Ne,Ee,xe)=>{const Pe=[...U];Pe[Ne][Ee]=xe,O(Pe)},me=(Ne,Ee)=>{if(Ee.target.files&&Ee.target.files[0]){const xe=Ee.target.files[0],Pe=new FileReader;Pe.onloadend=()=>{const be=[...U];be[Ne].image=Pe.result,O(be)},Pe.readAsDataURL(xe)}},Ae=()=>{O([...U,{name:"",price:0,priceSemiWholesale:0,priceWholesale:0,purchasePrice:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:0}])},V=Ne=>{O(U.filter((Ee,xe)=>xe!==Ne))},le=async Ne=>{if(Ne.preventDefault(),!x||U.length===0){alert(c("fillNameAndPriceError"));return}for(const Ee of U){if(!Ee.name||Ee.price<=0){alert(c("fillNameAndPriceError"));return}if(Ee.price<=Ee.purchasePrice){alert(c("sellingPriceMustBeHigherError"));return}}if(h&&v){const Ee={...v,name:x,categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`};await s(Ee,U)}else{const Ee={storeId:t,name:x,type:"good",categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`,createdAt:new Date().toISOString()},xe=U.map(({stockQuantity:Pe,...be})=>be);await o(Ee,xe)}z()},ce=async Ne=>{window.confirm(c("confirmProductDelete"))&&await l(Ne)},ue=()=>{const Ne=[c("productName"),c("variantName"),c("price"),c("purchasePrice"),c("stock"),c("barcode"),c("category"),c("supplier")],Ee=n.map(xe=>{var be,ke;const Pe=e.find(ye=>ye.id===xe.productId);return[(Pe==null?void 0:Pe.name)||"N/A",xe.name,xe.price,xe.purchasePrice,a.get(xe.id)||0,xe.barcode||"N/A",((be=i.find(ye=>ye.id===(Pe==null?void 0:Pe.categoryId)))==null?void 0:be.name)||"N/A",((ke=r.find(ye=>ye.id===(Pe==null?void 0:Pe.supplierId)))==null?void 0:ke.name)||"N/A"]});Ha(c("productList"),Ne,Ee,"products_with_variants",f,c("noDataToExport"))},Me=async Ne=>{w&&(await u({...Ne,supplierId:w.supplierId}),y(null))},Le=R?e.find(Ne=>Ne.id===R.productId):null,Ce=Ne=>Ne.map(Ee=>{const xe=Z.get(Ee.id)||[];return m.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[m.jsxs("div",{className:"flex items-center gap-3 md:col-span-5",children:[m.jsx("img",{src:Ee.image,alt:Ee.name,className:"w-12 h-12 object-cover rounded-md bg-gray-200"}),m.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:Ee.name})]}),m.jsx("div",{className:"md:col-span-5",children:xe.length>0?m.jsxs("details",{children:[m.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-teal-700 dark:text-teal-400",children:[xe.length," ",c("variants")]}),m.jsx("ul",{className:"mt-2 space-y-2",children:xe.map(Pe=>m.jsxs("li",{className:"flex items-center gap-3 text-xs p-1 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[m.jsx("img",{src:Pe.image,alt:Pe.name,className:"w-8 h-8 rounded-md object-cover bg-gray-200"}),m.jsx("span",{className:"flex-grow font-semibold text-slate-600 dark:text-slate-300",children:Pe.name}),m.jsxs("span",{className:"font-mono text-cyan-700 dark:text-cyan-400",children:[Pe.price.toFixed(2)," DH"]}),m.jsxs("span",{className:`px-2 py-0.5 font-medium rounded-full text-xs ${(a.get(Pe.id)||0)>Pe.lowStockThreshold?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[c("stock"),": ",a.get(Pe.id)||0]}),Pe.barcode&&m.jsx("button",{onClick:()=>B(Pe),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:c("printBarcodeLabel"),children:m.jsx(kD,{className:"w-5 h-5"})})]},Pe.id))})]}):m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:c("noVariants")})}),m.jsxs("div",{className:"flex items-center gap-2 justify-end md:col-span-2",children:[m.jsx("button",{onClick:()=>y(Ee),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:c("addStock"),children:m.jsx(vl,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Q(Ee),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Bv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>ce(Ee.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(oi,{className:"w-5 h-5"})})]})]},Ee.id)}),ae=(Ne,Ee)=>{const xe=Ne.length;if(xe===0&&Ee==="uncategorized")return null;if(xe===0)return m.jsx("p",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:c("noProductsInCategory")});const Pe=W[Ee]||1,be=Math.ceil(xe/N1),ke=(Pe-1)*N1,ye=ke+N1,Ve=Ne.slice(ke,ye),Ge=ot=>{ot<1||ot>be||K(ze=>({...ze,[Ee]:ot}))};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Ce(Ve)}),be>1&&m.jsxs("div",{className:"p-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[m.jsx("button",{onClick:()=>Ge(Pe-1),disabled:Pe===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("previous"),children:m.jsx(RA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",Pe," / ",be]}),m.jsx("button",{onClick:()=>Ge(Pe+1),disabled:Pe===be,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("next"),children:m.jsx(Sd,{className:"w-5 h-5"})})]})]})};return m.jsxs("div",{className:"space-y-6",children:[R&&Le&&m.jsx(CZ,{variant:R,product:Le,onDone:()=>B(null),t:c}),w&&m.jsx(NZ,{product:w,variants:Z.get(w.id)||[],onClose:()=>y(null),onSave:Me,t:c}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:c(h?"editProduct":"addNewProduct")}),h&&m.jsx("button",{onClick:z,className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:c("cancel")})]}),m.jsxs("form",{onSubmit:le,className:"space-y-6",children:[m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:c("productInfo")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${c("productImagePreview")}`,alt:c("productImagePreview"),className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",id:"productImageFile",accept:"image/*",onChange:te,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("productName")}),m.jsx("input",{type:"text",value:x,onChange:Ne=>S(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:c("productNamePlaceholder"),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("category")}),m.jsxs("select",{value:T,onChange:Ne=>C(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectCategory")}),i.map(Ne=>m.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("supplier")}),m.jsxs("select",{value:k,onChange:Ne=>E(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectSupplier")}),r.map(Ne=>m.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]})]})]})]}),m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:c("productVariants")}),m.jsxs("button",{type:"button",onClick:Ae,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(vl,{className:"w-5 h-5"}),c("addVariant")]})]}),m.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:U.map((Ne,Ee)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 relative",children:[m.jsx("button",{type:"button",onClick:()=>V(Ee),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:m.jsx(oi,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:Ne.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${c("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:xe=>me(Ee,xe),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("variantName")}),m.jsx("input",{type:"text",value:Ne.name,onChange:xe=>ie(Ee,"name",xe.target.value),placeholder:c("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("purchasePrice")}),m.jsx("input",{type:"number",value:Ne.purchasePrice,onChange:xe=>ie(Ee,"purchasePrice",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("sellingPrice")}),m.jsx("input",{type:"number",value:Ne.price,onChange:xe=>ie(Ee,"price",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("semiWholesalePrice")}),m.jsx("input",{type:"number",value:Ne.priceSemiWholesale||"",onChange:xe=>ie(Ee,"priceSemiWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("wholesalePrice")}),m.jsx("input",{type:"number",value:Ne.priceWholesale||"",onChange:xe=>ie(Ee,"priceWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("stockQuantity")}),m.jsx("input",{type:"number",value:Ne.stockQuantity,onChange:xe=>ie(Ee,"stockQuantity",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("lowStockThreshold")}),m.jsx("input",{type:"number",value:Ne.lowStockThreshold,onChange:xe=>ie(Ee,"lowStockThreshold",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.5"})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("barcode")}),m.jsx("input",{type:"text",value:Ne.barcode||"",onChange:xe=>ie(Ee,"barcode",xe.target.value),placeholder:c("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]})]})]})]},Ee))})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg",children:c(h?"saveChanges":"saveProduct")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("productList")}),m.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[m.jsxs("button",{onClick:()=>{z(),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(vl,{className:"w-4 h-4"})," ",c("addNewProduct")]}),m.jsxs("div",{className:"relative flex-grow",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center pl-3 rtl:pl-0 rtl:pr-3 pointer-events-none",children:m.jsx(Aq,{className:"w-5 h-5 text-slate-400"})}),m.jsx("input",{type:"text",placeholder:c("searchProducts"),value:F,onChange:Ne=>G(Ne.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 rtl:pr-10 rtl:pl-4 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-2 focus:ring-teal-500 transition"})]}),m.jsxs("button",{onClick:ue,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",c("exportToPdf")]})]})]}),m.jsxs("div",{className:"mt-6 space-y-3",children:[i.map(Ne=>{const Ee=se.filter(Pe=>Pe.categoryId===Ne.id);if(Ee.length===0)return null;const xe=D.includes(Ne.id);return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>L(Ne.id),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":xe,"aria-controls":`category-panel-${Ne.id}`,children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[Ne.name," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ee.length,")"]})]}),m.jsx(rN,{className:`w-6 h-6 text-slate-500 transition-transform ${xe?"rotate-180":""}`})]}),xe&&m.jsx("div",{id:`category-panel-${Ne.id}`,children:ae(Ee,Ne.id)})]},Ne.id)}),(()=>{const Ne=se.filter(xe=>!xe.categoryId);if(Ne.length===0)return null;const Ee=D.includes("uncategorized");return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>L("uncategorized"),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":Ee,"aria-controls":"category-panel-uncategorized",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[c("uncategorized")," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ne.length,")"]})]}),m.jsx(rN,{className:`w-6 h-6 text-slate-500 transition-transform ${Ee?"rotate-180":""}`})]}),Ee&&m.jsx("div",{id:"category-panel-uncategorized",children:ae(Ne,"uncategorized")})]})})(),e.length>0&&se.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noResultsFound")}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noProductsAdded")})]})]})]})};function LI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LI(t))&&(r&&(r+=" "),r+=e);return r}var kZ=Array.isArray,Ci=kZ,PZ=typeof Ar=="object"&&Ar&&Ar.Object===Object&&Ar,RI=PZ,MZ=RI,OZ=typeof self=="object"&&self&&self.Object===Object&&self,DZ=MZ||OZ||Function("return this")(),_o=DZ,IZ=_o,jZ=IZ.Symbol,$A=jZ,KE=$A,FI=Object.prototype,LZ=FI.hasOwnProperty,RZ=FI.toString,Dh=KE?KE.toStringTag:void 0;function FZ(t){var e=LZ.call(t,Dh),n=t[Dh];try{t[Dh]=void 0;var r=!0}catch{}var i=RZ.call(t);return r&&(e?t[Dh]=n:delete t[Dh]),i}var $Z=FZ,BZ=Object.prototype,UZ=BZ.toString;function qZ(t){return UZ.call(t)}var HZ=qZ,JE=$A,zZ=$Z,VZ=HZ,GZ="[object Null]",WZ="[object Undefined]",XE=JE?JE.toStringTag:void 0;function YZ(t){return t==null?t===void 0?WZ:GZ:XE&&XE in Object(t)?zZ(t):VZ(t)}var As=YZ;function KZ(t){return t!=null&&typeof t=="object"}var ms=KZ,JZ=As,XZ=ms,QZ="[object Symbol]";function ZZ(t){return typeof t=="symbol"||XZ(t)&&JZ(t)==QZ}var Ed=ZZ,eee=Ci,tee=Ed,nee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ree=/^\w*$/;function iee(t,e){if(eee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||tee(t)?!0:ree.test(t)||!nee.test(t)||e!=null&&t in Object(e)}var PS=iee;function aee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Il=aee;const kd=Jt(Il);var oee=As,see=Il,lee="[object AsyncFunction]",uee="[object Function]",cee="[object GeneratorFunction]",fee="[object Proxy]";function dee(t){if(!see(t))return!1;var e=oee(t);return e==uee||e==cee||e==lee||e==fee}var MS=dee;const yt=Jt(MS);var hee=_o,pee=hee["__core-js_shared__"],Aee=pee,E1=Aee,QE=function(){var t=/[^.]+$/.exec(E1&&E1.keys&&E1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mee(t){return!!QE&&QE in t}var gee=mee,vee=Function.prototype,yee=vee.toString;function bee(t){if(t!=null){try{return yee.call(t)}catch{}try{return t+""}catch{}}return""}var $I=bee,xee=MS,wee=gee,See=Il,_ee=$I,Tee=/[\\^$.*+?()[\]{}|]/g,Cee=/^\[object .+?Constructor\]$/,Nee=Function.prototype,Eee=Object.prototype,kee=Nee.toString,Pee=Eee.hasOwnProperty,Mee=RegExp("^"+kee.call(Pee).replace(Tee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oee(t){if(!See(t)||wee(t))return!1;var e=xee(t)?Mee:Cee;return e.test(_ee(t))}var Dee=Oee;function Iee(t,e){return t==null?void 0:t[e]}var jee=Iee,Lee=Dee,Ree=jee;function Fee(t,e){var n=Ree(t,e);return Lee(n)?n:void 0}var Zu=Fee,$ee=Zu,Bee=$ee(Object,"create"),Kv=Bee,ZE=Kv;function Uee(){this.__data__=ZE?ZE(null):{},this.size=0}var qee=Uee;function Hee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zee=Hee,Vee=Kv,Gee="__lodash_hash_undefined__",Wee=Object.prototype,Yee=Wee.hasOwnProperty;function Kee(t){var e=this.__data__;if(Vee){var n=e[t];return n===Gee?void 0:n}return Yee.call(e,t)?e[t]:void 0}var Jee=Kee,Xee=Kv,Qee=Object.prototype,Zee=Qee.hasOwnProperty;function ete(t){var e=this.__data__;return Xee?e[t]!==void 0:Zee.call(e,t)}var tte=ete,nte=Kv,rte="__lodash_hash_undefined__";function ite(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nte&&e===void 0?rte:e,this}var ate=ite,ote=qee,ste=zee,lte=Jee,ute=tte,cte=ate;function Pd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pd.prototype.clear=ote;Pd.prototype.delete=ste;Pd.prototype.get=lte;Pd.prototype.has=ute;Pd.prototype.set=cte;var fte=Pd;function dte(){this.__data__=[],this.size=0}var hte=dte;function pte(t,e){return t===e||t!==t&&e!==e}var OS=pte,Ate=OS;function mte(t,e){for(var n=t.length;n--;)if(Ate(t[n][0],e))return n;return-1}var Jv=mte,gte=Jv,vte=Array.prototype,yte=vte.splice;function bte(t){var e=this.__data__,n=gte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yte.call(e,n,1),--this.size,!0}var xte=bte,wte=Jv;function Ste(t){var e=this.__data__,n=wte(e,t);return n<0?void 0:e[n][1]}var _te=Ste,Tte=Jv;function Cte(t){return Tte(this.__data__,t)>-1}var Nte=Cte,Ete=Jv;function kte(t,e){var n=this.__data__,r=Ete(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Pte=kte,Mte=hte,Ote=xte,Dte=_te,Ite=Nte,jte=Pte;function Md(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Md.prototype.clear=Mte;Md.prototype.delete=Ote;Md.prototype.get=Dte;Md.prototype.has=Ite;Md.prototype.set=jte;var Xv=Md,Lte=Zu,Rte=_o,Fte=Lte(Rte,"Map"),DS=Fte,ek=fte,$te=Xv,Bte=DS;function Ute(){this.size=0,this.__data__={hash:new ek,map:new(Bte||$te),string:new ek}}var qte=Ute;function Hte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var zte=Hte,Vte=zte;function Gte(t,e){var n=t.__data__;return Vte(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Qv=Gte,Wte=Qv;function Yte(t){var e=Wte(this,t).delete(t);return this.size-=e?1:0,e}var Kte=Yte,Jte=Qv;function Xte(t){return Jte(this,t).get(t)}var Qte=Xte,Zte=Qv;function ene(t){return Zte(this,t).has(t)}var tne=ene,nne=Qv;function rne(t,e){var n=nne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ine=rne,ane=qte,one=Kte,sne=Qte,lne=tne,une=ine;function Od(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Od.prototype.clear=ane;Od.prototype.delete=one;Od.prototype.get=sne;Od.prototype.has=lne;Od.prototype.set=une;var IS=Od,BI=IS,cne="Expected a function";function jS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(jS.Cache||BI),n}jS.Cache=BI;var UI=jS;const fne=Jt(UI);var dne=UI,hne=500;function pne(t){var e=dne(t,function(r){return n.size===hne&&n.clear(),r}),n=e.cache;return e}var Ane=pne,mne=Ane,gne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vne=/\\(\\)?/g,yne=mne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(gne,function(n,r,i,a){e.push(i?a.replace(vne,"$1"):r||n)}),e}),bne=yne;function xne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var LS=xne,tk=$A,wne=LS,Sne=Ci,_ne=Ed,nk=tk?tk.prototype:void 0,rk=nk?nk.toString:void 0;function qI(t){if(typeof t=="string")return t;if(Sne(t))return wne(t,qI)+"";if(_ne(t))return rk?rk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Tne=qI,Cne=Tne;function Nne(t){return t==null?"":Cne(t)}var HI=Nne,Ene=Ci,kne=PS,Pne=bne,Mne=HI;function One(t,e){return Ene(t)?t:kne(t,e)?[t]:Pne(Mne(t))}var zI=One,Dne=Ed;function Ine(t){if(typeof t=="string"||Dne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Zv=Ine,jne=zI,Lne=Zv;function Rne(t,e){e=jne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Lne(e[n++])];return n&&n==r?t:void 0}var RS=Rne,Fne=RS;function $ne(t,e,n){var r=t==null?void 0:Fne(t,e);return r===void 0?n:r}var VI=$ne;const Yi=Jt(VI);function Bne(t){return t==null}var Une=Bne;const It=Jt(Une);var qne=As,Hne=Ci,zne=ms,Vne="[object String]";function Gne(t){return typeof t=="string"||!Hne(t)&&zne(t)&&qne(t)==Vne}var Wne=Gne;const Ru=Jt(Wne);var GI={exports:{}},an={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=Symbol.for("react.element"),$S=Symbol.for("react.portal"),ey=Symbol.for("react.fragment"),ty=Symbol.for("react.strict_mode"),ny=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),iy=Symbol.for("react.context"),Yne=Symbol.for("react.server_context"),ay=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),sy=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),uy=Symbol.for("react.lazy"),Kne=Symbol.for("react.offscreen"),WI;WI=Symbol.for("react.module.reference");function Ea(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case FS:switch(t=t.type,t){case ey:case ny:case ty:case oy:case sy:return t;default:switch(t=t&&t.$$typeof,t){case Yne:case iy:case ay:case uy:case ly:case ry:return t;default:return e}}case $S:return e}}}an.ContextConsumer=iy;an.ContextProvider=ry;an.Element=FS;an.ForwardRef=ay;an.Fragment=ey;an.Lazy=uy;an.Memo=ly;an.Portal=$S;an.Profiler=ny;an.StrictMode=ty;an.Suspense=oy;an.SuspenseList=sy;an.isAsyncMode=function(){return!1};an.isConcurrentMode=function(){return!1};an.isContextConsumer=function(t){return Ea(t)===iy};an.isContextProvider=function(t){return Ea(t)===ry};an.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===FS};an.isForwardRef=function(t){return Ea(t)===ay};an.isFragment=function(t){return Ea(t)===ey};an.isLazy=function(t){return Ea(t)===uy};an.isMemo=function(t){return Ea(t)===ly};an.isPortal=function(t){return Ea(t)===$S};an.isProfiler=function(t){return Ea(t)===ny};an.isStrictMode=function(t){return Ea(t)===ty};an.isSuspense=function(t){return Ea(t)===oy};an.isSuspenseList=function(t){return Ea(t)===sy};an.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ey||t===ny||t===ty||t===oy||t===sy||t===Kne||typeof t=="object"&&t!==null&&(t.$$typeof===uy||t.$$typeof===ly||t.$$typeof===ry||t.$$typeof===iy||t.$$typeof===ay||t.$$typeof===WI||t.getModuleId!==void 0)};an.typeOf=Ea;GI.exports=an;var Jne=GI.exports,Xne=As,Qne=ms,Zne="[object Number]";function ere(t){return typeof t=="number"||Qne(t)&&Xne(t)==Zne}var YI=ere;const tre=Jt(YI);var nre=YI;function rre(t){return nre(t)&&t!=+t}var ire=rre;const BA=Jt(ire);var ri=function(e){return e===0?0:e>0?1:-1},mu=function(e){return Ru(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return tre(e)&&!BA(e)},are=function(e){return It(e)},mr=function(e){return Ye(e)||Ru(e)},ore=0,UA=function(e){var n=++ore;return"".concat(e||"").concat(n)},ii=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!Ru(e))return r;var a;if(mu(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return BA(a)&&(a=r),i&&a>n&&(a=n),a},tl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},sre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ws=function(e,n){return Ye(e)&&Ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function L2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Yi(r,e))===n})}var lre=function(e,n){return Ye(e)&&Ye(n)?e-n:Ru(e)&&Ru(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ef(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function R2(t){"@babel/helpers - typeof";return R2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R2(t)}var ure=["viewBox","children"],cre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ik=["points","pathLength"],k1={svg:ure,polygon:ik,polyline:ik},BS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],g0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(re.isValidElement(e)&&(r=e.props),!kd(r))return null;var i={};return Object.keys(r).forEach(function(a){BS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},fre=function(e,n,r){return function(i){return e(n,r,i),null}},Fu=function(e,n,r){if(!kd(e)||R2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];BS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=fre(o,n,r))}),i},dre=["children"],hre=["children"];function ak(t,e){if(t==null)return{};var n=pre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ok={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ns=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sk=null,P1=null,US=function t(e){if(e===sk&&Array.isArray(P1))return P1;var n=[];return re.Children.forEach(e,function(r){It(r)||(Jne.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),P1=n,sk=e,n};function Ta(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ns(i)}):r=[ns(e)],US(t).forEach(function(i){var a=Yi(i,"type.displayName")||Yi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ri(t,e){var n=Ta(t,e);return n&&n[0]}var lk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ye(r)||r<=0||!Ye(i)||i<=0)},Are=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mre=function(e){return e&&e.type&&Ru(e.type)&&Are.indexOf(e.type)>=0},gre=function(e,n,r,i){var a,o=(a=k1==null?void 0:k1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(e)&&(i&&o.includes(n)||cre.includes(n))||r&&BS.includes(n)},gt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(re.isValidElement(e)&&(i=e.props),!kd(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;gre((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},F2=function t(e,n){if(e===n)return!0;var r=re.Children.count(e);if(r!==re.Children.count(n))return!1;if(r===0)return!0;if(r===1)return uk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!uk(a,o))return!1}return!0},uk=function(e,n){if(It(e)&&It(n))return!0;if(!It(e)&&!It(n)){var r=e.props||{},i=r.children,a=ak(r,dre),o=n.props||{},s=o.children,l=ak(o,hre);return i&&s?Ef(a,l)&&F2(i,s):!i&&!s?Ef(a,l):!1}return!1},ck=function(e,n){var r=[],i={};return US(e).forEach(function(a,o){if(mre(a))r.push(a);else if(a){var s=ns(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},vre=function(e){var n=e&&e.type;return n&&ok[n]?ok[n]:null},yre=function(e,n){return US(n).indexOf(e)},bre=["children","width","height","viewBox","className","style","title","desc"];function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(this,arguments)}function xre(t,e){if(t==null)return{};var n=wre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=xre(t,bre),c=i||{width:n,height:r,x:0,y:0},f=Ot("recharts-surface",a);return de.createElement("svg",$2({},gt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),de.createElement("title",null,s),de.createElement("desc",null,l),e)}var Sre=["children","className"];function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U2.apply(this,arguments)}function _re(t,e){if(t==null)return{};var n=Tre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nn=de.forwardRef(function(t,e){var n=t.children,r=t.className,i=_re(t,Sre),a=Ot("recharts-layer",r);return de.createElement("g",U2({className:a},gt(i,!0),{ref:e}),n)}),Ja=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Cre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Nre=Cre,Ere=Nre;function kre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Ere(t,e,n)}var Pre=kre,Mre="\\ud800-\\udfff",Ore="\\u0300-\\u036f",Dre="\\ufe20-\\ufe2f",Ire="\\u20d0-\\u20ff",jre=Ore+Dre+Ire,Lre="\\ufe0e\\ufe0f",Rre="\\u200d",Fre=RegExp("["+Rre+Mre+jre+Lre+"]");function $re(t){return Fre.test(t)}var KI=$re;function Bre(t){return t.split("")}var Ure=Bre,JI="\\ud800-\\udfff",qre="\\u0300-\\u036f",Hre="\\ufe20-\\ufe2f",zre="\\u20d0-\\u20ff",Vre=qre+Hre+zre,Gre="\\ufe0e\\ufe0f",Wre="["+JI+"]",q2="["+Vre+"]",H2="\\ud83c[\\udffb-\\udfff]",Yre="(?:"+q2+"|"+H2+")",XI="[^"+JI+"]",QI="(?:\\ud83c[\\udde6-\\uddff]){2}",ZI="[\\ud800-\\udbff][\\udc00-\\udfff]",Kre="\\u200d",ej=Yre+"?",tj="["+Gre+"]?",Jre="(?:"+Kre+"(?:"+[XI,QI,ZI].join("|")+")"+tj+ej+")*",Xre=tj+ej+Jre,Qre="(?:"+[XI+q2+"?",q2,QI,ZI,Wre].join("|")+")",Zre=RegExp(H2+"(?="+H2+")|"+Qre+Xre,"g");function eie(t){return t.match(Zre)||[]}var tie=eie,nie=Ure,rie=KI,iie=tie;function aie(t){return rie(t)?iie(t):nie(t)}var oie=aie,sie=Pre,lie=KI,uie=oie,cie=HI;function fie(t){return function(e){e=cie(e);var n=lie(e)?uie(e):void 0,r=n?n[0]:e.charAt(0),i=n?sie(n,1).join(""):e.slice(1);return r[t]()+i}}var die=fie,hie=die,pie=hie("toUpperCase"),Aie=pie;const cy=Jt(Aie);function xn(t){return function(){return t}}const nj=Math.cos,v0=Math.sin,no=Math.sqrt,y0=Math.PI,fy=2*y0,z2=Math.PI,V2=2*z2,cu=1e-6,mie=V2-cu;function rj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rj;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rj:gie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>cu)if(!(Math.abs(f*l-u*c)>cu)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,v=i-s,b=l*l+u*u,w=p*p+v*v,y=Math.sqrt(b),x=Math.sqrt(h),S=a*Math.tan((z2-Math.acos((b+h-w)/(2*y*x)))/2),T=S/x,C=S/y;Math.abs(T-1)>cu&&this._append`L${e+T*c},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*p>c*v)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>cu||Math.abs(this._y1-c)>cu)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%V2+V2),h>mie?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>cu&&this._append`A${r},${r},0,${+(h>=z2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vie(e)}function HS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ij(t){this._context=t}ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function dy(t){return new ij(t)}function aj(t){return t[0]}function oj(t){return t[1]}function sj(t,e){var n=xn(!0),r=null,i=dy,a=null,o=qS(s);t=typeof t=="function"?t:t===void 0?aj:xn(t),e=typeof e=="function"?e:e===void 0?oj:xn(e);function s(l){var u,c=(l=HS(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:xn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:xn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function tg(t,e,n){var r=null,i=xn(!0),a=null,o=dy,s=null,l=qS(u);t=typeof t=="function"?t:t===void 0?aj:xn(+t),e=typeof e=="function"?e:xn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?oj:xn(+n);function u(f){var h,p,v,b=(f=HS(f)).length,w,y=!1,x,S=new Array(b),T=new Array(b);for(a==null&&(s=o(x=l())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(S[v],T[v]);s.lineEnd(),s.areaEnd()}y&&(S[h]=+t(w,h,f),T[h]=+e(w,h,f),s.point(r?+r(w,h,f):S[h],n?+n(w,h,f):T[h]))}if(x)return s=null,x+""||null}function c(){return sj().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:xn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class lj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yie(t){return new lj(t,!0)}function bie(t){return new lj(t,!1)}const zS={draw(t,e){const n=no(e/y0);t.moveTo(n,0),t.arc(0,0,n,0,fy)}},xie={draw(t,e){const n=no(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uj=no(1/3),wie=uj*2,Sie={draw(t,e){const n=no(e/wie),r=n*uj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_ie={draw(t,e){const n=no(e),r=-n/2;t.rect(r,r,n,n)}},Tie=.8908130915292852,cj=v0(y0/10)/v0(7*y0/10),Cie=v0(fy/10)*cj,Nie=-nj(fy/10)*cj,Eie={draw(t,e){const n=no(e*Tie),r=Cie*n,i=Nie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=fy*a/5,s=nj(o),l=v0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},M1=no(3),kie={draw(t,e){const n=-no(e/(M1*3));t.moveTo(0,n*2),t.lineTo(-M1*n,-n),t.lineTo(M1*n,-n),t.closePath()}},ua=-.5,ca=no(3)/2,G2=1/no(12),Pie=(G2/2+1)*3,Mie={draw(t,e){const n=no(e/Pie),r=n/2,i=n*G2,a=r,o=n*G2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ua*r-ca*i,ca*r+ua*i),t.lineTo(ua*a-ca*o,ca*a+ua*o),t.lineTo(ua*s-ca*l,ca*s+ua*l),t.lineTo(ua*r+ca*i,ua*i-ca*r),t.lineTo(ua*a+ca*o,ua*o-ca*a),t.lineTo(ua*s+ca*l,ua*l-ca*s),t.closePath()}};function Oie(t,e){let n=null,r=qS(i);t=typeof t=="function"?t:xn(t||zS),e=typeof e=="function"?e:xn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function b0(){}function x0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fj(t){this._context=t}fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:x0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:x0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Die(t){return new fj(t)}function dj(t){this._context=t}dj.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:x0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iie(t){return new dj(t)}function hj(t){this._context=t}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:x0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jie(t){return new hj(t)}function pj(t){this._context=t}pj.prototype={areaStart:b0,areaEnd:b0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Lie(t){return new pj(t)}function fk(t){return t<0?-1:1}function dk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(fk(a)+fk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function hk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function O1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function w0(t){this._context=t}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:O1(this,this._t0,hk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,O1(this,hk(this,n=dk(this,t,e)),n);break;default:O1(this,this._t0,n=dk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Aj(t){this._context=new mj(t)}(Aj.prototype=Object.create(w0.prototype)).point=function(t,e){w0.prototype.point.call(this,e,t)};function mj(t){this._context=t}mj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Rie(t){return new w0(t)}function Fie(t){return new Aj(t)}function gj(t){this._context=t}gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pk(t),i=pk(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function $ie(t){return new gj(t)}function hy(t,e){this._context=t,this._t=e}hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Bie(t){return new hy(t,.5)}function Uie(t){return new hy(t,0)}function qie(t){return new hy(t,1)}function Hf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function W2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Hie(t,e){return t[e]}function zie(t){const e=[];return e.key=t,e}function Vie(){var t=xn([]),e=W2,n=Hf,r=Hie;function i(a){var o=Array.from(t.apply(this,arguments),zie),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=HS(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?W2:typeof a=="function"?a:xn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Hf,i):n},i}function Gie(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Hf(t,e)}}function Wie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Hf(t,e)}}function Yie(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,v=0;v<s;++v){var b=t[e[v]],w=b[r][1]||0,y=b[r-1][1]||0;p+=w-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Hf(t,e)}}function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}var Kie=["type","size","sizeType"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(this,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){Jie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jie(t,e,n){return e=Xie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xie(t){var e=Qie(t,"string");return qp(e)=="symbol"?e:e+""}function Qie(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zie(t,e){if(t==null)return{};var n=eae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vj={symbolCircle:zS,symbolCross:xie,symbolDiamond:Sie,symbolSquare:_ie,symbolStar:Eie,symbolTriangle:kie,symbolWye:Mie},tae=Math.PI/180,nae=function(e){var n="symbol".concat(cy(e));return vj[n]||zS},rae=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*tae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},iae=function(e,n){vj["symbol".concat(cy(e))]=n},VS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Zie(e,Kie),u=mk(mk({},l),{},{type:r,size:a,sizeType:s}),c=function(){var w=nae(r),y=Oie().type(w).size(rae(a,s,r));return y()},f=u.className,h=u.cx,p=u.cy,v=gt(u,!0);return h===+h&&p===+p&&a===+a?de.createElement("path",Y2({},v,{className:Ot("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};VS.registerSymbol=iae;function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K2.apply(this,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){Hp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bj(r.key),r)}}function lae(t,e,n){return e&&sae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uae(t,e,n){return e=S0(e),cae(t,yj()?Reflect.construct(e,n||[],S0(t).constructor):e.apply(t,n))}function cae(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fae(t)}function fae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yj=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}function dae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J2(t,e)}function J2(t,e){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J2(t,e)}function Hp(t,e,n){return e=bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bj(t){var e=hae(t,"string");return zf(e)=="symbol"?e:e+""}function hae(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fa=32,GS=function(t){function e(){return oae(this,e),uae(this,e,arguments)}return dae(e,t),lae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=fa/2,o=fa/6,s=fa/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:fa,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(fa,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(fa/8,"h").concat(fa,"v").concat(fa*3/4,"h").concat(-fa,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var u=aae({},r);return delete u.legendIcon,de.cloneElement(r.legendIcon,u)}return de.createElement(VS,{fill:l,cx:a,cy:a,size:fa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:fa,height:fa},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var b=p.formatter||l,w=Ot(Hp(Hp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=yt(p.value)?null:p.value;Ja(!yt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return de.createElement("li",K2({className:w,style:f,key:"legend-item-".concat(v)},Fu(r.props,p,v)),de.createElement(B2,{width:o,height:o,viewBox:c,style:h},r.renderIcon(p)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(y,p,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(re.PureComponent);Hp(GS,"displayName","Legend");Hp(GS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pae=Xv;function Aae(){this.__data__=new pae,this.size=0}var mae=Aae;function gae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vae=gae;function yae(t){return this.__data__.get(t)}var bae=yae;function xae(t){return this.__data__.has(t)}var wae=xae,Sae=Xv,_ae=DS,Tae=IS,Cae=200;function Nae(t,e){var n=this.__data__;if(n instanceof Sae){var r=n.__data__;if(!_ae||r.length<Cae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Tae(r)}return n.set(t,e),this.size=n.size,this}var Eae=Nae,kae=Xv,Pae=mae,Mae=vae,Oae=bae,Dae=wae,Iae=Eae;function Dd(t){var e=this.__data__=new kae(t);this.size=e.size}Dd.prototype.clear=Pae;Dd.prototype.delete=Mae;Dd.prototype.get=Oae;Dd.prototype.has=Dae;Dd.prototype.set=Iae;var xj=Dd,jae="__lodash_hash_undefined__";function Lae(t){return this.__data__.set(t,jae),this}var Rae=Lae;function Fae(t){return this.__data__.has(t)}var $ae=Fae,Bae=IS,Uae=Rae,qae=$ae;function _0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Bae;++e<n;)this.add(t[e])}_0.prototype.add=_0.prototype.push=Uae;_0.prototype.has=qae;var wj=_0;function Hae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Sj=Hae;function zae(t,e){return t.has(e)}var _j=zae,Vae=wj,Gae=Sj,Wae=_j,Yae=1,Kae=2;function Jae(t,e,n,r,i,a){var o=n&Yae,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&Kae?new Vae:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],b=e[f];if(r)var w=o?r(b,v,f,e,t,a):r(v,b,f,t,e,a);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!Gae(e,function(y,x){if(!Wae(p,x)&&(v===y||i(v,y,n,r,a)))return p.push(x)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var Tj=Jae,Xae=_o,Qae=Xae.Uint8Array,Zae=Qae;function eoe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var toe=eoe;function noe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var WS=noe,vk=$A,yk=Zae,roe=OS,ioe=Tj,aoe=toe,ooe=WS,soe=1,loe=2,uoe="[object Boolean]",coe="[object Date]",foe="[object Error]",doe="[object Map]",hoe="[object Number]",poe="[object RegExp]",Aoe="[object Set]",moe="[object String]",goe="[object Symbol]",voe="[object ArrayBuffer]",yoe="[object DataView]",bk=vk?vk.prototype:void 0,D1=bk?bk.valueOf:void 0;function boe(t,e,n,r,i,a,o){switch(n){case yoe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case voe:return!(t.byteLength!=e.byteLength||!a(new yk(t),new yk(e)));case uoe:case coe:case hoe:return roe(+t,+e);case foe:return t.name==e.name&&t.message==e.message;case poe:case moe:return t==e+"";case doe:var s=aoe;case Aoe:var l=r&soe;if(s||(s=ooe),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=loe,o.set(t,e);var c=ioe(s(t),s(e),r,i,a,o);return o.delete(t),c;case goe:if(D1)return D1.call(t)==D1.call(e)}return!1}var xoe=boe;function woe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Cj=woe,Soe=Cj,_oe=Ci;function Toe(t,e,n){var r=e(t);return _oe(t)?r:Soe(r,n(t))}var Coe=Toe;function Noe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Eoe=Noe;function koe(){return[]}var Poe=koe,Moe=Eoe,Ooe=Poe,Doe=Object.prototype,Ioe=Doe.propertyIsEnumerable,xk=Object.getOwnPropertySymbols,joe=xk?function(t){return t==null?[]:(t=Object(t),Moe(xk(t),function(e){return Ioe.call(t,e)}))}:Ooe,Loe=joe;function Roe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Foe=Roe,$oe=As,Boe=ms,Uoe="[object Arguments]";function qoe(t){return Boe(t)&&$oe(t)==Uoe}var Hoe=qoe,wk=Hoe,zoe=ms,Nj=Object.prototype,Voe=Nj.hasOwnProperty,Goe=Nj.propertyIsEnumerable,Woe=wk(function(){return arguments}())?wk:function(t){return zoe(t)&&Voe.call(t,"callee")&&!Goe.call(t,"callee")},YS=Woe,T0={exports:{}};function Yoe(){return!1}var Koe=Yoe;T0.exports;(function(t,e){var n=_o,r=Koe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(T0,T0.exports);var Ej=T0.exports,Joe=9007199254740991,Xoe=/^(?:0|[1-9]\d*)$/;function Qoe(t,e){var n=typeof t;return e=e??Joe,!!e&&(n=="number"||n!="symbol"&&Xoe.test(t))&&t>-1&&t%1==0&&t<e}var KS=Qoe,Zoe=9007199254740991;function ese(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Zoe}var JS=ese,tse=As,nse=JS,rse=ms,ise="[object Arguments]",ase="[object Array]",ose="[object Boolean]",sse="[object Date]",lse="[object Error]",use="[object Function]",cse="[object Map]",fse="[object Number]",dse="[object Object]",hse="[object RegExp]",pse="[object Set]",Ase="[object String]",mse="[object WeakMap]",gse="[object ArrayBuffer]",vse="[object DataView]",yse="[object Float32Array]",bse="[object Float64Array]",xse="[object Int8Array]",wse="[object Int16Array]",Sse="[object Int32Array]",_se="[object Uint8Array]",Tse="[object Uint8ClampedArray]",Cse="[object Uint16Array]",Nse="[object Uint32Array]",Cn={};Cn[yse]=Cn[bse]=Cn[xse]=Cn[wse]=Cn[Sse]=Cn[_se]=Cn[Tse]=Cn[Cse]=Cn[Nse]=!0;Cn[ise]=Cn[ase]=Cn[gse]=Cn[ose]=Cn[vse]=Cn[sse]=Cn[lse]=Cn[use]=Cn[cse]=Cn[fse]=Cn[dse]=Cn[hse]=Cn[pse]=Cn[Ase]=Cn[mse]=!1;function Ese(t){return rse(t)&&nse(t.length)&&!!Cn[tse(t)]}var kse=Ese;function Pse(t){return function(e){return t(e)}}var kj=Pse,C0={exports:{}};C0.exports;(function(t,e){var n=RI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(C0,C0.exports);var Mse=C0.exports,Ose=kse,Dse=kj,Sk=Mse,_k=Sk&&Sk.isTypedArray,Ise=_k?Dse(_k):Ose,Pj=Ise,jse=Foe,Lse=YS,Rse=Ci,Fse=Ej,$se=KS,Bse=Pj,Use=Object.prototype,qse=Use.hasOwnProperty;function Hse(t,e){var n=Rse(t),r=!n&&Lse(t),i=!n&&!r&&Fse(t),a=!n&&!r&&!i&&Bse(t),o=n||r||i||a,s=o?jse(t.length,String):[],l=s.length;for(var u in t)(e||qse.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$se(u,l)))&&s.push(u);return s}var zse=Hse,Vse=Object.prototype;function Gse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Vse;return t===n}var Wse=Gse;function Yse(t,e){return function(n){return t(e(n))}}var Mj=Yse,Kse=Mj,Jse=Kse(Object.keys,Object),Xse=Jse,Qse=Wse,Zse=Xse,ele=Object.prototype,tle=ele.hasOwnProperty;function nle(t){if(!Qse(t))return Zse(t);var e=[];for(var n in Object(t))tle.call(t,n)&&n!="constructor"&&e.push(n);return e}var rle=nle,ile=MS,ale=JS;function ole(t){return t!=null&&ale(t.length)&&!ile(t)}var qA=ole,sle=zse,lle=rle,ule=qA;function cle(t){return ule(t)?sle(t):lle(t)}var py=cle,fle=Coe,dle=Loe,hle=py;function ple(t){return fle(t,hle,dle)}var Ale=ple,Tk=Ale,mle=1,gle=Object.prototype,vle=gle.hasOwnProperty;function yle(t,e,n,r,i,a){var o=n&mle,s=Tk(t),l=s.length,u=Tk(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:vle.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var w=o;++f<l;){h=s[f];var y=t[h],x=e[h];if(r)var S=o?r(x,y,h,e,t,a):r(y,x,h,t,e,a);if(!(S===void 0?y===x||i(y,x,n,r,a):S)){b=!1;break}w||(w=h=="constructor")}if(b&&!w){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(b=!1)}return a.delete(t),a.delete(e),b}var ble=yle,xle=Zu,wle=_o,Sle=xle(wle,"DataView"),_le=Sle,Tle=Zu,Cle=_o,Nle=Tle(Cle,"Promise"),Ele=Nle,kle=Zu,Ple=_o,Mle=kle(Ple,"Set"),Oj=Mle,Ole=Zu,Dle=_o,Ile=Ole(Dle,"WeakMap"),jle=Ile,X2=_le,Q2=DS,Z2=Ele,ew=Oj,tw=jle,Dj=As,Id=$I,Ck="[object Map]",Lle="[object Object]",Nk="[object Promise]",Ek="[object Set]",kk="[object WeakMap]",Pk="[object DataView]",Rle=Id(X2),Fle=Id(Q2),$le=Id(Z2),Ble=Id(ew),Ule=Id(tw),fu=Dj;(X2&&fu(new X2(new ArrayBuffer(1)))!=Pk||Q2&&fu(new Q2)!=Ck||Z2&&fu(Z2.resolve())!=Nk||ew&&fu(new ew)!=Ek||tw&&fu(new tw)!=kk)&&(fu=function(t){var e=Dj(t),n=e==Lle?t.constructor:void 0,r=n?Id(n):"";if(r)switch(r){case Rle:return Pk;case Fle:return Ck;case $le:return Nk;case Ble:return Ek;case Ule:return kk}return e});var qle=fu,I1=xj,Hle=Tj,zle=xoe,Vle=ble,Mk=qle,Ok=Ci,Dk=Ej,Gle=Pj,Wle=1,Ik="[object Arguments]",jk="[object Array]",ng="[object Object]",Yle=Object.prototype,Lk=Yle.hasOwnProperty;function Kle(t,e,n,r,i,a){var o=Ok(t),s=Ok(e),l=o?jk:Mk(t),u=s?jk:Mk(e);l=l==Ik?ng:l,u=u==Ik?ng:u;var c=l==ng,f=u==ng,h=l==u;if(h&&Dk(t)){if(!Dk(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new I1),o||Gle(t)?Hle(t,e,n,r,i,a):zle(t,e,l,n,r,i,a);if(!(n&Wle)){var p=c&&Lk.call(t,"__wrapped__"),v=f&&Lk.call(e,"__wrapped__");if(p||v){var b=p?t.value():t,w=v?e.value():e;return a||(a=new I1),i(b,w,n,r,a)}}return h?(a||(a=new I1),Vle(t,e,n,r,i,a)):!1}var Jle=Kle,Xle=Jle,Rk=ms;function Ij(t,e,n,r,i){return t===e?!0:t==null||e==null||!Rk(t)&&!Rk(e)?t!==t&&e!==e:Xle(t,e,n,r,Ij,i)}var XS=Ij,Qle=xj,Zle=XS,eue=1,tue=2;function nue(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Qle;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Zle(c,u,eue|tue,r,f):h))return!1}}return!0}var rue=nue,iue=Il;function aue(t){return t===t&&!iue(t)}var jj=aue,oue=jj,sue=py;function lue(t){for(var e=sue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,oue(i)]}return e}var uue=lue;function cue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Lj=cue,fue=rue,due=uue,hue=Lj;function pue(t){var e=due(t);return e.length==1&&e[0][2]?hue(e[0][0],e[0][1]):function(n){return n===t||fue(n,t,e)}}var Aue=pue;function mue(t,e){return t!=null&&e in Object(t)}var gue=mue,vue=zI,yue=YS,bue=Ci,xue=KS,wue=JS,Sue=Zv;function _ue(t,e,n){e=vue(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Sue(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&wue(i)&&xue(o,i)&&(bue(t)||yue(t)))}var Tue=_ue,Cue=gue,Nue=Tue;function Eue(t,e){return t!=null&&Nue(t,e,Cue)}var kue=Eue,Pue=XS,Mue=VI,Oue=kue,Due=PS,Iue=jj,jue=Lj,Lue=Zv,Rue=1,Fue=2;function $ue(t,e){return Due(t)&&Iue(e)?jue(Lue(t),e):function(n){var r=Mue(n,t);return r===void 0&&r===e?Oue(n,t):Pue(e,r,Rue|Fue)}}var Bue=$ue;function Uue(t){return t}var jd=Uue;function que(t){return function(e){return e==null?void 0:e[t]}}var Hue=que,zue=RS;function Vue(t){return function(e){return zue(e,t)}}var Gue=Vue,Wue=Hue,Yue=Gue,Kue=PS,Jue=Zv;function Xue(t){return Kue(t)?Wue(Jue(t)):Yue(t)}var Que=Xue,Zue=Aue,ece=Bue,tce=jd,nce=Ci,rce=Que;function ice(t){return typeof t=="function"?t:t==null?tce:typeof t=="object"?nce(t)?ece(t[0],t[1]):Zue(t):rce(t)}var To=ice;function ace(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Rj=ace;function oce(t){return t!==t}var sce=oce;function lce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var uce=lce,cce=Rj,fce=sce,dce=uce;function hce(t,e,n){return e===e?dce(t,e,n):cce(t,fce,n)}var pce=hce,Ace=pce;function mce(t,e){var n=t==null?0:t.length;return!!n&&Ace(t,e,0)>-1}var gce=mce;function vce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yce=vce;function bce(){}var xce=bce,j1=Oj,wce=xce,Sce=WS,_ce=1/0,Tce=j1&&1/Sce(new j1([,-0]))[1]==_ce?function(t){return new j1(t)}:wce,Cce=Tce,Nce=wj,Ece=gce,kce=yce,Pce=_j,Mce=Cce,Oce=WS,Dce=200;function Ice(t,e,n){var r=-1,i=Ece,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=kce;else if(a>=Dce){var u=e?null:Mce(t);if(u)return Oce(u);o=!1,i=Pce,l=new Nce}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var jce=Ice,Lce=To,Rce=jce;function Fce(t,e){return t&&t.length?Rce(t,Lce(e)):[]}var $ce=Fce;const Fk=Jt($ce);function Fj(t,e,n){return e===!0?Fk(t,n):yt(e)?Fk(t,e):t}function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}var Bce=["ref"];function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bj(r.key),r)}}function qce(t,e,n){return e&&Bk(t.prototype,e),n&&Bk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hce(t,e,n){return e=N0(e),zce(t,$j()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function zce(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vce(t)}function Vce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($j=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nw(t,e)}function Ay(t,e,n){return e=Bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bj(t){var e=Wce(t,"string");return Vf(e)=="symbol"?e:e+""}function Wce(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yce(t,e){if(t==null)return{};var n=Kce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jce(t){return t.value}function Xce(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var n=Yce(e,Bce);return de.createElement(GS,n)}var Uk=1,bl=function(t){function e(){var n;Uce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Hce(this,e,[].concat(i)),Ay(n,"lastBoundingBox",{width:-1,height:-1}),n}return Gce(e,t),qce(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Uk||Math.abs(i.height-this.lastBoundingBox.height)>Uk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Uo(Uo({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Uo(Uo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Xce(a,Uo(Uo({},this.props),{},{payload:Fj(c,u,Jce)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Uo(Uo({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ye(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(re.PureComponent);Ay(bl,"displayName","Legend");Ay(bl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qk=$A,Qce=YS,Zce=Ci,Hk=qk?qk.isConcatSpreadable:void 0;function efe(t){return Zce(t)||Qce(t)||!!(Hk&&t&&t[Hk])}var tfe=efe,nfe=Cj,rfe=tfe;function Uj(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=rfe),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?Uj(s,e-1,n,r,i):nfe(i,s):r||(i[i.length]=s)}return i}var qj=Uj;function ife(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var afe=ife,ofe=afe,sfe=ofe(),lfe=sfe,ufe=lfe,cfe=py;function ffe(t,e){return t&&ufe(t,e,cfe)}var Hj=ffe,dfe=qA;function hfe(t,e){return function(n,r){if(n==null)return n;if(!dfe(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var pfe=hfe,Afe=Hj,mfe=pfe,gfe=mfe(Afe),QS=gfe,vfe=QS,yfe=qA;function bfe(t,e){var n=-1,r=yfe(t)?Array(t.length):[];return vfe(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var zj=bfe;function xfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var wfe=xfe,zk=Ed;function Sfe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=zk(t),o=e!==void 0,s=e===null,l=e===e,u=zk(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var _fe=Sfe,Tfe=_fe;function Cfe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Tfe(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Nfe=Cfe,L1=LS,Efe=RS,kfe=To,Pfe=zj,Mfe=wfe,Ofe=kj,Dfe=Nfe,Ife=jd,jfe=Ci;function Lfe(t,e,n){e.length?e=L1(e,function(a){return jfe(a)?function(o){return Efe(o,a.length===1?a[0]:a)}:a}):e=[Ife];var r=-1;e=L1(e,Ofe(kfe));var i=Pfe(t,function(a,o,s){var l=L1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Mfe(i,function(a,o){return Dfe(a,o,n)})}var Rfe=Lfe;function Ffe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var $fe=Ffe,Bfe=$fe,Vk=Math.max;function Ufe(t,e,n){return e=Vk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Vk(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Bfe(t,this,s)}}var qfe=Ufe;function Hfe(t){return function(){return t}}var zfe=Hfe,Vfe=Zu,Gfe=function(){try{var t=Vfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Vj=Gfe,Wfe=zfe,Gk=Vj,Yfe=jd,Kfe=Gk?function(t,e){return Gk(t,"toString",{configurable:!0,enumerable:!1,value:Wfe(e),writable:!0})}:Yfe,Jfe=Kfe,Xfe=800,Qfe=16,Zfe=Date.now;function ede(t){var e=0,n=0;return function(){var r=Zfe(),i=Qfe-(r-n);if(n=r,i>0){if(++e>=Xfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var tde=ede,nde=Jfe,rde=tde,ide=rde(nde),ade=ide,ode=jd,sde=qfe,lde=ade;function ude(t,e){return lde(sde(t,e,ode),t+"")}var cde=ude,fde=OS,dde=qA,hde=KS,pde=Il;function Ade(t,e,n){if(!pde(n))return!1;var r=typeof e;return(r=="number"?dde(n)&&hde(e,n.length):r=="string"&&e in n)?fde(n[e],t):!1}var my=Ade,mde=qj,gde=Rfe,vde=cde,Wk=my,yde=vde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Wk(t,e[0],e[1])?e=[]:n>2&&Wk(e[0],e[1],e[2])&&(e=[e[0]]),gde(t,mde(e,1),[])}),bde=yde;const ZS=Jt(bde);function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}function xde(t,e){return Tde(t)||_de(t,e)||Sde(t,e)||wde()}function wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sde(t,e){if(t){if(typeof t=="string")return Yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yk(t,e)}}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _de(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tde(t){if(Array.isArray(t))return t}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Cde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cde(t,e,n){return e=Nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=Ede(t,"string");return zp(e)=="symbol"?e:e+""}function Ede(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kde(t){return Array.isArray(t)&&mr(t[0])&&mr(t[1])?t.join(" ~ "):t}var Pde=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,b=e.label,w=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,S=function(){if(c&&c.length){var D={padding:0,margin:0},$=(h?ZS(c,h):c).map(function(F,G){if(F.type==="none")return null;var R=R1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),B=F.formatter||f||kde,W=F.value,K=F.name,Z=W,se=K;if(B&&Z!=null&&se!=null){var L=B(W,K,F,G,c);if(Array.isArray(L)){var z=xde(L,2);Z=z[0],se=z[1]}else Z=L}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:R},mr(se)?de.createElement("span",{className:"recharts-tooltip-item-name"},se):null,mr(se)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},Z),de.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:D},$)}return null},T=R1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=R1({margin:0},u),k=!It(b),E=k?b:"",M=Ot("recharts-default-tooltip",p),I=Ot("recharts-tooltip-label",v);k&&w&&c!==void 0&&c!==null&&(E=w(b,c));var U=x?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",rw({className:M,style:T},U),de.createElement("p",{className:I,style:C},de.isValidElement(E)?E:"".concat(E)),S())};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function rg(t,e,n){return e=Mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=Ode(t,"string");return Vp(e)=="symbol"?e:e+""}function Ode(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ih="recharts-tooltip-wrapper",Dde={visibility:"hidden"};function Ide(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ot(Ih,rg(rg(rg(rg({},"".concat(Ih,"-right"),Ye(n)&&e&&Ye(e.x)&&n>=e.x),"".concat(Ih,"-left"),Ye(n)&&e&&Ye(e.x)&&n<e.x),"".concat(Ih,"-bottom"),Ye(r)&&e&&Ye(e.y)&&r>=e.y),"".concat(Ih,"-top"),Ye(r)&&e&&Ye(e.y)&&r<e.y))}function Jk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ye(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function jde(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Lde(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=Jk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Jk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=jde({translateX:c,translateY:f,useTranslate3d:s})):u=Dde,{cssProperties:u,cssClasses:Ide({translateX:c,translateY:f,coordinate:n})}}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function $de(t,e,n){return e&&Fde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bde(t,e,n){return e=E0(e),Ude(t,Gj()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function Ude(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(t)}function qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gj=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function Hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iw(t,e)}function aw(t,e,n){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wj(t){var e=zde(t,"string");return Gf(e)=="symbol"?e:e+""}function zde(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zk=1,Vde=function(t){function e(){var n;Rde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Bde(this,e,[].concat(i)),aw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Hde(e,t),$de(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Zk||Math.abs(r.height-this.state.lastBoundingBox.height)>Zk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,S=Lde({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),T=S.cssClasses,C=S.cssProperties,k=Qk(Qk({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return de.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(M){r.wrapperNode=M}},u)}}])}(re.PureComponent),Gde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ld={isSsr:Gde()};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){e_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kj(r.key),r)}}function Kde(t,e,n){return e&&Yde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jde(t,e,n){return e=k0(e),Xde(t,Yj()?Reflect.construct(e,n||[],k0(t).constructor):e.apply(t,n))}function Xde(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qde(t)}function Qde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yj=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function Zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ow(t,e)}function e_(t,e,n){return e=Kj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kj(t){var e=ehe(t,"string");return Wf(e)=="symbol"?e:e+""}function ehe(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function the(t){return t.dataKey}function nhe(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(Pde,e)}var Ga=function(t){function e(){return Wde(this,e),Jde(this,e,arguments)}return Zde(e,t),Kde(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,b=i.payloadUniqBy,w=i.position,y=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,C=v??[];f&&C.length&&(C=Fj(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,the));var k=C.length>0;return de.createElement(Vde,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:k,offset:p,position:w,reverseDirection:y,useTranslate3d:x,viewBox:S,wrapperStyle:T},nhe(u,t4(t4({},this.props),{},{payload:C})))}}])}(re.PureComponent);e_(Ga,"displayName","Tooltip");e_(Ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ld.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rhe=_o,ihe=function(){return rhe.Date.now()},ahe=ihe,ohe=/\s/;function she(t){for(var e=t.length;e--&&ohe.test(t.charAt(e)););return e}var lhe=she,uhe=lhe,che=/^\s+/;function fhe(t){return t&&t.slice(0,uhe(t)+1).replace(che,"")}var dhe=fhe,hhe=dhe,n4=Il,phe=Ed,r4=NaN,Ahe=/^[-+]0x[0-9a-f]+$/i,mhe=/^0b[01]+$/i,ghe=/^0o[0-7]+$/i,vhe=parseInt;function yhe(t){if(typeof t=="number")return t;if(phe(t))return r4;if(n4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=n4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hhe(t);var n=mhe.test(t);return n||ghe.test(t)?vhe(t.slice(2),n?2:8):Ahe.test(t)?r4:+t}var Jj=yhe,bhe=Il,F1=ahe,i4=Jj,xhe="Expected a function",whe=Math.max,She=Math.min;function _he(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(xhe);e=i4(e)||0,bhe(n)&&(c=!!n.leading,f="maxWait"in n,a=f?whe(i4(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(k){var E=r,M=i;return r=i=void 0,u=k,o=t.apply(M,E),o}function v(k){return u=k,s=setTimeout(y,e),c?p(k):o}function b(k){var E=k-l,M=k-u,I=e-E;return f?She(I,a-M):I}function w(k){var E=k-l,M=k-u;return l===void 0||E>=e||E<0||f&&M>=a}function y(){var k=F1();if(w(k))return x(k);s=setTimeout(y,b(k))}function x(k){return s=void 0,h&&r?p(k):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?o:x(F1())}function C(){var k=F1(),E=w(k);if(r=arguments,i=this,l=k,E){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return C.cancel=S,C.flush=T,C}var The=_he,Che=The,Nhe=Il,Ehe="Expected a function";function khe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Ehe);return Nhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Che(t,e,{leading:r,maxWait:e,trailing:i})}var Phe=khe;const Xj=Jt(Phe);function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return e=Ohe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Dhe(t,"string");return Gp(e)=="symbol"?e:e+""}function Dhe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ihe(t,e){return Fhe(t)||Rhe(t,e)||Lhe(t,e)||jhe()}function jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lhe(t,e){if(t){if(typeof t=="string")return o4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o4(t,e)}}function o4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Fhe(t){if(Array.isArray(t))return t}var s4=re.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,b=v===void 0?0:v,w=t.id,y=t.className,x=t.onResize,S=t.style,T=S===void 0?{}:S,C=re.useRef(null),k=re.useRef();k.current=x,re.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=re.useState({containerWidth:i.width,containerHeight:i.height}),M=Ihe(E,2),I=M[0],U=M[1],O=re.useCallback(function($,F){U(function(G){var R=Math.round($),B=Math.round(F);return G.containerWidth===R&&G.containerHeight===B?G:{containerWidth:R,containerHeight:B}})},[]);re.useEffect(function(){var $=function(K){var Z,se=K[0].contentRect,L=se.width,z=se.height;O(L,z),(Z=k.current)===null||Z===void 0||Z.call(k,L,z)};b>0&&($=Xj($,b,{trailing:!0,leading:!1}));var F=new ResizeObserver($),G=C.current.getBoundingClientRect(),R=G.width,B=G.height;return O(R,B),F.observe(C.current),function(){F.disconnect()}},[O,b]);var D=re.useMemo(function(){var $=I.containerWidth,F=I.containerHeight;if($<0||F<0)return null;Ja(mu(o)||mu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ja(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=mu(o)?$:o,R=mu(l)?F:l;n&&n>0&&(G?R=G/n:R&&(G=R*n),h&&R>h&&(R=h)),Ja(G>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,R,o,l,c,f,n);var B=!Array.isArray(p)&&ns(p.type).endsWith("Chart");return de.Children.map(p,function(W){return de.isValidElement(W)?re.cloneElement(W,ig({width:G,height:R},B?{style:ig({height:"100%",width:"100%",maxHeight:R,maxWidth:G},W.props.style)}:{})):W})},[n,p,l,h,f,c,I,o]);return de.createElement("div",{id:w?"".concat(w):void 0,className:Ot("recharts-responsive-container",y),style:ig(ig({},T),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:C},D)}),gy=function(e){return null};gy.displayName="Cell";function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){$he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $he(t,e,n){return e=Bhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bhe(t){var e=Uhe(t,"string");return Wp(e)=="symbol"?e:e+""}function Uhe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uc={widthCache:{},cacheCount:0},qhe=2e3,Hhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},u4="recharts_measurement_span";function zhe(t){var e=sw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var yp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ld.isSsr)return{width:0,height:0};var r=zhe(n),i=JSON.stringify({text:e,copyStyle:r});if(Uc.widthCache[i])return Uc.widthCache[i];try{var a=document.getElementById(u4);a||(a=document.createElement("span"),a.setAttribute("id",u4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=sw(sw({},Hhe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Uc.widthCache[i]=l,++Uc.cacheCount>qhe&&(Uc.cacheCount=0,Uc.widthCache={}),l}catch{return{width:0,height:0}}},Vhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function P0(t,e){return Khe(t)||Yhe(t,e)||Whe(t,e)||Ghe()}function Ghe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(t,e){if(t){if(typeof t=="string")return c4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c4(t,e)}}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Khe(t){if(Array.isArray(t))return t}function Jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qhe(r.key),r)}}function Xhe(t,e,n){return e&&f4(t.prototype,e),n&&f4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qhe(t){var e=Zhe(t,"string");return Yp(e)=="symbol"?e:e+""}function Zhe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,epe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},npe=Object.keys(Qj),hf="NaN";function rpe(t,e){return t*Qj[e]}var ag=function(){function t(e,n){Jhe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!epe.test(n)&&(this.num=NaN,this.unit=""),npe.includes(n)&&(this.num=rpe(e,n),this.unit="px")}return Xhe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=tpe.exec(n))!==null&&r!==void 0?r:[],a=P0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function Zj(t){if(t.includes(hf))return hf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=d4.exec(e))!==null&&n!==void 0?n:[],i=P0(r,4),a=i[1],o=i[2],s=i[3],l=ag.parse(a??""),u=ag.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return hf;e=e.replace(d4,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=h4.exec(e))!==null&&f!==void 0?f:[],p=P0(h,4),v=p[1],b=p[2],w=p[3],y=ag.parse(v??""),x=ag.parse(w??""),S=b==="+"?y.add(x):y.subtract(x);if(S.isNaN())return hf;e=e.replace(h4,S.toString())}return e}var p4=/\(([^()]*)\)/;function ipe(t){for(var e=t;e.includes("(");){var n=p4.exec(e),r=P0(n,2),i=r[1];e=e.replace(p4,Zj(i))}return e}function ape(t){var e=t.replace(/\s+/g,"");return e=ipe(e),e=Zj(e),e}function ope(t){try{return ape(t)}catch{return hf}}function $1(t){var e=ope(t.slice(5,-1));return e===hf?"":e}var spe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lpe=["dx","dy","angle","className","breakAll"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function A4(t,e){if(t==null)return{};var n=upe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m4(t,e){return hpe(t)||dpe(t,e)||fpe(t,e)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(t,e){if(t){if(typeof t=="string")return g4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g4(t,e)}}function g4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hpe(t){if(Array.isArray(t))return t}var eL=/[ \f\n\r\t\v\u2028\u2029]+/,tL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];It(n)||(r?a=n.toString().split(""):a=n.toString().split(eL));var o=a.map(function(l){return{word:l,width:yp(l,i).width}}),s=r?0:yp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},ppe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Ye(o),f=s,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(R,B){var W=B.word,K=B.width,Z=R[R.length-1];if(Z&&(i==null||a||Z.width+K+r<Number(i)))Z.words.push(W),Z.width+=K+r;else{var se={words:[W],width:K};R.push(se)}return R},[])},p=h(n),v=function(G){return G.reduce(function(R,B){return R.width>B.width?R:B})};if(!c)return p;for(var b="",w=function(G){var R=f.slice(0,G),B=tL({breakAll:u,style:l,children:R+b}).wordsWithComputedWidth,W=h(B),K=W.length>o||v(W).width>Number(i);return[K,W]},y=0,x=f.length-1,S=0,T;y<=x&&S<=f.length-1;){var C=Math.floor((y+x)/2),k=C-1,E=w(k),M=m4(E,2),I=M[0],U=M[1],O=w(C),D=m4(O,1),$=D[0];if(!I&&!$&&(y=C+1),I&&$&&(x=C-1),!I&&$){T=U;break}S++}return T||p},v4=function(e){var n=It(e)?[]:e.toString().split(eL);return[{words:n}]},Ape=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Ld.isSsr){var l,u,c=tL({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return v4(i);return ppe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return v4(i)},y4="#808080",$u=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,w=e.fill,y=w===void 0?y4:w,x=A4(e,spe),S=re.useMemo(function(){return Ape({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),T=x.dx,C=x.dy,k=x.angle,E=x.className,M=x.breakAll,I=A4(x,lpe);if(!mr(r)||!mr(a))return null;var U=r+(Ye(T)?T:0),O=a+(Ye(C)?C:0),D;switch(b){case"start":D=$1("calc(".concat(u,")"));break;case"middle":D=$1("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:D=$1("calc(".concat(S.length-1," * -").concat(s,")"));break}var $=[];if(f){var F=S[0].width,G=x.width;$.push("scale(".concat((Ye(G)?G/F:1)/F,")"))}return k&&$.push("rotate(".concat(k,", ").concat(U,", ").concat(O,")")),$.length&&(I.transform=$.join(" ")),de.createElement("text",lw({},gt(I,!0),{x:U,y:O,className:Ot("recharts-text",E),textAnchor:p,fill:y.includes("url")?y4:y}),S.map(function(R,B){var W=R.words.join(M?"":" ");return de.createElement("tspan",{x:U,dy:B===0?D:s,key:"".concat(W,"-").concat(B)},W)}))};function xl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t_(t){let e,n,r;t.length!==2?(e=xl,n=(s,l)=>xl(t(s),l),r=(s,l)=>t(s)-l):(e=t===xl||t===mpe?t:gpe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function gpe(){return 0}function nL(t){return t===null?NaN:+t}function*vpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ype=t_(xl),HA=ype.right;t_(nL).center;class b4 extends Map{constructor(e,n=wpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(x4(this,e))}has(e){return super.has(x4(this,e))}set(e,n){return super.set(bpe(this,e),n)}delete(e){return super.delete(xpe(this,e))}}function x4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Spe(t=xl){if(t===xl)return rL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _pe=Math.sqrt(50),Tpe=Math.sqrt(10),Cpe=Math.sqrt(2);function M0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=_pe?10:a>=Tpe?5:a>=Cpe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?M0(t,e,n*2):[s,l,u]}function uw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?M0(e,t,n):M0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function cw(t,e,n){return e=+e,t=+t,n=+n,M0(t,e,n)[2]}function fw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?cw(e,t,n):cw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function w4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function S4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rL:Spe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));iL(t,e,p,v,i)}const a=t[e];let o=n,s=r;for(jh(t,n,e),i(t[r],a)>0&&jh(t,n,r);o<s;){for(jh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?jh(t,n,s):(++s,jh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function jh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Npe(t,e,n){if(t=Float64Array.from(vpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return S4(t);if(e>=1)return w4(t);var r,i=(r-1)*e,a=Math.floor(i),o=w4(iL(t,a).subarray(0,a+1)),s=S4(t.subarray(a+1));return o+(s-o)*(i-a)}}function Epe(t,e,n=nL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function kpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ka(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dw=Symbol("implicit");function n_(){var t=new b4,e=[],n=[],r=dw;function i(a){let o=t.get(a);if(o===void 0){if(r!==dw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new b4;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return n_(e,n).unknown(r)},ka.apply(i,arguments),i}function Kp(){var t=n_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,v=p?i:r,b=p?r:i;a=(b-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(b-v-a*(h-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var w=kpe(h).map(function(y){return v+a*y});return n(p?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Kp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ka.apply(f(),arguments)}function aL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aL(e())},t}function bp(){return aL(Kp.apply(null,arguments).paddingInner(1))}function r_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function oL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zA(){}var Jp=.7,O0=1/Jp,kf="\\s*([+-]?\\d+)\\s*",Xp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ppe=/^#([0-9a-f]{3,8})$/,Mpe=new RegExp(`^rgb\\(${kf},${kf},${kf}\\)$`),Ope=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),Dpe=new RegExp(`^rgba\\(${kf},${kf},${kf},${Xp}\\)$`),Ipe=new RegExp(`^rgba\\(${vo},${vo},${vo},${Xp}\\)$`),jpe=new RegExp(`^hsl\\(${Xp},${vo},${vo}\\)$`),Lpe=new RegExp(`^hsla\\(${Xp},${vo},${vo},${Xp}\\)$`),_4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r_(zA,Qp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:T4,formatHex:T4,formatHex8:Rpe,formatHsl:Fpe,formatRgb:C4,toString:C4});function T4(){return this.rgb().formatHex()}function Rpe(){return this.rgb().formatHex8()}function Fpe(){return sL(this).formatHsl()}function C4(){return this.rgb().formatRgb()}function Qp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ppe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?N4(e):n===3?new xi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?og(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?og(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Mpe.exec(t))?new xi(e[1],e[2],e[3],1):(e=Ope.exec(t))?new xi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dpe.exec(t))?og(e[1],e[2],e[3],e[4]):(e=Ipe.exec(t))?og(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jpe.exec(t))?P4(e[1],e[2]/100,e[3]/100,1):(e=Lpe.exec(t))?P4(e[1],e[2]/100,e[3]/100,e[4]):_4.hasOwnProperty(t)?N4(_4[t]):t==="transparent"?new xi(NaN,NaN,NaN,0):null}function N4(t){return new xi(t>>16&255,t>>8&255,t&255,1)}function og(t,e,n,r){return r<=0&&(t=e=n=NaN),new xi(t,e,n,r)}function $pe(t){return t instanceof zA||(t=Qp(t)),t?(t=t.rgb(),new xi(t.r,t.g,t.b,t.opacity)):new xi}function hw(t,e,n,r){return arguments.length===1?$pe(t):new xi(t,e,n,r??1)}function xi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}r_(xi,hw,oL(zA,{brighter(t){return t=t==null?O0:Math.pow(O0,t),new xi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jp:Math.pow(Jp,t),new xi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xi(ku(this.r),ku(this.g),ku(this.b),D0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E4,formatHex:E4,formatHex8:Bpe,formatRgb:k4,toString:k4}));function E4(){return`#${gu(this.r)}${gu(this.g)}${gu(this.b)}`}function Bpe(){return`#${gu(this.r)}${gu(this.g)}${gu(this.b)}${gu((isNaN(this.opacity)?1:this.opacity)*255)}`}function k4(){const t=D0(this.opacity);return`${t===1?"rgb(":"rgba("}${ku(this.r)}, ${ku(this.g)}, ${ku(this.b)}${t===1?")":`, ${t})`}`}function D0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ku(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gu(t){return t=ku(t),(t<16?"0":"")+t.toString(16)}function P4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ya(t,e,n,r)}function sL(t){if(t instanceof Ya)return new Ya(t.h,t.s,t.l,t.opacity);if(t instanceof zA||(t=Qp(t)),!t)return new Ya;if(t instanceof Ya)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ya(o,s,l,t.opacity)}function Upe(t,e,n,r){return arguments.length===1?sL(t):new Ya(t,e,n,r??1)}function Ya(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r_(Ya,Upe,oL(zA,{brighter(t){return t=t==null?O0:Math.pow(O0,t),new Ya(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jp:Math.pow(Jp,t),new Ya(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xi(B1(t>=240?t-240:t+120,i,r),B1(t,i,r),B1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ya(M4(this.h),sg(this.s),sg(this.l),D0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=D0(this.opacity);return`${t===1?"hsl(":"hsla("}${M4(this.h)}, ${sg(this.s)*100}%, ${sg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function M4(t){return t=(t||0)%360,t<0?t+360:t}function sg(t){return Math.max(0,Math.min(1,t||0))}function B1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const i_=t=>()=>t;function qpe(t,e){return function(n){return t+n*e}}function Hpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zpe(t){return(t=+t)==1?lL:function(e,n){return n-e?Hpe(e,n,t):i_(isNaN(e)?n:e)}}function lL(t,e){var n=e-t;return n?qpe(t,n):i_(isNaN(t)?e:t)}const O4=function t(e){var n=zpe(e);function r(i,a){var o=n((i=hw(i)).r,(a=hw(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=lL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Vpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Gpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wpe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Rd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Ype(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function I0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Rd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var pw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U1=new RegExp(pw.source,"g");function Jpe(t){return function(){return t}}function Xpe(t){return function(e){return t(e)+""}}function Qpe(t,e){var n=pw.lastIndex=U1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=pw.exec(t))&&(i=U1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:I0(r,i)})),n=U1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Xpe(l[0].x):Jpe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Rd(t,e){var n=typeof e,r;return e==null||n==="boolean"?i_(e):(n==="number"?I0:n==="string"?(r=Qp(e))?(e=r,O4):Qpe:e instanceof Qp?O4:e instanceof Date?Ype:Gpe(e)?Vpe:Array.isArray(e)?Wpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kpe:I0)(t,e)}function a_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Zpe(t,e){e===void 0&&(e=t,t=Rd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function eAe(t){return function(){return t}}function j0(t){return+t}var D4=[0,1];function ai(t){return t}function Aw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eAe(isNaN(e)?NaN:.5)}function tAe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nAe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Aw(i,r),a=n(o,a)):(r=Aw(r,i),a=n(a,o)),function(s){return a(r(s))}}function rAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Aw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=HA(t,s,1,r)-1;return a[l](i[l](s))}}function VA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vy(){var t=D4,e=D4,n=Rd,r,i,a,o=ai,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==ai&&(o=tAe(t[0],t[h-1])),s=h>2?rAe:nAe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),I0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,j0),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=a_,c()},f.clamp=function(h){return arguments.length?(o=h?!0:ai,c()):o!==ai},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,c()}}function o_(){return vy()(ai,ai)}function iAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function L0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yf(t){return t=L0(Math.abs(t)),t?t[1]:NaN}function aAe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function oAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var sAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zp(t){if(!(e=sAe.exec(t)))throw new Error("invalid format: "+t);var e;return new s_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zp.prototype=s_.prototype;function s_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}s_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uL;function uAe(t,e){var n=L0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(uL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+L0(t,Math.max(0,e+a-1))[0]}function I4(t,e){var n=L0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const j4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>I4(t*100,e),r:I4,s:uAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function L4(t){return t}var R4=Array.prototype.map,F4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cAe(t){var e=t.grouping===void 0||t.thousands===void 0?L4:aAe(R4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?L4:oAe(R4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Zp(f);var h=f.fill,p=f.align,v=f.sign,b=f.symbol,w=f.zero,y=f.width,x=f.comma,S=f.precision,T=f.trim,C=f.type;C==="n"?(x=!0,C="g"):j4[C]||(S===void 0&&(S=12),T=!0,C="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=b==="$"?r:/[%p]/.test(C)?o:"",M=j4[C],I=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function U(O){var D=k,$=E,F,G,R;if(C==="c")$=M(O)+$,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?l:M(Math.abs(O),S),T&&(O=lAe(O)),B&&+O==0&&v!=="+"&&(B=!1),D=(B?v==="("?v:s:v==="-"||v==="("?"":v)+D,$=(C==="s"?F4[8+uL/3]:"")+$+(B&&v==="("?")":""),I){for(F=-1,G=O.length;++F<G;)if(R=O.charCodeAt(F),48>R||R>57){$=(R===46?i+O.slice(F+1):O.slice(F))+$,O=O.slice(0,F);break}}}x&&!w&&(O=e(O,1/0));var W=D.length+O.length+$.length,K=W<y?new Array(y-W+1).join(h):"";switch(x&&w&&(O=e(K+O,K.length?y-$.length:1/0),K=""),p){case"<":O=D+O+$+K;break;case"=":O=D+K+O+$;break;case"^":O=K.slice(0,W=K.length>>1)+D+O+$+K.slice(W);break;default:O=K+D+O+$;break}return a(O)}return U.toString=function(){return f+""},U}function c(f,h){var p=u((f=Zp(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Yf(h)/3)))*3,b=Math.pow(10,-v),w=F4[8+v/3];return function(y){return p(b*y)+w}}return{format:u,formatPrefix:c}}var lg,l_,cL;fAe({thousands:",",grouping:[3],currency:["$",""]});function fAe(t){return lg=cAe(t),l_=lg.format,cL=lg.formatPrefix,lg}function dAe(t){return Math.max(0,-Yf(Math.abs(t)))}function hAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yf(e)/3)))*3-Yf(Math.abs(t)))}function pAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yf(e)-Yf(t))+1}function fL(t,e,n,r){var i=fw(t,e,n),a;switch(r=Zp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=hAe(i,o))&&(r.precision=a),cL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=pAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=dAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return l_(r)}function jl(t){var e=t.domain;return t.ticks=function(n){var r=e();return uw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=cw(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function R0(){var t=o_();return t.copy=function(){return VA(t,R0())},ka.apply(t,arguments),jl(t)}function dL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,j0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return dL(t).unknown(e)},t=arguments.length?Array.from(t,j0):[0,1],jl(n)}function hL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function $4(t){return Math.log(t)}function B4(t){return Math.exp(t)}function AAe(t){return-Math.log(-t)}function mAe(t){return-Math.exp(-t)}function gAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vAe(t){return t===10?gAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function U4(t){return(e,n)=>-t(-e,n)}function u_(t){const e=t($4,B4),n=e.domain;let r=10,i,a;function o(){return i=yAe(r),a=vAe(r),n()[0]<0?(i=U4(i),a=U4(a),t(AAe,mAe)):t($4,B4),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),v,b;const w=s==null?10:+s;let y=[];if(!(r%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<r;++v)if(b=h<0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}y.length*2<w&&(y=uw(u,c,w))}else y=uw(h,p,Math.min(p-h,w)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Zp(l)).precision==null&&(l.trim=!0),l=l_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(hL(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function pL(){const t=u_(vy()).domain([1,10]);return t.copy=()=>VA(t,pL()).base(t.base()),ka.apply(t,arguments),t}function q4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function c_(t){var e=1,n=t(q4(e),H4(e));return n.constant=function(r){return arguments.length?t(q4(e=+r),H4(e)):e},jl(n)}function AL(){var t=c_(vy());return t.copy=function(){return VA(t,AL()).constant(t.constant())},ka.apply(t,arguments)}function z4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xAe(t){return t<0?-t*t:t*t}function f_(t){var e=t(ai,ai),n=1;function r(){return n===1?t(ai,ai):n===.5?t(bAe,xAe):t(z4(n),z4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},jl(e)}function d_(){var t=f_(vy());return t.copy=function(){return VA(t,d_()).exponent(t.exponent())},ka.apply(t,arguments),t}function wAe(){return d_.apply(null,arguments).exponent(.5)}function V4(t){return Math.sign(t)*t*t}function SAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mL(){var t=o_(),e=[0,1],n=!1,r;function i(a){var o=SAe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(V4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,j0)).map(V4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ka.apply(i,arguments),jl(i)}function gL(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Epe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[HA(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(xl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return gL().domain(t).range(e).unknown(r)},ka.apply(a,arguments)}function vL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[HA(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return vL().domain([t,e]).range(i).unknown(a)},ka.apply(jl(o),arguments)}function yL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[HA(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return yL().domain(t).range(e).unknown(n)},ka.apply(i,arguments)}const q1=new Date,H1=new Date;function vr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>vr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(q1.setTime(+a),H1.setTime(+o),t(q1),t(H1),Math.floor(n(q1,H1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const F0=vr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);F0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):F0);F0.range;const Jo=1e3,xa=Jo*60,Xo=xa*60,us=Xo*24,h_=us*7,G4=us*30,z1=us*365,vu=vr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getUTCSeconds());vu.range;const p_=vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo)},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getMinutes());p_.range;const A_=vr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getUTCMinutes());A_.range;const m_=vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jo-t.getMinutes()*xa)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getHours());m_.range;const g_=vr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getUTCHours());g_.range;const GA=vr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xa)/us,t=>t.getDate()-1);GA.range;const yy=vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/us,t=>t.getUTCDate()-1);yy.range;const bL=vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/us,t=>Math.floor(t/us));bL.range;function ec(t){return vr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xa)/h_)}const by=ec(0),$0=ec(1),_Ae=ec(2),TAe=ec(3),Kf=ec(4),CAe=ec(5),NAe=ec(6);by.range;$0.range;_Ae.range;TAe.range;Kf.range;CAe.range;NAe.range;function tc(t){return vr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/h_)}const xy=tc(0),B0=tc(1),EAe=tc(2),kAe=tc(3),Jf=tc(4),PAe=tc(5),MAe=tc(6);xy.range;B0.range;EAe.range;kAe.range;Jf.range;PAe.range;MAe.range;const v_=vr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());v_.range;const y_=vr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());y_.range;const cs=vr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());cs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});cs.range;const fs=vr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fs.range;function xL(t,e,n,r,i,a){const o=[[vu,1,Jo],[vu,5,5*Jo],[vu,15,15*Jo],[vu,30,30*Jo],[a,1,xa],[a,5,5*xa],[a,15,15*xa],[a,30,30*xa],[i,1,Xo],[i,3,3*Xo],[i,6,6*Xo],[i,12,12*Xo],[r,1,us],[r,2,2*us],[n,1,h_],[e,1,G4],[e,3,3*G4],[t,1,z1]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),v=p?p.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,p=t_(([,,w])=>w).right(o,h);if(p===o.length)return t.every(fw(u/z1,c/z1,f));if(p===0)return F0.every(Math.max(fw(u,c,f),1));const[v,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(b)}return[s,l]}const[OAe,DAe]=xL(fs,y_,xy,bL,g_,A_),[IAe,jAe]=xL(cs,v_,by,GA,m_,p_);function V1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function G1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function LAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Rh(i),c=Fh(i),f=Rh(a),h=Fh(a),p=Rh(o),v=Fh(o),b=Rh(s),w=Fh(s),y=Rh(l),x=Fh(l),S={a:B,A:W,b:K,B:Z,c:null,d:Q4,e:Q4,f:ame,g:Ame,G:gme,H:nme,I:rme,j:ime,L:wL,m:ome,M:sme,p:se,q:L,Q:t3,s:n3,S:lme,u:ume,U:cme,V:fme,w:dme,W:hme,x:null,X:null,y:pme,Y:mme,Z:vme,"%":e3},T={a:z,A:Q,b:te,B:ie,c:null,d:Z4,e:Z4,f:wme,g:Ome,G:Ime,H:yme,I:bme,j:xme,L:_L,m:Sme,M:_me,p:me,q:Ae,Q:t3,s:n3,S:Tme,u:Cme,U:Nme,V:Eme,w:kme,W:Pme,x:null,X:null,y:Mme,Y:Dme,Z:jme,"%":e3},C={a:U,A:O,b:D,B:$,c:F,d:J4,e:J4,f:QAe,g:K4,G:Y4,H:X4,I:X4,j:YAe,L:XAe,m:WAe,M:KAe,p:I,q:GAe,Q:eme,s:tme,S:JAe,u:UAe,U:qAe,V:HAe,w:BAe,W:zAe,x:G,X:R,y:K4,Y:Y4,Z:VAe,"%":ZAe};S.x=k(n,S),S.X=k(r,S),S.c=k(e,S),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(V,le){return function(ce){var ue=[],Me=-1,Le=0,Ce=V.length,ae,Ne,Ee;for(ce instanceof Date||(ce=new Date(+ce));++Me<Ce;)V.charCodeAt(Me)===37&&(ue.push(V.slice(Le,Me)),(Ne=W4[ae=V.charAt(++Me)])!=null?ae=V.charAt(++Me):Ne=ae==="e"?" ":"0",(Ee=le[ae])&&(ae=Ee(ce,Ne)),ue.push(ae),Le=Me+1);return ue.push(V.slice(Le,Me)),ue.join("")}}function E(V,le){return function(ce){var ue=Lh(1900,void 0,1),Me=M(ue,V,ce+="",0),Le,Ce;if(Me!=ce.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(le&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Le=G1(Lh(ue.y,0,1)),Ce=Le.getUTCDay(),Le=Ce>4||Ce===0?B0.ceil(Le):B0(Le),Le=yy.offset(Le,(ue.V-1)*7),ue.y=Le.getUTCFullYear(),ue.m=Le.getUTCMonth(),ue.d=Le.getUTCDate()+(ue.w+6)%7):(Le=V1(Lh(ue.y,0,1)),Ce=Le.getDay(),Le=Ce>4||Ce===0?$0.ceil(Le):$0(Le),Le=GA.offset(Le,(ue.V-1)*7),ue.y=Le.getFullYear(),ue.m=Le.getMonth(),ue.d=Le.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ce="Z"in ue?G1(Lh(ue.y,0,1)).getUTCDay():V1(Lh(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ce+5)%7:ue.w+ue.U*7-(Ce+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,G1(ue)):V1(ue)}}function M(V,le,ce,ue){for(var Me=0,Le=le.length,Ce=ce.length,ae,Ne;Me<Le;){if(ue>=Ce)return-1;if(ae=le.charCodeAt(Me++),ae===37){if(ae=le.charAt(Me++),Ne=C[ae in W4?le.charAt(Me++):ae],!Ne||(ue=Ne(V,ce,ue))<0)return-1}else if(ae!=ce.charCodeAt(ue++))return-1}return ue}function I(V,le,ce){var ue=u.exec(le.slice(ce));return ue?(V.p=c.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function U(V,le,ce){var ue=p.exec(le.slice(ce));return ue?(V.w=v.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function O(V,le,ce){var ue=f.exec(le.slice(ce));return ue?(V.w=h.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function D(V,le,ce){var ue=y.exec(le.slice(ce));return ue?(V.m=x.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function $(V,le,ce){var ue=b.exec(le.slice(ce));return ue?(V.m=w.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function F(V,le,ce){return M(V,e,le,ce)}function G(V,le,ce){return M(V,n,le,ce)}function R(V,le,ce){return M(V,r,le,ce)}function B(V){return o[V.getDay()]}function W(V){return a[V.getDay()]}function K(V){return l[V.getMonth()]}function Z(V){return s[V.getMonth()]}function se(V){return i[+(V.getHours()>=12)]}function L(V){return 1+~~(V.getMonth()/3)}function z(V){return o[V.getUTCDay()]}function Q(V){return a[V.getUTCDay()]}function te(V){return l[V.getUTCMonth()]}function ie(V){return s[V.getUTCMonth()]}function me(V){return i[+(V.getUTCHours()>=12)]}function Ae(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var le=k(V+="",S);return le.toString=function(){return V},le},parse:function(V){var le=E(V+="",!1);return le.toString=function(){return V},le},utcFormat:function(V){var le=k(V+="",T);return le.toString=function(){return V},le},utcParse:function(V){var le=E(V+="",!0);return le.toString=function(){return V},le}}}var W4={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,RAe=/^%/,FAe=/[\\^$*+?|[\]().{}]/g;function Vt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function $Ae(t){return t.replace(FAe,"\\$&")}function Rh(t){return new RegExp("^(?:"+t.map($Ae).join("|")+")","i")}function Fh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function BAe(t,e,n){var r=Er.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function UAe(t,e,n){var r=Er.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qAe(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function HAe(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zAe(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Y4(t,e,n){var r=Er.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function K4(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function VAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GAe(t,e,n){var r=Er.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function WAe(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function J4(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function YAe(t,e,n){var r=Er.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function X4(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function KAe(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function JAe(t,e,n){var r=Er.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function XAe(t,e,n){var r=Er.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function QAe(t,e,n){var r=Er.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZAe(t,e,n){var r=RAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eme(t,e,n){var r=Er.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function tme(t,e,n){var r=Er.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Q4(t,e){return Vt(t.getDate(),e,2)}function nme(t,e){return Vt(t.getHours(),e,2)}function rme(t,e){return Vt(t.getHours()%12||12,e,2)}function ime(t,e){return Vt(1+GA.count(cs(t),t),e,3)}function wL(t,e){return Vt(t.getMilliseconds(),e,3)}function ame(t,e){return wL(t,e)+"000"}function ome(t,e){return Vt(t.getMonth()+1,e,2)}function sme(t,e){return Vt(t.getMinutes(),e,2)}function lme(t,e){return Vt(t.getSeconds(),e,2)}function ume(t){var e=t.getDay();return e===0?7:e}function cme(t,e){return Vt(by.count(cs(t)-1,t),e,2)}function SL(t){var e=t.getDay();return e>=4||e===0?Kf(t):Kf.ceil(t)}function fme(t,e){return t=SL(t),Vt(Kf.count(cs(t),t)+(cs(t).getDay()===4),e,2)}function dme(t){return t.getDay()}function hme(t,e){return Vt($0.count(cs(t)-1,t),e,2)}function pme(t,e){return Vt(t.getFullYear()%100,e,2)}function Ame(t,e){return t=SL(t),Vt(t.getFullYear()%100,e,2)}function mme(t,e){return Vt(t.getFullYear()%1e4,e,4)}function gme(t,e){var n=t.getDay();return t=n>=4||n===0?Kf(t):Kf.ceil(t),Vt(t.getFullYear()%1e4,e,4)}function vme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vt(e/60|0,"0",2)+Vt(e%60,"0",2)}function Z4(t,e){return Vt(t.getUTCDate(),e,2)}function yme(t,e){return Vt(t.getUTCHours(),e,2)}function bme(t,e){return Vt(t.getUTCHours()%12||12,e,2)}function xme(t,e){return Vt(1+yy.count(fs(t),t),e,3)}function _L(t,e){return Vt(t.getUTCMilliseconds(),e,3)}function wme(t,e){return _L(t,e)+"000"}function Sme(t,e){return Vt(t.getUTCMonth()+1,e,2)}function _me(t,e){return Vt(t.getUTCMinutes(),e,2)}function Tme(t,e){return Vt(t.getUTCSeconds(),e,2)}function Cme(t){var e=t.getUTCDay();return e===0?7:e}function Nme(t,e){return Vt(xy.count(fs(t)-1,t),e,2)}function TL(t){var e=t.getUTCDay();return e>=4||e===0?Jf(t):Jf.ceil(t)}function Eme(t,e){return t=TL(t),Vt(Jf.count(fs(t),t)+(fs(t).getUTCDay()===4),e,2)}function kme(t){return t.getUTCDay()}function Pme(t,e){return Vt(B0.count(fs(t)-1,t),e,2)}function Mme(t,e){return Vt(t.getUTCFullYear()%100,e,2)}function Ome(t,e){return t=TL(t),Vt(t.getUTCFullYear()%100,e,2)}function Dme(t,e){return Vt(t.getUTCFullYear()%1e4,e,4)}function Ime(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Jf(t):Jf.ceil(t),Vt(t.getUTCFullYear()%1e4,e,4)}function jme(){return"+0000"}function e3(){return"%"}function t3(t){return+t}function n3(t){return Math.floor(+t/1e3)}var qc,CL,NL;Lme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lme(t){return qc=LAe(t),CL=qc.format,qc.parse,NL=qc.utcFormat,qc.utcParse,qc}function Rme(t){return new Date(t)}function Fme(t){return t instanceof Date?+t:+new Date(+t)}function b_(t,e,n,r,i,a,o,s,l,u){var c=o_(),f=c.invert,h=c.domain,p=u(".%L"),v=u(":%S"),b=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),x=u("%b %d"),S=u("%B"),T=u("%Y");function C(k){return(l(k)<k?p:s(k)<k?v:o(k)<k?b:a(k)<k?w:r(k)<k?i(k)<k?y:x:n(k)<k?S:T)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?h(Array.from(k,Fme)):h().map(Rme)},c.ticks=function(k){var E=h();return t(E[0],E[E.length-1],k??10)},c.tickFormat=function(k,E){return E==null?C:u(E)},c.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?h(hL(E,k)):c},c.copy=function(){return VA(c,b_(t,e,n,r,i,a,o,s,l,u))},c}function $me(){return ka.apply(b_(IAe,jAe,cs,v_,by,GA,m_,p_,vu,CL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bme(){return ka.apply(b_(OAe,DAe,fs,y_,xy,yy,g_,A_,vu,NL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wy(){var t=0,e=1,n,r,i,a,o=ai,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=c(Rd),u.rangeRound=c(a_),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Ll(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EL(){var t=jl(wy()(ai));return t.copy=function(){return Ll(t,EL())},gs.apply(t,arguments)}function kL(){var t=u_(wy()).domain([1,10]);return t.copy=function(){return Ll(t,kL()).base(t.base())},gs.apply(t,arguments)}function PL(){var t=c_(wy());return t.copy=function(){return Ll(t,PL()).constant(t.constant())},gs.apply(t,arguments)}function x_(){var t=f_(wy());return t.copy=function(){return Ll(t,x_()).exponent(t.exponent())},gs.apply(t,arguments)}function Ume(){return x_.apply(null,arguments).exponent(.5)}function ML(){var t=[],e=ai;function n(r){if(r!=null&&!isNaN(r=+r))return e((HA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Npe(t,a/r))},n.copy=function(){return ML(e).domain(t)},gs.apply(n,arguments)}function Sy(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=ai,c,f=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-a)*(r*b<r*a?s:l),u(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(u=b,p):u};function v(b){return function(w){var y,x,S;return arguments.length?([y,x,S]=w,u=Zpe(b,[y,x,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Rd),p.rangeRound=v(a_),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return c=b,i=b(t),a=b(e),o=b(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function OL(){var t=jl(Sy()(ai));return t.copy=function(){return Ll(t,OL())},gs.apply(t,arguments)}function DL(){var t=u_(Sy()).domain([.1,1,10]);return t.copy=function(){return Ll(t,DL()).base(t.base())},gs.apply(t,arguments)}function IL(){var t=c_(Sy());return t.copy=function(){return Ll(t,IL()).constant(t.constant())},gs.apply(t,arguments)}function w_(){var t=f_(Sy());return t.copy=function(){return Ll(t,w_()).exponent(t.exponent())},gs.apply(t,arguments)}function qme(){return w_.apply(null,arguments).exponent(.5)}const r3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kp,scaleDiverging:OL,scaleDivergingLog:DL,scaleDivergingPow:w_,scaleDivergingSqrt:qme,scaleDivergingSymlog:IL,scaleIdentity:dL,scaleImplicit:dw,scaleLinear:R0,scaleLog:pL,scaleOrdinal:n_,scalePoint:bp,scalePow:d_,scaleQuantile:gL,scaleQuantize:vL,scaleRadial:mL,scaleSequential:EL,scaleSequentialLog:kL,scaleSequentialPow:x_,scaleSequentialQuantile:ML,scaleSequentialSqrt:Ume,scaleSequentialSymlog:PL,scaleSqrt:wAe,scaleSymlog:AL,scaleThreshold:yL,scaleTime:$me,scaleUtc:Bme,tickFormat:fL},Symbol.toStringTag,{value:"Module"}));var Hme=Ed;function zme(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Hme(o):n(o,s)))var s=o,l=a}return l}var _y=zme;function Vme(t,e){return t>e}var jL=Vme,Gme=_y,Wme=jL,Yme=jd;function Kme(t){return t&&t.length?Gme(t,Yme,Wme):void 0}var Jme=Kme;const Ty=Jt(Jme);function Xme(t,e){return t<e}var LL=Xme,Qme=_y,Zme=LL,ege=jd;function tge(t){return t&&t.length?Qme(t,ege,Zme):void 0}var nge=tge;const Cy=Jt(nge);var rge=LS,ige=To,age=zj,oge=Ci;function sge(t,e){var n=oge(t)?rge:age;return n(t,ige(e))}var lge=sge,uge=qj,cge=lge;function fge(t,e){return uge(cge(t,e),1)}var dge=fge;const hge=Jt(dge);var pge=XS;function Age(t,e){return pge(t,e)}var mge=Age;const Ny=Jt(mge);var Fd=1e9,gge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},__,Dn=!0,Na="[DecimalError] ",Pu=Na+"Invalid argument: ",S_=Na+"Exponent out of range: ",$d=Math.floor,du=Math.pow,vge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ui,Sr=1e7,Nn=7,RL=9007199254740991,U0=$d(RL/Nn),nt={};nt.absoluteValue=nt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};nt.comparedTo=nt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};nt.dividedBy=nt.div=function(t){return rs(this,new this.constructor(t))};nt.dividedToIntegerBy=nt.idiv=function(t){var e=this,n=e.constructor;return pn(rs(e,new n(t),0,1),n.precision)};nt.equals=nt.eq=function(t){return!this.cmp(t)};nt.exponent=function(){return sr(this)};nt.greaterThan=nt.gt=function(t){return this.cmp(t)>0};nt.greaterThanOrEqualTo=nt.gte=function(t){return this.cmp(t)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(t){return this.cmp(t)<0};nt.lessThanOrEqualTo=nt.lte=function(t){return this.cmp(t)<1};nt.logarithm=nt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ui))throw Error(Na+"NaN");if(n.s<1)throw Error(Na+(n.s?"NaN":"-Infinity"));return n.eq(Ui)?new r(0):(Dn=!1,e=rs(eA(n,a),eA(t,a),a),Dn=!0,pn(e,i))};nt.minus=nt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BL(e,t):FL(e,(t.s=-t.s,t))};nt.modulo=nt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Na+"NaN");return n.s?(Dn=!1,e=rs(n,t,0,1).times(t),Dn=!0,n.minus(e)):pn(new r(n),i)};nt.naturalExponential=nt.exp=function(){return $L(this)};nt.naturalLogarithm=nt.ln=function(){return eA(this)};nt.negated=nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};nt.plus=nt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FL(e,t):BL(e,(t.s=-t.s,t))};nt.precision=nt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Pu+t);if(e=sr(i)+1,r=i.d.length-1,n=r*Nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};nt.squareRoot=nt.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Na+"NaN")}for(t=sr(s),Dn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ao(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=$d((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(rs(s,a,o+2)).times(.5),Ao(a.d).slice(0,o)===(e=Ao(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(pn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Dn=!0,pn(r,n)};nt.times=nt.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+e,a[i--]=s%Sr|0,e=s/Sr|0;a[i]=(a[i]+e)%Sr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Dn?pn(t,f.precision):t};nt.toDecimalPlaces=nt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bo(t,0,Fd),e===void 0?e=r.rounding:bo(e,0,8),pn(n,t+sr(n)+1,e))};nt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Bu(r,!0):(bo(t,0,Fd),e===void 0?e=i.rounding:bo(e,0,8),r=pn(new i(r),t+1,e),n=Bu(r,!0,t+1)),n};nt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Bu(i):(bo(t,0,Fd),e===void 0?e=a.rounding:bo(e,0,8),r=pn(new a(i),t+sr(i)+1,e),n=Bu(r.abs(),!1,t+sr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};nt.toInteger=nt.toint=function(){var t=this,e=t.constructor;return pn(new e(t),sr(t)+1,e.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Ui);if(s=new l(s),!s.s){if(t.s<1)throw Error(Na+"Infinity");return s}if(s.eq(Ui))return s;if(r=l.precision,t.eq(Ui))return pn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=RL){for(i=new l(Ui),e=Math.ceil(r/Nn+4),Dn=!1;n%2&&(i=i.times(s),a3(i.d,e)),n=$d(n/2),n!==0;)s=s.times(s),a3(s.d,e);return Dn=!0,t.s<0?new l(Ui).div(i):pn(i,r)}}else if(a<0)throw Error(Na+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Dn=!1,i=t.times(eA(s,r+u)),Dn=!0,i=$L(i),i.s=a,i};nt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=sr(i),r=Bu(i,n<=a.toExpNeg||n>=a.toExpPos)):(bo(t,1,Fd),e===void 0?e=a.rounding:bo(e,0,8),i=pn(new a(i),t,e),n=sr(i),r=Bu(i,t<=n||n<=a.toExpNeg,t)),r};nt.toSignificantDigits=nt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bo(t,1,Fd),e===void 0?e=r.rounding:bo(e,0,8)),pn(new r(n),t,e)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sr(t),n=t.constructor;return Bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function FL(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Dn?pn(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Sr|0,l[a]%=Sr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Dn?pn(e,f):e}function bo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Pu+t)}function Ao(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Nn-r.length,n&&(a+=Ys(n)),a+=r;o=t[e],r=o+"",n=Nn-r.length,n&&(a+=Ys(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var rs=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Sr|0,o=a/Sr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Sr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,p,v,b,w,y,x,S,T,C,k,E,M,I=r.constructor,U=r.s==i.s?1:-1,O=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Na+"Division by zero");for(l=r.e-i.e,E=D.length,C=O.length,p=new I(U),v=p.d=[],u=0;D[u]==(O[u]||0);)++u;if(D[u]>(O[u]||0)&&--l,a==null?x=a=I.precision:o?x=a+(sr(r)-sr(i))+1:x=a,x<0)return new I(0);if(x=x/Nn+2|0,u=0,E==1)for(c=0,D=D[0],x++;(u<C||c)&&x--;u++)S=c*Sr+(O[u]||0),v[u]=S/D|0,c=S%D|0;else{for(c=Sr/(D[0]+1)|0,c>1&&(D=t(D,c),O=t(O,c),E=D.length,C=O.length),T=E,b=O.slice(0,E),w=b.length;w<E;)b[w++]=0;M=D.slice(),M.unshift(0),k=D[0],D[1]>=Sr/2&&++k;do c=0,s=e(D,b,E,w),s<0?(y=b[0],E!=w&&(y=y*Sr+(b[1]||0)),c=y/k|0,c>1?(c>=Sr&&(c=Sr-1),f=t(D,c),h=f.length,w=b.length,s=e(f,b,h,w),s==1&&(c--,n(f,E<h?M:D,h))):(c==0&&(s=c=1),f=D.slice()),h=f.length,h<w&&f.unshift(0),n(b,f,w),s==-1&&(w=b.length,s=e(D,b,E,w),s<1&&(c++,n(b,E<w?M:D,w))),w=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[w++]=O[T]||0:(b=[O[T]],w=1);while((T++<C||b[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=l,pn(p,o?a+sr(p)+1:a)}}();function $L(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(sr(t)>16)throw Error(S_+sr(t));if(!t.s)return new c(Ui);for(Dn=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(du(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Ui),c.precision=s;;){if(i=pn(i.times(t),s),n=n.times(++l),o=a.plus(rs(i,n,s)),Ao(o.d).slice(0,s)===Ao(a.d).slice(0,s)){for(;u--;)a=pn(a.times(a),s);return c.precision=f,e==null?(Dn=!0,pn(a,f)):a}a=o}}function sr(t){for(var e=t.e*Nn,n=t.d[0];n>=10;n/=10)e++;return e}function W1(t,e,n){if(e>t.LN10.sd())throw Dn=!0,n&&(t.precision=n),Error(Na+"LN10 precision limit exceeded");return pn(new t(t.LN10),e)}function Ys(t){for(var e="";t--;)e+="0";return e}function eA(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,p=t,v=p.d,b=p.constructor,w=b.precision;if(p.s<1)throw Error(Na+(p.s?"NaN":"-Infinity"));if(p.eq(Ui))return new b(0);if(e==null?(Dn=!1,u=w):u=e,p.eq(10))return e==null&&(Dn=!0),W1(b,u);if(u+=h,b.precision=u,n=Ao(v),r=n.charAt(0),a=sr(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Ao(p.d),r=n.charAt(0),f++;a=sr(p),r>1?(p=new b("0."+n),a++):p=new b(r+"."+n.slice(1))}else return l=W1(b,u+2,w).times(a+""),p=eA(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=w,e==null?(Dn=!0,pn(p,w)):p;for(s=o=p=rs(p.minus(Ui),p.plus(Ui),u),c=pn(p.times(p),u),i=3;;){if(o=pn(o.times(c),u),l=s.plus(rs(o,new b(i),u)),Ao(l.d).slice(0,u)===Ao(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(W1(b,u+2,w).times(a+""))),s=rs(s,new b(f),u),b.precision=w,e==null?(Dn=!0,pn(s,w)):s;s=l,i+=2}}function i3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=$d(n/Nn),t.d=[],r=(n+1)%Nn,n<0&&(r+=Nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nn;r<i;)t.d.push(+e.slice(r,r+=Nn));e=e.slice(r),r=Nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dn&&(t.e>U0||t.e<-U0))throw Error(S_+n)}else t.s=0,t.e=0,t.d=[0];return t}function pn(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Nn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Nn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Nn,i=r-Nn+o}if(n!==void 0&&(a=du(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/du(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=sr(t),f.length=1,e=e-a-1,f[0]=du(10,(Nn-e%Nn)%Nn),t.e=$d(-e/Nn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=du(10,Nn-r),f[c]=i>0?(u/du(10,o-i)%du(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Sr&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Sr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Dn&&(t.e>U0||t.e<-U0))throw Error(S_+sr(t));return t}function BL(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Dn?pn(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Sr-1;--l[a],l[i]+=Sr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Dn?pn(e,p):e):new h(0)}function Bu(t,e,n){var r,i=sr(t),a=Ao(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ys(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ys(-i-1)+a,n&&(r=n-o)>0&&(a+=Ys(r))):i>=o?(a+=Ys(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ys(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ys(r))),t.s<0?"-"+a:a}function a3(t,e){if(t.length>e)return t.length=e,!0}function UL(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Pu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return i3(o,a.toString())}else if(typeof a!="string")throw Error(Pu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,vge.test(a))i3(o,a);else throw Error(Pu+a)}if(i.prototype=nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=UL,i.config=i.set=yge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function yge(t){if(!t||typeof t!="object")throw Error(Na+"Object expected");var e,n,r,i=["precision",1,Fd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if($d(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Pu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pu+n+": "+r);return this}var __=UL(gge);Ui=new __(1);const ln=__;function bge(t){return _ge(t)||Sge(t)||wge(t)||xge()}function xge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wge(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function Sge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _ge(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tge=function(e){return e},qL={},HL=function(e){return e===qL},o3=function(e){return function n(){return arguments.length===0||arguments.length===1&&HL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Cge=function t(e,n){return e===1?n:o3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==qL}).length;return o>=e?n.apply(void 0,i):t(e-o,o3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return HL(f)?l.shift():f});return n.apply(void 0,bge(c).concat(l))}))})},Ey=function(e){return Cge(e.length,e)},gw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Nge=Ey(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Ege=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Tge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},vw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function kge(t){var e;return t===0?e=1:e=Math.floor(new ln(t).abs().log(10).toNumber())+1,e}function Pge(t,e,n){for(var r=new ln(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Mge=Ey(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Oge=Ey(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Dge=Ey(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ky={rangeStep:Pge,getDigitCount:kge,interpolateNumber:Mge,uninterpolateNumber:Oge,uninterpolateTruncation:Dge};function yw(t){return Lge(t)||jge(t)||VL(t)||Ige()}function Ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lge(t){if(Array.isArray(t))return bw(t)}function tA(t,e){return $ge(t)||Fge(t,e)||VL(t,e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VL(t,e){if(t){if(typeof t=="string")return bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bw(t,e)}}function bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function $ge(t){if(Array.isArray(t))return t}function GL(t){var e=tA(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function WL(t,e,n){if(t.lte(0))return new ln(0);var r=ky.getDigitCount(t.toNumber()),i=new ln(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new ln(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new ln(Math.ceil(l))}function Bge(t,e,n){var r=1,i=new ln(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ln(10).pow(ky.getDigitCount(t)-1),i=new ln(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ln(Math.floor(t)))}else t===0?i=new ln(Math.floor((e-1)/2)):n||(i=new ln(Math.floor(t)));var o=Math.floor((e-1)/2),s=Ege(Nge(function(l){return i.add(new ln(l-o).mul(r)).toNumber()}),gw);return s(0,e)}function YL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var a=WL(new ln(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ln(0):(o=new ln(t).add(e).div(2),o=o.sub(new ln(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ln(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?YL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new ln(s).mul(a)),tickMax:o.add(new ln(l).mul(a))})}function Uge(t){var e=tA(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=GL([n,r]),l=tA(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(yw(gw(0,i-1).map(function(){return 1/0}))):[].concat(yw(gw(0,i-1).map(function(){return-1/0})),[c]);return n>r?vw(f):f}if(u===c)return Bge(u,i,a);var h=YL(u,c,o,a),p=h.step,v=h.tickMin,b=h.tickMax,w=ky.rangeStep(v,b.add(new ln(.1).mul(p)),p);return n>r?vw(w):w}function qge(t,e){var n=tA(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GL([r,i]),s=tA(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=WL(new ln(u).sub(l).div(c-1),a,0),h=[].concat(yw(ky.rangeStep(new ln(l),new ln(u).sub(new ln(.99).mul(f)),f)),[u]);return r>i?vw(h):h}var Hge=zL(Uge),zge=zL(qge),Vge="Invariant failed";function Uu(t,e){throw new Error(Vge)}var Gge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function Wge(t,e){return Xge(t)||Jge(t,e)||Kge(t,e)||Yge()}function Yge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kge(t,e){if(t){if(typeof t=="string")return s3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(t,e)}}function s3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Xge(t){if(Array.isArray(t))return t}function Qge(t,e){if(t==null)return{};var n=Zge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XL(r.key),r)}}function n0e(t,e,n){return e&&t0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r0e(t,e,n){return e=H0(e),i0e(t,KL()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function i0e(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a0e(t)}function a0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function o0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xw(t,e)}function JL(t,e,n){return e=XL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XL(t){var e=s0e(t,"string");return Xf(e)=="symbol"?e:e+""}function s0e(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Py=function(t){function e(){return e0e(this,e),r0e(this,e,arguments)}return o0e(e,t),n0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Qge(r,Gge),p=gt(h,!1);this.props.direction==="x"&&c.type!=="number"&&Uu();var v=l.map(function(b){var w=u(b,s),y=w.x,x=w.y,S=w.value,T=w.errorVal;if(!T)return null;var C=[],k,E;if(Array.isArray(T)){var M=Wge(T,2);k=M[0],E=M[1]}else k=E=T;if(a==="vertical"){var I=c.scale,U=x+i,O=U+o,D=U-o,$=I(S-k),F=I(S+E);C.push({x1:F,y1:O,x2:F,y2:D}),C.push({x1:$,y1:U,x2:F,y2:U}),C.push({x1:$,y1:O,x2:$,y2:D})}else if(a==="horizontal"){var G=f.scale,R=y+i,B=R-o,W=R+o,K=G(S-k),Z=G(S+E);C.push({x1:B,y1:Z,x2:W,y2:Z}),C.push({x1:R,y1:K,x2:R,y2:Z}),C.push({x1:B,y1:K,x2:W,y2:K})}return de.createElement(nn,q0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},p),C.map(function(se){return de.createElement("line",q0({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return de.createElement(nn,{className:"recharts-errorBars"},v)}}])}(de.Component);JL(Py,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JL(Py,"displayName","ErrorBar");function nA(t){"@babel/helpers - typeof";return nA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(t)}function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return e=u0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0e(t){var e=c0e(t,"string");return nA(e)=="symbol"?e:e+""}function c0e(t,e){if(nA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ri(n,bl);if(!o)return null;var s=bl.defaultProps,l=s!==void 0?tu(tu({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return c.concat(v.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?tu(tu({},h),f.props):{},v=p.dataKey,b=p.name,w=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||w||"square",color:T_(f),value:b||v,payload:p}}),tu(tu(tu({},l),bl.getWithHeight(o,i)),{},{payload:u,item:o})};function rA(t){"@babel/helpers - typeof";return rA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(t)}function u3(t){return p0e(t)||h0e(t)||d0e(t)||f0e()}function f0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d0e(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function h0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p0e(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(r){Pf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pf(t,e,n){return e=A0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=m0e(t,"string");return rA(e)=="symbol"?e:e+""}function m0e(t,e){if(rA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kr(t,e,n){return It(t)||It(e)?n:mr(e)?Yi(t,e,n):yt(e)?e(t):n}function xp(t,e,n,r){var i=hge(t,function(s){return Kr(s,e)});if(n==="number"){var a=i.filter(function(s){return Ye(s)||parseFloat(s)});return a.length?[Cy(a),Ty(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!It(s)}):i;return o.map(function(s){return mr(s)||s instanceof Date?s:""})}var g0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(ri(f-c)!==ri(h-f)){var v=[];if(ri(h-f)===ri(l[1]-l[0])){p=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{p=c;var w=h+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var x=Math.min(c,h),S=Math.max(c,h);if(e>(x+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},T_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Un(Un({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},v0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var v=c[f[h]],b=v.items,w=v.cateAxisId,y=b.filter(function(E){return ns(E.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,S=x!==void 0?Un(Un({},x),y[0].props):y[0].props,T=S.barSize,C=S[w];o[C]||(o[C]=[]);var k=It(T)?n:T;o[C].push({item:y[0],stackList:y.slice(1),barSize:It(k)?void 0:ii(k,r,0)})}}return o},y0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ii(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,v=o.reduce(function(T,C){return T+C.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var b=(i-v)/2>>0,w={offset:b-u,size:0};c=o.reduce(function(T,C){var k={item:C.item,position:{offset:w.offset+w.size+u,size:h?p:C.barSize}},E=[].concat(u3(T),[k]);return w=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:w})}),E},f)}else{var y=ii(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var S=s===+s?Math.min(x,s):x;c=o.reduce(function(T,C,k){var E=[].concat(u3(T),[{item:C.item,position:{offset:y+(x+u)*k+(x-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:E[E.length-1].position})}),E},f)}return c},b0e=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=QL({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&p!=="center"&&Ye(e[p]))return Un(Un({},e),{},Pf({},p,e[p]+(f||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&v!=="middle"&&Ye(e[v]))return Un(Un({},e),{},Pf({},v,e[v]+(h||0)))}return e},x0e=function(e,n,r){return It(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ZL=function(e,n,r,i,a){var o=n.props.children,s=Ta(o,Py).filter(function(u){return x0e(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Kr(c,r);if(It(f))return u;var h=Array.isArray(f)?[Cy(f),Ty(f)]:[f,f],p=l.reduce(function(v,b){var w=Kr(c,b,0),y=h[0]-Math.abs(Array.isArray(w)?w[0]:w),x=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},w0e=function(e,n,r,i,a){var o=n.map(function(s){return ZL(e,s,r,a,i)}).filter(function(s){return!It(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},eR=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&ZL(e,l,u,i)||xp(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},tR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},nR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Qo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ri(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!BA(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Y1=new WeakMap,ug=function(e,n){if(typeof n!="function")return e;Y1.has(e)||Y1.set(e,new WeakMap);var r=Y1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},rR=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Kp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:R0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:bp(),realScaleType:"point"}:a==="category"?{scale:Kp(),realScaleType:"band"}:{scale:R0(),realScaleType:"linear"};if(Ru(i)){var l="scale".concat(cy(i));return{scale:(r3[l]||bp)(),realScaleType:r3[l]?l:"point"}}return yt(i)?{scale:i}:{scale:bp(),realScaleType:"point"}},f3=1e-4,iR=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-f3,o=Math.max(i[0],i[1])+f3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},S0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},_0e=function(e,n){if(!n||n.length!==2||!Ye(n[0])||!Ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ye(e[0])||e[0]<r)&&(a[0]=r),(!Ye(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},T0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=BA(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},C0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=BA(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},N0e={sign:T0e,expand:Gie,none:Hf,silhouette:Wie,wiggle:Yie,positive:C0e},E0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=N0e[r],o=Vie().keys(i).value(function(s,l){return+Kr(s,l,0)}).order(W2).offset(a);return o(e)},k0e=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Un(Un({},h.type.defaultProps),h.props):h.props,b=v.stackId,w=v.hide;if(w)return f;var y=v[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(mr(b)){var S=x.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),x.hasStack=!0,x.stackGroups[b]=S}else x.stackGroups[UA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Un(Un({},f),{},Pf({},y,x))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,w){var y=p.stackGroups[w];return Un(Un({},b),{},Pf({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:E0e(e,y.items,a)}))},v)}return Un(Un({},f),{},Pf({},h,p))},c)},aR=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Hge(u,a,s);return e.domain([Cy(c),Ty(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=zge(f,a,s);return{niceTicks:h}}return null},d3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Kr(o,n.dataKey,n.domain[s]);return It(l)?null:n.scale(l)-a/2+i},P0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},M0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Un(Un({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(mr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},O0e=function(e){return e.reduce(function(n,r){return[Cy(r.concat([n[0]]).filter(Ye)),Ty(r.concat([n[1]]).filter(Ye))]},[1/0,-1/0])},oR=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=O0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},h3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sw=function(e,n,r){if(yt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(h3.test(e[0])){var a=+h3.exec(e[0])[1];i[0]=n[0]-a}else yt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(p3.test(e[1])){var o=+p3.exec(e[1])[1];i[1]=n[1]+o}else yt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},z0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=ZS(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},A3=function(e,n,r){return!e||!e.length||Ny(e,Yi(r,"type.defaultProps.domain"))?n:e},sR=function(e,n){var r=e.type.defaultProps?Un(Un({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Un(Un({},gt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:T_(e),value:Kr(n,i),type:l,payload:n,chartType:u,hide:c})};function iA(t){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(t)}function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){lR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lR(t,e,n){return e=D0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D0e(t){var e=I0e(t,"string");return iA(e)=="symbol"?e:e+""}function I0e(t,e){if(iA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j0e(t,e){return $0e(t)||F0e(t,e)||R0e(t,e)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R0e(t,e){if(t){if(typeof t=="string")return g3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g3(t,e)}}function g3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $0e(t){if(Array.isArray(t))return t}var V0=Math.PI/180,B0e=function(e){return e*180/Math.PI},Sn=function(e,n,r,i){return{x:e+Math.cos(-V0*i)*r,y:n+Math.sin(-V0*i)*r}},uR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},U0e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=ii(e.cx,o,o/2),f=ii(e.cy,s,s/2),h=uR(o,s,r),p=ii(e.innerRadius,h,0),v=ii(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(w,y){var x=n[y],S=x.domain,T=x.reversed,C;if(It(x.range))i==="angleAxis"?C=[l,u]:i==="radiusAxis"&&(C=[p,v]),T&&(C=[C[1],C[0]]);else{C=x.range;var k=C,E=j0e(k,2);l=E[0],u=E[1]}var M=rR(x,a),I=M.realScaleType,U=M.scale;U.domain(S).range(C),iR(U);var O=aR(U,zo(zo({},x),{},{realScaleType:I})),D=zo(zo(zo({},x),O),{},{range:C,radius:v,realScaleType:I,scale:U,cx:c,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return zo(zo({},w),{},lR({},y,D))},{})},q0e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},H0e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=q0e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:B0e(u),angleInRadian:u}},z0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},V0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},v3=function(e,n){var r=e.x,i=e.y,a=H0e({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=z0e(n),f=c.startAngle,h=c.endAngle,p=s,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?zo(zo({},n),{},{radius:o,angle:V0e(p,n)}):null},cR=function(e){return!re.isValidElement(e)&&!yt(e)&&typeof e!="boolean"?e.className:""};function aA(t){"@babel/helpers - typeof";return aA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aA(t)}var G0e=["offset"];function W0e(t){return X0e(t)||J0e(t)||K0e(t)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0e(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function J0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X0e(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q0e(t,e){if(t==null)return{};var n=Z0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){eve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eve(t,e,n){return e=tve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tve(t){var e=nve(t,"string");return aA(e)=="symbol"?e:e+""}function nve(t,e){if(aA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(this,arguments)}var rve=function(e){var n=e.value,r=e.formatter,i=It(e.children)?n:e.children;return yt(r)?r(i):i},ive=function(e,n){var r=ri(n-e),i=Math.min(Math.abs(n-e),360);return r*i},ave=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,b=l.clockWise,w=(f+h)/2,y=ive(p,v),x=y>=0?1:-1,S,T;i==="insideStart"?(S=p+x*o,T=b):i==="insideEnd"?(S=v-x*o,T=!b):i==="end"&&(S=v+x*o,T=b),T=y<=0?T:!T;var C=Sn(u,c,w,S),k=Sn(u,c,w,S+(T?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),M=It(e.id)?UA("recharts-radial-line-"):e.id;return de.createElement("text",oA({},r,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",s)}),de.createElement("defs",null,de.createElement("path",{id:M,d:E})),de.createElement("textPath",{xlinkHref:"#".concat(M)},n))},ove=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var p=Sn(o,s,u+r,h),v=p.x,b=p.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=Sn(o,s,w,h),x=y.x,S=y.y;return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},sve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,w=b*i,y=b>0?"end":"start",x=b>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return fr(fr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return fr(fr({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var C={x:s-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return fr(fr({},C),r?{width:Math.max(C.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return fr(fr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?fr({x:s+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideRight"?fr({x:s+u-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?fr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?fr({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?fr({x:s+w,y:l+h,textAnchor:x,verticalAnchor:v},E):a==="insideTopRight"?fr({x:s+u-w,y:l+h,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?fr({x:s+w,y:l+c-h,textAnchor:x,verticalAnchor:p},E):a==="insideBottomRight"?fr({x:s+u-w,y:l+c-h,textAnchor:y,verticalAnchor:p},E):kd(a)&&(Ye(a.x)||mu(a.x))&&(Ye(a.y)||mu(a.y))?fr({x:s+ii(a.x,u),y:l+ii(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):fr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},lve=function(e){return"cx"in e&&Ye(e.cx)};function Cr(t){var e=t.offset,n=e===void 0?5:e,r=Q0e(t,G0e),i=fr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||It(s)&&It(l)&&!re.isValidElement(u)&&!yt(u))return null;if(re.isValidElement(u))return re.cloneElement(u,i);var p;if(yt(u)){if(p=re.createElement(u,i),re.isValidElement(p))return p}else p=rve(i);var v=lve(a),b=gt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ave(i,p,b);var w=v?ove(i):sve(i);return de.createElement($u,oA({className:Ot("recharts-label",f)},b,w,{breakAll:h}),p)}Cr.displayName="Label";var fR=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,b=e.width,w=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(Ye(b)&&Ye(w)){if(Ye(f)&&Ye(h))return{x:f,y:h,width:b,height:w};if(Ye(p)&&Ye(v))return{x:p,y:v,width:b,height:w}}return Ye(f)&&Ye(h)?{x:f,y:h,width:0,height:0}:Ye(n)&&Ye(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},uve=function(e,n){return e?e===!0?de.createElement(Cr,{key:"label-implicit",viewBox:n}):mr(e)?de.createElement(Cr,{key:"label-implicit",viewBox:n,value:e}):re.isValidElement(e)?e.type===Cr?re.cloneElement(e,{key:"label-implicit",viewBox:n}):de.createElement(Cr,{key:"label-implicit",content:e,viewBox:n}):yt(e)?de.createElement(Cr,{key:"label-implicit",content:e,viewBox:n}):kd(e)?de.createElement(Cr,oA({viewBox:n},e,{key:"label-implicit"})):null:null},cve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=fR(e),o=Ta(i,Cr).map(function(l,u){return re.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=uve(e.label,n||a);return[s].concat(W0e(o))};Cr.parseViewBox=fR;Cr.renderCallByParent=cve;function fve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var dve=fve;const hve=Jt(dve);function sA(t){"@babel/helpers - typeof";return sA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sA(t)}var pve=["valueAccessor"],Ave=["data","dataKey","clockWise","id","textBreakAll"];function mve(t){return bve(t)||yve(t)||vve(t)||gve()}function gve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vve(t,e){if(t){if(typeof t=="string")return Tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(t,e)}}function yve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bve(t){if(Array.isArray(t))return Tw(t)}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G0.apply(this,arguments)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xve(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=Sve(t,"string");return sA(e)=="symbol"?e:e+""}function Sve(t,e){if(sA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w3(t,e){if(t==null)return{};var n=_ve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tve=function(e){return Array.isArray(e.value)?hve(e.value):e.value};function wl(t){var e=t.valueAccessor,n=e===void 0?Tve:e,r=w3(t,pve),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=w3(r,Ave);return!i||!i.length?null:de.createElement(nn,{className:"recharts-label-list"},i.map(function(c,f){var h=It(a)?n(c,f):Kr(c&&c.payload,a),p=It(s)?{}:{id:"".concat(s,"-").concat(f)};return de.createElement(Cr,G0({},gt(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Cr.parseViewBox(It(o)?c:x3(x3({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}wl.displayName="LabelList";function Cve(t,e){return t?t===!0?de.createElement(wl,{key:"labelList-implicit",data:e}):de.isValidElement(t)||yt(t)?de.createElement(wl,{key:"labelList-implicit",data:e,content:t}):kd(t)?de.createElement(wl,G0({data:e},t,{key:"labelList-implicit"})):null:null}function Nve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ta(r,wl).map(function(o,s){return re.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Cve(t.label,e);return[a].concat(mve(i))}wl.renderCallByParent=Nve;function lA(t){"@babel/helpers - typeof";return lA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lA(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(r){Eve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eve(t,e,n){return e=kve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Pve(t,"string");return lA(e)=="symbol"?e:e+""}function Pve(t,e){if(lA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mve=function(e,n){var r=ri(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},cg=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/V0,h=u?a:a+o*f,p=Sn(n,r,c,h),v=Sn(n,r,i,h),b=u?a-o*f:a,w=Sn(n,r,c*Math.cos(f*V0),b);return{center:p,circleTangency:v,lineTangency:w,theta:f}},dR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Mve(o,s),u=o+l,c=Sn(n,r,a,o),f=Sn(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Sn(n,r,i,o),v=Sn(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Ove=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=ri(c-u),h=cg({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,b=h.theta,w=cg({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=w.circleTangency,x=w.lineTangency,S=w.theta,T=l?Math.abs(u-c):Math.abs(u-c)-b-S;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):dR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var k=cg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=k.circleTangency,M=k.lineTangency,I=k.theta,U=cg({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=U.circleTangency,D=U.lineTangency,$=U.theta,F=l?Math.abs(u-c):Math.abs(u-c)-I-$;if(F<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Dve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hR=function(e){var n=_3(_3({},Dve),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var p=Ot("recharts-sector",h),v=o-a,b=ii(s,v,0,!0),w;return b>0&&Math.abs(c-f)<360?w=Ove({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=dR({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),de.createElement("path",Cw({},gt(n,!0),{className:p,d:w,role:"img"}))};function uA(t){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(t)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(this,arguments)}function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){Ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ive(t,e,n){return e=jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jve(t){var e=Lve(t,"string");return uA(e)=="symbol"?e:e+""}function Lve(t,e){if(uA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N3={curveBasisClosed:Iie,curveBasisOpen:jie,curveBasis:Die,curveBumpX:yie,curveBumpY:bie,curveLinearClosed:Lie,curveLinear:dy,curveMonotoneX:Rie,curveMonotoneY:Fie,curveNatural:$ie,curveStep:Bie,curveStepAfter:qie,curveStepBefore:Uie},fg=function(e){return e.x===+e.x&&e.y===+e.y},$h=function(e){return e.x},Bh=function(e){return e.y},Rve=function(e,n){if(yt(e))return e;var r="curve".concat(cy(e));return(r==="curveMonotone"||r==="curveBump")&&n?N3["".concat(r).concat(n==="vertical"?"Y":"X")]:N3[r]||dy},Fve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Rve(r,s),f=u?a.filter(function(b){return fg(b)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(b){return fg(b)}):o,v=f.map(function(b,w){return C3(C3({},b),{},{base:p[w]})});return s==="vertical"?h=tg().y(Bh).x1($h).x0(function(b){return b.base.x}):h=tg().x($h).y1(Bh).y0(function(b){return b.base.y}),h.defined(fg).curve(c),h(v)}return s==="vertical"&&Ye(o)?h=tg().y(Bh).x1($h).x0(o):Ye(o)?h=tg().x($h).y1(Bh).y0(o):h=sj().x($h).y(Bh),h.defined(fg).curve(c),h(f)},Ew=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Fve(e):i;return re.createElement("path",Nw({},gt(e,!1),g0(e),{className:Ot("recharts-curve",n),d:o,ref:a}))},pR={exports:{}},$ve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bve=$ve,Uve=Bve;function AR(){}function mR(){}mR.resetWarningCache=AR;var qve=function(){function t(r,i,a,o,s,l){if(l!==Uve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mR,resetWarningCache:AR};return n.PropTypes=n,n};pR.exports=qve();var Hve=pR.exports;const Xt=Jt(Hve);var zve=Object.getOwnPropertyNames,Vve=Object.getOwnPropertySymbols,Gve=Object.prototype.hasOwnProperty;function E3(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function dg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Wve(t){return t!=null?t[Symbol.toStringTag]:void 0}function k3(t){return zve(t).concat(Vve(t))}var Yve=Object.hasOwn||function(t,e){return Gve.call(t,e)};function nc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Kve="__v",Jve="__o",Xve="_owner",P3=Object.getOwnPropertyDescriptor,M3=Object.keys;function Qve(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Zve(t,e){return nc(t.getTime(),e.getTime())}function eye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function tye(t,e){return t===e}function O3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var nye=nc;function rye(t,e,n){var r=M3(t),i=r.length;if(M3(e).length!==i)return!1;for(;i-- >0;)if(!gR(t,e,n,r[i]))return!1;return!0}function Uh(t,e,n){var r=k3(t),i=r.length;if(k3(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!gR(t,e,n,a)||(o=P3(t,a),s=P3(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function iye(t,e){return nc(t.valueOf(),e.valueOf())}function aye(t,e){return t.source===e.source&&t.flags===e.flags}function D3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function oye(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function sye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function gR(t,e,n,r){return(r===Xve||r===Jve||r===Kve)&&(t.$$typeof||e.$$typeof)?!0:Yve(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var lye="[object Arguments]",uye="[object Boolean]",cye="[object Date]",fye="[object Error]",dye="[object Map]",hye="[object Number]",pye="[object Object]",Aye="[object RegExp]",mye="[object Set]",gye="[object String]",vye="[object URL]",yye=Array.isArray,I3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,j3=Object.assign,bye=Object.prototype.toString.call.bind(Object.prototype.toString);function xye(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(b,w,y){if(b===w)return!0;if(b==null||w==null)return!1;var x=typeof b;if(x!==typeof w)return!1;if(x!=="object")return x==="number"?o(b,w,y):x==="function"?i(b,w,y):!1;var S=b.constructor;if(S!==w.constructor)return!1;if(S===Object)return s(b,w,y);if(yye(b))return e(b,w,y);if(I3!=null&&I3(b))return f(b,w,y);if(S===Date)return n(b,w,y);if(S===RegExp)return u(b,w,y);if(S===Map)return a(b,w,y);if(S===Set)return c(b,w,y);var T=bye(b);if(T===cye)return n(b,w,y);if(T===Aye)return u(b,w,y);if(T===dye)return a(b,w,y);if(T===mye)return c(b,w,y);if(T===pye)return typeof b.then!="function"&&typeof w.then!="function"&&s(b,w,y);if(T===vye)return h(b,w,y);if(T===fye)return r(b,w,y);if(T===lye)return s(b,w,y);if(T===uye||T===hye||T===gye)return l(b,w,y);if(p){var C=p[T];if(!C){var k=Wve(b);k&&(C=p[k])}if(C)return C(b,w,y)}return!1}}function wye(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Uh:Qve,areDatesEqual:Zve,areErrorsEqual:eye,areFunctionsEqual:tye,areMapsEqual:r?E3(O3,Uh):O3,areNumbersEqual:nye,areObjectsEqual:r?Uh:rye,arePrimitiveWrappersEqual:iye,areRegExpsEqual:aye,areSetsEqual:r?E3(D3,Uh):D3,areTypedArraysEqual:r?Uh:oye,areUrlsEqual:sye,unknownTagComparators:void 0};if(n&&(i=j3({},i,n(i))),e){var a=dg(i.areArraysEqual),o=dg(i.areMapsEqual),s=dg(i.areObjectsEqual),l=dg(i.areSetsEqual);i=j3({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Sye(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function _ye(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Tye=Rl();Rl({strict:!0});Rl({circular:!0});Rl({circular:!0,strict:!0});Rl({createInternalComparator:function(){return nc}});Rl({strict:!0,createInternalComparator:function(){return nc}});Rl({circular:!0,createInternalComparator:function(){return nc}});Rl({circular:!0,createInternalComparator:function(){return nc},strict:!0});function Rl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=wye(t),l=xye(s),u=r?r(l):Sye(l);return _ye({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Cye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function L3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Cye(i)};requestAnimationFrame(r)}function kw(t){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(t)}function Nye(t){return Mye(t)||Pye(t)||kye(t)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kye(t,e){if(t){if(typeof t=="string")return R3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R3(t,e)}}function R3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mye(t){if(Array.isArray(t))return t}function Oye(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Nye(o),l=s[0],u=s.slice(1);if(typeof l=="number"){L3(i.bind(null,u),l);return}i(l),L3(i.bind(null,u));return}kw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function cA(t){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(t)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){vR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vR(t,e,n){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dye(t){var e=Iye(t,"string");return cA(e)==="symbol"?e:String(e)}function Iye(t,e){if(cA(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cA(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jye=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Lye=function(e){return e},Rye=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},wp=function(e,n){return Object.keys(n).reduce(function(r,i){return $3($3({},r),{},vR({},i,e(i,n[i])))},{})},B3=function(e,n,r){return e.map(function(i){return"".concat(Rye(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Fye(t,e){return Uye(t)||Bye(t,e)||yR(t,e)||$ye()}function $ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uye(t){if(Array.isArray(t))return t}function qye(t){return Vye(t)||zye(t)||yR(t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yR(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function zye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vye(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W0=1e-4,bR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},xR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},U3=function(e,n){return function(r){var i=bR(e,n);return xR(i,r)}},Gye=function(e,n){return function(r){var i=bR(e,n),a=[].concat(qye(i.map(function(o,s){return o*s}).slice(1)),[0]);return xR(a,r)}},q3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=Fye(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=U3(i,o),h=U3(a,s),p=Gye(i,o),v=function(y){return y>1?1:y<0?0:y},b=function(y){for(var x=y>1?1:y,S=x,T=0;T<8;++T){var C=f(S)-x,k=p(S);if(Math.abs(C-x)<W0||k<W0)return h(S);S=v(S-C/k)}return h(S)};return b.isStepper=!1,b},Wye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var p=-(c-f)*r,v=h*a,b=h+(p-v)*s/1e3,w=h*s/1e3+c;return Math.abs(w-f)<W0&&Math.abs(b)<W0?[f,0]:[w,b]};return l.isStepper=!0,l.dt=s,l},Yye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return q3(i);case"spring":return Wye();default:if(i.split("(")[0]==="cubic-bezier")return q3(i)}return typeof i=="function"?i:null};function fA(t){"@babel/helpers - typeof";return fA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fA(t)}function H3(t){return Xye(t)||Jye(t)||wR(t)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xye(t){if(Array.isArray(t))return Ow(t)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){Mw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mw(t,e,n){return e=Qye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qye(t){var e=Zye(t,"string");return fA(e)==="symbol"?e:String(e)}function Zye(t,e){if(fA(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fA(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ebe(t,e){return rbe(t)||nbe(t,e)||wR(t,e)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wR(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function rbe(t){if(Array.isArray(t))return t}var Y0=function(e,n,r){return e+(n-e)*r},Dw=function(e){var n=e.from,r=e.to;return n!==r},ibe=function t(e,n,r){var i=wp(function(a,o){if(Dw(o)){var s=e(o.from,o.to,o.velocity),l=ebe(s,2),u=l[0],c=l[1];return Or(Or({},o),{},{from:u,velocity:c})}return o},n);return r<1?wp(function(a,o){return Dw(o)?Or(Or({},o),{},{velocity:Y0(o.velocity,i[a].velocity,r),from:Y0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const abe=function(t,e,n,r,i){var a=jye(t,e),o=a.reduce(function(w,y){return Or(Or({},w),{},Mw({},y,[t[y],e[y]]))},{}),s=a.reduce(function(w,y){return Or(Or({},w),{},Mw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return wp(function(y,x){return x.from},s)},p=function(){return!Object.values(s).filter(Dw).length},v=function(y){u||(u=y);var x=y-u,S=x/n.dt;s=ibe(n,s,S),i(Or(Or(Or({},t),e),h())),u=y,p()||(l=requestAnimationFrame(f))},b=function(y){c||(c=y);var x=(y-c)/r,S=wp(function(C,k){return Y0.apply(void 0,H3(k).concat([n(x)]))},o);if(i(Or(Or(Or({},t),e),S)),x<1)l=requestAnimationFrame(f);else{var T=wp(function(C,k){return Y0.apply(void 0,H3(k).concat([n(1)]))},o);i(Or(Or(Or({},t),e),T))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}var obe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sbe(t,e){if(t==null)return{};var n=lbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function K1(t){return dbe(t)||fbe(t)||cbe(t)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dbe(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){Kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kh(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function Abe(t,e,n){return e&&pbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SR(t){var e=mbe(t,"string");return Qf(e)==="symbol"?e:String(e)}function mbe(t,e){if(Qf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function vbe(t){var e=ybe();return function(){var r=K0(t),i;if(e){var a=K0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Lw(this,i)}}function Lw(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rw(t)}function Rw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ybe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}var ds=function(t){gbe(n,t);var e=vbe(n);function n(r,i){var a;hbe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Rw(a)),a.changeStyle=a.changeStyle.bind(Rw(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),Lw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Lw(a);a.state={style:l?Kh({},l,u):u}}else a.state={style:{}};return a}return Abe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Kh({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Tye(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var w={style:l?Kh({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(w)}this.runAnimation($a($a({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=abe(o,s,Yye(u),l,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(b,w,y){if(y===0)return b;var x=w.duration,S=w.easing,T=S===void 0?"ease":S,C=w.style,k=w.properties,E=w.onAnimationEnd,M=y>0?o[y-1]:w,I=k||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(K1(b),[a.runJSAnimation.bind(a,{from:M.style,to:C,duration:x,easing:T}),x]);var U=B3(I,x,T),O=$a($a($a({},M.style),C),{},{transition:U});return[].concat(K1(b),[O,x,E]).filter(Lye)};return this.manager.start([l].concat(K1(o.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Oye());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?Kh({},s,l):l,w=B3(Object.keys(b),o,u);v.start([c,a,$a($a({},b),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=sbe(i,obe),u=re.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var v=p.props,b=v.style,w=b===void 0?{}:b,y=v.className,x=re.cloneElement(p,$a($a({},l),{},{style:$a($a({},w),c),className:y}));return x};return u===1?f(re.Children.only(a)):de.createElement("div",null,re.Children.map(a,function(h){return f(h)}))}}]),n}(re.PureComponent);ds.displayName="Animate";ds.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ds.propTypes={from:Xt.oneOfType([Xt.object,Xt.string]),to:Xt.oneOfType([Xt.object,Xt.string]),attributeName:Xt.string,duration:Xt.number,begin:Xt.number,easing:Xt.oneOfType([Xt.string,Xt.func]),steps:Xt.arrayOf(Xt.shape({duration:Xt.number.isRequired,style:Xt.object.isRequired,easing:Xt.oneOfType([Xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xt.func]),properties:Xt.arrayOf("string"),onAnimationEnd:Xt.func})),children:Xt.oneOfType([Xt.node,Xt.func]),isActive:Xt.bool,canBegin:Xt.bool,onAnimationEnd:Xt.func,shouldReAnimate:Xt.bool,onAnimationStart:Xt.func,onAnimationReStart:Xt.func};function dA(t){"@babel/helpers - typeof";return dA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function bbe(t,e){return _be(t)||Sbe(t,e)||wbe(t,e)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wbe(t,e){if(t){if(typeof t=="string")return G3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G3(t,e)}}function G3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _be(t){if(Array.isArray(t))return t}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){Tbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tbe(t,e,n){return e=Cbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cbe(t){var e=Nbe(t,"string");return dA(e)=="symbol"?e:e+""}function Nbe(t,e){if(dA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K3=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Ebe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},kbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},C_=function(e){var n=Y3(Y3({},kbe),e),r=re.useRef(),i=re.useState(-1),a=bbe(i,2),o=a[0],s=a[1];re.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Ot("recharts-rectangle",p);return x?de.createElement(ds,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:x},function(T){var C=T.width,k=T.height,E=T.x,M=T.y;return de.createElement(ds,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:y,easing:v},de.createElement("path",J0({},gt(n,!0),{className:S,d:K3(E,M,C,k,h),ref:r})))}):de.createElement("path",J0({},gt(n,!0),{className:S,d:K3(l,u,c,f,h)}))},Pbe=["points","className","baseLinePoints","connectNulls"];function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pf.apply(this,arguments)}function Mbe(t,e){if(t==null)return{};var n=Obe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Obe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J3(t){return Lbe(t)||jbe(t)||Ibe(t)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ibe(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function jbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lbe(t){if(Array.isArray(t))return Fw(t)}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X3=function(e){return e&&e.x===+e.x&&e.y===+e.y},Rbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){X3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),X3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Sp=function(e,n){var r=Rbe(e);n&&(r=[r.reduce(function(a,o){return[].concat(J3(a),J3(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Fbe=function(e,n,r){var i=Sp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sp(n.reverse(),r).slice(1))},$be=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Mbe(e,Pbe);if(!n||!n.length)return null;var s=Ot("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Fbe(n,i,a);return de.createElement("g",{className:s},de.createElement("path",pf({},gt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?de.createElement("path",pf({},gt(o,!0),{fill:"none",d:Sp(n,a)})):null,l?de.createElement("path",pf({},gt(o,!0),{fill:"none",d:Sp(i,a)})):null)}var c=Sp(n,a);return de.createElement("path",pf({},gt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}var N_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ot("recharts-dot",a);return n===+n&&r===+r&&i===+i?re.createElement("circle",$w({},gt(e,!1),g0(e),{className:o,cx:n,cy:r,r:i})):null};function hA(t){"@babel/helpers - typeof";return hA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hA(t)}var Bbe=["x","y","top","left","width","height","className"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ube(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){qbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qbe(t,e,n){return e=Hbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hbe(t){var e=zbe(t,"string");return hA(e)=="symbol"?e:e+""}function zbe(t,e){if(hA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vbe(t,e){if(t==null)return{};var n=Gbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wbe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Ybe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,v=e.className,b=Vbe(e,Bbe),w=Ube({x:r,y:a,top:s,left:u,width:f,height:p},b);return!Ye(r)||!Ye(a)||!Ye(f)||!Ye(p)||!Ye(s)||!Ye(u)?null:de.createElement("path",Bw({},gt(w,!0),{className:Ot("recharts-cross",v),d:Wbe(r,a,f,p,s,u)}))},Kbe=_y,Jbe=jL,Xbe=To;function Qbe(t,e){return t&&t.length?Kbe(t,Xbe(e),Jbe):void 0}var Zbe=Qbe;const e1e=Jt(Zbe);var t1e=_y,n1e=To,r1e=LL;function i1e(t,e){return t&&t.length?t1e(t,n1e(e),r1e):void 0}var a1e=i1e;const o1e=Jt(a1e);var s1e=["cx","cy","angle","ticks","axisLine"],l1e=["ticks","tick","angle","tickFormatter","stroke"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_p.apply(this,arguments)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){My(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eP(t,e){if(t==null)return{};var n=u1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TR(r.key),r)}}function f1e(t,e,n){return e&&tP(t.prototype,e),n&&tP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d1e(t,e,n){return e=X0(e),h1e(t,_R()?Reflect.construct(e,n||[],X0(t).constructor):e.apply(t,n))}function h1e(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(t)}function p1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function A1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function My(t,e,n){return e=TR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TR(t){var e=m1e(t,"string");return Zf(e)=="symbol"?e:e+""}function m1e(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oy=function(t){function e(){return c1e(this,e),d1e(this,e,arguments)}return A1e(e,t),f1e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Sn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=e1e(s,function(c){return c.coordinate||0}),u=o1e(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=eP(r,s1e),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Sn(i,a,c[0],o),h=Sn(i,a,c[1],o),p=nu(nu(nu({},gt(u,!1)),{},{fill:"none"},gt(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return de.createElement("line",_p({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=eP(i,l1e),f=this.getTickTextAnchor(),h=gt(c,!1),p=gt(o,!1),v=a.map(function(b,w){var y=r.getTickValueCoord(b),x=nu(nu(nu(nu({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:w},y),{},{payload:b});return de.createElement(nn,_p({className:Ot("recharts-polar-radius-axis-tick",cR(o)),key:"tick-".concat(b.coordinate)},Fu(r.props,b,w)),e.renderTickItem(o,x,l?l(b.value,w):b.value))});return de.createElement(nn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:de.createElement(nn,{className:Ot("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Cr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement($u,_p({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(re.PureComponent);My(Oy,"displayName","PolarRadiusAxis");My(Oy,"axisType","radiusAxis");My(Oy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){Dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NR(r.key),r)}}function v1e(t,e,n){return e&&rP(t.prototype,e),n&&rP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y1e(t,e,n){return e=Q0(e),b1e(t,CR()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function b1e(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x1e(t)}function x1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function w1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function Dy(t,e,n){return e=NR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NR(t){var e=S1e(t,"string");return ed(e)=="symbol"?e:e+""}function S1e(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _1e=Math.PI/180,iP=1e-5,Iy=function(t){function e(){return g1e(this,e),y1e(this,e,arguments)}return w1e(e,t),v1e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Sn(a,o,s,r.coordinate),h=Sn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*_1e),o;return a>iP?o=i==="outer"?"start":"end":a<-iP?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=ru(ru({},gt(this.props,!1)),{},{fill:"none"},gt(s,!1));if(l==="circle")return de.createElement(N_,pu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return Sn(i,a,o,h.coordinate)});return de.createElement($be,pu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=gt(this.props,!1),f=gt(o,!1),h=ru(ru({},c),{},{fill:"none"},gt(s,!1)),p=a.map(function(v,b){var w=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),x=ru(ru(ru({textAnchor:y},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:w.x2,y:w.y2});return de.createElement(nn,pu({className:Ot("recharts-polar-angle-axis-tick",cR(o)),key:"tick-".concat(v.coordinate)},Fu(r.props,v,b)),s&&de.createElement("line",pu({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&e.renderTickItem(o,x,l?l(v.value,b):v.value))});return de.createElement(nn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:de.createElement(nn,{className:Ot("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement($u,pu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(re.PureComponent);Dy(Iy,"displayName","PolarAngleAxis");Dy(Iy,"axisType","angleAxis");Dy(Iy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var T1e=Mj,C1e=T1e(Object.getPrototypeOf,Object),N1e=C1e,E1e=As,k1e=N1e,P1e=ms,M1e="[object Object]",O1e=Function.prototype,D1e=Object.prototype,ER=O1e.toString,I1e=D1e.hasOwnProperty,j1e=ER.call(Object);function L1e(t){if(!P1e(t)||E1e(t)!=M1e)return!1;var e=k1e(t);if(e===null)return!0;var n=I1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ER.call(n)==j1e}var R1e=L1e;const F1e=Jt(R1e);var $1e=As,B1e=ms,U1e="[object Boolean]";function q1e(t){return t===!0||t===!1||B1e(t)&&$1e(t)==U1e}var H1e=q1e;const z1e=Jt(H1e);function pA(t){"@babel/helpers - typeof";return pA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pA(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function V1e(t,e){return K1e(t)||Y1e(t,e)||W1e(t,e)||G1e()}function G1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1e(t,e){if(t){if(typeof t=="string")return aP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(t,e)}}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Y1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function K1e(t){if(Array.isArray(t))return t}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return e=X1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X1e(t){var e=Q1e(t,"string");return pA(e)=="symbol"?e:e+""}function Q1e(t,e){if(pA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lP=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Z1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},exe=function(e){var n=sP(sP({},Z1e),e),r=re.useRef(),i=re.useState(-1),a=V1e(i,2),o=a[0],s=a[1];re.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var x=Ot("recharts-trapezoid",p);return y?de.createElement(ds,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:y},function(S){var T=S.upperWidth,C=S.lowerWidth,k=S.height,E=S.x,M=S.y;return de.createElement(ds,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:v},de.createElement("path",Z0({},gt(n,!0),{className:x,d:lP(E,M,T,C,k),ref:r})))}):de.createElement("g",null,de.createElement("path",Z0({},gt(n,!0),{className:x,d:lP(l,u,c,f,h)})))},txe=["option","shapeType","propTransformer","activeClassName","isActive"];function AA(t){"@babel/helpers - typeof";return AA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AA(t)}function nxe(t,e){if(t==null)return{};var n=rxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ixe(t,e,n){return e=axe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function axe(t){var e=oxe(t,"string");return AA(e)=="symbol"?e:e+""}function oxe(t,e){if(AA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(AA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sxe(t,e){return ev(ev({},e),t)}function lxe(t,e){return t==="symbols"}function cP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return de.createElement(C_,n);case"trapezoid":return de.createElement(exe,n);case"sector":return de.createElement(hR,n);case"symbols":if(lxe(e))return de.createElement(VS,n);break;default:return null}}function uxe(t){return re.isValidElement(t)?t.props:t}function kR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?sxe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=nxe(t,txe),u;if(re.isValidElement(e))u=re.cloneElement(e,ev(ev({},l),uxe(e)));else if(yt(e))u=e(l);else if(F1e(e)&&!z1e(e)){var c=i(e,l);u=de.createElement(cP,{shapeType:n,elementProps:c})}else{var f=l;u=de.createElement(cP,{shapeType:n,elementProps:f})}return s?de.createElement(nn,{className:o},u):u}function jy(t,e){return e!=null&&"trapezoids"in t.props}function Ly(t,e){return e!=null&&"sectors"in t.props}function mA(t,e){return e!=null&&"points"in t.props}function cxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function fxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function dxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function hxe(t,e){var n;return jy(t,e)?n=cxe:Ly(t,e)?n=fxe:mA(t,e)&&(n=dxe),n}function pxe(t,e){var n;return jy(t,e)?n="trapezoids":Ly(t,e)?n="sectors":mA(t,e)&&(n="points"),n}function Axe(t,e){if(jy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Ly(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return mA(t,e)?e.payload:{}}function mxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=pxe(n,e),a=Axe(n,e),o=r.filter(function(l,u){var c=Ny(a,l),f=n.props[i].filter(function(v){var b=hxe(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var Dg;function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Af.apply(this,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MR(r.key),r)}}function vxe(t,e,n){return e&&dP(t.prototype,e),n&&dP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yxe(t,e,n){return e=tv(e),bxe(t,PR()?Reflect.construct(e,n||[],tv(t).constructor):e.apply(t,n))}function bxe(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxe(t)}function xxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tv(t)}function wxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function ba(t,e,n){return e=MR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(t){var e=Sxe(t,"string");return td(e)=="symbol"?e:e+""}function Sxe(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vs=function(t){function e(n){var r;return gxe(this,e),r=yxe(this,e,[n]),ba(r,"pieRef",null),ba(r,"sectorRefs",[]),ba(r,"id",UA("recharts-pie-")),ba(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),yt(i)&&i()}),ba(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),yt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return wxe(e,t),vxe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=gt(this.props,!1),f=gt(o,!1),h=gt(s,!1),p=o&&o.offsetRadius||20,v=r.map(function(b,w){var y=(b.startAngle+b.endAngle)/2,x=Sn(b.cx,b.cy,b.outerRadius+p,y),S=bn(bn(bn(bn({},c),b),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(x.x,b.cx)},x),T=bn(bn(bn(bn({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:w,points:[Sn(b.cx,b.cy,b.outerRadius,y),x]}),C=l;return It(l)&&It(u)?C="value":It(l)&&(C=u),de.createElement(nn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,S,Kr(b,C)))});return de.createElement(nn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,v=bn(bn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return de.createElement(nn,Af({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Fu(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),de.createElement(kR,Af({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return de.createElement(ds,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,w=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(S,T){var C=h&&h[T],k=T>0?Yi(S,"paddingAngle",0):0;if(C){var E=Ws(C.endAngle-C.startAngle,S.endAngle-S.startAngle),M=bn(bn({},S),{},{startAngle:x+k,endAngle:x+E(b)+k});w.push(M),x=M.endAngle}else{var I=S.endAngle,U=S.startAngle,O=Ws(0,I-U),D=O(b),$=bn(bn({},S),{},{startAngle:x+k,endAngle:x+D+k});w.push($),x=$.endAngle}}),de.createElement(nn,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ny(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!Ye(u)||!Ye(c)||!Ye(f)||!Ye(h))return null;var b=Ot("recharts-pie",s);return de.createElement(nn,{tabIndex:this.props.rootTabIndex,className:b,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),Cr.renderCallByParent(this.props,null,!1),(!p||v)&&wl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);if(yt(r))return r(i);var o=Ot("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return de.createElement(Ew,Af({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);var o=a;if(yt(r)&&(o=r(i),de.isValidElement(o)))return o;var s=Ot("recharts-pie-label-text",typeof r!="boolean"&&!yt(r)?r.className:"");return de.createElement($u,Af({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(re.PureComponent);Dg=vs;ba(vs,"displayName","Pie");ba(vs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ld.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ba(vs,"parseDeltaAngle",function(t,e){var n=ri(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ba(vs,"getRealPieData",function(t){var e=t.data,n=t.children,r=gt(t,!1),i=Ta(n,gy);return e&&e.length?e.map(function(a,o){return bn(bn(bn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return bn(bn({},r),a.props)}):[]});ba(vs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=uR(i,a),s=r+ii(t.cx,i,i/2),l=n+ii(t.cy,a,a/2),u=ii(t.innerRadius,o,0),c=ii(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});ba(vs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?bn(bn({},e.type.defaultProps),e.props):e.props,i=Dg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),v=Dg.parseCoordinateOfPie(r,n),b=Dg.parseDeltaAngle(o,s),w=Math.abs(b),y=u;It(u)&&It(f)?(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):It(u)&&(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(M){return Kr(M,y,0)!==0}).length,S=(w>=360?x:x-1)*l,T=w-x*p-S,C=i.reduce(function(M,I){var U=Kr(I,y,0);return M+(Ye(U)?U:0)},0),k;if(C>0){var E;k=i.map(function(M,I){var U=Kr(M,y,0),O=Kr(M,c,I),D=(Ye(U)?U:0)/C,$;I?$=E.endAngle+ri(b)*l*(U!==0?1:0):$=o;var F=$+ri(b)*((U!==0?p:0)+D*T),G=($+F)/2,R=(v.innerRadius+v.outerRadius)/2,B=[{name:O,value:U,payload:M,dataKey:y,type:h}],W=Sn(v.cx,v.cy,R,G);return E=bn(bn(bn({percent:D,cornerRadius:a,name:O,tooltipPayload:B,midAngle:G,middleRadius:R,tooltipPosition:W},M),v),{},{value:Kr(M,y),startAngle:$,endAngle:F,payload:M,paddingAngle:ri(b)*l}),E})}return bn(bn({},v),{},{sectors:k,data:i})});var _xe=Math.ceil,Txe=Math.max;function Cxe(t,e,n,r){for(var i=-1,a=Txe(_xe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Nxe=Cxe,Exe=Jj,hP=1/0,kxe=17976931348623157e292;function Pxe(t){if(!t)return t===0?t:0;if(t=Exe(t),t===hP||t===-hP){var e=t<0?-1:1;return e*kxe}return t===t?t:0}var OR=Pxe,Mxe=Nxe,Oxe=my,J1=OR;function Dxe(t){return function(e,n,r){return r&&typeof r!="number"&&Oxe(e,n,r)&&(n=r=void 0),e=J1(e),n===void 0?(n=e,e=0):n=J1(n),r=r===void 0?e<n?1:-1:J1(r),Mxe(e,n,r,t)}}var Ixe=Dxe,jxe=Ixe,Lxe=jxe(),Rxe=Lxe;const nv=Jt(Rxe);function gA(t){"@babel/helpers - typeof";return gA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gA(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){DR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DR(t,e,n){return e=Fxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fxe(t){var e=$xe(t,"string");return gA(e)=="symbol"?e:e+""}function $xe(t,e){if(gA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bxe=["Webkit","Moz","O","ms"],Uxe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Bxe.reduce(function(a,o){return AP(AP({},a),{},DR({},o+r,n))},{});return i[e]=n,i};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function Hxe(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zxe(t,e,n){return e=iv(e),Vxe(t,IR()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function Vxe(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gxe(t)}function Gxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function Wxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function ji(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jR(t){var e=Yxe(t,"string");return nd(e)=="symbol"?e:e+""}function Yxe(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kxe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=bp().domain(nv(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},vP=function(e){return e.changedTouches&&!!e.changedTouches.length},rd=function(t){function e(n){var r;return qxe(this,e),r=zxe(this,e,[n]),ji(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ji(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ji(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),ji(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ji(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ji(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ji(r,"handleSlideDragStart",function(i){var a=vP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Wxe(e,t),Hxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Kr(a[r],s,r);return yt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,u+c-f-s,u+c-f-o):b<0&&(b=Math.max(b,u-o,u-s));var w=this.getIndex({startX:o+b,endX:s+b});(w.startIndex!==h||w.endIndex!==p)&&v&&v(w),this.setState({startX:o+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=vP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,v=c.onChange,b=c.gap,w=c.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),y[o]=u+x;var S=this.getIndex(y),T=S.startIndex,C=S.endIndex,k=function(){var M=w.length-1;return o==="startX"&&(s>l?T%b===0:C%b===0)||s<l&&C===M||o==="endX"&&(s>l?C%b===0:T%b===0)||s>l&&C===M};this.setState(ji(ji({},o,u+x),"brushMoveStartX",r.pageX),function(){v&&k()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(ji({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return de.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=re.Children.only(u);return f?de.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,b=l.startIndex,w=l.endIndex,y=Math.max(r,this.props.x),x=X1(X1({},gt(this.props,!1)),{},{x:y,y:u,width:c,height:f}),S=p||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return de.createElement(nn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,v={pointerEvents:"none",fill:u};return de.createElement(nn,{className:"recharts-brush-texts"},de.createElement($u,rv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},v),this.getTextOfTick(i)),de.createElement($u,rv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,v=h.endX,b=h.isTextActive,w=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!Ye(s)||!Ye(l)||!Ye(u)||!Ye(c)||u<=0||c<=0)return null;var S=Ot("recharts-brush",a),T=de.Children.count(o)===1,C=Uxe("userSelect","none");return de.createElement(nn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(b||w||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):yt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return X1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Kxe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(re.PureComponent);ji(rd,"displayName","Brush");ji(rd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jxe=QS;function Xxe(t,e){var n;return Jxe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Qxe=Xxe,Zxe=Sj,e2e=To,t2e=Qxe,n2e=Ci,r2e=my;function i2e(t,e,n){var r=n2e(t)?Zxe:t2e;return n&&r2e(t,e,n)&&(e=void 0),r(t,e2e(e))}var a2e=i2e;const o2e=Jt(a2e);var yo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},yP=Vj;function s2e(t,e,n){e=="__proto__"&&yP?yP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var l2e=s2e,u2e=l2e,c2e=Hj,f2e=To;function d2e(t,e){var n={};return e=f2e(e),c2e(t,function(r,i,a){u2e(n,i,e(r,i,a))}),n}var h2e=d2e;const p2e=Jt(h2e);function A2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var m2e=A2e,g2e=QS;function v2e(t,e){var n=!0;return g2e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var y2e=v2e,b2e=m2e,x2e=y2e,w2e=To,S2e=Ci,_2e=my;function T2e(t,e,n){var r=S2e(t)?b2e:x2e;return n&&_2e(t,e,n)&&(e=void 0),r(t,w2e(e))}var C2e=T2e;const LR=Jt(C2e);var N2e=["x","y"];function vA(t){"@babel/helpers - typeof";return vA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vA(t)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){E2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E2e(t,e,n){return e=k2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k2e(t){var e=P2e(t,"string");return vA(e)=="symbol"?e:e+""}function P2e(t,e){if(vA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M2e(t,e){if(t==null)return{};var n=O2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D2e(t,e){var n=t.x,r=t.y,i=M2e(t,N2e),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return qh(qh(qh(qh(qh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function xP(t){return de.createElement(kR,Vw({shapeType:"rectangle",propTransformer:D2e,activeClassName:"recharts-active-bar"},t))}var I2e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ye(r)||are(r);return a?e(r,i):(a||Uu(),n)}},j2e=["value","background"],RR;function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function L2e(t,e){if(t==null)return{};var n=R2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function $2e(t,e,n){return e&&SP(t.prototype,e),n&&SP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B2e(t,e,n){return e=ov(e),U2e(t,FR()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function U2e(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q2e(t)}function q2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function H2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function ll(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=z2e(t,"string");return id(e)=="symbol"?e:e+""}function z2e(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=function(t){function e(){var n;F2e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=B2e(this,e,[].concat(i)),ll(n,"state",{isAnimationFinished:!1}),ll(n,"id",UA("recharts-bar-")),ll(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ll(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return H2e(e,t),$2e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=gt(this.props,!1);return r&&r.map(function(f,h){var p=h===l,v=p?u:o,b=tr(tr(tr({},c),f),{},{isActive:p,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(nn,av({className:"recharts-bar-rectangle"},Fu(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),de.createElement(xP,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return de.createElement(ds,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,b=a.map(function(w,y){var x=h&&h[y];if(x){var S=Ws(x.x,w.x),T=Ws(x.y,w.y),C=Ws(x.width,w.width),k=Ws(x.height,w.height);return tr(tr({},w),{},{x:S(v),y:T(v),width:C(v),height:k(v)})}if(o==="horizontal"){var E=Ws(0,w.height),M=E(v);return tr(tr({},w),{},{y:w.y+w.height-M,height:M})}var I=Ws(0,w.width),U=I(v);return tr(tr({},w),{},{width:U})});return de.createElement(nn,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ny(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=gt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=L2e(u,j2e);if(!f)return null;var p=tr(tr(tr(tr(tr({},h),{},{fill:"#eee"},f),l),Fu(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return de.createElement(xP,av({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Ta(c,Py);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,y){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:Kr(w,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(nn,v,f.map(function(b){return de.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,v=r.background,b=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,y=Ot("recharts-bar",o),x=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=x||S,C=It(b)?this.id:b;return de.createElement(nn,{className:y},x||S?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(C)},de.createElement("rect",{x:x?u:u-f/2,y:S?c:c-h/2,width:x?f:f*2,height:S?h:h*2}))):null,de.createElement(nn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!p||w)&&wl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(re.PureComponent);RR=rc;ll(rc,"displayName","Bar");ll(rc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ld.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ll(rc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=S0e(r,n);if(!p)return null;var v=e.layout,b=n.type.defaultProps,w=b!==void 0?tr(tr({},b),n.props):n.props,y=w.dataKey,x=w.children,S=w.minPointSize,T=v==="horizontal"?o:a,C=u?T.scale.domain():null,k=P0e({numericAxis:T}),E=Ta(x,gy),M=f.map(function(I,U){var O,D,$,F,G,R;u?O=_0e(u[c+U],C):(O=Kr(I,y),Array.isArray(O)||(O=[k,O]));var B=I2e(S,RR.defaultProps.minPointSize)(O[1],U);if(v==="horizontal"){var W,K=[o.scale(O[0]),o.scale(O[1])],Z=K[0],se=K[1];D=d3({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:I,index:U}),$=(W=se??Z)!==null&&W!==void 0?W:void 0,F=p.size;var L=Z-se;if(G=Number.isNaN(L)?0:L,R={x:D,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(G)<Math.abs(B)){var z=ri(G||B)*(Math.abs(B)-Math.abs(G));$-=z,G+=z}}else{var Q=[a.scale(O[0]),a.scale(O[1])],te=Q[0],ie=Q[1];if(D=te,$=d3({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:I,index:U}),F=ie-te,G=p.size,R={x:a.x,y:$,width:a.width,height:G},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var me=ri(F||B)*(Math.abs(B)-Math.abs(F));F+=me}}return tr(tr(tr({},I),{},{x:D,y:$,width:F,height:G,value:u?O:O[1],payload:I,background:R},E&&E[U]&&E[U].props),{},{tooltipPayload:[sR(n,I)],tooltipPosition:{x:D+F/2,y:$+G/2}})});return tr({data:M,layout:v},h)});function yA(t){"@babel/helpers - typeof";return yA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yA(t)}function V2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BR(r.key),r)}}function G2e(t,e,n){return e&&_P(t.prototype,e),n&&_P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){Ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ry(t,e,n){return e=BR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BR(t){var e=W2e(t,"string");return yA(e)=="symbol"?e:e+""}function W2e(t,e){if(yA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y2e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ri(u,rc);return c.reduce(function(p,v){var b=n[v],w=b.orientation,y=b.domain,x=b.padding,S=x===void 0?{}:x,T=b.mirror,C=b.reversed,k="".concat(w).concat(T?"Mirror":""),E,M,I,U,O;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var D=y[1]-y[0],$=1/0,F=b.categoricalDomain.sort(lre);if(F.forEach(function(Q,te){te>0&&($=Math.min((Q||0)-(F[te-1]||0),$))}),Number.isFinite($)){var G=$/D,R=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=G*R/2),b.padding==="no-gap"){var B=ii(e.barCategoryGap,G*R),W=G*R/2;E=W-B-(W-B)/R*B}}}i==="xAxis"?M=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?M=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:M=b.range,C&&(M=[M[1],M[0]]);var K=rR(b,a,h),Z=K.scale,se=K.realScaleType;Z.domain(y).range(M),iR(Z);var L=aR(Z,Wa(Wa({},b),{},{realScaleType:se}));i==="xAxis"?(O=w==="top"&&!T||w==="bottom"&&T,I=r.left,U=f[k]-O*b.height):i==="yAxis"&&(O=w==="left"&&!T||w==="right"&&T,I=f[k]-O*b.width,U=r.top);var z=Wa(Wa(Wa({},b),L),{},{realScaleType:se,x:I,y:U,scale:Z,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return z.bandSize=z0(z,L),!b.hide&&i==="xAxis"?f[k]+=(O?-1:1)*z.height:b.hide||(f[k]+=(O?-1:1)*z.width),Wa(Wa({},p),{},Ry({},v,z))},{})},UR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},K2e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return UR({x:n,y:r},{x:i,y:a})},qR=function(){function t(e){V2e(this,t),this.scale=e}return G2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ry(qR,"EPS",1e-4);var E_=function(e){var n=Object.keys(e).reduce(function(r,i){return Wa(Wa({},r),{},Ry({},i,qR.create(e[i])))},{});return Wa(Wa({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return p2e(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return LR(i,function(a,o){return n[o].isInRange(a)})}})};function J2e(t){return(t%180+180)%180}var X2e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=J2e(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Q2e=To,Z2e=qA,ewe=py;function twe(t){return function(e,n,r){var i=Object(e);if(!Z2e(e)){var a=Q2e(n);e=ewe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var nwe=twe,rwe=OR;function iwe(t){var e=rwe(t),n=e%1;return e===e?n?e-n:e:0}var awe=iwe,owe=Rj,swe=To,lwe=awe,uwe=Math.max;function cwe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:lwe(n);return i<0&&(i=uwe(r+i,0)),owe(t,swe(e),i)}var fwe=cwe,dwe=nwe,hwe=fwe,pwe=dwe(hwe),Awe=pwe;const mwe=Jt(Awe);var gwe=fne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),k_=re.createContext(void 0),P_=re.createContext(void 0),HR=re.createContext(void 0),zR=re.createContext({}),VR=re.createContext(void 0),GR=re.createContext(0),WR=re.createContext(0),CP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=gwe(a);return de.createElement(k_.Provider,{value:r},de.createElement(P_.Provider,{value:i},de.createElement(zR.Provider,{value:a},de.createElement(HR.Provider,{value:c},de.createElement(VR.Provider,{value:o},de.createElement(GR.Provider,{value:u},de.createElement(WR.Provider,{value:l},s)))))))},vwe=function(){return re.useContext(VR)},YR=function(e){var n=re.useContext(k_);n==null&&Uu();var r=n[e];return r==null&&Uu(),r},ywe=function(){var e=re.useContext(k_);return tl(e)},bwe=function(){var e=re.useContext(P_),n=mwe(e,function(r){return LR(r.domain,Number.isFinite)});return n||tl(e)},KR=function(e){var n=re.useContext(P_);n==null&&Uu();var r=n[e];return r==null&&Uu(),r},xwe=function(){var e=re.useContext(HR);return e},wwe=function(){return re.useContext(zR)},M_=function(){return re.useContext(WR)},O_=function(){return re.useContext(GR)};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Swe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XR(r.key),r)}}function Twe(t,e,n){return e&&_we(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cwe(t,e,n){return e=sv(e),Nwe(t,JR()?Reflect.construct(e,n||[],sv(t).constructor):e.apply(t,n))}function Nwe(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ewe(t)}function Ewe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(t)}function kwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){D_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_(t,e,n){return e=XR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XR(t){var e=Pwe(t,"string");return ad(e)=="symbol"?e:e+""}function Pwe(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mwe(t,e){return jwe(t)||Iwe(t,e)||Dwe(t,e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dwe(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jwe(t){if(Array.isArray(t))return t}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}var Lwe=function(e,n){var r;return de.isValidElement(e)?r=de.cloneElement(e,n):yt(e)?r=e(n):r=de.createElement("line",Yw({},n,{className:"recharts-reference-line-line"})),r},Rwe=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,p=a.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(yo(u,"discard")&&!e.y.isInRange(b))return null;var w=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?w.reverse():w}if(n){var y=u.x,x=e.x.apply(y,{position:o});if(yo(u,"discard")&&!e.x.isInRange(x))return null;var S=[{x,y:f+p},{x,y:f}];return s==="top"?S.reverse():S}if(i){var T=u.segment,C=T.map(function(k){return e.apply(k,{position:o})});return yo(u,"discard")&&o2e(C,function(k){return!e.isInRange(k)})?null:C}return null};function Fwe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=vwe(),c=YR(i),f=KR(a),h=xwe();if(!u||!h)return null;Ja(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=E_({x:c.scale,y:f.scale}),v=mr(e),b=mr(n),w=r&&r.length===2,y=Rwe(p,v,b,w,h,t.position,c.orientation,f.orientation,t);if(!y)return null;var x=Mwe(y,2),S=x[0],T=S.x,C=S.y,k=x[1],E=k.x,M=k.y,I=yo(t,"hidden")?"url(#".concat(u,")"):void 0,U=EP(EP({clipPath:I},gt(t,!0)),{},{x1:T,y1:C,x2:E,y2:M});return de.createElement(nn,{className:Ot("recharts-reference-line",s)},Lwe(o,U),Cr.renderCallByParent(t,K2e({x1:T,y1:C,x2:E,y2:M})))}var I_=function(t){function e(){return Swe(this,e),Cwe(this,e,arguments)}return kwe(e,t),Twe(e,[{key:"render",value:function(){return de.createElement(Fwe,this.props)}}])}(de.Component);D_(I_,"displayName","ReferenceLine");D_(I_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function Uwe(t,e,n){return e&&Bwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qwe(t,e,n){return e=lv(e),Hwe(t,QR()?Reflect.construct(e,n||[],lv(t).constructor):e.apply(t,n))}function Hwe(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zwe(t)}function zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lv(t)}function Vwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function Fy(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=Gwe(t,"string");return od(e)=="symbol"?e:e+""}function Gwe(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wwe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=E_({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return yo(e,"discard")&&!o.isInRange(s)?null:s},$y=function(t){function e(){return $we(this,e),qwe(this,e,arguments)}return Vwe(e,t),Uwe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=mr(i),c=mr(a);if(Ja(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Wwe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,b=v.shape,w=v.className,y=yo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=MP(MP({clipPath:y},gt(this.props,!0)),{},{cx:h,cy:p});return de.createElement(nn,{className:Ot("recharts-reference-dot",w)},e.renderDot(b,x),Cr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(de.Component);Fy($y,"displayName","ReferenceDot");Fy($y,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fy($y,"renderDot",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(N_,Kw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){By(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ywe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t8(r.key),r)}}function Jwe(t,e,n){return e&&Kwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xwe(t,e,n){return e=uv(e),Qwe(t,e8()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function Qwe(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zwe(t)}function Zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e8=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function e5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function By(t,e,n){return e=t8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8(t){var e=t5e(t,"string");return sd(e)=="symbol"?e:e+""}function t5e(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n5e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=E_({x:c.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return yo(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:UR(p,v)},Uy=function(t){function e(){return Ywe(this,e),Xwe(this,e,arguments)}return e5e(e,t),Jwe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ja(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mr(i),h=mr(a),p=mr(o),v=mr(s),b=this.props.shape;if(!f&&!h&&!p&&!v&&!b)return null;var w=n5e(f,h,p,v,this.props);if(!w&&!b)return null;var y=yo(this.props,"hidden")?"url(#".concat(c,")"):void 0;return de.createElement(nn,{className:Ot("recharts-reference-area",l)},e.renderRect(b,DP(DP({clipPath:y},gt(this.props,!0)),w)),Cr.renderCallByParent(this.props,w))}}])}(de.Component);By(Uy,"displayName","ReferenceArea");By(Uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});By(Uy,"renderRect",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(C_,Xw({},e,{className:"recharts-reference-area-rect"})),n});function n8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function r5e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return X2e(r,n)}function i5e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function cv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function a5e(t,e){return n8(t,e+1)}function o5e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:n8(r,u)};var b=l,w,y=function(){return w===void 0&&(w=n(v,b)),w},x=v.coordinate,S=l===0||cv(t,x,y,c,s);S||(l=0,c=o,u+=1),S&&(c=x+t*(y()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function bA(t){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(t)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){s5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s5e(t,e,n){return e=l5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l5e(t){var e=u5e(t,"string");return bA(e)=="symbol"?e:e+""}function u5e(t,e){if(bA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c5e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],v,b=function(){return v===void 0&&(v=n(p,h)),v};if(h===o-1){var w=t*(p.coordinate+t*b()/2-l);a[h]=p=Gr(Gr({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else a[h]=p=Gr(Gr({},p),{},{tickCoord:p.coordinate});var y=cv(t,p.tickCoord,b,s,l);y&&(l=p.tickCoord-t*(b()/2+i),a[h]=Gr(Gr({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function f5e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=Gr(Gr({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=cv(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Gr(Gr({},c),{},{isShow:!0}))}for(var v=a?s-1:s,b=function(x){var S=o[x],T,C=function(){return T===void 0&&(T=n(S,x)),T};if(x===0){var k=t*(S.coordinate-t*C()/2-l);o[x]=S=Gr(Gr({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else o[x]=S=Gr(Gr({},S),{},{tickCoord:S.coordinate});var E=cv(t,S.tickCoord,C,l,u);E&&(l=S.tickCoord+t*(C()/2+i),o[x]=Gr(Gr({},S),{},{isShow:!0}))},w=0;w<v;w++)b(w);return o}function j_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ye(l)||Ld.isSsr)return a5e(i,typeof l=="number"&&Ye(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",v=c&&p==="width"?yp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,T){var C=yt(u)?u(S.value,T):S.value;return p==="width"?r5e(yp(C,{fontSize:e,letterSpacing:n}),v,f):yp(C,{fontSize:e,letterSpacing:n})[p]},w=i.length>=2?ri(i[1].coordinate-i[0].coordinate):1,y=i5e(a,w,p);return l==="equidistantPreserveStart"?o5e(w,y,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=f5e(w,y,b,i,o,l==="preserveStartEnd"):h=c5e(w,y,b,i,o),h.filter(function(x){return x.isShow}))}var d5e=["viewBox"],h5e=["viewBox"],p5e=["ticks"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){L_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1(t,e){if(t==null)return{};var n=A5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i8(r.key),r)}}function g5e(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v5e(t,e,n){return e=fv(e),y5e(t,r8()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function y5e(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b5e(t)}function b5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r8=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function x5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function L_(t,e,n){return e=i8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i8(t){var e=w5e(t,"string");return ld(e)=="symbol"?e:e+""}function w5e(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bd=function(t){function e(n){var r;return m5e(this,e),r=v5e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return x5e(e,t),g5e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Q1(r,d5e),s=this.props,l=s.viewBox,u=Q1(s,h5e);return!Ef(a,l)||!Ef(o,u)||!Ef(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,b,w,y,x,S=f?-1:1,T=r.tickSize||c,C=Ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=v=r.coordinate,w=o+ +!f*l,b=w-S*T,x=b-S*h,y=C;break;case"left":b=w=r.coordinate,v=a+ +!f*s,p=v-S*T,y=p-S*h,x=C;break;case"right":b=w=r.coordinate,v=a+ +f*s,p=v+S*T,y=p+S*h,x=C;break;default:p=v=r.coordinate,w=o+ +f*l,b=w+S*T,x=b+S*h,y=C;break}return{line:{x1:p,y1:b,x2:v,y2:w},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=cr(cr(cr({},gt(this.props,!1)),gt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=cr(cr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=cr(cr({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return de.createElement("line",mf({},f,{className:Ot("recharts-cartesian-axis-line",Yi(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=j_(cr(cr({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=gt(this.props,!1),y=gt(c,!1),x=cr(cr({},w),{},{fill:"none"},gt(l,!1)),S=p.map(function(T,C){var k=o.getTickLineCoord(T),E=k.line,M=k.tick,I=cr(cr(cr(cr({textAnchor:v,verticalAnchor:b},w),{},{stroke:"none",fill:u},y),M),{},{index:C,payload:T,visibleTicksCount:p.length,tickFormatter:f});return de.createElement(nn,mf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Fu(o.props,T,C)),l&&de.createElement("line",mf({},x,E,{className:Ot("recharts-cartesian-axis-tick-line",Yi(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(yt(f)?f(T.value,C):T.value).concat(h||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=Q1(f,p5e),v=h;return yt(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!v||!v.length?null:de.createElement(nn,{className:Ot("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Ot(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?o=de.cloneElement(r,cr(cr({},i),{},{className:s})):yt(r)?o=r(cr(cr({},i),{},{className:s})):o=de.createElement($u,mf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(re.Component);L_(Bd,"displayName","CartesianAxis");L_(Bd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var S5e=["x1","y1","x2","y2","key"],_5e=["offset"];function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){T5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T5e(t,e,n){return e=C5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C5e(t){var e=N5e(t,"string");return qu(e)=="symbol"?e:e+""}function N5e(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}function FP(t,e){if(t==null)return{};var n=E5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var k5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return de.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function a8(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(yt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=FP(e,S5e),u=gt(l,!1);u.offset;var c=FP(u,_5e);n=de.createElement("line",yu({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function P5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Wr(Wr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return a8(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function M5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Wr(Wr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return a8(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function O5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var v=!c[p+1],b=v?i+o-h:c[p+1]-h;if(b<=0)return null;var w=p%e.length;return de.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function D5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var v=!c[p+1],b=v?a+s-h:c[p+1]-h;if(b<=0)return null;var w=p%r.length;return de.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var I5e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return nR(j_(Wr(Wr(Wr({},Bd.defaultProps),r),{},{ticks:Qo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},j5e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return nR(j_(Wr(Wr(Wr({},Bd.defaultProps),r),{},{ticks:Qo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Hc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function o8(t){var e,n,r,i,a,o,s=M_(),l=O_(),u=wwe(),c=Wr(Wr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Hc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Hc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Hc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Hc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Hc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Hc.verticalFill,x:Ye(t.x)?t.x:u.left,y:Ye(t.y)?t.y:u.top,width:Ye(t.width)?t.width:u.width,height:Ye(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,v=c.height,b=c.syncWithTicks,w=c.horizontalValues,y=c.verticalValues,x=ywe(),S=bwe();if(!Ye(p)||p<=0||!Ye(v)||v<=0||!Ye(f)||f!==+f||!Ye(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||I5e,C=c.horizontalCoordinatesGenerator||j5e,k=c.horizontalPoints,E=c.verticalPoints;if((!k||!k.length)&&yt(C)){var M=w&&w.length,I=C({yAxis:S?Wr(Wr({},S),{},{ticks:M?w:S.ticks}):void 0,width:s,height:l,offset:u},M?!0:b);Ja(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qu(I),"]")),Array.isArray(I)&&(k=I)}if((!E||!E.length)&&yt(T)){var U=y&&y.length,O=T({xAxis:x?Wr(Wr({},x),{},{ticks:U?y:x.ticks}):void 0,width:s,height:l,offset:u},U?!0:b);Ja(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qu(O),"]")),Array.isArray(O)&&(E=O)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(k5e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),de.createElement(P5e,yu({},c,{offset:u,horizontalPoints:k,xAxis:x,yAxis:S})),de.createElement(M5e,yu({},c,{offset:u,verticalPoints:E,xAxis:x,yAxis:S})),de.createElement(O5e,yu({},c,{horizontalPoints:k})),de.createElement(D5e,yu({},c,{verticalPoints:E})))}o8.displayName="CartesianGrid";function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function L5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u8(r.key),r)}}function F5e(t,e,n){return e&&R5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $5e(t,e,n){return e=dv(e),B5e(t,s8()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function B5e(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U5e(t)}function U5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e5(t,e)}function e5(t,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e5(t,e)}function l8(t,e,n){return e=u8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8(t){var e=H5e(t,"string");return ud(e)=="symbol"?e:e+""}function H5e(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function t5(){return t5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t5.apply(this,arguments)}function z5e(t){var e=t.xAxisId,n=M_(),r=O_(),i=YR(e);return i==null?null:re.createElement(Bd,t5({},i,{className:Ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Qo(o,!0)}}))}var qy=function(t){function e(){return L5e(this,e),$5e(this,e,arguments)}return q5e(e,t),F5e(e,[{key:"render",value:function(){return re.createElement(z5e,this.props)}}])}(re.Component);l8(qy,"displayName","XAxis");l8(qy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function V5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d8(r.key),r)}}function W5e(t,e,n){return e&&G5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y5e(t,e,n){return e=hv(e),K5e(t,c8()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function K5e(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J5e(t)}function J5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(t)}function X5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n5(t,e)}function n5(t,e){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n5(t,e)}function f8(t,e,n){return e=d8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8(t){var e=Q5e(t,"string");return cd(e)=="symbol"?e:e+""}function Q5e(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r5.apply(this,arguments)}var Z5e=function(e){var n=e.yAxisId,r=M_(),i=O_(),a=KR(n);return a==null?null:re.createElement(Bd,r5({},a,{className:Ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Qo(s,!0)}}))},Hy=function(t){function e(){return V5e(this,e),Y5e(this,e,arguments)}return X5e(e,t),W5e(e,[{key:"render",value:function(){return re.createElement(Z5e,this.props)}}])}(re.Component);f8(Hy,"displayName","YAxis");f8(Hy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $P(t){return rSe(t)||nSe(t)||tSe(t)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tSe(t,e){if(t){if(typeof t=="string")return i5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i5(t,e)}}function nSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rSe(t){if(Array.isArray(t))return i5(t)}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a5=function(e,n,r,i,a){var o=Ta(e,I_),s=Ta(e,$y),l=[].concat($P(o),$P(s)),u=Ta(e,Uy),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,w){if(w.props[c]===r&&yo(w.props,"extendDomain")&&Ye(w.props[f])){var y=w.props[f];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,w){if(w.props[c]===r&&yo(w.props,"extendDomain")&&Ye(w.props[p])&&Ye(w.props[v])){var y=w.props[p],x=w.props[v];return[Math.min(b[0],y,x),Math.max(b[1],y,x)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,w){return Ye(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},h)),h},h8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,v){var b=n?n+u:u;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,x,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,p),!0;case 6:return w.fn.call(w.context,c,f,h,p,v),!0}for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];w.fn.apply(w.context,x)}else{var T=w.length,C;for(S=0;S<T;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),y){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,h);break;default:if(!x)for(C=1,x=new Array(y-1);C<y;C++)x[C-1]=arguments[C];w[S].fn.apply(w[S].context,x)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var b=0,w=[],y=v.length;b<y;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&w.push(v[b]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(h8);var iSe=h8.exports;const aSe=Jt(iSe);var Z1=new aSe,ex="recharts.syncMouseEvents";function xA(t){"@babel/helpers - typeof";return xA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xA(t)}function oSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p8(r.key),r)}}function lSe(t,e,n){return e&&sSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tx(t,e,n){return e=p8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p8(t){var e=uSe(t,"string");return xA(e)=="symbol"?e:e+""}function uSe(t,e){if(xA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cSe=function(){function t(){oSe(this,t),tx(this,"activeIndex",0),tx(this,"coordinateList",[]),tx(this,"layout","horizontal")}return lSe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function fSe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ye(r)&&Ye(i))return!0}return!1}function dSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function A8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Sn(e,n,r,i),s=Sn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function hSe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Sn(s,l,u,f),p=Sn(s,l,c,f);r=h.x,i=h.y,a=p.x,o=p.y}else return A8(e);return[{x:r,y:i},{x:a,y:o}]}function wA(t){"@babel/helpers - typeof";return wA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){pSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pSe(t,e,n){return e=ASe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ASe(t){var e=mSe(t,"string");return wA(e)=="symbol"?e:e+""}function mSe(t,e){if(wA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gSe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,b=Ew;if(h==="ScatterChart")v=o,b=Ybe;else if(h==="BarChart")v=dSe(f,o,l,c),b=C_;else if(f==="radial"){var w=A8(o),y=w.cx,x=w.cy,S=w.radius,T=w.startAngle,C=w.endAngle;v={cx:y,cy:x,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},b=hR}else v={points:hSe(f,o,l)},b=Ew;var k=hg(hg(hg(hg({stroke:"#ccc",pointerEvents:"none"},l),v),gt(p,!1)),{},{payload:s,payloadIndex:u,className:Ot("recharts-tooltip-cursor",p.className)});return re.isValidElement(p)?re.cloneElement(p,k):re.createElement(b,k)}var vSe=["item"],ySe=["children","className","width","height","style","compact","title","desc"];function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function UP(t,e){return wSe(t)||xSe(t,e)||g8(t,e)||bSe()}function bSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function wSe(t){if(Array.isArray(t))return t}function qP(t,e){if(t==null)return{};var n=SSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v8(r.key),r)}}function CSe(t,e,n){return e&&TSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NSe(t,e,n){return e=pv(e),ESe(t,m8()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function ESe(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kSe(t)}function kSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m8=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function PSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o5(t,e)}function o5(t,e){return o5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o5(t,e)}function dd(t){return DSe(t)||OSe(t)||g8(t)||MSe()}function MSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8(t,e){if(t){if(typeof t=="string")return s5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s5(t,e)}}function OSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DSe(t){if(Array.isArray(t))return s5(t)}function s5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){At(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function At(t,e,n){return e=v8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v8(t){var e=ISe(t,"string");return fd(e)=="symbol"?e:e+""}function ISe(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jSe={xAxis:["bottom","top"],yAxis:["left","right"]},LSe={width:"100%",height:"100%"},y8={x:0,y:0};function pg(t){return t}var RSe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},FSe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ie(Ie(Ie({},i),Sn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Ie(Ie(Ie({},i),Sn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return y8},zy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(dd(s),dd(u)):s},[]);return o.length>0?o:e&&e.length&&Ye(i)&&Ye(a)?e.slice(i,a+1):[]};function b8(t){return t==="number"?[0,"auto"]:void 0}var l5=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=zy(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=L2(p,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(dd(l),[sR(u,h)]):l},[])},zP=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=RSe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=g0e(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=l5(e,n,c,f),p=FSe(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},$Se=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=tR(c,a);return r.reduce(function(v,b){var w,y=b.type.defaultProps!==void 0?Ie(Ie({},b.type.defaultProps),b.props):b.props,x=y.type,S=y.dataKey,T=y.allowDataOverflow,C=y.allowDuplicatedCategory,k=y.scale,E=y.ticks,M=y.includeHidden,I=y[o];if(v[I])return v;var U=zy(e.data,{graphicalItems:i.filter(function(L){var z,Q=o in L.props?L.props[o]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[o];return Q===I}),dataStartIndex:l,dataEndIndex:u}),O=U.length,D,$,F;fSe(y.domain,T,x)&&(D=Sw(y.domain,null,T),p&&(x==="number"||k!=="auto")&&(F=xp(U,S,"category")));var G=b8(x);if(!D||D.length===0){var R,B=(R=y.domain)!==null&&R!==void 0?R:G;if(S){if(D=xp(U,S,x),x==="category"&&p){var W=sre(D);C&&W?($=D,D=nv(0,O)):C||(D=A3(B,D,b).reduce(function(L,z){return L.indexOf(z)>=0?L:[].concat(dd(L),[z])},[]))}else if(x==="category")C?D=D.filter(function(L){return L!==""&&!It(L)}):D=A3(B,D,b).reduce(function(L,z){return L.indexOf(z)>=0||z===""||It(z)?L:[].concat(dd(L),[z])},[]);else if(x==="number"){var K=w0e(U,i.filter(function(L){var z,Q,te=o in L.props?L.props[o]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[o],ie="hide"in L.props?L.props.hide:(Q=L.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return te===I&&(M||!ie)}),S,a,c);K&&(D=K)}p&&(x==="number"||k!=="auto")&&(F=xp(U,S,"category"))}else p?D=nv(0,O):s&&s[I]&&s[I].hasStack&&x==="number"?D=h==="expand"?[0,1]:oR(s[I].stackGroups,l,u):D=eR(U,i.filter(function(L){var z=o in L.props?L.props[o]:L.type.defaultProps[o],Q="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return z===I&&(M||!Q)}),x,c,!0);if(x==="number")D=a5(f,D,I,a,E),B&&(D=Sw(B,D,T));else if(x==="category"&&B){var Z=B,se=D.every(function(L){return Z.indexOf(L)>=0});se&&(D=Z)}}return Ie(Ie({},v),{},At({},I,Ie(Ie({},y),{},{axisType:a,domain:D,categoricalDomain:F,duplicateDomain:$,originalDomain:(w=y.domain)!==null&&w!==void 0?w:G,isCategorical:p,layout:c})))},{})},BSe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=zy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,v=tR(c,a),b=-1;return r.reduce(function(w,y){var x=y.type.defaultProps!==void 0?Ie(Ie({},y.type.defaultProps),y.props):y.props,S=x[o],T=b8("number");if(!w[S]){b++;var C;return v?C=nv(0,p):s&&s[S]&&s[S].hasStack?(C=oR(s[S].stackGroups,l,u),C=a5(f,C,S,a)):(C=Sw(T,eR(h,r.filter(function(k){var E,M,I=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],U="hide"in k.props?k.props.hide:(M=k.type.defaultProps)===null||M===void 0?void 0:M.hide;return I===S&&!U}),"number",c),i.defaultProps.allowDataOverflow),C=a5(f,C,S,a)),Ie(Ie({},w),{},At({},S,Ie(Ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yi(jSe,"".concat(a,".").concat(b%2),null),domain:C,originalDomain:T,isCategorical:v,layout:c})))}return w},{})},USe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Ta(c,a),p={};return h&&h.length?p=$Se(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=BSe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},qSe=function(e){var n=tl(e),r=Qo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ZS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:z0(n,r)}},VP=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ri(n,rd),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},HSe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ns(n&&n.type);return r&&r.indexOf("Bar")>=0})},GP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zSe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Ri(f,rd),v=Ri(f,bl),b=Object.keys(l).reduce(function(C,k){var E=l[k],M=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},At({},M,C[M]+E.width)):C},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(C,k){var E=o[k],M=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},At({},M,Yi(C,"".concat(M))+E.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=Ie(Ie({},w),b),x=y.bottom;p&&(y.bottom+=p.props.height||rd.defaultProps.height),v&&n&&(y=b0e(y,i,r,n));var S=u-y.left-y.right,T=c-y.top-y.bottom;return Ie(Ie({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(T,0)})},VSe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},x8=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var S=x.graphicalItems,T=x.stackGroups,C=x.offset,k=x.updateId,E=x.dataStartIndex,M=x.dataEndIndex,I=y.barSize,U=y.layout,O=y.barGap,D=y.barCategoryGap,$=y.maxBarSize,F=GP(U),G=F.numericAxisName,R=F.cateAxisName,B=HSe(S),W=[];return S.forEach(function(K,Z){var se=zy(y.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:M}),L=K.type.defaultProps!==void 0?Ie(Ie({},K.type.defaultProps),K.props):K.props,z=L.dataKey,Q=L.maxBarSize,te=L["".concat(G,"Id")],ie=L["".concat(R,"Id")],me={},Ae=l.reduce(function(be,ke){var ye=x["".concat(ke.axisType,"Map")],Ve=L["".concat(ke.axisType,"Id")];ye&&ye[Ve]||ke.axisType==="zAxis"||Uu();var Ge=ye[Ve];return Ie(Ie({},be),{},At(At({},ke.axisType,Ge),"".concat(ke.axisType,"Ticks"),Qo(Ge)))},me),V=Ae[R],le=Ae["".concat(R,"Ticks")],ce=T&&T[te]&&T[te].hasStack&&M0e(K,T[te].stackGroups),ue=ns(K.type).indexOf("Bar")>=0,Me=z0(V,le),Le=[],Ce=B&&v0e({barSize:I,stackGroups:T,totalSize:VSe(Ae,R)});if(ue){var ae,Ne,Ee=It(Q)?$:Q,xe=(ae=(Ne=z0(V,le,!0))!==null&&Ne!==void 0?Ne:Ee)!==null&&ae!==void 0?ae:0;Le=y0e({barGap:O,barCategoryGap:D,bandSize:xe!==Me?xe:Me,sizeList:Ce[ie],maxBarSize:Ee}),xe!==Me&&(Le=Le.map(function(be){return Ie(Ie({},be),{},{position:Ie(Ie({},be.position),{},{offset:be.position.offset-xe/2})})}))}var Pe=K&&K.type&&K.type.getComposedData;Pe&&W.push({props:Ie(Ie({},Pe(Ie(Ie({},Ae),{},{displayedData:se,props:y,dataKey:z,item:K,bandSize:Me,barPosition:Le,offset:C,stackedData:ce,layout:U,dataStartIndex:E,dataEndIndex:M}))),{},At(At(At({key:K.key||"item-".concat(Z)},G,Ae[G]),R,Ae[R]),"animationId",k)),childIndex:yre(K,y.children),item:K})}),W},p=function(y,x){var S=y.props,T=y.dataStartIndex,C=y.dataEndIndex,k=y.updateId;if(!lk({props:S}))return null;var E=S.children,M=S.layout,I=S.stackOffset,U=S.data,O=S.reverseStackOrder,D=GP(M),$=D.numericAxisName,F=D.cateAxisName,G=Ta(E,r),R=k0e(U,G,"".concat($,"Id"),"".concat(F,"Id"),I,O),B=l.reduce(function(L,z){var Q="".concat(z.axisType,"Map");return Ie(Ie({},L),{},At({},Q,USe(S,Ie(Ie({},z),{},{graphicalItems:G,stackGroups:z.axisType===$&&R,dataStartIndex:T,dataEndIndex:C}))))},{}),W=zSe(Ie(Ie({},B),{},{props:S,graphicalItems:G}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(L){B[L]=c(S,B[L],W,L.replace("Map",""),n)});var K=B["".concat(F,"Map")],Z=qSe(K),se=h(S,Ie(Ie({},B),{},{dataStartIndex:T,dataEndIndex:C,updateId:k,graphicalItems:G,stackGroups:R,offset:W}));return Ie(Ie({formattedGraphicalItems:se,graphicalItems:G,offset:W,stackGroups:R},Z),B)},v=function(w){function y(x){var S,T,C;return _Se(this,y),C=NSe(this,y,[x]),At(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(C,"accessibilityManager",new cSe),At(C,"handleLegendBBoxUpdate",function(k){if(k){var E=C.state,M=E.dataStartIndex,I=E.dataEndIndex,U=E.updateId;C.setState(Ie({legendBBox:k},p({props:C.props,dataStartIndex:M,dataEndIndex:I,updateId:U},Ie(Ie({},C.state),{},{legendBBox:k}))))}}),At(C,"handleReceiveSyncEvent",function(k,E,M){if(C.props.syncId===k){if(M===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),At(C,"handleBrushChange",function(k){var E=k.startIndex,M=k.endIndex;if(E!==C.state.dataStartIndex||M!==C.state.dataEndIndex){var I=C.state.updateId;C.setState(function(){return Ie({dataStartIndex:E,dataEndIndex:M},p({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:I},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:M})}}),At(C,"handleMouseEnter",function(k){var E=C.getMouseInfo(k);if(E){var M=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var I=C.props.onMouseEnter;yt(I)&&I(M,k)}}),At(C,"triggeredAfterMouseMove",function(k){var E=C.getMouseInfo(k),M=E?Ie(Ie({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var I=C.props.onMouseMove;yt(I)&&I(M,k)}),At(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),At(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),At(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),At(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseLeave;yt(M)&&M(E,k)}),At(C,"handleOuterEvent",function(k){var E=vre(k),M=Yi(C.props,"".concat(E));if(E&&yt(M)){var I,U;/.*touch.*/i.test(E)?U=C.getMouseInfo(k.changedTouches[0]):U=C.getMouseInfo(k),M((I=U)!==null&&I!==void 0?I:{},k)}}),At(C,"handleClick",function(k){var E=C.getMouseInfo(k);if(E){var M=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var I=C.props.onClick;yt(I)&&I(M,k)}}),At(C,"handleMouseDown",function(k){var E=C.props.onMouseDown;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"handleMouseUp",function(k){var E=C.props.onMouseUp;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),At(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),At(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),At(C,"handleDoubleClick",function(k){var E=C.props.onDoubleClick;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"handleContextMenu",function(k){var E=C.props.onContextMenu;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&Z1.emit(ex,C.props.syncId,k,C.eventEmitterSymbol)}),At(C,"applySyncEvent",function(k){var E=C.props,M=E.layout,I=E.syncMethod,U=C.state.updateId,O=k.dataStartIndex,D=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(Ie({dataStartIndex:O,dataEndIndex:D},p({props:C.props,dataStartIndex:O,dataEndIndex:D,updateId:U},C.state)));else if(k.activeTooltipIndex!==void 0){var $=k.chartX,F=k.chartY,G=k.activeTooltipIndex,R=C.state,B=R.offset,W=R.tooltipTicks;if(!B)return;if(typeof I=="function")G=I(W,k);else if(I==="value"){G=-1;for(var K=0;K<W.length;K++)if(W[K].value===k.activeLabel){G=K;break}}var Z=Ie(Ie({},B),{},{x:B.left,y:B.top}),se=Math.min($,Z.x+Z.width),L=Math.min(F,Z.y+Z.height),z=W[G]&&W[G].value,Q=l5(C.state,C.props.data,G),te=W[G]?{x:M==="horizontal"?W[G].coordinate:se,y:M==="horizontal"?L:W[G].coordinate}:y8;C.setState(Ie(Ie({},k),{},{activeLabel:z,activeCoordinate:te,activePayload:Q,activeTooltipIndex:G}))}else C.setState(k)}),At(C,"renderCursor",function(k){var E,M=C.state,I=M.isTooltipActive,U=M.activeCoordinate,O=M.activePayload,D=M.offset,$=M.activeTooltipIndex,F=M.tooltipAxisBandSize,G=C.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:I,B=C.props.layout,W=k.key||"_recharts-cursor";return de.createElement(gSe,{key:W,activeCoordinate:U,activePayload:O,activeTooltipIndex:$,chartName:n,element:k,isActive:R,layout:B,offset:D,tooltipAxisBandSize:F,tooltipEventType:G})}),At(C,"renderPolarAxis",function(k,E,M){var I=Yi(k,"type.axisType"),U=Yi(C.state,"".concat(I,"Map")),O=k.type.defaultProps,D=O!==void 0?Ie(Ie({},O),k.props):k.props,$=U&&U[D["".concat(I,"Id")]];return re.cloneElement(k,Ie(Ie({},$),{},{className:Ot(I,$.className),key:k.key||"".concat(E,"-").concat(M),ticks:Qo($,!0)}))}),At(C,"renderPolarGrid",function(k){var E=k.props,M=E.radialLines,I=E.polarAngles,U=E.polarRadius,O=C.state,D=O.radiusAxisMap,$=O.angleAxisMap,F=tl(D),G=tl($),R=G.cx,B=G.cy,W=G.innerRadius,K=G.outerRadius;return re.cloneElement(k,{polarAngles:Array.isArray(I)?I:Qo(G,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(U)?U:Qo(F,!0).map(function(Z){return Z.coordinate}),cx:R,cy:B,innerRadius:W,outerRadius:K,key:k.key||"polar-grid",radialLines:M})}),At(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,E=C.props,M=E.children,I=E.width,U=E.height,O=C.props.margin||{},D=I-(O.left||0)-(O.right||0),$=QL({children:M,formattedGraphicalItems:k,legendWidth:D,legendContent:u});if(!$)return null;var F=$.item,G=qP($,vSe);return re.cloneElement(F,Ie(Ie({},G),{},{chartWidth:I,chartHeight:U,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),At(C,"renderTooltip",function(){var k,E=C.props,M=E.children,I=E.accessibilityLayer,U=Ri(M,Ga);if(!U)return null;var O=C.state,D=O.isTooltipActive,$=O.activeCoordinate,F=O.activePayload,G=O.activeLabel,R=O.offset,B=(k=U.props.active)!==null&&k!==void 0?k:D;return re.cloneElement(U,{viewBox:Ie(Ie({},R),{},{x:R.left,y:R.top}),active:B,label:G,payload:B?F:[],coordinate:$,accessibilityLayer:I})}),At(C,"renderBrush",function(k){var E=C.props,M=E.margin,I=E.data,U=C.state,O=U.offset,D=U.dataStartIndex,$=U.dataEndIndex,F=U.updateId;return re.cloneElement(k,{key:k.key||"_recharts-brush",onChange:ug(C.handleBrushChange,k.props.onChange),data:I,x:Ye(k.props.x)?k.props.x:O.left,y:Ye(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(M.bottom||0),width:Ye(k.props.width)?k.props.width:O.width,startIndex:D,endIndex:$,updateId:"brush-".concat(F)})}),At(C,"renderReferenceElement",function(k,E,M){if(!k)return null;var I=C,U=I.clipPathId,O=C.state,D=O.xAxisMap,$=O.yAxisMap,F=O.offset,G=k.type.defaultProps||{},R=k.props,B=R.xAxisId,W=B===void 0?G.xAxisId:B,K=R.yAxisId,Z=K===void 0?G.yAxisId:K;return re.cloneElement(k,{key:k.key||"".concat(E,"-").concat(M),xAxis:D[W],yAxis:$[Z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:U})}),At(C,"renderActivePoints",function(k){var E=k.item,M=k.activePoint,I=k.basePoint,U=k.childIndex,O=k.isRange,D=[],$=E.props.key,F=E.item.type.defaultProps!==void 0?Ie(Ie({},E.item.type.defaultProps),E.item.props):E.item.props,G=F.activeDot,R=F.dataKey,B=Ie(Ie({index:U,dataKey:R,cx:M.x,cy:M.y,r:4,fill:T_(E.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},gt(G,!1)),g0(G));return D.push(y.renderActiveDot(G,B,"".concat($,"-activePoint-").concat(U))),I?D.push(y.renderActiveDot(G,Ie(Ie({},B),{},{cx:I.x,cy:I.y}),"".concat($,"-basePoint-").concat(U))):O&&D.push(null),D}),At(C,"renderGraphicChild",function(k,E,M){var I=C.filterFormatItem(k,E,M);if(!I)return null;var U=C.getTooltipEventType(),O=C.state,D=O.isTooltipActive,$=O.tooltipAxis,F=O.activeTooltipIndex,G=O.activeLabel,R=C.props.children,B=Ri(R,Ga),W=I.props,K=W.points,Z=W.isRange,se=W.baseLine,L=I.item.type.defaultProps!==void 0?Ie(Ie({},I.item.type.defaultProps),I.item.props):I.item.props,z=L.activeDot,Q=L.hide,te=L.activeBar,ie=L.activeShape,me=!!(!Q&&D&&B&&(z||te||ie)),Ae={};U!=="axis"&&B&&B.props.trigger==="click"?Ae={onClick:ug(C.handleItemMouseEnter,k.props.onClick)}:U!=="axis"&&(Ae={onMouseLeave:ug(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:ug(C.handleItemMouseEnter,k.props.onMouseEnter)});var V=re.cloneElement(k,Ie(Ie({},I.props),Ae));function le(ke){return typeof $.dataKey=="function"?$.dataKey(ke.payload):null}if(me)if(F>=0){var ce,ue;if($.dataKey&&!$.allowDuplicatedCategory){var Me=typeof $.dataKey=="function"?le:"payload.".concat($.dataKey.toString());ce=L2(K,Me,G),ue=Z&&se&&L2(se,Me,G)}else ce=K==null?void 0:K[F],ue=Z&&se&&se[F];if(ie||te){var Le=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[re.cloneElement(k,Ie(Ie(Ie({},I.props),Ae),{},{activeIndex:Le})),null,null]}if(!It(ce))return[V].concat(dd(C.renderActivePoints({item:I,activePoint:ce,basePoint:ue,childIndex:F,isRange:Z})))}else{var Ce,ae=(Ce=C.getItemByXY(C.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:V},Ne=ae.graphicalItem,Ee=Ne.item,xe=Ee===void 0?k:Ee,Pe=Ne.childIndex,be=Ie(Ie(Ie({},I.props),Ae),{},{activeIndex:Pe});return[re.cloneElement(xe,be),null,null]}return Z?[V,null,null]:[V,null]}),At(C,"renderCustomized",function(k,E,M){return re.cloneElement(k,Ie(Ie({key:"recharts-customized-".concat(M)},C.props),C.state))}),At(C,"renderMap",{CartesianGrid:{handler:pg,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:pg},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:pg},YAxis:{handler:pg},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=x.id)!==null&&S!==void 0?S:UA("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Xj(C.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return PSe(y,w),CSe(y,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,C=S.data,k=S.height,E=S.layout,M=Ri(T,Ga);if(M){var I=M.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=l5(this.state,C,I,U),D=this.state.tooltipTicks[I].coordinate,$=(this.state.offset.top+k)/2,F=E==="horizontal",G=F?{x:D,y:$}:{y:D,x:$},R=this.state.formattedGraphicalItems.find(function(W){var K=W.item;return K.type.name==="Scatter"});R&&(G=Ie(Ie({},G),R.props.points[I].tooltipPosition),O=R.props.points[I].tooltipPayload);var B={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:U,activePayload:O,activeCoordinate:G};this.setState(B),this.renderCursor(M),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){F2([Ri(S.children,Ga)],[Ri(this.props.children,Ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ri(this.props.children,Ga);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),k=Vhe(C),E={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},M=C.width/T.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,M);if(!I)return null;var U=this.state,O=U.xAxisMap,D=U.yAxisMap,$=this.getTooltipEventType(),F=zP(this.state,this.props.data,this.props.layout,I);if($!=="axis"&&O&&D){var G=tl(O).scale,R=tl(D).scale,B=G&&G.invert?G.invert(E.chartX):null,W=R&&R.invert?R.invert(E.chartY):null;return Ie(Ie({},E),{},{xValue:B,yValue:W},F)}return F?Ie(Ie({},E),F):null}},{key:"inRange",value:function(S,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=S/C,M=T/C;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,U=E>=I.left&&E<=I.left+I.width&&M>=I.top&&M<=I.top+I.height;return U?{x:E,y:M}:null}var O=this.state,D=O.angleAxisMap,$=O.radiusAxisMap;if(D&&$){var F=tl(D);return v3({x:E,y:M},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),C=Ri(S,Ga),k={};C&&T==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=g0(this.props,this.handleOuterEvent);return Ie(Ie({},E),k)}},{key:"addListener",value:function(){Z1.on(ex,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Z1.removeListener(ex,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,C){for(var k=this.state.formattedGraphicalItems,E=0,M=k.length;E<M;E++){var I=k[E];if(I.item===S||I.props.key===S.key||T===ns(I.item.type)&&C===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,C=T.left,k=T.top,E=T.height,M=T.width;return de.createElement("defs",null,de.createElement("clipPath",{id:S},de.createElement("rect",{x:C,y:k,height:E,width:M})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=UP(C,2),E=k[0],M=k[1];return Ie(Ie({},T),{},At({},E,M.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=UP(C,2),E=k[0],M=k[1];return Ie(Ie({},T),{},At({},E,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,C=T.formattedGraphicalItems,k=T.activeItem;if(C&&C.length)for(var E=0,M=C.length;E<M;E++){var I=C[E],U=I.props,O=I.item,D=O.type.defaultProps!==void 0?Ie(Ie({},O.type.defaultProps),O.props):O.props,$=ns(O.type);if($==="Bar"){var F=(U.data||[]).find(function(W){return Ebe(S,W)});if(F)return{graphicalItem:I,payload:F}}else if($==="RadialBar"){var G=(U.data||[]).find(function(W){return v3(S,W)});if(G)return{graphicalItem:I,payload:G}}else if(jy(I,k)||Ly(I,k)||mA(I,k)){var R=mxe({graphicalItem:I,activeTooltipItem:k,itemData:D.data}),B=D.activeIndex===void 0?R:D.activeIndex;return{graphicalItem:Ie(Ie({},I),{},{childIndex:B}),payload:mA(I,k)?D.data[R]:I.props.data[R]}}}return null}},{key:"render",value:function(){var S=this;if(!lk(this))return null;var T=this.props,C=T.children,k=T.className,E=T.width,M=T.height,I=T.style,U=T.compact,O=T.title,D=T.desc,$=qP(T,ySe),F=gt($,!1);if(U)return de.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(B2,gf({},F,{width:E,height:M,title:O,desc:D}),this.renderClipPath(),ck(C,this.renderMap)));if(this.props.accessibilityLayer){var G,R;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(W){S.accessibilityManager.keyboardEvent(W)},F.onFocus=function(){S.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return de.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",gf({className:Ot("recharts-wrapper",k),style:Ie({position:"relative",cursor:"default",width:E,height:M},I)},B,{ref:function(K){S.container=K}}),de.createElement(B2,gf({},F,{width:E,height:M,title:O,desc:D,style:LSe}),this.renderClipPath(),ck(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(re.Component);At(v,"displayName",n),At(v,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(v,"getDerivedStateFromProps",function(w,y){var x=w.dataKey,S=w.data,T=w.children,C=w.width,k=w.height,E=w.layout,M=w.stackOffset,I=w.margin,U=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var D=VP(w);return Ie(Ie(Ie({},D),{},{updateId:0},p(Ie(Ie({props:w},D),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:I,prevChildren:T})}if(x!==y.prevDataKey||S!==y.prevData||C!==y.prevWidth||k!==y.prevHeight||E!==y.prevLayout||M!==y.prevStackOffset||!Ef(I,y.prevMargin)){var $=VP(w),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},G=Ie(Ie({},zP(y,S,E)),{},{updateId:y.updateId+1}),R=Ie(Ie(Ie({},$),F),G);return Ie(Ie(Ie({},R),p(Ie({props:w},R),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:I,prevChildren:T})}if(!F2(T,y.prevChildren)){var B,W,K,Z,se=Ri(T,rd),L=se&&(B=(W=se.props)===null||W===void 0?void 0:W.startIndex)!==null&&B!==void 0?B:U,z=se&&(K=(Z=se.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&K!==void 0?K:O,Q=L!==U||z!==O,te=!It(S),ie=te&&!Q?y.updateId:y.updateId+1;return Ie(Ie({updateId:ie},p(Ie(Ie({props:w},y),{},{updateId:ie,dataStartIndex:L,dataEndIndex:z}),y)),{},{prevChildren:T,dataStartIndex:L,dataEndIndex:z})}return null}),At(v,"renderActiveDot",function(w,y,x){var S;return re.isValidElement(w)?S=re.cloneElement(w,y):yt(w)?S=w(y):S=de.createElement(N_,y),de.createElement(nn,{className:"recharts-active-dot",key:x},S)});var b=re.forwardRef(function(y,x){return de.createElement(v,gf({},y,{ref:x}))});return b.displayName=v.displayName,b},GSe=x8({chartName:"BarChart",GraphicalChild:rc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:qy},{axisType:"yAxis",AxisComp:Hy}],formatAxisMap:Y2e}),WSe=x8({chartName:"PieChart",GraphicalChild:vs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Iy},{axisType:"radiusAxis",AxisComp:Oy}],formatAxisMap:U0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const YSe=["#26A69A","#4DD0E1","#EF5350","#FFB74D","#80CBC4","#A0AEC0"],KSe=["#2dd4bf","#67e8f9","#f87171","#fbbf24","#5eead4","#94a3b8"],JSe=({onClose:t,total:e,sales:n,customers:r,onReprintInvoice:i,t:a,language:o})=>{const s=o==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:a("customItemsDetails")}),m.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(DD,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-4 rounded-lg text-purple-800 dark:text-purple-200 mb-4",children:[m.jsx("p",{className:"font-bold",children:a("totalCustomRevenue")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:a("invoiceHistory")}),n.length>0?n.slice().reverse().map(l=>{var u;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[a("invoiceNumber")," ",l.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(l.date).toLocaleString(s)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[l.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a("profitLabel"),": ",l.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>i(l),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:a("print"),children:m.jsx(qv,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:a("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customer"),":"]})," ",((u=r.find(c=>c.id===l.customerId))==null?void 0:u.name)||a("cashCustomer")]}),m.jsxs("p",{className:"font-semibold",children:[a("customItemsInSale"),":"]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:l.items.filter(c=>c.isCustom).map(c=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Ka,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]})]},l.id)}):m.jsx("p",{className:"text-center text-slate-500 py-8",children:a("noSalesForPeriod")})]}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")})})]})})},XSe=({expense:t,onSave:e,onClose:n,t:r})=>{const[i,a]=re.useState(t),[o,s]=re.useState(!1),l=f=>{const{id:h,value:p}=f.target;a(v=>({...v,[h]:p}))},u=f=>{a(h=>({...h,amount:parseFloat(f.target.value)||0}))},c=async f=>{f.preventDefault(),s(!0),await e(i),s(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[r("edit")," ",r("expenses")]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("description")}),m.jsx("input",{type:"text",id:"description",value:i.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[r("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"amount",value:i.amount,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",disabled:o,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:r(o?"saving":"save")})]})]})]})})},nx=10,QSe=({storeId:t,sales:e,expenses:n,purchases:r,suppliers:i,returns:a,customers:o,users:s,addExpense:l,updateExpense:u,deleteExpense:c,deleteReturn:f,deleteAllReturns:h,t:p,language:v,theme:b,onReprintInvoice:w})=>{const[y,x]=re.useState("all"),[S,T]=re.useState({start:"",end:""}),[C,k]=re.useState("overview"),[E,M]=re.useState(null),[I,U]=re.useState(!1),[O,D]=re.useState(1),$=v==="ar"?"ar-MA":"fr-FR";re.useEffect(()=>{D(1)},[y,S]);const F=re.useMemo(()=>b==="dark"?{pie:KSe,tick:"#94a3b8",grid:"rgba(94, 112, 131, 0.2)",tooltip:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#e2e8f0"},legend:"#e2e8f0",bar:"#2dd4bf"}:{pie:YSe,tick:"#475569",grid:"#e2e8f0",tooltip:{backgroundColor:"#ffffff",borderColor:"#e2e8f0",color:"#1e293b"},legend:"#334155",bar:"#26A69A"},[b]),G=re.useMemo(()=>eg(e,y,S),[e,y,S]),R=re.useMemo(()=>eg(n,y,S).sort((be,ke)=>new Date(ke.date).getTime()-new Date(be.date).getTime()),[n,y,S]),B=re.useMemo(()=>eg(a,y,S),[a,y,S]),W=re.useMemo(()=>eg(r,y,S),[r,y,S]),{totalRevenue:K,totalReturnsAmount:Z,netRevenue:se,totalExpenses:L,netProfit:z,totalCustomerDebts:Q,debtsByCustomer:te,totalCostOfGoods:ie,totalSupplierDebt:me,debtsBySupplier:Ae,totalCustomItemSales:V}=re.useMemo(()=>{let be=0,ke=0;G.forEach(Se=>{const Ue=Se.total,rt=Se.items.filter(st=>!st.isCustom).reduce((st,mn)=>st+mn.price*mn.quantity,0),pt=Ue-rt;ke+=pt,be+=rt});let ye=0;B.forEach(Se=>{Se.items.forEach(Ue=>{Ue.isCustom||(ye+=Ue.price*Ue.quantity)})});const Ve=be-ye,Ge=R.reduce((Se,Ue)=>Se+Ue.amount,0),ot=G.reduce((Se,Ue)=>Se+Ue.profit,0),ze=B.reduce((Se,Ue)=>Se+Ue.profitLost,0),ft=ot-ze-Ge,et=new Map;let ht=0;e.forEach(Se=>{var Ue;if(Se.customerId&&Se.remainingAmount>0){ht+=Se.remainingAmount;const rt=o.find(pt=>pt.id===Se.customerId);if(rt){const pt=((Ue=et.get(Se.customerId))==null?void 0:Ue.debt)||0;et.set(Se.customerId,{customer:rt,debt:pt+Se.remainingAmount})}}});const We=new Map;let cn=0;r.forEach(Se=>{var Ue;if(Se.remainingAmount>0){cn+=Se.remainingAmount;const rt=i.find(pt=>pt.id===Se.supplierId);if(rt){const pt=((Ue=We.get(Se.supplierId))==null?void 0:Ue.debt)||0;We.set(Se.supplierId,{supplier:rt,debt:pt+Se.remainingAmount})}}});const kt=r.reduce((Se,Ue)=>Se+Ue.totalAmount,0);return{totalRevenue:be,totalReturnsAmount:ye,netRevenue:Ve,totalExpenses:Ge,netProfit:ft,totalCustomerDebts:ht,debtsByCustomer:Array.from(et.values()).sort((Se,Ue)=>Ue.debt-Se.debt),totalCostOfGoods:kt,totalSupplierDebt:cn,debtsBySupplier:Array.from(We.values()).sort((Se,Ue)=>Ue.debt-Se.debt),totalCustomItemSales:ke}},[G,R,B,e,o,r,i]),le=re.useMemo(()=>{const be={},ke={day:"2-digit",month:"2-digit"};return G.forEach(ye=>{const Ve=new Date(ye.date).toLocaleDateString($,ke);be[Ve]||(be[Ve]=0);const Ge=ye.items.filter(ot=>!ot.isCustom).reduce((ot,ze)=>ot+ze.price*ze.quantity,0);be[Ve]+=Ge}),B.forEach(ye=>{const Ve=new Date(ye.date).toLocaleDateString($,ke);if(be[Ve]){const Ge=ye.items.filter(ot=>!ot.isCustom).reduce((ot,ze)=>ot+ze.price*ze.quantity,0);be[Ve]-=Ge}be[Ve]<0&&(be[Ve]=0)}),Object.entries(be).map(([ye,Ve])=>({name:ye,[p("sales")]:Ve})).reverse()},[G,B,$,p]),ce=re.useMemo(()=>{const be={};return G.forEach(ke=>{ke.items.forEach(ye=>{ye.type==="good"&&(be[ye.id]||(be[ye.id]={name:ye.name,quantity:0}),be[ye.id].quantity+=ye.quantity)})}),B.forEach(ke=>{ke.items.forEach(ye=>{ye.type==="good"&&be[ye.id]&&(be[ye.id].quantity-=ye.quantity)})}),Object.values(be).filter(({quantity:ke})=>ke>0).map(({name:ke,quantity:ye})=>({name:ke,value:ye})).sort((ke,ye)=>ye.value-ke.value).slice(0,6)},[G,B]),ue=re.useMemo(()=>G.filter(be=>!be.items.some(ke=>ke.isCustom)).slice().reverse(),[G]),Me=re.useMemo(()=>G.filter(be=>be.items.some(ke=>ke.isCustom)),[G]),Le=()=>{const[be,ke]=re.useState({description:"",amount:""}),ye=re.useRef(null),Ve=async ze=>{var ft;if(ze.preventDefault(),!be.description||!be.amount){alert(p("fillAllFields"));return}await l({storeId:t,description:be.description,amount:parseFloat(be.amount),date:new Date().toISOString()}),ke({description:"",amount:""}),(ft=ye.current)==null||ft.focus()},Ge=ze=>{c(ze)},ot=()=>{const ze=[p("date"),p("description"),p("amount")],ft=R.map(et=>[new Date(et.date).toLocaleDateString($),et.description,`${et.amount.toFixed(2)} DH`]);Ha(p("expenseHistory"),ze,ft,"expenses_report",v,p("noDataToExport"))};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("manageExpenses")}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("addExpense")}),m.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"exp-description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:p("description")}),m.jsx("input",{ref:ye,type:"text",id:"exp-description",value:be.description,onChange:ze=>ke({...be,description:ze.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"exp-amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[p("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"exp-amount",value:be.amount,onChange:ze=>ke({...be,amount:ze.target.value}),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:p("addExpense")})]})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:p("expenseHistory")}),m.jsxs("button",{onClick:ot,className:"bg-cyan-600 text-white font-semibold py-1 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2 space-y-3",children:R.length>0?R.map(ze=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:ze.description}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ze.date).toLocaleDateString($)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[ze.amount.toFixed(2)," DH"]}),m.jsx("button",{onClick:()=>M(ze),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300",children:m.jsx(Bv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Ge(ze.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:m.jsx(oi,{className:"w-5 h-5"})})]})]},ze.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noExpensesForPeriod")})})]})]})]})},Ce=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("debtorCustomers")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const be=[p("name"),p("phone"),p("debtAmount")],ke=te.map(ye=>[ye.customer.name,ye.customer.phone,`${ye.debt.toFixed(2)} DH`]);Ha(p("debtorCustomers"),be,ke,"customer_debts",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:te.length>0?te.map(({customer:be,debt:ke})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:be.name}),m.jsx("td",{className:"px-6 py-4",children:be.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[ke.toFixed(2)," DH"]})]},be.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noDebtorCustomers")})})})]})})]}),ae=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("returnHistory")}),m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsxs("button",{onClick:()=>{const be=[p("returnId"),p("date"),p("refundAmount"),p("profitLost"),p("itemsLabel")],ke=B.map(ye=>[ye.id.slice(-6),new Date(ye.date).toLocaleString($),`${ye.refundAmount.toFixed(2)} DH`,`${ye.profitLost.toFixed(2)} DH`,ye.items.map(Ve=>`${Ve.name} (x${Ve.quantity})`).join(", ")]);Ha(p("returnHistory"),be,ke,"returns_report",v,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-2 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:h,className:"bg-red-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(oi,{className:"w-4 h-4"})," ",p("deleteHistory")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:B.length>0?B.slice().reverse().map(be=>m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("returnId")," ",be.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(be.date).toLocaleString($)})]}),m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-orange-600 dark:text-orange-400",children:[be.refundAmount.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLost"),": ",be.profitLost.toFixed(2)," DH"]})]})]}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsxs("button",{onClick:()=>f(be.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold flex items-center gap-1",children:[m.jsx(oi,{className:"w-4 h-4"})," ",p("delete")]})}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-orange-700 dark:text-orange-400 font-semibold hover:text-orange-800",children:p("returnedItems")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-orange-200 dark:border-orange-500/30",children:be.items.map(ke=>m.jsxs("li",{className:"flex justify-between items-center text-slate-700 dark:text-slate-300",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[ke.type==="service"&&m.jsx(Ka,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),ke.name," (x",ke.quantity,")"]}),m.jsxs("span",{children:[(ke.price*ke.quantity).toFixed(2)," DH"]})]},ke.id))})]})]},be.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noReturnsForPeriod")})})})]}),Ne=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("allPurchasesHistory")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const be=[p("date"),p("supplier"),p("reference"),p("totalAmount"),p("amountPaid"),p("remainingAmountLabel"),p("paymentMethod")],ke=W.map(ye=>{var Ve;return[new Date(ye.date).toLocaleDateString($),((Ve=i.find(Ge=>Ge.id===ye.supplierId))==null?void 0:Ve.name)||"N/A",ye.reference&&ye.reference.startsWith("purchase_ref_")?p(ye.reference):ye.reference||"",`${ye.totalAmount.toFixed(2)} DH`,`${ye.amountPaid.toFixed(2)} DH`,`${ye.remainingAmount.toFixed(2)} DH`,p(ye.paymentMethod)]});Ha(p("allPurchasesHistory"),be,ke,"all_purchases_report",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:W.length>0?m.jsx("ul",{className:"space-y-4",children:W.slice().reverse().map(be=>{var ke;return m.jsxs("li",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap gap-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("supplier"),": ",((ke=i.find(ye=>ye.id===be.supplierId))==null?void 0:ke.name)||"N/A"]}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("date"),": ",new Date(be.date).toLocaleDateString($)]}),be.reference&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("reference"),": ",be.reference.startsWith("purchase_ref_")?p(be.reference):be.reference]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[be.totalAmount.toFixed(2)," DH"]}),be.remainingAmount>0&&m.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[p("remainingDebt"),": ",be.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{children:[m.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:p("purchaseDetails")}),m.jsxs("table",{className:"w-full text-sm mt-2 border-collapse",children:[m.jsx("thead",{className:"text-slate-600 dark:text-slate-300",children:m.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-700",children:[m.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("product")}),m.jsx("th",{className:"p-2 text-center font-semibold",children:p("quantity")}),m.jsx("th",{className:"p-2 text-center font-semibold",children:p("purchasePrice")}),m.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("total")})]})}),m.jsx("tbody",{className:"bg-white dark:bg-slate-800",children:be.items.map((ye,Ve)=>m.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[m.jsxs("td",{className:"p-2 text-start rtl:text-right font-medium text-slate-800 dark:text-slate-200",children:[ye.productName," - ",ye.variantName]}),m.jsx("td",{className:"p-2 text-center",children:m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block min-w-[4ch]",children:ye.quantity})}),m.jsx("td",{className:"p-2 text-center",children:m.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block",children:[ye.purchasePrice.toFixed(2)," DH"]})}),m.jsx("td",{className:"p-2 text-start rtl:text-right",children:m.jsxs("span",{className:"font-bold text-white bg-blue-600 px-3 py-1 rounded-md inline-block",children:[(ye.quantity*ye.purchasePrice).toFixed(2)," DH"]})})]},Ve))})]})]})]},be.id)})}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:p("noPurchasesRecorded")})})]}),Ee=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("supplierDebtsList")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const be=[p("supplier"),p("phone"),p("debtAmount")],ke=Ae.map(ye=>[ye.supplier.name,ye.supplier.phone,`${ye.debt.toFixed(2)} DH`]);Ha(p("supplierDebtsList"),be,ke,"supplier_debts_report",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("supplier")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:Ae.length>0?Ae.map(({supplier:be,debt:ke})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:be.name}),m.jsx("td",{className:"px-6 py-4",children:be.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[ke.toFixed(2)," DH"]})]},be.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSupplierDebt")})})})]})})]}),xe=()=>{const[be,ke]=re.useState(""),{reportSales:ye,reportReturns:Ve,kpis:Ge}=re.useMemo(()=>{let ze=G,ft=B;be&&(ze=ze.filter(We=>We.userId===be),ft=ft.filter(We=>We.userId===be));const et=ze.reduce((We,cn)=>We+cn.total,0),ht=ft.reduce((We,cn)=>We+cn.refundAmount,0);return{reportSales:ze,reportReturns:ft,kpis:{totalSales:et,totalReturns:ht,netActivity:et-ht,salesCount:ze.length,returnsCount:ft.length}}},[G,B,be]),ot=re.useMemo(()=>{const ze=ye.map(et=>({...et,type:"sale"})),ft=Ve.map(et=>({...et,type:"return"}));return[...ze,...ft].sort((et,ht)=>new Date(ht.date).getTime()-new Date(et.date).getTime())},[ye,Ve]);return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("sellerReportsAndZReport")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("select",{value:be,onChange:ze=>ke(ze.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:p("all")}),s.map(ze=>m.jsx("option",{value:ze.id,children:ze.name},ze.id))]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",p("goBack")]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-4 rounded-xl text-teal-800 dark:text-teal-200",children:[m.jsx("h3",{className:"font-bold text-md",children:p("netActivity")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.netActivity.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]})]}),m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl text-green-800 dark:text-green-200",children:[m.jsx("h3",{className:"font-bold text-md",children:p("totalSales")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalSales.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs",children:p("numberOfSales",{count:Ge.salesCount})})]}),m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-4 rounded-xl text-orange-800 dark:text-orange-200",children:[m.jsx("h3",{className:"font-bold text-md",children:p("totalReturns")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalReturns.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs",children:p("numberOfReturns",{count:Ge.returnsCount})})]})]}),m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("transactionList")}),m.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-2",children:ot.length>0?m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("date")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("transactionType")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("amount")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("details")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:ot.map(ze=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("td",{className:"px-6 py-4",children:new Date(ze.date).toLocaleString($)}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ze.type==="sale"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}`,children:p(ze.type)})}),m.jsxs("td",{className:`px-6 py-4 font-bold ${ze.type==="sale"?"text-green-700 dark:text-green-400":"text-orange-700 dark:text-orange-400"}`,children:[ze.type==="sale"?ze.total.toFixed(2):ze.refundAmount.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("details",{className:"text-xs",children:[m.jsxs("summary",{className:"cursor-pointer font-semibold text-cyan-700 dark:text-cyan-400",children:[ze.items.length," ",p("itemsLabel")]}),m.jsx("ul",{className:"mt-1 text-slate-600 dark:text-slate-300",children:ze.items.map((ft,et)=>m.jsxs("li",{children:[ft.name," (x",ft.quantity,")"]},et))})]})})]},`${ze.type}-${ze.id}`))})]}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noTransactionsForSeller")})})]})},Pe=()=>{const be=Math.ceil(ue.length/nx),ke=ue.slice((O-1)*nx,O*nx);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg flex flex-wrap items-center gap-4",children:[m.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-300",children:p("filterByPeriod")}),m.jsxs("select",{value:y,onChange:ye=>x(ye.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"all",children:p("all")}),m.jsx("option",{value:"today",children:p("today")}),m.jsx("option",{value:"week",children:p("thisWeek")}),m.jsx("option",{value:"month",children:p("thisMonth")}),m.jsx("option",{value:"custom",children:p("customRange")})]}),y==="custom"&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"date",value:S.start,onChange:ye=>T({...S,start:ye.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"}),m.jsx("input",{type:"date",value:S.end,onChange:ye=>T({...S,end:ye.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>U(!0),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10 bg-purple-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-purple-700 transition-transform hover:scale-110",title:p("customItemsDetails"),children:m.jsx(Ka,{className:"w-6 h-6"})}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-6 rounded-xl shadow text-teal-800 dark:text-teal-200",children:[m.jsx("h3",{className:"font-bold text-lg",children:p("netRevenue")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[se.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("totalRevenueMinusReturns")})]}),m.jsxs("div",{className:"bg-cyan-100 dark:bg-cyan-900/50 p-6 rounded-xl shadow text-cyan-800 dark:text-cyan-200",children:[m.jsx("h3",{className:"font-bold text-lg",children:p("netProfit")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[z.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("realizedProfitMinusExpenses")})]}),m.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 p-6 rounded-xl shadow text-yellow-800 dark:text-yellow-200 cursor-pointer hover:ring-2 ring-yellow-400 transition-all",onClick:()=>k("debts"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("customerDebts")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[Q.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-6 rounded-xl shadow text-red-800 dark:text-red-200 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("supplierDebts"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("totalSupplierDebt")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[me.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-red-100/70 dark:bg-red-900/30 p-6 rounded-xl shadow text-red-900 dark:text-red-300 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("expenses"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("totalExpenses")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[L.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-6 rounded-xl shadow text-purple-800 dark:text-purple-200 cursor-pointer hover:ring-2 ring-purple-400 transition-all",onClick:()=>k("allPurchases"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("totalCostOfGoods")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[ie.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1 bg-blue-100 dark:bg-blue-900/50 p-6 rounded-xl shadow text-blue-800 dark:text-blue-200 cursor-pointer hover:ring-2 ring-blue-400 transition-all",onClick:()=>k("sellerReports"),children:[m.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[m.jsx(gS,{})," ",p("sellerReportsAndZReport")]}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[e.length," ",m.jsx("span",{className:"text-lg font-medium",children:p("sales")})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesPerformance")}),m.jsxs("button",{onClick:()=>{const ye=[p("date"),p("sales")],Ve=le.map(Ge=>[Ge.name,`${(Ge[p("sales")]||0).toFixed(2)} DH`]);Ha(p("salesPerformance"),ye,Ve,"daily_sales_performance",v,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(s4,{children:m.jsxs(GSe,{data:le,margin:{top:5,right:0,left:0,bottom:5},children:[m.jsx(o8,{stroke:F.grid}),m.jsx(qy,{dataKey:"name",tick:{fill:F.tick,fontSize:12}}),m.jsx(Hy,{tick:{fill:F.tick,fontSize:12},tickFormatter:ye=>`${ye}`}),m.jsx(Ga,{contentStyle:F.tooltip,labelStyle:{color:F.tooltip.color},formatter:ye=>[`${ye.toFixed(2)} DH`,p("sales")]}),m.jsx(bl,{wrapperStyle:{color:F.legend}}),m.jsx(rc,{dataKey:p("sales"),fill:F.bar})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("topSellingProducts")}),m.jsxs("button",{onClick:()=>{const ye=[p("product"),p("quantity")],Ve=ce.map(Ge=>[Ge.name,Ge.value]);Ha(p("topSellingProducts"),ye,Ve,"top_selling_products",v,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(s4,{children:m.jsxs(WSe,{children:[m.jsx(vs,{data:ce,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:{fill:F.legend},children:ce.map((ye,Ve)=>m.jsx(gy,{fill:F.pie[Ve%F.pie.length]},`cell-${Ve}`))}),m.jsx(Ga,{contentStyle:F.tooltip,formatter:(ye,Ve)=>[`${ye} ${p("units")}`,Ve]}),m.jsx(bl,{wrapperStyle:{color:F.legend}})]})})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesHistory")}),m.jsxs("button",{onClick:()=>{const ye=[p("invoiceNumber"),p("date"),p("customer"),p("total"),p("profit"),p("itemsLabel")],Ve=ue.slice().reverse().map(Ge=>{var ot;return[Ge.id.slice(-6).toUpperCase(),new Date(Ge.date).toLocaleString($),((ot=o.find(ze=>ze.id===Ge.customerId))==null?void 0:ot.name)||p("cashCustomer"),`${Ge.total.toFixed(2)} DH`,`${Ge.profit.toFixed(2)} DH`,Ge.items.map(ze=>`${ze.name} (x${ze.quantity})`).join(", ")]});Ha(p("salesHistory"),ye,Ve,"sales_history",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:ke.length>0?ke.map(ye=>{var Ve;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("invoiceNumber")," ",ye.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ye.date).toLocaleString($)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[ye.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLabel"),": ",ye.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>w(ye),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:p("print"),children:m.jsx(qv,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:p("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("ul",{className:"space-y-1",children:[m.jsxs("li",{children:[m.jsx("strong",{children:p("billNumber")})," ",ye.id.toUpperCase()]}),ye.customerId&&o.find(Ge=>Ge.id===ye.customerId)&&m.jsxs("li",{children:[m.jsxs("strong",{children:[p("customer"),":"]})," ",(Ve=o.find(Ge=>Ge.id===ye.customerId))==null?void 0:Ve.name]}),ye.discount&&ye.discount>0&&m.jsxs("li",{className:"font-semibold",children:[m.jsxs("strong",{children:[p("discount"),":"]})," ",m.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",ye.discount.toFixed(2)," DH"]})]}),ye.remainingAmount>0&&m.jsxs("li",{className:"font-semibold",children:[m.jsx("strong",{children:p("remainingAmountLabel")})," ",m.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[ye.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:ye.items.map(Ge=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[Ge.type==="service"&&m.jsx(Ka,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),Ge.name," (x",Ge.quantity,")"]}),m.jsxs("span",{children:[(Ge.price*Ge.quantity).toFixed(2)," DH"]})]},Ge.id))})]})]})]},ye.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSalesForPeriod")})})}),be>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>D(ye=>Math.max(1,ye-1)),disabled:O===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("previous"),children:m.jsx(RA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[p("page")," ",O," / ",be]}),m.jsx("button",{onClick:()=>D(ye=>Math.min(be,ye+1)),disabled:O===be,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("next"),children:m.jsx(Sd,{className:"w-5 h-5"})})]})]})]})};return m.jsxs("div",{className:"space-y-6",children:[E&&m.jsx(XSe,{expense:E,onClose:()=>M(null),onSave:u,t:p}),I&&m.jsx(JSe,{onClose:()=>U(!1),total:V,sales:Me,customers:o,onReprintInvoice:w,t:p,language:v}),C==="overview"&&m.jsx(Pe,{}),C==="debts"&&m.jsx(Ce,{}),C==="returns"&&m.jsx(ae,{}),C==="expenses"&&m.jsx(Le,{}),C==="allPurchases"&&m.jsx(Ne,{}),C==="supplierDebts"&&m.jsx(Ee,{}),C==="sellerReports"&&m.jsx(xe,{})]})},ZSe=({customer:t,sales:e,debt:n,onClose:r,t:i,language:a})=>{const o=re.useMemo(()=>e.filter(u=>u.customerId===t.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime()),[e,t.id]),s=re.useMemo(()=>o.reduce((u,c)=>u+c.total,0),[o]),l=()=>{const u=new ut;m0(u),u.setFontSize(18);const c=i("purchaseHistoryFor",{name:t.name});u.text(c,u.internal.pageSize.getWidth()/2,20,{align:"center"}),u.setFontSize(12),u.text(`${i("customer")}: ${t.name}`,14,30),u.text(`${i("phone")}: ${t.phone}`,14,36),u.text(`${i("totalPurchases")}: ${s.toFixed(2)} DH`,14,42),u.text(`${i("currentDebt")}: ${n.toFixed(2)} DH`,14,48);const f=[],h=a==="ar"?"ar-MA":"fr-FR";o.forEach(p=>{const v=new Date(p.date).toLocaleDateString(h);f.push([{content:`${i("invoiceNumber")} ${p.id.slice(-6).toUpperCase()} | ${v} | Total: ${p.total.toFixed(2)} DH | ${i("remainingAmountLabel")}: ${p.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),p.items.forEach(b=>{f.push([`  ${b.name}`,b.quantity,b.price.toFixed(2),(b.quantity*b.price).toFixed(2)])})}),A0(u,{startY:60,head:[[i("product"),i("quantity"),i("price"),i("total")]],body:f,theme:"grid",styles:{font:"Amiri",halign:a==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(p){p.column.index>0&&p.cell.raw.colSpan===void 0&&(p.cell.styles.halign="center")}}),u.save(`historique-${t.name.replace(/\s/g,"_")}.pdf`)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i("purchaseHistoryFor",{name:t.name})}),m.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(DD,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[m.jsx("p",{className:"font-bold",children:i("totalPurchases")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[s.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-4 rounded-lg text-red-800 dark:text-red-200",children:[m.jsx("p",{className:"font-bold",children:i("currentDebt")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[n.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:i("invoiceHistory")}),o.length>0?o.map(u=>m.jsxs("details",{className:"p-3 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[m.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-700 dark:text-slate-200",children:[m.jsxs("span",{children:[i("invoiceNumber")," ",u.id.slice(-6)," - ",new Date(u.date).toLocaleDateString(a==="ar"?"ar-MA":"fr-FR")]}),m.jsxs("span",{className:"font-bold text-cyan-600 dark:text-cyan-400",children:[u.total.toFixed(2)," DH"]})]}),m.jsx("ul",{className:"mt-2 pt-2 border-t dark:border-slate-600 text-sm space-y-1",children:u.items.map(c=>m.jsxs("li",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]},u.id)):m.jsx("p",{className:"text-center text-slate-500 py-8",children:i("noInvoicesFound")})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("close")}),m.jsxs("button",{onClick:l,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center gap-2",children:[m.jsx(qv,{className:"w-5 h-5"}),i("printReport")]})]})]})})},e_e=({customer:t,debt:e,onClose:n,onPayDebt:r,t:i})=>{const[a,o]=re.useState(""),[s,l]=re.useState(!1),u=async()=>{const c=parseFloat(a);if(isNaN(c)||c<=0||c>e){alert(i("enterValidPayment"));return}l(!0),await r(t.id,c),l(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[i("debtManagement")," - ",t.name]}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[i("totalDebt")," ",m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("paymentAmount")}),m.jsx("input",{type:"number",id:"paymentAmount",value:a,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:e,min:"0.01",step:"0.01",autoFocus:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{onClick:u,disabled:s||!a,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:i(s?"paying":"recordPayment")})]})]})})},rx=15,t_e=({storeId:t,customers:e,sales:n,addCustomer:r,deleteCustomer:i,payCustomerDebt:a,t:o,language:s})=>{const[l,u]=re.useState({name:"",phone:"",email:""}),[c,f]=re.useState(null),[h,p]=re.useState(null),[v,b]=re.useState(null),[w,y]=re.useState(""),[x,S]=re.useState(1);re.useEffect(()=>{S(1)},[w]);const T=re.useMemo(()=>{const F=new Map;return n.forEach(G=>{if(G.customerId&&G.remainingAmount>0){const R=F.get(G.customerId)||0;F.set(G.customerId,R+G.remainingAmount)}}),F},[n]),C=re.useMemo(()=>w?e.filter(F=>F.name.toLowerCase().startsWith(w.toLowerCase())):e,[e,w]),k=re.useMemo(()=>{const F=(x-1)*rx;return C.slice(F,F+rx)},[C,x]),E=Math.ceil(C.length/rx),M=F=>{u(G=>({...G,[F.target.id]:F.target.value}))},I=async F=>{if(F.preventDefault(),b(null),!l.name||!l.phone){b({type:"error",message:o("nameAndPhoneRequired")});return}if(e.some(G=>G.phone===l.phone.trim())){b({type:"error",message:o("customerExistsError",{phone:l.phone.trim()})});return}await r({...l,storeId:t}),u({name:"",phone:"",email:""}),b({type:"success",message:o("customerAddedSuccess",{name:l.name})}),setTimeout(()=>b(null),4e3)},U=async F=>{if(b(null),window.confirm(o("confirmCustomerDelete",{name:F.name}))){try{await i(F.id),b({type:"success",message:o("customerDeletedSuccess",{name:F.name})})}catch(G){const R=T.get(F.id)||0,B=o(G.message||"customerDeleteError",{name:F.name,debt:R.toFixed(2)});b({type:"error",message:B})}setTimeout(()=>b(null),5e3)}},O=()=>{const F=[o("name"),o("phone"),o("email"),o("debt")],G=e.map(R=>[R.name,R.phone,R.email||"N/A",`${(T.get(R.id)||0).toFixed(2)} DH`]);Ha(o("customerList"),F,G,"customers_report",s,o("noDataToExport"))},D=F=>{const G=n.filter(se=>se.customerId===F.id&&se.remainingAmount>0).sort((se,L)=>new Date(se.date).getTime()-new Date(L.date).getTime()),R=G.reduce((se,L)=>se+L.remainingAmount,0);if(G.length===0){alert(o("noDebtorCustomers"));return}const B=new ut;m0(B),B.setFontSize(18);const W=o("debtReportFor",{name:F.name});B.text(W,B.internal.pageSize.getWidth()/2,20,{align:"center"}),B.setFontSize(12),B.text(`${o("customer")}: ${F.name}`,14,30),B.text(`${o("phone")}: ${F.phone}`,14,36),F.email&&B.text(`${o("email")}: ${F.email}`,14,42),B.setFontSize(14),B.setFont("Amiri","bold"),B.text(`${o("totalDebt")}: ${R.toFixed(2)} DH`,14,52),B.setFont("Amiri","normal");const K=[],Z=s==="ar"?"ar-MA":"fr-FR";G.forEach(se=>{const L=new Date(se.date).toLocaleDateString(Z);K.push([{content:`${o("invoiceNumber")} ${se.id.slice(-6).toUpperCase()} | ${L} | Total: ${se.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${se.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),se.items.forEach(z=>{K.push([`  ${z.name}`,z.quantity,z.price.toFixed(2),(z.quantity*z.price).toFixed(2)])})}),A0(B,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:K,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(se){se.column.index>0&&se.cell.raw.colSpan===void 0&&(se.cell.styles.halign="center")}}),B.save(`rapport-dette-${F.name.replace(/\s/g,"_")}.pdf`)},$=()=>{const F=e.filter(B=>(T.get(B.id)||0)>0);if(F.length===0){alert(o("noDebtsToReport"));return}const G=new ut;m0(G);const R=s==="ar"?"ar-MA":"fr-FR";F.forEach((B,W)=>{W>0&&G.addPage();const K=n.filter(z=>z.customerId===B.id&&z.remainingAmount>0).sort((z,Q)=>new Date(z.date).getTime()-new Date(Q.date).getTime()),Z=K.reduce((z,Q)=>z+Q.remainingAmount,0);G.setFontSize(18);const se=o("debtReportFor",{name:B.name});G.text(se,G.internal.pageSize.getWidth()/2,20,{align:"center"}),G.setFontSize(12),G.text(`${o("customer")}: ${B.name}`,14,30),G.text(`${o("phone")}: ${B.phone}`,14,36),B.email&&G.text(`${o("email")}: ${B.email}`,14,42),G.setFontSize(14),G.setFont("Amiri","bold"),G.text(`${o("totalDebt")}: ${Z.toFixed(2)} DH`,14,52),G.setFont("Amiri","normal");const L=[];K.forEach(z=>{const Q=new Date(z.date).toLocaleDateString(R);L.push([{content:`${o("invoiceNumber")} ${z.id.slice(-6).toUpperCase()} | ${Q} | Total: ${z.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${z.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),z.items.forEach(te=>{L.push([`  ${te.name}`,te.quantity,te.price.toFixed(2),(te.quantity*te.price).toFixed(2)])})}),A0(G,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:L,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(z){z.column.index>0&&z.cell.raw.colSpan===void 0&&(z.cell.styles.halign="center")}})}),G.save("rapport-dettes-clients.pdf")};return m.jsxs(m.Fragment,{children:[c&&m.jsx(e_e,{customer:c,debt:T.get(c.id)||0,onClose:()=>f(null),onPayDebt:a,t:o}),h&&m.jsx(ZSe,{customer:h,sales:n,debt:T.get(h.id)||0,onClose:()=>p(null),t:o,language:s}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(gS,{}),o("addNewCustomer")]}),m.jsx("form",{onSubmit:I,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("name")}),m.jsx("input",{type:"text",id:"name",value:l.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("phone")}),m.jsx("input",{type:"tel",id:"phone",value:l.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[o("email")," (",o("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:l.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:o("addCustomer")})]})}),v&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${v.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:v.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:o("customerList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:o("searchByName"),value:w,onChange:F=>y(F.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:$,className:"bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(qv,{className:"w-4 h-4"})," ",o("printAllDebtReports")]}),m.jsxs("button",{onClick:O,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",o("exportToPdf")]})]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("email")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("debt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:o("actions")})]})}),m.jsx("tbody",{children:k.map(F=>{const G=T.get(F.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:F.name}),m.jsx("td",{className:"px-6 py-4",children:F.phone}),m.jsx("td",{className:"px-6 py-4",children:F.email||"N/A"}),m.jsxs("td",{className:`px-6 py-4 font-bold ${G>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[G.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsxs("div",{className:"flex items-center gap-2",children:[G>0&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>f(F),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200 dark:hover:bg-green-800/50",children:o("manageDebt")}),m.jsx("button",{onClick:()=>D(F),className:"text-cyan-600 hover:text-cyan-700 p-1 rounded-full hover:bg-cyan-100 dark:hover:bg-cyan-900/50",title:o("printDebtReport"),children:m.jsx(mq,{className:"w-5 h-5"})})]}),m.jsx("button",{onClick:()=>p(F),className:"text-blue-600 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50",title:o("history"),children:m.jsx(fq,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>U(F),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:o("delete"),children:m.jsx(oi,{className:"w-5 h-5"})})]})})]},F.id)})})]}),E>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>S(F=>Math.max(1,F-1)),disabled:x===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("previous"),children:m.jsx(RA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[o("page")," ",x," / ",E]}),m.jsx("button",{onClick:()=>S(F=>Math.min(E,F+1)),disabled:x===E,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("next"),children:m.jsx(Sd,{className:"w-5 h-5"})})]}),k.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:o(w?"noResultsFound":"noCustomersAdded")})]})]})]})]})},n_e=({supplier:t,purchases:e,onClose:n,t:r,language:i})=>{const a=i==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("purchaseHistoryFor",{name:t.name})}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:r("noPurchasesYet")}):m.jsx("ul",{className:"space-y-4",children:e.slice().reverse().map(o=>m.jsxs("li",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[r("purchaseDate"),": ",new Date(o.date).toLocaleDateString(a)]}),o.reference&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[r("reference"),": ",o.reference]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[o.totalAmount.toFixed(2)," DH"]}),o.remainingAmount>0&&m.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[r("remainingDebt"),": ",o.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{children:[m.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:r("purchaseDetails")}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm mt-2 text-slate-700 dark:text-slate-600",children:[m.jsx("thead",{className:"bg-gray-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:m.jsxs("tr",{className:i==="ar"?"text-right":"text-left",children:[m.jsx("th",{className:"p-2 font-semibold",children:r("product")}),m.jsx("th",{className:"p-2 font-semibold text-center",children:r("quantity")}),m.jsx("th",{className:"p-2 font-semibold text-center",children:r("purchasePrice")}),m.jsx("th",{className:"p-2 font-semibold",children:r("total")})]})}),m.jsx("tbody",{children:o.items.map((s,l)=>m.jsxs("tr",{className:`border-b dark:border-slate-600 ${i==="ar"?"text-right":"text-left"}`,children:[m.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[s.productName," - ",s.variantName]}),m.jsx("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:s.quantity}),m.jsxs("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:[s.purchasePrice.toFixed(2)," DH"]}),m.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[(s.quantity*s.purchasePrice).toFixed(2)," DH"]})]},s.variantId+l))})]})})]})]},o.id))})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})})]})})},r_e=({supplier:t,products:e,variants:n,categories:r,onClose:i,onSave:a,addProduct:o,t:s,storeId:l})=>{const[u,c]=re.useState([]),[f,h]=re.useState(""),[p,v]=re.useState(!1),[b,w]=re.useState(""),[y,x]=re.useState(""),[S,T]=re.useState(""),[C,k]=re.useState([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}]),[E,M]=re.useState("cash"),[I,U]=re.useState(""),O=de.useRef(null),D=de.useRef(null),[$,F]=re.useState(null),G=re.useMemo(()=>u.reduce((V,le)=>V+le.quantity*le.purchasePrice,0),[u]);re.useEffect(()=>{U(G>0?G:"")},[G]);const R=G-(typeof I=="number"?I:0),B=()=>{var ce;const V=(ce=D.current)==null?void 0:ce.value;if(!V||!$)return;const le=n.find(ue=>ue.id===V);le&&(c(ue=>[...ue,{variantId:le.id,productId:$.id,productName:$.name,variantName:le.name,quantity:1,purchasePrice:le.purchasePrice||0}]),F(null))},W=()=>{k(V=>[...V,{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},K=V=>{k(le=>le.filter((ce,ue)=>ue!==V))},Z=(V,le,ce)=>{const ue=[...C];ue[V][le]=ce,k(ue)},se=V=>{if(V.target.files&&V.target.files[0]){const le=V.target.files[0],ce=new FileReader;ce.onloadend=()=>{x(ce.result)},ce.readAsDataURL(le)}},L=(V,le)=>{if(le.target.files&&le.target.files[0]){const ce=le.target.files[0],ue=new FileReader;ue.onloadend=()=>{const Me=[...C];Me[V].image=ue.result,k(Me)},ue.readAsDataURL(ce)}},z=async V=>{if(V.preventDefault(),!b||C.some(Le=>!Le.name||Le.price<=0||Le.purchasePrice<=0||Le.price<=Le.purchasePrice)){alert(s("sellingPriceMustBeHigherError"));return}const le={name:b,image:y||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(b)}`,type:"good",storeId:l,createdAt:new Date().toISOString(),supplierId:t.id,categoryId:S||void 0},{product:ce,variants:ue}=await o(le,C),Me=ue.map((Le,Ce)=>({variantId:Le.id,productId:ce.id,productName:ce.name,variantName:Le.name,quantity:C[Ce].stockQuantity||1,purchasePrice:Le.purchasePrice}));c(Le=>[...Le,...Me]),v(!1),w(""),x(""),T(""),k([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},Q=(V,le,ce)=>{const ue=[...u];ue[V]={...ue[V],[le]:Math.max(0,ce)},c(ue)},te=V=>{c(u.filter((le,ce)=>ce!==V))},ie=async()=>{if(u.length===0){alert(s("noProductsInPurchase"));return}const V={storeId:l,supplierId:t.id,date:new Date().toISOString(),items:u,totalAmount:G,reference:f,amountPaid:typeof I=="number"?I:0,paymentMethod:E,remainingAmount:R};await a(V),i()},me=e.filter(V=>V.type==="good"&&!u.some(le=>le.productId===V.id)),Ae=n.filter(V=>V.productId===($==null?void 0:$.id)&&!u.some(le=>le.variantId===V.id));return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:s("newPurchaseFor",{name:t.name})}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("reference")}),m.jsx("input",{type:"text",value:f,onChange:V=>h(V.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:s("referencePlaceholder")})]}),m.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[m.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:s("addProductsToPurchase")}),p?m.jsxs("form",{onSubmit:z,className:"space-y-4 p-4 border-2 border-dashed rounded-lg bg-white dark:bg-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h5",{className:"font-bold text-gray-700 dark:text-gray-300 text-lg",children:s("productInfo")}),m.jsx("button",{type:"button",onClick:()=>v(!1),className:"text-sm text-red-600 hover:underline",children:s("cancel")})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:y||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${s("productImagePreview")}`,alt:"Product Preview",className:"w-24 h-24 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 gap-4",children:[m.jsx("input",{type:"text",value:b,onChange:V=>w(V.target.value),placeholder:s("productNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500 text-base",required:!0}),m.jsxs("select",{value:S,onChange:V=>T(V.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",children:[m.jsx("option",{value:"",children:s("selectCategory")}),r.map(V=>m.jsx("option",{value:V.id,children:V.name},V.id))]})]})]}),m.jsxs("div",{className:"flex justify-between items-center mb-4 mt-4 pt-4 border-t-2 border-dashed dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:s("productVariants")}),m.jsxs("button",{type:"button",onClick:W,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(vl,{className:"w-5 h-5"}),s("addVariant")]})]}),C.map((V,le)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-600/50 rounded-lg border dark:border-slate-500 relative",children:[m.jsx("button",{type:"button",onClick:()=>K(le),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 text-red-500 hover:text-red-700 z-10",children:m.jsx(oi,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:V.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${s("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2"}),m.jsx("input",{type:"file",accept:"image/*",onChange:ce=>L(le,ce),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("variantName")}),m.jsx("input",{type:"text",value:V.name,onChange:ce=>Z(le,"name",ce.target.value),placeholder:s("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("purchasePrice")}),m.jsx("input",{type:"number",value:V.purchasePrice,onChange:ce=>Z(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("sellingPrice")}),m.jsx("input",{type:"number",value:V.price,onChange:ce=>Z(le,"price",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("semiWholesalePrice")}),m.jsx("input",{type:"number",value:V.priceSemiWholesale||"",onChange:ce=>Z(le,"priceSemiWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("wholesalePrice")}),m.jsx("input",{type:"number",value:V.priceWholesale||"",onChange:ce=>Z(le,"priceWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("quantity")}),m.jsx("input",{type:"number",step:"0.5",value:V.stockQuantity,onChange:ce=>Z(le,"stockQuantity",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("lowStockThreshold")}),m.jsx("input",{type:"number",value:V.lowStockThreshold,onChange:ce=>Z(le,"lowStockThreshold",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.5"})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("barcode")}),m.jsx("input",{type:"text",value:V.barcode||"",onChange:ce=>Z(le,"barcode",ce.target.value),placeholder:s("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500"})]})]})]})]},le)),m.jsx("div",{className:"flex justify-end gap-2",children:m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg text-sm",children:s("saveAndAddToList")})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("select",{ref:O,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",onChange:V=>F(e.find(le=>le.id===V.target.value)||null),children:[m.jsx("option",{value:"",children:s("selectProducts")}),me.map(V=>m.jsx("option",{value:V.id,children:V.name},V.id))]}),$&&m.jsxs(m.Fragment,{children:[m.jsxs("select",{ref:D,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",children:[m.jsx("option",{value:"",children:s("selectVariant")}),Ae.map(V=>m.jsx("option",{value:V.id,children:V.name},V.id))]}),m.jsx("button",{onClick:B,className:"bg-teal-600 text-white font-bold p-2 px-3 rounded-lg hover:bg-teal-700 flex items-center justify-center",children:m.jsx(vl,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"text-center mt-4 p-3 bg-slate-100 dark:bg-slate-600 rounded-lg flex items-center justify-center gap-4",children:[m.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:s("orAddNewProductPrompt")}),m.jsx("button",{type:"button",onClick:()=>v(!0),className:"font-semibold text-teal-700 dark:text-teal-300 bg-teal-200 dark:bg-teal-800/50 hover:bg-teal-300 dark:hover:bg-teal-800 px-4 py-2 rounded-lg transition-colors text-sm",children:s("addNewProductButton")})]})]})]}),m.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[u.length>0&&m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-2 text-sm font-bold text-gray-700 dark:text-gray-300 bg-slate-200 dark:bg-slate-600 rounded-t-lg",children:[m.jsx("span",{className:"col-span-5 px-2",children:s("product")}),m.jsx("span",{className:"col-span-2 text-center",children:s("quantity")}),m.jsx("span",{className:"col-span-2 text-center",children:s("purchasePrice")}),m.jsx("span",{className:"col-span-2 text-center",children:s("total")}),m.jsx("span",{className:"col-span-1"})]}),u.map((V,le)=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-1 bg-white dark:bg-slate-700 border-b dark:border-slate-600",children:[m.jsxs("span",{className:"col-span-5 font-semibold text-slate-800 dark:text-slate-100 px-2 text-xs",children:[V.productName," - ",V.variantName]}),m.jsx("div",{className:"col-span-2",children:m.jsx("input",{type:"number",min:"0.5",step:"0.5",value:V.quantity,onChange:ce=>Q(le,"quantity",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),m.jsx("div",{className:"col-span-2",children:m.jsx("input",{type:"number",min:"0",step:"0.01",value:V.purchasePrice,onChange:ce=>Q(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),m.jsx("div",{className:"col-span-2 flex justify-center",children:m.jsx("span",{className:"font-bold text-white bg-blue-500 px-3 py-1 rounded-md text-sm",children:(V.quantity*V.purchasePrice).toFixed(2)})}),m.jsx("button",{onClick:()=>te(le),className:"col-span-1 text-red-500 hover:text-red-700 justify-self-center",children:m.jsx(oi,{className:"w-5 h-5"})})]},V.variantId+le))]})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("paymentMethod")}),m.jsxs("select",{value:E,onChange:V=>M(V.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"cash",children:s("cash")}),m.jsx("option",{value:"card",children:s("card")}),m.jsx("option",{value:"transfer",children:s("transfer")}),m.jsx("option",{value:"check",children:s("check")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("amountPaid")}),m.jsx("input",{type:"number",value:I,onChange:V=>U(V.target.value===""?"":parseFloat(V.target.value)||0),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",max:G,step:"0.01",placeholder:s("pricePlaceholder")})]})]}),m.jsxs("div",{className:"space-y-3 text-right rtl:text-left",children:[m.jsxs("div",{className:"bg-blue-600 text-white font-bold text-xl p-3 rounded-lg inline-block",children:[m.jsxs("span",{children:[s("totalAmount"),": "]}),m.jsxs("span",{children:[G.toFixed(2)," DH"]})]}),m.jsxs("div",{className:`font-bold text-2xl ${R>0?"text-red-500":"text-green-600"}`,children:[m.jsxs("span",{children:[s("remainingDebt"),": "]}),m.jsxs("span",{children:[R.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:i,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:s("cancel")}),m.jsx("button",{type:"button",onClick:ie,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:s("completePurchase")})]})]})]})})},i_e=({supplier:t,purchasesWithDebt:e,onClose:n,onSavePayments:r,totalDebt:i,t:a})=>{const[o,s]=re.useState(""),l=async()=>{let u=parseFloat(o);if(isNaN(u)||u<=0||u>i){alert(a("enterValidPayment"));return}const c=[],f=[...e].sort((h,p)=>new Date(h.date).getTime()-new Date(p.date).getTime());for(const h of f){if(u<=0)break;const p=Math.min(u,h.remainingAmount),v={...h,amountPaid:h.amountPaid+p,remainingAmount:h.remainingAmount-p};c.push(v),u-=p}await r(c),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[a("managePayments")," - ",t.name]}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[a("totalDebt"),": ",m.jsxs("span",{className:"font-bold text-red-600",children:[i.toFixed(2)," DH"]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("amountToPay")}),m.jsx("input",{type:"number",id:"paymentAmount",value:o,onChange:u=>s(u.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:i,min:"0.01",step:"0.01",autoFocus:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")}),m.jsx("button",{onClick:l,disabled:!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:a("recordPayment")})]})]})})},ix=15,a_e=({storeId:t,suppliers:e,products:n,variants:r,purchases:i,categories:a,addSupplier:o,deleteSupplier:s,addPurchase:l,updatePurchase:u,addProduct:c,t:f,language:h})=>{const[p,v]=re.useState({name:"",phone:"",email:""}),[b,w]=re.useState(null),[y,x]=re.useState(null),[S,T]=re.useState(null),[C,k]=re.useState(null),[E,M]=re.useState(""),[I,U]=re.useState(1);re.useEffect(()=>{U(1)},[E]);const O=re.useMemo(()=>{const Z=new Map;return i.forEach(se=>{if(se.remainingAmount>0&&se.supplierId){const L=Z.get(se.supplierId)||0;Z.set(se.supplierId,L+se.remainingAmount)}}),Z},[i]),D=re.useMemo(()=>E?e.filter(Z=>Z.name.toLowerCase().startsWith(E.toLowerCase())):e,[e,E]),$=re.useMemo(()=>{const Z=(I-1)*ix;return D.slice(Z,Z+ix)},[D,I]),F=Math.ceil(D.length/ix),G=Z=>{v(se=>({...se,[Z.target.id]:Z.target.value}))},R=async Z=>{if(Z.preventDefault(),w(null),!p.name||!p.phone){w({type:"error",message:f("nameAndPhoneRequired")});return}if(e.some(se=>se.phone===p.phone.trim())){w({type:"error",message:f("supplierExistsError",{phone:p.phone.trim()})});return}await o({...p,storeId:t}),v({name:"",phone:"",email:""}),w({type:"success",message:f("supplierAddedSuccess",{name:p.name})}),setTimeout(()=>w(null),4e3)},B=async(Z,se)=>{if(window.confirm(f("confirmSupplierDelete",{name:se}))){try{await s(Z),w({type:"success",message:f("supplierDeletedSuccess",{name:se})})}catch(L){w({type:"error",message:f(L.message,{name:se,debt:"..."})||f("supplierDeleteError")})}setTimeout(()=>w(null),5e3)}},W=async Z=>{await Promise.all(Z.map(se=>u(se))),alert(f("paymentRecorded"))},K=()=>{const Z=[f("name"),f("phone"),f("supplierDebt")],se=e.map(L=>[L.name,L.phone,`${(O.get(L.id)||0).toFixed(2)} DH`]);Ha(f("supplierList"),Z,se,"suppliers_report",h,f("noDataToExport"))};return m.jsxs(m.Fragment,{children:[y&&m.jsx(r_e,{supplier:y,products:n,variants:r,categories:a,onClose:()=>x(null),onSave:l,addProduct:c,t:f,storeId:t}),S&&m.jsx(n_e,{supplier:S,purchases:i.filter(Z=>Z.supplierId===S.id),onClose:()=>T(null),t:f,language:h}),C&&m.jsx(i_e,{supplier:C,purchasesWithDebt:i.filter(Z=>Z.supplierId===C.id&&Z.remainingAmount>0),totalDebt:O.get(C.id)||0,onClose:()=>k(null),onSavePayments:W,t:f}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(PD,{}),f("addNewSupplier")]}),m.jsx("form",{onSubmit:R,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("name")}),m.jsx("input",{type:"text",id:"name",value:p.name,onChange:G,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("phone")}),m.jsx("input",{type:"tel",id:"phone",value:p.phone,onChange:G,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[f("email")," (",f("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:p.email,onChange:G,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:f("addSupplier")})]})}),b&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${b.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:b.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:f("supplierList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:f("searchByName"),value:E,onChange:Z=>M(Z.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("button",{onClick:K,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Ua,{className:"w-4 h-4"})," ",f("exportToPdf")]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("supplierDebt")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("actions")})]})}),m.jsx("tbody",{children:$.map(Z=>{const se=O.get(Z.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:Z.name}),m.jsx("td",{className:"px-6 py-4",children:Z.phone}),m.jsx("td",{className:`px-6 py-4 font-bold ${se>0?"text-red-500":"text-green-600"}`,children:se>0?`${se.toFixed(2)} DH`:f("noDebt")}),m.jsxs("td",{className:"px-6 py-4 flex gap-2 flex-wrap items-center",children:[m.jsx("button",{onClick:()=>x(Z),className:"text-sm font-semibold text-teal-600 bg-teal-100 dark:bg-teal-900/50 hover:bg-teal-200 dark:hover:bg-teal-800/50 px-3 py-1 rounded-full",children:f("newPurchase")}),m.jsx("button",{onClick:()=>T(Z),className:"text-sm font-semibold text-cyan-600 bg-cyan-100 dark:bg-cyan-900/50 hover:bg-cyan-200 dark:hover:bg-cyan-800/50 px-3 py-1 rounded-full",children:f("purchaseHistory")}),se>0&&m.jsx("button",{onClick:()=>k(Z),className:"text-sm font-semibold text-green-600 bg-green-100 dark:bg-green-900/50 hover:bg-green-200 dark:hover:bg-green-800/50 px-3 py-1 rounded-full",children:f("managePayments")}),m.jsx("button",{onClick:()=>B(Z.id,Z.name),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:f("delete"),children:m.jsx(oi,{className:"w-5 h-5"})})]})]},Z.id)})})]}),F>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>U(Z=>Math.max(1,Z-1)),disabled:I===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("previous"),children:m.jsx(RA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[f("page")," ",I," / ",F]}),m.jsx("button",{onClick:()=>U(Z=>Math.min(F,Z+1)),disabled:I===F,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("next"),children:m.jsx(Sd,{className:"w-5 h-5"})})]}),$.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:f(E?"noResultsFound":"noSuppliersAdded")})]})]})]})]})},o_e=({category:t,onClose:e,onSave:n,t:r})=>{const[i,a]=re.useState(t.name),o=s=>{s.preventDefault(),n({...t,name:i.trim()})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editCategory")}),m.jsxs("form",{onSubmit:o,children:[m.jsx("label",{htmlFor:"editCategoryName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("categoryName")}),m.jsx("input",{id:"editCategoryName",type:"text",value:i,onChange:s=>a(s.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},s_e=({storeId:t,categories:e,addCategory:n,updateCategory:r,deleteCategory:i,t:a,language:o})=>{const[s,l]=re.useState(""),[u,c]=re.useState(null),[f,h]=re.useState(null),p=()=>{setTimeout(()=>c(null),4e3)},v=async y=>{y.preventDefault(),c(null);const x=s.trim();if(!x){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(S=>S.name.toLowerCase()===x.toLowerCase())){c({type:"error",message:a("categoryExistsError",{name:x})}),p();return}await n({name:x,storeId:t}),l(""),c({type:"success",message:a("categoryAddedSuccess",{name:x})}),p()},b=async y=>{if(c(null),!y.name){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(x=>x.name.toLowerCase()===y.name.toLowerCase()&&x.id!==y.id)){c({type:"error",message:a("categoryExistsError",{name:y.name})}),p();return}await r(y),h(null),c({type:"success",message:a("categoryUpdatedSuccess",{name:y.name})}),p()},w=async y=>{if(c(null),window.confirm(a("confirmCategoryDelete",{name:y.name}))){try{await i(y.id),c({type:"success",message:a("categoryDeletedSuccess",{name:y.name})})}catch{c({type:"error",message:a("categoryDeleteError")})}p()}};return m.jsxs(m.Fragment,{children:[f&&m.jsx(o_e,{category:f,onClose:()=>h(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(MD,{}),a("addNewCategory")]}),m.jsxs("form",{onSubmit:v,className:"grid sm:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("categoryName")}),m.jsx("input",{type:"text",id:"name",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("add")})]}),u&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${u.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:u.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:a("categoryList")}),m.jsxs("div",{className:"mt-4 overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("categoryName")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right rtl:text-left",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(y=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:y.name}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{onClick:()=>h(y),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:a("edit"),children:m.jsx(Bv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>w(y),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:a("delete"),children:m.jsx(oi,{className:"w-5 h-5"})})]})})]},y.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noCategoriesAdded")})]})]})]})]})},l_e=({service:t,onClose:e,onSave:n,t:r})=>{const[i,a]=re.useState(t),o=l=>{const{id:u,value:c}=l.target;a(f=>({...f,[u]:l.target.type==="number"?parseFloat(c)||0:c}))},s=l=>{l.preventDefault(),n(i)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editService")}),m.jsxs("form",{onSubmit:s,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("serviceName")}),m.jsx("input",{type:"text",id:"name",value:i.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("price")}),m.jsx("input",{type:"number",id:"price",value:i.price,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:i.priceSemiWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:i.priceWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},u_e=({storeId:t,services:e,addService:n,updateService:r,deleteService:i,t:a})=>{const[o,s]=re.useState({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),[l,u]=re.useState(null),[c,f]=re.useState(null),h=w=>{const{id:y,value:x}=w.target;s(S=>({...S,[y]:w.target.type==="number"?parseFloat(x)||0:x}))},p=async w=>{if(w.preventDefault(),f(null),!o.name||o.price<=0){f({type:"error",message:a("fillNameAndPriceError")});return}const y={name:o.name,price:o.price,priceSemiWholesale:o.priceSemiWholesale||void 0,priceWholesale:o.priceWholesale||void 0,type:"service",storeId:t,image:`https://via.placeholder.com/200/e9d5ff/a855f7?text=${encodeURIComponent(a("service"))}`,createdAt:new Date().toISOString()};await n(y),s({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),f({type:"success",message:a("serviceAddedSuccess",{name:o.name})}),setTimeout(()=>f(null),4e3)},v=async w=>{window.confirm(a("confirmServiceDelete"))&&await i(w)},b=async w=>{if(f(null),!w.name||(w.price??0)<=0){f({type:"error",message:a("fillNameAndPriceError")});return}await r(w),u(null),f({type:"success",message:a("serviceUpdatedSuccess",{name:w.name})}),setTimeout(()=>f(null),4e3)};return m.jsxs(m.Fragment,{children:[l&&m.jsx(l_e,{service:l,onClose:()=>u(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(Ka,{}),a("addNewService")]}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("serviceName")}),m.jsx("input",{type:"text",id:"name",value:o.name,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:a("serviceNamePlaceholder"),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("sellingPrice")}),m.jsx("input",{type:"number",id:"price",value:o.price,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:o.priceSemiWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:o.priceWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("saveService")})]}),c&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:a("serviceList")}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("serviceName")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("price")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(w=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:w.name}),m.jsxs("td",{className:"px-6 py-4",children:[(w.price??0).toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:()=>u(w),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Bv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(oi,{className:"w-5 h-5"})})]})})]},w.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noServicesAdded")})]})]})]})]})},c_e=({sale:t,mode:e,onClose:n,store:r,customers:i,t:a,language:o})=>{re.useEffect(()=>{const w=setTimeout(()=>{window.print()},300);return()=>clearTimeout(w)},[]);const s=()=>{window.print()},l=t.customerId?i.find(w=>w.id===t.customerId):null,u=o==="ar"?"ar-MA":"fr-FR",c=w=>{if(o==="ar")return w.toFixed(2);const y=Math.floor(w),x=Math.round((w-y)*100),S=["","UN","DEUX","TROIS","QUATRE","CINQ","SIX","SEPT","HUIT","NEUF"],T=["DIX","ONZE","DOUZE","TREIZE","QUATORZE","QUINZE","SEIZE","DIX-SEPT","DIX-HUIT","DIX-NEUF"],C=["","DIX","VINGT","TRENTE","QUARANTE","CINQUANTE","SOIXANTE","SOIXANTE-DIX","QUATRE-VINGT","QUATRE-VINGT-DIX"],k=O=>{if(O===0)return"";let D="";if(O>=100){const $=Math.floor(O/100);D+=($>1?S[$]+" ":"")+"CENT"+(O%100===0&&$>1?"S":""),O%=100,O>0&&(D+=" ")}if(O>=20){const $=Math.floor(O/10);D+=C[$];const F=O%10;F>0&&(D+=(F===1&&$<8?" ET ":"-")+S[F])}else O>=10?D+=T[O-10]:O>0&&(D+=S[O]);return D};if(w===0)return"ZRO";let E="";const M=Math.floor(y/1e6);M>0&&(E+=k(M)+" MILLION"+(M>1?"S":"")+" ");const I=Math.floor(y%1e6/1e3);I>0&&(E+=(I===1?"":k(I)+" ")+"MILLE ");const U=y%1e3;return U>0&&(E+=k(U)),E=E.trim()+" DIRHAMS",x>0&&(E+=" ET "+k(x)+" CENTIMES"),E.toUpperCase()},f=t.total,h=e==="invoice"?f/1.2:f,p=e==="invoice"?f-h:0,v=a(e==="invoice"?"invoiceTitle":"orderFormTitle"),b=c(f);return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",dir:o==="ar"?"rtl":"ltr",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:v}),m.jsx("p",{className:"text-sm font-semibold",children:r.name}),r.address?m.jsx("p",{className:"text-xs",children:r.address}):m.jsx("p",{className:"text-xs",children:a("invoiceAddress")}),r.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",r.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:a("billNumber")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[a("date"),":"]})," ",new Date(t.date).toLocaleString(u)]}),l&&m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customer"),":"]})," ",l.name]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:a("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a(e==="invoice"?"prixHT":"price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("total")})]})}),m.jsx("tbody",{children:t.items.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:w.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:w.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:(e==="invoice"?w.price/1.2:w.price).toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(w.price*w.quantity/(e==="invoice"?1.2:1)).toFixed(2)})]},w.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsxs("div",{className:"col-start-2",children:[m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("totalHT"),":"]}),m.jsxs("span",{className:"font-semibold",children:[h.toFixed(2)," DH"]})]}),e==="invoice"&&m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("vat"),":"]}),m.jsxs("span",{className:"font-semibold",children:[p.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t-2 border-slate-400 mt-1",children:[m.jsxs("span",{children:[a("totalTTC"),":"]}),m.jsxs("span",{children:[f.toFixed(2)," DH"]})]})]})})}),e==="invoice"&&o==="fr"&&m.jsxs("p",{className:"text-xs mt-4 p-2 bg-slate-100 rounded-md",children:["Arrt la prsente facture  la somme de : ",b]}),m.jsx("p",{className:"text-center text-xs mt-6",children:a("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")}),m.jsx("button",{onClick:s,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:a("print")})]})]})})},f_e=({returnObject:t,onClose:e,store:n,t:r,language:i})=>{re.useEffect(()=>{const l=setTimeout(()=>{window.print()},300);return()=>clearTimeout(l)},[]);const a=()=>{window.print()},o=i==="ar"?"ar-MA":"fr-FR",s=r("returnReceiptTitle");return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:s}),m.jsx("p",{className:"text-sm font-semibold",children:n.name}),n.address?m.jsx("p",{className:"text-xs",children:n.address}):m.jsx("p",{className:"text-xs",children:r("invoiceAddress")}),n.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",n.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:r("returnIdLabel")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("date"),":"]})," ",new Date(t.date).toLocaleString(o)]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:r("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("total")})]})}),m.jsx("tbody",{children:t.items.map(l=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:l.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.price.toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(l.price*l.quantity).toFixed(2)})]},l.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsx("div",{className:"col-start-2",children:m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{children:r("refundAmountLabel")}),m.jsxs("span",{children:[t.refundAmount.toFixed(2)," DH"]})]})})})}),m.jsx("p",{className:"text-center text-xs mt-6",children:r("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")}),m.jsx("button",{onClick:a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("print")})]})]})})},d_e=({products:t,variants:e,suppliers:n,t:r})=>e.length===0?null:m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 border-r-4 rtl:border-l-4 rtl:border-r-0 border-orange-500 text-orange-700 dark:text-orange-300 p-4 rounded-lg shadow-md mb-6",role:"alert",children:[m.jsx("p",{className:"font-bold",children:r("lowStockAlert")}),m.jsx("p",{className:"text-sm",children:r("lowStockMessage")}),m.jsx("ul",{className:"list-disc list-inside mr-2 rtl:ml-2 rtl:mr-0 mt-2 text-sm",children:e.map(i=>{var o;const a=t.find(s=>s.id===i.productId);return a?m.jsxs("li",{children:[m.jsxs("strong",{children:[a.name," - ",i.name]}),a.supplierId&&m.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:[" (",r("supplier"),": ",((o=n.find(s=>s.id===a.supplierId))==null?void 0:o.name)||r("unknown"),")"]})]},i.id):null})})]}),h_e=({store:t,t:e})=>{if(!t.trialStartDate)return null;const n=new Date(t.trialStartDate),r=new Date(n);r.setDate(n.getDate()+(t.trialDurationDays??7));const i=r.getTime()-new Date().getTime();if(i<=0)return null;const a=Math.ceil(i/(1e3*60*60*24));return m.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 text-center p-2 text-sm font-semibold sticky top-0 z-40",children:e("trialDaysRemaining",{days:a})})},p_e=({activeUser:t,store:e,storeId:n,users:r,addUser:i,updateUser:a,deleteUser:o,onUpdateStore:s,t:l})=>{const[u,c]=re.useState({name:"",pin:""}),[f,h]=re.useState({}),[p,v]=re.useState({current:"",new:"",confirm:""}),[b,w]=re.useState({name:e.name,address:e.address,ice:e.ice,logo:e.logo,enableAiReceiptScan:e.enableAiReceiptScan}),[y,x]=re.useState(null),S=re.useMemo(()=>r.find($=>$.role==="admin"),[r]),T=re.useMemo(()=>r.filter($=>$.role==="seller"),[r]),C=()=>setTimeout(()=>x(null),4e3),k=async $=>{if($.preventDefault(),!u.name||!u.pin){x({type:"error",message:l("fillAllFields")}),C();return}if(u.pin.length<4){x({type:"error",message:l("pinMustBe4Chars")}),C();return}if(r.some(F=>F.name.toLowerCase()===u.name.trim().toLowerCase())){x({type:"error",message:l("userExistsError",{name:u.name})}),C();return}await i({...u,storeId:n,role:"seller"}),x({type:"success",message:l("userAddedSuccess",{name:u.name})}),c({name:"",pin:""}),C()},E=async $=>{const F=f[$.id];if(!F||F.length<4){x({type:"error",message:l("pinMustBe4Chars")}),C();return}await a({...$,pin:F}),h(G=>{const R={...G};return delete R[$.id],R}),x({type:"success",message:l("pinUpdatedForUser",{name:$.name})}),C()},M=async $=>{window.confirm(l("confirmUserDelete",{name:$.name}))&&await o($.id)},I=async $=>{if($.preventDefault(),!p.current||!p.new||!p.confirm){x({type:"error",message:l("fillAllFields")}),C();return}if(p.new!==p.confirm){x({type:"error",message:l("passwordsDoNotMatch")}),C();return}if(p.new.length<4){x({type:"error",message:l("pinMustBe4Chars")}),C();return}S&&(await a({...S,password:p.new}),x({type:"success",message:l("passwordChangedSuccess")}),v({current:"",new:"",confirm:""}),C())},U=$=>{w(F=>({...F,[$.target.id]:$.target.value}))},O=$=>{if($.target.files&&$.target.files[0]){const F=$.target.files[0],G=new FileReader;G.onloadend=()=>{w(R=>({...R,logo:G.result}))},G.readAsDataURL(F)}},D=async $=>{$.preventDefault();try{await s(b),x({type:"success",message:l("storeUpdateSuccess")})}catch{x({type:"error",message:l("storeUpdateError")})}C()};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(OD,{}),l("settings")]}),m.jsxs("form",{onSubmit:k,className:"space-y-4 mb-6",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:l("addSeller")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("userName")}),m.jsx("input",{type:"text",id:"name",value:u.name,onChange:$=>c({...u,name:$.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("pinMin4Digits")}),m.jsx("input",{type:"password",id:"pin",value:u.pin,onChange:$=>c({...u,pin:$.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:l("add")})]})]}),m.jsxs("div",{className:"space-y-4 border-t pt-4 dark:border-slate-700",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:l("userList")}),m.jsxs("ul",{className:"space-y-3",children:[S&&m.jsxs("li",{className:"p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[S.name," ",m.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-cyan-200 text-cyan-800 dark:bg-cyan-900/50 dark:text-cyan-300",children:l("admin")})]}),m.jsxs("details",{className:"mt-2",children:[m.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-cyan-700 dark:text-cyan-400",children:l("changePassword")}),m.jsxs("form",{onSubmit:I,className:"mt-2 space-y-2 p-2 bg-white dark:bg-slate-700 rounded-md",children:[m.jsx("input",{type:"password",placeholder:l("currentPassword"),value:p.current,onChange:$=>v(F=>({...F,current:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),m.jsx("input",{type:"password",placeholder:l("newPassword"),value:p.new,onChange:$=>v(F=>({...F,new:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),m.jsx("input",{type:"password",placeholder:l("confirmNewPassword"),value:p.confirm,onChange:$=>v(F=>({...F,confirm:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),m.jsx("button",{type:"submit",className:"text-xs w-full bg-blue-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-blue-700",children:l("changePassword")})]})]})]}),T.map($=>m.jsxs("li",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[m.jsxs("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:[$.name," ",m.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-gray-200 text-gray-800 dark:bg-slate-600 dark:text-slate-300",children:l("seller")})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"password",placeholder:l("newPin"),onChange:F=>h({...f,[$.id]:F.target.value}),className:"w-28 text-sm px-2 py-1 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500"}),m.jsx("button",{onClick:()=>E($),className:"text-cyan-600 hover:text-cyan-800",title:l("save"),children:m.jsx(h2,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>M($),className:"text-red-600 hover:text-red-800",title:l("delete"),children:m.jsx(oi,{className:"w-5 h-5"})})]})]},$.id))]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(Uv,{}),l("storeSettings")]}),m.jsxs("form",{onSubmit:D,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeNameLabel")}),m.jsx("input",{type:"text",id:"name",value:b.name,onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"ice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeICE")}),m.jsx("input",{type:"text",id:"ice",value:b.ice||"",onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeAddress")}),m.jsx("input",{type:"text",id:"address",value:b.address||"",onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeLogoLabel")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(p2,{url:b.logo,className:"w-16 h-16 rounded-lg bg-gray-200 object-cover"}),m.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:O,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]})]}),m.jsxs("div",{className:"flex items-center gap-4 p-3 bg-purple-50 dark:bg-purple-900/50 rounded-lg",children:[m.jsx(Ka,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),m.jsx("label",{htmlFor:"enableAiReceiptScan",className:"font-semibold text-slate-700 dark:text-slate-200",children:l("enableAiScan")}),m.jsx("input",{type:"checkbox",id:"enableAiReceiptScan",checked:b.enableAiReceiptScan||!1,onChange:$=>w(F=>({...F,enableAiReceiptScan:$.target.checked})),className:"ml-auto w-5 h-5 text-teal-600 bg-gray-100 border-gray-300 rounded focus:ring-teal-500 dark:focus:ring-teal-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700",children:l("saveStoreChanges")})]})]})]}),y&&m.jsx("div",{className:`fixed bottom-4 right-4 z-50 p-4 rounded-lg shadow-xl text-sm font-semibold ${y.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/70 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200"}`,children:y.message})]})};function A_e(t,e){const n=localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing JSON from localStorage",r),localStorage.removeItem(t)}return e instanceof Function?e():e}function WP(t,e){const[n,r]=re.useState(()=>A_e(t,e));return re.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch(i){console.error("Error setting item to localStorage",i)}},[t,n]),[n,r]}const m_e="pos-app-db",g_e=2;let Ag=null;const v_e=()=>(Ag||(Ag=new Promise((t,e)=>{const n=indexedDB.open(m_e,g_e);n.onerror=()=>{console.error("IndexedDB opening error:",n.error),Ag=null,e(n.error)},n.onsuccess=()=>{t(n.result)},n.onupgradeneeded=()=>{const r=n.result;Object.keys({products:[],productVariants:[],sales:[],expenses:[],users:[],returns:[],stores:[],customers:[],suppliers:[],categories:[],purchases:[],stockBatches:[]}).forEach(i=>{r.objectStoreNames.contains(i)||r.createObjectStore(i,{keyPath:"id"})})}})),Ag);function Ba(t){const[e,n]=re.useState([]),r=re.useCallback(async c=>(await v_e()).transaction(t,c).objectStore(t),[t]),i=re.useCallback(async()=>{const f=(await r("readonly")).getAll();return new Promise((h,p)=>{f.onsuccess=()=>h(f.result),f.onerror=()=>p(f.error)})},[r]);re.useEffect(()=>{i().then(n).catch(console.error)},[i]);const a=re.useCallback(async c=>{const h=(await r("readwrite")).add(c);return new Promise((p,v)=>{h.onsuccess=()=>{n(b=>[...b,c]),p()},h.onerror=()=>v(h.error)})},[r]),o=re.useCallback(async c=>{if(c.length===0)return;const f=await r("readwrite"),h=f.transaction;return c.forEach(p=>f.add(p)),new Promise((p,v)=>{h.oncomplete=()=>{n(b=>[...b,...c]),p()},h.onerror=()=>v(h.error)})},[r]),s=re.useCallback(async c=>{const h=(await r("readwrite")).put(c);return new Promise((p,v)=>{h.onsuccess=()=>{n(b=>b.map(w=>w.id===c.id?c:w)),p()},h.onerror=()=>v(h.error)})},[r]),l=re.useCallback(async c=>{const h=(await r("readwrite")).delete(c);return new Promise((p,v)=>{h.onsuccess=()=>{n(b=>b.filter(w=>w.id!==c)),p()},h.onerror=()=>v(h.error)})},[r]),u=re.useCallback(async()=>{const f=(await r("readwrite")).clear();return new Promise((h,p)=>{f.onsuccess=()=>{n([]),h()},f.onerror=()=>p(f.error)})},[r]);return{data:e,setData:n,add:a,update:s,remove:l,clear:u,bulkAdd:o}}const y_e=()=>{const[t,e]=re.useState("loading"),[n,r]=re.useState(wr.POS),[i,a]=re.useState(null),[o,s]=re.useState(null),[l,u]=WP("pos-lang","fr"),[c,f]=WP("pos-theme","light"),[h,p]=re.useState(!0),[v,b]=re.useState([]),[w,y]=re.useState(null),[x,S]=re.useState(null),{data:T,setData:C,add:k,update:E,remove:M,clear:I}=Ba("products"),{data:U,setData:O,add:D,update:$,remove:F,clear:G,bulkAdd:R}=Ba("productVariants"),{data:B,setData:W,add:K,clear:Z}=Ba("sales"),{data:se,setData:L,add:z,update:Q,remove:te,clear:ie}=Ba("expenses"),{data:me,setData:Ae,add:V,remove:le,clear:ce}=Ba("customers"),{data:ue,setData:Me,add:Le,remove:Ce,clear:ae}=Ba("suppliers"),{data:Ne,setData:Ee,add:xe,update:Pe,remove:be,clear:ke}=Ba("categories"),{data:ye,setData:Ve,add:Ge,update:ot,clear:ze}=Ba("purchases"),{data:ft,setData:et,add:ht,bulkAdd:We,clear:cn}=Ba("stockBatches"),{data:kt,setData:Se,add:Ue,remove:rt,clear:pt}=Ba("returns"),{data:st,setData:mn,add:Pt,update:lr,remove:li,clear:fn}=Ba("users"),Ke=re.useCallback((je,Qe)=>{let xt=FC[l][je]||FC.fr[je];return Qe&&Object.keys(Qe).forEach(qt=>{xt=xt.replace(`{${qt}}`,String(Qe[qt]))}),xt},[l]);re.useEffect(()=>{document.documentElement.lang=l,document.documentElement.dir=l==="ar"?"rtl":"ltr",document.documentElement.classList.toggle("dark",c==="dark")},[l,c]);const Mt=()=>f(je=>je==="light"?"dark":"light"),kr=re.useMemo(()=>{const je=new Map;return ft.forEach(Qe=>{const xt=je.get(Qe.variantId)||0;je.set(Qe.variantId,xt+Qe.quantity)}),B.forEach(Qe=>{Qe.items.forEach(xt=>{if(xt.type==="good"){const qt=je.get(xt.id)||0;je.set(xt.id,qt-xt.quantity)}})}),kt.forEach(Qe=>{Qe.items.forEach(xt=>{if(xt.type==="good"){const qt=je.get(xt.id)||0;je.set(xt.id,qt+xt.quantity)}})}),je},[ft,B,kt]),Hn=re.useMemo(()=>new Map(U.map(je=>[je.id,je])),[U]),Xi=re.useMemo(()=>{const je=new Map;return U.forEach(Qe=>{const xt=je.get(Qe.productId)||[];xt.push(Qe),je.set(Qe.productId,xt)}),je},[U]),Qi=re.useMemo(()=>new Map(U.filter(je=>je.barcode).map(je=>[je.barcode,je])),[U]),ct=re.useMemo(()=>U.filter(je=>(kr.get(je.id)||0)<=je.lowStockThreshold),[U,kr]),Ni=async je=>{p(!0);try{const[Qe,xt,qt,ci,Ts,Ma,uc,Wd,cc,Yd,Ul]=await Promise.all([P9(je),_D(je),M9(je),O9(je),D9(je),I9(je),j9(je),L9(je),R9(je),F9(je),$9(je)]);C(Qe),O(xt),W(qt),L(ci),Ae(Ts),Me(Ma),Ee(uc),Ve(Wd),et(cc),Se(Yd),mn(Ul)}catch(Qe){console.error("Failed to load initial data:",Qe),alert("Error loading store data. Please check your connection and try again.")}finally{p(!1)}},Ei=(je,Qe)=>{a(je),s(Qe),Ni(Qe.id),e("authenticated")},Fr=()=>e("super_admin_landing"),zn=async()=>{e("unauthenticated"),a(null),s(null),await Promise.all([I(),G(),Z(),ie(),ce(),ae(),ke(),ze(),cn(),pt(),fn()])},In=()=>{e("unauthenticated")},$r=(je,Qe)=>{Ei(je,Qe)},Pa=async(je,Qe)=>{const{product:xt,variants:qt,stockBatches:ci}=await H9(je,Qe);return k(xt),R(qt),We(ci),{product:xt,variants:qt}},Zi=async(je,Qe)=>{const{updatedVariants:xt,newVariants:qt,deletedVariantIds:ci,newStockBatches:Ts}=await z9(je,Qe);E(je),xt.forEach(Ma=>$(Ma)),qt.forEach(Ma=>D(Ma)),ci.forEach(Ma=>F(Ma)),We(Ts)},ui=async je=>{await V9(je),M(je),U.filter(xt=>xt.productId===je).forEach(xt=>F(xt.id))},ki=async je=>{const{purchase:Qe,newStockBatch:xt,updatedVariant:qt}=await G9(je);Ge(Qe),ht(xt),$(qt)},Pi=async(je,Qe,xt,qt)=>{const ci=await K9(v,je,Qe,xt,i.id,o.id);K(ci),y({sale:ci,mode:qt}),b([])},ea=async je=>{const Qe=await J9(je,i.id,o.id);Ue(Qe),S(Qe),b([])},Xr=async(je,Qe)=>{const xt=await X9(je,Qe,i.id,o.id);K(xt)},ta=async je=>{const Qe=await Q9(je);return Qe&&z(Qe),Qe},Co=async je=>{await Z9(je),Q(je)},ys=async je=>{await eq(je),te(je)},bs=async je=>{await tq(je),rt(je)},xs=async()=>{window.confirm("Are you sure you want to delete all return history?")&&(await nq(o.id),pt())},ws=async je=>{const Qe=await rq(je);return Qe&&V(Qe),Qe},ic=async je=>{await iq(je),le(je)},Ud=async je=>{const Qe=await aq(je);return Qe&&Le(Qe),Qe},qd=async je=>{await oq(je),Ce(je)},Ss=async je=>{const{newPurchase:Qe,newStockBatches:xt}=await W9(je);Ge(Qe),We(xt)},ac=async je=>{await Y9(je),ot(je)},Hd=async je=>{const Qe=await sq(je);return Qe&&xe(Qe),Qe},Fl=async je=>{await lq(je),Pe(je)},zd=async je=>{await uq(je),be(je)},oc=async je=>{const Qe=await ND(je);return Qe&&Pt(Qe),Qe},Vd=async je=>{await ED(je),lr(je)},_s=async je=>{await cq(je),li(je)},Gd=async je=>{const Qe=await Kc({...o,...je});s(Qe)},jn=re.useMemo(()=>T.filter(je=>je.type==="service"),[T]),$l=re.useMemo(()=>T.filter(je=>je.type==="good"),[T]);if(t==="loading")return m.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900",children:m.jsxs("p",{children:[Ke("loading"),"..."]})});if(t==="unauthenticated")return m.jsx(gq,{onLoginSuccess:Ei,onSuperAdminLogin:Fr,t:Ke,language:l,setLanguage:u,theme:c,toggleTheme:Mt});if(t==="super_admin_landing")return m.jsx(vq,{onLoginAsStoreAdmin:$r,onGoToDashboard:()=>e("super_admin_dashboard"),onLogout:In,t:Ke,language:l,setLanguage:u,theme:c,toggleTheme:Mt});if(t==="super_admin_dashboard")return m.jsx(yq,{onLoginAsStoreAdmin:$r,onLogout:In,onGoBack:()=>e("super_admin_landing"),t:Ke,language:l,setLanguage:u,theme:c,toggleTheme:Mt});if(!i||!o)return m.jsx("div",{children:"Error: No user or store data."});const sc=()=>{switch(n){case wr.POS:return m.jsx(_Q,{store:o,user:i,products:T,variants:U,customers:me,categories:Ne,sales:B,stockMap:kr,variantMap:Hn,variantsByProduct:Xi,barcodeMap:Qi,cart:v,setCart:b,completeSale:Pi,processReturn:ea,payCustomerDebt:Xr,t:Ke,language:l});case wr.Products:return m.jsx(EZ,{storeId:o.id,products:$l,variants:U,suppliers:ue,categories:Ne,stockMap:kr,addProduct:Pa,updateProduct:Zi,deleteProduct:ui,addStockToVariant:ki,t:Ke,language:l});case wr.Services:return m.jsx(u_e,{storeId:o.id,services:jn,addService:Pa,updateService:Zi,deleteService:ui,t:Ke});case wr.Finance:return m.jsx(QSe,{storeId:o.id,sales:B,expenses:se,purchases:ye,suppliers:ue,returns:kt,customers:me,users:st,addProduct:Pa,addExpense:ta,updateExpense:Co,deleteExpense:ys,deleteReturn:bs,deleteAllReturns:xs,t:Ke,language:l,theme:c,onReprintInvoice:je=>y({sale:je,mode:"invoice"})});case wr.Customers:return m.jsx(t_e,{storeId:o.id,customers:me,sales:B,addCustomer:ws,deleteCustomer:ic,payCustomerDebt:Xr,t:Ke,language:l});case wr.Suppliers:return m.jsx(a_e,{storeId:o.id,suppliers:ue,products:$l,variants:U,purchases:ye,categories:Ne,addSupplier:Ud,deleteSupplier:qd,addPurchase:Ss,updatePurchase:ac,addProduct:Pa,t:Ke,language:l});case wr.Categories:return m.jsx(s_e,{storeId:o.id,categories:Ne,addCategory:Hd,updateCategory:Fl,deleteCategory:zd,t:Ke,language:l});case wr.Settings:return m.jsx(p_e,{activeUser:i,store:o,storeId:o.id,users:st,addUser:oc,updateUser:Vd,deleteUser:_s,onUpdateStore:Gd,t:Ke});default:return m.jsx("div",{children:"Tab not found"})}},lc=i.role==="admin",Bl=[{id:wr.POS,label:Ke("pos"),icon:m.jsx(hq,{className:"w-5 h-5"}),adminOnly:!1},{id:wr.Products,label:Ke("products"),icon:m.jsx(dq,{className:"w-5 h-5"}),adminOnly:!1},{id:wr.Finance,label:Ke("finance"),icon:m.jsx(pq,{className:"w-5 h-5"}),adminOnly:!0},{id:wr.Customers,label:Ke("customers"),icon:m.jsx(gS,{className:"w-5 h-5"}),adminOnly:!1},{id:wr.Suppliers,label:Ke("suppliers"),icon:m.jsx(PD,{className:"w-5 h-5"}),adminOnly:!0},{id:wr.Categories,label:Ke("categories"),icon:m.jsx(MD,{className:"w-5 h-5"}),adminOnly:!0},{id:wr.Settings,label:Ke("settings"),icon:m.jsx(mS,{className:"w-5 h-5"}),adminOnly:!0}];return m.jsxs("div",{className:`flex h-screen bg-gray-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 ${l==="ar"?"rtl":"ltr"}`,children:[w&&m.jsx(c_e,{sale:w.sale,mode:w.mode,onClose:()=>y(null),store:o,customers:me,t:Ke,language:l}),x&&m.jsx(f_e,{returnObject:x,onClose:()=>S(null),store:o,t:Ke,language:l}),m.jsxs("aside",{className:"w-64 bg-white dark:bg-slate-800 p-4 flex flex-col shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx(Uv,{className:"w-8 h-8 text-teal-600 dark:text-teal-400"}),m.jsx("h1",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:o.name})]}),m.jsx("nav",{className:"flex-grow space-y-2",children:Bl.filter(je=>!je.adminOnly||lc).map(je=>m.jsxs("button",{onClick:()=>r(je.id),className:`w-full flex items-center gap-3 p-3 rounded-lg text-sm font-semibold transition-colors ${n===je.id?"bg-teal-600 text-white":"text-slate-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[je.icon,je.label]},je.id))}),m.jsxs("div",{className:"mt-auto",children:[m.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-lg text-center",children:[m.jsxs("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:[Ke("welcome")," ",i.name]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:i.role==="admin"?Ke("admin"):Ke("seller")})]}),m.jsxs("button",{onClick:zn,className:"w-full flex items-center justify-center gap-2 p-3 mt-2 rounded-lg text-sm font-semibold bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900",children:[m.jsx(AS,{className:"w-5 h-5"}),Ke("logout")]})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx(h_e,{store:o,t:Ke}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n===wr.Products&&ct.length>0&&m.jsx(d_e,{products:T,variants:ct,suppliers:ue,t:Ke}),h?m.jsxs("p",{children:[Ke("loading"),"..."]}):sc()]})]})]})},w8=document.getElementById("root");if(!w8)throw new Error("Could not find root element to mount to");const b_e=rB.createRoot(w8);b_e.render(m.jsx(de.StrictMode,{children:m.jsx(y_e,{})}));export{rn as _,Ar as c,Jt as g};
