(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var UP={exports:{}},Z0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z8=Symbol.for("react.transitional.element"),e7=Symbol.for("react.fragment");function qP(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:Z8,type:t,key:r,ref:e!==void 0?e:null,props:n}}Z0.Fragment=e7;Z0.jsx=qP;Z0.jsxs=qP;UP.exports=Z0;var m=UP.exports,HP={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=Symbol.for("react.transitional.element"),t7=Symbol.for("react.portal"),n7=Symbol.for("react.fragment"),r7=Symbol.for("react.strict_mode"),i7=Symbol.for("react.profiler"),a7=Symbol.for("react.consumer"),o7=Symbol.for("react.context"),s7=Symbol.for("react.forward_ref"),l7=Symbol.for("react.suspense"),u7=Symbol.for("react.memo"),zP=Symbol.for("react.lazy"),c7=Symbol.for("react.activity"),nT=Symbol.iterator;function f7(t){return t===null||typeof t!="object"?null:(t=nT&&t[nT]||t["@@iterator"],typeof t=="function"?t:null)}var VP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GP=Object.assign,WP={};function Gf(t,e,n){this.props=t,this.context=e,this.refs=WP,this.updater=n||VP}Gf.prototype.isReactComponent={};Gf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YP(){}YP.prototype=Gf.prototype;function e5(t,e,n){this.props=t,this.context=e,this.refs=WP,this.updater=n||VP}var t5=e5.prototype=new YP;t5.constructor=e5;GP(t5,Gf.prototype);t5.isPureReactComponent=!0;var rT=Array.isArray;function X1(){}var On={H:null,A:null,T:null,S:null},KP=Object.prototype.hasOwnProperty;function n5(t,e,n){var r=n.ref;return{$$typeof:Zw,type:t,key:e,ref:r!==void 0?r:null,props:n}}function d7(t,e){return n5(t.type,e,t.props)}function r5(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zw}function h7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iT=/\/+/g;function pb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h7(""+t.key):e.toString(36)}function p7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(X1,X1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Sc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zw:case t7:o=!0;break;case zP:return o=t._init,Sc(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+pb(t,0):r,rT(i)?(n="",o!=null&&(n=o.replace(iT,"$&/")+"/"),Sc(i,e,n,"",function(u){return u})):i!=null&&(r5(i)&&(i=d7(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(iT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(rT(t))for(var l=0;l<t.length;l++)r=t[l],a=s+pb(r,l),o+=Sc(r,e,n,a,i);else if(l=f7(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+pb(r,l++),o+=Sc(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Sc(p7(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function dm(t,e,n){if(t==null)return t;var r=[],i=0;return Sc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function A7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var aT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},m7={map:dm,forEach:function(t,e,n){dm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dm(t,function(){e++}),e},toArray:function(t){return dm(t,function(e){return e})||[]},only:function(t){if(!r5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Activity=c7;Nt.Children=m7;Nt.Component=Gf;Nt.Fragment=n7;Nt.Profiler=i7;Nt.PureComponent=e5;Nt.StrictMode=r7;Nt.Suspense=l7;Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=On;Nt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return On.H.useMemoCache(t)}};Nt.cache=function(t){return function(){return t.apply(null,arguments)}};Nt.cacheSignal=function(){return null};Nt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=GP({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!KP.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return n5(t.type,i,r)};Nt.createContext=function(t){return t={$$typeof:o7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:a7,_context:t},t};Nt.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)KP.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return n5(t,a,i)};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:s7,render:t}};Nt.isValidElement=r5;Nt.lazy=function(t){return{$$typeof:zP,_payload:{_status:-1,_result:t},_init:A7}};Nt.memo=function(t,e){return{$$typeof:u7,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=On.T,n={};On.T=n;try{var r=t(),i=On.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(X1,aT)}catch(a){aT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),On.T=e}};Nt.unstable_useCacheRefresh=function(){return On.H.useCacheRefresh()};Nt.use=function(t){return On.H.use(t)};Nt.useActionState=function(t,e,n){return On.H.useActionState(t,e,n)};Nt.useCallback=function(t,e){return On.H.useCallback(t,e)};Nt.useContext=function(t){return On.H.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t,e){return On.H.useDeferredValue(t,e)};Nt.useEffect=function(t,e){return On.H.useEffect(t,e)};Nt.useEffectEvent=function(t){return On.H.useEffectEvent(t)};Nt.useId=function(){return On.H.useId()};Nt.useImperativeHandle=function(t,e,n){return On.H.useImperativeHandle(t,e,n)};Nt.useInsertionEffect=function(t,e){return On.H.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return On.H.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return On.H.useMemo(t,e)};Nt.useOptimistic=function(t,e){return On.H.useOptimistic(t,e)};Nt.useReducer=function(t,e,n){return On.H.useReducer(t,e,n)};Nt.useRef=function(t){return On.H.useRef(t)};Nt.useState=function(t){return On.H.useState(t)};Nt.useSyncExternalStore=function(t,e,n){return On.H.useSyncExternalStore(t,e,n)};Nt.useTransition=function(){return On.H.useTransition()};Nt.version="19.2.0";HP.exports=Nt;var oe=HP.exports;const de=Xt(oe);var JP={exports:{}},ev={},XP={exports:{}},QP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,U){var V=R.length;R.push(U);e:for(;0<V;){var K=V-1>>>1,ee=R[K];if(0<i(ee,U))R[K]=U,R[V]=ee,V=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var U=R[0],V=R.pop();if(V!==U){R[0]=V;e:for(var K=0,ee=R.length,le=ee>>>1;K<le;){var j=2*(K+1)-1,z=R[j],Q=j+1,te=R[Q];if(0>i(z,V))Q<ee&&0>i(te,z)?(R[K]=te,R[Q]=V,K=Q):(R[K]=z,R[j]=V,K=j);else if(Q<ee&&0>i(te,V))R[K]=te,R[Q]=V,K=Q;else break e}}return U}function i(R,U){var V=R.sortIndex-U.sortIndex;return V!==0?V:R.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,A=!1,v=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(R){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=R)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function C(R){if(b=!1,T(R),!v)if(n(l)!==null)v=!0,k||(k=!0,M());else{var U=n(u);U!==null&&G(C,U.startTime-R)}}var k=!1,E=-1,O=5,D=-1;function $(){return w?!0:!(t.unstable_now()-D<O)}function I(){if(w=!1,k){var R=t.unstable_now();D=R;var U=!0;try{e:{v=!1,b&&(b=!1,x(E),E=-1),A=!0;var V=h;try{t:{for(T(R),f=n(l);f!==null&&!(f.expirationTime>R&&$());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var ee=K(f.expirationTime<=R);if(R=t.unstable_now(),typeof ee=="function"){f.callback=ee,T(R),U=!0;break t}f===n(l)&&r(l),T(R)}else r(l);f=n(l)}if(f!==null)U=!0;else{var le=n(u);le!==null&&G(C,le.startTime-R),U=!1}}break e}finally{f=null,h=V,A=!1}U=void 0}}finally{U?M():k=!1}}}var M;if(typeof S=="function")M=function(){S(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=I,M=function(){F.postMessage(null)}}else M=function(){y(I,0)};function G(R,U){E=y(function(){R(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var V=h;h=U;try{return R()}finally{h=V}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=h;h=R;try{return U()}finally{h=V}},t.unstable_scheduleCallback=function(R,U,V){var K=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,R={id:c++,callback:U,priorityLevel:R,startTime:V,expirationTime:ee,sortIndex:-1},V>K?(R.sortIndex=V,e(u,R),n(l)===null&&R===n(u)&&(b?(x(E),E=-1):b=!0,G(C,V-K))):(R.sortIndex=ee,e(l,R),v||A||(v=!0,k||(k=!0,M()))),R},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(R){var U=h;return function(){var V=h;h=U;try{return R.apply(this,arguments)}finally{h=V}}}})(QP);XP.exports=QP;var g7=XP.exports,ZP={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v7=oe;function e6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ws(){}var Qr={d:{f:ws,r:function(){throw Error(e6(522))},D:ws,C:ws,L:ws,m:ws,X:ws,S:ws,M:ws},p:0,findDOMNode:null},y7=Symbol.for("react.portal");function b7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y7,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var _h=v7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function tv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qr;ni.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(e6(299));return b7(t,e,null,n)};ni.flushSync=function(t){var e=_h.T,n=Qr.p;try{if(_h.T=null,Qr.p=2,t)return t()}finally{_h.T=e,Qr.p=n,Qr.d.f()}};ni.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Qr.d.C(t,e))};ni.prefetchDNS=function(t){typeof t=="string"&&Qr.d.D(t)};ni.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=tv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Qr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Qr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ni.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=tv(e.as,e.crossOrigin);Qr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Qr.d.M(t)};ni.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=tv(n,e.crossOrigin);Qr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ni.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=tv(e.as,e.crossOrigin);Qr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Qr.d.m(t)};ni.requestFormReset=function(t){Qr.d.r(t)};ni.unstable_batchedUpdates=function(t,e){return t(e)};ni.useFormState=function(t,e,n){return _h.H.useFormState(t,e,n)};ni.useFormStatus=function(){return _h.H.useHostTransitionStatus()};ni.version="19.2.0";function t6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t6)}catch(t){console.error(t)}}t6(),ZP.exports=ni;var x7=ZP.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr=g7,n6=oe,w7=x7;function je(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a6(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oT(t){if(Xp(t)!==t)throw Error(je(188))}function S7(t){var e=t.alternate;if(!e){if(e=Xp(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return oT(i),t;if(a===r)return oT(i),e;a=a.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function o6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=o6(t),e!==null)return e;t=t.sibling}return null}var In=Object.assign,_7=Symbol.for("react.element"),hm=Symbol.for("react.transitional.element"),gh=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),s6=Symbol.for("react.strict_mode"),Q1=Symbol.for("react.profiler"),l6=Symbol.for("react.consumer"),jo=Symbol.for("react.context"),i5=Symbol.for("react.forward_ref"),Z1=Symbol.for("react.suspense"),ex=Symbol.for("react.suspense_list"),a5=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),tx=Symbol.for("react.activity"),T7=Symbol.for("react.memo_cache_sentinel"),sT=Symbol.iterator;function Kd(t){return t===null||typeof t!="object"?null:(t=sT&&t[sT]||t["@@iterator"],typeof t=="function"?t:null)}var C7=Symbol.for("react.client.reference");function nx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mc:return"Fragment";case Q1:return"Profiler";case s6:return"StrictMode";case Z1:return"Suspense";case ex:return"SuspenseList";case tx:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case gh:return"Portal";case jo:return t.displayName||"Context";case l6:return(t._context.displayName||"Context")+".Consumer";case i5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case a5:return e=t.displayName||null,e!==null?e:nx(t.type)||"Memo";case Ns:e=t._payload,t=t._init;try{return nx(t(e))}catch{}}return null}var vh=Array.isArray,vt=n6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jt=w7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ql={pending:!1,data:null,method:null,action:null},rx=[],Oc=-1;function uo(t){return{current:t}}function Cr(t){0>Oc||(t.current=rx[Oc],rx[Oc]=null,Oc--)}function wn(t,e){Oc++,rx[Oc]=t.current,t.current=e}var io=uo(null),Zh=uo(null),Vs=uo(null),yg=uo(null);function bg(t,e){switch(wn(Vs,e),wn(Zh,t),wn(io,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?hC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=hC(e),t=EO(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Cr(io),wn(io,t)}function cf(){Cr(io),Cr(Zh),Cr(Vs)}function ix(t){t.memoizedState!==null&&wn(yg,t);var e=io.current,n=EO(e,t.type);e!==n&&(wn(Zh,t),wn(io,n))}function xg(t){Zh.current===t&&(Cr(io),Cr(Zh)),yg.current===t&&(Cr(yg),cp._currentValue=Ql)}var Ab,lT;function Ll(t){if(Ab===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ab=e&&e[1]||"",lT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ab+t+lT}var mb=!1;function gb(t,e){if(!t||mb)return"";mb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(A){var h=A}Reflect.construct(t,[],f)}else{try{f.call()}catch(A){h=A}t.call(f.prototype)}}else{try{throw Error()}catch(A){h=A}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(A){if(A&&h&&typeof A.stack=="string")return[A.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{mb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ll(n):""}function N7(t,e){switch(t.tag){case 26:case 27:case 5:return Ll(t.type);case 16:return Ll("Lazy");case 13:return t.child!==e&&e!==null?Ll("Suspense Fallback"):Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 15:return gb(t.type,!1);case 11:return gb(t.type.render,!1);case 1:return gb(t.type,!0);case 31:return Ll("Activity");default:return""}}function uT(t){try{var e="",n=null;do e+=N7(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ax=Object.prototype.hasOwnProperty,o5=gr.unstable_scheduleCallback,vb=gr.unstable_cancelCallback,E7=gr.unstable_shouldYield,k7=gr.unstable_requestPaint,Li=gr.unstable_now,P7=gr.unstable_getCurrentPriorityLevel,u6=gr.unstable_ImmediatePriority,c6=gr.unstable_UserBlockingPriority,wg=gr.unstable_NormalPriority,M7=gr.unstable_LowPriority,f6=gr.unstable_IdlePriority,O7=gr.log,I7=gr.unstable_setDisableYieldValue,Qp=null,ji=null;function Bs(t){if(typeof O7=="function"&&I7(t),ji&&typeof ji.setStrictMode=="function")try{ji.setStrictMode(Qp,t)}catch{}}var Ri=Math.clz32?Math.clz32:j7,D7=Math.log,L7=Math.LN2;function j7(t){return t>>>=0,t===0?32:31-(D7(t)/L7|0)|0}var pm=256,Am=262144,mm=4194304;function jl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function nv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=jl(r):(o&=s,o!==0?i=jl(o):n||(n=s&~t,n!==0&&(i=jl(n))))):(s=r&~a,s!==0?i=jl(s):o!==0?i=jl(o):n||(n=r&~t,n!==0&&(i=jl(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Zp(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function R7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d6(){var t=mm;return mm<<=1,!(mm&62914560)&&(mm=4194304),t}function yb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function B7(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Ri(n),f=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var A=h[c];A!==null&&(A.lane&=-536870913)}n&=~f}r!==0&&h6(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function h6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Ri(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function p6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ri(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function A6(t,e){var n=e&-e;return n=n&42?1:s5(n),n&(t.suspendedLanes|e)?0:n}function s5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function l5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function m6(){var t=Jt.p;return t!==0?t:(t=window.event,t===void 0?32:$O(t.type))}function cT(t,e){var n=Jt.p;try{return Jt.p=t,e()}finally{Jt.p=n}}var fl=Math.random().toString(36).slice(2),Or="__reactFiber$"+fl,gi="__reactProps$"+fl,Wf="__reactContainer$"+fl,ox="__reactEvents$"+fl,$7="__reactListeners$"+fl,F7="__reactHandles$"+fl,fT="__reactResources$"+fl,tA="__reactMarker$"+fl;function u5(t){delete t[Or],delete t[gi],delete t[ox],delete t[$7],delete t[F7]}function Ic(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wf]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vC(t);t!==null;){if(n=t[Or])return n;t=vC(t)}return e}t=n,n=t.parentNode}return null}function Yf(t){if(t=t[Or]||t[Wf]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function yh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(je(33))}function Kc(t){var e=t[fT];return e||(e=t[fT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _r(t){t[tA]=!0}var g6=new Set,v6={};function wu(t,e){ff(t,e),ff(t+"Capture",e)}function ff(t,e){for(v6[t]=e,t=0;t<e.length;t++)g6.add(e[t])}var U7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dT={},hT={};function q7(t){return ax.call(hT,t)?!0:ax.call(dT,t)?!1:U7.test(t)?hT[t]=!0:(dT[t]=!0,!1)}function tg(t,e,n){if(q7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function gm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function To(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function ia(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H7(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sx(t){if(!t._valueTracker){var e=y6(t)?"checked":"value";t._valueTracker=H7(t,e,""+t[e])}}function b6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var z7=/[\n"\\]/g;function sa(t){return t.replace(z7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function lx(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ia(e)):t.value!==""+ia(e)&&(t.value=""+ia(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?ux(t,o,ia(e)):n!=null?ux(t,o,ia(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+ia(s):t.removeAttribute("name")}function x6(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){sx(t);return}n=n!=null?""+ia(n):"",e=e!=null?""+ia(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),sx(t)}function ux(t,e,n){e==="number"&&Sg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Jc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ia(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function w6(t,e,n){if(e!=null&&(e=""+ia(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ia(n):""}function S6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(je(92));if(vh(r)){if(1<r.length)throw Error(je(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=ia(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),sx(t)}function df(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var V7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||V7.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function _6(t,e,n){if(e!=null&&typeof e!="object")throw Error(je(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&pT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&pT(t,a,e[a])}function c5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ng(t){return W7.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ro(){}var cx=null;function f5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dc=null,Xc=null;function AT(t){var e=Yf(t);if(e&&(t=e.stateNode)){var n=t[gi]||null;e:switch(t=e.stateNode,e.type){case"input":if(lx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+sa(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[gi]||null;if(!i)throw Error(je(90));lx(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&b6(r)}break e;case"textarea":w6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Jc(t,!!n.multiple,e,!1)}}}var bb=!1;function T6(t,e,n){if(bb)return t(e,n);bb=!0;try{var r=t(e);return r}finally{if(bb=!1,(Dc!==null||Xc!==null)&&(pv(),Dc&&(e=Dc,t=Xc,Xc=Dc=null,AT(e),t)))for(e=0;e<t.length;e++)AT(t[e])}}function ep(t,e){var n=t.stateNode;if(n===null)return null;var r=n[gi]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fx=!1;if(Wo)try{var Jd={};Object.defineProperty(Jd,"passive",{get:function(){fx=!0}}),window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{fx=!1}var $s=null,d5=null,rg=null;function C6(){if(rg)return rg;var t,e=d5,n=e.length,r,i="value"in $s?$s.value:$s.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return rg=i.slice(t,1<r?1-r:void 0)}function ig(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vm(){return!0}function mT(){return!1}function yi(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vm:mT,this.isPropagationStopped=mT,this}return In(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vm)},persist:function(){},isPersistent:vm}),e}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rv=yi(Su),nA=In({},Su,{view:0,detail:0}),Y7=yi(nA),xb,wb,Xd,iv=In({},nA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xd&&(Xd&&t.type==="mousemove"?(xb=t.screenX-Xd.screenX,wb=t.screenY-Xd.screenY):wb=xb=0,Xd=t),xb)},movementY:function(t){return"movementY"in t?t.movementY:wb}}),gT=yi(iv),K7=In({},iv,{dataTransfer:0}),J7=yi(K7),X7=In({},nA,{relatedTarget:0}),Sb=yi(X7),Q7=In({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),Z7=yi(Q7),eB=In({},Su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tB=yi(eB),nB=In({},Su,{data:0}),vT=yi(nB),rB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aB[t])?!!e[t]:!1}function h5(){return oB}var sB=In({},nA,{key:function(t){if(t.key){var e=rB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ig(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h5,charCode:function(t){return t.type==="keypress"?ig(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ig(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lB=yi(sB),uB=In({},iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yT=yi(uB),cB=In({},nA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h5}),fB=yi(cB),dB=In({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),hB=yi(dB),pB=In({},iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AB=yi(pB),mB=In({},Su,{newState:0,oldState:0}),gB=yi(mB),vB=[9,13,27,32],p5=Wo&&"CompositionEvent"in window,Th=null;Wo&&"documentMode"in document&&(Th=document.documentMode);var yB=Wo&&"TextEvent"in window&&!Th,N6=Wo&&(!p5||Th&&8<Th&&11>=Th),bT=" ",xT=!1;function E6(t,e){switch(t){case"keyup":return vB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lc=!1;function bB(t,e){switch(t){case"compositionend":return k6(e);case"keypress":return e.which!==32?null:(xT=!0,bT);case"textInput":return t=e.data,t===bT&&xT?null:t;default:return null}}function xB(t,e){if(Lc)return t==="compositionend"||!p5&&E6(t,e)?(t=C6(),rg=d5=$s=null,Lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N6&&e.locale!=="ko"?null:e.data;default:return null}}var wB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wB[t.type]:e==="textarea"}function P6(t,e,n,r){Dc?Xc?Xc.push(r):Xc=[r]:Dc=r,e=Ug(e,"onChange"),0<e.length&&(n=new rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ch=null,tp=null;function SB(t){TO(t,0)}function av(t){var e=yh(t);if(b6(e))return t}function ST(t,e){if(t==="change")return e}var M6=!1;if(Wo){var _b;if(Wo){var Tb="oninput"in document;if(!Tb){var _T=document.createElement("div");_T.setAttribute("oninput","return;"),Tb=typeof _T.oninput=="function"}_b=Tb}else _b=!1;M6=_b&&(!document.documentMode||9<document.documentMode)}function TT(){Ch&&(Ch.detachEvent("onpropertychange",O6),tp=Ch=null)}function O6(t){if(t.propertyName==="value"&&av(tp)){var e=[];P6(e,tp,t,f5(t)),T6(SB,e)}}function _B(t,e,n){t==="focusin"?(TT(),Ch=e,tp=n,Ch.attachEvent("onpropertychange",O6)):t==="focusout"&&TT()}function TB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return av(tp)}function CB(t,e){if(t==="click")return av(e)}function NB(t,e){if(t==="input"||t==="change")return av(e)}function EB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ui=typeof Object.is=="function"?Object.is:EB;function np(t,e){if(Ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ax.call(e,i)||!Ui(t[i],e[i]))return!1}return!0}function CT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NT(t,e){var n=CT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CT(n)}}function I6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Sg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sg(t.document)}return e}function A5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var kB=Wo&&"documentMode"in document&&11>=document.documentMode,jc=null,dx=null,Nh=null,hx=!1;function ET(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hx||jc==null||jc!==Sg(r)||(r=jc,"selectionStart"in r&&A5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nh&&np(Nh,r)||(Nh=r,r=Ug(dx,"onSelect"),0<r.length&&(e=new rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jc)))}function kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rc={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionrun:kl("Transition","TransitionRun"),transitionstart:kl("Transition","TransitionStart"),transitioncancel:kl("Transition","TransitionCancel"),transitionend:kl("Transition","TransitionEnd")},Cb={},L6={};Wo&&(L6=document.createElement("div").style,"AnimationEvent"in window||(delete Rc.animationend.animation,delete Rc.animationiteration.animation,delete Rc.animationstart.animation),"TransitionEvent"in window||delete Rc.transitionend.transition);function _u(t){if(Cb[t])return Cb[t];if(!Rc[t])return t;var e=Rc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in L6)return Cb[t]=e[n];return t}var j6=_u("animationend"),R6=_u("animationiteration"),B6=_u("animationstart"),PB=_u("transitionrun"),MB=_u("transitionstart"),OB=_u("transitioncancel"),$6=_u("transitionend"),F6=new Map,px="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");px.push("scrollEnd");function $a(t,e){F6.set(t,e),wu(e,[t])}var _g=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},na=[],Bc=0,m5=0;function ov(){for(var t=Bc,e=m5=Bc=0;e<t;){var n=na[e];na[e++]=null;var r=na[e];na[e++]=null;var i=na[e];na[e++]=null;var a=na[e];if(na[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&U6(n,i,a)}}function sv(t,e,n,r){na[Bc++]=t,na[Bc++]=e,na[Bc++]=n,na[Bc++]=r,m5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function g5(t,e,n,r){return sv(t,e,n,r),Tg(t)}function Tu(t,e){return sv(t,null,null,e),Tg(t)}function U6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Ri(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Tg(t){if(50<jh)throw jh=0,Lx=null,Error(je(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var $c={};function IB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(t,e,n,r){return new IB(t,e,n,r)}function v5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qo(t,e){var n=t.alternate;return n===null?(n=Pi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function q6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ag(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")v5(t)&&(o=1);else if(typeof t=="string")o=B$(t,n,io.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case tx:return t=Pi(31,n,e,i),t.elementType=tx,t.lanes=a,t;case Mc:return Zl(n.children,i,a,e);case s6:o=8,i|=24;break;case Q1:return t=Pi(12,n,e,i|2),t.elementType=Q1,t.lanes=a,t;case Z1:return t=Pi(13,n,e,i),t.elementType=Z1,t.lanes=a,t;case ex:return t=Pi(19,n,e,i),t.elementType=ex,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jo:o=10;break e;case l6:o=9;break e;case i5:o=11;break e;case a5:o=14;break e;case Ns:o=16,r=null;break e}o=29,n=Error(je(130,t===null?"null":typeof t,"")),r=null}return e=Pi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Zl(t,e,n,r){return t=Pi(7,t,r,e),t.lanes=n,t}function Nb(t,e,n){return t=Pi(6,t,null,e),t.lanes=n,t}function H6(t){var e=Pi(18,null,null,0);return e.stateNode=t,e}function Eb(t,e,n){return e=Pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var kT=new WeakMap;function la(t,e){if(typeof t=="object"&&t!==null){var n=kT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:uT(e)},kT.set(t,e),e)}return{value:t,source:e,stack:uT(e)}}var Fc=[],Uc=0,Cg=null,rp=0,aa=[],oa=0,il=null,Za=1,eo="";function Do(t,e){Fc[Uc++]=rp,Fc[Uc++]=Cg,Cg=t,rp=e}function z6(t,e,n){aa[oa++]=Za,aa[oa++]=eo,aa[oa++]=il,il=t;var r=Za;t=eo;var i=32-Ri(r)-1;r&=~(1<<i),n+=1;var a=32-Ri(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Za=1<<32-Ri(e)+i|n<<i|r,eo=a+t}else Za=1<<a|n<<i|r,eo=t}function y5(t){t.return!==null&&(Do(t,1),z6(t,1,0))}function b5(t){for(;t===Cg;)Cg=Fc[--Uc],Fc[Uc]=null,rp=Fc[--Uc],Fc[Uc]=null;for(;t===il;)il=aa[--oa],aa[oa]=null,eo=aa[--oa],aa[oa]=null,Za=aa[--oa],aa[oa]=null}function V6(t,e){aa[oa++]=Za,aa[oa++]=eo,aa[oa++]=il,Za=e.id,eo=e.overflow,il=t}var Ir=null,Pn=null,Ut=!1,Gs=null,ua=!1,Ax=Error(je(519));function al(t){var e=Error(je(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ip(la(e,t)),Ax}function PT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Or]=t,e[gi]=r,n){case"dialog":jt("cancel",e),jt("close",e);break;case"iframe":case"object":case"embed":jt("load",e);break;case"video":case"audio":for(n=0;n<lp.length;n++)jt(lp[n],e);break;case"source":jt("error",e);break;case"img":case"image":case"link":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"input":jt("invalid",e),x6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":jt("invalid",e);break;case"textarea":jt("invalid",e),S6(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||NO(e.textContent,n)?(r.popover!=null&&(jt("beforetoggle",e),jt("toggle",e)),r.onScroll!=null&&jt("scroll",e),r.onScrollEnd!=null&&jt("scrollend",e),r.onClick!=null&&(e.onclick=Ro),e=!0):e=!1,e||al(t,!0)}function MT(t){for(Ir=t.return;Ir;)switch(Ir.tag){case 5:case 31:case 13:ua=!1;return;case 27:case 3:ua=!0;return;default:Ir=Ir.return}}function fc(t){if(t!==Ir)return!1;if(!Ut)return MT(t),Ut=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Fx(t.type,t.memoizedProps)),n=!n),n&&Pn&&al(t),MT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));Pn=gC(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));Pn=gC(t)}else e===27?(e=Pn,dl(t.type)?(t=zx,zx=null,Pn=t):Pn=e):Pn=Ir?ha(t.stateNode.nextSibling):null;return!0}function cu(){Pn=Ir=null,Ut=!1}function kb(){var t=Gs;return t!==null&&(hi===null?hi=t:hi.push.apply(hi,t),Gs=null),t}function ip(t){Gs===null?Gs=[t]:Gs.push(t)}var mx=uo(null),Cu=null,Bo=null;function Ms(t,e,n){wn(mx,e._currentValue),e._currentValue=n}function Ho(t){t._currentValue=mx.current,Cr(mx)}function gx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vx(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),gx(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gx(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Kf(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(je(387));if(o=o.memoizedProps,o!==null){var s=i.type;Ui(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===yg.current){if(o=i.alternate,o===null)throw Error(je(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(cp):t=[cp])}i=i.return}t!==null&&vx(e,t,n,r),e.flags|=262144}function Ng(t){for(t=t.firstContext;t!==null;){if(!Ui(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fu(t){Cu=t,Bo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dr(t){return G6(Cu,t)}function ym(t,e){return Cu===null&&fu(t),G6(t,e)}function G6(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Bo===null){if(t===null)throw Error(je(308));Bo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Bo=Bo.next=e;return n}var DB=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},LB=gr.unstable_scheduleCallback,jB=gr.unstable_NormalPriority,or={$$typeof:jo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function x5(){return{controller:new DB,data:new Map,refCount:0}}function rA(t){t.refCount--,t.refCount===0&&LB(jB,function(){t.controller.abort()})}var Eh=null,yx=0,hf=0,Qc=null;function RB(t,e){if(Eh===null){var n=Eh=[];yx=0,hf=G5(),Qc={status:"pending",value:void 0,then:function(r){n.push(r)}}}return yx++,e.then(OT,OT),e}function OT(){if(--yx===0&&Eh!==null){Qc!==null&&(Qc.status="fulfilled");var t=Eh;Eh=null,hf=0,Qc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function BB(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var IT=vt.S;vt.S=function(t,e){oO=Li(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&RB(t,e),IT!==null&&IT(t,e)};var eu=uo(null);function w5(){var t=eu.current;return t!==null?t:An.pooledCache}function og(t,e){e===null?wn(eu,eu.current):wn(eu,e.pool)}function W6(){var t=w5();return t===null?null:{parent:or._currentValue,pool:t}}var Jf=Error(je(460)),S5=Error(je(474)),lv=Error(je(542)),Eg={then:function(){}};function DT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Y6(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ro,Ro),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,jT(t),t;default:if(typeof e.status=="string")e.then(Ro,Ro);else{if(t=An,t!==null&&100<t.shellSuspendCounter)throw Error(je(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,jT(t),t}throw tu=e,Jf}}function Rl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(tu=n,Jf):n}}var tu=null;function LT(){if(tu===null)throw Error(je(459));var t=tu;return tu=null,t}function jT(t){if(t===Jf||t===lv)throw Error(je(483))}var Zc=null,ap=0;function bm(t){var e=ap;return ap+=1,Zc===null&&(Zc=[]),Y6(Zc,t,e)}function Qd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function xm(t,e){throw e.$$typeof===_7?Error(je(525)):(t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function K6(t){function e(y,x){if(t){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(y,x){return y=qo(y,x),y.index=0,y.sibling=null,y}function a(y,x,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=67108866,x):S):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function s(y,x,S,T){return x===null||x.tag!==6?(x=Nb(S,y.mode,T),x.return=y,x):(x=i(x,S),x.return=y,x)}function l(y,x,S,T){var C=S.type;return C===Mc?c(y,x,S.props.children,T,S.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ns&&Rl(C)===x.type)?(x=i(x,S.props),Qd(x,S),x.return=y,x):(x=ag(S.type,S.key,S.props,null,y.mode,T),Qd(x,S),x.return=y,x)}function u(y,x,S,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Eb(S,y.mode,T),x.return=y,x):(x=i(x,S.children||[]),x.return=y,x)}function c(y,x,S,T,C){return x===null||x.tag!==7?(x=Zl(S,y.mode,T,C),x.return=y,x):(x=i(x,S),x.return=y,x)}function f(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Nb(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hm:return S=ag(x.type,x.key,x.props,null,y.mode,S),Qd(S,x),S.return=y,S;case gh:return x=Eb(x,y.mode,S),x.return=y,x;case Ns:return x=Rl(x),f(y,x,S)}if(vh(x)||Kd(x))return x=Zl(x,y.mode,S,null),x.return=y,x;if(typeof x.then=="function")return f(y,bm(x),S);if(x.$$typeof===jo)return f(y,ym(y,x),S);xm(y,x)}return null}function h(y,x,S,T){var C=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return C!==null?null:s(y,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case hm:return S.key===C?l(y,x,S,T):null;case gh:return S.key===C?u(y,x,S,T):null;case Ns:return S=Rl(S),h(y,x,S,T)}if(vh(S)||Kd(S))return C!==null?null:c(y,x,S,T,null);if(typeof S.then=="function")return h(y,x,bm(S),T);if(S.$$typeof===jo)return h(y,x,ym(y,S),T);xm(y,S)}return null}function A(y,x,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return y=y.get(S)||null,s(x,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hm:return y=y.get(T.key===null?S:T.key)||null,l(x,y,T,C);case gh:return y=y.get(T.key===null?S:T.key)||null,u(x,y,T,C);case Ns:return T=Rl(T),A(y,x,S,T,C)}if(vh(T)||Kd(T))return y=y.get(S)||null,c(x,y,T,C,null);if(typeof T.then=="function")return A(y,x,S,bm(T),C);if(T.$$typeof===jo)return A(y,x,S,ym(x,T),C);xm(x,T)}return null}function v(y,x,S,T){for(var C=null,k=null,E=x,O=x=0,D=null;E!==null&&O<S.length;O++){E.index>O?(D=E,E=null):D=E.sibling;var $=h(y,E,S[O],T);if($===null){E===null&&(E=D);break}t&&E&&$.alternate===null&&e(y,E),x=a($,x,O),k===null?C=$:k.sibling=$,k=$,E=D}if(O===S.length)return n(y,E),Ut&&Do(y,O),C;if(E===null){for(;O<S.length;O++)E=f(y,S[O],T),E!==null&&(x=a(E,x,O),k===null?C=E:k.sibling=E,k=E);return Ut&&Do(y,O),C}for(E=r(E);O<S.length;O++)D=A(E,y,O,S[O],T),D!==null&&(t&&D.alternate!==null&&E.delete(D.key===null?O:D.key),x=a(D,x,O),k===null?C=D:k.sibling=D,k=D);return t&&E.forEach(function(I){return e(y,I)}),Ut&&Do(y,O),C}function b(y,x,S,T){if(S==null)throw Error(je(151));for(var C=null,k=null,E=x,O=x=0,D=null,$=S.next();E!==null&&!$.done;O++,$=S.next()){E.index>O?(D=E,E=null):D=E.sibling;var I=h(y,E,$.value,T);if(I===null){E===null&&(E=D);break}t&&E&&I.alternate===null&&e(y,E),x=a(I,x,O),k===null?C=I:k.sibling=I,k=I,E=D}if($.done)return n(y,E),Ut&&Do(y,O),C;if(E===null){for(;!$.done;O++,$=S.next())$=f(y,$.value,T),$!==null&&(x=a($,x,O),k===null?C=$:k.sibling=$,k=$);return Ut&&Do(y,O),C}for(E=r(E);!$.done;O++,$=S.next())$=A(E,y,O,$.value,T),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?O:$.key),x=a($,x,O),k===null?C=$:k.sibling=$,k=$);return t&&E.forEach(function(M){return e(y,M)}),Ut&&Do(y,O),C}function w(y,x,S,T){if(typeof S=="object"&&S!==null&&S.type===Mc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case hm:e:{for(var C=S.key;x!==null;){if(x.key===C){if(C=S.type,C===Mc){if(x.tag===7){n(y,x.sibling),T=i(x,S.props.children),T.return=y,y=T;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ns&&Rl(C)===x.type){n(y,x.sibling),T=i(x,S.props),Qd(T,S),T.return=y,y=T;break e}n(y,x);break}else e(y,x);x=x.sibling}S.type===Mc?(T=Zl(S.props.children,y.mode,T,S.key),T.return=y,y=T):(T=ag(S.type,S.key,S.props,null,y.mode,T),Qd(T,S),T.return=y,y=T)}return o(y);case gh:e:{for(C=S.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),T=i(x,S.children||[]),T.return=y,y=T;break e}else{n(y,x);break}else e(y,x);x=x.sibling}T=Eb(S,y.mode,T),T.return=y,y=T}return o(y);case Ns:return S=Rl(S),w(y,x,S,T)}if(vh(S))return v(y,x,S,T);if(Kd(S)){if(C=Kd(S),typeof C!="function")throw Error(je(150));return S=C.call(S),b(y,x,S,T)}if(typeof S.then=="function")return w(y,x,bm(S),T);if(S.$$typeof===jo)return w(y,x,ym(y,S),T);xm(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),T=i(x,S),T.return=y,y=T):(n(y,x),T=Nb(S,y.mode,T),T.return=y,y=T),o(y)):n(y,x)}return function(y,x,S,T){try{ap=0;var C=w(y,x,S,T);return Zc=null,C}catch(E){if(E===Jf||E===lv)throw E;var k=Pi(29,E,null,y.mode);return k.lanes=T,k.return=y,k}finally{}}}var du=K6(!0),J6=K6(!1),Es=!1;function _5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Tg(t),U6(t,null,n),e}return sv(t,r,e,n),Tg(t)}function kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p6(t,n)}}function Pb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var xx=!1;function Ph(){if(xx){var t=Qc;if(t!==null)throw t}}function Mh(t,e,n,r){xx=!1;var i=t.updateQueue;Es=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane&-536870913,A=h!==s.lane;if(A?($t&h)===h:(r&h)===h){h!==0&&h===hf&&(xx=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,b=s;h=e;var w=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(w,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(w,f,h):v,h==null)break e;f=In({},f,h);break e;case 2:Es=!0}}h=s.callback,h!==null&&(t.flags|=64,A&&(t.flags|=8192),A=i.callbacks,A===null?i.callbacks=[h]:A.push(h))}else A={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=A,l=f):c=c.next=A,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;A=s,s=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),sl|=o,t.lanes=o,t.memoizedState=f}}function X6(t,e){if(typeof t!="function")throw Error(je(191,t));t.call(e)}function Q6(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)X6(n[t],e)}var pf=uo(null),kg=uo(0);function RT(t,e){t=Xo,wn(kg,t),wn(pf,e),Xo=t|e.baseLanes}function wx(){wn(kg,Xo),wn(pf,pf.current)}function T5(){Xo=kg.current,Cr(pf),Cr(kg)}var qi=uo(null),da=null;function Os(t){var e=t.alternate;wn(Xn,Xn.current&1),wn(qi,t),da===null&&(e===null||pf.current!==null||e.memoizedState!==null)&&(da=t)}function Sx(t){wn(Xn,Xn.current),wn(qi,t),da===null&&(da=t)}function Z6(t){t.tag===22?(wn(Xn,Xn.current),wn(qi,t),da===null&&(da=t)):Is()}function Is(){wn(Xn,Xn.current),wn(qi,qi.current)}function ki(t){Cr(qi),da===t&&(da=null),Cr(Xn)}var Xn=uo(0);function Pg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||qx(n)||Hx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yo=0,kt=null,cn=null,ir=null,Mg=!1,ef=!1,hu=!1,Og=0,op=0,tf=null,$B=0;function Un(){throw Error(je(321))}function C5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ui(t[n],e[n]))return!1;return!0}function N5(t,e,n,r,i,a){return Yo=a,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vt.H=t===null||t.memoizedState===null?PM:B5,hu=!1,a=n(r,i),hu=!1,ef&&(a=tM(e,n,r,i)),eM(t),a}function eM(t){vt.H=sp;var e=cn!==null&&cn.next!==null;if(Yo=0,ir=cn=kt=null,Mg=!1,op=0,tf=null,e)throw Error(je(300));t===null||sr||(t=t.dependencies,t!==null&&Ng(t)&&(sr=!0))}function tM(t,e,n,r){kt=t;var i=0;do{if(ef&&(tf=null),op=0,ef=!1,25<=i)throw Error(je(301));if(i+=1,ir=cn=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}vt.H=MM,a=e(n,r)}while(ef);return a}function FB(){var t=vt.H,e=t.useState()[0];return e=typeof e.then=="function"?iA(e):e,t=t.useState()[0],(cn!==null?cn.memoizedState:null)!==t&&(kt.flags|=1024),e}function E5(){var t=Og!==0;return Og=0,t}function k5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function P5(t){if(Mg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Mg=!1}Yo=0,ir=cn=kt=null,ef=!1,op=Og=0,tf=null}function Xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?kt.memoizedState=ir=t:ir=ir.next=t,ir}function Qn(){if(cn===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=ir===null?kt.memoizedState:ir.next;if(e!==null)ir=e,cn=t;else{if(t===null)throw kt.alternate===null?Error(je(467)):Error(je(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},ir===null?kt.memoizedState=ir=t:ir=ir.next=t}return ir}function uv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iA(t){var e=op;return op+=1,tf===null&&(tf=[]),t=Y6(tf,t,e),e=kt,(ir===null?e.memoizedState:ir.next)===null&&(e=e.alternate,vt.H=e===null||e.memoizedState===null?PM:B5),t}function cv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return iA(t);if(t.$$typeof===jo)return Dr(t)}throw Error(je(438,String(t)))}function M5(t){var e=null,n=kt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=kt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=uv(),kt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=T7;return e.index++,n}function Ko(t,e){return typeof e=="function"?e(t):e}function sg(t){var e=Qn();return O5(e,cn,t)}function O5(t,e,n){var r=t.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?($t&f)===f:(Yo&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===hf&&(c=!0);else if((Yo&h)===h){u=u.next,h===hf&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,kt.lanes|=h,sl|=h;f=u.action,hu&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,o=a):l=l.next=h,kt.lanes|=f,sl|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!Ui(a,t.memoizedState)&&(sr=!0,c&&(n=Qc,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Mb(t){var e=Qn(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ui(a,e.memoizedState)||(sr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function nM(t,e,n){var r=kt,i=Qn(),a=Ut;if(a){if(n===void 0)throw Error(je(407));n=n()}else n=e();var o=!Ui((cn||i).memoizedState,n);if(o&&(i.memoizedState=n,sr=!0),i=i.queue,I5(aM.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,Af(9,{destroy:void 0},iM.bind(null,r,i,n,e),null),An===null)throw Error(je(349));a||Yo&127||rM(r,e,n)}return n}function rM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e=uv(),kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iM(t,e,n,r){e.value=n,e.getSnapshot=r,oM(e)&&sM(t)}function aM(t,e,n){return n(function(){oM(e)&&sM(t)})}function oM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ui(t,n)}catch{return!0}}function sM(t){var e=Tu(t,2);e!==null&&mi(e,t,2)}function _x(t){var e=Xr();if(typeof t=="function"){var n=t;if(t=n(),hu){Bs(!0);try{n()}finally{Bs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:t},e}function lM(t,e,n,r){return t.baseState=n,O5(t,cn,typeof r=="function"?r:Ko)}function UB(t,e,n,r,i){if(dv(t))throw Error(je(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};vt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,uM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function uM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=vt.T,o={};vt.T=o;try{var s=n(i,r),l=vt.S;l!==null&&l(o,s),BT(t,e,s)}catch(u){Tx(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),vt.T=a}}else try{a=n(i,r),BT(t,e,a)}catch(u){Tx(t,e,u)}}function BT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){$T(t,e,r)},function(r){return Tx(t,e,r)}):$T(t,e,n)}function $T(t,e,n){e.status="fulfilled",e.value=n,cM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,uM(t,n)))}function Tx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,cM(e),e=e.next;while(e!==r)}t.action=null}function cM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function fM(t,e){return e}function FT(t,e){if(Ut){var n=An.formState;if(n!==null){e:{var r=kt;if(Ut){if(Pn){t:{for(var i=Pn,a=ua;i.nodeType!==8;){if(!a){i=null;break t}if(i=ha(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Pn=ha(i.nextSibling),r=i.data==="F!";break e}}al(r)}r=!1}r&&(e=n[0])}}return n=Xr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fM,lastRenderedState:e},n.queue=r,n=NM.bind(null,kt,r),r.dispatch=n,r=_x(!1),a=R5.bind(null,kt,!1,r.queue),r=Xr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=UB.bind(null,kt,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function UT(t){var e=Qn();return dM(e,cn,t)}function dM(t,e,n){if(e=O5(t,e,fM)[0],t=sg(Ko)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=iA(e)}catch(o){throw o===Jf?lv:o}else r=e;e=Qn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(kt.flags|=2048,Af(9,{destroy:void 0},qB.bind(null,i,n),null)),[r,a,t]}function qB(t,e){t.action=e}function qT(t){var e=Qn(),n=cn;if(n!==null)return dM(e,n,t);Qn(),e=e.memoizedState,n=Qn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Af(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=kt.updateQueue,e===null&&(e=uv(),kt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function hM(){return Qn().memoizedState}function lg(t,e,n,r){var i=Xr();kt.flags|=t,i.memoizedState=Af(1|e,{destroy:void 0},n,r===void 0?null:r)}function fv(t,e,n,r){var i=Qn();r=r===void 0?null:r;var a=i.memoizedState.inst;cn!==null&&r!==null&&C5(r,cn.memoizedState.deps)?i.memoizedState=Af(e,a,n,r):(kt.flags|=t,i.memoizedState=Af(1|e,a,n,r))}function HT(t,e){lg(8390656,8,t,e)}function I5(t,e){fv(2048,8,t,e)}function HB(t){kt.flags|=4;var e=kt.updateQueue;if(e===null)e=uv(),kt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function pM(t){var e=Qn().memoizedState;return HB({ref:e,nextImpl:t}),function(){if(Kt&2)throw Error(je(440));return e.impl.apply(void 0,arguments)}}function AM(t,e){return fv(4,2,t,e)}function mM(t,e){return fv(4,4,t,e)}function gM(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vM(t,e,n){n=n!=null?n.concat([t]):null,fv(4,4,gM.bind(null,e,t),n)}function D5(){}function yM(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&C5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bM(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&C5(e,r[1]))return r[0];if(r=t(),hu){Bs(!0);try{t()}finally{Bs(!1)}}return n.memoizedState=[r,e],r}function L5(t,e,n){return n===void 0||Yo&1073741824&&!($t&261930)?t.memoizedState=e:(t.memoizedState=n,t=lO(),kt.lanes|=t,sl|=t,n)}function xM(t,e,n,r){return Ui(n,e)?n:pf.current!==null?(t=L5(t,n,r),Ui(t,e)||(sr=!0),t):!(Yo&42)||Yo&1073741824&&!($t&261930)?(sr=!0,t.memoizedState=n):(t=lO(),kt.lanes|=t,sl|=t,e)}function wM(t,e,n,r,i){var a=Jt.p;Jt.p=a!==0&&8>a?a:8;var o=vt.T,s={};vt.T=s,R5(t,!1,e,n);try{var l=i(),u=vt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=BB(l,r);Oh(t,e,c,Bi(t))}else Oh(t,e,r,Bi(t))}catch(f){Oh(t,e,{then:function(){},status:"rejected",reason:f},Bi())}finally{Jt.p=a,o!==null&&s.types!==null&&(o.types=s.types),vt.T=o}}function zB(){}function Cx(t,e,n,r){if(t.tag!==5)throw Error(je(476));var i=SM(t).queue;wM(t,i,e,Ql,n===null?zB:function(){return _M(t),n(r)})}function SM(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ql,baseState:Ql,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:Ql},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function _M(t){var e=SM(t);e.next===null&&(e=t.alternate.memoizedState),Oh(t,e.next.queue,{},Bi())}function j5(){return Dr(cp)}function TM(){return Qn().memoizedState}function CM(){return Qn().memoizedState}function VB(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Bi();t=Ws(n);var r=Ys(e,t,n);r!==null&&(mi(r,e,n),kh(r,e,n)),e={cache:x5()},t.payload=e;return}e=e.return}}function GB(t,e,n){var r=Bi();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},dv(t)?EM(e,n):(n=g5(t,e,n,r),n!==null&&(mi(n,t,r),kM(n,e,r)))}function NM(t,e,n){var r=Bi();Oh(t,e,n,r)}function Oh(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(dv(t))EM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Ui(s,o))return sv(t,e,i,0),An===null&&ov(),!1}catch{}finally{}if(n=g5(t,e,i,r),n!==null)return mi(n,t,r),kM(n,e,r),!0}return!1}function R5(t,e,n,r){if(r={lane:2,revertLane:G5(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},dv(t)){if(e)throw Error(je(479))}else e=g5(t,n,r,2),e!==null&&mi(e,t,2)}function dv(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function EM(t,e){ef=Mg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kM(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p6(t,n)}}var sp={readContext:Dr,use:cv,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un};sp.useEffectEvent=Un;var PM={readContext:Dr,use:cv,useCallback:function(t,e){return Xr().memoizedState=[t,e===void 0?null:e],t},useContext:Dr,useEffect:HT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,lg(4194308,4,gM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lg(4194308,4,t,e)},useInsertionEffect:function(t,e){lg(4,2,t,e)},useMemo:function(t,e){var n=Xr();e=e===void 0?null:e;var r=t();if(hu){Bs(!0);try{t()}finally{Bs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Xr();if(n!==void 0){var i=n(e);if(hu){Bs(!0);try{n(e)}finally{Bs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=GB.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=Xr();return t={current:t},e.memoizedState=t},useState:function(t){t=_x(t);var e=t.queue,n=NM.bind(null,kt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:D5,useDeferredValue:function(t,e){var n=Xr();return L5(n,t,e)},useTransition:function(){var t=_x(!1);return t=wM.bind(null,kt,t.queue,!0,!1),Xr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=kt,i=Xr();if(Ut){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),An===null)throw Error(je(349));$t&127||rM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,HT(aM.bind(null,r,a,t),[t]),r.flags|=2048,Af(9,{destroy:void 0},iM.bind(null,r,a,n,e),null),n},useId:function(){var t=Xr(),e=An.identifierPrefix;if(Ut){var n=eo,r=Za;n=(r&~(1<<32-Ri(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Og++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=$B++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:j5,useFormState:FT,useActionState:FT,useOptimistic:function(t){var e=Xr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=R5.bind(null,kt,!0,n),n.dispatch=e,[t,e]},useMemoCache:M5,useCacheRefresh:function(){return Xr().memoizedState=VB.bind(null,kt)},useEffectEvent:function(t){var e=Xr(),n={impl:t};return e.memoizedState=n,function(){if(Kt&2)throw Error(je(440));return n.impl.apply(void 0,arguments)}}},B5={readContext:Dr,use:cv,useCallback:yM,useContext:Dr,useEffect:I5,useImperativeHandle:vM,useInsertionEffect:AM,useLayoutEffect:mM,useMemo:bM,useReducer:sg,useRef:hM,useState:function(){return sg(Ko)},useDebugValue:D5,useDeferredValue:function(t,e){var n=Qn();return xM(n,cn.memoizedState,t,e)},useTransition:function(){var t=sg(Ko)[0],e=Qn().memoizedState;return[typeof t=="boolean"?t:iA(t),e]},useSyncExternalStore:nM,useId:TM,useHostTransitionStatus:j5,useFormState:UT,useActionState:UT,useOptimistic:function(t,e){var n=Qn();return lM(n,cn,t,e)},useMemoCache:M5,useCacheRefresh:CM};B5.useEffectEvent=pM;var MM={readContext:Dr,use:cv,useCallback:yM,useContext:Dr,useEffect:I5,useImperativeHandle:vM,useInsertionEffect:AM,useLayoutEffect:mM,useMemo:bM,useReducer:Mb,useRef:hM,useState:function(){return Mb(Ko)},useDebugValue:D5,useDeferredValue:function(t,e){var n=Qn();return cn===null?L5(n,t,e):xM(n,cn.memoizedState,t,e)},useTransition:function(){var t=Mb(Ko)[0],e=Qn().memoizedState;return[typeof t=="boolean"?t:iA(t),e]},useSyncExternalStore:nM,useId:TM,useHostTransitionStatus:j5,useFormState:qT,useActionState:qT,useOptimistic:function(t,e){var n=Qn();return cn!==null?lM(n,cn,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:M5,useCacheRefresh:CM};MM.useEffectEvent=pM;function Ob(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:In({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nx={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bi(),i=Ws(r);i.payload=e,n!=null&&(i.callback=n),e=Ys(t,i,r),e!==null&&(mi(e,t,r),kh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bi(),i=Ws(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ys(t,i,r),e!==null&&(mi(e,t,r),kh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bi(),r=Ws(n);r.tag=2,e!=null&&(r.callback=e),e=Ys(t,r,n),e!==null&&(mi(e,t,n),kh(e,t,n))}};function zT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!np(n,r)||!np(i,a):!0}function VT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nx.enqueueReplaceState(e,e.state,null)}function pu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=In({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function OM(t){_g(t)}function IM(t){console.error(t)}function DM(t){_g(t)}function Ig(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function GT(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Ex(t,e,n){return n=Ws(n),n.tag=3,n.payload={element:null},n.callback=function(){Ig(t,e)},n}function LM(t){return t=Ws(t),t.tag=3,t}function jM(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){GT(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){GT(e,n,r),typeof i!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function WB(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Kf(e,n,i,!0),n=qi.current,n!==null){switch(n.tag){case 31:case 13:return da===null?Bg():n.alternate===null&&zn===0&&(zn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Eg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Hb(t,r,i)),!1;case 22:return n.flags|=65536,r===Eg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Hb(t,r,i)),!1}throw Error(je(435,n.tag))}return Hb(t,r,i),Bg(),!1}if(Ut)return e=qi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Ax&&(t=Error(je(422),{cause:r}),ip(la(t,n)))):(r!==Ax&&(e=Error(je(423),{cause:r}),ip(la(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=la(r,n),i=Ex(t.stateNode,r,i),Pb(t,i),zn!==4&&(zn=2)),!1;var a=Error(je(520),{cause:r});if(a=la(a,n),Lh===null?Lh=[a]:Lh.push(a),zn!==4&&(zn=2),e===null)return!0;r=la(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Ex(n.stateNode,r,t),Pb(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ks===null||!Ks.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=LM(i),jM(i,t,n,r),Pb(n,i),!1}n=n.return}while(n!==null);return!1}var $5=Error(je(461)),sr=!1;function Mr(t,e,n,r){e.child=t===null?J6(e,null,n,r):du(e,t.child,n,r)}function WT(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return fu(e),r=N5(t,e,n,o,a,i),s=E5(),t!==null&&!sr?(k5(t,e,i),Jo(t,e,i)):(Ut&&s&&y5(e),e.flags|=1,Mr(t,e,r,i),e.child)}function YT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!v5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,RM(t,e,a,r,i)):(t=ag(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!F5(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:np,n(o,r)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=qo(a,r),t.ref=e.ref,t.return=e,e.child=t}function RM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(np(a,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=a,F5(t,i))t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return kx(t,e,n,r,i)}function BM(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return KT(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&og(e,a!==null?a.cachePool:null),a!==null?RT(e,a):wx(),Z6(e);else return r=e.lanes=536870912,KT(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(og(e,a.cachePool),RT(e,a),Is(),e.memoizedState=null):(t!==null&&og(e,null),wx(),Is());return Mr(t,e,i,n),e.child}function bh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function KT(t,e,n,r,i){var a=w5();return a=a===null?null:{parent:or._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&og(e,null),wx(),Z6(e),t!==null&&Kf(t,e,r,!0),e.childLanes=i,null}function ug(t,e){return e=Dg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function JT(t,e,n){return du(e,t.child,null,n),t=ug(e,e.pendingProps),t.flags|=2,ki(e),e.memoizedState=null,t}function YB(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ut){if(r.mode==="hidden")return t=ug(e,r),e.lanes=536870912,bh(null,t);if(Sx(e),(t=Pn)?(t=PO(t,ua),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:il!==null?{id:Za,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},n=H6(t),n.return=e,e.child=n,Ir=e,Pn=null)):t=null,t===null)throw al(e);return e.lanes=536870912,null}return ug(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(Sx(e),i)if(e.flags&256)e.flags&=-257,e=JT(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(je(558));else if(sr||Kf(t,e,n,!1),i=(n&t.childLanes)!==0,sr||i){if(r=An,r!==null&&(o=A6(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,Tu(t,o),mi(r,t,o),$5;Bg(),e=JT(t,e,n)}else t=a.treeContext,Pn=ha(o.nextSibling),Ir=e,Ut=!0,Gs=null,ua=!1,t!==null&&V6(e,t),e=ug(e,r),e.flags|=4096;return e}return t=qo(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function cg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(je(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function kx(t,e,n,r,i){return fu(e),n=N5(t,e,n,r,void 0,i),r=E5(),t!==null&&!sr?(k5(t,e,i),Jo(t,e,i)):(Ut&&r&&y5(e),e.flags|=1,Mr(t,e,n,i),e.child)}function XT(t,e,n,r,i,a){return fu(e),e.updateQueue=null,n=tM(e,r,n,i),eM(t),r=E5(),t!==null&&!sr?(k5(t,e,a),Jo(t,e,a)):(Ut&&r&&y5(e),e.flags|=1,Mr(t,e,n,a),e.child)}function QT(t,e,n,r,i){if(fu(e),e.stateNode===null){var a=$c,o=n.contextType;typeof o=="object"&&o!==null&&(a=Dr(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Nx,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},_5(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Dr(o):$c,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Ob(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Nx.enqueueReplaceState(a,a.state,null),Mh(e,r,a,i),Ph(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=pu(n,s);a.props=l;var u=a.context,c=n.contextType;o=$c,typeof c=="object"&&c!==null&&(o=Dr(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&VT(e,a,r,o),Es=!1;var h=e.memoizedState;a.state=h,Mh(e,r,a,i),Ph(),u=e.memoizedState,s||h!==u||Es?(typeof f=="function"&&(Ob(e,n,f,r),u=e.memoizedState),(l=Es||zT(e,n,l,r,h,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,bx(t,e),o=e.memoizedProps,c=pu(n,o),a.props=c,f=e.pendingProps,h=a.context,u=n.contextType,l=$c,typeof u=="object"&&u!==null&&(l=Dr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&VT(e,a,r,l),Es=!1,h=e.memoizedState,a.state=h,Mh(e,r,a,i),Ph();var A=e.memoizedState;o!==f||h!==A||Es||t!==null&&t.dependencies!==null&&Ng(t.dependencies)?(typeof s=="function"&&(Ob(e,n,s,r),A=e.memoizedState),(c=Es||zT(e,n,c,r,h,A,l)||t!==null&&t.dependencies!==null&&Ng(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,A,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,A,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),a.props=r,a.state=A,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,cg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=du(e,t.child,null,i),e.child=du(e,null,n,i)):Mr(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Jo(t,e,i),t}function ZT(t,e,n,r){return cu(),e.flags|=256,Mr(t,e,n,r),e.child}var Ib={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Db(t){return{baseLanes:t,cachePool:W6()}}function Lb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ii),t}function $M(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(Xn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ut){if(i?Os(e):Is(),(t=Pn)?(t=PO(t,ua),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:il!==null?{id:Za,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},n=H6(t),n.return=e,e.child=n,Ir=e,Pn=null)):t=null,t===null)throw al(e);return Hx(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Is(),i=e.mode,s=Dg({mode:"hidden",children:s},i),r=Zl(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Db(n),r.childLanes=Lb(t,o,n),e.memoizedState=Ib,bh(null,r)):(Os(e),Px(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(Os(e),e.flags&=-257,e=jb(t,e,n)):e.memoizedState!==null?(Is(),e.child=t.child,e.flags|=128,e=null):(Is(),s=r.fallback,i=e.mode,r=Dg({mode:"visible",children:r.children},i),s=Zl(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,du(e,t.child,null,n),r=e.child,r.memoizedState=Db(n),r.childLanes=Lb(t,o,n),e.memoizedState=Ib,e=bh(null,r));else if(Os(e),Hx(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(je(419)),r.stack="",r.digest=o,ip({value:r,source:null,stack:null}),e=jb(t,e,n)}else if(sr||Kf(t,e,n,!1),o=(n&t.childLanes)!==0,sr||o){if(o=An,o!==null&&(r=A6(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Tu(t,r),mi(o,t,r),$5;qx(s)||Bg(),e=jb(t,e,n)}else qx(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Pn=ha(s.nextSibling),Ir=e,Ut=!0,Gs=null,ua=!1,t!==null&&V6(e,t),e=Px(e,r.children),e.flags|=4096);return e}return i?(Is(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=qo(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=qo(u,s):(s=Zl(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,bh(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Db(n):(i=s.cachePool,i!==null?(l=or._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=W6(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Lb(t,o,n),e.memoizedState=Ib,bh(t.child,r)):(Os(e),n=t.child,t=n.sibling,n=qo(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Px(t,e){return e=Dg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Dg(t,e){return t=Pi(22,t,null,e),t.lanes=0,t}function jb(t,e,n){return du(e,t.child,null,n),t=Px(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gx(t.return,e,n)}function Rb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function FM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Xn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,wn(Xn,o),Mr(t,e,r,n),r=Ut?rp:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eC(t,n,e);else if(t.tag===19)eC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rb(e,!0,n,null,a,r);break;case"together":Rb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sl|=e.lanes,!(n&e.childLanes))if(t!==null){if(Kf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ng(t)))}function KB(t,e,n){switch(e.tag){case 3:bg(e,e.stateNode.containerInfo),Ms(e,or,t.memoizedState.cache),cu();break;case 27:case 5:ix(e);break;case 4:bg(e,e.stateNode.containerInfo);break;case 10:Ms(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Sx(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Os(e),e.flags|=128,null):n&e.child.childLanes?$M(t,e,n):(Os(e),t=Jo(t,e,n),t!==null?t.sibling:null);Os(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Kf(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return FM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Xn,Xn.current),r)break;return null;case 22:return e.lanes=0,BM(t,e,n,e.pendingProps);case 24:Ms(e,or,t.memoizedState.cache)}return Jo(t,e,n)}function UM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)sr=!0;else{if(!F5(t,n)&&!(e.flags&128))return sr=!1,KB(t,e,n);sr=!!(t.flags&131072)}else sr=!1,Ut&&e.flags&1048576&&z6(e,rp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Rl(e.elementType),e.type=t,typeof t=="function")v5(t)?(r=pu(t,r),e.tag=1,e=QT(null,e,t,r,n)):(e.tag=0,e=kx(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===i5){e.tag=11,e=WT(null,e,t,r,n);break e}else if(i===a5){e.tag=14,e=YT(null,e,t,r,n);break e}}throw e=nx(t)||t,Error(je(306,e,""))}}return e;case 0:return kx(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=pu(r,e.pendingProps),QT(t,e,r,i,n);case 3:e:{if(bg(e,e.stateNode.containerInfo),t===null)throw Error(je(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,bx(t,e),Mh(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Ms(e,or,r),r!==a.cache&&vx(e,[or],n,!0),Ph(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=ZT(t,e,r,n);break e}else if(r!==i){i=la(Error(je(424)),e),ip(i),e=ZT(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pn=ha(t.firstChild),Ir=e,Ut=!0,Gs=null,ua=!0,n=J6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(cu(),r===i){e=Jo(t,e,n);break e}Mr(t,e,r,n)}e=e.child}return e;case 26:return cg(t,e),t===null?(n=bC(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ut||(n=e.type,t=e.pendingProps,r=qg(Vs.current).createElement(n),r[Or]=e,r[gi]=t,Lr(r,n,t),_r(r),e.stateNode=r):e.memoizedState=bC(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ix(e),t===null&&Ut&&(r=e.stateNode=MO(e.type,e.pendingProps,Vs.current),Ir=e,ua=!0,i=Pn,dl(e.type)?(zx=i,Pn=ha(r.firstChild)):Pn=i),Mr(t,e,e.pendingProps.children,n),cg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ut&&((i=r=Pn)&&(r=T$(r,e.type,e.pendingProps,ua),r!==null?(e.stateNode=r,Ir=e,Pn=ha(r.firstChild),ua=!1,i=!0):i=!1),i||al(e)),ix(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,Fx(i,a)?r=null:o!==null&&Fx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=N5(t,e,FB,null,null,n),cp._currentValue=i),cg(t,e),Mr(t,e,r,n),e.child;case 6:return t===null&&Ut&&((t=n=Pn)&&(n=C$(n,e.pendingProps,ua),n!==null?(e.stateNode=n,Ir=e,Pn=null,t=!0):t=!1),t||al(e)),null;case 13:return $M(t,e,n);case 4:return bg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=du(e,null,r,n):Mr(t,e,r,n),e.child;case 11:return WT(t,e,e.type,e.pendingProps,n);case 7:return Mr(t,e,e.pendingProps,n),e.child;case 8:return Mr(t,e,e.pendingProps.children,n),e.child;case 12:return Mr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ms(e,e.type,r.value),Mr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,fu(e),i=Dr(i),r=r(i),e.flags|=1,Mr(t,e,r,n),e.child;case 14:return YT(t,e,e.type,e.pendingProps,n);case 15:return RM(t,e,e.type,e.pendingProps,n);case 19:return FM(t,e,n);case 31:return YB(t,e,n);case 22:return BM(t,e,n,e.pendingProps);case 24:return fu(e),r=Dr(or),t===null?(i=w5(),i===null&&(i=An,a=x5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},_5(e),Ms(e,or,i)):(t.lanes&n&&(bx(t,e),Mh(e,null,null,n),Ph()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ms(e,or,r)):(r=a.cache,Ms(e,or,r),r!==i.cache&&vx(e,[or],n,!0))),Mr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(je(156,e.tag))}function Co(t){t.flags|=4}function Bb(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(fO())t.flags|=8192;else throw tu=Eg,S5}else t.flags&=-16777217}function tC(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!DO(e))if(fO())t.flags|=8192;else throw tu=Eg,S5}function wm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?d6():536870912,t.lanes|=e,mf|=e)}function Zd(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JB(t,e,n){var r=e.pendingProps;switch(b5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(e),null;case 1:return Cn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ho(or),cf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fc(e)?Co(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kb())),Cn(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Co(e),a!==null?(Cn(e),tC(e,a)):(Cn(e),Bb(e,i,null,r,n))):a?a!==t.memoizedState?(Co(e),Cn(e),tC(e,a)):(Cn(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Co(e),Cn(e),Bb(e,i,t,r,n)),null;case 27:if(xg(e),n=Vs.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Co(e);else{if(!r){if(e.stateNode===null)throw Error(je(166));return Cn(e),null}t=io.current,fc(e)?PT(e):(t=MO(i,r,n),e.stateNode=t,Co(e))}return Cn(e),null;case 5:if(xg(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Co(e);else{if(!r){if(e.stateNode===null)throw Error(je(166));return Cn(e),null}if(a=io.current,fc(e))PT(e);else{var o=qg(Vs.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Or]=e,a[gi]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(Lr(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Co(e)}}return Cn(e),Bb(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Co(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(t=Vs.current,fc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Ir,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Or]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||NO(t.nodeValue,n)),t||al(e,!0)}else t=qg(t).createTextNode(r),t[Or]=e,e.stateNode=t}return Cn(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=fc(e),n!==null){if(t===null){if(!r)throw Error(je(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(557));t[Or]=e}else cu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cn(e),t=!1}else n=kb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ki(e),e):(ki(e),null);if(e.flags&128)throw Error(je(558))}return Cn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(je(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(je(317));i[Or]=e}else cu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cn(e),i=!1}else i=kb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ki(e),e):(ki(e),null)}return ki(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),wm(e,e.updateQueue),Cn(e),null);case 4:return cf(),t===null&&W5(e.stateNode.containerInfo),Cn(e),null;case 10:return Ho(e.type),Cn(e),null;case 19:if(Cr(Xn),r=e.memoizedState,r===null)return Cn(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Zd(r,!1);else{if(zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Pg(t),a!==null){for(e.flags|=128,Zd(r,!1),t=a.updateQueue,e.updateQueue=t,wm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)q6(n,t),n=n.sibling;return wn(Xn,Xn.current&1|2),Ut&&Do(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Li()>jg&&(e.flags|=128,i=!0,Zd(r,!1),e.lanes=4194304)}else{if(!i)if(t=Pg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,wm(e,t),Zd(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ut)return Cn(e),null}else 2*Li()-r.renderingStartTime>jg&&n!==536870912&&(e.flags|=128,i=!0,Zd(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Li(),t.sibling=null,n=Xn.current,wn(Xn,i?n&1|2:n&1),Ut&&Do(e,r.treeForkCount),t):(Cn(e),null);case 22:case 23:return ki(e),T5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Cn(e),e.subtreeFlags&6&&(e.flags|=8192)):Cn(e),n=e.updateQueue,n!==null&&wm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Cr(eu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ho(or),Cn(e),null;case 25:return null;case 30:return null}throw Error(je(156,e.tag))}function XB(t,e){switch(b5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ho(or),cf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return xg(e),null;case 31:if(e.memoizedState!==null){if(ki(e),e.alternate===null)throw Error(je(340));cu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ki(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));cu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cr(Xn),null;case 4:return cf(),null;case 10:return Ho(e.type),null;case 22:case 23:return ki(e),T5(),t!==null&&Cr(eu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ho(or),null;case 25:return null;default:return null}}function qM(t,e){switch(b5(e),e.tag){case 3:Ho(or),cf();break;case 26:case 27:case 5:xg(e);break;case 4:cf();break;case 31:e.memoizedState!==null&&ki(e);break;case 13:ki(e);break;case 19:Cr(Xn);break;case 10:Ho(e.type);break;case 22:case 23:ki(e),T5(),t!==null&&Cr(eu);break;case 24:Ho(or)}}function aA(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){nn(e,e.return,s)}}function ol(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){nn(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){nn(e,e.return,c)}}function HM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Q6(e,n)}catch(r){nn(t,t.return,r)}}}function zM(t,e,n){n.props=pu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){nn(t,e,r)}}function Ih(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){nn(t,e,i)}}function to(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){nn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){nn(t,e,i)}else n.current=null}function VM(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){nn(t,t.return,i)}}function $b(t,e,n){try{var r=t.stateNode;y$(r,t.type,n,e),r[gi]=e}catch(i){nn(t,t.return,i)}}function GM(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dl(t.type)||t.tag===4}function Fb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ro));else if(r!==4&&(r===27&&dl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Mx(t,e,n),t=t.sibling;t!==null;)Mx(t,e,n),t=t.sibling}function Lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&dl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}function WM(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Lr(e,r,n),e[Or]=t,e[gi]=n}catch(a){nn(t,t.return,a)}}var Lo=!1,ar=!1,Ub=!1,nC=typeof WeakSet=="function"?WeakSet:Set,Sr=null;function QB(t,e){if(t=t.containerInfo,Bx=Gg,t=D6(t),A5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var A;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(A=f.firstChild)!==null;)h=f,f=A;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(A=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=A}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($x={focusedElem:t,selectionRange:n},Gg=!1,Sr=e;Sr!==null;)if(e=Sr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Sr=t;else for(;Sr!==null;){switch(e=Sr,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=pu(n.type,i);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){nn(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ux(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ux(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(je(163))}if(t=e.sibling,t!==null){t.return=e.return,Sr=t;break}Sr=e.return}}function YM(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Eo(t,n),r&4&&aA(5,n);break;case 1:if(Eo(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){nn(n,n.return,o)}else{var i=pu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){nn(n,n.return,o)}}r&64&&HM(n),r&512&&Ih(n,n.return);break;case 3:if(Eo(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Q6(t,e)}catch(o){nn(n,n.return,o)}}break;case 27:e===null&&r&4&&WM(n);case 26:case 5:Eo(t,n),e===null&&r&4&&VM(n),r&512&&Ih(n,n.return);break;case 12:Eo(t,n);break;case 31:Eo(t,n),r&4&&XM(t,n);break;case 13:Eo(t,n),r&4&&QM(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=s$.bind(null,n),N$(t,n))));break;case 22:if(r=n.memoizedState!==null||Lo,!r){e=e!==null&&e.memoizedState!==null||ar,i=Lo;var a=ar;Lo=r,(ar=e)&&!a?Mo(t,n,(n.subtreeFlags&8772)!==0):Eo(t,n),Lo=i,ar=a}break;case 30:break;default:Eo(t,n)}}function KM(t){var e=t.alternate;e!==null&&(t.alternate=null,KM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&u5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dn=null,di=!1;function No(t,e,n){for(n=n.child;n!==null;)JM(t,e,n),n=n.sibling}function JM(t,e,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Qp,n)}catch{}switch(n.tag){case 26:ar||to(n,e),No(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ar||to(n,e);var r=Dn,i=di;dl(n.type)&&(Dn=n.stateNode,di=!1),No(t,e,n),Rh(n.stateNode),Dn=r,di=i;break;case 5:ar||to(n,e);case 6:if(r=Dn,i=di,Dn=null,No(t,e,n),Dn=r,di=i,Dn!==null)if(di)try{(Dn.nodeType===9?Dn.body:Dn.nodeName==="HTML"?Dn.ownerDocument.body:Dn).removeChild(n.stateNode)}catch(a){nn(n,e,a)}else try{Dn.removeChild(n.stateNode)}catch(a){nn(n,e,a)}break;case 18:Dn!==null&&(di?(t=Dn,AC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),bf(t)):AC(Dn,n.stateNode));break;case 4:r=Dn,i=di,Dn=n.stateNode.containerInfo,di=!0,No(t,e,n),Dn=r,di=i;break;case 0:case 11:case 14:case 15:ol(2,n,e),ar||ol(4,n,e),No(t,e,n);break;case 1:ar||(to(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&zM(n,e,r)),No(t,e,n);break;case 21:No(t,e,n);break;case 22:ar=(r=ar)||n.memoizedState!==null,No(t,e,n),ar=r;break;default:No(t,e,n)}}function XM(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bf(t)}catch(n){nn(e,e.return,n)}}}function QM(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bf(t)}catch(n){nn(e,e.return,n)}}function ZB(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new nC),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new nC),e;default:throw Error(je(435,t.tag))}}function Sm(t,e){var n=ZB(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=l$.bind(null,t,r);r.then(i,i)}})}function ui(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(dl(s.type)){Dn=s.stateNode,di=!1;break e}break;case 5:Dn=s.stateNode,di=!1;break e;case 3:case 4:Dn=s.stateNode.containerInfo,di=!0;break e}s=s.return}if(Dn===null)throw Error(je(160));JM(a,o,i),Dn=null,di=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ZM(e,t),e=e.sibling}var Ia=null;function ZM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ui(e,t),ci(t),r&4&&(ol(3,t,t.return),aA(3,t),ol(5,t,t.return));break;case 1:ui(e,t),ci(t),r&512&&(ar||n===null||to(n,n.return)),r&64&&Lo&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ia;if(ui(e,t),ci(t),r&512&&(ar||n===null||to(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[tA]||a[Or]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Lr(a,r,n),a[Or]=t,_r(a),r=a;break e;case"link":var o=wC("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Lr(a,r,n),i.head.appendChild(a);break;case"meta":if(o=wC("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Lr(a,r,n),i.head.appendChild(a);break;default:throw Error(je(468,r))}a[Or]=t,_r(a),r=a}t.stateNode=r}else SC(i,t.type,t.stateNode);else t.stateNode=xC(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?SC(i,t.type,t.stateNode):xC(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&$b(t,t.memoizedProps,n.memoizedProps)}break;case 27:ui(e,t),ci(t),r&512&&(ar||n===null||to(n,n.return)),n!==null&&r&4&&$b(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ui(e,t),ci(t),r&512&&(ar||n===null||to(n,n.return)),t.flags&32){i=t.stateNode;try{df(i,"")}catch(v){nn(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,$b(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Ub=!0);break;case 6:if(ui(e,t),ci(t),r&4){if(t.stateNode===null)throw Error(je(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){nn(t,t.return,v)}}break;case 3:if(hg=null,i=Ia,Ia=Hg(e.containerInfo),ui(e,t),Ia=i,ci(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bf(e.containerInfo)}catch(v){nn(t,t.return,v)}Ub&&(Ub=!1,eO(t));break;case 4:r=Ia,Ia=Hg(t.stateNode.containerInfo),ui(e,t),ci(t),Ia=r;break;case 12:ui(e,t),ci(t);break;case 31:ui(e,t),ci(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Sm(t,r)));break;case 13:ui(e,t),ci(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hv=Li()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Sm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Lo,c=ar;if(Lo=u||i,ar=c||l,ui(e,t),ar=c,Lo=u,ci(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Lo||ar||Bl(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){nn(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){nn(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var A=l.stateNode;i?mC(A,!0):mC(l.stateNode,!1)}catch(v){nn(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Sm(t,n))));break;case 19:ui(e,t),ci(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Sm(t,r)));break;case 30:break;case 21:break;default:ui(e,t),ci(t)}}function ci(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(GM(r)){n=r;break}r=r.return}if(n==null)throw Error(je(160));switch(n.tag){case 27:var i=n.stateNode,a=Fb(t);Lg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(df(o,""),n.flags&=-33);var s=Fb(t);Lg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Fb(t);Mx(t,u,l);break;default:throw Error(je(161))}}catch(c){nn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;eO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Eo(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)YM(t,e.alternate,e),e=e.sibling}function Bl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ol(4,e,e.return),Bl(e);break;case 1:to(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&zM(e,e.return,n),Bl(e);break;case 27:Rh(e.stateNode);case 26:case 5:to(e,e.return),Bl(e);break;case 22:e.memoizedState===null&&Bl(e);break;case 30:Bl(e);break;default:Bl(e)}t=t.sibling}}function Mo(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:Mo(i,a,n),aA(4,a);break;case 1:if(Mo(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){nn(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)X6(l[i],s)}catch(u){nn(r,r.return,u)}}n&&o&64&&HM(a),Ih(a,a.return);break;case 27:WM(a);case 26:case 5:Mo(i,a,n),n&&r===null&&o&4&&VM(a),Ih(a,a.return);break;case 12:Mo(i,a,n);break;case 31:Mo(i,a,n),n&&o&4&&XM(i,a);break;case 13:Mo(i,a,n),n&&o&4&&QM(i,a);break;case 22:a.memoizedState===null&&Mo(i,a,n),Ih(a,a.return);break;case 30:break;default:Mo(i,a,n)}e=e.sibling}}function U5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&rA(n))}function q5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rA(t))}function Ea(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tO(t,e,n,r),e=e.sibling}function tO(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ea(t,e,n,r),i&2048&&aA(9,e);break;case 1:Ea(t,e,n,r);break;case 3:Ea(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rA(t)));break;case 12:if(i&2048){Ea(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){nn(e,e.return,l)}}else Ea(t,e,n,r);break;case 31:Ea(t,e,n,r);break;case 13:Ea(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?Ea(t,e,n,r):Dh(t,e):a._visibility&2?Ea(t,e,n,r):(a._visibility|=2,_c(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&U5(o,e);break;case 24:Ea(t,e,n,r),i&2048&&q5(e.alternate,e);break;default:Ea(t,e,n,r)}}function _c(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:_c(a,o,s,l,i),aA(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?_c(a,o,s,l,i):Dh(a,o):(c._visibility|=2,_c(a,o,s,l,i)),i&&u&2048&&U5(o.alternate,o);break;case 24:_c(a,o,s,l,i),i&&u&2048&&q5(o.alternate,o);break;default:_c(a,o,s,l,i)}e=e.sibling}}function Dh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Dh(n,r),i&2048&&U5(r.alternate,r);break;case 24:Dh(n,r),i&2048&&q5(r.alternate,r);break;default:Dh(n,r)}e=e.sibling}}var xh=8192;function dc(t,e,n){if(t.subtreeFlags&xh)for(t=t.child;t!==null;)nO(t,e,n),t=t.sibling}function nO(t,e,n){switch(t.tag){case 26:dc(t,e,n),t.flags&xh&&t.memoizedState!==null&&$$(n,Ia,t.memoizedState,t.memoizedProps);break;case 5:dc(t,e,n);break;case 3:case 4:var r=Ia;Ia=Hg(t.stateNode.containerInfo),dc(t,e,n),Ia=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=xh,xh=16777216,dc(t,e,n),xh=r):dc(t,e,n));break;default:dc(t,e,n)}}function rO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function eh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Sr=r,aO(r,t)}rO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iO(t),t=t.sibling}function iO(t){switch(t.tag){case 0:case 11:case 15:eh(t),t.flags&2048&&ol(9,t,t.return);break;case 3:eh(t);break;case 12:eh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,fg(t)):eh(t);break;default:eh(t)}}function fg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Sr=r,aO(r,t)}rO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ol(8,e,e.return),fg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,fg(e));break;default:fg(e)}t=t.sibling}}function aO(t,e){for(;Sr!==null;){var n=Sr;switch(n.tag){case 0:case 11:case 15:ol(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:rA(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Sr=r;else e:for(n=t;Sr!==null;){r=Sr;var i=r.sibling,a=r.return;if(KM(r),r===n){Sr=null;break e}if(i!==null){i.return=a,Sr=i;break e}Sr=a}}}var e$={getCacheForType:function(t){var e=Dr(or),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Dr(or).controller.signal}},t$=typeof WeakMap=="function"?WeakMap:Map,Kt=0,An=null,Rt=null,$t=0,tn=0,Ni=null,Fs=!1,Xf=!1,H5=!1,Xo=0,zn=0,sl=0,nu=0,z5=0,Ii=0,mf=0,Lh=null,hi=null,Ox=!1,hv=0,oO=0,jg=1/0,Rg=null,Ks=null,pr=0,Js=null,gf=null,zo=0,Ix=0,Dx=null,sO=null,jh=0,Lx=null;function Bi(){return Kt&2&&$t!==0?$t&-$t:vt.T!==null?G5():m6()}function lO(){if(Ii===0)if(!($t&536870912)||Ut){var t=Am;Am<<=1,!(Am&3932160)&&(Am=262144),Ii=t}else Ii=536870912;return t=qi.current,t!==null&&(t.flags|=32),Ii}function mi(t,e,n){(t===An&&(tn===2||tn===9)||t.cancelPendingCommit!==null)&&(vf(t,0),Us(t,$t,Ii,!1)),eA(t,n),(!(Kt&2)||t!==An)&&(t===An&&(!(Kt&2)&&(nu|=n),zn===4&&Us(t,$t,Ii,!1)),co(t))}function uO(t,e,n){if(Kt&6)throw Error(je(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Zp(t,e),i=r?i$(t,e):qb(t,e,!0),a=r;do{if(i===0){Xf&&!r&&Us(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!n$(n)){i=qb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=Lh;var l=s.current.memoizedState.isDehydrated;if(l&&(vf(s,o).flags|=256),o=qb(s,o,!1),o!==2){if(H5&&!l){s.errorRecoveryDisabledLanes|=a,nu|=a,i=4;break e}a=hi,hi=i,a!==null&&(hi===null?hi=a:hi.push.apply(hi,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){vf(t,0),Us(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(je(345));case 4:if((e&4194048)!==e)break;case 6:Us(r,e,Ii,!Fs);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(je(329))}if((e&62914560)===e&&(i=hv+300-Li(),10<i)){if(Us(r,e,Ii,!Fs),nv(r,0,!0)!==0)break e;zo=e,r.timeoutHandle=kO(rC.bind(null,r,n,hi,Rg,Ox,e,Ii,nu,mf,Fs,a,"Throttled",-0,0),i);break e}rC(r,n,hi,Rg,Ox,e,Ii,nu,mf,Fs,a,null,-0,0)}}break}while(!0);co(t)}function rC(t,e,n,r,i,a,o,s,l,u,c,f,h,A){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ro},nO(e,a,f);var v=(a&62914560)===a?hv-Li():(a&4194048)===a?oO-Li():0;if(v=F$(f,v),v!==null){zo=a,t.cancelPendingCommit=v(aC.bind(null,t,e,a,n,r,i,o,s,l,c,f,null,h,A)),Us(t,a,o,!u);return}}aC(t,e,a,n,r,i,o,s,l)}function n$(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ui(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Us(t,e,n,r){e&=~z5,e&=~nu,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Ri(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&h6(t,n,e)}function pv(){return Kt&6?!0:(oA(0),!1)}function V5(){if(Rt!==null){if(tn===0)var t=Rt.return;else t=Rt,Bo=Cu=null,P5(t),Zc=null,ap=0,t=Rt;for(;t!==null;)qM(t.alternate,t),t=t.return;Rt=null}}function vf(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,w$(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),zo=0,V5(),An=t,Rt=n=qo(t.current,null),$t=e,tn=0,Ni=null,Fs=!1,Xf=Zp(t,e),H5=!1,mf=Ii=z5=nu=sl=zn=0,hi=Lh=null,Ox=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Ri(r),a=1<<i;e|=t[i],r&=~a}return Xo=e,ov(),n}function cO(t,e){kt=null,vt.H=sp,e===Jf||e===lv?(e=LT(),tn=3):e===S5?(e=LT(),tn=4):tn=e===$5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ni=e,Rt===null&&(zn=1,Ig(t,la(e,t.current)))}function fO(){var t=qi.current;return t===null?!0:($t&4194048)===$t?da===null:($t&62914560)===$t||$t&536870912?t===da:!1}function dO(){var t=vt.H;return vt.H=sp,t===null?sp:t}function hO(){var t=vt.A;return vt.A=e$,t}function Bg(){zn=4,Fs||($t&4194048)!==$t&&qi.current!==null||(Xf=!0),!(sl&134217727)&&!(nu&134217727)||An===null||Us(An,$t,Ii,!1)}function qb(t,e,n){var r=Kt;Kt|=2;var i=dO(),a=hO();(An!==t||$t!==e)&&(Rg=null,vf(t,e)),e=!1;var o=zn;e:do try{if(tn!==0&&Rt!==null){var s=Rt,l=Ni;switch(tn){case 8:V5(),o=6;break e;case 3:case 2:case 9:case 6:qi.current===null&&(e=!0);var u=tn;if(tn=0,Ni=null,qc(t,s,l,u),n&&Xf){o=0;break e}break;default:u=tn,tn=0,Ni=null,qc(t,s,l,u)}}r$(),o=zn;break}catch(c){cO(t,c)}while(!0);return e&&t.shellSuspendCounter++,Bo=Cu=null,Kt=r,vt.H=i,vt.A=a,Rt===null&&(An=null,$t=0,ov()),o}function r$(){for(;Rt!==null;)pO(Rt)}function i$(t,e){var n=Kt;Kt|=2;var r=dO(),i=hO();An!==t||$t!==e?(Rg=null,jg=Li()+500,vf(t,e)):Xf=Zp(t,e);e:do try{if(tn!==0&&Rt!==null){e=Rt;var a=Ni;t:switch(tn){case 1:tn=0,Ni=null,qc(t,e,a,1);break;case 2:case 9:if(DT(a)){tn=0,Ni=null,iC(e);break}e=function(){tn!==2&&tn!==9||An!==t||(tn=7),co(t)},a.then(e,e);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:DT(a)?(tn=0,Ni=null,iC(e)):(tn=0,Ni=null,qc(t,e,a,7));break;case 5:var o=null;switch(Rt.tag){case 26:o=Rt.memoizedState;case 5:case 27:var s=Rt;if(o?DO(o):s.stateNode.complete){tn=0,Ni=null;var l=s.sibling;if(l!==null)Rt=l;else{var u=s.return;u!==null?(Rt=u,Av(u)):Rt=null}break t}}tn=0,Ni=null,qc(t,e,a,5);break;case 6:tn=0,Ni=null,qc(t,e,a,6);break;case 8:V5(),zn=6;break e;default:throw Error(je(462))}}a$();break}catch(c){cO(t,c)}while(!0);return Bo=Cu=null,vt.H=r,vt.A=i,Kt=n,Rt!==null?0:(An=null,$t=0,ov(),zn)}function a$(){for(;Rt!==null&&!E7();)pO(Rt)}function pO(t){var e=UM(t.alternate,t,Xo);t.memoizedProps=t.pendingProps,e===null?Av(t):Rt=e}function iC(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=XT(n,e,e.pendingProps,e.type,void 0,$t);break;case 11:e=XT(n,e,e.pendingProps,e.type.render,e.ref,$t);break;case 5:P5(e);default:qM(n,e),e=Rt=q6(e,Xo),e=UM(n,e,Xo)}t.memoizedProps=t.pendingProps,e===null?Av(t):Rt=e}function qc(t,e,n,r){Bo=Cu=null,P5(e),Zc=null,ap=0;var i=e.return;try{if(WB(t,i,e,n,$t)){zn=1,Ig(t,la(n,t.current)),Rt=null;return}}catch(a){if(i!==null)throw Rt=i,a;zn=1,Ig(t,la(n,t.current)),Rt=null;return}e.flags&32768?(Ut||r===1?t=!0:Xf||$t&536870912?t=!1:(Fs=t=!0,(r===2||r===9||r===3||r===6)&&(r=qi.current,r!==null&&r.tag===13&&(r.flags|=16384))),AO(e,t)):Av(e)}function Av(t){var e=t;do{if(e.flags&32768){AO(e,Fs);return}t=e.return;var n=JB(e.alternate,e,Xo);if(n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);zn===0&&(zn=5)}function AO(t,e){do{var n=XB(t.alternate,t);if(n!==null){n.flags&=32767,Rt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=n}while(t!==null);zn=6,Rt=null}function aC(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do mv();while(pr!==0);if(Kt&6)throw Error(je(327));if(e!==null){if(e===t.current)throw Error(je(177));if(a=e.lanes|e.childLanes,a|=m5,B7(t,n,a,o,s,l),t===An&&(Rt=An=null,$t=0),gf=e,Js=t,zo=n,Ix=a,Dx=i,sO=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,u$(wg,function(){return bO(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=vt.T,vt.T=null,i=Jt.p,Jt.p=2,o=Kt,Kt|=4;try{QB(t,e,n)}finally{Kt=o,Jt.p=i,vt.T=r}}pr=1,mO(),gO(),vO()}}function mO(){if(pr===1){pr=0;var t=Js,e=gf,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=vt.T,vt.T=null;var r=Jt.p;Jt.p=2;var i=Kt;Kt|=4;try{ZM(e,t);var a=$x,o=D6(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&I6(s.ownerDocument.documentElement,s)){if(l!==null&&A5(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var A=h.getSelection(),v=s.textContent.length,b=Math.min(l.start,v),w=l.end===void 0?b:Math.min(l.end,v);!A.extend&&b>w&&(o=w,w=b,b=o);var y=NT(s,b),x=NT(s,w);if(y&&x&&(A.rangeCount!==1||A.anchorNode!==y.node||A.anchorOffset!==y.offset||A.focusNode!==x.node||A.focusOffset!==x.offset)){var S=f.createRange();S.setStart(y.node,y.offset),A.removeAllRanges(),b>w?(A.addRange(S),A.extend(x.node,x.offset)):(S.setEnd(x.node,x.offset),A.addRange(S))}}}}for(f=[],A=s;A=A.parentNode;)A.nodeType===1&&f.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Gg=!!Bx,$x=Bx=null}finally{Kt=i,Jt.p=r,vt.T=n}}t.current=e,pr=2}}function gO(){if(pr===2){pr=0;var t=Js,e=gf,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=vt.T,vt.T=null;var r=Jt.p;Jt.p=2;var i=Kt;Kt|=4;try{YM(t,e.alternate,e)}finally{Kt=i,Jt.p=r,vt.T=n}}pr=3}}function vO(){if(pr===4||pr===3){pr=0,k7();var t=Js,e=gf,n=zo,r=sO;e.subtreeFlags&10256||e.flags&10256?pr=5:(pr=0,gf=Js=null,yO(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ks=null),l5(n),e=e.stateNode,ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Qp,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=vt.T,i=Jt.p,Jt.p=2,vt.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{vt.T=e,Jt.p=i}}zo&3&&mv(),co(t),i=t.pendingLanes,n&261930&&i&42?t===Lx?jh++:(jh=0,Lx=t):jh=0,oA(0)}}function yO(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,rA(e)))}function mv(){return mO(),gO(),vO(),bO()}function bO(){if(pr!==5)return!1;var t=Js,e=Ix;Ix=0;var n=l5(zo),r=vt.T,i=Jt.p;try{Jt.p=32>n?32:n,vt.T=null,n=Dx,Dx=null;var a=Js,o=zo;if(pr=0,gf=Js=null,zo=0,Kt&6)throw Error(je(331));var s=Kt;if(Kt|=4,iO(a.current),tO(a,a.current,o,n),Kt=s,oA(0,!1),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Qp,a)}catch{}return!0}finally{Jt.p=i,vt.T=r,yO(t,e)}}function oC(t,e,n){e=la(n,e),e=Ex(t.stateNode,e,2),t=Ys(t,e,2),t!==null&&(eA(t,2),co(t))}function nn(t,e,n){if(t.tag===3)oC(t,t,n);else for(;e!==null;){if(e.tag===3){oC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){t=la(n,t),n=LM(2),r=Ys(e,n,2),r!==null&&(jM(n,r,e,t),eA(r,2),co(r));break}}e=e.return}}function Hb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new t$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(H5=!0,i.add(n),t=o$.bind(null,t,e,n),e.then(t,t))}function o$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,An===t&&($t&n)===n&&(zn===4||zn===3&&($t&62914560)===$t&&300>Li()-hv?!(Kt&2)&&vf(t,0):z5|=n,mf===$t&&(mf=0)),co(t)}function xO(t,e){e===0&&(e=d6()),t=Tu(t,e),t!==null&&(eA(t,e),co(t))}function s$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xO(t,n)}function l$(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(je(314))}r!==null&&r.delete(e),xO(t,n)}function u$(t,e){return o5(t,e)}var $g=null,Tc=null,jx=!1,Fg=!1,zb=!1,qs=0;function co(t){t!==Tc&&t.next===null&&(Tc===null?$g=Tc=t:Tc=Tc.next=t),Fg=!0,jx||(jx=!0,f$())}function oA(t,e){if(!zb&&Fg){zb=!0;do for(var n=!1,r=$g;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ri(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,sC(r,a))}else a=$t,a=nv(r,r===An?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Zp(r,a)||(n=!0,sC(r,a));r=r.next}while(n);zb=!1}}function c$(){wO()}function wO(){Fg=jx=!1;var t=0;qs!==0&&x$()&&(t=qs);for(var e=Li(),n=null,r=$g;r!==null;){var i=r.next,a=SO(r,e);a===0?(r.next=null,n===null?$g=i:n.next=i,i===null&&(Tc=n)):(n=r,(t!==0||a&3)&&(Fg=!0)),r=i}pr!==0&&pr!==5||oA(t),qs!==0&&(qs=0)}function SO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Ri(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=R7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=An,n=$t,n=nv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(tn===2||tn===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&vb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Zp(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&vb(r),l5(n)){case 2:case 8:n=c6;break;case 32:n=wg;break;case 268435456:n=f6;break;default:n=wg}return r=_O.bind(null,t),n=o5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&vb(r),t.callbackPriority=2,t.callbackNode=null,2}function _O(t,e){if(pr!==0&&pr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(mv()&&t.callbackNode!==n)return null;var r=$t;return r=nv(t,t===An?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(uO(t,r,e),SO(t,Li()),t.callbackNode!=null&&t.callbackNode===n?_O.bind(null,t):null)}function sC(t,e){if(mv())return null;uO(t,e,!0)}function f$(){S$(function(){Kt&6?o5(u6,c$):wO()})}function G5(){if(qs===0){var t=hf;t===0&&(t=pm,pm<<=1,!(pm&261888)&&(pm=256)),qs=t}return qs}function lC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ng(""+t)}function uC(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function d$(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=lC((i[gi]||null).action),o=r.submitter;o&&(e=(e=o[gi]||null)?lC(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new rv("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(qs!==0){var l=o?uC(i,o):new FormData(i);Cx(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?uC(i,o):new FormData(i),Cx(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Vb=0;Vb<px.length;Vb++){var Gb=px[Vb],h$=Gb.toLowerCase(),p$=Gb[0].toUpperCase()+Gb.slice(1);$a(h$,"on"+p$)}$a(j6,"onAnimationEnd");$a(R6,"onAnimationIteration");$a(B6,"onAnimationStart");$a("dblclick","onDoubleClick");$a("focusin","onFocus");$a("focusout","onBlur");$a(PB,"onTransitionRun");$a(MB,"onTransitionStart");$a(OB,"onTransitionCancel");$a($6,"onTransitionEnd");ff("onMouseEnter",["mouseout","mouseover"]);ff("onMouseLeave",["mouseout","mouseover"]);ff("onPointerEnter",["pointerout","pointerover"]);ff("onPointerLeave",["pointerout","pointerover"]);wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lp));function TO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){_g(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){_g(c)}i.currentTarget=null,a=l}}}}function jt(t,e){var n=e[ox];n===void 0&&(n=e[ox]=new Set);var r=t+"__bubble";n.has(r)||(CO(e,t,2,!1),n.add(r))}function Wb(t,e,n){var r=0;e&&(r|=4),CO(n,t,r,e)}var _m="_reactListening"+Math.random().toString(36).slice(2);function W5(t){if(!t[_m]){t[_m]=!0,g6.forEach(function(n){n!=="selectionchange"&&(A$.has(n)||Wb(n,!1,t),Wb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_m]||(e[_m]=!0,Wb("selectionchange",!1,e))}}function CO(t,e,n,r){switch($O(e)){case 2:var i=H$;break;case 8:i=z$;break;default:i=X5}n=i.bind(null,e,n,t),i=void 0,!fx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=Ic(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}T6(function(){var u=a,c=f5(n),f=[];e:{var h=F6.get(t);if(h!==void 0){var A=rv,v=t;switch(t){case"keypress":if(ig(n)===0)break e;case"keydown":case"keyup":A=lB;break;case"focusin":v="focus",A=Sb;break;case"focusout":v="blur",A=Sb;break;case"beforeblur":case"afterblur":A=Sb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=gT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=J7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=fB;break;case j6:case R6:case B6:A=Z7;break;case $6:A=hB;break;case"scroll":case"scrollend":A=Y7;break;case"wheel":A=AB;break;case"copy":case"cut":case"paste":A=tB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=yT;break;case"toggle":case"beforetoggle":A=gB}var b=(e&4)!==0,w=!b&&(t==="scroll"||t==="scrollend"),y=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,S;x!==null;){var T=x;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||y===null||(T=ep(x,y),T!=null&&b.push(up(x,T,S))),w)break;x=x.return}0<b.length&&(h=new A(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",h&&n!==cx&&(v=n.relatedTarget||n.fromElement)&&(Ic(v)||v[Wf]))break e;if((A||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,A?(v=n.relatedTarget||n.toElement,A=u,v=v?Ic(v):null,v!==null&&(w=Xp(v),b=v.tag,v!==w||b!==5&&b!==27&&b!==6)&&(v=null)):(A=null,v=u),A!==v)){if(b=gT,T="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=yT,T="onPointerLeave",y="onPointerEnter",x="pointer"),w=A==null?h:yh(A),S=v==null?h:yh(v),h=new b(T,x+"leave",A,n,c),h.target=w,h.relatedTarget=S,T=null,Ic(c)===u&&(b=new b(y,x+"enter",v,n,c),b.target=S,b.relatedTarget=w,T=b),w=T,A&&v)t:{for(b=m$,y=A,x=v,S=0,T=y;T;T=b(T))S++;T=0;for(var C=x;C;C=b(C))T++;for(;0<S-T;)y=b(y),S--;for(;0<T-S;)x=b(x),T--;for(;S--;){if(y===x||x!==null&&y===x.alternate){b=y;break t}y=b(y),x=b(x)}b=null}else b=null;A!==null&&cC(f,h,A,b,!1),v!==null&&w!==null&&cC(f,w,v,b,!0)}}e:{if(h=u?yh(u):window,A=h.nodeName&&h.nodeName.toLowerCase(),A==="select"||A==="input"&&h.type==="file")var k=ST;else if(wT(h))if(M6)k=NB;else{k=TB;var E=_B}else A=h.nodeName,!A||A.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&c5(u.elementType)&&(k=ST):k=CB;if(k&&(k=k(t,u))){P6(f,k,n,c);break e}E&&E(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&ux(h,"number",h.value)}switch(E=u?yh(u):window,t){case"focusin":(wT(E)||E.contentEditable==="true")&&(jc=E,dx=u,Nh=null);break;case"focusout":Nh=dx=jc=null;break;case"mousedown":hx=!0;break;case"contextmenu":case"mouseup":case"dragend":hx=!1,ET(f,n,c);break;case"selectionchange":if(kB)break;case"keydown":case"keyup":ET(f,n,c)}var O;if(p5)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Lc?E6(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(N6&&n.locale!=="ko"&&(Lc||D!=="onCompositionStart"?D==="onCompositionEnd"&&Lc&&(O=C6()):($s=c,d5="value"in $s?$s.value:$s.textContent,Lc=!0)),E=Ug(u,D),0<E.length&&(D=new vT(D,t,null,n,c),f.push({event:D,listeners:E}),O?D.data=O:(O=k6(n),O!==null&&(D.data=O)))),(O=yB?bB(t,n):xB(t,n))&&(D=Ug(u,"onBeforeInput"),0<D.length&&(E=new vT("onBeforeInput","beforeinput",null,n,c),f.push({event:E,listeners:D}),E.data=O)),d$(f,t,u,n,c)}TO(f,e)})}function up(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ug(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=ep(t,n),i!=null&&r.unshift(up(t,i,a)),i=ep(t,e),i!=null&&r.push(up(t,i,a))),t.tag===3)return r;t=t.return}return[]}function m$(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=ep(n,a),u!=null&&o.unshift(up(n,u,l))):i||(u=ep(n,a),u!=null&&o.push(up(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g$=/\r\n?/g,v$=/\u0000|\uFFFD/g;function fC(t){return(typeof t=="string"?t:""+t).replace(g$,`
`).replace(v$,"")}function NO(t,e){return e=fC(e),fC(t)===e}function ln(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||df(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&df(t,""+r);break;case"className":gm(t,"class",r);break;case"tabIndex":gm(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":gm(t,n,r);break;case"style":_6(t,r,a);break;case"data":if(e!=="object"){gm(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ng(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&ln(t,e,"name",i.name,i,null),ln(t,e,"formEncType",i.formEncType,i,null),ln(t,e,"formMethod",i.formMethod,i,null),ln(t,e,"formTarget",i.formTarget,i,null)):(ln(t,e,"encType",i.encType,i,null),ln(t,e,"method",i.method,i,null),ln(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ng(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Ro);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(je(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(je(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=ng(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":jt("beforetoggle",t),jt("toggle",t),tg(t,"popover",r);break;case"xlinkActuate":To(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":To(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":To(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":To(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":To(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":To(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":To(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":To(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":To(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tg(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=G7.get(n)||n,tg(t,n,r))}}function Rx(t,e,n,r,i,a){switch(n){case"style":_6(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(je(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(je(60));t.innerHTML=n}}break;case"children":typeof r=="string"?df(t,r):(typeof r=="number"||typeof r=="bigint")&&df(t,""+r);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!v6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[gi]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):tg(t,n,r)}}}function Lr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(je(137,e));default:ln(t,e,a,o,n,null)}}i&&ln(t,e,"srcSet",n.srcSet,n,null),r&&ln(t,e,"src",n.src,n,null);return;case"input":jt("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(je(137,e));break;default:ln(t,e,r,c,n,null)}}x6(t,a,s,l,u,o,i,!1);return;case"select":jt("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:ln(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?Jc(t,!!r,e,!1):n!=null&&Jc(t,!!r,n,!0);return;case"textarea":jt("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(je(91));break;default:ln(t,e,o,s,n,null)}S6(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ln(t,e,l,r,n,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(r=0;r<lp.length;r++)jt(lp[r],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(je(137,e));default:ln(t,e,u,r,n,null)}return;default:if(c5(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Rx(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&ln(t,e,s,r,n,null))}function y$(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(A in n){var f=n[A];if(n.hasOwnProperty(A)&&f!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(A)||ln(t,e,A,null,r,f)}}for(var h in r){var A=r[h];if(f=n[h],r.hasOwnProperty(h)&&(A!=null||f!=null))switch(h){case"type":a=A;break;case"name":i=A;break;case"checked":u=A;break;case"defaultChecked":c=A;break;case"value":o=A;break;case"defaultValue":s=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(je(137,e));break;default:A!==f&&ln(t,e,h,A,r,f)}}lx(t,o,s,l,u,c,a,i);return;case"select":A=o=s=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":A=l;default:r.hasOwnProperty(a)||ln(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&ln(t,e,i,a,r,l)}e=s,n=o,r=A,h!=null?Jc(t,!!n,h,!1):!!r!=!!n&&(e!=null?Jc(t,!!n,e,!0):Jc(t,!!n,n?[]:"",!1));return;case"textarea":A=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:ln(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":A=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(je(91));break;default:i!==a&&ln(t,e,o,i,r,a)}w6(t,h,A);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:ln(t,e,v,null,r,h)}for(l in r)if(h=r[l],A=n[l],r.hasOwnProperty(l)&&h!==A&&(h!=null||A!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ln(t,e,l,h,r,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&ln(t,e,b,null,r,h);for(u in r)if(h=r[u],A=n[u],r.hasOwnProperty(u)&&h!==A&&(h!=null||A!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(je(137,e));break;default:ln(t,e,u,h,r,A)}return;default:if(c5(e)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!r.hasOwnProperty(w)&&Rx(t,e,w,void 0,r,h);for(c in r)h=r[c],A=n[c],!r.hasOwnProperty(c)||h===A||h===void 0&&A===void 0||Rx(t,e,c,h,r,A);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&ln(t,e,y,null,r,h);for(f in r)h=r[f],A=n[f],!r.hasOwnProperty(f)||h===A||h==null&&A==null||ln(t,e,f,h,r,A)}function dC(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b$(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&dC(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&dC(f)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bx=null,$x=null;function qg(t){return t.nodeType===9?t:t.ownerDocument}function hC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EO(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Fx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kb=null;function x$(){var t=window.event;return t&&t.type==="popstate"?t===Kb?!1:(Kb=t,!0):(Kb=null,!1)}var kO=typeof setTimeout=="function"?setTimeout:void 0,w$=typeof clearTimeout=="function"?clearTimeout:void 0,pC=typeof Promise=="function"?Promise:void 0,S$=typeof queueMicrotask=="function"?queueMicrotask:typeof pC<"u"?function(t){return pC.resolve(null).then(t).catch(_$)}:kO;function _$(t){setTimeout(function(){throw t})}function dl(t){return t==="head"}function AC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),bf(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Rh(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Rh(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[tA]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&Rh(t.ownerDocument.body);n=i}while(n);bf(e)}function mC(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Ux(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ux(n),u5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function T$(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[tA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=ha(t.nextSibling),t===null)break}return null}function C$(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ha(t.nextSibling),t===null))return null;return t}function PO(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=ha(t.nextSibling),t===null))return null;return t}function qx(t){return t.data==="$?"||t.data==="$~"}function Hx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function N$(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var zx=null;function gC(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return ha(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function vC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function MO(t,e,n){switch(e=qg(n),t){case"html":if(t=e.documentElement,!t)throw Error(je(452));return t;case"head":if(t=e.head,!t)throw Error(je(453));return t;case"body":if(t=e.body,!t)throw Error(je(454));return t;default:throw Error(je(451))}}function Rh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);u5(t)}var ma=new Map,yC=new Set;function Hg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ns=Jt.d;Jt.d={f:E$,r:k$,D:P$,C:M$,L:O$,m:I$,X:L$,S:D$,M:j$};function E$(){var t=ns.f(),e=pv();return t||e}function k$(t){var e=Yf(t);e!==null&&e.tag===5&&e.type==="form"?_M(e):ns.r(t)}var Qf=typeof document>"u"?null:document;function OO(t,e,n){var r=Qf;if(r&&typeof e=="string"&&e){var i=sa(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),yC.has(i)||(yC.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Lr(e,"link",t),_r(e),r.head.appendChild(e)))}}function P$(t){ns.D(t),OO("dns-prefetch",t,null)}function M$(t,e){ns.C(t,e),OO("preconnect",t,e)}function O$(t,e,n){ns.L(t,e,n);var r=Qf;if(r&&t&&e){var i='link[rel="preload"][as="'+sa(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+sa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+sa(n.imageSizes)+'"]')):i+='[href="'+sa(t)+'"]';var a=i;switch(e){case"style":a=yf(t);break;case"script":a=Zf(t)}ma.has(a)||(t=In({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ma.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(sA(a))||e==="script"&&r.querySelector(lA(a))||(e=r.createElement("link"),Lr(e,"link",t),_r(e),r.head.appendChild(e)))}}function I$(t,e){ns.m(t,e);var n=Qf;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+sa(r)+'"][href="'+sa(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Zf(t)}if(!ma.has(a)&&(t=In({rel:"modulepreload",href:t},e),ma.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(lA(a)))return}r=n.createElement("link"),Lr(r,"link",t),_r(r),n.head.appendChild(r)}}}function D$(t,e,n){ns.S(t,e,n);var r=Qf;if(r&&t){var i=Kc(r).hoistableStyles,a=yf(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(sA(a)))s.loading=5;else{t=In({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ma.get(a))&&Y5(t,n);var l=o=r.createElement("link");_r(l),Lr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,dg(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function L$(t,e){ns.X(t,e);var n=Qf;if(n&&t){var r=Kc(n).hoistableScripts,i=Zf(t),a=r.get(i);a||(a=n.querySelector(lA(i)),a||(t=In({src:t,async:!0},e),(e=ma.get(i))&&K5(t,e),a=n.createElement("script"),_r(a),Lr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function j$(t,e){ns.M(t,e);var n=Qf;if(n&&t){var r=Kc(n).hoistableScripts,i=Zf(t),a=r.get(i);a||(a=n.querySelector(lA(i)),a||(t=In({src:t,async:!0,type:"module"},e),(e=ma.get(i))&&K5(t,e),a=n.createElement("script"),_r(a),Lr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function bC(t,e,n,r){var i=(i=Vs.current)?Hg(i):null;if(!i)throw Error(je(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=yf(n.href),n=Kc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=yf(n.href);var a=Kc(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(sA(t)))&&!a._p&&(o.instance=a,o.state.loading=5),ma.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ma.set(t,n),a||R$(i,t,n,o.state))),e&&r===null)throw Error(je(528,""));return o}if(e&&r!==null)throw Error(je(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Zf(n),n=Kc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(je(444,t))}}function yf(t){return'href="'+sa(t)+'"'}function sA(t){return'link[rel="stylesheet"]['+t+"]"}function IO(t){return In({},t,{"data-precedence":t.precedence,precedence:null})}function R$(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Lr(e,"link",n),_r(e),t.head.appendChild(e))}function Zf(t){return'[src="'+sa(t)+'"]'}function lA(t){return"script[async]"+t}function xC(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+sa(n.href)+'"]');if(r)return e.instance=r,_r(r),r;var i=In({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),_r(r),Lr(r,"style",i),dg(r,n.precedence,t),e.instance=r;case"stylesheet":i=yf(n.href);var a=t.querySelector(sA(i));if(a)return e.state.loading|=4,e.instance=a,_r(a),a;r=IO(n),(i=ma.get(i))&&Y5(r,i),a=(t.ownerDocument||t).createElement("link"),_r(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Lr(a,"link",r),e.state.loading|=4,dg(a,n.precedence,t),e.instance=a;case"script":return a=Zf(n.src),(i=t.querySelector(lA(a)))?(e.instance=i,_r(i),i):(r=n,(i=ma.get(a))&&(r=In({},n),K5(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),_r(i),Lr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(je(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,dg(r,n.precedence,t));return e.instance}function dg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Y5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function K5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hg=null;function wC(t,e,n){if(hg===null){var r=new Map,i=hg=new Map;i.set(n,r)}else i=hg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[tA]||a[Or]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function SC(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function B$(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function DO(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function $$(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=yf(r.href),a=e.querySelector(sA(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=zg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,_r(a);return}a=e.ownerDocument||e,r=IO(r),(i=ma.get(i))&&Y5(r,i),a=a.createElement("link"),_r(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Lr(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=zg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Jb=0;function F$(t,e){return t.stylesheets&&t.count===0&&pg(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&pg(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Jb===0&&(Jb=62500*b$());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pg(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Jb?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vg=null;function pg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vg=new Map,e.forEach(U$,t),Vg=null,zg.call(t))}function U$(t,e){if(!(e.state.loading&4)){var n=Vg.get(t);if(n)var r=n.get(null);else{n=new Map,Vg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=zg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var cp={$$typeof:jo,Provider:null,Consumer:null,_currentValue:Ql,_currentValue2:Ql,_threadCount:0};function q$(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yb(0),this.hiddenUpdates=yb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function LO(t,e,n,r,i,a,o,s,l,u,c,f){return t=new q$(t,e,n,o,l,u,c,f,s),e=1,a===!0&&(e|=24),a=Pi(3,null,null,e),t.current=a,a.stateNode=t,e=x5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},_5(a),t}function jO(t){return t?(t=$c,t):$c}function RO(t,e,n,r,i,a){i=jO(i),r.context===null?r.context=i:r.pendingContext=i,r=Ws(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ys(t,r,e),n!==null&&(mi(n,t,e),kh(n,t,e))}function _C(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function J5(t,e){_C(t,e),(t=t.alternate)&&_C(t,e)}function BO(t){if(t.tag===13||t.tag===31){var e=Tu(t,67108864);e!==null&&mi(e,t,67108864),J5(t,67108864)}}function TC(t){if(t.tag===13||t.tag===31){var e=Bi();e=s5(e);var n=Tu(t,e);n!==null&&mi(n,t,e),J5(t,e)}}var Gg=!0;function H$(t,e,n,r){var i=vt.T;vt.T=null;var a=Jt.p;try{Jt.p=2,X5(t,e,n,r)}finally{Jt.p=a,vt.T=i}}function z$(t,e,n,r){var i=vt.T;vt.T=null;var a=Jt.p;try{Jt.p=8,X5(t,e,n,r)}finally{Jt.p=a,vt.T=i}}function X5(t,e,n,r){if(Gg){var i=Vx(r);if(i===null)Yb(t,e,r,Wg,n),CC(t,r);else if(G$(i,t,e,n,r))r.stopPropagation();else if(CC(t,r),e&4&&-1<V$.indexOf(t)){for(;i!==null;){var a=Yf(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=jl(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Ri(o);s.entanglements[1]|=l,o&=~l}co(a),!(Kt&6)&&(jg=Li()+500,oA(0))}}break;case 31:case 13:s=Tu(a,2),s!==null&&mi(s,a,2),pv(),J5(a,2)}if(a=Vx(r),a===null&&Yb(t,e,r,Wg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Yb(t,e,r,null,n)}}function Vx(t){return t=f5(t),Q5(t)}var Wg=null;function Q5(t){if(Wg=null,t=Ic(t),t!==null){var e=Xp(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=i6(e),t!==null)return t;t=null}else if(n===31){if(t=a6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Wg=t,null}function $O(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(P7()){case u6:return 2;case c6:return 8;case wg:case M7:return 32;case f6:return 268435456;default:return 32}default:return 32}}var Gx=!1,Xs=null,Qs=null,Zs=null,fp=new Map,dp=new Map,Ds=[],V$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CC(t,e){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":fp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dp.delete(e.pointerId)}}function th(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Yf(e),e!==null&&BO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function G$(t,e,n,r,i){switch(e){case"focusin":return Xs=th(Xs,t,e,n,r,i),!0;case"dragenter":return Qs=th(Qs,t,e,n,r,i),!0;case"mouseover":return Zs=th(Zs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return fp.set(a,th(fp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dp.set(a,th(dp.get(a)||null,t,e,n,r,i)),!0}return!1}function FO(t){var e=Ic(t.target);if(e!==null){var n=Xp(e);if(n!==null){if(e=n.tag,e===13){if(e=i6(n),e!==null){t.blockedOn=e,cT(t.priority,function(){TC(n)});return}}else if(e===31){if(e=a6(n),e!==null){t.blockedOn=e,cT(t.priority,function(){TC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ag(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cx=r,n.target.dispatchEvent(r),cx=null}else return e=Yf(n),e!==null&&BO(e),t.blockedOn=n,!1;e.shift()}return!0}function NC(t,e,n){Ag(t)&&n.delete(e)}function W$(){Gx=!1,Xs!==null&&Ag(Xs)&&(Xs=null),Qs!==null&&Ag(Qs)&&(Qs=null),Zs!==null&&Ag(Zs)&&(Zs=null),fp.forEach(NC),dp.forEach(NC)}function Tm(t,e){t.blockedOn===e&&(t.blockedOn=null,Gx||(Gx=!0,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,W$)))}var Cm=null;function EC(t){Cm!==t&&(Cm=t,gr.unstable_scheduleCallback(gr.unstable_NormalPriority,function(){Cm===t&&(Cm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Q5(r||n)===null)continue;break}var a=Yf(n);a!==null&&(t.splice(e,3),e-=3,Cx(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function bf(t){function e(l){return Tm(l,t)}Xs!==null&&Tm(Xs,t),Qs!==null&&Tm(Qs,t),Zs!==null&&Tm(Zs,t),fp.forEach(e),dp.forEach(e);for(var n=0;n<Ds.length;n++){var r=Ds[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)FO(n),n.blockedOn===null&&Ds.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[gi]||null;if(typeof a=="function")o||EC(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[gi]||null)s=o.formAction;else if(Q5(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),EC(n)}}}function UO(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Z5(t){this._internalRoot=t}gv.prototype.render=Z5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));var n=e.current,r=Bi();RO(n,r,t,e,null,null)};gv.prototype.unmount=Z5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;RO(t.current,2,null,t,null,null),pv(),e[Wf]=null}};function gv(t){this._internalRoot=t}gv.prototype.unstable_scheduleHydration=function(t){if(t){var e=m6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&FO(t)}};var kC=n6.version;if(kC!=="19.2.0")throw Error(je(527,kC,"19.2.0"));Jt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=S7(e),t=t!==null?o6(t):null,t=t===null?null:t.stateNode,t};var Y$={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:vt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nm.isDisabled&&Nm.supportsFiber)try{Qp=Nm.inject(Y$),ji=Nm}catch{}}ev.createRoot=function(t,e){if(!r6(t))throw Error(je(299));var n=!1,r="",i=OM,a=IM,o=DM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=LO(t,1,!1,null,null,n,r,null,i,a,o,UO),t[Wf]=e.current,W5(t),new Z5(e)};ev.hydrateRoot=function(t,e,n){if(!r6(t))throw Error(je(299));var r=!1,i="",a=OM,o=IM,s=DM,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=LO(t,1,!0,e,n??null,r,i,l,a,o,s,UO),e.context=jO(null),n=e.current,r=Bi(),r=s5(r),i=Ws(r),i.callback=null,Ys(n,i,r),n=r,e.current.lanes=n,eA(e,n),co(e),t[Wf]=e.current,W5(t),new gv(e)};ev.version="19.2.0";function qO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qO)}catch(t){console.error(t)}}qO(),JP.exports=ev;var K$=JP.exports;const J$=Xt(K$);function X$(t,e){const n=localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing JSON from localStorage",r),localStorage.removeItem(t)}return e instanceof Function?e():e}function PC(t,e){const[n,r]=oe.useState(()=>X$(t,e));return oe.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch(i){console.error("Error setting item to localStorage",i)}},[t,n]),[n,r]}function Q$(t,e){const n=sessionStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing JSON from sessionStorage",r),sessionStorage.removeItem(t)}return e instanceof Function?e():e}function Em(t,e){const[n,r]=oe.useState(()=>Q$(t,e));return oe.useEffect(()=>{try{sessionStorage.setItem(t,JSON.stringify(n))}catch(i){console.error("Error setting item to sessionStorage",i)}},[t,n]),[n,r]}const Z$="pos-app-db",eF=2;let km=null;const tF=()=>(km||(km=new Promise((t,e)=>{const n=indexedDB.open(Z$,eF);n.onerror=()=>{console.error("IndexedDB opening error:",n.error),km=null,e(n.error)},n.onsuccess=()=>{t(n.result)},n.onupgradeneeded=()=>{const r=n.result;Object.keys({products:[],productVariants:[],sales:[],expenses:[],users:[],returns:[],stores:[],customers:[],suppliers:[],categories:[],purchases:[],stockBatches:[]}).forEach(i=>{r.objectStoreNames.contains(i)||r.createObjectStore(i,{keyPath:"id"})})}})),km);function Xi(t){const[e,n]=oe.useState([]),r=oe.useCallback(async c=>(await tF()).transaction(t,c).objectStore(t),[t]),i=oe.useCallback(async()=>{const f=(await r("readonly")).getAll();return new Promise((h,A)=>{f.onsuccess=()=>h(f.result),f.onerror=()=>A(f.error)})},[r]);oe.useEffect(()=>{i().then(n).catch(console.error)},[i]);const a=oe.useCallback(async c=>{const h=(await r("readwrite")).add(c);return new Promise((A,v)=>{h.onsuccess=()=>{n(b=>[...b,c]),A()},h.onerror=()=>v(h.error)})},[r]),o=oe.useCallback(async c=>{if(c.length===0)return;const f=await r("readwrite"),h=f.transaction;return c.forEach(A=>f.add(A)),new Promise((A,v)=>{h.oncomplete=()=>{n(b=>[...b,...c]),A()},h.onerror=()=>v(h.error)})},[r]),s=oe.useCallback(async c=>{const h=(await r("readwrite")).put(c);return new Promise((A,v)=>{h.onsuccess=()=>{n(b=>b.map(w=>w.id===c.id?c:w)),A()},h.onerror=()=>v(h.error)})},[r]),l=oe.useCallback(async c=>{const h=(await r("readwrite")).delete(c);return new Promise((A,v)=>{h.onsuccess=()=>{n(b=>b.filter(w=>w.id!==c)),A()},h.onerror=()=>v(h.error)})},[r]),u=oe.useCallback(async()=>{const f=(await r("readwrite")).clear();return new Promise((h,A)=>{f.onsuccess=()=>{n([]),h()},f.onerror=()=>A(f.error)})},[r]);return{data:e,setData:n,add:a,update:s,remove:l,clear:u,bulkAdd:o}}const HO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),m.jsx("path",{d:"M12 8v4l2 2"})]}),nF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),m.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),m.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),rF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),iF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"8",cy:"8",r:"6"}),m.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),m.jsx("path",{d:"M7 6h1v4"}),m.jsx("path",{d:"m16.71 13.88.7.71-2.82 2.82-.71-.71A6 6 0 0 1 7.18 6.18"})]}),nf=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),$i=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),zO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5"}),m.jsx("path",{d:"M17 9v6"}),m.jsx("path",{d:"M13 9v6"}),m.jsx("path",{d:"M9 9v6"}),m.jsx("path",{d:"M5 9v6"})]}),eS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),tS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2a2 2 0 0 0-2-2z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ra=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12 17v-10"}),m.jsx("path",{d:"M9 14l3 3 3-3"}),m.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"})]}),vv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),nS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("path",{d:"M20 8v6M23 11h-6"})]}),VO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M10 17.5V14H3V12l4-9h11v9h-3.5"}),m.jsx("path",{d:"M10 17.5h4.5l1.9-2.9"}),m.jsx("circle",{cx:"6.5",cy:"17.5",r:"2.5"}),m.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),GO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),WO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}),m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}),m.jsx("path",{d:"M2 7h20"}),m.jsx("path",{d:"M22 7v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7"})]}),YO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),m.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),el=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})}),rS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),iS=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),aF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),uA=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),m.jsx("polyline",{points:"12 5 19 12 12 19"})]}),cA=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),aS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),m.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),m.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),MC=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m6 9 6 6 6-6"})}),oF=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),KO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),JO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),m.jsx("path",{d:"m21 2-9.6 9.6"}),m.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sF,lF;function uF(){return{geminiUrl:sF,vertexUrl:lF}}function cF(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=uF();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nu{}function ot(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,e.slice(a+1),n[u])}else for(const u of l)p(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];p(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>d(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fF(t){const e={},n=d(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function dF(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&p(e,["response"],pF(o)),e}function hF(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response"]);return o!=null&&p(e,["response"],AF(o)),e}function pF(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>mF(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function AF(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>gF(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function mF(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],bF(n)),e}function gF(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],xF(n)),e}function vF(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function yF(t){const e={},n=d(t,["operationName"]);return n!=null&&p(e,["_url","operationName"],n),e}function bF(t){const e={},n=d(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],oS(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function xF(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],oS(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var OC;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(OC||(OC={}));var IC;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(IC||(IC={}));var Mi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mi||(Mi={}));var DC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(DC||(DC={}));var LC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(LC||(LC={}));var jC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(jC||(jC={}));var RC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RC||(RC={}));var BC;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(BC||(BC={}));var $C;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})($C||($C={}));var FC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(FC||(FC={}));var UC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(UC||(UC={}));var qC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(qC||(qC={}));var HC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(HC||(HC={}));var zC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(zC||(zC={}));var VC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(VC||(VC={}));var Yg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Yg||(Yg={}));var GC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(GC||(GC={}));var Wx;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wx||(Wx={}));var WC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(WC||(WC={}));var YC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(YC||(YC={}));var KC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(KC||(KC={}));var JC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(JC||(JC={}));var XC;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(XC||(XC={}));var QC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(QC||(QC={}));var ZC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ZC||(ZC={}));var eN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(eN||(eN={}));var tN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(tN||(tN={}));var nN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(nN||(nN={}));var rN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(rN||(rN={}));var iN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(iN||(iN={}));var aN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(aN||(aN={}));var oN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(oN||(oN={}));var sN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sN||(sN={}));var lN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(lN||(lN={}));var uN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(uN||(uN={}));var cN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(cN||(cN={}));var fN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(fN||(fN={}));var dN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(dN||(dN={}));var hN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(hN||(hN={}));var pN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(pN||(pN={}));var AN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(AN||(AN={}));var mN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mN||(mN={}));var gN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gN||(gN={}));var vN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vN||(vN={}));var yN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yN||(yN={}));var bN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bN||(bN={}));var xN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xN||(xN={}));var wN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wN||(wN={}));var Hc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hc||(Hc={}));class Yx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class nh{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[A,v]of Object.entries(h))A!=="text"&&A!=="thought"&&(v!==null||v!==void 0)&&f.push(A);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,A]of Object.entries(f))h!=="inlineData"&&(A!==null||A!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class SN{}class _N{}class wF{}class SF{}class _F{}class TF{}class TN{}class CN{}class NN{}class CF{}class Kg{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Kg;let i;const a=e;return n?i=hF(a):i=dF(a),Object.assign(r,i),r}}class EN{}class kN{}class PN{}class NF{}class EF{}class kF{}class MN{}class PF{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class MF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function XO(t,e){const n=zt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function QO(t){return Array.isArray(t)?t.map(e=>Jg(e)):[Jg(t)]}function Jg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ZO(t){const e=Jg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function eI(t){const e=Jg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ON(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function tI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>ON(e)):[ON(t)]}function Kx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function IN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function DN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Gr(t){if(t==null)throw new Error("ContentUnion is required");return Kx(t)?t:{role:"user",parts:tI(t)}}function sS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Gr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Gr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Gr(n)):[Gr(e)]}function pa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(IN(t)||DN(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gr(t)]}const e=[],n=[],r=Kx(t[0]);for(const i of t){const a=Kx(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(IN(i)||DN(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:tI(n)}),e}function OF(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Mi).includes(n[0].toUpperCase())?n[0].toUpperCase():Mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Mi).includes(r.toUpperCase())?r.toUpperCase():Mi.TYPE_UNSPECIFIED})}}function rf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&OF(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Mi).includes(s.toUpperCase())?s.toUpperCase():Mi.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=rf(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(rf(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=rf(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function lS(t){return rf(t)}function uS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ed(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=rf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=rf(e.response));return t}function td(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function IF(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function rs(t,e){if(typeof e!="string")throw new Error("name must be a string");return IF(t,e,"cachedContents")}function nI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Eu(t){return oS(t)}function DF(t){return t!=null&&typeof t=="object"&&"name"in t}function LF(t){return t!=null&&typeof t=="object"&&"video"in t}function jF(t){return t!=null&&typeof t=="object"&&"uri"in t}function rI(t){var e;let n;if(DF(t)&&(n=t.name),!(jF(t)&&(n=t.uri,n===void 0))&&!(LF(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function iI(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function aI(t){for(const e of["models","tunedModels","publisherModels"])if(RF(t,e))return t[e];return[]}function RF(t,e){return t!==null&&typeof t=="object"&&e in t}function BF(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function $F(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=BF(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function oI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function FF(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function sI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function nd(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function lI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UF(t){const e={},n=d(t,["responsesFile"]);n!=null&&p(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>kU(o))),p(e,["inlinedResponses"],a)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>NU(o))),p(e,["inlinedEmbedContentResponses"],a)}return e}function qF(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function HF(t){const e={},n=d(t,["format"]);n!=null&&p(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cc(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&p(e,["state"],lI(i));const a=d(t,["metadata","createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["metadata","endTime"]);o!=null&&p(e,["endTime"],o);const s=d(t,["metadata","updateTime"]);s!=null&&p(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&p(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&p(e,["dest"],UF(sI(u))),e}function Jx(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],lI(i));const a=d(t,["error"]);a!=null&&p(e,["error"],cI(a));const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["startTime"]);s!=null&&p(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&p(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&p(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&p(e,["src"],zF(f));const h=d(t,["outputConfig"]);return h!=null&&p(e,["dest"],qF(sI(h))),e}function zF(t){const e={},n=d(t,["instancesFormat"]);n!=null&&p(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&p(e,["bigqueryUri"],i),e}function VF(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>EU(t,o))),p(n,["requests","requests"],a)}return n}function GF(t){const e={},n=d(t,["format"]);n!=null&&p(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&p(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function WF(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function YF(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function KF(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],nd(t,r)),n}function JF(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],nd(t,r)),n}function XF(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],tU(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],QF(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&p(e,["urlContextMetadata"],XU(o));const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&p(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(e,["safetyRatings"],f),e}function QF(t){const e={},n=d(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function ZF(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function eU(t){const e={},n=d(t,["values"]);return n!=null&&p(e,["values"],n),e}function tU(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$U(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function uI(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>FU(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function nU(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function rU(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&p(e,["outputConfig"],HF(FF(i))),n}function Xb(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],VF(t,oI(t,i)));const a=d(e,["config"]);return a!=null&&nU(a,n),n}function iU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],zt(t,r));const i=d(e,["src"]);i!=null&&p(n,["inputConfig"],GF(oI(t,i)));const a=d(e,["config"]);return a!=null&&rU(a,n),n}function aU(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),n}function Qb(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["src"]);i!=null&&p(n,["batch","inputConfig"],hU(t,i));const a=d(e,["config"]);return a!=null&&aU(a,n),n}function oU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],nd(t,r)),n}function sU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],nd(t,r)),n}function lU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);return a!=null&&p(e,["error"],fS(a)),e}function uU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);return a!=null&&p(e,["error"],cI(a)),e}function cU(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function fU(t,e){const n={},r=d(e,["contents"]);r!=null&&p(n,["requests[]","request","content"],sS(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],dU(i,n)),n}function dU(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&p(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function hU(t,e){const n={},r=d(e,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&p(n,["requests"],fU(t,i)),n}function pU(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function AU(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function mU(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function gU(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function vU(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function yU(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function bU(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],uI(Gr(i)));const a=d(e,["temperature"]);a!=null&&p(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&p(r,["topP"],o);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const A=d(e,["presencePenalty"]);A!=null&&p(r,["presencePenalty"],A);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&p(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&p(r,["responseSchema"],zU(lS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(B=>HU(B))),p(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=td(T);Array.isArray(M)&&(M=M.map(B=>JU(ed(B)))),p(n,["tools"],M)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&p(n,["toolConfig"],KU(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],rs(t,k));const E=d(e,["responseModalities"]);E!=null&&p(r,["responseModalities"],E);const O=d(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const D=d(e,["speechConfig"]);if(D!=null&&p(r,["speechConfig"],WU(uS(D))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=d(e,["thinkingConfig"]);$!=null&&p(r,["thinkingConfig"],YU($));const I=d(e,["imageConfig"]);return I!=null&&p(r,["imageConfig"],CU(I)),r}function xU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>XF(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&p(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function wU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],nd(t,r)),n}function SU(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],nd(t,r)),n}function _U(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],cU(n)),e}function TU(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],PU(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CU(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&p(e,["aspectRatio"],n),e}function NU(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],VU(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],fS(r)),e}function EU(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["request","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>uI(s))),p(n,["request","contents"],o)}const a=d(e,["config"]);return a!=null&&p(n,["request","generationConfig"],bU(t,a,n)),n}function kU(t){const e={},n=d(t,["response"]);n!=null&&p(e,["response"],xU(n));const r=d(t,["error"]);return r!=null&&p(e,["error"],fS(r)),e}function PU(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function fS(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["code"]);r!=null&&p(e,["code"],r);const i=d(t,["message"]);return i!=null&&p(e,["message"],i),e}function cI(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["code"]);r!=null&&p(e,["code"],r);const i=d(t,["message"]);return i!=null&&p(e,["message"],i),e}function MU(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function OU(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function IU(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),n}function DU(t){const e={},n=d(t,["config"]);return n!=null&&OU(n,e),e}function LU(t){const e={},n=d(t,["config"]);return n!=null&&IU(n,e),e}function jU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Cc(o))),p(e,["batchJobs"],a)}return e}function RU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Jx(o))),p(e,["batchJobs"],a)}return e}function BU(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>GU(i))),p(e,["speakerVoiceConfigs"],r)}return e}function $U(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],e9(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],WF(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],pU(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],mU(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function FU(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],t9(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],YF(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],AU(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],gU(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function UU(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function qU(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],MU(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function HU(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&p(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function zU(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["enum"]);a!=null&&p(e,["enum"],a);const o=d(t,["example"]);o!=null&&p(e,["example"],o);const s=d(t,["format"]);s!=null&&p(e,["format"],s);const l=d(t,["items"]);l!=null&&p(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&p(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&p(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&p(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&p(e,["maximum"],h);const A=d(t,["minItems"]);A!=null&&p(e,["minItems"],A);const v=d(t,["minLength"]);v!=null&&p(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&p(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&p(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&p(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&p(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&p(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&p(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&p(e,["required"],C);const k=d(t,["title"]);k!=null&&p(e,["title"],k);const E=d(t,["type"]);return E!=null&&p(e,["type"],E),e}function VU(t){const e={},n=d(t,["embedding"]);n!=null&&p(e,["embedding"],eU(n));const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function GU(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],fI(r)),e}function WU(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],fI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],BU(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function YU(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function KU(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],vU(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],qU(r)),e}function JU(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>yU(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],TU(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],_U(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],QU());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],ZF(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function XU(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ZU(i))),p(e,["urlMetadata"],r)}return e}function QU(){return{}}function ZU(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function e9(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function t9(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function fI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],UU(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Au;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Au||(Au={}));class fA{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n9 extends Nu{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const a=n.src;if(!(Array.isArray(n.src)||a.inlinedRequests!==void 0))return this.createInternal(n);const s=this.createInlinedGenerateContentRequest(n),l=s.path,u=s.body,c=Xb(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Cc(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const s=this.createInlinedEmbedContentRequest(n),l=s.path,u=s.body,c=Qb(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Cc(h))},this.list=async(n={})=>new fA(Au.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Xb(this.apiClient,e),r=n._url,i=ot("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const A=f.request;A.systemInstruction=h,f.request=A}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=Qb(this.apiClient,e),r=n._url,i=ot("{model}:asyncBatchEmbedContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];delete s.config;for(const c of l){const f=Object.assign({},c),h=f.request;for(const A in f)A!=="request"&&(h[A]=f[A],delete f[A]);u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=iU(this.apiClient,e);return s=ot("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Jx(c))}else{const u=Xb(this.apiClient,e);return s=ot("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Cc(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Qb(this.apiClient,e);return a=ot("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Cc(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=SU(this.apiClient,e);return s=ot("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Jx(c))}else{const u=wU(this.apiClient,e);return s=ot("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Cc(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=JF(this.apiClient,e);o=ot("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=KF(this.apiClient,e);o=ot("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=LU(e);return s=ot("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=RU(c),h=new MN;return Object.assign(h,f),h})}else{const u=DU(e);return s=ot("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=jU(c),h=new MN;return Object.assign(h,f),h})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=sU(this.apiClient,e);return s=ot("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>uU(c))}else{const u=oU(this.apiClient,e);return s=ot("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>lU(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r9(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function i9(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],r9(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&p(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&p(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&p(e,["oidcConfig"],s),e}function a9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function o9(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function mg(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["model"]);i!=null&&p(e,["model"],i);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&p(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&p(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function gg(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["model"]);i!=null&&p(e,["model"],i);const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&p(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&p(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function s9(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function l9(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function LN(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>V9(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function jN(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>G9(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function u9(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&p(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let c=pa(o);Array.isArray(c)&&(c=c.map(f=>LN(f))),p(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],LN(Gr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>X9(f))),p(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&p(e,["toolConfig"],K9(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function c9(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&p(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&p(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let f=pa(o);Array.isArray(f)&&(f=f.map(h=>jN(h))),p(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&p(e,["systemInstruction"],jN(Gr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Q9(h))),p(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&p(e,["toolConfig"],J9(u));const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&p(e,["encryption_spec","kmsKeyName"],c),n}function f9(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],XO(t,r));const i=d(e,["config"]);return i!=null&&u9(i,n),n}function d9(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["model"],XO(t,r));const i=d(e,["config"]);return i!=null&&c9(i,n),n}function h9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],rs(t,r)),n}function p9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],rs(t,r)),n}function A9(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function m9(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function g9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function v9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function y9(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function b9(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function x9(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function w9(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function S9(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function _9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function T9(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function C9(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function N9(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&p(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function E9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],rs(t,r)),n}function k9(t,e){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],rs(t,r)),n}function P9(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],i9(n)),e}function M9(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],g9(n)),e}function O9(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],v9(n)),e}function I9(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],L9(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function D9(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],j9(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function L9(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function j9(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function R9(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function B9(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function $9(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function F9(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function U9(t){const e={},n=d(t,["config"]);return n!=null&&$9(n,e),e}function q9(t){const e={},n=d(t,["config"]);return n!=null&&F9(n,e),e}function H9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>mg(o))),p(e,["cachedContents"],a)}return e}function z9(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gg(o))),p(e,["cachedContents"],a)}return e}function V9(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],aq(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],a9(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],b9(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],w9(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function G9(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],oq(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],o9(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],x9(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],S9(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function W9(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],R9(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function Y9(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],B9(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function K9(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],_9(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],W9(r)),e}function J9(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],T9(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],Y9(r)),e}function X9(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>C9(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],I9(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],M9(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],rq());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],s9(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function Q9(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>N9(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],D9(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&p(e,["googleSearchRetrieval"],O9(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],y9(o));const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],P9(s)),d(t,["urlContext"])!=null&&p(e,["urlContext"],iq());const u=d(t,["computerUse"]);u!=null&&p(e,["computerUse"],l9(u));const c=d(t,["codeExecution"]);return c!=null&&p(e,["codeExecution"],c),e}function Z9(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function eq(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&p(e,["expireTime"],i),n}function tq(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],rs(t,r));const i=d(e,["config"]);return i!=null&&Z9(i,n),n}function nq(t,e){const n={},r=d(e,["name"]);r!=null&&p(n,["_url","name"],rs(t,r));const i=d(e,["config"]);return i!=null&&eq(i,n),n}function rq(){return{}}function iq(){return{}}function aq(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function oq(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sq extends Nu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fA(Au.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=d9(this.apiClient,e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}else{const u=f9(this.apiClient,e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>mg(c))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=k9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}else{const u=E9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>mg(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=p9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=m9(c),h=new kN;return Object.assign(h,f),h})}else{const u=h9(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=A9(c),h=new kN;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=nq(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}else{const u=tq(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>mg(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=q9(e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=z9(c),h=new PN;return Object.assign(h,f),h})}else{const u=U9(e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=H9(c),h=new PN;return Object.assign(h,f),h})}}}function RN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nn(t){return this instanceof Nn?(this.v=t,this):new Nn(t)}function af(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(A){return function(v){return Promise.resolve(v).then(A,f)}}function s(A,v){r[A]&&(i[A]=function(b){return new Promise(function(w,y){a.push([A,b,w,y])>1||l(A,b)})},v&&(i[A]=v(i[A])))}function l(A,v){try{u(r[A](v))}catch(b){h(a[0][3],b)}}function u(A){A.value instanceof Nn?Promise.resolve(A.value.v).then(c,f):h(a[0][2],A)}function c(A){l("next",A)}function f(A){l("throw",A)}function h(A,v){A(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Bh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof RN=="function"?RN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lq(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:dI(n)}function dI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function uq(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function BN(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!dI(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class cq{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new fq(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fq{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),uq(a)}async sendMessage(e){var n;await this.sendPromise;const r=Gr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const A=u?[u]:[];this.recordHistory(r,A,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Gr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?BN(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return af(this,arguments,function*(){var o,s,l,u;const c=[];try{for(var f=!0,h=Bh(e),A;A=yield Nn(h.next()),o=A.done,!o;f=!0){u=A.value,f=!1;const v=u;if(lq(v)){const b=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&c.push(b)}yield yield Nn(v)}}catch(v){s={error:v}}finally{try{!f&&!o&&(l=h.return)&&(yield Nn(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...BN(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dq(t){const e={},n=d(t,["file"]);return n!=null&&p(e,["file"],vq(n)),e}function hq(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function pq(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],rI(n)),e}function Aq(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Xx(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&p(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&p(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&p(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&p(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&p(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&p(e,["state"],h);const A=d(t,["source"]);A!=null&&p(e,["source"],A);const v=d(t,["videoMetadata"]);v!=null&&p(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&p(e,["error"],mq(b)),e}function mq(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["message"]);r!=null&&p(e,["message"],r);const i=d(t,["code"]);return i!=null&&p(e,["code"],i),e}function gq(t){const e={},n=d(t,["details"]);n!=null&&p(e,["details"],n);const r=d(t,["message"]);r!=null&&p(e,["message"],r);const i=d(t,["code"]);return i!=null&&p(e,["code"],i),e}function vq(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&p(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&p(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&p(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&p(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&p(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&p(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&p(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&p(e,["state"],h);const A=d(t,["source"]);A!=null&&p(e,["source"],A);const v=d(t,["videoMetadata"]);v!=null&&p(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&p(e,["error"],gq(b)),e}function yq(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","file"],rI(n)),e}function bq(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&p(e,["_query","pageToken"],i),n}function xq(t){const e={},n=d(t,["config"]);return n!=null&&bq(n,e),e}function wq(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Xx(o))),p(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sq extends Nu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fA(Au.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Xx(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xq(e);return a=ot("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=wq(l),c=new NF;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=dq(e);return a=ot("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=hq(l),c=new EF;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yq(e);return a=ot("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Xx(l))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=pq(e);return a=ot("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Aq(l),c=new kF;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _q(){return{}}function Tq(){return{}}function Cq(){return{}}function Nq(){return{}}function Eq(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function kq(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);r!=null&&p(e,["mimeType"],r);const i=d(t,["sourceMetadata"]);return i!=null&&p(e,["sourceMetadata"],xH(i)),e}function $N(){return{}}function FN(){return{}}function Pq(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],Eq(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&p(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&p(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&p(e,["oidcConfig"],s),e}function Mq(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&p(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&p(e,["silenceDurationMs"],o),e}function Oq(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&p(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&p(e,["silenceDurationMs"],o),e}function Iq(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Dq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Lq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function jq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Rq(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function Bq(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function $q(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$H(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Fq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>FH(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Uq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>UH(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function qq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>qH(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Hq(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],XH(r)),e}function zq(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],QH(r)),e}function Vq(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Gq(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Wq(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function Yq(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Kq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function Jq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Xq(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function hI(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function pI(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function Qq(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function Zq(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function eH(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function tH(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&p(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function nH(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],Pq(n)),e}function rH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Vq(n)),e}function iH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Gq(n)),e}function aH(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],sH(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function oH(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],lH(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function sH(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function lH(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function uH(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],ez(cS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],nz(h));const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],A);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],Uq(Gr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=td(b);Array.isArray(k)&&(k=k.map(E=>iz(ed(E)))),p(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],KH(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&p(e,["setup","inputAudioTranscription"],$N());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],$N());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],WH(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],Hq(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&p(e,["setup","proactivity"],VH(C)),n}function cH(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],tz(cS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],rz(h));const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],A);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],qq(Gr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=td(b);Array.isArray(k)&&(k=k.map(E=>az(ed(E)))),p(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],JH(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&p(e,["setup","inputAudioTranscription"],FN());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],FN());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],YH(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],zq(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&p(e,["setup","proactivity"],GH(C)),n}function fH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],uH(i,n)),n}function dH(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],cH(i,n)),n}function hH(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gz(i))),p(e,["weightedPrompts"],r)}return e}function AI(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yI(i))),p(e,["weightedPrompts"],r)}return e}function Qx(t){const e={},n=d(t,["setup"]);n!=null&&p(e,["setup"],mI(n));const r=d(t,["clientContent"]);r!=null&&p(e,["clientContent"],AI(r));const i=d(t,["musicGenerationConfig"]);i!=null&&p(e,["musicGenerationConfig"],gI(i));const a=d(t,["playbackControl"]);return a!=null&&p(e,["playbackControl"],a),e}function mI(t){const e={},n=d(t,["model"]);return n!=null&&p(e,["model"],n),e}function pH(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["filteredReason"]);return r!=null&&p(e,["filteredReason"],r),e}function AH(t){const e={},n=d(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&p(e,["topK"],r);const i=d(t,["seed"]);i!=null&&p(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&p(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&p(e,["bpm"],o);const s=d(t,["density"]);s!=null&&p(e,["density"],s);const l=d(t,["brightness"]);l!=null&&p(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&p(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&p(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&p(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&p(e,["onlyBassAndDrums"],h);const A=d(t,["musicGenerationMode"]);return A!=null&&p(e,["musicGenerationMode"],A),e}function gI(t){const e={},n=d(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&p(e,["topK"],r);const i=d(t,["seed"]);i!=null&&p(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&p(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&p(e,["bpm"],o);const s=d(t,["density"]);s!=null&&p(e,["density"],s);const l=d(t,["brightness"]);l!=null&&p(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&p(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&p(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&p(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&p(e,["onlyBassAndDrums"],h);const A=d(t,["musicGenerationMode"]);return A!=null&&p(e,["musicGenerationMode"],A),e}function mH(t){const e={},n=d(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kq(i))),p(e,["audioChunks"],r)}return e}function gH(t){const e={};d(t,["setupComplete"])!=null&&p(e,["setupComplete"],vH());const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],mH(r));const i=d(t,["filteredPrompt"]);return i!=null&&p(e,["filteredPrompt"],pH(i)),e}function vH(){return{}}function yH(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],gI(n)),e}function bH(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yI(i))),p(e,["weightedPrompts"],r)}return e}function xH(t){const e={},n=d(t,["clientContent"]);n!=null&&p(e,["clientContent"],hH(n));const r=d(t,["musicGenerationConfig"]);return r!=null&&p(e,["musicGenerationConfig"],AH(r)),e}function wH(t){const e={},n=d(t,["media"]);if(n!=null){let u=QO(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],eI(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&p(e,["video"],ZO(a));const o=d(t,["text"]);return o!=null&&p(e,["text"],o),d(t,["activityStart"])!=null&&p(e,["activityStart"],Cq()),d(t,["activityEnd"])!=null&&p(e,["activityEnd"],_q()),e}function SH(t){const e={},n=d(t,["media"]);if(n!=null){let u=QO(n);Array.isArray(u)&&(u=u.map(c=>c)),p(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&p(e,["audio"],eI(r));const i=d(t,["audioStreamEnd"]);i!=null&&p(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&p(e,["video"],ZO(a));const o=d(t,["text"]);return o!=null&&p(e,["text"],o),d(t,["activityStart"])!=null&&p(e,["activityStart"],Nq()),d(t,["activityEnd"])!=null&&p(e,["activityEnd"],Tq()),e}function _H(t){const e={},n=d(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],$q(n));const r=d(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&p(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&p(e,["inputTranscription"],UN(s));const l=d(t,["outputTranscription"]);l!=null&&p(e,["outputTranscription"],UN(l));const u=d(t,["urlContextMetadata"]);u!=null&&p(e,["urlContextMetadata"],oz(u));const c=d(t,["turnCompleteReason"]);c!=null&&p(e,["turnCompleteReason"],c);const f=d(t,["waitingForInput"]);return f!=null&&p(e,["waitingForInput"],f),e}function TH(t){const e={},n=d(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],Fq(n));const r=d(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&p(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&p(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&p(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&p(e,["inputTranscription"],qN(s));const l=d(t,["outputTranscription"]);l!=null&&p(e,["outputTranscription"],qN(l));const u=d(t,["turnCompleteReason"]);u!=null&&p(e,["turnCompleteReason"],u);const c=d(t,["waitingForInput"]);return c!=null&&p(e,["waitingForInput"],c),e}function CH(t){const e={},n=d(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function NH(t){const e={},n=d(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function EH(t){const e={};d(t,["setupComplete"])!=null&&p(e,["setupComplete"],OH());const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],_H(r));const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],jH(i));const a=d(t,["toolCallCancellation"]);a!=null&&p(e,["toolCallCancellation"],DH(a));const o=d(t,["usageMetadata"]);o!=null&&p(e,["usageMetadata"],cz(o));const s=d(t,["goAway"]);s!=null&&p(e,["goAway"],CH(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],PH(l)),e}function kH(t){const e={},n=d(t,["setupComplete"]);n!=null&&p(e,["setupComplete"],IH(n));const r=d(t,["serverContent"]);r!=null&&p(e,["serverContent"],TH(r));const i=d(t,["toolCall"]);i!=null&&p(e,["toolCall"],RH(i));const a=d(t,["toolCallCancellation"]);a!=null&&p(e,["toolCallCancellation"],LH(a));const o=d(t,["usageMetadata"]);o!=null&&p(e,["usageMetadata"],fz(o));const s=d(t,["goAway"]);s!=null&&p(e,["goAway"],NH(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&p(e,["sessionResumptionUpdate"],MH(l)),e}function PH(t){const e={},n=d(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function MH(t){const e={},n=d(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&p(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&p(e,["lastConsumedClientMessageIndex"],i),e}function OH(){return{}}function IH(t){const e={},n=d(t,["sessionId"]);return n!=null&&p(e,["sessionId"],n),e}function DH(t){const e={},n=d(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function LH(t){const e={},n=d(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function jH(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hI(i))),p(e,["functionCalls"],r)}return e}function RH(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pI(i))),p(e,["functionCalls"],r)}return e}function Pm(t){const e={},n=d(t,["modality"]);n!=null&&p(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function Mm(t){const e={},n=d(t,["modality"]);n!=null&&p(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function BH(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ZH(i))),p(e,["speakerVoiceConfigs"],r)}return e}function $H(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],dz(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Iq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Yq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],hI(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function FH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],hz(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Dq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Kq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],pI(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function UH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],pz(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Lq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Jq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],Qq(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function qH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],Az(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],jq(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],Xq(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],Zq(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function HH(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function zH(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function VH(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function GH(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function WH(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],Mq(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function YH(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],Oq(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function KH(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function JH(t){const e={},n=d(t,["handle"]);n!=null&&p(e,["handle"],n);const r=d(t,["transparent"]);return r!=null&&p(e,["transparent"],r),e}function XH(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function QH(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function ZH(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],vI(r)),e}function ez(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],vI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],BH(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function tz(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],mz(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function nz(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function rz(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function iz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>eH(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],aH(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],rH(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],sz());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],Rq(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function az(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>tH(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],oH(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&p(e,["googleSearchRetrieval"],iH(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],Wq(o));const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],nH(s)),d(t,["urlContext"])!=null&&p(e,["urlContext"],lz());const u=d(t,["computerUse"]);u!=null&&p(e,["computerUse"],Bq(u));const c=d(t,["codeExecution"]);return c!=null&&p(e,["codeExecution"],c),e}function UN(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function qN(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function oz(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uz(i))),p(e,["urlMetadata"],r)}return e}function sz(){return{}}function lz(){return{}}function uz(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function cz(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["responseTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&p(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&p(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(A=>Pm(A))),p(e,["promptTokensDetails"],h)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(A=>Pm(A))),p(e,["cacheTokensDetails"],h)}const c=d(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(A=>Pm(A))),p(e,["responseTokensDetails"],h)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(A=>Pm(A))),p(e,["toolUsePromptTokensDetails"],h)}return e}function fz(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&p(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&p(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&p(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&p(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let A=l;Array.isArray(A)&&(A=A.map(v=>Mm(v))),p(e,["promptTokensDetails"],A)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let A=u;Array.isArray(A)&&(A=A.map(v=>Mm(v))),p(e,["cacheTokensDetails"],A)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let A=c;Array.isArray(A)&&(A=A.map(v=>Mm(v))),p(e,["responseTokensDetails"],A)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let A=f;Array.isArray(A)&&(A=A.map(v=>Mm(v))),p(e,["toolUsePromptTokensDetails"],A)}const h=d(t,["trafficType"]);return h!=null&&p(e,["trafficType"],h),e}function dz(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function hz(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function pz(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function Az(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function vI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],HH(n)),e}function mz(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],zH(n)),e}function gz(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function yI(t){const e={},n=d(t,["text"]);n!=null&&p(e,["text"],n);const r=d(t,["weight"]);return r!=null&&p(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vz(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function yz(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],vz(n));const r=d(t,["authType"]);r!=null&&p(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&p(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&p(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&p(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&p(e,["oidcConfig"],s),e}function bz(t){const e={},n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xz(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function wz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Sz(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["data"]);r!=null&&p(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function _z(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],jz(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Nz(r));const i=d(t,["tokenCount"]);i!=null&&p(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&p(e,["urlContextMetadata"],nW(o));const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&p(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(e,["safetyRatings"],f),e}function Tz(t){const e={},n=d(t,["content"]);n!=null&&p(e,["content"],Rz(n));const r=d(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],Ez(r));const i=d(t,["finishMessage"]);i!=null&&p(e,["finishMessage"],i);const a=d(t,["finishReason"]);a!=null&&p(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&p(e,["urlContextMetadata"],rW(o));const s=d(t,["avgLogprobs"]);s!=null&&p(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&p(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&p(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&p(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&p(e,["safetyRatings"],f),e}function Cz(t){const e={},n=d(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=d(t,["step"]);return i!=null&&p(e,["step"],i),e}function Nz(t){const e={},n=d(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function Ez(t){const e={},n=d(t,["citations"]);return n!=null&&p(e,["citations"],n),e}function kz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let a=pa(i);Array.isArray(a)&&(a=a.map(o=>rd(o))),p(n,["contents"],a)}return n}function Pz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);return r!=null&&p(e,["tokensInfo"],r),e}function Mz(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function Oz(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function Iz(t){const e={},n=d(t,["values"]);return n!=null&&p(e,["values"],n),e}function Dz(t){const e={},n=d(t,["values"]);n!=null&&p(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&p(e,["statistics"],Lz(r)),e}function Lz(t){const e={},n=d(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function jz(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>pG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Rz(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>AG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function bv(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>mG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function rd(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gG(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function Bz(t){const e={},n=d(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function $z(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Fz(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],rd(Gr(r)));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>_I(s))),p(e,["tools"],o)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&p(e,["generationConfig"],a),n}function Uz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>bv(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&$z(a),n}function qz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>rd(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&Fz(a,n),n}function Hz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&p(e,["cachedContentTokenCount"],i),e}function zz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function Vz(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],zt(t,r)),n}function Gz(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],zt(t,r)),n}function Wz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Yz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&p(e,["sdkHttpResponse"],n),e}function Kz(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Jz(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Xz(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&p(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const A=d(t,["language"]);e!==void 0&&A!=null&&p(e,["parameters","language"],A);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&p(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const y=d(t,["editMode"]);e!==void 0&&y!=null&&p(e,["parameters","editMode"],y);const x=d(t,["baseSteps"]);return e!==void 0&&x!=null&&p(e,["parameters","editConfig","baseSteps"],x),n}function Qz(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>TG(l))),p(n,["instances[0]","referenceImages"],s)}const o=d(e,["config"]);return o!=null&&Xz(o,n),n}function Zz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>xv(a))),p(e,["generatedImages"],i)}return e}function eV(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&p(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tV(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&p(e,["instances[]","title"],i);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&p(e,["parameters","outputDimensionality"],a);const o=d(t,["mimeType"]);e!==void 0&&o!=null&&p(e,["instances[]","mimeType"],o);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&p(e,["parameters","autoTruncate"],s),n}function nV(){return{}}function rV(t){const e={},n=d(t,["billableCharacterCount"]);return n!=null&&p(e,["billableCharacterCount"],n),e}function iV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);i!=null&&p(n,["requests[]","content"],sS(t,i));const a=d(e,["config"]);a!=null&&eV(a,n);const o=d(e,["model"]);return o!==void 0&&p(n,["requests[]","model"],zt(t,o)),n}function aV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);i!=null&&p(n,["instances[]","content"],sS(t,i));const a=d(e,["config"]);return a!=null&&tV(a,n),n}function oV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Iz(o))),p(e,["embeddings"],a)}return d(t,["metadata"])!=null&&p(e,["metadata"],nV()),e}function sV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Dz(o))),p(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&p(e,["metadata"],rV(i)),e}function lV(t){const e={},n=d(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function uV(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&p(e,["excludeDomains"],n),e}function cV(t){const e={},n=d(t,["label"]);n!=null&&p(e,["label"],n);const r=d(t,["score"]);return r!=null&&p(e,["score"],r),e}function fV(t){const e={},n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function dV(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function hV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function pV(t){const e={},n=d(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function AV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function mV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function gV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function vV(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function yV(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function bV(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function xV(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function wV(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&p(e,["description"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["parameters"]);i!=null&&p(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&p(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&p(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&p(e,["responseJsonSchema"],s),e}function SV(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],bv(Gr(i)));const a=d(e,["temperature"]);a!=null&&p(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&p(r,["topP"],o);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const A=d(e,["presencePenalty"]);A!=null&&p(r,["presencePenalty"],A);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&p(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&p(r,["responseSchema"],PG(lS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&p(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(B=>EG(B))),p(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=td(T);Array.isArray(M)&&(M=M.map(B=>GG(ed(B)))),p(n,["tools"],M)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&p(n,["toolConfig"],zG(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&p(n,["cachedContent"],rs(t,k));const E=d(e,["responseModalities"]);E!=null&&p(r,["responseModalities"],E);const O=d(e,["mediaResolution"]);O!=null&&p(r,["mediaResolution"],O);const D=d(e,["speechConfig"]);if(D!=null&&p(r,["speechConfig"],BG(uS(D))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=d(e,["thinkingConfig"]);$!=null&&p(r,["thinkingConfig"],qG($));const I=d(e,["imageConfig"]);return I!=null&&p(r,["imageConfig"],QV(I)),r}function _V(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],rd(Gr(i)));const a=d(e,["temperature"]);a!=null&&p(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&p(r,["topP"],o);const s=d(e,["topK"]);s!=null&&p(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&p(r,["logprobs"],h);const A=d(e,["presencePenalty"]);A!=null&&p(r,["presencePenalty"],A);const v=d(e,["frequencyPenalty"]);v!=null&&p(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&p(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&p(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&p(r,["responseSchema"],MG(lS(y)));const x=d(e,["responseJsonSchema"]);x!=null&&p(r,["responseJsonSchema"],x);const S=d(e,["routingConfig"]);S!=null&&p(r,["routingConfig"],S);const T=d(e,["modelSelectionConfig"]);T!=null&&p(r,["modelConfig"],dG(T));const C=d(e,["safetySettings"]);if(n!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(U=>kG(U))),p(n,["safetySettings"],R)}const k=d(e,["tools"]);if(n!==void 0&&k!=null){let R=td(k);Array.isArray(R)&&(R=R.map(U=>_I(ed(U)))),p(n,["tools"],R)}const E=d(e,["toolConfig"]);n!==void 0&&E!=null&&p(n,["toolConfig"],VG(E));const O=d(e,["labels"]);n!==void 0&&O!=null&&p(n,["labels"],O);const D=d(e,["cachedContent"]);n!==void 0&&D!=null&&p(n,["cachedContent"],rs(t,D));const $=d(e,["responseModalities"]);$!=null&&p(r,["responseModalities"],$);const I=d(e,["mediaResolution"]);I!=null&&p(r,["mediaResolution"],I);const M=d(e,["speechConfig"]);M!=null&&p(r,["speechConfig"],$G(uS(M)));const B=d(e,["audioTimestamp"]);B!=null&&p(r,["audioTimestamp"],B);const F=d(e,["thinkingConfig"]);F!=null&&p(r,["thinkingConfig"],HG(F));const G=d(e,["imageConfig"]);return G!=null&&p(r,["imageConfig"],ZV(G)),r}function HN(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>bv(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&p(n,["generationConfig"],SV(t,a,n)),n}function zN(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["contents"]);if(i!=null){let o=pa(i);Array.isArray(o)&&(o=o.map(s=>rd(s))),p(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&p(n,["generationConfig"],_V(t,a,n)),n}function VN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_z(u))),p(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&p(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&p(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&p(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&p(e,["usageMetadata"],s),e}function GN(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Tz(c))),p(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&p(e,["createTime"],i);const a=d(t,["modelVersion"]);a!=null&&p(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&p(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&p(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&p(e,["usageMetadata"],l),e}function TV(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&p(e,["parameters","aspectRatio"],i);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&p(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&p(e,["parameters","safetySetting"],o);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&p(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&p(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&p(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&p(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const A=d(t,["imageSize"]);if(e!==void 0&&A!=null&&p(e,["parameters","sampleImageSize"],A),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function CV(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&p(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&p(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&p(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&p(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&p(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const A=d(t,["language"]);e!==void 0&&A!=null&&p(e,["parameters","language"],A);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&p(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&p(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&p(e,["parameters","addWatermark"],w);const y=d(t,["imageSize"]);e!==void 0&&y!=null&&p(e,["parameters","sampleImageSize"],y);const x=d(t,["enhancePrompt"]);return e!==void 0&&x!=null&&p(e,["parameters","enhancePrompt"],x),n}function NV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&TV(a,n),n}function EV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&CV(a,n),n}function kV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>UV(o))),p(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],wI(i)),e}function PV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>xv(o))),p(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&p(e,["positivePromptSafetyAttributes"],SI(i)),e}function MV(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&p(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&p(e,["parameters","aspectRatio"],a);const o=d(t,["resolution"]);e!==void 0&&o!=null&&p(e,["parameters","resolution"],o);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&p(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&p(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function OV(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&p(e,["parameters","storageUri"],i);const a=d(t,["fps"]);e!==void 0&&a!=null&&p(e,["parameters","fps"],a);const o=d(t,["durationSeconds"]);e!==void 0&&o!=null&&p(e,["parameters","durationSeconds"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&p(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&p(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&p(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&p(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&p(e,["parameters","negativePrompt"],h);const A=d(t,["enhancePrompt"]);e!==void 0&&A!=null&&p(e,["parameters","enhancePrompt"],A);const v=d(t,["generateAudio"]);e!==void 0&&v!=null&&p(e,["parameters","generateAudio"],v);const b=d(t,["lastFrame"]);e!==void 0&&b!=null&&p(e,["instances[0]","lastFrame"],Fa(b));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(T=>fW(T))),p(e,["instances[0]","referenceImages"],S)}const y=d(t,["mask"]);e!==void 0&&y!=null&&p(e,["instances[0]","mask"],cW(y));const x=d(t,["compressionQuality"]);return e!==void 0&&x!=null&&p(e,["parameters","compressionQuality"],x),n}function IV(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&p(e,["response"],RV(o)),e}function DV(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["metadata"]);r!=null&&p(e,["metadata"],r);const i=d(t,["done"]);i!=null&&p(e,["done"],i);const a=d(t,["error"]);a!=null&&p(e,["error"],a);const o=d(t,["response"]);return o!=null&&p(e,["response"],BV(o)),e}function LV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["image"]);if(a!=null&&p(n,["instances[0]","image"],xI(a)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=d(e,["source"]);o!=null&&$V(o,n);const s=d(e,["config"]);return s!=null&&MV(s,n),n}function jV(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["prompt"]);i!=null&&p(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&p(n,["instances[0]","image"],Fa(a));const o=d(e,["video"]);o!=null&&p(n,["instances[0]","video"],TI(o));const s=d(e,["source"]);s!=null&&FV(s,n);const l=d(e,["config"]);return l!=null&&OV(l,n),n}function RV(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>HV(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function BV(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>zV(o))),p(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&p(e,["raiMediaFilteredReasons"],i),e}function $V(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);if(e!==void 0&&i!=null&&p(e,["instances[0]","image"],xI(i)),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function FV(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Fa(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&p(e,["instances[0]","video"],TI(a)),n}function UV(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],eG(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&p(e,["safetyAttributes"],wI(i)),e}function xv(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["image"],bI(n));const r=d(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&p(e,["safetyAttributes"],SI(i));const a=d(t,["prompt"]);return a!=null&&p(e,["enhancedPrompt"],a),e}function qV(t){const e={},n=d(t,["_self"]);n!=null&&p(e,["mask"],bI(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>cV(a))),p(e,["labels"],i)}return e}function HV(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],lW(n)),e}function zV(t){const e={},n=d(t,["_self"]);return n!=null&&p(e,["video"],uW(n)),e}function VV(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],zt(t,r)),n}function GV(t,e){const n={},r=d(e,["model"]);return r!=null&&p(n,["_url","name"],zt(t,r)),n}function WV(t){const e={},n=d(t,["authConfig"]);return n!=null&&p(e,["authConfig"],yz(n)),e}function YV(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Kz(n)),e}function KV(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Jz(n)),e}function JV(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],tG(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function XV(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&p(e,["timeRangeFilter"],nG(n));const r=d(t,["excludeDomains"]);return r!=null&&p(e,["excludeDomains"],r),e}function QV(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&p(e,["aspectRatio"],n),e}function ZV(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&p(e,["aspectRatio"],n),e}function eG(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],Eu(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function bI(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Eu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function xI(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],Eu(n));const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Fa(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Eu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function tG(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function nG(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function rG(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function iG(t){const e={},n=d(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function aG(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&p(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],iI(t,s)),r}function oG(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&p(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&p(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&p(n,["_url","models_url"],iI(t,s)),r}function sG(t,e){const n={},r=d(e,["config"]);return r!=null&&aG(t,r,n),n}function lG(t,e){const n={},r=d(e,["config"]);return r!=null&&oG(t,r,n),n}function uG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=aI(i);Array.isArray(a)&&(a=a.map(o=>Zx(o))),p(e,["models"],a)}return e}function cG(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=aI(i);Array.isArray(a)&&(a=a.map(o=>e2(o))),p(e,["models"],a)}return e}function fG(t){const e={},n=d(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&p(e,["dilation"],i),e}function Zx(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["version"]);a!=null&&p(e,["version"],a);const o=d(t,["_self"]);o!=null&&p(e,["tunedModelInfo"],WG(o));const s=d(t,["inputTokenLimit"]);s!=null&&p(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&p(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);return u!=null&&p(e,["supportedActions"],u),e}function e2(t){const e={},n=d(t,["name"]);n!=null&&p(e,["name"],n);const r=d(t,["displayName"]);r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["versionId"]);a!=null&&p(e,["version"],a);const o=d(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>lV(h))),p(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&p(e,["labels"],s);const l=d(t,["_self"]);l!=null&&p(e,["tunedModelInfo"],YG(l));const u=d(t,["defaultCheckpointId"]);u!=null&&p(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Cz(h))),p(e,["checkpoints"],f)}return e}function dG(t){const e={},n=d(t,["featureSelectionPreference"]);return n!=null&&p(e,["featureSelectionPreference"],n),e}function hG(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>RG(i))),p(e,["speakerVoiceConfigs"],r)}return e}function pG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],dW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],bz(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],fV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],AV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function AG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],hW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],xz(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],dV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],mV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function mG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],pW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],wz(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],hV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],gV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function gG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],AW(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],Sz(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],pV(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],vV(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function vG(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function yG(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function bG(t){const e={},n=d(t,["productImage"]);return n!=null&&p(e,["image"],Fa(n)),e}function xG(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&p(e,["parameters","editConfig","baseSteps"],i);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&p(e,["parameters","storageUri"],a);const o=d(t,["seed"]);e!==void 0&&o!=null&&p(e,["parameters","seed"],o);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&p(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&p(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&p(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&p(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&p(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);return e!==void 0&&h!=null&&p(e,["parameters","enhancePrompt"],h),n}function wG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["source"]);i!=null&&_G(i,n);const a=d(e,["config"]);return a!=null&&xG(a,n),n}function SG(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xv(i))),p(e,["generatedImages"],r)}return e}function _G(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&p(e,["instances[0]","personImage","image"],Fa(i));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>bG(s))),p(e,["instances[0]","productImages"],o)}return n}function TG(t){const e={},n=d(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],Fa(n));const r=d(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&p(e,["referenceType"],i);const a=d(t,["maskImageConfig"]);a!=null&&p(e,["maskImageConfig"],fG(a));const o=d(t,["controlImageConfig"]);o!=null&&p(e,["controlImageConfig"],Bz(o));const s=d(t,["styleImageConfig"]);s!=null&&p(e,["styleImageConfig"],FG(s));const l=d(t,["subjectImageConfig"]);return l!=null&&p(e,["subjectImageConfig"],UG(l)),e}function CG(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],rG(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function NG(t){const e={},n=d(t,["latLng"]);n!=null&&p(e,["latLng"],iG(n));const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function wI(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function SI(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&p(e,["contentType"],i),e}function EG(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&p(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function kG(t){const e={},n=d(t,["method"]);n!=null&&p(e,["method"],n);const r=d(t,["category"]);r!=null&&p(e,["category"],r);const i=d(t,["threshold"]);return i!=null&&p(e,["threshold"],i),e}function PG(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["enum"]);a!=null&&p(e,["enum"],a);const o=d(t,["example"]);o!=null&&p(e,["example"],o);const s=d(t,["format"]);s!=null&&p(e,["format"],s);const l=d(t,["items"]);l!=null&&p(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&p(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&p(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&p(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&p(e,["maximum"],h);const A=d(t,["minItems"]);A!=null&&p(e,["minItems"],A);const v=d(t,["minLength"]);v!=null&&p(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&p(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&p(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&p(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&p(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&p(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&p(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&p(e,["required"],C);const k=d(t,["title"]);k!=null&&p(e,["title"],k);const E=d(t,["type"]);return E!=null&&p(e,["type"],E),e}function MG(t){const e={},n=d(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&p(e,["default"],r);const i=d(t,["description"]);i!=null&&p(e,["description"],i);const a=d(t,["enum"]);a!=null&&p(e,["enum"],a);const o=d(t,["example"]);o!=null&&p(e,["example"],o);const s=d(t,["format"]);s!=null&&p(e,["format"],s);const l=d(t,["items"]);l!=null&&p(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&p(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&p(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&p(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&p(e,["maximum"],h);const A=d(t,["minItems"]);A!=null&&p(e,["minItems"],A);const v=d(t,["minLength"]);v!=null&&p(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&p(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&p(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&p(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&p(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&p(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&p(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&p(e,["required"],C);const k=d(t,["title"]);k!=null&&p(e,["title"],k);const E=d(t,["type"]);return E!=null&&p(e,["type"],E),e}function OG(t){const e={},n=d(t,["image"]);return n!=null&&p(e,["image"],Fa(n)),e}function IG(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&p(e,["parameters","maxPredictions"],i);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&p(e,["parameters","confidenceThreshold"],a);const o=d(t,["maskDilation"]);e!==void 0&&o!=null&&p(e,["parameters","maskDilation"],o);const s=d(t,["binaryColorThreshold"]);return e!==void 0&&s!=null&&p(e,["parameters","binaryColorThreshold"],s),n}function DG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["source"]);i!=null&&jG(i,n);const a=d(e,["config"]);return a!=null&&IG(a,n),n}function LG(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qV(i))),p(e,["generatedMasks"],r)}return e}function jG(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&p(e,["instances[0]","image"],Fa(i));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&p(e,["instances[0]","scribble"],OG(a)),n}function RG(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],CI(r)),e}function BG(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],CI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],hG(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function $G(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],mW(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function FG(t){const e={},n=d(t,["styleDescription"]);return n!=null&&p(e,["styleDescription"],n),e}function UG(t){const e={},n=d(t,["subjectType"]);n!=null&&p(e,["subjectType"],n);const r=d(t,["subjectDescription"]);return r!=null&&p(e,["subjectDescription"],r),e}function qG(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function HG(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function zG(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],yV(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],CG(r)),e}function VG(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],bV(n));const r=d(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],NG(r)),e}function GG(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>xV(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],JV(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],YV(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],iW());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],Mz(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function _I(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>wV(h))),p(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&p(e,["googleSearch"],XV(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&p(e,["googleSearchRetrieval"],KV(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&p(e,["enterpriseWebSearch"],uV(o));const s=d(t,["googleMaps"]);s!=null&&p(e,["googleMaps"],WV(s)),d(t,["urlContext"])!=null&&p(e,["urlContext"],aW());const u=d(t,["computerUse"]);u!=null&&p(e,["computerUse"],Oz(u));const c=d(t,["codeExecution"]);return c!=null&&p(e,["codeExecution"],c),e}function WG(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function YG(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&p(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&p(e,["updateTime"],i),e}function KG(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&p(e,["defaultCheckpointId"],a),n}function JG(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&p(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&p(e,["defaultCheckpointId"],a),n}function XG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","name"],zt(t,r));const i=d(e,["config"]);return i!=null&&KG(i,n),n}function QG(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&JG(i,n),n}function ZG(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const i=d(t,["includeRaiReason"]);e!==void 0&&i!=null&&p(e,["parameters","includeRaiReason"],i);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&p(e,["parameters","outputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&p(e,["parameters","outputOptions","compressionQuality"],o);const s=d(t,["enhanceInputImage"]);e!==void 0&&s!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],s);const l=d(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=d(t,["numberOfImages"]);e!==void 0&&u!=null&&p(e,["parameters","sampleCount"],u);const c=d(t,["mode"]);return e!==void 0&&c!=null&&p(e,["parameters","mode"],c),n}function eW(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["_url","model"],zt(t,r));const i=d(e,["image"]);i!=null&&p(n,["instances[0]","image"],Fa(i));const a=d(e,["upscaleFactor"]);a!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=d(e,["config"]);return o!=null&&ZG(o,n),n}function tW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>xv(a))),p(e,["generatedImages"],i)}return e}function nW(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>oW(i))),p(e,["urlMetadata"],r)}return e}function rW(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sW(i))),p(e,["urlMetadata"],r)}return e}function iW(){return{}}function aW(){return{}}function oW(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function sW(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function lW(t){const e={},n=d(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],Eu(r));const i=d(t,["encoding"]);return i!=null&&p(e,["mimeType"],i),e}function uW(t){const e={},n=d(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Eu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function cW(t){const e={},n=d(t,["image"]);n!=null&&p(e,["_self"],Fa(n));const r=d(t,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function fW(t){const e={},n=d(t,["image"]);n!=null&&p(e,["image"],Fa(n));const r=d(t,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function dW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function hW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function pW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function AW(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function TI(t){const e={},n=d(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Eu(r));const i=d(t,["mimeType"]);return i!=null&&p(e,["mimeType"],i),e}function CI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],vG(n)),e}function mW(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],yG(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gW="Content-Type",vW="X-Server-Timeout",yW="User-Agent",t2="x-goog-api-client",bW="1.22.0",xW=`google-genai-sdk/${bW}`,wW="v1beta1",SW="v1beta",WN=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _W{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:wW,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:SW,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&TW(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YN(i),new Yx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await YN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return af(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield Nn(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),A=h.status,v=h.code,b=`got status: ${A}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new yv({message:b,status:v})}}catch(f){if(f.name==="ApiError")throw f}o+=u;let c=o.match(WN);for(;c;){const f=c[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Nn(new Yx(h)),o=o.slice(c[0].length),c=o.match(WN)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=xW+" "+this.clientOptions.userAgentExtra;return e[yW]=n,e[t2]=n,e[gW]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(vW,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l=await this.fetchUploadUrl(i,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:ot("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function YN(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new yv({message:i,status:n}):new Error(i)}}function TW(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CW="mcp_used/unknown";let NW=!1;function NI(t){for(const e of t)if(EW(e)||typeof e=="object"&&"inputSchema"in e)return!0;return NW}function EI(t){var e;const n=(e=t[t2])!==null&&e!==void 0?e:"";t[t2]=(n+` ${CW}`).trimStart()}function EW(t){return t!==null&&typeof t=="object"&&t instanceof dS}function kW(t,e=100){return af(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Nn(t.listTools({cursor:r}));for(const o of a.tools)yield yield Nn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class dS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new dS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Bh(kW(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;o.push(f);const h=f.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),$F(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PW(t,e,n){const r=new MF;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=gH(i);Object.assign(r,a),e(r)}class MW{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=DW(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},A=this.apiClient,v={onopen:h,onmessage:S=>{PW(A,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(l,IW(o),v);b.connect(),await c;const w=zt(this.apiClient,e.model),y=mI({model:w}),x=Qx({setup:y});return b.send(JSON.stringify(x)),new OW(b,this.apiClient)}}class OW{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=bH(e),r=AI(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=yH(e),r=Qx(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=Qx({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Hc.PLAY)}pause(){this.sendPlaybackControl(Hc.PAUSE)}stop(){this.sendPlaybackControl(Hc.STOP)}resetContext(){this.sendPlaybackControl(Hc.RESET_CONTEXT)}close(){this.conn.close()}}function IW(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function DW(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LW="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function jW(t,e,n){const r=new PF;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=kH(a);Object.assign(r,o)}else{const o=EH(a);Object.assign(r,o)}e(r)}class RW{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new MW(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&NI(e.config.tools)&&EI(f);const h=UW(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const D=this.apiClient.getApiKey();let $="BidiGenerateContent",I="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",I="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${$}?${I}=${D}`}let A=()=>{};const v=new Promise(D=>{A=D}),b=e.callbacks,w=function(){var D;(D=b==null?void 0:b.onopen)===null||D===void 0||D.call(b),A({})},y=this.apiClient,x={onopen:w,onmessage:D=>{jW(y,b.onmessage,D)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(D){}},S=this.webSocketFactory.create(c,FW(h),x);S.connect(),await v;let T=zt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const D=this.apiClient.getProject(),$=this.apiClient.getLocation();T=`projects/${D}/locations/${$}/`+T}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Yg.AUDIO]}:e.config.responseModalities=[Yg.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const D of k)if(this.isCallableTool(D)){const $=D;E.push(await $.tool())}else E.push(D);E.length>0&&(e.config.tools=E);const O={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=dH(this.apiClient,O):C=fH(this.apiClient,O),delete C.config,S.send(JSON.stringify(C)),new $W(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const BW={turnComplete:!0};class $W{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=pa(n.turns),e.isVertexAI()?r=r.map(i=>rd(i)):r=r.map(i=>bv(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(LW)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},BW),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:SH(e)}:n={realtimeInput:wH(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function FW(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function UW(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KN=10;function JN(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(of(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function of(t){return"callTool"in t&&typeof t.callTool=="function"}function qW(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>of(i)))!==null&&r!==void 0?r:!1}function HW(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!of(i)))!==null&&r!==void 0?r:!1}function XN(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zW extends Nu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!qW(n)||JN(n.config))return await this.generateContentInternal(l);if(HW(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const f=pa(l.contents),h=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:KN;let A=0;for(;A<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const v=u.candidates[0].content,b=[];for(const w of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(of(w)){const x=await w.callTool(u.functionCalls);b.push(...x)}A++,c={role:"user",parts:b},l.contents=pa(l.contents),l.contents.push(v),l.contents.push(c),XN(l.config)&&(f.push(v),f.push(c))}return XN(l.config)&&(u.automaticFunctionCallingHistory=f),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),JN(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new fA(Au.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>of(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&NI(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),EI(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(of(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:KN;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var h,A;return af(this,arguments,function*(){for(var v,b,w,y;s<a;){o&&(s++,o=!1);const C=yield Nn(u.processParamsMaybeAddMcpUsage(f)),k=yield Nn(u.generateContentStreamInternal(C)),E=[],O=[];try{for(var x=!0,S=(b=void 0,Bh(k)),T;T=yield Nn(S.next()),v=T.done,!v;x=!0){y=T.value,x=!1;const D=y;if(yield yield Nn(D),D.candidates&&(!((h=D.candidates[0])===null||h===void 0)&&h.content)){O.push(D.candidates[0].content);for(const $ of(A=D.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(s<a&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has($.functionCall.name)){const I=yield Nn(c.get($.functionCall.name).callTool([$.functionCall]));E.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(D){b={error:D}}finally{try{!x&&!v&&(w=S.return)&&(yield Nn(w.call(S)))}finally{if(b)throw b.error}}if(E.length>0){o=!0;const D=new nh;D.candidates=[{content:{role:"user",parts:E}}],yield yield Nn(D);const $=[];$.push(...O),$.push({role:"user",parts:E});const I=pa(f.contents).concat($);f.contents=I}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=zN(this.apiClient,e);return s=ot("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=GN(c),h=new nh;return Object.assign(h,f),h})}else{const u=HN(this.apiClient,e);return s=ot("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=VN(c),h=new nh;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=zN(this.apiClient,e);return s=ot("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return af(this,arguments,function*(){var h,A,v,b;try{for(var w=!0,y=Bh(f),x;x=yield Nn(y.next()),h=x.done,!h;w=!0){b=x.value,w=!1;const S=b,T=GN(yield Nn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new nh;Object.assign(C,T),yield yield Nn(C)}}catch(S){A={error:S}}finally{try{!w&&!h&&(v=y.return)&&(yield Nn(v.call(y)))}finally{if(A)throw A.error}}})})}else{const u=HN(this.apiClient,e);return s=ot("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return af(this,arguments,function*(){var h,A,v,b;try{for(var w=!0,y=Bh(f),x;x=yield Nn(y.next()),h=x.done,!h;w=!0){b=x.value,w=!1;const S=b,T=VN(yield Nn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new nh;Object.assign(C,T),yield yield Nn(C)}}catch(S){A={error:S}}finally{try{!w&&!h&&(v=y.return)&&(yield Nn(v.call(y)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aV(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=sV(c),h=new SN;return Object.assign(h,f),h})}else{const u=iV(this.apiClient,e);return s=ot("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=oV(c),h=new SN;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=EV(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=PV(c),h=new _N;return Object.assign(h,f),h})}else{const u=NV(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=kV(c),h=new _N;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Qz(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Zz(l),c=new wF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=eW(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=tW(l),c=new SF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=wG(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=SG(l),c=new _F;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=DG(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=LG(l),c=new TF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=GV(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>e2(c))}else{const u=VV(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Zx(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=lG(this.apiClient,e);return s=ot("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=cG(c),h=new TN;return Object.assign(h,f),h})}else{const u=sG(this.apiClient,e);return s=ot("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=uG(c),h=new TN;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=QG(this.apiClient,e);return s=ot("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>e2(c))}else{const u=XG(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Zx(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Gz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Yz(c),h=new CN;return Object.assign(h,f),h})}else{const u=Vz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Wz(c),h=new CN;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=qz(this.apiClient,e);return s=ot("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=zz(c),h=new NN;return Object.assign(h,f),h})}else{const u=Uz(this.apiClient,e);return s=ot("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Hz(c),h=new NN;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=kz(this.apiClient,e);return a=ot("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Pz(l),c=new CF;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=jV(this.apiClient,e);return s=ot("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=DV(c),h=new Kg;return Object.assign(h,f),h})}else{const u=LV(this.apiClient,e);return s=ot("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const f=IV(c),h=new Kg;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VW extends Nu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=yF(e);return s=ot("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=vF(e);return s=ot("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=fF(e);return a=ot("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QN(){return{}}function GW(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["name"],n),e}function WW(t){const e={},n=d(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&p(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&p(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&p(e,["silenceDurationMs"],o),e}function YW(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&p(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function KW(t){const e={},n=d(t,["environment"]);n!=null&&p(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&p(e,["excludedPredefinedFunctions"],r),e}function JW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cY(a))),p(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&p(e,["role"],r),e}function XW(t){const e={},n=d(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],AY(r)),e}function QW(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&p(n,["newSessionExpireTime"],a);const o=d(e,["uses"]);n!==void 0&&o!=null&&p(n,["uses"],o);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],lY(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function ZW(t,e){const n={},r=d(e,["config"]);return r!=null&&p(n,["config"],QW(t,r,n)),n}function eY(t){const e={},n=d(t,["mode"]);n!=null&&p(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function tY(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function nY(t){const e={},n=d(t,["id"]);n!=null&&p(e,["id"],n);const r=d(t,["args"]);r!=null&&p(e,["args"],r);const i=d(t,["name"]);return i!=null&&p(e,["name"],i),e}function rY(t){const e={},n=d(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=d(t,["description"]);r!=null&&p(e,["description"],r);const i=d(t,["name"]);i!=null&&p(e,["name"],i);const a=d(t,["parameters"]);a!=null&&p(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&p(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&p(e,["responseJsonSchema"],l),e}function iY(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],eY(n)),e}function aY(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&p(e,["timeRangeFilter"],oY(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function oY(t){const e={},n=d(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function sY(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&p(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&p(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&p(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&p(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","speechConfig"],gY(cS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","thinkingConfig"],vY(h));const A=d(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],A);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&p(e,["setup","systemInstruction"],JW(Gr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=td(b);Array.isArray(k)&&(k=k.map(E=>yY(ed(E)))),p(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&p(e,["setup","sessionResumption"],pY(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&p(e,["setup","inputAudioTranscription"],QN());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&p(e,["setup","outputAudioTranscription"],QN());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&p(e,["setup","realtimeInputConfig"],hY(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&p(e,["setup","contextWindowCompression"],XW(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&p(e,["setup","proactivity"],dY(C)),n}function lY(t,e){const n={},r=d(e,["model"]);r!=null&&p(n,["setup","model"],zt(t,r));const i=d(e,["config"]);return i!=null&&p(n,["config"],sY(i,n)),n}function uY(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mY(i))),p(e,["speakerVoiceConfigs"],r)}return e}function cY(t){const e={},n=d(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],xY(n));const r=d(t,["thought"]);r!=null&&p(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&p(e,["inlineData"],YW(i));const a=d(t,["fileData"]);a!=null&&p(e,["fileData"],tY(a));const o=d(t,["thoughtSignature"]);o!=null&&p(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&p(e,["functionCall"],nY(s));const l=d(t,["codeExecutionResult"]);l!=null&&p(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&p(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&p(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&p(e,["text"],f),e}function fY(t){const e={},n=d(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function dY(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function hY(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],WW(n));const r=d(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&p(e,["turnCoverage"],i),e}function pY(t){const e={},n=d(t,["handle"]);if(n!=null&&p(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function AY(t){const e={},n=d(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function mY(t){const e={},n=d(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],kI(r)),e}function gY(t){const e={},n=d(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],kI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],uY(r));const i=d(t,["languageCode"]);return i!=null&&p(e,["languageCode"],i),e}function vY(t){const e={},n=d(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function yY(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>rY(u))),p(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],aY(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&p(e,["googleSearchRetrieval"],iY(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&p(e,["urlContext"],bY());const o=d(t,["computerUse"]);o!=null&&p(e,["computerUse"],KW(o));const s=d(t,["codeExecution"]);return s!=null&&p(e,["codeExecution"],s),e}function bY(){return{}}function xY(t){const e={},n=d(t,["fps"]);n!=null&&p(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&p(e,["startOffset"],i),e}function kI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],fY(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wY(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function SY(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=wY(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class _Y extends Nu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=ZW(this.apiClient,e);a=ot("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=SY(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>GW(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function CY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function NY(t,e){const n={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&p(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=d(t,["epochCount"]);e!==void 0&&i!=null&&p(e,["tuningTask","hyperparameters","epochCount"],i);const a=d(t,["learningRateMultiplier"]);if(a!=null&&p(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(t,["batchSize"]);e!==void 0&&o!=null&&p(e,["tuningTask","hyperparameters","batchSize"],o);const s=d(t,["learningRate"]);if(e!==void 0&&s!=null&&p(e,["tuningTask","hyperparameters","learningRate"],s),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function EY(t,e){const n={},r=d(t,["validationDataset"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec"],GY(r,n));const i=d(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&p(e,["tunedModelDisplayName"],i);const a=d(t,["description"]);e!==void 0&&a!=null&&p(e,["description"],a);const o=d(t,["epochCount"]);e!==void 0&&o!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);e!==void 0&&s!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=d(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=d(t,["adapterSize"]);if(e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=d(t,["labels"]);return e!==void 0&&c!=null&&p(e,["labels"],c),n}function kY(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&p(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&p(e,["tuningTask","trainingData"],qY(i));const a=d(t,["config"]);return a!=null&&NY(a,e),e}function PY(t){const e={},n=d(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&p(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],HY(i,e));const a=d(t,["config"]);return a!=null&&EY(a,e),e}function MY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function OY(t){const e={},n=d(t,["name"]);return n!=null&&p(e,["_url","name"],n),e}function IY(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),n}function DY(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&p(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&p(e,["_query","filter"],a),n}function LY(t){const e={},n=d(t,["config"]);return n!=null&&IY(n,e),e}function jY(t){const e={},n=d(t,["config"]);return n!=null&&DY(n,e),e}function RY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>PI(o))),p(e,["tuningJobs"],a)}return e}function BY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const i=d(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>n2(o))),p(e,["tuningJobs"],a)}return e}function $Y(t){const e={},n=d(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&p(e,["epoch"],r);const i=d(t,["step"]);i!=null&&p(e,["step"],i);const a=d(t,["endpoint"]);return a!=null&&p(e,["endpoint"],a),e}function FY(t){const e={},n=d(t,["name"]);n!=null&&p(e,["model"],n);const r=d(t,["name"]);return r!=null&&p(e,["endpoint"],r),e}function UY(t){const e={},n=d(t,["model"]);n!=null&&p(e,["model"],n);const r=d(t,["endpoint"]);r!=null&&p(e,["endpoint"],r);const i=d(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>$Y(o))),p(e,["checkpoints"],a)}return e}function qY(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=d(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zY(i))),p(e,["examples","examples"],r)}return e}function HY(t,e){const n={},r=d(t,["gcsUri"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function zY(t){const e={},n=d(t,["textInput"]);n!=null&&p(e,["textInput"],n);const r=d(t,["output"]);return r!=null&&p(e,["output"],r),e}function PI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],nI(i));const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["tuningTask","startTime"]);o!=null&&p(e,["startTime"],o);const s=d(t,["tuningTask","completeTime"]);s!=null&&p(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["description"]);u!=null&&p(e,["description"],u);const c=d(t,["baseModel"]);c!=null&&p(e,["baseModel"],c);const f=d(t,["_self"]);f!=null&&p(e,["tunedModel"],FY(f));const h=d(t,["customBaseModel"]);h!=null&&p(e,["customBaseModel"],h);const A=d(t,["experiment"]);A!=null&&p(e,["experiment"],A);const v=d(t,["labels"]);v!=null&&p(e,["labels"],v);const b=d(t,["outputUri"]);b!=null&&p(e,["outputUri"],b);const w=d(t,["pipelineJob"]);w!=null&&p(e,["pipelineJob"],w);const y=d(t,["serviceAccount"]);y!=null&&p(e,["serviceAccount"],y);const x=d(t,["tunedModelDisplayName"]);x!=null&&p(e,["tunedModelDisplayName"],x);const S=d(t,["veoTuningSpec"]);return S!=null&&p(e,["veoTuningSpec"],S),e}function n2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["state"]);i!=null&&p(e,["state"],nI(i));const a=d(t,["createTime"]);a!=null&&p(e,["createTime"],a);const o=d(t,["startTime"]);o!=null&&p(e,["startTime"],o);const s=d(t,["endTime"]);s!=null&&p(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&p(e,["updateTime"],l);const u=d(t,["error"]);u!=null&&p(e,["error"],u);const c=d(t,["description"]);c!=null&&p(e,["description"],c);const f=d(t,["baseModel"]);f!=null&&p(e,["baseModel"],f);const h=d(t,["tunedModel"]);h!=null&&p(e,["tunedModel"],UY(h));const A=d(t,["preTunedModel"]);A!=null&&p(e,["preTunedModel"],A);const v=d(t,["supervisedTuningSpec"]);v!=null&&p(e,["supervisedTuningSpec"],v);const b=d(t,["tuningDataStats"]);b!=null&&p(e,["tuningDataStats"],b);const w=d(t,["encryptionSpec"]);w!=null&&p(e,["encryptionSpec"],w);const y=d(t,["partnerModelTuningSpec"]);y!=null&&p(e,["partnerModelTuningSpec"],y);const x=d(t,["customBaseModel"]);x!=null&&p(e,["customBaseModel"],x);const S=d(t,["experiment"]);S!=null&&p(e,["experiment"],S);const T=d(t,["labels"]);T!=null&&p(e,["labels"],T);const C=d(t,["outputUri"]);C!=null&&p(e,["outputUri"],C);const k=d(t,["pipelineJob"]);k!=null&&p(e,["pipelineJob"],k);const E=d(t,["serviceAccount"]);E!=null&&p(e,["serviceAccount"],E);const O=d(t,["tunedModelDisplayName"]);O!=null&&p(e,["tunedModelDisplayName"],O);const D=d(t,["veoTuningSpec"]);return D!=null&&p(e,["veoTuningSpec"],D),e}function VY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&p(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&p(e,["name"],r);const i=d(t,["metadata"]);i!=null&&p(e,["metadata"],i);const a=d(t,["done"]);a!=null&&p(e,["done"],a);const o=d(t,["error"]);return o!=null&&p(e,["error"],o),e}function GY(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WY extends Nu{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new fA(Au.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Wx.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=OY(e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>n2(c))}else{const u=MY(e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>PI(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=jY(e);return s=ot("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=BY(c),h=new EN;return Object.assign(h,f),h})}else{const u=LY(e);return s=ot("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=RY(c),h=new EN;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=CY(e);o=ot("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=TY(e);o=ot("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=PY(e);return a=ot("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>n2(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=kY(e);return a=ot("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>VY(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YY{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const KY=1024*1024*8,JY=3,XY=1e3,QY=2,Zb="x-goog-upload-status";async function ZY(t,e,n){var r,i,a;let o=0,s=0,l=new Yx(new Response),u="upload";for(o=t.size;s<o;){const f=Math.min(KY,o-s),h=t.slice(s,s+f);s+f>=o&&(u+=", finalize");let A=0,v=XY;for(;A<JY&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Zb]));)A++,await tK(v),v=v*QY;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Zb])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[Zb])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function eK(t){return{size:t.size,type:t.type}}function tK(t){return new Promise(e=>setTimeout(e,t))}class nK{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZY(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eK(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rK{create(e,n,r){return new iK(e,n,r)}}class iK{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZN="x-goog-api-key";class aK{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ZN)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ZN,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oK="gl-node/";class sK{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=cF(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new aK(this.apiKey);this.apiClient=new _W({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:oK+"web",uploader:new nK,downloader:new YY}),this.models=new zW(this.apiClient),this.live=new RW(this.apiClient,i,new rK),this.batches=new n9(this.apiClient),this.chats=new cq(this.models,this.apiClient),this.caches=new sq(this.apiClient),this.files=new Sq(this.apiClient),this.operations=new VW(this.apiClient),this.authTokens=new _Y(this.apiClient),this.tunings=new WY(this.apiClient)}}var lK={};const eE=lK.API_KEY,uK=({product:t,variants:e,stockMap:n,onClose:r,onSelectVariant:i,t:a,isReturnMode:o})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[a("selectVariantFor"),' "',t.name,'"']}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:e.map(s=>{const l=n.get(s.id)||0,u=!o&&l<=0;return m.jsxs("div",{onClick:()=>!u&&i(s),className:`flex items-center p-3 border dark:border-slate-700 rounded-lg gap-4 ${u?"bg-gray-100 dark:bg-slate-700 opacity-50 cursor-not-allowed":"bg-white dark:bg-slate-900 hover:bg-teal-50 dark:hover:bg-slate-700 cursor-pointer"}`,children:[m.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-md bg-gray-200"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:s.name}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s.price.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:`font-semibold ${l>s.lowStockThreshold?"text-green-600 dark:text-green-400":"text-orange-500 dark:text-orange-400"}`,children:[a("stock"),": ",l]}),u&&m.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:a("outOfStock")})]})]},s.id)})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")})})]})}),cK=({onSave:t,onClose:e,t:n})=>{const[r,i]=oe.useState(""),[a,o]=oe.useState(1),[s,l]=oe.useState(""),u=c=>{if(c.preventDefault(),!r||a===""||a<=0||s===""||s<=0){alert(n("fillAllFields"));return}t(r,a,s)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("enterItemDetails")}),m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("customItemName")}),m.jsx("input",{id:"itemName",type:"text",value:r,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:n("itemNamePlaceholder"),required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemQuantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("quantity")}),m.jsx("input",{id:"itemQuantity",type:"number",value:a,onChange:c=>o(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("unitPriceLabel")}),m.jsx("input",{id:"itemPrice",type:"number",value:s,onChange:c=>l(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:n("add")})]})]})]})})},fK=({store:t,user:e,products:n,variants:r,customers:i,categories:a,sales:o,stockMap:s,variantMap:l,variantsByProduct:u,barcodeMap:c,cart:f,setCart:h,completeSale:A,processReturn:v,payCustomerDebt:b,t:w,language:y})=>{const[x,S]=oe.useState(0),[T,C]=oe.useState(void 0),[k,E]=oe.useState(null),[O,D]=oe.useState(""),[$,I]=oe.useState(!1),[M,B]=oe.useState(null),[F,G]=oe.useState(!1),[R,U]=oe.useState(0),[V,K]=oe.useState(""),[ee,le]=oe.useState(""),[j,z]=oe.useState(null),[Q,te]=oe.useState(!1),[J,se]=oe.useState(!1),[ue,re]=oe.useState("unit"),be=oe.useRef(""),_e=oe.useRef(null),fe=oe.useRef(null),De=oe.useMemo(()=>f.reduce((Ee,We)=>Ee+We.price*We.quantity,0),[f]),Fe=ee?parseFloat(ee):De,Se=Fe/1.2,ie=Fe-Se,Te=Fe-x,Ce=oe.useCallback((Ee,We)=>We==="wholesale"&&Ee.priceWholesale&&Ee.priceWholesale>0?Ee.priceWholesale:We==="semiWholesale"&&Ee.priceSemiWholesale&&Ee.priceSemiWholesale>0?Ee.priceSemiWholesale:Ee.price||0,[]);oe.useEffect(()=>{h(Ee=>Ee.map(We=>{let Ge=We.price;if(We.type==="good"){const st=l.get(We.id);st&&(Ge=Ce(st,ue))}else if(We.type==="service"&&!We.isCustom){const st=n.find(rt=>rt.id===We.productId);st&&(Ge=Ce(st,ue))}return{...We,price:Ge}}))},[ue,l,n,Ce,h]),oe.useEffect(()=>{if(T){const Ee=o.filter(We=>We.customerId===T&&We.remainingAmount>0).reduce((We,Ge)=>We+Ge.remainingAmount,0);U(Ee)}else U(0)},[T,o]),oe.useEffect(()=>{T||S(Fe)},[Fe,T]),oe.useEffect(()=>{le("")},[f]);const ve=oe.useCallback(()=>{h([]),S(0),le(""),C(void 0)},[h]),Ne=oe.useCallback(Ee=>{const We=s.get(Ee.id)||0;if(!$&&We<=0){E(w("productOutOfStock",{productName:Ee.name})),setTimeout(()=>E(null),3e3);return}h(Ge=>{const st=Ge.find(bt=>bt.id===Ee.id);if(st){const bt=st.quantity+1;return!$&&bt>We?(E(w("notEnoughStock",{productName:Ee.name})),setTimeout(()=>E(null),3e3),Ge):Ge.map(Bn=>Bn.id===Ee.id?{...Bn,quantity:bt}:Bn)}const rt=n.find(bt=>bt.id===Ee.productId),Ft={id:Ee.id,storeId:Ee.storeId,name:`${rt==null?void 0:rt.name} - ${Ee.name}`,type:"good",price:Ce(Ee,ue),purchasePrice:Ee.purchasePrice,stock:We,quantity:1,image:Ee.image,productId:Ee.productId};return[...Ge,Ft]}),E(w("productAdded",{productName:Ee.name})),setTimeout(()=>E(null),3e3)},[h,$,w,s,n,Ce,ue]),Ue=oe.useCallback(Ee=>{h(We=>{if(We.find(rt=>rt.id===Ee.id))return We.map(rt=>rt.id===Ee.id?{...rt,quantity:rt.quantity+1}:rt);const st={id:Ee.id,storeId:Ee.storeId,name:Ee.name,type:"service",price:Ce(Ee,ue),quantity:1,image:Ee.image,productId:Ee.id};return[...We,st]})},[h,Ce,ue]),He=(Ee,We,Ge)=>{const st=crypto.randomUUID(),rt={id:st,productId:st,storeId:e.storeId,name:Ee,price:Ge,quantity:We,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("services"))}`,isCustom:!0};h(Ft=>[...Ft,rt]),se(!1),E(w("customItemAdded")),setTimeout(()=>E(null),3e3)},ge=oe.useCallback(Ee=>{const We=c.get(Ee);We?Ne(We):(E(w("productNotFound",{barcode:Ee})),setTimeout(()=>E(null),3e3))},[c,Ne,w]),Ie=async Ee=>{var Ge;const We=(Ge=Ee.target.files)==null?void 0:Ge[0];if(We){if(!eE){E(w("geminiApiKeyNotConfigured")),setTimeout(()=>E(null),4e3),Ee.target&&(Ee.target.value="");return}te(!0),E(w("scanning"));try{const st=await new Promise((lt,Lt)=>{const Qe=new FileReader;Qe.onload=()=>lt(Qe.result.split(",")[1]),Qe.onerror=At=>Lt(At),Qe.readAsDataURL(We)}),rt=new sK({apiKey:eE}),Ft={inlineData:{mimeType:We.type,data:st}},bt={text:"From the provided receipt image, extract all purchase line items. For each item, provide its name (designation), quantity (quantite), and its unit price (prixHT). Return as a JSON array."},Bn=await rt.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[Ft,bt]},config:{responseMimeType:"application/json",responseSchema:{type:Mi.ARRAY,items:{type:Mi.OBJECT,properties:{designation:{type:Mi.STRING,description:"Item name or description from the receipt."},quantite:{type:Mi.NUMBER,description:"The quantity of the item."},prixHT:{type:Mi.NUMBER,description:"The unit price of the item (Prix HT)."}},required:["designation","quantite","prixHT"]}}}}),ri=JSON.parse(Bn.text);if(!Array.isArray(ri))throw new Error("AI response is not a valid array.");const fn=ri.map(lt=>{const Lt=crypto.randomUUID();return{id:Lt,productId:Lt,storeId:e.storeId,name:lt.designation,price:lt.prixHT,quantity:lt.quantite,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("services"))}`,isCustom:!0}});h(lt=>[...lt,...fn]),E(w("itemsAddedFromReceipt",{count:fn.length})),setTimeout(()=>E(null),4e3)}catch(st){console.error("Error scanning receipt:",st),E(w("receiptScanError")),setTimeout(()=>E(null),4e3)}finally{te(!1),Ee.target&&(Ee.target.value="")}}};oe.useEffect(()=>{const Ee=We=>{const Ge=We.target;if(!(["INPUT","SELECT","TEXTAREA"].includes(Ge.tagName)&&Ge.id!=="pos-scanner-listener")){if(_e.current&&clearTimeout(_e.current),We.key==="Enter"){be.current.length>3&&ge(be.current),be.current="",We.preventDefault();return}We.key.length===1&&(be.current+=We.key),_e.current=setTimeout(()=>{be.current=""},100)}};return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee),_e.current&&clearTimeout(_e.current)}},[ge]);const Oe=oe.useMemo(()=>{const Ee=O.toLowerCase();if(F){const Ge=n.filter(st=>st.type==="service");return O?Ge.filter(st=>st.name.toLowerCase().includes(Ee)):Ge}return O.length<1&&!M?[]:n.filter(Ge=>Ge.type==="good").filter(Ge=>!M||Ge.categoryId===M?O?Ge.name.toLowerCase().includes(Ee):!0:!1)},[n,M,O,F]),Xe=Ee=>{Ee.type==="service"?Ue(Ee):z(Ee),D("")},ut=Ee=>{Ne(Ee),z(null)},ht=F||O.length>0||!!M,Ke=(Ee,We,Ge)=>{h(st=>{const rt=st.find(bt=>bt.id===Ee);if(!rt)return st;let Ft=Ge;return We==="quantity"&&(Ft<.5&&(Ft=.5),rt.type==="good"&&!$&&rt.stock&&Ft>rt.stock&&(Ft=rt.stock)),We==="price"&&Ft<0&&(Ft=0),st.map(bt=>bt.id===Ee?{...bt,[We]:Ft}:bt)})},et=Ee=>{h(f.filter(We=>We.id!==Ee))},ze=async Ee=>{if(f.length===0){alert(w("emptyCartError"));return}await A(x,T,Fe,Ee),S(0),C(void 0),le("")},Gt=()=>{if(f.length===0){alert(w("emptyCartError"));return}v(f)},Pt=()=>{const Ee=parseFloat(V);if(T&&Ee>0){if(Ee>R){alert(w("enterValidPayment"));return}b(T,Ee),K("")}};return oe.useEffect(()=>{ve(),G(!1)},[$,ve]),m.jsxs(m.Fragment,{children:[j&&m.jsx(uK,{product:j,variants:u.get(j.id)||[],stockMap:s,onClose:()=>z(null),onSelectVariant:ut,t:w,isReturnMode:$}),J&&m.jsx(cK,{onSave:He,onClose:()=>se(!1),t:w}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-xl shadow-lg flex justify-center",children:m.jsxs("div",{className:`flex rounded-lg p-1 ${$?"bg-orange-100 dark:bg-orange-900/50":"bg-gray-200 dark:bg-slate-700"}`,children:[m.jsx("button",{onClick:()=>I(!1),className:`px-8 py-2 rounded-md font-semibold transition-all ${$?"text-slate-600 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400"}`,children:w("saleMode")}),m.jsx("button",{onClick:()=>I(!0),className:`px-8 py-2 rounded-md font-semibold transition-all ${$?"bg-white dark:bg-slate-800 shadow text-orange-700 dark:text-orange-400":"text-slate-600 dark:text-slate-400"}`,children:w("returnMode")})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:w("priceLevels")}),m.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-200 dark:bg-slate-700",children:[m.jsx("button",{onClick:()=>re("unit"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="unit"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("unit")}),m.jsx("button",{onClick:()=>re("semiWholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="semiWholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("semiWholesale")}),m.jsx("button",{onClick:()=>re("wholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="wholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("wholesale")})]})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-center gap-3 bg-teal-50 dark:bg-slate-700 text-teal-700 dark:text-teal-300 p-3 rounded-lg",children:[m.jsx(zO,{className:"w-8 h-8"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold",children:w("barcodeScannerActive")}),m.jsx("p",{className:"text-sm",children:w("scanToAdd")})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:w("manualAdd")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(nf,{className:"w-5 h-5"}),w("addCustomItem")]}),t.enableAiReceiptScan&&m.jsxs("button",{onClick:()=>{var Ee;return(Ee=fe.current)==null?void 0:Ee.click()},disabled:Q,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",children:[Q?m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m.jsx(el,{className:"w-5 h-5"}),w(Q?"scanning":"scanReceipt")]})]}),m.jsx("input",{type:"file",ref:fe,onChange:Ie,className:"hidden",accept:"image/*"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:w("filterByCategory")}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>{B(null),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${!M&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:w("all")}),a.map(Ee=>m.jsx("button",{onClick:()=>{B(Ee.id),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${M===Ee.id&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:Ee.name},Ee.id))]})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("button",{onClick:()=>{G(!0),B(null)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-base font-bold rounded-lg border-2 transition-all ${F?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-gray-300 dark:border-slate-600 hover:border-purple-500 dark:hover:border-purple-500"}`,children:[m.jsx(el,{className:"w-6 h-6"})," ",w("services")]})}),m.jsxs("div",{className:"relative mt-4",children:[m.jsx("input",{type:"text",placeholder:w("searchPlaceholder"),value:O,onChange:Ee=>D(Ee.target.value),className:"w-full px-4 py-2 border dark:border-slate-600 rounded-lg focus:ring-teal-500 bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),ht&&m.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Oe.length>0?Oe.map(Ee=>{var We;return m.jsxs("li",{className:"flex items-center p-3 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>Xe(Ee),children:[Ee.type==="good"?m.jsx("img",{src:Ee.image,alt:Ee.name,className:"w-12 h-12 object-cover rounded-md mx-4 bg-gray-200"}):m.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-md bg-purple-100 dark:bg-purple-900/50 mx-4",children:m.jsx(el,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Ee.name}),m.jsxs("div",{className:"flex justify-between items-center",children:[Ee.type==="service"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[w("price"),": ",(We=Ee.price)==null?void 0:We.toFixed(2)," DH"]}),Ee.type==="good"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(u.get(Ee.id)||[]).length," ",w("variants")]})]})]}),m.jsxs("button",{className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 font-bold py-2 px-3 rounded-lg text-sm flex items-center gap-1 pointer-events-none",children:[m.jsx(nf,{className:"w-4 h-4"})," ",w("add")]})]},Ee.id)}):m.jsx("li",{className:"p-3 text-slate-500 dark:text-slate-400",children:w("productNotFound",{barcode:""})})})]})]}),k&&m.jsx("div",{className:`fixed bottom-4 left-4 z-50 p-4 text-center rounded-lg shadow-xl ${k.includes("Impossible")||k.includes("rupture")||k.includes("Aucun")||k.includes("Erreur")?"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200":"bg-teal-100 text-teal-800 dark:bg-teal-900/70 dark:text-teal-200"}`,children:k})]}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:`p-6 rounded-xl shadow-lg sticky top-6 flex flex-col h-[90vh] ${$?"bg-orange-50 dark:bg-slate-800 border-2 border-orange-500/50":"bg-white dark:bg-slate-800"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:w($?"returnReceipt":"invoice")}),m.jsx("button",{onClick:ve,title:w($?"returnReceipt":"invoice"),className:"text-slate-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 p-2 rounded-lg transition-colors",children:m.jsx($i,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto pl-2 space-y-3 mb-4 text-sm",children:f.length>0?f.map(Ee=>m.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[m.jsxs("div",{className:"col-span-3",children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Ee.name}),Ee.type==="good"||Ee.isCustom?m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Ee.price.toFixed(2)," x ",Ee.quantity]}):m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:Ee.price,onChange:We=>Ke(Ee.id,"price",parseFloat(We.target.value)),className:"w-20 text-xs p-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"}),m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mx-1",children:["x ",Ee.quantity]})]})]}),m.jsx("input",{type:"number",value:Ee.quantity,onChange:We=>Ke(Ee.id,"quantity",parseFloat(We.target.value)||0),min:"0.5",step:"0.5",max:$||Ee.type==="service"?void 0:Ee.stock,className:"w-16 text-center border dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),m.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 w-20 text-left col-span-1",children:(Ee.price*Ee.quantity).toFixed(2)}),m.jsx("button",{onClick:()=>et(Ee.id),className:"text-red-500 hover:text-red-700 justify-self-center",children:m.jsx($i,{className:"w-5 h-5"})})]},Ee.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:w("emptyCart")})}),m.jsxs("div",{className:"mt-auto pt-4 border-t-2 border-dashed dark:border-slate-600 space-y-4",children:[!$&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{htmlFor:"customer",className:"font-semibold text-slate-600 dark:text-slate-300",children:[w("customers"),":"]}),m.jsxs("select",{id:"customer",value:T||"",onChange:Ee=>C(Ee.target.value||void 0),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-teal-500",children:[m.jsx("option",{value:"",children:w("cashCustomer")}),i.map(Ee=>m.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),R>0&&m.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-yellow-800 dark:text-yellow-300",children:w("debtPayment")}),m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[R.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx("input",{type:"number",placeholder:w("amount"),value:V,onChange:Ee=>K(Ee.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:R}),m.jsx("button",{onClick:Pt,disabled:!V||parseFloat(V)<=0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg disabled:bg-gray-400 dark:disabled:bg-slate-500 whitespace-nowrap",children:w("save")})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-red-600 dark:text-red-400",children:[m.jsx("label",{htmlFor:"manualTotal",className:"font-semibold",children:w("manualTotal")}),m.jsx("input",{type:"number",id:"manualTotal",placeholder:De.toFixed(2),value:ee,onChange:Ee=>le(Ee.target.value),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-red-600 dark:text-red-400 font-bold dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-300",children:[m.jsx("label",{htmlFor:"downPayment",className:"font-semibold",children:w("downPayment")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",id:"downPayment",value:x,onChange:Ee=>S(Math.max(0,parseFloat(Ee.target.value)||0)),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 disabled:bg-gray-200 dark:disabled:bg-slate-600 disabled:cursor-not-allowed dark:border-slate-600",disabled:!T,readOnly:!T,step:"0.01"}),T&&m.jsx("button",{onClick:()=>S(Fe),className:"text-xs bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 font-semibold px-2 py-1 rounded-md hover:bg-cyan-200 dark:hover:bg-cyan-800/50",children:w("total")})]})]})]}),$?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:[m.jsxs("span",{children:[w("refundAmount"),":"]}),m.jsxs("span",{children:[De.toFixed(2)," DH"]})]}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:Gt,className:"bg-orange-600 hover:bg-orange-700 w-full text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("processReturn")})})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300 mb-2",children:[m.jsxs("span",{className:"font-bold",children:[w("total"),":"]}),m.jsxs("span",{className:"font-bold",children:[Fe.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>ze("orderForm"),className:"w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500 text-sm",disabled:f.length===0,children:w("finalizeAndPrintOrderForm")})]}),m.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg",children:[m.jsxs("div",{className:"text-sm space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("totalHT"),":"]}),m.jsxs("span",{children:[Se.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("vat"),":"]}),m.jsxs("span",{children:[ie.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-800 dark:text-slate-100 mt-2 pt-2 border-t dark:border-slate-700",children:[m.jsxs("span",{children:[w("totalTTC"),":"]}),m.jsxs("span",{children:[Fe.toFixed(2)," DH"]})]})]}),m.jsx("button",{onClick:()=>ze("invoice"),className:"mt-2 w-full bg-teal-600 text-white font-bold py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("finalizeAndPrintInvoice")})]}),m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-cyan-100 text-cyan-700 dark:bg-cyan-900/50 dark:text-cyan-300",children:[m.jsxs("span",{children:[w("remaining"),":"]}),m.jsxs("span",{children:[Te.toFixed(2)," DH"]})]})]})]})]})})]})]})},dK="modulepreload",hK=function(t,e){return new URL(t,e).href},tE={},ll=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=hK(u,r),u in tE)return;tE[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let v=o.length-1;v>=0;v--){const b=o[v];if(b.href===u&&(!c||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const A=document.createElement("link");if(A.rel=c?"stylesheet":dK,c||(A.as="script"),A.crossOrigin="",A.href=u,l&&A.setAttribute("nonce",l),document.head.appendChild(A),c)return new Promise((v,b)=>{A.addEventListener("load",v),A.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function an(t){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}var zr=Uint8Array,Di=Uint16Array,hS=Int32Array,wv=new zr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sv=new zr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),r2=new zr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MI=function(t,e){for(var n=new Di(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new hS(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},OI=MI(wv,2),II=OI.b,i2=OI.r;II[28]=258,i2[258]=28;var DI=MI(Sv,0),pK=DI.b,nE=DI.r,a2=new Di(32768);for(var Mn=0;Mn<32768;++Mn){var Ss=(Mn&43690)>>1|(Mn&21845)<<1;Ss=(Ss&52428)>>2|(Ss&13107)<<2,Ss=(Ss&61680)>>4|(Ss&3855)<<4,a2[Mn]=((Ss&65280)>>8|(Ss&255)<<8)>>1}var ao=function(t,e,n){for(var r=t.length,i=0,a=new Di(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Di(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Di(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)s[a2[f]>>l]=u}else for(s=new Di(r),i=0;i<r;++i)t[i]&&(s[i]=a2[o[t[i]-1]++]>>15-t[i]);return s},ul=new zr(288);for(var Mn=0;Mn<144;++Mn)ul[Mn]=8;for(var Mn=144;Mn<256;++Mn)ul[Mn]=9;for(var Mn=256;Mn<280;++Mn)ul[Mn]=7;for(var Mn=280;Mn<288;++Mn)ul[Mn]=8;var hp=new zr(32);for(var Mn=0;Mn<32;++Mn)hp[Mn]=5;var AK=ao(ul,9,0),mK=ao(ul,9,1),gK=ao(hp,5,0),vK=ao(hp,5,1),e1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ka=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},t1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},pS=function(t){return(t+7)/8|0},LI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new zr(t.subarray(e,n))},yK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Oa=function(t,e,n){var r=new Error(e||yK[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Oa),!n)throw r;return r},bK=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new zr(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new zr(i*3));var u=function(_e){var fe=n.length;if(_e>fe){var De=new zr(Math.max(fe*2,_e));De.set(n),n=De}},c=e.f||0,f=e.p||0,h=e.b||0,A=e.l,v=e.d,b=e.m,w=e.n,y=i*8;do{if(!A){c=ka(t,f,1);var x=ka(t,f+1,3);if(f+=3,x)if(x==1)A=mK,v=vK,b=9,w=5;else if(x==2){var k=ka(t,f,31)+257,E=ka(t,f+10,15)+4,O=k+ka(t,f+5,31)+1;f+=14;for(var D=new zr(O),$=new zr(19),I=0;I<E;++I)$[r2[I]]=ka(t,f+I*3,7);f+=E*3;for(var M=e1($),B=(1<<M)-1,F=ao($,M,1),I=0;I<O;){var G=F[ka(t,f,B)];f+=G&15;var S=G>>4;if(S<16)D[I++]=S;else{var R=0,U=0;for(S==16?(U=3+ka(t,f,3),f+=2,R=D[I-1]):S==17?(U=3+ka(t,f,7),f+=3):S==18&&(U=11+ka(t,f,127),f+=7);U--;)D[I++]=R}}var V=D.subarray(0,k),K=D.subarray(k);b=e1(V),w=e1(K),A=ao(V,b,1),v=ao(K,w,1)}else Oa(1);else{var S=pS(f)+4,T=t[S-4]|t[S-3]<<8,C=S+T;if(C>i){l&&Oa(0);break}s&&u(h+T),n.set(t.subarray(S,C),h),e.b=h+=T,e.p=f=C*8,e.f=c;continue}if(f>y){l&&Oa(0);break}}s&&u(h+131072);for(var ee=(1<<b)-1,le=(1<<w)-1,j=f;;j=f){var R=A[t1(t,f)&ee],z=R>>4;if(f+=R&15,f>y){l&&Oa(0);break}if(R||Oa(2),z<256)n[h++]=z;else if(z==256){j=f,A=null;break}else{var Q=z-254;if(z>264){var I=z-257,te=wv[I];Q=ka(t,f,(1<<te)-1)+II[I],f+=te}var J=v[t1(t,f)&le],se=J>>4;J||Oa(3),f+=J&15;var K=pK[se];if(se>3){var te=Sv[se];K+=t1(t,f)&(1<<te)-1,f+=te}if(f>y){l&&Oa(0);break}s&&u(h+131072);var ue=h+Q;if(h<K){var re=a-K,be=Math.min(K,ue);for(re+h<0&&Oa(3);h<be;++h)n[h]=r[re+h]}for(;h<ue;++h)n[h]=n[h-K]}}e.l=A,e.p=j,e.b=h,e.f=c,A&&(c=1,e.m=b,e.d=v,e.n=w)}while(!c);return h!=n.length&&o?LI(n,0,h):n.subarray(0,h)},ko=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},rh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},n1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:RI,l:0};if(i==1){var o=new zr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,k){return C.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var A=new Di(h+1),v=o2(n[c-1],A,0);if(v>e){var r=0,b=0,w=v-e,y=1<<w;for(a.sort(function(k,E){return A[E.s]-A[k.s]||k.f-E.f});r<i;++r){var x=a[r].s;if(A[x]>e)b+=y-(1<<v-A[x]),A[x]=e;else break}for(b>>=w;b>0;){var S=a[r].s;A[S]<e?b-=1<<e-A[S]++-1:++r}for(;r>=0&&b;--r){var T=a[r].s;A[T]==e&&(--A[T],++b)}v=e}return{t:new zr(A),l:v}},o2=function(t,e,n){return t.s==-1?Math.max(o2(t.l,e,n+1),o2(t.r,e,n+1)):e[t.s]=n},rE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Di(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},ih=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},jI=function(t,e,n){var r=n.length,i=pS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},iE=function(t,e,n,r,i,a,o,s,l,u,c){ko(e,c++,n),++i[256];for(var f=n1(i,15),h=f.t,A=f.l,v=n1(a,15),b=v.t,w=v.l,y=rE(h),x=y.c,S=y.n,T=rE(b),C=T.c,k=T.n,E=new Di(19),O=0;O<x.length;++O)++E[x[O]&31];for(var O=0;O<C.length;++O)++E[C[O]&31];for(var D=n1(E,7),$=D.t,I=D.l,M=19;M>4&&!$[r2[M-1]];--M);var B=u+5<<3,F=ih(i,ul)+ih(a,hp)+o,G=ih(i,h)+ih(a,b)+o+14+3*M+ih(E,$)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&B<=F&&B<=G)return jI(e,c,t.subarray(l,l+u));var R,U,V,K;if(ko(e,c,1+(G<F)),c+=2,G<F){R=ao(h,A,0),U=h,V=ao(b,w,0),K=b;var ee=ao($,I,0);ko(e,c,S-257),ko(e,c+5,k-1),ko(e,c+10,M-4),c+=14;for(var O=0;O<M;++O)ko(e,c+3*O,$[r2[O]]);c+=3*M;for(var le=[x,C],j=0;j<2;++j)for(var z=le[j],O=0;O<z.length;++O){var Q=z[O]&31;ko(e,c,ee[Q]),c+=$[Q],Q>15&&(ko(e,c,z[O]>>5&127),c+=z[O]>>12)}}else R=AK,U=ul,V=gK,K=hp;for(var O=0;O<s;++O){var te=r[O];if(te>255){var Q=te>>18&31;rh(e,c,R[Q+257]),c+=U[Q+257],Q>7&&(ko(e,c,te>>23&31),c+=wv[Q]);var J=te&31;rh(e,c,V[J]),c+=K[J],J>3&&(rh(e,c,te>>5&8191),c+=Sv[J])}else rh(e,c,R[te]),c+=U[te]}return rh(e,c,R[256]),c+U[256]},xK=new hS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RI=new zr(0),wK=function(t,e,n,r,i,a){var o=a.z||t.length,s=new zr(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=xK[e-1],h=f>>13,A=f&8191,v=(1<<n)-1,b=a.p||new Di(32768),w=a.h||new Di(v+1),y=Math.ceil(n/3),x=2*y,S=function(Fe){return(t[Fe]^t[Fe+1]<<y^t[Fe+2]<<x)&v},T=new hS(25e3),C=new Di(288),k=new Di(32),E=0,O=0,D=a.i||0,$=0,I=a.w||0,M=0;D+2<o;++D){var B=S(D),F=D&32767,G=w[B];if(b[F]=G,w[B]=F,I<=D){var R=o-D;if((E>7e3||$>24576)&&(R>423||!u)){c=iE(t,l,0,T,C,k,O,$,M,D-M,c),$=E=O=0,M=D;for(var U=0;U<286;++U)C[U]=0;for(var U=0;U<30;++U)k[U]=0}var V=2,K=0,ee=A,le=F-G&32767;if(R>2&&B==S(D-le))for(var j=Math.min(h,R)-1,z=Math.min(32767,D),Q=Math.min(258,R);le<=z&&--ee&&F!=G;){if(t[D+V]==t[D+V-le]){for(var te=0;te<Q&&t[D+te]==t[D+te-le];++te);if(te>V){if(V=te,K=le,te>j)break;for(var J=Math.min(le,te-2),se=0,U=0;U<J;++U){var ue=D-le+U&32767,re=b[ue],be=ue-re&32767;be>se&&(se=be,G=ue)}}}F=G,G=b[F],le+=F-G&32767}if(K){T[$++]=268435456|i2[V]<<18|nE[K];var _e=i2[V]&31,fe=nE[K]&31;O+=wv[_e]+Sv[fe],++C[257+_e],++k[fe],I=D+V,++E}else T[$++]=t[D],++C[t[D]]}}for(D=Math.max(D,I);D<o;++D)T[$++]=t[D],++C[t[D]];c=iE(t,l,u,T,C,k,O,$,M,D-M,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=w,a.p=b,a.i=D,a.w=I)}else{for(var D=a.w||0;D<o+u;D+=65535){var De=D+65535;De>=o&&(l[c/8|0]=u,De=o),c=jI(l,c+1,t.subarray(D,De))}a.i=o}return LI(s,0,r+pS(c)+i)},BI=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},SK=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new zr(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return wK(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},$I=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},_K=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=BI();i.p(e.dictionary),$I(t,2,i.d())}},TK=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Oa(6,"invalid zlib data"),(t[1]>>5&1)==1&&Oa(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function s2(t,e){e||(e={});var n=BI();n.p(t);var r=SK(t,e,e.dictionary?6:2,4);return _K(r,e),$I(r,r.length-4,n.d()),r}function CK(t,e){return bK(t.subarray(TK(t),-4),{i:2},e,e)}var NK=typeof TextDecoder<"u"&&new TextDecoder,EK=0;try{NK.decode(RI,{stream:!0}),EK=1}catch{}var mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function r1(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var hn={log:r1,warn:function(t){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):r1.call(null,arguments))},error:function(t){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):r1(t))}};function i1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){$l(r.response,e,n)},r.onerror=function(){hn.error("could not download file")},r.send()}function aE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Om(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var $h,l2,$l=mt.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=mt.URL||mt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?aE(i.href)?i1(t,e,n):Om(i,i.target="_blank"):Om(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Om(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(aE(t))i1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Om(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:an(a)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return i1(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(mt.HTMLElement)||mt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=mt.URL||mt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function FI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function a1(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Br(n,r,i,a,e[0],7,-680876936),a=Br(a,n,r,i,e[1],12,-389564586),i=Br(i,a,n,r,e[2],17,606105819),r=Br(r,i,a,n,e[3],22,-1044525330),n=Br(n,r,i,a,e[4],7,-176418897),a=Br(a,n,r,i,e[5],12,1200080426),i=Br(i,a,n,r,e[6],17,-1473231341),r=Br(r,i,a,n,e[7],22,-45705983),n=Br(n,r,i,a,e[8],7,1770035416),a=Br(a,n,r,i,e[9],12,-1958414417),i=Br(i,a,n,r,e[10],17,-42063),r=Br(r,i,a,n,e[11],22,-1990404162),n=Br(n,r,i,a,e[12],7,1804603682),a=Br(a,n,r,i,e[13],12,-40341101),i=Br(i,a,n,r,e[14],17,-1502002290),n=$r(n,r=Br(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=$r(a,n,r,i,e[6],9,-1069501632),i=$r(i,a,n,r,e[11],14,643717713),r=$r(r,i,a,n,e[0],20,-373897302),n=$r(n,r,i,a,e[5],5,-701558691),a=$r(a,n,r,i,e[10],9,38016083),i=$r(i,a,n,r,e[15],14,-660478335),r=$r(r,i,a,n,e[4],20,-405537848),n=$r(n,r,i,a,e[9],5,568446438),a=$r(a,n,r,i,e[14],9,-1019803690),i=$r(i,a,n,r,e[3],14,-187363961),r=$r(r,i,a,n,e[8],20,1163531501),n=$r(n,r,i,a,e[13],5,-1444681467),a=$r(a,n,r,i,e[2],9,-51403784),i=$r(i,a,n,r,e[7],14,1735328473),n=Fr(n,r=$r(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Fr(a,n,r,i,e[8],11,-2022574463),i=Fr(i,a,n,r,e[11],16,1839030562),r=Fr(r,i,a,n,e[14],23,-35309556),n=Fr(n,r,i,a,e[1],4,-1530992060),a=Fr(a,n,r,i,e[4],11,1272893353),i=Fr(i,a,n,r,e[7],16,-155497632),r=Fr(r,i,a,n,e[10],23,-1094730640),n=Fr(n,r,i,a,e[13],4,681279174),a=Fr(a,n,r,i,e[0],11,-358537222),i=Fr(i,a,n,r,e[3],16,-722521979),r=Fr(r,i,a,n,e[6],23,76029189),n=Fr(n,r,i,a,e[9],4,-640364487),a=Fr(a,n,r,i,e[12],11,-421815835),i=Fr(i,a,n,r,e[15],16,530742520),n=Ur(n,r=Fr(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Ur(a,n,r,i,e[7],10,1126891415),i=Ur(i,a,n,r,e[14],15,-1416354905),r=Ur(r,i,a,n,e[5],21,-57434055),n=Ur(n,r,i,a,e[12],6,1700485571),a=Ur(a,n,r,i,e[3],10,-1894986606),i=Ur(i,a,n,r,e[10],15,-1051523),r=Ur(r,i,a,n,e[1],21,-2054922799),n=Ur(n,r,i,a,e[8],6,1873313359),a=Ur(a,n,r,i,e[15],10,-30611744),i=Ur(i,a,n,r,e[6],15,-1560198380),r=Ur(r,i,a,n,e[13],21,1309151649),n=Ur(n,r,i,a,e[4],6,-145523070),a=Ur(a,n,r,i,e[11],10,-1120210379),i=Ur(i,a,n,r,e[2],15,718787259),r=Ur(r,i,a,n,e[9],21,-343485551),t[0]=Hs(n,t[0]),t[1]=Hs(r,t[1]),t[2]=Hs(i,t[2]),t[3]=Hs(a,t[3])}function _v(t,e,n,r,i,a){return e=Hs(Hs(e,t),Hs(r,a)),Hs(e<<i|e>>>32-i,n)}function Br(t,e,n,r,i,a,o){return _v(e&n|~e&r,t,e,i,a,o)}function $r(t,e,n,r,i,a,o){return _v(e&r|n&~r,t,e,i,a,o)}function Fr(t,e,n,r,i,a,o){return _v(e^n^r,t,e,i,a,o)}function Ur(t,e,n,r,i,a,o){return _v(n^(e|~r),t,e,i,a,o)}function UI(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)a1(r,kK(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(a1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,a1(r,i),r}function kK(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}$h=mt.atob.bind(mt),l2=mt.btoa.bind(mt);var oE="0123456789abcdef".split("");function PK(t){for(var e="",n=0;n<4;n++)e+=oE[t>>8*n+4&15]+oE[t>>8*n&15];return e}function MK(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function u2(t){return UI(t).map(MK).join("")}var OK=function(t){for(var e=0;e<t.length;e++)t[e]=PK(t[e]);return t.join("")}(UI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hs(t,e){if(OK){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c2(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,h=0,A=0,v="";for(l=0;l<f;l++)A=(A+(c=s[h=(h+1)%256]))%256,s[h]=s[A],s[A]=c,o=s[(s[h]+s[A])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sE={print:4,modify:8,copy:16,"annot-forms":32};function Nc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(sE.perm!==void 0)throw new Error("Invalid permission: "+s);i+=sE[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=u2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=c2(this.encryptionKey,this.padding)}function Ec(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function lE(t){if(an(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){mt.console&&hn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pp(t){if(!(this instanceof pp))return new pp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function qI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ls(t,e,n,r,i){if(!(this instanceof Ls))return new Ls(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,qI.call(this,r,i)}function Gl(t,e,n,r,i){if(!(this instanceof Gl))return new Gl(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,qI.call(this,r,i)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;an(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},A={internal:{},__private__:{}};A.__private__.PubSub=lE;var v="1.3",b=A.__private__.getPdfVersion=function(){return v};A.__private__.setPdfVersion=function(N){v=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return w};var y=A.__private__.getPageFormat=function(N){return w[N]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function T(){this.saveGraphicsState(),ie(new Ve(ze,0,0,-ze,0,cs()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),u="n",S=x.ADVANCED}function C(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var k=A.__private__.combineFontStyleAndFontWeight=function(N,H){if(N=="bold"&&H=="normal"||N=="bold"&&H==400||N=="normal"&&H=="italic"||N=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(N=H==400||H==="normal"?N==="italic"?"italic":"normal":H!=700&&H!=="bold"||N!=="normal"?(H==700?"bold":H)+""+N:"bold"),N};A.advancedAPI=function(N){var H=S===x.COMPAT;return H&&T.call(this),typeof N!="function"||(N(this),H&&C.call(this)),this},A.compatAPI=function(N){var H=S===x.ADVANCED;return H&&C.call(this),typeof N!="function"||(N(this),H&&T.call(this)),this},A.isAdvancedAPI=function(){return S===x.ADVANCED};var E,O=function(N){if(S!==x.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=A.roundToPrecision=A.__private__.roundToPrecision=function(N,H){var ae=e||H;if(isNaN(N)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ae).replace(/0+$/,"")};E=A.hpf=A.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return D(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return D(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return D(N,16)};var $=A.f2=A.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return D(N,2)},I=A.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return D(N,3)},M=A.scale=A.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?N*ze:S===x.ADVANCED?N:void 0},B=function(N){return S===x.COMPAT?cs()-N:S===x.ADVANCED?N:void 0},F=function(N){return M(B(N))};A.__private__.setPrecision=A.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var G,R="00000000000000000000000000000000",U=A.__private__.getFileId=function(){return R},V=A.__private__.setFileId=function(N){return R=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(jr=new Nc(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};A.setFileId=function(N){return V(N),this},A.getFileId=function(){return U()};var K=A.__private__.convertDateToPDFDate=function(N){var H=N.getTimezoneOffset(),ae=H<0?"+":"-",ce=Math.floor(Math.abs(H/60)),ye=Math.abs(H%60),Pe=[ae,Q(ce),"'",Q(ye),"'"].join("");return["D:",N.getFullYear(),Q(N.getMonth()+1),Q(N.getDate()),Q(N.getHours()),Q(N.getMinutes()),Q(N.getSeconds()),Pe].join("")},ee=A.__private__.convertPDFDateToDate=function(N){var H=parseInt(N.substr(2,4),10),ae=parseInt(N.substr(6,2),10)-1,ce=parseInt(N.substr(8,2),10),ye=parseInt(N.substr(10,2),10),Pe=parseInt(N.substr(12,2),10),qe=parseInt(N.substr(14,2),10);return new Date(H,ae,ce,ye,Pe,qe,0)},le=A.__private__.setCreationDate=function(N){var H;if(N===void 0&&(N=new Date),N instanceof Date)H=K(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=N}return G=H},j=A.__private__.getCreationDate=function(N){var H=G;return N==="jsDate"&&(H=ee(G)),H};A.setCreationDate=function(N){return le(N),this},A.getCreationDate=function(N){return j(N)};var z,Q=A.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},te=A.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},J=0,se=[],ue=[],re=0,be=[],_e=[],fe=!1,De=ue,Fe=function(){J=0,re=0,ue=[],se=[],be=[],Ao=jn(),ba=jn()};A.__private__.setCustomOutputDestination=function(N){fe=!0,De=N};var Se=function(N){fe||(De=N)};A.__private__.resetCustomOutputDestination=function(){fe=!1,De=ue};var ie=A.__private__.out=function(N){return N=N.toString(),re+=N.length+1,De.push(N),De},Te=A.__private__.write=function(N){return ie(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ce=A.__private__.getArrayBuffer=function(N){for(var H=N.length,ae=new ArrayBuffer(H),ce=new Uint8Array(ae);H--;)ce[H]=N.charCodeAt(H);return ae},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return ve};var Ne=t.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(N){return Ne=S===x.ADVANCED?N/ze:N,this};var Ue,He=A.__private__.getFontSize=A.getFontSize=function(){return S===x.COMPAT?Ne:Ne*ze},ge=t.R2L||!1;A.__private__.setR2L=A.setR2L=function(N){return ge=N,this},A.__private__.getR2L=A.getR2L=function(){return ge};var Ie,Oe=A.__private__.setZoomMode=function(N){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Ue=N;else if(isNaN(N)){if(H.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Ue=N}else Ue=parseInt(N,10)};A.__private__.getZoomMode=function(){return Ue};var Xe,ut=A.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ie=N};A.__private__.getPageMode=function(){return Ie};var ht=A.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Xe=N};A.__private__.getLayoutMode=function(){return Xe},A.__private__.setDisplayMode=A.setDisplayMode=function(N,H,ae){return Oe(N),ht(H),ut(ae),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(N){if(Object.keys(Ke).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[N]},A.__private__.getDocumentProperties=function(){return Ke},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(N){for(var H in Ke)Ke.hasOwnProperty(H)&&N[H]&&(Ke[H]=N[H]);return this},A.__private__.setDocumentProperty=function(N,H){if(Object.keys(Ke).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[N]=H};var et,ze,Gt,Pt,Ee,We={},Ge={},st=[],rt={},Ft={},bt={},Bn={},ri=null,fn=0,lt=[],Lt=new lE(A),Qe=t.hotfixes||[],At={},Mt={},Wt=[],Ve=function N(H,ae,ce,ye,Pe,qe){if(!(this instanceof N))return new N(H,ae,ce,ye,Pe,qe);isNaN(H)&&(H=1),isNaN(ae)&&(ae=0),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=1),isNaN(Pe)&&(Pe=0),isNaN(qe)&&(qe=0),this._matrix=[H,ae,ce,ye,Pe,qe]};Object.defineProperty(Ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ve.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(N)},Ve.prototype.multiply=function(N){var H=N.sx*this.sx+N.shy*this.shx,ae=N.sx*this.shy+N.shy*this.sy,ce=N.shx*this.sx+N.sy*this.shx,ye=N.shx*this.shy+N.sy*this.sy,Pe=N.tx*this.sx+N.ty*this.shx+this.tx,qe=N.tx*this.shy+N.ty*this.sy+this.ty;return new Ve(H,ae,ce,ye,Pe,qe)},Ve.prototype.decompose=function(){var N=this.sx,H=this.shy,ae=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty,qe=Math.sqrt(N*N+H*H),tt=(N/=qe)*ae+(H/=qe)*ce;ae-=N*tt,ce-=H*tt;var ct=Math.sqrt(ae*ae+ce*ce);return tt/=ct,N*(ce/=ct)<H*(ae/=ct)&&(N=-N,H=-H,tt=-tt,qe=-qe),{scale:new Ve(qe,0,0,ct,0,0),translate:new Ve(1,0,0,1,ye,Pe),rotate:new Ve(N,H,-H,N,0,0),skew:new Ve(1,0,tt,1,0,0)}},Ve.prototype.toString=function(N){return this.join(" ")},Ve.prototype.inversed=function(){var N=this.sx,H=this.shy,ae=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty,qe=1/(N*ce-H*ae),tt=ce*qe,ct=-H*qe,Tt=-ae*qe,wt=N*qe;return new Ve(tt,ct,Tt,wt,-tt*ye-Tt*Pe,-ct*ye-wt*Pe)},Ve.prototype.applyToPoint=function(N){var H=N.x*this.sx+N.y*this.shx+this.tx,ae=N.x*this.shy+N.y*this.sy+this.ty;return new Ku(H,ae)},Ve.prototype.applyToRectangle=function(N){var H=this.applyToPoint(N),ae=this.applyToPoint(new Ku(N.x+N.w,N.y+N.h));return new kd(H.x,H.y,ae.x-H.x,ae.y-H.y)},Ve.prototype.clone=function(){var N=this.sx,H=this.shy,ae=this.shx,ce=this.sy,ye=this.tx,Pe=this.ty;return new Ve(N,H,ae,ce,ye,Pe)},A.Matrix=Ve;var _t=A.matrixMult=function(N,H){return H.multiply(N)},_n=new Ve(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=_n;var mn=function(N,H){if(!Ft[N]){var ae=(H instanceof Ls?"Sh":"P")+(Object.keys(rt).length+1).toString(10);H.id=ae,Ft[N]=ae,rt[ae]=H,Lt.publish("addPattern",H)}};A.ShadingPattern=Ls,A.TilingPattern=Gl,A.addShadingPattern=function(N,H){return O("addShadingPattern()"),mn(N,H),this},A.beginTilingPattern=function(N){O("beginTilingPattern()"),FA(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},A.endTilingPattern=function(N,H){O("endTilingPattern()"),H.stream=_e[z].join(`
`),mn(N,H),Lt.publish("endTilingPattern",H),Wt.pop().restore()};var Tn=A.__private__.newObject=function(){var N=jn();return Wr(N,!0),N},jn=A.__private__.newObjectDeferred=function(){return J++,se[J]=function(){return re},J},Wr=function(N,H){return H=typeof H=="boolean"&&H,se[N]=re,H&&ie(N+" 0 obj"),N},ju=A.__private__.newAdditionalObject=function(){var N={objId:jn(),content:""};return be.push(N),N},Ao=jn(),ba=jn(),xa=A.__private__.decodeColorString=function(N){var H=N.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ae=parseFloat(H[0]);H=[ae,ae,ae,"r"]}for(var ce="#",ye=0;ye<3;ye++)ce+=("0"+Math.floor(255*parseFloat(H[ye])).toString(16)).slice(-2);return ce},wa=A.__private__.encodeColorString=function(N){var H;typeof N=="string"&&(N={ch1:N});var ae=N.ch1,ce=N.ch2,ye=N.ch3,Pe=N.ch4,qe=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var tt=new FI(ae);if(tt.ok)ae=tt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var ct=parseInt(ae.substr(1),16);ae=ct>>16&255,ce=ct>>8&255,ye=255&ct}if(ce===void 0||Pe===void 0&&ae===ce&&ce===ye)if(typeof ae=="string")H=ae+" "+qe[0];else switch(N.precision){case 2:H=$(ae/255)+" "+qe[0];break;case 3:default:H=I(ae/255)+" "+qe[0]}else if(Pe===void 0||an(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return H=["1.","1.","1.",qe[1]].join(" ");if(typeof ae=="string")H=[ae,ce,ye,qe[1]].join(" ");else switch(N.precision){case 2:H=[$(ae/255),$(ce/255),$(ye/255),qe[1]].join(" ");break;default:case 3:H=[I(ae/255),I(ce/255),I(ye/255),qe[1]].join(" ")}}else if(typeof ae=="string")H=[ae,ce,ye,Pe,qe[2]].join(" ");else switch(N.precision){case 2:H=[$(ae),$(ce),$(ye),$(Pe),qe[2]].join(" ");break;case 3:default:H=[I(ae),I(ce),I(ye),I(Pe),qe[2]].join(" ")}return H},za=A.__private__.getFilters=function(){return o},Hi=A.__private__.putStream=function(N){var H=(N=N||{}).data||"",ae=N.filters||za(),ce=N.alreadyAppliedFilters||[],ye=N.addLength1||!1,Pe=H.length,qe=N.objectId,tt=function(Rr){return Rr};if(c!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(tt=jr.encryptor(qe,0));var ct={};ae===!0&&(ae=["FlateEncode"]);var Tt=N.additionalKeyValues||[],wt=(ct=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(H,ae):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(ct.data.length!==0&&(Tt.push({key:"Length",value:ct.data.length}),ye===!0&&Tt.push({key:"Length1",value:Pe})),wt.length!=0)if(wt.split("/").length-1==1)Tt.push({key:"Filter",value:wt});else{Tt.push({key:"Filter",value:"["+wt+"]"});for(var qt=0;qt<Tt.length;qt+=1)if(Tt[qt].key==="DecodeParms"){for(var Rn=[],$n=0;$n<ct.reverseChain.split("/").length-1;$n+=1)Rn.push("null");Rn.push(Tt[qt].value),Tt[qt].value="["+Rn.join(" ")+"]"}}ie("<<");for(var Zn=0;Zn<Tt.length;Zn++)ie("/"+Tt[Zn].key+" "+Tt[Zn].value);ie(">>"),ct.data.length!==0&&(ie("stream"),ie(tt(ct.data)),ie("endstream"))},Va=A.__private__.putPage=function(N){var H=N.number,ae=N.data,ce=N.objId,ye=N.contentsObjId;Wr(ce,!0),ie("<</Type /Page"),ie("/Parent "+N.rootDictionaryObjId+" 0 R"),ie("/Resources "+N.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(E(N.mediaBox.bottomLeftX))+" "+parseFloat(E(N.mediaBox.bottomLeftY))+" "+E(N.mediaBox.topRightX)+" "+E(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ie("/CropBox ["+E(N.cropBox.bottomLeftX)+" "+E(N.cropBox.bottomLeftY)+" "+E(N.cropBox.topRightX)+" "+E(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ie("/BleedBox ["+E(N.bleedBox.bottomLeftX)+" "+E(N.bleedBox.bottomLeftY)+" "+E(N.bleedBox.topRightX)+" "+E(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ie("/TrimBox ["+E(N.trimBox.bottomLeftX)+" "+E(N.trimBox.bottomLeftY)+" "+E(N.trimBox.topRightX)+" "+E(N.trimBox.topRightY)+"]"),N.artBox!==null&&ie("/ArtBox ["+E(N.artBox.bottomLeftX)+" "+E(N.artBox.bottomLeftY)+" "+E(N.artBox.topRightX)+" "+E(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ie("/UserUnit "+N.userUnit),Lt.publish("putPage",{objId:ce,pageContext:lt[H],pageNumber:H,page:ae}),ie("/Contents "+ye+" 0 R"),ie(">>"),ie("endobj");var Pe=ae.join(`
`);return S===x.ADVANCED&&(Pe+=`
Q`),Wr(ye,!0),Hi({data:Pe,filters:za(),objectId:ye}),ie("endobj"),ce},vl=A.__private__.putPages=function(){var N,H,ae=[];for(N=1;N<=fn;N++)lt[N].objId=jn(),lt[N].contentsObjId=jn();for(N=1;N<=fn;N++)ae.push(Va({number:N,data:_e[N],objId:lt[N].objId,contentsObjId:lt[N].contentsObjId,mediaBox:lt[N].mediaBox,cropBox:lt[N].cropBox,bleedBox:lt[N].bleedBox,trimBox:lt[N].trimBox,artBox:lt[N].artBox,userUnit:lt[N].userUnit,rootDictionaryObjId:Ao,resourceDictionaryObjId:ba}));Wr(Ao,!0),ie("<</Type /Pages");var ce="/Kids [";for(H=0;H<fn;H++)ce+=ae[H]+" 0 R ";ie(ce+"]"),ie("/Count "+fn),ie(">>"),ie("endobj"),Lt.publish("postPutPages")},Ru=function(N){Lt.publish("putFont",{font:N,out:ie,newObject:Tn,putStream:Hi}),N.isAlreadyPutted!==!0&&(N.objectNumber=Tn(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Ec(N.postScriptName)),ie("/Subtype /Type1"),typeof N.encoding=="string"&&ie("/Encoding /"+N.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Bu=function(){for(var N in We)We.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&Ru(We[N])},$u=function(N){N.objectNumber=Tn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[E(N.x),E(N.y),E(N.x+N.width),E(N.y+N.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ae=N.pages[1].join(`
`);Hi({data:ae,additionalKeyValues:H,objectId:N.objectNumber}),ie("endobj")},Fu=function(){for(var N in At)At.hasOwnProperty(N)&&$u(At[N])},wA=function(N,H){var ae,ce=[],ye=1/(H-1);for(ae=0;ae<1;ae+=ye)ce.push(ae);if(ce.push(1),N[0].offset!=0){var Pe={offset:0,color:N[0].color};N.unshift(Pe)}if(N[N.length-1].offset!=1){var qe={offset:1,color:N[N.length-1].color};N.push(qe)}for(var tt="",ct=0,Tt=0;Tt<ce.length;Tt++){for(ae=ce[Tt];ae>N[ct+1].offset;)ct++;var wt=N[ct].offset,qt=(ae-wt)/(N[ct+1].offset-wt),Rn=N[ct].color,$n=N[ct+1].color;tt+=te(Math.round((1-qt)*Rn[0]+qt*$n[0]).toString(16))+te(Math.round((1-qt)*Rn[1]+qt*$n[1]).toString(16))+te(Math.round((1-qt)*Rn[2]+qt*$n[2]).toString(16))}return tt.trim()},Cy=function(N,H){H||(H=21);var ae=Tn(),ce=wA(N.colors,H),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+H+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hi({data:ce,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ie("endobj"),N.objectNumber=Tn(),ie("<< /ShadingType "+N.type),ie("/ColorSpace /DeviceRGB");var Pe="/Coords ["+E(parseFloat(N.coords[0]))+" "+E(parseFloat(N.coords[1]))+" ";N.type===2?Pe+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3])):Pe+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3]))+" "+E(parseFloat(N.coords[4]))+" "+E(parseFloat(N.coords[5])),ie(Pe+="]"),N.matrix&&ie("/Matrix ["+N.matrix.toString()+"]"),ie("/Function "+ae+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Ny=function(N,H){var ae=jn(),ce=Tn();H.push({resourcesOid:ae,objectOid:ce}),N.objectNumber=ce;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+N.boundingBox.map(E).join(" ")+"]"}),ye.push({key:"XStep",value:E(N.xStep)}),ye.push({key:"YStep",value:E(N.yStep)}),ye.push({key:"Resources",value:ae+" 0 R"}),N.matrix&&ye.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Hi({data:N.stream,additionalKeyValues:ye,objectId:N.objectNumber}),ie("endobj")},Uu=function(N){var H;for(H in rt)rt.hasOwnProperty(H)&&(rt[H]instanceof Ls?Cy(rt[H]):rt[H]instanceof Gl&&Ny(rt[H],N))},SA=function(N){for(var H in N.objectNumber=Tn(),ie("<<"),N)switch(H){case"opacity":ie("/ca "+$(N[H]));break;case"stroke-opacity":ie("/CA "+$(N[H]))}ie(">>"),ie("endobj")},Ey=function(){var N;for(N in bt)bt.hasOwnProperty(N)&&SA(bt[N])},yd=function(){for(var N in ie("/XObject <<"),At)At.hasOwnProperty(N)&&At[N].objectNumber>=0&&ie("/"+N+" "+At[N].objectNumber+" 0 R");Lt.publish("putXobjectDict"),ie(">>")},ky=function(){jr.oid=Tn(),ie("<<"),ie("/Filter /Standard"),ie("/V "+jr.v),ie("/R "+jr.r),ie("/U <"+jr.toHexString(jr.U)+">"),ie("/O <"+jr.toHexString(jr.O)+">"),ie("/P "+jr.P),ie(">>"),ie("endobj")},_A=function(){for(var N in ie("/Font <<"),We)We.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&ie("/"+N+" "+We[N].objectNumber+" 0 R");ie(">>")},Py=function(){if(Object.keys(rt).length>0){for(var N in ie("/Shading <<"),rt)rt.hasOwnProperty(N)&&rt[N]instanceof Ls&&rt[N].objectNumber>=0&&ie("/"+N+" "+rt[N].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),ie(">>")}},qu=function(N){if(Object.keys(rt).length>0){for(var H in ie("/Pattern <<"),rt)rt.hasOwnProperty(H)&&rt[H]instanceof A.TilingPattern&&rt[H].objectNumber>=0&&rt[H].objectNumber<N&&ie("/"+H+" "+rt[H].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),ie(">>")}},My=function(){if(Object.keys(bt).length>0){var N;for(N in ie("/ExtGState <<"),bt)bt.hasOwnProperty(N)&&bt[N].objectNumber>=0&&ie("/"+N+" "+bt[N].objectNumber+" 0 R");Lt.publish("putGStateDict"),ie(">>")}},Vn=function(N){Wr(N.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),_A(),Py(),qu(N.objectOid),My(),yd(),ie(">>"),ie("endobj")},TA=function(){var N=[];Bu(),Ey(),Fu(),Uu(N),Lt.publish("putResources"),N.forEach(Vn),Vn({resourcesOid:ba,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},CA=function(){Lt.publish("putAdditionalObjects");for(var N=0;N<be.length;N++){var H=be[N];Wr(H.objId,!0),ie(H.content),ie("endobj")}Lt.publish("postPutAdditionalObjects")},NA=function(N){Ge[N.fontName]=Ge[N.fontName]||{},Ge[N.fontName][N.fontStyle]=N.id},bd=function(N,H,ae,ce,ye){var Pe={id:"F"+(Object.keys(We).length+1).toString(10),postScriptName:N,fontName:H,fontStyle:ae,encoding:ce,isStandardFont:ye||!1,metadata:{}};return Lt.publish("addFont",{font:Pe,instance:this}),We[Pe.id]=Pe,NA(Pe),Pe.id},Oy=function(N){for(var H=0,ae=ve.length;H<ae;H++){var ce=bd.call(this,N[H][0],N[H][1],N[H][2],ve[H][3],!0);f===!1&&(h[ce]=!0);var ye=N[H][0].split("-");NA({id:ce,fontName:ye[0],fontStyle:ye[1]||""})}Lt.publish("addFonts",{fonts:We,dictionary:Ge})},Sa=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(ce){var H=ce.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ae="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ce.message;if(!mt.console)throw new Error(ae);mt.console.error(ae,ce),mt.alert&&alert(ae)}},N.foo.bar=N,N.foo},Hu=function(N,H){var ae,ce,ye,Pe,qe,tt,ct,Tt,wt;if(ye=(H=H||{}).sourceEncoding||"Unicode",qe=H.outputEncoding,(H.autoencode||qe)&&We[et].metadata&&We[et].metadata[ye]&&We[et].metadata[ye].encoding&&(Pe=We[et].metadata[ye].encoding,!qe&&We[et].encoding&&(qe=We[et].encoding),!qe&&Pe.codePages&&(qe=Pe.codePages[0]),typeof qe=="string"&&(qe=Pe[qe]),qe)){for(ct=!1,tt=[],ae=0,ce=N.length;ae<ce;ae++)(Tt=qe[N.charCodeAt(ae)])?tt.push(String.fromCharCode(Tt)):tt.push(N[ae]),tt[ae].charCodeAt(0)>>8&&(ct=!0);N=tt.join("")}for(ae=N.length;ct===void 0&&ae!==0;)N.charCodeAt(ae-1)>>8&&(ct=!0),ae--;if(!ct)return N;for(tt=H.noBOM?[]:[254,255],ae=0,ce=N.length;ae<ce;ae++){if((wt=(Tt=N.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(wt),tt.push(Tt-(wt<<8))}return String.fromCharCode.apply(void 0,tt)},ii=A.__private__.pdfEscape=A.pdfEscape=function(N,H){return Hu(N,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xd=A.__private__.beginPage=function(N){_e[++fn]=[],lt[fn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},kA(fn),Se(_e[z])},EA=function(N,H){var ae,ce,ye;switch(n=H||n,typeof N=="string"&&(ae=y(N.toLowerCase()),Array.isArray(ae)&&(ce=ae[0],ye=ae[1])),Array.isArray(N)&&(ce=N[0]*ze,ye=N[1]*ze),isNaN(ce)&&(ce=i[0],ye=i[1]),(ce>14400||ye>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ye=Math.min(14400,ye)),i=[ce,ye],n.substr(0,1)){case"l":ye>ce&&(i=[ye,ce]);break;case"p":ce>ye&&(i=[ye,ce])}xd(i),LA(Td),ie(_a),Nd!==0&&ie(Nd+" J"),Ed!==0&&ie(Ed+" j"),Lt.publish("addPage",{pageNumber:fn})},Iy=function(N){N>0&&N<=fn&&(_e.splice(N,1),lt.splice(N,1),fn--,z>fn&&(z=fn),this.setPage(z))},kA=function(N){N>0&&N<=fn&&(z=N)},Dy=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return _e.length-1},PA=function(N,H,ae){var ce,ye=void 0;return ae=ae||{},N=N!==void 0?N:We[et].fontName,H=H!==void 0?H:We[et].fontStyle,ce=N.toLowerCase(),Ge[ce]!==void 0&&Ge[ce][H]!==void 0?ye=Ge[ce][H]:Ge[N]!==void 0&&Ge[N][H]!==void 0?ye=Ge[N][H]:ae.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+N+"', '"+H+"'. Refer to getFontList() for available fonts."),ye||ae.noFallback||(ye=Ge.times[H])==null&&(ye=Ge.times.normal),ye},Ly=A.__private__.putInfo=function(){var N=Tn(),H=function(ce){return ce};for(var ae in c!==null&&(H=jr.encryptor(N,0)),ie("<<"),ie("/Producer ("+ii(H("jsPDF "+ft.version))+")"),Ke)Ke.hasOwnProperty(ae)&&Ke[ae]&&ie("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+ii(H(Ke[ae]))+")");ie("/CreationDate ("+ii(H(G))+")"),ie(">>"),ie("endobj")},wd=A.__private__.putCatalog=function(N){var H=(N=N||{}).rootDictionaryObjId||Ao;switch(Tn(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+H+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+Ue;ae.substr(ae.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+$(Ue)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Ie&&ie("/PageMode /"+Ie),Lt.publish("putCatalog"),ie(">>"),ie("endobj")},jy=A.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(J+1)),ie("/Root "+J+" 0 R"),ie("/Info "+(J-1)+" 0 R"),c!==null&&ie("/Encrypt "+jr.oid+" 0 R"),ie("/ID [ <"+R+"> <"+R+"> ]"),ie(">>")},Ry=A.__private__.putHeader=function(){ie("%PDF-"+v),ie("%")},By=A.__private__.putXRef=function(){var N="0000000000";ie("xref"),ie("0 "+(J+1)),ie("0000000000 65535 f ");for(var H=1;H<=J;H++)typeof se[H]=="function"?ie((N+se[H]()).slice(-10)+" 00000 n "):se[H]!==void 0?ie((N+se[H]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},mo=A.__private__.buildDocument=function(){Fe(),Se(ue),Lt.publish("buildDocument"),Ry(),vl(),CA(),TA(),c!==null&&ky(),Ly(),wd();var N=re;return By(),jy(),ie("startxref"),ie(""+N),ie("%%EOF"),Se(_e[z]),ue.join(`
`)},zu=A.__private__.getBlob=function(N){return new Blob([Ce(N)],{type:"application/pdf"})},Vu=A.output=A.__private__.output=Sa(function(N,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",N){case void 0:return mo();case"save":A.save(H.filename);break;case"arraybuffer":return Ce(mo());case"blob":return zu(mo());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(zu(mo()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ce=mo();try{ae=l2(ce)}catch{ae=l2(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+H.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(ye=H.pdfObjectUrl,Pe="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",tt=mt.open();return tt!==null&&tt.document.write(qe),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Tt=mt.open();if(Tt!==null){Tt.document.write(ct);var wt=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=H.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Rn=mt.open();if(Rn!==null&&(Rn.document.write(qt),Rn.document.title=H.filename),Rn||typeof safari>"u")return Rn;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",H);default:return null}}),MA=function(N){return Array.isArray(Qe)===!0&&Qe.indexOf(N)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=MA("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var jr=null;le(),V();var $y=function(N){return c!==null?jr.encryptor(N,0):function(H){return H}},OA=A.__private__.getPageInfo=A.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[N].objId,pageNumber:N,pageContext:lt[N]}},xt=A.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in lt)if(lt[H].objId===N)break;return OA(H)},Fy=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:lt[z].objId,pageNumber:z,pageContext:lt[z]}};A.addPage=function(){return EA.apply(this,arguments),this},A.setPage=function(){return kA.apply(this,arguments),Se.call(this,_e[z]),this},A.insertPage=function(N){return this.addPage(),this.movePage(z,N),this},A.movePage=function(N,H){var ae,ce;if(N>H){ae=_e[N],ce=lt[N];for(var ye=N;ye>H;ye--)_e[ye]=_e[ye-1],lt[ye]=lt[ye-1];_e[H]=ae,lt[H]=ce,this.setPage(H)}else if(N<H){ae=_e[N],ce=lt[N];for(var Pe=N;Pe<H;Pe++)_e[Pe]=_e[Pe+1],lt[Pe]=lt[Pe+1];_e[H]=ae,lt[H]=ce,this.setPage(H)}return this},A.deletePage=function(){return Iy.apply(this,arguments),this},A.__private__.text=A.text=function(N,H,ae,ce,ye){var Pe,qe,tt,ct,Tt,wt,qt,Rn,$n,Zn=(ce=ce||{}).scope||this;if(typeof N=="number"&&typeof H=="number"&&(typeof ae=="string"||Array.isArray(ae))){var Rr=ae;ae=H,H=N,N=Rr}if(arguments[3]instanceof Ve?(O("The transform parameter of text() with a Matrix value"),$n=ye):(tt=arguments[4],ct=arguments[5],an(qt=arguments[3])==="object"&&qt!==null||(typeof tt=="string"&&(ct=tt,tt=null),typeof qt=="string"&&(ct=qt,qt=null),typeof qt=="number"&&(tt=qt,qt=null),ce={flags:qt,angle:tt,align:ct})),isNaN(H)||isNaN(ae)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Zn;var yr="",Ta=!1,wi=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:bl,Ya=Zn.internal.scaleFactor;function UA(gn){return gn=gn.split("	").join(Array(ce.TabLen||9).join(" ")),ii(gn,qt)}function Id(gn){for(var vn,Wn=gn.concat(),ur=[],xo=Wn.length;xo--;)typeof(vn=Wn.shift())=="string"?ur.push(vn):Array.isArray(gn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?ur.push(vn[0]):ur.push([vn[0],vn[1],vn[2]]);return ur}function Dd(gn,vn){var Wn;if(typeof gn=="string")Wn=vn(gn)[0];else if(Array.isArray(gn)){for(var ur,xo,qd=gn.concat(),oc=[],GA=qd.length;GA--;)typeof(ur=qd.shift())=="string"?oc.push(vn(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(xo=vn(ur[0],ur[1],ur[2]),oc.push([xo[0],xo[1],xo[2]]));Wn=oc}return Wn}var Xu=!1,Ld=!0;if(typeof N=="string")Xu=!0;else if(Array.isArray(N)){var jd=N.concat();qe=[];for(var Qu,Er=jd.length;Er--;)(typeof(Qu=jd.shift())!="string"||Array.isArray(Qu)&&typeof Qu[0]!="string")&&(Ld=!1);Xu=Ld}if(Xu===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Zu=Ne/Zn.internal.scaleFactor,ec=Zu*(wi-1);switch(ce.baseline){case"bottom":ae-=ec;break;case"top":ae+=Zu-ec;break;case"hanging":ae+=Zu-2*ec;break;case"middle":ae+=Zu/2-ec}if((wt=ce.maxWidth||0)>0&&(typeof N=="string"?N=Zn.splitTextToSize(N,wt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(gn,vn){return gn.concat(Zn.splitTextToSize(vn,wt))},[]))),Pe={text:N,x:H,y:ae,options:ce,mutex:{pdfEscape:ii,activeFontKey:et,fonts:We,activeFontSize:Ne}},Lt.publish("preProcessText",Pe),N=Pe.text,tt=(ce=Pe.options).angle,!($n instanceof Ve)&&tt&&typeof tt=="number"){tt*=Math.PI/180,ce.rotationDirection===0&&(tt=-tt),S===x.ADVANCED&&(tt=-tt);var tc=Math.cos(tt),Rd=Math.sin(tt);$n=new Ve(tc,Rd,-Rd,tc,0,0)}else tt&&tt instanceof Ve&&($n=tt);S!==x.ADVANCED||$n||($n=_n),(Tt=ce.charSpace||Yu)!==void 0&&(yr+=E(M(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Rn=ce.horizontalScale)!==void 0&&(yr+=E(100*Rn)+` Tz
`),ce.lang;var ai=-1,Jy=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Bd=Zn.internal.getCurrentPageInfo().pageContext;switch(Jy){case 0:case!1:case"fill":ai=0;break;case 1:case!0:case"stroke":ai=1;break;case 2:case"fillThenStroke":ai=2;break;case 3:case"invisible":ai=3;break;case 4:case"fillAndAddForClipping":ai=4;break;case 5:case"strokeAndAddPathForClipping":ai=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ai=6;break;case 7:case"addToPathForClipping":ai=7}var qA=Bd.usedRenderingMode!==void 0?Bd.usedRenderingMode:-1;ai!==-1?yr+=ai+` Tr
`:qA!==-1&&(yr+=`0 Tr
`),ai!==-1&&(Bd.usedRenderingMode=ai),ct=ce.align||"left";var zi,nc=Ne*wi,HA=Zn.internal.pageSize.getWidth(),zA=We[et];Tt=ce.charSpace||Yu,wt=ce.maxWidth||0,qt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var fs=[],Sl=function(gn){return Zn.getStringUnitWidth(gn,{font:zA,charSpace:Tt,fontSize:Ne,doKerning:!1})*Ne/Ya};if(Object.prototype.toString.call(N)==="[object Array]"){var oi;qe=Id(N),ct!=="left"&&(zi=qe.map(Sl));var Yr,ds=0;if(ct==="right"){H-=zi[0],N=[],Er=qe.length;for(var vo=0;vo<Er;vo++)vo===0?(Yr=Wa(H),oi=go(ae)):(Yr=M(ds-zi[vo]),oi=-nc),N.push([qe[vo],Yr,oi]),ds=zi[vo]}else if(ct==="center"){H-=zi[0]/2,N=[],Er=qe.length;for(var yo=0;yo<Er;yo++)yo===0?(Yr=Wa(H),oi=go(ae)):(Yr=M((ds-zi[yo])/2),oi=-nc),N.push([qe[yo],Yr,oi]),ds=zi[yo]}else if(ct==="left"){N=[],Er=qe.length;for(var rc=0;rc<Er;rc++)N.push(qe[rc])}else if(ct==="justify"&&zA.encoding==="Identity-H"){N=[],Er=qe.length,wt=wt!==0?wt:HA;for(var bo=0,Gn=0;Gn<Er;Gn++)if(oi=Gn===0?go(ae):-nc,Yr=Gn===0?Wa(H):bo,Gn<Er-1){var $d=M((wt-zi[Gn])/(qe[Gn].split(" ").length-1)),Kr=qe[Gn].split(" ");N.push([Kr[0]+" ",Yr,oi]),bo=0;for(var Vi=1;Vi<Kr.length;Vi++){var ic=(Sl(Kr[Vi-1]+" "+Kr[Vi])-Sl(Kr[Vi]))*Ya+$d;Vi==Kr.length-1?N.push([Kr[Vi],ic,0]):N.push([Kr[Vi]+" ",ic,0]),bo-=ic}}else N.push([qe[Gn],Yr,oi]);N.push(["",bo,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Er=qe.length,wt=wt!==0?wt:HA,Gn=0;Gn<Er;Gn++)oi=Gn===0?go(ae):-nc,Yr=Gn===0?Wa(H):0,Gn<Er-1?fs.push(E(M((wt-zi[Gn])/(qe[Gn].split(" ").length-1)))):fs.push(0),N.push([qe[Gn],Yr,oi])}}var VA=typeof ce.R2L=="boolean"?ce.R2L:ge;VA===!0&&(N=Dd(N,function(gn,vn,Wn){return[gn.split("").reverse().join(""),vn,Wn]})),Pe={text:N,x:H,y:ae,options:ce,mutex:{pdfEscape:ii,activeFontKey:et,fonts:We,activeFontSize:Ne}},Lt.publish("postProcessText",Pe),N=Pe.text,Ta=Pe.mutex.isHex||!1;var Fd=We[et].encoding;Fd!=="WinAnsiEncoding"&&Fd!=="StandardEncoding"||(N=Dd(N,function(gn,vn,Wn){return[UA(gn),vn,Wn]})),qe=Id(N),N=[];for(var _l,Tl,hs,Cl=0,ac=1,Nl=Array.isArray(qe[0])?ac:Cl,ps="",Ud=function(gn,vn,Wn){var ur="";return Wn instanceof Ve?(Wn=typeof ce.angle=="number"?_t(Wn,new Ve(1,0,0,1,gn,vn)):_t(new Ve(1,0,0,1,gn,vn),Wn),S===x.ADVANCED&&(Wn=_t(new Ve(1,0,0,-1,0,0),Wn)),ur=Wn.join(" ")+` Tm
`):ur=E(gn)+" "+E(vn)+` Td
`,ur},Gi=0;Gi<qe.length;Gi++){switch(ps="",Nl){case ac:hs=(Ta?"<":"(")+qe[Gi][0]+(Ta?">":")"),_l=parseFloat(qe[Gi][1]),Tl=parseFloat(qe[Gi][2]);break;case Cl:hs=(Ta?"<":"(")+qe[Gi]+(Ta?">":")"),_l=Wa(H),Tl=go(ae)}fs!==void 0&&fs[Gi]!==void 0&&(ps=fs[Gi]+` Tw
`),Gi===0?N.push(ps+Ud(_l,Tl,$n)+hs):Nl===Cl?N.push(ps+hs):Nl===ac&&N.push(ps+Ud(_l,Tl,$n)+hs)}N=Nl===Cl?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Wi=`BT
/`;return Wi+=et+" "+Ne+` Tf
`,Wi+=E(Ne*wi)+` TL
`,Wi+=xl+`
`,Wi+=yr,Wi+=N,ie(Wi+="ET"),h[et]=!0,Zn};var Uy=A.__private__.clip=A.clip=function(N){return ie(N==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return Uy("evenodd")},A.__private__.discardPath=A.discardPath=function(){return ie("n"),this};var Ga=A.__private__.isValidStyle=function(N){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(H=!0),H};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(N){return Ga(N)&&(u=N),this};var IA=A.__private__.getStyle=A.getStyle=function(N){var H=u;switch(N){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=N}return H},DA=A.close=function(){return ie("h"),this};A.stroke=function(){return ie("S"),this},A.fill=function(N){return Gu("f",N),this},A.fillEvenOdd=function(N){return Gu("f*",N),this},A.fillStroke=function(N){return Gu("B",N),this},A.fillStrokeEvenOdd=function(N){return Gu("B*",N),this};var Gu=function(N,H){an(H)==="object"?Hy(H,N):ie(N)},Sd=function(N){N===null||S===x.ADVANCED&&N===void 0||(N=IA(N),ie(N))};function qy(N,H,ae,ce,ye){var Pe=new Gl(H||this.boundingBox,ae||this.xStep,ce||this.yStep,this.gState,ye||this.matrix);Pe.stream=this.stream;var qe=N+"$$"+this.cloneIndex+++"$$";return mn(qe,Pe),Pe}var Hy=function(N,H){var ae=Ft[N.key],ce=rt[ae];if(ce instanceof Ls)ie("q"),ie(zy(H)),ce.gState&&A.setGState(ce.gState),ie(N.matrix.toString()+" cm"),ie("/"+ae+" sh"),ie("Q");else if(ce instanceof Gl){var ye=new Ve(1,0,0,-1,0,cs());N.matrix&&(ye=ye.multiply(N.matrix||_n),ae=qy.call(ce,N.key,N.boundingBox,N.xStep,N.yStep,ye).id),ie("q"),ie("/Pattern cs"),ie("/"+ae+" scn"),ce.gState&&A.setGState(ce.gState),ie(H),ie("Q")}},zy=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_d=A.moveTo=function(N,H){return ie(E(M(N))+" "+E(F(H))+" m"),this},yl=A.lineTo=function(N,H){return ie(E(M(N))+" "+E(F(H))+" l"),this},ls=A.curveTo=function(N,H,ae,ce,ye,Pe){return ie([E(M(N)),E(F(H)),E(M(ae)),E(F(ce)),E(M(ye)),E(F(Pe)),"c"].join(" ")),this};A.__private__.line=A.line=function(N,H,ae,ce,ye){if(isNaN(N)||isNaN(H)||isNaN(ae)||isNaN(ce)||!Ga(ye))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[ae-N,ce-H]],N,H,[1,1],ye||"S"):this.lines([[ae-N,ce-H]],N,H,[1,1]).stroke()},A.__private__.lines=A.lines=function(N,H,ae,ce,ye,Pe){var qe,tt,ct,Tt,wt,qt,Rn,$n,Zn,Rr,yr,Ta;if(typeof N=="number"&&(Ta=ae,ae=H,H=N,N=Ta),ce=ce||[1,1],Pe=Pe||!1,isNaN(H)||isNaN(ae)||!Array.isArray(N)||!Array.isArray(ce)||!Ga(ye)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_d(H,ae),qe=ce[0],tt=ce[1],Tt=N.length,Rr=H,yr=ae,ct=0;ct<Tt;ct++)(wt=N[ct]).length===2?(Rr=wt[0]*qe+Rr,yr=wt[1]*tt+yr,yl(Rr,yr)):(qt=wt[0]*qe+Rr,Rn=wt[1]*tt+yr,$n=wt[2]*qe+Rr,Zn=wt[3]*tt+yr,Rr=wt[4]*qe+Rr,yr=wt[5]*tt+yr,ls(qt,Rn,$n,Zn,Rr,yr));return Pe&&DA(),Sd(ye),this},A.path=function(N){for(var H=0;H<N.length;H++){var ae=N[H],ce=ae.c;switch(ae.op){case"m":_d(ce[0],ce[1]);break;case"l":yl(ce[0],ce[1]);break;case"c":ls.apply(this,ce);break;case"h":DA()}}return this},A.__private__.rect=A.rect=function(N,H,ae,ce,ye){if(isNaN(N)||isNaN(H)||isNaN(ae)||isNaN(ce)||!Ga(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(ce=-ce),ie([E(M(N)),E(F(H)),E(M(ae)),E(M(ce)),"re"].join(" ")),Sd(ye),this},A.__private__.triangle=A.triangle=function(N,H,ae,ce,ye,Pe,qe){if(isNaN(N)||isNaN(H)||isNaN(ae)||isNaN(ce)||isNaN(ye)||isNaN(Pe)||!Ga(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-N,ce-H],[ye-ae,Pe-ce],[N-ye,H-Pe]],N,H,[1,1],qe,!0),this},A.__private__.roundedRect=A.roundedRect=function(N,H,ae,ce,ye,Pe,qe){if(isNaN(N)||isNaN(H)||isNaN(ae)||isNaN(ce)||isNaN(ye)||isNaN(Pe)||!Ga(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ae),Pe=Math.min(Pe,.5*ce),this.lines([[ae-2*ye,0],[ye*tt,0,ye,Pe-Pe*tt,ye,Pe],[0,ce-2*Pe],[0,Pe*tt,-ye*tt,Pe,-ye,Pe],[2*ye-ae,0],[-ye*tt,0,-ye,-Pe*tt,-ye,-Pe],[0,2*Pe-ce],[0,-Pe*tt,ye*tt,-Pe,ye,-Pe]],N+ye,H,[1,1],qe,!0),this},A.__private__.ellipse=A.ellipse=function(N,H,ae,ce,ye){if(isNaN(N)||isNaN(H)||isNaN(ae)||isNaN(ce)||!Ga(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*ae,qe=4/3*(Math.SQRT2-1)*ce;return _d(N+ae,H),ls(N+ae,H-qe,N+Pe,H-ce,N,H-ce),ls(N-Pe,H-ce,N-ae,H-qe,N-ae,H),ls(N-ae,H+qe,N-Pe,H+ce,N,H+ce),ls(N+Pe,H+ce,N+ae,H+qe,N+ae,H),Sd(ye),this},A.__private__.circle=A.circle=function(N,H,ae,ce){if(isNaN(N)||isNaN(H)||isNaN(ae)||!Ga(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,H,ae,ae,ce)},A.setFont=function(N,H,ae){return ae&&(H=k(H,ae)),et=PA(N,H,{disableWarning:!1}),this};var Vy=A.__private__.getFont=A.getFont=function(){return We[PA.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var N,H,ae={};for(N in Ge)if(Ge.hasOwnProperty(N))for(H in ae[N]=[],Ge[N])Ge[N].hasOwnProperty(H)&&ae[N].push(H);return ae},A.addFont=function(N,H,ae,ce,ye){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(ae=k(ae,ce)),ye=ye||"Identity-H",bd.call(this,N,H,ae,ye)};var bl,Td=t.lineWidth||.200025,Wu=A.__private__.getLineWidth=A.getLineWidth=function(){return Td},LA=A.__private__.setLineWidth=A.setLineWidth=function(N){return Td=N,ie(E(M(N))+" w"),this};A.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(N,H){if(N=N||[],H=H||0,isNaN(H)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ae){return E(M(ae))}).join(" "),H=E(M(H)),ie("["+N+"] "+H+" d"),this};var jA=A.__private__.getLineHeight=A.getLineHeight=function(){return Ne*bl};A.__private__.getLineHeight=A.getLineHeight=function(){return Ne*bl};var RA=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(bl=N),this},BA=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return bl};RA(t.lineHeight);var Wa=A.__private__.getHorizontalCoordinate=function(N){return M(N)},go=A.__private__.getVerticalCoordinate=function(N){return S===x.ADVANCED?N:lt[z].mediaBox.topRightY-lt[z].mediaBox.bottomLeftY-M(N)},Gy=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(N){return E(Wa(N))},us=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(N){return E(go(N))},_a=t.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return xa(_a)},A.__private__.setStrokeColor=A.setDrawColor=function(N,H,ae,ce){return _a=wa({ch1:N,ch2:H,ch3:ae,ch4:ce,pdfColorType:"draw",precision:2}),ie(_a),this};var Cd=t.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return xa(Cd)},A.__private__.setFillColor=A.setFillColor=function(N,H,ae,ce){return Cd=wa({ch1:N,ch2:H,ch3:ae,ch4:ce,pdfColorType:"fill",precision:2}),ie(Cd),this};var xl=t.textColor||"0 g",Wy=A.__private__.getTextColor=A.getTextColor=function(){return xa(xl)};A.__private__.setTextColor=A.setTextColor=function(N,H,ae,ce){return xl=wa({ch1:N,ch2:H,ch3:ae,ch4:ce,pdfColorType:"text",precision:3}),this};var Yu=t.charSpace,Yy=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(Yu||0)};A.__private__.setCharSpace=A.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yu=N,this};var Nd=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(N){var H=A.CapJoinStyles[N];if(H===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nd=H,ie(H+" J"),this};var Ed=0;A.__private__.setLineJoin=A.setLineJoin=function(N){var H=A.CapJoinStyles[N];if(H===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ed=H,ie(H+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(E(M(N))+" M"),this},A.GState=pp,A.setGState=function(N){(N=typeof N=="string"?bt[Bn[N]]:$A(null,N)).equals(ri)||(ie("/"+N.id+" gs"),ri=N)};var $A=function(N,H){if(!N||!Bn[N]){var ae=!1;for(var ce in bt)if(bt.hasOwnProperty(ce)&&bt[ce].equals(H)){ae=!0;break}if(ae)H=bt[ce];else{var ye="GS"+(Object.keys(bt).length+1).toString(10);bt[ye]=H,H.id=ye}return N&&(Bn[N]=H.id),Lt.publish("addGState",H),H}};A.addGState=function(N,H){return $A(N,H),this},A.saveGraphicsState=function(){return ie("q"),st.push({key:et,size:Ne,color:xl}),this},A.restoreGraphicsState=function(){ie("Q");var N=st.pop();return et=N.key,Ne=N.size,xl=N.color,ri=null,this},A.setCurrentTransformationMatrix=function(N){return ie(N.toString()+" cm"),this},A.comment=function(N){return ie("#"+N),this};var Ku=function(N,H){var ae=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(Pe){isNaN(Pe)||(ae=parseFloat(Pe))}});var ce=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=parseFloat(Pe))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Pe){ye=Pe.toString()}}),this},kd=function(N,H,ae,ce){Ku.call(this,N,H),this.type="rect";var ye=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(qe){isNaN(qe)||(ye=parseFloat(qe))}});var Pe=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(qe){isNaN(qe)||(Pe=parseFloat(qe))}}),this},Pd=function(){this.page=fn,this.currentPage=z,this.pages=_e.slice(0),this.pagesContext=lt.slice(0),this.x=Gt,this.y=Pt,this.matrix=Ee,this.width=wl(z),this.height=cs(z),this.outputDestination=De,this.id="",this.objectNumber=-1};Pd.prototype.restore=function(){fn=this.page,z=this.currentPage,lt=this.pagesContext,_e=this.pages,Gt=this.x,Pt=this.y,Ee=this.matrix,Md(z,this.width),Od(z,this.height),De=this.outputDestination};var FA=function(N,H,ae,ce,ye){Wt.push(new Pd),fn=z=0,_e=[],Gt=N,Pt=H,Ee=ye,xd([ae,ce])},Ky=function(N){if(Mt[N])Wt.pop().restore();else{var H=new Pd,ae="Xo"+(Object.keys(At).length+1).toString(10);H.id=ae,Mt[N]=ae,At[ae]=H,Lt.publish("addFormObject",H),Wt.pop().restore()}};for(var Ju in A.beginFormObject=function(N,H,ae,ce,ye){return FA(N,H,ae,ce,ye),this},A.endFormObject=function(N){return Ky(N),this},A.doFormObject=function(N,H){var ae=At[Mt[N]];return ie("q"),ie(H.toString()+" cm"),ie("/"+ae.id+" Do"),ie("Q"),this},A.getFormObject=function(N){var H=At[Mt[N]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},A.save=function(N,H){return N=N||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?($l(zu(mo()),N),typeof $l.unload=="function"&&mt.setTimeout&&setTimeout($l.unload,911),this):new Promise(function(ae,ce){try{var ye=$l(zu(mo()),N);typeof $l.unload=="function"&&mt.setTimeout&&setTimeout($l.unload,911),ae(ye)}catch(Pe){ce(Pe.message)}})},ft.API)ft.API.hasOwnProperty(Ju)&&(Ju==="events"&&ft.API.events.length?function(N,H){var ae,ce,ye;for(ye=H.length-1;ye!==-1;ye--)ae=H[ye][0],ce=H[ye][1],N.subscribe.apply(N,[ae].concat(typeof ce=="function"?[ce]:ce))}(Lt,ft.API.events):A[Ju]=ft.API[Ju]);var wl=A.getPageWidth=function(N){return(lt[N=N||z].mediaBox.topRightX-lt[N].mediaBox.bottomLeftX)/ze},Md=A.setPageWidth=function(N,H){lt[N].mediaBox.topRightX=H*ze+lt[N].mediaBox.bottomLeftX},cs=A.getPageHeight=function(N){return(lt[N=N||z].mediaBox.topRightY-lt[N].mediaBox.bottomLeftY)/ze},Od=A.setPageHeight=function(N,H){lt[N].mediaBox.topRightY=H*ze+lt[N].mediaBox.bottomLeftY};return A.internal={pdfEscape:ii,getStyle:IA,getFont:Vy,getFontSize:He,getCharSpace:Yy,getTextColor:Wy,getLineHeight:jA,getLineHeightFactor:BA,getLineWidth:Wu,write:Te,getHorizontalCoordinate:Wa,getVerticalCoordinate:go,getCoordinateString:Gy,getVerticalCoordinateString:us,collections:{},newObject:Tn,newAdditionalObject:ju,newObjectDeferred:jn,newObjectDeferredBegin:Wr,getFilters:za,putStream:Hi,events:Lt,scaleFactor:ze,pageSize:{getWidth:function(){return wl(z)},setWidth:function(N){Md(z,N)},getHeight:function(){return cs(z)},setHeight:function(N){Od(z,N)}},encryptionOptions:c,encryption:jr,getEncryptor:$y,output:Vu,getNumberOfPages:Dy,pages:_e,out:ie,f2:$,f3:I,getPageInfo:OA,getPageInfoByObjId:xt,getCurrentPageInfo:Fy,getPDFVersion:b,Point:Ku,Rectangle:kd,Matrix:Ve,hasHotfix:MA},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return wl(z)},set:function(N){Md(z,N)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return cs(z)},set:function(N){Od(z,N)},enumerable:!0,configurable:!0}),Oy.call(A,ve),et="F1",EA(i,n),Lt.publish("initialized"),A}Nc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Nc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Nc.prototype.processOwnerPassword=function(t,e){return c2(u2(e).substr(0,5),t)},Nc.prototype.encryptor=function(t,e){var n=u2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return c2(n,r)}},pp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||an(t)!==an(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ft.API={events:[]},ft.version="2.5.2";var qn=ft.API,AS=1,ku=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(t){return t.toFixed(2)},_s=function(t){return t.toFixed(5)};qn.__acroform__={};var bi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},uE=function(t){return t*AS},Ja=function(t){var e=new zI,n=at.internal.getHeight(t)||0,r=at.internal.getWidth(t)||0;return e.BBox=[0,0,Number(St(r)),Number(St(n))],e},IK=qn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},DK=qn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},LK=qn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yn=qn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return LK(t,e-1)},Kn=qn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IK(t,e-1)},Jn=qn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DK(t,e-1)},jK=qn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},RK=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=f2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ja(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},f2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=n,o=at.internal.getHeight(t)||0;o=o<0?-o:o;var s=at.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(I,M,B){if(I+1<i.length){var F=M+" "+i[I+1][0];return Im(F,t,B).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Im("3",t,a).height,h=t.multiline?o-a:(o-f)/2,A=h+=2,v=0,b=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Im(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var y="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&w!==i[S].length-1){if((f+2)*(x+2)+2>o)continue e;y+=i[S][w],T=!0,b=S,S--}else{y=(y+=i[S][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(S),k=l(C,y,a),E=S>=i.length-1;if(k&&!E){y+=" ",w=0;continue}if(k||E){if(E)b=C;else if(t.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>o)continue e;b=C}}for(var O="",D=v;D<=b;D++){var $=i[D];if(t.multiline){if(D===b){O+=$[w]+" ",w=(w+1)%$.length;continue}if(D===v){O+=$[$.length-1]+" ";continue}}O+=$[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,c=Im(O,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=St(u)+" "+St(A)+` Td
`,e+="("+ku(O)+`) Tj
`,e+=-St(u)+` 0 Td
`,A=-(a+2),c=0,v=T?b:b+1,x++,y=""}break}return r.text=e,r.fontSize=a,r},Im=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},BK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$K=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},FK=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),an(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},UK=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ua.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(BK)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");AS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new VI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&$K(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=jK(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=at.createDefaultAppearanceStream(s),an(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=RK(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var A=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var o in A)if(A.hasOwnProperty(o)){var v=A[o];typeof v=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=A)=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&FK(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},HI=qn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),an(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ku(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},o1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ku(r(t))+")"},no=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};no.prototype.toString=function(){return this.objId+" 0 R"},no.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},no.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:HI(i,this.objId,this.scope)}):i instanceof no?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var zI=function(){no.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};bi(zI,no);var VI=function(){no.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ku(n(t))+")"}},set:function(n){t=n}})};bi(VI,no);var Ua=function t(){no.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(e,3)},set:function(y){y?this.F=Kn(e,3):this.F=Jn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Xg)return;a="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+ku(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/AS:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Xg||this instanceof tl))return o1(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof hr?h:o1(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof hr?y:y.substr(0,1)==="("?hc(y.substr(1,y.length-2)):hc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?hc(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof hr?"/"+y:y}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof hr?A:o1(A,this.objId,this.scope)},set:function(y){y=y.toString(),A=this instanceof hr?y:y.substr(0,1)==="("?hc(y.substr(1,y.length-2)):hc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hr?hc(A.substr(1,A.length-1)):A},set:function(y){y=y.toString(),A=this instanceof hr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(y){y?this.Ff=Kn(this.Ff,1):this.Ff=Jn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(y){y?this.Ff=Kn(this.Ff,2):this.Ff=Jn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(y){y?this.Ff=Kn(this.Ff,3):this.Ff=Jn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};bi(Ua,no);var ru=function(){Ua.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Kn(this.Ff,18):this.Ff=Jn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Kn(this.Ff,19):this.Ff=Jn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Kn(this.Ff,20),e.sort()):this.Ff=Jn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Kn(this.Ff,22):this.Ff=Jn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Kn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Kn(this.Ff,27):this.Ff=Jn(this.Ff,27)}}),this.hasAppearanceStream=!1};bi(ru,Ua);var iu=function(){ru.call(this),this.fontName="helvetica",this.combo=!1};bi(iu,ru);var au=function(){iu.call(this),this.combo=!0};bi(au,iu);var Fh=function(){au.call(this),this.edit=!0};bi(Fh,au);var hr=function(){Ua.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Kn(this.Ff,15):this.Ff=Jn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Kn(this.Ff,16):this.Ff=Jn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Kn(this.Ff,17):this.Ff=Jn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Kn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ku(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){an(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};bi(hr,Ua);var Uh=function(){hr.call(this),this.pushButton=!0};bi(Uh,hr);var ou=function(){hr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};bi(ou,hr);var Xg=function(){var t,e;Ua.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+ku(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){an(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bi(Xg,Ua),ou.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ou.prototype.createOption=function(t){var e=new Xg;return e.Parent=this,e.optionName=t,this.Kids.push(e),qK.call(this.scope,e),e};var qh=function(){hr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};bi(qh,hr);var tl=function(){Ua.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(e){e?this.Ff=Kn(this.Ff,13):this.Ff=Jn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(e){e?this.Ff=Kn(this.Ff,21):this.Ff=Jn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(e){e?this.Ff=Kn(this.Ff,23):this.Ff=Jn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(e){e?this.Ff=Kn(this.Ff,24):this.Ff=Jn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(e){e?this.Ff=Kn(this.Ff,25):this.Ff=Jn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(e){e?this.Ff=Kn(this.Ff,26):this.Ff=Jn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bi(tl,Ua);var Hh=function(){tl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(t){t?this.Ff=Kn(this.Ff,14):this.Ff=Jn(this.Ff,14)}}),this.password=!0};bi(Hh,tl);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ja(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=f2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+St(at.internal.getWidth(t))+" "+St(at.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+St(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ja(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=at.internal.getHeight(t),o=at.internal.getWidth(t),s=f2(t,t.caption);return i.push("1 g"),i.push("0 0 "+St(o)+" "+St(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(o-1)+" "+St(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+St(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ja(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(at.internal.getWidth(t))+" "+St(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Circle.YesNormal,e.D[t]=at.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ja(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=at.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+_s(at.internal.getWidth(t)/2)+" "+_s(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ja(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*at.internal.Bezier_C).toFixed(5)),o=Number((r*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_s(at.internal.getWidth(t)/2)+" "+_s(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+_s(at.internal.getWidth(t)/2)+" "+_s(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ja(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+_s(at.internal.getWidth(t)/2)+" "+_s(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Cross.YesNormal,e.D[t]=at.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ja(t);e.scope=t.scope;var n=[],r=at.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+St(at.internal.getWidth(t)-2)+" "+St(at.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),n.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),n.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),n.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ja(t);e.scope=t.scope;var n=at.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(at.internal.getWidth(t))+" "+St(at.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(at.internal.getWidth(t)-2)+" "+St(at.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),r.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),r.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),r.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ja(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(at.internal.getWidth(t))+" "+St(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};at.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=at.internal.getWidth(t),n=at.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},at.internal.getWidth=function(t){var e=0;return an(t)==="object"&&(e=uE(t.Rect[2])),e},at.internal.getHeight=function(t){var e=0;return an(t)==="object"&&(e=uE(t.Rect[3])),e};var qK=qn.addField=function(t){if(UK(this,t),!(t instanceof Ua))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=ru,qn.AcroFormListBox=iu,qn.AcroFormComboBox=au,qn.AcroFormEditBox=Fh,qn.AcroFormButton=hr,qn.AcroFormPushButton=Uh,qn.AcroFormRadioButton=ou,qn.AcroFormCheckBox=qh,qn.AcroFormTextField=tl,qn.AcroFormPasswordField=Hh,qn.AcroFormAppearance=at,qn.AcroForm={ChoiceField:ru,ListBox:iu,ComboBox:au,EditBox:Fh,Button:hr,PushButton:Uh,RadioButton:ou,CheckBox:qh,TextField:tl,PasswordField:Hh,Appearance:at},ft.AcroForm={ChoiceField:ru,ListBox:iu,ComboBox:au,EditBox:Fh,Button:hr,PushButton:Uh,RadioButton:ou,CheckBox:qh,TextField:tl,PasswordField:Hh,Appearance:at};var HK=ft.AcroForm;function GI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(I,M){var B,F,G,R,U,V=e;if((M=M||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(k(I))for(U in n)for(G=n[U],B=0;B<G.length;B+=1){for(R=!0,F=0;F<G[B].length;F+=1)if(G[B][F]!==void 0&&G[B][F]!==I[F]){R=!1;break}if(R===!0){V=U;break}}else for(U in n)for(G=n[U],B=0;B<G.length;B+=1){for(R=!0,F=0;F<G[B].length;F+=1)if(G[B][F]!==void 0&&G[B][F]!==I.charCodeAt(F)){R=!1;break}if(R===!0){V=U;break}}return V===e&&M!==e&&(V=M),V},i=function I(M){for(var B=this.internal.write,F=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:M.width}),R.push({key:"Height",value:M.height}),M.colorSpace===w.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===w.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var U="",V=0,K=M.transparency.length;V<K;V++)U+=M.transparency[V]+" "+M.transparency[V]+" ";R.push({key:"Mask",value:"["+U+"]"})}M.sMask!==void 0&&R.push({key:"SMask",value:M.objectId+1+" 0 R"});var ee=M.filter!==void 0?["/"+M.filter]:void 0;if(F({data:M.data,additionalKeyValues:R,alreadyAppliedFilters:ee,objectId:M.objectId}),B("endobj"),"sMask"in M&&M.sMask!==void 0){var le="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,j={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:le,data:M.sMask};"filter"in M&&(j.filter=M.filter),I.call(this,j)}if(M.colorSpace===w.INDEXED){var z=this.internal.newObject();F({data:O(new Uint8Array(M.palette)),objectId:z}),B("endobj")}},a=function(){var I=this.internal.collections.addImage_images;for(var M in I)i.call(this,I[M])},o=function(){var I,M=this.internal.collections.addImage_images,B=this.internal.write;for(var F in M)B("/I"+(I=M[F]).index,I.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return s.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(I){return typeof t["process"+I.toUpperCase()]=="function"},f=function(I){return an(I)==="object"&&I.nodeType===1},h=function(I,M){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var B=""+I.getAttribute("src");if(B.indexOf("data:image/")===0)return $h(unescape(B).split("base64,").pop());var F=t.loadFile(B,!0);if(F!==void 0)return F}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var G;switch(M){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return $h(I.toDataURL(G,1).split("base64,").pop())}},A=function(I){var M=this.internal.collections.addImage_images;if(M){for(var B in M)if(I===M[B].alias)return M[B]}},v=function(I,M,B){return I||M||(I=-96,M=-96),I<0&&(I=-1*B.width*72/I/this.internal.scaleFactor),M<0&&(M=-1*B.height*72/M/this.internal.scaleFactor),I===0&&(I=M*B.width/B.height),M===0&&(M=I*B.height/B.width),[I,M]},b=function(I,M,B,F,G,R){var U=v.call(this,B,F,G),V=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ee=l.call(this);if(B=U[0],F=U[1],ee[G.index]=G,R){R*=Math.PI/180;var le=Math.cos(R),j=Math.sin(R),z=function(te){return te.toFixed(4)},Q=[z(le),z(j),z(-1*j),z(le),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,V(I),K(M+F),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([V(B),"0","0",V(F),"0","0","cm"].join(" "))):this.internal.write([V(B),"0","0",V(F),V(I),K(M+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(I){var M,B,F=0;if(typeof I=="string")for(B=I.length,M=0;M<B;M++)F=(F<<5)-F+I.charCodeAt(M),F|=0;else if(k(I))for(B=I.byteLength/2,M=0;M<B;M++)F=(F<<5)-F+I[M],F|=0;return F},S=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var M=!0;return I.length===0&&(M=!1),I.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(M=!1),M},T=t.__addimage__.extractImageFromDataUrl=function(I){var M=(I=I||"").split("base64,"),B=null;if(M.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(F)&&(B={mimeType:F[1],charset:F[2],data:M[1]})}return B},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return C()&&I instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(I){return C()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(I){for(var M=I.length,B=new Uint8Array(M),F=0;F<M;F++)B[F]=I.charCodeAt(F);return B},O=t.__addimage__.arrayBufferToBinaryString=function(I){for(var M="",B=k(I)?I:new Uint8Array(I),F=0;F<B.length;F+=8192)M+=String.fromCharCode.apply(null,B.subarray(F,F+8192));return M};t.addImage=function(){var I,M,B,F,G,R,U,V,K;if(typeof arguments[1]=="number"?(M=e,B=arguments[1],F=arguments[2],G=arguments[3],R=arguments[4],U=arguments[5],V=arguments[6],K=arguments[7]):(M=arguments[1],B=arguments[2],F=arguments[3],G=arguments[4],R=arguments[5],U=arguments[6],V=arguments[7],K=arguments[8]),an(I=arguments[0])==="object"&&!f(I)&&"imageData"in I){var ee=I;I=ee.imageData,M=ee.format||M||e,B=ee.x||B||0,F=ee.y||F||0,G=ee.w||ee.width||G,R=ee.h||ee.height||R,U=ee.alias||U,V=ee.compression||V,K=ee.rotation||ee.angle||K}var le=this.internal.getFilters();if(V===void 0&&le.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(B)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var j=D.call(this,I,M,U,V);return b.call(this,B,F,G,R,j,K),this};var D=function(I,M,B,F){var G,R,U;if(typeof I=="string"&&r(I)===e){I=unescape(I);var V=$(I,!1);(V!==""||(V=t.loadFile(I,!0))!==void 0)&&(I=V)}if(f(I)&&(I=h(I,M)),M=r(I,M),!c(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((U=B)==null||U.length===0)&&(B=function(K){return typeof K=="string"||k(K)?x(K):k(K.data)?x(K.data):null}(I)),(G=A.call(this,B))||(C()&&(I instanceof Uint8Array||M==="RGBA"||(R=I,I=E(I))),G=this["process"+M.toUpperCase()](I,u.call(this),B,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:y.NONE}(F),R)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},$=t.__addimage__.convertBase64ToBinaryString=function(I,M){var B;M=typeof M!="boolean"||M;var F,G="";if(typeof I=="string"){F=(B=T(I))!==null?B.data:I;try{G=$h(F)}catch(R){if(M)throw S(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(I){var M,B,F="";if(f(I)&&(I=h(I)),typeof I=="string"&&r(I)===e&&((F=$(I,!1))===""&&(F=t.loadFile(I)||""),I=F),B=r(I),!c(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!C()||I instanceof Uint8Array||(I=E(I)),!(M=this["process"+B.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=B,M}})(ft.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var A=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+A(y(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+A(y(x))+") >>",b.content=a;var S=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+A(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+A(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var w=0,y=n,x="",S=0;for(w=0;w<b.length;w+=1)y[b.charCodeAt(w)]!==void 0?(S++,typeof(y=y[b.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(y),y=n,S=0),w===b.length-1&&(y=n,x+=b.charAt(w-(S-1)),w-=S-1,S=0)):(y=n,x+=b.charAt(w-S),w-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(b,w,y){return o(b)?a(b)===!1?-1:!u(b)||!o(w)&&!o(y)||!o(y)&&s(w)||s(b)&&!o(w)||s(b)&&l(w)||s(b)&&s(w)?0:c(b)&&o(w)&&!s(w)&&o(y)&&u(y)?3:s(b)||!o(y)?1:2:-1},A=function(b){var w=0,y=0,x=0,S="",T="",C="",k=(b=b||"").split("\\s+"),E=[];for(w=0;w<k.length;w+=1){for(E.push(""),y=0;y<k[w].length;y+=1)S=k[w][y],T=k[w][y-1],C=k[w][y+1],o(S)?(x=h(S,T,C),E[w]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):E[w]+=S;E[w]=f(E[w])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var x=0;for(y=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?y.push([A(w[x][0]),w[x][1],w[x][2]]):y.push([A(w[x])]);b=y}else b=A(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(ft.API),ft.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(b){A=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,A=0,v=0,b=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(w.splitTextToSize(T,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)A<(b=this.getStringUnitWidth(l[x],{font:f})*c)&&(A=b);return A!==0&&(v=l.length),{w:A/=h,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,A&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var A,v,b,w,y=[],x=[],S=[],T={},C={},k=[],E=[],O=(h=h||{}).autoSize||!1,D=h.printHeaders!==!1,$=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,I=h.margins||Object.assign({width:this.getPageWidth()},e),M=typeof h.padding=="number"?h.padding:3,B=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=F,this.setFontSize($),f==null)x=y=Object.keys(c[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&an(f[0])==="object")for(y=f.map(function(ee){return ee.name}),x=f.map(function(ee){return ee.prompt||ee.name||""}),S=f.map(function(ee){return ee.align||"left"}),A=0;A<f.length;A+=1)C[f[A].name]=f[A].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,S=y.map(function(){return"left"}));if(O||Array.isArray(f)&&typeof f[0]=="string")for(A=0;A<y.length;A+=1){for(T[w=y[A]]=c.map(function(ee){return ee[w]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(x[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=T[w],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)k.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[w]=Math.max.apply(null,k)+M+M,k=[]}if(D){var G={};for(A=0;A<y.length;A+=1)G[y[A]]={},G[y[A]].text=x[A],G[y[A]].align=S[A];var R=s.call(this,G,C);E=y.map(function(ee){return new a(l,u,C[ee],R,G[ee].text,void 0,G[ee].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var U=f.reduce(function(ee,le){return ee[le.name]=le.align,ee},{});for(A=0;A<c.length;A+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:A,data:c[A]},this);var V=s.call(this,c[A],C);for(b=0;b<y.length;b+=1){var K=c[A][y[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:A,col:b,data:K},this),o.call(this,new a(l,u,C[y[b]],V,K,A+2,U[y[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(A){var v=l[A];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[A]-c-c)},this).map(function(A){return this.getLineHeightFactor()*A.length*f/h+c+c},this).reduce(function(A,v){return Math.max(A,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){c=this.internal.__cell__.tableHeaderRow[A].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(ft.API);var WI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],d2=GI(YI),KI=[100,200,300,400,500,600,700,800,900],zK=GI(KI);function h2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return WI[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof d2[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function cE(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var VK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function GK(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},VK,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=h2(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+dE(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=d2[l],f=c<=d2.normal?-1:1,h=cE(u,YI,c,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=WI[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=zK[l],f=cE(u,KI,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+dE(a)+"'.");return o}function hE(t){return t.trimLeft()}function WK(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function YK(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Dm,pE,AE,s1=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=j;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Se){Q=!!Se}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Se){te=!!Se}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(Se){isNaN(Se)||(J=Se)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(Se){isNaN(Se)||(se=Se)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Se){var ie;typeof Se=="number"?ie=[Se,Se,Se,Se]:((ie=new Array(4))[0]=Se[0],ie[1]=Se.length>=2?Se[1]:ie[0],ie[2]=Se.length>=3?Se[2]:ie[0],ie[3]=Se.length>=4?Se[3]:ie[1]),u.margin=ie}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Se){ue=Se}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(Se){re=Se}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Se){be=Se}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Se){Se instanceof c&&(u=Se)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Se){u.path=Se}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(Se){_e=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ie;ie=h(Se),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ie=h(Se);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var fe=null;function De(Se,ie){if(fe===null){var Te=function(Ce){var ve=[];return Object.keys(Ce).forEach(function(Ne){Ce[Ne].forEach(function(Ue){var He=null;switch(Ue){case"bold":He={family:Ne,weight:"bold"};break;case"italic":He={family:Ne,style:"italic"};break;case"bolditalic":He={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":He={family:Ne}}He!==null&&(He.ref={name:Ne,style:Ue},ve.push(He))})}),ve}(Se.getFontList());fe=function(Ce){for(var ve={},Ne=0;Ne<Ce.length;++Ne){var Ue=h2(Ce[Ne]),He=Ue.family,ge=Ue.stretch,Ie=Ue.style,Oe=Ue.weight;ve[He]=ve[He]||{},ve[He][ge]=ve[He][ge]||{},ve[He][ge][Ie]=ve[He][ge][Ie]||{},ve[He][ge][Ie][Oe]=Ue}return ve}(Te.concat(ie))}return fe}var Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(Se){fe=null,Fe=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ie;if(this.ctx.font=Se,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Te=ie[1],Ce=(ie[2],ie[3]),ve=ie[4],Ne=(ie[5],ie[6]),Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(Ue==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var He=function(Ke){var et,ze,Gt=[],Pt=Ke.trim();if(Pt==="")return s1;if(Pt in fE)return[fE[Pt]];for(;Pt!=="";){switch(ze=null,et=(Pt=hE(Pt)).charAt(0)){case'"':case"'":ze=WK(Pt.substring(1),et);break;default:ze=YK(Pt)}if(ze===null||(Gt.push(ze[0]),(Pt=hE(ze[1]))!==""&&Pt.charAt(0)!==","))return s1;Pt=Pt.replace(/^,/,"")}return Gt}(Ne);if(this.fontFaces){var ge=GK(De(this.pdf,this.fontFaces),He.map(function(Ke){return{family:Ke,stretch:"normal",weight:Ce,style:Te}}));this.pdf.setFont(ge.ref.name,ge.ref.style)}else{var Ie="";(Ce==="bold"||parseInt(Ce,10)>=700||Te==="bold")&&(Ie="bold"),Te==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var Oe="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<He.length;ut++){if(this.pdf.internal.getFont(He[ut],Ie,{noFallback:!0,disableWarning:!0})!==void 0){Oe=He[ut];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(He[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=He[ut],Ie="bold";else if(this.pdf.internal.getFont(He[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=He[ut],Ie="normal";break}}if(Oe===""){for(var ht=0;ht<He.length;ht++)if(Xe[He[ht]]){Oe=Xe[He[ht]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(j){this.lineDash=j},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(j,z){if(isNaN(j)||isNaN(z))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(j,z)},f.prototype.closePath=function(){var j=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&an(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){j=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},f.prototype.lineTo=function(j,z){if(isNaN(j)||isNaN(z))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(j,z,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(j)||isNaN(z))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new o(Q,te)),se=this.ctx.transform.applyToPoint(new o(j,z));this.path.push({type:"qct",x1:se.x,y1:se.y,x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.bezierCurveTo=function(j,z,Q,te,J,se){if(isNaN(J)||isNaN(se)||isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(J,se)),re=this.ctx.transform.applyToPoint(new o(j,z)),be=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:be.x,y2:be.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.arc=function(j,z,Q,te,J,se){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(J))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(j,z));j=ue.x,z=ue.y;var re=this.ctx.transform.applyToPoint(new o(0,Q)),be=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(re.x-be.x,2)+Math.pow(re.y-be.y,2))}Math.abs(J-te)>=2*Math.PI&&(te=0,J=2*Math.PI),this.path.push({type:"arc",x:j,y:z,radius:Q,startAngle:te,endAngle:J,counterclockwise:se})},f.prototype.arcTo=function(j,z,Q,te,J){throw new Error("arcTo not implemented.")},f.prototype.rect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,z),this.lineTo(j+Q,z),this.lineTo(j+Q,z+te),this.lineTo(j,z+te),this.lineTo(j,z),this.lineTo(j+Q,z),this.lineTo(j,z)},f.prototype.fillRect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,z,Q,te),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},f.prototype.strokeRect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(j,z,Q,te),this.stroke())},f.prototype.clearRect=function(j,z,Q,te){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,z,Q,te))},f.prototype.save=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(j){var z,Q,te,J;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))z=0,Q=0,te=0,J=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(se!==null)z=parseInt(se[1]),Q=parseInt(se[2]),te=parseInt(se[3]),J=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)z=parseInt(se[1]),Q=parseInt(se[2]),te=parseInt(se[3]),J=parseFloat(se[4]);else{if(J=1,typeof j=="string"&&j.charAt(0)!=="#"){var ue=new FI(j);j=ue.ok?ue.toHex():"#000000"}j.length===4?(z=j.substring(1,2),z+=z,Q=j.substring(2,3),Q+=Q,te=j.substring(3,4),te+=te):(z=j.substring(1,3),Q=j.substring(3,5),te=j.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:z,g:Q,b:te,a:J,style:j}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(j,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof j!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!A.call(this)){var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;M.call(this,{text:j,x:z,y:Q,scale:se,angle:J,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(j,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof j!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var J=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;M.call(this,{text:j,x:z,y:Q,scale:se,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(j){if(typeof j!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),J=z.getStringUnitWidth(j)*te/z.internal.scaleFactor,se=function(ue){var re=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this};return new se({width:J*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(j,z){if(isNaN(j)||isNaN(z))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(j,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(j){if(isNaN(j))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(j,z){if(isNaN(j)||isNaN(z))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,j,z);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(j,z,Q,te,J,se){if(isNaN(j)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(J)||isNaN(se))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(j,z,Q,te,J,se);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(j,z,Q,te,J,se){j=isNaN(j)?1:j,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,J=isNaN(J)?0:J,se=isNaN(se)?0:se,this.ctx.transform=new l(j,z,Q,te,J,se)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(j,z,Q,te,J,se,ue,re,be){var _e=this.pdf.getImageProperties(j),fe=1,De=1,Fe=1,Se=1;te!==void 0&&re!==void 0&&(Fe=re/te,Se=be/J,fe=_e.width/te*re/te,De=_e.height/J*be/J),se===void 0&&(se=z,ue=Q,z=0,Q=0),te!==void 0&&re===void 0&&(re=te,be=J),te===void 0&&re===void 0&&(re=_e.width,be=_e.height);for(var ie,Te=this.ctx.transform.decompose(),Ce=V(Te.rotate.shx),ve=new l,Ne=(ve=(ve=(ve=ve.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new s(se-z*Fe,ue-Q*Se,te*fe,J*De)),Ue=w.call(this,Ne),He=[],ge=0;ge<Ue.length;ge+=1)He.indexOf(Ue[ge])===-1&&He.push(Ue[ge]);if(S(He),this.autoPaging)for(var Ie=He[0],Oe=He[He.length-1],Xe=Ie;Xe<Oe+1;Xe++){this.pdf.setPage(Xe);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=Xe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Xe===1?0:Ke+(Xe-2)*et;if(this.ctx.clip_path.length!==0){var Gt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ie,this.posX+this.margin[3],-ze+ht+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Gt}var Pt=JSON.parse(JSON.stringify(Ne));Pt=x([Pt],this.posX+this.margin[3],-ze+ht+this.ctx.prevPageLastElemOffset)[0];var Ee=(Xe>Ie||Xe<Oe)&&b.call(this);Ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,et,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Ce),Ee&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,Ce)};var w=function(j,z,Q){var te=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":te.push(Math.floor((j.y+J)/Q)+1);break;case"arc":te.push(Math.floor((j.y+J-j.radius)/Q)+1),te.push(Math.floor((j.y+J+j.radius)/Q)+1);break;case"qct":var se=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);te.push(Math.floor((se.y+J)/Q)+1),te.push(Math.floor((se.y+se.h+J)/Q)+1);break;case"bct":var ue=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);te.push(Math.floor((ue.y+J)/Q)+1),te.push(Math.floor((ue.y+ue.h+J)/Q)+1);break;case"rect":te.push(Math.floor((j.y+J)/Q)+1),te.push(Math.floor((j.y+j.h+J)/Q)+1)}for(var re=0;re<te.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<te[re];)y.call(this);return te},y=function(){var j=this.fillStyle,z=this.strokeStyle,Q=this.font,te=this.lineCap,J=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=z,this.font=Q,this.lineCap=te,this.lineWidth=J,this.lineJoin=se},x=function(j,z,Q){for(var te=0;te<j.length;te++)switch(j[te].type){case"bct":j[te].x2+=z,j[te].y2+=Q;case"qct":j[te].x1+=z,j[te].y1+=Q;case"mt":case"lt":case"arc":default:j[te].x+=z,j[te].y+=Q}return j},S=function(j){return j.sort(function(z,Q){return z-Q})},T=function(j,z){for(var Q,te,J=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,re=this.lineWidth,be=Math.abs(re*this.ctx.transform.scaleX),_e=this.lineJoin,fe=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),Fe=[],Se=0;Se<De.length;Se++)if(De[Se].x!==void 0)for(var ie=w.call(this,De[Se]),Te=0;Te<ie.length;Te+=1)Fe.indexOf(ie[Te])===-1&&Fe.push(ie[Te]);for(var Ce=0;Ce<Fe.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<Fe[Ce];)y.call(this);if(S(Fe),this.autoPaging)for(var ve=Fe[0],Ne=Fe[Fe.length-1],Ue=ve;Ue<Ne+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=J,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=be,this.lineJoin=_e;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=Ue===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ue===1?0:Ie+(Ue-2)*Oe;if(this.ctx.clip_path.length!==0){var ut=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-Xe+ge+this.ctx.prevPageLastElemOffset),C.call(this,j,!0),this.path=ut}if(te=JSON.parse(JSON.stringify(fe)),this.path=x(te,this.posX+this.margin[3],-Xe+ge+this.ctx.prevPageLastElemOffset),z===!1||Ue===0){var ht=(Ue>ve||Ue<Ne)&&b.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Oe,null).clip().discardPath()),C.call(this,j,z),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=be,C.call(this,j,z),this.lineWidth=re;this.path=fe},C=function(j,z){if((j!=="stroke"||z||!v.call(this))&&(j==="stroke"||z||!A.call(this))){for(var Q,te,J=[],se=this.path,ue=0;ue<se.length;ue++){var re=se[ue];switch(re.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:re,deltas:[],abs:[]});break;case"lt":var be=J.length;if(se[ue-1]&&!isNaN(se[ue-1].x)&&(Q=[re.x-se[ue-1].x,re.y-se[ue-1].y],be>0)){for(;be>=0;be--)if(J[be-1].close!==!0&&J[be-1].begin!==!0){J[be-1].deltas.push(Q),J[be-1].abs.push(re);break}}break;case"bct":Q=[re.x1-se[ue-1].x,re.y1-se[ue-1].y,re.x2-se[ue-1].x,re.y2-se[ue-1].y,re.x-se[ue-1].x,re.y-se[ue-1].y],J[J.length-1].deltas.push(Q);break;case"qct":var _e=se[ue-1].x+2/3*(re.x1-se[ue-1].x),fe=se[ue-1].y+2/3*(re.y1-se[ue-1].y),De=re.x+2/3*(re.x1-re.x),Fe=re.y+2/3*(re.y1-re.y),Se=re.x,ie=re.y;Q=[_e-se[ue-1].x,fe-se[ue-1].y,De-se[ue-1].x,Fe-se[ue-1].y,Se-se[ue-1].x,ie-se[ue-1].y],J[J.length-1].deltas.push(Q);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(re)}}te=z?null:j==="stroke"?"stroke":"fill";for(var Te=!1,Ce=0;Ce<J.length;Ce++)if(J[Ce].arc)for(var ve=J[Ce].abs,Ne=0;Ne<ve.length;Ne++){var Ue=ve[Ne];Ue.type==="arc"?O.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,z,!Te):B.call(this,Ue.x,Ue.y),Te=!0}else if(J[Ce].close===!0)this.pdf.internal.out("h"),Te=!1;else if(J[Ce].begin!==!0){var He=J[Ce].start.x,ge=J[Ce].start.y;F.call(this,J[Ce].deltas,He,ge),Te=!0}te&&D.call(this,te),z&&$.call(this)}},k=function(j){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Q;case"top":return j+z-Q;case"hanging":return j+z-2*Q;case"middle":return j+z/2-Q;case"ideographic":return j;case"alphabetic":default:return j}},E=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(z,Q){this.colorStops.push([z,Q])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(j,z,Q,te,J,se,ue,re,be){for(var _e=R.call(this,Q,te,J,se),fe=0;fe<_e.length;fe++){var De=_e[fe];fe===0&&(be?I.call(this,De.x1+j,De.y1+z):B.call(this,De.x1+j,De.y1+z)),G.call(this,j,z,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}re?$.call(this):D.call(this,ue)},D=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(j,z){this.pdf.internal.out(n(j)+" "+r(z)+" m")},M=function(j){var z;switch(j.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Q=this.pdf.getTextDimensions(j.text),te=k.call(this,j.y),J=E.call(this,te)-Q.h,se=this.ctx.transform.applyToPoint(new o(j.x,te)),ue=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var be,_e,fe,De=this.ctx.transform.applyToRectangle(new s(j.x,te,Q.w,Q.h)),Fe=re.applyToRectangle(new s(j.x,J,Q.w,Q.h)),Se=w.call(this,Fe),ie=[],Te=0;Te<Se.length;Te+=1)ie.indexOf(Se[Te])===-1&&ie.push(Se[Te]);if(S(ie),this.autoPaging)for(var Ce=ie[0],ve=ie[ie.length-1],Ne=Ce;Ne<ve+1;Ne++){this.pdf.setPage(Ne);var Ue=Ne===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[2],Ie=ge-this.margin[0],Oe=this.pdf.internal.pageSize.width-this.margin[1],Xe=Oe-this.margin[3],ut=Ne===1?0:He+(Ne-2)*Ie;if(this.ctx.clip_path.length!==0){var ht=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(be,this.posX+this.margin[3],-1*ut+Ue),C.call(this,"fill",!0),this.path=ht}var Ke=x([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-ut+Ue+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*j.scale),fe=this.lineWidth,this.lineWidth=fe*j.scale);var et=this.autoPaging!=="text";if(et||Ke.y+Ke.h<=ge){if(et||Ke.y>=Ue&&Ke.x<=Oe){var ze=et?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Oe-Ke.x)[0],Gt=x([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-ut+Ue+this.ctx.prevPageLastElemOffset)[0],Pt=et&&(Ne>Ce||Ne<ve)&&b.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Ie,null).clip().discardPath()),this.pdf.text(ze,Gt.x,Gt.y,{angle:j.angle,align:z,renderingMode:j.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else Ke.y<ge&&(this.ctx.prevPageLastElemOffset+=ge-Ke.y);j.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=fe)}else j.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*j.scale),fe=this.lineWidth,this.lineWidth=fe*j.scale),this.pdf.text(j.text,se.x+this.posX,se.y+this.posY,{angle:j.angle,align:z,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=fe)},B=function(j,z,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(j+Q)+" "+r(z+te)+" l")},F=function(j,z,Q){return this.pdf.lines(j,z,Q,null,null)},G=function(j,z,Q,te,J,se,ue,re){this.pdf.internal.out([e(i(Q+j)),e(a(te+z)),e(i(J+j)),e(a(se+z)),e(i(ue+j)),e(a(re+z)),"c"].join(" "))},R=function(j,z,Q,te){for(var J=2*Math.PI,se=Math.PI/2;z>Q;)z-=J;var ue=Math.abs(Q-z);ue<J&&te&&(ue=J-ue);for(var re=[],be=te?-1:1,_e=z;ue>1e-5;){var fe=_e+be*Math.min(ue,se);re.push(U.call(this,j,_e,fe)),ue-=Math.abs(fe-_e),_e=fe}return re},U=function(j,z,Q){var te=(Q-z)/2,J=j*Math.cos(te),se=j*Math.sin(te),ue=J,re=-se,be=ue*ue+re*re,_e=be+ue*J+re*se,fe=4/3*(Math.sqrt(2*be*_e)-_e)/(ue*se-re*J),De=ue-fe*re,Fe=re+fe*ue,Se=De,ie=-Fe,Te=te+z,Ce=Math.cos(Te),ve=Math.sin(Te);return{x1:j*Math.cos(z),y1:j*Math.sin(z),x2:De*Ce-Fe*ve,y2:De*ve+Fe*Ce,x3:Se*Ce-ie*ve,y3:Se*ve+ie*Ce,x4:j*Math.cos(Q),y4:j*Math.sin(Q)}},V=function(j){return 180*j/Math.PI},K=function(j,z,Q,te,J,se){var ue=j+.5*(Q-j),re=z+.5*(te-z),be=J+.5*(Q-J),_e=se+.5*(te-se),fe=Math.min(j,J,ue,be),De=Math.max(j,J,ue,be),Fe=Math.min(z,se,re,_e),Se=Math.max(z,se,re,_e);return new s(fe,Fe,De-fe,Se-Fe)},ee=function(j,z,Q,te,J,se,ue,re){var be,_e,fe,De,Fe,Se,ie,Te,Ce,ve,Ne,Ue,He,ge,Ie=Q-j,Oe=te-z,Xe=J-Q,ut=se-te,ht=ue-J,Ke=re-se;for(_e=0;_e<41;_e++)Ce=(ie=(fe=j+(be=_e/40)*Ie)+be*((Fe=Q+be*Xe)-fe))+be*(Fe+be*(J+be*ht-Fe)-ie),ve=(Te=(De=z+be*Oe)+be*((Se=te+be*ut)-De))+be*(Se+be*(se+be*Ke-Se)-Te),_e==0?(Ne=Ce,Ue=ve,He=Ce,ge=ve):(Ne=Math.min(Ne,Ce),Ue=Math.min(Ue,ve),He=Math.max(He,Ce),ge=Math.max(ge,ve));return new s(Math.round(Ne),Math.round(Ue),Math.round(He-Ne),Math.round(ge-Ue))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,z,Q=(j=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ft.API),function(t){var e=function(a){var o,s,l,u,c,f,h,A,v,b;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(b=c%85))/85)-(v=c%85))/85)-(A=c%85))/85)-(h=c%85))/85)%85,s.push(f+33,h+33,A+33,v+33,b+33)):s.push(122);return function(w,y){for(var x=y;x>0;x--)w.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,f=String,h="length",A=255,v="charCodeAt",b="slice",w="replace";for(a[b](-2),a=a[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[b](a[h]%5||5))[h];c>u;u+=5)s=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),l.push(A&s>>24,A&s>>16,A&s>>8,A&s);return function(y,x){for(var S=x;S>0;S--)y.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=s2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ft.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,h=0,A=function(v){var b=v.length,w=[],y=String.fromCharCode;for(h=0;h<b;h+=1)w.push(y(255&v.charCodeAt(h)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(A(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return A(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(ft.API),function(t){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):ll(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):ll(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=an(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var A=u[h],v=A.src.find(function(b){return b.format==="truetype"});v&&l.addFont(v.url,A.ref.name,A.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ft.getPageSize=function(o,s,l){if(an(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var A,v=0,b=0;if(h.hasOwnProperty(f))v=h[f][1]/c,b=h[f][0]/c;else try{v=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>v&&(A=b,b=v,v=A);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(A=b,b=v,v=A)}return{width:b,height:v,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(h2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(ft.API),ft.API.addJS=function(t){return AE=t,this.internal.events.subscribe("postPutResources",function(){Dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),pE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+AE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dm!==void 0&&pE!==void 0&&this.internal.out("/Names <</JavaScript "+Dm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var A=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+A+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var h,A=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,b={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=A,e.indexOf(f.charCodeAt(w+1))!==-1){h=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),b={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:h,numcomponents:f.charCodeAt(w+9)};break}A=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ft.API);var pc,Lm,mE,gE,vE,KK=function(){var t,e,n;function r(a){var o,s,l,u,c,f,h,A,v,b,w,y,x,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(w=this.read(o)).indexOf(0),A=String.fromCharCode.apply(String,w.slice(0,h)),this.text[A]=String.fromCharCode.apply(String,w.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,h,A,v){var b,w,y,x,S,T,C,k,E,O,D,$,I,M,B,F,G,R,U,V,K,ee=Math.ceil((u.width-f)/A),le=Math.ceil((u.height-h)/v),j=u.width==ee&&u.height==le;for(M=o*ee,$=j?s:new Uint8Array(M*le),T=a.length,I=0,w=0;I<le&&l<T;){switch(a[l++]){case 0:for(x=G=0;G<M;x=G+=1)$[w++]=a[l++];break;case 1:for(x=R=0;R<M;x=R+=1)b=a[l++],S=x<o?0:$[w-o],$[w++]=(b+S)%256;break;case 2:for(x=U=0;U<M;x=U+=1)b=a[l++],y=(x-x%o)/o,B=I&&$[(I-1)*M+y*o+x%o],$[w++]=(B+b)%256;break;case 3:for(x=V=0;V<M;x=V+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:$[w-o],B=I&&$[(I-1)*M+y*o+x%o],$[w++]=(b+Math.floor((S+B)/2))%256;break;case 4:for(x=K=0;K<M;x=K+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:$[w-o],I===0?B=F=0:(B=$[(I-1)*M+y*o+x%o],F=y&&$[(I-1)*M+(y-1)*o+x%o]),C=S+B-F,k=Math.abs(C-S),O=Math.abs(C-B),D=Math.abs(C-F),E=k<=O&&k<=D?S:O<=D?B:F,$[w++]=(b+E)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!j){var z=((h+I*v)*u.width+f)*o,Q=I*M;for(x=0;x<ee;x+=1){for(var te=0;te<o;te+=1)s[z++]=$[Q++];z+=(A-1)*o}}I++}}return a=CK(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,f,h,A;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(A=c[a++])!=null?A:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,f,h,A,v,b,w,y;if(l=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,s=!0),v=(u=a.data||a).length,f=b||o,c=h=0,l===1)for(;c<v;)A=b?4*o[c/4]:h,w=f[A++],u[c++]=w,u[c++]=w,u[c++]=w,u[c++]=s?f[A++]:255,h=A;else for(;c<v;)A=b?4*o[c/4]:h,u[c++]=f[A++],u[c++]=f[A++],u[c++]=f[A++],u[c++]=s?f[A++]:255,h=A},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(mt)==="[object Window]"){try{e=mt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,f,h,A;if(this.animation){for(A=[],s=c=0,f=(h=this.animation.frames).length;c<f;s=++c)o=h[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,A.push(o.image=t(l));return A}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(o=function(){var A,v;if(A=s++%u,v=l[A],h.renderFrame(a,A),u>1&&s/u<c)return h.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function JK(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,h=null,A=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],!(1&b)&&(h=null),A=b>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,k=1<<(7&T)+1,E=s,O=l,D=!1;T>>7&&(D=!0,E=e,O=k,e+=3*k);var $=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}c.push({x:w,y,width:x,height:S,has_local_palette:D,palette_offset:E,palette_size:O,data_offset:$,data_length:e-$,transparent_index:h,interlaced:!!C,delay:f,disposal:A});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=c.length)throw new Error("Frame index out of range.");return c[M]},this.decodeAndBlitFrameBGRA=function(M,B){var F=this.frameInfo(M),G=F.width*F.height,R=new Uint8Array(G);yE(t,F.data_offset,R,G);var U=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var K=F.width,ee=n-K,le=K,j=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=j,te=4*ee;F.interlaced===!0&&(te+=4*n*7);for(var J=8,se=0,ue=R.length;se<ue;++se){var re=R[se];if(le===0&&(le=K,(Q+=te)>=z&&(te=4*ee+4*n*(J-1),Q=j+(K+ee)*(J<<1),J>>=1)),re===V)Q+=4;else{var be=t[U+3*re],_e=t[U+3*re+1],fe=t[U+3*re+2];B[Q++]=fe,B[Q++]=_e,B[Q++]=be,B[Q++]=255}--le}},this.decodeAndBlitFrameRGBA=function(M,B){var F=this.frameInfo(M),G=F.width*F.height,R=new Uint8Array(G);yE(t,F.data_offset,R,G);var U=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var K=F.width,ee=n-K,le=K,j=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=j,te=4*ee;F.interlaced===!0&&(te+=4*n*7);for(var J=8,se=0,ue=R.length;se<ue;++se){var re=R[se];if(le===0&&(le=K,(Q+=te)>=z&&(te=4*ee+4*n*(J-1),Q=j+(K+ee)*(J<<1),J>>=1)),re===V)Q+=4;else{var be=t[U+3*re],_e=t[U+3*re+1],fe=t[U+3*re+2];B[Q++]=be,B[Q++]=_e,B[Q++]=fe,B[Q++]=255}--le}}}function yE(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,A=t[e++],v=new Int32Array(4096),b=null;;){for(;c<16&&A!==0;)f|=t[e++]<<c,c+=8,A===1?A=t[e++]:--A;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==a){if(w===o)break;for(var y=w<s?w:b,x=0,S=y;S>a;)S=v[S]>>8,++x;var T=S;if(h+x+(y!==w?1:0)>r)return void hn.log("Warning, gif stream longer than expected.");n[h++]=T;var C=h+=x;for(y!==w&&(n[h++]=T),S=y;x--;)S=v[S],n[--C]=255&S,S>>=8;b!==null&&s<4096&&(v[s++]=b<<8|T,s>=u+1&&l<12&&(++l,u=u<<1|1)),b=w}else s=o+1,u=(1<<(l=i+1))-1,b=null}return h!==r&&hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function l1(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),A=new Array(64),v=new Array(64),b=[],w=0,y=7,x=new Array(64),S=new Array(64),T=new Array(64),C=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(j,z){for(var Q=0,te=0,J=new Array,se=1;se<=16;se++){for(var ue=1;ue<=j[se];ue++)J[z[te]]=[],J[z[te]][0]=Q,J[z[te]][1]=se,te++,Q++;Q*=2}return J}function U(j){for(var z=j[0],Q=j[1]-1;Q>=0;)z&1<<Q&&(w|=1<<y),Q--,--y<0&&(w==255?(V(255),V(0)):V(w),y=7,w=0)}function V(j){b.push(j)}function K(j){V(j>>8&255),V(255&j)}function ee(j,z,Q,te,J){for(var se,ue=J[0],re=J[240],be=function(ve,Ne){var Ue,He,ge,Ie,Oe,Xe,ut,ht,Ke,et,ze=0;for(Ke=0;Ke<8;++Ke){Ue=ve[ze],He=ve[ze+1],ge=ve[ze+2],Ie=ve[ze+3],Oe=ve[ze+4],Xe=ve[ze+5],ut=ve[ze+6];var Gt=Ue+(ht=ve[ze+7]),Pt=Ue-ht,Ee=He+ut,We=He-ut,Ge=ge+Xe,st=ge-Xe,rt=Ie+Oe,Ft=Ie-Oe,bt=Gt+rt,Bn=Gt-rt,ri=Ee+Ge,fn=Ee-Ge;ve[ze]=bt+ri,ve[ze+4]=bt-ri;var lt=.707106781*(fn+Bn);ve[ze+2]=Bn+lt,ve[ze+6]=Bn-lt;var Lt=.382683433*((bt=Ft+st)-(fn=We+Pt)),Qe=.5411961*bt+Lt,At=1.306562965*fn+Lt,Mt=.707106781*(ri=st+We),Wt=Pt+Mt,Ve=Pt-Mt;ve[ze+5]=Ve+Qe,ve[ze+3]=Ve-Qe,ve[ze+1]=Wt+At,ve[ze+7]=Wt-At,ze+=8}for(ze=0,Ke=0;Ke<8;++Ke){Ue=ve[ze],He=ve[ze+8],ge=ve[ze+16],Ie=ve[ze+24],Oe=ve[ze+32],Xe=ve[ze+40],ut=ve[ze+48];var _t=Ue+(ht=ve[ze+56]),_n=Ue-ht,mn=He+ut,Tn=He-ut,jn=ge+Xe,Wr=ge-Xe,ju=Ie+Oe,Ao=Ie-Oe,ba=_t+ju,xa=_t-ju,wa=mn+jn,za=mn-jn;ve[ze]=ba+wa,ve[ze+32]=ba-wa;var Hi=.707106781*(za+xa);ve[ze+16]=xa+Hi,ve[ze+48]=xa-Hi;var Va=.382683433*((ba=Ao+Wr)-(za=Tn+_n)),vl=.5411961*ba+Va,Ru=1.306562965*za+Va,Bu=.707106781*(wa=Wr+Tn),$u=_n+Bu,Fu=_n-Bu;ve[ze+40]=Fu+vl,ve[ze+24]=Fu-vl,ve[ze+8]=$u+Ru,ve[ze+56]=$u-Ru,ze++}for(Ke=0;Ke<64;++Ke)et=ve[Ke]*Ne[Ke],A[Ke]=et>0?et+.5|0:et-.5|0;return A}(j,z),_e=0;_e<64;++_e)v[E[_e]]=be[_e];var fe=v[0]-Q;Q=v[0],fe==0?U(te[0]):(U(te[h[se=32767+fe]]),U(f[se]));for(var De=63;De>0&&v[De]==0;)De--;if(De==0)return U(ue),Q;for(var Fe,Se=1;Se<=De;){for(var ie=Se;v[Se]==0&&Se<=De;)++Se;var Te=Se-ie;if(Te>=16){Fe=Te>>4;for(var Ce=1;Ce<=Fe;++Ce)U(re);Te&=15}se=32767+v[Se],U(J[(Te<<4)+h[se]]),U(f[se]),Se++}return De!=63&&U(ue),Q}function le(j){j=Math.min(Math.max(j,1),100),a!=j&&(function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var J=o((Q[te]*z+50)/100);J=Math.min(Math.max(J,1),255),s[E[te]]=J}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var re=o((se[ue]*z+50)/100);re=Math.min(Math.max(re,1),255),l[E[ue]]=re}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,fe=0;fe<8;fe++)for(var De=0;De<8;De++)u[_e]=1/(s[E[_e]]*be[fe]*be[De]*8),c[_e]=1/(l[E[_e]]*be[fe]*be[De]*8),_e++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),a=j)}this.encode=function(j,z){z&&le(z),b=new Array,w=0,y=7,K(65496),K(65504),K(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),K(1),K(1),V(0),V(0),function(){K(65499),K(132),V(0);for(var He=0;He<64;He++)V(s[He]);V(1);for(var ge=0;ge<64;ge++)V(l[ge])}(),function(He,ge){K(65472),K(17),V(8),K(ge),K(He),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(j.width,j.height),function(){K(65476),K(418),V(0);for(var He=0;He<16;He++)V(O[He+1]);for(var ge=0;ge<=11;ge++)V(D[ge]);V(16);for(var Ie=0;Ie<16;Ie++)V($[Ie+1]);for(var Oe=0;Oe<=161;Oe++)V(I[Oe]);V(1);for(var Xe=0;Xe<16;Xe++)V(M[Xe+1]);for(var ut=0;ut<=11;ut++)V(B[ut]);V(17);for(var ht=0;ht<16;ht++)V(F[ht+1]);for(var Ke=0;Ke<=161;Ke++)V(G[Ke])}(),K(65498),K(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Q=0,te=0,J=0;w=0,y=7,this.encode.displayName="_encode_";for(var se,ue,re,be,_e,fe,De,Fe,Se,ie=j.data,Te=j.width,Ce=j.height,ve=4*Te,Ne=0;Ne<Ce;){for(se=0;se<ve;){for(_e=ve*Ne+se,De=-1,Fe=0,Se=0;Se<64;Se++)fe=_e+(Fe=Se>>3)*ve+(De=4*(7&Se)),Ne+Fe>=Ce&&(fe-=ve*(Ne+1+Fe-Ce)),se+De>=ve&&(fe-=se+De-ve+4),ue=ie[fe++],re=ie[fe++],be=ie[fe++],x[Se]=(k[ue]+k[re+256>>0]+k[be+512>>0]>>16)-128,S[Se]=(k[ue+768>>0]+k[re+1024>>0]+k[be+1280>>0]>>16)-128,T[Se]=(k[ue+1280>>0]+k[re+1536>>0]+k[be+1792>>0]>>16)-128;Q=ee(x,u,Q,e,r),te=ee(S,c,te,n,i),J=ee(T,c,J,n,i),se+=32}Ne+=8}if(y>=0){var Ue=[];Ue[1]=y+1,Ue[0]=(1<<y+1)-1,U(Ue)}return K(65497),new Uint8Array(b)},t=t||50,function(){for(var j=String.fromCharCode,z=0;z<256;z++)C[z]=j(z)}(),e=R(O,D),n=R(M,B),r=R($,I),i=R(F,G),function(){for(var j=1,z=2,Q=1;Q<=15;Q++){for(var te=j;te<z;te++)h[32767+te]=Q,f[32767+te]=[],f[32767+te][1]=Q,f[32767+te][0]=te;for(var J=-(z-1);J<=-j;J++)h[32767+J]=Q,f[32767+J]=[],f[32767+J][1]=Q,f[32767+J][0]=z-1+J;j<<=1,z<<=1}}(),function(){for(var j=0;j<256;j++)k[j]=19595*j,k[j+256>>0]=38470*j,k[j+512>>0]=7471*j+32768,k[j+768>>0]=-11059*j,k[j+1024>>0]=-21709*j,k[j+1280>>0]=32768*j+8421375,k[j+1536>>0]=-27439*j,k[j+1792>>0]=-5329*j}(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bE(t){function e(O){if(!O)throw Error("assert :P")}function n(O,D,$){for(var I=0;4>I;I++)if(O[D+I]!=$.charCodeAt(I))return!0;return!1}function r(O,D,$,I,M){for(var B=0;B<M;B++)O[D+B]=$[I+B]}function i(O,D,$,I){for(var M=0;M<I;M++)O[D+M]=$}function a(O){return new Int32Array(O)}function o(O,D){for(var $=[],I=0;I<O;I++)$.push(new D);return $}function s(O,D){var $=[];return function I(M,B,F){for(var G=F[B],R=0;R<G&&(M.push(F.length>B+1?[]:new D),!(F.length<B+1));R++)I(M[R],B+1,F)}($,0,O),$}var l=function(){var O=this;function D(g,_){for(var P=1<<_-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function $(g,_,P,L,q){e(!(L%P));do g[_+(L-=P)]=q;while(0<L)}function I(g,_,P,L,q){if(e(2328>=q),512>=q)var W=a(512);else if((W=a(q))==null)return 0;return function(Y,X,Z,ne,he,xe){var we,me,Be=X,ke=1<<Z,pe=a(16),Ae=a(16);for(e(he!=0),e(ne!=null),e(Y!=null),e(0<Z),me=0;me<he;++me){if(15<ne[me])return 0;++pe[ne[me]]}if(pe[0]==he)return 0;for(Ae[1]=0,we=1;15>we;++we){if(pe[we]>1<<we)return 0;Ae[we+1]=Ae[we]+pe[we]}for(me=0;me<he;++me)we=ne[me],0<ne[me]&&(xe[Ae[we]++]=me);if(Ae[15]==1)return(ne=new M).g=0,ne.value=xe[0],$(Y,Be,1,ke,ne),ke;var Le,$e=-1,Re=ke-1,nt=0,Je=1,dt=1,Ze=1<<Z;for(me=0,we=1,he=2;we<=Z;++we,he<<=1){if(Je+=dt<<=1,0>(dt-=pe[we]))return 0;for(;0<pe[we];--pe[we])(ne=new M).g=we,ne.value=xe[me++],$(Y,Be+nt,he,Ze,ne),nt=D(nt,we)}for(we=Z+1,he=2;15>=we;++we,he<<=1){if(Je+=dt<<=1,0>(dt-=pe[we]))return 0;for(;0<pe[we];--pe[we]){if(ne=new M,(nt&Re)!=$e){for(Be+=Ze,Le=1<<($e=we)-Z;15>$e&&!(0>=(Le-=pe[$e]));)++$e,Le<<=1;ke+=Ze=1<<(Le=$e-Z),Y[X+($e=nt&Re)].g=Le+Z,Y[X+$e].value=Be-X-$e}ne.g=we-Z,ne.value=xe[me++],$(Y,Be+(nt>>Z),he,Ze,ne),nt=D(nt,we)}}return Je!=2*Ae[15]-1?0:ke}(g,_,P,L,q,W)}function M(){this.value=this.g=0}function B(){this.value=this.g=0}function F(){this.G=o(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Er,B)}function G(g,_,P,L){e(g!=null),e(_!=null),e(2147483648>L),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=P,g.Jd=_,g.Yc=P+L,g.Zc=4<=L?P+L-4+1:P,se(g)}function R(g,_){for(var P=0;0<_--;)P|=re(g,128)<<_;return P}function U(g,_){var P=R(g,_);return ue(g)?-P:P}function V(g,_,P,L){var q,W=0;for(e(g!=null),e(_!=null),e(4294967288>L),g.Sb=L,g.Ra=0,g.u=0,g.h=0,4<L&&(L=4),q=0;q<L;++q)W+=_[P+q]<<8*q;g.Ra=W,g.bb=L,g.oa=_,g.pa=P}function K(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<tc-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function ee(g,_){if(e(0<=_),!g.h&&_<=ec){var P=z(g)&Zu[_];return g.u+=_,K(g),P}return g.h=1,g.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&tc-1)>>>0}function Q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>tc}function te(g,_){g.u=_,g.h=Q(g)}function J(g){g.u>=Rd&&(e(g.u>=Rd),K(g))}function se(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ue(g){return R(g,1)}function re(g,_){var P=g.Ca;0>g.b&&se(g);var L=g.b,q=P*_>>>8,W=(g.I>>>L>q)+0;for(W?(P-=q,g.I-=q+1<<L>>>0):P=q+1,L=P,q=0;256<=L;)q+=8,L>>=8;return L=7^q+ai[L],g.b-=L,g.Ca=(P<<L)-1,W}function be(g,_,P){g[_+0]=P>>24&255,g[_+1]=P>>16&255,g[_+2]=P>>8&255,g[_+3]=P>>0&255}function _e(g,_){return g[_+0]<<0|g[_+1]<<8}function fe(g,_){return _e(g,_)|g[_+2]<<16}function De(g,_){return _e(g,_)|_e(g,_+2)<<16}function Fe(g,_){var P=1<<_;return e(g!=null),e(0<_),g.X=a(P),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Se(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function Te(g,_,P,L){e(P!=null),e(L!=null);var q=P[0],W=L[0];return q==0&&(q=(g*W+_/2)/_),W==0&&(W=(_*q+g/2)/g),0>=q||0>=W?0:(P[0]=q,L[0]=W,1)}function Ce(g,_){return g+(1<<_)-1>>>_}function ve(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Ne(g,_){O[_]=function(P,L,q,W,Y,X,Z){var ne;for(ne=0;ne<Y;++ne){var he=O[g](X[Z+ne-1],q,W+ne);X[Z+ne]=ve(P[L+ne],he)}}}function Ue(){this.ud=this.hd=this.jd=0}function He(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function ge(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ie(g,_){return ge(g+(g-_+.5>>1))}function Oe(g,_,P){return Math.abs(_-P)-Math.abs(g-P)}function Xe(g,_,P,L,q,W,Y){for(L=W[Y-1],P=0;P<q;++P)W[Y+P]=L=ve(g[_+P],L)}function ut(g,_,P,L,q){var W;for(W=0;W<P;++W){var Y=g[_+W],X=Y>>8&255,Z=16711935&(Z=(Z=16711935&Y)+((X<<16)+X));L[q+W]=(4278255360&Y)+Z>>>0}}function ht(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function Ke(g,_,P,L,q,W){var Y;for(Y=0;Y<L;++Y){var X=_[P+Y],Z=X>>>8,ne=X,he=255&(he=(he=X>>>16)+((g.jd<<24>>24)*(Z<<24>>24)>>>5));ne=255&(ne=(ne=ne+((g.hd<<24>>24)*(Z<<24>>24)>>>5))+((g.ud<<24>>24)*(he<<24>>24)>>>5)),q[W+Y]=(4278255360&X)+(he<<16)+ne}}function et(g,_,P,L,q){O[_]=function(W,Y,X,Z,ne,he,xe,we,me){for(Z=xe;Z<we;++Z)for(xe=0;xe<me;++xe)ne[he++]=q(X[L(W[Y++])])},O[g]=function(W,Y,X,Z,ne,he,xe){var we=8>>W.b,me=W.Ea,Be=W.K[0],ke=W.w;if(8>we)for(W=(1<<W.b)-1,ke=(1<<we)-1;Y<X;++Y){var pe,Ae=0;for(pe=0;pe<me;++pe)pe&W||(Ae=L(Z[ne++])),he[xe++]=q(Be[Ae&ke]),Ae>>=we}else O["VP8LMapColor"+P](Z,ne,Be,ke,he,xe,Y,X,me)}}function ze(g,_,P,L,q){for(P=_+P;_<P;){var W=g[_++];L[q++]=W>>16&255,L[q++]=W>>8&255,L[q++]=W>>0&255}}function Gt(g,_,P,L,q){for(P=_+P;_<P;){var W=g[_++];L[q++]=W>>16&255,L[q++]=W>>8&255,L[q++]=W>>0&255,L[q++]=W>>24&255}}function Pt(g,_,P,L,q){for(P=_+P;_<P;){var W=(Y=g[_++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;L[q++]=W,L[q++]=Y}}function Ee(g,_,P,L,q){for(P=_+P;_<P;){var W=(Y=g[_++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;L[q++]=W,L[q++]=Y}}function We(g,_,P,L,q){for(P=_+P;_<P;){var W=g[_++];L[q++]=W>>0&255,L[q++]=W>>8&255,L[q++]=W>>16&255}}function Ge(g,_,P,L,q,W){if(W==0)for(P=_+P;_<P;)be(L,((W=g[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),q+=32;else r(L,q,g,_,P)}function st(g,_){O[_][0]=O[g+"0"],O[_][1]=O[g+"1"],O[_][2]=O[g+"2"],O[_][3]=O[g+"3"],O[_][4]=O[g+"4"],O[_][5]=O[g+"5"],O[_][6]=O[g+"6"],O[_][7]=O[g+"7"],O[_][8]=O[g+"8"],O[_][9]=O[g+"9"],O[_][10]=O[g+"10"],O[_][11]=O[g+"11"],O[_][12]=O[g+"12"],O[_][13]=O[g+"13"],O[_][14]=O[g+"0"],O[_][15]=O[g+"0"]}function rt(g){return g==Zy||g==eb||g==QA||g==tb}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function bt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new bt,this.sd=null}function ri(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Lt(g,_){var P=g.T,L=_.ba.f.RGBA,q=L.eb,W=L.fb+g.ka*L.A,Y=Ki[_.ba.S],X=g.y,Z=g.O,ne=g.f,he=g.N,xe=g.ea,we=g.W,me=_.cc,Be=_.dc,ke=_.Mc,pe=_.Nc,Ae=g.ka,Le=g.ka+g.T,$e=g.U,Re=$e+1>>1;for(Ae==0?Y(X,Z,null,null,ne,he,xe,we,ne,he,xe,we,q,W,null,null,$e):(Y(_.ec,_.fc,X,Z,me,Be,ke,pe,ne,he,xe,we,q,W-L.A,q,W,$e),++P);Ae+2<Le;Ae+=2)me=ne,Be=he,ke=xe,pe=we,he+=g.Rc,we+=g.Rc,W+=2*L.A,Y(X,(Z+=2*g.fa)-g.fa,X,Z,me,Be,ke,pe,ne,he,xe,we,q,W-L.A,q,W,$e);return Z+=g.fa,g.j+Le<g.o?(r(_.ec,_.fc,X,Z,$e),r(_.cc,_.dc,ne,he,Re),r(_.Mc,_.Nc,xe,we,Re),P--):1&Le||Y(X,Z,null,null,ne,he,xe,we,ne,he,xe,we,q,W+L.A,null,null,$e),P}function Qe(g,_,P){var L=g.F,q=[g.J];if(L!=null){var W=g.U,Y=_.ba.S,X=Y==XA||Y==QA;_=_.ba.f.RGBA;var Z=[0],ne=g.ka;Z[0]=g.T,g.Kb&&(ne==0?--Z[0]:(--ne,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(Z[0]=g.o-g.j-ne));var he=_.eb;ne=_.fb+ne*_.A,g=vn(L,q[0],g.width,W,Z,he,ne+(X?0:3),_.A),e(P==Z),g&&rt(Y)&&Wi(he,ne,X,W,Z,_.A)}return 0}function At(g){var _=g.ma,P=_.ba.S,L=11>P,q=P==KA||P==JA||P==XA||P==Qy||P==12||rt(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Ld(_.Oa,g,q?11:12))return 0;if(q&&rt(P)&&qe(),g.da)alert("todo:use_scaling");else{if(L){if(_.Ib=lt,g.Kb){if(P=g.U+1>>1,_.memory=a(g.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=Lt,qe()}}else alert("todo:EmitYUV");q&&(_.Jb=Qe,L&&ye())}if(L&&!B_){for(g=0;256>g;++g)D8[g]=89858*(g-128)+em>>ZA,R8[g]=-22014*(g-128)+em,j8[g]=-45773*(g-128),L8[g]=113618*(g-128)+em>>ZA;for(g=zd;g<ib;++g)_=76283*(g-16)+em>>ZA,B8[g-zd]=wi(_,255),$8[g-zd]=wi(_+8>>4,15);B_=1}return 1}function Mt(g){var _=g.ma,P=g.U,L=g.T;return e(!(1&g.ka)),0>=P||0>=L?0:(P=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,P),_.Dc+=P,1)}function Wt(g){g.ma.memory=null}function Ve(g,_,P,L){return ee(g,8)!=47?0:(_[0]=ee(g,14)+1,P[0]=ee(g,14)+1,L[0]=ee(g,1),ee(g,3)!=0?0:!g.h)}function _t(g,_){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+ee(_,P)+1}function _n(g,_){return 120<_?_-120:1<=(P=((P=b8[_-1])>>4)*g+(8-(15&P)))?P:1;var P}function mn(g,_,P){var L=z(P),q=g[_+=255&L].g-8;return 0<q&&(te(P,P.u+8),L=z(P),_+=g[_].value,_+=L&(1<<q)-1),te(P,P.u+g[_].g),g[_].value}function Tn(g,_,P){return P.g+=g.g,P.value+=g.value<<_>>>0,e(8>=P.g),g.g}function jn(g,_,P){var L=g.xc;return e((_=L==0?0:g.vc[g.md*(P>>L)+(_>>L)])<g.Wb),g.Ya[_]}function Wr(g,_,P,L){var q=g.ab,W=g.c*_,Y=g.C;_=Y+_;var X=P,Z=L;for(L=g.Ta,P=g.Ua;0<q--;){var ne=g.gc[q],he=Y,xe=_,we=X,me=Z,Be=(Z=L,X=P,ne.Ea);switch(e(he<xe),e(xe<=ne.nc),ne.hc){case 2:qA(we,me,(xe-he)*Be,Z,X);break;case 0:var ke=he,pe=xe,Ae=Z,Le=X,$e=(Ze=ne).Ea;ke==0&&(Jy(we,me,null,null,1,Ae,Le),Xe(we,me+1,0,0,$e-1,Ae,Le+1),me+=$e,Le+=$e,++ke);for(var Re=1<<Ze.b,nt=Re-1,Je=Ce($e,Ze.b),dt=Ze.K,Ze=Ze.w+(ke>>Ze.b)*Je;ke<pe;){var Yt=dt,Zt=Ze,Ht=1;for(Bd(we,me,Ae,Le-$e,1,Ae,Le);Ht<$e;){var Bt=(Ht&~nt)+Re;Bt>$e&&(Bt=$e),(0,fs[Yt[Zt++]>>8&15])(we,me+ +Ht,Ae,Le+Ht-$e,Bt-Ht,Ae,Le+Ht),Ht=Bt}me+=$e,Le+=$e,++ke&nt||(Ze+=Je)}xe!=ne.nc&&r(Z,X-Be,Z,X+(xe-he-1)*Be,Be);break;case 1:for(Be=we,pe=me,$e=(we=ne.Ea)-(Le=we&~(Ae=(me=1<<ne.b)-1)),ke=Ce(we,ne.b),Re=ne.K,ne=ne.w+(he>>ne.b)*ke;he<xe;){for(nt=Re,Je=ne,dt=new Ue,Ze=pe+Le,Yt=pe+we;pe<Ze;)ht(nt[Je++],dt),Sl(dt,Be,pe,me,Z,X),pe+=me,X+=me;pe<Yt&&(ht(nt[Je++],dt),Sl(dt,Be,pe,$e,Z,X),pe+=$e,X+=$e),++he&Ae||(ne+=ke)}break;case 3:if(we==Z&&me==X&&0<ne.b){for(pe=Z,we=Be=X+(xe-he)*Be-(Le=(xe-he)*Ce(ne.Ea,ne.b)),me=Z,Ae=X,ke=[],Le=($e=Le)-1;0<=Le;--Le)ke[Le]=me[Ae+Le];for(Le=$e-1;0<=Le;--Le)pe[we+Le]=ke[Le];zi(ne,he,xe,Z,Be,Z,X)}else zi(ne,he,xe,we,me,Z,X)}X=L,Z=P}Z!=P&&r(L,P,X,Z,W)}function ju(g,_){var P=g.V,L=g.Ba+g.c*g.C,q=_-g.C;if(e(_<=g.l.o),e(16>=q),0<q){var W=g.l,Y=g.Ta,X=g.Ua,Z=W.width;if(Wr(g,q,P,L),q=X=[X],e((P=g.C)<(L=_)),e(W.v<W.va),L>W.o&&(L=W.o),P<W.j){var ne=W.j-P;P=W.j,q[0]+=ne*Z}if(P>=L?P=0:(q[0]+=4*W.v,W.ka=P-W.j,W.U=W.va-W.v,W.T=L-P,P=1),P){if(X=X[0],11>(P=g.ca).S){var he=P.f.RGBA,xe=(L=P.S,q=W.U,W=W.T,ne=he.eb,he.A),we=W;for(he=he.fb+g.Ma*he.A;0<we--;){var me=Y,Be=X,ke=q,pe=ne,Ae=he;switch(L){case YA:oi(me,Be,ke,pe,Ae);break;case KA:Yr(me,Be,ke,pe,Ae);break;case Zy:Yr(me,Be,ke,pe,Ae),Wi(pe,Ae,0,ke,1,0);break;case k_:yo(me,Be,ke,pe,Ae);break;case JA:Ge(me,Be,ke,pe,Ae,1);break;case eb:Ge(me,Be,ke,pe,Ae,1),Wi(pe,Ae,0,ke,1,0);break;case XA:Ge(me,Be,ke,pe,Ae,0);break;case QA:Ge(me,Be,ke,pe,Ae,0),Wi(pe,Ae,1,ke,1,0);break;case Qy:ds(me,Be,ke,pe,Ae);break;case tb:ds(me,Be,ke,pe,Ae),gn(pe,Ae,ke,1,0);break;case P_:vo(me,Be,ke,pe,Ae);break;default:e(0)}X+=Z,he+=xe}g.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=_,e(g.C<=g.i)}function Ao(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var P=g.Ya[_].G,L=g.Ya[_].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function ba(g,_,P,L,q,W){if(g.Z!=0){var Y=g.qd,X=g.rd;for(e(ms[g.Z]!=null);_<P;++_)ms[g.Z](Y,X,L,q,L,q,W),Y=L,X=q,q+=W;g.qd=Y,g.rd=X}}function xa(g,_){var P=g.l.ma,L=P.Z==0||P.Z==1?g.l.j:g.C;if(L=g.C<L?L:g.C,e(_<=g.l.o),_>L){var q=g.l.width,W=P.ca,Y=P.tb+q*L,X=g.V,Z=g.Ba+g.c*L,ne=g.gc;e(g.ab==1),e(ne[0].hc==3),HA(ne[0],L,_,X,Z,W,Y),ba(P,L,_,W,Y,q)}g.C=g.Ma=_}function wa(g,_,P,L,q,W,Y){var X=g.$/L,Z=g.$%L,ne=g.m,he=g.s,xe=P+g.$,we=xe;q=P+L*q;var me=P+L*W,Be=280+he.ua,ke=g.Pb?X:16777216,pe=0<he.ua?he.Wa:null,Ae=he.wc,Le=xe<me?jn(he,Z,X):null;e(g.C<W),e(me<=q);var $e=!1;e:for(;;){for(;$e||xe<me;){var Re=0;if(X>=ke){var nt=xe-P;e((ke=g).Pb),ke.wd=ke.m,ke.xd=nt,0<ke.s.ua&&Se(ke.s.Wa,ke.s.vb),ke=X+w8}if(Z&Ae||(Le=jn(he,Z,X)),e(Le!=null),Le.Qb&&(_[xe]=Le.qb,$e=!0),!$e)if(J(ne),Le.jc){Re=ne,nt=_;var Je=xe,dt=Le.pd[z(Re)&Er-1];e(Le.jc),256>dt.g?(te(Re,Re.u+dt.g),nt[Je]=dt.value,Re=0):(te(Re,Re.u+dt.g-256),e(256<=dt.value),Re=dt.value),Re==0&&($e=!0)}else Re=mn(Le.G[0],Le.H[0],ne);if(ne.h)break;if($e||256>Re){if(!$e)if(Le.nd)_[xe]=(Le.qb|Re<<8)>>>0;else{if(J(ne),$e=mn(Le.G[1],Le.H[1],ne),J(ne),nt=mn(Le.G[2],Le.H[2],ne),Je=mn(Le.G[3],Le.H[3],ne),ne.h)break;_[xe]=(Je<<24|$e<<16|Re<<8|nt)>>>0}if($e=!1,++xe,++Z>=L&&(Z=0,++X,Y!=null&&X<=W&&!(X%16)&&Y(g,X),pe!=null))for(;we<xe;)Re=_[we++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re}else if(280>Re){if(Re=_t(Re-256,ne),nt=mn(Le.G[4],Le.H[4],ne),J(ne),nt=_n(L,nt=_t(nt,ne)),ne.h)break;if(xe-P<nt||q-xe<Re)break e;for(Je=0;Je<Re;++Je)_[xe+Je]=_[xe+Je-nt];for(xe+=Re,Z+=Re;Z>=L;)Z-=L,++X,Y!=null&&X<=W&&!(X%16)&&Y(g,X);if(e(xe<=q),Z&Ae&&(Le=jn(he,Z,X)),pe!=null)for(;we<xe;)Re=_[we++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re}else{if(!(Re<Be))break e;for($e=Re-280,e(pe!=null);we<xe;)Re=_[we++],pe.X[(506832829*Re&4294967295)>>>pe.Mb]=Re;Re=xe,e(!($e>>>(nt=pe).Xa)),_[Re]=nt.X[$e],$e=!0}$e||e(ne.h==Q(ne))}if(g.Pb&&ne.h&&xe<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Se(g.s.vb,g.s.Wa);else{if(ne.h)break e;Y!=null&&Y(g,X>W?W:X),g.a=0,g.$=xe-P}return 1}return g.a=3,0}function za(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function Hi(){var g=new Ky;return g==null?null:(g.a=0,g.xb=I_,st("Predictor","VP8LPredictors"),st("Predictor","VP8LPredictors_C"),st("PredictorAdd","VP8LPredictorsAdd"),st("PredictorAdd","VP8LPredictorsAdd_C"),qA=ut,Sl=Ke,oi=ze,Yr=Gt,ds=Pt,vo=Ee,yo=We,O.VP8LMapColor32b=nc,O.VP8LMapColor8b=zA,g)}function Va(g,_,P,L,q){var W=1,Y=[g],X=[_],Z=L.m,ne=L.s,he=null,xe=0;e:for(;;){if(P)for(;W&&ee(Z,1);){var we=Y,me=X,Be=L,ke=1,pe=Be.m,Ae=Be.gc[Be.ab],Le=ee(pe,2);if(Be.Oc&1<<Le)W=0;else{switch(Be.Oc|=1<<Le,Ae.hc=Le,Ae.Ea=we[0],Ae.nc=me[0],Ae.K=[null],++Be.ab,e(4>=Be.ab),Le){case 0:case 1:Ae.b=ee(pe,3)+2,ke=Va(Ce(Ae.Ea,Ae.b),Ce(Ae.nc,Ae.b),0,Be,Ae.K),Ae.K=Ae.K[0];break;case 3:var $e,Re=ee(pe,8)+1,nt=16<Re?0:4<Re?1:2<Re?2:3;if(we[0]=Ce(Ae.Ea,nt),Ae.b=nt,$e=ke=Va(Re,1,0,Be,Ae.K)){var Je,dt=Re,Ze=Ae,Yt=1<<(8>>Ze.b),Zt=a(Yt);if(Zt==null)$e=0;else{var Ht=Ze.K[0],Bt=Ze.w;for(Zt[0]=Ze.K[0][0],Je=1;Je<1*dt;++Je)Zt[Je]=ve(Ht[Bt+Je],Zt[Je-1]);for(;Je<4*Yt;++Je)Zt[Je]=0;Ze.K[0]=null,Ze.K[0]=Zt,$e=1}}ke=$e;break;case 2:break;default:e(0)}W=ke}}if(Y=Y[0],X=X[0],W&&ee(Z,1)&&!(W=1<=(xe=ee(Z,4))&&11>=xe)){L.a=3;break e}var dn;if(dn=W)t:{var sn,Et,er,si=L,tr=Y,li=X,en=xe,_i=P,Ti=si.m,br=si.s,kr=[null],Jr=1,Ji=0,Ka=x8[en];n:for(;;){if(_i&&ee(Ti,1)){var xr=ee(Ti,3)+2,So=Ce(tr,xr),El=Ce(li,xr),sc=So*El;if(!Va(So,El,0,si,kr))break n;for(kr=kr[0],br.xc=xr,sn=0;sn<sc;++sn){var gs=kr[sn]>>8&65535;kr[sn]=gs,gs>=Jr&&(Jr=gs+1)}}if(Ti.h)break n;for(Et=0;5>Et;++Et){var Fn=M_[Et];!Et&&0<en&&(Fn+=1<<en),Ji<Fn&&(Ji=Fn)}var ab=o(Jr*Ka,M),U_=Jr,q_=o(U_,F);if(q_==null)var nm=null;else e(65536>=U_),nm=q_;var Vd=a(Ji);if(nm==null||Vd==null||ab==null){si.a=1;break n}var rm=ab;for(sn=er=0;sn<Jr;++sn){var Na=nm[sn],lc=Na.G,uc=Na.H,H_=0,im=1,z_=0;for(Et=0;5>Et;++Et){Fn=M_[Et],lc[Et]=rm,uc[Et]=er,!Et&&0<en&&(Fn+=1<<en);i:{var am,ob=Fn,om=si,Gd=Vd,q8=rm,H8=er,sb=0,vs=om.m,z8=ee(vs,1);if(i(Gd,0,0,ob),z8){var V8=ee(vs,1)+1,G8=ee(vs,1),V_=ee(vs,G8==0?1:8);Gd[V_]=1,V8==2&&(Gd[V_=ee(vs,8)]=1);var sm=1}else{var G_=a(19),W_=ee(vs,4)+4;if(19<W_){om.a=3;var lm=0;break i}for(am=0;am<W_;++am)G_[y8[am]]=ee(vs,3);var lb=void 0,Wd=void 0,Y_=om,W8=G_,um=ob,K_=Gd,ub=0,ys=Y_.m,J_=8,X_=o(128,M);r:for(;I(X_,0,7,W8,19);){if(ee(ys,1)){var Y8=2+2*ee(ys,3);if((lb=2+ee(ys,Y8))>um)break r}else lb=um;for(Wd=0;Wd<um&&lb--;){J(ys);var Q_=X_[0+(127&z(ys))];te(ys,ys.u+Q_.g);var cc=Q_.value;if(16>cc)K_[Wd++]=cc,cc!=0&&(J_=cc);else{var K8=cc==16,Z_=cc-16,J8=g8[Z_],eT=ee(ys,m8[Z_])+J8;if(Wd+eT>um)break r;for(var X8=K8?J_:0;0<eT--;)K_[Wd++]=X8}}ub=1;break r}ub||(Y_.a=3),sm=ub}(sm=sm&&!vs.h)&&(sb=I(q8,H8,8,Gd,ob)),sm&&sb!=0?lm=sb:(om.a=3,lm=0)}if(lm==0)break n;if(im&&v8[Et]==1&&(im=rm[er].g==0),H_+=rm[er].g,er+=lm,3>=Et){var Yd,cb=Vd[0];for(Yd=1;Yd<Fn;++Yd)Vd[Yd]>cb&&(cb=Vd[Yd]);z_+=cb}}if(Na.nd=im,Na.Qb=0,im&&(Na.qb=(lc[3][uc[3]+0].value<<24|lc[1][uc[1]+0].value<<16|lc[2][uc[2]+0].value)>>>0,H_==0&&256>lc[0][uc[0]+0].value&&(Na.Qb=1,Na.qb+=lc[0][uc[0]+0].value<<8)),Na.jc=!Na.Qb&&6>z_,Na.jc){var cm,_o=Na;for(cm=0;cm<Er;++cm){var bs=cm,xs=_o.pd[bs],fm=_o.G[0][_o.H[0]+bs];256<=fm.value?(xs.g=fm.g+256,xs.value=fm.value):(xs.g=0,xs.value=0,bs>>=Tn(fm,8,xs),bs>>=Tn(_o.G[1][_o.H[1]+bs],16,xs),bs>>=Tn(_o.G[2][_o.H[2]+bs],0,xs),Tn(_o.G[3][_o.H[3]+bs],24,xs))}}}br.vc=kr,br.Wb=Jr,br.Ya=nm,br.yc=ab,dn=1;break t}dn=0}if(!(W=dn)){L.a=3;break e}if(0<xe){if(ne.ua=1<<xe,!Fe(ne.Wa,xe)){L.a=1,W=0;break e}}else ne.ua=0;var fb=L,tT=Y,Q8=X,db=fb.s,hb=db.xc;if(fb.c=tT,fb.i=Q8,db.md=Ce(tT,hb),db.wc=hb==0?-1:(1<<hb)-1,P){L.xb=k8;break e}if((he=a(Y*X))==null){L.a=1,W=0;break e}W=(W=wa(L,he,0,Y,X,X,null))&&!Z.h;break e}return W?(q!=null?q[0]=he:(e(he==null),e(P)),L.$=0,P||za(ne)):za(ne),W}function vl(g,_){var P=g.c*g.i,L=P+_+16*_;return e(g.c<=_),g.V=a(L),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+_,1)}function Ru(g,_){var P=g.C,L=_-P,q=g.V,W=g.Ba+g.c*P;for(e(_<=g.l.o);0<L;){var Y=16<L?16:L,X=g.l.ma,Z=g.l.width,ne=Z*Y,he=X.ca,xe=X.tb+Z*P,we=g.Ta,me=g.Ua;Wr(g,Y,q,W),Wn(we,me,he,xe,ne),ba(X,P,P+Y,he,xe,Z),L-=Y,q+=Y*g.c,P+=Y}e(P==_),g.C=g.Ma=_}function Bu(){this.ub=this.yd=this.td=this.Rb=0}function $u(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Fu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function wA(){this.Yb=function(){var g=[];return function _(P,L,q){for(var W=q[L],Y=0;Y<W&&(P.push(q.length>L+1?[]:0),!(q.length<L+1));Y++)_(P[Y],L+1,q)}(g,0,[3,11]),g}()}function Cy(){this.jb=a(3),this.Wc=s([4,8],wA),this.Xc=s([4,17],wA)}function Ny(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Uu(){this.ld=this.La=this.dd=this.tc=0}function SA(){this.Na=this.la=0}function Ey(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yd(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ky(){this.uc=this.M=this.Nb=0,this.wa=Array(new Uu),this.Y=0,this.ya=Array(new yd),this.aa=0,this.l=new qu}function _A(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Py(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new Bu,this.Kc=new $u,this.ed=new Ny,this.Qa=new Fu,this.Ic=this.$c=this.Aa=0,this.D=new ky,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,Ey),this.Pa=new Cy,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _A),this.Hd=0,this.rb=Array(new SA),this.sb=0,this.wa=Array(new Uu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yd),this.L=this.aa=0,this.gd=s([4,2],Uu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function My(){var g=new Py;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Hd||(Hd=NA)),g}function Vn(g,_,P){return g.a==0&&(g.a=_,g.sc=P,g.cb=0),0}function TA(g,_,P){return 3<=P&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function CA(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Vn(g,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,L=_.w,q=_.ha;if(4>q)return Vn(g,7,"Truncated header.");var W=P[L+0]|P[L+1]<<8|P[L+2]<<16,Y=g.Od;if(Y.Rb=!(1&W),Y.td=W>>1&7,Y.yd=W>>4&1,Y.ub=W>>5,3<Y.td)return Vn(g,3,"Incorrect keyframe parameters.");if(!Y.yd)return Vn(g,4,"Frame not displayable.");L+=3,q-=3;var X=g.Kc;if(Y.Rb){if(7>q)return Vn(g,7,"cannot parse picture header");if(!TA(P,L,q))return Vn(g,3,"Bad code word");X.c=16383&(P[L+4]<<8|P[L+3]),X.Td=P[L+4]>>6,X.i=16383&(P[L+6]<<8|P[L+5]),X.Ud=P[L+6]>>6,L+=7,q-=7,g.za=X.c+15>>4,g.Ub=X.i+15>>4,_.width=X.c,_.height=X.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((W=g.Pa).jb,0,255,W.jb.length),e((W=g.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(Y.ub>q)return Vn(g,7,"bad partition length");G(W=g.m,P,L,Y.ub),L+=Y.ub,q-=Y.ub,Y.Rb&&(X.Ld=ue(W),X.Kd=ue(W)),X=g.Qa;var Z,ne=g.Pa;if(e(W!=null),e(X!=null),X.Cb=ue(W),X.Cb){if(X.Bb=ue(W),ue(W)){for(X.Fb=ue(W),Z=0;4>Z;++Z)X.Zb[Z]=ue(W)?U(W,7):0;for(Z=0;4>Z;++Z)X.Lb[Z]=ue(W)?U(W,6):0}if(X.Bb)for(Z=0;3>Z;++Z)ne.jb[Z]=ue(W)?R(W,8):255}else X.Bb=0;if(W.Ka)return Vn(g,3,"cannot parse segment header");if((X=g.ed).zd=ue(W),X.Tb=R(W,6),X.wb=R(W,3),X.Pc=ue(W),X.Pc&&ue(W)){for(ne=0;4>ne;++ne)ue(W)&&(X.vd[ne]=U(W,6));for(ne=0;4>ne;++ne)ue(W)&&(X.od[ne]=U(W,6))}if(g.L=X.Tb==0?0:X.zd?1:2,W.Ka)return Vn(g,3,"cannot parse filter header");var he=q;if(q=Z=L,L=Z+he,X=he,g.Xb=(1<<R(g.m,2))-1,he<3*(ne=g.Xb))P=7;else{for(Z+=3*ne,X-=3*ne,he=0;he<ne;++he){var xe=P[q+0]|P[q+1]<<8|P[q+2]<<16;xe>X&&(xe=X),G(g.Jc[+he],P,Z,xe),Z+=xe,X-=xe,q+=3}G(g.Jc[+ne],P,Z,X),P=Z<L?0:5}if(P!=0)return Vn(g,P,"cannot parse partitions");for(P=R(Z=g.m,7),q=ue(Z)?U(Z,4):0,L=ue(Z)?U(Z,4):0,X=ue(Z)?U(Z,4):0,ne=ue(Z)?U(Z,4):0,Z=ue(Z)?U(Z,4):0,he=g.Qa,xe=0;4>xe;++xe){if(he.Cb){var we=he.Zb[xe];he.Fb||(we+=P)}else{if(0<xe){g.pb[xe]=g.pb[0];continue}we=P}var me=g.pb[xe];me.Sc[0]=nb[wi(we+q,127)],me.Sc[1]=rb[wi(we+0,127)],me.Eb[0]=2*nb[wi(we+L,127)],me.Eb[1]=101581*rb[wi(we+X,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=nb[wi(we+ne,117)],me.Qc[1]=rb[wi(we+Z,127)],me.lc=we+Z}if(!Y.Rb)return Vn(g,4,"Not a key frame.");for(ue(W),Y=g.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(L=0;3>L;++L)for(X=0;11>X;++X)ne=re(W,N8[P][q][L][X])?R(W,8):T8[P][q][L][X],Y.Wc[P][q].Yb[L][X]=ne;for(q=0;17>q;++q)Y.Xc[P][q]=Y.Wc[P][E8[q]]}return g.kc=ue(W),g.kc&&(g.Bd=R(W,8)),g.cb=1}function NA(g,_,P,L,q,W,Y){var X=_[q].Yb[P];for(P=0;16>q;++q){if(!re(g,X[P+0]))return q;for(;!re(g,X[P+1]);)if(X=_[++q].Yb[0],P=0,q==16)return 16;var Z=_[q+1].Yb;if(re(g,X[P+2])){var ne=g,he=0;if(re(ne,(we=X)[(xe=P)+3]))if(re(ne,we[xe+6])){for(X=0,xe=2*(he=re(ne,we[xe+8]))+(we=re(ne,we[xe+9+he])),he=0,we=S8[xe];we[X];++X)he+=he+re(ne,we[X]);he+=3+(8<<xe)}else re(ne,we[xe+7])?(he=7+2*re(ne,165),he+=re(ne,145)):he=5+re(ne,159);else he=re(ne,we[xe+4])?3+re(ne,we[xe+5]):2;X=Z[2]}else he=1,X=Z[1];Z=Y+_8[q],0>(ne=g).b&&se(ne);var xe,we=ne.b,me=(xe=ne.Ca>>1)-(ne.I>>we)>>31;--ne.b,ne.Ca+=me,ne.Ca|=1,ne.I-=(xe+1&me)<<we,W[Z]=((he^me)-me)*L[(0<q)+0]}return 16}function bd(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Oy(g,_){if(g==null)return 0;if(_==null)return Vn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!CA(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var P=tm[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-P>>4,g.zb=_.j-P>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+P>>4,g.Hb=_.va+15+P>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var L=g.ed;for(P=0;4>P;++P){var q;if(g.Qa.Cb){var W=g.Qa.Lb[P];g.Qa.Fb||(W+=L.Tb)}else W=L.Tb;for(q=0;1>=q;++q){var Y=g.gd[P][q],X=W;if(L.Pc&&(X+=L.vd[0],q&&(X+=L.od[0])),0<(X=0>X?0:63<X?63:X)){var Z=X;0<L.wb&&(Z=4<L.wb?Z>>2:Z>>1)>9-L.wb&&(Z=9-L.wb),1>Z&&(Z=1),Y.dd=Z,Y.tc=2*X+Z,Y.ld=40<=X?2:15<=X?1:0}else Y.tc=0;Y.La=q}}}P=0}else Vn(g,6,"Frame setup failed"),P=g.a;if(P=P==0){if(P){g.$c=0,0<g.Aa||(g.Ic=U8);e:{P=g.Ic,L=4*(Z=g.za);var ne=32*Z,he=Z+1,xe=0<g.L?Z*(0<g.Aa?2:1):0,we=(g.Aa==2?2:1)*Z;if((Y=L+832+(q=3*(16*P+tm[g.L])/2*ne)+(W=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=Y)P=0;else{if(Y>g.Vb){if(g.Vb=0,g.Ec=a(Y),g.Fc=0,g.Ec==null){P=Vn(g,1,"no memory during frame initialization.");break e}g.Vb=Y}Y=g.Ec,X=g.Fc,g.Ac=Y,g.Bc=X,X+=L,g.Gd=o(ne,_A),g.Hd=0,g.rb=o(he+1,SA),g.sb=1,g.wa=xe?o(xe,Uu):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=Z),e(!0),g.oc=Y,g.pc=X,X+=832,g.ya=o(we,yd),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=Z),g.R=16*Z,g.B=8*Z,Z=(ne=tm[g.L])*g.R,ne=ne/2*g.B,g.sa=Y,g.ta=X+Z,g.qa=g.sa,g.ra=g.ta+16*P*g.R+ne,g.Ha=g.qa,g.Ia=g.ra+8*P*g.B+ne,g.$c=0,X+=q,g.mb=W?Y:null,g.nb=W?X:null,e(X+W<=g.Fc+g.Vb),bd(g),i(g.Ac,g.Bc,0,L),P=1}}if(P){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!GA){for(P=-255;255>=P;++P)ur[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)xo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)qd[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)oc[255+P]=0>P?0:255<P?255:P;GA=1}rc=Ly,bo=Iy,$d=kA,Kr=Dy,Vi=PA,Gn=EA,ic=Cd,VA=xl,Fd=Yy,_l=Nd,Tl=Wy,hs=Yu,Cl=Ed,ac=$A,Nl=BA,ps=Wa,Ud=go,Gi=Gy,Ca[0]=Ga,Ca[1]=jy,Ca[2]=Fy,Ca[3]=Uy,Ca[4]=IA,Ca[5]=Gu,Ca[6]=DA,Ca[7]=Sd,Ca[8]=Hy,Ca[9]=qy,As[0]=MA,As[1]=By,As[2]=mo,As[3]=zu,As[4]=jr,As[5]=$y,As[6]=OA,wo[0]=ls,wo[1]=Ry,wo[2]=zy,wo[3]=_d,wo[4]=bl,wo[5]=Vy,wo[6]=Td,P=1}else P=0}P&&(P=function(me,Be){for(me.M=0;me.M<me.Va;++me.M){var ke,pe=me.Jc[me.M&me.Xb],Ae=me.m,Le=me;for(ke=0;ke<Le.za;++ke){var $e=Ae,Re=Le,nt=Re.Ac,Je=Re.Bc+4*ke,dt=Re.zc,Ze=Re.ya[Re.aa+ke];if(Re.Qa.Bb?Ze.$b=re($e,Re.Pa.jb[0])?2+re($e,Re.Pa.jb[2]):re($e,Re.Pa.jb[1]):Ze.$b=0,Re.kc&&(Ze.Ad=re($e,Re.Bd)),Ze.Za=!re($e,145)+0,Ze.Za){var Yt=Ze.Ob,Zt=0;for(Re=0;4>Re;++Re){var Ht,Bt=dt[0+Re];for(Ht=0;4>Ht;++Ht){Bt=C8[nt[Je+Ht]][Bt];for(var dn=O_[re($e,Bt[0])];0<dn;)dn=O_[2*dn+re($e,Bt[dn])];Bt=-dn,nt[Je+Ht]=Bt}r(Yt,Zt,nt,Je,4),Zt+=4,dt[0+Re]=Bt}}else Bt=re($e,156)?re($e,128)?1:3:re($e,163)?2:0,Ze.Ob[0]=Bt,i(nt,Je,Bt,4),i(dt,0,Bt,4);Ze.Dd=re($e,142)?re($e,114)?re($e,183)?1:3:2:0}if(Le.m.Ka)return Vn(me,7,"Premature end-of-partition0 encountered.");for(;me.ja<me.za;++me.ja){if(Le=pe,$e=(Ae=me).rb[Ae.sb-1],nt=Ae.rb[Ae.sb+Ae.ja],ke=Ae.ya[Ae.aa+Ae.ja],Je=Ae.kc?ke.Ad:0)$e.la=nt.la=0,ke.Za||($e.Na=nt.Na=0),ke.Hc=0,ke.Gc=0,ke.ia=0;else{var sn,Et;if($e=nt,nt=Le,Je=Ae.Pa.Xc,dt=Ae.ya[Ae.aa+Ae.ja],Ze=Ae.pb[dt.$b],Re=dt.ad,Yt=0,Zt=Ae.rb[Ae.sb-1],Bt=Ht=0,i(Re,Yt,0,384),dt.Za)var er=0,si=Je[3];else{dn=a(16);var tr=$e.Na+Zt.Na;if(tr=Hd(nt,Je[1],tr,Ze.Eb,0,dn,0),$e.Na=Zt.Na=(0<tr)+0,1<tr)rc(dn,0,Re,Yt);else{var li=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)Re[Yt+dn]=li}er=1,si=Je[0]}var en=15&$e.la,_i=15&Zt.la;for(dn=0;4>dn;++dn){var Ti=1&_i;for(li=Et=0;4>li;++li)en=en>>1|(Ti=(tr=Hd(nt,si,tr=Ti+(1&en),Ze.Sc,er,Re,Yt))>er)<<7,Et=Et<<2|(3<tr?3:1<tr?2:Re[Yt+0]!=0),Yt+=16;en>>=4,_i=_i>>1|Ti<<7,Ht=(Ht<<8|Et)>>>0}for(si=en,er=_i>>4,sn=0;4>sn;sn+=2){for(Et=0,en=$e.la>>4+sn,_i=Zt.la>>4+sn,dn=0;2>dn;++dn){for(Ti=1&_i,li=0;2>li;++li)tr=Ti+(1&en),en=en>>1|(Ti=0<(tr=Hd(nt,Je[2],tr,Ze.Qc,0,Re,Yt)))<<3,Et=Et<<2|(3<tr?3:1<tr?2:Re[Yt+0]!=0),Yt+=16;en>>=2,_i=_i>>1|Ti<<5}Bt|=Et<<4*sn,si|=en<<4<<sn,er|=(240&_i)<<sn}$e.la=si,Zt.la=er,dt.Hc=Ht,dt.Gc=Bt,dt.ia=43690&Bt?0:Ze.ia,Je=!(Ht|Bt)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[ke.$b][ke.Za],Ae.wa[Ae.Y+Ae.ja].La|=!Je),Le.Ka)return Vn(me,7,"Premature end-of-file encountered.")}if(bd(me),Ae=Be,Le=1,ke=(pe=me).D,$e=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(ke.M=pe.M,ke.uc=$e,Dd(pe,ke),Le=1,ke=(Et=pe.D).Nb,$e=(Bt=tm[pe.L])*pe.R,nt=Bt/2*pe.B,dn=16*ke*pe.R,li=8*ke*pe.B,Je=pe.sa,dt=pe.ta-$e+dn,Ze=pe.qa,Re=pe.ra-nt+li,Yt=pe.Ha,Zt=pe.Ia-nt+li,_i=(en=Et.M)==0,Ht=en>=pe.Va-1,pe.Aa==2&&Dd(pe,Et),Et.uc)for(Ti=(tr=pe).D.M,e(tr.D.uc),Et=tr.yb;Et<tr.Hb;++Et){er=Et,si=Ti;var br=(kr=(Fn=tr).D).Nb;sn=Fn.R;var kr=kr.wa[kr.Y+er],Jr=Fn.sa,Ji=Fn.ta+16*br*sn+16*er,Ka=kr.dd,xr=kr.tc;if(xr!=0)if(e(3<=xr),Fn.L==1)0<er&&ps(Jr,Ji,sn,xr+4),kr.La&&Gi(Jr,Ji,sn,xr),0<si&&Nl(Jr,Ji,sn,xr+4),kr.La&&Ud(Jr,Ji,sn,xr);else{var So=Fn.B,El=Fn.qa,sc=Fn.ra+8*br*So+8*er,gs=Fn.Ha,Fn=Fn.Ia+8*br*So+8*er;br=kr.ld,0<er&&(VA(Jr,Ji,sn,xr+4,Ka,br),_l(El,sc,gs,Fn,So,xr+4,Ka,br)),kr.La&&(hs(Jr,Ji,sn,xr,Ka,br),ac(El,sc,gs,Fn,So,xr,Ka,br)),0<si&&(ic(Jr,Ji,sn,xr+4,Ka,br),Fd(El,sc,gs,Fn,So,xr+4,Ka,br)),kr.La&&(Tl(Jr,Ji,sn,xr,Ka,br),Cl(El,sc,gs,Fn,So,xr,Ka,br))}}if(pe.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Et=16*en,en=16*(en+1),_i?(Ae.y=pe.sa,Ae.O=pe.ta+dn,Ae.f=pe.qa,Ae.N=pe.ra+li,Ae.ea=pe.Ha,Ae.W=pe.Ia+li):(Et-=Bt,Ae.y=Je,Ae.O=dt,Ae.f=Ze,Ae.N=Re,Ae.ea=Yt,Ae.W=Zt),Ht||(en-=Bt),en>Ae.o&&(en=Ae.o),Ae.F=null,Ae.J=null,pe.Fa!=null&&0<pe.Fa.length&&Et<en&&(Ae.J=Od(pe,Ae,Et,en-Et),Ae.F=pe.mb,Ae.F==null&&Ae.F.length==0)){Le=Vn(pe,3,"Could not decode alpha data.");break e}Et<Ae.j&&(Bt=Ae.j-Et,Et=Ae.j,e(!(1&Bt)),Ae.O+=pe.R*Bt,Ae.N+=pe.B*(Bt>>1),Ae.W+=pe.B*(Bt>>1),Ae.F!=null&&(Ae.J+=Ae.width*Bt)),Et<en&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Et-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=en-Et,Le=Ae.put(Ae))}ke+1!=pe.Ic||Ht||(r(pe.sa,pe.ta-$e,Je,dt+16*pe.R,$e),r(pe.qa,pe.ra-nt,Ze,Re+8*pe.B,nt),r(pe.Ha,pe.Ia-nt,Yt,Zt+8*pe.B,nt))}if(!Le)return Vn(me,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),P&=1}return P?(g.cb=0,P):0}function Sa(g,_,P,L,q){q=g[_+P+32*L]+(q>>3),g[_+P+32*L]=-256&q?0>q?0:255:q}function Hu(g,_,P,L,q,W){Sa(g,_,0,P,L+q),Sa(g,_,1,P,L+W),Sa(g,_,2,P,L-W),Sa(g,_,3,P,L-q)}function ii(g){return(20091*g>>16)+g}function xd(g,_,P,L){var q,W=0,Y=a(16);for(q=0;4>q;++q){var X=g[_+0]+g[_+8],Z=g[_+0]-g[_+8],ne=(35468*g[_+4]>>16)-ii(g[_+12]),he=ii(g[_+4])+(35468*g[_+12]>>16);Y[W+0]=X+he,Y[W+1]=Z+ne,Y[W+2]=Z-ne,Y[W+3]=X-he,W+=4,_++}for(q=W=0;4>q;++q)X=(g=Y[W+0]+4)+Y[W+8],Z=g-Y[W+8],ne=(35468*Y[W+4]>>16)-ii(Y[W+12]),Sa(P,L,0,0,X+(he=ii(Y[W+4])+(35468*Y[W+12]>>16))),Sa(P,L,1,0,Z+ne),Sa(P,L,2,0,Z-ne),Sa(P,L,3,0,X-he),W++,L+=32}function EA(g,_,P,L){var q=g[_+0]+4,W=35468*g[_+4]>>16,Y=ii(g[_+4]),X=35468*g[_+1]>>16;Hu(P,L,0,q+Y,g=ii(g[_+1]),X),Hu(P,L,1,q+W,g,X),Hu(P,L,2,q-W,g,X),Hu(P,L,3,q-Y,g,X)}function Iy(g,_,P,L,q){xd(g,_,P,L),q&&xd(g,_+16,P,L+4)}function kA(g,_,P,L){bo(g,_+0,P,L,1),bo(g,_+32,P,L+128,1)}function Dy(g,_,P,L){var q;for(g=g[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)Sa(P,L,_,q,g)}function PA(g,_,P,L){g[_+0]&&Kr(g,_+0,P,L),g[_+16]&&Kr(g,_+16,P,L+4),g[_+32]&&Kr(g,_+32,P,L+128),g[_+48]&&Kr(g,_+48,P,L+128+4)}function Ly(g,_,P,L){var q,W=a(16);for(q=0;4>q;++q){var Y=g[_+0+q]+g[_+12+q],X=g[_+4+q]+g[_+8+q],Z=g[_+4+q]-g[_+8+q],ne=g[_+0+q]-g[_+12+q];W[0+q]=Y+X,W[8+q]=Y-X,W[4+q]=ne+Z,W[12+q]=ne-Z}for(q=0;4>q;++q)Y=(g=W[0+4*q]+3)+W[3+4*q],X=W[1+4*q]+W[2+4*q],Z=W[1+4*q]-W[2+4*q],ne=g-W[3+4*q],P[L+0]=Y+X>>3,P[L+16]=ne+Z>>3,P[L+32]=Y-X>>3,P[L+48]=ne-Z>>3,L+=64}function wd(g,_,P){var L,q=_-32,W=Si,Y=255-g[q-1];for(L=0;L<P;++L){var X,Z=W,ne=Y+g[_-1];for(X=0;X<P;++X)g[_+X]=Z[ne+g[q+X]];_+=32}}function jy(g,_){wd(g,_,4)}function Ry(g,_){wd(g,_,8)}function By(g,_){wd(g,_,16)}function mo(g,_){var P;for(P=0;16>P;++P)r(g,_+32*P,g,_-32,16)}function zu(g,_){var P;for(P=16;0<P;--P)i(g,_,g[_-1],16),_+=32}function Vu(g,_,P){var L;for(L=0;16>L;++L)i(_,P+32*L,g,16)}function MA(g,_){var P,L=16;for(P=0;16>P;++P)L+=g[_-1+32*P]+g[_+P-32];Vu(L>>5,g,_)}function jr(g,_){var P,L=8;for(P=0;16>P;++P)L+=g[_-1+32*P];Vu(L>>4,g,_)}function $y(g,_){var P,L=8;for(P=0;16>P;++P)L+=g[_+P-32];Vu(L>>4,g,_)}function OA(g,_){Vu(128,g,_)}function xt(g,_,P){return g+2*_+P+2>>2}function Fy(g,_){var P,L=_-32;for(L=new Uint8Array([xt(g[L-1],g[L+0],g[L+1]),xt(g[L+0],g[L+1],g[L+2]),xt(g[L+1],g[L+2],g[L+3]),xt(g[L+2],g[L+3],g[L+4])]),P=0;4>P;++P)r(g,_+32*P,L,0,L.length)}function Uy(g,_){var P=g[_-1],L=g[_-1+32],q=g[_-1+64],W=g[_-1+96];be(g,_+0,16843009*xt(g[_-1-32],P,L)),be(g,_+32,16843009*xt(P,L,q)),be(g,_+64,16843009*xt(L,q,W)),be(g,_+96,16843009*xt(q,W,W))}function Ga(g,_){var P,L=4;for(P=0;4>P;++P)L+=g[_+P-32]+g[_-1+32*P];for(L>>=3,P=0;4>P;++P)i(g,_+32*P,L,4)}function IA(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1-32],Y=g[_+0-32],X=g[_+1-32],Z=g[_+2-32],ne=g[_+3-32];g[_+0+96]=xt(L,q,g[_-1+96]),g[_+1+96]=g[_+0+64]=xt(P,L,q),g[_+2+96]=g[_+1+64]=g[_+0+32]=xt(W,P,L),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=xt(Y,W,P),g[_+3+64]=g[_+2+32]=g[_+1+0]=xt(X,Y,W),g[_+3+32]=g[_+2+0]=xt(Z,X,Y),g[_+3+0]=xt(ne,Z,X)}function DA(g,_){var P=g[_+1-32],L=g[_+2-32],q=g[_+3-32],W=g[_+4-32],Y=g[_+5-32],X=g[_+6-32],Z=g[_+7-32];g[_+0+0]=xt(g[_+0-32],P,L),g[_+1+0]=g[_+0+32]=xt(P,L,q),g[_+2+0]=g[_+1+32]=g[_+0+64]=xt(L,q,W),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=xt(q,W,Y),g[_+3+32]=g[_+2+64]=g[_+1+96]=xt(W,Y,X),g[_+3+64]=g[_+2+96]=xt(Y,X,Z),g[_+3+96]=xt(X,Z,Z)}function Gu(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1-32],Y=g[_+0-32],X=g[_+1-32],Z=g[_+2-32],ne=g[_+3-32];g[_+0+0]=g[_+1+64]=W+Y+1>>1,g[_+1+0]=g[_+2+64]=Y+X+1>>1,g[_+2+0]=g[_+3+64]=X+Z+1>>1,g[_+3+0]=Z+ne+1>>1,g[_+0+96]=xt(q,L,P),g[_+0+64]=xt(L,P,W),g[_+0+32]=g[_+1+96]=xt(P,W,Y),g[_+1+32]=g[_+2+96]=xt(W,Y,X),g[_+2+32]=g[_+3+96]=xt(Y,X,Z),g[_+3+32]=xt(X,Z,ne)}function Sd(g,_){var P=g[_+0-32],L=g[_+1-32],q=g[_+2-32],W=g[_+3-32],Y=g[_+4-32],X=g[_+5-32],Z=g[_+6-32],ne=g[_+7-32];g[_+0+0]=P+L+1>>1,g[_+1+0]=g[_+0+64]=L+q+1>>1,g[_+2+0]=g[_+1+64]=q+W+1>>1,g[_+3+0]=g[_+2+64]=W+Y+1>>1,g[_+0+32]=xt(P,L,q),g[_+1+32]=g[_+0+96]=xt(L,q,W),g[_+2+32]=g[_+1+96]=xt(q,W,Y),g[_+3+32]=g[_+2+96]=xt(W,Y,X),g[_+3+64]=xt(Y,X,Z),g[_+3+96]=xt(X,Z,ne)}function qy(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1+96];g[_+0+0]=P+L+1>>1,g[_+2+0]=g[_+0+32]=L+q+1>>1,g[_+2+32]=g[_+0+64]=q+W+1>>1,g[_+1+0]=xt(P,L,q),g[_+3+0]=g[_+1+32]=xt(L,q,W),g[_+3+32]=g[_+1+64]=xt(q,W,W),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=W}function Hy(g,_){var P=g[_-1+0],L=g[_-1+32],q=g[_-1+64],W=g[_-1+96],Y=g[_-1-32],X=g[_+0-32],Z=g[_+1-32],ne=g[_+2-32];g[_+0+0]=g[_+2+32]=P+Y+1>>1,g[_+0+32]=g[_+2+64]=L+P+1>>1,g[_+0+64]=g[_+2+96]=q+L+1>>1,g[_+0+96]=W+q+1>>1,g[_+3+0]=xt(X,Z,ne),g[_+2+0]=xt(Y,X,Z),g[_+1+0]=g[_+3+32]=xt(P,Y,X),g[_+1+32]=g[_+3+64]=xt(L,P,Y),g[_+1+64]=g[_+3+96]=xt(q,L,P),g[_+1+96]=xt(W,q,L)}function zy(g,_){var P;for(P=0;8>P;++P)r(g,_+32*P,g,_-32,8)}function _d(g,_){var P;for(P=0;8>P;++P)i(g,_,g[_-1],8),_+=32}function yl(g,_,P){var L;for(L=0;8>L;++L)i(_,P+32*L,g,8)}function ls(g,_){var P,L=8;for(P=0;8>P;++P)L+=g[_+P-32]+g[_-1+32*P];yl(L>>4,g,_)}function Vy(g,_){var P,L=4;for(P=0;8>P;++P)L+=g[_+P-32];yl(L>>3,g,_)}function bl(g,_){var P,L=4;for(P=0;8>P;++P)L+=g[_-1+32*P];yl(L>>3,g,_)}function Td(g,_){yl(128,g,_)}function Wu(g,_,P){var L=g[_-P],q=g[_+0],W=3*(q-L)+Xy[1020+g[_-2*P]-g[_+P]],Y=WA[112+(W+4>>3)];g[_-P]=Si[255+L+WA[112+(W+3>>3)]],g[_+0]=Si[255+q-Y]}function LA(g,_,P,L){var q=g[_+0],W=g[_+P];return Yi[255+g[_-2*P]-g[_-P]]>L||Yi[255+W-q]>L}function jA(g,_,P,L){return 4*Yi[255+g[_-P]-g[_+0]]+Yi[255+g[_-2*P]-g[_+P]]<=L}function RA(g,_,P,L,q){var W=g[_-3*P],Y=g[_-2*P],X=g[_-P],Z=g[_+0],ne=g[_+P],he=g[_+2*P],xe=g[_+3*P];return 4*Yi[255+X-Z]+Yi[255+Y-ne]>L?0:Yi[255+g[_-4*P]-W]<=q&&Yi[255+W-Y]<=q&&Yi[255+Y-X]<=q&&Yi[255+xe-he]<=q&&Yi[255+he-ne]<=q&&Yi[255+ne-Z]<=q}function BA(g,_,P,L){var q=2*L+1;for(L=0;16>L;++L)jA(g,_+L,P,q)&&Wu(g,_+L,P)}function Wa(g,_,P,L){var q=2*L+1;for(L=0;16>L;++L)jA(g,_+L*P,1,q)&&Wu(g,_+L*P,1)}function go(g,_,P,L){var q;for(q=3;0<q;--q)BA(g,_+=4*P,P,L)}function Gy(g,_,P,L){var q;for(q=3;0<q;--q)Wa(g,_+=4,P,L)}function us(g,_,P,L,q,W,Y,X){for(W=2*W+1;0<q--;){if(RA(g,_,P,W,Y))if(LA(g,_,P,X))Wu(g,_,P);else{var Z=g,ne=_,he=P,xe=Z[ne-2*he],we=Z[ne-he],me=Z[ne+0],Be=Z[ne+he],ke=Z[ne+2*he],pe=27*(Le=Xy[1020+3*(me-we)+Xy[1020+xe-Be]])+63>>7,Ae=18*Le+63>>7,Le=9*Le+63>>7;Z[ne-3*he]=Si[255+Z[ne-3*he]+Le],Z[ne-2*he]=Si[255+xe+Ae],Z[ne-he]=Si[255+we+pe],Z[ne+0]=Si[255+me-pe],Z[ne+he]=Si[255+Be-Ae],Z[ne+2*he]=Si[255+ke-Le]}_+=L}}function _a(g,_,P,L,q,W,Y,X){for(W=2*W+1;0<q--;){if(RA(g,_,P,W,Y))if(LA(g,_,P,X))Wu(g,_,P);else{var Z=g,ne=_,he=P,xe=Z[ne-he],we=Z[ne+0],me=Z[ne+he],Be=WA[112+((ke=3*(we-xe))+4>>3)],ke=WA[112+(ke+3>>3)],pe=Be+1>>1;Z[ne-2*he]=Si[255+Z[ne-2*he]+pe],Z[ne-he]=Si[255+xe+ke],Z[ne+0]=Si[255+we-Be],Z[ne+he]=Si[255+me-pe]}_+=L}}function Cd(g,_,P,L,q,W){us(g,_,P,1,16,L,q,W)}function xl(g,_,P,L,q,W){us(g,_,1,P,16,L,q,W)}function Wy(g,_,P,L,q,W){var Y;for(Y=3;0<Y;--Y)_a(g,_+=4*P,P,1,16,L,q,W)}function Yu(g,_,P,L,q,W){var Y;for(Y=3;0<Y;--Y)_a(g,_+=4,1,P,16,L,q,W)}function Yy(g,_,P,L,q,W,Y,X){us(g,_,q,1,8,W,Y,X),us(P,L,q,1,8,W,Y,X)}function Nd(g,_,P,L,q,W,Y,X){us(g,_,1,q,8,W,Y,X),us(P,L,1,q,8,W,Y,X)}function Ed(g,_,P,L,q,W,Y,X){_a(g,_+4*q,q,1,8,W,Y,X),_a(P,L+4*q,q,1,8,W,Y,X)}function $A(g,_,P,L,q,W,Y,X){_a(g,_+4,1,q,8,W,Y,X),_a(P,L+4,1,q,8,W,Y,X)}function Ku(){this.ba=new Bn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function FA(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new M}function Ky(){this.xb=this.a=0,this.l=new qu,this.ca=new Bn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new FA,this.ab=0,this.gc=o(4,Pd),this.Oc=0}function Ju(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wl(g,_,P,L,q,W,Y){for(g=g==null?0:g[_+0],_=0;_<Y;++_)q[W+_]=g+P[L+_]&255,g=q[W+_]}function Md(g,_,P,L,q,W,Y){var X;if(g==null)wl(null,null,P,L,q,W,Y);else for(X=0;X<Y;++X)q[W+X]=g[_+X]+P[L+X]&255}function cs(g,_,P,L,q,W,Y){if(g==null)wl(null,null,P,L,q,W,Y);else{var X,Z=g[_+0],ne=Z,he=Z;for(X=0;X<Y;++X)ne=he+(Z=g[_+X])-ne,he=P[L+X]+(-256&ne?0>ne?0:255:ne)&255,ne=Z,q[W+X]=he}}function Od(g,_,P,L){var q=_.width,W=_.o;if(e(g!=null&&_!=null),0>P||0>=L||P+L>W)return null;if(!g.Cc){if(g.ga==null){var Y;if(g.ga=new Ju,(Y=g.ga==null)||(Y=_.width*_.o,e(g.Gb.length==0),g.Gb=a(Y),g.Uc=0,g.Gb==null?Y=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Y=1),Y=!Y),!Y){Y=g.ga;var X=g.Fa,Z=g.P,ne=g.qc,he=g.mb,xe=g.nb,we=Z+1,me=ne-1,Be=Y.l;if(e(X!=null&&he!=null&&_!=null),ms[0]=null,ms[1]=wl,ms[2]=Md,ms[3]=cs,Y.ca=he,Y.tb=xe,Y.c=_.width,Y.i=_.height,e(0<Y.c&&0<Y.i),1>=ne)_=0;else if(Y.$a=X[Z+0]>>0&3,Y.Z=X[Z+0]>>2&3,Y.Lc=X[Z+0]>>4&3,Z=X[Z+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||Z)_=0;else if(Be.put=Mt,Be.ac=At,Be.bc=Wt,Be.ma=Y,Be.width=_.width,Be.height=_.height,Be.Da=_.Da,Be.v=_.v,Be.va=_.va,Be.j=_.j,Be.o=_.o,Y.$a)e:{e(Y.$a==1),_=Hi();t:for(;;){if(_==null){_=0;break e}if(e(Y!=null),Y.mc=_,_.c=Y.c,_.i=Y.i,_.l=Y.l,_.l.ma=Y,_.l.width=Y.c,_.l.height=Y.i,_.a=0,V(_.m,X,we,me),!Va(Y.c,Y.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Ao(_.s)?(Y.ic=1,X=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(X),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(Y.ic=0,_=vl(_,Y.c)),!_))break t;_=1;break e}Y.mc=null,_=0}else _=me>=Y.c*Y.i;Y=!_}if(Y)return null;g.ga.Lc!=1?g.Ga=0:L=W-P}e(g.ga!=null),e(P+L<=W);e:{if(_=(X=g.ga).c,W=X.l.o,X.$a==0){if(we=g.rc,me=g.Vc,Be=g.Fa,Z=g.P+1+P*_,ne=g.mb,he=g.nb+P*_,e(Z<=g.P+g.qc),X.Z!=0)for(e(ms[X.Z]!=null),Y=0;Y<L;++Y)ms[X.Z](we,me,Be,Z,ne,he,_),we=ne,me=he,he+=_,Z+=_;else for(Y=0;Y<L;++Y)r(ne,he,Be,Z,_),we=ne,me=he,he+=_,Z+=_;g.rc=we,g.Vc=me}else{if(e(X.mc!=null),_=P+L,e((Y=X.mc)!=null),e(_<=Y.i),Y.C>=_)_=1;else if(X.ic||ye(),X.ic){X=Y.V,we=Y.Ba,me=Y.c;var ke=Y.i,pe=(Be=1,Z=Y.$/me,ne=Y.$%me,he=Y.m,xe=Y.s,Y.$),Ae=me*ke,Le=me*_,$e=xe.wc,Re=pe<Le?jn(xe,ne,Z):null;e(pe<=Ae),e(_<=ke),e(Ao(xe));t:for(;;){for(;!he.h&&pe<Le;){if(ne&$e||(Re=jn(xe,ne,Z)),e(Re!=null),J(he),256>(ke=mn(Re.G[0],Re.H[0],he)))X[we+pe]=ke,++pe,++ne>=me&&(ne=0,++Z<=_&&!(Z%16)&&xa(Y,Z));else{if(!(280>ke)){Be=0;break t}ke=_t(ke-256,he);var nt,Je=mn(Re.G[4],Re.H[4],he);if(J(he),!(pe>=(Je=_n(me,Je=_t(Je,he)))&&Ae-pe>=ke)){Be=0;break t}for(nt=0;nt<ke;++nt)X[we+pe+nt]=X[we+pe+nt-Je];for(pe+=ke,ne+=ke;ne>=me;)ne-=me,++Z<=_&&!(Z%16)&&xa(Y,Z);pe<Le&&ne&$e&&(Re=jn(xe,ne,Z))}e(he.h==Q(he))}xa(Y,Z>_?_:Z);break t}!Be||he.h&&pe<Ae?(Be=0,Y.a=he.h?5:3):Y.$=pe,_=Be}else _=wa(Y,Y.V,Y.Ba,Y.c,Y.i,_,Ru);if(!_){L=0;break e}}P+L>=W&&(g.Cc=1),L=1}if(!L)return null;if(g.Cc&&((L=g.ga)!=null&&(L.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*q}function N(g,_,P,L,q,W){for(;0<q--;){var Y,X=g,Z=_+(P?1:0),ne=g,he=_+(P?0:3);for(Y=0;Y<L;++Y){var xe=ne[he+4*Y];xe!=255&&(xe*=32897,X[Z+4*Y+0]=X[Z+4*Y+0]*xe>>23,X[Z+4*Y+1]=X[Z+4*Y+1]*xe>>23,X[Z+4*Y+2]=X[Z+4*Y+2]*xe>>23)}_+=W}}function H(g,_,P,L,q){for(;0<L--;){var W;for(W=0;W<P;++W){var Y=g[_+2*W+0],X=15&(ne=g[_+2*W+1]),Z=4369*X,ne=(240&ne|ne>>4)*Z>>16;g[_+2*W+0]=(240&Y|Y>>4)*Z>>16&240|(15&Y|Y<<4)*Z>>16>>4&15,g[_+2*W+1]=240&ne|X}_+=q}}function ae(g,_,P,L,q,W,Y,X){var Z,ne,he=255;for(ne=0;ne<q;++ne){for(Z=0;Z<L;++Z){var xe=g[_+Z];W[Y+4*Z]=xe,he&=xe}_+=P,Y+=X}return he!=255}function ce(g,_,P,L,q){var W;for(W=0;W<q;++W)P[L+W]=g[_+W]>>8}function ye(){Wi=N,gn=H,vn=ae,Wn=ce}function Pe(g,_,P){O[g]=function(L,q,W,Y,X,Z,ne,he,xe,we,me,Be,ke,pe,Ae,Le,$e){var Re,nt=$e-1>>1,Je=X[Z+0]|ne[he+0]<<16,dt=xe[we+0]|me[Be+0]<<16;e(L!=null);var Ze=3*Je+dt+131074>>2;for(_(L[q+0],255&Ze,Ze>>16,ke,pe),W!=null&&(Ze=3*dt+Je+131074>>2,_(W[Y+0],255&Ze,Ze>>16,Ae,Le)),Re=1;Re<=nt;++Re){var Yt=X[Z+Re]|ne[he+Re]<<16,Zt=xe[we+Re]|me[Be+Re]<<16,Ht=Je+Yt+dt+Zt+524296,Bt=Ht+2*(Yt+dt)>>3;Ze=Bt+Je>>1,Je=(Ht=Ht+2*(Je+Zt)>>3)+Yt>>1,_(L[q+2*Re-1],255&Ze,Ze>>16,ke,pe+(2*Re-1)*P),_(L[q+2*Re-0],255&Je,Je>>16,ke,pe+(2*Re-0)*P),W!=null&&(Ze=Ht+dt>>1,Je=Bt+Zt>>1,_(W[Y+2*Re-1],255&Ze,Ze>>16,Ae,Le+(2*Re-1)*P),_(W[Y+2*Re+0],255&Je,Je>>16,Ae,Le+(2*Re+0)*P)),Je=Yt,dt=Zt}1&$e||(Ze=3*Je+dt+131074>>2,_(L[q+$e-1],255&Ze,Ze>>16,ke,pe+($e-1)*P),W!=null&&(Ze=3*dt+Je+131074>>2,_(W[Y+$e-1],255&Ze,Ze>>16,Ae,Le+($e-1)*P)))}}function qe(){Ki[YA]=P8,Ki[KA]=D_,Ki[k_]=M8,Ki[JA]=L_,Ki[XA]=j_,Ki[Qy]=R_,Ki[P_]=O8,Ki[Zy]=D_,Ki[eb]=L_,Ki[QA]=j_,Ki[tb]=R_}function tt(g){return g&-16384?0>g?0:255:g>>I8}function ct(g,_){return tt((19077*g>>8)+(26149*_>>8)-14234)}function Tt(g,_,P){return tt((19077*g>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function wt(g,_){return tt((19077*g>>8)+(33050*_>>8)-17685)}function qt(g,_,P,L,q){L[q+0]=ct(g,P),L[q+1]=Tt(g,_,P),L[q+2]=wt(g,_)}function Rn(g,_,P,L,q){L[q+0]=wt(g,_),L[q+1]=Tt(g,_,P),L[q+2]=ct(g,P)}function $n(g,_,P,L,q){var W=Tt(g,_,P);_=W<<3&224|wt(g,_)>>3,L[q+0]=248&ct(g,P)|W>>5,L[q+1]=_}function Zn(g,_,P,L,q){var W=240&wt(g,_)|15;L[q+0]=240&ct(g,P)|Tt(g,_,P)>>4,L[q+1]=W}function Rr(g,_,P,L,q){L[q+0]=255,qt(g,_,P,L,q+1)}function yr(g,_,P,L,q){Rn(g,_,P,L,q),L[q+3]=255}function Ta(g,_,P,L,q){qt(g,_,P,L,q),L[q+3]=255}function wi(g,_){return 0>g?0:g>_?_:g}function Ya(g,_,P){O[g]=function(L,q,W,Y,X,Z,ne,he,xe){for(var we=he+(-2&xe)*P;he!=we;)_(L[q+0],W[Y+0],X[Z+0],ne,he),_(L[q+1],W[Y+0],X[Z+0],ne,he+P),q+=2,++Y,++Z,he+=2*P;1&xe&&_(L[q+0],W[Y+0],X[Z+0],ne,he)}}function UA(g,_,P){return P==0?g==0?_==0?6:5:_==0?4:0:P}function Id(g,_,P,L,q){switch(g>>>30){case 3:bo(_,P,L,q,0);break;case 2:Gn(_,P,L,q);break;case 1:Kr(_,P,L,q)}}function Dd(g,_){var P,L,q=_.M,W=_.Nb,Y=g.oc,X=g.pc+40,Z=g.oc,ne=g.pc+584,he=g.oc,xe=g.pc+600;for(P=0;16>P;++P)Y[X+32*P-1]=129;for(P=0;8>P;++P)Z[ne+32*P-1]=129,he[xe+32*P-1]=129;for(0<q?Y[X-1-32]=Z[ne-1-32]=he[xe-1-32]=129:(i(Y,X-32-1,127,21),i(Z,ne-32-1,127,9),i(he,xe-32-1,127,9)),L=0;L<g.za;++L){var we=_.ya[_.aa+L];if(0<L){for(P=-1;16>P;++P)r(Y,X+32*P-4,Y,X+32*P+12,4);for(P=-1;8>P;++P)r(Z,ne+32*P-4,Z,ne+32*P+4,4),r(he,xe+32*P-4,he,xe+32*P+4,4)}var me=g.Gd,Be=g.Hd+L,ke=we.ad,pe=we.Hc;if(0<q&&(r(Y,X-32,me[Be].y,0,16),r(Z,ne-32,me[Be].f,0,8),r(he,xe-32,me[Be].ea,0,8)),we.Za){var Ae=Y,Le=X-32+16;for(0<q&&(L>=g.za-1?i(Ae,Le,me[Be].y[15],4):r(Ae,Le,me[Be+1].y,0,4)),P=0;4>P;P++)Ae[Le+128+P]=Ae[Le+256+P]=Ae[Le+384+P]=Ae[Le+0+P];for(P=0;16>P;++P,pe<<=2)Ae=Y,Le=X+$_[P],Ca[we.Ob[P]](Ae,Le),Id(pe,ke,16*+P,Ae,Le)}else if(Ae=UA(L,q,we.Ob[0]),As[Ae](Y,X),pe!=0)for(P=0;16>P;++P,pe<<=2)Id(pe,ke,16*+P,Y,X+$_[P]);for(P=we.Gc,Ae=UA(L,q,we.Dd),wo[Ae](Z,ne),wo[Ae](he,xe),pe=ke,Ae=Z,Le=ne,255&(we=P>>0)&&(170&we?$d(pe,256,Ae,Le):Vi(pe,256,Ae,Le)),we=he,pe=xe,255&(P>>=8)&&(170&P?$d(ke,320,we,pe):Vi(ke,320,we,pe)),q<g.Ub-1&&(r(me[Be].y,0,Y,X+480,16),r(me[Be].f,0,Z,ne+224,8),r(me[Be].ea,0,he,xe+224,8)),P=8*W*g.B,me=g.sa,Be=g.ta+16*L+16*W*g.R,ke=g.qa,we=g.ra+8*L+P,pe=g.Ha,Ae=g.Ia+8*L+P,P=0;16>P;++P)r(me,Be+P*g.R,Y,X+32*P,16);for(P=0;8>P;++P)r(ke,we+P*g.B,Z,ne+32*P,8),r(pe,Ae+P*g.B,he,xe+32*P,8)}}function Xu(g,_,P,L,q,W,Y,X,Z){var ne=[0],he=[0],xe=0,we=Z!=null?Z.kd:0,me=Z??new kd;if(g==null||12>P)return 7;me.data=g,me.w=_,me.ha=P,_=[_],P=[P],me.gb=[me.gb];e:{var Be=_,ke=P,pe=me.gb;if(e(g!=null),e(ke!=null),e(pe!=null),pe[0]=0,12<=ke[0]&&!n(g,Be[0],"RIFF")){if(n(g,Be[0]+8,"WEBP")){pe=3;break e}var Ae=De(g,Be[0]+4);if(12>Ae||4294967286<Ae){pe=3;break e}if(we&&Ae>ke[0]-8){pe=7;break e}pe[0]=Ae,Be[0]+=12,ke[0]-=12}pe=0}if(pe!=0)return pe;for(Ae=0<me.gb[0],P=P[0];;){e:{var Le=g;ke=_,pe=P;var $e=ne,Re=he,nt=Be=[0];if((Ze=xe=[xe])[0]=0,8>pe[0])pe=7;else{if(!n(Le,ke[0],"VP8X")){if(De(Le,ke[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var Je=De(Le,ke[0]+8),dt=1+fe(Le,ke[0]+12);if(2147483648<=dt*(Le=1+fe(Le,ke[0]+15))){pe=3;break e}nt!=null&&(nt[0]=Je),$e!=null&&($e[0]=dt),Re!=null&&(Re[0]=Le),ke[0]+=18,pe[0]-=18,Ze[0]=1}pe=0}}if(xe=xe[0],Be=Be[0],pe!=0)return pe;if(ke=!!(2&Be),!Ae&&xe)return 3;if(W!=null&&(W[0]=!!(16&Be)),Y!=null&&(Y[0]=ke),X!=null&&(X[0]=0),Y=ne[0],Be=he[0],xe&&ke&&Z==null){pe=0;break}if(4>P){pe=7;break}if(Ae&&xe||!Ae&&!xe&&!n(g,_[0],"ALPH")){P=[P],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Je=g,pe=_,Ae=P;var Ze=me.gb;$e=me.na,Re=me.P,nt=me.Sa,dt=22,e(Je!=null),e(Ae!=null),Le=pe[0];var Yt=Ae[0];for(e($e!=null),e(nt!=null),$e[0]=null,Re[0]=null,nt[0]=0;;){if(pe[0]=Le,Ae[0]=Yt,8>Yt){pe=7;break e}var Zt=De(Je,Le+4);if(4294967286<Zt){pe=3;break e}var Ht=8+Zt+1&-2;if(dt+=Ht,0<Ze&&dt>Ze){pe=3;break e}if(!n(Je,Le,"VP8 ")||!n(Je,Le,"VP8L")){pe=0;break e}if(Yt[0]<Ht){pe=7;break e}n(Je,Le,"ALPH")||($e[0]=Je,Re[0]=Le+8,nt[0]=Zt),Le+=Ht,Yt-=Ht}}if(P=P[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],pe!=0)break}P=[P],me.Ja=[me.Ja],me.xa=[me.xa];e:if(Ze=g,pe=_,Ae=P,$e=me.gb[0],Re=me.Ja,nt=me.xa,Je=pe[0],Le=!n(Ze,Je,"VP8 "),dt=!n(Ze,Je,"VP8L"),e(Ze!=null),e(Ae!=null),e(Re!=null),e(nt!=null),8>Ae[0])pe=7;else{if(Le||dt){if(Ze=De(Ze,Je+4),12<=$e&&Ze>$e-12){pe=3;break e}if(we&&Ze>Ae[0]-8){pe=7;break e}Re[0]=Ze,pe[0]+=8,Ae[0]-=8,nt[0]=dt}else nt[0]=5<=Ae[0]&&Ze[Je+0]==47&&!(Ze[Je+4]>>5),Re[0]=Ae[0];pe=0}if(P=P[0],me.Ja=me.Ja[0],me.xa=me.xa[0],_=_[0],pe!=0)break;if(4294967286<me.Ja)return 3;if(X==null||ke||(X[0]=me.xa?2:1),Y=[Y],Be=[Be],me.xa){if(5>P){pe=7;break}X=Y,we=Be,ke=W,g==null||5>P?g=0:5<=P&&g[_+0]==47&&!(g[_+4]>>5)?(Ae=[0],Ze=[0],$e=[0],V(Re=new j,g,_,P),Ve(Re,Ae,Ze,$e)?(X!=null&&(X[0]=Ae[0]),we!=null&&(we[0]=Ze[0]),ke!=null&&(ke[0]=$e[0]),g=1):g=0):g=0}else{if(10>P){pe=7;break}X=Be,g==null||10>P||!TA(g,_+3,P-3)?g=0:(we=g[_+0]|g[_+1]<<8|g[_+2]<<16,ke=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=me.Ja||!ke||!g?g=0:(Y&&(Y[0]=ke),X&&(X[0]=g),g=1))}if(!g||(Y=Y[0],Be=Be[0],xe&&(ne[0]!=Y||he[0]!=Be)))return 3;Z!=null&&(Z[0]=me,Z.offset=_-Z.w,e(4294967286>_-Z.w),e(Z.offset==Z.ha-P));break}return pe==0||pe==7&&xe&&Z==null?(W!=null&&(W[0]|=me.na!=null&&0<me.na.length),L!=null&&(L[0]=Y),q!=null&&(q[0]=Be),0):pe}function Ld(g,_,P){var L=_.width,q=_.height,W=0,Y=0,X=L,Z=q;if(_.Da=g!=null&&0<g.Da,_.Da&&(X=g.cd,Z=g.bd,W=g.v,Y=g.j,11>P||(W&=-2,Y&=-2),0>W||0>Y||0>=X||0>=Z||W+X>L||Y+Z>q))return 0;if(_.v=W,_.j=Y,_.va=W+X,_.o=Y+Z,_.U=X,_.T=Z,_.da=g!=null&&0<g.da,_.da){if(!Te(X,Z,P=[g.ib],W=[g.hb]))return 0;_.ib=P[0],_.hb=W[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*q/4,_.Kb=0),1}function jd(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Qu(g,_,P,L){if(L==null||0>=g||0>=_)return 2;if(P!=null){if(P.Da){var q=P.cd,W=P.bd,Y=-2&P.v,X=-2&P.j;if(0>Y||0>X||0>=q||0>=W||Y+q>g||X+W>_)return 2;g=q,_=W}if(P.da){if(!Te(g,_,q=[P.ib],W=[P.hb]))return 2;g=q[0],_=W[0]}}L.width=g,L.height=_;e:{var Z=L.width,ne=L.height;if(g=L.S,0>=Z||0>=ne||!(g>=YA&&13>g))g=2;else{if(0>=L.Rd&&L.sd==null){Y=W=q=_=0;var he=(X=Z*F_[g])*ne;if(11>g||(W=(ne+1)/2*(_=(Z+1)/2),g==12&&(Y=(q=Z)*ne)),(ne=a(he+2*W+Y))==null){g=1;break e}L.sd=ne,11>g?((Z=L.f.RGBA).eb=ne,Z.fb=0,Z.A=X,Z.size=he):((Z=L.f.kb).y=ne,Z.O=0,Z.fa=X,Z.Fd=he,Z.f=ne,Z.N=0+he,Z.Ab=_,Z.Cd=W,Z.ea=ne,Z.W=0+he+W,Z.Db=_,Z.Ed=W,g==12&&(Z.F=ne,Z.J=0+he+2*W),Z.Tc=Y,Z.lb=q)}if(_=1,q=L.S,W=L.width,Y=L.height,q>=YA&&13>q)if(11>q)g=L.f.RGBA,_&=(X=Math.abs(g.A))*(Y-1)+W<=g.size,_&=X>=W*F_[q],_&=g.eb!=null;else{g=L.f.kb,X=(W+1)/2,he=(Y+1)/2,Z=Math.abs(g.fa),ne=Math.abs(g.Ab);var xe=Math.abs(g.Db),we=Math.abs(g.lb),me=we*(Y-1)+W;_&=Z*(Y-1)+W<=g.Fd,_&=ne*(he-1)+X<=g.Cd,_=(_&=xe*(he-1)+X<=g.Ed)&Z>=W&ne>=X&xe>=X,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,q==12&&(_&=we>=W,_&=me<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||P!=null&&P.fd&&(g=jd(L)),g}var Er=64,Zu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ec=24,tc=32,Rd=8,ai=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(g){return g},O.Predictor2=function(g,_,P){return _[P+0]},O.Predictor3=function(g,_,P){return _[P+1]},O.Predictor4=function(g,_,P){return _[P-1]},O.Predictor5=function(g,_,P){return He(He(g,_[P+1]),_[P+0])},O.Predictor6=function(g,_,P){return He(g,_[P-1])},O.Predictor7=function(g,_,P){return He(g,_[P+0])},O.Predictor8=function(g,_,P){return He(_[P-1],_[P+0])},O.Predictor9=function(g,_,P){return He(_[P+0],_[P+1])},O.Predictor10=function(g,_,P){return He(He(g,_[P-1]),He(_[P+0],_[P+1]))},O.Predictor11=function(g,_,P){var L=_[P+0];return 0>=Oe(L>>24&255,g>>24&255,(_=_[P-1])>>24&255)+Oe(L>>16&255,g>>16&255,_>>16&255)+Oe(L>>8&255,g>>8&255,_>>8&255)+Oe(255&L,255&g,255&_)?L:g},O.Predictor12=function(g,_,P){var L=_[P+0];return(ge((g>>24&255)+(L>>24&255)-((_=_[P-1])>>24&255))<<24|ge((g>>16&255)+(L>>16&255)-(_>>16&255))<<16|ge((g>>8&255)+(L>>8&255)-(_>>8&255))<<8|ge((255&g)+(255&L)-(255&_)))>>>0},O.Predictor13=function(g,_,P){var L=_[P-1];return(Ie((g=He(g,_[P+0]))>>24&255,L>>24&255)<<24|Ie(g>>16&255,L>>16&255)<<16|Ie(g>>8&255,L>>8&255)<<8|Ie(g>>0&255,L>>0&255))>>>0};var Jy=O.PredictorAdd0;O.PredictorAdd1=Xe,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var Bd=O.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var qA,zi=O.ColorIndexInverseTransform,nc=O.MapARGB,HA=O.VP8LColorIndexInverseTransformAlpha,zA=O.MapAlpha,fs=O.VP8LPredictorsAdd=[];fs.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Sl,oi,Yr,ds,vo,yo,rc,bo,Gn,$d,Kr,Vi,ic,VA,Fd,_l,Tl,hs,Cl,ac,Nl,ps,Ud,Gi,Wi,gn,vn,Wn,ur=a(511),xo=a(2041),qd=a(225),oc=a(767),GA=0,Xy=xo,WA=qd,Si=oc,Yi=ur,YA=0,KA=1,k_=2,JA=3,XA=4,Qy=5,P_=6,Zy=7,eb=8,QA=9,tb=10,m8=[2,3,7],g8=[3,3,11],M_=[280,256,256,256,40],v8=[0,1,1,1,0],y8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],b8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],x8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],w8=8,nb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hd=null,S8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],O_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],T8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],C8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],N8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],E8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],As=[],Ca=[],wo=[],k8=1,I_=2,ms=[],Ki=[];Pe("UpsampleRgbLinePair",qt,3),Pe("UpsampleBgrLinePair",Rn,3),Pe("UpsampleRgbaLinePair",Ta,4),Pe("UpsampleBgraLinePair",yr,4),Pe("UpsampleArgbLinePair",Rr,4),Pe("UpsampleRgba4444LinePair",Zn,2),Pe("UpsampleRgb565LinePair",$n,2);var P8=O.UpsampleRgbLinePair,M8=O.UpsampleBgrLinePair,D_=O.UpsampleRgbaLinePair,L_=O.UpsampleBgraLinePair,j_=O.UpsampleArgbLinePair,R_=O.UpsampleRgba4444LinePair,O8=O.UpsampleRgb565LinePair,ZA=16,em=1<<ZA-1,zd=-227,ib=482,I8=6,B_=0,D8=a(256),L8=a(256),j8=a(256),R8=a(256),B8=a(ib-zd),$8=a(ib-zd);Ya("YuvToRgbRow",qt,3),Ya("YuvToBgrRow",Rn,3),Ya("YuvToRgbaRow",Ta,4),Ya("YuvToBgraRow",yr,4),Ya("YuvToArgbRow",Rr,4),Ya("YuvToRgba4444Row",Zn,2),Ya("YuvToRgb565Row",$n,2);var $_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tm=[0,2,8],F8=[8,7,6,4,4,2,2,2,1,1,1,1],U8=1;this.WebPDecodeRGBA=function(g,_,P,L,q){var W=KA,Y=new Ku,X=new Bn;Y.ba=X,X.S=W,X.width=[X.width],X.height=[X.height];var Z=X.width,ne=X.height,he=new ri;if(he==null||g==null)var xe=2;else e(he!=null),xe=Xu(g,_,P,he.width,he.height,he.Pd,he.Qd,he.format,null);if(xe!=0?Z=0:(Z!=null&&(Z[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),Z=1),Z){X.width=X.width[0],X.height=X.height[0],L!=null&&(L[0]=X.width),q!=null&&(q[0]=X.height);e:{if(L=new qu,(q=new kd).data=g,q.w=_,q.ha=P,q.kd=1,_=[0],e(q!=null),((g=Xu(q.data,q.w,q.ha,null,null,null,_,null,q))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(Y!=null),L.data=q.data,L.w=q.w+q.offset,L.ha=q.ha-q.offset,L.put=Mt,L.ac=At,L.bc=Wt,L.ma=Y,q.xa){if((g=Hi())==null){Y=1;break e}if(function(we,me){var Be=[0],ke=[0],pe=[0];t:for(;;){if(we==null)return 0;if(me==null)return we.a=2,0;if(we.l=me,we.a=0,V(we.m,me.data,me.w,me.ha),!Ve(we.m,Be,ke,pe)){we.a=3;break t}if(we.xb=I_,me.width=Be[0],me.height=ke[0],!Va(Be[0],ke[0],1,we,null))break t;return 1}return e(we.a!=0),0}(g,L)){if(L=(_=Qu(L.width,L.height,Y.Oa,Y.ba))==0){t:{L=g;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((P=L.l)!=null),e((q=P.ma)!=null),L.xb!=0){if(L.ca=q.ba,L.tb=q.tb,e(L.ca!=null),!Ld(q.Oa,P,JA)){L.a=2;break n}if(!vl(L,P.width)||P.da)break n;if((P.da||rt(L.ca.S))&&ye(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&ye()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Fe(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!wa(L,L.V,L.Ba,L.c,L.i,P.o,ju))break n;q.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(_=g.a)}else _=g.a}else{if((g=new My)==null){Y=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,CA(g,L)){if((_=Qu(L.width,L.height,Y.Oa,Y.ba))==0){if(g.Aa=0,P=Y.Oa,e((q=g)!=null),P!=null){if(0<(Z=0>(Z=P.Md)?0:100<Z?255:255*Z/100)){for(ne=he=0;4>ne;++ne)12>(xe=q.pb[ne]).lc&&(xe.ia=Z*F8[0>xe.lc?0:xe.lc]>>3),he|=xe.ia;he&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Oy(g,L)||(_=g.a)}}else _=g.a}_==0&&Y.Oa!=null&&Y.Oa.fd&&(_=jd(Y.ba))}Y=_}W=Y!=0?null:11>W?X.f.RGBA.eb:X.f.kb.y}else W=null;return W};var F_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,D){for(var $="",I=0;I<4;I++)$+=String.fromCharCode(O[D++]);return $}function c(O,D){return(O[D+0]<<0|O[D+1]<<8|O[D+2]<<16)>>>0}function f(O,D){return(O[D+0]<<0|O[D+1]<<8|O[D+2]<<16|O[D+3]<<24)>>>0}new l;var h=[0],A=[0],v=[],b=new l,w=t,y=function(O,D){var $={},I=0,M=!1,B=0,F=0;if($.frames=[],!function(z,Q,te,J){for(var se=0;se<J;se++)if(z[Q+se]!=te.charCodeAt(se))return!0;return!1}(O,D,"RIFF",4)){var G,R;for(f(O,D+=4),D+=8;D<O.length;){var U=u(O,D),V=f(O,D+=4);D+=4;var K=V+(1&V);switch(U){case"VP8 ":case"VP8L":$.frames[I]===void 0&&($.frames[I]={}),(j=$.frames[I]).src_off=M?F:D-8,j.src_size=B+V+8,I++,M&&(M=!1,B=0,F=0);break;case"VP8X":(j=$.header={}).feature_flags=O[D];var ee=D+4;j.canvas_width=1+c(O,ee),ee+=3,j.canvas_height=1+c(O,ee),ee+=3;break;case"ALPH":M=!0,B=K+8,F=D-8;break;case"ANIM":(j=$.header).bgcolor=f(O,D),ee=D+4,j.loop_count=(G=O)[(R=ee)+0]<<0|G[R+1]<<8,ee+=2;break;case"ANMF":var le,j;(j=$.frames[I]={}).offset_x=2*c(O,D),D+=3,j.offset_y=2*c(O,D),D+=3,j.width=1+c(O,D),D+=3,j.height=1+c(O,D),D+=3,j.duration=c(O,D),D+=3,le=O[D++],j.dispose=1&le,j.blend=le>>1&1}U!="ANMF"&&(D+=K)}return $}}(w,0);y.response=w,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],A=[x.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var C=S[0],k=b.WebPDecodeRGBA(w,C.src_off,C.src_size,A,h);C.rgba=k,C.imgwidth=A[0],C.imgheight=h[0];for(var E=0;E<A[0]*h[0]*4;E++)v[E]=k[E];return this.width=A,this.height=h,this.data=v,this}(function(t){var e=function(){return typeof s2=="function"},n=function(h,A,v,b){var w=4,y=o;switch(b){case t.image_compression.FAST:w=1,y=a;break;case t.image_compression.MEDIUM:w=6,y=s;break;case t.image_compression.SLOW:w=9,y=l}h=r(h,A,v,y);var x=s2(h,{level:w});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(h,A,v,b){for(var w,y,x,S=h.length/A,T=new Uint8Array(h.length+S),C=c(),k=0;k<S;k+=1){if(x=k*A,w=h.subarray(x,x+A),b)T.set(b(w,v,y),x+k);else{for(var E,O=C.length,D=[];E<O;E+=1)D[E]=C[E](w,v,y);var $=f(D.concat());T.set(D[$],x+k)}y=w}return T},i=function(h){var A=Array.apply([],h);return A.unshift(0),A},a=function(h,A){var v,b=[],w=h.length;b[0]=1;for(var y=0;y<w;y+=1)v=h[y-A]||0,b[y+1]=h[y]-v+256&255;return b},o=function(h,A,v){var b,w=[],y=h.length;w[0]=2;for(var x=0;x<y;x+=1)b=v&&v[x]||0,w[x+1]=h[x]-b+256&255;return w},s=function(h,A,v){var b,w,y=[],x=h.length;y[0]=3;for(var S=0;S<x;S+=1)b=h[S-A]||0,w=v&&v[S]||0,y[S+1]=h[S]+256-(b+w>>>1)&255;return y},l=function(h,A,v){var b,w,y,x,S=[],T=h.length;S[0]=4;for(var C=0;C<T;C+=1)b=h[C-A]||0,w=v&&v[C]||0,y=v&&v[C-A]||0,x=u(b,w,y),S[C+1]=h[C]-x+256&255;return S},u=function(h,A,v){if(h===A&&A===v)return h;var b=Math.abs(A-v),w=Math.abs(h-v),y=Math.abs(h+A-v-v);return b<=w&&b<=y?h:w<=y?A:v},c=function(){return[i,a,o,s,l]},f=function(h){var A=h.map(function(v){return v.reduce(function(b,w){return b+Math.abs(w)},0)});return A.indexOf(Math.min.apply(null,A))};t.processPNG=function(h,A,v,b){var w,y,x,S,T,C,k,E,O,D,$,I,M,B,F,G=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(x=new KK(h)).imgData,y=x.bits,w=x.colorSpace,T=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){O=(E=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,$=new Uint8Array(O*x.colors),D=new Uint8Array(O);var U,V=x.pixelBitlength-x.bits;for(B=0,F=0;B<O;B++){for(M=E[B],U=0;U<V;)$[F++]=M>>>U&255,U+=x.bits;D[B]=M>>>U&255}}if(x.bits===16){O=(E=new Uint32Array(x.decodePixels().buffer)).length,$=new Uint8Array(O*(32/x.pixelBitlength)*x.colors),D=new Uint8Array(O*(32/x.pixelBitlength)),I=x.colors>1,B=0,F=0;for(var K=0;B<O;)M=E[B++],$[F++]=M>>>0&255,I&&($[F++]=M>>>16&255,M=E[B++],$[F++]=M>>>0&255),D[K++]=M>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(h=n($,x.width*x.colors,x.colors,b),k=n(D,x.width,1,b)):(h=$,k=D,G=void 0)}if(x.colorType===3&&(w=this.color_spaces.INDEXED,C=x.palette,x.transparency.indexed)){var ee=x.transparency.indexed,le=0;for(B=0,O=ee.length;B<O;++B)le+=ee[B];if((le/=255)===O-1&&ee.indexOf(0)!==-1)S=[ee.indexOf(0)];else if(le!==O){for(E=x.decodePixels(),D=new Uint8Array(E.length),B=0,O=E.length;B<O;B++)D[B]=ee[E[B]];k=n(D,x.width,1)}}var j=function(z){var Q;switch(z){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(b);return G===this.decode.FLATE_DECODE&&(R="/Predictor "+j+" "),R+="/Colors "+T+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:v,data:h,index:A,filter:G,decodeParameters:R,transparency:S,palette:C,sMask:k,predictor:j,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:w}}}})(ft.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new JK(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new l1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ft.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){hn.log("bit decode error:"+n)}},Pa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Pa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Pa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Pa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Pa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Pa(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new l1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),bE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new bE(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new l1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),ft.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],h=r[u+2],A=r[u+3];a[s++]=c,a[s++]=f,a[s++]=h,o[l++]=A}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pc=ft.API,Lm=pc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,A=t.length,v=0,b=s[0]||l,w=[];for(n=0;n<A;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=f&&an(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,w.push((s[r]||b)/l+h)),v=r;return w},mE=pc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return pc.processArabic&&(t=pc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Lm.apply(this,arguments).reduce(function(a,o){return a+o},0)},gE=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},vE=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],h=n.textIndent||0,A=0,v=0,b=t.split(" "),w=Lm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];b.map(function(T){(T=T.split(/\s*\n/)).length>1?x=x.concat(T.map(function(C,k){return(k&&C.length?`
`:"")+C})):x.push(T[0])}),b=x,l=mE.apply(this,[y,n])}for(a=0,o=b.length;a<o;a++){var S=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+A+(v=(i=Lm.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||S){if(v>e){for(s=gE.apply(this,[r,i,e-(h+A),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(T,C){return T+C},0)}else c=[r];f.push(c),h=v+l,A=w}else c.push(r),h+=A+v,A=w}return u=l?function(T,C){return(C?y:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},pc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(vE.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,A,v,b,w=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?A="'"+y+"'":(y=parseInt(y,10),A=(A=a(y).slice(2)).slice(0,-1)+r[A.slice(-1)]),typeof h=="number")h<0?(v=a(h).slice(3),b="-"):(v=a(h).slice(2),b=""),v=b+v.slice(0,-1)+r[v.slice(-1)];else{if(an(h)!=="object")throw new Error("Don't know what to do with value type "+an(h)+".");v=o(h)}w.push(A+v)}return w.push("}"),w.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,A,v,b,w={},y=1,x=w,S=[],T="",C="",k=f.length-1,E=1;E<k;E+=1)(b=f[E])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(S.push([x,v]),x={},v=void 0):b=="}"?((A=S.pop())[0][A[1]]=x,v=void 0,x=A[0]):b=="-"?y=-1:v===void 0?n.hasOwnProperty(b)?(T+=n[b],v=parseInt(T,16)*y,y=1,T=""):T+=b:n.hasOwnProperty(b)?(C+=n[b],x[v]=parseInt(C,16)*y,y=1,v=void 0,C=""):C+=b;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,A=c.Unicode[h.postScriptName];A&&(h.metadata.Unicode={},h.metadata.Unicode.widths=A.widths,h.metadata.Unicode.kerning=A.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(ft.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e($h(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ft),function(t){function e(){return(mt.canvg?Promise.resolve(mt.canvg):ll(()=>import("./index.es-BZ6GPzKU.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return e().then(function(v){return v.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){A.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function h(v,b){var w,y=!1;for(w=0;w<v.length;w+=1)v[w]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var A=s.length;for(f=0;f<A;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(an(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,h=a.length;f<h;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(a).sort(function(A,v){return A-v})).length;f<h;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),A="",v=0;v<h.length;v++)A+=String.fromCharCode(h[v]);var b=u();c({data:A,addLength1:!0,objectId:b}),l("endobj");var w=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ec(s.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ec(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Ec(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",A=0;A<f.length;A++)h+=String.fromCharCode(f[A]);var v=u();c({data:h,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Ec(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Ec(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},h=f.pdfEscape,A=f.activeFontKey,v=f.fonts,b=A,w="",y=0,x="",S=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(x=s,b=A,Array.isArray(s)&&(x=s[0]),y=0;y<x.length;y+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?w+=x[y]:w+="";var T="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?T=h(w,b).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=n(w,v[b])),f.isHex=!0,{text:T,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var T=function(I){var M=I.charCodeAt(),B=M>>8,F=b[B];return F!==void 0?f[256*F+(255&M)]:B===252||B===253?"AL":y.test(B)?"L":B===8?"R":"N"},C=function(I){for(var M,B=0;B<I.length;B++){if((M=T(I.charAt(B)))==="L")return!1;if(M==="R")return!0}return!1},k=function(I,M,B,F){var G,R,U,V,K=M[F];switch(K){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(K="AN");break;case"AL":x=!0,K="R";break;case"WS":K="N";break;case"CS":F<1||F+1>=M.length||(G=B[F-1])!=="EN"&&G!=="AN"||(R=M[F+1])!=="EN"&&R!=="AN"?K="N":x&&(R="AN"),K=R===G?R:"N";break;case"ES":K=(G=F>0?B[F-1]:"B")==="EN"&&F+1<M.length&&M[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&B[F-1]==="EN"){K="EN";break}if(x){K="N";break}for(U=F+1,V=M.length;U<V&&M[U]==="ET";)U++;K=U<V&&M[U]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(V=M.length,U=F+1;U<V&&M[U]==="NSM";)U++;if(U<V){var ee=I[F],le=ee>=1425&&ee<=2303||ee===64286;if(G=M[U],le&&(G==="R"||G==="AL")){K="R";break}}}K=F<1||(G=M[F-1])==="B"?"N":B[F-1];break;case"B":x=!1,i=!0,K=S;break;case"S":a=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":K="N"}return K},E=function(I,M,B){var F=I.split("");return B&&O(F,B,{hiLevel:S}),F.reverse(),M&&M.reverse(),F.join("")},O=function(I,M,B){var F,G,R,U,V,K=-1,ee=I.length,le=0,j=[],z=S?A:h,Q=[];for(x=!1,i=!1,a=!1,G=0;G<ee;G++)Q[G]=T(I[G]);for(R=0;R<ee;R++){if(V=le,j[R]=k(I,Q,j,R),F=240&(le=z[V][v[j[R]]]),le&=15,M[R]=U=z[le][5],F>0)if(F===16){for(G=K;G<R;G++)M[G]=1;K=-1}else K=-1;if(z[le][6])K===-1&&(K=R);else if(K>-1){for(G=K;G<R;G++)M[G]=U;K=-1}Q[R]==="B"&&(M[R]=0),B.hiLevel|=U}a&&function(te,J,se){for(var ue=0;ue<se;ue++)if(te[ue]==="S"){J[ue]=S;for(var re=ue-1;re>=0&&te[re]==="WS";re--)J[re]=S}}(Q,M,ee)},D=function(I,M,B,F,G){if(!(G.hiLevel<I)){if(I===1&&S===1&&!i)return M.reverse(),void(B&&B.reverse());for(var R,U,V,K,ee=M.length,le=0;le<ee;){if(F[le]>=I){for(V=le+1;V<ee&&F[V]>=I;)V++;for(K=le,U=V-1;K<U;K++,U--)R=M[K],M[K]=M[U],M[U]=R,B&&(R=B[K],B[K]=B[U],B[U]=R);le=V}le++}}},$=function(I,M,B){var F=I.split(""),G={hiLevel:S};return B||(B=[]),O(F,B,G),function(R,U,V){if(V.hiLevel!==0&&c)for(var K,ee=0;ee<R.length;ee++)U[ee]===1&&(K=w.indexOf(R[ee]))>=0&&(R[ee]=w[K+1])}(F,B,G),D(2,F,M,B,G),D(1,F,M,B,G),F.join("")};return this.__bidiEngine__.doBidiReorder=function(I,M,B){if(function(G,R){if(R)for(var U=0;U<G.length;U++)R[U]=U;s===void 0&&(s=C(G)),u===void 0&&(u=C(G))}(I,M),o||!l||u)if(o&&l&&s^u)S=s?1:0,I=E(I,M,B);else if(!o&&l&&u)S=s?1:0,I=$(I,M,B),I=E(I,M);else if(!o||s||l||u){if(o&&!l&&s^u)I=E(I,M),s?(S=0,I=$(I,M,B)):(S=1,I=$(I,M,B),I=E(I,M));else if(o&&s&&!l&&u)S=1,I=$(I,M,B),I=E(I,M);else if(!o&&!l&&s^u){var F=c;s?(S=1,I=$(I,M,B),S=0,c=!1,I=$(I,M,B),c=F):(S=0,I=$(I,M,B),I=E(I,M),S=1,c=!1,I=$(I,M,B),c=F,I=E(I,M))}}else S=0,I=$(I,M,B);else S=s?1:0,I=$(I,M,B);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,s=I.isInputRtl,u=I.isOutputRtl,c=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new cl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new fJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new XK(this.contents),this.head=new ZK(this),this.name=new iJ(this),this.cmap=new JI(this),this.toUnicode={},this.hhea=new eJ(this),this.maxp=new aJ(this),this.hmtx=new oJ(this),this.post=new nJ(this),this.os2=new tJ(this),this.loca=new cJ(this),this.glyf=new sJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var qa,cl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),XK=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,h,A,v,b;for(b in A=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(A)/l),o=Math.floor(f/l),c=16*A-f,(i=new cl).writeInt(this.scalarType),i.writeShort(A),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*A,u=i.pos+a,s=null,v=[],n)for(h=n[b],i.writeString(b),i.writeInt(t(h)),i.writeInt(u),i.writeInt(h.length),v=v.concat(h),b==="head"&&(s=u),u+=h.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=XI.call(n);n.length%4;)n.push(0);for(a=new cl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),QK={}.hasOwnProperty,fo=function(t,e){for(var n in e)QK.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};qa=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var ZK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new cl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),xE=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,h,A,v,b,w,y,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(A=e.readUInt16(),h=A/2,e.pos+=6,a=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,b=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(e.readUInt16());return C}(),l=y=0,S=a.length;y<S;l=++y)for(w=a[l],r=x=v=b[l];v<=w?x<=w:x>=w;r=v<=w?++x:--x)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-v)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,A,v,b,w,y,x,S,T,C,k,E,O,D,$,I,M,B,F,G,R,U,V,K,ee,le,j,z,Q,te,J,se,ue,re,be,_e,fe;switch(F=new cl,o=Object.keys(e).sort(function(De,Fe){return De-Fe}),n){case"macroman":for(b=0,w=function(){var De=[];for(v=0;v<256;++v)De.push(0);return De}(),x={0:0},a={},G=0,K=o.length;G<K;G++)x[re=e[i=o[G]]]==null&&(x[re]=++b),a[i]={old:e[i],new:x[e[i]]},w[i]=x[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(w),{charMap:a,subtable:F.data,maxGlyphID:b+1};case"unicode":for(M=[],f=[],S=0,x={},r={},y=u=null,R=0,ee=o.length;R<ee;R++)x[C=e[i=o[R]]]==null&&(x[C]=++S),r[i]={old:C,new:x[C]},s=x[C]-i,y!=null&&s===u||(y&&f.push(y),M.push(i),u=s),y=i;for(y&&f.push(y),f.push(65535),M.push(65535),$=2*(D=M.length),O=2*Math.pow(Math.log(D)/Math.LN2,2),h=Math.log(O/2)/Math.LN2,E=2*D-O,l=[],k=[],A=[],v=U=0,le=M.length;U<le;v=++U){if(I=M[v],c=f[v],I===65535){l.push(0),k.push(0);break}if(I-(B=r[I].new)>=32768)for(l.push(0),k.push(2*(A.length+D-v)),i=V=I;I<=c?V<=c:V>=c;i=I<=c?++V:--V)A.push(r[i].new);else l.push(B-I),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*D+2*A.length),F.writeUInt16(0),F.writeUInt16($),F.writeUInt16(O),F.writeUInt16(h),F.writeUInt16(E),se=0,j=f.length;se<j;se++)i=f[se],F.writeUInt16(i);for(F.writeUInt16(0),ue=0,z=M.length;ue<z;ue++)i=M[ue],F.writeUInt16(i);for(be=0,Q=l.length;be<Q;be++)s=l[be],F.writeUInt16(s);for(_e=0,te=k.length;_e<te;_e++)T=k[_e],F.writeUInt16(T);for(fe=0,J=A.length;fe<J;fe++)b=A[fe],F.writeUInt16(b);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},t}(),JI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new xE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=xE.encode(n,r),(a=new cl).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),eJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),tJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),nJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),rJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},iJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,f,h,A;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,h=i.length;f<h;o=++f)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new rJ(c,a),u[A=a.nameID]==null&&(u[A]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),aJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),oJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,h,A;for(A=[],c=0,f=(h=this.metrics).length;c<f;c++)o=h[c],A.push(o.advance);return A}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),XI=[].slice,sJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,f,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new cl(r.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new uJ(l,c,h,u,f):new lJ(l,s,c,h,u,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),lJ=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),uJ=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new cl(XI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),cJ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,qa),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),fJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,A,v,b,w,y;for(i in r=JI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),A={0:0},y=r.charMap)A[(l=y[i]).old]=l.new;for(v in h=r.maxGlyphID,o)v in A||(A[v]=h++);return c=function(x){var S,T;for(S in T={},x)T[x[S]]=S;return T}(A),f=Object.keys(c).sort(function(x,S){return x-S}),b=function(){var x,S,T;for(T=[],x=0,S=f.length;x<S;x++)s=f[x],T.push(c[s]);return T}(),a=this.font.glyf.encode(o,b,A),u=this.font.loca.encode(a.offsets,b),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();ft.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const dJ=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:HK,AcroFormAppearance:at,AcroFormButton:hr,AcroFormCheckBox:qh,AcroFormChoiceField:ru,AcroFormComboBox:au,AcroFormEditBox:Fh,AcroFormListBox:iu,AcroFormPasswordField:Hh,AcroFormPushButton:Uh,AcroFormRadioButton:ou,AcroFormTextField:tl,GState:pp,ShadingPattern:Ls,TilingPattern:Gl,default:ft,jsPDF:ft},Symbol.toStringTag,{value:"Module"}));var QI={exports:{}};const hJ=FP(dJ);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return hJ}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ar<"u"?Ar:typeof window<"u"?window:typeof self<"u"?self:Ar,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var h=function(A,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(b[y]=w[y])},h(A,v)};return function(A,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(A,v);function b(){this.constructor=A}A.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function h(A,v,b){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=b,this.doc=A.getDocument()}return h}();l.HookData=c;var f=function(h){u(A,h);function A(v,b,w,y,x,S){var T=h.call(this,v,b,S)||this;return T.cell=w,T.row=y,T.column=x,T.section=y.section,T}return A}(c);l.CellHookData=f},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),h=u(744),A=u(776),v=u(664),b=u(972);function w(y){y.API.autoTable=function(){for(var x=[],S=0;S<arguments.length;S++)x[S]=arguments[S];var T;x.length===1?T=x[0]:(console.error("Use of deprecated autoTable initiation"),T=x[2]||{},T.columns=x[0],T.body=x[1]);var C=(0,A.parseInput)(this,T),k=(0,b.createTable)(this,C);return(0,v.drawTable)(this,k),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(x,S,T,C){(0,f.default)(x,S,T,C,this)},y.API.autoTableSetDefaults=function(x){return h.DocHandler.setDefaults(x,this),this},y.autoTableSetDefaults=function(x,S){h.DocHandler.setDefaults(x,S)},y.API.autoTableHtmlToJson=function(x,S){var T;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new h.DocHandler(this),k=(0,c.parseHtml)(C,x,window,S,!1),E=k.head,O=k.body,D=((T=E[0])===null||T===void 0?void 0:T.map(function($){return $.content}))||[];return{columns:D,rows:O,data:O}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},y.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=x,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,h,A,v){A=A||{};var b=1.15,w=v.internal.scaleFactor,y=v.internal.getFontSize()/w,x=v.getLineHeightFactor?v.getLineHeightFactor():b,S=y*x,T=/\r\n|\r|\n/g,C="",k=1;if((A.valign==="middle"||A.valign==="bottom"||A.halign==="center"||A.halign==="right")&&(C=typeof c=="string"?c.split(T):c,k=C.length||1),h+=y*(2-b),A.valign==="middle"?h-=k/2*S:A.valign==="bottom"&&(h-=k*S),A.halign==="center"||A.halign==="right"){var E=y;if(A.halign==="center"&&(E*=.5),C&&k>=1){for(var O=0;O<C.length;O++)v.text(C[O],f-v.getStringUnitWidth(C[O])*E,h),h+=S;return v}f-=v.getStringUnitWidth(c)*E}return A.halign==="justify"?v.text(c,f,h,{maxWidth:A.maxWidth||100,align:"justify"}):v.text(c,f,h),v}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(v,b,w){w.applyStyles(b,!0);var y=Array.isArray(v)?v:[v],x=y.map(function(S){return w.getTextWidth(S)}).reduce(function(S,T){return Math.max(S,T)},0);return x}l.getStringWidth=u;function c(v,b,w,y){var x=b.settings.tableLineWidth,S=b.settings.tableLineColor;v.applyStyles({lineWidth:x,lineColor:S});var T=f(x,!1);T&&v.rect(w.x,w.y,b.getWidth(v.pageSize().width),y.y-w.y,T)}l.addTableBorder=c;function f(v,b){var w=v>0,y=b||b===0;return w&&y?"DF":w?"S":y?"F":null}l.getFillStyle=f;function h(v,b){var w,y,x,S;if(v=v||b,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=b}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(w=v.left)!==null&&w!==void 0?w:b,top:(y=v.top)!==null&&y!==void 0?y:b,right:(x=v.right)!==null&&x!==void 0?x:b,bottom:(S=v.bottom)!==null&&S!==void 0?S:b}):(typeof v!="number"&&(v=b),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=h;function A(v,b){var w=h(b.settings.margin,0);return v.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=A},796:function(s,l){var u=this&&this.__extends||function(){var A=function(v,b){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,y){w.__proto__=y}||function(w,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(w[x]=y[x])},A(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");A(v,b);function w(){this.constructor=v}v.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(A){u(v,A);function v(b){var w=A.call(this)||this;return w._element=b,w}return v}(Array);l.HtmlRowInput=c;function f(A){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/A,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(A){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[A]}l.getTheme=h},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(w,y,x,S,T){var C={},k=1.3333333333333333,E=A(y,function(K){return T.getComputedStyle(K).backgroundColor});E!=null&&(C.fillColor=E);var O=A(y,function(K){return T.getComputedStyle(K).color});O!=null&&(C.textColor=O);var D=b(S,x);D&&(C.cellPadding=D);var $="borderTopColor",I=k*x,M=S.borderTopWidth;if(S.borderBottomWidth===M&&S.borderRightWidth===M&&S.borderLeftWidth===M){var B=(parseFloat(M)||0)/I;B&&(C.lineWidth=B)}else C.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/I,right:(parseFloat(S.borderRightWidth)||0)/I,bottom:(parseFloat(S.borderBottomWidth)||0)/I,left:(parseFloat(S.borderLeftWidth)||0)/I},C.lineWidth.top||(C.lineWidth.right?$="borderRightColor":C.lineWidth.bottom?$="borderBottomColor":C.lineWidth.left&&($="borderLeftColor"));var F=A(y,function(K){return T.getComputedStyle(K)[$]});F!=null&&(C.lineColor=F);var G=["left","right","center","justify"];G.indexOf(S.textAlign)!==-1&&(C.halign=S.textAlign),G=["middle","bottom","top"],G.indexOf(S.verticalAlign)!==-1&&(C.valign=S.verticalAlign);var R=parseInt(S.fontSize||"");isNaN(R)||(C.fontSize=R/k);var U=h(S);U&&(C.fontStyle=U);var V=(S.fontFamily||"").toLowerCase();return w.indexOf(V)!==-1&&(C.font=V),C}l.parseCss=f;function h(w){var y="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(y="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(y+="italic"),y}function A(w,y){var x=v(w,y);if(!x)return null;var S=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var T=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],C=parseInt(S[4]);return C===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function v(w,y){var x=y(w);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?w.parentElement==null?null:v(w.parentElement,y):x}function b(w,y){var x=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],S=96/(72/y),T=(parseInt(w.lineHeight)-parseInt(w.fontSize))/y/2,C=x.map(function(E){return parseInt(E||"0")/S}),k=(0,c.parseSpacing)(C,0);return T>k.top&&(k.top=T),T>k.bottom&&(k.bottom=T),k}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,A){A===void 0&&(A=null),A?A.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,A){var v,b,w;A===void 0&&(A=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var y=this.jsPDFDocument.internal.getFont(),x=y.fontStyle,S=y.fontName;if(h.font&&(S=h.font),h.fontStyle){x=h.fontStyle;var T=this.getFontList()[S];T&&T.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),x=T[0])}if(this.jsPDFDocument.setFont(S,x),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!A){var C=f.unifyColor(h.fillColor);C&&(v=this.jsPDFDocument).setFillColor.apply(v,C),C=f.unifyColor(h.textColor),C&&(b=this.jsPDFDocument).setTextColor.apply(b,C),C=f.unifyColor(h.lineColor),C&&(w=this.jsPDFDocument).setDrawColor.apply(w,C),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,A,v){return this.jsPDFDocument.splitTextToSize(h,A,v)},f.prototype.rect=function(h,A,v,b,w){return this.jsPDFDocument.rect(h,A,v,b,w)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function h(b,w,y,x,S){var T,C;x===void 0&&(x=!1),S===void 0&&(S=!1);var k;typeof w=="string"?k=y.document.querySelector(w):k=w;var E=Object.keys(b.getFontList()),O=b.scaleFactor(),D=[],$=[],I=[];if(!k)return console.error("Html table could not be found with input: ",w),{head:D,body:$,foot:I};for(var M=0;M<k.rows.length;M++){var B=k.rows[M],F=(C=(T=B==null?void 0:B.parentElement)===null||T===void 0?void 0:T.tagName)===null||C===void 0?void 0:C.toLowerCase(),G=A(E,O,y,B,x,S);G&&(F==="thead"?D.push(G):F==="tfoot"?I.push(G):$.push(G))}return{head:D,body:$,foot:I}}l.parseHtml=h;function A(b,w,y,x,S,T){for(var C=new f.HtmlRowInput(x),k=0;k<x.cells.length;k++){var E=x.cells[k],O=y.getComputedStyle(E);if(S||O.display!=="none"){var D=void 0;T&&(D=(0,c.parseCss)(b,E,w,O,y)),C.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:D,_element:E,content:v(E)})}}var $=y.getComputedStyle(x);if(C.length>0&&(S||$.display!=="none"))return C}function v(b){var w=b.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),w.innerText||w.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),h=u(420),A=u(744),v=u(792);function b(k,E){var O=new A.DocHandler(k),D=O.getDocumentOptions(),$=O.getGlobalOptions();(0,v.default)(O,$,D,E);var I=(0,f.assign)({},$,D,E),M;typeof window<"u"&&(M=window);var B=w($,D,E),F=y($,D,E),G=x(O,I),R=T(O,I,M);return{id:E.tableId,content:R,hooks:F,styles:B,settings:G}}l.parseInput=b;function w(k,E,O){for(var D={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},$=function(F){if(F==="columnStyles"){var G=k[F],R=E[F],U=O[F];D.columnStyles=(0,f.assign)({},G,R,U)}else{var V=[k,E,O],K=V.map(function(ee){return ee[F]||{}});D[F]=(0,f.assign)({},K[0],K[1],K[2])}},I=0,M=Object.keys(D);I<M.length;I++){var B=M[I];$(B)}return D}function y(k,E,O){for(var D=[k,E,O],$={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},I=0,M=D;I<M.length;I++){var B=M[I];B.didParseCell&&$.didParseCell.push(B.didParseCell),B.willDrawCell&&$.willDrawCell.push(B.willDrawCell),B.didDrawCell&&$.didDrawCell.push(B.didDrawCell),B.willDrawPage&&$.willDrawPage.push(B.willDrawPage),B.didDrawPage&&$.didDrawPage.push(B.didDrawPage)}return $}function x(k,E){var O,D,$,I,M,B,F,G,R,U,V,K,ee=(0,h.parseSpacing)(E.margin,40/k.scaleFactor()),le=(O=S(k,E.startY))!==null&&O!==void 0?O:ee.top,j;E.showFoot===!0?j="everyPage":E.showFoot===!1?j="never":j=(D=E.showFoot)!==null&&D!==void 0?D:"everyPage";var z;E.showHead===!0?z="everyPage":E.showHead===!1?z="never":z=($=E.showHead)!==null&&$!==void 0?$:"everyPage";var Q=(I=E.useCss)!==null&&I!==void 0?I:!1,te=E.theme||(Q?"plain":"striped"),J=!!E.horizontalPageBreak,se=(M=E.horizontalPageBreakRepeat)!==null&&M!==void 0?M:null;return{includeHiddenHtml:(B=E.includeHiddenHtml)!==null&&B!==void 0?B:!1,useCss:Q,theme:te,startY:le,margin:ee,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(G=E.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(R=E.tableWidth)!==null&&R!==void 0?R:"auto",showHead:z,showFoot:j,tableLineWidth:(U=E.tableLineWidth)!==null&&U!==void 0?U:0,tableLineColor:(V=E.tableLineColor)!==null&&V!==void 0?V:200,horizontalPageBreak:J,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(K=E.horizontalPageBreakBehaviour)!==null&&K!==void 0?K:"afterAllRows"}}function S(k,E){var O=k.getLastAutoTable(),D=k.scaleFactor(),$=k.pageNumber(),I=!1;if(O&&O.startPageNumber){var M=O.startPageNumber+O.pageNumber-1;I=M===$}return typeof E=="number"?E:(E==null||E===!1)&&I&&(O==null?void 0:O.finalY)!=null?O.finalY+20/D:null}function T(k,E,O){var D=E.head||[],$=E.body||[],I=E.foot||[];if(E.html){var M=E.includeHiddenHtml;if(O){var B=(0,c.parseHtml)(k,E.html,O,M,E.useCss)||{};D=B.head||D,$=B.body||D,I=B.foot||D}else console.error("Cannot parse html in non browser environment")}var F=E.columns||C(D,$,I);return{columns:F,head:D,body:$,foot:I}}function C(k,E,O){var D=k[0]||E[0]||O[0]||[],$=[];return Object.keys(D).filter(function(I){return I!=="_element"}).forEach(function(I){var M=1,B;Array.isArray(D)?B=D[parseInt(I)]:B=D[I],typeof B=="object"&&!Array.isArray(B)&&(M=(B==null?void 0:B.colSpan)||1);for(var F=0;F<M;F++){var G=void 0;Array.isArray(D)?G=$.length:G=I+(F>0?"_".concat(F):"");var R={dataKey:G};$.push(R)}}),$}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,A,v){for(var b=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(I){f.applyStyles(f.userStyles),S.beforePageContent&&S.beforePageContent(I),f.applyStyles(f.userStyles),S.afterPageContent&&S.afterPageContent(I),f.applyStyles(f.userStyles),S.afterPageAdd&&I.pageNumber>1&&I.afterPageAdd(I),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(I){S[I]&&console.error('The "'.concat(I,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(I){var M=I[0],B=I[1];S[B]&&(console.error("Use of deprecated option ".concat(B,". Use ").concat(M," instead")),S[M]=S[B])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(I){var M=typeof I=="string"?I:I[0],B=typeof I=="string"?I:I[1];typeof S[M]<"u"&&(typeof S.styles[B]>"u"&&(S.styles[B]=S[M]),console.error("Use of deprecated option: "+M+", use the style "+B+" instead."))});for(var T=0,C=["styles","bodyStyles","headStyles","footStyles"];T<C.length;T++){var k=C[T];c(S[k]||{})}for(var E=S.columnStyles||{},O=0,D=Object.keys(E);O<D.length;O++){var $=D[O];c(E[$]||{})}},w=0,y=[h,A,v];w<y.length;w++){var x=y[w];b(x)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),h=u(420),A=function(){function y(x,S){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return y.prototype.getHeadHeight=function(x){return this.head.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.getFootHeight=function(x){return this.foot.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(x,S,T,C,k,E){for(var O=0,D=S;O<D.length;O++){var $=D[O],I=new f.CellHookData(x,this,T,C,k,E),M=$(I)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],M)return!1}return!0},y.prototype.callEndPageHooks=function(x,S){x.applyStyles(x.userStyles);for(var T=0,C=this.hooks.didDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.callWillDrawPageHooks=function(x,S){for(var T=0,C=this.hooks.willDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(C,k){return C+k.wrappedWidth},0);return S}else{var T=this.settings.margin;return x-T.left-T.right}},y}();l.Table=A;var v=function(){function y(x,S,T,C,k){k===void 0&&(k=!1),this.height=0,this.raw=x,x instanceof c.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=S,this.section=T,this.cells=C,this.spansMultiplePages=k}return y.prototype.getMaxCellHeight=function(x){var S=this;return x.reduce(function(T,C){var k;return Math.max(T,((k=S.cells[C.index])===null||k===void 0?void 0:k.height)||0)},0)},y.prototype.hasRowSpan=function(x){var S=this;return x.filter(function(T){var C=S.cells[T.index];return C?C.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(x,S){return this.getMaxCellHeight(S)<=x},y.prototype.getMinimumRowHeight=function(x,S){var T=this;return x.reduce(function(C,k){var E=T.cells[k.index];if(!E)return 0;var O=S.getLineHeight(E.styles.fontSize),D=E.padding("vertical"),$=D+O;return $>C?$:C},0)},y}();l.Row=v;var b=function(){function y(x,S,T){var C,k;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=T,this.raw=x;var E=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,E=(k=(C=x.content)!==null&&C!==void 0?C:x.title)!==null&&k!==void 0?k:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var O=E!=null?""+E:"",D=/\r\n|\r|\n/g;this.text=O.split(D)}return y.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");x=this.y+S/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");T=this.x+C/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:x}},y.prototype.getContentHeight=function(x,S){S===void 0&&(S=1.15);var T=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/x*S,k=T*C+this.padding("vertical");return Math.max(k,this.styles.minCellHeight)},y.prototype.padding=function(x){var S=(0,h.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?S.top+S.bottom:x==="horizontal"?S.left+S.right:S[x]},y}();l.Cell=b;var w=function(){function y(x,S,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=S,this.index=T}return y.prototype.getMaxCustomCellWidth=function(x){for(var S=0,T=0,C=x.allRows();T<C.length;T++){var k=C[T],E=k.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(S=Math.max(S,E.styles.cellWidth))}return S},y}();l.Column=w},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,h,A,v){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(c),w=1;w<arguments.length;w++){var y=arguments[w];if(y!=null)for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])}return b}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),h=u(324),A=u(796),v=u(356);function b(k,E){var O=new c.DocHandler(k),D=w(E,O.scaleFactor()),$=new f.Table(E,D);return(0,h.calculateWidths)(O,$),O.applyStyles(O.userStyles),$}l.createTable=b;function w(k,E){var O=k.content,D=T(O.columns);if(O.head.length===0){var $=x(D,"head");$&&O.head.push($)}if(O.foot.length===0){var $=x(D,"foot");$&&O.foot.push($)}var I=k.settings.theme,M=k.styles;return{columns:D,head:y("head",O.head,D,M,I,E),body:y("body",O.body,D,M,I,E),foot:y("foot",O.foot,D,M,I,E)}}function y(k,E,O,D,$,I){var M={},B=E.map(function(F,G){for(var R=0,U={},V=0,K=0,ee=0,le=O;ee<le.length;ee++){var j=le[ee];if(M[j.index]==null||M[j.index].left===0)if(K===0){var z=void 0;Array.isArray(F)?z=F[j.index-V-R]:z=F[j.dataKey];var Q={};typeof z=="object"&&!Array.isArray(z)&&(Q=(z==null?void 0:z.styles)||{});var te=C(k,j,G,$,D,I,Q),J=new f.Cell(z,te,k);U[j.dataKey]=J,U[j.index]=J,K=J.colSpan-1,M[j.index]={left:J.rowSpan-1,times:K}}else K--,V++;else M[j.index].left--,K=M[j.index].times,R++}return new f.Row(F,G,k,U)});return B}function x(k,E){var O={};return k.forEach(function(D){if(D.raw!=null){var $=S(E,D.raw);$!=null&&(O[D.dataKey]=$)}}),Object.keys(O).length>0?O:null}function S(k,E){if(k==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(k==="foot"&&typeof E=="object")return E.footer;return null}function T(k){return k.map(function(E,O){var D,$,I;return typeof E=="object"?I=($=(D=E.dataKey)!==null&&D!==void 0?D:E.key)!==null&&$!==void 0?$:O:I=O,new f.Column(I,E,O)})}function C(k,E,O,D,$,I,M){var B=(0,A.getTheme)(D),F;k==="head"?F=$.headStyles:k==="body"?F=$.bodyStyles:k==="foot"&&(F=$.footStyles);var G=(0,v.assign)({},B.table,B[k],$.styles,F),R=$.columnStyles[E.dataKey]||$.columnStyles[E.index]||{},U=k==="body"?R:{},V=k==="body"&&O%2===0?(0,v.assign)({},B.alternateRow,$.alternateRowStyles):{},K=(0,A.defaultStyles)(I),ee=(0,v.assign)({},K,G,V,U);return(0,v.assign)(ee,M)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),h=u(744),A=u(356),v=u(136),b=u(224);function w(R,U){var V=U.settings,K=V.startY,ee=V.margin,le={x:ee.left,y:K},j=U.getHeadHeight(U.columns)+U.getFootHeight(U.columns),z=K+ee.bottom+j;if(V.pageBreak==="avoid"){var Q=U.body,te=Q.reduce(function(ue,re){return ue+re.height},0);z+=te}var J=new h.DocHandler(R);(V.pageBreak==="always"||V.startY!=null&&z>J.pageSize().height)&&(G(J),le.y=ee.top),U.callWillDrawPageHooks(J,le);var se=(0,A.assign)({},le);U.startPageNumber=J.pageNumber(),V.horizontalPageBreak?y(J,U,se,le):(J.applyStyles(J.userStyles),(V.showHead==="firstPage"||V.showHead==="everyPage")&&U.head.forEach(function(ue){return $(J,U,ue,le,U.columns)}),J.applyStyles(J.userStyles),U.body.forEach(function(ue,re){var be=re===U.body.length-1;D(J,U,ue,be,se,le,U.columns)}),J.applyStyles(J.userStyles),(V.showFoot==="lastPage"||V.showFoot==="everyPage")&&U.foot.forEach(function(ue){return $(J,U,ue,le,U.columns)})),(0,c.addTableBorder)(J,U,se,le),U.callEndPageHooks(J,le),U.finalY=le.y,R.lastAutoTable=U,R.previousAutoTable=U,R.autoTable&&(R.autoTable.previous=U),J.applyStyles(J.userStyles)}l.drawTable=w;function y(R,U,V,K){var ee=(0,b.calculateAllColumnsCanFitInPage)(R,U),le=U.settings;if(le.horizontalPageBreakBehaviour==="afterAllRows")ee.forEach(function(te,J){R.applyStyles(R.userStyles),J>0?F(R,U,V,K,te.columns,!0):x(R,U,K,te.columns),S(R,U,V,K,te.columns),C(R,U,K,te.columns)});else for(var j=-1,z=ee[0],Q=function(){var te=j;if(z){R.applyStyles(R.userStyles);var J=z.columns;j>=0?F(R,U,V,K,J,!0):x(R,U,K,J),te=T(R,U,j+1,K,J),C(R,U,K,J)}var se=te-j;ee.slice(1).forEach(function(ue){R.applyStyles(R.userStyles),F(R,U,V,K,ue.columns,!0),T(R,U,j+1,K,ue.columns,se),C(R,U,K,ue.columns)}),j=te};j<U.body.length-1;)Q()}function x(R,U,V,K){var ee=U.settings;R.applyStyles(R.userStyles),(ee.showHead==="firstPage"||ee.showHead==="everyPage")&&U.head.forEach(function(le){return $(R,U,le,V,K)})}function S(R,U,V,K,ee){R.applyStyles(R.userStyles),U.body.forEach(function(le,j){var z=j===U.body.length-1;D(R,U,le,z,V,K,ee)})}function T(R,U,V,K,ee,le){R.applyStyles(R.userStyles),le=le??U.body.length;var j=Math.min(V+le,U.body.length),z=-1;return U.body.slice(V,j).forEach(function(Q,te){var J=V+te===U.body.length-1,se=B(R,U,J,K);Q.canEntireRowFit(se,ee)&&($(R,U,Q,K,ee),z=V+te)}),z}function C(R,U,V,K){var ee=U.settings;R.applyStyles(R.userStyles),(ee.showFoot==="lastPage"||ee.showFoot==="everyPage")&&U.foot.forEach(function(le){return $(R,U,le,V,K)})}function k(R,U,V){var K=V.getLineHeight(R.styles.fontSize),ee=R.padding("vertical"),le=Math.floor((U-ee)/K);return Math.max(0,le)}function E(R,U,V,K){var ee={};R.spansMultiplePages=!0,R.height=0;for(var le=0,j=0,z=V.columns;j<z.length;j++){var Q=z[j],te=R.cells[Q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var J=new f.Cell(te.raw,te.styles,te.section);J=(0,A.assign)(J,te),J.text=[];var se=k(te,U,K);te.text.length>se&&(J.text=te.text.splice(se,te.text.length));var ue=K.scaleFactor(),re=K.getLineHeightFactor();te.contentHeight=te.getContentHeight(ue,re),te.contentHeight>=U&&(te.contentHeight=U,J.styles.minCellHeight-=U),te.contentHeight>R.height&&(R.height=te.contentHeight),J.contentHeight=J.getContentHeight(ue,re),J.contentHeight>le&&(le=J.contentHeight),ee[Q.index]=J}}var be=new f.Row(R.raw,-1,R.section,ee,!0);be.height=le;for(var _e=0,fe=V.columns;_e<fe.length;_e++){var Q=fe[_e],J=be.cells[Q.index];J&&(J.height=be.height);var te=R.cells[Q.index];te&&(te.height=R.height)}return be}function O(R,U,V,K){var ee=R.pageSize().height,le=K.settings.margin,j=le.top+le.bottom,z=ee-j;U.section==="body"&&(z-=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns));var Q=U.getMinimumRowHeight(K.columns,R),te=Q<V;if(Q>z)return console.error("Will not be able to print row ".concat(U.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var J=U.hasRowSpan(K.columns),se=U.getMaxCellHeight(K.columns)>z;return se?(J&&console.error("The content of row ".concat(U.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(J||K.settings.rowPageBreak==="avoid")}function D(R,U,V,K,ee,le,j){var z=B(R,U,K,le);if(V.canEntireRowFit(z,j))$(R,U,V,le,j);else if(O(R,V,z,U)){var Q=E(V,z,U,R);$(R,U,V,le,j),F(R,U,ee,le,j),D(R,U,Q,K,ee,le,j)}else F(R,U,ee,le,j),D(R,U,V,K,ee,le,j)}function $(R,U,V,K,ee){K.x=U.settings.margin.left;for(var le=0,j=ee;le<j.length;le++){var z=j[le],Q=V.cells[z.index];if(!Q){K.x+=z.width;continue}R.applyStyles(Q.styles),Q.x=K.x,Q.y=K.y;var te=U.callCellHooks(R,U.hooks.willDrawCell,Q,V,z,K);if(te===!1){K.x+=z.width;continue}I(R,Q,K);var J=Q.getTextPos();(0,v.default)(Q.text,J.x,J.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},R.getDocument()),U.callCellHooks(R,U.hooks.didDrawCell,Q,V,z,K),K.x+=z.width}K.y+=V.height}function I(R,U,V){var K=U.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof K.lineWidth=="number"){var ee=(0,c.getFillStyle)(K.lineWidth,K.fillColor);ee&&R.rect(U.x,V.y,U.width,U.height,ee)}else typeof K.lineWidth=="object"&&(K.fillColor&&R.rect(U.x,V.y,U.width,U.height,"F"),M(R,U,V,K.lineWidth))}function M(R,U,V,K){var ee,le,j,z;K.top&&(ee=V.x,le=V.y,j=V.x+U.width,z=V.y,K.right&&(j+=.5*K.right),K.left&&(ee-=.5*K.left),Q(K.top,ee,le,j,z)),K.bottom&&(ee=V.x,le=V.y+U.height,j=V.x+U.width,z=V.y+U.height,K.right&&(j+=.5*K.right),K.left&&(ee-=.5*K.left),Q(K.bottom,ee,le,j,z)),K.left&&(ee=V.x,le=V.y,j=V.x,z=V.y+U.height,K.top&&(le-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.left,ee,le,j,z)),K.right&&(ee=V.x+U.width,le=V.y,j=V.x+U.width,z=V.y+U.height,K.top&&(le-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.right,ee,le,j,z));function Q(te,J,se,ue,re){R.getDocument().setLineWidth(te),R.getDocument().line(J,se,ue,re,"S")}}function B(R,U,V,K){var ee=U.settings.margin.bottom,le=U.settings.showFoot;return(le==="everyPage"||le==="lastPage"&&V)&&(ee+=U.getFootHeight(U.columns)),R.pageSize().height-K.y-ee}function F(R,U,V,K,ee,le){ee===void 0&&(ee=[]),le===void 0&&(le=!1),R.applyStyles(R.userStyles),U.settings.showFoot==="everyPage"&&!le&&U.foot.forEach(function(z){return $(R,U,z,K,ee)}),U.callEndPageHooks(R,K);var j=U.settings.margin;(0,c.addTableBorder)(R,U,V,K),G(R),U.pageNumber++,U.pageCount++,K.x=j.left,K.y=j.top,V.y=j.top,U.callWillDrawPageHooks(R,K),U.settings.showHead==="everyPage"&&(U.head.forEach(function(z){return $(R,U,z,K,ee)}),R.applyStyles(R.userStyles))}l.addPage=F;function G(R){var U=R.pageNumber();R.setPage(U+1);var V=R.pageNumber();return V===U?(R.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(A,v,b){var w;b===void 0&&(b={});var y=(0,c.getPageAvailableWidth)(A,v),x=new Map,S=[],T=[],C=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?C=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(C=[v.settings.horizontalPageBreakRepeat]),C.forEach(function(D){var $=v.columns.find(function(I){return I.dataKey===D||I.index===D});$&&!x.has($.index)&&(x.set($.index,!0),S.push($.index),T.push(v.columns[$.index]),y-=$.wrappedWidth)});for(var k=!0,E=(w=b==null?void 0:b.start)!==null&&w!==void 0?w:0;E<v.columns.length;){if(x.has(E)){E++;continue}var O=v.columns[E].wrappedWidth;if(k||y>=O)k=!1,S.push(E),T.push(v.columns[E]),y-=O;else break;E++}return{colIndexes:S,columns:T,lastIndex:E-1}}function h(A,v){for(var b=[],w=0;w<v.columns.length;w++){var y=f(A,v,{start:w});y.columns.length&&(b.push(y),w=y.lastIndex)}return b}l.calculateAllColumnsCanFitInPage=h},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(S,T){h(S,T);var C=[],k=0;T.columns.forEach(function(O){var D=O.getMaxCustomCellWidth(T);D?O.width=D:(O.width=O.wrappedWidth,C.push(O)),k+=O.width});var E=T.getWidth(S.pageSize().width)-k;E&&(E=A(C,E,function(O){return Math.max(O.minReadableWidth,O.minWidth)})),E&&(E=A(C,E,function(O){return O.minWidth})),E=Math.abs(E),!T.settings.horizontalPageBreak&&E>.1/S.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),b(T),w(T,S),v(T)}l.calculateWidths=f;function h(S,T){var C=S.scaleFactor(),k=T.settings.horizontalPageBreak,E=(0,c.getPageAvailableWidth)(S,T);T.allRows().forEach(function(O){for(var D=0,$=T.columns;D<$.length;D++){var I=$[D],M=O.cells[I.index];if(M){var B=T.hooks.didParseCell;T.callCellHooks(S,B,M,O,I,null);var F=M.padding("horizontal");M.contentWidth=(0,c.getStringWidth)(M.text,M.styles,S)+F;var G=(0,c.getStringWidth)(M.text.join(" ").split(/[^\S\u00A0]+/),M.styles,S);if(M.minReadableWidth=G+M.padding("horizontal"),typeof M.styles.cellWidth=="number")M.minWidth=M.styles.cellWidth,M.wrappedWidth=M.styles.cellWidth;else if(M.styles.cellWidth==="wrap"||k===!0)M.contentWidth>E?(M.minWidth=E,M.wrappedWidth=E):(M.minWidth=M.contentWidth,M.wrappedWidth=M.contentWidth);else{var R=10/C;M.minWidth=M.styles.minCellWidth||R,M.wrappedWidth=M.contentWidth,M.minWidth>M.wrappedWidth&&(M.wrappedWidth=M.minWidth)}}}}),T.allRows().forEach(function(O){for(var D=0,$=T.columns;D<$.length;D++){var I=$[D],M=O.cells[I.index];if(M&&M.colSpan===1)I.wrappedWidth=Math.max(I.wrappedWidth,M.wrappedWidth),I.minWidth=Math.max(I.minWidth,M.minWidth),I.minReadableWidth=Math.max(I.minReadableWidth,M.minReadableWidth);else{var B=T.styles.columnStyles[I.dataKey]||T.styles.columnStyles[I.index]||{},F=B.cellWidth||B.minCellWidth;F&&typeof F=="number"&&(I.minWidth=F,I.wrappedWidth=F)}M&&(M.colSpan>1&&!I.minWidth&&(I.minWidth=M.minWidth),M.colSpan>1&&!I.wrappedWidth&&(I.wrappedWidth=M.minWidth))}})}function A(S,T,C){for(var k=T,E=S.reduce(function(R,U){return R+U.wrappedWidth},0),O=0;O<S.length;O++){var D=S[O],$=D.wrappedWidth/E,I=k*$,M=D.width+I,B=C(D),F=M<B?B:M;T-=F-D.width,D.width=F}if(T=Math.round(T*1e10)/1e10,T){var G=S.filter(function(R){return T<0?R.width>C(R):!0});G.length&&(T=A(G,T,C))}return T}l.resizeColumns=A;function v(S){for(var T={},C=1,k=S.allRows(),E=0;E<k.length;E++)for(var O=k[E],D=0,$=S.columns;D<$.length;D++){var I=$[D],M=T[I.index];if(C>1)C--,delete O.cells[I.index];else if(M)M.cell.height+=O.height,C=M.cell.colSpan,delete O.cells[I.index],M.left--,M.left<=1&&delete T[I.index];else{var B=O.cells[I.index];if(!B)continue;if(B.height=O.height,B.rowSpan>1){var F=k.length-E,G=B.rowSpan>F?F:B.rowSpan;T[I.index]={cell:B,left:G,row:O}}}}}function b(S){for(var T=S.allRows(),C=0;C<T.length;C++)for(var k=T[C],E=null,O=0,D=0,$=0;$<S.columns.length;$++){var I=S.columns[$];if(D-=1,D>1&&S.columns[$+1])O+=I.width,delete k.cells[I.index];else if(E){var M=E;delete k.cells[I.index],E=null,M.width=I.width+O}else{var M=k.cells[I.index];if(!M)continue;if(D=M.colSpan,O=0,M.colSpan>1){E=M,O+=I.width;continue}M.width=I.width+O}}}function w(S,T){for(var C={count:0,height:0},k=0,E=S.allRows();k<E.length;k++){for(var O=E[k],D=0,$=S.columns;D<$.length;D++){var I=$[D],M=O.cells[I.index];if(M){T.applyStyles(M.styles,!0);var B=M.width-M.padding("horizontal");if(M.styles.overflow==="linebreak")M.text=T.splitTextToSize(M.text,B+1/T.scaleFactor(),{fontSize:M.styles.fontSize});else if(M.styles.overflow==="ellipsize")M.text=y(M.text,B,M.styles,T,"...");else if(M.styles.overflow==="hidden")M.text=y(M.text,B,M.styles,T,"");else if(typeof M.styles.overflow=="function"){var F=M.styles.overflow(M.text,B);typeof F=="string"?M.text=[F]:M.text=F}M.contentHeight=M.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var G=M.contentHeight/M.rowSpan;M.rowSpan>1&&C.count*C.height<G*M.rowSpan?C={height:G,count:M.rowSpan}:C&&C.count>0&&C.height>G&&(G=C.height),G>O.height&&(O.height=G)}}C.count--}}function y(S,T,C,k,E){return S.map(function(O){return x(O,T,C,k,E)})}l.ellipsize=y;function x(S,T,C,k,E){var O=1e4*k.scaleFactor();if(T=Math.ceil(T*O)/O,T>=(0,c.getStringWidth)(S,C,k))return S;for(;T<(0,c.getStringWidth)(S+E,C,k)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+E}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),h=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return h.Table}});var A=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return A.CellHookData}});var v=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return v.Row}});function b(T){(0,l.default)(T)}s.applyPlugin=b;function w(T,C){var k=(0,u.parseInput)(T,C),E=(0,f.createTable)(T,k);(0,c.drawTable)(T,E)}function y(T,C){var k=(0,u.parseInput)(T,C);return(0,f.createTable)(T,k)}s.__createTable=y;function x(T,C){(0,c.drawTable)(T,C)}s.__drawTable=x;try{var S=a(964);S.jsPDF&&(S=S.jsPDF),b(S)}catch{}s.default=w}(),o}()})})(QI);var pJ=QI.exports;const ZI=Xt(pJ),u1="data:application/font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAAAAQAAAAIAAAGDAAAAAAFT1MvMg8SDzQAAAZgAAAAYGNtYXABDQGXAAAIJAAAAOpnYXNw//8AAwAAGYQAAAAIZ2x5ZgscA3UAABmUAAE4YGhlYWQG41YJAAA8ZAAAADZoaGVhA+IB6AAAAD3sAAAAJGhtdHgAewYIAAABQAAAALRsb2NhAIwBqAAAE0gAAAFQbWF4cAIgA2gAAD4UAAAAIG5hbWXLh+9IAAAR0AAAAYdwb3N0/5wAMQAAFUgAAAAgcHJlcGgGjIUDAAAY/AAAAFMAAQAAAAEAAC7a32BfDzz1AAsEAAAAAADbB8BSAAAAANsHwFIAAAAAAIAAAACAAAAAwAAABQAAwABAAAAFAAEAEAAAAAMAAgAAgAEAAEAIOkB//8AAOkg///+8wDsAPAAAwAAAAAAAAECAAAAAAAAAAAAAAICAAUAAAAAAAAAAAAAAAACAAEAAgAGAAgAAwABBAkAAQACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAIAAwABBAkAAgACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAgAAAAAAAAAAAACACgAAAAAAAoAP8AwADgAAAAAAAAAAAAAAMwAZAAAAAAAAABkAUAAAAAAAAAAAAAAAACQAZAAAAAAAAAAQADgAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAUAFQAAAAAAAAAAAAAABgAYAAAAAAAAAAAAAAAHABsAAAAAAAAAAAAAAAgAIAAAAAAAAAAAAAAACQAhAAAAAAAAAAAAAAAKACMAAAAAAAAAAAAAAAsAKgAAAAAAAAAAAAAADAAqAAAAAAAAAAAAAAANACwAAAAAAAAAAAAAAA4ALgAAAAAAAAAAAAAADwAvAAAAAAAAAAAAAAABAAAADgAAAAAAAAAAAAAAAQAIAAIAAAAAAAAAAgAAAAEAAQABAAAAAgAAAAIAAgABAAIAAgACAAEAAgACAAIAAgACAAEAAwACAAQAAwACAAQABQADAAYAAgAHAAkABQAIAAgACQAJAAoACQALAAkADAAJAA0ACQAOAAkADwAJABAACQARAAkAEgAJABMACQAUAAkAFQAJABYACQAXAAkAGAACABkACgAaAAoAGwAKABwACgAdAAoAHgAKAB8ACgAgAAoAIQAKACQAKgAlACoAJgAqACcAKgAoACoAKQAqACoAKgArACoALAAsAC0ALAAuACwALwAsADAALAAxACwAMgAsADMALAA0ACwANQAsADYALAA3ACwAOAAsADkALAA6ACwAOwAsADwALAA9ACwAPgAsAD8ALAA/ACwAQAB/AEIAfwBDAH8ARAB/AEUAfwBGAH8ARwB/AEgAQQBBAEIAQQBDAEEARABBAEUAQQBGAEEARwBBAEgAQgBIAEMASABEAEMASQBGAEcASABHAEgASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBsAG0AbgBvAHAAcQByAHMAdAB1AGMAAAAABgADAPgACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAdG9wZQAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAMjAwMjAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAACAAQAAAPgA8AD8ARABIAFoAYABqAHQAgACSAKwAwADcAOwA8AEAARgBKAE4AUQBXAFsAXgBiAGcAbQBzAHkAfACKAJYAnQCqAK8AsgC4ALsAxADFAMcAzgDQANUA2ADbAN8A4wDnAPcA+gD/AQUA7QDvAPEA8wD1APgA+wD9AP8BBAEEAQwBFQEaASQBKwEyATYBOgE+AUIDQgNGA0oDTgNSA1YDWgNeA2IDZgNqA24DcQN2A3kDfgOAA4QDiAOOA5IDlAOYA5wDoAOmA6oDrgOyA7YDuwPCA8YDyQPOBAAECgQWBBwEIgQoBDIEOgRABEYEUARWBFwEZAQAAAQAAAAAAAAAAAAAAAAAB/8AAQAHAAABAAAAAAAAAAAAAAAAABoBAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAABAAADAPgAAwADAPgAAQADAPgABQADAPgA//8ABQAAAAAAAAACAAYAAAAUAAEAAAABAAIAAAAAAAAAAQAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-Regular.ttf",eD=(t,e)=>{try{if(!u1||!u1.includes(","))throw new Error("Invalid font data URI");const n=u1.split(",")[1];t.addFileToVFS("Amiri-Regular.ttf",n),t.addFont("Amiri-Regular.ttf","Amiri","normal"),t.setFont("Amiri")}catch(n){console.error("Error loading custom font for PDF, falling back to default.",n),t.setFont("helvetica")}},Wl=(t,e,n,r,i,a)=>{if(n.length===0){alert(a);return}const o=new ft;eD(o),o.setFontSize(18);const s=o.internal.pageSize.getWidth();o.text(t,s/2,20,{align:"center"}),ZI(o,{head:[e],body:n,startY:30,theme:"grid",styles:{font:"Amiri",halign:i==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}});const l=new Date().toLocaleDateString(i.split("-")[0]);o.save(`${r}_${l}.pdf`)},jm=(t,e,n)=>{const r=new Date;let i=null,a=new Date;switch(a.setHours(23,59,59,999),e){case"today":i=new Date(r.setHours(0,0,0,0));break;case"week":i=new Date(r),i.setDate(r.getDate()-r.getDay()+(r.getDay()===0?-6:1)),i.setHours(0,0,0,0);break;case"month":i=new Date(r.getFullYear(),r.getMonth(),1);break;case"custom":i=n.start?new Date(n.start):null,a=n.end?new Date(n.end):null,i&&i.setHours(0,0,0,0),a&&a.setHours(23,59,59,999);break;default:return t}return t.filter(o=>{const s=new Date(o.date),l=i?s>=i:!0,u=a?s<=a:!0;return l&&u})},AJ=({variant:t,product:e,onDone:n,t:r})=>(oe.useEffect(()=>{const i=()=>{window.removeEventListener("afterprint",i),n()};window.addEventListener("afterprint",i);const a=setTimeout(()=>{i()},500);return window.print(),()=>{clearTimeout(a),window.removeEventListener("afterprint",i)}},[n]),t.barcode?m.jsx("div",{id:"printable-barcode",className:"p-2 bg-white text-black font-sans",style:{width:"80mm",height:"40mm",boxSizing:"border-box"},children:m.jsxs("div",{className:"border border-black p-2 h-full flex flex-col justify-between items-center text-center",children:[m.jsxs("div",{className:"w-full",children:[m.jsx("p",{className:"font-bold text-lg truncate",children:e.name}),m.jsx("p",{className:"text-sm truncate",children:t.name})]}),m.jsxs("div",{className:"w-full my-1",children:[m.jsx("div",{className:"flex justify-center items-end h-10 overflow-hidden",children:t.barcode.split("").map((i,a)=>m.jsx("div",{className:"bg-black",style:{width:`${parseInt(i,16)%3+1}px`,height:`${parseInt(i,16)%40+40}%`}},a))}),m.jsx("p",{className:"font-mono tracking-widest text-lg mt-1",children:t.barcode})]}),m.jsxs("p",{className:"font-extrabold text-xl",children:[t.price.toFixed(2)," DH"]})]})}):null),mJ=({product:t,variants:e,onClose:n,onSave:r,t:i})=>{const[a,o]=oe.useState(""),[s,l]=oe.useState(1),[u,c]=oe.useState(0),[f,h]=oe.useState(0);oe.useEffect(()=>{e.length===1&&o(e[0].id)},[e]),oe.useEffect(()=>{const v=e.find(b=>b.id===a);v?(c(v.purchasePrice),h(v.price),l(1)):(c(0),h(0),l(1))},[a,e]);const A=v=>{if(v.preventDefault(),!a||s===""||s<=0||u===""||u<0||f===""||f<=0){alert(i("fillAllFieldsError"));return}if(f<=u){alert(i("sellingPriceMustBeHigherError"));return}r({variantId:a,quantity:s,purchasePrice:u,sellingPrice:f})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:i("addStockFor",{name:t.name})}),m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"variant",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("selectVariant")}),m.jsxs("select",{id:"variant",value:a,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,children:[m.jsx("option",{value:"",disabled:!0,children:i("selectVariant")}),e.map(v=>m.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("quantityToAdd")}),m.jsx("input",{id:"quantity",type:"number",value:s,onChange:v=>l(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("purchasePrice")}),m.jsx("input",{id:"purchasePrice",type:"number",value:u,onChange:v=>c(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"sellingPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("sellingPrice")}),m.jsx("input",{id:"sellingPrice",type:"number",value:f,onChange:v=>h(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{type:"submit",disabled:!a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400 dark:disabled:bg-slate-500",children:i("save")})]})]})]})})},c1=20,gJ=({storeId:t,products:e,variants:n,suppliers:r,categories:i,stockMap:a,addProduct:o,updateProduct:s,deleteProduct:l,addStockToVariant:u,t:c,language:f})=>{const[h,A]=oe.useState(!1),[v,b]=oe.useState(null),[w,y]=oe.useState(null),[x,S]=oe.useState(""),[T,C]=oe.useState(""),[k,E]=oe.useState(""),[O,D]=oe.useState(""),[$,I]=oe.useState([]),[M,B]=oe.useState([]),[F,G]=oe.useState(""),[R,U]=oe.useState(null),[V,K]=oe.useState({}),ee=oe.useMemo(()=>{const Te=new Map;return n.forEach(Ce=>{const ve=Te.get(Ce.productId)||[];ve.push(Ce),Te.set(Ce.productId,ve)}),Te},[n]),le=oe.useMemo(()=>{if(!F)return e;const Te=F.toLowerCase(),Ce=new Set(e.filter(Ne=>Ne.name.toLowerCase().includes(Te)).map(Ne=>Ne.id)),ve=new Set(i.filter(Ne=>Ne.name.toLowerCase().includes(Te)).map(Ne=>Ne.id));return e.filter(Ne=>Ce.has(Ne.id)||Ne.categoryId&&ve.has(Ne.categoryId))},[F,e,i]);oe.useEffect(()=>{if(F){const Te=new Set(le.map(Ce=>Ce.categoryId||"uncategorized"));B(Array.from(Te))}else B([]);K({})},[F,le]);const j=Te=>{B(Ce=>Ce.includes(Te)?Ce.filter(ve=>ve!==Te):[...Ce,Te])},z=()=>{A(!1),b(null),S(""),C(""),E(""),D(""),I([]);const Te=document.getElementById("productImageFile");Te&&(Te.value="")},Q=Te=>{var Ce;A(!0),b(Te),S(Te.name),C(Te.categoryId||""),E(Te.supplierId||""),D(Te.image),I(((Ce=ee.get(Te.id))==null?void 0:Ce.map(ve=>({...ve,priceSemiWholesale:ve.priceSemiWholesale||0,priceWholesale:ve.priceWholesale||0,stockQuantity:a.get(ve.id)||0})))||[]),window.scrollTo({top:0,behavior:"smooth"})},te=Te=>{if(Te.target.files&&Te.target.files[0]){const Ce=Te.target.files[0],ve=new FileReader;ve.onloadend=()=>D(ve.result),ve.readAsDataURL(Ce)}},J=(Te,Ce,ve)=>{const Ne=[...$];Ne[Te][Ce]=ve,I(Ne)},se=(Te,Ce)=>{if(Ce.target.files&&Ce.target.files[0]){const ve=Ce.target.files[0],Ne=new FileReader;Ne.onloadend=()=>{const Ue=[...$];Ue[Te].image=Ne.result,I(Ue)},Ne.readAsDataURL(ve)}},ue=()=>{I([...$,{name:"",price:0,priceSemiWholesale:0,priceWholesale:0,purchasePrice:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:0}])},re=Te=>{I($.filter((Ce,ve)=>ve!==Te))},be=async Te=>{if(Te.preventDefault(),!x||$.length===0){alert(c("fillNameAndPriceError"));return}for(const Ce of $){if(!Ce.name||Ce.price<=0){alert(c("fillNameAndPriceError"));return}if(Ce.price<=Ce.purchasePrice){alert(c("sellingPriceMustBeHigherError"));return}}if(h&&v){const Ce={...v,name:x,categoryId:T||void 0,supplierId:k||void 0,image:O||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`};await s(Ce,$)}else{const Ce={storeId:t,name:x,type:"good",categoryId:T||void 0,supplierId:k||void 0,image:O||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`,createdAt:new Date().toISOString()},ve=$.map(({stockQuantity:Ne,...Ue})=>Ue);await o(Ce,ve)}z()},_e=async Te=>{window.confirm(c("confirmProductDelete"))&&await l(Te)},fe=()=>{const Te=[c("productName"),c("variantName"),c("price"),c("purchasePrice"),c("stock"),c("barcode"),c("categories"),c("suppliers")],Ce=n.map(ve=>{var Ue,He;const Ne=e.find(ge=>ge.id===ve.productId);return[(Ne==null?void 0:Ne.name)||"N/A",ve.name,ve.price,ve.purchasePrice,a.get(ve.id)||0,ve.barcode||"N/A",((Ue=i.find(ge=>ge.id===(Ne==null?void 0:Ne.categoryId)))==null?void 0:Ue.name)||"N/A",((He=r.find(ge=>ge.id===(Ne==null?void 0:Ne.supplierId)))==null?void 0:He.name)||"N/A"]});Wl(c("productList"),Te,Ce,"products_with_variants",f,c("noDataToExport"))},De=async Te=>{w&&(await u({...Te,supplierId:w.supplierId}),y(null))},Fe=R?e.find(Te=>Te.id===R.productId):null,Se=Te=>Te.map(Ce=>{const ve=ee.get(Ce.id)||[];return m.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[m.jsxs("div",{className:"flex items-center gap-3 md:col-span-5",children:[m.jsx("img",{src:Ce.image,alt:Ce.name,className:"w-12 h-12 object-cover rounded-md bg-gray-200"}),m.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:Ce.name})]}),m.jsx("div",{className:"md:col-span-5",children:ve.length>0?m.jsxs("details",{children:[m.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-teal-700 dark:text-teal-400",children:[ve.length," ",c("variants")]}),m.jsx("ul",{className:"mt-2 space-y-2",children:ve.map(Ne=>m.jsxs("li",{className:"flex items-center gap-3 text-xs p-1 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[m.jsx("img",{src:Ne.image,alt:Ne.name,className:"w-8 h-8 rounded-md object-cover bg-gray-200"}),m.jsx("span",{className:"flex-grow font-semibold text-slate-600 dark:text-slate-300",children:Ne.name}),m.jsxs("span",{className:"font-mono text-cyan-700 dark:text-cyan-400",children:[Ne.price.toFixed(2)," DH"]}),m.jsxs("span",{className:`px-2 py-0.5 font-medium rounded-full text-xs ${(a.get(Ne.id)||0)>Ne.lowStockThreshold?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[c("stock"),": ",a.get(Ne.id)||0]}),Ne.barcode&&m.jsx("button",{onClick:()=>U(Ne),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:c("printBarcodeLabel"),children:m.jsx(zO,{className:"w-5 h-5"})})]},Ne.id))})]}):m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:c("noVariants")})}),m.jsxs("div",{className:"flex items-center gap-2 justify-end md:col-span-2",children:[m.jsx("button",{onClick:()=>y(Ce),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:c("addStock"),children:m.jsx(nf,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Q(Ce),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(vv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>_e(Ce.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx($i,{className:"w-5 h-5"})})]})]},Ce.id)}),ie=(Te,Ce)=>{const ve=Te.length;if(ve===0&&Ce==="uncategorized")return null;if(ve===0)return m.jsx("p",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:c("noProductsInCategory")});const Ne=V[Ce]||1,Ue=Math.ceil(ve/c1),He=(Ne-1)*c1,ge=He+c1,Ie=Te.slice(He,ge),Oe=Xe=>{Xe<1||Xe>Ue||K(ut=>({...ut,[Ce]:Xe}))};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Se(Ie)}),Ue>1&&m.jsxs("div",{className:"p-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[m.jsx("button",{onClick:()=>Oe(Ne-1),disabled:Ne===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("previous"),children:m.jsx(cA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",Ne," / ",Ue]}),m.jsx("button",{onClick:()=>Oe(Ne+1),disabled:Ne===Ue,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("next"),children:m.jsx(uA,{className:"w-5 h-5"})})]})]})};return m.jsxs("div",{className:"space-y-6",children:[R&&Fe&&m.jsx(AJ,{variant:R,product:Fe,onDone:()=>U(null),t:c}),w&&m.jsx(mJ,{product:w,variants:ee.get(w.id)||[],onClose:()=>y(null),onSave:De,t:c}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:c(h?"editProduct":"addNewProduct")}),h&&m.jsx("button",{onClick:z,className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:c("cancel")})]}),m.jsxs("form",{onSubmit:be,className:"space-y-6",children:[m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:c("productInfo")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:O||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${c("productImagePreview")}`,alt:c("productImagePreview"),className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",id:"productImageFile",accept:"image/*",onChange:te,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("productName")}),m.jsx("input",{type:"text",value:x,onChange:Te=>S(Te.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:c("productNamePlaceholder"),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("categories")}),m.jsxs("select",{value:T,onChange:Te=>C(Te.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectCategory")}),i.map(Te=>m.jsx("option",{value:Te.id,children:Te.name},Te.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("suppliers")}),m.jsxs("select",{value:k,onChange:Te=>E(Te.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectSupplier")}),r.map(Te=>m.jsx("option",{value:Te.id,children:Te.name},Te.id))]})]})]})]})]}),m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:c("productVariants")}),m.jsxs("button",{type:"button",onClick:ue,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(nf,{className:"w-5 h-5"}),c("addVariant")]})]}),m.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:$.map((Te,Ce)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 relative",children:[m.jsx("button",{type:"button",onClick:()=>re(Ce),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:m.jsx($i,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:Te.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${encodeURIComponent(c("variants"))}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:ve=>se(Ce,ve),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("variantName")}),m.jsx("input",{type:"text",value:Te.name,onChange:ve=>J(Ce,"name",ve.target.value),placeholder:c("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("purchasePrice")}),m.jsx("input",{type:"number",value:Te.purchasePrice,onChange:ve=>J(Ce,"purchasePrice",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("sellingPrice")}),m.jsx("input",{type:"number",value:Te.price,onChange:ve=>J(Ce,"price",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("semiWholesalePrice")}),m.jsx("input",{type:"number",value:Te.priceSemiWholesale||"",onChange:ve=>J(Ce,"priceSemiWholesale",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("wholesalePrice")}),m.jsx("input",{type:"number",value:Te.priceWholesale||"",onChange:ve=>J(Ce,"priceWholesale",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("stockQuantity")}),m.jsx("input",{type:"number",value:Te.stockQuantity,onChange:ve=>J(Ce,"stockQuantity",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("lowStockThreshold")}),m.jsx("input",{type:"number",value:Te.lowStockThreshold,onChange:ve=>J(Ce,"lowStockThreshold",parseFloat(ve.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.5"})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("barcode")}),m.jsx("input",{type:"text",value:Te.barcode||"",onChange:ve=>J(Ce,"barcode",ve.target.value),placeholder:c("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]})]})]})]},Ce))})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg",children:c(h?"saveChanges":"saveProduct")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("productList")}),m.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[m.jsxs("button",{onClick:()=>{z(),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(nf,{className:"w-4 h-4"})," ",c("addNewProduct")]}),m.jsxs("div",{className:"relative flex-grow",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center pl-3 rtl:pl-0 rtl:pr-3 pointer-events-none",children:m.jsx(oF,{className:"w-5 h-5 text-slate-400"})}),m.jsx("input",{type:"text",placeholder:c("searchProducts"),value:F,onChange:Te=>G(Te.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 rtl:pr-10 rtl:pl-4 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-2 focus:ring-teal-500 transition"})]}),m.jsxs("button",{onClick:fe,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(ra,{className:"w-4 h-4"})," ",c("exportToPdf")]})]})]}),m.jsxs("div",{className:"mt-6 space-y-3",children:[i.map(Te=>{const Ce=le.filter(Ne=>Ne.categoryId===Te.id);if(Ce.length===0)return null;const ve=M.includes(Te.id);return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>j(Te.id),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":ve,"aria-controls":`category-panel-${Te.id}`,children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[Te.name," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ce.length,")"]})]}),m.jsx(MC,{className:`w-6 h-6 text-slate-500 transition-transform ${ve?"rotate-180":""}`})]}),ve&&m.jsx("div",{id:`category-panel-${Te.id}`,children:ie(Ce,Te.id)})]},Te.id)}),(()=>{const Te=le.filter(ve=>!ve.categoryId);if(Te.length===0)return null;const Ce=M.includes("uncategorized");return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>j("uncategorized"),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":Ce,"aria-controls":"category-panel-uncategorized",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[c("uncategorized")," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Te.length,")"]})]}),m.jsx(MC,{className:`w-6 h-6 text-slate-500 transition-transform ${Ce?"rotate-180":""}`})]}),Ce&&m.jsx("div",{id:"category-panel-uncategorized",children:ie(Te,"uncategorized")})]})})(),e.length>0&&le.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noResultsFound")}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noProductsAdded")})]})]})]})},vJ=({service:t,onClose:e,onSave:n,t:r})=>{const[i,a]=oe.useState(t),o=l=>{const{id:u,value:c}=l.target;a(f=>({...f,[u]:l.target.type==="number"?parseFloat(c)||0:c}))},s=l=>{l.preventDefault(),n(i)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editService")}),m.jsxs("form",{onSubmit:s,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("serviceName")}),m.jsx("input",{type:"text",id:"name",value:i.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("price")}),m.jsx("input",{type:"number",id:"price",value:i.price,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:i.priceSemiWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:i.priceWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},yJ=({storeId:t,services:e,addService:n,updateService:r,deleteService:i,t:a})=>{const[o,s]=oe.useState({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),[l,u]=oe.useState(null),[c,f]=oe.useState(null),h=w=>{const{id:y,value:x}=w.target;s(S=>({...S,[y]:w.target.type==="number"?parseFloat(x)||0:x}))},A=async w=>{if(w.preventDefault(),f(null),!o.name||o.price<=0){f({type:"error",message:a("fillNameAndPriceError")});return}const y={name:o.name,price:o.price,priceSemiWholesale:o.priceSemiWholesale||void 0,priceWholesale:o.priceWholesale||void 0,type:"service",storeId:t,image:`https://via.placeholder.com/200/e9d5ff/a855f7?text=${encodeURIComponent(a("services"))}`,createdAt:new Date().toISOString()};await n(y),s({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),f({type:"success",message:a("serviceAddedSuccess",{name:o.name})}),setTimeout(()=>f(null),4e3)},v=async w=>{window.confirm(a("confirmServiceDelete"))&&await i(w)},b=async w=>{if(f(null),!w.name||(w.price??0)<=0){f({type:"error",message:a("fillNameAndPriceError")});return}await r(w),u(null),f({type:"success",message:a("serviceUpdatedSuccess",{name:w.name})}),setTimeout(()=>f(null),4e3)};return m.jsxs(m.Fragment,{children:[l&&m.jsx(vJ,{service:l,onClose:()=>u(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(el,{}),a("addNewService")]}),m.jsxs("form",{onSubmit:A,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("serviceName")}),m.jsx("input",{type:"text",id:"name",value:o.name,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:a("serviceNamePlaceholder"),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("sellingPrice")}),m.jsx("input",{type:"number",id:"price",value:o.price,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:o.priceSemiWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:o.priceWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("saveService")})]}),c&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:a("serviceList")}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("serviceName")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("price")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(w=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:w.name}),m.jsxs("td",{className:"px-6 py-4",children:[(w.price??0).toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:()=>u(w),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(vv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx($i,{className:"w-5 h-5"})})]})})]},w.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noServicesAdded")})]})]})]})]})};function tD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=tD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=tD(t))&&(r&&(r+=" "),r+=e);return r}var bJ=Array.isArray,xi=bJ,xJ=typeof Ar=="object"&&Ar&&Ar.Object===Object&&Ar,nD=xJ,wJ=nD,SJ=typeof self=="object"&&self&&self.Object===Object&&self,_J=wJ||SJ||Function("return this")(),ho=_J,TJ=ho,CJ=TJ.Symbol,dA=CJ,wE=dA,rD=Object.prototype,NJ=rD.hasOwnProperty,EJ=rD.toString,ah=wE?wE.toStringTag:void 0;function kJ(t){var e=NJ.call(t,ah),n=t[ah];try{t[ah]=void 0;var r=!0}catch{}var i=EJ.call(t);return r&&(e?t[ah]=n:delete t[ah]),i}var PJ=kJ,MJ=Object.prototype,OJ=MJ.toString;function IJ(t){return OJ.call(t)}var DJ=IJ,SE=dA,LJ=PJ,jJ=DJ,RJ="[object Null]",BJ="[object Undefined]",_E=SE?SE.toStringTag:void 0;function $J(t){return t==null?t===void 0?BJ:RJ:_E&&_E in Object(t)?LJ(t):jJ(t)}var is=$J;function FJ(t){return t!=null&&typeof t=="object"}var as=FJ,UJ=is,qJ=as,HJ="[object Symbol]";function zJ(t){return typeof t=="symbol"||qJ(t)&&UJ(t)==HJ}var id=zJ,VJ=xi,GJ=id,WJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YJ=/^\w*$/;function KJ(t,e){if(VJ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||GJ(t)?!0:YJ.test(t)||!WJ.test(t)||e!=null&&t in Object(e)}var mS=KJ;function JJ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hl=JJ;const ad=Xt(hl);var XJ=is,QJ=hl,ZJ="[object AsyncFunction]",eX="[object Function]",tX="[object GeneratorFunction]",nX="[object Proxy]";function rX(t){if(!QJ(t))return!1;var e=XJ(t);return e==eX||e==tX||e==ZJ||e==nX}var gS=rX;const yt=Xt(gS);var iX=ho,aX=iX["__core-js_shared__"],oX=aX,f1=oX,TE=function(){var t=/[^.]+$/.exec(f1&&f1.keys&&f1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sX(t){return!!TE&&TE in t}var lX=sX,uX=Function.prototype,cX=uX.toString;function fX(t){if(t!=null){try{return cX.call(t)}catch{}try{return t+""}catch{}}return""}var iD=fX,dX=gS,hX=lX,pX=hl,AX=iD,mX=/[\\^$.*+?()[\]{}|]/g,gX=/^\[object .+?Constructor\]$/,vX=Function.prototype,yX=Object.prototype,bX=vX.toString,xX=yX.hasOwnProperty,wX=RegExp("^"+bX.call(xX).replace(mX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SX(t){if(!pX(t)||hX(t))return!1;var e=dX(t)?wX:gX;return e.test(AX(t))}var _X=SX;function TX(t,e){return t==null?void 0:t[e]}var CX=TX,NX=_X,EX=CX;function kX(t,e){var n=EX(t,e);return NX(n)?n:void 0}var Pu=kX,PX=Pu,MX=PX(Object,"create"),Tv=MX,CE=Tv;function OX(){this.__data__=CE?CE(null):{},this.size=0}var IX=OX;function DX(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var LX=DX,jX=Tv,RX="__lodash_hash_undefined__",BX=Object.prototype,$X=BX.hasOwnProperty;function FX(t){var e=this.__data__;if(jX){var n=e[t];return n===RX?void 0:n}return $X.call(e,t)?e[t]:void 0}var UX=FX,qX=Tv,HX=Object.prototype,zX=HX.hasOwnProperty;function VX(t){var e=this.__data__;return qX?e[t]!==void 0:zX.call(e,t)}var GX=VX,WX=Tv,YX="__lodash_hash_undefined__";function KX(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=WX&&e===void 0?YX:e,this}var JX=KX,XX=IX,QX=LX,ZX=UX,eQ=GX,tQ=JX;function od(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}od.prototype.clear=XX;od.prototype.delete=QX;od.prototype.get=ZX;od.prototype.has=eQ;od.prototype.set=tQ;var nQ=od;function rQ(){this.__data__=[],this.size=0}var iQ=rQ;function aQ(t,e){return t===e||t!==t&&e!==e}var vS=aQ,oQ=vS;function sQ(t,e){for(var n=t.length;n--;)if(oQ(t[n][0],e))return n;return-1}var Cv=sQ,lQ=Cv,uQ=Array.prototype,cQ=uQ.splice;function fQ(t){var e=this.__data__,n=lQ(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():cQ.call(e,n,1),--this.size,!0}var dQ=fQ,hQ=Cv;function pQ(t){var e=this.__data__,n=hQ(e,t);return n<0?void 0:e[n][1]}var AQ=pQ,mQ=Cv;function gQ(t){return mQ(this.__data__,t)>-1}var vQ=gQ,yQ=Cv;function bQ(t,e){var n=this.__data__,r=yQ(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xQ=bQ,wQ=iQ,SQ=dQ,_Q=AQ,TQ=vQ,CQ=xQ;function sd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}sd.prototype.clear=wQ;sd.prototype.delete=SQ;sd.prototype.get=_Q;sd.prototype.has=TQ;sd.prototype.set=CQ;var Nv=sd,NQ=Pu,EQ=ho,kQ=NQ(EQ,"Map"),yS=kQ,NE=nQ,PQ=Nv,MQ=yS;function OQ(){this.size=0,this.__data__={hash:new NE,map:new(MQ||PQ),string:new NE}}var IQ=OQ;function DQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var LQ=DQ,jQ=LQ;function RQ(t,e){var n=t.__data__;return jQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ev=RQ,BQ=Ev;function $Q(t){var e=BQ(this,t).delete(t);return this.size-=e?1:0,e}var FQ=$Q,UQ=Ev;function qQ(t){return UQ(this,t).get(t)}var HQ=qQ,zQ=Ev;function VQ(t){return zQ(this,t).has(t)}var GQ=VQ,WQ=Ev;function YQ(t,e){var n=WQ(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var KQ=YQ,JQ=IQ,XQ=FQ,QQ=HQ,ZQ=GQ,eZ=KQ;function ld(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ld.prototype.clear=JQ;ld.prototype.delete=XQ;ld.prototype.get=QQ;ld.prototype.has=ZQ;ld.prototype.set=eZ;var bS=ld,aD=bS,tZ="Expected a function";function xS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tZ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(xS.Cache||aD),n}xS.Cache=aD;var oD=xS;const nZ=Xt(oD);var rZ=oD,iZ=500;function aZ(t){var e=rZ(t,function(r){return n.size===iZ&&n.clear(),r}),n=e.cache;return e}var oZ=aZ,sZ=oZ,lZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uZ=/\\(\\)?/g,cZ=sZ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lZ,function(n,r,i,a){e.push(i?a.replace(uZ,"$1"):r||n)}),e}),fZ=cZ;function dZ(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var wS=dZ,EE=dA,hZ=wS,pZ=xi,AZ=id,kE=EE?EE.prototype:void 0,PE=kE?kE.toString:void 0;function sD(t){if(typeof t=="string")return t;if(pZ(t))return hZ(t,sD)+"";if(AZ(t))return PE?PE.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var mZ=sD,gZ=mZ;function vZ(t){return t==null?"":gZ(t)}var lD=vZ,yZ=xi,bZ=mS,xZ=fZ,wZ=lD;function SZ(t,e){return yZ(t)?t:bZ(t,e)?[t]:xZ(wZ(t))}var uD=SZ,_Z=id;function TZ(t){if(typeof t=="string"||_Z(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var kv=TZ,CZ=uD,NZ=kv;function EZ(t,e){e=CZ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[NZ(e[n++])];return n&&n==r?t:void 0}var SS=EZ,kZ=SS;function PZ(t,e,n){var r=t==null?void 0:kZ(t,e);return r===void 0?n:r}var cD=PZ;const Fi=Xt(cD);function MZ(t){return t==null}var OZ=MZ;const Dt=Xt(OZ);var IZ=is,DZ=xi,LZ=as,jZ="[object String]";function RZ(t){return typeof t=="string"||!DZ(t)&&LZ(t)&&IZ(t)==jZ}var BZ=RZ;const mu=Xt(BZ);var fD={exports:{}},on={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=Symbol.for("react.element"),TS=Symbol.for("react.portal"),Pv=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),Ov=Symbol.for("react.profiler"),Iv=Symbol.for("react.provider"),Dv=Symbol.for("react.context"),$Z=Symbol.for("react.server_context"),Lv=Symbol.for("react.forward_ref"),jv=Symbol.for("react.suspense"),Rv=Symbol.for("react.suspense_list"),Bv=Symbol.for("react.memo"),$v=Symbol.for("react.lazy"),FZ=Symbol.for("react.offscreen"),dD;dD=Symbol.for("react.module.reference");function va(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _S:switch(t=t.type,t){case Pv:case Ov:case Mv:case jv:case Rv:return t;default:switch(t=t&&t.$$typeof,t){case $Z:case Dv:case Lv:case $v:case Bv:case Iv:return t;default:return e}}case TS:return e}}}on.ContextConsumer=Dv;on.ContextProvider=Iv;on.Element=_S;on.ForwardRef=Lv;on.Fragment=Pv;on.Lazy=$v;on.Memo=Bv;on.Portal=TS;on.Profiler=Ov;on.StrictMode=Mv;on.Suspense=jv;on.SuspenseList=Rv;on.isAsyncMode=function(){return!1};on.isConcurrentMode=function(){return!1};on.isContextConsumer=function(t){return va(t)===Dv};on.isContextProvider=function(t){return va(t)===Iv};on.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_S};on.isForwardRef=function(t){return va(t)===Lv};on.isFragment=function(t){return va(t)===Pv};on.isLazy=function(t){return va(t)===$v};on.isMemo=function(t){return va(t)===Bv};on.isPortal=function(t){return va(t)===TS};on.isProfiler=function(t){return va(t)===Ov};on.isStrictMode=function(t){return va(t)===Mv};on.isSuspense=function(t){return va(t)===jv};on.isSuspenseList=function(t){return va(t)===Rv};on.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pv||t===Ov||t===Mv||t===jv||t===Rv||t===FZ||typeof t=="object"&&t!==null&&(t.$$typeof===$v||t.$$typeof===Bv||t.$$typeof===Iv||t.$$typeof===Dv||t.$$typeof===Lv||t.$$typeof===dD||t.getModuleId!==void 0)};on.typeOf=va;fD.exports=on;var UZ=fD.exports,qZ=is,HZ=as,zZ="[object Number]";function VZ(t){return typeof t=="number"||HZ(t)&&qZ(t)==zZ}var hD=VZ;const GZ=Xt(hD);var WZ=hD;function YZ(t){return WZ(t)&&t!=+t}var KZ=YZ;const hA=Xt(KZ);var Zr=function(e){return e===0?0:e>0?1:-1},Yl=function(e){return mu(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return GZ(e)&&!hA(e)},JZ=function(e){return Dt(e)},mr=function(e){return Ye(e)||mu(e)},XZ=0,pA=function(e){var n=++XZ;return"".concat(e||"").concat(n)},ei=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!mu(e))return r;var a;if(Yl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return hA(a)&&(a=r),i&&a>n&&(a=n),a},js=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},QZ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ks=function(e,n){return Ye(e)&&Ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function p2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Fi(r,e))===n})}var ZZ=function(e,n){return Ye(e)&&Ye(n)?e-n:mu(e)&&mu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function sf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function A2(t){"@babel/helpers - typeof";return A2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A2(t)}var eee=["viewBox","children"],tee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ME=["points","pathLength"],d1={svg:eee,polygon:ME,polyline:ME},CS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Qg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(oe.isValidElement(e)&&(r=e.props),!ad(r))return null;var i={};return Object.keys(r).forEach(function(a){CS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},nee=function(e,n,r){return function(i){return e(n,r,i),null}},gu=function(e,n,r){if(!ad(e)||A2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];CS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=nee(o,n,r))}),i},ree=["children"],iee=["children"];function OE(t,e){if(t==null)return{};var n=aee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var IE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},DE=null,h1=null,NS=function t(e){if(e===DE&&Array.isArray(h1))return h1;var n=[];return oe.Children.forEach(e,function(r){Dt(r)||(UZ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),h1=n,DE=e,n};function Aa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vo(i)}):r=[Vo(e)],NS(t).forEach(function(i){var a=Fi(i,"type.displayName")||Fi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ei(t,e){var n=Aa(t,e);return n&&n[0]}var LE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ye(r)||r<=0||!Ye(i)||i<=0)},oee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],see=function(e){return e&&e.type&&mu(e.type)&&oee.indexOf(e.type)>=0},lee=function(e,n,r,i){var a,o=(a=d1==null?void 0:d1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(e)&&(i&&o.includes(n)||tee.includes(n))||r&&CS.includes(n)},gt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(oe.isValidElement(e)&&(i=e.props),!ad(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;lee((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},m2=function t(e,n){if(e===n)return!0;var r=oe.Children.count(e);if(r!==oe.Children.count(n))return!1;if(r===0)return!0;if(r===1)return jE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!jE(a,o))return!1}return!0},jE=function(e,n){if(Dt(e)&&Dt(n))return!0;if(!Dt(e)&&!Dt(n)){var r=e.props||{},i=r.children,a=OE(r,ree),o=n.props||{},s=o.children,l=OE(o,iee);return i&&s?sf(a,l)&&m2(i,s):!i&&!s?sf(a,l):!1}return!1},RE=function(e,n){var r=[],i={};return NS(e).forEach(function(a,o){if(see(a))r.push(a);else if(a){var s=Vo(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},uee=function(e){var n=e&&e.type;return n&&IE[n]?IE[n]:null},cee=function(e,n){return NS(n).indexOf(e)},fee=["children","width","height","viewBox","className","style","title","desc"];function g2(){return g2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g2.apply(this,arguments)}function dee(t,e){if(t==null)return{};var n=hee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=dee(t,fee),c=i||{width:n,height:r,x:0,y:0},f=Ot("recharts-surface",a);return de.createElement("svg",g2({},gt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),de.createElement("title",null,s),de.createElement("desc",null,l),e)}var pee=["children","className"];function y2(){return y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y2.apply(this,arguments)}function Aee(t,e){if(t==null)return{};var n=mee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rn=de.forwardRef(function(t,e){var n=t.children,r=t.className,i=Aee(t,pee),a=Ot("recharts-layer",r);return de.createElement("g",y2({className:a},gt(i,!0),{ref:e}),n)}),Ba=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function gee(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var vee=gee,yee=vee;function bee(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:yee(t,e,n)}var xee=bee,wee="\\ud800-\\udfff",See="\\u0300-\\u036f",_ee="\\ufe20-\\ufe2f",Tee="\\u20d0-\\u20ff",Cee=See+_ee+Tee,Nee="\\ufe0e\\ufe0f",Eee="\\u200d",kee=RegExp("["+Eee+wee+Cee+Nee+"]");function Pee(t){return kee.test(t)}var pD=Pee;function Mee(t){return t.split("")}var Oee=Mee,AD="\\ud800-\\udfff",Iee="\\u0300-\\u036f",Dee="\\ufe20-\\ufe2f",Lee="\\u20d0-\\u20ff",jee=Iee+Dee+Lee,Ree="\\ufe0e\\ufe0f",Bee="["+AD+"]",b2="["+jee+"]",x2="\\ud83c[\\udffb-\\udfff]",$ee="(?:"+b2+"|"+x2+")",mD="[^"+AD+"]",gD="(?:\\ud83c[\\udde6-\\uddff]){2}",vD="[\\ud800-\\udbff][\\udc00-\\udfff]",Fee="\\u200d",yD=$ee+"?",bD="["+Ree+"]?",Uee="(?:"+Fee+"(?:"+[mD,gD,vD].join("|")+")"+bD+yD+")*",qee=bD+yD+Uee,Hee="(?:"+[mD+b2+"?",b2,gD,vD,Bee].join("|")+")",zee=RegExp(x2+"(?="+x2+")|"+Hee+qee,"g");function Vee(t){return t.match(zee)||[]}var Gee=Vee,Wee=Oee,Yee=pD,Kee=Gee;function Jee(t){return Yee(t)?Kee(t):Wee(t)}var Xee=Jee,Qee=xee,Zee=pD,ete=Xee,tte=lD;function nte(t){return function(e){e=tte(e);var n=Zee(e)?ete(e):void 0,r=n?n[0]:e.charAt(0),i=n?Qee(n,1).join(""):e.slice(1);return r[t]()+i}}var rte=nte,ite=rte,ate=ite("toUpperCase"),ote=ate;const Fv=Xt(ote);function xn(t){return function(){return t}}const xD=Math.cos,Zg=Math.sin,Ha=Math.sqrt,e0=Math.PI,Uv=2*e0,w2=Math.PI,S2=2*w2,Fl=1e-6,ste=S2-Fl;function wD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function lte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ute{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wD:lte(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Fl)if(!(Math.abs(f*l-u*c)>Fl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let A=r-o,v=i-s,b=l*l+u*u,w=A*A+v*v,y=Math.sqrt(b),x=Math.sqrt(h),S=a*Math.tan((w2-Math.acos((b+h-w)/(2*y*x)))/2),T=S/x,C=S/y;Math.abs(T-1)>Fl&&this._append`L${e+T*c},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*A>c*v)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Fl||Math.abs(this._y1-c)>Fl)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%S2+S2),h>ste?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Fl&&this._append`A${r},${r},0,${+(h>=w2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ES(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ute(e)}function kS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SD(t){this._context=t}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qv(t){return new SD(t)}function _D(t){return t[0]}function TD(t){return t[1]}function CD(t,e){var n=xn(!0),r=null,i=qv,a=null,o=ES(s);t=typeof t=="function"?t:t===void 0?_D:xn(t),e=typeof e=="function"?e:e===void 0?TD:xn(e);function s(l){var u,c=(l=kS(l)).length,f,h=!1,A;for(r==null&&(a=i(A=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(A)return a=null,A+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:xn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:xn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Rm(t,e,n){var r=null,i=xn(!0),a=null,o=qv,s=null,l=ES(u);t=typeof t=="function"?t:t===void 0?_D:xn(+t),e=typeof e=="function"?e:xn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TD:xn(+n);function u(f){var h,A,v,b=(f=kS(f)).length,w,y=!1,x,S=new Array(b),T=new Array(b);for(a==null&&(s=o(x=l())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===y)if(y=!y)A=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=A;--v)s.point(S[v],T[v]);s.lineEnd(),s.areaEnd()}y&&(S[h]=+t(w,h,f),T[h]=+e(w,h,f),s.point(r?+r(w,h,f):S[h],n?+n(w,h,f):T[h]))}if(x)return s=null,x+""||null}function c(){return CD().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:xn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class ND{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function cte(t){return new ND(t,!0)}function fte(t){return new ND(t,!1)}const PS={draw(t,e){const n=Ha(e/e0);t.moveTo(n,0),t.arc(0,0,n,0,Uv)}},dte={draw(t,e){const n=Ha(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ED=Ha(1/3),hte=ED*2,pte={draw(t,e){const n=Ha(e/hte),r=n*ED;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ate={draw(t,e){const n=Ha(e),r=-n/2;t.rect(r,r,n,n)}},mte=.8908130915292852,kD=Zg(e0/10)/Zg(7*e0/10),gte=Zg(Uv/10)*kD,vte=-xD(Uv/10)*kD,yte={draw(t,e){const n=Ha(e*mte),r=gte*n,i=vte*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Uv*a/5,s=xD(o),l=Zg(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},p1=Ha(3),bte={draw(t,e){const n=-Ha(e/(p1*3));t.moveTo(0,n*2),t.lineTo(-p1*n,-n),t.lineTo(p1*n,-n),t.closePath()}},Qi=-.5,Zi=Ha(3)/2,_2=1/Ha(12),xte=(_2/2+1)*3,wte={draw(t,e){const n=Ha(e/xte),r=n/2,i=n*_2,a=r,o=n*_2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Qi*r-Zi*i,Zi*r+Qi*i),t.lineTo(Qi*a-Zi*o,Zi*a+Qi*o),t.lineTo(Qi*s-Zi*l,Zi*s+Qi*l),t.lineTo(Qi*r+Zi*i,Qi*i-Zi*r),t.lineTo(Qi*a+Zi*o,Qi*o-Zi*a),t.lineTo(Qi*s+Zi*l,Qi*l-Zi*s),t.closePath()}};function Ste(t,e){let n=null,r=ES(i);t=typeof t=="function"?t:xn(t||PS),e=typeof e=="function"?e:xn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function t0(){}function n0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function PD(t){this._context=t}PD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:n0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:n0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _te(t){return new PD(t)}function MD(t){this._context=t}MD.prototype={areaStart:t0,areaEnd:t0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:n0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tte(t){return new MD(t)}function OD(t){this._context=t}OD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:n0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cte(t){return new OD(t)}function ID(t){this._context=t}ID.prototype={areaStart:t0,areaEnd:t0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Nte(t){return new ID(t)}function BE(t){return t<0?-1:1}function $E(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(BE(a)+BE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function FE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function A1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function r0(t){this._context=t}r0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A1(this,this._t0,FE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,A1(this,FE(this,n=$E(this,t,e)),n);break;default:A1(this,this._t0,n=$E(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function DD(t){this._context=new LD(t)}(DD.prototype=Object.create(r0.prototype)).point=function(t,e){r0.prototype.point.call(this,e,t)};function LD(t){this._context=t}LD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Ete(t){return new r0(t)}function kte(t){return new DD(t)}function jD(t){this._context=t}jD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UE(t),i=UE(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UE(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Pte(t){return new jD(t)}function Hv(t,e){this._context=t,this._t=e}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Mte(t){return new Hv(t,.5)}function Ote(t){return new Hv(t,0)}function Ite(t){return new Hv(t,1)}function xf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function T2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Dte(t,e){return t[e]}function Lte(t){const e=[];return e.key=t,e}function jte(){var t=xn([]),e=T2,n=xf,r=Dte;function i(a){var o=Array.from(t.apply(this,arguments),Lte),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=kS(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?T2:typeof a=="function"?a:xn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??xf,i):n},i}function Rte(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}xf(t,e)}}function Bte(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}xf(t,e)}}function $te(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,A=(f-h)/2,v=0;v<s;++v){var b=t[e[v]],w=b[r][1]||0,y=b[r-1][1]||0;A+=w-y}l+=f,u+=A*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,xf(t,e)}}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}var Fte=["type","size","sizeType"];function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C2.apply(this,arguments)}function qE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return e=qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qte(t){var e=Hte(t,"string");return Ap(e)=="symbol"?e:e+""}function Hte(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zte(t,e){if(t==null)return{};var n=Vte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var RD={symbolCircle:PS,symbolCross:dte,symbolDiamond:pte,symbolSquare:Ate,symbolStar:yte,symbolTriangle:bte,symbolWye:wte},Gte=Math.PI/180,Wte=function(e){var n="symbol".concat(Fv(e));return RD[n]||PS},Yte=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Gte;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Kte=function(e,n){RD["symbol".concat(Fv(e))]=n},MS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=zte(e,Fte),u=HE(HE({},l),{},{type:r,size:a,sizeType:s}),c=function(){var w=Wte(r),y=Ste().type(w).size(Yte(a,s,r));return y()},f=u.className,h=u.cx,A=u.cy,v=gt(u,!0);return h===+h&&A===+A&&a===+a?de.createElement("path",C2({},v,{className:Ot("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(A,")"),d:c()})):null};MS.registerSymbol=Kte;function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N2.apply(this,arguments)}function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){mp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$D(r.key),r)}}function Zte(t,e,n){return e&&Qte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ene(t,e,n){return e=i0(e),tne(t,BD()?Reflect.construct(e,n||[],i0(t).constructor):e.apply(t,n))}function tne(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nne(t)}function nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BD=function(){return!!t})()}function i0(t){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i0(t)}function rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E2(t,e)}function E2(t,e){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E2(t,e)}function mp(t,e,n){return e=$D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $D(t){var e=ine(t,"string");return wf(e)=="symbol"?e:e+""}function ine(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ea=32,OS=function(t){function e(){return Xte(this,e),ene(this,e,arguments)}return rne(e,t),Zte(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ea/2,o=ea/6,s=ea/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ea,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ea,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ea/8,"h").concat(ea,"v").concat(ea*3/4,"h").concat(-ea,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var u=Jte({},r);return delete u.legendIcon,de.cloneElement(r.legendIcon,u)}return de.createElement(MS,{fill:l,cx:a,cy:a,size:ea,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ea,height:ea},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(A,v){var b=A.formatter||l,w=Ot(mp(mp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",A.inactive));if(A.type==="none")return null;var y=yt(A.value)?null:A.value;Ba(!yt(A.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=A.inactive?u:A.color;return de.createElement("li",N2({className:w,style:f,key:"legend-item-".concat(v)},gu(r.props,A,v)),de.createElement(v2,{width:o,height:o,viewBox:c,style:h},r.renderIcon(A)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(y,A,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(oe.PureComponent);mp(OS,"displayName","Legend");mp(OS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ane=Nv;function one(){this.__data__=new ane,this.size=0}var sne=one;function lne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var une=lne;function cne(t){return this.__data__.get(t)}var fne=cne;function dne(t){return this.__data__.has(t)}var hne=dne,pne=Nv,Ane=yS,mne=bS,gne=200;function vne(t,e){var n=this.__data__;if(n instanceof pne){var r=n.__data__;if(!Ane||r.length<gne-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mne(r)}return n.set(t,e),this.size=n.size,this}var yne=vne,bne=Nv,xne=sne,wne=une,Sne=fne,_ne=hne,Tne=yne;function ud(t){var e=this.__data__=new bne(t);this.size=e.size}ud.prototype.clear=xne;ud.prototype.delete=wne;ud.prototype.get=Sne;ud.prototype.has=_ne;ud.prototype.set=Tne;var FD=ud,Cne="__lodash_hash_undefined__";function Nne(t){return this.__data__.set(t,Cne),this}var Ene=Nne;function kne(t){return this.__data__.has(t)}var Pne=kne,Mne=bS,One=Ene,Ine=Pne;function a0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Mne;++e<n;)this.add(t[e])}a0.prototype.add=a0.prototype.push=One;a0.prototype.has=Ine;var UD=a0;function Dne(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var qD=Dne;function Lne(t,e){return t.has(e)}var HD=Lne,jne=UD,Rne=qD,Bne=HD,$ne=1,Fne=2;function Une(t,e,n,r,i,a){var o=n&$ne,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,A=n&Fne?new jne:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],b=e[f];if(r)var w=o?r(b,v,f,e,t,a):r(v,b,f,t,e,a);if(w!==void 0){if(w)continue;h=!1;break}if(A){if(!Rne(e,function(y,x){if(!Bne(A,x)&&(v===y||i(v,y,n,r,a)))return A.push(x)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var zD=Une,qne=ho,Hne=qne.Uint8Array,zne=Hne;function Vne(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Gne=Vne;function Wne(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var IS=Wne,VE=dA,GE=zne,Yne=vS,Kne=zD,Jne=Gne,Xne=IS,Qne=1,Zne=2,ere="[object Boolean]",tre="[object Date]",nre="[object Error]",rre="[object Map]",ire="[object Number]",are="[object RegExp]",ore="[object Set]",sre="[object String]",lre="[object Symbol]",ure="[object ArrayBuffer]",cre="[object DataView]",WE=VE?VE.prototype:void 0,m1=WE?WE.valueOf:void 0;function fre(t,e,n,r,i,a,o){switch(n){case cre:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ure:return!(t.byteLength!=e.byteLength||!a(new GE(t),new GE(e)));case ere:case tre:case ire:return Yne(+t,+e);case nre:return t.name==e.name&&t.message==e.message;case are:case sre:return t==e+"";case rre:var s=Jne;case ore:var l=r&Qne;if(s||(s=Xne),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Zne,o.set(t,e);var c=Kne(s(t),s(e),r,i,a,o);return o.delete(t),c;case lre:if(m1)return m1.call(t)==m1.call(e)}return!1}var dre=fre;function hre(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var VD=hre,pre=VD,Are=xi;function mre(t,e,n){var r=e(t);return Are(t)?r:pre(r,n(t))}var gre=mre;function vre(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var yre=vre;function bre(){return[]}var xre=bre,wre=yre,Sre=xre,_re=Object.prototype,Tre=_re.propertyIsEnumerable,YE=Object.getOwnPropertySymbols,Cre=YE?function(t){return t==null?[]:(t=Object(t),wre(YE(t),function(e){return Tre.call(t,e)}))}:Sre,Nre=Cre;function Ere(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var kre=Ere,Pre=is,Mre=as,Ore="[object Arguments]";function Ire(t){return Mre(t)&&Pre(t)==Ore}var Dre=Ire,KE=Dre,Lre=as,GD=Object.prototype,jre=GD.hasOwnProperty,Rre=GD.propertyIsEnumerable,Bre=KE(function(){return arguments}())?KE:function(t){return Lre(t)&&jre.call(t,"callee")&&!Rre.call(t,"callee")},DS=Bre,o0={exports:{}};function $re(){return!1}var Fre=$re;o0.exports;(function(t,e){var n=ho,r=Fre,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(o0,o0.exports);var WD=o0.exports,Ure=9007199254740991,qre=/^(?:0|[1-9]\d*)$/;function Hre(t,e){var n=typeof t;return e=e??Ure,!!e&&(n=="number"||n!="symbol"&&qre.test(t))&&t>-1&&t%1==0&&t<e}var LS=Hre,zre=9007199254740991;function Vre(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zre}var jS=Vre,Gre=is,Wre=jS,Yre=as,Kre="[object Arguments]",Jre="[object Array]",Xre="[object Boolean]",Qre="[object Date]",Zre="[object Error]",eie="[object Function]",tie="[object Map]",nie="[object Number]",rie="[object Object]",iie="[object RegExp]",aie="[object Set]",oie="[object String]",sie="[object WeakMap]",lie="[object ArrayBuffer]",uie="[object DataView]",cie="[object Float32Array]",fie="[object Float64Array]",die="[object Int8Array]",hie="[object Int16Array]",pie="[object Int32Array]",Aie="[object Uint8Array]",mie="[object Uint8ClampedArray]",gie="[object Uint16Array]",vie="[object Uint32Array]",En={};En[cie]=En[fie]=En[die]=En[hie]=En[pie]=En[Aie]=En[mie]=En[gie]=En[vie]=!0;En[Kre]=En[Jre]=En[lie]=En[Xre]=En[uie]=En[Qre]=En[Zre]=En[eie]=En[tie]=En[nie]=En[rie]=En[iie]=En[aie]=En[oie]=En[sie]=!1;function yie(t){return Yre(t)&&Wre(t.length)&&!!En[Gre(t)]}var bie=yie;function xie(t){return function(e){return t(e)}}var YD=xie,s0={exports:{}};s0.exports;(function(t,e){var n=nD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(s0,s0.exports);var wie=s0.exports,Sie=bie,_ie=YD,JE=wie,XE=JE&&JE.isTypedArray,Tie=XE?_ie(XE):Sie,KD=Tie,Cie=kre,Nie=DS,Eie=xi,kie=WD,Pie=LS,Mie=KD,Oie=Object.prototype,Iie=Oie.hasOwnProperty;function Die(t,e){var n=Eie(t),r=!n&&Nie(t),i=!n&&!r&&kie(t),a=!n&&!r&&!i&&Mie(t),o=n||r||i||a,s=o?Cie(t.length,String):[],l=s.length;for(var u in t)(e||Iie.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Pie(u,l)))&&s.push(u);return s}var Lie=Die,jie=Object.prototype;function Rie(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jie;return t===n}var Bie=Rie;function $ie(t,e){return function(n){return t(e(n))}}var JD=$ie,Fie=JD,Uie=Fie(Object.keys,Object),qie=Uie,Hie=Bie,zie=qie,Vie=Object.prototype,Gie=Vie.hasOwnProperty;function Wie(t){if(!Hie(t))return zie(t);var e=[];for(var n in Object(t))Gie.call(t,n)&&n!="constructor"&&e.push(n);return e}var Yie=Wie,Kie=gS,Jie=jS;function Xie(t){return t!=null&&Jie(t.length)&&!Kie(t)}var AA=Xie,Qie=Lie,Zie=Yie,eae=AA;function tae(t){return eae(t)?Qie(t):Zie(t)}var zv=tae,nae=gre,rae=Nre,iae=zv;function aae(t){return nae(t,iae,rae)}var oae=aae,QE=oae,sae=1,lae=Object.prototype,uae=lae.hasOwnProperty;function cae(t,e,n,r,i,a){var o=n&sae,s=QE(t),l=s.length,u=QE(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:uae.call(e,h)))return!1}var A=a.get(t),v=a.get(e);if(A&&v)return A==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var w=o;++f<l;){h=s[f];var y=t[h],x=e[h];if(r)var S=o?r(x,y,h,e,t,a):r(y,x,h,t,e,a);if(!(S===void 0?y===x||i(y,x,n,r,a):S)){b=!1;break}w||(w=h=="constructor")}if(b&&!w){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(b=!1)}return a.delete(t),a.delete(e),b}var fae=cae,dae=Pu,hae=ho,pae=dae(hae,"DataView"),Aae=pae,mae=Pu,gae=ho,vae=mae(gae,"Promise"),yae=vae,bae=Pu,xae=ho,wae=bae(xae,"Set"),XD=wae,Sae=Pu,_ae=ho,Tae=Sae(_ae,"WeakMap"),Cae=Tae,k2=Aae,P2=yS,M2=yae,O2=XD,I2=Cae,QD=is,cd=iD,ZE="[object Map]",Nae="[object Object]",e4="[object Promise]",t4="[object Set]",n4="[object WeakMap]",r4="[object DataView]",Eae=cd(k2),kae=cd(P2),Pae=cd(M2),Mae=cd(O2),Oae=cd(I2),Ul=QD;(k2&&Ul(new k2(new ArrayBuffer(1)))!=r4||P2&&Ul(new P2)!=ZE||M2&&Ul(M2.resolve())!=e4||O2&&Ul(new O2)!=t4||I2&&Ul(new I2)!=n4)&&(Ul=function(t){var e=QD(t),n=e==Nae?t.constructor:void 0,r=n?cd(n):"";if(r)switch(r){case Eae:return r4;case kae:return ZE;case Pae:return e4;case Mae:return t4;case Oae:return n4}return e});var Iae=Ul,g1=FD,Dae=zD,Lae=dre,jae=fae,i4=Iae,a4=xi,o4=WD,Rae=KD,Bae=1,s4="[object Arguments]",l4="[object Array]",Bm="[object Object]",$ae=Object.prototype,u4=$ae.hasOwnProperty;function Fae(t,e,n,r,i,a){var o=a4(t),s=a4(e),l=o?l4:i4(t),u=s?l4:i4(e);l=l==s4?Bm:l,u=u==s4?Bm:u;var c=l==Bm,f=u==Bm,h=l==u;if(h&&o4(t)){if(!o4(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new g1),o||Rae(t)?Dae(t,e,n,r,i,a):Lae(t,e,l,n,r,i,a);if(!(n&Bae)){var A=c&&u4.call(t,"__wrapped__"),v=f&&u4.call(e,"__wrapped__");if(A||v){var b=A?t.value():t,w=v?e.value():e;return a||(a=new g1),i(b,w,n,r,a)}}return h?(a||(a=new g1),jae(t,e,n,r,i,a)):!1}var Uae=Fae,qae=Uae,c4=as;function ZD(t,e,n,r,i){return t===e?!0:t==null||e==null||!c4(t)&&!c4(e)?t!==t&&e!==e:qae(t,e,n,r,ZD,i)}var RS=ZD,Hae=FD,zae=RS,Vae=1,Gae=2;function Wae(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Hae;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?zae(c,u,Vae|Gae,r,f):h))return!1}}return!0}var Yae=Wae,Kae=hl;function Jae(t){return t===t&&!Kae(t)}var eL=Jae,Xae=eL,Qae=zv;function Zae(t){for(var e=Qae(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xae(i)]}return e}var eoe=Zae;function toe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var tL=toe,noe=Yae,roe=eoe,ioe=tL;function aoe(t){var e=roe(t);return e.length==1&&e[0][2]?ioe(e[0][0],e[0][1]):function(n){return n===t||noe(n,t,e)}}var ooe=aoe;function soe(t,e){return t!=null&&e in Object(t)}var loe=soe,uoe=uD,coe=DS,foe=xi,doe=LS,hoe=jS,poe=kv;function Aoe(t,e,n){e=uoe(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=poe(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&hoe(i)&&doe(o,i)&&(foe(t)||coe(t)))}var moe=Aoe,goe=loe,voe=moe;function yoe(t,e){return t!=null&&voe(t,e,goe)}var boe=yoe,xoe=RS,woe=cD,Soe=boe,_oe=mS,Toe=eL,Coe=tL,Noe=kv,Eoe=1,koe=2;function Poe(t,e){return _oe(t)&&Toe(e)?Coe(Noe(t),e):function(n){var r=woe(n,t);return r===void 0&&r===e?Soe(n,t):xoe(e,r,Eoe|koe)}}var Moe=Poe;function Ooe(t){return t}var fd=Ooe;function Ioe(t){return function(e){return e==null?void 0:e[t]}}var Doe=Ioe,Loe=SS;function joe(t){return function(e){return Loe(e,t)}}var Roe=joe,Boe=Doe,$oe=Roe,Foe=mS,Uoe=kv;function qoe(t){return Foe(t)?Boe(Uoe(t)):$oe(t)}var Hoe=qoe,zoe=ooe,Voe=Moe,Goe=fd,Woe=xi,Yoe=Hoe;function Koe(t){return typeof t=="function"?t:t==null?Goe:typeof t=="object"?Woe(t)?Voe(t[0],t[1]):zoe(t):Yoe(t)}var po=Koe;function Joe(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var nL=Joe;function Xoe(t){return t!==t}var Qoe=Xoe;function Zoe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var ese=Zoe,tse=nL,nse=Qoe,rse=ese;function ise(t,e,n){return e===e?rse(t,e,n):tse(t,nse,n)}var ase=ise,ose=ase;function sse(t,e){var n=t==null?0:t.length;return!!n&&ose(t,e,0)>-1}var lse=sse;function use(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var cse=use;function fse(){}var dse=fse,v1=XD,hse=dse,pse=IS,Ase=1/0,mse=v1&&1/pse(new v1([,-0]))[1]==Ase?function(t){return new v1(t)}:hse,gse=mse,vse=UD,yse=lse,bse=cse,xse=HD,wse=gse,Sse=IS,_se=200;function Tse(t,e,n){var r=-1,i=yse,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=bse;else if(a>=_se){var u=e?null:wse(t);if(u)return Sse(u);o=!1,i=xse,l=new vse}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Cse=Tse,Nse=po,Ese=Cse;function kse(t,e){return t&&t.length?Ese(t,Nse(e)):[]}var Pse=kse;const f4=Xt(Pse);function rL(t,e,n){return e===!0?f4(t,n):yt(e)?f4(t,e):t}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}var Mse=["ref"];function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){Vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aL(r.key),r)}}function Ise(t,e,n){return e&&h4(t.prototype,e),n&&h4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dse(t,e,n){return e=l0(e),Lse(t,iL()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function Lse(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jse(t)}function jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function Rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D2(t,e)}function D2(t,e){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D2(t,e)}function Vv(t,e,n){return e=aL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aL(t){var e=Bse(t,"string");return Sf(e)=="symbol"?e:e+""}function Bse(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $se(t,e){if(t==null)return{};var n=Fse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Use(t){return t.value}function qse(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var n=$se(e,Mse);return de.createElement(OS,n)}var p4=1,su=function(t){function e(){var n;Ose(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Dse(this,e,[].concat(i)),Vv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Rse(e,t),Ise(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>p4||Math.abs(i.height-this.lastBoundingBox.height)>p4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Po({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var A=this.getBBoxSnapshot();f={left:((u||0)-A.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Po(Po({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Po(Po({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(A){r.wrapperNode=A}},qse(a,Po(Po({},this.props),{},{payload:rL(c,u,Use)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Po(Po({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ye(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(oe.PureComponent);Vv(su,"displayName","Legend");Vv(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var A4=dA,Hse=DS,zse=xi,m4=A4?A4.isConcatSpreadable:void 0;function Vse(t){return zse(t)||Hse(t)||!!(m4&&t&&t[m4])}var Gse=Vse,Wse=VD,Yse=Gse;function oL(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Yse),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?oL(s,e-1,n,r,i):Wse(i,s):r||(i[i.length]=s)}return i}var sL=oL;function Kse(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Jse=Kse,Xse=Jse,Qse=Xse(),Zse=Qse,ele=Zse,tle=zv;function nle(t,e){return t&&ele(t,e,tle)}var lL=nle,rle=AA;function ile(t,e){return function(n,r){if(n==null)return n;if(!rle(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ale=ile,ole=lL,sle=ale,lle=sle(ole),BS=lle,ule=BS,cle=AA;function fle(t,e){var n=-1,r=cle(t)?Array(t.length):[];return ule(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var uL=fle;function dle(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var hle=dle,g4=id;function ple(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=g4(t),o=e!==void 0,s=e===null,l=e===e,u=g4(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Ale=ple,mle=Ale;function gle(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=mle(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var vle=gle,y1=wS,yle=SS,ble=po,xle=uL,wle=hle,Sle=YD,_le=vle,Tle=fd,Cle=xi;function Nle(t,e,n){e.length?e=y1(e,function(a){return Cle(a)?function(o){return yle(o,a.length===1?a[0]:a)}:a}):e=[Tle];var r=-1;e=y1(e,Sle(ble));var i=xle(t,function(a,o,s){var l=y1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return wle(i,function(a,o){return _le(a,o,n)})}var Ele=Nle;function kle(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ple=kle,Mle=Ple,v4=Math.max;function Ole(t,e,n){return e=v4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=v4(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Mle(t,this,s)}}var Ile=Ole;function Dle(t){return function(){return t}}var Lle=Dle,jle=Pu,Rle=function(){try{var t=jle(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cL=Rle,Ble=Lle,y4=cL,$le=fd,Fle=y4?function(t,e){return y4(t,"toString",{configurable:!0,enumerable:!1,value:Ble(e),writable:!0})}:$le,Ule=Fle,qle=800,Hle=16,zle=Date.now;function Vle(t){var e=0,n=0;return function(){var r=zle(),i=Hle-(r-n);if(n=r,i>0){if(++e>=qle)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Gle=Vle,Wle=Ule,Yle=Gle,Kle=Yle(Wle),Jle=Kle,Xle=fd,Qle=Ile,Zle=Jle;function eue(t,e){return Zle(Qle(t,e,Xle),t+"")}var tue=eue,nue=vS,rue=AA,iue=LS,aue=hl;function oue(t,e,n){if(!aue(n))return!1;var r=typeof e;return(r=="number"?rue(n)&&iue(e,n.length):r=="string"&&e in n)?nue(n[e],t):!1}var Gv=oue,sue=sL,lue=Ele,uue=tue,b4=Gv,cue=uue(function(t,e){if(t==null)return[];var n=e.length;return n>1&&b4(t,e[0],e[1])?e=[]:n>2&&b4(e[0],e[1],e[2])&&(e=[e[0]]),lue(t,sue(e,1),[])}),fue=cue;const $S=Xt(fue);function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L2.apply(this,arguments)}function due(t,e){return mue(t)||Aue(t,e)||pue(t,e)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pue(t,e){if(t){if(typeof t=="string")return x4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x4(t,e)}}function x4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mue(t){if(Array.isArray(t))return t}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return e=vue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=yue(t,"string");return gp(e)=="symbol"?e:e+""}function yue(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bue(t){return Array.isArray(t)&&mr(t[0])&&mr(t[1])?t.join(" ~ "):t}var xue=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,A=e.wrapperClassName,v=e.labelClassName,b=e.label,w=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,S=function(){if(c&&c.length){var M={padding:0,margin:0},B=(h?$S(c,h):c).map(function(F,G){if(F.type==="none")return null;var R=b1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),U=F.formatter||f||bue,V=F.value,K=F.name,ee=V,le=K;if(U&&ee!=null&&le!=null){var j=U(V,K,F,G,c);if(Array.isArray(j)){var z=due(j,2);ee=z[0],le=z[1]}else ee=j}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:R},mr(le)?de.createElement("span",{className:"recharts-tooltip-item-name"},le):null,mr(le)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},ee),de.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:M},B)}return null},T=b1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=b1({margin:0},u),k=!Dt(b),E=k?b:"",O=Ot("recharts-default-tooltip",A),D=Ot("recharts-tooltip-label",v);k&&w&&c!==void 0&&c!==null&&(E=w(b,c));var $=x?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",L2({className:O,style:T},$),de.createElement("p",{className:D,style:C},de.isValidElement(E)?E:"".concat(E)),S())};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function $m(t,e,n){return e=wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=Sue(t,"string");return vp(e)=="symbol"?e:e+""}function Sue(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oh="recharts-tooltip-wrapper",_ue={visibility:"hidden"};function Tue(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ot(oh,$m($m($m($m({},"".concat(oh,"-right"),Ye(n)&&e&&Ye(e.x)&&n>=e.x),"".concat(oh,"-left"),Ye(n)&&e&&Ye(e.x)&&n<e.x),"".concat(oh,"-bottom"),Ye(r)&&e&&Ye(e.y)&&r>=e.y),"".concat(oh,"-top"),Ye(r)&&e&&Ye(e.y)&&r<e.y))}function S4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ye(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,A=l[r];return h<A?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function Cue(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Nue(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=S4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=S4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Cue({translateX:c,translateY:f,useTranslate3d:s})):u=_ue,{cssProperties:u,cssClasses:Tue({translateX:c,translateY:f,coordinate:n})}}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function _4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(r){R2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dL(r.key),r)}}function Pue(t,e,n){return e&&kue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mue(t,e,n){return e=u0(e),Oue(t,fL()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function Oue(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iue(t)}function Iue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fL=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function Due(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j2(t,e)}function j2(t,e){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j2(t,e)}function R2(t,e,n){return e=dL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dL(t){var e=Lue(t,"string");return _f(e)=="symbol"?e:e+""}function Lue(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C4=1,jue=function(t){function e(){var n;Eue(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Mue(this,e,[].concat(i)),R2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),R2(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Due(e,t),Pue(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>C4||Math.abs(r.height-this.state.lastBoundingBox.height)>C4)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,A=i.offset,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,S=Nue({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:A,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),T=S.cssClasses,C=S.cssProperties,k=T4(T4({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return de.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(O){r.wrapperNode=O}},u)}}])}(oe.PureComponent),Rue=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dd={isSsr:Rue()};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){FS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pL(r.key),r)}}function Fue(t,e,n){return e&&$ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uue(t,e,n){return e=c0(e),que(t,hL()?Reflect.construct(e,n||[],c0(t).constructor):e.apply(t,n))}function que(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hue(t)}function Hue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c0(t)}function zue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B2(t,e)}function B2(t,e){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B2(t,e)}function FS(t,e,n){return e=pL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pL(t){var e=Vue(t,"string");return Tf(e)=="symbol"?e:e+""}function Vue(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gue(t){return t.dataKey}function Wue(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(xue,e)}var Da=function(t){function e(){return Bue(this,e),Uue(this,e,arguments)}return zue(e,t),Fue(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,A=i.offset,v=i.payload,b=i.payloadUniqBy,w=i.position,y=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,C=v??[];f&&C.length&&(C=rL(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,Gue));var k=C.length>0;return de.createElement(jue,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:k,offset:A,position:w,reverseDirection:y,useTranslate3d:x,viewBox:S,wrapperStyle:T},Wue(u,E4(E4({},this.props),{},{payload:C})))}}])}(oe.PureComponent);FS(Da,"displayName","Tooltip");FS(Da,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Yue=ho,Kue=function(){return Yue.Date.now()},Jue=Kue,Xue=/\s/;function Que(t){for(var e=t.length;e--&&Xue.test(t.charAt(e)););return e}var Zue=Que,ece=Zue,tce=/^\s+/;function nce(t){return t&&t.slice(0,ece(t)+1).replace(tce,"")}var rce=nce,ice=rce,k4=hl,ace=id,P4=NaN,oce=/^[-+]0x[0-9a-f]+$/i,sce=/^0b[01]+$/i,lce=/^0o[0-7]+$/i,uce=parseInt;function cce(t){if(typeof t=="number")return t;if(ace(t))return P4;if(k4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=k4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ice(t);var n=sce.test(t);return n||lce.test(t)?uce(t.slice(2),n?2:8):oce.test(t)?P4:+t}var AL=cce,fce=hl,x1=Jue,M4=AL,dce="Expected a function",hce=Math.max,pce=Math.min;function Ace(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(dce);e=M4(e)||0,fce(n)&&(c=!!n.leading,f="maxWait"in n,a=f?hce(M4(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function A(k){var E=r,O=i;return r=i=void 0,u=k,o=t.apply(O,E),o}function v(k){return u=k,s=setTimeout(y,e),c?A(k):o}function b(k){var E=k-l,O=k-u,D=e-E;return f?pce(D,a-O):D}function w(k){var E=k-l,O=k-u;return l===void 0||E>=e||E<0||f&&O>=a}function y(){var k=x1();if(w(k))return x(k);s=setTimeout(y,b(k))}function x(k){return s=void 0,h&&r?A(k):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?o:x(x1())}function C(){var k=x1(),E=w(k);if(r=arguments,i=this,l=k,E){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),A(l)}return s===void 0&&(s=setTimeout(y,e)),o}return C.cancel=S,C.flush=T,C}var mce=Ace,gce=mce,vce=hl,yce="Expected a function";function bce(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(yce);return vce(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),gce(t,e,{leading:r,maxWait:e,trailing:i})}var xce=bce;const mL=Xt(xce);function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return e=Sce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sce(t){var e=_ce(t,"string");return yp(e)=="symbol"?e:e+""}function _ce(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tce(t,e){return kce(t)||Ece(t,e)||Nce(t,e)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nce(t,e){if(t){if(typeof t=="string")return I4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I4(t,e)}}function I4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ece(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function kce(t){if(Array.isArray(t))return t}var D4=oe.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,A=t.children,v=t.debounce,b=v===void 0?0:v,w=t.id,y=t.className,x=t.onResize,S=t.style,T=S===void 0?{}:S,C=oe.useRef(null),k=oe.useRef();k.current=x,oe.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=oe.useState({containerWidth:i.width,containerHeight:i.height}),O=Tce(E,2),D=O[0],$=O[1],I=oe.useCallback(function(B,F){$(function(G){var R=Math.round(B),U=Math.round(F);return G.containerWidth===R&&G.containerHeight===U?G:{containerWidth:R,containerHeight:U}})},[]);oe.useEffect(function(){var B=function(K){var ee,le=K[0].contentRect,j=le.width,z=le.height;I(j,z),(ee=k.current)===null||ee===void 0||ee.call(k,j,z)};b>0&&(B=mL(B,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(B),G=C.current.getBoundingClientRect(),R=G.width,U=G.height;return I(R,U),F.observe(C.current),function(){F.disconnect()}},[I,b]);var M=oe.useMemo(function(){var B=D.containerWidth,F=D.containerHeight;if(B<0||F<0)return null;Ba(Yl(o)||Yl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ba(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=Yl(o)?B:o,R=Yl(l)?F:l;n&&n>0&&(G?R=G/n:R&&(G=R*n),h&&R>h&&(R=h)),Ba(G>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,R,o,l,c,f,n);var U=!Array.isArray(A)&&Vo(A.type).endsWith("Chart");return de.Children.map(A,function(V){return de.isValidElement(V)?oe.cloneElement(V,Fm({width:G,height:R},U?{style:Fm({height:"100%",width:"100%",maxHeight:R,maxWidth:G},V.props.style)}:{})):V})},[n,A,l,h,f,c,D,o]);return de.createElement("div",{id:w?"".concat(w):void 0,className:Ot("recharts-responsive-container",y),style:Fm(Fm({},T),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:C},M)}),Wv=function(e){return null};Wv.displayName="Cell";function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){Pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pce(t,e,n){return e=Mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mce(t){var e=Oce(t,"string");return bp(e)=="symbol"?e:e+""}function Oce(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ac={widthCache:{},cacheCount:0},Ice=2e3,Dce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},j4="recharts_measurement_span";function Lce(t){var e=$2({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var zh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dd.isSsr)return{width:0,height:0};var r=Lce(n),i=JSON.stringify({text:e,copyStyle:r});if(Ac.widthCache[i])return Ac.widthCache[i];try{var a=document.getElementById(j4);a||(a=document.createElement("span"),a.setAttribute("id",j4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=$2($2({},Dce),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Ac.widthCache[i]=l,++Ac.cacheCount>Ice&&(Ac.cacheCount=0,Ac.widthCache={}),l}catch{return{width:0,height:0}}},jce=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function f0(t,e){return Fce(t)||$ce(t,e)||Bce(t,e)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return R4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R4(t,e)}}function R4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Fce(t){if(Array.isArray(t))return t}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hce(r.key),r)}}function qce(t,e,n){return e&&B4(t.prototype,e),n&&B4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hce(t){var e=zce(t,"string");return xp(e)=="symbol"?e:e+""}function zce(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wce=Object.keys(gL),zc="NaN";function Yce(t,e){return t*gL[e]}var Um=function(){function t(e,n){Uce(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Vce.test(n)&&(this.num=NaN,this.unit=""),Wce.includes(n)&&(this.num=Yce(e,n),this.unit="px")}return qce(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Gce.exec(n))!==null&&r!==void 0?r:[],a=f0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function vL(t){if(t.includes(zc))return zc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=$4.exec(e))!==null&&n!==void 0?n:[],i=f0(r,4),a=i[1],o=i[2],s=i[3],l=Um.parse(a??""),u=Um.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return zc;e=e.replace($4,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=F4.exec(e))!==null&&f!==void 0?f:[],A=f0(h,4),v=A[1],b=A[2],w=A[3],y=Um.parse(v??""),x=Um.parse(w??""),S=b==="+"?y.add(x):y.subtract(x);if(S.isNaN())return zc;e=e.replace(F4,S.toString())}return e}var U4=/\(([^()]*)\)/;function Kce(t){for(var e=t;e.includes("(");){var n=U4.exec(e),r=f0(n,2),i=r[1];e=e.replace(U4,vL(i))}return e}function Jce(t){var e=t.replace(/\s+/g,"");return e=Kce(e),e=vL(e),e}function Xce(t){try{return Jce(t)}catch{return zc}}function w1(t){var e=Xce(t.slice(5,-1));return e===zc?"":e}var Qce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zce=["dx","dy","angle","className","breakAll"];function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(this,arguments)}function q4(t,e){if(t==null)return{};var n=efe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function efe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H4(t,e){return ife(t)||rfe(t,e)||nfe(t,e)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(t,e){if(t){if(typeof t=="string")return z4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z4(t,e)}}function z4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ife(t){if(Array.isArray(t))return t}var yL=/[ \f\n\r\t\v\u2028\u2029]+/,bL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Dt(n)||(r?a=n.toString().split(""):a=n.toString().split(yL));var o=a.map(function(l){return{word:l,width:zh(l,i).width}}),s=r?0:zh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},afe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Ye(o),f=s,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(R,U){var V=U.word,K=U.width,ee=R[R.length-1];if(ee&&(i==null||a||ee.width+K+r<Number(i)))ee.words.push(V),ee.width+=K+r;else{var le={words:[V],width:K};R.push(le)}return R},[])},A=h(n),v=function(G){return G.reduce(function(R,U){return R.width>U.width?R:U})};if(!c)return A;for(var b="",w=function(G){var R=f.slice(0,G),U=bL({breakAll:u,style:l,children:R+b}).wordsWithComputedWidth,V=h(U),K=V.length>o||v(V).width>Number(i);return[K,V]},y=0,x=f.length-1,S=0,T;y<=x&&S<=f.length-1;){var C=Math.floor((y+x)/2),k=C-1,E=w(k),O=H4(E,2),D=O[0],$=O[1],I=w(C),M=H4(I,1),B=M[0];if(!D&&!B&&(y=C+1),D&&B&&(x=C-1),!D&&B){T=$;break}S++}return T||A},V4=function(e){var n=Dt(e)?[]:e.toString().split(yL);return[{words:n}]},ofe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!dd.isSsr){var l,u,c=bL({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return V4(i);return afe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return V4(i)},G4="#808080",vu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,A=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,w=e.fill,y=w===void 0?G4:w,x=q4(e,Qce),S=oe.useMemo(function(){return ofe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),T=x.dx,C=x.dy,k=x.angle,E=x.className,O=x.breakAll,D=q4(x,Zce);if(!mr(r)||!mr(a))return null;var $=r+(Ye(T)?T:0),I=a+(Ye(C)?C:0),M;switch(b){case"start":M=w1("calc(".concat(u,")"));break;case"middle":M=w1("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=w1("calc(".concat(S.length-1," * -").concat(s,")"));break}var B=[];if(f){var F=S[0].width,G=x.width;B.push("scale(".concat((Ye(G)?G/F:1)/F,")"))}return k&&B.push("rotate(".concat(k,", ").concat($,", ").concat(I,")")),B.length&&(D.transform=B.join(" ")),de.createElement("text",F2({},gt(D,!0),{x:$,y:I,className:Ot("recharts-text",E),textAnchor:A,fill:y.includes("url")?G4:y}),S.map(function(R,U){var V=R.words.join(O?"":" ");return de.createElement("tspan",{x:$,dy:U===0?M:s,key:"".concat(V,"-").concat(U)},V)}))};function nl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sfe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function US(t){let e,n,r;t.length!==2?(e=nl,n=(s,l)=>nl(t(s),l),r=(s,l)=>t(s)-l):(e=t===nl||t===sfe?t:lfe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function lfe(){return 0}function xL(t){return t===null?NaN:+t}function*ufe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cfe=US(nl),mA=cfe.right;US(xL).center;class W4 extends Map{constructor(e,n=hfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Y4(this,e))}has(e){return super.has(Y4(this,e))}set(e,n){return super.set(ffe(this,e),n)}delete(e){return super.delete(dfe(this,e))}}function Y4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ffe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pfe(t=nl){if(t===nl)return wL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function wL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Afe=Math.sqrt(50),mfe=Math.sqrt(10),gfe=Math.sqrt(2);function d0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Afe?10:a>=mfe?5:a>=gfe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?d0(t,e,n*2):[s,l,u]}function U2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?d0(e,t,n):d0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function q2(t,e,n){return e=+e,t=+t,n=+n,d0(t,e,n)[2]}function H2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?q2(e,t,n):q2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function K4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function J4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function SL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?wL:pfe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),A=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));SL(t,e,A,v,i)}const a=t[e];let o=n,s=r;for(sh(t,n,e),i(t[r],a)>0&&sh(t,n,r);o<s;){for(sh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?sh(t,n,s):(++s,sh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function sh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function vfe(t,e,n){if(t=Float64Array.from(ufe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return J4(t);if(e>=1)return K4(t);var r,i=(r-1)*e,a=Math.floor(i),o=K4(SL(t,a).subarray(0,a+1)),s=J4(t.subarray(a+1));return o+(s-o)*(i-a)}}function yfe(t,e,n=xL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function bfe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ya(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function os(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const z2=Symbol("implicit");function qS(){var t=new W4,e=[],n=[],r=z2;function i(a){let o=t.get(a);if(o===void 0){if(r!==z2)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new W4;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qS(e,n).unknown(r)},ya.apply(i,arguments),i}function wp(){var t=qS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,A=i<r,v=A?i:r,b=A?r:i;a=(b-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(b-v-a*(h-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var w=bfe(h).map(function(y){return v+a*y});return n(A?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return wp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ya.apply(f(),arguments)}function _L(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _L(e())},t}function Vh(){return _L(wp.apply(null,arguments).paddingInner(1))}function HS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function TL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gA(){}var Sp=.7,h0=1/Sp,lf="\\s*([+-]?\\d+)\\s*",_p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xfe=/^#([0-9a-f]{3,8})$/,wfe=new RegExp(`^rgb\\(${lf},${lf},${lf}\\)$`),Sfe=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),_fe=new RegExp(`^rgba\\(${lf},${lf},${lf},${_p}\\)$`),Tfe=new RegExp(`^rgba\\(${oo},${oo},${oo},${_p}\\)$`),Cfe=new RegExp(`^hsl\\(${_p},${oo},${oo}\\)$`),Nfe=new RegExp(`^hsla\\(${_p},${oo},${oo},${_p}\\)$`),X4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};HS(gA,Tp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Q4,formatHex:Q4,formatHex8:Efe,formatHsl:kfe,formatRgb:Z4,toString:Z4});function Q4(){return this.rgb().formatHex()}function Efe(){return this.rgb().formatHex8()}function kfe(){return CL(this).formatHsl()}function Z4(){return this.rgb().formatRgb()}function Tp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?e3(e):n===3?new Ai(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wfe.exec(t))?new Ai(e[1],e[2],e[3],1):(e=Sfe.exec(t))?new Ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_fe.exec(t))?qm(e[1],e[2],e[3],e[4]):(e=Tfe.exec(t))?qm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cfe.exec(t))?r3(e[1],e[2]/100,e[3]/100,1):(e=Nfe.exec(t))?r3(e[1],e[2]/100,e[3]/100,e[4]):X4.hasOwnProperty(t)?e3(X4[t]):t==="transparent"?new Ai(NaN,NaN,NaN,0):null}function e3(t){return new Ai(t>>16&255,t>>8&255,t&255,1)}function qm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ai(t,e,n,r)}function Pfe(t){return t instanceof gA||(t=Tp(t)),t?(t=t.rgb(),new Ai(t.r,t.g,t.b,t.opacity)):new Ai}function V2(t,e,n,r){return arguments.length===1?Pfe(t):new Ai(t,e,n,r??1)}function Ai(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}HS(Ai,V2,TL(gA,{brighter(t){return t=t==null?h0:Math.pow(h0,t),new Ai(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sp:Math.pow(Sp,t),new Ai(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ai(lu(this.r),lu(this.g),lu(this.b),p0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t3,formatHex:t3,formatHex8:Mfe,formatRgb:n3,toString:n3}));function t3(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}`}function Mfe(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}${Kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function n3(){const t=p0(this.opacity);return`${t===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${t===1?")":`, ${t})`}`}function p0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kl(t){return t=lu(t),(t<16?"0":"")+t.toString(16)}function r3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ra(t,e,n,r)}function CL(t){if(t instanceof Ra)return new Ra(t.h,t.s,t.l,t.opacity);if(t instanceof gA||(t=Tp(t)),!t)return new Ra;if(t instanceof Ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ra(o,s,l,t.opacity)}function Ofe(t,e,n,r){return arguments.length===1?CL(t):new Ra(t,e,n,r??1)}function Ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}HS(Ra,Ofe,TL(gA,{brighter(t){return t=t==null?h0:Math.pow(h0,t),new Ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sp:Math.pow(Sp,t),new Ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ai(S1(t>=240?t-240:t+120,i,r),S1(t,i,r),S1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ra(i3(this.h),Hm(this.s),Hm(this.l),p0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=p0(this.opacity);return`${t===1?"hsl(":"hsla("}${i3(this.h)}, ${Hm(this.s)*100}%, ${Hm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function i3(t){return t=(t||0)%360,t<0?t+360:t}function Hm(t){return Math.max(0,Math.min(1,t||0))}function S1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zS=t=>()=>t;function Ife(t,e){return function(n){return t+n*e}}function Dfe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lfe(t){return(t=+t)==1?NL:function(e,n){return n-e?Dfe(e,n,t):zS(isNaN(e)?n:e)}}function NL(t,e){var n=e-t;return n?Ife(t,n):zS(isNaN(t)?e:t)}const a3=function t(e){var n=Lfe(e);function r(i,a){var o=n((i=V2(i)).r,(a=V2(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=NL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function jfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Rfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=hd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function $fe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function A0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ffe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=hd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var G2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_1=new RegExp(G2.source,"g");function Ufe(t){return function(){return t}}function qfe(t){return function(e){return t(e)+""}}function Hfe(t,e){var n=G2.lastIndex=_1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=G2.exec(t))&&(i=_1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:A0(r,i)})),n=_1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?qfe(l[0].x):Ufe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function hd(t,e){var n=typeof e,r;return e==null||n==="boolean"?zS(e):(n==="number"?A0:n==="string"?(r=Tp(e))?(e=r,a3):Hfe:e instanceof Tp?a3:e instanceof Date?$fe:Rfe(e)?jfe:Array.isArray(e)?Bfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ffe:A0)(t,e)}function VS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zfe(t,e){e===void 0&&(e=t,t=hd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Vfe(t){return function(){return t}}function m0(t){return+t}var o3=[0,1];function ti(t){return t}function W2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vfe(isNaN(e)?NaN:.5)}function Gfe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Wfe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=W2(i,r),a=n(o,a)):(r=W2(r,i),a=n(a,o)),function(s){return a(r(s))}}function Yfe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=W2(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=mA(t,s,1,r)-1;return a[l](i[l](s))}}function vA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yv(){var t=o3,e=o3,n=hd,r,i,a,o=ti,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==ti&&(o=Gfe(t[0],t[h-1])),s=h>2?Yfe:Wfe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),A0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,m0),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=VS,c()},f.clamp=function(h){return arguments.length?(o=h?!0:ti,c()):o!==ti},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,A){return r=h,i=A,c()}}function GS(){return Yv()(ti,ti)}function Kfe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function g0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Cf(t){return t=g0(Math.abs(t)),t?t[1]:NaN}function Jfe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Xfe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qfe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cp(t){if(!(e=Qfe.exec(t)))throw new Error("invalid format: "+t);var e;return new WS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cp.prototype=WS.prototype;function WS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}WS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zfe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var EL;function ede(t,e){var n=g0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(EL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+g0(t,Math.max(0,e+a-1))[0]}function s3(t,e){var n=g0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Kfe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>s3(t*100,e),r:s3,s:ede,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function u3(t){return t}var c3=Array.prototype.map,f3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tde(t){var e=t.grouping===void 0||t.thousands===void 0?u3:Jfe(c3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?u3:Xfe(c3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Cp(f);var h=f.fill,A=f.align,v=f.sign,b=f.symbol,w=f.zero,y=f.width,x=f.comma,S=f.precision,T=f.trim,C=f.type;C==="n"?(x=!0,C="g"):l3[C]||(S===void 0&&(S=12),T=!0,C="g"),(w||h==="0"&&A==="=")&&(w=!0,h="0",A="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=b==="$"?r:/[%p]/.test(C)?o:"",O=l3[C],D=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function $(I){var M=k,B=E,F,G,R;if(C==="c")B=O(I)+B,I="";else{I=+I;var U=I<0||1/I<0;if(I=isNaN(I)?l:O(Math.abs(I),S),T&&(I=Zfe(I)),U&&+I==0&&v!=="+"&&(U=!1),M=(U?v==="("?v:s:v==="-"||v==="("?"":v)+M,B=(C==="s"?f3[8+EL/3]:"")+B+(U&&v==="("?")":""),D){for(F=-1,G=I.length;++F<G;)if(R=I.charCodeAt(F),48>R||R>57){B=(R===46?i+I.slice(F+1):I.slice(F))+B,I=I.slice(0,F);break}}}x&&!w&&(I=e(I,1/0));var V=M.length+I.length+B.length,K=V<y?new Array(y-V+1).join(h):"";switch(x&&w&&(I=e(K+I,K.length?y-B.length:1/0),K=""),A){case"<":I=M+I+B+K;break;case"=":I=M+K+I+B;break;case"^":I=K.slice(0,V=K.length>>1)+M+I+B+K.slice(V);break;default:I=K+M+I+B;break}return a(I)}return $.toString=function(){return f+""},$}function c(f,h){var A=u((f=Cp(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Cf(h)/3)))*3,b=Math.pow(10,-v),w=f3[8+v/3];return function(y){return A(b*y)+w}}return{format:u,formatPrefix:c}}var zm,YS,kL;nde({thousands:",",grouping:[3],currency:["$",""]});function nde(t){return zm=tde(t),YS=zm.format,kL=zm.formatPrefix,zm}function rde(t){return Math.max(0,-Cf(Math.abs(t)))}function ide(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cf(e)/3)))*3-Cf(Math.abs(t)))}function ade(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cf(e)-Cf(t))+1}function PL(t,e,n,r){var i=H2(t,e,n),a;switch(r=Cp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ide(i,o))&&(r.precision=a),kL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ade(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=rde(i))&&(r.precision=a-(r.type==="%")*2);break}}return YS(r)}function pl(t){var e=t.domain;return t.ticks=function(n){var r=e();return U2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return PL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=q2(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function v0(){var t=GS();return t.copy=function(){return vA(t,v0())},ya.apply(t,arguments),pl(t)}function ML(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,m0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ML(t).unknown(e)},t=arguments.length?Array.from(t,m0):[0,1],pl(n)}function OL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function d3(t){return Math.log(t)}function h3(t){return Math.exp(t)}function ode(t){return-Math.log(-t)}function sde(t){return-Math.exp(-t)}function lde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ude(t){return t===10?lde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function cde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function p3(t){return(e,n)=>-t(-e,n)}function KS(t){const e=t(d3,h3),n=e.domain;let r=10,i,a;function o(){return i=cde(r),a=ude(r),n()[0]<0?(i=p3(i),a=p3(a),t(ode,sde)):t(d3,h3),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),A=i(c),v,b;const w=s==null?10:+s;let y=[];if(!(r%1)&&A-h<w){if(h=Math.floor(h),A=Math.ceil(A),u>0){for(;h<=A;++h)for(v=1;v<r;++v)if(b=h<0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}}else for(;h<=A;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}y.length*2<w&&(y=U2(u,c,w))}else y=U2(h,A,Math.min(A-h,w)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Cp(l)).precision==null&&(l.trim=!0),l=YS(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(OL(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function IL(){const t=KS(Yv()).domain([1,10]);return t.copy=()=>vA(t,IL()).base(t.base()),ya.apply(t,arguments),t}function A3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function m3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function JS(t){var e=1,n=t(A3(e),m3(e));return n.constant=function(r){return arguments.length?t(A3(e=+r),m3(e)):e},pl(n)}function DL(){var t=JS(Yv());return t.copy=function(){return vA(t,DL()).constant(t.constant())},ya.apply(t,arguments)}function g3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dde(t){return t<0?-t*t:t*t}function XS(t){var e=t(ti,ti),n=1;function r(){return n===1?t(ti,ti):n===.5?t(fde,dde):t(g3(n),g3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pl(e)}function QS(){var t=XS(Yv());return t.copy=function(){return vA(t,QS()).exponent(t.exponent())},ya.apply(t,arguments),t}function hde(){return QS.apply(null,arguments).exponent(.5)}function v3(t){return Math.sign(t)*t*t}function pde(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LL(){var t=GS(),e=[0,1],n=!1,r;function i(a){var o=pde(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(v3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,m0)).map(v3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ya.apply(i,arguments),pl(i)}function jL(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=yfe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[mA(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(nl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return jL().domain(t).range(e).unknown(r)},ya.apply(a,arguments)}function RL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[mA(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return RL().domain([t,e]).range(i).unknown(a)},ya.apply(pl(o),arguments)}function BL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mA(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BL().domain(t).range(e).unknown(n)},ya.apply(i,arguments)}const T1=new Date,C1=new Date;function vr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>vr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(T1.setTime(+a),C1.setTime(+o),t(T1),t(C1),Math.floor(n(T1,C1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const y0=vr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);y0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):y0);y0.range;const $o=1e3,fa=$o*60,Fo=fa*60,Qo=Fo*24,ZS=Qo*7,y3=Qo*30,N1=Qo*365,Jl=vr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCSeconds());Jl.range;const e_=vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$o)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getMinutes());e_.range;const t_=vr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCMinutes());t_.range;const n_=vr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$o-t.getMinutes()*fa)},(t,e)=>{t.setTime(+t+e*Fo)},(t,e)=>(e-t)/Fo,t=>t.getHours());n_.range;const r_=vr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Fo)},(t,e)=>(e-t)/Fo,t=>t.getUTCHours());r_.range;const yA=vr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fa)/Qo,t=>t.getDate()-1);yA.range;const Kv=vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qo,t=>t.getUTCDate()-1);Kv.range;const $L=vr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qo,t=>Math.floor(t/Qo));$L.range;function Mu(t){return vr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fa)/ZS)}const Jv=Mu(0),b0=Mu(1),Ade=Mu(2),mde=Mu(3),Nf=Mu(4),gde=Mu(5),vde=Mu(6);Jv.range;b0.range;Ade.range;mde.range;Nf.range;gde.range;vde.range;function Ou(t){return vr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ZS)}const Xv=Ou(0),x0=Ou(1),yde=Ou(2),bde=Ou(3),Ef=Ou(4),xde=Ou(5),wde=Ou(6);Xv.range;x0.range;yde.range;bde.range;Ef.range;xde.range;wde.range;const i_=vr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());i_.range;const a_=vr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());a_.range;const Zo=vr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Zo.range;const es=vr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});es.range;function FL(t,e,n,r,i,a){const o=[[Jl,1,$o],[Jl,5,5*$o],[Jl,15,15*$o],[Jl,30,30*$o],[a,1,fa],[a,5,5*fa],[a,15,15*fa],[a,30,30*fa],[i,1,Fo],[i,3,3*Fo],[i,6,6*Fo],[i,12,12*Fo],[r,1,Qo],[r,2,2*Qo],[n,1,ZS],[e,1,y3],[e,3,3*y3],[t,1,N1]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const A=f&&typeof f.range=="function"?f:l(u,c,f),v=A?A.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,A=US(([,,w])=>w).right(o,h);if(A===o.length)return t.every(H2(u/N1,c/N1,f));if(A===0)return y0.every(Math.max(H2(u,c,f),1));const[v,b]=o[h/o[A-1][2]<o[A][2]/h?A-1:A];return v.every(b)}return[s,l]}const[Sde,_de]=FL(es,a_,Xv,$L,r_,t_),[Tde,Cde]=FL(Zo,i_,Jv,yA,n_,e_);function E1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function k1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Nde(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=uh(i),c=ch(i),f=uh(a),h=ch(a),A=uh(o),v=ch(o),b=uh(s),w=ch(s),y=uh(l),x=ch(l),S={a:U,A:V,b:K,B:ee,c:null,d:T3,e:T3,f:Jde,g:ohe,G:lhe,H:Wde,I:Yde,j:Kde,L:UL,m:Xde,M:Qde,p:le,q:j,Q:E3,s:k3,S:Zde,u:ehe,U:the,V:nhe,w:rhe,W:ihe,x:null,X:null,y:ahe,Y:she,Z:uhe,"%":N3},T={a:z,A:Q,b:te,B:J,c:null,d:C3,e:C3,f:hhe,g:She,G:The,H:che,I:fhe,j:dhe,L:HL,m:phe,M:Ahe,p:se,q:ue,Q:E3,s:k3,S:mhe,u:ghe,U:vhe,V:yhe,w:bhe,W:xhe,x:null,X:null,y:whe,Y:_he,Z:Che,"%":N3},C={a:$,A:I,b:M,B,c:F,d:S3,e:S3,f:Hde,g:w3,G:x3,H:_3,I:_3,j:$de,L:qde,m:Bde,M:Fde,p:D,q:Rde,Q:Vde,s:Gde,S:Ude,u:Ode,U:Ide,V:Dde,w:Mde,W:Lde,x:G,X:R,y:w3,Y:x3,Z:jde,"%":zde};S.x=k(n,S),S.X=k(r,S),S.c=k(e,S),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(re,be){return function(_e){var fe=[],De=-1,Fe=0,Se=re.length,ie,Te,Ce;for(_e instanceof Date||(_e=new Date(+_e));++De<Se;)re.charCodeAt(De)===37&&(fe.push(re.slice(Fe,De)),(Te=b3[ie=re.charAt(++De)])!=null?ie=re.charAt(++De):Te=ie==="e"?" ":"0",(Ce=be[ie])&&(ie=Ce(_e,Te)),fe.push(ie),Fe=De+1);return fe.push(re.slice(Fe,De)),fe.join("")}}function E(re,be){return function(_e){var fe=lh(1900,void 0,1),De=O(fe,re,_e+="",0),Fe,Se;if(De!=_e.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(be&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Fe=k1(lh(fe.y,0,1)),Se=Fe.getUTCDay(),Fe=Se>4||Se===0?x0.ceil(Fe):x0(Fe),Fe=Kv.offset(Fe,(fe.V-1)*7),fe.y=Fe.getUTCFullYear(),fe.m=Fe.getUTCMonth(),fe.d=Fe.getUTCDate()+(fe.w+6)%7):(Fe=E1(lh(fe.y,0,1)),Se=Fe.getDay(),Fe=Se>4||Se===0?b0.ceil(Fe):b0(Fe),Fe=yA.offset(Fe,(fe.V-1)*7),fe.y=Fe.getFullYear(),fe.m=Fe.getMonth(),fe.d=Fe.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Se="Z"in fe?k1(lh(fe.y,0,1)).getUTCDay():E1(lh(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Se+5)%7:fe.w+fe.U*7-(Se+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,k1(fe)):E1(fe)}}function O(re,be,_e,fe){for(var De=0,Fe=be.length,Se=_e.length,ie,Te;De<Fe;){if(fe>=Se)return-1;if(ie=be.charCodeAt(De++),ie===37){if(ie=be.charAt(De++),Te=C[ie in b3?be.charAt(De++):ie],!Te||(fe=Te(re,_e,fe))<0)return-1}else if(ie!=_e.charCodeAt(fe++))return-1}return fe}function D(re,be,_e){var fe=u.exec(be.slice(_e));return fe?(re.p=c.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function $(re,be,_e){var fe=A.exec(be.slice(_e));return fe?(re.w=v.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function I(re,be,_e){var fe=f.exec(be.slice(_e));return fe?(re.w=h.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function M(re,be,_e){var fe=y.exec(be.slice(_e));return fe?(re.m=x.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function B(re,be,_e){var fe=b.exec(be.slice(_e));return fe?(re.m=w.get(fe[0].toLowerCase()),_e+fe[0].length):-1}function F(re,be,_e){return O(re,e,be,_e)}function G(re,be,_e){return O(re,n,be,_e)}function R(re,be,_e){return O(re,r,be,_e)}function U(re){return o[re.getDay()]}function V(re){return a[re.getDay()]}function K(re){return l[re.getMonth()]}function ee(re){return s[re.getMonth()]}function le(re){return i[+(re.getHours()>=12)]}function j(re){return 1+~~(re.getMonth()/3)}function z(re){return o[re.getUTCDay()]}function Q(re){return a[re.getUTCDay()]}function te(re){return l[re.getUTCMonth()]}function J(re){return s[re.getUTCMonth()]}function se(re){return i[+(re.getUTCHours()>=12)]}function ue(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var be=k(re+="",S);return be.toString=function(){return re},be},parse:function(re){var be=E(re+="",!1);return be.toString=function(){return re},be},utcFormat:function(re){var be=k(re+="",T);return be.toString=function(){return re},be},utcParse:function(re){var be=E(re+="",!0);return be.toString=function(){return re},be}}}var b3={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,Ede=/^%/,kde=/[\\^$*+?|[\]().{}]/g;function Vt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Pde(t){return t.replace(kde,"\\$&")}function uh(t){return new RegExp("^(?:"+t.map(Pde).join("|")+")","i")}function ch(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mde(t,e,n){var r=Nr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ode(t,e,n){var r=Nr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ide(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Dde(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lde(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function x3(t,e,n){var r=Nr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function w3(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jde(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rde(t,e,n){var r=Nr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Bde(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function S3(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $de(t,e,n){var r=Nr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _3(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Fde(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ude(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qde(t,e,n){var r=Nr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hde(t,e,n){var r=Nr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zde(t,e,n){var r=Ede.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Vde(t,e,n){var r=Nr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gde(t,e,n){var r=Nr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function T3(t,e){return Vt(t.getDate(),e,2)}function Wde(t,e){return Vt(t.getHours(),e,2)}function Yde(t,e){return Vt(t.getHours()%12||12,e,2)}function Kde(t,e){return Vt(1+yA.count(Zo(t),t),e,3)}function UL(t,e){return Vt(t.getMilliseconds(),e,3)}function Jde(t,e){return UL(t,e)+"000"}function Xde(t,e){return Vt(t.getMonth()+1,e,2)}function Qde(t,e){return Vt(t.getMinutes(),e,2)}function Zde(t,e){return Vt(t.getSeconds(),e,2)}function ehe(t){var e=t.getDay();return e===0?7:e}function the(t,e){return Vt(Jv.count(Zo(t)-1,t),e,2)}function qL(t){var e=t.getDay();return e>=4||e===0?Nf(t):Nf.ceil(t)}function nhe(t,e){return t=qL(t),Vt(Nf.count(Zo(t),t)+(Zo(t).getDay()===4),e,2)}function rhe(t){return t.getDay()}function ihe(t,e){return Vt(b0.count(Zo(t)-1,t),e,2)}function ahe(t,e){return Vt(t.getFullYear()%100,e,2)}function ohe(t,e){return t=qL(t),Vt(t.getFullYear()%100,e,2)}function she(t,e){return Vt(t.getFullYear()%1e4,e,4)}function lhe(t,e){var n=t.getDay();return t=n>=4||n===0?Nf(t):Nf.ceil(t),Vt(t.getFullYear()%1e4,e,4)}function uhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vt(e/60|0,"0",2)+Vt(e%60,"0",2)}function C3(t,e){return Vt(t.getUTCDate(),e,2)}function che(t,e){return Vt(t.getUTCHours(),e,2)}function fhe(t,e){return Vt(t.getUTCHours()%12||12,e,2)}function dhe(t,e){return Vt(1+Kv.count(es(t),t),e,3)}function HL(t,e){return Vt(t.getUTCMilliseconds(),e,3)}function hhe(t,e){return HL(t,e)+"000"}function phe(t,e){return Vt(t.getUTCMonth()+1,e,2)}function Ahe(t,e){return Vt(t.getUTCMinutes(),e,2)}function mhe(t,e){return Vt(t.getUTCSeconds(),e,2)}function ghe(t){var e=t.getUTCDay();return e===0?7:e}function vhe(t,e){return Vt(Xv.count(es(t)-1,t),e,2)}function zL(t){var e=t.getUTCDay();return e>=4||e===0?Ef(t):Ef.ceil(t)}function yhe(t,e){return t=zL(t),Vt(Ef.count(es(t),t)+(es(t).getUTCDay()===4),e,2)}function bhe(t){return t.getUTCDay()}function xhe(t,e){return Vt(x0.count(es(t)-1,t),e,2)}function whe(t,e){return Vt(t.getUTCFullYear()%100,e,2)}function She(t,e){return t=zL(t),Vt(t.getUTCFullYear()%100,e,2)}function _he(t,e){return Vt(t.getUTCFullYear()%1e4,e,4)}function The(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ef(t):Ef.ceil(t),Vt(t.getUTCFullYear()%1e4,e,4)}function Che(){return"+0000"}function N3(){return"%"}function E3(t){return+t}function k3(t){return Math.floor(+t/1e3)}var mc,VL,GL;Nhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nhe(t){return mc=Nde(t),VL=mc.format,mc.parse,GL=mc.utcFormat,mc.utcParse,mc}function Ehe(t){return new Date(t)}function khe(t){return t instanceof Date?+t:+new Date(+t)}function o_(t,e,n,r,i,a,o,s,l,u){var c=GS(),f=c.invert,h=c.domain,A=u(".%L"),v=u(":%S"),b=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),x=u("%b %d"),S=u("%B"),T=u("%Y");function C(k){return(l(k)<k?A:s(k)<k?v:o(k)<k?b:a(k)<k?w:r(k)<k?i(k)<k?y:x:n(k)<k?S:T)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?h(Array.from(k,khe)):h().map(Ehe)},c.ticks=function(k){var E=h();return t(E[0],E[E.length-1],k??10)},c.tickFormat=function(k,E){return E==null?C:u(E)},c.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?h(OL(E,k)):c},c.copy=function(){return vA(c,o_(t,e,n,r,i,a,o,s,l,u))},c}function Phe(){return ya.apply(o_(Tde,Cde,Zo,i_,Jv,yA,n_,e_,Jl,VL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mhe(){return ya.apply(o_(Sde,_de,es,a_,Xv,Kv,r_,t_,Jl,GL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qv(){var t=0,e=1,n,r,i,a,o=ti,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var A,v;return arguments.length?([A,v]=h,o=f(A,v),u):[o(0),o(1)]}}return u.range=c(hd),u.rangeRound=c(VS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Al(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WL(){var t=pl(Qv()(ti));return t.copy=function(){return Al(t,WL())},os.apply(t,arguments)}function YL(){var t=KS(Qv()).domain([1,10]);return t.copy=function(){return Al(t,YL()).base(t.base())},os.apply(t,arguments)}function KL(){var t=JS(Qv());return t.copy=function(){return Al(t,KL()).constant(t.constant())},os.apply(t,arguments)}function s_(){var t=XS(Qv());return t.copy=function(){return Al(t,s_()).exponent(t.exponent())},os.apply(t,arguments)}function Ohe(){return s_.apply(null,arguments).exponent(.5)}function JL(){var t=[],e=ti;function n(r){if(r!=null&&!isNaN(r=+r))return e((mA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(nl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>vfe(t,a/r))},n.copy=function(){return JL(e).domain(t)},os.apply(n,arguments)}function Zv(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=ti,c,f=!1,h;function A(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-a)*(r*b<r*a?s:l),u(f?Math.max(0,Math.min(1,b)):b))}A.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,A):[t,e,n]},A.clamp=function(b){return arguments.length?(f=!!b,A):f},A.interpolator=function(b){return arguments.length?(u=b,A):u};function v(b){return function(w){var y,x,S;return arguments.length?([y,x,S]=w,u=zfe(b,[y,x,S]),A):[u(0),u(.5),u(1)]}}return A.range=v(hd),A.rangeRound=v(VS),A.unknown=function(b){return arguments.length?(h=b,A):h},function(b){return c=b,i=b(t),a=b(e),o=b(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,A}}function XL(){var t=pl(Zv()(ti));return t.copy=function(){return Al(t,XL())},os.apply(t,arguments)}function QL(){var t=KS(Zv()).domain([.1,1,10]);return t.copy=function(){return Al(t,QL()).base(t.base())},os.apply(t,arguments)}function ZL(){var t=JS(Zv());return t.copy=function(){return Al(t,ZL()).constant(t.constant())},os.apply(t,arguments)}function l_(){var t=XS(Zv());return t.copy=function(){return Al(t,l_()).exponent(t.exponent())},os.apply(t,arguments)}function Ihe(){return l_.apply(null,arguments).exponent(.5)}const P3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wp,scaleDiverging:XL,scaleDivergingLog:QL,scaleDivergingPow:l_,scaleDivergingSqrt:Ihe,scaleDivergingSymlog:ZL,scaleIdentity:ML,scaleImplicit:z2,scaleLinear:v0,scaleLog:IL,scaleOrdinal:qS,scalePoint:Vh,scalePow:QS,scaleQuantile:jL,scaleQuantize:RL,scaleRadial:LL,scaleSequential:WL,scaleSequentialLog:YL,scaleSequentialPow:s_,scaleSequentialQuantile:JL,scaleSequentialSqrt:Ohe,scaleSequentialSymlog:KL,scaleSqrt:hde,scaleSymlog:DL,scaleThreshold:BL,scaleTime:Phe,scaleUtc:Mhe,tickFormat:PL},Symbol.toStringTag,{value:"Module"}));var Dhe=id;function Lhe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Dhe(o):n(o,s)))var s=o,l=a}return l}var ey=Lhe;function jhe(t,e){return t>e}var ej=jhe,Rhe=ey,Bhe=ej,$he=fd;function Fhe(t){return t&&t.length?Rhe(t,$he,Bhe):void 0}var Uhe=Fhe;const ty=Xt(Uhe);function qhe(t,e){return t<e}var tj=qhe,Hhe=ey,zhe=tj,Vhe=fd;function Ghe(t){return t&&t.length?Hhe(t,Vhe,zhe):void 0}var Whe=Ghe;const ny=Xt(Whe);var Yhe=wS,Khe=po,Jhe=uL,Xhe=xi;function Qhe(t,e){var n=Xhe(t)?Yhe:Jhe;return n(t,Khe(e))}var Zhe=Qhe,epe=sL,tpe=Zhe;function npe(t,e){return epe(tpe(t,e),1)}var rpe=npe;const ipe=Xt(rpe);var ape=RS;function ope(t,e){return ape(t,e)}var spe=ope;const ry=Xt(spe);var pd=1e9,lpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},c_,Ln=!0,ga="[DecimalError] ",uu=ga+"Invalid argument: ",u_=ga+"Exponent out of range: ",Ad=Math.floor,ql=Math.pow,upe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,wr=1e7,kn=7,nj=9007199254740991,w0=Ad(nj/kn),it={};it.absoluteValue=it.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};it.comparedTo=it.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};it.decimalPlaces=it.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*kn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};it.dividedBy=it.div=function(t){return Go(this,new this.constructor(t))};it.dividedToIntegerBy=it.idiv=function(t){var e=this,n=e.constructor;return pn(Go(e,new n(t),0,1),n.precision)};it.equals=it.eq=function(t){return!this.cmp(t)};it.exponent=function(){return lr(this)};it.greaterThan=it.gt=function(t){return this.cmp(t)>0};it.greaterThanOrEqualTo=it.gte=function(t){return this.cmp(t)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(t){return this.cmp(t)<0};it.lessThanOrEqualTo=it.lte=function(t){return this.cmp(t)<1};it.logarithm=it.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oi))throw Error(ga+"NaN");if(n.s<1)throw Error(ga+(n.s?"NaN":"-Infinity"));return n.eq(Oi)?new r(0):(Ln=!1,e=Go(Np(n,a),Np(t,a),a),Ln=!0,pn(e,i))};it.minus=it.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aj(e,t):rj(e,(t.s=-t.s,t))};it.modulo=it.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ga+"NaN");return n.s?(Ln=!1,e=Go(n,t,0,1).times(t),Ln=!0,n.minus(e)):pn(new r(n),i)};it.naturalExponential=it.exp=function(){return ij(this)};it.naturalLogarithm=it.ln=function(){return Np(this)};it.negated=it.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};it.plus=it.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rj(e,t):aj(e,(t.s=-t.s,t))};it.precision=it.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uu+t);if(e=lr(i)+1,r=i.d.length-1,n=r*kn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};it.squareRoot=it.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ga+"NaN")}for(t=lr(s),Ln=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=ro(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ad((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Go(s,a,o+2)).times(.5),ro(a.d).slice(0,o)===(e=ro(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(pn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Ln=!0,pn(r,n)};it.times=it.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,A=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=A.length,l<u&&(a=h,h=A,A=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+A[r]*h[i-r-1]+e,a[i--]=s%wr|0,e=s/wr|0;a[i]=(a[i]+e)%wr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ln?pn(t,f.precision):t};it.toDecimalPlaces=it.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(lo(t,0,pd),e===void 0?e=r.rounding:lo(e,0,8),pn(n,t+lr(n)+1,e))};it.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yu(r,!0):(lo(t,0,pd),e===void 0?e=i.rounding:lo(e,0,8),r=pn(new i(r),t+1,e),n=yu(r,!0,t+1)),n};it.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?yu(i):(lo(t,0,pd),e===void 0?e=a.rounding:lo(e,0,8),r=pn(new a(i),t+lr(i)+1,e),n=yu(r.abs(),!1,t+lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};it.toInteger=it.toint=function(){var t=this,e=t.constructor;return pn(new e(t),lr(t)+1,e.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Oi);if(s=new l(s),!s.s){if(t.s<1)throw Error(ga+"Infinity");return s}if(s.eq(Oi))return s;if(r=l.precision,t.eq(Oi))return pn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=nj){for(i=new l(Oi),e=Math.ceil(r/kn+4),Ln=!1;n%2&&(i=i.times(s),O3(i.d,e)),n=Ad(n/2),n!==0;)s=s.times(s),O3(s.d,e);return Ln=!0,t.s<0?new l(Oi).div(i):pn(i,r)}}else if(a<0)throw Error(ga+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ln=!1,i=t.times(Np(s,r+u)),Ln=!0,i=ij(i),i.s=a,i};it.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=lr(i),r=yu(i,n<=a.toExpNeg||n>=a.toExpPos)):(lo(t,1,pd),e===void 0?e=a.rounding:lo(e,0,8),i=pn(new a(i),t,e),n=lr(i),r=yu(i,t<=n||n<=a.toExpNeg,t)),r};it.toSignificantDigits=it.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(lo(t,1,pd),e===void 0?e=r.rounding:lo(e,0,8)),pn(new r(n),t,e)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lr(t),n=t.constructor;return yu(t,e<=n.toExpNeg||e>=n.toExpPos)};function rj(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ln?pn(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/kn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/wr|0,l[a]%=wr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Ln?pn(e,f):e}function lo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uu+t)}function ro(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=kn-r.length,n&&(a+=Ps(n)),a+=r;o=t[e],r=o+"",n=kn-r.length,n&&(a+=Ps(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Go=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%wr|0,o=a/wr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*wr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,A,v,b,w,y,x,S,T,C,k,E,O,D=r.constructor,$=r.s==i.s?1:-1,I=r.d,M=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(ga+"Division by zero");for(l=r.e-i.e,E=M.length,C=I.length,A=new D($),v=A.d=[],u=0;M[u]==(I[u]||0);)++u;if(M[u]>(I[u]||0)&&--l,a==null?x=a=D.precision:o?x=a+(lr(r)-lr(i))+1:x=a,x<0)return new D(0);if(x=x/kn+2|0,u=0,E==1)for(c=0,M=M[0],x++;(u<C||c)&&x--;u++)S=c*wr+(I[u]||0),v[u]=S/M|0,c=S%M|0;else{for(c=wr/(M[0]+1)|0,c>1&&(M=t(M,c),I=t(I,c),E=M.length,C=I.length),T=E,b=I.slice(0,E),w=b.length;w<E;)b[w++]=0;O=M.slice(),O.unshift(0),k=M[0],M[1]>=wr/2&&++k;do c=0,s=e(M,b,E,w),s<0?(y=b[0],E!=w&&(y=y*wr+(b[1]||0)),c=y/k|0,c>1?(c>=wr&&(c=wr-1),f=t(M,c),h=f.length,w=b.length,s=e(f,b,h,w),s==1&&(c--,n(f,E<h?O:M,h))):(c==0&&(s=c=1),f=M.slice()),h=f.length,h<w&&f.unshift(0),n(b,f,w),s==-1&&(w=b.length,s=e(M,b,E,w),s<1&&(c++,n(b,E<w?O:M,w))),w=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[w++]=I[T]||0:(b=[I[T]],w=1);while((T++<C||b[0]!==void 0)&&x--)}return v[0]||v.shift(),A.e=l,pn(A,o?a+lr(A)+1:a)}}();function ij(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(lr(t)>16)throw Error(u_+lr(t));if(!t.s)return new c(Oi);for(Ln=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(ql(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Oi),c.precision=s;;){if(i=pn(i.times(t),s),n=n.times(++l),o=a.plus(Go(i,n,s)),ro(o.d).slice(0,s)===ro(a.d).slice(0,s)){for(;u--;)a=pn(a.times(a),s);return c.precision=f,e==null?(Ln=!0,pn(a,f)):a}a=o}}function lr(t){for(var e=t.e*kn,n=t.d[0];n>=10;n/=10)e++;return e}function P1(t,e,n){if(e>t.LN10.sd())throw Ln=!0,n&&(t.precision=n),Error(ga+"LN10 precision limit exceeded");return pn(new t(t.LN10),e)}function Ps(t){for(var e="";t--;)e+="0";return e}function Np(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,A=t,v=A.d,b=A.constructor,w=b.precision;if(A.s<1)throw Error(ga+(A.s?"NaN":"-Infinity"));if(A.eq(Oi))return new b(0);if(e==null?(Ln=!1,u=w):u=e,A.eq(10))return e==null&&(Ln=!0),P1(b,u);if(u+=h,b.precision=u,n=ro(v),r=n.charAt(0),a=lr(A),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(t),n=ro(A.d),r=n.charAt(0),f++;a=lr(A),r>1?(A=new b("0."+n),a++):A=new b(r+"."+n.slice(1))}else return l=P1(b,u+2,w).times(a+""),A=Np(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=w,e==null?(Ln=!0,pn(A,w)):A;for(s=o=A=Go(A.minus(Oi),A.plus(Oi),u),c=pn(A.times(A),u),i=3;;){if(o=pn(o.times(c),u),l=s.plus(Go(o,new b(i),u)),ro(l.d).slice(0,u)===ro(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(P1(b,u+2,w).times(a+""))),s=Go(s,new b(f),u),b.precision=w,e==null?(Ln=!0,pn(s,w)):s;s=l,i+=2}}function M3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ad(n/kn),t.d=[],r=(n+1)%kn,n<0&&(r+=kn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=kn;r<i;)t.d.push(+e.slice(r,r+=kn));e=e.slice(r),r=kn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ln&&(t.e>w0||t.e<-w0))throw Error(u_+n)}else t.s=0,t.e=0,t.d=[0];return t}function pn(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=kn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/kn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=kn,i=r-kn+o}if(n!==void 0&&(a=ql(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ql(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=lr(t),f.length=1,e=e-a-1,f[0]=ql(10,(kn-e%kn)%kn),t.e=Ad(-e/kn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=ql(10,kn-r),f[c]=i>0?(u/ql(10,o-i)%ql(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==wr&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=wr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ln&&(t.e>w0||t.e<-w0))throw Error(u_+lr(t));return t}function aj(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,A=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ln?pn(e,A):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(A/kn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=wr-1;--l[a],l[i]+=wr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ln?pn(e,A):e):new h(0)}function yu(t,e,n){var r,i=lr(t),a=ro(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ps(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ps(-i-1)+a,n&&(r=n-o)>0&&(a+=Ps(r))):i>=o?(a+=Ps(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ps(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ps(r))),t.s<0?"-"+a:a}function O3(t,e){if(t.length>e)return t.length=e,!0}function oj(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(uu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return M3(o,a.toString())}else if(typeof a!="string")throw Error(uu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,upe.test(a))M3(o,a);else throw Error(uu+a)}if(i.prototype=it,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oj,i.config=i.set=cpe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function cpe(t){if(!t||typeof t!="object")throw Error(ga+"Object expected");var e,n,r,i=["precision",1,pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ad(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uu+n+": "+r);return this}var c_=oj(lpe);Oi=new c_(1);const un=c_;function fpe(t){return Ape(t)||ppe(t)||hpe(t)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(t,e){if(t){if(typeof t=="string")return Y2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y2(t,e)}}function ppe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ape(t){if(Array.isArray(t))return Y2(t)}function Y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mpe=function(e){return e},sj={},lj=function(e){return e===sj},I3=function(e){return function n(){return arguments.length===0||arguments.length===1&&lj(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},gpe=function t(e,n){return e===1?n:I3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==sj}).length;return o>=e?n.apply(void 0,i):t(e-o,I3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return lj(f)?l.shift():f});return n.apply(void 0,fpe(c).concat(l))}))})},iy=function(e){return gpe(e.length,e)},K2=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},vpe=iy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ype=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return mpe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},J2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uj=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function bpe(t){var e;return t===0?e=1:e=Math.floor(new un(t).abs().log(10).toNumber())+1,e}function xpe(t,e,n){for(var r=new un(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var wpe=iy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Spe=iy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),_pe=iy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ay={rangeStep:xpe,getDigitCount:bpe,interpolateNumber:wpe,uninterpolateNumber:Spe,uninterpolateTruncation:_pe};function X2(t){return Npe(t)||Cpe(t)||cj(t)||Tpe()}function Tpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Npe(t){if(Array.isArray(t))return Q2(t)}function Ep(t,e){return Ppe(t)||kpe(t,e)||cj(t,e)||Epe()}function Epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cj(t,e){if(t){if(typeof t=="string")return Q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q2(t,e)}}function Q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kpe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Ppe(t){if(Array.isArray(t))return t}function fj(t){var e=Ep(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function dj(t,e,n){if(t.lte(0))return new un(0);var r=ay.getDigitCount(t.toNumber()),i=new un(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new un(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new un(Math.ceil(l))}function Mpe(t,e,n){var r=1,i=new un(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new un(10).pow(ay.getDigitCount(t)-1),i=new un(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new un(Math.floor(t)))}else t===0?i=new un(Math.floor((e-1)/2)):n||(i=new un(Math.floor(t)));var o=Math.floor((e-1)/2),s=ype(vpe(function(l){return i.add(new un(l-o).mul(r)).toNumber()}),K2);return s(0,e)}function hj(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new un(0),tickMin:new un(0),tickMax:new un(0)};var a=dj(new un(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new un(0):(o=new un(t).add(e).div(2),o=o.sub(new un(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new un(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?hj(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new un(s).mul(a)),tickMax:o.add(new un(l).mul(a))})}function Ope(t){var e=Ep(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=fj([n,r]),l=Ep(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(X2(K2(0,i-1).map(function(){return 1/0}))):[].concat(X2(K2(0,i-1).map(function(){return-1/0})),[c]);return n>r?J2(f):f}if(u===c)return Mpe(u,i,a);var h=hj(u,c,o,a),A=h.step,v=h.tickMin,b=h.tickMax,w=ay.rangeStep(v,b.add(new un(.1).mul(A)),A);return n>r?J2(w):w}function Ipe(t,e){var n=Ep(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fj([r,i]),s=Ep(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=dj(new un(u).sub(l).div(c-1),a,0),h=[].concat(X2(ay.rangeStep(new un(l),new un(u).sub(new un(.99).mul(f)),f)),[u]);return r>i?J2(h):h}var Dpe=uj(Ope),Lpe=uj(Ipe),jpe="Invariant failed";function bu(t,e){throw new Error(jpe)}var Rpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function Bpe(t,e){return qpe(t)||Upe(t,e)||Fpe(t,e)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(t,e){if(t){if(typeof t=="string")return D3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D3(t,e)}}function D3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Upe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qpe(t){if(Array.isArray(t))return t}function Hpe(t,e){if(t==null)return{};var n=zpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mj(r.key),r)}}function Wpe(t,e,n){return e&&Gpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ype(t,e,n){return e=_0(e),Kpe(t,pj()?Reflect.construct(e,n||[],_0(t).constructor):e.apply(t,n))}function Kpe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jpe(t)}function Jpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pj=function(){return!!t})()}function _0(t){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_0(t)}function Xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z2(t,e)}function Z2(t,e){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z2(t,e)}function Aj(t,e,n){return e=mj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mj(t){var e=Qpe(t,"string");return kf(e)=="symbol"?e:e+""}function Qpe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oy=function(t){function e(){return Vpe(this,e),Ype(this,e,arguments)}return Xpe(e,t),Wpe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Hpe(r,Rpe),A=gt(h,!1);this.props.direction==="x"&&c.type!=="number"&&bu();var v=l.map(function(b){var w=u(b,s),y=w.x,x=w.y,S=w.value,T=w.errorVal;if(!T)return null;var C=[],k,E;if(Array.isArray(T)){var O=Bpe(T,2);k=O[0],E=O[1]}else k=E=T;if(a==="vertical"){var D=c.scale,$=x+i,I=$+o,M=$-o,B=D(S-k),F=D(S+E);C.push({x1:F,y1:I,x2:F,y2:M}),C.push({x1:B,y1:$,x2:F,y2:$}),C.push({x1:B,y1:I,x2:B,y2:M})}else if(a==="horizontal"){var G=f.scale,R=y+i,U=R-o,V=R+o,K=G(S-k),ee=G(S+E);C.push({x1:U,y1:ee,x2:V,y2:ee}),C.push({x1:R,y1:K,x2:R,y2:ee}),C.push({x1:U,y1:K,x2:V,y2:K})}return de.createElement(rn,S0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},A),C.map(function(le){return de.createElement("line",S0({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return de.createElement(rn,{className:"recharts-errorBars"},v)}}])}(de.Component);Aj(oy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Aj(oy,"displayName","ErrorBar");function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function L3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L3(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eAe(t){var e=tAe(t,"string");return kp(e)=="symbol"?e:e+""}function tAe(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gj=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ei(n,su);if(!o)return null;var s=su.defaultProps,l=s!==void 0?Pl(Pl({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,A=f.props,v=A.sectors||A.data||[];return c.concat(v.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,A=h!==void 0?Pl(Pl({},h),f.props):{},v=A.dataKey,b=A.name,w=A.legendType,y=A.hide;return{inactive:y,dataKey:v,type:l.iconType||w||"square",color:f_(f),value:b||v,payload:A}}),Pl(Pl(Pl({},l),su.getWithHeight(o,i)),{},{payload:u,item:o})};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function j3(t){return aAe(t)||iAe(t)||rAe(t)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rAe(t,e){if(t){if(typeof t=="string")return ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(t,e)}}function iAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aAe(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){uf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uf(t,e,n){return e=oAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oAe(t){var e=sAe(t,"string");return Pp(e)=="symbol"?e:e+""}function sAe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vr(t,e,n){return Dt(t)||Dt(e)?n:mr(e)?Fi(t,e,n):yt(e)?e(t):n}function Gh(t,e,n,r){var i=ipe(t,function(s){return Vr(s,e)});if(n==="number"){var a=i.filter(function(s){return Ye(s)||parseFloat(s)});return a.length?[ny(a),ty(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Dt(s)}):i;return o.map(function(s){return mr(s)||s instanceof Date?s:""})}var lAe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,A=void 0;if(Zr(f-c)!==Zr(h-f)){var v=[];if(Zr(h-f)===Zr(l[1]-l[0])){A=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{A=c;var w=h+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(A+f)/2),Math.max(f,(A+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var x=Math.min(c,h),S=Math.max(c,h);if(e>(x+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},f_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Hn(Hn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},uAe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,A=f.length;h<A;h++){var v=c[f[h]],b=v.items,w=v.cateAxisId,y=b.filter(function(E){return Vo(E.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,S=x!==void 0?Hn(Hn({},x),y[0].props):y[0].props,T=S.barSize,C=S[w];o[C]||(o[C]=[]);var k=Dt(T)?n:T;o[C].push({item:y[0],stackList:y.slice(1),barSize:Dt(k)?void 0:ei(k,r,0)})}}return o},cAe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ei(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,A=i/l,v=o.reduce(function(T,C){return T+C.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&A>0&&(h=!0,A*=.9,v=l*A);var b=(i-v)/2>>0,w={offset:b-u,size:0};c=o.reduce(function(T,C){var k={item:C.item,position:{offset:w.offset+w.size+u,size:h?A:C.barSize}},E=[].concat(j3(T),[k]);return w=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(O){E.push({item:O,position:w})}),E},f)}else{var y=ei(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var S=s===+s?Math.min(x,s):x;c=o.reduce(function(T,C,k){var E=[].concat(j3(T),[{item:C.item,position:{offset:y+(x+u)*k+(x-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(O){E.push({item:O,position:E[E.length-1].position})}),E},f)}return c},fAe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=gj({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,A=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&A!=="center"&&Ye(e[A]))return Hn(Hn({},e),{},uf({},A,e[A]+(f||0)));if((b==="horizontal"||b==="vertical"&&A==="center")&&v!=="middle"&&Ye(e[v]))return Hn(Hn({},e),{},uf({},v,e[v]+(h||0)))}return e},dAe=function(e,n,r){return Dt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},vj=function(e,n,r,i,a){var o=n.props.children,s=Aa(o,oy).filter(function(u){return dAe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Vr(c,r);if(Dt(f))return u;var h=Array.isArray(f)?[ny(f),ty(f)]:[f,f],A=l.reduce(function(v,b){var w=Vr(c,b,0),y=h[0]-Math.abs(Array.isArray(w)?w[0]:w),x=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(A[0],u[0]),Math.max(A[1],u[1])]},[1/0,-1/0])}return null},hAe=function(e,n,r,i,a){var o=n.map(function(s){return vj(e,s,r,a,i)}).filter(function(s){return!Dt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},yj=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&vj(e,l,u,i)||Gh(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},bj=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},xj=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Uo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Zr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!hA(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},M1=new WeakMap,Vm=function(e,n){if(typeof n!="function")return e;M1.has(e)||M1.set(e,new WeakMap);var r=M1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},wj=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:wp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:v0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Vh(),realScaleType:"point"}:a==="category"?{scale:wp(),realScaleType:"band"}:{scale:v0(),realScaleType:"linear"};if(mu(i)){var l="scale".concat(Fv(i));return{scale:(P3[l]||Vh)(),realScaleType:P3[l]?l:"point"}}return yt(i)?{scale:i}:{scale:Vh(),realScaleType:"point"}},B3=1e-4,Sj=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-B3,o=Math.max(i[0],i[1])+B3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},pAe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},AAe=function(e,n){if(!n||n.length!==2||!Ye(n[0])||!Ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ye(e[0])||e[0]<r)&&(a[0]=r),(!Ye(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},mAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=hA(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},gAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=hA(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},vAe={sign:mAe,expand:Rte,none:xf,silhouette:Bte,wiggle:$te,positive:gAe},yAe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=vAe[r],o=jte().keys(i).value(function(s,l){return+Vr(s,l,0)}).order(T2).offset(a);return o(e)},bAe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var A,v=(A=h.type)!==null&&A!==void 0&&A.defaultProps?Hn(Hn({},h.type.defaultProps),h.props):h.props,b=v.stackId,w=v.hide;if(w)return f;var y=v[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(mr(b)){var S=x.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),x.hasStack=!0,x.stackGroups[b]=S}else x.stackGroups[pA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Hn(Hn({},f),{},uf({},y,x))},l),c={};return Object.keys(u).reduce(function(f,h){var A=u[h];if(A.hasStack){var v={};A.stackGroups=Object.keys(A.stackGroups).reduce(function(b,w){var y=A.stackGroups[w];return Hn(Hn({},b),{},uf({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:yAe(e,y.items,a)}))},v)}return Hn(Hn({},f),{},uf({},h,A))},c)},_j=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Dpe(u,a,s);return e.domain([ny(c),ty(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=Lpe(f,a,s);return{niceTicks:h}}return null},$3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Vr(o,n.dataKey,n.domain[s]);return Dt(l)?null:n.scale(l)-a/2+i},xAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},wAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Hn(Hn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(mr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},SAe=function(e){return e.reduce(function(n,r){return[ny(r.concat([n[0]]).filter(Ye)),ty(r.concat([n[1]]).filter(Ye))]},[1/0,-1/0])},Tj=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=SAe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},F3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,U3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tw=function(e,n,r){if(yt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(F3.test(e[0])){var a=+F3.exec(e[0])[1];i[0]=n[0]-a}else yt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(U3.test(e[1])){var o=+U3.exec(e[1])[1];i[1]=n[1]+o}else yt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},T0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=$S(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},q3=function(e,n,r){return!e||!e.length||ry(e,Fi(r,"type.defaultProps.domain"))?n:e},Cj=function(e,n){var r=e.type.defaultProps?Hn(Hn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Hn(Hn({},gt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:f_(e),value:Vr(n,i),type:l,payload:n,chartType:u,hide:c})};function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){Nj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nj(t,e,n){return e=_Ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ae(t){var e=TAe(t,"string");return Mp(e)=="symbol"?e:e+""}function TAe(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CAe(t,e){return PAe(t)||kAe(t,e)||EAe(t,e)||NAe()}function NAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EAe(t,e){if(t){if(typeof t=="string")return z3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z3(t,e)}}function z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function PAe(t){if(Array.isArray(t))return t}var C0=Math.PI/180,MAe=function(e){return e*180/Math.PI},Sn=function(e,n,r,i){return{x:e+Math.cos(-C0*i)*r,y:n+Math.sin(-C0*i)*r}},Ej=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},OAe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=ei(e.cx,o,o/2),f=ei(e.cy,s,s/2),h=Ej(o,s,r),A=ei(e.innerRadius,h,0),v=ei(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(w,y){var x=n[y],S=x.domain,T=x.reversed,C;if(Dt(x.range))i==="angleAxis"?C=[l,u]:i==="radiusAxis"&&(C=[A,v]),T&&(C=[C[1],C[0]]);else{C=x.range;var k=C,E=CAe(k,2);l=E[0],u=E[1]}var O=wj(x,a),D=O.realScaleType,$=O.scale;$.domain(S).range(C),Sj($);var I=_j($,Oo(Oo({},x),{},{realScaleType:D})),M=Oo(Oo(Oo({},x),I),{},{range:C,radius:v,realScaleType:D,scale:$,cx:c,cy:f,innerRadius:A,outerRadius:v,startAngle:l,endAngle:u});return Oo(Oo({},w),{},Nj({},y,M))},{})},IAe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},DAe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=IAe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:MAe(u),angleInRadian:u}},LAe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},jAe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},V3=function(e,n){var r=e.x,i=e.y,a=DAe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=LAe(n),f=c.startAngle,h=c.endAngle,A=s,v;if(f<=h){for(;A>h;)A-=360;for(;A<f;)A+=360;v=A>=f&&A<=h}else{for(;A>f;)A-=360;for(;A<h;)A+=360;v=A>=h&&A<=f}return v?Oo(Oo({},n),{},{radius:o,angle:jAe(A,n)}):null},kj=function(e){return!oe.isValidElement(e)&&!yt(e)&&typeof e!="boolean"?e.className:""};function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}var RAe=["offset"];function BAe(t){return qAe(t)||UAe(t)||FAe(t)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FAe(t,e){if(t){if(typeof t=="string")return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}}function UAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qAe(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HAe(t,e){if(t==null)return{};var n=zAe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){VAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VAe(t,e,n){return e=GAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GAe(t){var e=WAe(t,"string");return Op(e)=="symbol"?e:e+""}function WAe(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}var YAe=function(e){var n=e.value,r=e.formatter,i=Dt(e.children)?n:e.children;return yt(r)?r(i):i},KAe=function(e,n){var r=Zr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},JAe=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,A=l.startAngle,v=l.endAngle,b=l.clockWise,w=(f+h)/2,y=KAe(A,v),x=y>=0?1:-1,S,T;i==="insideStart"?(S=A+x*o,T=b):i==="insideEnd"?(S=v-x*o,T=!b):i==="end"&&(S=v+x*o,T=b),T=y<=0?T:!T;var C=Sn(u,c,w,S),k=Sn(u,c,w,S+(T?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),O=Dt(e.id)?pA("recharts-radial-line-"):e.id;return de.createElement("text",Ip({},r,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",s)}),de.createElement("defs",null,de.createElement("path",{id:O,d:E})),de.createElement("textPath",{xlinkHref:"#".concat(O)},n))},XAe=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var A=Sn(o,s,u+r,h),v=A.x,b=A.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=Sn(o,s,w,h),x=y.x,S=y.y;return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},QAe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,A=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,w=b*i,y=b>0?"end":"start",x=b>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:A};return fr(fr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return fr(fr({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var C={x:s-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return fr(fr({},C),r?{width:Math.max(C.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return fr(fr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?fr({x:s+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideRight"?fr({x:s+u-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?fr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?fr({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:A},E):a==="insideTopLeft"?fr({x:s+w,y:l+h,textAnchor:x,verticalAnchor:v},E):a==="insideTopRight"?fr({x:s+u-w,y:l+h,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?fr({x:s+w,y:l+c-h,textAnchor:x,verticalAnchor:A},E):a==="insideBottomRight"?fr({x:s+u-w,y:l+c-h,textAnchor:y,verticalAnchor:A},E):ad(a)&&(Ye(a.x)||Yl(a.x))&&(Ye(a.y)||Yl(a.y))?fr({x:s+ei(a.x,u),y:l+ei(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):fr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},ZAe=function(e){return"cx"in e&&Ye(e.cx)};function Tr(t){var e=t.offset,n=e===void 0?5:e,r=HAe(t,RAe),i=fr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||Dt(s)&&Dt(l)&&!oe.isValidElement(u)&&!yt(u))return null;if(oe.isValidElement(u))return oe.cloneElement(u,i);var A;if(yt(u)){if(A=oe.createElement(u,i),oe.isValidElement(A))return A}else A=YAe(i);var v=ZAe(a),b=gt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return JAe(i,A,b);var w=v?XAe(i):QAe(i);return de.createElement(vu,Ip({className:Ot("recharts-label",f)},b,w,{breakAll:h}),A)}Tr.displayName="Label";var Pj=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,A=e.top,v=e.left,b=e.width,w=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(Ye(b)&&Ye(w)){if(Ye(f)&&Ye(h))return{x:f,y:h,width:b,height:w};if(Ye(A)&&Ye(v))return{x:A,y:v,width:b,height:w}}return Ye(f)&&Ye(h)?{x:f,y:h,width:0,height:0}:Ye(n)&&Ye(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},eme=function(e,n){return e?e===!0?de.createElement(Tr,{key:"label-implicit",viewBox:n}):mr(e)?de.createElement(Tr,{key:"label-implicit",viewBox:n,value:e}):oe.isValidElement(e)?e.type===Tr?oe.cloneElement(e,{key:"label-implicit",viewBox:n}):de.createElement(Tr,{key:"label-implicit",content:e,viewBox:n}):yt(e)?de.createElement(Tr,{key:"label-implicit",content:e,viewBox:n}):ad(e)?de.createElement(Tr,Ip({viewBox:n},e,{key:"label-implicit"})):null:null},tme=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Pj(e),o=Aa(i,Tr).map(function(l,u){return oe.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=eme(e.label,n||a);return[s].concat(BAe(o))};Tr.parseViewBox=Pj;Tr.renderCallByParent=tme;function nme(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var rme=nme;const ime=Xt(rme);function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var ame=["valueAccessor"],ome=["data","dataKey","clockWise","id","textBreakAll"];function sme(t){return fme(t)||cme(t)||ume(t)||lme()}function lme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ume(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function cme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fme(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dme(t,e,n){return e=hme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hme(t){var e=pme(t,"string");return Dp(e)=="symbol"?e:e+""}function pme(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K3(t,e){if(t==null)return{};var n=Ame(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mme=function(e){return Array.isArray(e.value)?ime(e.value):e.value};function rl(t){var e=t.valueAccessor,n=e===void 0?mme:e,r=K3(t,ame),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=K3(r,ome);return!i||!i.length?null:de.createElement(rn,{className:"recharts-label-list"},i.map(function(c,f){var h=Dt(a)?n(c,f):Vr(c&&c.payload,a),A=Dt(s)?{}:{id:"".concat(s,"-").concat(f)};return de.createElement(Tr,N0({},gt(c,!0),u,A,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Tr.parseViewBox(Dt(o)?c:Y3(Y3({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}rl.displayName="LabelList";function gme(t,e){return t?t===!0?de.createElement(rl,{key:"labelList-implicit",data:e}):de.isValidElement(t)||yt(t)?de.createElement(rl,{key:"labelList-implicit",data:e,content:t}):ad(t)?de.createElement(rl,N0({data:e},t,{key:"labelList-implicit"})):null:null}function vme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Aa(r,rl).map(function(o,s){return oe.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=gme(t.label,e);return[a].concat(sme(i))}rl.renderCallByParent=vme;function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return e=bme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bme(t){var e=xme(t,"string");return Lp(e)=="symbol"?e:e+""}function xme(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wme=function(e,n){var r=Zr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Gm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/C0,h=u?a:a+o*f,A=Sn(n,r,c,h),v=Sn(n,r,i,h),b=u?a-o*f:a,w=Sn(n,r,c*Math.cos(f*C0),b);return{center:A,circleTangency:v,lineTangency:w,theta:f}},Mj=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=wme(o,s),u=o+l,c=Sn(n,r,a,o),f=Sn(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var A=Sn(n,r,i,o),v=Sn(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(A.x,",").concat(A.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Sme=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Zr(c-u),h=Gm({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),A=h.circleTangency,v=h.lineTangency,b=h.theta,w=Gm({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=w.circleTangency,x=w.lineTangency,S=w.theta,T=l?Math.abs(u-c):Math.abs(u-c)-b-S;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Mj({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var k=Gm({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=k.circleTangency,O=k.lineTangency,D=k.theta,$=Gm({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=$.circleTangency,M=$.lineTangency,B=$.theta,F=l?Math.abs(u-c):Math.abs(u-c)-D-B;if(F<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},_me={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Oj=function(e){var n=X3(X3({},_me),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var A=Ot("recharts-sector",h),v=o-a,b=ei(s,v,0,!0),w;return b>0&&Math.abs(c-f)<360?w=Sme({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=Mj({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),de.createElement("path",iw({},gt(n,!0),{className:A,d:w,role:"img"}))};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){Tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tme(t,e,n){return e=Cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cme(t){var e=Nme(t,"string");return jp(e)=="symbol"?e:e+""}function Nme(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ek={curveBasisClosed:Tte,curveBasisOpen:Cte,curveBasis:_te,curveBumpX:cte,curveBumpY:fte,curveLinearClosed:Nte,curveLinear:qv,curveMonotoneX:Ete,curveMonotoneY:kte,curveNatural:Pte,curveStep:Mte,curveStepAfter:Ite,curveStepBefore:Ote},Wm=function(e){return e.x===+e.x&&e.y===+e.y},fh=function(e){return e.x},dh=function(e){return e.y},Eme=function(e,n){if(yt(e))return e;var r="curve".concat(Fv(e));return(r==="curveMonotone"||r==="curveBump")&&n?ek["".concat(r).concat(n==="vertical"?"Y":"X")]:ek[r]||qv},kme=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Eme(r,s),f=u?a.filter(function(b){return Wm(b)}):a,h;if(Array.isArray(o)){var A=u?o.filter(function(b){return Wm(b)}):o,v=f.map(function(b,w){return Z3(Z3({},b),{},{base:A[w]})});return s==="vertical"?h=Rm().y(dh).x1(fh).x0(function(b){return b.base.x}):h=Rm().x(fh).y1(dh).y0(function(b){return b.base.y}),h.defined(Wm).curve(c),h(v)}return s==="vertical"&&Ye(o)?h=Rm().y(dh).x1(fh).x0(o):Ye(o)?h=Rm().x(fh).y1(dh).y0(o):h=CD().x(fh).y(dh),h.defined(Wm).curve(c),h(f)},ow=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?kme(e):i;return oe.createElement("path",aw({},gt(e,!1),Qg(e),{className:Ot("recharts-curve",n),d:o,ref:a}))},Ij={exports:{}},Pme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mme=Pme,Ome=Mme;function Dj(){}function Lj(){}Lj.resetWarningCache=Dj;var Ime=function(){function t(r,i,a,o,s,l){if(l!==Ome){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Lj,resetWarningCache:Dj};return n.PropTypes=n,n};Ij.exports=Ime();var Dme=Ij.exports;const Qt=Xt(Dme);var Lme=Object.getOwnPropertyNames,jme=Object.getOwnPropertySymbols,Rme=Object.prototype.hasOwnProperty;function tk(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Ym(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Bme(t){return t!=null?t[Symbol.toStringTag]:void 0}function nk(t){return Lme(t).concat(jme(t))}var $me=Object.hasOwn||function(t,e){return Rme.call(t,e)};function Iu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Fme="__v",Ume="__o",qme="_owner",rk=Object.getOwnPropertyDescriptor,ik=Object.keys;function Hme(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function zme(t,e){return Iu(t.getTime(),e.getTime())}function Vme(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Gme(t,e){return t===e}function ak(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,A=s.value;if(n.equals(h[0],A[0],l,f,t,e,n)&&n.equals(h[1],A[1],h[0],A[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Wme=Iu;function Yme(t,e,n){var r=ik(t),i=r.length;if(ik(e).length!==i)return!1;for(;i-- >0;)if(!jj(t,e,n,r[i]))return!1;return!0}function hh(t,e,n){var r=nk(t),i=r.length;if(nk(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!jj(t,e,n,a)||(o=rk(t,a),s=rk(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Kme(t,e){return Iu(t.valueOf(),e.valueOf())}function Jme(t,e){return t.source===e.source&&t.flags===e.flags}function ok(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Xme(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Qme(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function jj(t,e,n,r){return(r===qme||r===Ume||r===Fme)&&(t.$$typeof||e.$$typeof)?!0:$me(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Zme="[object Arguments]",ege="[object Boolean]",tge="[object Date]",nge="[object Error]",rge="[object Map]",ige="[object Number]",age="[object Object]",oge="[object RegExp]",sge="[object Set]",lge="[object String]",uge="[object URL]",cge=Array.isArray,sk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,lk=Object.assign,fge=Object.prototype.toString.call.bind(Object.prototype.toString);function dge(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,A=t.unknownTagComparators;return function(b,w,y){if(b===w)return!0;if(b==null||w==null)return!1;var x=typeof b;if(x!==typeof w)return!1;if(x!=="object")return x==="number"?o(b,w,y):x==="function"?i(b,w,y):!1;var S=b.constructor;if(S!==w.constructor)return!1;if(S===Object)return s(b,w,y);if(cge(b))return e(b,w,y);if(sk!=null&&sk(b))return f(b,w,y);if(S===Date)return n(b,w,y);if(S===RegExp)return u(b,w,y);if(S===Map)return a(b,w,y);if(S===Set)return c(b,w,y);var T=fge(b);if(T===tge)return n(b,w,y);if(T===oge)return u(b,w,y);if(T===rge)return a(b,w,y);if(T===sge)return c(b,w,y);if(T===age)return typeof b.then!="function"&&typeof w.then!="function"&&s(b,w,y);if(T===uge)return h(b,w,y);if(T===nge)return r(b,w,y);if(T===Zme)return s(b,w,y);if(T===ege||T===ige||T===lge)return l(b,w,y);if(A){var C=A[T];if(!C){var k=Bme(b);k&&(C=A[k])}if(C)return C(b,w,y)}return!1}}function hge(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?hh:Hme,areDatesEqual:zme,areErrorsEqual:Vme,areFunctionsEqual:Gme,areMapsEqual:r?tk(ak,hh):ak,areNumbersEqual:Wme,areObjectsEqual:r?hh:Yme,arePrimitiveWrappersEqual:Kme,areRegExpsEqual:Jme,areSetsEqual:r?tk(ok,hh):ok,areTypedArraysEqual:r?hh:Xme,areUrlsEqual:Qme,unknownTagComparators:void 0};if(n&&(i=lk({},i,n(i))),e){var a=Ym(i.areArraysEqual),o=Ym(i.areMapsEqual),s=Ym(i.areObjectsEqual),l=Ym(i.areSetsEqual);i=lk({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function pge(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Age(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,A=c.meta;return n(l,u,{cache:h,equals:i,meta:A,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var mge=ml();ml({strict:!0});ml({circular:!0});ml({circular:!0,strict:!0});ml({createInternalComparator:function(){return Iu}});ml({strict:!0,createInternalComparator:function(){return Iu}});ml({circular:!0,createInternalComparator:function(){return Iu}});ml({circular:!0,createInternalComparator:function(){return Iu},strict:!0});function ml(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=hge(t),l=dge(s),u=r?r(l):pge(l);return Age({circular:n,comparator:l,createState:i,equals:u,strict:o})}function gge(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function uk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):gge(i)};requestAnimationFrame(r)}function sw(t){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}function vge(t){return wge(t)||xge(t)||bge(t)||yge()}function yge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bge(t,e){if(t){if(typeof t=="string")return ck(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(t,e)}}function ck(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wge(t){if(Array.isArray(t))return t}function Sge(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=vge(o),l=s[0],u=s.slice(1);if(typeof l=="number"){uk(i.bind(null,u),l);return}i(l),uk(i.bind(null,u));return}sw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){Rj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rj(t,e,n){return e=_ge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ge(t){var e=Tge(t,"string");return Rp(e)==="symbol"?e:String(e)}function Tge(t,e){if(Rp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cge=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Nge=function(e){return e},Ege=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Wh=function(e,n){return Object.keys(n).reduce(function(r,i){return dk(dk({},r),{},Rj({},i,e(i,n[i])))},{})},hk=function(e,n,r){return e.map(function(i){return"".concat(Ege(i)," ").concat(n,"ms ").concat(r)}).join(",")};function kge(t,e){return Oge(t)||Mge(t,e)||Bj(t,e)||Pge()}function Pge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Oge(t){if(Array.isArray(t))return t}function Ige(t){return jge(t)||Lge(t)||Bj(t)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bj(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function Lge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jge(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var E0=1e-4,$j=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Fj=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},pk=function(e,n){return function(r){var i=$j(e,n);return Fj(i,r)}},Rge=function(e,n){return function(r){var i=$j(e,n),a=[].concat(Ige(i.map(function(o,s){return o*s}).slice(1)),[0]);return Fj(a,r)}},Ak=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=kge(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=pk(i,o),h=pk(a,s),A=Rge(i,o),v=function(y){return y>1?1:y<0?0:y},b=function(y){for(var x=y>1?1:y,S=x,T=0;T<8;++T){var C=f(S)-x,k=A(S);if(Math.abs(C-x)<E0||k<E0)return h(S);S=v(S-C/k)}return h(S)};return b.isStepper=!1,b},Bge=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var A=-(c-f)*r,v=h*a,b=h+(A-v)*s/1e3,w=h*s/1e3+c;return Math.abs(w-f)<E0&&Math.abs(b)<E0?[f,0]:[w,b]};return l.isStepper=!0,l.dt=s,l},$ge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ak(i);case"spring":return Bge();default:if(i.split("(")[0]==="cubic-bezier")return Ak(i)}return typeof i=="function"?i:null};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function mk(t){return qge(t)||Uge(t)||Uj(t)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qge(t){if(Array.isArray(t))return cw(t)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){uw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uw(t,e,n){return e=Hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hge(t){var e=zge(t,"string");return Bp(e)==="symbol"?e:String(e)}function zge(t,e){if(Bp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vge(t,e){return Yge(t)||Wge(t,e)||Uj(t,e)||Gge()}function Gge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uj(t,e){if(t){if(typeof t=="string")return cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,e)}}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yge(t){if(Array.isArray(t))return t}var k0=function(e,n,r){return e+(n-e)*r},fw=function(e){var n=e.from,r=e.to;return n!==r},Kge=function t(e,n,r){var i=Wh(function(a,o){if(fw(o)){var s=e(o.from,o.to,o.velocity),l=Vge(s,2),u=l[0],c=l[1];return Pr(Pr({},o),{},{from:u,velocity:c})}return o},n);return r<1?Wh(function(a,o){return fw(o)?Pr(Pr({},o),{},{velocity:k0(o.velocity,i[a].velocity,r),from:k0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Jge=function(t,e,n,r,i){var a=Cge(t,e),o=a.reduce(function(w,y){return Pr(Pr({},w),{},uw({},y,[t[y],e[y]]))},{}),s=a.reduce(function(w,y){return Pr(Pr({},w),{},uw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Wh(function(y,x){return x.from},s)},A=function(){return!Object.values(s).filter(fw).length},v=function(y){u||(u=y);var x=y-u,S=x/n.dt;s=Kge(n,s,S),i(Pr(Pr(Pr({},t),e),h())),u=y,A()||(l=requestAnimationFrame(f))},b=function(y){c||(c=y);var x=(y-c)/r,S=Wh(function(C,k){return k0.apply(void 0,mk(k).concat([n(x)]))},o);if(i(Pr(Pr(Pr({},t),e),S)),x<1)l=requestAnimationFrame(f);else{var T=Wh(function(C,k){return k0.apply(void 0,mk(k).concat([n(1)]))},o);i(Pr(Pr(Pr({},t),e),T))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var Xge=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qge(t,e){if(t==null)return{};var n=Zge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zge(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function O1(t){return r0e(t)||n0e(t)||t0e(t)||e0e()}function e0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0e(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function n0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r0e(t){if(Array.isArray(t))return dw(t)}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wh(t,e,n){return e=qj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qj(r.key),r)}}function o0e(t,e,n){return e&&a0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qj(t){var e=s0e(t,"string");return Pf(e)==="symbol"?e:String(e)}function s0e(t,e){if(Pf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hw(t,e)}function hw(t,e){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hw(t,e)}function u0e(t){var e=c0e();return function(){var r=P0(t),i;if(e){var a=P0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return pw(this,i)}}function pw(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aw(t)}function Aw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}var ts=function(t){l0e(n,t);var e=u0e(n);function n(r,i){var a;i0e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,A=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Aw(a)),a.changeStyle=a.changeStyle.bind(Aw(a)),!s||A<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),pw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},pw(a);a.state={style:l?wh({},l,u):u}}else a.state={style:{}};return a}return o0e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var A={style:l?wh({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(A);return}if(!(mge(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var w={style:l?wh({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(w)}this.runAnimation(Ma(Ma({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,A=Jge(o,s,$ge(u),l,this.changeStyle),v=function(){a.stopJSAnimation=A()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,A=function(b,w,y){if(y===0)return b;var x=w.duration,S=w.easing,T=S===void 0?"ease":S,C=w.style,k=w.properties,E=w.onAnimationEnd,O=y>0?o[y-1]:w,D=k||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(O1(b),[a.runJSAnimation.bind(a,{from:O.style,to:C,duration:x,easing:T}),x]);var $=hk(D,x,T),I=Ma(Ma(Ma({},O.style),C),{},{transition:$});return[].concat(O1(b),[I,x,E]).filter(Nge)};return this.manager.start([l].concat(O1(o.reduce(A,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Sge());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,A=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof A=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?wh({},s,l):l,w=hk(Object.keys(b),o,u);v.start([c,a,Ma(Ma({},b),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Qge(i,Xge),u=oe.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(A){var v=A.props,b=v.style,w=b===void 0?{}:b,y=v.className,x=oe.cloneElement(A,Ma(Ma({},l),{},{style:Ma(Ma({},w),c),className:y}));return x};return u===1?f(oe.Children.only(a)):de.createElement("div",null,oe.Children.map(a,function(h){return f(h)}))}}]),n}(oe.PureComponent);ts.displayName="Animate";ts.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ts.propTypes={from:Qt.oneOfType([Qt.object,Qt.string]),to:Qt.oneOfType([Qt.object,Qt.string]),attributeName:Qt.string,duration:Qt.number,begin:Qt.number,easing:Qt.oneOfType([Qt.string,Qt.func]),steps:Qt.arrayOf(Qt.shape({duration:Qt.number.isRequired,style:Qt.object.isRequired,easing:Qt.oneOfType([Qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qt.func]),properties:Qt.arrayOf("string"),onAnimationEnd:Qt.func})),children:Qt.oneOfType([Qt.node,Qt.func]),isActive:Qt.bool,canBegin:Qt.bool,onAnimationEnd:Qt.func,shouldReAnimate:Qt.bool,onAnimationStart:Qt.func,onAnimationReStart:Qt.func};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M0.apply(this,arguments)}function f0e(t,e){return A0e(t)||p0e(t,e)||h0e(t,e)||d0e()}function d0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h0e(t,e){if(t){if(typeof t=="string")return yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(t,e)}}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function A0e(t){if(Array.isArray(t))return t}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){m0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m0e(t,e,n){return e=g0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g0e(t){var e=v0e(t,"string");return $p(e)=="symbol"?e:e+""}function v0e(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wk=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,A=4;h<A;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},y0e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},b0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d_=function(e){var n=xk(xk({},b0e),e),r=oe.useRef(),i=oe.useState(-1),a=f0e(i,2),o=a[0],s=a[1];oe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,A=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Ot("recharts-rectangle",A);return x?de.createElement(ts,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:x},function(T){var C=T.width,k=T.height,E=T.x,O=T.y;return de.createElement(ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:y,easing:v},de.createElement("path",M0({},gt(n,!0),{className:S,d:wk(E,O,C,k,h),ref:r})))}):de.createElement("path",M0({},gt(n,!0),{className:S,d:wk(l,u,c,f,h)}))},x0e=["points","className","baseLinePoints","connectNulls"];function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vc.apply(this,arguments)}function w0e(t,e){if(t==null)return{};var n=S0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sk(t){return N0e(t)||C0e(t)||T0e(t)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0e(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function C0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N0e(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _k=function(e){return e&&e.x===+e.x&&e.y===+e.y},E0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){_k(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),_k(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Yh=function(e,n){var r=E0e(e);n&&(r=[r.reduce(function(a,o){return[].concat(Sk(a),Sk(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},k0e=function(e,n,r){var i=Yh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Yh(n.reverse(),r).slice(1))},P0e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=w0e(e,x0e);if(!n||!n.length)return null;var s=Ot("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=k0e(n,i,a);return de.createElement("g",{className:s},de.createElement("path",Vc({},gt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?de.createElement("path",Vc({},gt(o,!0),{fill:"none",d:Yh(n,a)})):null,l?de.createElement("path",Vc({},gt(o,!0),{fill:"none",d:Yh(i,a)})):null)}var c=Yh(n,a);return de.createElement("path",Vc({},gt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gw.apply(this,arguments)}var h_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ot("recharts-dot",a);return n===+n&&r===+r&&i===+i?oe.createElement("circle",gw({},gt(e,!1),Qg(e),{className:o,cx:n,cy:r,r:i})):null};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}var M0e=["x","y","top","left","width","height","className"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){I0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0e(t,e,n){return e=D0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D0e(t){var e=L0e(t,"string");return Fp(e)=="symbol"?e:e+""}function L0e(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j0e(t,e){if(t==null)return{};var n=R0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function R0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var B0e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},$0e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,A=h===void 0?0:h,v=e.className,b=j0e(e,M0e),w=O0e({x:r,y:a,top:s,left:u,width:f,height:A},b);return!Ye(r)||!Ye(a)||!Ye(f)||!Ye(A)||!Ye(s)||!Ye(u)?null:de.createElement("path",vw({},gt(w,!0),{className:Ot("recharts-cross",v),d:B0e(r,a,f,A,s,u)}))},F0e=ey,U0e=ej,q0e=po;function H0e(t,e){return t&&t.length?F0e(t,q0e(e),U0e):void 0}var z0e=H0e;const V0e=Xt(z0e);var G0e=ey,W0e=po,Y0e=tj;function K0e(t,e){return t&&t.length?G0e(t,W0e(e),Y0e):void 0}var J0e=K0e;const X0e=Xt(J0e);var Q0e=["cx","cy","angle","ticks","axisLine"],Z0e=["ticks","tick","angle","tickFormatter","stroke"];function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nk(t,e){if(t==null)return{};var n=eve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ek(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zj(r.key),r)}}function nve(t,e,n){return e&&Ek(t.prototype,e),n&&Ek(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rve(t,e,n){return e=O0(e),ive(t,Hj()?Reflect.construct(e,n||[],O0(t).constructor):e.apply(t,n))}function ive(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ave(t)}function ave(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hj=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(t)}function ove(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yw(t,e)}function sy(t,e,n){return e=zj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zj(t){var e=sve(t,"string");return Mf(e)=="symbol"?e:e+""}function sve(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ly=function(t){function e(){return tve(this,e),rve(this,e,arguments)}return ove(e,t),nve(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Sn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=V0e(s,function(c){return c.coordinate||0}),u=X0e(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=Nk(r,Q0e),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Sn(i,a,c[0],o),h=Sn(i,a,c[1],o),A=Ml(Ml(Ml({},gt(u,!1)),{},{fill:"none"},gt(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return de.createElement("line",Kh({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=Nk(i,Z0e),f=this.getTickTextAnchor(),h=gt(c,!1),A=gt(o,!1),v=a.map(function(b,w){var y=r.getTickValueCoord(b),x=Ml(Ml(Ml(Ml({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},A),{},{index:w},y),{},{payload:b});return de.createElement(rn,Kh({className:Ot("recharts-polar-radius-axis-tick",kj(o)),key:"tick-".concat(b.coordinate)},gu(r.props,b,w)),e.renderTickItem(o,x,l?l(b.value,w):b.value))});return de.createElement(rn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:de.createElement(rn,{className:Ot("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Tr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement(vu,Kh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(oe.PureComponent);sy(ly,"displayName","PolarRadiusAxis");sy(ly,"axisType","radiusAxis");sy(ly,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gj(r.key),r)}}function uve(t,e,n){return e&&Pk(t.prototype,e),n&&Pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cve(t,e,n){return e=I0(e),fve(t,Vj()?Reflect.construct(e,n||[],I0(t).constructor):e.apply(t,n))}function fve(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dve(t)}function dve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vj=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(t)}function hve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function uy(t,e,n){return e=Gj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gj(t){var e=pve(t,"string");return Of(e)=="symbol"?e:e+""}function pve(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ave=Math.PI/180,Mk=1e-5,cy=function(t){function e(){return lve(this,e),cve(this,e,arguments)}return hve(e,t),uve(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Sn(a,o,s,r.coordinate),h=Sn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Ave),o;return a>Mk?o=i==="outer"?"start":"end":a<-Mk?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Ol(Ol({},gt(this.props,!1)),{},{fill:"none"},gt(s,!1));if(l==="circle")return de.createElement(h_,zl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return Sn(i,a,o,h.coordinate)});return de.createElement(P0e,zl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=gt(this.props,!1),f=gt(o,!1),h=Ol(Ol({},c),{},{fill:"none"},gt(s,!1)),A=a.map(function(v,b){var w=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),x=Ol(Ol(Ol({textAnchor:y},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:w.x2,y:w.y2});return de.createElement(rn,zl({className:Ot("recharts-polar-angle-axis-tick",kj(o)),key:"tick-".concat(v.coordinate)},gu(r.props,v,b)),s&&de.createElement("line",zl({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&e.renderTickItem(o,x,l?l(v.value,b):v.value))});return de.createElement(rn,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:de.createElement(rn,{className:Ot("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement(vu,zl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(oe.PureComponent);uy(cy,"displayName","PolarAngleAxis");uy(cy,"axisType","angleAxis");uy(cy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mve=JD,gve=mve(Object.getPrototypeOf,Object),vve=gve,yve=is,bve=vve,xve=as,wve="[object Object]",Sve=Function.prototype,_ve=Object.prototype,Wj=Sve.toString,Tve=_ve.hasOwnProperty,Cve=Wj.call(Object);function Nve(t){if(!xve(t)||yve(t)!=wve)return!1;var e=bve(t);if(e===null)return!0;var n=Tve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Wj.call(n)==Cve}var Eve=Nve;const kve=Xt(Eve);var Pve=is,Mve=as,Ove="[object Boolean]";function Ive(t){return t===!0||t===!1||Mve(t)&&Pve(t)==Ove}var Dve=Ive;const Lve=Xt(Dve);function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D0.apply(this,arguments)}function jve(t,e){return Fve(t)||$ve(t,e)||Bve(t,e)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(t,e){if(t){if(typeof t=="string")return Ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(t,e)}}function Ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Fve(t){if(Array.isArray(t))return t}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){Uve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uve(t,e,n){return e=qve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qve(t){var e=Hve(t,"string");return Up(e)=="symbol"?e:e+""}function Hve(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lk=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},zve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vve=function(e){var n=Dk(Dk({},zve),e),r=oe.useRef(),i=oe.useState(-1),a=jve(i,2),o=a[0],s=a[1];oe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,A=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var x=Ot("recharts-trapezoid",A);return y?de.createElement(ts,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:y},function(S){var T=S.upperWidth,C=S.lowerWidth,k=S.height,E=S.x,O=S.y;return de.createElement(ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:v},de.createElement("path",D0({},gt(n,!0),{className:x,d:Lk(E,O,T,C,k),ref:r})))}):de.createElement("g",null,de.createElement("path",D0({},gt(n,!0),{className:x,d:Lk(l,u,c,f,h)})))},Gve=["option","shapeType","propTransformer","activeClassName","isActive"];function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function Wve(t,e){if(t==null)return{};var n=Yve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Kve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kve(t,e,n){return e=Jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jve(t){var e=Xve(t,"string");return qp(e)=="symbol"?e:e+""}function Xve(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qve(t,e){return L0(L0({},e),t)}function Zve(t,e){return t==="symbols"}function Rk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return de.createElement(d_,n);case"trapezoid":return de.createElement(Vve,n);case"sector":return de.createElement(Oj,n);case"symbols":if(Zve(e))return de.createElement(MS,n);break;default:return null}}function eye(t){return oe.isValidElement(t)?t.props:t}function Yj(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Qve:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Wve(t,Gve),u;if(oe.isValidElement(e))u=oe.cloneElement(e,L0(L0({},l),eye(e)));else if(yt(e))u=e(l);else if(kve(e)&&!Lve(e)){var c=i(e,l);u=de.createElement(Rk,{shapeType:n,elementProps:c})}else{var f=l;u=de.createElement(Rk,{shapeType:n,elementProps:f})}return s?de.createElement(rn,{className:o},u):u}function fy(t,e){return e!=null&&"trapezoids"in t.props}function dy(t,e){return e!=null&&"sectors"in t.props}function Hp(t,e){return e!=null&&"points"in t.props}function tye(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function nye(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function rye(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function iye(t,e){var n;return fy(t,e)?n=tye:dy(t,e)?n=nye:Hp(t,e)&&(n=rye),n}function aye(t,e){var n;return fy(t,e)?n="trapezoids":dy(t,e)?n="sectors":Hp(t,e)&&(n="points"),n}function oye(t,e){if(fy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(dy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Hp(t,e)?e.payload:{}}function sye(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=aye(n,e),a=oye(n,e),o=r.filter(function(l,u){var c=ry(a,l),f=n.props[i].filter(function(v){var b=iye(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),A=u===h;return c&&A}),s=r.indexOf(o[o.length-1]);return s}var vg;function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jj(r.key),r)}}function uye(t,e,n){return e&&$k(t.prototype,e),n&&$k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cye(t,e,n){return e=j0(e),fye(t,Kj()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function fye(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dye(t)}function dye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function hye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xw(t,e)}function ca(t,e,n){return e=Jj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jj(t){var e=pye(t,"string");return If(e)=="symbol"?e:e+""}function pye(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ss=function(t){function e(n){var r;return lye(this,e),r=cye(this,e,[n]),ca(r,"pieRef",null),ca(r,"sectorRefs",[]),ca(r,"id",pA("recharts-pie-")),ca(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),yt(i)&&i()}),ca(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),yt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return hye(e,t),uye(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=gt(this.props,!1),f=gt(o,!1),h=gt(s,!1),A=o&&o.offsetRadius||20,v=r.map(function(b,w){var y=(b.startAngle+b.endAngle)/2,x=Sn(b.cx,b.cy,b.outerRadius+A,y),S=bn(bn(bn(bn({},c),b),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(x.x,b.cx)},x),T=bn(bn(bn(bn({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:w,points:[Sn(b.cx,b.cy,b.outerRadius,y),x]}),C=l;return Dt(l)&&Dt(u)?C="value":Dt(l)&&(C=u),de.createElement(rn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,S,Vr(b,C)))});return de.createElement(rn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,A=f?o:h,v=bn(bn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return de.createElement(rn,Gc({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},gu(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),de.createElement(Yj,Gc({option:A,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,A=f.prevIsAnimationActive;return de.createElement(ts,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,w=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(S,T){var C=h&&h[T],k=T>0?Fi(S,"paddingAngle",0):0;if(C){var E=ks(C.endAngle-C.startAngle,S.endAngle-S.startAngle),O=bn(bn({},S),{},{startAngle:x+k,endAngle:x+E(b)+k});w.push(O),x=O.endAngle}else{var D=S.endAngle,$=S.startAngle,I=ks(0,D-$),M=I(b),B=bn(bn({},S),{},{startAngle:x+k,endAngle:x+M+k});w.push(B),x=B.endAngle}}),de.createElement(rn,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ry(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,A=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!Ye(u)||!Ye(c)||!Ye(f)||!Ye(h))return null;var b=Ot("recharts-pie",s);return de.createElement(rn,{tabIndex:this.props.rootTabIndex,className:b,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),Tr.renderCallByParent(this.props,null,!1),(!A||v)&&rl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);if(yt(r))return r(i);var o=Ot("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return de.createElement(ow,Gc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);var o=a;if(yt(r)&&(o=r(i),de.isValidElement(o)))return o;var s=Ot("recharts-pie-label-text",typeof r!="boolean"&&!yt(r)?r.className:"");return de.createElement(vu,Gc({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(oe.PureComponent);vg=ss;ca(ss,"displayName","Pie");ca(ss,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ca(ss,"parseDeltaAngle",function(t,e){var n=Zr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ca(ss,"getRealPieData",function(t){var e=t.data,n=t.children,r=gt(t,!1),i=Aa(n,Wv);return e&&e.length?e.map(function(a,o){return bn(bn(bn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return bn(bn({},r),a.props)}):[]});ca(ss,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=Ej(i,a),s=r+ei(t.cx,i,i/2),l=n+ei(t.cy,a,a/2),u=ei(t.innerRadius,o,0),c=ei(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});ca(ss,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?bn(bn({},e.type.defaultProps),e.props):e.props,i=vg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,A=Math.abs(r.minAngle),v=vg.parseCoordinateOfPie(r,n),b=vg.parseDeltaAngle(o,s),w=Math.abs(b),y=u;Dt(u)&&Dt(f)?(Ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Dt(u)&&(Ba(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(O){return Vr(O,y,0)!==0}).length,S=(w>=360?x:x-1)*l,T=w-x*A-S,C=i.reduce(function(O,D){var $=Vr(D,y,0);return O+(Ye($)?$:0)},0),k;if(C>0){var E;k=i.map(function(O,D){var $=Vr(O,y,0),I=Vr(O,c,D),M=(Ye($)?$:0)/C,B;D?B=E.endAngle+Zr(b)*l*($!==0?1:0):B=o;var F=B+Zr(b)*(($!==0?A:0)+M*T),G=(B+F)/2,R=(v.innerRadius+v.outerRadius)/2,U=[{name:I,value:$,payload:O,dataKey:y,type:h}],V=Sn(v.cx,v.cy,R,G);return E=bn(bn(bn({percent:M,cornerRadius:a,name:I,tooltipPayload:U,midAngle:G,middleRadius:R,tooltipPosition:V},O),v),{},{value:Vr(O,y),startAngle:B,endAngle:F,payload:O,paddingAngle:Zr(b)*l}),E})}return bn(bn({},v),{},{sectors:k,data:i})});var Aye=Math.ceil,mye=Math.max;function gye(t,e,n,r){for(var i=-1,a=mye(Aye((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var vye=gye,yye=AL,Fk=1/0,bye=17976931348623157e292;function xye(t){if(!t)return t===0?t:0;if(t=yye(t),t===Fk||t===-Fk){var e=t<0?-1:1;return e*bye}return t===t?t:0}var Xj=xye,wye=vye,Sye=Gv,I1=Xj;function _ye(t){return function(e,n,r){return r&&typeof r!="number"&&Sye(e,n,r)&&(n=r=void 0),e=I1(e),n===void 0?(n=e,e=0):n=I1(n),r=r===void 0?e<n?1:-1:I1(r),wye(e,n,r,t)}}var Tye=_ye,Cye=Tye,Nye=Cye(),Eye=Nye;const R0=Xt(Eye);function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Qj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qj(t,e,n){return e=kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kye(t){var e=Pye(t,"string");return zp(e)=="symbol"?e:e+""}function Pye(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mye=["Webkit","Moz","O","ms"],Oye=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Mye.reduce(function(a,o){return qk(qk({},a),{},Qj({},o+r,n))},{});return i[e]=n,i};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function Hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hk(Object(n),!0).forEach(function(r){Ci(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eR(r.key),r)}}function Dye(t,e,n){return e&&zk(t.prototype,e),n&&zk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lye(t,e,n){return e=$0(e),jye(t,Zj()?Reflect.construct(e,n||[],$0(t).constructor):e.apply(t,n))}function jye(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rye(t)}function Rye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zj=function(){return!!t})()}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$0(t)}function Bye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ww(t,e)}function Ci(t,e,n){return e=eR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eR(t){var e=$ye(t,"string");return Df(e)=="symbol"?e:e+""}function $ye(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Vh().domain(R0(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},Vk=function(e){return e.changedTouches&&!!e.changedTouches.length},Lf=function(t){function e(n){var r;return Iye(this,e),r=Lye(this,e,[n]),Ci(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ci(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ci(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ci(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ci(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ci(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ci(r,"handleSlideDragStart",function(i){var a=Vk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Bye(e,t),Dye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),A=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:A-A%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Vr(a[r],s,r);return yt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,A=l.endIndex,v=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,u+c-f-s,u+c-f-o):b<0&&(b=Math.max(b,u-o,u-s));var w=this.getIndex({startX:o+b,endX:s+b});(w.startIndex!==h||w.endIndex!==A)&&v&&v(w),this.setState({startX:o+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=Vk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,A=c.travellerWidth,v=c.onChange,b=c.gap,w=c.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+h-A-u):x<0&&(x=Math.max(x,f-u)),y[o]=u+x;var S=this.getIndex(y),T=S.startIndex,C=S.endIndex,k=function(){var O=w.length-1;return o==="startX"&&(s>l?T%b===0:C%b===0)||s<l&&C===O||o==="endX"&&(s>l?C%b===0:T%b===0)||s>l&&C===O};this.setState(Ci(Ci({},o,u+x),"brushMoveStartX",r.pageX),function(){v&&k()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var A=s[h];i==="startX"&&A>=u||i==="endX"&&A<=l||this.setState(Ci({},i,A),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return de.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=oe.Children.only(u);return f?de.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,A=l.ariaLabel,v=l.data,b=l.startIndex,w=l.endIndex,y=Math.max(r,this.props.x),x=D1(D1({},gt(this.props,!1)),{},{x:y,y:u,width:c,height:f}),S=A||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return de.createElement(rn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,A=5,v={pointerEvents:"none",fill:u};return de.createElement(rn,{className:"recharts-brush-texts"},de.createElement(vu,B0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-A,y:o+s/2},v),this.getTextOfTick(i)),de.createElement(vu,B0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+A,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,A=h.startX,v=h.endX,b=h.isTextActive,w=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!Ye(s)||!Ye(l)||!Ye(u)||!Ye(c)||u<=0||c<=0)return null;var S=Ot("recharts-brush",a),T=de.Children.count(o)===1,C=Oye("userSelect","none");return de.createElement(rn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(A,v),this.renderTravellerLayer(A,"startX"),this.renderTravellerLayer(v,"endX"),(b||w||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):yt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return D1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Fye({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(A){return i.scale(A)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(oe.PureComponent);Ci(Lf,"displayName","Brush");Ci(Lf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Uye=BS;function qye(t,e){var n;return Uye(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Hye=qye,zye=qD,Vye=po,Gye=Hye,Wye=xi,Yye=Gv;function Kye(t,e,n){var r=Wye(t)?zye:Gye;return n&&Yye(t,e,n)&&(e=void 0),r(t,Vye(e))}var Jye=Kye;const Xye=Xt(Jye);var so=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Gk=cL;function Qye(t,e,n){e=="__proto__"&&Gk?Gk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Zye=Qye,ebe=Zye,tbe=lL,nbe=po;function rbe(t,e){var n={};return e=nbe(e),tbe(t,function(r,i,a){ebe(n,i,e(r,i,a))}),n}var ibe=rbe;const abe=Xt(ibe);function obe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var sbe=obe,lbe=BS;function ube(t,e){var n=!0;return lbe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var cbe=ube,fbe=sbe,dbe=cbe,hbe=po,pbe=xi,Abe=Gv;function mbe(t,e,n){var r=pbe(t)?fbe:dbe;return n&&Abe(t,e,n)&&(e=void 0),r(t,hbe(e))}var gbe=mbe;const tR=Xt(gbe);var vbe=["x","y"];function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){ybe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ybe(t,e,n){return e=bbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bbe(t){var e=xbe(t,"string");return Vp(e)=="symbol"?e:e+""}function xbe(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wbe(t,e){if(t==null)return{};var n=Sbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _be(t,e){var n=t.x,r=t.y,i=wbe(t,vbe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ph(ph(ph(ph(ph({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function Yk(t){return de.createElement(Yj,Sw({shapeType:"rectangle",propTransformer:_be,activeClassName:"recharts-active-bar"},t))}var Tbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ye(r)||JZ(r);return a?e(r,i):(a||bu(),n)}},Cbe=["value","background"],nR;function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Nbe(t,e){if(t==null)return{};var n=Ebe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ebe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iR(r.key),r)}}function Pbe(t,e,n){return e&&Jk(t.prototype,e),n&&Jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mbe(t,e,n){return e=U0(e),Obe(t,rR()?Reflect.construct(e,n||[],U0(t).constructor):e.apply(t,n))}function Obe(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ibe(t)}function Ibe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rR=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}function Dbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_w(t,e)}function _w(t,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_w(t,e)}function zs(t,e,n){return e=iR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iR(t){var e=Lbe(t,"string");return jf(e)=="symbol"?e:e+""}function Lbe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Du=function(t){function e(){var n;kbe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Mbe(this,e,[].concat(i)),zs(n,"state",{isAnimationFinished:!1}),zs(n,"id",pA("recharts-bar-")),zs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),zs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Dbe(e,t),Pbe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=gt(this.props,!1);return r&&r.map(function(f,h){var A=h===l,v=A?u:o,b=nr(nr(nr({},c),f),{},{isActive:A,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(rn,F0({className:"recharts-bar-rectangle"},gu(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),de.createElement(Yk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return de.createElement(ts,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var v=A.t,b=a.map(function(w,y){var x=h&&h[y];if(x){var S=ks(x.x,w.x),T=ks(x.y,w.y),C=ks(x.width,w.width),k=ks(x.height,w.height);return nr(nr({},w),{},{x:S(v),y:T(v),width:C(v),height:k(v)})}if(o==="horizontal"){var E=ks(0,w.height),O=E(v);return nr(nr({},w),{},{y:w.y+w.height-O,height:O})}var D=ks(0,w.width),$=D(v);return nr(nr({},w),{},{width:$})});return de.createElement(rn,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ry(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=gt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=Nbe(u,Cbe);if(!f)return null;var A=nr(nr(nr(nr(nr({},h),{},{fill:"#eee"},f),l),gu(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return de.createElement(Yk,F0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},A))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Aa(c,oy);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,A=function(w,y){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:Vr(w,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(rn,v,f.map(function(b){return de.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:A})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,A=r.isAnimationActive,v=r.background,b=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,y=Ot("recharts-bar",o),x=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=x||S,C=Dt(b)?this.id:b;return de.createElement(rn,{className:y},x||S?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(C)},de.createElement("rect",{x:x?u:u-f/2,y:S?c:c-h/2,width:x?f:f*2,height:S?h:h*2}))):null,de.createElement(rn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!A||w)&&rl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(oe.PureComponent);nR=Du;zs(Du,"displayName","Bar");zs(Du,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zs(Du,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,A=pAe(r,n);if(!A)return null;var v=e.layout,b=n.type.defaultProps,w=b!==void 0?nr(nr({},b),n.props):n.props,y=w.dataKey,x=w.children,S=w.minPointSize,T=v==="horizontal"?o:a,C=u?T.scale.domain():null,k=xAe({numericAxis:T}),E=Aa(x,Wv),O=f.map(function(D,$){var I,M,B,F,G,R;u?I=AAe(u[c+$],C):(I=Vr(D,y),Array.isArray(I)||(I=[k,I]));var U=Tbe(S,nR.defaultProps.minPointSize)(I[1],$);if(v==="horizontal"){var V,K=[o.scale(I[0]),o.scale(I[1])],ee=K[0],le=K[1];M=$3({axis:a,ticks:s,bandSize:i,offset:A.offset,entry:D,index:$}),B=(V=le??ee)!==null&&V!==void 0?V:void 0,F=A.size;var j=ee-le;if(G=Number.isNaN(j)?0:j,R={x:M,y:o.y,width:F,height:o.height},Math.abs(U)>0&&Math.abs(G)<Math.abs(U)){var z=Zr(G||U)*(Math.abs(U)-Math.abs(G));B-=z,G+=z}}else{var Q=[a.scale(I[0]),a.scale(I[1])],te=Q[0],J=Q[1];if(M=te,B=$3({axis:o,ticks:l,bandSize:i,offset:A.offset,entry:D,index:$}),F=J-te,G=A.size,R={x:a.x,y:B,width:a.width,height:G},Math.abs(U)>0&&Math.abs(F)<Math.abs(U)){var se=Zr(F||U)*(Math.abs(U)-Math.abs(F));F+=se}}return nr(nr(nr({},D),{},{x:M,y:B,width:F,height:G,value:u?I:I[1],payload:D,background:R},E&&E[$]&&E[$].props),{},{tooltipPayload:[Cj(n,D)],tooltipPosition:{x:M+F/2,y:B+G/2}})});return nr({data:O,layout:v},h)});function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function jbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aR(r.key),r)}}function Rbe(t,e,n){return e&&Xk(t.prototype,e),n&&Xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){hy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hy(t,e,n){return e=aR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aR(t){var e=Bbe(t,"string");return Gp(e)=="symbol"?e:e+""}function Bbe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $be=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ei(u,Du);return c.reduce(function(A,v){var b=n[v],w=b.orientation,y=b.domain,x=b.padding,S=x===void 0?{}:x,T=b.mirror,C=b.reversed,k="".concat(w).concat(T?"Mirror":""),E,O,D,$,I;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=y[1]-y[0],B=1/0,F=b.categoricalDomain.sort(ZZ);if(F.forEach(function(Q,te){te>0&&(B=Math.min((Q||0)-(F[te-1]||0),B))}),Number.isFinite(B)){var G=B/M,R=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=G*R/2),b.padding==="no-gap"){var U=ei(e.barCategoryGap,G*R),V=G*R/2;E=V-U-(V-U)/R*U}}}i==="xAxis"?O=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:O=b.range,C&&(O=[O[1],O[0]]);var K=wj(b,a,h),ee=K.scale,le=K.realScaleType;ee.domain(y).range(O),Sj(ee);var j=_j(ee,La(La({},b),{},{realScaleType:le}));i==="xAxis"?(I=w==="top"&&!T||w==="bottom"&&T,D=r.left,$=f[k]-I*b.height):i==="yAxis"&&(I=w==="left"&&!T||w==="right"&&T,D=f[k]-I*b.width,$=r.top);var z=La(La(La({},b),j),{},{realScaleType:le,x:D,y:$,scale:ee,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return z.bandSize=T0(z,j),!b.hide&&i==="xAxis"?f[k]+=(I?-1:1)*z.height:b.hide||(f[k]+=(I?-1:1)*z.width),La(La({},A),{},hy({},v,z))},{})},oR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Fbe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return oR({x:n,y:r},{x:i,y:a})},sR=function(){function t(e){jbe(this,t),this.scale=e}return Rbe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();hy(sR,"EPS",1e-4);var p_=function(e){var n=Object.keys(e).reduce(function(r,i){return La(La({},r),{},hy({},i,sR.create(e[i])))},{});return La(La({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return abe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return tR(i,function(a,o){return n[o].isInRange(a)})}})};function Ube(t){return(t%180+180)%180}var qbe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ube(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Hbe=po,zbe=AA,Vbe=zv;function Gbe(t){return function(e,n,r){var i=Object(e);if(!zbe(e)){var a=Hbe(n);e=Vbe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Wbe=Gbe,Ybe=Xj;function Kbe(t){var e=Ybe(t),n=e%1;return e===e?n?e-n:e:0}var Jbe=Kbe,Xbe=nL,Qbe=po,Zbe=Jbe,e1e=Math.max;function t1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Zbe(n);return i<0&&(i=e1e(r+i,0)),Xbe(t,Qbe(e),i)}var n1e=t1e,r1e=Wbe,i1e=n1e,a1e=r1e(i1e),o1e=a1e;const s1e=Xt(o1e);var l1e=nZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),A_=oe.createContext(void 0),m_=oe.createContext(void 0),lR=oe.createContext(void 0),uR=oe.createContext({}),cR=oe.createContext(void 0),fR=oe.createContext(0),dR=oe.createContext(0),Zk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=l1e(a);return de.createElement(A_.Provider,{value:r},de.createElement(m_.Provider,{value:i},de.createElement(uR.Provider,{value:a},de.createElement(lR.Provider,{value:c},de.createElement(cR.Provider,{value:o},de.createElement(fR.Provider,{value:u},de.createElement(dR.Provider,{value:l},s)))))))},u1e=function(){return oe.useContext(cR)},hR=function(e){var n=oe.useContext(A_);n==null&&bu();var r=n[e];return r==null&&bu(),r},c1e=function(){var e=oe.useContext(A_);return js(e)},f1e=function(){var e=oe.useContext(m_),n=s1e(e,function(r){return tR(r.domain,Number.isFinite)});return n||js(e)},pR=function(e){var n=oe.useContext(m_);n==null&&bu();var r=n[e];return r==null&&bu(),r},d1e=function(){var e=oe.useContext(lR);return e},h1e=function(){return oe.useContext(uR)},g_=function(){return oe.useContext(dR)},v_=function(){return oe.useContext(fR)};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function p1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mR(r.key),r)}}function m1e(t,e,n){return e&&A1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g1e(t,e,n){return e=q0(e),v1e(t,AR()?Reflect.construct(e,n||[],q0(t).constructor):e.apply(t,n))}function v1e(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1e(t)}function y1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(t)}function b1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tw(t,e)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){y_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_(t,e,n){return e=mR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mR(t){var e=x1e(t,"string");return Rf(e)=="symbol"?e:e+""}function x1e(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function w1e(t,e){return C1e(t)||T1e(t,e)||_1e(t,e)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _1e(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function C1e(t){if(Array.isArray(t))return t}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(this,arguments)}var N1e=function(e,n){var r;return de.isValidElement(e)?r=de.cloneElement(e,n):yt(e)?r=e(n):r=de.createElement("line",Cw({},n,{className:"recharts-reference-line-line"})),r},E1e=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,A=a.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(so(u,"discard")&&!e.y.isInRange(b))return null;var w=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?w.reverse():w}if(n){var y=u.x,x=e.x.apply(y,{position:o});if(so(u,"discard")&&!e.x.isInRange(x))return null;var S=[{x,y:f+A},{x,y:f}];return s==="top"?S.reverse():S}if(i){var T=u.segment,C=T.map(function(k){return e.apply(k,{position:o})});return so(u,"discard")&&Xye(C,function(k){return!e.isInRange(k)})?null:C}return null};function k1e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=u1e(),c=hR(i),f=pR(a),h=d1e();if(!u||!h)return null;Ba(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=p_({x:c.scale,y:f.scale}),v=mr(e),b=mr(n),w=r&&r.length===2,y=E1e(A,v,b,w,h,t.position,c.orientation,f.orientation,t);if(!y)return null;var x=w1e(y,2),S=x[0],T=S.x,C=S.y,k=x[1],E=k.x,O=k.y,D=so(t,"hidden")?"url(#".concat(u,")"):void 0,$=tP(tP({clipPath:D},gt(t,!0)),{},{x1:T,y1:C,x2:E,y2:O});return de.createElement(rn,{className:Ot("recharts-reference-line",s)},N1e(o,$),Tr.renderCallByParent(t,Fbe({x1:T,y1:C,x2:E,y2:O})))}var b_=function(t){function e(){return p1e(this,e),g1e(this,e,arguments)}return b1e(e,t),m1e(e,[{key:"render",value:function(){return de.createElement(k1e,this.props)}}])}(de.Component);y_(b_,"displayName","ReferenceLine");y_(b_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(this,arguments)}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vR(r.key),r)}}function O1e(t,e,n){return e&&M1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I1e(t,e,n){return e=H0(e),D1e(t,gR()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function D1e(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L1e(t)}function L1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function j1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function py(t,e,n){return e=vR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vR(t){var e=R1e(t,"string");return Bf(e)=="symbol"?e:e+""}function R1e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B1e=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=p_({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return so(e,"discard")&&!o.isInRange(s)?null:s},Ay=function(t){function e(){return P1e(this,e),I1e(this,e,arguments)}return j1e(e,t),O1e(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=mr(i),c=mr(a);if(Ba(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=B1e(this.props);if(!f)return null;var h=f.x,A=f.y,v=this.props,b=v.shape,w=v.className,y=so(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=iP(iP({clipPath:y},gt(this.props,!0)),{},{cx:h,cy:A});return de.createElement(rn,{className:Ot("recharts-reference-dot",w)},e.renderDot(b,x),Tr.renderCallByParent(this.props,{x:h-o,y:A-o,width:2*o,height:2*o}))}}])}(de.Component);py(Ay,"displayName","ReferenceDot");py(Ay,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});py(Ay,"renderDot",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(h_,Nw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){my(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bR(r.key),r)}}function U1e(t,e,n){return e&&F1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q1e(t,e,n){return e=z0(e),H1e(t,yR()?Reflect.construct(e,n||[],z0(t).constructor):e.apply(t,n))}function H1e(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(t)}function z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yR=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z0(t)}function V1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pw(t,e)}function my(t,e,n){return e=bR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bR(t){var e=G1e(t,"string");return $f(e)=="symbol"?e:e+""}function G1e(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W1e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=p_({x:c.scale,y:f.scale}),A={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return so(a,"discard")&&(!h.isInRange(A)||!h.isInRange(v))?null:oR(A,v)},gy=function(t){function e(){return $1e(this,e),q1e(this,e,arguments)}return V1e(e,t),U1e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ba(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mr(i),h=mr(a),A=mr(o),v=mr(s),b=this.props.shape;if(!f&&!h&&!A&&!v&&!b)return null;var w=W1e(f,h,A,v,this.props);if(!w&&!b)return null;var y=so(this.props,"hidden")?"url(#".concat(c,")"):void 0;return de.createElement(rn,{className:Ot("recharts-reference-area",l)},e.renderRect(b,oP(oP({clipPath:y},gt(this.props,!0)),w)),Tr.renderCallByParent(this.props,w))}}])}(de.Component);my(gy,"displayName","ReferenceArea");my(gy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});my(gy,"renderRect",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(d_,kw({},e,{className:"recharts-reference-area-rect"})),n});function xR(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Y1e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qbe(r,n)}function K1e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function V0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function J1e(t,e){return xR(t,e+1)}function X1e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:xR(r,u)};var b=l,w,y=function(){return w===void 0&&(w=n(v,b)),w},x=v.coordinate,S=l===0||V0(t,x,y,c,s);S||(l=0,c=o,u+=1),S&&(c=x+t*(y()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){Q1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1e(t,e,n){return e=Z1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z1e(t){var e=exe(t,"string");return Wp(e)=="symbol"?e:e+""}function exe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function txe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var A=a[h],v,b=function(){return v===void 0&&(v=n(A,h)),v};if(h===o-1){var w=t*(A.coordinate+t*b()/2-l);a[h]=A=qr(qr({},A),{},{tickCoord:w>0?A.coordinate-w*t:A.coordinate})}else a[h]=A=qr(qr({},A),{},{tickCoord:A.coordinate});var y=V0(t,A.tickCoord,b,s,l);y&&(l=A.tickCoord-t*(b()/2+i),a[h]=qr(qr({},A),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function nxe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=qr(qr({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var A=V0(t,c.tickCoord,function(){return f},l,u);A&&(u=c.tickCoord-t*(f/2+i),o[s-1]=qr(qr({},c),{},{isShow:!0}))}for(var v=a?s-1:s,b=function(x){var S=o[x],T,C=function(){return T===void 0&&(T=n(S,x)),T};if(x===0){var k=t*(S.coordinate-t*C()/2-l);o[x]=S=qr(qr({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else o[x]=S=qr(qr({},S),{},{tickCoord:S.coordinate});var E=V0(t,S.tickCoord,C,l,u);E&&(l=S.tickCoord+t*(C()/2+i),o[x]=qr(qr({},S),{},{isShow:!0}))},w=0;w<v;w++)b(w);return o}function x_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ye(l)||dd.isSsr)return J1e(i,typeof l=="number"&&Ye(l)?l:0);var h=[],A=s==="top"||s==="bottom"?"width":"height",v=c&&A==="width"?zh(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,T){var C=yt(u)?u(S.value,T):S.value;return A==="width"?Y1e(zh(C,{fontSize:e,letterSpacing:n}),v,f):zh(C,{fontSize:e,letterSpacing:n})[A]},w=i.length>=2?Zr(i[1].coordinate-i[0].coordinate):1,y=K1e(a,w,A);return l==="equidistantPreserveStart"?X1e(w,y,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=nxe(w,y,b,i,o,l==="preserveStartEnd"):h=txe(w,y,b,i,o),h.filter(function(x){return x.isShow}))}var rxe=["viewBox"],ixe=["viewBox"],axe=["ticks"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){w_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1(t,e){if(t==null)return{};var n=oxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function lxe(t,e,n){return e&&uP(t.prototype,e),n&&uP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uxe(t,e,n){return e=G0(e),cxe(t,wR()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function cxe(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fxe(t)}function fxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function dxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mw(t,e)}function Mw(t,e){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mw(t,e)}function w_(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SR(t){var e=hxe(t,"string");return Ff(e)=="symbol"?e:e+""}function hxe(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var md=function(t){function e(n){var r;return sxe(this,e),r=uxe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return dxe(e,t),lxe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=L1(r,rxe),s=this.props,l=s.viewBox,u=L1(s,ixe);return!sf(a,l)||!sf(o,u)||!sf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,A,v,b,w,y,x,S=f?-1:1,T=r.tickSize||c,C=Ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":A=v=r.coordinate,w=o+ +!f*l,b=w-S*T,x=b-S*h,y=C;break;case"left":b=w=r.coordinate,v=a+ +!f*s,A=v-S*T,y=A-S*h,x=C;break;case"right":b=w=r.coordinate,v=a+ +f*s,A=v+S*T,y=A+S*h,x=C;break;default:A=v=r.coordinate,w=o+ +f*l,b=w+S*T,x=b+S*h,y=C;break}return{line:{x1:A,y1:b,x2:v,y2:w},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=cr(cr(cr({},gt(this.props,!1)),gt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=cr(cr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var A=+(l==="left"&&!u||l==="right"&&u);f=cr(cr({},f),{},{x1:i+A*o,y1:a,x2:i+A*o,y2:a+s})}return de.createElement("line",Wc({},f,{className:Ot("recharts-cartesian-axis-line",Fi(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,A=x_(cr(cr({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=gt(this.props,!1),y=gt(c,!1),x=cr(cr({},w),{},{fill:"none"},gt(l,!1)),S=A.map(function(T,C){var k=o.getTickLineCoord(T),E=k.line,O=k.tick,D=cr(cr(cr(cr({textAnchor:v,verticalAnchor:b},w),{},{stroke:"none",fill:u},y),O),{},{index:C,payload:T,visibleTicksCount:A.length,tickFormatter:f});return de.createElement(rn,Wc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},gu(o.props,T,C)),l&&de.createElement("line",Wc({},x,E,{className:Ot("recharts-cartesian-axis-tick-line",Fi(l,"className"))})),c&&e.renderTickItem(c,D,"".concat(yt(f)?f(T.value,C):T.value).concat(h||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,A=L1(f,axe),v=h;return yt(l)&&(v=h&&h.length>0?l(this.props):l(A)),o<=0||s<=0||!v||!v.length?null:de.createElement(rn,{className:Ot("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Ot(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?o=de.cloneElement(r,cr(cr({},i),{},{className:s})):yt(r)?o=r(cr(cr({},i),{},{className:s})):o=de.createElement(vu,Wc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(oe.Component);w_(md,"displayName","CartesianAxis");w_(md,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pxe=["x1","y1","x2","y2","key"],Axe=["offset"];function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){mxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mxe(t,e,n){return e=gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gxe(t){var e=vxe(t,"string");return xu(e)=="symbol"?e:e+""}function vxe(t,e){if(xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}function fP(t,e){if(t==null)return{};var n=yxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bxe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return de.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _R(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(yt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=fP(e,pxe),u=gt(l,!1);u.offset;var c=fP(u,Axe);n=de.createElement("line",Xl({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function xxe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Hr(Hr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return _R(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function wxe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Hr(Hr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return _R(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Sxe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,A){return h-A});i!==c[0]&&c.unshift(0);var f=c.map(function(h,A){var v=!c[A+1],b=v?i+o-h:c[A+1]-h;if(b<=0)return null;var w=A%e.length;return de.createElement("rect",{key:"react-".concat(A),y:h,x:r,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _xe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,A){return h-A});a!==c[0]&&c.unshift(0);var f=c.map(function(h,A){var v=!c[A+1],b=v?a+s-h:c[A+1]-h;if(b<=0)return null;var w=A%r.length;return de.createElement("rect",{key:"react-".concat(A),x:h,y:o,width:b,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Txe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return xj(x_(Hr(Hr(Hr({},md.defaultProps),r),{},{ticks:Uo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Cxe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return xj(x_(Hr(Hr(Hr({},md.defaultProps),r),{},{ticks:Uo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function TR(t){var e,n,r,i,a,o,s=g_(),l=v_(),u=h1e(),c=Hr(Hr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:gc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:gc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:gc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:gc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:gc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:gc.verticalFill,x:Ye(t.x)?t.x:u.left,y:Ye(t.y)?t.y:u.top,width:Ye(t.width)?t.width:u.width,height:Ye(t.height)?t.height:u.height}),f=c.x,h=c.y,A=c.width,v=c.height,b=c.syncWithTicks,w=c.horizontalValues,y=c.verticalValues,x=c1e(),S=f1e();if(!Ye(A)||A<=0||!Ye(v)||v<=0||!Ye(f)||f!==+f||!Ye(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||Txe,C=c.horizontalCoordinatesGenerator||Cxe,k=c.horizontalPoints,E=c.verticalPoints;if((!k||!k.length)&&yt(C)){var O=w&&w.length,D=C({yAxis:S?Hr(Hr({},S),{},{ticks:O?w:S.ticks}):void 0,width:s,height:l,offset:u},O?!0:b);Ba(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xu(D),"]")),Array.isArray(D)&&(k=D)}if((!E||!E.length)&&yt(T)){var $=y&&y.length,I=T({xAxis:x?Hr(Hr({},x),{},{ticks:$?y:x.ticks}):void 0,width:s,height:l,offset:u},$?!0:b);Ba(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xu(I),"]")),Array.isArray(I)&&(E=I)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(bxe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),de.createElement(xxe,Xl({},c,{offset:u,horizontalPoints:k,xAxis:x,yAxis:S})),de.createElement(wxe,Xl({},c,{offset:u,verticalPoints:E,xAxis:x,yAxis:S})),de.createElement(Sxe,Xl({},c,{horizontalPoints:k})),de.createElement(_xe,Xl({},c,{verticalPoints:E})))}TR.displayName="CartesianGrid";function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Nxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Exe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ER(r.key),r)}}function kxe(t,e,n){return e&&Exe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pxe(t,e,n){return e=W0(e),Mxe(t,CR()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function Mxe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oxe(t)}function Oxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function Ixe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(t,e)}function NR(t,e,n){return e=ER(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ER(t){var e=Dxe(t,"string");return Uf(e)=="symbol"?e:e+""}function Dxe(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}function Lxe(t){var e=t.xAxisId,n=g_(),r=v_(),i=hR(e);return i==null?null:oe.createElement(md,Iw({},i,{className:Ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Uo(o,!0)}}))}var vy=function(t){function e(){return Nxe(this,e),Pxe(this,e,arguments)}return Ixe(e,t),kxe(e,[{key:"render",value:function(){return oe.createElement(Lxe,this.props)}}])}(oe.Component);NR(vy,"displayName","XAxis");NR(vy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MR(r.key),r)}}function Bxe(t,e,n){return e&&Rxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $xe(t,e,n){return e=Y0(e),Fxe(t,kR()?Reflect.construct(e,n||[],Y0(t).constructor):e.apply(t,n))}function Fxe(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uxe(t)}function Uxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kR=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(t)}function qxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dw(t,e)}function PR(t,e,n){return e=MR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(t){var e=Hxe(t,"string");return qf(e)=="symbol"?e:e+""}function Hxe(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}var zxe=function(e){var n=e.yAxisId,r=g_(),i=v_(),a=pR(n);return a==null?null:oe.createElement(md,Lw({},a,{className:Ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Uo(s,!0)}}))},yy=function(t){function e(){return jxe(this,e),$xe(this,e,arguments)}return qxe(e,t),Bxe(e,[{key:"render",value:function(){return oe.createElement(zxe,this.props)}}])}(oe.Component);PR(yy,"displayName","YAxis");PR(yy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dP(t){return Yxe(t)||Wxe(t)||Gxe(t)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gxe(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function Wxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yxe(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rw=function(e,n,r,i,a){var o=Aa(e,b_),s=Aa(e,Ay),l=[].concat(dP(o),dP(s)),u=Aa(e,gy),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,w){if(w.props[c]===r&&so(w.props,"extendDomain")&&Ye(w.props[f])){var y=w.props[f];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},h)),u.length){var A="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,w){if(w.props[c]===r&&so(w.props,"extendDomain")&&Ye(w.props[A])&&Ye(w.props[v])){var y=w.props[A],x=w.props[v];return[Math.min(b[0],y,x),Math.max(b[1],y,x)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,w){return Ye(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},h)),h},OR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var A=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],A]:l._events[v].push(A):(l._events[v]=A,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,A=f.length,v=new Array(A);h<A;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,A,v){var b=n?n+u:u;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,x,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,A),!0;case 6:return w.fn.call(w.context,c,f,h,A,v),!0}for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];w.fn.apply(w.context,x)}else{var T=w.length,C;for(S=0;S<T;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),y){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,h);break;default:if(!x)for(C=1,x=new Array(y-1);C<y;C++)x[C-1]=arguments[C];w[S].fn.apply(w[S].context,x)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var A=n?n+u:u;if(!this._events[A])return this;if(!c)return o(this,A),this;var v=this._events[A];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&o(this,A);else{for(var b=0,w=[],y=v.length;b<y;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&w.push(v[b]);w.length?this._events[A]=w.length===1?w[0]:w:o(this,A)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(OR);var Kxe=OR.exports;const Jxe=Xt(Kxe);var j1=new Jxe,R1="recharts.syncMouseEvents";function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function Xxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function Zxe(t,e,n){return e&&Qxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B1(t,e,n){return e=IR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IR(t){var e=e2e(t,"string");return Yp(e)=="symbol"?e:e+""}function e2e(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t2e=function(){function t(){Xxe(this,t),B1(this,"activeIndex",0),B1(this,"coordinateList",[]),B1(this,"layout","horizontal")}return Zxe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,A=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=A??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function n2e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ye(r)&&Ye(i))return!0}return!1}function r2e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function DR(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Sn(e,n,r,i),s=Sn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function i2e(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Sn(s,l,u,f),A=Sn(s,l,c,f);r=h.x,i=h.y,a=A.x,o=A.y}else return DR(e);return[{x:r,y:i},{x:a,y:o}]}function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){a2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a2e(t,e,n){return e=o2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o2e(t){var e=s2e(t,"string");return Kp(e)=="symbol"?e:e+""}function s2e(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l2e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,A=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!A||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,b=ow;if(h==="ScatterChart")v=o,b=$0e;else if(h==="BarChart")v=r2e(f,o,l,c),b=d_;else if(f==="radial"){var w=DR(o),y=w.cx,x=w.cy,S=w.radius,T=w.startAngle,C=w.endAngle;v={cx:y,cy:x,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},b=Oj}else v={points:i2e(f,o,l)},b=ow;var k=Km(Km(Km(Km({stroke:"#ccc",pointerEvents:"none"},l),v),gt(A,!1)),{},{payload:s,payloadIndex:u,className:Ot("recharts-tooltip-cursor",A.className)});return oe.isValidElement(A)?oe.cloneElement(A,k):oe.createElement(b,k)}var u2e=["item"],c2e=["children","className","width","height","style","compact","title","desc"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function pP(t,e){return h2e(t)||d2e(t,e)||jR(t,e)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function h2e(t){if(Array.isArray(t))return t}function AP(t,e){if(t==null)return{};var n=p2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function A2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m2e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RR(r.key),r)}}function g2e(t,e,n){return e&&m2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v2e(t,e,n){return e=K0(e),y2e(t,LR()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function y2e(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b2e(t)}function b2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function x2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bw(t,e)}function zf(t){return _2e(t)||S2e(t)||jR(t)||w2e()}function w2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jR(t,e){if(t){if(typeof t=="string")return $w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $w(t,e)}}function S2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _2e(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){pt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pt(t,e,n){return e=RR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RR(t){var e=T2e(t,"string");return Hf(e)=="symbol"?e:e+""}function T2e(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C2e={xAxis:["bottom","top"],yAxis:["left","right"]},N2e={width:"100%",height:"100%"},BR={x:0,y:0};function Jm(t){return t}var E2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},k2e=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Me(Me(Me({},i),Sn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Me(Me(Me({},i),Sn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return BR},by=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(zf(s),zf(u)):s},[]);return o.length>0?o:e&&e.length&&Ye(i)&&Ye(a)?e.slice(i,a+1):[]};function $R(t){return t==="number"?[0,"auto"]:void 0}var Fw=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=by(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var A=f===void 0?s:f;h=p2(A,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(zf(l),[Cj(u,h)]):l},[])},gP=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=E2e(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=lAe(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=Fw(e,n,c,f),A=k2e(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:A}}return null},P2e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,A=bj(c,a);return r.reduce(function(v,b){var w,y=b.type.defaultProps!==void 0?Me(Me({},b.type.defaultProps),b.props):b.props,x=y.type,S=y.dataKey,T=y.allowDataOverflow,C=y.allowDuplicatedCategory,k=y.scale,E=y.ticks,O=y.includeHidden,D=y[o];if(v[D])return v;var $=by(e.data,{graphicalItems:i.filter(function(j){var z,Q=o in j.props?j.props[o]:(z=j.type.defaultProps)===null||z===void 0?void 0:z[o];return Q===D}),dataStartIndex:l,dataEndIndex:u}),I=$.length,M,B,F;n2e(y.domain,T,x)&&(M=tw(y.domain,null,T),A&&(x==="number"||k!=="auto")&&(F=Gh($,S,"category")));var G=$R(x);if(!M||M.length===0){var R,U=(R=y.domain)!==null&&R!==void 0?R:G;if(S){if(M=Gh($,S,x),x==="category"&&A){var V=QZ(M);C&&V?(B=M,M=R0(0,I)):C||(M=q3(U,M,b).reduce(function(j,z){return j.indexOf(z)>=0?j:[].concat(zf(j),[z])},[]))}else if(x==="category")C?M=M.filter(function(j){return j!==""&&!Dt(j)}):M=q3(U,M,b).reduce(function(j,z){return j.indexOf(z)>=0||z===""||Dt(z)?j:[].concat(zf(j),[z])},[]);else if(x==="number"){var K=hAe($,i.filter(function(j){var z,Q,te=o in j.props?j.props[o]:(z=j.type.defaultProps)===null||z===void 0?void 0:z[o],J="hide"in j.props?j.props.hide:(Q=j.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return te===D&&(O||!J)}),S,a,c);K&&(M=K)}A&&(x==="number"||k!=="auto")&&(F=Gh($,S,"category"))}else A?M=R0(0,I):s&&s[D]&&s[D].hasStack&&x==="number"?M=h==="expand"?[0,1]:Tj(s[D].stackGroups,l,u):M=yj($,i.filter(function(j){var z=o in j.props?j.props[o]:j.type.defaultProps[o],Q="hide"in j.props?j.props.hide:j.type.defaultProps.hide;return z===D&&(O||!Q)}),x,c,!0);if(x==="number")M=Rw(f,M,D,a,E),U&&(M=tw(U,M,T));else if(x==="category"&&U){var ee=U,le=M.every(function(j){return ee.indexOf(j)>=0});le&&(M=ee)}}return Me(Me({},v),{},pt({},D,Me(Me({},y),{},{axisType:a,domain:M,categoricalDomain:F,duplicateDomain:B,originalDomain:(w=y.domain)!==null&&w!==void 0?w:G,isCategorical:A,layout:c})))},{})},M2e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=by(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),A=h.length,v=bj(c,a),b=-1;return r.reduce(function(w,y){var x=y.type.defaultProps!==void 0?Me(Me({},y.type.defaultProps),y.props):y.props,S=x[o],T=$R("number");if(!w[S]){b++;var C;return v?C=R0(0,A):s&&s[S]&&s[S].hasStack?(C=Tj(s[S].stackGroups,l,u),C=Rw(f,C,S,a)):(C=tw(T,yj(h,r.filter(function(k){var E,O,D=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],$="hide"in k.props?k.props.hide:(O=k.type.defaultProps)===null||O===void 0?void 0:O.hide;return D===S&&!$}),"number",c),i.defaultProps.allowDataOverflow),C=Rw(f,C,S,a)),Me(Me({},w),{},pt({},S,Me(Me({axisType:a},i.defaultProps),{},{hide:!0,orientation:Fi(C2e,"".concat(a,".").concat(b%2),null),domain:C,originalDomain:T,isCategorical:v,layout:c})))}return w},{})},O2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Aa(c,a),A={};return h&&h.length?A=P2e(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(A=M2e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),A},I2e=function(e){var n=js(e),r=Uo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:$S(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:T0(n,r)}},vP=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ei(n,Lf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},D2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vo(n&&n.type);return r&&r.indexOf("Bar")>=0})},yP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},L2e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},A=Ei(f,Lf),v=Ei(f,su),b=Object.keys(l).reduce(function(C,k){var E=l[k],O=E.orientation;return!E.mirror&&!E.hide?Me(Me({},C),{},pt({},O,C[O]+E.width)):C},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(C,k){var E=o[k],O=E.orientation;return!E.mirror&&!E.hide?Me(Me({},C),{},pt({},O,Fi(C,"".concat(O))+E.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=Me(Me({},w),b),x=y.bottom;A&&(y.bottom+=A.props.height||Lf.defaultProps.height),v&&n&&(y=fAe(y,i,r,n));var S=u-y.left-y.right,T=c-y.top-y.bottom;return Me(Me({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(T,0)})},j2e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},FR=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var S=x.graphicalItems,T=x.stackGroups,C=x.offset,k=x.updateId,E=x.dataStartIndex,O=x.dataEndIndex,D=y.barSize,$=y.layout,I=y.barGap,M=y.barCategoryGap,B=y.maxBarSize,F=yP($),G=F.numericAxisName,R=F.cateAxisName,U=D2e(S),V=[];return S.forEach(function(K,ee){var le=by(y.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:O}),j=K.type.defaultProps!==void 0?Me(Me({},K.type.defaultProps),K.props):K.props,z=j.dataKey,Q=j.maxBarSize,te=j["".concat(G,"Id")],J=j["".concat(R,"Id")],se={},ue=l.reduce(function(Ue,He){var ge=x["".concat(He.axisType,"Map")],Ie=j["".concat(He.axisType,"Id")];ge&&ge[Ie]||He.axisType==="zAxis"||bu();var Oe=ge[Ie];return Me(Me({},Ue),{},pt(pt({},He.axisType,Oe),"".concat(He.axisType,"Ticks"),Uo(Oe)))},se),re=ue[R],be=ue["".concat(R,"Ticks")],_e=T&&T[te]&&T[te].hasStack&&wAe(K,T[te].stackGroups),fe=Vo(K.type).indexOf("Bar")>=0,De=T0(re,be),Fe=[],Se=U&&uAe({barSize:D,stackGroups:T,totalSize:j2e(ue,R)});if(fe){var ie,Te,Ce=Dt(Q)?B:Q,ve=(ie=(Te=T0(re,be,!0))!==null&&Te!==void 0?Te:Ce)!==null&&ie!==void 0?ie:0;Fe=cAe({barGap:I,barCategoryGap:M,bandSize:ve!==De?ve:De,sizeList:Se[J],maxBarSize:Ce}),ve!==De&&(Fe=Fe.map(function(Ue){return Me(Me({},Ue),{},{position:Me(Me({},Ue.position),{},{offset:Ue.position.offset-ve/2})})}))}var Ne=K&&K.type&&K.type.getComposedData;Ne&&V.push({props:Me(Me({},Ne(Me(Me({},ue),{},{displayedData:le,props:y,dataKey:z,item:K,bandSize:De,barPosition:Fe,offset:C,stackedData:_e,layout:$,dataStartIndex:E,dataEndIndex:O}))),{},pt(pt(pt({key:K.key||"item-".concat(ee)},G,ue[G]),R,ue[R]),"animationId",k)),childIndex:cee(K,y.children),item:K})}),V},A=function(y,x){var S=y.props,T=y.dataStartIndex,C=y.dataEndIndex,k=y.updateId;if(!LE({props:S}))return null;var E=S.children,O=S.layout,D=S.stackOffset,$=S.data,I=S.reverseStackOrder,M=yP(O),B=M.numericAxisName,F=M.cateAxisName,G=Aa(E,r),R=bAe($,G,"".concat(B,"Id"),"".concat(F,"Id"),D,I),U=l.reduce(function(j,z){var Q="".concat(z.axisType,"Map");return Me(Me({},j),{},pt({},Q,O2e(S,Me(Me({},z),{},{graphicalItems:G,stackGroups:z.axisType===B&&R,dataStartIndex:T,dataEndIndex:C}))))},{}),V=L2e(Me(Me({},U),{},{props:S,graphicalItems:G}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(j){U[j]=c(S,U[j],V,j.replace("Map",""),n)});var K=U["".concat(F,"Map")],ee=I2e(K),le=h(S,Me(Me({},U),{},{dataStartIndex:T,dataEndIndex:C,updateId:k,graphicalItems:G,stackGroups:R,offset:V}));return Me(Me({formattedGraphicalItems:le,graphicalItems:G,offset:V,stackGroups:R},ee),U)},v=function(w){function y(x){var S,T,C;return A2e(this,y),C=v2e(this,y,[x]),pt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pt(C,"accessibilityManager",new t2e),pt(C,"handleLegendBBoxUpdate",function(k){if(k){var E=C.state,O=E.dataStartIndex,D=E.dataEndIndex,$=E.updateId;C.setState(Me({legendBBox:k},A({props:C.props,dataStartIndex:O,dataEndIndex:D,updateId:$},Me(Me({},C.state),{},{legendBBox:k}))))}}),pt(C,"handleReceiveSyncEvent",function(k,E,O){if(C.props.syncId===k){if(O===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),pt(C,"handleBrushChange",function(k){var E=k.startIndex,O=k.endIndex;if(E!==C.state.dataStartIndex||O!==C.state.dataEndIndex){var D=C.state.updateId;C.setState(function(){return Me({dataStartIndex:E,dataEndIndex:O},A({props:C.props,dataStartIndex:E,dataEndIndex:O,updateId:D},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:O})}}),pt(C,"handleMouseEnter",function(k){var E=C.getMouseInfo(k);if(E){var O=Me(Me({},E),{},{isTooltipActive:!0});C.setState(O),C.triggerSyncEvent(O);var D=C.props.onMouseEnter;yt(D)&&D(O,k)}}),pt(C,"triggeredAfterMouseMove",function(k){var E=C.getMouseInfo(k),O=E?Me(Me({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var D=C.props.onMouseMove;yt(D)&&D(O,k)}),pt(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),pt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),pt(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),pt(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var O=C.props.onMouseLeave;yt(O)&&O(E,k)}),pt(C,"handleOuterEvent",function(k){var E=uee(k),O=Fi(C.props,"".concat(E));if(E&&yt(O)){var D,$;/.*touch.*/i.test(E)?$=C.getMouseInfo(k.changedTouches[0]):$=C.getMouseInfo(k),O((D=$)!==null&&D!==void 0?D:{},k)}}),pt(C,"handleClick",function(k){var E=C.getMouseInfo(k);if(E){var O=Me(Me({},E),{},{isTooltipActive:!0});C.setState(O),C.triggerSyncEvent(O);var D=C.props.onClick;yt(D)&&D(O,k)}}),pt(C,"handleMouseDown",function(k){var E=C.props.onMouseDown;if(yt(E)){var O=C.getMouseInfo(k);E(O,k)}}),pt(C,"handleMouseUp",function(k){var E=C.props.onMouseUp;if(yt(E)){var O=C.getMouseInfo(k);E(O,k)}}),pt(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),pt(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),pt(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),pt(C,"handleDoubleClick",function(k){var E=C.props.onDoubleClick;if(yt(E)){var O=C.getMouseInfo(k);E(O,k)}}),pt(C,"handleContextMenu",function(k){var E=C.props.onContextMenu;if(yt(E)){var O=C.getMouseInfo(k);E(O,k)}}),pt(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&j1.emit(R1,C.props.syncId,k,C.eventEmitterSymbol)}),pt(C,"applySyncEvent",function(k){var E=C.props,O=E.layout,D=E.syncMethod,$=C.state.updateId,I=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(Me({dataStartIndex:I,dataEndIndex:M},A({props:C.props,dataStartIndex:I,dataEndIndex:M,updateId:$},C.state)));else if(k.activeTooltipIndex!==void 0){var B=k.chartX,F=k.chartY,G=k.activeTooltipIndex,R=C.state,U=R.offset,V=R.tooltipTicks;if(!U)return;if(typeof D=="function")G=D(V,k);else if(D==="value"){G=-1;for(var K=0;K<V.length;K++)if(V[K].value===k.activeLabel){G=K;break}}var ee=Me(Me({},U),{},{x:U.left,y:U.top}),le=Math.min(B,ee.x+ee.width),j=Math.min(F,ee.y+ee.height),z=V[G]&&V[G].value,Q=Fw(C.state,C.props.data,G),te=V[G]?{x:O==="horizontal"?V[G].coordinate:le,y:O==="horizontal"?j:V[G].coordinate}:BR;C.setState(Me(Me({},k),{},{activeLabel:z,activeCoordinate:te,activePayload:Q,activeTooltipIndex:G}))}else C.setState(k)}),pt(C,"renderCursor",function(k){var E,O=C.state,D=O.isTooltipActive,$=O.activeCoordinate,I=O.activePayload,M=O.offset,B=O.activeTooltipIndex,F=O.tooltipAxisBandSize,G=C.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:D,U=C.props.layout,V=k.key||"_recharts-cursor";return de.createElement(l2e,{key:V,activeCoordinate:$,activePayload:I,activeTooltipIndex:B,chartName:n,element:k,isActive:R,layout:U,offset:M,tooltipAxisBandSize:F,tooltipEventType:G})}),pt(C,"renderPolarAxis",function(k,E,O){var D=Fi(k,"type.axisType"),$=Fi(C.state,"".concat(D,"Map")),I=k.type.defaultProps,M=I!==void 0?Me(Me({},I),k.props):k.props,B=$&&$[M["".concat(D,"Id")]];return oe.cloneElement(k,Me(Me({},B),{},{className:Ot(D,B.className),key:k.key||"".concat(E,"-").concat(O),ticks:Uo(B,!0)}))}),pt(C,"renderPolarGrid",function(k){var E=k.props,O=E.radialLines,D=E.polarAngles,$=E.polarRadius,I=C.state,M=I.radiusAxisMap,B=I.angleAxisMap,F=js(M),G=js(B),R=G.cx,U=G.cy,V=G.innerRadius,K=G.outerRadius;return oe.cloneElement(k,{polarAngles:Array.isArray(D)?D:Uo(G,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray($)?$:Uo(F,!0).map(function(ee){return ee.coordinate}),cx:R,cy:U,innerRadius:V,outerRadius:K,key:k.key||"polar-grid",radialLines:O})}),pt(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,E=C.props,O=E.children,D=E.width,$=E.height,I=C.props.margin||{},M=D-(I.left||0)-(I.right||0),B=gj({children:O,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!B)return null;var F=B.item,G=AP(B,u2e);return oe.cloneElement(F,Me(Me({},G),{},{chartWidth:D,chartHeight:$,margin:I,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),pt(C,"renderTooltip",function(){var k,E=C.props,O=E.children,D=E.accessibilityLayer,$=Ei(O,Da);if(!$)return null;var I=C.state,M=I.isTooltipActive,B=I.activeCoordinate,F=I.activePayload,G=I.activeLabel,R=I.offset,U=(k=$.props.active)!==null&&k!==void 0?k:M;return oe.cloneElement($,{viewBox:Me(Me({},R),{},{x:R.left,y:R.top}),active:U,label:G,payload:U?F:[],coordinate:B,accessibilityLayer:D})}),pt(C,"renderBrush",function(k){var E=C.props,O=E.margin,D=E.data,$=C.state,I=$.offset,M=$.dataStartIndex,B=$.dataEndIndex,F=$.updateId;return oe.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Vm(C.handleBrushChange,k.props.onChange),data:D,x:Ye(k.props.x)?k.props.x:I.left,y:Ye(k.props.y)?k.props.y:I.top+I.height+I.brushBottom-(O.bottom||0),width:Ye(k.props.width)?k.props.width:I.width,startIndex:M,endIndex:B,updateId:"brush-".concat(F)})}),pt(C,"renderReferenceElement",function(k,E,O){if(!k)return null;var D=C,$=D.clipPathId,I=C.state,M=I.xAxisMap,B=I.yAxisMap,F=I.offset,G=k.type.defaultProps||{},R=k.props,U=R.xAxisId,V=U===void 0?G.xAxisId:U,K=R.yAxisId,ee=K===void 0?G.yAxisId:K;return oe.cloneElement(k,{key:k.key||"".concat(E,"-").concat(O),xAxis:M[V],yAxis:B[ee],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:$})}),pt(C,"renderActivePoints",function(k){var E=k.item,O=k.activePoint,D=k.basePoint,$=k.childIndex,I=k.isRange,M=[],B=E.props.key,F=E.item.type.defaultProps!==void 0?Me(Me({},E.item.type.defaultProps),E.item.props):E.item.props,G=F.activeDot,R=F.dataKey,U=Me(Me({index:$,dataKey:R,cx:O.x,cy:O.y,r:4,fill:f_(E.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},gt(G,!1)),Qg(G));return M.push(y.renderActiveDot(G,U,"".concat(B,"-activePoint-").concat($))),D?M.push(y.renderActiveDot(G,Me(Me({},U),{},{cx:D.x,cy:D.y}),"".concat(B,"-basePoint-").concat($))):I&&M.push(null),M}),pt(C,"renderGraphicChild",function(k,E,O){var D=C.filterFormatItem(k,E,O);if(!D)return null;var $=C.getTooltipEventType(),I=C.state,M=I.isTooltipActive,B=I.tooltipAxis,F=I.activeTooltipIndex,G=I.activeLabel,R=C.props.children,U=Ei(R,Da),V=D.props,K=V.points,ee=V.isRange,le=V.baseLine,j=D.item.type.defaultProps!==void 0?Me(Me({},D.item.type.defaultProps),D.item.props):D.item.props,z=j.activeDot,Q=j.hide,te=j.activeBar,J=j.activeShape,se=!!(!Q&&M&&U&&(z||te||J)),ue={};$!=="axis"&&U&&U.props.trigger==="click"?ue={onClick:Vm(C.handleItemMouseEnter,k.props.onClick)}:$!=="axis"&&(ue={onMouseLeave:Vm(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Vm(C.handleItemMouseEnter,k.props.onMouseEnter)});var re=oe.cloneElement(k,Me(Me({},D.props),ue));function be(He){return typeof B.dataKey=="function"?B.dataKey(He.payload):null}if(se)if(F>=0){var _e,fe;if(B.dataKey&&!B.allowDuplicatedCategory){var De=typeof B.dataKey=="function"?be:"payload.".concat(B.dataKey.toString());_e=p2(K,De,G),fe=ee&&le&&p2(le,De,G)}else _e=K==null?void 0:K[F],fe=ee&&le&&le[F];if(J||te){var Fe=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[oe.cloneElement(k,Me(Me(Me({},D.props),ue),{},{activeIndex:Fe})),null,null]}if(!Dt(_e))return[re].concat(zf(C.renderActivePoints({item:D,activePoint:_e,basePoint:fe,childIndex:F,isRange:ee})))}else{var Se,ie=(Se=C.getItemByXY(C.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:re},Te=ie.graphicalItem,Ce=Te.item,ve=Ce===void 0?k:Ce,Ne=Te.childIndex,Ue=Me(Me(Me({},D.props),ue),{},{activeIndex:Ne});return[oe.cloneElement(ve,Ue),null,null]}return ee?[re,null,null]:[re,null]}),pt(C,"renderCustomized",function(k,E,O){return oe.cloneElement(k,Me(Me({key:"recharts-customized-".concat(O)},C.props),C.state))}),pt(C,"renderMap",{CartesianGrid:{handler:Jm,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Jm},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Jm},YAxis:{handler:Jm},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=x.id)!==null&&S!==void 0?S:pA("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=mL(C.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return x2e(y,w),g2e(y,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,C=S.data,k=S.height,E=S.layout,O=Ei(T,Da);if(O){var D=O.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,I=Fw(this.state,C,D,$),M=this.state.tooltipTicks[D].coordinate,B=(this.state.offset.top+k)/2,F=E==="horizontal",G=F?{x:M,y:B}:{y:M,x:B},R=this.state.formattedGraphicalItems.find(function(V){var K=V.item;return K.type.name==="Scatter"});R&&(G=Me(Me({},G),R.props.points[D].tooltipPosition),I=R.props.points[D].tooltipPayload);var U={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:$,activePayload:I,activeCoordinate:G};this.setState(U),this.renderCursor(O),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){m2([Ei(S.children,Da)],[Ei(this.props.children,Da)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ei(this.props.children,Da);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),k=jce(C),E={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},O=C.width/T.offsetWidth||1,D=this.inRange(E.chartX,E.chartY,O);if(!D)return null;var $=this.state,I=$.xAxisMap,M=$.yAxisMap,B=this.getTooltipEventType(),F=gP(this.state,this.props.data,this.props.layout,D);if(B!=="axis"&&I&&M){var G=js(I).scale,R=js(M).scale,U=G&&G.invert?G.invert(E.chartX):null,V=R&&R.invert?R.invert(E.chartY):null;return Me(Me({},E),{},{xValue:U,yValue:V},F)}return F?Me(Me({},E),F):null}},{key:"inRange",value:function(S,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=S/C,O=T/C;if(k==="horizontal"||k==="vertical"){var D=this.state.offset,$=E>=D.left&&E<=D.left+D.width&&O>=D.top&&O<=D.top+D.height;return $?{x:E,y:O}:null}var I=this.state,M=I.angleAxisMap,B=I.radiusAxisMap;if(M&&B){var F=js(M);return V3({x:E,y:O},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),C=Ei(S,Da),k={};C&&T==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Qg(this.props,this.handleOuterEvent);return Me(Me({},E),k)}},{key:"addListener",value:function(){j1.on(R1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){j1.removeListener(R1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,C){for(var k=this.state.formattedGraphicalItems,E=0,O=k.length;E<O;E++){var D=k[E];if(D.item===S||D.props.key===S.key||T===Vo(D.item.type)&&C===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,C=T.left,k=T.top,E=T.height,O=T.width;return de.createElement("defs",null,de.createElement("clipPath",{id:S},de.createElement("rect",{x:C,y:k,height:E,width:O})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=pP(C,2),E=k[0],O=k[1];return Me(Me({},T),{},pt({},E,O.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=pP(C,2),E=k[0],O=k[1];return Me(Me({},T),{},pt({},E,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,C=T.formattedGraphicalItems,k=T.activeItem;if(C&&C.length)for(var E=0,O=C.length;E<O;E++){var D=C[E],$=D.props,I=D.item,M=I.type.defaultProps!==void 0?Me(Me({},I.type.defaultProps),I.props):I.props,B=Vo(I.type);if(B==="Bar"){var F=($.data||[]).find(function(V){return y0e(S,V)});if(F)return{graphicalItem:D,payload:F}}else if(B==="RadialBar"){var G=($.data||[]).find(function(V){return V3(S,V)});if(G)return{graphicalItem:D,payload:G}}else if(fy(D,k)||dy(D,k)||Hp(D,k)){var R=sye({graphicalItem:D,activeTooltipItem:k,itemData:M.data}),U=M.activeIndex===void 0?R:M.activeIndex;return{graphicalItem:Me(Me({},D),{},{childIndex:U}),payload:Hp(D,k)?M.data[R]:D.props.data[R]}}}return null}},{key:"render",value:function(){var S=this;if(!LE(this))return null;var T=this.props,C=T.children,k=T.className,E=T.width,O=T.height,D=T.style,$=T.compact,I=T.title,M=T.desc,B=AP(T,c2e),F=gt(B,!1);if($)return de.createElement(Zk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(v2,Yc({},F,{width:E,height:O,title:I,desc:M}),this.renderClipPath(),RE(C,this.renderMap)));if(this.props.accessibilityLayer){var G,R;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},F.onFocus=function(){S.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return de.createElement(Zk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",Yc({className:Ot("recharts-wrapper",k),style:Me({position:"relative",cursor:"default",width:E,height:O},D)},U,{ref:function(K){S.container=K}}),de.createElement(v2,Yc({},F,{width:E,height:O,title:I,desc:M,style:N2e}),this.renderClipPath(),RE(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(oe.Component);pt(v,"displayName",n),pt(v,"defaultProps",Me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),pt(v,"getDerivedStateFromProps",function(w,y){var x=w.dataKey,S=w.data,T=w.children,C=w.width,k=w.height,E=w.layout,O=w.stackOffset,D=w.margin,$=y.dataStartIndex,I=y.dataEndIndex;if(y.updateId===void 0){var M=vP(w);return Me(Me(Me({},M),{},{updateId:0},A(Me(Me({props:w},M),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:O,prevMargin:D,prevChildren:T})}if(x!==y.prevDataKey||S!==y.prevData||C!==y.prevWidth||k!==y.prevHeight||E!==y.prevLayout||O!==y.prevStackOffset||!sf(D,y.prevMargin)){var B=vP(w),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},G=Me(Me({},gP(y,S,E)),{},{updateId:y.updateId+1}),R=Me(Me(Me({},B),F),G);return Me(Me(Me({},R),A(Me({props:w},R),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:O,prevMargin:D,prevChildren:T})}if(!m2(T,y.prevChildren)){var U,V,K,ee,le=Ei(T,Lf),j=le&&(U=(V=le.props)===null||V===void 0?void 0:V.startIndex)!==null&&U!==void 0?U:$,z=le&&(K=(ee=le.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&K!==void 0?K:I,Q=j!==$||z!==I,te=!Dt(S),J=te&&!Q?y.updateId:y.updateId+1;return Me(Me({updateId:J},A(Me(Me({props:w},y),{},{updateId:J,dataStartIndex:j,dataEndIndex:z}),y)),{},{prevChildren:T,dataStartIndex:j,dataEndIndex:z})}return null}),pt(v,"renderActiveDot",function(w,y,x){var S;return oe.isValidElement(w)?S=oe.cloneElement(w,y):yt(w)?S=w(y):S=de.createElement(h_,y),de.createElement(rn,{className:"recharts-active-dot",key:x},S)});var b=oe.forwardRef(function(y,x){return de.createElement(v,Yc({},y,{ref:x}))});return b.displayName=v.displayName,b},R2e=FR({chartName:"BarChart",GraphicalChild:Du,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vy},{axisType:"yAxis",AxisComp:yy}],formatAxisMap:$be}),B2e=FR({chartName:"PieChart",GraphicalChild:ss,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cy},{axisType:"radiusAxis",AxisComp:ly}],formatAxisMap:OAe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const $2e=["#26A69A","#4DD0E1","#EF5350","#FFB74D","#80CBC4","#A0AEC0"],F2e=["#2dd4bf","#67e8f9","#f87171","#fbbf24","#5eead4","#94a3b8"],U2e=({onClose:t,total:e,sales:n,customers:r,onReprintInvoice:i,t:a,language:o})=>{const s=o==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:a("customItemsDetails")}),m.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(KO,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-4 rounded-lg text-purple-800 dark:text-purple-200 mb-4",children:[m.jsx("p",{className:"font-bold",children:a("totalCustomRevenue")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:a("invoiceHistory")}),n.length>0?n.slice().reverse().map(l=>{var u;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[a("invoiceNumber")," ",l.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(l.date).toLocaleString(s)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[l.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a("profitLabel"),": ",l.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>i(l),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:a("print"),children:m.jsx(aS,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:a("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customers"),":"]})," ",((u=r.find(c=>c.id===l.customerId))==null?void 0:u.name)||a("cashCustomer")]}),m.jsxs("p",{className:"font-semibold",children:[a("customItemsInSale"),":"]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:l.items.filter(c=>c.isCustom).map(c=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(el,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]})]},l.id)}):m.jsx("p",{className:"text-center text-slate-500 py-8",children:a("noSalesForPeriod")})]}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")})})]})})},q2e=({expense:t,onSave:e,onClose:n,t:r})=>{const[i,a]=oe.useState(t),[o,s]=oe.useState(!1),l=f=>{const{id:h,value:A}=f.target;a(v=>({...v,[h]:A}))},u=f=>{a(h=>({...h,amount:parseFloat(f.target.value)||0}))},c=async f=>{f.preventDefault(),s(!0),await e(i),s(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[r("edit")," ",r("manageExpenses")]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("description")}),m.jsx("input",{type:"text",id:"description",value:i.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[r("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"amount",value:i.amount,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",disabled:o,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:o?`${r("saving")}...`:r("save")})]})]})]})})},$1=10,H2e=({storeId:t,sales:e,expenses:n,purchases:r,suppliers:i,returns:a,customers:o,users:s,addExpense:l,updateExpense:u,deleteExpense:c,deleteReturn:f,deleteAllReturns:h,t:A,language:v,theme:b,onReprintInvoice:w})=>{const[y,x]=oe.useState("all"),[S,T]=oe.useState({start:"",end:""}),[C,k]=oe.useState("overview"),[E,O]=oe.useState(null),[D,$]=oe.useState(!1),[I,M]=oe.useState(1),B=v==="ar"?"ar-MA":"fr-FR";oe.useEffect(()=>{M(1)},[y,S]);const F=oe.useMemo(()=>b==="dark"?{pie:F2e,tick:"#94a3b8",grid:"rgba(94, 112, 131, 0.2)",tooltip:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#e2e8f0"},legend:"#e2e8f0",bar:"#2dd4bf"}:{pie:$2e,tick:"#475569",grid:"#e2e8f0",tooltip:{backgroundColor:"#ffffff",borderColor:"#e2e8f0",color:"#1e293b"},legend:"#334155",bar:"#26A69A"},[b]),G=oe.useMemo(()=>jm(e,y,S),[e,y,S]),R=oe.useMemo(()=>jm(n,y,S).sort((ge,Ie)=>new Date(Ie.date).getTime()-new Date(ge.date).getTime()),[n,y,S]),U=oe.useMemo(()=>jm(a,y,S),[a,y,S]),V=oe.useMemo(()=>jm(r,y,S),[r,y,S]),{totalRevenue:K,totalReturnsAmount:ee,netRevenue:le,totalExpenses:j,netProfit:z,totalCustomerDebts:Q,debtsByCustomer:te,totalCostOfGoods:J,totalSupplierDebt:se,debtsBySupplier:ue,totalCustomItemSales:re}=oe.useMemo(()=>{let ge=0,Ie=0;G.forEach(Ge=>{const st=Ge.total,rt=Ge.items.filter(bt=>!bt.isCustom).reduce((bt,Bn)=>bt+Bn.price*Bn.quantity,0),Ft=st-rt;Ie+=Ft,ge+=rt});let Oe=0;U.forEach(Ge=>{Ge.items.forEach(st=>{st.isCustom||(Oe+=st.price*st.quantity)})});const Xe=ge-Oe,ut=R.reduce((Ge,st)=>Ge+st.amount,0),ht=G.reduce((Ge,st)=>Ge+st.profit,0),Ke=U.reduce((Ge,st)=>Ge+st.profitLost,0),et=ht-Ke-ut,ze=new Map;let Gt=0;e.forEach(Ge=>{var st;if(Ge.customerId&&Ge.remainingAmount>0){Gt+=Ge.remainingAmount;const rt=o.find(Ft=>Ft.id===Ge.customerId);if(rt){const Ft=((st=ze.get(Ge.customerId))==null?void 0:st.debt)||0;ze.set(Ge.customerId,{customer:rt,debt:Ft+Ge.remainingAmount})}}});const Pt=new Map;let Ee=0;r.forEach(Ge=>{var st;if(Ge.remainingAmount>0){Ee+=Ge.remainingAmount;const rt=i.find(Ft=>Ft.id===Ge.supplierId);if(rt){const Ft=((st=Pt.get(Ge.supplierId))==null?void 0:st.debt)||0;Pt.set(Ge.supplierId,{supplier:rt,debt:Ft+Ge.remainingAmount})}}});const We=r.reduce((Ge,st)=>Ge+st.totalAmount,0);return{totalRevenue:ge,totalReturnsAmount:Oe,netRevenue:Xe,totalExpenses:ut,netProfit:et,totalCustomerDebts:Gt,debtsByCustomer:Array.from(ze.values()).sort((Ge,st)=>st.debt-Ge.debt),totalCostOfGoods:We,totalSupplierDebt:Ee,debtsBySupplier:Array.from(Pt.values()).sort((Ge,st)=>st.debt-Ge.debt),totalCustomItemSales:Ie}},[G,R,U,e,o,r,i]),be=oe.useMemo(()=>{const ge={},Ie={day:"2-digit",month:"2-digit"};return G.forEach(Oe=>{const Xe=new Date(Oe.date).toLocaleDateString(B,Ie);ge[Xe]||(ge[Xe]=0);const ut=Oe.items.filter(ht=>!ht.isCustom).reduce((ht,Ke)=>ht+Ke.price*Ke.quantity,0);ge[Xe]+=ut}),U.forEach(Oe=>{const Xe=new Date(Oe.date).toLocaleDateString(B,Ie);if(ge[Xe]){const ut=Oe.items.filter(ht=>!ht.isCustom).reduce((ht,Ke)=>ht+Ke.price*Ke.quantity,0);ge[Xe]-=ut}ge[Xe]<0&&(ge[Xe]=0)}),Object.entries(ge).map(([Oe,Xe])=>({name:Oe,[A("sales")]:Xe})).reverse()},[G,U,B,A]),_e=oe.useMemo(()=>{const ge={};return G.forEach(Ie=>{Ie.items.forEach(Oe=>{Oe.type==="good"&&(ge[Oe.id]||(ge[Oe.id]={name:Oe.name,quantity:0}),ge[Oe.id].quantity+=Oe.quantity)})}),U.forEach(Ie=>{Ie.items.forEach(Oe=>{Oe.type==="good"&&ge[Oe.id]&&(ge[Oe.id].quantity-=Oe.quantity)})}),Object.values(ge).filter(({quantity:Ie})=>Ie>0).map(({name:Ie,quantity:Oe})=>({name:Ie,value:Oe})).sort((Ie,Oe)=>Oe.value-Ie.value).slice(0,6)},[G,U]),fe=oe.useMemo(()=>G.filter(ge=>!ge.items.some(Ie=>Ie.isCustom)).slice().reverse(),[G]),De=oe.useMemo(()=>G.filter(ge=>ge.items.some(Ie=>Ie.isCustom)),[G]),Fe=()=>{const[ge,Ie]=oe.useState({description:"",amount:""}),Oe=oe.useRef(null),Xe=async Ke=>{var et;if(Ke.preventDefault(),!ge.description||!ge.amount){alert(A("fillAllFields"));return}await l({storeId:t,description:ge.description,amount:parseFloat(ge.amount),date:new Date().toISOString()}),Ie({description:"",amount:""}),(et=Oe.current)==null||et.focus()},ut=Ke=>{c(Ke)},ht=()=>{const Ke=[A("date"),A("description"),A("amount")],et=R.map(ze=>[new Date(ze.date).toLocaleDateString(B),ze.description,`${ze.amount.toFixed(2)} DH`]);Wl(A("expenseHistory"),Ke,et,"expenses_report",v,A("noDataToExport"))};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("manageExpenses")}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",A("goBack")]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:A("addExpense")}),m.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"exp-description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:A("description")}),m.jsx("input",{ref:Oe,type:"text",id:"exp-description",value:ge.description,onChange:Ke=>Ie({...ge,description:Ke.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"exp-amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[A("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"exp-amount",value:ge.amount,onChange:Ke=>Ie({...ge,amount:Ke.target.value}),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:A("addExpense")})]})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:A("expenseHistory")}),m.jsxs("button",{onClick:ht,className:"bg-cyan-600 text-white font-semibold py-1 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(ra,{className:"w-4 h-4"})," ",A("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2 space-y-3",children:R.length>0?R.map(Ke=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Ke.description}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(Ke.date).toLocaleDateString(B)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[Ke.amount.toFixed(2)," DH"]}),m.jsx("button",{onClick:()=>O(Ke),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300",children:m.jsx(vv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>ut(Ke.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:m.jsx($i,{className:"w-5 h-5"})})]})]},Ke.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noExpensesForPeriod")})})]})]})]})},Se=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("debtorCustomers")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const ge=[A("name"),A("phone"),A("debtAmount")],Ie=te.map(Oe=>[Oe.customer.name,Oe.customer.phone,`${Oe.debt.toFixed(2)} DH`]);Wl(A("debtorCustomers"),ge,Ie,"customer_debts",v,A("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ra,{className:"w-4 h-4"})," ",A("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",A("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:te.length>0?te.map(({customer:ge,debt:Ie})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ge.name}),m.jsx("td",{className:"px-6 py-4",children:ge.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[Ie.toFixed(2)," DH"]})]},ge.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noDebtorCustomers")})})})]})})]}),ie=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("returnHistory")}),m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsxs("button",{onClick:()=>{const ge=[A("returnId"),A("date"),A("refundAmount"),A("profitLost"),A("itemsLabel")],Ie=U.map(Oe=>[Oe.id.slice(-6),new Date(Oe.date).toLocaleString(B),`${Oe.refundAmount.toFixed(2)} DH`,`${Oe.profitLost.toFixed(2)} DH`,Oe.items.map(Xe=>`${Xe.name} (x${Xe.quantity})`).join(", ")]);Wl(A("returnHistory"),ge,Ie,"returns_report",v,A("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-2 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ra,{className:"w-4 h-4"})," ",A("exportToPdf")]}),m.jsxs("button",{onClick:h,className:"bg-red-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx($i,{className:"w-4 h-4"})," ",A("deleteHistory")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",A("goBack")]})]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:U.length>0?U.slice().reverse().map(ge=>m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A("returnId")," ",ge.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ge.date).toLocaleString(B)})]}),m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-orange-600 dark:text-orange-400",children:[ge.refundAmount.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[A("profitLost"),": ",ge.profitLost.toFixed(2)," DH"]})]})]}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsxs("button",{onClick:()=>f(ge.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold flex items-center gap-1",children:[m.jsx($i,{className:"w-4 h-4"})," ",A("delete")]})}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-orange-700 dark:text-orange-400 font-semibold hover:text-orange-800",children:A("returnedItems")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-orange-200 dark:border-orange-500/30",children:ge.items.map(Ie=>m.jsxs("li",{className:"flex justify-between items-center text-slate-700 dark:text-slate-300",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[Ie.type==="service"&&m.jsx(el,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),Ie.name," (x",Ie.quantity,")"]}),m.jsxs("span",{children:[(Ie.price*Ie.quantity).toFixed(2)," DH"]})]},Ie.id))})]})]},ge.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noReturnsForPeriod")})})})]}),Te=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("allPurchasesHistory")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const ge=[A("date"),A("suppliers"),A("reference"),A("totalAmount"),A("amountPaid"),A("remainingAmountLabel"),A("paymentMethod")],Ie=V.map(Oe=>{var Xe;return[new Date(Oe.date).toLocaleDateString(B),((Xe=i.find(ut=>ut.id===Oe.supplierId))==null?void 0:Xe.name)||"N/A",Oe.reference&&Oe.reference.startsWith("purchase_ref_")?A(Oe.reference):Oe.reference||"",`${Oe.totalAmount.toFixed(2)} DH`,`${Oe.amountPaid.toFixed(2)} DH`,`${Oe.remainingAmount.toFixed(2)} DH`,A(Oe.paymentMethod)]});Wl(A("allPurchasesHistory"),ge,Ie,"all_purchases_report",v,A("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ra,{className:"w-4 h-4"})," ",A("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",A("goBack")]})]})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:V.length>0?m.jsx("ul",{className:"space-y-3",children:V.slice().reverse().map(ge=>{var Ie;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A("reference"),": ",ge.reference&&ge.reference.startsWith("purchase_ref_")?A(ge.reference):ge.reference||A("unknown")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ge.date).toLocaleString(B)}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[A("suppliers"),": ",((Ie=i.find(Oe=>Oe.id===ge.supplierId))==null?void 0:Ie.name)||"N/A"]})]}),m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-teal-600 dark:text-teal-400",children:[ge.totalAmount.toFixed(2)," DH"]}),ge.remainingAmount>0&&m.jsxs("p",{className:"text-xs font-bold text-red-500 dark:text-red-400",children:[A("remainingAmountLabel"),": ",ge.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-teal-700 dark:text-teal-400 font-semibold hover:text-teal-800",children:A("purchaseDetails")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-teal-200 dark:border-teal-500/30 text-slate-600 dark:text-slate-300",children:ge.items.map(Oe=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{children:[Oe.productName," - ",Oe.variantName," (x",Oe.quantity,")"]}),m.jsxs("span",{children:[Oe.purchasePrice.toFixed(2)," DH"]})]},Oe.variantId))})]})]},ge.id)})}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noPurchasesRecorded")})})]}),Ce=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("supplierDebtsList")}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",A("goBack")]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:ue.length>0?ue.map(({supplier:ge,debt:Ie})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ge.name}),m.jsx("td",{className:"px-6 py-4",children:ge.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[Ie.toFixed(2)," DH"]})]},ge.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noSupplierDebt")})})})]})})]}),ve=()=>{const[ge,Ie]=oe.useState("all"),Oe=oe.useMemo(()=>ge==="all"?G:G.filter(et=>et.userId===ge),[ge]),Xe=oe.useMemo(()=>ge==="all"?U:U.filter(et=>et.userId===ge),[ge]),ut=Oe.reduce((et,ze)=>et+ze.total,0),ht=Xe.reduce((et,ze)=>et+ze.refundAmount,0),Ke=ut-ht;return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:A("sellerReportsAndZReport")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("select",{value:ge,onChange:et=>Ie(et.target.value),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 block p-2.5",children:[m.jsx("option",{value:"all",children:A("all")}),s.map(et=>m.jsx("option",{value:et.id,children:et.name},et.id))]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",A("goBack")]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center mb-6",children:[m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-lg text-green-800 dark:text-green-200",children:[m.jsx("p",{className:"font-bold",children:A("totalSales")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[ut.toFixed(2)," DH"]}),m.jsx("p",{className:"text-xs",children:A("numberOfSales",{count:Oe.length})})]}),m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-4 rounded-lg text-orange-800 dark:text-orange-200",children:[m.jsx("p",{className:"font-bold",children:A("totalReturns")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[ht.toFixed(2)," DH"]}),m.jsx("p",{className:"text-xs",children:A("numberOfReturns",{count:Xe.length})})]}),m.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[m.jsx("p",{className:"font-bold",children:A("netActivity")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ke.toFixed(2)," DH"]})]})]}),m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-2",children:A("transactionList")}),m.jsx("div",{className:"max-h-96 overflow-y-auto pr-2 space-y-3",children:[...Oe,...Xe].sort((et,ze)=>new Date(ze.date).getTime()-new Date(et.date).getTime()).map(et=>{const ze="total"in et;return m.jsxs("li",{className:`p-4 border rounded-lg list-none ${ze?"bg-green-50 dark:bg-green-900/20":"bg-orange-50 dark:bg-orange-900/20"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[A(ze?"invoiceNumber":"returnId")," ",et.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(et.date).toLocaleString(B)})]}),m.jsx("div",{className:"text-left rtl:text-right",children:m.jsxs("p",{className:`font-bold text-lg ${ze?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:[ze?et.total.toFixed(2):et.refundAmount.toFixed(2)," DH"]})})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:A("viewDetails")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 text-slate-600 dark:text-slate-300",children:et.items.map(Gt=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{children:[Gt.name," (x",Gt.quantity,")"]}),m.jsxs("span",{children:[(Gt.price*Gt.quantity).toFixed(2)," DH"]})]},Gt.id))})]})]},et.id)})})]})},Ne=({title:ge,value:Ie,details:Oe,onClick:Xe,colorClass:ut,icon:ht})=>m.jsxs("div",{className:`p-4 rounded-xl shadow-lg ${ut} text-white ${Xe?"cursor-pointer hover:opacity-90 transition-opacity":""}`,onClick:Xe,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("h3",{className:"text-sm font-bold uppercase opacity-80",children:ge}),m.jsx(ht,{className:"w-6 h-6 opacity-70"})]}),m.jsx("p",{className:"text-3xl font-extrabold",children:Ie}),Oe&&m.jsx("p",{className:"text-xs opacity-80 mt-1",children:Oe})]}),Ue=fe.slice((I-1)*$1,I*$1),He=Math.ceil(fe.length/$1);return C==="expenses"?m.jsx(Fe,{}):C==="debts"?m.jsx(Se,{}):C==="returns"?m.jsx(ie,{}):C==="allPurchases"?m.jsx(Te,{}):C==="supplierDebts"?m.jsx(Ce,{}):C==="sellerReports"?m.jsx(ve,{}):m.jsxs("div",{className:"space-y-6",children:[E&&m.jsx(q2e,{expense:E,onClose:()=>O(null),onSave:u,t:A}),D&&m.jsx(U2e,{onClose:()=>$(!1),total:re,sales:De,customers:o,onReprintInvoice:w,t:A,language:v}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg flex justify-between items-center flex-wrap gap-4",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:A("finance")}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("select",{value:y,onChange:ge=>x(ge.target.value),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 block p-2.5",children:[m.jsx("option",{value:"all",children:A("all")}),m.jsx("option",{value:"today",children:A("today")}),m.jsx("option",{value:"week",children:A("thisWeek")}),m.jsx("option",{value:"month",children:A("thisMonth")}),m.jsx("option",{value:"custom",children:A("customRange")})]}),y==="custom"&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",value:S.start,onChange:ge=>T(Ie=>({...Ie,start:ge.target.value})),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg p-2"}),m.jsx("span",{children:"-"}),m.jsx("input",{type:"date",value:S.end,onChange:ge=>T(Ie=>({...Ie,end:ge.target.value})),className:"bg-gray-50 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-slate-900 dark:text-slate-100 text-sm rounded-lg p-2"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:[m.jsx(Ne,{title:A("netRevenue"),value:`${le.toFixed(2)} DH`,details:A("totalRevenueMinusReturns"),colorClass:"bg-teal-600 dark:bg-teal-700",icon:ra}),m.jsx(Ne,{title:A("netProfit"),value:`${z.toFixed(2)} DH`,details:A("realizedProfitMinusExpenses"),colorClass:"bg-green-600 dark:bg-green-700",icon:ra}),m.jsx(Ne,{title:A("totalExpenses"),value:`${j.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>k("expenses"),colorClass:"bg-red-500 dark:bg-red-600",icon:ra}),m.jsx(Ne,{title:A("customerDebts"),value:`${Q.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>k("debts"),colorClass:"bg-orange-500 dark:bg-orange-600",icon:nS}),m.jsx(Ne,{title:A("totalSupplierDebt"),value:`${se.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>k("supplierDebts"),colorClass:"bg-yellow-500 dark:bg-yellow-600",icon:ra}),m.jsx(Ne,{title:A("customItemsDetails"),value:`${re.toFixed(2)} DH`,details:A("clickToViewDetails"),onClick:()=>$(!0),colorClass:"bg-purple-600 dark:bg-purple-700",icon:el})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4",children:A("salesPerformance")}),m.jsx(D4,{width:"100%",height:300,children:m.jsxs(R2e,{data:be,margin:{top:5,right:20,left:-10,bottom:5},children:[m.jsx(TR,{strokeDasharray:"3 3",stroke:F.grid}),m.jsx(vy,{dataKey:"name",tick:{fill:F.tick,fontSize:12}}),m.jsx(yy,{tick:{fill:F.tick,fontSize:12}}),m.jsx(Da,{contentStyle:{backgroundColor:F.tooltip.backgroundColor,border:`1px solid ${F.tooltip.borderColor}`,color:F.tooltip.color,borderRadius:"0.5rem"},cursor:{fill:"rgba(113, 113, 122, 0.1)"}}),m.jsx(su,{wrapperStyle:{color:F.legend,fontSize:"14px"}}),m.jsx(Du,{dataKey:A("sales"),fill:F.bar})]})})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4",children:A("topSellingProducts")}),m.jsx(D4,{width:"100%",height:300,children:m.jsxs(B2e,{children:[m.jsx(ss,{data:_e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,label:({name:ge,value:Ie})=>`${ge} (${Ie} ${A("units")})`,children:_e.map((ge,Ie)=>m.jsx(Wv,{fill:F.pie[Ie%F.pie.length]},`cell-${Ie}`))}),m.jsx(Da,{contentStyle:{backgroundColor:F.tooltip.backgroundColor,border:`1px solid ${F.tooltip.borderColor}`,color:F.tooltip.color,borderRadius:"0.5rem"}})]})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:A("salesHistory")}),m.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("billNumber")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("date")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("customers")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("total")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("downPayment")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("remainingAmountLabel")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:A("profitLabel")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:A("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:Ue.map(ge=>{var Ie;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ge.id.slice(-6)}),m.jsx("td",{className:"px-6 py-4",children:new Date(ge.date).toLocaleString(B)}),m.jsx("td",{className:"px-6 py-4",children:((Ie=o.find(Oe=>Oe.id===ge.customerId))==null?void 0:Ie.name)||A("cashCustomer")}),m.jsx("td",{className:"px-6 py-4 font-bold text-teal-600 dark:text-teal-400",children:ge.total.toFixed(2)}),m.jsx("td",{className:"px-6 py-4",children:ge.downPayment.toFixed(2)}),m.jsx("td",{className:`px-6 py-4 font-bold ${ge.remainingAmount>0?"text-red-500":""}`,children:ge.remainingAmount.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-green-600 dark:text-green-400 font-semibold",children:ge.profit.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsx("button",{onClick:()=>w(ge),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:A("print"),children:m.jsx(aS,{className:"w-5 h-5"})})})]},ge.id)})})]}),Ue.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:A("noSalesForPeriod")})]}),He>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>M(ge=>Math.max(1,ge-1)),disabled:I===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":A("previous"),children:m.jsx(cA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[A("page")," ",I," / ",He]}),m.jsx("button",{onClick:()=>M(ge=>Math.min(He,ge+1)),disabled:I===He,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":A("next"),children:m.jsx(uA,{className:"w-5 h-5"})})]})]})]})},z2e=({customer:t,sales:e,debt:n,onClose:r,t:i,language:a})=>{const o=oe.useMemo(()=>e.filter(u=>u.customerId===t.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime()),[e,t.id]),s=oe.useMemo(()=>o.reduce((u,c)=>u+c.total,0),[o]),l=()=>{const u=new ft;eD(u),u.setFontSize(18);const c=i("purchaseHistoryFor",{name:t.name});u.text(c,u.internal.pageSize.getWidth()/2,20,{align:"center"}),u.setFontSize(12),u.text(`${i("customers")}: ${t.name}`,14,30),u.text(`${i("phone")}: ${t.phone}`,14,36),u.text(`${i("totalPurchases")}: ${s.toFixed(2)} DH`,14,42),u.text(`${i("currentDebt")}: ${n.toFixed(2)} DH`,14,48);const f=[],h=a==="ar"?"ar-MA":"fr-FR";o.forEach(A=>{const v=new Date(A.date).toLocaleDateString(h);f.push([{content:`${i("invoiceNumber")} ${A.id.slice(-6).toUpperCase()} | ${v} | Total: ${A.total.toFixed(2)} DH | ${i("remainingAmountLabel")}: ${A.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),A.items.forEach(b=>{f.push([`  ${b.name}`,b.quantity,b.price.toFixed(2),(b.price*b.quantity).toFixed(2)])})}),ZI(u,{head:[[i("productColumn"),i("quantity"),i("price"),i("total")]],body:f,startY:55,theme:"grid",styles:{font:"Amiri",halign:a==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}}),u.save(`history_${t.name.replace(/\s/g,"_")}.pdf`)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i("customerHistory",{name:t.name})}),m.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(KO,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-center",children:[m.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[m.jsx("p",{className:"font-bold",children:i("totalPurchases")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[s.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-4 rounded-lg text-red-800 dark:text-red-200",children:[m.jsx("p",{className:"font-bold",children:i("currentDebt")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[n.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:i("invoiceHistory")}),o.length>0?o.map(u=>m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[i("invoiceNumber")," ",u.id.slice(-6).toUpperCase()]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(u.date).toLocaleString(a==="ar"?"ar-MA":"fr-FR")})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[u.total.toFixed(2)," DH"]}),u.remainingAmount>0&&m.jsxs("p",{className:"text-xs font-bold text-red-500 dark:text-red-400",children:[i("remainingAmountLabel"),": ",u.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:i("viewDetails")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:u.items.map(c=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]},u.id)):m.jsx("p",{className:"text-center text-slate-500 py-8",children:i("noInvoicesFound")})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("close")}),m.jsxs("button",{onClick:l,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center gap-2",children:[m.jsx(aS,{className:"w-5 h-5"})," ",i("printReport")]})]})]})})},V2e=({customer:t,debt:e,onClose:n,onPayDebt:r,t:i})=>{const[a,o]=oe.useState(""),[s,l]=oe.useState(!1),u=async c=>{c.preventDefault();const f=parseFloat(a);if(isNaN(f)||f<=0||f>e){alert(i("enterValidPayment"));return}l(!0),await r(t.id,f),l(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[i("manageDebt")," - ",t.name]}),m.jsxs("div",{className:"p-3 bg-red-100 dark:bg-red-900/50 rounded-lg mb-4",children:[m.jsx("p",{className:"font-bold text-red-800 dark:text-red-300",children:i("currentDebt")}),m.jsxs("p",{className:"text-2xl font-extrabold text-red-800 dark:text-red-300",children:[e.toFixed(2)," DH"]})]}),m.jsxs("form",{onSubmit:u,children:[m.jsx("label",{htmlFor:"amountToPay",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("amount")}),m.jsx("input",{id:"amountToPay",type:"number",value:a,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:e,required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{type:"submit",disabled:s,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:s?`${i("saving")}...`:i("save")})]})]})]})})},F1=15,G2e=({storeId:t,customers:e,sales:n,addCustomer:r,deleteCustomer:i,payCustomerDebt:a,t:o,language:s})=>{const[l,u]=oe.useState({name:"",phone:"",email:""}),[c,f]=oe.useState(null),[h,A]=oe.useState(""),[v,b]=oe.useState(1),[w,y]=oe.useState(null),[x,S]=oe.useState(null);oe.useEffect(()=>{b(1)},[h]);const T=oe.useMemo(()=>{const M=new Map,B=new Map;return n.forEach(F=>{if(F.customerId){const G=M.get(F.customerId)||0;if(M.set(F.customerId,G+F.remainingAmount),F.total>0){const R=B.get(F.customerId)||0;B.set(F.customerId,R+F.total)}}}),{debts:M,totalPurchases:B}},[n]),C=oe.useMemo(()=>h?e.filter(M=>M.name.toLowerCase().includes(h.toLowerCase())):e,[e,h]),k=oe.useMemo(()=>{const M=(v-1)*F1;return C.slice(M,M+F1)},[C,v]),E=Math.ceil(C.length/F1),O=M=>{u(B=>({...B,[M.target.id]:M.target.value}))},D=async M=>{if(M.preventDefault(),f(null),!l.name||!l.phone){f({type:"error",message:o("nameAndPhoneRequired")});return}if(e.some(B=>B.phone===l.phone.trim())){f({type:"error",message:o("customerExistsError",{phone:l.phone.trim()})});return}await r({...l,storeId:t}),u({name:"",phone:"",email:""}),f({type:"success",message:o("customerAddedSuccess",{name:l.name})}),setTimeout(()=>f(null),4e3)},$=async M=>{if(f(null),window.confirm(o("confirmCustomerDelete",{name:M.name}))){try{await i(M.id),f({type:"success",message:o("customerDeletedSuccess",{name:M.name})})}catch(B){const F=T.debts.get(M.id)||0,G=o(B.message||"customerDeleteError",{name:M.name,debt:F.toFixed(2)});f({type:"error",message:G})}setTimeout(()=>f(null),5e3)}},I=()=>{const M=[o("name"),o("phone"),o("email"),o("totalPurchases"),o("currentDebt")],B=e.map(F=>[F.name,F.phone,F.email||"N/A",(T.totalPurchases.get(F.id)||0).toFixed(2),(T.debts.get(F.id)||0).toFixed(2)]);Wl(o("customerList"),M,B,"customers_report",s,o("noDataToExport"))};return m.jsxs("div",{className:"space-y-6",children:[w&&m.jsx(z2e,{customer:w,sales:n,debt:T.debts.get(w.id)||0,onClose:()=>y(null),t:o,language:s}),x&&m.jsx(V2e,{customer:x,debt:T.debts.get(x.id)||0,onClose:()=>S(null),onPayDebt:a,t:o}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(nS,{}),o("addNewCustomer")]}),m.jsx("form",{onSubmit:D,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("name")}),m.jsx("input",{type:"text",id:"name",value:l.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:O,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("phone")}),m.jsx("input",{type:"tel",id:"phone",value:l.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:O,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[o("email")," (",o("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:l.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:O})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:o("add")})]})}),c&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:o("customerList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:o("searchByName"),value:h,onChange:M=>A(M.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("button",{onClick:I,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 flex items-center gap-2 text-sm",children:[m.jsx(ra,{className:"w-4 h-4"})," ",o("exportToPdf")]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("totalPurchases")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("currentDebt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:o("actions")})]})}),m.jsx("tbody",{children:k.map(M=>{const B=T.debts.get(M.id)||0,F=T.totalPurchases.get(M.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:M.name}),m.jsx("td",{className:"px-6 py-4",children:M.phone}),m.jsxs("td",{className:"px-6 py-4",children:[F.toFixed(2)," DH"]}),m.jsxs("td",{className:`px-6 py-4 font-bold ${B>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[B.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsxs("div",{className:"flex items-center gap-2",children:[B>0&&m.jsx("button",{onClick:()=>S(M),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200",children:o("manageDebt")}),m.jsx("button",{onClick:()=>y(M),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",title:o("customerHistory",{name:M.name}),children:m.jsx(HO,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>$(M),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:o("delete"),children:m.jsx($i,{className:"w-5 h-5"})})]})})]},M.id)})})]}),E>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>b(M=>Math.max(1,M-1)),disabled:v===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":o("previous"),children:m.jsx(cA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[o("page")," ",v," / ",E]}),m.jsx("button",{onClick:()=>b(M=>Math.min(E,M+1)),disabled:v===E,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":o("next"),children:m.jsx(uA,{className:"w-5 h-5"})})]}),k.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:o(h?"noResultsFound":"noCustomersAdded")})]})]})]})},W2e=({supplier:t,storeId:e,products:n,variants:r,onClose:i,onAddPurchase:a,onAddNewProduct:o,t:s})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:s("newPurchaseFor",{name:t.name})}),m.jsx("p",{className:"text-center text-slate-500 py-16",children:"Purchase form not fully implemented in this fix."}),m.jsxs("div",{className:"flex justify-end gap-3 mt-auto pt-4 border-t dark:border-slate-700",children:[m.jsx("button",{type:"button",onClick:i,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:s("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:s("completePurchase")})]})]})}),Y2e=({supplier:t,debt:e,onClose:n,onPayDebt:r,t:i})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[i("managePayments")," - ",t.name]}),m.jsx("p",{children:"Debt management form not fully implemented in this fix."}),m.jsx("div",{className:"flex justify-end gap-3 mt-6",children:m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg",children:i("cancel")})})]})}),K2e=({supplier:t,purchases:e,onClose:n,t:r,language:i})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("supplierPurchaseHistoryFor",{name:t.name})}),m.jsx("p",{className:"text-center text-slate-500 py-16",children:"Purchase history not fully implemented in this fix."}),m.jsx("div",{className:"flex justify-end gap-3 mt-auto pt-4 border-t dark:border-slate-700",children:m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg",children:r("close")})})]})}),U1=15,J2e=({storeId:t,suppliers:e,purchases:n,products:r,variants:i,addSupplier:a,deleteSupplier:o,addPurchase:s,paySupplierDebt:l,addProduct:u,t:c,language:f})=>{const[h,A]=oe.useState({name:"",phone:"",email:""}),[v,b]=oe.useState(null),[w,y]=oe.useState(""),[x,S]=oe.useState(1),[T,C]=oe.useState(null);oe.useEffect(()=>{S(1)},[w]);const k=oe.useMemo(()=>{const G=new Map;return n.forEach(R=>{if(R.supplierId&&R.remainingAmount>0){const U=G.get(R.supplierId)||0;G.set(R.supplierId,U+R.remainingAmount)}}),G},[n]),E=oe.useMemo(()=>w?e.filter(G=>G.name.toLowerCase().includes(w.toLowerCase())):e,[e,w]),O=oe.useMemo(()=>{const G=(x-1)*U1;return E.slice(G,G+U1)},[E,x]),D=Math.ceil(E.length/U1),$=G=>{A(R=>({...R,[G.target.id]:G.target.value}))},I=async G=>{if(G.preventDefault(),b(null),!h.name||!h.phone){b({type:"error",message:c("nameAndPhoneRequired")});return}if(e.some(R=>R.phone===h.phone.trim())){b({type:"error",message:c("supplierExistsError",{phone:h.phone.trim()})});return}await a({...h,storeId:t}),A({name:"",phone:"",email:""}),b({type:"success",message:c("supplierAddedSuccess",{name:h.name})}),setTimeout(()=>b(null),4e3)},M=async G=>{if(b(null),window.confirm(c("confirmSupplierDelete",{name:G.name}))){try{await o(G.id),b({type:"success",message:c("supplierDeletedSuccess",{name:G.name})})}catch(R){const U=k.get(G.id)||0,V=c(R.message||"supplierDeleteError",{name:G.name,debt:U.toFixed(2)});b({type:"error",message:V})}setTimeout(()=>b(null),5e3)}},B=()=>{const G=[c("name"),c("phone"),c("email"),c("debt")],R=e.map(U=>[U.name,U.phone,U.email||"N/A",`${(k.get(U.id)||0).toFixed(2)} DH`]);Wl(c("supplierList"),G,R,"suppliers_report",f,c("noDataToExport"))},F=async G=>{await s(G,G.items),C(null)};return m.jsxs("div",{className:"space-y-6",children:[(T==null?void 0:T.type)==="newPurchase"&&m.jsx(W2e,{supplier:T.supplier,storeId:t,products:r,variants:i,onClose:()=>C(null),onAddPurchase:F,onAddNewProduct:u,t:c}),(T==null?void 0:T.type)==="manageDebt"&&m.jsx(Y2e,{supplier:T.supplier,debt:k.get(T.supplier.id)||0,onClose:()=>C(null),onPayDebt:l,t:c}),(T==null?void 0:T.type)==="history"&&m.jsx(K2e,{supplier:T.supplier,purchases:n.filter(G=>G.supplierId===T.supplier.id),onClose:()=>C(null),t:c,language:f}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(VO,{}),c("addNewSupplier")]}),m.jsx("form",{onSubmit:I,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("name")}),m.jsx("input",{type:"text",id:"name",value:h.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:$,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("phone")}),m.jsx("input",{type:"tel",id:"phone",value:h.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:$,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[c("email")," (",c("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:h.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700",onChange:$})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:c("add")})]})}),v&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${v.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("supplierList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:c("searchByName"),value:w,onChange:G=>y(G.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("button",{onClick:B,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 flex items-center gap-2 text-sm",children:[m.jsx(ra,{className:"w-4 h-4"})," ",c("exportToPdf")]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("email")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:c("supplierDebt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:c("actions")})]})}),m.jsx("tbody",{children:O.map(G=>{const R=k.get(G.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:G.name}),m.jsx("td",{className:"px-6 py-4",children:G.phone}),m.jsx("td",{className:"px-6 py-4",children:G.email||"N/A"}),m.jsxs("td",{className:`px-6 py-4 font-bold ${R>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[R.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>C({type:"newPurchase",supplier:G}),className:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-blue-200",children:c("newPurchase")}),R>0&&m.jsx("button",{onClick:()=>C({type:"manageDebt",supplier:G}),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200",children:c("managePayments")}),m.jsx("button",{onClick:()=>C({type:"history",supplier:G}),className:"text-slate-500 hover:text-slate-700 p-1 rounded-full hover:bg-slate-100",title:c("purchaseHistory"),children:m.jsx(HO,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>M(G),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100",title:c("delete"),children:m.jsx($i,{className:"w-5 h-5"})})]})})]},G.id)})})]}),D>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>S(G=>Math.max(1,G-1)),disabled:x===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":c("previous"),children:m.jsx(cA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",x," / ",D]}),m.jsx("button",{onClick:()=>S(G=>Math.min(D,G+1)),disabled:x===D,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50","aria-label":c("next"),children:m.jsx(uA,{className:"w-5 h-5"})})]}),O.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c(w?"noResultsFound":"noSuppliersAdded")})]})]})]})},X2e=({category:t,onClose:e,onSave:n,t:r})=>{const[i,a]=oe.useState(t.name),o=s=>{s.preventDefault(),n({...t,name:i.trim()})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editCategory")}),m.jsxs("form",{onSubmit:o,children:[m.jsx("label",{htmlFor:"editCategoryName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("categoryName")}),m.jsx("input",{id:"editCategoryName",type:"text",value:i,onChange:s=>a(s.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},Q2e=({storeId:t,categories:e,addCategory:n,updateCategory:r,deleteCategory:i,t:a,language:o})=>{const[s,l]=oe.useState(""),[u,c]=oe.useState(null),[f,h]=oe.useState(null),A=()=>{setTimeout(()=>c(null),4e3)},v=async y=>{y.preventDefault(),c(null);const x=s.trim();if(!x){c({type:"error",message:a("categoryNameEmptyError")}),A();return}if(e.some(S=>S.name.toLowerCase()===x.toLowerCase())){c({type:"error",message:a("categoryExistsError",{name:x})}),A();return}await n({name:x,storeId:t}),l(""),c({type:"success",message:a("categoryAddedSuccess",{name:x})}),A()},b=async y=>{if(c(null),!y.name){c({type:"error",message:a("categoryNameEmptyError")}),A();return}if(e.some(x=>x.name.toLowerCase()===y.name.toLowerCase()&&x.id!==y.id)){c({type:"error",message:a("categoryExistsError",{name:y.name})}),A();return}await r(y),h(null),c({type:"success",message:a("categoryUpdatedSuccess",{name:y.name})}),A()},w=async y=>{if(c(null),window.confirm(a("confirmCategoryDelete",{name:y.name}))){try{await i(y.id),c({type:"success",message:a("categoryDeletedSuccess",{name:y.name})})}catch{c({type:"error",message:a("categoryDeleteError")})}A()}};return m.jsxs(m.Fragment,{children:[f&&m.jsx(X2e,{category:f,onClose:()=>h(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(GO,{}),a("addNewCategory")]}),m.jsxs("form",{onSubmit:v,className:"grid sm:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("categoryName")}),m.jsx("input",{type:"text",id:"name",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("add")})]}),u&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${u.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:u.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:a("categoryList")}),m.jsxs("div",{className:"mt-4 overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("categoryName")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right rtl:text-left",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(y=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:y.name}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{onClick:()=>h(y),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:a("edit"),children:m.jsx(vv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>w(y),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:a("delete"),children:m.jsx($i,{className:"w-5 h-5"})})]})})]},y.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noCategoriesAdded")})]})]})]})]})},Z2e=({onClose:t,onRestore:e,t:n})=>{const[r,i]=oe.useState(""),a=oe.useMemo(()=>{if(!r)return{valid:!1,message:""};try{const s=r.replace(/,(\s*[}\]])/g,"$1"),l=JSON.parse(s);return typeof l!="object"||l===null?{valid:!1,message:n("jsonInvalidNotObject")}:!l.stores||!l.users?{valid:!1,message:n("invalidBackupStructure")}:{valid:!0,message:n("jsonValid")}}catch(s){return s instanceof SyntaxError?r.trim().startsWith("import")?{valid:!1,message:n("jsonInvalidNotCode")}:{valid:!1,message:`${n("jsonInvalid")}: ${s.message}`}:{valid:!1,message:n("unknownError")}}},[r,n]),o=()=>{a.valid&&e(r.replace(/,(\s*[}\]])/g,"$1"))};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 flex flex-col max-h-[90vh]",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:n("restoreFromText")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:n("restoreFromTextDesc")}),m.jsx("textarea",{value:r,onChange:s=>i(s.target.value),placeholder:n("pasteJsonHere"),className:"w-full flex-grow p-3 border rounded-lg bg-gray-50 dark:bg-slate-900 text-sm font-mono dark:border-slate-700 min-h-[300px] resize-none",spellCheck:"false"}),m.jsx("div",{className:"mt-2 text-sm font-semibold",style:{minHeight:"1.25rem"},children:a.message&&m.jsx("p",{className:a.valid?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:a.message})}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[m.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),m.jsx("button",{onClick:o,disabled:!a.valid,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 disabled:bg-gray-400 dark:disabled:bg-slate-500 disabled:cursor-not-allowed",children:n("restoreButton")})]})]})})},ewe=({activeUser:t,store:e,storeId:n,users:r,addUser:i,updateUser:a,deleteUser:o,onUpdateStore:s,onBackup:l,onRestore:u,t:c})=>{const[f,h]=oe.useState(null),[A,v]=oe.useState({name:"",role:"seller",secret:""}),[b,w]=oe.useState({name:e.name,address:e.address,ice:e.ice,enableAiReceiptScan:e.enableAiReceiptScan}),[y,x]=oe.useState(null),[S,T]=oe.useState(!1),C=M=>{const{id:B,value:F}=M.target;v(G=>({...G,[B]:F}))},k=M=>{const{id:B,value:F,type:G,checked:R}=M.target;w(U=>({...U,[B]:G==="checkbox"?R:F}))},E=(M,B)=>{x({type:M,message:B}),setTimeout(()=>x(null),4e3)},O=async M=>{if(M.preventDefault(),!A.name||!A.secret){E("error",c("fillAllFieldsError"));return}if(r.some(G=>G.name.toLowerCase()===A.name.trim().toLowerCase())){E("error",c("userExistsError"));return}const B={storeId:n,name:A.name.trim(),role:A.role,...A.role==="admin"?{password:A.secret}:{pin:A.secret}},F=await i(B);F&&(E("success",c("userAddedSuccess",{name:F.name})),v({name:"",role:"seller",secret:""}))},D=async(M,B)=>{const F={...M,...M.role==="admin"?{password:B}:{pin:B}};await a(F),E("success",c("userUpdatedSuccess",{name:M.name})),h(null)},$=async M=>{if(M.id===t.id){alert("You cannot delete your own account.");return}if(window.confirm(c("confirmUserDelete",{name:M.name})))try{await o(M.id),E("success",c("userDeletedSuccess",{name:M.name}))}catch{E("error",c("userDeleteError"))}},I=async M=>{M.preventDefault(),await s(b),E("success",c("storeUpdatedSuccess"))};return m.jsxs(m.Fragment,{children:[S&&m.jsx(Z2e,{onClose:()=>T(!1),onRestore:u,t:c}),m.jsxs("div",{className:"space-y-8",children:[y&&m.jsx("div",{className:`fixed top-5 right-5 z-50 p-4 rounded-lg shadow-lg text-sm font-semibold ${y.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:y.message}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("userManagement")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("manageUsersAndPins")}),m.jsxs("form",{onSubmit:O,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("userName")}),m.jsx("input",{type:"text",id:"name",value:A.name,onChange:C,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("userRole")}),m.jsxs("select",{id:"role",value:A.role,onChange:C,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",children:[m.jsx("option",{value:"seller",children:c("seller")}),m.jsx("option",{value:"admin",children:c("admin")})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"secret",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:A.role==="admin"?c("password"):c("pin")}),m.jsx("input",{type:"text",id:"secret",value:A.secret,onChange:C,placeholder:A.role==="seller"?c("pinInfo"):"",className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",required:!0})]}),m.jsxs("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2",children:[m.jsx(YO,{className:"w-5 h-5"})," ",c("addUser")]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-600 dark:text-slate-300 mb-2",children:c("userList")}),m.jsx("div",{className:"space-y-2",children:r.map(M=>m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:M.name}),m.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:c(M.role)})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[(f==null?void 0:f.id)===M.id?m.jsx("input",{type:"text",placeholder:c(M.role==="admin"?"newPassword":"newPin"),onBlur:B=>D(M,B.target.value),onKeyDown:B=>B.key==="Enter"&&D(M,B.target.value),className:"w-32 px-2 py-1 border rounded-md bg-white dark:bg-slate-600",autoFocus:!0}):m.jsx("button",{onClick:()=>h(M),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:c("edit"),children:m.jsx(JO,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>$(M),disabled:M.id===t.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:c("delete"),children:m.jsx($i,{className:"w-5 h-5"})})]})]},M.id))})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("storeSettings")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("updateStoreSettings")}),m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("storeName")}),m.jsx("input",{type:"text",id:"name",value:b.name,onChange:k,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("address")}),m.jsx("input",{type:"text",id:"address",value:b.address,onChange:k,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"ice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("ice")}),m.jsx("input",{type:"text",id:"ice",value:b.ice,onChange:k,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[m.jsx("input",{type:"checkbox",id:"enableAiReceiptScan",checked:b.enableAiReceiptScan,onChange:k,className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),m.jsx("label",{htmlFor:"enableAiReceiptScan",className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:c("aiScanEnabled")})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[m.jsx(tS,{className:"w-5 h-5"})," ",c("updateStore")]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("dataManagement")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[m.jsx(ra,{}),c("backupData")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-3",children:c("backupDataDesc")}),m.jsx("button",{onClick:l,className:"w-full bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:c("backupButton")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[m.jsx(aF,{}),c("restoreData")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-3",children:c("restoreDataDesc")}),m.jsx("button",{onClick:()=>T(!0),className:"w-full bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700",children:c("restoreFromText")})]})]})]})]})]})},twe=({products:t,variants:e,suppliers:n,t:r})=>e.length===0?null:m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 border-r-4 rtl:border-l-4 rtl:border-r-0 border-orange-500 text-orange-700 dark:text-orange-300 p-4 rounded-lg shadow-md mb-6",role:"alert",children:[m.jsx("p",{className:"font-bold",children:r("lowStockAlert")}),m.jsx("p",{className:"text-sm",children:r("lowStockMessage")}),m.jsx("ul",{className:"list-disc list-inside mr-2 rtl:ml-2 rtl:mr-0 mt-2 text-sm",children:e.map(i=>{var o;const a=t.find(s=>s.id===i.productId);return a?m.jsxs("li",{children:[m.jsxs("strong",{children:[a.name," - ",i.name]}),a.supplierId&&m.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:[" (",r("suppliers"),": ",((o=n.find(s=>s.id===a.supplierId))==null?void 0:o.name)||r("unknown"),")"]})]},i.id):null})})]}),nwe=({sale:t,mode:e,onClose:n,store:r,customers:i,t:a,language:o})=>{oe.useEffect(()=>{const w=setTimeout(()=>{window.print()},300);return()=>clearTimeout(w)},[]);const s=()=>{window.print()},l=t.customerId?i.find(w=>w.id===t.customerId):null,u=o==="ar"?"ar-MA":"fr-FR",c=w=>{if(o==="ar")return w.toFixed(2);const y=Math.floor(w),x=Math.round((w-y)*100),S=["","UN","DEUX","TROIS","QUATRE","CINQ","SIX","SEPT","HUIT","NEUF"],T=["DIX","ONZE","DOUZE","TREIZE","QUATORZE","QUINZE","SEIZE","DIX-SEPT","DIX-HUIT","DIX-NEUF"],C=["","DIX","VINGT","TRENTE","QUARANTE","CINQUANTE","SOIXANTE","SOIXANTE-DIX","QUATRE-VINGT","QUATRE-VINGT-DIX"],k=I=>{if(I===0)return"";let M="";if(I>=100){const B=Math.floor(I/100);M+=(B>1?S[B]+" ":"")+"CENT"+(I%100===0&&B>1?"S":""),I%=100,I>0&&(M+=" ")}if(I>=20){const B=Math.floor(I/10);M+=C[B];const F=I%10;F>0&&(M+=(F===1&&B<8?" ET ":"-")+S[F])}else I>=10?M+=T[I-10]:I>0&&(M+=S[I]);return M};if(w===0)return"ZRO";let E="";const O=Math.floor(y/1e6);O>0&&(E+=k(O)+" MILLION"+(O>1?"S":"")+" ");const D=Math.floor(y%1e6/1e3);D>0&&(E+=(D===1?"":k(D)+" ")+"MILLE ");const $=y%1e3;return $>0&&(E+=k($)),E=E.trim()+" DIRHAMS",x>0&&(E+=" ET "+k(x)+" CENTIMES"),E.toUpperCase()},f=t.total,h=e==="invoice"?f/1.2:f,A=e==="invoice"?f-h:0,v=a(e==="invoice"?"invoiceTitle":"orderFormTitle"),b=c(f);return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",dir:o==="ar"?"rtl":"ltr",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:v}),m.jsx("p",{className:"text-sm font-semibold",children:r.name}),r.address?m.jsx("p",{className:"text-xs",children:r.address}):m.jsx("p",{className:"text-xs",children:a("invoiceAddress")}),r.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",r.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:a("billNumber")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[a("date"),":"]})," ",new Date(t.date).toLocaleString(u)]}),l&&m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customers"),":"]})," ",l.name]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:a("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a(e==="invoice"?"prixHT":"price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("total")})]})}),m.jsx("tbody",{children:t.items.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:w.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:w.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:(e==="invoice"?w.price/1.2:w.price).toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(w.price*w.quantity/(e==="invoice"?1.2:1)).toFixed(2)})]},w.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsxs("div",{className:"col-start-2",children:[m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("totalHT"),":"]}),m.jsxs("span",{className:"font-semibold",children:[h.toFixed(2)," DH"]})]}),e==="invoice"&&m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("vat"),":"]}),m.jsxs("span",{className:"font-semibold",children:[A.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t-2 border-slate-400 mt-1",children:[m.jsxs("span",{children:[a("totalTTC"),":"]}),m.jsxs("span",{children:[f.toFixed(2)," DH"]})]})]})})}),e==="invoice"&&o==="fr"&&m.jsxs("p",{className:"text-xs mt-4 p-2 bg-slate-100 rounded-md",children:["Arrt la prsente facture  la somme de : ",b]}),m.jsx("p",{className:"text-center text-xs mt-6",children:a("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")}),m.jsx("button",{onClick:s,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:a("print")})]})]})})},rwe=({returnObject:t,onClose:e,store:n,t:r,language:i})=>{oe.useEffect(()=>{const l=setTimeout(()=>{window.print()},300);return()=>clearTimeout(l)},[]);const a=()=>{window.print()},o=i==="ar"?"ar-MA":"fr-FR",s=r("returnReceiptTitle");return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:s}),m.jsx("p",{className:"text-sm font-semibold",children:n.name}),n.address?m.jsx("p",{className:"text-xs",children:n.address}):m.jsx("p",{className:"text-xs",children:r("invoiceAddress")}),n.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",n.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:r("returnIdLabel")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("date"),":"]})," ",new Date(t.date).toLocaleString(o)]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:r("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("total")})]})}),m.jsx("tbody",{children:t.items.map(l=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:l.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.price.toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(l.price*l.quantity).toFixed(2)})]},l.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsx("div",{className:"col-start-2",children:m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{children:r("refundAmountLabel")}),m.jsxs("span",{children:[t.refundAmount.toFixed(2)," DH"]})]})})})}),m.jsx("p",{className:"text-center text-xs mt-6",children:r("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")}),m.jsx("button",{onClick:a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("print")})]})]})})},UR=({className:t})=>m.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 297.31 290",className:t,children:[m.jsxs("defs",{children:[m.jsx("style",{children:`
                .cls-1{fill:none;}
                .cls-9{fill:#383838; direction: ltr; text-anchor: middle;}
                .dark .cls-9 { fill: #e2e8f0; }
                .cls-3{clip-path:url(#clip-path);}
                .cls-4{fill:url(#linear-gradient);}
                .cls-5{clip-path:url(#clip-path-2);}
                .cls-6{fill:url(#linear-gradient-2);}
                .cls-7{clip-path:url(#clip-path-3);}
                .cls-8{fill:url(#linear-gradient-3);}
                .cls-9{font-size:42px;font-family:Damavand-Regular;}
            `}),m.jsx("clipPath",{id:"clip-path",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M109.57,55.71a47,47,0,1,0,62.05,26.08c7.43,19.09-.76,40.37-18.67,48-18.26,7.73-39.71-1.71-47.91-21.08s0-41.34,18.22-49.07c18-7.61,39,1.42,47.51,20.19a47,47,0,0,0-61.2-24.07"})}),m.jsxs("linearGradient",{id:"linear-gradient",x1:"-661.98",y1:"962.1",x2:"-661.62",y2:"962.1",gradientTransform:"matrix(0, 241.28, 241.28, 0, -232006.06, 159777.96)",gradientUnits:"userSpaceOnUse",children:[m.jsx("stop",{offset:"0",stopColor:"#f8ed86"}),m.jsx("stop",{offset:"1",stopColor:"#e67026"})]}),m.jsx("clipPath",{id:"clip-path-2",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M124.19,100.39c-6.82-16.24-1.91-33.78,11-39.19S164,64.56,170.83,80.8s1.91,33.78-11,39.19a20.64,20.64,0,0,1-8,1.6c-10.9,0-22.21-8.22-27.66-21.2m-.88-40.94C105.39,67,97.14,88.23,104.52,107.34c0,.15.11.3.17.45s.18.45.28.67l.23.54c0,.12.1.24.16.36,8.42,18.79,29.46,27.88,47.46,20.31,18.28-7.68,26.49-29.62,18.34-49-6.23-14.84-20.22-23.88-34.64-23.88a34,34,0,0,0-13.21,2.67"})}),m.jsx("linearGradient",{id:"linear-gradient-2",x1:"-658.75",y1:"961.74",x2:"-658.39",y2:"961.74",gradientTransform:"matrix(0, -173.8, -173.8, 0, 167285.74, -114352.79)",xlinkHref:"#linear-gradient"}),m.jsx("clipPath",{id:"clip-path-3",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M200.23,52.61a392.27,392.27,0,0,0-42,10.42,44.36,44.36,0,0,1,4.52,4.37A373.26,373.26,0,0,1,201.21,58c25.59-4.64,33.87-1.82,34.68.32S232.31,68.05,210,81.4a374.37,374.37,0,0,1-35.14,18.25l-.72.33,0,0-.53.24c-11.66,5.34-24.31,10.61-37.5,15.6l-1.6.6c-6.33,2.38-12.61,4.62-18.79,6.73l0,0c-7.74,2.63-15.31,5-22.64,7.2a375.35,375.35,0,0,1-38.46,9.4c-25.59,4.63-33.88,1.81-34.68-.33s3.57-9.72,25.89-23.07A375.62,375.62,0,0,1,80.86,98.15a45.2,45.2,0,0,1,.53-6.27A391.4,391.4,0,0,0,42.9,111.69c-9.64,5.77-17,11-21.79,15.67-5.78,5.55-7.88,10.15-6.42,14s6.07,6,14.08,6.34c6.67.31,15.66-.55,26.71-2.55a389.31,389.31,0,0,0,42-10.42c7.63-2.29,15.52-4.85,23.55-7.64l.08,0q7.56-2.62,15.25-5.52,2.9-1.08,5.75-2.18c10.32-4,20.29-8.14,29.68-12.34l1-.46.08,0,1.44-.65a391.15,391.15,0,0,0,38.48-19.81c9.64-5.77,17-11,21.79-15.67,5.78-5.55,7.88-10.15,6.42-14s-6.07-6-14.07-6.34c-.9,0-1.83-.06-2.8-.06a138.81,138.81,0,0,0-23.92,2.61"})}),m.jsx("linearGradient",{id:"linear-gradient-3",x1:"-662.36",y1:"961.67",x2:"-662",y2:"961.67",gradientTransform:"matrix(0, 179.06, 179.06, 0, -172067.09, 118662.76)",xlinkHref:"#linear-gradient"})]}),m.jsx("g",{className:"cls-3",children:m.jsx("rect",{className:"cls-4",x:"54.96",y:"29.99",width:"145.51",height:"144.37",transform:"translate(-15 127.91) rotate(-37.32)"})}),m.jsx("g",{className:"cls-5",children:m.jsx("rect",{className:"cls-6",x:"80.38",y:"38.67",width:"115.7",height:"115.69",transform:"translate(-7.19 154.26) rotate(-44.55)"})}),m.jsx("g",{className:"cls-7",children:m.jsx("rect",{className:"cls-8",x:"3.22",y:"10.66",width:"249.28",height:"176.73",transform:"translate(-6.97 84.62) rotate(-21.98)"})}),m.jsx("text",{className:"cls-9",x:"148.655",y:"240",children:"Go-shop"})]}),iwe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>gd);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class S_ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class bP extends S_{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xP extends S_{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wP extends S_{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Uw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Uw||(Uw={}));var awe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class owe{constructor(e,{headers:n={},customFetch:r,region:i=Uw.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=iwe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return awe(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:s}).catch(w=>{throw w.name==="AbortError"?w:new bP(w)}),A=h.headers.get("x-relay-error");if(A&&A==="true")throw new xP(h);if(!h.ok)throw new wP(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield h.json():v==="application/octet-stream"?b=yield h.blob():v==="text/event-stream"?b=h:v==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new bP(i)}:{data:null,error:i,response:i instanceof wP||i instanceof xP?i.context:void 0}}})}}var pi={},__={},xy={},bA={},wy={},Sy={},swe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vf=swe();const lwe=Vf.fetch,qR=Vf.fetch.bind(Vf),HR=Vf.Headers,uwe=Vf.Request,cwe=Vf.Response,gd=Object.freeze(Object.defineProperty({__proto__:null,Headers:HR,Request:uwe,Response:cwe,default:qR,fetch:lwe},Symbol.toStringTag,{value:"Module"})),fwe=FP(gd);var _y={};Object.defineProperty(_y,"__esModule",{value:!0});let dwe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};_y.default=dwe;var zR=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sy,"__esModule",{value:!0});const hwe=zR(fwe),pwe=zR(_y);let Awe=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hwe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,u;let c=null,f=null,h=null,A=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const w=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,A=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{c=JSON.parse(w),Array.isArray(c)&&a.status===404&&(f=[],c=null,A=200,v="OK")}catch{a.status===404&&w===""?(A=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,A=200,v="OK"),c&&this.shouldThrowOnError)throw new pwe.default(c)}return{error:c,data:f,count:h,status:A,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Sy.default=Awe;var mwe=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wy,"__esModule",{value:!0});const gwe=mwe(Sy);let vwe=class extends gwe.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};wy.default=vwe;var ywe=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bA,"__esModule",{value:!0});const bwe=ywe(wy);let xwe=class extends bwe.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};bA.default=xwe;var wwe=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xy,"__esModule",{value:!0});const Ah=wwe(bA);let Swe=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Ah.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ah.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ah.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ah.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ah.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};xy.default=Swe;var VR=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(__,"__esModule",{value:!0});const _we=VR(xy),Twe=VR(bA);let Cwe=class GR{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new _we.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new GR(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new Twe.default({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};__.default=Cwe;var vd=Ar&&Ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});pi.PostgrestError=pi.PostgrestBuilder=pi.PostgrestTransformBuilder=pi.PostgrestFilterBuilder=pi.PostgrestQueryBuilder=pi.PostgrestClient=void 0;const WR=vd(__);pi.PostgrestClient=WR.default;const YR=vd(xy);pi.PostgrestQueryBuilder=YR.default;const KR=vd(bA);pi.PostgrestFilterBuilder=KR.default;const JR=vd(wy);pi.PostgrestTransformBuilder=JR.default;const XR=vd(Sy);pi.PostgrestBuilder=XR.default;const QR=vd(_y);pi.PostgrestError=QR.default;var Nwe=pi.default={PostgrestClient:WR.default,PostgrestQueryBuilder:YR.default,PostgrestFilterBuilder:KR.default,PostgrestTransformBuilder:JR.default,PostgrestBuilder:XR.default,PostgrestError:QR.default};const{PostgrestClient:Ewe,PostgrestQueryBuilder:VSe,PostgrestFilterBuilder:GSe,PostgrestTransformBuilder:WSe,PostgrestBuilder:YSe,PostgrestError:KSe}=Nwe;class kwe{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Pwe="2.15.5",Mwe=`realtime-js/${Pwe}`,Owe="1.0.0",qw=1e4,Iwe=1e3,Dwe=100;var Jh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jh||(Jh={}));var dr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dr||(dr={}));var ja;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ja||(ja={}));var Hw;(function(t){t.websocket="websocket"})(Hw||(Hw={}));var Vl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vl||(Vl={}));class Lwe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class ZR{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yn||(yn={}));const SP=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=jwe(o,t,e,i),a),{})},jwe=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?e8(a,o):zw(o)},e8=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Fwe(e,n)}switch(t){case yn.bool:return Rwe(e);case yn.float4:case yn.float8:case yn.int2:case yn.int4:case yn.int8:case yn.numeric:case yn.oid:return Bwe(e);case yn.json:case yn.jsonb:return $we(e);case yn.timestamp:return Uwe(e);case yn.abstime:case yn.date:case yn.daterange:case yn.int4range:case yn.int8range:case yn.money:case yn.reltime:case yn.text:case yn.time:case yn.timestamptz:case yn.timetz:case yn.tsrange:case yn.tstzrange:return zw(e);default:return zw(e)}},zw=t=>t,Rwe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Bwe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$we=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Fwe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>e8(e,s))}return t},Uwe=t=>typeof t=="string"?t.replace(" ","T"):t,t8=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class q1{constructor(e,n,r={},i=qw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _P;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_P||(_P={}));class Xh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Xh.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xh.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const h=c.map(w=>w.presence_ref),A=f.map(w=>w.presence_ref),v=c.filter(w=>A.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(l[u]=b)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(A=>A.presence_ref),h=c.filter(A=>f.indexOf(A.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var TP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(TP||(TP={}));var Qh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qh||(Qh={}));var Io;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Io||(Io={}));class T_{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new q1(this,ja.join,this.params,this.timeout),this.rejoinTimer=new ZR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ja.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Xh(this),this.broadcastEndpointURL=t8(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==dr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Qh.PRESENCE]&&this.bindings[Qh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(A=>e==null?void 0:e(Io.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Io.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:A})=>{var v;if(this.socket.setAuth(),A===void 0){e==null||e(Io.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<w;x++){const S=b[x],{filter:{event:T,schema:C,table:k,filter:E}}=S,O=A&&A[x];if(O&&O.event===T&&O.schema===C&&O.table===k&&O.filter===E)y.push(Object.assign(Object.assign({},S),{id:O.id}));else{this.unsubscribe(),this.state=dr.errored,e==null||e(Io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Io.SUBSCRIBED);return}}).receive("error",A=>{this.state=dr.errored,e==null||e(Io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Io.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===dr.joined&&e===Qh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ja.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new q1(this,ja.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new q1(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Dwe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=ja;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(A=>{var v,b,w;return((v=A.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=A.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(A=>A.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(A=>{var v,b,w,y,x,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in A){const T=A.id,C=(v=A.filter)===null||v===void 0?void 0:v.event;return T&&((b=n.ids)===null||b===void 0?void 0:b.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(x=(y=A==null?void 0:A.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===o}).map(A=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:w,commit_timestamp:y,type:x,errors:S}=v;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(v))}A.callback(h,r)})}_isClosed(){return this.state===dr.closed}_isJoined(){return this.state===dr.joined}_isJoining(){return this.state===dr.joining}_isLeaving(){return this.state===dr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&T_.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ja.close,{},e)}_onError(e){this._on(ja.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=SP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=SP(e.columns,e.old_record)),n}}const H1=()=>{},Xm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qwe=[1e3,2e3,5e3,1e4],Hwe=1e4,zwe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vwe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qw,this.transport=null,this.heartbeatIntervalMs=Xm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=H1,this.ref=0,this.reconnectTimer=null,this.logger=H1,this.conn=null,this.sendBuffer=[],this.serializer=new Lwe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ll(async()=>{const{default:s}=await Promise.resolve().then(()=>gd);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Hw.websocket}`,this.httpEndpoint=t8(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kwe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Owe}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jh.connecting:return Vl.Connecting;case Jh.open:return Vl.Open;case Jh.closing:return Vl.Closing;default:return Vl.Closed}}isConnected(){return this.connectionState()===Vl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new T_(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Iwe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Xm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ja.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zwe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:Mwe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ja.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ZR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:qw,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Xm.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:H1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>qwe[f-1]||Hwe,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class C_ extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Gwe extends C_{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vw extends C_{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Wwe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const n8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>gd);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ywe=()=>Wwe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ll(()=>Promise.resolve().then(()=>gd),void 0,import.meta.url)).Response:Response}),Gw=t=>{if(Array.isArray(t))return t.map(n=>Gw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Gw(r)}),e},Kwe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Lu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const z1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jwe=(t,e,n)=>Lu(void 0,void 0,void 0,function*(){const r=yield Ywe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new Gwe(z1(i),a,o))}).catch(i=>{e(new Vw(z1(i),i))}):e(new Vw(z1(t),t))}),Xwe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(Kwe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function xA(t,e,n,r,i,a){return Lu(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,Xwe(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Jwe(l,s,r))})})}function J0(t,e,n,r){return Lu(this,void 0,void 0,function*(){return xA(t,"GET",e,n,r)})}function Qa(t,e,n,r,i){return Lu(this,void 0,void 0,function*(){return xA(t,"POST",e,r,i,n)})}function Ww(t,e,n,r,i){return Lu(this,void 0,void 0,function*(){return xA(t,"PUT",e,r,i,n)})}function Qwe(t,e,n,r){return Lu(this,void 0,void 0,function*(){return xA(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function r8(t,e,n,r,i){return Lu(this,void 0,void 0,function*(){return xA(t,"DELETE",e,r,i,n)})}var Zwe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class e5e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Zwe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}var t5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class n5e{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new e5e(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return t5e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}var fi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const r5e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},CP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i5e{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=n8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return fi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},CP),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?Ww:Qa)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rr(a))return{data:null,error:a};throw a}})}upload(e,n,r){return fi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return fi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:CP.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Ww(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return fi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Qa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new C_("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}update(e,n,r){return fi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return fi(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return fi(this,void 0,void 0,function*(){try{return{data:{path:(yield Qa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return fi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Qa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return fi(this,void 0,void 0,function*(){try{const i=yield Qa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>J0(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new n5e(l,this.shouldThrowOnError)}info(e){return fi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield J0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gw(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}exists(e){return fi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Qwe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r)&&r instanceof Vw){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return fi(this,void 0,void 0,function*(){try{return{data:yield r8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}list(e,n,r){return fi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},r5e),n),{prefix:e||""});return{data:yield Qa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}listV2(e,n){return fi(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Qa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const a5e="2.12.2",o5e={"X-Client-Info":`storage-js/${a5e}`};var vc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class s5e{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},o5e),n),this.fetch=n8(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return vc(this,void 0,void 0,function*(){try{return{data:yield J0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}getBucket(e){return vc(this,void 0,void 0,function*(){try{return{data:yield J0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return vc(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return vc(this,void 0,void 0,function*(){try{return{data:yield Ww(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return vc(this,void 0,void 0,function*(){try{return{data:yield Qa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return vc(this,void 0,void 0,function*(){try{return{data:yield r8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}class l5e extends s5e{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new i5e(this.url,this.headers,e,this.fetch)}}const u5e="2.58.0";let Sh="";typeof Deno<"u"?Sh="deno":typeof document<"u"?Sh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sh="react-native":Sh="node";const c5e={"X-Client-Info":`supabase-js-${Sh}/${u5e}`},f5e={headers:c5e},d5e={schema:"public"},h5e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p5e={};var A5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const m5e=t=>{let e;return t?e=t:typeof fetch>"u"?e=qR:e=fetch,(...n)=>e(...n)},g5e=()=>typeof Headers>"u"?HR:Headers,v5e=(t,e,n)=>{const r=m5e(n),i=g5e();return(a,o)=>A5e(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var y5e=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};function b5e(t){return t.endsWith("/")?t:t+"/"}function x5e(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>y5e(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function w5e(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b5e(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i8="2.72.0",kc=30*1e3,Yw=3,V1=Yw*kc,S5e="http://localhost:9999",_5e="supabase.auth.token",T5e={"X-Client-Info":`gotrue-js/${i8}`},Kw="X-Supabase-Api-Version",a8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C5e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N5e=10*60*1e3;class N_ extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class E5e extends N_{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function k5e(t){return Ct(t)&&t.name==="AuthApiError"}class o8 extends N_{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class gl extends N_{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Cs extends gl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function P5e(t){return Ct(t)&&t.name==="AuthSessionMissingError"}class mh extends gl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qm extends gl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zm extends gl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M5e(t){return Ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class NP extends gl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jw extends gl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function G1(t){return Ct(t)&&t.name==="AuthRetryableFetchError"}class EP extends gl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Xw extends gl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const X0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kP=` 	
\r=`.split(""),O5e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<kP.length;e+=1)t[kP[e].charCodeAt(0)]=-2;for(let e=0;e<X0.length;e+=1)t[X0[e].charCodeAt(0)]=e;return t})();function PP(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(X0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(X0[r]),e.queuedBits-=6}}function s8(t,e,n){const r=O5e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function MP(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{L5e(o,r,n)};for(let o=0;o<t.length;o+=1)s8(t.charCodeAt(o),i,a);return e.join("")}function I5e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function D5e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}I5e(r,e)}}function L5e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function j5e(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)s8(t.charCodeAt(i),n,r);return new Uint8Array(e)}function R5e(t){const e=[];return D5e(t,n=>e.push(n)),new Uint8Array(e)}function B5e(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>PP(i,n,r)),PP(null,n,r),e.join("")}function $5e(t){return Math.round(Date.now()/1e3)+t}function F5e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ta=()=>typeof window<"u"&&typeof document<"u",Il={tested:!1,writable:!1},l8=()=>{if(!ta())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Il.tested)return Il.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Il.tested=!0,Il.writable=!0}catch{Il.tested=!0,Il.writable=!1}return Il.writable};function U5e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const u8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ll(async()=>{const{default:r}=await Promise.resolve().then(()=>gd);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},q5e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Dl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ts=async(t,e)=>{await t.removeItem(e)};class Ty{constructor(){this.promise=new Ty.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ty.promiseConstructor=Promise;function W1(t){const e=t.split(".");if(e.length!==3)throw new Xw("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!C5e.test(e[r]))throw new Xw("JWT not in base64url format");return{header:JSON.parse(MP(e[0])),payload:JSON.parse(MP(e[1])),signature:j5e(e[2]),raw:{header:e[0],payload:e[1]}}}async function H5e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function z5e(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function V5e(t){return("0"+t.toString(16)).substr(-2)}function G5e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,V5e).join("")}async function W5e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Y5e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await W5e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yc(t,e,n=!1){const r=G5e();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Pc(t,`${e}-code-verifier`,i);const a=await Y5e(r);return[a,r===a?"plain":"s256"]}const K5e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J5e(t){const e=t.headers.get(Kw);if(!e||!e.match(K5e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function X5e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Q5e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z5e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bc(t){if(!Z5e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Y1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function OP(t){return JSON.parse(JSON.stringify(t))}var eSe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Hl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tSe=[502,503,504];async function IP(t){var e;if(!q5e(t))throw new Jw(Hl(t),0);if(tSe.includes(t.status))throw new Jw(Hl(t),t.status);let n;try{n=await t.json()}catch(a){throw new o8(Hl(a),a)}let r;const i=J5e(t);if(i&&i.getTime()>=a8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new EP(Hl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Cs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new EP(Hl(n),t.status,n.weak_password.reasons);throw new E5e(Hl(n),t.status||500,r)}const nSe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function It(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Kw]||(a[Kw]=a8["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rSe(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rSe(t,e,n,r,i,a){const o=nSe(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Jw(Hl(l),0)}if(s.ok||await IP(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await IP(l)}}function Xa(t){var e;let n=null;sSe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$5e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function DP(t){const e=Xa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iSe(t){return{data:t,error:null}}function aSe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=eSe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function oSe(t){return t}function sSe(t){return t.access_token&&t.refresh_token&&t.expires_in}const K1=["global","local","others"];var lSe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class uSe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=u8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=K1[0]){if(K1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${K1.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rs})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=lSe(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aSe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rs})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:oSe});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,A=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return A.length>0&&(A.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ct(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){bc(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rs})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){bc(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Rs})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){bc(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rs})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){bc(e.userId);try{const{data:n,error:r}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){bc(e.userId),bc(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}}function LP(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function cSe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xc={debug:!!(globalThis&&l8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c8 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fSe extends c8{}async function dSe(t,e,n){xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw xc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fSe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function f8(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hSe(t){return parseInt(t,16)}function pSe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function ASe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const A=f8(t.address),v=c?`${c}://${r}`:r,b=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${A}

${b}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);x+=`
- ${S}`}y+=x}return`${w}
${y}`}cSe();const mSe={url:S5e,storageKey:_5e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T5e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jP(t,e,n){return await n()}const wc={};class Jp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jp.nextInstanceID,Jp.nextInstanceID+=1,this.instanceID>0&&ta()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},mSe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uSe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=u8(i.fetch),this.lock=i.lock||jP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ta()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=dSe:this.lock=jP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:l8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=LP(this.memoryStorage)),ta()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=wc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wc[this.storageKey]=Object.assign(Object.assign({},wc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wc[this.storageKey]=Object.assign(Object.assign({},wc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${i8}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=U5e(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ta()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),M5e(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ct(n)?{error:n}:{error:new o8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xa}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ct(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:h}=e;let A=null,v=null;this.flowType==="pkce"&&([A,v]=await yc(this.storage,this.storageKey)),a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:A,code_challenge_method:v},xform:Xa})}else if("phone"in e){const{phone:c,password:f,options:h}=e;a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xa})}else throw new Qm("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ct(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:DP})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:DP})}else throw new Qm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,f,h;let A,v;if("message"in e)A=e.message,v=e.signature;else{const{chain:b,wallet:w,statement:y,options:x}=e;let S;if(ta())if(typeof w=="object")S=w;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")S=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=f8(C[0]);let E=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const D=await S.request({method:"eth_chainId"});E=hSe(D)}const O={domain:T.host,address:k,statement:y,uri:T.href,version:"1",chainId:E,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};A=ASe(O),v=await S.request({method:"personal_sign",params:[pSe(A),k]})}try{const{data:b,error:w}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xa});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new mh}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(Ct(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,f,h,A;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:w,wallet:y,statement:x,options:S}=e;let T;if(ta())if(typeof y=="object")T=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),x?{statement:x}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:w,error:y}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:B5e(b)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Xa});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new mh}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Ct(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await Dl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xa});if(await Ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Ct(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xa}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await yc(this.storage,this.storageKey));const{error:f}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Qm("You must provide either an email or phone number.")}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Xa});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ct(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await yc(this.storage,this.storageKey)),await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:iSe})}catch(a){if(Ct(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Cs;const{error:i}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ct(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await It(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await It(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Qm("You must provide either an email or phone number and a type")}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Dl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<V1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Dl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Y1()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rs}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cs}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Rs})})}catch(n){if(Ct(n))return P5e(n)&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Cs;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await yc(this.storage,this.storageKey));const{data:u,error:c}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Rs});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Cs;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=W1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Cs;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ta())throw new Zm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new NP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new NP("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Zm("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const A=h-c;A*1e3<=kc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Ct(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Dl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(k5e(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=F5e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await yc(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ct(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:h}=a;if(h)throw h;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",A,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ta()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ct(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await z5e(async i=>(i>0&&await H5e(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xa})),(i,a)=>{const o=200*Math.pow(2,i);return a&&G1(a)&&Date.now()+o-r<kc})}catch(r){if(this._debug(n,"error",r),Ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ta()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Dl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Dl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Pc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Y1()}else if(i&&!i.user&&!i.user){const o=await Dl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ts(this.storage,this.storageKey+"-user"),await Pc(this.storage,this.storageKey,i)):i.user=Y1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<V1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${V1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),G1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ty;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Cs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Ct(a)){const o={session:null,error:a};return G1(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=OP(i);await Pc(this.storage,this.storageKey,a)}else{const i=OP(n);await Pc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ts(this.storage,this.storageKey),await Ts(this.storage,this.storageKey+"-code-verifier"),await Ts(this.storage,this.storageKey+"-user"),this.userStorage&&await Ts(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ta()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/kc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kc}ms, refresh threshold is ${Yw} ticks`),i<=Yw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof c8)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ta()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await yc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await It(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=W1(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+N5e>i)return r;const{data:a,error:o}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:A,error:v}=await this.getSession();if(v||!A.session)return{data:null,error:v};r=A.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=W1(r);n!=null&&n.allowExpired||X5e(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:a,header:i,signature:o},error:null}}const c=Q5e(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,R5e(`${s}.${l}`)))throw new Xw("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}}Jp.nextInstanceID=0;const gSe=Jp;class vSe extends gSe{constructor(e){super(e)}}var ySe=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class bSe{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=w5e(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:d5e,realtime:p5e,auth:Object.assign(Object.assign({},h5e),{storageKey:l}),global:f5e},c=x5e(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=v5e(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Ewe(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new l5e(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new owe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ySe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vSe({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Vwe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xSe=(t,e,n)=>new bSe(t,e,n);function wSe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wSe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d8="https://kclntdmvpeykknjnndeb.supabase.co",Qw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjbG50ZG12cGV5a2tuam5uZGViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTk0MjEsImV4cCI6MjA3NTE3NTQyMX0.O49_JCNUZxPlp6EAqbZHUpJWYJGFBl63QsnmBICyphI";function SSe(){return!!(d8.startsWith("http")&&Qw&&Qw.startsWith("eyJ"))}const _Se=()=>SSe()?xSe(d8,Qw):(console.error(`
  ********************************************************************************
  * ERREUR DE CONFIGURATION SUPABASE :                                           *
  * Les informations de connexion  Supabase ne sont pas configures.            *
  * Veuillez modifier le fichier 'supabaseClient.ts' et ajouter votre URL        *
  * et votre cl 'anon' publique.                                                *
  *                                                                              *
  *    SUPABASE:                                                       *
  *    Supabase  .                                          *
  *    'supabaseClient.ts'     'anon' . *
  ********************************************************************************
  `),new Proxy({},{get:(e,n)=>n==="channel"?()=>({on:()=>({subscribe:()=>({unsubscribe:()=>Promise.resolve("ok")})})}):n==="removeChannel"?()=>{}:n==="from"?()=>new Proxy({},{get:()=>()=>Promise.resolve({data:[],error:{message:"Supabase not configured"}})}):()=>{}})),vi=_Se(),TSe="GoShop-Activation-Key-Abzn-Secret-2024",E_=async()=>{const{data:t,error:e}=await vi.from("stores").select("*");if(e)throw e;return t||[]},CSe=async t=>{const{data:e,error:n}=await vi.from("stores").select("*").eq("id",t).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching store by ID:",n),n;return e},h8=async t=>{const{data:e,error:n}=await vi.from("stores").select("*").eq("licenseKey",t).single();if(n&&n.code!=="PGRST116")throw console.error("Error fetching store by license key:",n),new Error("invalidActivationCode");return e},NSe=async(t,e,n,r,i,a,o,s)=>{const l=`GS-${crypto.randomUUID().slice(0,8).toUpperCase()}`,{data:u,error:c}=await vi.from("stores").insert({name:t,logo:e||null,licenseKey:l,trialDurationDays:i,address:a||null,ice:o||null,enableAiReceiptScan:s,isActive:!1}).select().single();if(c)throw c;const{data:f,error:h}=await vi.from("users").insert({storeId:u.id,name:"Admin",email:r||null,password:n,role:"admin"}).select().single();if(h)throw h;return{store:u,user:f,licenseKey:l}},J1=async t=>{const{data:e,error:n}=await vi.from("stores").update(t).eq("id",t.id).select().single();if(n)throw n;return e},ESe=async t=>{const{error:e}=await vi.from("users").delete().eq("storeId",t);e&&console.error("Error deleting users for store:",e);const{error:n}=await vi.from("stores").delete().eq("id",t);if(n)throw n},kSe=async(t,e)=>{if(!e.startsWith("PERM-"))return!1;try{const n=atob(e.substring(5)),[r,i]=n.split("::");if(r===t&&i===TSe)return await vi.from("stores").update({isActive:!0,trialStartDate:null,trialDurationDays:0}).eq("id",t),!0}catch(n){return console.error("Activation code decoding failed",n),!1}return!1},PSe=async()=>{const{data:t,error:e}=await vi.from("users").select("*");if(e)throw e;return t||[]},p8=async t=>{const{data:e,error:n}=await vi.from("users").select("*").eq("storeId",t).eq("role","admin").single();if(n&&n.code!=="PGRST116")throw n;return e},MSe=async t=>{const{data:e,error:n}=await vi.from("users").insert(t).select().single();if(n)throw n;return e},OSe=async t=>{const{data:e,error:n}=await vi.from("users").update(t).eq("id",t.id).select().single();if(n)throw n;return e},ISe=async(t,e)=>{if(!t.isActive)throw new Error("storeDisabledError");const{data:n,error:r}=await vi.from("users").select("*").eq("storeId",t.id);if(r)throw r;const i=n.find(a=>a.role==="admin"&&a.password===e||a.role==="seller"&&a.pin===e);if(!i)throw new Error("invalidCredentialsError");return{user:i,store:t}},RP="https://storage.googleapis.com/appmaker-310316.appspot.com/user_4a0de5b0722a4666a2657c793742469a/app_primo_4f5f590457634f19b16ab20c918a38b2/1721066782500_834",Q0=({url:t,className:e})=>{const n=t||RP,r=i=>{i.currentTarget.src=RP};return m.jsx("img",{src:n,alt:"Logo du magasin",className:e,onError:r})},BP="Abzn11241984",DSe=({onLoginSuccess:t,onSuperAdminLogin:e,t:n,language:r,setLanguage:i,theme:a,toggleTheme:o})=>{const[s,l]=oe.useState("loading"),[u,c]=oe.useState(null),[f,h]=oe.useState(!1),[A,v]=oe.useState(null),[b,w]=oe.useState(""),[y,x]=oe.useState(!1),[S,T]=oe.useState(""),[C,k]=oe.useState(""),[E,O]=oe.useState([]),D=oe.useCallback(async()=>{h(!0);try{const ee=localStorage.getItem("pos-license");if(!ee){l("license_entry");return}const le=JSON.parse(ee),j=await CSe(le.storeId);if(j)if(j.trialStartDate){const z=new Date(j.trialStartDate),Q=new Date(z);Q.setDate(z.getDate()+(j.trialDurationDays??7)),new Date>Q?(v(j),l("expired_trial")):(v(j),l("login"))}else v(j),l("login");else throw new Error("Store not found")}catch(ee){localStorage.removeItem("pos-license"),c(n(ee.message||"unknownError")||ee.message),l("license_entry")}finally{h(!1)}},[n]);oe.useEffect(()=>{s==="loading"&&D()},[D,s]),oe.useEffect(()=>{if(s==="login"&&A){const ee=localStorage.getItem(`pos-remembered-secret-${A.id}`);ee?(w(ee),x(!0)):(w(""),x(!1))}},[s,A]);const $=async ee=>{if(ee.preventDefault(),c(null),!A){c(n("unknownError")),l("license_entry");return}if(h(!0),!b){c(n("fillAllFields")),h(!1);return}try{if(b===BP){e();return}const le=await ISe(A,b);y?localStorage.setItem(`pos-remembered-secret-${A.id}`,b):localStorage.removeItem(`pos-remembered-secret-${A.id}`),t(le.user,le.store)}catch(le){let j=null,z=n("unknownError");if(le&&le.message){const Q=le.message.toLowerCase();Q.includes("invalid api key")||Q.includes("unauthorized")?j="invalidApiKeyError":(le.message==="storeNotFound"||le.message==="storeDisabledError"||le.message==="invalidCredentialsError")&&(j=le.message),z=le.message}c(j?n(j):z)}finally{h(!1)}},I=async ee=>{if(ee.preventDefault(),!!A){h(!0),c(null);try{if(await kSe(A.id,S))alert(n("activationSuccessReload")),window.location.reload();else throw new Error("invalidActivationCode")}catch(le){const j=n(le.message)||le.message;c(j)}finally{h(!1)}}},M=async ee=>{var j;ee.preventDefault(),c(null),h(!0);const le=C.trim();if(!le){c(n("fillAllFields")),h(!1);return}try{if(le===BP){e();return}const z=await h8(le);z?F(z):c(n("invalidActivationCode"))}catch(z){console.error("Error activating store for the first time:",z),(j=z.message)!=null&&j.includes("406")?c(n("invalidActivationCode")):c(n("unknownError"))}finally{h(!1)}},B=async()=>{h(!0),c(null);try{const ee=(await E_()).sort((le,j)=>le.name.localeCompare(j.name));O(ee),l("store_selection")}catch{c(n("unknownError"))}finally{h(!1)}},F=ee=>{const le={storeId:ee.id};if(localStorage.setItem("pos-license",JSON.stringify(le)),v(ee),ee.trialStartDate){const j=new Date(ee.trialStartDate),z=new Date(j);z.setDate(j.getDate()+(ee.trialDurationDays??7)),new Date>z?l("expired_trial"):l("login")}else l("login")},G=()=>m.jsxs("form",{onSubmit:$,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("login")}),A?m.jsxs(m.Fragment,{children:[m.jsxs("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:[n("forStore"),A.name]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loginSecret",className:"sr-only",children:n("passwordOrPin")}),m.jsx("input",{id:"loginSecret",type:"password",value:b,onChange:ee=>w(ee.target.value),placeholder:n("passwordOrPin"),className:"w-full px-4 py-3 border rounded-lg text-center text-xl tracking-widest bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"flex items-center justify-start text-left rtl:text-right",children:[m.jsx("input",{id:"rememberMe",type:"checkbox",checked:y,onChange:ee=>x(ee.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-teal-600 focus:ring-teal-500 bg-gray-100 dark:bg-slate-600"}),m.jsx("label",{htmlFor:"rememberMe",className:"ml-2 rtl:mr-2 rtl:ml-0 block text-sm text-gray-700 dark:text-gray-400 cursor-pointer",children:n("rememberPin")})]})]}):m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("login")})]}),R=()=>m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n("trialHasExpired")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("contactAdminToActivate")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"activationCode",className:"sr-only",children:n("enterActivationCode")}),m.jsx("input",{id:"activationCode",type:"text",value:S,onChange:ee=>T(ee.target.value),placeholder:n("enterActivationCode"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activateApplication")})]}),U=()=>m.jsxs("form",{onSubmit:M,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("activateYourCompany")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("enterLicenseKey")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"licenseKey",className:"sr-only",children:n("licenseKey")}),m.jsx("input",{id:"licenseKey",type:"text",value:C,onChange:ee=>k(ee.target.value),placeholder:n("licenseKey"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activate")}),m.jsxs("div",{className:"relative flex py-2 items-center",children:[m.jsx("div",{className:"flex-grow border-t border-gray-300 dark:border-gray-600"}),m.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-500 dark:text-gray-400",children:n("or")}),m.jsx("div",{className:"flex-grow border-t border-gray-300 dark:border-gray-600"})]}),m.jsx("button",{type:"button",onClick:B,disabled:f,className:"w-full bg-slate-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("selectStoreFromList")})]}),V=()=>m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("selectYourStore")}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:E.map(ee=>m.jsxs("button",{onClick:()=>F(ee),className:"w-full text-left rtl:text-right flex items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[m.jsx(Q0,{url:ee.logo,className:"w-10 h-10 rounded-lg bg-gray-200 object-cover mr-3 rtl:mr-0 rtl:ml-3"}),m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:ee.name})]},ee.id))}),m.jsx("button",{onClick:()=>l("license_entry"),className:"mt-4 text-sm text-teal-600 hover:underline",children:n("backToLicenseEntry")})]}),K=()=>{if(f||s==="loading")return m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]});switch(s){case"license_entry":return U();case"store_selection":return V();case"login":return G();case"expired_trial":return R();default:return m.jsx("button",{onClick:()=>l("loading"),className:"text-teal-600 hover:underline",children:n("reactivationSuccess")})}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsxs("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4 flex items-center gap-3",children:[m.jsx("button",{onClick:o,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:a==="light"?m.jsx(iS,{className:"w-5 h-5"}):m.jsx(rS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>i(r==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:r==="fr"?"":"Franais"})]}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(UR,{className:"w-80 h-auto mx-auto"}),m.jsxs("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]})]}),m.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-sm w-full text-center",children:[u&&m.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mb-4 bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:u}),K()]})]})},LSe=({onLoginAsStoreAdmin:t,onGoToDashboard:e,onLogout:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=oe.useState([]);oe.useEffect(()=>{(async()=>{const h=await E_();u(h.sort((A,v)=>A.name.localeCompare(v.name)))})()},[]);const c=async f=>{try{const h=await p8(f.id);h?t(h,f):alert(r("noAdminForStore"))}catch(h){console.error("Failed to login as admin:",h),alert(`${r("unknownError")}: ${h.message}`)}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsx("header",{className:"absolute top-0 left-0 right-0 p-4",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(iS,{className:"w-5 h-5"}):m.jsx(rS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"":"Franais"})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(eS,{className:"w-5 h-5"}),m.jsx("span",{children:r("logout")})]})]})}),m.jsxs("div",{className:"text-center w-full max-w-4xl",children:[m.jsx(UR,{className:"w-64 h-auto mx-auto mb-6"}),m.jsxs("div",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-8",children:r("superAdminPortal")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",children:[m.jsx(tS,{className:"w-12 h-12 text-teal-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("manageAllStores")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("manageAllStoresDesc")})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx(WO,{className:"w-12 h-12 text-cyan-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("loginToStore")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("loginToStoreDesc")}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700",children:[m.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-300 mb-3",children:r("selectStoreToLogin")}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:l.length>0?l.map(f=>m.jsxs("button",{onClick:()=>c(f),className:"w-full text-left rtl:text-right flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.name}),m.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-1 text-sm",children:[r("loginAsAdmin")," ",m.jsx(uA,{className:"w-4 h-4"})]})]},f.id)):m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("noStoresAdded")})})]})]})]})]})]})},eg=({checked:t,onChange:e,labelOn:n,labelOff:r,title:i,disabled:a=!1})=>m.jsxs("label",{className:`inline-flex items-center ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`,title:i,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:t,onChange:e,className:"sr-only peer",disabled:a}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-teal-600"})]}),m.jsx("span",{className:`ml-3 text-sm font-medium ${t?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`,children:t?n:r})]}),jSe=({onLoginAsStoreAdmin:t,onLogout:e,onGoBack:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=oe.useState([]),[c,f]=oe.useState([]),[h,A]=oe.useState({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),[v,b]=oe.useState(!0),[w,y]=oe.useState({}),[x,S]=oe.useState({}),[T,C]=oe.useState(null),[k,E]=oe.useState(null),[O,D]=oe.useState(null),[$,I]=oe.useState(null),M="GoShop-Activation-Key-Abzn-Secret-2024",B=async()=>{u((await E_()).sort((J,se)=>J.name.localeCompare(se.name))),f(await PSe())};oe.useEffect(()=>{B()},[]);const F=oe.useMemo(()=>{const J={};for(const se of c)J[se.storeId]||(J[se.storeId]=[]),J[se.storeId].push(se);return J},[c]),G=J=>{if(J.target.files&&J.target.files[0]){const se=J.target.files[0],ue=new FileReader;ue.onloadend=()=>{A(re=>({...re,logo:ue.result}))},ue.readAsDataURL(se)}},R=async J=>{if(J.preventDefault(),C(null),E(null),!h.name||!h.adminPassword){alert(r("fillAllFieldsError"));return}const se=h.adminPassword,ue=h.trialDurationDays||0;try{const{licenseKey:re}=await NSe(h.name,h.logo,h.adminPassword,h.adminEmail,ue,h.address,h.ice,h.enableAiReceiptScan);if(v){const _e=await h8(re);if(_e){const fe={isActive:!0,licenseProof:new Date().toISOString(),trialStartDate:ue>0?new Date().toISOString():null};await J1({..._e,...fe})}}C(re),E(se),A({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),b(!0);const be=document.getElementById("logo");be&&(be.value=""),await B()}catch(re){re instanceof TypeError&&re.message==="Failed to fetch"?alert(r("failedToFetchError_CORS")):alert(r(re.message)||re.message)}},U=async(J,se)=>{if(window.confirm(r("deleteStoreConfirm",{storeName:se})))try{await ESe(J),alert(r("storeDeletedSuccess",{storeName:se})),await B()}catch(ue){console.error("Failed to delete store:",ue),alert(`${r("storeDeleteError")}: ${ue.message}`)}},V=(J,se)=>{y(ue=>({...ue,[J]:se}))},K=async J=>{const se=(F[J]||[]).filter(ue=>w[ue.id]!==void 0&&w[ue.id].trim()!=="");for(const ue of se)if(ue.role==="seller"&&w[ue.id].length<4){alert(r("pinMustBe4Chars"));return}if(se.length!==0){for(const ue of se){const re={...ue};ue.role==="admin"?re.password=w[ue.id]:re.pin=w[ue.id],await OSe(re)}y(ue=>{const re={...ue};return se.forEach(be=>delete re[be.id]),re}),alert(r("pinUpdateSuccess")),await B()}},ee=async J=>{const se=x[J];if(!se||se.trim()===""||se.length<4){alert(r("pinMustBe4Chars"));return}const ue=(F[J]||[]).filter(be=>be.role==="seller").length,re=`${r("seller")} ${ue+1}`;await MSe({name:re,pin:se,role:"seller",storeId:J}),S(be=>({...be,[J]:""})),alert(r("userAddedSuccess",{name:re})),await B()},le=J=>{const se=J.trialStartDate?new Date(J.trialStartDate):new Date,ue=new Date(se);if(ue.setDate(se.getDate()+(J.trialDurationDays??7)),new Date<ue&&J.trialStartDate!==null&&!window.confirm(r("confirmPermanentActivation",{storeName:J.name})))return;const re=`PERM-${btoa(`${J.id}::${M}`)}`;I({storeName:J.name,code:re})},j=(J,se)=>{navigator.clipboard.writeText(J),D(se),setTimeout(()=>D(null),2e3)},z=async J=>{try{const se={...J,isActive:!J.isActive};await J1(se),u(ue=>ue.map(re=>re.id===J.id?se:re))}catch(se){alert(`Error updating store status: ${se.message}`)}},Q=async J=>{try{const se={...J,enableAiReceiptScan:!J.enableAiReceiptScan};await J1(se),u(ue=>ue.map(re=>re.id===J.id?se:re))}catch(se){alert(`Error updating AI Scan status: ${se.message}`)}},te=async J=>{try{const se=await p8(J.id);se?t(se,J):alert(r("noAdminForStore"))}catch(se){console.error("Failed to login as admin:",se),alert(`${r("unknownError")}: ${se.message}`)}};return m.jsxs(m.Fragment,{children:[$&&m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6 text-center",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("activationCodeForStore",{storeName:$.storeName})}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("copyAndSendToClient")}),m.jsx("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-lg font-mono text-lg break-all mb-4",children:$.code}),m.jsx("button",{onClick:()=>{j($.code,`code-${$.storeName}`)},className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 w-full mb-3",children:O===`code-${$.storeName}`?r("copied"):r("copy")}),m.jsx("button",{onClick:()=>I(null),className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500 w-full",children:r("close")})]})}),m.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 p-4 sm:p-6 lg:p-8",children:[m.jsx("header",{className:"mb-8",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 rounded-lg transition-colors border dark:border-slate-700",children:[m.jsx(cA,{className:"w-5 h-5"})," ",r("backToPortal")]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 hidden md:block",children:r("superAdminDashboard")}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(iS,{className:"w-5 h-5"}):m.jsx(rS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"":"Franais"}),m.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(eS,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:r("logout")})]})]})]})}),m.jsxs("div",{className:"container mx-auto space-y-8",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(WO,{}),r("addStore")]}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("storeName")}),m.jsx("input",{type:"text",value:h.name,onChange:J=>A(se=>({...se,name:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("adminPassword")}),m.jsx("input",{type:"text",value:h.adminPassword,onChange:J=>A(se=>({...se,adminPassword:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("adminEmail")}),m.jsx("input",{type:"email",value:h.adminEmail,onChange:J=>A(se=>({...se,adminEmail:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("address")}),m.jsx("input",{type:"text",value:h.address,onChange:J=>A(se=>({...se,address:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("ice")}),m.jsx("input",{type:"text",value:h.ice,onChange:J=>A(se=>({...se,ice:J.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("trialPeriodDays")}),m.jsx("input",{type:"number",value:h.trialDurationDays,onChange:J=>A(se=>({...se,trialDurationDays:parseInt(J.target.value,10)})),min:"0",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300",children:r("storeLogoLabel")}),m.jsx(Q0,{url:h.logo,className:"w-12 h-12 rounded-lg bg-gray-200 object-cover"}),m.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:G,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"flex flex-wrap gap-6 pt-4",children:[m.jsx(eg,{checked:v,onChange:()=>b(!v),labelOn:r("activeOnCreation"),labelOff:r("inactiveOnCreation"),title:r("activateImmediatelyDesc")}),m.jsx(eg,{checked:h.enableAiReceiptScan,onChange:()=>A(J=>({...J,enableAiReceiptScan:!J.enableAiReceiptScan})),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("aiScanFeatureDescription")})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2",children:[m.jsx(nf,{})," ",r("addStoreButton")]})]})]}),T&&m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl shadow-lg border border-green-300 dark:border-green-700",children:[m.jsx("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 mb-2",children:r("storeCreatedSuccess")}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[r("licenseKey"),":"]}),m.jsx("span",{className:"font-mono bg-white dark:bg-slate-700 p-1 rounded",children:T}),m.jsx("button",{onClick:()=>j(T,"key"),className:"text-xs bg-gray-200 dark:bg-slate-600 p-1 rounded",children:r(O==="key"?"copied":"copy")})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("useThisToLoginFirst")})]}),k&&m.jsxs("div",{className:"space-y-2 text-sm mt-3 pt-3 border-t border-green-200 dark:border-green-800",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[r("adminPassword"),":"]}),m.jsx("span",{className:"font-mono bg-white dark:bg-slate-700 p-1 rounded",children:k}),m.jsx("button",{onClick:()=>j(k,"pw"),className:"text-xs bg-gray-200 dark:bg-slate-600 p-1 rounded",children:r(O==="pw"?"copied":"copy")})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("useThisPasswordAfter")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("manageStores")}),m.jsx("div",{className:"space-y-6",children:l.length>0?l.map(J=>{const se=F[J.id]||[],ue=se.find(fe=>fe.role==="admin"),re=se.filter(fe=>fe.role==="seller");let be=r("storeStatus_notActivated"),_e="bg-gray-200 text-gray-800";if(J.isActive)if(J.trialStartDate){const fe=new Date(J.trialStartDate),De=new Date(fe);De.setDate(fe.getDate()+(J.trialDurationDays??7));const Fe=De.getTime()-new Date().getTime();if(Fe>0){const Se=Math.ceil(Fe/864e5);be=r("trialDaysRemaining",{days:Se}),_e="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300"}else be=r("trialEnded"),_e="bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300"}else be=r("storeStatus_licensed"),_e="bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300";return m.jsxs("details",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-800 dark:text-slate-200",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Q0,{url:J.logo,className:"w-10 h-10 rounded-lg bg-gray-200 object-cover"}),m.jsx("span",{className:"font-bold text-lg",children:J.name}),m.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${_e}`,children:be})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:fe=>{fe.preventDefault(),te(J)},className:"text-sm bg-teal-600 text-white px-3 py-1 rounded-md hover:bg-teal-700",children:r("loginAsAdmin")}),m.jsx("button",{onClick:fe=>{fe.preventDefault(),U(J.id,J.name)},className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:r("deleteStore"),children:m.jsx($i,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[r("licenseKey"),":"]})," ",m.jsx("span",{className:"font-mono bg-gray-100 dark:bg-slate-700 p-1 rounded",children:J.licenseKey})]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("address"),":"]})," ",J.address||"N/A"]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("ice"),":"]})," ",J.ice||"N/A"]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("trialPeriodDays"),":"]})," ",r("trialDurationDisplay",{days:J.trialDurationDays})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(eg,{checked:J.isActive,onChange:()=>z(J),labelOn:r("storeStatus_active"),labelOff:r("storeStatus_inactive"),title:r("toggleStoreStatus")}),m.jsx(eg,{checked:J.enableAiReceiptScan||!1,onChange:()=>Q(J),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("aiScanFeatureDescription")})]})]}),m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-3",children:r("storeUsersAndPins")}),m.jsxs("div",{className:"space-y-3",children:[ue&&m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"font-semibold",children:[ue.name," (",r("admin"),")"]}),m.jsx("input",{type:"text",placeholder:r("newPassword"),onChange:fe=>V(ue.id,fe.target.value),className:"w-40 text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"})]}),re.map(fe=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold",children:fe.name}),m.jsx("input",{type:"text",placeholder:r("newPin"),onChange:De=>V(fe.id,De.target.value),className:"w-40 text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"})]},fe.id)),m.jsx("button",{onClick:()=>K(J.id),className:"text-xs bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700",children:r("saveChanges")})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-600 flex items-center gap-2",children:[m.jsx("input",{type:"text",value:x[J.id]||"",onChange:fe=>S(De=>({...De,[J.id]:fe.target.value})),placeholder:r("newSellerPinPlaceholder"),className:"flex-grow text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"}),m.jsxs("button",{onClick:()=>ee(J.id),className:"text-xs bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700 flex items-center gap-1",children:[m.jsx(YO,{className:"w-4 h-4"})," ",r("addSeller")]})]})]}),m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-2",children:r("permanentActivation")}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:r("permanentActivationDesc")}),m.jsxs("button",{onClick:()=>le(J),className:"text-sm bg-orange-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-orange-600 flex items-center gap-2",children:[m.jsx(JO,{className:"w-4 h-4"})," ",r("generateActivationCode")]})]})]})]},J.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:r("noStoresAdded")})})]})]})]})]})},RSe=({store:t,t:e})=>{if(!t.trialStartDate)return null;const n=new Date(t.trialStartDate),r=new Date(n);r.setDate(n.getDate()+(t.trialDurationDays??7));const i=r.getTime()-new Date().getTime();if(i<=0)return null;const a=Math.ceil(i/(1e3*60*60*24));return m.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 text-center p-2 text-sm font-semibold sticky top-0 z-40",children:e("trialDaysRemaining",{days:a})})},$P={fr:{pos:"Caisse",products:"Produits",services:"Services",finance:"Finance",customers:"Clients",suppliers:"Fournisseurs",categories:"Catgories",settings:"Paramtres",logout:"Dconnexion",welcome:"Bienvenue",admin:"Admin",seller:"Vendeur",loading:"Chargement",save:"Enregistrer",cancel:"Annuler",edit:"Modifier",delete:"Supprimer",add:"Ajouter",close:"Fermer",optional:"Optionnel",actions:"Actions",name:"Nom",phone:"Tlphone",email:"Email",address:"Adresse",ice:"ICE",all:"Tout",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois-ci",customRange:"Plage personnalise",date:"Date",amount:"Montant",description:"Description",quantity:"Quantit",price:"Prix",total:"Total",stock:"Stock",page:"Page",previous:"Prcdent",next:"Suivant",searchByName:"Rechercher par nom...",noResultsFound:"Aucun rsultat trouv.",noDataToExport:"Aucune donne  exporter.",unknown:"Inconnu",copied:"Copi!",copy:"Copier",print:"Imprimer",goBack:"Retour",unknownError:"Une erreur inconnue est survenue.",fillAllFieldsError:"Veuillez remplir tous les champs obligatoires.",fillNameAndPriceError:"Le nom et le prix du produit/service sont obligatoires.",sellingPriceMustBeHigherError:"Le prix de vente doit tre suprieur au prix d'achat.",failedToFetchError_CORS:"Impossible de se connecter au serveur. Vrifiez votre connexion Internet ou la configuration CORS du serveur.",or:"OU",addStockFor:"Ajouter du stock pour {name}",selectVariant:"Slectionner une variante",quantityToAdd:"Quantit  ajouter",purchasePrice:"Prix d'achat",sellingPrice:"Prix de vente",confirmProductDelete:"tes-vous sr de vouloir supprimer ce produit et toutes ses variantes ?",productName:"Nom du produit",variantName:"Nom de la variante",barcode:"Code-barres",productList:"Liste des produits",variants:"Variantes",printBarcodeLabel:"Imprimer l'tiquette du code-barres",noVariants:"Aucune variante",addStock:"Ajouter stock",noProductsInCategory:"Aucun produit dans cette catgorie.",editProduct:"Modifier le produit",addNewProduct:"Ajouter un nouveau produit",productInfo:"Informations sur le produit",productImagePreview:"Aperu de l'image",productNamePlaceholder:"Ex: T-shirt en coton",selectCategory:"Slectionner une catgorie",selectSupplier:"Slectionner un fournisseur",productVariants:"Variantes du produit",addVariant:"Ajouter une variante",variantNamePlaceholder:"Ex: Rouge, Grand",semiWholesalePrice:"Prix semi-gros",wholesalePrice:"Prix de gros",stockQuantity:"Quantit en stock",lowStockThreshold:"Seuil de stock bas",barcodePlaceholder:"Scanner ou saisir le code-barres",saveChanges:"Enregistrer les modifications",saveProduct:"Enregistrer le produit",searchProducts:"Rechercher des produits...",exportToPdf:"Exporter en PDF",uncategorized:"Non catgoris",noProductsAdded:"Aucun produit n'a encore t ajout.",selectVariantFor:"Slectionner une variante pour",outOfStock:"Rupture de stock",fillAllFields:"Veuillez remplir tous les champs.",enterItemDetails:"Saisir les dtails de l'article",customItemName:"Nom de l'article personnalis",itemNamePlaceholder:"Ex: Rparation spciale",unitPriceLabel:"Prix unitaire",productOutOfStock:"Produit en rupture de stock: {productName}",notEnoughStock:"Stock insuffisant pour {productName}",productAdded:"{productName} ajout au panier.",customItemAdded:"Article personnalis ajout.",productNotFound:"Produit non trouv pour le code-barres: {barcode}",geminiApiKeyNotConfigured:"La cl API Gemini n'est pas configure. La numrisation de reu est dsactive.",scanning:"Numrisation...",itemsAddedFromReceipt:"{count} articles ajouts depuis le reu.",receiptScanError:"Erreur lors de la numrisation du reu. Veuillez ressayer.",emptyCartError:"Le panier est vide.",saleMode:"Mode Vente",returnMode:"Mode Retour",priceLevels:"Niveaux de prix",unit:"Dtail",semiWholesale:"Semi-Gros",wholesale:"Gros",barcodeScannerActive:"Scanner de code-barres actif",scanToAdd:"Scannez un article pour l'ajouter au panier.",manualAdd:"Ajout manuel",addCustomItem:"Article personnalis",scanReceipt:"Scanner un reu",filterByCategory:"Filtrer par catgorie",searchPlaceholder:"Rechercher par nom ou scanner un code-barres...",returnReceipt:"Bon de retour",invoice:"Facture",emptyCart:"Le panier est vide.",cashCustomer:"Client comptant",debtPayment:"Paiement de la dette",manualTotal:"Total Manuel",downPayment:"Acompte",refundAmount:"Montant  rembourser",processReturn:"Traiter le retour",finalizeAndPrintOrderForm:"Finaliser & Imprimer Bon de Commande",totalHT:"Total HT",vat:"TVA (20%)",totalTTC:"Total TTC",finalizeAndPrintInvoice:"Finaliser & Imprimer la Facture",remaining:"Reste",customItemsDetails:"Dtails des articles personnaliss",totalCustomRevenue:"Revenu total des articles personnaliss",invoiceHistory:"Historique des factures",invoiceNumber:"Facture N",profitLabel:"Bnfice",viewDetails:"Voir les dtails",customItemsInSale:"Articles personnaliss dans cette vente:",noSalesForPeriod:"Aucune vente pour la priode slectionne.",manageExpenses:"Grer les dpenses",saving:"Enregistrement",expenseHistory:"Historique des dpenses",addExpense:"Ajouter une dpense",noExpensesForPeriod:"Aucune dpense pour la priode slectionne.",debtorCustomers:"Clients dbiteurs",debtAmount:"Montant de la dette",noDebtorCustomers:"Aucun client dbiteur.",returnHistory:"Historique des retours",returnId:"Retour N",profitLost:"Perte de bnfice",itemsLabel:"Articles",deleteHistory:"Supprimer l'historique",returnedItems:"Articles retourns",noReturnsForPeriod:"Aucun retour pour la priode slectionne.",allPurchasesHistory:"Historique de tous les achats",reference:"Rfrence",totalAmount:"Montant total",amountPaid:"Montant pay",remainingAmountLabel:"Montant restant",paymentMethod:"Mode de paiement",purchaseDetails:"Dtails de l'achat",noPurchasesRecorded:"Aucun achat enregistr.",supplierDebtsList:"Dettes fournisseurs",noSupplierDebt:"Aucune dette fournisseur.",sellerReportsAndZReport:"Rapports des vendeurs (Rapport Z)",totalSales:"Ventes totales",numberOfSales:"{count} ventes",totalReturns:"Retours totaux",numberOfReturns:"{count} retours",netActivity:"Activit nette",transactionList:"Liste des transactions",netRevenue:"Revenu Net",totalRevenueMinusReturns:"Revenu total - Retours",netProfit:"Bnfice Net",realizedProfitMinusExpenses:"Bnfice ralis - Dpenses",totalExpenses:"Dpenses totales",clickToViewDetails:"Cliquez pour voir les dtails",customerDebts:"Dettes clients",totalSupplierDebt:"Dette fournisseur totale",salesPerformance:"Performance des ventes",topSellingProducts:"Produits les plus vendus",units:"units",salesHistory:"Historique des ventes",billNumber:"N Facture",sales:"Ventes",restoreStoreIdMismatchError:"Le fichier de sauvegarde ne correspond pas au magasin actuel ({storeName}). Restauration annule.",restoreConfirm:"tes-vous sr de vouloir restaurer les donnes ? L'opration est irrversible et crasera les donnes actuelles.",restoreSuccess:"Restauration russie. L'application va redmarrer.",restoreError:"Erreur de restauration",jsonInvalidNotObject:"Le texte fourni n'est pas un objet JSON valide.",invalidBackupStructure:"Le fichier de sauvegarde semble invalide (structure manquante).",jsonValid:"Le JSON est valide.",jsonInvalidNotCode:"Veuillez coller le contenu du fichier de sauvegarde JSON, pas du code.",jsonInvalid:"JSON invalide",restoreFromText:"Restaurer  partir du texte",restoreFromTextDesc:"Collez le contenu de votre fichier de sauvegarde JSON pour restaurer vos donnes.",pasteJsonHere:"Collez le contenu JSON de votre sauvegarde ici...",restoreButton:"Restaurer les donnes",userExistsError:"Un utilisateur avec ce nom existe dj.",userAddedSuccess:"Utilisateur {name} ajout avec succs.",userUpdatedSuccess:"Utilisateur {name} mis  jour.",confirmUserDelete:"tes-vous sr de vouloir supprimer l'utilisateur {name} ?",userDeletedSuccess:"Utilisateur {name} supprim.",userDeleteError:"Erreur lors de la suppression de l'utilisateur.",storeUpdatedSuccess:"Paramtres du magasin mis  jour.",userManagement:"Gestion des utilisateurs",manageUsersAndPins:"Grez les utilisateurs et leurs codes PIN ou mots de passe.",userName:"Nom d'utilisateur",userRole:"Rle",password:"Mot de passe",pin:"Code PIN",pinInfo:"4 chiffres",addUser:"Ajouter un utilisateur",userList:"Liste des utilisateurs",newPassword:"Nouveau mot de passe",newPin:"Nouveau code PIN",storeSettings:"Paramtres du magasin",updateStoreSettings:"Mettez  jour les informations de votre magasin.",storeName:"Nom du magasin",aiScanEnabled:"Scan IA activ",updateStore:"Mettre  jour le magasin",dataManagement:"Gestion des donnes",backupData:"Sauvegarder les donnes",backupDataDesc:"Tlchargez une copie de toutes les donnes de votre magasin dans un fichier JSON.",backupButton:"Tlcharger la sauvegarde",restoreData:"Restaurer les donnes",restoreDataDesc:"Restaurez les donnes de votre magasin  partir d'un fichier de sauvegarde.",lowStockAlert:"Alerte de stock bas!",lowStockMessage:"Les produits suivants sont en stock bas ou en rupture de stock:",invoiceTitle:"FACTURE",orderFormTitle:"BON DE COMMANDE",invoiceAddress:"Votre Adresse, Ville",productColumn:"Dsignation",prixHT:"Prix U. HT",thankYou:"Merci de votre visite !",deleteStoreConfirm:'tes-vous sr de vouloir supprimer dfinitivement le magasin "{storeName}" et toutes ses donnes ? Cette action est irrversible.',storeDeletedSuccess:'Magasin "{storeName}" supprim avec succs.',storeDeleteError:"Erreur lors de la suppression du magasin",pinMustBe4Chars:"Le code PIN doit comporter au moins 4 caractres.",pinUpdateSuccess:"Identifiants mis  jour avec succs.",confirmPermanentActivation:`Ce magasin est toujours en priode d'essai. Voulez-vous vraiment gnrer un code d'activation permanente pour "{storeName}" ?`,noAdminForStore:"Aucun utilisateur administrateur trouv pour ce magasin.",activationCodeForStore:"Code d'activation pour {storeName}",copyAndSendToClient:"Copiez ce code et envoyez-le au client pour une activation permanente.",backToPortal:"Retour au portail",superAdminDashboard:"Tableau de bord Super Admin",addStore:"Ajouter un nouveau magasin",adminPassword:"Mot de passe de l'admin",adminEmail:"Email de l'admin",trialPeriodDays:"Priode d'essai (jours)",storeLogoLabel:"Logo du magasin:",activeOnCreation:"Activer  la cration",inactiveOnCreation:"Laisser inactif",activateImmediatelyDesc:"Si activ, le magasin sera immdiatement actif avec sa priode d'essai. Sinon, il ncessitera une activation manuelle.",aiScanDisabled:"Scan IA dsactiv",aiScanFeatureDescription:"Activer la fonctionnalit de numrisation de reus par IA pour ce magasin.",addStoreButton:"Ajouter le magasin",storeCreatedSuccess:"Magasin cr avec succs !",useThisToLoginFirst:"Utilisez cette cl pour la premire connexion du magasin.",useThisPasswordAfter:"Le mot de passe admin  utiliser aprs la premire connexion.",manageStores:"Grer les magasins",storeStatus_notActivated:"Non activ",trialDurationDisplay:"{days} jours",trialEnded:"Essai termin",storeStatus_licensed:"Licence permanente",deleteStore:"Supprimer le magasin",storeStatus_active:"Actif",storeStatus_inactive:"Inactif",toggleStoreStatus:"Activer/Dsactiver le magasin",storeUsersAndPins:"Utilisateurs et identifiants du magasin",newSellerPinPlaceholder:"PIN du nouveau vendeur",addSeller:"Ajouter vendeur",permanentActivation:"Activation permanente",permanentActivationDesc:"Gnre un code pour activer la licence permanente du magasin.",generateActivationCode:"Gnrer le code",noStoresAdded:"Aucun magasin ajout pour le moment.",login:"Se connecter",invalidApiKeyError:"Cl API invalide ou non autorise. Vrifiez votre configuration.",activationSuccessReload:"Activation russie ! L'application va redmarrer.",forStore:"Pour le magasin :",passwordOrPin:"Mot de passe ou code PIN",rememberPin:"Se souvenir de mon code PIN",trialHasExpired:"Votre priode d'essai a expir",contactAdminToActivate:"Veuillez contacter votre administrateur pour activer l'application.",enterActivationCode:"Saisir le code d'activation",activateApplication:"Activer l'application",activateYourCompany:"Activer votre entreprise",enterLicenseKey:"Saisissez votre cl de licence pour commencer",licenseKey:"Cl de licence",activate:"Activer",reactivationSuccess:"Ractivation russie. Cliquez pour recharger.",invalidCredentialsError:"Identifiants invalides.",storeDisabledError:"Ce magasin est actuellement dsactiv.",storeNotFound:"Magasin non trouv.",invalidActivationCode:"Code d'activation invalide.",selectStoreFromList:"Slectionner le magasin dans la liste",selectYourStore:"Slectionnez votre magasin",backToLicenseEntry:"Retourner  la saisie de licence",trialDaysRemaining:"Votre version d'essai se termine dans {days} jours.",superAdminPortal:"Portail Super Administrateur",manageAllStores:"Grer tous les magasins",manageAllStoresDesc:"Ajouter, supprimer, et configurer les magasins et les utilisateurs.",loginToStore:"Se connecter  un magasin",loginToStoreDesc:"Accdez directement  l'interface de n'importe quel magasin en tant qu'administrateur.",selectStoreToLogin:"Slectionnez un magasin pour vous connecter :",loginAsAdmin:"Connexion Admin",returnReceiptTitle:"BON DE RETOUR",returnIdLabel:"Retour N :",refundAmountLabel:"Montant Rembours:",purchaseHistoryFor:"Historique d'achat pour {name}",totalPurchases:"Total des achats",currentDebt:"Dette actuelle",noInvoicesFound:"Aucune facture trouve pour ce client.",printReport:"Imprimer le rapport",manageDebt:"Grer la dette",enterValidPayment:"Veuillez saisir un montant de paiement valide.",addNewCustomer:"Ajouter un nouveau client",nameAndPhoneRequired:"Le nom et le tlphone sont obligatoires.",customerExistsError:"Un client avec le numro de tlphone {phone} existe dj.",customerAddedSuccess:"Client {name} ajout avec succs.",confirmCustomerDelete:"tes-vous sr de vouloir supprimer le client {name} ?",customerDeletedSuccess:"Client {name} supprim.",customerList:"Liste des clients",noCustomersAdded:"Aucun client ajout pour le moment.",customerHistory:"Historique de {name}",newPurchaseFor:"Nouvel achat chez {name}",completePurchase:"Finaliser l'achat",managePayments:"Grer les paiements",supplierPurchaseHistoryFor:"Historique des achats chez {name}",supplierExistsError:"Un fournisseur avec le numro de tlphone {phone} existe dj.",supplierAddedSuccess:"Fournisseur {name} ajout avec succs.",confirmSupplierDelete:"tes-vous sr de vouloir supprimer le fournisseur {name} ?",supplierDeletedSuccess:"Fournisseur {name} supprim.",debt:"Dette",supplierList:"Liste des fournisseurs",addNewSupplier:"Ajouter un nouveau fournisseur",supplierDebt:"Dette fournisseur",newPurchase:"Nouvel achat",noSuppliersAdded:"Aucun fournisseur ajout pour le moment.",purchaseHistory:"Historique des achats",editCategory:"Modifier la catgorie",categoryName:"Nom de la catgorie",categoryNameEmptyError:"Le nom de la catgorie ne peut pas tre vide.",categoryExistsError:'La catgorie "{name}" existe dj.',categoryAddedSuccess:'Catgorie "{name}" ajoute.',categoryUpdatedSuccess:'Catgorie "{name}" mise  jour.',confirmCategoryDelete:'tes-vous sr de vouloir supprimer la catgorie "{name}" ?',categoryDeleteError:"Impossible de supprimer la catgorie. Elle est peut-tre utilise par des produits.",categoryDeletedSuccess:'Catgorie "{name}" supprime.',addNewCategory:"Ajouter une nouvelle catgorie",categoryList:"Liste des catgories",noCategoriesAdded:"Aucune catgorie ajoute.",editService:"Modifier le service",serviceName:"Nom du service",serviceAddedSuccess:'Service "{name}" ajout.',confirmServiceDelete:"tes-vous sr de vouloir supprimer ce service ?",serviceUpdatedSuccess:'Service "{name}" mis  jour.',addNewService:"Ajouter un nouveau service",serviceNamePlaceholder:"Ex: Installation, Rparation",saveService:"Enregistrer le service",serviceList:"Liste des services",noServicesAdded:"Aucun service ajout.",customerDeleteErrorHasDebt:"Impossible de supprimer le client {name} car il a une dette de {debt} DH.",supplierDeleteErrorHasDebt:"Impossible de supprimer le fournisseur {name} car il a une dette de {debt} DH.",purchase_ref_stock_adjustment:"Ajustement de stock"},ar:{}},BSe=()=>{const[t,e]=PC("pos-language","fr"),[n,r]=PC("pos-theme","light"),[i,a]=Em("pos-active-user",null),[o,s]=Em("pos-active-store",null),[l,u]=Em("pos-active-tab",Tab.POS),[c,f]=Em("pos-is-super-admin",!1),[h,A]=oe.useState(!1),[v,b]=oe.useState(null),[w,y]=oe.useState(null),[x,S]=oe.useState(!0),T=oe.useCallback((Qe,At)=>{let Mt=$P[t][Qe]||$P.fr[Qe]||Qe;return At&&Object.keys(At).forEach(Wt=>{Mt=Mt.replace(`{${Wt}}`,String(At[Wt]))}),Mt},[t]);oe.useEffect(()=>{document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr",document.documentElement.classList.toggle("dark",n==="dark"),S(!1)},[t,n]);const{data:C,add:k,update:E,remove:O}=Xi("products"),{data:D,add:$,update:I,remove:M,bulkAdd:B}=Xi("productVariants"),{data:F,add:G}=Xi("sales"),{data:R,add:U,update:V,remove:K}=Xi("expenses"),{data:ee,add:le,update:j,remove:z}=Xi("users"),{data:Q,add:te,remove:J,clear:se}=Xi("returns"),{update:ue}=Xi("stores"),{data:re,add:be,remove:_e}=Xi("customers"),{data:fe,add:De,remove:Fe}=Xi("suppliers"),{data:Se,add:ie,update:Te,remove:Ce}=Xi("categories"),{data:ve,add:Ne}=Xi("purchases"),{data:Ue,add:He,bulkAdd:ge}=Xi("stockBatches"),[Ie,Oe]=oe.useState([]),{stockMap:Xe,variantMap:ut,variantsByProduct:ht,barcodeMap:Ke}=oe.useMemo(()=>{const Qe=new Map,At=new Map,Mt=new Map,Wt=new Map;return Ue.forEach(Ve=>{Qe.set(Ve.variantId,(Qe.get(Ve.variantId)||0)+Ve.quantity)}),F.forEach(Ve=>{Ve.items.forEach(_t=>{_t.type==="good"&&Qe.set(_t.id,(Qe.get(_t.id)||0)-_t.quantity)})}),Q.forEach(Ve=>{Ve.items.forEach(_t=>{_t.type==="good"&&Qe.set(_t.id,(Qe.get(_t.id)||0)+_t.quantity)})}),D.forEach(Ve=>{At.set(Ve.id,Ve),Ve.barcode&&Wt.set(Ve.barcode,Ve);const _t=Mt.get(Ve.productId)||[];_t.push(Ve),Mt.set(Ve.productId,_t)}),{stockMap:Qe,variantMap:At,variantsByProduct:Mt,barcodeMap:Wt}},[Ue,F,Q,D]),et=oe.useMemo(()=>D.filter(Qe=>(Xe.get(Qe.id)||0)<=Qe.lowStockThreshold),[D,Xe]),ze=oe.useMemo(()=>C.filter(Qe=>Qe.type==="service"),[C]),Gt=async(Qe,At)=>{var _t;const Mt={...Qe,id:crypto.randomUUID()};await k(Mt);const Wt=[],Ve=[];for(const _n of At){const mn={..._n,id:crypto.randomUUID(),storeId:Mt.storeId,productId:Mt.id};Wt.push(mn);const Tn=(_t=Qe.variants)==null?void 0:_t.find(Wr=>Wr.id===_n.id),jn=(Tn==null?void 0:Tn.stockQuantity)??0;jn>0&&Ve.push({id:crypto.randomUUID(),storeId:Mt.storeId,variantId:mn.id,quantity:jn,purchasePrice:_n.purchasePrice,createdAt:new Date().toISOString()})}return await B(Wt),Ve.length>0&&await ge(Ve),{product:Mt,variants:Wt}},Pt=async(Qe,At)=>{await E(Qe);const Mt=new Set((ht.get(Qe.id)||[]).map(Ve=>Ve.id)),Wt=new Set(At.filter(Ve=>Ve.id).map(Ve=>Ve.id));for(const Ve of Mt)Wt.has(Ve)||await M(Ve);for(const Ve of At)if(Ve.id){const{stockQuantity:_t,..._n}=Ve;await I(_n)}else{const{stockQuantity:_t,..._n}=Ve,mn={..._n,id:crypto.randomUUID(),storeId:Qe.storeId,productId:Qe.id};await $(mn),_t>0&&await He({id:crypto.randomUUID(),storeId:Qe.storeId,variantId:mn.id,quantity:_t,purchasePrice:mn.purchasePrice,createdAt:new Date().toISOString()})}},Ee=async Qe=>{const At=ht.get(Qe)||[];for(const Mt of At)await M(Mt.id);await O(Qe)},We=async Qe=>{const{variantId:At,quantity:Mt,purchasePrice:Wt,sellingPrice:Ve,supplierId:_t}=Qe;await He({id:crypto.randomUUID(),storeId:o.id,variantId:At,quantity:Mt,purchasePrice:Wt,createdAt:new Date().toISOString()});const _n=ut.get(At);_n&&(_n.price!==Ve||_n.purchasePrice!==Wt)&&await I({..._n,price:Ve,purchasePrice:Wt})},Ge=async(Qe,At,Mt,Wt)=>{const Ve=Ie.reduce((_n,mn)=>{const Tn=mn.purchasePrice||mn.price;return _n+(mn.price-Tn)*mn.quantity},0),_t={id:crypto.randomUUID(),storeId:o.id,userId:i.id,date:new Date().toISOString(),items:Ie,total:Mt,downPayment:Qe,remainingAmount:Mt-Qe,profit:Ve,customerId:At};await G(_t),b({sale:_t,mode:Wt}),Oe([])},st=async Qe=>{const At=Qe.reduce((Ve,_t)=>Ve+_t.price*_t.quantity,0),Mt=Qe.reduce((Ve,_t)=>_t.purchasePrice?Ve+(_t.price-_t.purchasePrice)*_t.quantity:Ve,0),Wt={id:crypto.randomUUID(),storeId:o.id,userId:i.id,date:new Date().toISOString(),items:Qe,refundAmount:At,profitLost:Mt};await te(Wt),y(Wt),Oe([])},rt=async(Qe,At)=>{const Mt={id:crypto.randomUUID(),storeId:o.id,userId:i.id,date:new Date().toISOString(),items:[],total:-At,downPayment:-At,remainingAmount:0,profit:0,customerId:Qe};await G(Mt)},Ft=(Qe,At)=>{a(Qe),s(At),f(!1)},bt=()=>{a(null),s(null),f(!1),sessionStorage.removeItem("pos-active-user"),sessionStorage.removeItem("pos-active-store"),sessionStorage.removeItem("pos-is-super-admin"),sessionStorage.removeItem("pos-active-tab")},Bn=()=>{f(!0),a(null),s(null)},ri=async Qe=>Gt(Qe,[]),fn=async Qe=>E(Qe);if(x)return m.jsx("div",{className:"flex justify-center items-center h-screen bg-slate-100 dark:bg-slate-900",children:m.jsxs("div",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:[T("loading"),"..."]})});if(c)return m.jsx(LSe,{onLoginAsStoreAdmin:Ft,onGoToDashboard:()=>u("SuperAdminDashboard"),onLogout:bt,t:T,language:t,setLanguage:e,theme:n,toggleTheme:()=>r(Qe=>Qe==="light"?"dark":"light")});if(l==="SuperAdminDashboard")return m.jsx(jSe,{onLoginAsStoreAdmin:Ft,onLogout:bt,onGoBack:()=>u(Tab.POS),t:T,language:t,setLanguage:e,theme:n,toggleTheme:()=>r(Qe=>Qe==="light"?"dark":"light")});if(!i||!o)return m.jsx(DSe,{onLoginSuccess:Ft,onSuperAdminLogin:Bn,t:T,language:t,setLanguage:e,theme:n,toggleTheme:()=>r(Qe=>Qe==="light"?"dark":"light")});const lt=({tab:Qe,icon:At,label:Mt})=>m.jsx("li",{children:m.jsxs("a",{href:"#",onClick:()=>{u(Qe),A(!1)},className:`flex items-center p-2 text-base font-normal rounded-lg transition-all ${l===Qe?"bg-teal-100 dark:bg-slate-700 text-teal-700 dark:text-slate-100":"text-slate-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[m.jsx(At,{className:"w-6 h-6"}),m.jsx("span",{className:"ml-3 rtl:mr-3 rtl:ml-0",children:Mt})]})}),Lt=()=>{switch(l){case Tab.POS:return m.jsx(fK,{store:o,user:i,products:C,variants:D,customers:re,categories:Se,sales:F,stockMap:Xe,variantMap:ut,variantsByProduct:ht,barcodeMap:Ke,cart:Ie,setCart:Oe,completeSale:Ge,processReturn:st,payCustomerDebt:rt,t:T,language:t});case Tab.Products:return m.jsx(gJ,{storeId:o.id,products:C.filter(Qe=>Qe.type==="good"),variants:D,suppliers:fe,categories:Se,stockMap:Xe,addProduct:Gt,updateProduct:Pt,deleteProduct:Ee,addStockToVariant:We,t:T,language:t});case Tab.Services:return m.jsx(yJ,{storeId:o.id,services:ze,addService:ri,updateService:fn,deleteService:Ee,t:T});case Tab.Finance:return m.jsx(H2e,{storeId:o.id,sales:F,expenses:R,purchases:ve,suppliers:fe,returns:Q,customers:re,users:ee,addExpense:U,updateExpense:V,deleteExpense:K,deleteReturn:J,deleteAllReturns:se,t:T,language:t,theme:n,onReprintInvoice:Qe=>b({sale:Qe,mode:"invoice"})});case Tab.Customers:return m.jsx(G2e,{storeId:o.id,customers:re,sales:F,addCustomer:be,deleteCustomer:_e,payCustomerDebt:rt,t:T,language:t});case Tab.Suppliers:return m.jsx(J2e,{storeId:o.id,suppliers:fe,purchases:ve,products:C,variants:D,addSupplier:De,deleteSupplier:Fe,addPurchase:async(Qe,At)=>{await Ne(Qe)},paySupplierDebt:async(Qe,At)=>{},addProduct:Gt,t:T,language:t});case Tab.Categories:return m.jsx(Q2e,{storeId:o.id,categories:Se,addCategory:ie,updateCategory:Te,deleteCategory:Ce,t:T,language:t});case Tab.Settings:return m.jsx(ewe,{activeUser:i,store:o,storeId:o.id,users:ee,addUser:le,updateUser:j,deleteUser:z,onUpdateStore:Qe=>ue({...o,...Qe}),onBackup:()=>{},onRestore:async()=>{},t:T});default:return null}};return m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 min-h-screen",children:[v&&m.jsx(nwe,{sale:v.sale,mode:v.mode,onClose:()=>b(null),store:o,customers:re,t:T,language:t}),w&&m.jsx(rwe,{returnObject:w,onClose:()=>y(null),store:o,t:T,language:t}),m.jsx(RSe,{store:o,t:T}),m.jsxs("button",{onClick:()=>A(!h),type:"button",className:"inline-flex items-center p-2 mt-2 ml-3 rtl:mr-3 rtl:ml-0 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",children:[m.jsx("span",{className:"sr-only",children:"Open sidebar"}),m.jsx("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})})]}),m.jsx("aside",{className:`fixed top-0 left-0 rtl:right-0 rtl:left-auto z-40 w-64 h-screen transition-transform ${h?"translate-x-0":"-translate-x-full"} sm:translate-x-0`,"aria-label":"Sidebar",children:m.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto bg-white dark:bg-slate-800 shadow-lg",children:[m.jsxs("div",{className:"flex items-center pl-2.5 mb-5",children:[m.jsx(Q0,{url:o.logo,className:"h-8 w-auto mr-3 rtl:ml-3 rtl:mr-0 rounded"}),m.jsx("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white",children:o.name})]}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx(lt,{tab:Tab.POS,icon:rF,label:T("pos")}),m.jsx(lt,{tab:Tab.Products,icon:nF,label:T("products")}),m.jsx(lt,{tab:Tab.Services,icon:el,label:T("services")}),m.jsx(lt,{tab:Tab.Finance,icon:iF,label:T("finance")}),m.jsx("hr",{className:"my-2 border-slate-200 dark:border-slate-700"}),m.jsx(lt,{tab:Tab.Customers,icon:nS,label:T("customers")}),m.jsx(lt,{tab:Tab.Suppliers,icon:VO,label:T("suppliers")}),m.jsx(lt,{tab:Tab.Categories,icon:GO,label:T("categories")}),m.jsx("hr",{className:"my-2 border-slate-200 dark:border-slate-700"}),m.jsx(lt,{tab:Tab.Settings,icon:tS,label:T("settings")})]}),m.jsxs("div",{className:"absolute bottom-4 left-3 right-3",children:[m.jsxs("div",{className:"p-3 text-center bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"font-bold text-sm text-slate-700 dark:text-slate-200",children:i.name}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:T(i.role)})]}),m.jsxs("button",{onClick:bt,className:"w-full mt-2 flex items-center justify-center p-2 text-sm font-normal text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/50",children:[m.jsx(eS,{className:"w-5 h-5"}),m.jsx("span",{className:"ml-3 rtl:mr-3 rtl:ml-0",children:T("logout")})]})]})]})}),m.jsx("main",{className:"p-4 sm:ml-64 rtl:sm:mr-64 rtl:sm:ml-0",children:m.jsxs("div",{className:"mt-4",children:[et.length>0&&l===Tab.Products&&m.jsx(twe,{products:C,variants:et,suppliers:fe,t:T}),Lt()]})})]})},A8=document.getElementById("root");if(!A8)throw new Error("Could not find root element to mount to");const $Se=J$.createRoot(A8);$Se.render(m.jsx(de.StrictMode,{children:m.jsx(BSe,{})}));export{an as _,Ar as c,Xt as g};
