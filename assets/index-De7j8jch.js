(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var YP={exports:{}},vv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o7=Symbol.for("react.transitional.element"),s7=Symbol.for("react.fragment");function KP(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:o7,type:t,key:r,ref:e!==void 0?e:null,props:n}}vv.Fragment=s7;vv.jsx=KP;vv.jsxs=KP;YP.exports=vv;var m=YP.exports,JP={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5=Symbol.for("react.transitional.element"),l7=Symbol.for("react.portal"),u7=Symbol.for("react.fragment"),c7=Symbol.for("react.strict_mode"),f7=Symbol.for("react.profiler"),d7=Symbol.for("react.consumer"),h7=Symbol.for("react.context"),p7=Symbol.for("react.forward_ref"),A7=Symbol.for("react.suspense"),m7=Symbol.for("react.memo"),XP=Symbol.for("react.lazy"),g7=Symbol.for("react.activity"),lT=Symbol.iterator;function v7(t){return t===null||typeof t!="object"?null:(t=lT&&t[lT]||t["@@iterator"],typeof t=="function"?t:null)}var QP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZP=Object.assign,e6={};function Ad(t,e,n){this.props=t,this.context=e,this.refs=e6,this.updater=n||QP}Ad.prototype.isReactComponent={};Ad.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ad.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t6(){}t6.prototype=Ad.prototype;function s5(t,e,n){this.props=t,this.context=e,this.refs=e6,this.updater=n||QP}var l5=s5.prototype=new t6;l5.constructor=s5;ZP(l5,Ad.prototype);l5.isPureReactComponent=!0;var uT=Array.isArray;function ix(){}var Pn={H:null,A:null,T:null,S:null},n6=Object.prototype.hasOwnProperty;function u5(t,e,n){var r=n.ref;return{$$typeof:o5,type:t,key:e,ref:r!==void 0?r:null,props:n}}function y7(t,e){return u5(t.type,e,t.props)}function c5(t){return typeof t=="object"&&t!==null&&t.$$typeof===o5}function b7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cT=/\/+/g;function wb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b7(""+t.key):e.toString(36)}function x7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ix,ix):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Wc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case o5:case l7:o=!0;break;case XP:return o=t._init,Wc(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+wb(t,0):r,uT(i)?(n="",o!=null&&(n=o.replace(cT,"$&/")+"/"),Wc(i,e,n,"",function(u){return u})):i!=null&&(c5(i)&&(i=y7(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(cT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(uT(t))for(var l=0;l<t.length;l++)r=t[l],a=s+wb(r,l),o+=Wc(r,e,n,a,i);else if(l=v7(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+wb(r,l++),o+=Wc(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Wc(x7(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Pm(t,e,n){if(t==null)return t;var r=[],i=0;return Wc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function w7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},S7={map:Pm,forEach:function(t,e,n){Pm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pm(t,function(){e++}),e},toArray:function(t){return Pm(t,function(e){return e})||[]},only:function(t){if(!c5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ct.Activity=g7;Ct.Children=S7;Ct.Component=Ad;Ct.Fragment=u7;Ct.Profiler=f7;Ct.PureComponent=s5;Ct.StrictMode=c7;Ct.Suspense=A7;Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pn;Ct.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pn.H.useMemoCache(t)}};Ct.cache=function(t){return function(){return t.apply(null,arguments)}};Ct.cacheSignal=function(){return null};Ct.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=ZP({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!n6.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return u5(t.type,i,r)};Ct.createContext=function(t){return t={$$typeof:h7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:d7,_context:t},t};Ct.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)n6.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return u5(t,a,i)};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(t){return{$$typeof:p7,render:t}};Ct.isValidElement=c5;Ct.lazy=function(t){return{$$typeof:XP,_payload:{_status:-1,_result:t},_init:w7}};Ct.memo=function(t,e){return{$$typeof:m7,type:t,compare:e===void 0?null:e}};Ct.startTransition=function(t){var e=Pn.T,n={};Pn.T=n;try{var r=t(),i=Pn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(ix,fT)}catch(a){fT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Pn.T=e}};Ct.unstable_useCacheRefresh=function(){return Pn.H.useCacheRefresh()};Ct.use=function(t){return Pn.H.use(t)};Ct.useActionState=function(t,e,n){return Pn.H.useActionState(t,e,n)};Ct.useCallback=function(t,e){return Pn.H.useCallback(t,e)};Ct.useContext=function(t){return Pn.H.useContext(t)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(t,e){return Pn.H.useDeferredValue(t,e)};Ct.useEffect=function(t,e){return Pn.H.useEffect(t,e)};Ct.useEffectEvent=function(t){return Pn.H.useEffectEvent(t)};Ct.useId=function(){return Pn.H.useId()};Ct.useImperativeHandle=function(t,e,n){return Pn.H.useImperativeHandle(t,e,n)};Ct.useInsertionEffect=function(t,e){return Pn.H.useInsertionEffect(t,e)};Ct.useLayoutEffect=function(t,e){return Pn.H.useLayoutEffect(t,e)};Ct.useMemo=function(t,e){return Pn.H.useMemo(t,e)};Ct.useOptimistic=function(t,e){return Pn.H.useOptimistic(t,e)};Ct.useReducer=function(t,e,n){return Pn.H.useReducer(t,e,n)};Ct.useRef=function(t){return Pn.H.useRef(t)};Ct.useState=function(t){return Pn.H.useState(t)};Ct.useSyncExternalStore=function(t,e,n){return Pn.H.useSyncExternalStore(t,e,n)};Ct.useTransition=function(){return Pn.H.useTransition()};Ct.version="19.2.0";JP.exports=Ct;var ie=JP.exports;const de=Kt(ie);var r6={exports:{}},yv={},i6={exports:{}},a6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,$){var V=R.length;R.push($);e:for(;0<V;){var Y=V-1>>>1,ne=R[Y];if(0<i(ne,$))R[Y]=$,R[V]=ne,V=Y;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],V=R.pop();if(V!==$){R[0]=V;e:for(var Y=0,ne=R.length,le=ne>>>1;Y<le;){var L=2*(Y+1)-1,q=R[L],J=L+1,te=R[J];if(0>i(q,V))J<ne&&0>i(te,q)?(R[Y]=te,R[J]=V,Y=J):(R[Y]=q,R[L]=V,Y=L);else if(J<ne&&0>i(te,V))R[Y]=te,R[J]=V,Y=J;else break e}}return $}function i(R,$){var V=R.sortIndex-$.sortIndex;return V!==0?V:R.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,p=3,h=!1,v=!1,b=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(R){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=R)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function C(R){if(b=!1,T(R),!v)if(n(l)!==null)v=!0,k||(k=!0,M());else{var $=n(u);$!==null&&G(C,$.startTime-R)}}var k=!1,E=-1,D=5,I=-1;function B(){return w?!0:!(t.unstable_now()-I<D)}function O(){if(w=!1,k){var R=t.unstable_now();I=R;var $=!0;try{e:{v=!1,b&&(b=!1,x(E),E=-1),h=!0;var V=p;try{t:{for(T(R),f=n(l);f!==null&&!(f.expirationTime>R&&B());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var ne=Y(f.expirationTime<=R);if(R=t.unstable_now(),typeof ne=="function"){f.callback=ne,T(R),$=!0;break t}f===n(l)&&r(l),T(R)}else r(l);f=n(l)}if(f!==null)$=!0;else{var le=n(u);le!==null&&G(C,le.startTime-R),$=!1}}break e}finally{f=null,p=V,h=!1}$=void 0}}finally{$?M():k=!1}}}var M;if(typeof S=="function")M=function(){S(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,F=U.port2;U.port1.onmessage=O,M=function(){F.postMessage(null)}}else M=function(){y(O,0)};function G(R,$){E=y(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(R){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var V=p;p=$;try{return R()}finally{p=V}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=p;p=R;try{return $()}finally{p=V}},t.unstable_scheduleCallback=function(R,$,V){var Y=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=V+ne,R={id:c++,callback:$,priorityLevel:R,startTime:V,expirationTime:ne,sortIndex:-1},V>Y?(R.sortIndex=V,e(u,R),n(l)===null&&R===n(u)&&(b?(x(E),E=-1):b=!0,G(C,V-Y))):(R.sortIndex=ne,e(l,R),v||h||(v=!0,k||(k=!0,M()))),R},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(R){var $=p;return function(){var V=p;p=$;try{return R.apply(this,arguments)}finally{p=V}}}})(a6);i6.exports=a6;var _7=i6.exports,o6={exports:{}},li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T7=ie;function s6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vs(){}var ri={d:{f:Vs,r:function(){throw Error(s6(522))},D:Vs,C:Vs,L:Vs,m:Vs,X:Vs,S:Vs,M:Vs},p:0,findDOMNode:null},C7=Symbol.for("react.portal");function N7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C7,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Xh=T7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ri;li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(s6(299));return N7(t,e,null,n)};li.flushSync=function(t){var e=Xh.T,n=ri.p;try{if(Xh.T=null,ri.p=2,t)return t()}finally{Xh.T=e,ri.p=n,ri.d.f()}};li.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ri.d.C(t,e))};li.prefetchDNS=function(t){typeof t=="string"&&ri.d.D(t)};li.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=bv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?ri.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&ri.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};li.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=bv(e.as,e.crossOrigin);ri.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ri.d.M(t)};li.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=bv(n,e.crossOrigin);ri.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};li.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=bv(e.as,e.crossOrigin);ri.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ri.d.m(t)};li.requestFormReset=function(t){ri.d.r(t)};li.unstable_batchedUpdates=function(t,e){return t(e)};li.useFormState=function(t,e,n){return Xh.H.useFormState(t,e,n)};li.useFormStatus=function(){return Xh.H.useHostTransitionStatus()};li.version="19.2.0";function l6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l6)}catch(t){console.error(t)}}l6(),o6.exports=li;var E7=o6.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=_7,u6=ie,k7=E7;function Fe(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _A(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d6(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dT(t){if(_A(t)!==t)throw Error(Fe(188))}function P7(t){var e=t.alternate;if(!e){if(e=_A(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return dT(i),t;if(a===r)return dT(i),e;a=a.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function h6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=h6(t),e!==null)return e;t=t.sibling}return null}var Mn=Object.assign,M7=Symbol.for("react.element"),Mm=Symbol.for("react.transitional.element"),zh=Symbol.for("react.portal"),tf=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),A6=Symbol.for("react.consumer"),Xo=Symbol.for("react.context"),f5=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),sx=Symbol.for("react.suspense_list"),d5=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),lx=Symbol.for("react.activity"),D7=Symbol.for("react.memo_cache_sentinel"),hT=Symbol.iterator;function wh(t){return t===null||typeof t!="object"?null:(t=hT&&t[hT]||t["@@iterator"],typeof t=="function"?t:null)}var O7=Symbol.for("react.client.reference");function ux(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tf:return"Fragment";case ax:return"Profiler";case p6:return"StrictMode";case ox:return"Suspense";case sx:return"SuspenseList";case lx:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case zh:return"Portal";case Xo:return t.displayName||"Context";case A6:return(t._context.displayName||"Context")+".Consumer";case f5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d5:return e=t.displayName||null,e!==null?e:ux(t.type)||"Memo";case Js:e=t._payload,t=t._init;try{return ux(t(e))}catch{}}return null}var Vh=Array.isArray,yt=u6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yt=k7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tu={pending:!1,data:null,method:null,action:null},cx=[],nf=-1;function So(t){return{current:t}}function Er(t){0>nf||(t.current=cx[nf],cx[nf]=null,nf--)}function wn(t,e){nf++,cx[nf]=t.current,t.current=e}var vo=So(null),Cp=So(null),pl=So(null),Rg=So(null);function Fg(t,e){switch(wn(pl,e),wn(Cp,t),wn(vo,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?yC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=yC(e),t=jD(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Er(vo),wn(vo,t)}function Of(){Er(vo),Er(Cp),Er(pl)}function fx(t){t.memoizedState!==null&&wn(Rg,t);var e=vo.current,n=jD(e,t.type);e!==n&&(wn(Cp,t),wn(vo,n))}function $g(t){Cp.current===t&&(Er(vo),Er(Cp)),Rg.current===t&&(Er(Rg),Rp._currentValue=Tu)}var Sb,pT;function uu(t){if(Sb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sb=e&&e[1]||"",pT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sb+t+pT}var _b=!1;function Tb(t,e){if(!t||_b)return"";_b=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var p=h}Reflect.construct(t,[],f)}else{try{f.call()}catch(h){p=h}t.call(f.prototype)}}else{try{throw Error()}catch(h){p=h}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&p&&typeof h.stack=="string")return[h.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{_b=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?uu(n):""}function I7(t,e){switch(t.tag){case 26:case 27:case 5:return uu(t.type);case 16:return uu("Lazy");case 13:return t.child!==e&&e!==null?uu("Suspense Fallback"):uu("Suspense");case 19:return uu("SuspenseList");case 0:case 15:return Tb(t.type,!1);case 11:return Tb(t.type.render,!1);case 1:return Tb(t.type,!0);case 31:return uu("Activity");default:return""}}function AT(t){try{var e="",n=null;do e+=I7(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var dx=Object.prototype.hasOwnProperty,h5=vr.unstable_scheduleCallback,Cb=vr.unstable_cancelCallback,j7=vr.unstable_shouldYield,L7=vr.unstable_requestPaint,Gi=vr.unstable_now,R7=vr.unstable_getCurrentPriorityLevel,m6=vr.unstable_ImmediatePriority,g6=vr.unstable_UserBlockingPriority,Bg=vr.unstable_NormalPriority,F7=vr.unstable_LowPriority,v6=vr.unstable_IdlePriority,$7=vr.log,B7=vr.unstable_setDisableYieldValue,TA=null,Wi=null;function sl(t){if(typeof $7=="function"&&B7(t),Wi&&typeof Wi.setStrictMode=="function")try{Wi.setStrictMode(TA,t)}catch{}}var Yi=Math.clz32?Math.clz32:H7,U7=Math.log,q7=Math.LN2;function H7(t){return t>>>=0,t===0?32:31-(U7(t)/q7|0)|0}var Dm=256,Om=262144,Im=4194304;function cu(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=cu(r):(o&=s,o!==0?i=cu(o):n||(n=s&~t,n!==0&&(i=cu(n))))):(s=r&~a,s!==0?i=cu(s):o!==0?i=cu(o):n||(n=r&~t,n!==0&&(i=cu(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function CA(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function z7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y6(){var t=Im;return Im<<=1,!(Im&62914560)&&(Im=4194304),t}function Nb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function NA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function V7(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Yi(n),f=1<<c;s[c]=0,l[c]=-1;var p=u[c];if(p!==null)for(u[c]=null,c=0;c<p.length;c++){var h=p[c];h!==null&&(h.lane&=-536870913)}n&=~f}r!==0&&b6(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function b6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Yi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function x6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function w6(t,e){var n=e&-e;return n=n&42?1:p5(n),n&(t.suspendedLanes|e)?0:n}function p5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function A5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function S6(){var t=Yt.p;return t!==0?t:(t=window.event,t===void 0?32:GD(t.type))}function mT(t,e){var n=Yt.p;try{return Yt.p=t,e()}finally{Yt.p=n}}var Ll=Math.random().toString(36).slice(2),jr="__reactFiber$"+Ll,Ci="__reactProps$"+Ll,md="__reactContainer$"+Ll,hx="__reactEvents$"+Ll,G7="__reactListeners$"+Ll,W7="__reactHandles$"+Ll,gT="__reactResources$"+Ll,EA="__reactMarker$"+Ll;function m5(t){delete t[jr],delete t[Ci],delete t[hx],delete t[G7],delete t[W7]}function rf(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[md]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_C(t);t!==null;){if(n=t[jr])return n;t=_C(t)}return e}t=n,n=t.parentNode}return null}function gd(t){if(t=t[jr]||t[md]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Gh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Fe(33))}function bf(t){var e=t[gT];return e||(e=t[gT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Cr(t){t[EA]=!0}var _6=new Set,T6={};function Yu(t,e){If(t,e),If(t+"Capture",e)}function If(t,e){for(T6[t]=e,t=0;t<e.length;t++)_6.add(e[t])}var Y7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vT={},yT={};function K7(t){return dx.call(yT,t)?!0:dx.call(vT,t)?!1:Y7.test(t)?yT[t]=!0:(vT[t]=!0,!1)}function vg(t,e,n){if(K7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function jm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Bo(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function ga(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J7(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function px(t){if(!t._valueTracker){var e=C6(t)?"checked":"value";t._valueTracker=J7(t,e,""+t[e])}}function N6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=C6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ug(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var X7=/[\n"\\]/g;function ba(t){return t.replace(X7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ax(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ga(e)):t.value!==""+ga(e)&&(t.value=""+ga(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?mx(t,o,ga(e)):n!=null?mx(t,o,ga(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+ga(s):t.removeAttribute("name")}function E6(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){px(t);return}n=n!=null?""+ga(n):"",e=e!=null?""+ga(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),px(t)}function mx(t,e,n){e==="number"&&Ug(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function xf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ga(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k6(t,e,n){if(e!=null&&(e=""+ga(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ga(n):""}function P6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Fe(92));if(Vh(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=ga(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),px(t)}function jf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Q7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Q7.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function M6(t,e,n){if(e!=null&&typeof e!="object")throw Error(Fe(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&bT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&bT(t,a,e[a])}function g5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eF=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yg(t){return eF.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qo(){}var gx=null;function v5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var af=null,wf=null;function xT(t){var e=gd(t);if(e&&(t=e.stateNode)){var n=t[Ci]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ax(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ba(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Ci]||null;if(!i)throw Error(Fe(90));Ax(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&N6(r)}break e;case"textarea":k6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&xf(t,!!n.multiple,e,!1)}}}var Eb=!1;function D6(t,e,n){if(Eb)return t(e,n);Eb=!0;try{var r=t(e);return r}finally{if(Eb=!1,(af!==null||wf!==null)&&(Ov(),af&&(e=af,t=wf,wf=af=null,xT(e),t)))for(e=0;e<t.length;e++)xT(t[e])}}function Np(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Ci]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vx=!1;if(ls)try{var Sh={};Object.defineProperty(Sh,"passive",{get:function(){vx=!0}}),window.addEventListener("test",Sh,Sh),window.removeEventListener("test",Sh,Sh)}catch{vx=!1}var ll=null,y5=null,bg=null;function O6(){if(bg)return bg;var t,e=y5,n=e.length,r,i="value"in ll?ll.value:ll.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return bg=i.slice(t,1<r?1-r:void 0)}function xg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lm(){return!0}function wT(){return!1}function Ni(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Lm:wT,this.isPropagationStopped=wT,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lm)},persist:function(){},isPersistent:Lm}),e}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wv=Ni(Ku),kA=Mn({},Ku,{view:0,detail:0}),tF=Ni(kA),kb,Pb,_h,Sv=Mn({},kA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_h&&(_h&&t.type==="mousemove"?(kb=t.screenX-_h.screenX,Pb=t.screenY-_h.screenY):Pb=kb=0,_h=t),kb)},movementY:function(t){return"movementY"in t?t.movementY:Pb}}),ST=Ni(Sv),nF=Mn({},Sv,{dataTransfer:0}),rF=Ni(nF),iF=Mn({},kA,{relatedTarget:0}),Mb=Ni(iF),aF=Mn({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),oF=Ni(aF),sF=Mn({},Ku,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lF=Ni(sF),uF=Mn({},Ku,{data:0}),_T=Ni(uF),cF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dF[t])?!!e[t]:!1}function b5(){return hF}var pF=Mn({},kA,{key:function(t){if(t.key){var e=cF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b5,charCode:function(t){return t.type==="keypress"?xg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AF=Ni(pF),mF=Mn({},Sv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TT=Ni(mF),gF=Mn({},kA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b5}),vF=Ni(gF),yF=Mn({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),bF=Ni(yF),xF=Mn({},Sv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wF=Ni(xF),SF=Mn({},Ku,{newState:0,oldState:0}),_F=Ni(SF),TF=[9,13,27,32],x5=ls&&"CompositionEvent"in window,Qh=null;ls&&"documentMode"in document&&(Qh=document.documentMode);var CF=ls&&"TextEvent"in window&&!Qh,I6=ls&&(!x5||Qh&&8<Qh&&11>=Qh),CT=" ",NT=!1;function j6(t,e){switch(t){case"keyup":return TF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var of=!1;function NF(t,e){switch(t){case"compositionend":return L6(e);case"keypress":return e.which!==32?null:(NT=!0,CT);case"textInput":return t=e.data,t===CT&&NT?null:t;default:return null}}function EF(t,e){if(of)return t==="compositionend"||!x5&&j6(t,e)?(t=O6(),bg=y5=ll=null,of=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I6&&e.locale!=="ko"?null:e.data;default:return null}}var kF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ET(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kF[t.type]:e==="textarea"}function R6(t,e,n,r){af?wf?wf.push(r):wf=[r]:af=r,e=a0(e,"onChange"),0<e.length&&(n=new wv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zh=null,Ep=null;function PF(t){DD(t,0)}function _v(t){var e=Gh(t);if(N6(e))return t}function kT(t,e){if(t==="change")return e}var F6=!1;if(ls){var Db;if(ls){var Ob="oninput"in document;if(!Ob){var PT=document.createElement("div");PT.setAttribute("oninput","return;"),Ob=typeof PT.oninput=="function"}Db=Ob}else Db=!1;F6=Db&&(!document.documentMode||9<document.documentMode)}function MT(){Zh&&(Zh.detachEvent("onpropertychange",$6),Ep=Zh=null)}function $6(t){if(t.propertyName==="value"&&_v(Ep)){var e=[];R6(e,Ep,t,v5(t)),D6(PF,e)}}function MF(t,e,n){t==="focusin"?(MT(),Zh=e,Ep=n,Zh.attachEvent("onpropertychange",$6)):t==="focusout"&&MT()}function DF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _v(Ep)}function OF(t,e){if(t==="click")return _v(e)}function IF(t,e){if(t==="input"||t==="change")return _v(e)}function jF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:jF;function kp(t,e){if(Xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dx.call(e,i)||!Xi(t[i],e[i]))return!1}return!0}function DT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OT(t,e){var n=DT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DT(n)}}function B6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ug(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ug(t.document)}return e}function w5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var LF=ls&&"documentMode"in document&&11>=document.documentMode,sf=null,yx=null,ep=null,bx=!1;function IT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bx||sf==null||sf!==Ug(r)||(r=sf,"selectionStart"in r&&w5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ep&&kp(ep,r)||(ep=r,r=a0(yx,"onSelect"),0<r.length&&(e=new wv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sf)))}function ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lf={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionrun:ru("Transition","TransitionRun"),transitionstart:ru("Transition","TransitionStart"),transitioncancel:ru("Transition","TransitionCancel"),transitionend:ru("Transition","TransitionEnd")},Ib={},q6={};ls&&(q6=document.createElement("div").style,"AnimationEvent"in window||(delete lf.animationend.animation,delete lf.animationiteration.animation,delete lf.animationstart.animation),"TransitionEvent"in window||delete lf.transitionend.transition);function Ju(t){if(Ib[t])return Ib[t];if(!lf[t])return t;var e=lf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q6)return Ib[t]=e[n];return t}var H6=Ju("animationend"),z6=Ju("animationiteration"),V6=Ju("animationstart"),RF=Ju("transitionrun"),FF=Ju("transitionstart"),$F=Ju("transitioncancel"),G6=Ju("transitionend"),W6=new Map,xx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xx.push("scrollEnd");function Qa(t,e){W6.set(t,e),Yu(e,[t])}var qg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Aa=[],uf=0,S5=0;function Tv(){for(var t=uf,e=S5=uf=0;e<t;){var n=Aa[e];Aa[e++]=null;var r=Aa[e];Aa[e++]=null;var i=Aa[e];Aa[e++]=null;var a=Aa[e];if(Aa[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&Y6(n,i,a)}}function Cv(t,e,n,r){Aa[uf++]=t,Aa[uf++]=e,Aa[uf++]=n,Aa[uf++]=r,S5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function _5(t,e,n,r){return Cv(t,e,n,r),Hg(t)}function Xu(t,e){return Cv(t,null,null,e),Hg(t)}function Y6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Yi(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Hg(t){if(50<up)throw up=0,qx=null,Error(Fe(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var cf={};function BF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(t,e,n,r){return new BF(t,e,n,r)}function T5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rs(t,e){var n=t.alternate;return n===null?(n=Ui(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function K6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function wg(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")T5(t)&&(o=1);else if(typeof t=="string")o=V$(t,n,vo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case lx:return t=Ui(31,n,e,i),t.elementType=lx,t.lanes=a,t;case tf:return Cu(n.children,i,a,e);case p6:o=8,i|=24;break;case ax:return t=Ui(12,n,e,i|2),t.elementType=ax,t.lanes=a,t;case ox:return t=Ui(13,n,e,i),t.elementType=ox,t.lanes=a,t;case sx:return t=Ui(19,n,e,i),t.elementType=sx,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xo:o=10;break e;case A6:o=9;break e;case f5:o=11;break e;case d5:o=14;break e;case Js:o=16,r=null;break e}o=29,n=Error(Fe(130,t===null?"null":typeof t,"")),r=null}return e=Ui(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Cu(t,e,n,r){return t=Ui(7,t,r,e),t.lanes=n,t}function jb(t,e,n){return t=Ui(6,t,null,e),t.lanes=n,t}function J6(t){var e=Ui(18,null,null,0);return e.stateNode=t,e}function Lb(t,e,n){return e=Ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var jT=new WeakMap;function xa(t,e){if(typeof t=="object"&&t!==null){var n=jT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:AT(e)},jT.set(t,e),e)}return{value:t,source:e,stack:AT(e)}}var ff=[],df=0,zg=null,Pp=0,va=[],ya=0,kl=null,ho=1,po="";function Ko(t,e){ff[df++]=Pp,ff[df++]=zg,zg=t,Pp=e}function X6(t,e,n){va[ya++]=ho,va[ya++]=po,va[ya++]=kl,kl=t;var r=ho;t=po;var i=32-Yi(r)-1;r&=~(1<<i),n+=1;var a=32-Yi(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ho=1<<32-Yi(e)+i|n<<i|r,po=a+t}else ho=1<<a|n<<i|r,po=t}function C5(t){t.return!==null&&(Ko(t,1),X6(t,1,0))}function N5(t){for(;t===zg;)zg=ff[--df],ff[df]=null,Pp=ff[--df],ff[df]=null;for(;t===kl;)kl=va[--ya],va[ya]=null,po=va[--ya],va[ya]=null,ho=va[--ya],va[ya]=null}function Q6(t,e){va[ya++]=ho,va[ya++]=po,va[ya++]=kl,ho=e.id,po=e.overflow,kl=t}var Lr=null,En=null,$t=!1,Al=null,wa=!1,wx=Error(Fe(519));function Pl(t){var e=Error(Fe(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mp(xa(e,t)),wx}function LT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[jr]=t,e[Ci]=r,n){case"dialog":jt("cancel",e),jt("close",e);break;case"iframe":case"object":case"embed":jt("load",e);break;case"video":case"audio":for(n=0;n<jp.length;n++)jt(jp[n],e);break;case"source":jt("error",e);break;case"img":case"image":case"link":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"input":jt("invalid",e),E6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":jt("invalid",e);break;case"textarea":jt("invalid",e),P6(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||ID(e.textContent,n)?(r.popover!=null&&(jt("beforetoggle",e),jt("toggle",e)),r.onScroll!=null&&jt("scroll",e),r.onScrollEnd!=null&&jt("scrollend",e),r.onClick!=null&&(e.onclick=Qo),e=!0):e=!1,e||Pl(t,!0)}function RT(t){for(Lr=t.return;Lr;)switch(Lr.tag){case 5:case 31:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:Lr=Lr.return}}function jc(t){if(t!==Lr)return!1;if(!$t)return RT(t),$t=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Wx(t.type,t.memoizedProps)),n=!n),n&&En&&Pl(t),RT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));En=SC(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));En=SC(t)}else e===27?(e=En,Rl(t.type)?(t=Xx,Xx=null,En=t):En=e):En=Lr?Ca(t.stateNode.nextSibling):null;return!0}function Lu(){En=Lr=null,$t=!1}function Rb(){var t=Al;return t!==null&&(wi===null?wi=t:wi.push.apply(wi,t),Al=null),t}function Mp(t){Al===null?Al=[t]:Al.push(t)}var Sx=So(null),Qu=null,Zo=null;function el(t,e,n){wn(Sx,e._currentValue),e._currentValue=n}function is(t){t._currentValue=Sx.current,Er(Sx)}function _x(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tx(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),_x(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_x(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function vd(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(Fe(387));if(o=o.memoizedProps,o!==null){var s=i.type;Xi(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===Rg.current){if(o=i.alternate,o===null)throw Error(Fe(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Rp):t=[Rp])}i=i.return}t!==null&&Tx(e,t,n,r),e.flags|=262144}function Vg(t){for(t=t.firstContext;t!==null;){if(!Xi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ru(t){Qu=t,Zo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rr(t){return Z6(Qu,t)}function Rm(t,e){return Qu===null&&Ru(t),Z6(t,e)}function Z6(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Zo===null){if(t===null)throw Error(Fe(308));Zo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Zo=Zo.next=e;return n}var UF=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},qF=vr.unstable_scheduleCallback,HF=vr.unstable_NormalPriority,or={$$typeof:Xo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E5(){return{controller:new UF,data:new Map,refCount:0}}function PA(t){t.refCount--,t.refCount===0&&qF(HF,function(){t.controller.abort()})}var tp=null,Cx=0,Lf=0,Sf=null;function zF(t,e){if(tp===null){var n=tp=[];Cx=0,Lf=Z5(),Sf={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Cx++,e.then(FT,FT),e}function FT(){if(--Cx===0&&tp!==null){Sf!==null&&(Sf.status="fulfilled");var t=tp;tp=null,Lf=0,Sf=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function VF(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var $T=yt.S;yt.S=function(t,e){hD=Gi(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&zF(t,e),$T!==null&&$T(t,e)};var Nu=So(null);function k5(){var t=Nu.current;return t!==null?t:An.pooledCache}function Sg(t,e){e===null?wn(Nu,Nu.current):wn(Nu,e.pool)}function eM(){var t=k5();return t===null?null:{parent:or._currentValue,pool:t}}var yd=Error(Fe(460)),P5=Error(Fe(474)),Nv=Error(Fe(542)),Gg={then:function(){}};function BT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Qo,Qo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qT(t),t;default:if(typeof e.status=="string")e.then(Qo,Qo);else{if(t=An,t!==null&&100<t.shellSuspendCounter)throw Error(Fe(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,qT(t),t}throw Eu=e,yd}}function fu(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Eu=n,yd):n}}var Eu=null;function UT(){if(Eu===null)throw Error(Fe(459));var t=Eu;return Eu=null,t}function qT(t){if(t===yd||t===Nv)throw Error(Fe(483))}var _f=null,Dp=0;function Fm(t){var e=Dp;return Dp+=1,_f===null&&(_f=[]),tM(_f,t,e)}function Th(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function $m(t,e){throw e.$$typeof===M7?Error(Fe(525)):(t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function nM(t){function e(y,x){if(t){var S=y.deletions;S===null?(y.deletions=[x],y.flags|=16):S.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(y,x){return y=rs(y,x),y.index=0,y.sibling=null,y}function a(y,x,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<x?(y.flags|=67108866,x):S):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function s(y,x,S,T){return x===null||x.tag!==6?(x=jb(S,y.mode,T),x.return=y,x):(x=i(x,S),x.return=y,x)}function l(y,x,S,T){var C=S.type;return C===tf?c(y,x,S.props.children,T,S.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Js&&fu(C)===x.type)?(x=i(x,S.props),Th(x,S),x.return=y,x):(x=wg(S.type,S.key,S.props,null,y.mode,T),Th(x,S),x.return=y,x)}function u(y,x,S,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Lb(S,y.mode,T),x.return=y,x):(x=i(x,S.children||[]),x.return=y,x)}function c(y,x,S,T,C){return x===null||x.tag!==7?(x=Cu(S,y.mode,T,C),x.return=y,x):(x=i(x,S),x.return=y,x)}function f(y,x,S){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=jb(""+x,y.mode,S),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mm:return S=wg(x.type,x.key,x.props,null,y.mode,S),Th(S,x),S.return=y,S;case zh:return x=Lb(x,y.mode,S),x.return=y,x;case Js:return x=fu(x),f(y,x,S)}if(Vh(x)||wh(x))return x=Cu(x,y.mode,S,null),x.return=y,x;if(typeof x.then=="function")return f(y,Fm(x),S);if(x.$$typeof===Xo)return f(y,Rm(y,x),S);$m(y,x)}return null}function p(y,x,S,T){var C=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return C!==null?null:s(y,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mm:return S.key===C?l(y,x,S,T):null;case zh:return S.key===C?u(y,x,S,T):null;case Js:return S=fu(S),p(y,x,S,T)}if(Vh(S)||wh(S))return C!==null?null:c(y,x,S,T,null);if(typeof S.then=="function")return p(y,x,Fm(S),T);if(S.$$typeof===Xo)return p(y,x,Rm(y,S),T);$m(y,S)}return null}function h(y,x,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return y=y.get(S)||null,s(x,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mm:return y=y.get(T.key===null?S:T.key)||null,l(x,y,T,C);case zh:return y=y.get(T.key===null?S:T.key)||null,u(x,y,T,C);case Js:return T=fu(T),h(y,x,S,T,C)}if(Vh(T)||wh(T))return y=y.get(S)||null,c(x,y,T,C,null);if(typeof T.then=="function")return h(y,x,S,Fm(T),C);if(T.$$typeof===Xo)return h(y,x,S,Rm(x,T),C);$m(x,T)}return null}function v(y,x,S,T){for(var C=null,k=null,E=x,D=x=0,I=null;E!==null&&D<S.length;D++){E.index>D?(I=E,E=null):I=E.sibling;var B=p(y,E,S[D],T);if(B===null){E===null&&(E=I);break}t&&E&&B.alternate===null&&e(y,E),x=a(B,x,D),k===null?C=B:k.sibling=B,k=B,E=I}if(D===S.length)return n(y,E),$t&&Ko(y,D),C;if(E===null){for(;D<S.length;D++)E=f(y,S[D],T),E!==null&&(x=a(E,x,D),k===null?C=E:k.sibling=E,k=E);return $t&&Ko(y,D),C}for(E=r(E);D<S.length;D++)I=h(E,y,D,S[D],T),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?D:I.key),x=a(I,x,D),k===null?C=I:k.sibling=I,k=I);return t&&E.forEach(function(O){return e(y,O)}),$t&&Ko(y,D),C}function b(y,x,S,T){if(S==null)throw Error(Fe(151));for(var C=null,k=null,E=x,D=x=0,I=null,B=S.next();E!==null&&!B.done;D++,B=S.next()){E.index>D?(I=E,E=null):I=E.sibling;var O=p(y,E,B.value,T);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(y,E),x=a(O,x,D),k===null?C=O:k.sibling=O,k=O,E=I}if(B.done)return n(y,E),$t&&Ko(y,D),C;if(E===null){for(;!B.done;D++,B=S.next())B=f(y,B.value,T),B!==null&&(x=a(B,x,D),k===null?C=B:k.sibling=B,k=B);return $t&&Ko(y,D),C}for(E=r(E);!B.done;D++,B=S.next())B=h(E,y,D,B.value,T),B!==null&&(t&&B.alternate!==null&&E.delete(B.key===null?D:B.key),x=a(B,x,D),k===null?C=B:k.sibling=B,k=B);return t&&E.forEach(function(M){return e(y,M)}),$t&&Ko(y,D),C}function w(y,x,S,T){if(typeof S=="object"&&S!==null&&S.type===tf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Mm:e:{for(var C=S.key;x!==null;){if(x.key===C){if(C=S.type,C===tf){if(x.tag===7){n(y,x.sibling),T=i(x,S.props.children),T.return=y,y=T;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Js&&fu(C)===x.type){n(y,x.sibling),T=i(x,S.props),Th(T,S),T.return=y,y=T;break e}n(y,x);break}else e(y,x);x=x.sibling}S.type===tf?(T=Cu(S.props.children,y.mode,T,S.key),T.return=y,y=T):(T=wg(S.type,S.key,S.props,null,y.mode,T),Th(T,S),T.return=y,y=T)}return o(y);case zh:e:{for(C=S.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(y,x.sibling),T=i(x,S.children||[]),T.return=y,y=T;break e}else{n(y,x);break}else e(y,x);x=x.sibling}T=Lb(S,y.mode,T),T.return=y,y=T}return o(y);case Js:return S=fu(S),w(y,x,S,T)}if(Vh(S))return v(y,x,S,T);if(wh(S)){if(C=wh(S),typeof C!="function")throw Error(Fe(150));return S=C.call(S),b(y,x,S,T)}if(typeof S.then=="function")return w(y,x,Fm(S),T);if(S.$$typeof===Xo)return w(y,x,Rm(y,S),T);$m(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,x!==null&&x.tag===6?(n(y,x.sibling),T=i(x,S),T.return=y,y=T):(n(y,x),T=jb(S,y.mode,T),T.return=y,y=T),o(y)):n(y,x)}return function(y,x,S,T){try{Dp=0;var C=w(y,x,S,T);return _f=null,C}catch(E){if(E===yd||E===Nv)throw E;var k=Ui(29,E,null,y.mode);return k.lanes=T,k.return=y,k}finally{}}}var Fu=nM(!0),rM=nM(!1),Xs=!1;function M5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ml(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Hg(t),Y6(t,null,n),e}return Cv(t,r,e,n),Hg(t)}function np(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x6(t,n)}}function Fb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ex=!1;function rp(){if(Ex){var t=Sf;if(t!==null)throw t}}function ip(t,e,n,r){Ex=!1;var i=t.updateQueue;Xs=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane&-536870913,h=p!==s.lane;if(h?(Ft&p)===p:(r&p)===p){p!==0&&p===Lf&&(Ex=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,b=s;p=e;var w=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(w,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(w,f,p):v,p==null)break e;f=Mn({},f,p);break e;case 2:Xs=!0}}p=s.callback,p!==null&&(t.flags|=64,h&&(t.flags|=8192),h=i.callbacks,h===null?i.callbacks=[p]:h.push(p))}else h={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),Dl|=o,t.lanes=o,t.memoizedState=f}}function iM(t,e){if(typeof t!="function")throw Error(Fe(191,t));t.call(e)}function aM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)iM(n[t],e)}var Rf=So(null),Wg=So(0);function HT(t,e){t=ds,wn(Wg,t),wn(Rf,e),ds=t|e.baseLanes}function kx(){wn(Wg,ds),wn(Rf,Rf.current)}function D5(){ds=Wg.current,Er(Rf),Er(Wg)}var Qi=So(null),Ta=null;function tl(t){var e=t.alternate;wn(Jn,Jn.current&1),wn(Qi,t),Ta===null&&(e===null||Rf.current!==null||e.memoizedState!==null)&&(Ta=t)}function Px(t){wn(Jn,Jn.current),wn(Qi,t),Ta===null&&(Ta=t)}function oM(t){t.tag===22?(wn(Jn,Jn.current),wn(Qi,t),Ta===null&&(Ta=t)):nl()}function nl(){wn(Jn,Jn.current),wn(Qi,Qi.current)}function Bi(t){Er(Qi),Ta===t&&(Ta=null),Er(Jn)}var Jn=So(0);function Yg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Kx(n)||Jx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var us=0,Et=null,un=null,ir=null,Kg=!1,Tf=!1,$u=!1,Jg=0,Op=0,Cf=null,GF=0;function $n(){throw Error(Fe(321))}function O5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xi(t[n],e[n]))return!1;return!0}function I5(t,e,n,r,i,a){return us=a,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yt.H=t===null||t.memoizedState===null?RM:V5,$u=!1,a=n(r,i),$u=!1,Tf&&(a=lM(e,n,r,i)),sM(t),a}function sM(t){yt.H=Ip;var e=un!==null&&un.next!==null;if(us=0,ir=un=Et=null,Kg=!1,Op=0,Cf=null,e)throw Error(Fe(300));t===null||sr||(t=t.dependencies,t!==null&&Vg(t)&&(sr=!0))}function lM(t,e,n,r){Et=t;var i=0;do{if(Tf&&(Cf=null),Op=0,Tf=!1,25<=i)throw Error(Fe(301));if(i+=1,ir=un=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}yt.H=FM,a=e(n,r)}while(Tf);return a}function WF(){var t=yt.H,e=t.useState()[0];return e=typeof e.then=="function"?MA(e):e,t=t.useState()[0],(un!==null?un.memoizedState:null)!==t&&(Et.flags|=1024),e}function j5(){var t=Jg!==0;return Jg=0,t}function L5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function R5(t){if(Kg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Kg=!1}us=0,ir=un=Et=null,Tf=!1,Op=Jg=0,Cf=null}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Et.memoizedState=ir=t:ir=ir.next=t,ir}function Xn(){if(un===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var e=ir===null?Et.memoizedState:ir.next;if(e!==null)ir=e,un=t;else{if(t===null)throw Et.alternate===null?Error(Fe(467)):Error(Fe(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},ir===null?Et.memoizedState=ir=t:ir=ir.next=t}return ir}function Ev(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function MA(t){var e=Op;return Op+=1,Cf===null&&(Cf=[]),t=tM(Cf,t,e),e=Et,(ir===null?e.memoizedState:ir.next)===null&&(e=e.alternate,yt.H=e===null||e.memoizedState===null?RM:V5),t}function kv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return MA(t);if(t.$$typeof===Xo)return Rr(t)}throw Error(Fe(438,String(t)))}function F5(t){var e=null,n=Et.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Et.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ev(),Et.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=D7;return e.index++,n}function cs(t,e){return typeof e=="function"?e(t):e}function _g(t){var e=Xn();return $5(e,un,t)}function $5(t,e,n){var r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ft&f)===f:(us&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Lf&&(c=!0);else if((us&p)===p){u=u.next,p===Lf&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,Et.lanes|=p,Dl|=p;f=u.action,$u&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=p,o=a):l=l.next=p,Et.lanes|=f,Dl|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!Xi(a,t.memoizedState)&&(sr=!0,c&&(n=Sf,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function $b(t){var e=Xn(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Xi(a,e.memoizedState)||(sr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function uM(t,e,n){var r=Et,i=Xn(),a=$t;if(a){if(n===void 0)throw Error(Fe(407));n=n()}else n=e();var o=!Xi((un||i).memoizedState,n);if(o&&(i.memoizedState=n,sr=!0),i=i.queue,B5(dM.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,Ff(9,{destroy:void 0},fM.bind(null,r,i,n,e),null),An===null)throw Error(Fe(349));a||us&127||cM(r,e,n)}return n}function cM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e=Ev(),Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fM(t,e,n,r){e.value=n,e.getSnapshot=r,hM(e)&&pM(t)}function dM(t,e,n){return n(function(){hM(e)&&pM(t)})}function hM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xi(t,n)}catch{return!0}}function pM(t){var e=Xu(t,2);e!==null&&Ti(e,t,2)}function Mx(t){var e=ni();if(typeof t=="function"){var n=t;if(t=n(),$u){sl(!0);try{n()}finally{sl(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},e}function AM(t,e,n,r){return t.baseState=n,$5(t,un,typeof r=="function"?r:cs)}function YF(t,e,n,r,i){if(Mv(t))throw Error(Fe(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};yt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,mM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function mM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=yt.T,o={};yt.T=o;try{var s=n(i,r),l=yt.S;l!==null&&l(o,s),zT(t,e,s)}catch(u){Dx(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),yt.T=a}}else try{a=n(i,r),zT(t,e,a)}catch(u){Dx(t,e,u)}}function zT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){VT(t,e,r)},function(r){return Dx(t,e,r)}):VT(t,e,n)}function VT(t,e,n){e.status="fulfilled",e.value=n,gM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,mM(t,n)))}function Dx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,gM(e),e=e.next;while(e!==r)}t.action=null}function gM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function vM(t,e){return e}function GT(t,e){if($t){var n=An.formState;if(n!==null){e:{var r=Et;if($t){if(En){t:{for(var i=En,a=wa;i.nodeType!==8;){if(!a){i=null;break t}if(i=Ca(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){En=Ca(i.nextSibling),r=i.data==="F!";break e}}Pl(r)}r=!1}r&&(e=n[0])}}return n=ni(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vM,lastRenderedState:e},n.queue=r,n=IM.bind(null,Et,r),r.dispatch=n,r=Mx(!1),a=z5.bind(null,Et,!1,r.queue),r=ni(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=YF.bind(null,Et,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function WT(t){var e=Xn();return yM(e,un,t)}function yM(t,e,n){if(e=$5(t,e,vM)[0],t=_g(cs)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=MA(e)}catch(o){throw o===yd?Nv:o}else r=e;e=Xn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Et.flags|=2048,Ff(9,{destroy:void 0},KF.bind(null,i,n),null)),[r,a,t]}function KF(t,e){t.action=e}function YT(t){var e=Xn(),n=un;if(n!==null)return yM(e,n,t);Xn(),e=e.memoizedState,n=Xn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ff(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Et.updateQueue,e===null&&(e=Ev(),Et.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function bM(){return Xn().memoizedState}function Tg(t,e,n,r){var i=ni();Et.flags|=t,i.memoizedState=Ff(1|e,{destroy:void 0},n,r===void 0?null:r)}function Pv(t,e,n,r){var i=Xn();r=r===void 0?null:r;var a=i.memoizedState.inst;un!==null&&r!==null&&O5(r,un.memoizedState.deps)?i.memoizedState=Ff(e,a,n,r):(Et.flags|=t,i.memoizedState=Ff(1|e,a,n,r))}function KT(t,e){Tg(8390656,8,t,e)}function B5(t,e){Pv(2048,8,t,e)}function JF(t){Et.flags|=4;var e=Et.updateQueue;if(e===null)e=Ev(),Et.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function xM(t){var e=Xn().memoizedState;return JF({ref:e,nextImpl:t}),function(){if(Wt&2)throw Error(Fe(440));return e.impl.apply(void 0,arguments)}}function wM(t,e){return Pv(4,2,t,e)}function SM(t,e){return Pv(4,4,t,e)}function _M(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TM(t,e,n){n=n!=null?n.concat([t]):null,Pv(4,4,_M.bind(null,e,t),n)}function U5(){}function CM(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&O5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NM(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&O5(e,r[1]))return r[0];if(r=t(),$u){sl(!0);try{t()}finally{sl(!1)}}return n.memoizedState=[r,e],r}function q5(t,e,n){return n===void 0||us&1073741824&&!(Ft&261930)?t.memoizedState=e:(t.memoizedState=n,t=AD(),Et.lanes|=t,Dl|=t,n)}function EM(t,e,n,r){return Xi(n,e)?n:Rf.current!==null?(t=q5(t,n,r),Xi(t,e)||(sr=!0),t):!(us&42)||us&1073741824&&!(Ft&261930)?(sr=!0,t.memoizedState=n):(t=AD(),Et.lanes|=t,Dl|=t,e)}function kM(t,e,n,r,i){var a=Yt.p;Yt.p=a!==0&&8>a?a:8;var o=yt.T,s={};yt.T=s,z5(t,!1,e,n);try{var l=i(),u=yt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=VF(l,r);ap(t,e,c,Ki(t))}else ap(t,e,r,Ki(t))}catch(f){ap(t,e,{then:function(){},status:"rejected",reason:f},Ki())}finally{Yt.p=a,o!==null&&s.types!==null&&(o.types=s.types),yt.T=o}}function XF(){}function Ox(t,e,n,r){if(t.tag!==5)throw Error(Fe(476));var i=PM(t).queue;kM(t,i,e,Tu,n===null?XF:function(){return MM(t),n(r)})}function PM(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Tu,baseState:Tu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:Tu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function MM(t){var e=PM(t);e.next===null&&(e=t.alternate.memoizedState),ap(t,e.next.queue,{},Ki())}function H5(){return Rr(Rp)}function DM(){return Xn().memoizedState}function OM(){return Xn().memoizedState}function QF(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ki();t=ml(n);var r=gl(e,t,n);r!==null&&(Ti(r,e,n),np(r,e,n)),e={cache:E5()},t.payload=e;return}e=e.return}}function ZF(t,e,n){var r=Ki();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Mv(t)?jM(e,n):(n=_5(t,e,n,r),n!==null&&(Ti(n,t,r),LM(n,e,r)))}function IM(t,e,n){var r=Ki();ap(t,e,n,r)}function ap(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mv(t))jM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xi(s,o))return Cv(t,e,i,0),An===null&&Tv(),!1}catch{}finally{}if(n=_5(t,e,i,r),n!==null)return Ti(n,t,r),LM(n,e,r),!0}return!1}function z5(t,e,n,r){if(r={lane:2,revertLane:Z5(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Mv(t)){if(e)throw Error(Fe(479))}else e=_5(t,n,r,2),e!==null&&Ti(e,t,2)}function Mv(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function jM(t,e){Tf=Kg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LM(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x6(t,n)}}var Ip={readContext:Rr,use:kv,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};Ip.useEffectEvent=$n;var RM={readContext:Rr,use:kv,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:Rr,useEffect:KT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Tg(4194308,4,_M.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tg(4194308,4,t,e)},useInsertionEffect:function(t,e){Tg(4,2,t,e)},useMemo:function(t,e){var n=ni();e=e===void 0?null:e;var r=t();if($u){sl(!0);try{t()}finally{sl(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=ni();if(n!==void 0){var i=n(e);if($u){sl(!0);try{n(e)}finally{sl(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=ZF.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:function(t){t=Mx(t);var e=t.queue,n=IM.bind(null,Et,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:U5,useDeferredValue:function(t,e){var n=ni();return q5(n,t,e)},useTransition:function(){var t=Mx(!1);return t=kM.bind(null,Et,t.queue,!0,!1),ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Et,i=ni();if($t){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),An===null)throw Error(Fe(349));Ft&127||cM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,KT(dM.bind(null,r,a,t),[t]),r.flags|=2048,Ff(9,{destroy:void 0},fM.bind(null,r,a,n,e),null),n},useId:function(){var t=ni(),e=An.identifierPrefix;if($t){var n=po,r=ho;n=(r&~(1<<32-Yi(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Jg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=GF++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:H5,useFormState:GT,useActionState:GT,useOptimistic:function(t){var e=ni();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=z5.bind(null,Et,!0,n),n.dispatch=e,[t,e]},useMemoCache:F5,useCacheRefresh:function(){return ni().memoizedState=QF.bind(null,Et)},useEffectEvent:function(t){var e=ni(),n={impl:t};return e.memoizedState=n,function(){if(Wt&2)throw Error(Fe(440));return n.impl.apply(void 0,arguments)}}},V5={readContext:Rr,use:kv,useCallback:CM,useContext:Rr,useEffect:B5,useImperativeHandle:TM,useInsertionEffect:wM,useLayoutEffect:SM,useMemo:NM,useReducer:_g,useRef:bM,useState:function(){return _g(cs)},useDebugValue:U5,useDeferredValue:function(t,e){var n=Xn();return EM(n,un.memoizedState,t,e)},useTransition:function(){var t=_g(cs)[0],e=Xn().memoizedState;return[typeof t=="boolean"?t:MA(t),e]},useSyncExternalStore:uM,useId:DM,useHostTransitionStatus:H5,useFormState:WT,useActionState:WT,useOptimistic:function(t,e){var n=Xn();return AM(n,un,t,e)},useMemoCache:F5,useCacheRefresh:OM};V5.useEffectEvent=xM;var FM={readContext:Rr,use:kv,useCallback:CM,useContext:Rr,useEffect:B5,useImperativeHandle:TM,useInsertionEffect:wM,useLayoutEffect:SM,useMemo:NM,useReducer:$b,useRef:bM,useState:function(){return $b(cs)},useDebugValue:U5,useDeferredValue:function(t,e){var n=Xn();return un===null?q5(n,t,e):EM(n,un.memoizedState,t,e)},useTransition:function(){var t=$b(cs)[0],e=Xn().memoizedState;return[typeof t=="boolean"?t:MA(t),e]},useSyncExternalStore:uM,useId:DM,useHostTransitionStatus:H5,useFormState:YT,useActionState:YT,useOptimistic:function(t,e){var n=Xn();return un!==null?AM(n,un,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:F5,useCacheRefresh:OM};FM.useEffectEvent=xM;function Bb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ix={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ki(),i=ml(r);i.payload=e,n!=null&&(i.callback=n),e=gl(t,i,r),e!==null&&(Ti(e,t,r),np(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ki(),i=ml(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=gl(t,i,r),e!==null&&(Ti(e,t,r),np(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ki(),r=ml(n);r.tag=2,e!=null&&(r.callback=e),e=gl(t,r,n),e!==null&&(Ti(e,t,n),np(e,t,n))}};function JT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!kp(n,r)||!kp(i,a):!0}function XT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ix.enqueueReplaceState(e,e.state,null)}function Bu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Mn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function $M(t){qg(t)}function BM(t){console.error(t)}function UM(t){qg(t)}function Xg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function QT(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function jx(t,e,n){return n=ml(n),n.tag=3,n.payload={element:null},n.callback=function(){Xg(t,e)},n}function qM(t){return t=ml(t),t.tag=3,t}function HM(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){QT(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){QT(e,n,r),typeof i!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function e$(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&vd(e,n,i,!0),n=Qi.current,n!==null){switch(n.tag){case 31:case 13:return Ta===null?n0():n.alternate===null&&qn===0&&(qn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Xb(t,r,i)),!1;case 22:return n.flags|=65536,r===Gg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Xb(t,r,i)),!1}throw Error(Fe(435,n.tag))}return Xb(t,r,i),n0(),!1}if($t)return e=Qi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==wx&&(t=Error(Fe(422),{cause:r}),Mp(xa(t,n)))):(r!==wx&&(e=Error(Fe(423),{cause:r}),Mp(xa(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=xa(r,n),i=jx(t.stateNode,r,i),Fb(t,i),qn!==4&&(qn=2)),!1;var a=Error(Fe(520),{cause:r});if(a=xa(a,n),lp===null?lp=[a]:lp.push(a),qn!==4&&(qn=2),e===null)return!0;r=xa(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=jx(n.stateNode,r,t),Fb(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(vl===null||!vl.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=qM(i),HM(i,t,n,r),Fb(n,i),!1}n=n.return}while(n!==null);return!1}var G5=Error(Fe(461)),sr=!1;function Ir(t,e,n,r){e.child=t===null?rM(e,null,n,r):Fu(e,t.child,n,r)}function ZT(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return Ru(e),r=I5(t,e,n,o,a,i),s=j5(),t!==null&&!sr?(L5(t,e,i),fs(t,e,i)):($t&&s&&C5(e),e.flags|=1,Ir(t,e,r,i),e.child)}function eC(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!T5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,zM(t,e,a,r,i)):(t=wg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!W5(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:kp,n(o,r)&&t.ref===e.ref)return fs(t,e,i)}return e.flags|=1,t=rs(a,r),t.ref=e.ref,t.return=e,e.child=t}function zM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(kp(a,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=a,W5(t,i))t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,fs(t,e,i)}return Lx(t,e,n,r,i)}function VM(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return tC(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sg(e,a!==null?a.cachePool:null),a!==null?HT(e,a):kx(),oM(e);else return r=e.lanes=536870912,tC(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Sg(e,a.cachePool),HT(e,a),nl(),e.memoizedState=null):(t!==null&&Sg(e,null),kx(),nl());return Ir(t,e,i,n),e.child}function Wh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function tC(t,e,n,r,i){var a=k5();return a=a===null?null:{parent:or._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Sg(e,null),kx(),oM(e),t!==null&&vd(t,e,r,!0),e.childLanes=i,null}function Cg(t,e){return e=Qg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function nC(t,e,n){return Fu(e,t.child,null,n),t=Cg(e,e.pendingProps),t.flags|=2,Bi(e),e.memoizedState=null,t}function t$(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if($t){if(r.mode==="hidden")return t=Cg(e,r),e.lanes=536870912,Wh(null,t);if(Px(e),(t=En)?(t=RD(t,wa),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:kl!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},n=J6(t),n.return=e,e.child=n,Lr=e,En=null)):t=null,t===null)throw Pl(e);return e.lanes=536870912,null}return Cg(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(Px(e),i)if(e.flags&256)e.flags&=-257,e=nC(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Fe(558));else if(sr||vd(t,e,n,!1),i=(n&t.childLanes)!==0,sr||i){if(r=An,r!==null&&(o=w6(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,Xu(t,o),Ti(r,t,o),G5;n0(),e=nC(t,e,n)}else t=a.treeContext,En=Ca(o.nextSibling),Lr=e,$t=!0,Al=null,wa=!1,t!==null&&Q6(e,t),e=Cg(e,r),e.flags|=4096;return e}return t=rs(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Ng(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Fe(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Lx(t,e,n,r,i){return Ru(e),n=I5(t,e,n,r,void 0,i),r=j5(),t!==null&&!sr?(L5(t,e,i),fs(t,e,i)):($t&&r&&C5(e),e.flags|=1,Ir(t,e,n,i),e.child)}function rC(t,e,n,r,i,a){return Ru(e),e.updateQueue=null,n=lM(e,r,n,i),sM(t),r=j5(),t!==null&&!sr?(L5(t,e,a),fs(t,e,a)):($t&&r&&C5(e),e.flags|=1,Ir(t,e,n,a),e.child)}function iC(t,e,n,r,i){if(Ru(e),e.stateNode===null){var a=cf,o=n.contextType;typeof o=="object"&&o!==null&&(a=Rr(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ix,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},M5(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Rr(o):cf,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Bb(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Ix.enqueueReplaceState(a,a.state,null),ip(e,r,a,i),rp(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=Bu(n,s);a.props=l;var u=a.context,c=n.contextType;o=cf,typeof c=="object"&&c!==null&&(o=Rr(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&XT(e,a,r,o),Xs=!1;var p=e.memoizedState;a.state=p,ip(e,r,a,i),rp(),u=e.memoizedState,s||p!==u||Xs?(typeof f=="function"&&(Bb(e,n,f,r),u=e.memoizedState),(l=Xs||JT(e,n,l,r,p,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Nx(t,e),o=e.memoizedProps,c=Bu(n,o),a.props=c,f=e.pendingProps,p=a.context,u=n.contextType,l=cf,typeof u=="object"&&u!==null&&(l=Rr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&XT(e,a,r,l),Xs=!1,p=e.memoizedState,a.state=p,ip(e,r,a,i),rp();var h=e.memoizedState;o!==f||p!==h||Xs||t!==null&&t.dependencies!==null&&Vg(t.dependencies)?(typeof s=="function"&&(Bb(e,n,s,r),h=e.memoizedState),(c=Xs||JT(e,n,c,r,p,h,l)||t!==null&&t.dependencies!==null&&Vg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,h,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Ng(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Fu(e,t.child,null,i),e.child=Fu(e,null,n,i)):Ir(t,e,n,i),e.memoizedState=a.state,t=e.child):t=fs(t,e,i),t}function aC(t,e,n,r){return Lu(),e.flags|=256,Ir(t,e,n,r),e.child}var Ub={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qb(t){return{baseLanes:t,cachePool:eM()}}function Hb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=zi),t}function GM(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(Jn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if($t){if(i?tl(e):nl(),(t=En)?(t=RD(t,wa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:kl!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},n=J6(t),n.return=e,e.child=n,Lr=e,En=null)):t=null,t===null)throw Pl(e);return Jx(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(nl(),i=e.mode,s=Qg({mode:"hidden",children:s},i),r=Cu(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=qb(n),r.childLanes=Hb(t,o,n),e.memoizedState=Ub,Wh(null,r)):(tl(e),Rx(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(tl(e),e.flags&=-257,e=zb(t,e,n)):e.memoizedState!==null?(nl(),e.child=t.child,e.flags|=128,e=null):(nl(),s=r.fallback,i=e.mode,r=Qg({mode:"visible",children:r.children},i),s=Cu(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,Fu(e,t.child,null,n),r=e.child,r.memoizedState=qb(n),r.childLanes=Hb(t,o,n),e.memoizedState=Ub,e=Wh(null,r));else if(tl(e),Jx(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(Fe(419)),r.stack="",r.digest=o,Mp({value:r,source:null,stack:null}),e=zb(t,e,n)}else if(sr||vd(t,e,n,!1),o=(n&t.childLanes)!==0,sr||o){if(o=An,o!==null&&(r=w6(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Xu(t,r),Ti(o,t,r),G5;Kx(s)||n0(),e=zb(t,e,n)}else Kx(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,En=Ca(s.nextSibling),Lr=e,$t=!0,Al=null,wa=!1,t!==null&&Q6(e,t),e=Rx(e,r.children),e.flags|=4096);return e}return i?(nl(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=rs(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=rs(u,s):(s=Cu(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,Wh(null,r),r=e.child,s=t.child.memoizedState,s===null?s=qb(n):(i=s.cachePool,i!==null?(l=or._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=eM(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Hb(t,o,n),e.memoizedState=Ub,Wh(t.child,r)):(tl(e),n=t.child,t=n.sibling,n=rs(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Rx(t,e){return e=Qg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Qg(t,e){return t=Ui(22,t,null,e),t.lanes=0,t}function zb(t,e,n){return Fu(e,t.child,null,n),t=Rx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_x(t.return,e,n)}function Vb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function WM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Jn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,wn(Jn,o),Ir(t,e,r,n),r=$t?Pp:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oC(t,n,e);else if(t.tag===19)oC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Yg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vb(e,!0,n,null,a,r);break;case"together":Vb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dl|=e.lanes,!(n&e.childLanes))if(t!==null){if(vd(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function W5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Vg(t)))}function n$(t,e,n){switch(e.tag){case 3:Fg(e,e.stateNode.containerInfo),el(e,or,t.memoizedState.cache),Lu();break;case 27:case 5:fx(e);break;case 4:Fg(e,e.stateNode.containerInfo);break;case 10:el(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Px(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(tl(e),e.flags|=128,null):n&e.child.childLanes?GM(t,e,n):(tl(e),t=fs(t,e,n),t!==null?t.sibling:null);tl(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(vd(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return WM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Jn,Jn.current),r)break;return null;case 22:return e.lanes=0,VM(t,e,n,e.pendingProps);case 24:el(e,or,t.memoizedState.cache)}return fs(t,e,n)}function YM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)sr=!0;else{if(!W5(t,n)&&!(e.flags&128))return sr=!1,n$(t,e,n);sr=!!(t.flags&131072)}else sr=!1,$t&&e.flags&1048576&&X6(e,Pp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=fu(e.elementType),e.type=t,typeof t=="function")T5(t)?(r=Bu(t,r),e.tag=1,e=iC(null,e,t,r,n)):(e.tag=0,e=Lx(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===f5){e.tag=11,e=ZT(null,e,t,r,n);break e}else if(i===d5){e.tag=14,e=eC(null,e,t,r,n);break e}}throw e=ux(t)||t,Error(Fe(306,e,""))}}return e;case 0:return Lx(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Bu(r,e.pendingProps),iC(t,e,r,i,n);case 3:e:{if(Fg(e,e.stateNode.containerInfo),t===null)throw Error(Fe(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Nx(t,e),ip(e,r,null,n);var o=e.memoizedState;if(r=o.cache,el(e,or,r),r!==a.cache&&Tx(e,[or],n,!0),rp(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=aC(t,e,r,n);break e}else if(r!==i){i=xa(Error(Fe(424)),e),Mp(i),e=aC(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(En=Ca(t.firstChild),Lr=e,$t=!0,Al=null,wa=!0,n=rM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Lu(),r===i){e=fs(t,e,n);break e}Ir(t,e,r,n)}e=e.child}return e;case 26:return Ng(t,e),t===null?(n=CC(e.type,null,e.pendingProps,null))?e.memoizedState=n:$t||(n=e.type,t=e.pendingProps,r=o0(pl.current).createElement(n),r[jr]=e,r[Ci]=t,Fr(r,n,t),Cr(r),e.stateNode=r):e.memoizedState=CC(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return fx(e),t===null&&$t&&(r=e.stateNode=FD(e.type,e.pendingProps,pl.current),Lr=e,wa=!0,i=En,Rl(e.type)?(Xx=i,En=Ca(r.firstChild)):En=i),Ir(t,e,e.pendingProps.children,n),Ng(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&$t&&((i=r=En)&&(r=D$(r,e.type,e.pendingProps,wa),r!==null?(e.stateNode=r,Lr=e,En=Ca(r.firstChild),wa=!1,i=!0):i=!1),i||Pl(e)),fx(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,Wx(i,a)?r=null:o!==null&&Wx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=I5(t,e,WF,null,null,n),Rp._currentValue=i),Ng(t,e),Ir(t,e,r,n),e.child;case 6:return t===null&&$t&&((t=n=En)&&(n=O$(n,e.pendingProps,wa),n!==null?(e.stateNode=n,Lr=e,En=null,t=!0):t=!1),t||Pl(e)),null;case 13:return GM(t,e,n);case 4:return Fg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fu(e,null,r,n):Ir(t,e,r,n),e.child;case 11:return ZT(t,e,e.type,e.pendingProps,n);case 7:return Ir(t,e,e.pendingProps,n),e.child;case 8:return Ir(t,e,e.pendingProps.children,n),e.child;case 12:return Ir(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,el(e,e.type,r.value),Ir(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Ru(e),i=Rr(i),r=r(i),e.flags|=1,Ir(t,e,r,n),e.child;case 14:return eC(t,e,e.type,e.pendingProps,n);case 15:return zM(t,e,e.type,e.pendingProps,n);case 19:return WM(t,e,n);case 31:return t$(t,e,n);case 22:return VM(t,e,n,e.pendingProps);case 24:return Ru(e),r=Rr(or),t===null?(i=k5(),i===null&&(i=An,a=E5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},M5(e),el(e,or,i)):(t.lanes&n&&(Nx(t,e),ip(e,null,null,n),rp()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),el(e,or,r)):(r=a.cache,el(e,or,r),r!==i.cache&&Tx(e,[or],n,!0))),Ir(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Fe(156,e.tag))}function Uo(t){t.flags|=4}function Gb(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(vD())t.flags|=8192;else throw Eu=Gg,P5}else t.flags&=-16777217}function sC(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!UD(e))if(vD())t.flags|=8192;else throw Eu=Gg,P5}function Bm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?y6():536870912,t.lanes|=e,$f|=e)}function Ch(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function r$(t,e,n){var r=e.pendingProps;switch(N5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return _n(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),is(or),Of(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(jc(e)?Uo(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rb())),_n(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Uo(e),a!==null?(_n(e),sC(e,a)):(_n(e),Gb(e,i,null,r,n))):a?a!==t.memoizedState?(Uo(e),_n(e),sC(e,a)):(_n(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Uo(e),_n(e),Gb(e,i,t,r,n)),null;case 27:if($g(e),n=pl.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Uo(e);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return _n(e),null}t=vo.current,jc(e)?LT(e):(t=FD(i,r,n),e.stateNode=t,Uo(e))}return _n(e),null;case 5:if($g(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Uo(e);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return _n(e),null}if(a=vo.current,jc(e))LT(e);else{var o=o0(pl.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[jr]=e,a[Ci]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(Fr(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Uo(e)}}return _n(e),Gb(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Uo(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(t=pl.current,jc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Lr,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[jr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||ID(t.nodeValue,n)),t||Pl(e,!0)}else t=o0(t).createTextNode(r),t[jr]=e,e.stateNode=t}return _n(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=jc(e),n!==null){if(t===null){if(!r)throw Error(Fe(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(557));t[jr]=e}else Lu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),t=!1}else n=Rb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Bi(e),e):(Bi(e),null);if(e.flags&128)throw Error(Fe(558))}return _n(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));i[jr]=e}else Lu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else i=Rb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Bi(e),e):(Bi(e),null)}return Bi(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Bm(e,e.updateQueue),_n(e),null);case 4:return Of(),t===null&&eS(e.stateNode.containerInfo),_n(e),null;case 10:return is(e.type),_n(e),null;case 19:if(Er(Jn),r=e.memoizedState,r===null)return _n(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Ch(r,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Yg(t),a!==null){for(e.flags|=128,Ch(r,!1),t=a.updateQueue,e.updateQueue=t,Bm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)K6(n,t),n=n.sibling;return wn(Jn,Jn.current&1|2),$t&&Ko(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Gi()>e0&&(e.flags|=128,i=!0,Ch(r,!1),e.lanes=4194304)}else{if(!i)if(t=Yg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Bm(e,t),Ch(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!$t)return _n(e),null}else 2*Gi()-r.renderingStartTime>e0&&n!==536870912&&(e.flags|=128,i=!0,Ch(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Gi(),t.sibling=null,n=Jn.current,wn(Jn,i?n&1|2:n&1),$t&&Ko(e,r.treeForkCount),t):(_n(e),null);case 22:case 23:return Bi(e),D5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),n=e.updateQueue,n!==null&&Bm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Er(Nu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),is(or),_n(e),null;case 25:return null;case 30:return null}throw Error(Fe(156,e.tag))}function i$(t,e){switch(N5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return is(or),Of(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $g(e),null;case 31:if(e.memoizedState!==null){if(Bi(e),e.alternate===null)throw Error(Fe(340));Lu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Bi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));Lu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Er(Jn),null;case 4:return Of(),null;case 10:return is(e.type),null;case 22:case 23:return Bi(e),D5(),t!==null&&Er(Nu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return is(or),null;case 25:return null;default:return null}}function KM(t,e){switch(N5(e),e.tag){case 3:is(or),Of();break;case 26:case 27:case 5:$g(e);break;case 4:Of();break;case 31:e.memoizedState!==null&&Bi(e);break;case 13:Bi(e);break;case 19:Er(Jn);break;case 10:is(e.type);break;case 22:case 23:Bi(e),D5(),t!==null&&Er(Nu);break;case 24:is(or)}}function DA(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){en(e,e.return,s)}}function Ml(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){en(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){en(e,e.return,c)}}function JM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{aM(e,n)}catch(r){en(t,t.return,r)}}}function XM(t,e,n){n.props=Bu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){en(t,e,r)}}function op(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){en(t,e,i)}}function Ao(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){en(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){en(t,e,i)}else n.current=null}function QM(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){en(t,t.return,i)}}function Wb(t,e,n){try{var r=t.stateNode;C$(r,t.type,n,e),r[Ci]=e}catch(i){en(t,t.return,i)}}function ZM(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rl(t.type)||t.tag===4}function Yb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qo));else if(r!==4&&(r===27&&Rl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Fx(t,e,n),t=t.sibling;t!==null;)Fx(t,e,n),t=t.sibling}function Zg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Rl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Zg(t,e,n),t=t.sibling;t!==null;)Zg(t,e,n),t=t.sibling}function eD(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Fr(e,r,n),e[jr]=t,e[Ci]=n}catch(a){en(t,t.return,a)}}var Jo=!1,ar=!1,Kb=!1,lC=typeof WeakSet=="function"?WeakSet:Set,Tr=null;function a$(t,e){if(t=t.containerInfo,Vx=c0,t=U6(t),w5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===t)break t;if(p===n&&++u===i&&(s=o),p===a&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gx={focusedElem:t,selectionRange:n},c0=!1,Tr=e;Tr!==null;)if(e=Tr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Tr=t;else for(;Tr!==null;){switch(e=Tr,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=Bu(n.type,i);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){en(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Yx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Fe(163))}if(t=e.sibling,t!==null){t.return=e.return,Tr=t;break}Tr=e.return}}function tD(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ho(t,n),r&4&&DA(5,n);break;case 1:if(Ho(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){en(n,n.return,o)}else{var i=Bu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){en(n,n.return,o)}}r&64&&JM(n),r&512&&op(n,n.return);break;case 3:if(Ho(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{aM(t,e)}catch(o){en(n,n.return,o)}}break;case 27:e===null&&r&4&&eD(n);case 26:case 5:Ho(t,n),e===null&&r&4&&QM(n),r&512&&op(n,n.return);break;case 12:Ho(t,n);break;case 31:Ho(t,n),r&4&&iD(t,n);break;case 13:Ho(t,n),r&4&&aD(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=p$.bind(null,n),I$(t,n))));break;case 22:if(r=n.memoizedState!==null||Jo,!r){e=e!==null&&e.memoizedState!==null||ar,i=Jo;var a=ar;Jo=r,(ar=e)&&!a?Go(t,n,(n.subtreeFlags&8772)!==0):Ho(t,n),Jo=i,ar=a}break;case 30:break;default:Ho(t,n)}}function nD(t){var e=t.alternate;e!==null&&(t.alternate=null,nD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&m5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dn=null,xi=!1;function qo(t,e,n){for(n=n.child;n!==null;)rD(t,e,n),n=n.sibling}function rD(t,e,n){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(TA,n)}catch{}switch(n.tag){case 26:ar||Ao(n,e),qo(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ar||Ao(n,e);var r=Dn,i=xi;Rl(n.type)&&(Dn=n.stateNode,xi=!1),qo(t,e,n),cp(n.stateNode),Dn=r,xi=i;break;case 5:ar||Ao(n,e);case 6:if(r=Dn,i=xi,Dn=null,qo(t,e,n),Dn=r,xi=i,Dn!==null)if(xi)try{(Dn.nodeType===9?Dn.body:Dn.nodeName==="HTML"?Dn.ownerDocument.body:Dn).removeChild(n.stateNode)}catch(a){en(n,e,a)}else try{Dn.removeChild(n.stateNode)}catch(a){en(n,e,a)}break;case 18:Dn!==null&&(xi?(t=Dn,xC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Hf(t)):xC(Dn,n.stateNode));break;case 4:r=Dn,i=xi,Dn=n.stateNode.containerInfo,xi=!0,qo(t,e,n),Dn=r,xi=i;break;case 0:case 11:case 14:case 15:Ml(2,n,e),ar||Ml(4,n,e),qo(t,e,n);break;case 1:ar||(Ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&XM(n,e,r)),qo(t,e,n);break;case 21:qo(t,e,n);break;case 22:ar=(r=ar)||n.memoizedState!==null,qo(t,e,n),ar=r;break;default:qo(t,e,n)}}function iD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Hf(t)}catch(n){en(e,e.return,n)}}}function aD(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hf(t)}catch(n){en(e,e.return,n)}}function o$(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new lC),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new lC),e;default:throw Error(Fe(435,t.tag))}}function Um(t,e){var n=o$(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=A$.bind(null,t,r);r.then(i,i)}})}function vi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(Rl(s.type)){Dn=s.stateNode,xi=!1;break e}break;case 5:Dn=s.stateNode,xi=!1;break e;case 3:case 4:Dn=s.stateNode.containerInfo,xi=!0;break e}s=s.return}if(Dn===null)throw Error(Fe(160));rD(a,o,i),Dn=null,xi=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)oD(e,t),e=e.sibling}var Ga=null;function oD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vi(e,t),yi(t),r&4&&(Ml(3,t,t.return),DA(3,t),Ml(5,t,t.return));break;case 1:vi(e,t),yi(t),r&512&&(ar||n===null||Ao(n,n.return)),r&64&&Jo&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ga;if(vi(e,t),yi(t),r&512&&(ar||n===null||Ao(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[EA]||a[jr]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Fr(a,r,n),a[jr]=t,Cr(a),r=a;break e;case"link":var o=EC("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Fr(a,r,n),i.head.appendChild(a);break;case"meta":if(o=EC("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Fr(a,r,n),i.head.appendChild(a);break;default:throw Error(Fe(468,r))}a[jr]=t,Cr(a),r=a}t.stateNode=r}else kC(i,t.type,t.stateNode);else t.stateNode=NC(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?kC(i,t.type,t.stateNode):NC(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Wb(t,t.memoizedProps,n.memoizedProps)}break;case 27:vi(e,t),yi(t),r&512&&(ar||n===null||Ao(n,n.return)),n!==null&&r&4&&Wb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(vi(e,t),yi(t),r&512&&(ar||n===null||Ao(n,n.return)),t.flags&32){i=t.stateNode;try{jf(i,"")}catch(v){en(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Wb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Kb=!0);break;case 6:if(vi(e,t),yi(t),r&4){if(t.stateNode===null)throw Error(Fe(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){en(t,t.return,v)}}break;case 3:if(Pg=null,i=Ga,Ga=s0(e.containerInfo),vi(e,t),Ga=i,yi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hf(e.containerInfo)}catch(v){en(t,t.return,v)}Kb&&(Kb=!1,sD(t));break;case 4:r=Ga,Ga=s0(t.stateNode.containerInfo),vi(e,t),yi(t),Ga=r;break;case 12:vi(e,t),yi(t);break;case 31:vi(e,t),yi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Um(t,r)));break;case 13:vi(e,t),yi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Dv=Gi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Um(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Jo,c=ar;if(Jo=u||i,ar=c||l,vi(e,t),ar=c,Jo=u,yi(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Jo||ar||du(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(v){en(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){en(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var h=l.stateNode;i?wC(h,!0):wC(l.stateNode,!1)}catch(v){en(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Um(t,n))));break;case 19:vi(e,t),yi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Um(t,r)));break;case 30:break;case 21:break;default:vi(e,t),yi(t)}}function yi(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(ZM(r)){n=r;break}r=r.return}if(n==null)throw Error(Fe(160));switch(n.tag){case 27:var i=n.stateNode,a=Yb(t);Zg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(jf(o,""),n.flags&=-33);var s=Yb(t);Zg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Yb(t);Fx(t,u,l);break;default:throw Error(Fe(161))}}catch(c){en(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sD(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;sD(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ho(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)tD(t,e.alternate,e),e=e.sibling}function du(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ml(4,e,e.return),du(e);break;case 1:Ao(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&XM(e,e.return,n),du(e);break;case 27:cp(e.stateNode);case 26:case 5:Ao(e,e.return),du(e);break;case 22:e.memoizedState===null&&du(e);break;case 30:du(e);break;default:du(e)}t=t.sibling}}function Go(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:Go(i,a,n),DA(4,a);break;case 1:if(Go(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){en(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)iM(l[i],s)}catch(u){en(r,r.return,u)}}n&&o&64&&JM(a),op(a,a.return);break;case 27:eD(a);case 26:case 5:Go(i,a,n),n&&r===null&&o&4&&QM(a),op(a,a.return);break;case 12:Go(i,a,n);break;case 31:Go(i,a,n),n&&o&4&&iD(i,a);break;case 13:Go(i,a,n),n&&o&4&&aD(i,a);break;case 22:a.memoizedState===null&&Go(i,a,n),op(a,a.return);break;case 30:break;default:Go(i,a,n)}e=e.sibling}}function Y5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&PA(n))}function K5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&PA(t))}function $a(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lD(t,e,n,r),e=e.sibling}function lD(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:$a(t,e,n,r),i&2048&&DA(9,e);break;case 1:$a(t,e,n,r);break;case 3:$a(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&PA(t)));break;case 12:if(i&2048){$a(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){en(e,e.return,l)}}else $a(t,e,n,r);break;case 31:$a(t,e,n,r);break;case 13:$a(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?$a(t,e,n,r):sp(t,e):a._visibility&2?$a(t,e,n,r):(a._visibility|=2,Yc(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Y5(o,e);break;case 24:$a(t,e,n,r),i&2048&&K5(e.alternate,e);break;default:$a(t,e,n,r)}}function Yc(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Yc(a,o,s,l,i),DA(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Yc(a,o,s,l,i):sp(a,o):(c._visibility|=2,Yc(a,o,s,l,i)),i&&u&2048&&Y5(o.alternate,o);break;case 24:Yc(a,o,s,l,i),i&&u&2048&&K5(o.alternate,o);break;default:Yc(a,o,s,l,i)}e=e.sibling}}function sp(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:sp(n,r),i&2048&&Y5(r.alternate,r);break;case 24:sp(n,r),i&2048&&K5(r.alternate,r);break;default:sp(n,r)}e=e.sibling}}var Yh=8192;function Lc(t,e,n){if(t.subtreeFlags&Yh)for(t=t.child;t!==null;)uD(t,e,n),t=t.sibling}function uD(t,e,n){switch(t.tag){case 26:Lc(t,e,n),t.flags&Yh&&t.memoizedState!==null&&G$(n,Ga,t.memoizedState,t.memoizedProps);break;case 5:Lc(t,e,n);break;case 3:case 4:var r=Ga;Ga=s0(t.stateNode.containerInfo),Lc(t,e,n),Ga=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Yh,Yh=16777216,Lc(t,e,n),Yh=r):Lc(t,e,n));break;default:Lc(t,e,n)}}function cD(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Nh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Tr=r,dD(r,t)}cD(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fD(t),t=t.sibling}function fD(t){switch(t.tag){case 0:case 11:case 15:Nh(t),t.flags&2048&&Ml(9,t,t.return);break;case 3:Nh(t);break;case 12:Nh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Eg(t)):Nh(t);break;default:Nh(t)}}function Eg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Tr=r,dD(r,t)}cD(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ml(8,e,e.return),Eg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Eg(e));break;default:Eg(e)}t=t.sibling}}function dD(t,e){for(;Tr!==null;){var n=Tr;switch(n.tag){case 0:case 11:case 15:Ml(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:PA(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Tr=r;else e:for(n=t;Tr!==null;){r=Tr;var i=r.sibling,a=r.return;if(nD(r),r===n){Tr=null;break e}if(i!==null){i.return=a,Tr=i;break e}Tr=a}}}var s$={getCacheForType:function(t){var e=Rr(or),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Rr(or).controller.signal}},l$=typeof WeakMap=="function"?WeakMap:Map,Wt=0,An=null,Lt=null,Ft=0,Zt=0,Fi=null,ul=!1,bd=!1,J5=!1,ds=0,qn=0,Dl=0,ku=0,X5=0,zi=0,$f=0,lp=null,wi=null,$x=!1,Dv=0,hD=0,e0=1/0,t0=null,vl=null,Ar=0,yl=null,Bf=null,as=0,Bx=0,Ux=null,pD=null,up=0,qx=null;function Ki(){return Wt&2&&Ft!==0?Ft&-Ft:yt.T!==null?Z5():S6()}function AD(){if(zi===0)if(!(Ft&536870912)||$t){var t=Om;Om<<=1,!(Om&3932160)&&(Om=262144),zi=t}else zi=536870912;return t=Qi.current,t!==null&&(t.flags|=32),zi}function Ti(t,e,n){(t===An&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(Uf(t,0),cl(t,Ft,zi,!1)),NA(t,n),(!(Wt&2)||t!==An)&&(t===An&&(!(Wt&2)&&(ku|=n),qn===4&&cl(t,Ft,zi,!1)),_o(t))}function mD(t,e,n){if(Wt&6)throw Error(Fe(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||CA(t,e),i=r?f$(t,e):Jb(t,e,!0),a=r;do{if(i===0){bd&&!r&&cl(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!u$(n)){i=Jb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=lp;var l=s.current.memoizedState.isDehydrated;if(l&&(Uf(s,o).flags|=256),o=Jb(s,o,!1),o!==2){if(J5&&!l){s.errorRecoveryDisabledLanes|=a,ku|=a,i=4;break e}a=wi,wi=i,a!==null&&(wi===null?wi=a:wi.push.apply(wi,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){Uf(t,0),cl(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(Fe(345));case 4:if((e&4194048)!==e)break;case 6:cl(r,e,zi,!ul);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(Fe(329))}if((e&62914560)===e&&(i=Dv+300-Gi(),10<i)){if(cl(r,e,zi,!ul),xv(r,0,!0)!==0)break e;as=e,r.timeoutHandle=LD(uC.bind(null,r,n,wi,t0,$x,e,zi,ku,$f,ul,a,"Throttled",-0,0),i);break e}uC(r,n,wi,t0,$x,e,zi,ku,$f,ul,a,null,-0,0)}}break}while(!0);_o(t)}function uC(t,e,n,r,i,a,o,s,l,u,c,f,p,h){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qo},uD(e,a,f);var v=(a&62914560)===a?Dv-Gi():(a&4194048)===a?hD-Gi():0;if(v=W$(f,v),v!==null){as=a,t.cancelPendingCommit=v(fC.bind(null,t,e,a,n,r,i,o,s,l,c,f,null,p,h)),cl(t,a,o,!u);return}}fC(t,e,a,n,r,i,o,s,l)}function u$(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xi(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cl(t,e,n,r){e&=~X5,e&=~ku,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Yi(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&b6(t,n,e)}function Ov(){return Wt&6?!0:(OA(0),!1)}function Q5(){if(Lt!==null){if(Zt===0)var t=Lt.return;else t=Lt,Zo=Qu=null,R5(t),_f=null,Dp=0,t=Lt;for(;t!==null;)KM(t.alternate,t),t=t.return;Lt=null}}function Uf(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,k$(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),as=0,Q5(),An=t,Lt=n=rs(t.current,null),Ft=e,Zt=0,Fi=null,ul=!1,bd=CA(t,e),J5=!1,$f=zi=X5=ku=Dl=qn=0,wi=lp=null,$x=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Yi(r),a=1<<i;e|=t[i],r&=~a}return ds=e,Tv(),n}function gD(t,e){Et=null,yt.H=Ip,e===yd||e===Nv?(e=UT(),Zt=3):e===P5?(e=UT(),Zt=4):Zt=e===G5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Fi=e,Lt===null&&(qn=1,Xg(t,xa(e,t.current)))}function vD(){var t=Qi.current;return t===null?!0:(Ft&4194048)===Ft?Ta===null:(Ft&62914560)===Ft||Ft&536870912?t===Ta:!1}function yD(){var t=yt.H;return yt.H=Ip,t===null?Ip:t}function bD(){var t=yt.A;return yt.A=s$,t}function n0(){qn=4,ul||(Ft&4194048)!==Ft&&Qi.current!==null||(bd=!0),!(Dl&134217727)&&!(ku&134217727)||An===null||cl(An,Ft,zi,!1)}function Jb(t,e,n){var r=Wt;Wt|=2;var i=yD(),a=bD();(An!==t||Ft!==e)&&(t0=null,Uf(t,e)),e=!1;var o=qn;e:do try{if(Zt!==0&&Lt!==null){var s=Lt,l=Fi;switch(Zt){case 8:Q5(),o=6;break e;case 3:case 2:case 9:case 6:Qi.current===null&&(e=!0);var u=Zt;if(Zt=0,Fi=null,hf(t,s,l,u),n&&bd){o=0;break e}break;default:u=Zt,Zt=0,Fi=null,hf(t,s,l,u)}}c$(),o=qn;break}catch(c){gD(t,c)}while(!0);return e&&t.shellSuspendCounter++,Zo=Qu=null,Wt=r,yt.H=i,yt.A=a,Lt===null&&(An=null,Ft=0,Tv()),o}function c$(){for(;Lt!==null;)xD(Lt)}function f$(t,e){var n=Wt;Wt|=2;var r=yD(),i=bD();An!==t||Ft!==e?(t0=null,e0=Gi()+500,Uf(t,e)):bd=CA(t,e);e:do try{if(Zt!==0&&Lt!==null){e=Lt;var a=Fi;t:switch(Zt){case 1:Zt=0,Fi=null,hf(t,e,a,1);break;case 2:case 9:if(BT(a)){Zt=0,Fi=null,cC(e);break}e=function(){Zt!==2&&Zt!==9||An!==t||(Zt=7),_o(t)},a.then(e,e);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:BT(a)?(Zt=0,Fi=null,cC(e)):(Zt=0,Fi=null,hf(t,e,a,7));break;case 5:var o=null;switch(Lt.tag){case 26:o=Lt.memoizedState;case 5:case 27:var s=Lt;if(o?UD(o):s.stateNode.complete){Zt=0,Fi=null;var l=s.sibling;if(l!==null)Lt=l;else{var u=s.return;u!==null?(Lt=u,Iv(u)):Lt=null}break t}}Zt=0,Fi=null,hf(t,e,a,5);break;case 6:Zt=0,Fi=null,hf(t,e,a,6);break;case 8:Q5(),qn=6;break e;default:throw Error(Fe(462))}}d$();break}catch(c){gD(t,c)}while(!0);return Zo=Qu=null,yt.H=r,yt.A=i,Wt=n,Lt!==null?0:(An=null,Ft=0,Tv(),qn)}function d$(){for(;Lt!==null&&!j7();)xD(Lt)}function xD(t){var e=YM(t.alternate,t,ds);t.memoizedProps=t.pendingProps,e===null?Iv(t):Lt=e}function cC(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=rC(n,e,e.pendingProps,e.type,void 0,Ft);break;case 11:e=rC(n,e,e.pendingProps,e.type.render,e.ref,Ft);break;case 5:R5(e);default:KM(n,e),e=Lt=K6(e,ds),e=YM(n,e,ds)}t.memoizedProps=t.pendingProps,e===null?Iv(t):Lt=e}function hf(t,e,n,r){Zo=Qu=null,R5(e),_f=null,Dp=0;var i=e.return;try{if(e$(t,i,e,n,Ft)){qn=1,Xg(t,xa(n,t.current)),Lt=null;return}}catch(a){if(i!==null)throw Lt=i,a;qn=1,Xg(t,xa(n,t.current)),Lt=null;return}e.flags&32768?($t||r===1?t=!0:bd||Ft&536870912?t=!1:(ul=t=!0,(r===2||r===9||r===3||r===6)&&(r=Qi.current,r!==null&&r.tag===13&&(r.flags|=16384))),wD(e,t)):Iv(e)}function Iv(t){var e=t;do{if(e.flags&32768){wD(e,ul);return}t=e.return;var n=r$(e.alternate,e,ds);if(n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);qn===0&&(qn=5)}function wD(t,e){do{var n=i$(t.alternate,t);if(n!==null){n.flags&=32767,Lt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=n}while(t!==null);qn=6,Lt=null}function fC(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do jv();while(Ar!==0);if(Wt&6)throw Error(Fe(327));if(e!==null){if(e===t.current)throw Error(Fe(177));if(a=e.lanes|e.childLanes,a|=S5,V7(t,n,a,o,s,l),t===An&&(Lt=An=null,Ft=0),Bf=e,yl=t,as=n,Bx=a,Ux=i,pD=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,m$(Bg,function(){return ND(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=yt.T,yt.T=null,i=Yt.p,Yt.p=2,o=Wt,Wt|=4;try{a$(t,e,n)}finally{Wt=o,Yt.p=i,yt.T=r}}Ar=1,SD(),_D(),TD()}}function SD(){if(Ar===1){Ar=0;var t=yl,e=Bf,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=yt.T,yt.T=null;var r=Yt.p;Yt.p=2;var i=Wt;Wt|=4;try{oD(e,t);var a=Gx,o=U6(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&B6(s.ownerDocument.documentElement,s)){if(l!==null&&w5(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var h=p.getSelection(),v=s.textContent.length,b=Math.min(l.start,v),w=l.end===void 0?b:Math.min(l.end,v);!h.extend&&b>w&&(o=w,w=b,b=o);var y=OT(s,b),x=OT(s,w);if(y&&x&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==x.node||h.focusOffset!==x.offset)){var S=f.createRange();S.setStart(y.node,y.offset),h.removeAllRanges(),b>w?(h.addRange(S),h.extend(x.node,x.offset)):(S.setEnd(x.node,x.offset),h.addRange(S))}}}}for(f=[],h=s;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}c0=!!Vx,Gx=Vx=null}finally{Wt=i,Yt.p=r,yt.T=n}}t.current=e,Ar=2}}function _D(){if(Ar===2){Ar=0;var t=yl,e=Bf,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=yt.T,yt.T=null;var r=Yt.p;Yt.p=2;var i=Wt;Wt|=4;try{tD(t,e.alternate,e)}finally{Wt=i,Yt.p=r,yt.T=n}}Ar=3}}function TD(){if(Ar===4||Ar===3){Ar=0,L7();var t=yl,e=Bf,n=as,r=pD;e.subtreeFlags&10256||e.flags&10256?Ar=5:(Ar=0,Bf=yl=null,CD(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(vl=null),A5(n),e=e.stateNode,Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(TA,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=yt.T,i=Yt.p,Yt.p=2,yt.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{yt.T=e,Yt.p=i}}as&3&&jv(),_o(t),i=t.pendingLanes,n&261930&&i&42?t===qx?up++:(up=0,qx=t):up=0,OA(0)}}function CD(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,PA(e)))}function jv(){return SD(),_D(),TD(),ND()}function ND(){if(Ar!==5)return!1;var t=yl,e=Bx;Bx=0;var n=A5(as),r=yt.T,i=Yt.p;try{Yt.p=32>n?32:n,yt.T=null,n=Ux,Ux=null;var a=yl,o=as;if(Ar=0,Bf=yl=null,as=0,Wt&6)throw Error(Fe(331));var s=Wt;if(Wt|=4,fD(a.current),lD(a,a.current,o,n),Wt=s,OA(0,!1),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(TA,a)}catch{}return!0}finally{Yt.p=i,yt.T=r,CD(t,e)}}function dC(t,e,n){e=xa(n,e),e=jx(t.stateNode,e,2),t=gl(t,e,2),t!==null&&(NA(t,2),_o(t))}function en(t,e,n){if(t.tag===3)dC(t,t,n);else for(;e!==null;){if(e.tag===3){dC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vl===null||!vl.has(r))){t=xa(n,t),n=qM(2),r=gl(e,n,2),r!==null&&(HM(n,r,e,t),NA(r,2),_o(r));break}}e=e.return}}function Xb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(J5=!0,i.add(n),t=h$.bind(null,t,e,n),e.then(t,t))}function h$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,An===t&&(Ft&n)===n&&(qn===4||qn===3&&(Ft&62914560)===Ft&&300>Gi()-Dv?!(Wt&2)&&Uf(t,0):X5|=n,$f===Ft&&($f=0)),_o(t)}function ED(t,e){e===0&&(e=y6()),t=Xu(t,e),t!==null&&(NA(t,e),_o(t))}function p$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ED(t,n)}function A$(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),ED(t,n)}function m$(t,e){return h5(t,e)}var r0=null,Kc=null,Hx=!1,i0=!1,Qb=!1,fl=0;function _o(t){t!==Kc&&t.next===null&&(Kc===null?r0=Kc=t:Kc=Kc.next=t),i0=!0,Hx||(Hx=!0,v$())}function OA(t,e){if(!Qb&&i0){Qb=!0;do for(var n=!1,r=r0;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Yi(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,hC(r,a))}else a=Ft,a=xv(r,r===An?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||CA(r,a)||(n=!0,hC(r,a));r=r.next}while(n);Qb=!1}}function g$(){kD()}function kD(){i0=Hx=!1;var t=0;fl!==0&&E$()&&(t=fl);for(var e=Gi(),n=null,r=r0;r!==null;){var i=r.next,a=PD(r,e);a===0?(r.next=null,n===null?r0=i:n.next=i,i===null&&(Kc=n)):(n=r,(t!==0||a&3)&&(i0=!0)),r=i}Ar!==0&&Ar!==5||OA(t),fl!==0&&(fl=0)}function PD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Yi(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=z7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=An,n=Ft,n=xv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Cb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||CA(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Cb(r),A5(n)){case 2:case 8:n=g6;break;case 32:n=Bg;break;case 268435456:n=v6;break;default:n=Bg}return r=MD.bind(null,t),n=h5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Cb(r),t.callbackPriority=2,t.callbackNode=null,2}function MD(t,e){if(Ar!==0&&Ar!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(jv()&&t.callbackNode!==n)return null;var r=Ft;return r=xv(t,t===An?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(mD(t,r,e),PD(t,Gi()),t.callbackNode!=null&&t.callbackNode===n?MD.bind(null,t):null)}function hC(t,e){if(jv())return null;mD(t,e,!0)}function v$(){P$(function(){Wt&6?h5(m6,g$):kD()})}function Z5(){if(fl===0){var t=Lf;t===0&&(t=Dm,Dm<<=1,!(Dm&261888)&&(Dm=256)),fl=t}return fl}function pC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yg(""+t)}function AC(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function y$(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=pC((i[Ci]||null).action),o=r.submitter;o&&(e=(e=o[Ci]||null)?pC(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new wv("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(fl!==0){var l=o?AC(i,o):new FormData(i);Ox(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?AC(i,o):new FormData(i),Ox(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Zb=0;Zb<xx.length;Zb++){var e1=xx[Zb],b$=e1.toLowerCase(),x$=e1[0].toUpperCase()+e1.slice(1);Qa(b$,"on"+x$)}Qa(H6,"onAnimationEnd");Qa(z6,"onAnimationIteration");Qa(V6,"onAnimationStart");Qa("dblclick","onDoubleClick");Qa("focusin","onFocus");Qa("focusout","onBlur");Qa(RF,"onTransitionRun");Qa(FF,"onTransitionStart");Qa($F,"onTransitionCancel");Qa(G6,"onTransitionEnd");If("onMouseEnter",["mouseout","mouseover"]);If("onMouseLeave",["mouseout","mouseover"]);If("onPointerEnter",["pointerout","pointerover"]);If("onPointerLeave",["pointerout","pointerover"]);Yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jp));function DD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){qg(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){qg(c)}i.currentTarget=null,a=l}}}}function jt(t,e){var n=e[hx];n===void 0&&(n=e[hx]=new Set);var r=t+"__bubble";n.has(r)||(OD(e,t,2,!1),n.add(r))}function t1(t,e,n){var r=0;e&&(r|=4),OD(n,t,r,e)}var qm="_reactListening"+Math.random().toString(36).slice(2);function eS(t){if(!t[qm]){t[qm]=!0,_6.forEach(function(n){n!=="selectionchange"&&(w$.has(n)||t1(n,!1,t),t1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qm]||(e[qm]=!0,t1("selectionchange",!1,e))}}function OD(t,e,n,r){switch(GD(e)){case 2:var i=J$;break;case 8:i=X$;break;default:i=iS}n=i.bind(null,e,n,t),i=void 0,!vx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function n1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=rf(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}D6(function(){var u=a,c=v5(n),f=[];e:{var p=W6.get(t);if(p!==void 0){var h=wv,v=t;switch(t){case"keypress":if(xg(n)===0)break e;case"keydown":case"keyup":h=AF;break;case"focusin":v="focus",h=Mb;break;case"focusout":v="blur",h=Mb;break;case"beforeblur":case"afterblur":h=Mb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ST;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=rF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=vF;break;case H6:case z6:case V6:h=oF;break;case G6:h=bF;break;case"scroll":case"scrollend":h=tF;break;case"wheel":h=wF;break;case"copy":case"cut":case"paste":h=lF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=TT;break;case"toggle":case"beforetoggle":h=_F}var b=(e&4)!==0,w=!b&&(t==="scroll"||t==="scrollend"),y=b?p!==null?p+"Capture":null:p;b=[];for(var x=u,S;x!==null;){var T=x;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||y===null||(T=Np(x,y),T!=null&&b.push(Lp(x,T,S))),w)break;x=x.return}0<b.length&&(p=new h(p,v,null,n,c),f.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==gx&&(v=n.relatedTarget||n.fromElement)&&(rf(v)||v[md]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?rf(v):null,v!==null&&(w=_A(v),b=v.tag,v!==w||b!==5&&b!==27&&b!==6)&&(v=null)):(h=null,v=u),h!==v)){if(b=ST,T="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=TT,T="onPointerLeave",y="onPointerEnter",x="pointer"),w=h==null?p:Gh(h),S=v==null?p:Gh(v),p=new b(T,x+"leave",h,n,c),p.target=w,p.relatedTarget=S,T=null,rf(c)===u&&(b=new b(y,x+"enter",v,n,c),b.target=S,b.relatedTarget=w,T=b),w=T,h&&v)t:{for(b=S$,y=h,x=v,S=0,T=y;T;T=b(T))S++;T=0;for(var C=x;C;C=b(C))T++;for(;0<S-T;)y=b(y),S--;for(;0<T-S;)x=b(x),T--;for(;S--;){if(y===x||x!==null&&y===x.alternate){b=y;break t}y=b(y),x=b(x)}b=null}else b=null;h!==null&&mC(f,p,h,b,!1),v!==null&&w!==null&&mC(f,w,v,b,!0)}}e:{if(p=u?Gh(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var k=kT;else if(ET(p))if(F6)k=IF;else{k=DF;var E=MF}else h=p.nodeName,!h||h.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&g5(u.elementType)&&(k=kT):k=OF;if(k&&(k=k(t,u))){R6(f,k,n,c);break e}E&&E(t,p,u),t==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&mx(p,"number",p.value)}switch(E=u?Gh(u):window,t){case"focusin":(ET(E)||E.contentEditable==="true")&&(sf=E,yx=u,ep=null);break;case"focusout":ep=yx=sf=null;break;case"mousedown":bx=!0;break;case"contextmenu":case"mouseup":case"dragend":bx=!1,IT(f,n,c);break;case"selectionchange":if(LF)break;case"keydown":case"keyup":IT(f,n,c)}var D;if(x5)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else of?j6(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(I6&&n.locale!=="ko"&&(of||I!=="onCompositionStart"?I==="onCompositionEnd"&&of&&(D=O6()):(ll=c,y5="value"in ll?ll.value:ll.textContent,of=!0)),E=a0(u,I),0<E.length&&(I=new _T(I,t,null,n,c),f.push({event:I,listeners:E}),D?I.data=D:(D=L6(n),D!==null&&(I.data=D)))),(D=CF?NF(t,n):EF(t,n))&&(I=a0(u,"onBeforeInput"),0<I.length&&(E=new _T("onBeforeInput","beforeinput",null,n,c),f.push({event:E,listeners:I}),E.data=D)),y$(f,t,u,n,c)}DD(f,e)})}function Lp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function a0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Np(t,n),i!=null&&r.unshift(Lp(t,i,a)),i=Np(t,e),i!=null&&r.push(Lp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function S$(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=Np(n,a),u!=null&&o.unshift(Lp(n,u,l))):i||(u=Np(n,a),u!=null&&o.push(Lp(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _$=/\r\n?/g,T$=/\u0000|\uFFFD/g;function gC(t){return(typeof t=="string"?t:""+t).replace(_$,`
`).replace(T$,"")}function ID(t,e){return e=gC(e),gC(t)===e}function sn(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||jf(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&jf(t,""+r);break;case"className":jm(t,"class",r);break;case"tabIndex":jm(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":jm(t,n,r);break;case"style":M6(t,r,a);break;case"data":if(e!=="object"){jm(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=yg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&sn(t,e,"name",i.name,i,null),sn(t,e,"formEncType",i.formEncType,i,null),sn(t,e,"formMethod",i.formMethod,i,null),sn(t,e,"formTarget",i.formTarget,i,null)):(sn(t,e,"encType",i.encType,i,null),sn(t,e,"method",i.method,i,null),sn(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=yg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Qo);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Fe(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Fe(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=yg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":jt("beforetoggle",t),jt("toggle",t),vg(t,"popover",r);break;case"xlinkActuate":Bo(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Bo(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Bo(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Bo(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Bo(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Bo(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Bo(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Bo(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Bo(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":vg(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Z7.get(n)||n,vg(t,n,r))}}function zx(t,e,n,r,i,a){switch(n){case"style":M6(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Fe(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Fe(60));t.innerHTML=n}}break;case"children":typeof r=="string"?jf(t,r):(typeof r=="number"||typeof r=="bigint")&&jf(t,""+r);break;case"onScroll":r!=null&&jt("scroll",t);break;case"onScrollEnd":r!=null&&jt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Qo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!T6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Ci]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):vg(t,n,r)}}}function Fr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Fe(137,e));default:sn(t,e,a,o,n,null)}}i&&sn(t,e,"srcSet",n.srcSet,n,null),r&&sn(t,e,"src",n.src,n,null);return;case"input":jt("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(Fe(137,e));break;default:sn(t,e,r,c,n,null)}}E6(t,a,s,l,u,o,i,!1);return;case"select":jt("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:sn(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?xf(t,!!r,e,!1):n!=null&&xf(t,!!r,n,!0);return;case"textarea":jt("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(Fe(91));break;default:sn(t,e,o,s,n,null)}P6(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:sn(t,e,l,r,n,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(r=0;r<jp.length;r++)jt(jp[r],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Fe(137,e));default:sn(t,e,u,r,n,null)}return;default:if(g5(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&zx(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&sn(t,e,s,r,n,null))}function C$(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(h)||sn(t,e,h,null,r,f)}}for(var p in r){var h=r[p];if(f=n[p],r.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"type":a=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":o=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Fe(137,e));break;default:h!==f&&sn(t,e,p,h,r,f)}}Ax(t,o,s,l,u,c,a,i);return;case"select":h=o=s=p=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":h=l;default:r.hasOwnProperty(a)||sn(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":p=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&sn(t,e,i,a,r,l)}e=s,n=o,r=h,p!=null?xf(t,!!n,p,!1):!!r!=!!n&&(e!=null?xf(t,!!n,e,!0):xf(t,!!n,n?[]:"",!1));return;case"textarea":h=p=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:sn(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":p=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Fe(91));break;default:i!==a&&sn(t,e,o,i,r,a)}k6(t,p,h);return;case"option":for(var v in n)if(p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:sn(t,e,v,null,r,p)}for(l in r)if(p=r[l],h=n[l],r.hasOwnProperty(l)&&p!==h&&(p!=null||h!=null))switch(l){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:sn(t,e,l,p,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)p=n[b],n.hasOwnProperty(b)&&p!=null&&!r.hasOwnProperty(b)&&sn(t,e,b,null,r,p);for(u in r)if(p=r[u],h=n[u],r.hasOwnProperty(u)&&p!==h&&(p!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Fe(137,e));break;default:sn(t,e,u,p,r,h)}return;default:if(g5(e)){for(var w in n)p=n[w],n.hasOwnProperty(w)&&p!==void 0&&!r.hasOwnProperty(w)&&zx(t,e,w,void 0,r,p);for(c in r)p=r[c],h=n[c],!r.hasOwnProperty(c)||p===h||p===void 0&&h===void 0||zx(t,e,c,p,r,h);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y)&&sn(t,e,y,null,r,p);for(f in r)p=r[f],h=n[f],!r.hasOwnProperty(f)||p===h||p==null&&h==null||sn(t,e,f,p,r,h)}function vC(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N$(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&vC(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&vC(f)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vx=null,Gx=null;function o0(t){return t.nodeType===9?t:t.ownerDocument}function yC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jD(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r1=null;function E$(){var t=window.event;return t&&t.type==="popstate"?t===r1?!1:(r1=t,!0):(r1=null,!1)}var LD=typeof setTimeout=="function"?setTimeout:void 0,k$=typeof clearTimeout=="function"?clearTimeout:void 0,bC=typeof Promise=="function"?Promise:void 0,P$=typeof queueMicrotask=="function"?queueMicrotask:typeof bC<"u"?function(t){return bC.resolve(null).then(t).catch(M$)}:LD;function M$(t){setTimeout(function(){throw t})}function Rl(t){return t==="head"}function xC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Hf(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")cp(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,cp(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[EA]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&cp(t.ownerDocument.body);n=i}while(n);Hf(e)}function wC(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Yx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yx(n),m5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function D$(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[EA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Ca(t.nextSibling),t===null)break}return null}function O$(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ca(t.nextSibling),t===null))return null;return t}function RD(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ca(t.nextSibling),t===null))return null;return t}function Kx(t){return t.data==="$?"||t.data==="$~"}function Jx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function I$(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Ca(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Xx=null;function SC(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Ca(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function _C(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function FD(t,e,n){switch(e=o0(n),t){case"html":if(t=e.documentElement,!t)throw Error(Fe(452));return t;case"head":if(t=e.head,!t)throw Error(Fe(453));return t;case"body":if(t=e.body,!t)throw Error(Fe(454));return t;default:throw Error(Fe(451))}}function cp(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);m5(t)}var ka=new Map,TC=new Set;function s0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=Yt.d;Yt.d={f:j$,r:L$,D:R$,C:F$,L:$$,m:B$,X:q$,S:U$,M:H$};function j$(){var t=gs.f(),e=Ov();return t||e}function L$(t){var e=gd(t);e!==null&&e.tag===5&&e.type==="form"?MM(e):gs.r(t)}var xd=typeof document>"u"?null:document;function $D(t,e,n){var r=xd;if(r&&typeof e=="string"&&e){var i=ba(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),TC.has(i)||(TC.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Fr(e,"link",t),Cr(e),r.head.appendChild(e)))}}function R$(t){gs.D(t),$D("dns-prefetch",t,null)}function F$(t,e){gs.C(t,e),$D("preconnect",t,e)}function $$(t,e,n){gs.L(t,e,n);var r=xd;if(r&&t&&e){var i='link[rel="preload"][as="'+ba(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ba(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+ba(n.imageSizes)+'"]')):i+='[href="'+ba(t)+'"]';var a=i;switch(e){case"style":a=qf(t);break;case"script":a=wd(t)}ka.has(a)||(t=Mn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ka.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(IA(a))||e==="script"&&r.querySelector(jA(a))||(e=r.createElement("link"),Fr(e,"link",t),Cr(e),r.head.appendChild(e)))}}function B$(t,e){gs.m(t,e);var n=xd;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+ba(r)+'"][href="'+ba(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=wd(t)}if(!ka.has(a)&&(t=Mn({rel:"modulepreload",href:t},e),ka.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jA(a)))return}r=n.createElement("link"),Fr(r,"link",t),Cr(r),n.head.appendChild(r)}}}function U$(t,e,n){gs.S(t,e,n);var r=xd;if(r&&t){var i=bf(r).hoistableStyles,a=qf(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(IA(a)))s.loading=5;else{t=Mn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ka.get(a))&&tS(t,n);var l=o=r.createElement("link");Cr(l),Fr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,kg(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function q$(t,e){gs.X(t,e);var n=xd;if(n&&t){var r=bf(n).hoistableScripts,i=wd(t),a=r.get(i);a||(a=n.querySelector(jA(i)),a||(t=Mn({src:t,async:!0},e),(e=ka.get(i))&&nS(t,e),a=n.createElement("script"),Cr(a),Fr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function H$(t,e){gs.M(t,e);var n=xd;if(n&&t){var r=bf(n).hoistableScripts,i=wd(t),a=r.get(i);a||(a=n.querySelector(jA(i)),a||(t=Mn({src:t,async:!0,type:"module"},e),(e=ka.get(i))&&nS(t,e),a=n.createElement("script"),Cr(a),Fr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function CC(t,e,n,r){var i=(i=pl.current)?s0(i):null;if(!i)throw Error(Fe(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=qf(n.href),n=bf(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=qf(n.href);var a=bf(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(IA(t)))&&!a._p&&(o.instance=a,o.state.loading=5),ka.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ka.set(t,n),a||z$(i,t,n,o.state))),e&&r===null)throw Error(Fe(528,""));return o}if(e&&r!==null)throw Error(Fe(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=wd(n),n=bf(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Fe(444,t))}}function qf(t){return'href="'+ba(t)+'"'}function IA(t){return'link[rel="stylesheet"]['+t+"]"}function BD(t){return Mn({},t,{"data-precedence":t.precedence,precedence:null})}function z$(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Fr(e,"link",n),Cr(e),t.head.appendChild(e))}function wd(t){return'[src="'+ba(t)+'"]'}function jA(t){return"script[async]"+t}function NC(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ba(n.href)+'"]');if(r)return e.instance=r,Cr(r),r;var i=Mn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Cr(r),Fr(r,"style",i),kg(r,n.precedence,t),e.instance=r;case"stylesheet":i=qf(n.href);var a=t.querySelector(IA(i));if(a)return e.state.loading|=4,e.instance=a,Cr(a),a;r=BD(n),(i=ka.get(i))&&tS(r,i),a=(t.ownerDocument||t).createElement("link"),Cr(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Fr(a,"link",r),e.state.loading|=4,kg(a,n.precedence,t),e.instance=a;case"script":return a=wd(n.src),(i=t.querySelector(jA(a)))?(e.instance=i,Cr(i),i):(r=n,(i=ka.get(a))&&(r=Mn({},n),nS(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Cr(i),Fr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Fe(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,kg(r,n.precedence,t));return e.instance}function kg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function tS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function nS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Pg=null;function EC(t,e,n){if(Pg===null){var r=new Map,i=Pg=new Map;i.set(n,r)}else i=Pg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[EA]||a[jr]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function kC(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function V$(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function UD(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function G$(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=qf(r.href),a=e.querySelector(IA(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=l0.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Cr(a);return}a=e.ownerDocument||e,r=BD(r),(i=ka.get(i))&&tS(r,i),a=a.createElement("link"),Cr(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Fr(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=l0.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var i1=0;function W$(t,e){return t.stylesheets&&t.count===0&&Mg(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Mg(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&i1===0&&(i1=62500*N$());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mg(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>i1?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function l0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var u0=null;function Mg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,u0=new Map,e.forEach(Y$,t),u0=null,l0.call(t))}function Y$(t,e){if(!(e.state.loading&4)){var n=u0.get(t);if(n)var r=n.get(null);else{n=new Map,u0.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=l0.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Rp={$$typeof:Xo,Provider:null,Consumer:null,_currentValue:Tu,_currentValue2:Tu,_threadCount:0};function K$(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nb(0),this.hiddenUpdates=Nb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function qD(t,e,n,r,i,a,o,s,l,u,c,f){return t=new K$(t,e,n,o,l,u,c,f,s),e=1,a===!0&&(e|=24),a=Ui(3,null,null,e),t.current=a,a.stateNode=t,e=E5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},M5(a),t}function HD(t){return t?(t=cf,t):cf}function zD(t,e,n,r,i,a){i=HD(i),r.context===null?r.context=i:r.pendingContext=i,r=ml(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=gl(t,r,e),n!==null&&(Ti(n,t,e),np(n,t,e))}function PC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rS(t,e){PC(t,e),(t=t.alternate)&&PC(t,e)}function VD(t){if(t.tag===13||t.tag===31){var e=Xu(t,67108864);e!==null&&Ti(e,t,67108864),rS(t,67108864)}}function MC(t){if(t.tag===13||t.tag===31){var e=Ki();e=p5(e);var n=Xu(t,e);n!==null&&Ti(n,t,e),rS(t,e)}}var c0=!0;function J$(t,e,n,r){var i=yt.T;yt.T=null;var a=Yt.p;try{Yt.p=2,iS(t,e,n,r)}finally{Yt.p=a,yt.T=i}}function X$(t,e,n,r){var i=yt.T;yt.T=null;var a=Yt.p;try{Yt.p=8,iS(t,e,n,r)}finally{Yt.p=a,yt.T=i}}function iS(t,e,n,r){if(c0){var i=Qx(r);if(i===null)n1(t,e,r,f0,n),DC(t,r);else if(Z$(i,t,e,n,r))r.stopPropagation();else if(DC(t,r),e&4&&-1<Q$.indexOf(t)){for(;i!==null;){var a=gd(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=cu(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Yi(o);s.entanglements[1]|=l,o&=~l}_o(a),!(Wt&6)&&(e0=Gi()+500,OA(0))}}break;case 31:case 13:s=Xu(a,2),s!==null&&Ti(s,a,2),Ov(),rS(a,2)}if(a=Qx(r),a===null&&n1(t,e,r,f0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else n1(t,e,r,null,n)}}function Qx(t){return t=v5(t),aS(t)}var f0=null;function aS(t){if(f0=null,t=rf(t),t!==null){var e=_A(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=f6(e),t!==null)return t;t=null}else if(n===31){if(t=d6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return f0=t,null}function GD(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(R7()){case m6:return 2;case g6:return 8;case Bg:case F7:return 32;case v6:return 268435456;default:return 32}default:return 32}}var Zx=!1,bl=null,xl=null,wl=null,Fp=new Map,$p=new Map,rl=[],Q$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DC(t,e){switch(t){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":Fp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$p.delete(e.pointerId)}}function Eh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=gd(e),e!==null&&VD(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Z$(t,e,n,r,i){switch(e){case"focusin":return bl=Eh(bl,t,e,n,r,i),!0;case"dragenter":return xl=Eh(xl,t,e,n,r,i),!0;case"mouseover":return wl=Eh(wl,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Fp.set(a,Eh(Fp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,$p.set(a,Eh($p.get(a)||null,t,e,n,r,i)),!0}return!1}function WD(t){var e=rf(t.target);if(e!==null){var n=_A(e);if(n!==null){if(e=n.tag,e===13){if(e=f6(n),e!==null){t.blockedOn=e,mT(t.priority,function(){MC(n)});return}}else if(e===31){if(e=d6(n),e!==null){t.blockedOn=e,mT(t.priority,function(){MC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gx=r,n.target.dispatchEvent(r),gx=null}else return e=gd(n),e!==null&&VD(e),t.blockedOn=n,!1;e.shift()}return!0}function OC(t,e,n){Dg(t)&&n.delete(e)}function eB(){Zx=!1,bl!==null&&Dg(bl)&&(bl=null),xl!==null&&Dg(xl)&&(xl=null),wl!==null&&Dg(wl)&&(wl=null),Fp.forEach(OC),$p.forEach(OC)}function Hm(t,e){t.blockedOn===e&&(t.blockedOn=null,Zx||(Zx=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,eB)))}var zm=null;function IC(t){zm!==t&&(zm=t,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,function(){zm===t&&(zm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(aS(r||n)===null)continue;break}var a=gd(n);a!==null&&(t.splice(e,3),e-=3,Ox(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Hf(t){function e(l){return Hm(l,t)}bl!==null&&Hm(bl,t),xl!==null&&Hm(xl,t),wl!==null&&Hm(wl,t),Fp.forEach(e),$p.forEach(e);for(var n=0;n<rl.length;n++){var r=rl[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<rl.length&&(n=rl[0],n.blockedOn===null);)WD(n),n.blockedOn===null&&rl.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ci]||null;if(typeof a=="function")o||IC(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Ci]||null)s=o.formAction;else if(aS(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),IC(n)}}}function YD(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function oS(t){this._internalRoot=t}Lv.prototype.render=oS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));var n=e.current,r=Ki();zD(n,r,t,e,null,null)};Lv.prototype.unmount=oS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zD(t.current,2,null,t,null,null),Ov(),e[md]=null}};function Lv(t){this._internalRoot=t}Lv.prototype.unstable_scheduleHydration=function(t){if(t){var e=S6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rl.length&&e!==0&&e<rl[n].priority;n++);rl.splice(n,0,t),n===0&&WD(t)}};var jC=u6.version;if(jC!=="19.2.0")throw Error(Fe(527,jC,"19.2.0"));Yt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=P7(e),t=t!==null?h6(t):null,t=t===null?null:t.stateNode,t};var tB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:yt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{TA=Vm.inject(tB),Wi=Vm}catch{}}yv.createRoot=function(t,e){if(!c6(t))throw Error(Fe(299));var n=!1,r="",i=$M,a=BM,o=UM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=qD(t,1,!1,null,null,n,r,null,i,a,o,YD),t[md]=e.current,eS(t),new oS(e)};yv.hydrateRoot=function(t,e,n){if(!c6(t))throw Error(Fe(299));var r=!1,i="",a=$M,o=BM,s=UM,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=qD(t,1,!0,e,n??null,r,i,l,a,o,s,YD),e.context=HD(null),n=e.current,r=Ki(),r=p5(r),i=ml(r),i.callback=null,gl(n,i,r),n=r,e.current.lanes=n,NA(e,n),_o(e),t[md]=e.current,eS(t),new Lv(e)};yv.version="19.2.0";function KD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KD)}catch(t){console.error(t)}}KD(),r6.exports=yv;var nB=r6.exports;const rB=Kt(nB);var Sr=(t=>(t.POS="POS",t.Products="Products",t.Services="Services",t.Finance="Finance",t.Customers="Customers",t.Suppliers="Suppliers",t.Categories="Categories",t.Settings="Settings",t))(Sr||{});const LC={fr:{pos:"Caisse",products:"Produits",services:"Services",finance:"Finance",customers:"Clients",suppliers:"Fournisseurs",categories:"Catgories",settings:"Paramtres",logout:"Dconnexion",welcome:"Bienvenue",admin:"Admin",seller:"Vendeur",loading:"Chargement",save:"Enregistrer",cancel:"Annuler",edit:"Modifier",delete:"Supprimer",add:"Ajouter",close:"Fermer",optional:"Optionnel",actions:"Actions",name:"Nom",phone:"Tlphone",email:"Email",address:"Adresse",ice:"ICE",all:"Tout",date:"Date",amount:"Montant",description:"Description",quantity:"Quantit",price:"Prix",total:"Total",stock:"Stock",page:"Page",previous:"Prcdent",next:"Suivant",searchByName:"Rechercher par nom...",noResultsFound:"Aucun rsultat trouv.",noDataToExport:"Aucune donne  exporter.",unknown:"Inconnu",copied:"Copi!",copy:"Copier",print:"Imprimer",goBack:"Retour",unknownError:"Une erreur inconnue est survenue.",fillAllFieldsError:"Veuillez remplir tous les champs obligatoires.",fillNameAndPriceError:"Le nom et le prix du produit/service sont obligatoires.",sellingPriceMustBeHigherError:"Le prix de vente doit tre suprieur au prix d'achat.",failedToFetchError_CORS:"Impossible de se connecter au serveur. Vrifiez votre connexion Internet ou contactez le support si le problme persiste.",login:"Connexion",forStore:"Pour le magasin :",passwordOrPin:"Mot de passe ou PIN",rememberPin:"Se souvenir du PIN",activateYourCompany:"Activer votre entreprise",enterLicenseKey:"Veuillez entrer votre cl de licence pour commencer.",licenseKey:"Cl de licence",activate:"Activer",trialHasExpired:"Votre priode d'essai a expir",contactAdminToActivate:"Veuillez contacter votre administrateur ou le support pour activer votre licence.",enterActivationCode:"Entrez le code d'activation",activateApplication:"Activer l'application",reactivationSuccess:"Ractivation russie. Veuillez vous reconnecter.",invalidApiKeyError:"Erreur de configuration du serveur. Cl API invalide.",storeNotFound:"Magasin non trouv.",storeDisabledError:"Ce magasin est dsactiv. Veuillez contacter l'administrateur.",invalidCredentialsError:"Mot de passe ou PIN incorrect.",invalidActivationCode:"Code d'activation invalide.",activationSuccessReload:"Activation russie ! L'application va redmarrer.",superAdminPortal:"Portail Super Admin",manageAllStores:"Grer tous les magasins",manageAllStoresDesc:"Ajouter, modifier et superviser tous les magasins et utilisateurs.",loginToStore:"Se connecter  un magasin",loginToStoreDesc:"Accder directement au tableau de bord d'un magasin en tant qu'administrateur.",selectStoreToLogin:"Slectionner un magasin",loginAsAdmin:"Connexion Admin",noStoresAdded:"Aucun magasin ajout pour le moment.",noAdminForStore:"Aucun utilisateur administrateur n'a t trouv pour ce magasin.",backToPortal:"Retour au portail",superAdminDashboard:"Tableau de Bord Super Admin",addStore:"Ajouter un Magasin",storeName:"Nom du magasin",adminPassword:"Mot de passe Admin",adminEmail:"Email Admin",trialPeriodDays:"Priode d'essai (jours)",trialDurationDisplay:"{days} jours",storeLogoLabel:"Logo du magasin",activeOnCreation:"Actif  la cration",inactiveOnCreation:"Inactif  la cration",activateImmediatelyDesc:"Si activ, le magasin sera immdiatement actif aprs sa cration.",aiScanEnabled:"Scan IA Activ",aiScanDisabled:"Scan IA Dsactiv",aiScanFeatureDescription:"Activer la fonctionnalit de numrisation de reus par IA pour ce magasin.",addStoreButton:"Ajouter le Magasin",storeCreatedSuccess:"Magasin cr avec succs !",useThisToLoginFirst:"Utilisez cette cl pour la premire connexion du magasin.",useThisPasswordAfter:"Utilisez ce mot de passe pour le compte admin aprs la premire connexion.",manageStores:"Grer les Magasins",storeStatus_notActivated:"Non activ",storeStatus_active:"Actif",storeStatus_inactive:"Inactif",storeStatus_licensed:"Licence Active",trialDaysRemaining:"Essai : {days} jours restants",trialEnded:"Essai termin",deleteStore:"Supprimer le magasin",toggleStoreStatus:"Activer/Dsactiver l'tat du magasin",permanentActivation:"Activation Permanente",permanentActivationDesc:"Gnre un code  usage unique pour l'activation permanente de la licence de ce magasin.",generateActivationCode:"Gnrer le code d'activation",storeUsersAndPins:"Utilisateurs et PINs",newPassword:"Nouveau mot de passe",newPin:"Nouveau PIN",saveChanges:"Enregistrer les modifications",newSellerPinPlaceholder:"PIN du nouveau vendeur...",addSeller:"Ajouter Vendeur",pinMustBe4Chars:"Le PIN doit contenir au moins 4 caractres.",userAddedSuccess:'Utilisateur "{name}" ajout avec succs.',pinUpdateSuccess:"PINs/Mots de passe mis  jour.",deleteStoreConfirm:'tes-vous sr de vouloir supprimer dfinitivement le magasin "{storeName}" et toutes ses donnes ? Cette action est irrversible.',storeDeletedSuccess:'Le magasin "{storeName}" a t supprim.',storeDeleteError:"Erreur lors de la suppression du magasin.",activationCodeForStore:"Code d'activation pour {storeName}",copyAndSendToClient:"Copiez ce code et envoyez-le au client.",confirmPermanentActivation:`Ce magasin est en priode d'essai. Voulez-vous vraiment gnrer un code d'activation PERMANENT pour "{storeName}" ?`,editProduct:"Modifier le Produit",addNewProduct:"Ajouter un Produit",productInfo:"Informations sur le Produit",productImagePreview:"Aperu Image",productName:"Nom du Produit",productNamePlaceholder:"Ex: T-shirt en coton",selectCategory:"Slectionner une catgorie",selectSupplier:"Slectionner un fournisseur",productVariants:"Variantes du Produit",addVariant:"Ajouter Variante",variantName:"Nom de la variante",variantNamePlaceholder:"Ex: Rouge, XL",purchasePrice:"Prix d'Achat",sellingPrice:"Prix de Vente",semiWholesalePrice:"Prix Semi-gros",wholesalePrice:"Prix de Gros",stockQuantity:"Quantit en Stock",lowStockThreshold:"Seuil de stock bas",barcode:"Code-barres",barcodePlaceholder:"Scanner ou saisir le code-barres",saveProduct:"Enregistrer le Produit",productList:"Liste des Produits",searchProducts:"Rechercher des produits...",noProductsAdded:"Aucun produit ajout pour le moment.",confirmProductDelete:"tes-vous sr de vouloir supprimer ce produit et toutes ses variantes ?",variants:"variantes",printBarcodeLabel:"Imprimer l'tiquette du code-barres",noVariants:"Pas de variantes",addStock:"Ajouter au Stock",addStockFor:"Ajouter au stock pour : {name}",quantityToAdd:"Quantit  ajouter",selectVariant:"Slectionner une variante",noProductsInCategory:"Aucun produit dans cette catgorie.",uncategorized:"Non catgoris",lowStockAlert:"Alerte de stock bas",lowStockMessage:"Les produits suivants sont en stock bas ou en rupture de stock :",priceLevels:"Niveaux de prix",unit:"Dtail",semiWholesale:"Semi-gros",wholesale:"Gros",saleMode:"Vente",returnMode:"Retour",barcodeScannerActive:"Scanner de code-barres actif",scanToAdd:"Scannez un article pour l'ajouter au panier.",manualAdd:"Ajout Manuel",addCustomItem:"Ajouter Article Personnalis",scanReceipt:"Scanner un Reu (IA)",scanning:"Numrisation en cours...",filterByCategory:"Filtrer par catgorie",searchPlaceholder:"Rechercher par nom...",productNotFound:"Produit non trouv pour le code-barres : {barcode}",invoice:"Facture",returnReceipt:"Bon de Retour",customer:"Client",cashCustomer:"Client de passage",debtPayment:"Paiement de dette",manualTotal:"Total Manuel",downPayment:"Avance",totalHT:"Total HT",vat:"TVA (20%)",totalTTC:"Total TTC",remaining:"Reste",refundAmount:"Montant  rembourser",processReturn:"Valider le Retour",finalizeAndPrintOrderForm:"Finaliser et Imprimer le Bon de Commande",finalizeAndPrintInvoice:"Finaliser et Imprimer la Facture",emptyCart:"Le panier est vide.",emptyCartError:"Impossible de finaliser, le panier est vide.",selectVariantFor:"Slectionner une variante pour",outOfStock:"En rupture de stock",customItemName:"Nom de l'article personnalis",itemNamePlaceholder:"Ex: Rparation spciale",unitPriceLabel:"Prix Unitaire",enterItemDetails:"Entrez les dtails de l'article",fillAllFields:"Veuillez remplir tous les champs.",productOutOfStock:"Produit en rupture de stock : {productName}",notEnoughStock:"Stock insuffisant pour {productName}",productAdded:"Produit ajout : {productName}",customItemAdded:"Article personnalis ajout au panier.",geminiApiKeyNotConfigured:"La cl API Gemini n'est pas configure. Le scan de reu est dsactiv.",itemsAddedFromReceipt:"{count} articles ajouts depuis le reu.",receiptScanError:"Erreur lors de la numrisation du reu. Veuillez ressayer.",filterByPeriod:"Filtrer par priode",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois-ci",customRange:"Priode personnalise",customItemsDetails:"Dtails des Articles/Services Personnaliss",totalCustomRevenue:"Revenu total des articles personnaliss",invoiceHistory:"Historique des factures",invoiceNumber:"Facture N",profitLabel:"Bnfice",noSalesForPeriod:"Aucune vente pour cette priode.",manageExpenses:"Grer les Dpenses",addExpense:"Ajouter une Dpense",expenseHistory:"Historique des Dpenses",noExpensesForPeriod:"Aucune dpense pour cette priode.",debtorCustomers:"Clients Dbiteurs",debtAmount:"Montant de la Dette",noDebtorCustomers:"Aucun client dbiteur.",returnHistory:"Historique des Retours",returnId:"Retour N",profitLost:"Bnfice Perdu",itemsLabel:"Articles",deleteHistory:"Supprimer l'historique",returnedItems:"Articles retourns",noReturnsForPeriod:"Aucun retour pour cette priode.",allPurchasesHistory:"Historique de tous les achats",reference:"Rfrence",totalAmount:"Montant Total",amountPaid:"Montant Pay",remainingAmountLabel:"Reste  payer",paymentMethod:"Moyen de paiement",remainingDebt:"Dette restante",purchaseDetails:"Dtails de l'achat",noPurchasesRecorded:"Aucun achat enregistr.",supplierDebtsList:"Liste des Dettes Fournisseurs",noSupplierDebt:"Aucune dette envers les fournisseurs.",sellerReportsAndZReport:"Rapports Vendeurs / Ticket Z",netActivity:"Activit Nette",totalSales:"Ventes Totales",numberOfSales:"{count} ventes",totalReturns:"Retours Totaux",numberOfReturns:"{count} retours",transactionList:"Liste des Transactions",transactionType:"Type",viewDetails:"Voir les dtails",noTransactionsForSeller:"Aucune transaction pour ce vendeur/priode.",netRevenue:"Revenu Net",totalRevenueMinusReturns:"Revenu total - Retours",netProfit:"Bnfice Net",realizedProfitMinusExpenses:"Bnfice ralis - Dpenses",customerDebts:"Dettes Clients",clickToViewDetails:"Cliquer pour voir les dtails",totalSupplierDebt:"Dette Fournisseurs",totalCostOfGoods:"Cot Total des Achats",salesPerformance:"Performance des Ventes",topSellingProducts:"Produits les plus vendus",units:"units",salesHistory:"Historique des Ventes",billNumber:"N Bon :",discount:"Remise",saving:"Enregistrement",purchaseHistoryFor:"Historique d'achat pour {name}",totalPurchases:"Total des achats",currentDebt:"Dette actuelle",printReport:"Imprimer le rapport",noInvoicesFound:"Aucune facture trouve pour ce client.",debtManagement:"Gestion de la Dette",totalDebt:"Dette totale",amountToPay:"Montant  payer",enterValidPayment:"Veuillez entrer un montant de paiement valide.",paying:"Paiement en cours...",recordPayment:"Enregistrer le Paiement",addNewCustomer:"Ajouter un Client",nameAndPhoneRequired:"Le nom et le tlphone sont requis.",customerExistsError:"Un client avec le tlphone {phone} existe dj.",customerAddedSuccess:'Client "{name}" ajout avec succs.',confirmCustomerDelete:'tes-vous sr de vouloir supprimer le client "{name}" ?',customerDeletedSuccess:'Client "{name}" supprim.',customerDeleteError:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',customerDeleteErrorHasDebt:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',customerList:"Liste des Clients",printAllDebtReports:"Imprimer tous les rapports de dette",manageDebt:"Grer la dette",printDebtReport:"Imprimer le rapport de dette",history:"Historique",noCustomersAdded:"Aucun client ajout.",debtReportFor:"Rapport de Dette pour {name}",noDebtsToReport:"Aucune dette  signaler.",purchaseHistoryFor:"Historique d'achat pour {name}",noPurchasesYet:"Aucun achat enregistr pour ce fournisseur.",purchaseDate:"Date d'achat",newPurchaseFor:"Nouvel Achat pour {name}",referencePlaceholder:"Ex: Facture N 12345",addProductsToPurchase:"Ajouter des produits  l'achat",selectProducts:"Slectionner un produit existant",orAddNewProductPrompt:"Ou crer un nouveau produit pour ce fournisseur ?",addNewProductButton:"Crer un nouveau produit",saveAndAddToList:"Enregistrer et Ajouter  la liste",noProductsInPurchase:"Aucun produit dans cet achat.",cash:"Espces",card:"Carte bancaire",transfer:"Virement",check:"Chque",completePurchase:"Finaliser l'Achat",addNewSupplier:"Ajouter un Fournisseur",supplierExistsError:"Un fournisseur avec le tlphone {phone} existe dj.",supplierAddedSuccess:'Fournisseur "{name}" ajout avec succs.',confirmSupplierDelete:'tes-vous sr de vouloir supprimer le fournisseur "{name}" ?',supplierDeletedSuccess:'Fournisseur "{name}" supprim.',supplierDeleteError:'Impossible de supprimer le fournisseur "{name}" car il y a une dette de {debt} DH.',supplierDeleteErrorHasDebt:'Impossible de supprimer le fournisseur "{name}" car il y a une dette de {debt} DH.',supplierList:"Liste des Fournisseurs",supplierDebt:"Dette Fournisseur",newPurchase:"Nouvel Achat",managePayments:"Grer les paiements",noDebt:"Aucune dette",noSuppliersAdded:"Aucun fournisseur ajout.",paymentRecorded:"Paiement enregistr avec succs.",editCategory:"Modifier la Catgorie",categoryName:"Nom de la catgorie",addNewCategory:"Ajouter une Catgorie",categoryNameEmptyError:"Le nom de la catgorie ne peut pas tre vide.",categoryExistsError:'La catgorie "{name}" existe dj.',categoryAddedSuccess:'Catgorie "{name}" ajoute.',confirmCategoryDelete:'tes-vous sr de vouloir supprimer la catgorie "{name}" ? Les produits associs ne seront plus catgoriss.',categoryDeletedSuccess:'Catgorie "{name}" supprime.',categoryDeleteError:"Erreur lors de la suppression de la catgorie.",categoryUpdatedSuccess:'Catgorie "{name}" mise  jour.',categoryList:"Liste des Catgories",noCategoriesAdded:"Aucune catgorie ajoute.",editService:"Modifier le Service",serviceName:"Nom du service",addNewService:"Ajouter un Service",serviceNamePlaceholder:"Ex: Frais de livraison",saveService:"Enregistrer le Service",serviceAddedSuccess:'Service "{name}" ajout.',confirmServiceDelete:"tes-vous sr de vouloir supprimer ce service ?",serviceUpdatedSuccess:'Service "{name}" mis  jour.',serviceList:"Liste des Services",noServicesAdded:"Aucun service ajout.",userManagement:"Gestion des Utilisateurs",manageUsersAndPins:"Grer les utilisateurs et les codes PIN de votre magasin.",addUser:"Ajouter un utilisateur",userName:"Nom de l'utilisateur",userRole:"Rle",selectRole:"Slectionner un rle",password:"Mot de passe",pin:"Code PIN",pinInfo:"4 chiffres pour les vendeurs",userExistsError:"Un utilisateur avec ce nom existe dj.",userList:"Liste des utilisateurs",confirmUserDelete:`tes-vous sr de vouloir supprimer l'utilisateur "{name}" ?`,userDeletedSuccess:'Utilisateur "{name}" supprim.',userDeleteError:"Erreur lors de la suppression de l'utilisateur.",userUpdatedSuccess:'Utilisateur "{name}" mis  jour.',storeSettings:"Paramtres du Magasin",updateStoreSettings:"Mettre  jour les informations de votre magasin.",updateStore:"Mettre  jour le Magasin",storeUpdatedSuccess:"Les informations du magasin ont t mises  jour.",dataManagement:"Gestion des Donnes",backupData:"Sauvegarder les Donnes",backupDataDesc:"Tlchargez une copie de toutes vos donnes (produits, ventes, etc.).",backupButton:"Tlcharger la Sauvegarde",restoreData:"Restaurer les Donnes",restoreDataDesc:"Chargez un fichier de sauvegarde pour restaurer l'tat de votre magasin. L'application se rechargera.",restoreButton:"Charger une Sauvegarde",restoreConfirm:"tes-vous sr de vouloir restaurer les donnes ? L'tat actuel sera cras. Cette action est irrversible.",restoreSuccess:"Restauration russie ! L'application va maintenant se recharger.",restoreError:"Fichier de sauvegarde invalide ou corrompu.",jsonParseError:"Erreur d'analyse du fichier JSON. Assurez-vous que le fichier est valide.",trialDaysRemaining:"Il vous reste {days} jours d'essai.",invoiceTitle:"FACTURE",orderFormTitle:"BON DE COMMANDE",invoiceAddress:"Votre Adresse, Ville",productColumn:"Dsignation",prixHT:"P.U HT",thankYou:"Merci de votre visite !",returnReceiptTitle:"BON DE RETOUR",returnIdLabel:"N de Retour :",refundAmountLabel:"Montant Rembours :"},ar:{pos:"",products:"",services:"",finance:"",customers:"",suppliers:"",categories:"",settings:"",logout:" ",welcome:"",admin:"",seller:"",loading:" ",save:"",cancel:"",edit:"",delete:"",add:"",close:"",optional:"",actions:"",name:"",phone:"",email:" ",address:"",ice:"ICE",all:"",date:"",amount:"",description:"",quantity:"",price:"",total:"",stock:"",page:"",previous:"",next:"",searchByName:" ...",noResultsFound:"    .",noDataToExport:"   .",unknown:" ",copied:" !",copy:"",print:"",goBack:"",unknownError:"   .",fillAllFieldsError:"    .",fillNameAndPriceError:"  / .",sellingPriceMustBeHigherError:"        .",failedToFetchError_CORS:"   .          .",login:" ",forStore:":",passwordOrPin:"    ",rememberPin:"  ",activateYourCompany:" ",enterLicenseKey:"      .",licenseKey:" ",activate:"",trialHasExpired:"     ",contactAdminToActivate:"      .",enterActivationCode:"  ",activateApplication:" ",reactivationSuccess:"   .     .",invalidApiKeyError:"   .  API  .",storeNotFound:"  .",storeDisabledError:"  .   .",invalidCredentialsError:"      .",invalidActivationCode:"   .",activationSuccessReload:"  !    .",superAdminPortal:"  ",manageAllStores:"  ",manageAllStoresDesc:"      .",loginToStore:"  ",loginToStoreDesc:"      .",selectStoreToLogin:"  ",loginAsAdmin:" ",noStoresAdded:"     .",noAdminForStore:"       .",backToPortal:"  ",superAdminDashboard:"   ",addStore:" ",storeName:" ",adminPassword:"  ",adminEmail:"  ",trialPeriodDays:"  ()",trialDurationDisplay:"{days} ",storeLogoLabel:" ",activeOnCreation:"  ",inactiveOnCreation:"   ",activateImmediatelyDesc:"       .",aiScanEnabled:"    ",aiScanDisabled:"    ",aiScanFeatureDescription:"       .",addStoreButton:" ",storeCreatedSuccess:"   !",useThisToLoginFirst:"       .",useThisPasswordAfter:"         .",manageStores:" ",storeStatus_notActivated:" ",storeStatus_active:"",storeStatus_inactive:" ",storeStatus_licensed:" ",trialDaysRemaining:":  {days} ",trialEnded:"  ",deleteStore:" ",toggleStoreStatus:"/  ",permanentActivation:" ",permanentActivationDesc:"         .",generateActivationCode:"  ",storeUsersAndPins:"  ",newPassword:"  ",newPin:"  ",saveChanges:" ",newSellerPinPlaceholder:"   ...",addSeller:" ",pinMustBe4Chars:"      4   .",userAddedSuccess:'   "{name}" .',pinUpdateSuccess:"   / .",deleteStoreConfirm:'        "{storeName}"          .',storeDeletedSuccess:'   "{storeName}".',storeDeleteError:"   .",activationCodeForStore:"   {storeName}",copyAndSendToClient:"    .",confirmPermanentActivation:'    .         "{storeName}"',editProduct:" ",addNewProduct:"  ",productInfo:" ",productImagePreview:" ",productName:" ",productNamePlaceholder:":  ",selectCategory:" ",selectSupplier:" ",productVariants:" ",addVariant:" ",variantName:" ",variantNamePlaceholder:":  XL",purchasePrice:" ",sellingPrice:" ",semiWholesalePrice:"  ",wholesalePrice:" ",stockQuantity:" ",lowStockThreshold:"  ",barcode:"  ()",barcodePlaceholder:"    ",saveProduct:" ",productList:" ",searchProducts:"  ...",noProductsAdded:"     .",confirmProductDelete:"          ",variants:"",printBarcodeLabel:"  ",noVariants:"  ",addStock:" ",addStockFor:"  : {name}",quantityToAdd:"  ",selectVariant:" ",noProductsInCategory:"     .",uncategorized:" ",lowStockAlert:"  ",lowStockMessage:"     :",priceLevels:" ",unit:"",semiWholesale:" ",wholesale:"",saleMode:"",returnMode:"",barcodeScannerActive:"  ",scanToAdd:"     .",manualAdd:" ",addCustomItem:"  ",scanReceipt:"  (AI)",scanning:" ...",filterByCategory:"  ",searchPlaceholder:" ...",productNotFound:"   : {barcode}",invoice:"",returnReceipt:" ",customer:"",cashCustomer:" ",debtPayment:" ",manualTotal:" ",downPayment:"",totalHT:"  ",vat:"   (20%)",totalTTC:"  ",remaining:"",refundAmount:" ",processReturn:" ",finalizeAndPrintOrderForm:"   ",finalizeAndPrintInvoice:"  ",emptyCart:" .",emptyCartError:"    .",selectVariantFor:"  ",outOfStock:"  ",customItemName:"  ",itemNamePlaceholder:":  ",unitPriceLabel:" ",enterItemDetails:"  ",fillAllFields:"   .",productOutOfStock:"   : {productName}",notEnoughStock:"    {productName}",productAdded:"  : {productName}",customItemAdded:"     .",geminiApiKeyNotConfigured:" Gemini API  .    .",itemsAddedFromReceipt:"  {count}   .",receiptScanError:"   .    .",filterByPeriod:"  ",today:"",thisWeek:" ",thisMonth:" ",customRange:" ",customItemsDetails:" / ",totalCustomRevenue:"   ",invoiceHistory:" ",invoiceNumber:" ",profitLabel:"",noSalesForPeriod:"    .",manageExpenses:" ",addExpense:" ",expenseHistory:" ",noExpensesForPeriod:"    .",debtorCustomers:" ",debtAmount:" ",noDebtorCustomers:"   .",returnHistory:" ",returnId:" ",profitLost:" ",itemsLabel:"",deleteHistory:" ",returnedItems:" ",noReturnsForPeriod:"    .",allPurchasesHistory:"  ",reference:"",totalAmount:" ",amountPaid:" ",remainingAmountLabel:" ",paymentMethod:" ",remainingDebt:" ",purchaseDetails:" ",noPurchasesRecorded:"    .",supplierDebtsList:"  ",noSupplierDebt:"   .",sellerReportsAndZReport:"  / Ticket Z",netActivity:" ",totalSales:" ",numberOfSales:"{count} ",totalReturns:" ",numberOfReturns:"{count} ",transactionList:" ",transactionType:" ",viewDetails:" ",noTransactionsForSeller:"    /.",netRevenue:" ",totalRevenueMinusReturns:"  - ",netProfit:" ",realizedProfitMinusExpenses:"  - ",customerDebts:" ",clickToViewDetails:"  ",totalSupplierDebt:" ",totalCostOfGoods:"  ",salesPerformance:" ",topSellingProducts:"  ",units:"",salesHistory:" ",billNumber:" :",discount:"",saving:"...",purchaseHistoryFor:"  {name}",totalPurchases:" ",currentDebt:" ",printReport:" ",noInvoicesFound:"      .",debtManagement:" ",totalDebt:" ",amountToPay:"  ",enterValidPayment:"    .",paying:" ...",recordPayment:" ",addNewCustomer:"  ",nameAndPhoneRequired:"  .",customerExistsError:"  {phone}  .",customerAddedSuccess:'   "{name}" .',confirmCustomerDelete:'        "{name}"',customerDeletedSuccess:'   "{name}".',customerDeleteError:'    "{name}"     {debt} .',customerDeleteErrorHasDebt:'    "{name}"     {debt} .',customerList:" ",printAllDebtReports:"   ",manageDebt:" ",printDebtReport:"  ",history:"",noCustomersAdded:"    .",debtReportFor:"   {name}",noDebtsToReport:"    .",noPurchasesYet:"       .",purchaseDate:" ",newPurchaseFor:"   {name}",referencePlaceholder:":   12345",addProductsToPurchase:"  ",selectProducts:"  ",orAddNewProductPrompt:"     ",addNewProductButton:"  ",saveAndAddToList:"   ",noProductsInPurchase:"     .",cash:"",card:" ",transfer:" ",check:"",completePurchase:" ",addNewSupplier:"  ",supplierExistsError:"  {phone}  .",supplierAddedSuccess:'   "{name}" .',confirmSupplierDelete:'        "{name}"',supplierDeletedSuccess:'   "{name}".',supplierDeleteError:'    "{name}"     {debt} .',supplierDeleteErrorHasDebt:'    "{name}"     {debt} .',supplierList:" ",supplierDebt:" ",newPurchase:" ",managePayments:" ",noDebt:"  ",noSuppliersAdded:"    .",paymentRecorded:"   .",editCategory:" ",categoryName:" ",addNewCategory:"  ",categoryNameEmptyError:"      .",categoryExistsError:' "{name}"  .',categoryAddedSuccess:'   "{name}".',confirmCategoryDelete:'        "{name}"      .',categoryDeletedSuccess:'   "{name}".',categoryDeleteError:"   .",categoryUpdatedSuccess:'   "{name}".',categoryList:" ",noCategoriesAdded:"    .",editService:" ",serviceName:" ",addNewService:"  ",serviceNamePlaceholder:":  ",saveService:" ",serviceAddedSuccess:'   "{name}".',confirmServiceDelete:"        ",serviceUpdatedSuccess:'   "{name}".',serviceList:" ",noServicesAdded:"    .",userManagement:" ",manageUsersAndPins:"    .",addUser:" ",userName:" ",userRole:"",selectRole:" ",password:" ",pin:" ",pinInfo:"4  ",userExistsError:"    .",userList:" ",confirmUserDelete:'        "{name}"',userDeletedSuccess:'   "{name}".',userDeleteError:"   .",userUpdatedSuccess:'   "{name}".',storeSettings:" ",updateStoreSettings:"  .",updateStore:" ",storeUpdatedSuccess:"    .",dataManagement:" ",backupData:"  ",backupDataDesc:"     (  ).",backupButton:"  ",restoreData:" ",restoreDataDesc:"      .    .",restoreButton:"  ",restoreConfirm:"            .      .",restoreSuccess:"  !     .",restoreError:"      .",jsonParseError:"    JSON.     .",trialDaysRemaining:"  {days}    .",invoiceTitle:"",orderFormTitle:" ",invoiceAddress:" ",productColumn:"",prixHT:"  ",thankYou:" !",returnReceiptTitle:" ",returnIdLabel:" :",refundAmountLabel:" :"}},JD=({className:t})=>m.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 297.31 290",className:t,children:[m.jsxs("defs",{children:[m.jsx("style",{children:`
                .cls-1{fill:none;}
                .cls-9{fill:#383838; direction: ltr; text-anchor: middle;}
                .dark .cls-9 { fill: #e2e8f0; }
                .cls-3{clip-path:url(#clip-path);}
                .cls-4{fill:url(#linear-gradient);}
                .cls-5{clip-path:url(#clip-path-2);}
                .cls-6{fill:url(#linear-gradient-2);}
                .cls-7{clip-path:url(#clip-path-3);}
                .cls-8{fill:url(#linear-gradient-3);}
                .cls-9{font-size:42px;font-family:Damavand-Regular;}
            `}),m.jsx("clipPath",{id:"clip-path",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M109.57,55.71a47,47,0,1,0,62.05,26.08c7.43,19.09-.76,40.37-18.67,48-18.26,7.73-39.71-1.71-47.91-21.08s0-41.34,18.22-49.07c18-7.61,39,1.42,47.51,20.19a47,47,0,0,0-61.2-24.07"})}),m.jsxs("linearGradient",{id:"linear-gradient",x1:"-661.98",y1:"962.1",x2:"-661.62",y2:"962.1",gradientTransform:"matrix(0, 241.28, 241.28, 0, -232006.06, 159777.96)",gradientUnits:"userSpaceOnUse",children:[m.jsx("stop",{offset:"0",stopColor:"#f8ed86"}),m.jsx("stop",{offset:"1",stopColor:"#e67026"})]}),m.jsx("clipPath",{id:"clip-path-2",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M124.19,100.39c-6.82-16.24-1.91-33.78,11-39.19S164,64.56,170.83,80.8s1.91,33.78-11,39.19a20.64,20.64,0,0,1-8,1.6c-10.9,0-22.21-8.22-27.66-21.2m-.88-40.94C105.39,67,97.14,88.23,104.52,107.34c0,.15.11.3.17.45s.18.45.28.67l.23.54c0,.12.1.24.16.36,8.42,18.79,29.46,27.88,47.46,20.31,18.28-7.68,26.49-29.62,18.34-49-6.23-14.84-20.22-23.88-34.64-23.88a34,34,0,0,0-13.21,2.67"})}),m.jsx("linearGradient",{id:"linear-gradient-2",x1:"-658.75",y1:"961.74",x2:"-658.39",y2:"961.74",gradientTransform:"matrix(0, -173.8, -173.8, 0, 167285.74, -114352.79)",xlinkHref:"#linear-gradient"}),m.jsx("clipPath",{id:"clip-path-3",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M200.23,52.61a392.27,392.27,0,0,0-42,10.42,44.36,44.36,0,0,1,4.52,4.37A373.26,373.26,0,0,1,201.21,58c25.59-4.64,33.87-1.82,34.68.32S232.31,68.05,210,81.4a374.37,374.37,0,0,1-35.14,18.25l-.72.33,0,0-.53.24c-11.66,5.34-24.31,10.61-37.5,15.6l-1.6.6c-6.33,2.38-12.61,4.62-18.79,6.73l0,0c-7.74,2.63-15.31,5-22.64,7.2a375.35,375.35,0,0,1-38.46,9.4c-25.59,4.63-33.88,1.81-34.68-.33s3.57-9.72,25.89-23.07A375.62,375.62,0,0,1,80.86,98.15a45.2,45.2,0,0,1,.53-6.27A391.4,391.4,0,0,0,42.9,111.69c-9.64,5.77-17,11-21.79,15.67-5.78,5.55-7.88,10.15-6.42,14s6.07,6,14.08,6.34c6.67.31,15.66-.55,26.71-2.55a389.31,389.31,0,0,0,42-10.42c7.63-2.29,15.52-4.85,23.55-7.64l.08,0q7.56-2.62,15.25-5.52,2.9-1.08,5.75-2.18c10.32-4,20.29-8.14,29.68-12.34l1-.46.08,0,1.44-.65a391.15,391.15,0,0,0,38.48-19.81c9.64-5.77,17-11,21.79-15.67,5.78-5.55,7.88-10.15,6.42-14s-6.07-6-14.07-6.34c-.9,0-1.83-.06-2.8-.06a138.81,138.81,0,0,0-23.92,2.61"})}),m.jsx("linearGradient",{id:"linear-gradient-3",x1:"-662.36",y1:"961.67",x2:"-662",y2:"961.67",gradientTransform:"matrix(0, 179.06, 179.06, 0, -172067.09, 118662.76)",xlinkHref:"#linear-gradient"})]}),m.jsx("g",{className:"cls-3",children:m.jsx("rect",{className:"cls-4",x:"54.96",y:"29.99",width:"145.51",height:"144.37",transform:"translate(-15 127.91) rotate(-37.32)"})}),m.jsx("g",{className:"cls-5",children:m.jsx("rect",{className:"cls-6",x:"80.38",y:"38.67",width:"115.7",height:"115.69",transform:"translate(-7.19 154.26) rotate(-44.55)"})}),m.jsx("g",{className:"cls-7",children:m.jsx("rect",{className:"cls-8",x:"3.22",y:"10.66",width:"249.28",height:"176.73",transform:"translate(-6.97 84.62) rotate(-21.98)"})}),m.jsx("text",{className:"cls-9",x:"148.655",y:"240",children:"Go-shop"})]}),iB="modulepreload",aB=function(t){return"/goshop0.2/"+t},RC={},Ol=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=aB(l),l in RC)return;RC[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":iB,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},oB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ol(async()=>{const{default:r}=await Promise.resolve().then(()=>Sd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class sS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class FC extends sS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $C extends sS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class BC extends sS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var e2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(e2||(e2={}));var sB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class lB{constructor(e,{headers:n={},customFetch:r,region:i=e2.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=oB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return sB(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:s}).catch(w=>{throw w.name==="AbortError"?w:new FC(w)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new $C(p);if(!p.ok)throw new BC(p);let v=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new FC(i)}:{data:null,error:i,response:i instanceof BC||i instanceof $C?i.context:void 0}}})}}var Si={},lS={},Rv={},LA={},Fv={},$v={},uB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zf=uB();const cB=zf.fetch,XD=zf.fetch.bind(zf),QD=zf.Headers,fB=zf.Request,dB=zf.Response,Sd=Object.freeze(Object.defineProperty({__proto__:null,Headers:QD,Request:fB,Response:dB,default:XD,fetch:cB},Symbol.toStringTag,{value:"Module"})),hB=WP(Sd);var Bv={};Object.defineProperty(Bv,"__esModule",{value:!0});let pB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Bv.default=pB;var ZD=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($v,"__esModule",{value:!0});const AB=ZD(hB),mB=ZD(Bv);let gB=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=AB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,u;let c=null,f=null,p=null,h=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const w=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,h=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{c=JSON.parse(w),Array.isArray(c)&&a.status===404&&(f=[],c=null,h=200,v="OK")}catch{a.status===404&&w===""?(h=204,v="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,v="OK"),c&&this.shouldThrowOnError)throw new mB.default(c)}return{error:c,data:f,count:p,status:h,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};$v.default=gB;var vB=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fv,"__esModule",{value:!0});const yB=vB($v);let bB=class extends yB.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Fv.default=bB;var xB=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(LA,"__esModule",{value:!0});const wB=xB(Fv);let SB=class extends wB.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};LA.default=SB;var _B=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rv,"__esModule",{value:!0});const kh=_B(LA);let TB=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new kh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new kh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new kh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new kh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new kh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Rv.default=TB;var eO=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lS,"__esModule",{value:!0});const CB=eO(Rv),NB=eO(LA);let EB=class tO{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new CB.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new tO(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(s="POST",u=n);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new NB.default({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};lS.default=EB;var _d=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Si,"__esModule",{value:!0});Si.PostgrestError=Si.PostgrestBuilder=Si.PostgrestTransformBuilder=Si.PostgrestFilterBuilder=Si.PostgrestQueryBuilder=Si.PostgrestClient=void 0;const nO=_d(lS);Si.PostgrestClient=nO.default;const rO=_d(Rv);Si.PostgrestQueryBuilder=rO.default;const iO=_d(LA);Si.PostgrestFilterBuilder=iO.default;const aO=_d(Fv);Si.PostgrestTransformBuilder=aO.default;const oO=_d($v);Si.PostgrestBuilder=oO.default;const sO=_d(Bv);Si.PostgrestError=sO.default;var kB=Si.default={PostgrestClient:nO.default,PostgrestQueryBuilder:rO.default,PostgrestFilterBuilder:iO.default,PostgrestTransformBuilder:aO.default,PostgrestBuilder:oO.default,PostgrestError:sO.default};const{PostgrestClient:PB,PostgrestQueryBuilder:C_e,PostgrestFilterBuilder:N_e,PostgrestTransformBuilder:E_e,PostgrestBuilder:k_e,PostgrestError:P_e}=kB;class MB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const DB="2.15.5",OB=`realtime-js/${DB}`,IB="1.0.0",t2=1e4,jB=1e3,LB=100;var fp;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fp||(fp={}));var hr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(hr||(hr={}));var Wa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wa||(Wa={}));var n2;(function(t){t.websocket="websocket"})(n2||(n2={}));var vu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vu||(vu={}));class RB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class lO{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yn||(yn={}));const UC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=FB(o,t,e,i),a),{})},FB=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?uO(a,o):r2(o)},uO=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return qB(e,n)}switch(t){case yn.bool:return $B(e);case yn.float4:case yn.float8:case yn.int2:case yn.int4:case yn.int8:case yn.numeric:case yn.oid:return BB(e);case yn.json:case yn.jsonb:return UB(e);case yn.timestamp:return HB(e);case yn.abstime:case yn.date:case yn.daterange:case yn.int4range:case yn.int8range:case yn.money:case yn.reltime:case yn.text:case yn.time:case yn.timestamptz:case yn.timetz:case yn.tsrange:case yn.tstzrange:return r2(e);default:return r2(e)}},r2=t=>t,$B=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},BB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>uO(e,s))}return t},HB=t=>typeof t=="string"?t.replace(" ","T"):t,cO=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class a1{constructor(e,n,r={},i=t2){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qC||(qC={}));class dp{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=dp.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=dp.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const p=c.map(w=>w.presence_ref),h=f.map(w=>w.presence_ref),v=c.filter(w=>h.indexOf(w.presence_ref)<0),b=f.filter(w=>p.indexOf(w.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(l[u]=b)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(h=>h.presence_ref),p=c.filter(h=>f.indexOf(h.presence_ref)<0);e[s].unshift(...p)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var HC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(HC||(HC={}));var hp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hp||(hp={}));var Wo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wo||(Wo={}));class uS{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new a1(this,Wa.join,this.params,this.timeout),this.rejoinTimer=new lO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wa.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new dp(this),this.broadcastEndpointURL=cO(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==hr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[hp.PRESENCE]&&this.bindings[hp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Wo.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Wo.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket.setAuth(),h===void 0){e==null||e(Wo.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<w;x++){const S=b[x],{filter:{event:T,schema:C,table:k,filter:E}}=S,D=h&&h[x];if(D&&D.event===T&&D.schema===C&&D.table===k&&D.filter===E)y.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=hr.errored,e==null||e(Wo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Wo.SUBSCRIBED);return}}).receive("error",h=>{this.state=hr.errored,e==null||e(Wo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===hr.joined&&e===hp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new a1(this,Wa.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=hr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new a1(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>LB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Wa;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var v,b,w;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=h.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(h=>h.callback(p,r)):(a=this.bindings[o])===null||a===void 0||a.filter(h=>{var v,b,w,y,x,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const T=h.id,C=(v=h.filter)===null||v===void 0?void 0:v.event;return T&&((b=n.ids)===null||b===void 0?void 0:b.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(x=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:b,table:w,commit_timestamp:y,type:x,errors:S}=v;p=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(v))}h.callback(p,r)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&uS.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wa.close,{},e)}_onError(e){this._on(Wa.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=UC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=UC(e.columns,e.old_record)),n}}const o1=()=>{},Gm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zB=[1e3,2e3,5e3,1e4],VB=1e4,GB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WB{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=t2,this.transport=null,this.heartbeatIntervalMs=Gm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=o1,this.ref=0,this.reconnectTimer=null,this.logger=o1,this.conn=null,this.sendBuffer=[],this.serializer=new RB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ol(async()=>{const{default:s}=await Promise.resolve().then(()=>Sd);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${n2.websocket}`,this.httpEndpoint=cO(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IB}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fp.connecting:return vu.Connecting;case fp.open:return vu.Open;case fp.closing:return vu.Closing;default:return vu.Closed}}isConnected(){return this.connectionState()===vu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new uS(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(jB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wa.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([GB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:OB};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Wa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:t2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Gm.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:o1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>zB[f-1]||VB,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,p)=>p(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class cS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function rr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class YB extends cS{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class i2 extends cS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var KB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const fO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ol(async()=>{const{default:r}=await Promise.resolve().then(()=>Sd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},JB=()=>KB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ol(()=>Promise.resolve().then(()=>Sd),void 0)).Response:Response}),a2=t=>{if(Array.isArray(t))return t.map(n=>a2(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=a2(r)}),e},XB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Zu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const s1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QB=(t,e,n)=>Zu(void 0,void 0,void 0,function*(){const r=yield JB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new YB(s1(i),a,o))}).catch(i=>{e(new i2(s1(i),i))}):e(new i2(s1(t),t))}),ZB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(XB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function RA(t,e,n,r,i,a){return Zu(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,ZB(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>QB(l,s,r))})})}function d0(t,e,n,r){return Zu(this,void 0,void 0,function*(){return RA(t,"GET",e,n,r)})}function fo(t,e,n,r,i){return Zu(this,void 0,void 0,function*(){return RA(t,"POST",e,r,i,n)})}function o2(t,e,n,r,i){return Zu(this,void 0,void 0,function*(){return RA(t,"PUT",e,r,i,n)})}function eU(t,e,n,r){return Zu(this,void 0,void 0,function*(){return RA(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dO(t,e,n,r,i){return Zu(this,void 0,void 0,function*(){return RA(t,"DELETE",e,r,i,n)})}var tU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class nU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return tU(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}var rU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class iU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new nU(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return rU(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}}var bi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const aU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oU{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=fO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return bi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},zC),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?o2:fo)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rr(a))return{data:null,error:a};throw a}})}upload(e,n,r){return bi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return bi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:zC.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield o2(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(rr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return bi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield fo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new cS("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}update(e,n,r){return bi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return bi(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return bi(this,void 0,void 0,function*(){try{return{data:{path:(yield fo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return bi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield fo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return bi(this,void 0,void 0,function*(){try{const i=yield fo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>d0(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new iU(l,this.shouldThrowOnError)}info(e){return bi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield d0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:a2(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}exists(e){return bi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield eU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r)&&r instanceof i2){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return bi(this,void 0,void 0,function*(){try{return{data:yield dO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}list(e,n,r){return bi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},aU),n),{prefix:e||""});return{data:yield fo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rr(i))return{data:null,error:i};throw i}})}listV2(e,n){return bi(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield fo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const sU="2.12.2",lU={"X-Client-Info":`storage-js/${sU}`};var Rc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class uU{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},lU),n),this.fetch=fO(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Rc(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(rr(e))return{data:null,error:e};throw e}})}getBucket(e){return Rc(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Rc(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Rc(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Rc(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Rc(this,void 0,void 0,function*(){try{return{data:yield dO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}class cU extends uU{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new oU(this.url,this.headers,e,this.fetch)}}const fU="2.58.0";let Kh="";typeof Deno<"u"?Kh="deno":typeof document<"u"?Kh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kh="react-native":Kh="node";const dU={"X-Client-Info":`supabase-js-${Kh}/${fU}`},hU={headers:dU},pU={schema:"public"},AU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mU={};var gU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const vU=t=>{let e;return t?e=t:typeof fetch>"u"?e=XD:e=fetch,(...n)=>e(...n)},yU=()=>typeof Headers>"u"?QD:Headers,bU=(t,e,n)=>{const r=vU(n),i=yU();return(a,o)=>gU(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var xU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};function wU(t){return t.endsWith("/")?t:t+"/"}function SU(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>xU(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function _U(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hO="2.72.0",Jc=30*1e3,s2=3,l1=s2*Jc,TU="http://localhost:9999",CU="supabase.auth.token",NU={"X-Client-Info":`gotrue-js/${hO}`},l2="X-Supabase-Api-Version",pO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kU=10*60*1e3;class fS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Tt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class PU extends fS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function MU(t){return Tt(t)&&t.name==="AuthApiError"}class AO extends fS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Fl extends fS{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ks extends Fl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DU(t){return Tt(t)&&t.name==="AuthSessionMissingError"}class Ph extends Fl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wm extends Fl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ym extends Fl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OU(t){return Tt(t)&&t.name==="AuthImplicitGrantRedirectError"}class VC extends Fl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class u2 extends Fl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function u1(t){return Tt(t)&&t.name==="AuthRetryableFetchError"}class GC extends Fl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class c2 extends Fl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const h0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),WC=` 	
\r=`.split(""),IU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<WC.length;e+=1)t[WC[e].charCodeAt(0)]=-2;for(let e=0;e<h0.length;e+=1)t[h0[e].charCodeAt(0)]=e;return t})();function YC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(h0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(h0[r]),e.queuedBits-=6}}function mO(t,e,n){const r=IU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function KC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{RU(o,r,n)};for(let o=0;o<t.length;o+=1)mO(t.charCodeAt(o),i,a);return e.join("")}function jU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function LU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}jU(r,e)}}function RU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function FU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)mO(t.charCodeAt(i),n,r);return new Uint8Array(e)}function $U(t){const e=[];return LU(t,n=>e.push(n)),new Uint8Array(e)}function BU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>YC(i,n,r)),YC(null,n,r),e.join("")}function UU(t){return Math.round(Date.now()/1e3)+t}function qU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const pa=()=>typeof window<"u"&&typeof document<"u",iu={tested:!1,writable:!1},gO=()=>{if(!pa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(iu.tested)return iu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),iu.tested=!0,iu.writable=!0}catch{iu.tested=!0,iu.writable=!1}return iu.writable};function HU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const vO=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ol(async()=>{const{default:r}=await Promise.resolve().then(()=>Sd);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},au=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gs=async(t,e)=>{await t.removeItem(e)};class Uv{constructor(){this.promise=new Uv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Uv.promiseConstructor=Promise;function c1(t){const e=t.split(".");if(e.length!==3)throw new c2("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!EU.test(e[r]))throw new c2("JWT not in base64url format");return{header:JSON.parse(KC(e[0])),payload:JSON.parse(KC(e[1])),signature:FU(e[2]),raw:{header:e[0],payload:e[1]}}}async function VU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GU(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function WU(t){return("0"+t.toString(16)).substr(-2)}function YU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,WU).join("")}async function KU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function JU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fc(t,e,n=!1){const r=YU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xc(t,`${e}-code-verifier`,i);const a=await JU(r);return[a,r===a?"plain":"s256"]}const XU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QU(t){const e=t.headers.get(l2);if(!e||!e.match(XU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function e9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const t9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $c(t){if(!t9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function f1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JC(t){return JSON.parse(JSON.stringify(t))}var n9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const hu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r9=[502,503,504];async function XC(t){var e;if(!zU(t))throw new u2(hu(t),0);if(r9.includes(t.status))throw new u2(hu(t),t.status);let n;try{n=await t.json()}catch(a){throw new AO(hu(a),a)}let r;const i=QU(t);if(i&&i.getTime()>=pO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new GC(hu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ks}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new GC(hu(n),t.status,n.weak_password.reasons);throw new PU(hu(n),t.status||500,r)}const i9=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ot(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[l2]||(a[l2]=pO["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await a9(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function a9(t,e,n,r,i,a){const o=i9(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new u2(hu(l),0)}if(s.ok||await XC(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await XC(l)}}function uo(t){var e;let n=null;u9(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=UU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function QC(t){const e=uo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function il(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function o9(t){return{data:t,error:null}}function s9(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=n9(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function l9(t){return t}function u9(t){return t.access_token&&t.refresh_token&&t.expires_in}const d1=["global","local","others"];var c9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class f9{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=d1[0]){if(d1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${d1.join(", ")}`);try{return await Ot(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:il})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=c9(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:s9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Tt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ot(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:il})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:l9});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Tt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$c(e);try{return await Ot(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:il})}catch(n){if(Tt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){$c(e);try{return await Ot(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:il})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){$c(e);try{return await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:il})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$c(e.userId);try{const{data:n,error:r}=await Ot(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){$c(e.userId),$c(e.id);try{return{data:await Ot(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}}function ZC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function d9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bc={debug:!!(globalThis&&gO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yO extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class h9 extends yO{}async function p9(t,e,n){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Bc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new h9(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function bO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function A9(t){return parseInt(t,16)}function m9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function g9(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=bO(t.address),v=c?`${c}://${r}`:r,b=t.statement?`${t.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${h}

${b}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let x=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);x+=`
- ${S}`}y+=x}return`${w}
${y}`}d9();const v9={url:TU,storageKey:CU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function eN(t,e,n){return await n()}const Uc={};class Bp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bp.nextInstanceID,Bp.nextInstanceID+=1,this.instanceID>0&&pa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},v9),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new f9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vO(i.fetch),this.lock=i.lock||eN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:pa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=p9:this.lock=eN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:gO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ZC(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ZC(this.memoryStorage)),pa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Uc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Uc[this.storageKey]=Object.assign(Object.assign({},Uc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Uc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Uc[this.storageKey]=Object.assign(Object.assign({},Uc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hO}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=HU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),pa()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),OU(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Tt(n)?{error:n}:{error:new AO("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:uo}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Tt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:p}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Fc(this.storage,this.storageKey)),a=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:v},xform:uo})}else if("phone"in e){const{phone:c,password:f,options:p}=e;a=await Ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:uo})}else throw new Wm("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Tt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:QC})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:QC})}else throw new Wm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ph}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,f,p;let h,v;if("message"in e)h=e.message,v=e.signature;else{const{chain:b,wallet:w,statement:y,options:x}=e;let S;if(pa())if(typeof w=="object")S=w;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const T=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=bO(C[0]);let E=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const I=await S.request({method:"eth_chainId"});E=A9(I)}const D={domain:T.host,address:k,statement:y,uri:T.href,version:"1",chainId:E,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.resources};h=g9(D),v=await S.request({method:"personal_sign",params:[m9(h),k]})}try{const{data:b,error:w}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:uo});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ph}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(Tt(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,f,p,h;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:w,wallet:y,statement:x,options:S}=e;let T;if(pa())if(typeof y=="object")T=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),x?{statement:x}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:w,error:y}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:BU(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:uo});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ph}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(Tt(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await au(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:uo});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ph}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Tt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await Ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:uo}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ph}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Fc(this.storage,this.storageKey));const{error:f}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await Ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Wm("You must provide either an email or phone number.")}catch(s){if(Tt(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await Ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:uo});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Tt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Fc(this.storage,this.storageKey)),await Ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:o9})}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ks;const{error:i}=await Ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Tt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await Ot(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Wm("You must provide either an email or phone number and a type")}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await au(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<l1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await au(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=f1()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:il}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ks}:await Ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:il})})}catch(n){if(Tt(n))return DU(n)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ks;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Fc(this.storage,this.storageKey));const{data:u,error:c}=await Ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:il});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Tt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ks;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=c1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Tt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ks;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Tt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!pa())throw new Ym("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ym(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new VC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ym("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new VC("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Ym("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let p=c+f;l&&(p=parseInt(l));const h=p-c;h*1e3<=Jc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=p-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,c);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Tt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await au(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(MU(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=qU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Fc(this.storage,this.storageKey,!0));try{return await Ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Tt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:p}=a;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ot(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return pa()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Tt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Ot(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GU(async i=>(i>0&&await VU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:uo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&u1(a)&&Date.now()+o-r<Jc})}catch(r){if(this._debug(n,"error",r),Tt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),pa()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await au(this.storage,this.storageKey);if(i&&this.userStorage){let o=await au(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Xc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:f1()}else if(i&&!i.user&&!i.user){const o=await au(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Gs(this.storage,this.storageKey+"-user"),await Xc(this.storage,this.storageKey,i)):i.user=f1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<l1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${l1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),u1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ks;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Uv;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ks;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Tt(a)){const o={session:null,error:a};return u1(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=JC(i);await Xc(this.storage,this.storageKey,a)}else{const i=JC(n);await Xc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await Gs(this.storage,this.storageKey+"-code-verifier"),await Gs(this.storage,this.storageKey+"-user"),this.userStorage&&await Gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Jc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Jc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jc}ms, refresh threshold is ${s2} ticks`),i<=s2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yO)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Fc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Ot(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Ot(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Ot(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Tt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=c1(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+kU>i)return r;const{data:a,error:o}=await Ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};r=h.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=c1(r);n!=null&&n.allowExpired||ZU(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:a,header:i,signature:o},error:null}}const c=e9(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,$U(`${s}.${l}`)))throw new c2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}}}Bp.nextInstanceID=0;const y9=Bp;class b9 extends y9{constructor(e){super(e)}}var x9=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class w9{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=_U(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:pU,realtime:mU,auth:Object.assign(Object.assign({},AU),{storageKey:l}),global:hU},c=SU(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=bU(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new PB(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new cU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new lB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return x9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b9({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new WB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S9=(t,e,n)=>new w9(t,e,n);function _9(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xO="https://kclntdmvpeykknjnndeb.supabase.co",f2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjbG50ZG12cGV5a2tuam5uZGViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTk0MjEsImV4cCI6MjA3NTE3NTQyMX0.O49_JCNUZxPlp6EAqbZHUpJWYJGFBl63QsnmBICyphI";function T9(){return!!(xO.startsWith("http")&&f2&&f2.startsWith("eyJ"))}const C9=()=>T9()?S9(xO,f2):(console.error("Supabase credentials are not set correctly in supabaseClient.ts! Please provide a valid URL and public anon key."),new Proxy({},{get:(t,e)=>e==="channel"?()=>({on:()=>({subscribe:()=>({unsubscribe:()=>Promise.resolve("ok")})})}):e==="removeChannel"?()=>{}:e==="from"?()=>new Proxy({},{get:()=>()=>Promise.resolve({data:[],error:{message:"Supabase not configured"}})}):()=>{}})),qt=C9(),Gt=(t,e)=>{if(t)throw console.error(`Supabase error in ${e}:`,t),new Error(t.message)},N9=async t=>{const{data:e,error:n}=await qt.from("stores").select("*").eq("id",t).single();return Gt(n,"getStoreById"),e},wO=async t=>{const{data:e,error:n}=await qt.from("stores").select("*").eq("licenseKey",t).single();return n&&n.code!=="PGRST116"&&Gt(n,"getStoreByLicenseKey"),e},E9=async(t,e)=>{if(!t.isActive)throw new Error("storeDisabledError");const{data:n,error:r}=await qt.from("users").select("*").eq("storeId",t.id).or(`password.eq.${e},pin.eq.${e}`);if(Gt(r,"login"),n&&n.length>0)return{user:n[0],store:t};throw new Error("invalidCredentialsError")},k9=async(t,e)=>{const n="GoShop-Activation-Key-Abzn-Secret-2024";if(!e.startsWith("PERM-"))return!1;try{const r=atob(e.replace("PERM-","")),[i,a]=r.split("::");if(i===t&&a===n){const{error:o}=await qt.from("stores").update({isActive:!0,trialStartDate:null,licenseProof:new Date().toISOString()}).eq("id",t);return Gt(o,"verifyAndActivateStoreWithCode"),!0}}catch(r){console.error("Activation code decoding failed",r)}return!1},Za=async(t,e)=>{const{data:n,error:r}=await qt.from(t).select("*").eq("storeId",e);return Gt(r,`getAllForStore (${t})`),n||[]},P9=t=>Za("products",t),SO=t=>Za("productVariants",t),M9=t=>Za("sales",t),D9=t=>Za("expenses",t),O9=t=>Za("customers",t),I9=t=>Za("suppliers",t),j9=t=>Za("categories",t),L9=t=>Za("purchases",t),R9=t=>Za("stockBatches",t),F9=t=>Za("returns",t),$9=t=>Za("users",t),_O=async()=>{const{data:t,error:e}=await qt.from("stores").select("*");return Gt(e,"getAllStores"),t||[]},B9=async()=>{const{data:t,error:e}=await qt.from("users").select("*");return Gt(e,"getAllUsers"),t||[]},TO=async t=>{const{data:e,error:n}=await qt.from("users").select("*").eq("storeId",t).eq("role","admin").single();return Gt(n,"getAdminUserForStore"),e},U9=async(t,e,n,r,i,a,o,s)=>{const l=`GO-${crypto.randomUUID().slice(0,8).toUpperCase()}`,{data:u,error:c}=await qt.from("stores").insert({name:t,logo:e,licenseKey:l,trialDurationDays:i,address:a,ice:o,enableAiReceiptScan:s}).select().single();if(Gt(c,"createStore"),!u)throw new Error("Store creation failed");const{data:f,error:p}=await qt.from("users").insert({name:"admin",email:r,password:n,role:"admin",storeId:u.id}).select().single();if(Gt(p,"createAdmin"),!f)throw new Error("Admin creation failed");return{store:u,user:f,licenseKey:l}},q9=async t=>{const{error:e}=await qt.from("stores").delete().eq("id",t);Gt(e,"deleteStore")},Og=async t=>{const{data:e,error:n}=await qt.from("stores").update(t).eq("id",t.id).select().single();return Gt(n,"updateStore"),e},$l=async(t,e)=>{const{data:n,error:r}=await qt.from(t).insert(e).select().single();return Gt(r,`addSingle (${t})`),n},qv=async(t,e)=>{const{error:n}=await qt.from(t).update(e).eq("id",e.id);Gt(n,`updateSingle (${t})`)},ec=async(t,e)=>{const{error:n}=await qt.from(t).delete().eq("id",e);Gt(n,`deleteSingle (${t})`)},H9=async(t,e)=>{const{data:n,error:r}=await qt.from("products").insert(t).select().single();if(Gt(r,"addProductWithVariants (product)"),!n)throw new Error("Product creation failed");const i=e.map(u=>({...u,productId:n.id,storeId:n.storeId})),{data:a,error:o}=await qt.from("productVariants").insert(i.map(({stockQuantity:u,...c})=>c)).select();if(Gt(o,"addProductWithVariants (variants)"),!a)throw new Error("Variants creation failed");const s=a.map((u,c)=>({variantId:u.id,quantity:e[c].stockQuantity||0,purchasePrice:u.purchasePrice,storeId:n.storeId,createdAt:new Date().toISOString()})).filter(u=>u.quantity>0);let l=[];if(s.length>0){const{data:u,error:c}=await qt.from("stockBatches").insert(s).select();Gt(c,"addProductWithVariants (stock)"),l=u||[]}return{product:n,variants:a,stockBatches:l}},z9=async(t,e)=>{const{error:n}=await qt.from("products").update(t).eq("id",t.id);Gt(n,"updateProductWithVariants (product)");const i=(await SO(t.storeId)).filter(p=>p.productId===t.id),a=[],o=[],s=[];for(const p of e)if(p.id){const h=i.find(v=>v.id===p.id);h&&a.push({...h,...p,id:p.id,priceSemiWholesale:p.priceSemiWholesale||0,priceWholesale:p.priceWholesale||0})}else o.push({...p,productId:t.id,storeId:t.storeId,priceSemiWholesale:p.priceSemiWholesale||0,priceWholesale:p.priceWholesale||0});let l=[];if(a.length>0){const{data:p,error:h}=await qt.from("productVariants").upsert(a).select();Gt(h,"updateProductWithVariants (update variants)"),l=p||[]}let u=[];if(o.length>0){const{data:p,error:h}=await qt.from("productVariants").insert(o.map(v=>({...v,stockQuantity:void 0}))).select();Gt(h,"updateProductWithVariants (insert variants)"),u=p||[],u.forEach(v=>{const b=o.find(w=>w.name===v.name);b&&"stockQuantity"in b&&b.stockQuantity>0&&s.push({variantId:v.id,quantity:b.stockQuantity,purchasePrice:v.purchasePrice,storeId:t.storeId,createdAt:new Date().toISOString()})})}const c=i.filter(p=>!e.some(h=>h.id===p.id)).map(p=>p.id);if(c.length>0){const{error:p}=await qt.from("productVariants").delete().in("id",c);Gt(p,"updateProductWithVariants (delete variants)")}let f=[];if(s.length>0){const{data:p,error:h}=await qt.from("stockBatches").insert(s).select();Gt(h,"updateProductWithVariants (stock)"),f=p||[]}return{updatedVariants:l,newVariants:u,deletedVariantIds:c,newStockBatches:f}},V9=t=>ec("products",t),G9=async t=>{const e=(await qt.from("productVariants").select("*").eq("id",t.variantId).single()).data;if(!e)throw new Error("Variant not found");const n={variantId:t.variantId,productId:e.productId,productName:"",variantName:e.name,quantity:t.quantity,purchasePrice:t.purchasePrice},r={storeId:e.storeId,supplierId:t.supplierId,date:new Date().toISOString(),items:[n],totalAmount:t.quantity*t.purchasePrice,reference:"purchase_ref_stock_adjustment",amountPaid:t.quantity*t.purchasePrice,remainingAmount:0,paymentMethod:"cash"},{data:i,error:a}=await qt.from("purchases").insert(r).select().single();if(Gt(a,"addStock (purchase)"),!i)throw new Error("Purchase creation failed");const o={variantId:t.variantId,quantity:t.quantity,purchasePrice:t.purchasePrice,storeId:e.storeId,createdAt:new Date().toISOString()},{data:s,error:l}=await qt.from("stockBatches").insert(o).select().single();if(Gt(l,"addStock (stock)"),!s)throw new Error("Stock batch creation failed");const u={...e,purchasePrice:t.purchasePrice,price:t.sellingPrice},{data:c,error:f}=await qt.from("productVariants").update(u).eq("id",t.variantId).select().single();if(Gt(f,"addStock (variant update)"),!c)throw new Error("Variant update failed");return{purchase:i,newStockBatch:s,updatedVariant:c}},W9=async t=>{const{data:e,error:n}=await qt.from("purchases").insert(t).select().single();if(Gt(n,"addPurchase"),!e)throw new Error("Purchase creation failed");const r=t.items.map(o=>({variantId:o.variantId,quantity:o.quantity,purchasePrice:o.purchasePrice,storeId:t.storeId,createdAt:t.date})),{data:i,error:a}=await qt.from("stockBatches").insert(r).select();return Gt(a,"addPurchase (stock)"),{newPurchase:e,newStockBatches:i||[]}},Y9=t=>qv("purchases",t),K9=async(t,e,n,r,i,a)=>{const o=t.reduce((l,u)=>u.purchasePrice?l+(u.price-u.purchasePrice)*u.quantity:l+u.price*u.quantity,0),s={storeId:a,userId:i,date:new Date().toISOString(),items:t,total:r,downPayment:e,remainingAmount:r-e,profit:o,customerId:n};return $l("sales",s)},J9=async(t,e,n)=>{const r=t.reduce((o,s)=>o+s.price*s.quantity,0),i=t.reduce((o,s)=>s.purchasePrice?o+(s.price-s.purchasePrice)*s.quantity:o,0),a={storeId:n,userId:e,date:new Date().toISOString(),items:t,refundAmount:r,profitLost:i};return $l("returns",a)},X9=async(t,e,n,r)=>{const i={storeId:r,userId:n,customerId:t,date:new Date().toISOString(),items:[{id:`debt_payment_${Date.now()}`,productId:`debt_payment_${Date.now()}`,storeId:r,name:"Paiement de dette",price:e,quantity:1,type:"service",image:"",isCustom:!0}],total:0,downPayment:-e,remainingAmount:-e,profit:0};return $l("sales",i)},Q9=t=>$l("expenses",t),Z9=t=>qv("expenses",t),eq=t=>ec("expenses",t),tq=t=>ec("returns",t),nq=async t=>{const{error:e}=await qt.from("returns").delete().eq("storeId",t);Gt(e,"deleteAllReturns")},rq=t=>$l("customers",t),iq=async t=>{const{data:e,error:n}=await qt.from("sales").select("remainingAmount").eq("customerId",t);if(Gt(n,"deleteCustomer (check debt)"),((e==null?void 0:e.reduce((i,a)=>i+a.remainingAmount,0))||0)>0)throw new Error("customerDeleteErrorHasDebt");await ec("customers",t)},aq=t=>$l("suppliers",t),oq=async t=>{const{data:e,error:n}=await qt.from("purchases").select("remainingAmount").eq("supplierId",t);if(Gt(n,"deleteSupplier (check debt)"),((e==null?void 0:e.reduce((i,a)=>i+a.remainingAmount,0))||0)>0)throw new Error("supplierDeleteErrorHasDebt");await ec("suppliers",t)},sq=t=>$l("categories",t),lq=t=>qv("categories",t),uq=t=>ec("categories",t),CO=t=>$l("users",t),NO=t=>qv("users",t),cq=t=>ec("users",t),fq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),m.jsx("path",{d:"M12 8v4l2 2"})]}),dq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),m.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),m.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),hq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),pq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"8",cy:"8",r:"6"}),m.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),m.jsx("path",{d:"M7 6h1v4"}),m.jsx("path",{d:"m16.71 13.88.7.71-2.82 2.82-.71-.71A6 6 0 0 1 7.18 6.18"})]}),Sl=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),si=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),EO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5"}),m.jsx("path",{d:"M17 9v6"}),m.jsx("path",{d:"M13 9v6"}),m.jsx("path",{d:"M9 9v6"}),m.jsx("path",{d:"M5 9v6"})]}),dS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),hS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2a2 2 0 0 0-2-2z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ma=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12 17v-10"}),m.jsx("path",{d:"M9 14l3 3 3-3"}),m.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"})]}),Hv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),pS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("path",{d:"M20 8v6M23 11h-6"})]}),kO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M10 17.5V14H3V12l4-9h11v9h-3.5"}),m.jsx("path",{d:"M10 17.5h4.5l1.9-2.9"}),m.jsx("circle",{cx:"6.5",cy:"17.5",r:"2.5"}),m.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),PO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),AS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}),m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}),m.jsx("path",{d:"M2 7h20"}),m.jsx("path",{d:"M22 7v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7"})]}),MO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),m.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),_l=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})}),mS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),gS=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),Aq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),FA=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),m.jsx("polyline",{points:"12 5 19 12 12 19"})]}),$A=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),zv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),m.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),m.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),tN=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m6 9 6 6 6-6"})}),mq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),DO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),gq=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),OO=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),m.jsx("path",{d:"m21 2-9.6 9.6"}),m.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]}),nN="Abzn11241984",vq=({onLoginSuccess:t,onSuperAdminLogin:e,t:n,language:r,setLanguage:i,theme:a,toggleTheme:o})=>{const[s,l]=ie.useState("loading"),[u,c]=ie.useState(null),[f,p]=ie.useState(!1),[h,v]=ie.useState(null),[b,w]=ie.useState(""),[y,x]=ie.useState(!1),[S,T]=ie.useState(""),[C,k]=ie.useState(""),E=ie.useCallback(async()=>{p(!0);try{const G=localStorage.getItem("pos-license");if(!G){l("license_entry");return}const R=JSON.parse(G),$=await N9(R.storeId);if($)if($.trialStartDate){const V=new Date($.trialStartDate),Y=new Date(V);Y.setDate(V.getDate()+($.trialDurationDays??7)),new Date>Y?(v($),l("expired_trial")):(v($),l("login"))}else v($),l("login");else throw new Error("Store not found")}catch(G){localStorage.removeItem("pos-license"),c(n(G.message||"unknownError")||G.message),l("license_entry")}finally{p(!1)}},[n]);ie.useEffect(()=>{s==="loading"&&E()},[E,s]),ie.useEffect(()=>{if(s==="login"&&h){const G=localStorage.getItem(`pos-remembered-secret-${h.id}`);G?(w(G),x(!0)):(w(""),x(!1))}},[s,h]);const D=async G=>{if(G.preventDefault(),c(null),!h){c(n("unknownError")),l("license_entry");return}if(p(!0),!b){c(n("fillAllFields")),p(!1);return}try{if(b===nN){e();return}const R=await E9(h,b);y?localStorage.setItem(`pos-remembered-secret-${h.id}`,b):localStorage.removeItem(`pos-remembered-secret-${h.id}`),t(R.user,R.store)}catch(R){let $=null,V=n("unknownError");if(R&&R.message){const Y=R.message.toLowerCase();Y.includes("invalid api key")||Y.includes("unauthorized")?$="invalidApiKeyError":(R.message==="storeNotFound"||R.message==="storeDisabledError"||R.message==="invalidCredentialsError")&&($=R.message),V=R.message}c($?n($):V)}finally{p(!1)}},I=async G=>{if(G.preventDefault(),!!h){p(!0),c(null);try{if(await k9(h.id,S))alert(n("activationSuccessReload")),window.location.reload();else throw new Error("invalidActivationCode")}catch(R){const $=n(R.message)||R.message;c($)}finally{p(!1)}}},B=async G=>{var $;G.preventDefault(),c(null),p(!0);const R=C.trim();if(!R){c(n("fillAllFields")),p(!1);return}try{if(R===nN){e();return}const V=await wO(R);if(V){const Y={storeId:V.id};if(localStorage.setItem("pos-license",JSON.stringify(Y)),v(V),V.trialStartDate){const ne=new Date(V.trialStartDate),le=new Date(ne);le.setDate(ne.getDate()+(V.trialDurationDays??7)),new Date>le?l("expired_trial"):l("login")}else l("login")}else c(n("invalidActivationCode"))}catch(V){console.error("Error activating store for the first time:",V),($=V.message)!=null&&$.includes("406")?c(n("invalidActivationCode")):c(n("unknownError"))}finally{p(!1)}},O=()=>m.jsxs("form",{onSubmit:D,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("login")}),h?m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:n("forStore",{storeName:h.name})}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loginSecret",className:"sr-only",children:n("passwordOrPin")}),m.jsx("input",{id:"loginSecret",type:"password",value:b,onChange:G=>w(G.target.value),placeholder:n("passwordOrPin"),className:"w-full px-4 py-3 border rounded-lg text-center text-xl tracking-widest bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"flex items-center justify-start text-left rtl:text-right",children:[m.jsx("input",{id:"rememberMe",type:"checkbox",checked:y,onChange:G=>x(G.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-teal-600 focus:ring-teal-500 bg-gray-100 dark:bg-slate-600"}),m.jsx("label",{htmlFor:"rememberMe",className:"ml-2 rtl:mr-2 rtl:ml-0 block text-sm text-gray-700 dark:text-gray-400 cursor-pointer",children:n("rememberPin")})]})]}):m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("login")})]}),M=()=>m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n("trialHasExpired")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("contactAdminToActivate")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"activationCode",className:"sr-only",children:n("enterActivationCode")}),m.jsx("input",{id:"activationCode",type:"text",value:S,onChange:G=>T(G.target.value),placeholder:n("enterActivationCode"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activateApplication")})]}),U=()=>m.jsxs("form",{onSubmit:B,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("activateYourCompany")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("enterLicenseKey")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"licenseKey",className:"sr-only",children:n("licenseKey")}),m.jsx("input",{id:"licenseKey",type:"text",value:C,onChange:G=>k(G.target.value),placeholder:n("licenseKey"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activate")})]}),F=()=>{if(f||s==="loading")return m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]});switch(s){case"license_entry":return U();case"login":return O();case"expired_trial":return M();default:return m.jsx("button",{onClick:()=>l("loading"),className:"text-teal-600 hover:underline",children:n("reactivationSuccess")})}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsxs("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4 flex items-center gap-3",children:[m.jsx("button",{onClick:o,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:a==="light"?m.jsx(gS,{className:"w-5 h-5"}):m.jsx(mS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>i(r==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:r==="fr"?"":"Franais"})]}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(JD,{className:"w-80 h-auto mx-auto"}),m.jsxs("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]})]}),m.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-sm w-full text-center",children:[u&&m.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mb-4 bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:u}),F()]})]})},yq=({onLoginAsStoreAdmin:t,onGoToDashboard:e,onLogout:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=ie.useState([]);ie.useEffect(()=>{(async()=>{const p=await _O();u(p.sort((h,v)=>h.name.localeCompare(v.name)))})()},[]);const c=async f=>{try{const p=await TO(f.id);p?t(p,f):alert(r("noAdminForStore"))}catch(p){console.error("Failed to login as admin:",p),alert(`${r("unknownError")}: ${p.message}`)}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsx("header",{className:"absolute top-0 left-0 right-0 p-4",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(gS,{className:"w-5 h-5"}):m.jsx(mS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"":"Franais"})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(dS,{className:"w-5 h-5"}),m.jsx("span",{children:r("logout")})]})]})}),m.jsxs("div",{className:"text-center w-full max-w-4xl",children:[m.jsx(JD,{className:"w-64 h-auto mx-auto mb-6"}),m.jsxs("div",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-8",children:r("superAdminPortal")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",children:[m.jsx(hS,{className:"w-12 h-12 text-teal-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("manageAllStores")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("manageAllStoresDesc")})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx(AS,{className:"w-12 h-12 text-cyan-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("loginToStore")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("loginToStoreDesc")}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700",children:[m.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-300 mb-3",children:r("selectStoreToLogin")}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:l.length>0?l.map(f=>m.jsxs("button",{onClick:()=>c(f),className:"w-full text-left rtl:text-right flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.name}),m.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-1 text-sm",children:[r("loginAsAdmin")," ",m.jsx(FA,{className:"w-4 h-4"})]})]},f.id)):m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("noStoresAdded")})})]})]})]})]})]})},rN="https://storage.googleapis.com/appmaker-310316.appspot.com/user_4a0de5b0722a4666a2657c793742469a/app_primo_4f5f590457634f19b16ab20c918a38b2/1721066782500_834",iN=({url:t,className:e})=>{const n=t||rN,r=i=>{i.currentTarget.src=rN};return m.jsx("img",{src:n,alt:"Logo du magasin",className:e,onError:r})},Km=({checked:t,onChange:e,labelOn:n,labelOff:r,title:i,disabled:a=!1})=>m.jsxs("label",{className:`inline-flex items-center ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`,title:i,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:t,onChange:e,className:"sr-only peer",disabled:a}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-teal-600"})]}),m.jsx("span",{className:`ml-3 text-sm font-medium ${t?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`,children:t?n:r})]}),bq=({onLoginAsStoreAdmin:t,onLogout:e,onGoBack:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=ie.useState([]),[c,f]=ie.useState([]),[p,h]=ie.useState({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),[v,b]=ie.useState(!0),[w,y]=ie.useState({}),[x,S]=ie.useState({}),[T,C]=ie.useState(null),[k,E]=ie.useState(null),[D,I]=ie.useState(null),[B,O]=ie.useState(null),M="GoShop-Activation-Key-Abzn-Secret-2024",U=async()=>{u((await _O()).sort((X,se)=>X.name.localeCompare(se.name))),f(await B9())};ie.useEffect(()=>{U()},[]);const F=ie.useMemo(()=>{const X={};for(const se of c)X[se.storeId]||(X[se.storeId]=[]),X[se.storeId].push(se);return X},[c]),G=X=>{if(X.target.files&&X.target.files[0]){const se=X.target.files[0],ue=new FileReader;ue.onloadend=()=>{h(Z=>({...Z,logo:ue.result}))},ue.readAsDataURL(se)}},R=async X=>{if(X.preventDefault(),C(null),E(null),!p.name||!p.adminPassword){alert(r("fillAllFieldsError"));return}const se=p.adminPassword,ue=p.trialDurationDays||0;try{const{licenseKey:Z}=await U9(p.name,p.logo,p.adminPassword,p.adminEmail,ue,p.address,p.ice,p.enableAiReceiptScan);if(v){const me=await wO(Z);if(me){const ce={isActive:!0,licenseProof:new Date().toISOString(),trialStartDate:ue>0?new Date().toISOString():null};await Og({...me,...ce})}}C(Z),E(se),h({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),b(!0);const he=document.getElementById("logo");he&&(he.value=""),await U()}catch(Z){Z instanceof TypeError&&Z.message==="Failed to fetch"?alert(r("failedToFetchError_CORS")):alert(r(Z.message)||Z.message)}},$=async(X,se)=>{if(window.confirm(r("deleteStoreConfirm",{storeName:se})))try{await q9(X),alert(r("storeDeletedSuccess",{storeName:se})),await U()}catch(ue){console.error("Failed to delete store:",ue),alert(`${r("storeDeleteError")}: ${ue.message}`)}},V=(X,se)=>{y(ue=>({...ue,[X]:se}))},Y=async X=>{const se=(F[X]||[]).filter(ue=>w[ue.id]!==void 0&&w[ue.id].trim()!=="");for(const ue of se)if(ue.role==="seller"&&w[ue.id].length<4){alert(r("pinMustBe4Chars"));return}if(se.length!==0){for(const ue of se){const Z={...ue};ue.role==="admin"?Z.password=w[ue.id]:Z.pin=w[ue.id],await NO(Z)}y(ue=>{const Z={...ue};return se.forEach(he=>delete Z[he.id]),Z}),alert(r("pinUpdateSuccess")),await U()}},ne=async X=>{const se=x[X];if(!se||se.trim()===""||se.length<4){alert(r("pinMustBe4Chars"));return}const ue=(F[X]||[]).filter(he=>he.role==="seller").length,Z=`${r("seller")} ${ue+1}`;await CO({name:Z,pin:se,role:"seller",storeId:X}),S(he=>({...he,[X]:""})),alert(r("userAddedSuccess",{name:Z})),await U()},le=X=>{const se=X.trialStartDate?new Date(X.trialStartDate):new Date,ue=new Date(se);if(ue.setDate(se.getDate()+(X.trialDurationDays??7)),new Date<ue&&X.trialStartDate!==null&&!window.confirm(r("confirmPermanentActivation",{storeName:X.name})))return;const Z=`PERM-${btoa(`${X.id}::${M}`)}`;O({storeName:X.name,code:Z})},L=(X,se)=>{navigator.clipboard.writeText(X),I(se),setTimeout(()=>I(null),2e3)},q=async X=>{try{const se={...X,isActive:!X.isActive};await Og(se),u(ue=>ue.map(Z=>Z.id===X.id?se:Z))}catch(se){alert(`Error updating store status: ${se.message}`)}},J=async X=>{try{const se={...X,enableAiReceiptScan:!X.enableAiReceiptScan};await Og(se),u(ue=>ue.map(Z=>Z.id===X.id?se:Z))}catch(se){alert(`Error updating AI Scan status: ${se.message}`)}},te=async X=>{try{const se=await TO(X.id);se?t(se,X):alert(r("noAdminForStore"))}catch(se){console.error("Failed to login as admin:",se),alert(`${r("unknownError")}: ${se.message}`)}};return m.jsxs(m.Fragment,{children:[B&&m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6 text-center",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("activationCodeForStore",{storeName:B.storeName})}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("copyAndSendToClient")}),m.jsx("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-lg font-mono text-lg break-all mb-4",children:B.code}),m.jsx("button",{onClick:()=>{L(B.code,`code-${B.storeName}`)},className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 w-full mb-3",children:D===`code-${B.storeName}`?r("copied"):r("copy")}),m.jsx("button",{onClick:()=>O(null),className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500 w-full",children:r("close")})]})}),m.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 p-4 sm:p-6 lg:p-8",children:[m.jsx("header",{className:"mb-8",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 rounded-lg transition-colors border dark:border-slate-700",children:[m.jsx($A,{className:"w-5 h-5"})," ",r("backToPortal")]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 hidden md:block",children:r("superAdminDashboard")}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(gS,{className:"w-5 h-5"}):m.jsx(mS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"":"Franais"}),m.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(dS,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:r("logout")})]})]})]})}),m.jsxs("div",{className:"container mx-auto space-y-8",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(AS,{}),r("addStore")]}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("storeName")}),m.jsx("input",{type:"text",value:p.name,onChange:X=>h(se=>({...se,name:X.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("adminPassword")}),m.jsx("input",{type:"text",value:p.adminPassword,onChange:X=>h(se=>({...se,adminPassword:X.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("adminEmail")}),m.jsx("input",{type:"email",value:p.adminEmail,onChange:X=>h(se=>({...se,adminEmail:X.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("address")}),m.jsx("input",{type:"text",value:p.address,onChange:X=>h(se=>({...se,address:X.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("ice")}),m.jsx("input",{type:"text",value:p.ice,onChange:X=>h(se=>({...se,ice:X.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("trialPeriodDays")}),m.jsx("input",{type:"number",value:p.trialDurationDays,onChange:X=>h(se=>({...se,trialDurationDays:parseInt(X.target.value,10)})),min:"0",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300",children:r("storeLogoLabel")}),m.jsx(iN,{url:p.logo,className:"w-12 h-12 rounded-lg bg-gray-200 object-cover"}),m.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:G,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"flex flex-wrap gap-6 pt-4",children:[m.jsx(Km,{checked:v,onChange:()=>b(!v),labelOn:r("activeOnCreation"),labelOff:r("inactiveOnCreation"),title:r("activateImmediatelyDesc")}),m.jsx(Km,{checked:p.enableAiReceiptScan,onChange:()=>h(X=>({...X,enableAiReceiptScan:!X.enableAiReceiptScan})),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("aiScanFeatureDescription")})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2",children:[m.jsx(Sl,{})," ",r("addStoreButton")]})]})]}),T&&m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl shadow-lg border border-green-300 dark:border-green-700",children:[m.jsx("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 mb-2",children:r("storeCreatedSuccess")}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[r("licenseKey"),":"]}),m.jsx("span",{className:"font-mono bg-white dark:bg-slate-700 p-1 rounded",children:T}),m.jsx("button",{onClick:()=>L(T,"key"),className:"text-xs bg-gray-200 dark:bg-slate-600 p-1 rounded",children:r(D==="key"?"copied":"copy")})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("useThisToLoginFirst")})]}),k&&m.jsxs("div",{className:"space-y-2 text-sm mt-3 pt-3 border-t border-green-200 dark:border-green-800",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-semibold text-slate-700 dark:text-slate-300",children:[r("adminPassword"),":"]}),m.jsx("span",{className:"font-mono bg-white dark:bg-slate-700 p-1 rounded",children:k}),m.jsx("button",{onClick:()=>L(k,"pw"),className:"text-xs bg-gray-200 dark:bg-slate-600 p-1 rounded",children:r(D==="pw"?"copied":"copy")})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("useThisPasswordAfter")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("manageStores")}),m.jsx("div",{className:"space-y-6",children:l.length>0?l.map(X=>{const se=F[X.id]||[],ue=se.find(ce=>ce.role==="admin"),Z=se.filter(ce=>ce.role==="seller");let he=r("storeStatus_notActivated"),me="bg-gray-200 text-gray-800";if(X.isActive)if(X.trialStartDate){const ce=new Date(X.trialStartDate),je=new Date(ce);je.setDate(ce.getDate()+(X.trialDurationDays??7));const Re=je.getTime()-new Date().getTime();if(Re>0){const Ce=Math.ceil(Re/864e5);he=r("trialDaysRemaining",{days:Ce}),me="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300"}else he=r("trialEnded"),me="bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300"}else he=r("storeStatus_licensed"),me="bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300";return m.jsxs("details",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-800 dark:text-slate-200",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(iN,{url:X.logo,className:"w-10 h-10 rounded-lg bg-gray-200 object-cover"}),m.jsx("span",{className:"font-bold text-lg",children:X.name}),m.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${me}`,children:he})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:ce=>{ce.preventDefault(),te(X)},className:"text-sm bg-teal-600 text-white px-3 py-1 rounded-md hover:bg-teal-700",children:r("loginAsAdmin")}),m.jsx("button",{onClick:ce=>{ce.preventDefault(),$(X.id,X.name)},className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:r("deleteStore"),children:m.jsx(si,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[r("licenseKey"),":"]})," ",m.jsx("span",{className:"font-mono bg-gray-100 dark:bg-slate-700 p-1 rounded",children:X.licenseKey})]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("address"),":"]})," ",X.address||"N/A"]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("ice"),":"]})," ",X.ice||"N/A"]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("trialPeriodDays"),":"]})," ",r("trialDurationDisplay",{days:X.trialDurationDays})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Km,{checked:X.isActive,onChange:()=>q(X),labelOn:r("storeStatus_active"),labelOff:r("storeStatus_inactive"),title:r("toggleStoreStatus")}),m.jsx(Km,{checked:X.enableAiReceiptScan||!1,onChange:()=>J(X),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("aiScanFeatureDescription")})]})]}),m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-3",children:r("storeUsersAndPins")}),m.jsxs("div",{className:"space-y-3",children:[ue&&m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"font-semibold",children:[ue.name," (",r("admin"),")"]}),m.jsx("input",{type:"text",placeholder:r("newPassword"),onChange:ce=>V(ue.id,ce.target.value),className:"w-40 text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"})]}),Z.map(ce=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold",children:ce.name}),m.jsx("input",{type:"text",placeholder:r("newPin"),onChange:je=>V(ce.id,je.target.value),className:"w-40 text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"})]},ce.id)),m.jsx("button",{onClick:()=>Y(X.id),className:"text-xs bg-blue-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-blue-700",children:r("saveChanges")})]}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-600 flex items-center gap-2",children:[m.jsx("input",{type:"text",value:x[X.id]||"",onChange:ce=>S(je=>({...je,[X.id]:ce.target.value})),placeholder:r("newSellerPinPlaceholder"),className:"flex-grow text-sm p-1 border rounded bg-white dark:bg-slate-600 dark:border-slate-500"}),m.jsxs("button",{onClick:()=>ne(X.id),className:"text-xs bg-green-600 text-white font-semibold py-1 px-3 rounded-md hover:bg-green-700 flex items-center gap-1",children:[m.jsx(MO,{className:"w-4 h-4"})," ",r("addSeller")]})]})]}),m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-2",children:r("permanentActivation")}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:r("permanentActivationDesc")}),m.jsxs("button",{onClick:()=>le(X),className:"text-sm bg-orange-500 text-white font-semibold py-2 px-4 rounded-md hover:bg-orange-600 flex items-center gap-2",children:[m.jsx(OO,{className:"w-4 h-4"})," ",r("generateActivationCode")]})]})]})]},X.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:r("noStoresAdded")})})]})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xq,wq;function Sq(){return{geminiUrl:xq,vertexUrl:wq}}function _q(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=Sq();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tc{}function at(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function A(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];A(c,e.slice(a+1),n[u])}else for(const u of l)A(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];A(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>d(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tq(t){const e={},n=d(t,["operationName"]);n!=null&&A(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&A(e,["_url","resourceName"],r),e}function Cq(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&A(e,["response"],Eq(o)),e}function Nq(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response"]);return o!=null&&A(e,["response"],kq(o)),e}function Eq(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Pq(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function kq(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Mq(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function Pq(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],Iq(n)),e}function Mq(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],jq(n)),e}function Dq(t){const e={},n=d(t,["operationName"]);return n!=null&&A(e,["_url","operationName"],n),e}function Oq(t){const e={},n=d(t,["operationName"]);return n!=null&&A(e,["_url","operationName"],n),e}function Iq(t){const e={},n=d(t,["video","uri"]);n!=null&&A(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&A(e,["videoBytes"],vS(r));const i=d(t,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function jq(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],vS(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aN||(aN={}));var oN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(oN||(oN={}));var qi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(qi||(qi={}));var sN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(sN||(sN={}));var lN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(lN||(lN={}));var uN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(uN||(uN={}));var cN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cN||(cN={}));var fN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fN||(fN={}));var dN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dN||(dN={}));var hN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hN||(hN={}));var pN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(pN||(pN={}));var AN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(AN||(AN={}));var mN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mN||(mN={}));var gN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(gN||(gN={}));var vN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(vN||(vN={}));var p0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(p0||(p0={}));var yN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yN||(yN={}));var d2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(d2||(d2={}));var bN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bN||(bN={}));var xN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xN||(xN={}));var wN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(wN||(wN={}));var SN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(SN||(SN={}));var _N;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_N||(_N={}));var TN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(TN||(TN={}));var CN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(CN||(CN={}));var NN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(NN||(NN={}));var EN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(EN||(EN={}));var kN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kN||(kN={}));var PN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(PN||(PN={}));var MN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(MN||(MN={}));var DN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(DN||(DN={}));var ON;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ON||(ON={}));var IN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(IN||(IN={}));var jN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(jN||(jN={}));var LN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(LN||(LN={}));var RN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(RN||(RN={}));var FN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(FN||(FN={}));var $N;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})($N||($N={}));var BN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(BN||(BN={}));var UN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UN||(UN={}));var qN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(qN||(qN={}));var HN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(HN||(HN={}));var zN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(zN||(zN={}));var VN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(VN||(VN={}));var GN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(GN||(GN={}));var WN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(WN||(WN={}));var YN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(YN||(YN={}));var KN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(KN||(KN={}));var pf;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(pf||(pf={}));class h2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Mh{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const p of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,v]of Object.entries(p))h!=="text"&&h!=="thought"&&(v!==null||v!==void 0)&&f.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,u+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,h]of Object.entries(f))p!=="inlineData"&&(h!==null||h!==void 0)&&c.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class JN{}class XN{}class Lq{}class Rq{}class Fq{}class $q{}class QN{}class ZN{}class eE{}class Bq{}class A0{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new A0;let i;const a=e;return n?i=Nq(a):i=Cq(a),Object.assign(r,i),r}}class tE{}class nE{}class rE{}class Uq{}class qq{}class Hq{}class iE{}class zq{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Vq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ht(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function IO(t,e){const n=Ht(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function jO(t){return Array.isArray(t)?t.map(e=>m0(e)):[m0(t)]}function m0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function LO(t){const e=m0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RO(t){const e=m0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function aE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function FO(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>aE(e)):[aE(t)]}function p2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function oE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function sE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qr(t){if(t==null)throw new Error("ContentUnion is required");return p2(t)?t:{role:"user",parts:FO(t)}}function yS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Qr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Qr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Qr(n)):[Qr(e)]}function Na(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(oE(t)||sE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qr(t)]}const e=[],n=[],r=p2(t[0]);for(const i of t){const a=p2(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(oE(i)||sE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:FO(n)}),e}function Gq(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(qi).includes(n[0].toUpperCase())?n[0].toUpperCase():qi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(qi).includes(r.toUpperCase())?r.toUpperCase():qi.TYPE_UNSPECIFIED})}}function Nf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Gq(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(qi).includes(s.toUpperCase())?s.toUpperCase():qi.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Nf(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(Nf(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=Nf(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function bS(t){return Nf(t)}function xS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Td(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nf(e.response));return t}function Cd(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Wq(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function vs(t,e){if(typeof e!="string")throw new Error("name must be a string");return Wq(t,e,"cachedContents")}function $O(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function nc(t){return vS(t)}function Yq(t){return t!=null&&typeof t=="object"&&"name"in t}function Kq(t){return t!=null&&typeof t=="object"&&"video"in t}function Jq(t){return t!=null&&typeof t=="object"&&"uri"in t}function BO(t){var e;let n;if(Yq(t)&&(n=t.name),!(Jq(t)&&(n=t.uri,n===void 0))&&!(Kq(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function UO(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function qO(t){for(const e of["models","tunedModels","publisherModels"])if(Xq(t,e))return t[e];return[]}function Xq(t,e){return t!==null&&typeof t=="object"&&e in t}function Qq(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Zq(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=Qq(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function HO(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function eH(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zO(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Nd(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function VO(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tH(t){const e={},n=d(t,["responsesFile"]);n!=null&&A(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>HH(o))),A(e,["inlinedResponses"],a)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>UH(o))),A(e,["inlinedEmbedContentResponses"],a)}return e}function nH(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&A(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&A(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function rH(t){const e={},n=d(t,["format"]);n!=null&&A(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&A(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&A(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Qc(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&A(e,["state"],VO(i));const a=d(t,["metadata","createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["metadata","endTime"]);o!=null&&A(e,["endTime"],o);const s=d(t,["metadata","updateTime"]);s!=null&&A(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&A(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&A(e,["dest"],tH(zO(u))),e}function A2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],VO(i));const a=d(t,["error"]);a!=null&&A(e,["error"],WO(a));const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["startTime"]);s!=null&&A(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&A(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&A(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&A(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&A(e,["src"],iH(f));const p=d(t,["outputConfig"]);return p!=null&&A(e,["dest"],nH(zO(p))),e}function iH(t){const e={},n=d(t,["instancesFormat"]);n!=null&&A(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&A(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function aH(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&A(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>qH(t,o))),A(n,["requests","requests"],a)}return n}function oH(t){const e={},n=d(t,["format"]);n!=null&&A(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&A(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&A(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sH(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function lH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function uH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Nd(t,r)),n}function cH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Nd(t,r)),n}function fH(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],AH(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],dH(r));const i=d(t,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],fz(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function dH(t){const e={},n=d(t,["citationSources"]);return n!=null&&A(e,["citations"],n),e}function hH(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function pH(t){const e={},n=d(t,["values"]);return n!=null&&A(e,["values"],n),e}function AH(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ZH(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function GO(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ez(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function mH(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&A(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function gH(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&A(e,["outputConfig"],rH(eH(i))),n}function h1(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["src"]);i!=null&&A(n,["batch","inputConfig"],aH(t,HO(t,i)));const a=d(e,["config"]);return a!=null&&mH(a,n),n}function vH(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],Ht(t,r));const i=d(e,["src"]);i!=null&&A(n,["inputConfig"],oH(HO(t,i)));const a=d(e,["config"]);return a!=null&&gH(a,n),n}function yH(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&A(e,["batch","displayName"],r),n}function p1(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["src"]);i!=null&&A(n,["batch","inputConfig"],NH(t,i));const a=d(e,["config"]);return a!=null&&yH(a,n),n}function bH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Nd(t,r)),n}function xH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Nd(t,r)),n}function wH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);return a!=null&&A(e,["error"],SS(a)),e}function SH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);return a!=null&&A(e,["error"],WO(a)),e}function _H(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function TH(t,e){const n={},r=d(e,["contents"]);r!=null&&A(n,["requests[]","request","content"],yS(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],CH(i,n)),n}function CH(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function NH(t,e){const n={},r=d(e,["fileName"]);r!=null&&A(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&A(n,["requests"],TH(t,i)),n}function EH(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function kH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function PH(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function MH(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function DH(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function OH(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function IH(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],GO(Qr(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&A(r,["logprobs"],p);const h=d(e,["presencePenalty"]);h!=null&&A(r,["presencePenalty"],h);const v=d(e,["frequencyPenalty"]);v!=null&&A(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&A(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&A(r,["responseSchema"],iz(bS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&A(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(U=>rz(U))),A(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=Cd(T);Array.isArray(M)&&(M=M.map(U=>cz(Td(U)))),A(n,["tools"],M)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&A(n,["toolConfig"],uz(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&A(n,["cachedContent"],vs(t,k));const E=d(e,["responseModalities"]);E!=null&&A(r,["responseModalities"],E);const D=d(e,["mediaResolution"]);D!=null&&A(r,["mediaResolution"],D);const I=d(e,["speechConfig"]);if(I!=null&&A(r,["speechConfig"],sz(xS(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=d(e,["thinkingConfig"]);B!=null&&A(r,["thinkingConfig"],lz(B));const O=d(e,["imageConfig"]);return O!=null&&A(r,["imageConfig"],BH(O)),r}function jH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>fH(u))),A(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&A(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&A(e,["usageMetadata"],s),e}function LH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Nd(t,r)),n}function RH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],Nd(t,r)),n}function FH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],_H(n)),e}function $H(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],zH(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function BH(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function UH(t){const e={},n=d(t,["response"]);n!=null&&A(e,["response"],az(n));const r=d(t,["error"]);return r!=null&&A(e,["error"],SS(r)),e}function qH(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["request","model"],Ht(t,r));const i=d(e,["contents"]);if(i!=null){let o=Na(i);Array.isArray(o)&&(o=o.map(s=>GO(s))),A(n,["request","contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["request","generationConfig"],IH(t,a,n)),n}function HH(t){const e={},n=d(t,["response"]);n!=null&&A(e,["response"],jH(n));const r=d(t,["error"]);return r!=null&&A(e,["error"],SS(r)),e}function zH(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function SS(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["code"]);r!=null&&A(e,["code"],r);const i=d(t,["message"]);return i!=null&&A(e,["message"],i),e}function WO(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["code"]);r!=null&&A(e,["code"],r);const i=d(t,["message"]);return i!=null&&A(e,["message"],i),e}function VH(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function GH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function WH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function YH(t){const e={},n=d(t,["config"]);return n!=null&&GH(n,e),e}function KH(t){const e={},n=d(t,["config"]);return n!=null&&WH(n,e),e}function JH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Qc(o))),A(e,["batchJobs"],a)}return e}function XH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>A2(o))),A(e,["batchJobs"],a)}return e}function QH(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>oz(i))),A(e,["speakerVoiceConfigs"],r)}return e}function ZH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],pz(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],sH(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],EH(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],PH(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function ez(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],Az(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],lH(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],kH(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],MH(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function tz(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function nz(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],VH(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function rz(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&A(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function iz(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const p=d(t,["maximum"]);p!=null&&A(e,["maximum"],p);const h=d(t,["minItems"]);h!=null&&A(e,["minItems"],h);const v=d(t,["minLength"]);v!=null&&A(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&A(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&A(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&A(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function az(t){const e={},n=d(t,["embedding"]);n!=null&&A(e,["embedding"],pH(n));const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function oz(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],YO(r)),e}function sz(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],YO(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],QH(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function lz(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function uz(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],DH(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],nz(r)),e}function cz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>OH(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],$H(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],FH(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],dz());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],hH(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function fz(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hz(i))),A(e,["urlMetadata"],r)}return e}function dz(){return{}}function hz(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function pz(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function Az(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function YO(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],tz(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Uu||(Uu={}));class BA{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mz extends tc{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const a=n.src;if(!(Array.isArray(n.src)||a.inlinedRequests!==void 0))return this.createInternal(n);const s=this.createInlinedGenerateContentRequest(n),l=s.path,u=s.body,c=h1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()).then(p=>Qc(p))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const s=this.createInlinedEmbedContentRequest(n),l=s.path,u=s.body,c=p1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()).then(p=>Qc(p))},this.list=async(n={})=>new BA(Uu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=h1(this.apiClient,e),r=n._url,i=at("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const p=f.systemInstruction;delete f.systemInstruction;const h=f.request;h.systemInstruction=p,f.request=h}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=p1(this.apiClient,e),r=n._url,i=at("{model}:asyncBatchEmbedContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];delete s.config;for(const c of l){const f=Object.assign({},c),p=f.request;for(const h in f)h!=="request"&&(p[h]=f[h],delete f[h]);u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vH(this.apiClient,e);return s=at("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>A2(c))}else{const u=h1(this.apiClient,e);return s=at("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Qc(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=p1(this.apiClient,e);return a=at("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Qc(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=RH(this.apiClient,e);return s=at("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>A2(c))}else{const u=LH(this.apiClient,e);return s=at("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Qc(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=cH(this.apiClient,e);o=at("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=uH(this.apiClient,e);o=at("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=KH(e);return s=at("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=XH(c),p=new iE;return Object.assign(p,f),p})}else{const u=YH(e);return s=at("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=JH(c),p=new iE;return Object.assign(p,f),p})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=xH(this.apiClient,e);return s=at("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>SH(c))}else{const u=bH(this.apiClient,e);return s=at("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>wH(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gz(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function vz(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],gz(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function yz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function bz(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function Ig(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["model"]);i!=null&&A(e,["model"],i);const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&A(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&A(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function jg(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["model"]);i!=null&&A(e,["model"],i);const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&A(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&A(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function xz(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function wz(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function lE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aV(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function uE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>oV(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function Sz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let c=Na(o);Array.isArray(c)&&(c=c.map(f=>lE(f))),A(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&A(e,["systemInstruction"],lE(Qr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>fV(f))),A(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&A(e,["toolConfig"],uV(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _z(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let f=Na(o);Array.isArray(f)&&(f=f.map(p=>uE(p))),A(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&A(e,["systemInstruction"],uE(Qr(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>dV(p))),A(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&A(e,["toolConfig"],cV(u));const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&A(e,["encryption_spec","kmsKeyName"],c),n}function Tz(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],IO(t,r));const i=d(e,["config"]);return i!=null&&Sz(i,n),n}function Cz(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],IO(t,r));const i=d(e,["config"]);return i!=null&&_z(i,n),n}function Nz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],vs(t,r)),n}function Ez(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],vs(t,r)),n}function kz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function Pz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function Mz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function Dz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function Oz(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function Iz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function jz(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function Lz(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function Rz(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function Fz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function $z(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function Bz(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function Uz(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function qz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],vs(t,r)),n}function Hz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],vs(t,r)),n}function zz(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],vz(n)),e}function Vz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],Mz(n)),e}function Gz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],Dz(n)),e}function Wz(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],Kz(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Yz(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],Jz(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function Kz(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function Jz(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function Xz(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function Qz(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function Zz(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function eV(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function tV(t){const e={},n=d(t,["config"]);return n!=null&&Zz(n,e),e}function nV(t){const e={},n=d(t,["config"]);return n!=null&&eV(n,e),e}function rV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Ig(o))),A(e,["cachedContents"],a)}return e}function iV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>jg(o))),A(e,["cachedContents"],a)}return e}function aV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],yV(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],yz(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],Iz(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],Lz(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function oV(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],bV(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],bz(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],jz(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],Rz(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function sV(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],Xz(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function lV(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],Qz(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function uV(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],Fz(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],sV(r)),e}function cV(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],$z(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],lV(r)),e}function fV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Bz(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],Wz(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],Vz(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],gV());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],xz(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function dV(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>Uz(p))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],Yz(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],Gz(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],Oz(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],zz(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],vV());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],wz(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function hV(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),n}function pV(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),n}function AV(t,e){const n={},r=d(e,["name"]);r!=null&&A(n,["_url","name"],vs(t,r));const i=d(e,["config"]);return i!=null&&hV(i,n),n}function mV(t,e){const n={},r=d(e,["name"]);r!=null&&A(n,["_url","name"],vs(t,r));const i=d(e,["config"]);return i!=null&&pV(i,n),n}function gV(){return{}}function vV(){return{}}function yV(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function bV(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xV extends tc{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new BA(Uu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Cz(this.apiClient,e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>jg(c))}else{const u=Tz(this.apiClient,e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Ig(c))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Hz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>jg(c))}else{const u=qz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Ig(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Ez(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=Pz(c),p=new nE;return Object.assign(p,f),p})}else{const u=Nz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=kz(c),p=new nE;return Object.assign(p,f),p})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=mV(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>jg(c))}else{const u=AV(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Ig(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=nV(e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=iV(c),p=new rE;return Object.assign(p,f),p})}else{const u=tV(e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=rV(c),p=new rE;return Object.assign(p,f),p})}}}function cE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function Ef(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(v){return Promise.resolve(v).then(h,f)}}function s(h,v){r[h]&&(i[h]=function(b){return new Promise(function(w,y){a.push([h,b,w,y])>1||l(h,b)})},v&&(i[h]=v(i[h])))}function l(h,v){try{u(r[h](v))}catch(b){p(a[0][3],b)}}function u(h){h.value instanceof Tn?Promise.resolve(h.value.v).then(c,f):p(a[0][2],h)}function c(h){l("next",h)}function f(h){l("throw",h)}function p(h,v){h(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function pp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cE=="function"?cE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wV(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:KO(n)}function KO(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function SV(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function fE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!KO(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class _V{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new TV(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class TV{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),SV(a)}async sendMessage(e){var n;await this.sendPromise;const r=Qr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let p=[];c!=null&&(p=(s=c.slice(f))!==null&&s!==void 0?s:[]);const h=u?[u]:[];this.recordHistory(r,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Qr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?fE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Ef(this,arguments,function*(){var o,s,l,u;const c=[];try{for(var f=!0,p=pp(e),h;h=yield Tn(p.next()),o=h.done,!o;f=!0){u=h.value,f=!1;const v=u;if(wV(v)){const b=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&c.push(b)}yield yield Tn(v)}}catch(v){s={error:v}}finally{try{!f&&!o&&(l=p.return)&&(yield Tn(l.call(p)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...fE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Vv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CV(t){const e={},n=d(t,["file"]);return n!=null&&A(e,["file"],DV(n)),e}function NV(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function EV(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","file"],BO(n)),e}function kV(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function m2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&A(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&A(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&A(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&A(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&A(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&A(e,["downloadUri"],f);const p=d(t,["state"]);p!=null&&A(e,["state"],p);const h=d(t,["source"]);h!=null&&A(e,["source"],h);const v=d(t,["videoMetadata"]);v!=null&&A(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&A(e,["error"],PV(b)),e}function PV(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["message"]);r!=null&&A(e,["message"],r);const i=d(t,["code"]);return i!=null&&A(e,["code"],i),e}function MV(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["message"]);r!=null&&A(e,["message"],r);const i=d(t,["code"]);return i!=null&&A(e,["code"],i),e}function DV(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&A(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&A(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&A(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&A(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&A(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&A(e,["downloadUri"],f);const p=d(t,["state"]);p!=null&&A(e,["state"],p);const h=d(t,["source"]);h!=null&&A(e,["source"],h);const v=d(t,["videoMetadata"]);v!=null&&A(e,["videoMetadata"],v);const b=d(t,["error"]);return b!=null&&A(e,["error"],MV(b)),e}function OV(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","file"],BO(n)),e}function IV(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function jV(t){const e={},n=d(t,["config"]);return n!=null&&IV(n,e),e}function LV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>m2(o))),A(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RV extends tc{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new BA(Uu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>m2(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jV(e);return a=at("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=LV(l),c=new Uq;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=CV(e);return a=at("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=NV(l),c=new qq;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OV(e);return a=at("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>m2(l))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=EV(e);return a=at("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=kV(l),c=new Hq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FV(){return{}}function $V(){return{}}function BV(){return{}}function UV(){return{}}function qV(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function HV(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);r!=null&&A(e,["mimeType"],r);const i=d(t,["sourceMetadata"]);return i!=null&&A(e,["sourceMetadata"],jG(i)),e}function dE(){return{}}function hE(){return{}}function zV(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],qV(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function VV(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function GV(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function WV(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function YV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function KV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function JV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function XV(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function QV(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function ZV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ZG(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function eG(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>eW(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function tG(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>tW(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function nG(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>nW(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function rG(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],fW(r)),e}function iG(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],dW(r)),e}function aG(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function oG(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function sG(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function lG(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function uG(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function cG(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function fG(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function JO(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function XO(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function dG(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function hG(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function pG(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function AG(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function mG(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],zV(n)),e}function gG(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],aG(n)),e}function vG(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],oG(n)),e}function yG(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],xG(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bG(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],wG(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function xG(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function wG(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function SG(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],pW(wS(f)));const p=d(t,["thinkingConfig"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","thinkingConfig"],mW(p));const h=d(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],h);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&A(e,["setup","systemInstruction"],tG(Qr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Cd(b);Array.isArray(k)&&(k=k.map(E=>vW(Td(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],uW(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&A(e,["setup","inputAudioTranscription"],dE());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&A(e,["setup","outputAudioTranscription"],dE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],sW(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],rG(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],aW(C)),n}function _G(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],AW(wS(f)));const p=d(t,["thinkingConfig"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","thinkingConfig"],gW(p));const h=d(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],h);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&A(e,["setup","systemInstruction"],nG(Qr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Cd(b);Array.isArray(k)&&(k=k.map(E=>yW(Td(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],cW(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&A(e,["setup","inputAudioTranscription"],hE());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&A(e,["setup","outputAudioTranscription"],hE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],lW(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],iG(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],oW(C)),n}function TG(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],Ht(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],SG(i,n)),n}function CG(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],Ht(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],_G(i,n)),n}function NG(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>MW(i))),A(e,["weightedPrompts"],r)}return e}function QO(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nI(i))),A(e,["weightedPrompts"],r)}return e}function g2(t){const e={},n=d(t,["setup"]);n!=null&&A(e,["setup"],ZO(n));const r=d(t,["clientContent"]);r!=null&&A(e,["clientContent"],QO(r));const i=d(t,["musicGenerationConfig"]);i!=null&&A(e,["musicGenerationConfig"],eI(i));const a=d(t,["playbackControl"]);return a!=null&&A(e,["playbackControl"],a),e}function ZO(t){const e={},n=d(t,["model"]);return n!=null&&A(e,["model"],n),e}function EG(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["filteredReason"]);return r!=null&&A(e,["filteredReason"],r),e}function kG(t){const e={},n=d(t,["temperature"]);n!=null&&A(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&A(e,["topK"],r);const i=d(t,["seed"]);i!=null&&A(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&A(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&A(e,["bpm"],o);const s=d(t,["density"]);s!=null&&A(e,["density"],s);const l=d(t,["brightness"]);l!=null&&A(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&A(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&A(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&A(e,["muteDrums"],f);const p=d(t,["onlyBassAndDrums"]);p!=null&&A(e,["onlyBassAndDrums"],p);const h=d(t,["musicGenerationMode"]);return h!=null&&A(e,["musicGenerationMode"],h),e}function eI(t){const e={},n=d(t,["temperature"]);n!=null&&A(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&A(e,["topK"],r);const i=d(t,["seed"]);i!=null&&A(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&A(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&A(e,["bpm"],o);const s=d(t,["density"]);s!=null&&A(e,["density"],s);const l=d(t,["brightness"]);l!=null&&A(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&A(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&A(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&A(e,["muteDrums"],f);const p=d(t,["onlyBassAndDrums"]);p!=null&&A(e,["onlyBassAndDrums"],p);const h=d(t,["musicGenerationMode"]);return h!=null&&A(e,["musicGenerationMode"],h),e}function PG(t){const e={},n=d(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>HV(i))),A(e,["audioChunks"],r)}return e}function MG(t){const e={};d(t,["setupComplete"])!=null&&A(e,["setupComplete"],DG());const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],PG(r));const i=d(t,["filteredPrompt"]);return i!=null&&A(e,["filteredPrompt"],EG(i)),e}function DG(){return{}}function OG(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&A(e,["musicGenerationConfig"],eI(n)),e}function IG(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nI(i))),A(e,["weightedPrompts"],r)}return e}function jG(t){const e={},n=d(t,["clientContent"]);n!=null&&A(e,["clientContent"],NG(n));const r=d(t,["musicGenerationConfig"]);return r!=null&&A(e,["musicGenerationConfig"],kG(r)),e}function LG(t){const e={},n=d(t,["media"]);if(n!=null){let u=jO(n);Array.isArray(u)&&(u=u.map(c=>c)),A(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&A(e,["audio"],RO(r));const i=d(t,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&A(e,["video"],LO(a));const o=d(t,["text"]);return o!=null&&A(e,["text"],o),d(t,["activityStart"])!=null&&A(e,["activityStart"],BV()),d(t,["activityEnd"])!=null&&A(e,["activityEnd"],FV()),e}function RG(t){const e={},n=d(t,["media"]);if(n!=null){let u=jO(n);Array.isArray(u)&&(u=u.map(c=>c)),A(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&A(e,["audio"],RO(r));const i=d(t,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&A(e,["video"],LO(a));const o=d(t,["text"]);return o!=null&&A(e,["text"],o),d(t,["activityStart"])!=null&&A(e,["activityStart"],UV()),d(t,["activityEnd"])!=null&&A(e,["activityEnd"],$V()),e}function FG(t){const e={},n=d(t,["modelTurn"]);n!=null&&A(e,["modelTurn"],ZV(n));const r=d(t,["turnComplete"]);r!=null&&A(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&A(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&A(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&A(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&A(e,["inputTranscription"],pE(s));const l=d(t,["outputTranscription"]);l!=null&&A(e,["outputTranscription"],pE(l));const u=d(t,["urlContextMetadata"]);u!=null&&A(e,["urlContextMetadata"],bW(u));const c=d(t,["turnCompleteReason"]);c!=null&&A(e,["turnCompleteReason"],c);const f=d(t,["waitingForInput"]);return f!=null&&A(e,["waitingForInput"],f),e}function $G(t){const e={},n=d(t,["modelTurn"]);n!=null&&A(e,["modelTurn"],eG(n));const r=d(t,["turnComplete"]);r!=null&&A(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&A(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&A(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&A(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&A(e,["inputTranscription"],AE(s));const l=d(t,["outputTranscription"]);l!=null&&A(e,["outputTranscription"],AE(l));const u=d(t,["turnCompleteReason"]);u!=null&&A(e,["turnCompleteReason"],u);const c=d(t,["waitingForInput"]);return c!=null&&A(e,["waitingForInput"],c),e}function BG(t){const e={},n=d(t,["timeLeft"]);return n!=null&&A(e,["timeLeft"],n),e}function UG(t){const e={},n=d(t,["timeLeft"]);return n!=null&&A(e,["timeLeft"],n),e}function qG(t){const e={};d(t,["setupComplete"])!=null&&A(e,["setupComplete"],GG());const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],FG(r));const i=d(t,["toolCall"]);i!=null&&A(e,["toolCall"],JG(i));const a=d(t,["toolCallCancellation"]);a!=null&&A(e,["toolCallCancellation"],YG(a));const o=d(t,["usageMetadata"]);o!=null&&A(e,["usageMetadata"],_W(o));const s=d(t,["goAway"]);s!=null&&A(e,["goAway"],BG(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&A(e,["sessionResumptionUpdate"],zG(l)),e}function HG(t){const e={},n=d(t,["setupComplete"]);n!=null&&A(e,["setupComplete"],WG(n));const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],$G(r));const i=d(t,["toolCall"]);i!=null&&A(e,["toolCall"],XG(i));const a=d(t,["toolCallCancellation"]);a!=null&&A(e,["toolCallCancellation"],KG(a));const o=d(t,["usageMetadata"]);o!=null&&A(e,["usageMetadata"],TW(o));const s=d(t,["goAway"]);s!=null&&A(e,["goAway"],UG(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&A(e,["sessionResumptionUpdate"],VG(l)),e}function zG(t){const e={},n=d(t,["newHandle"]);n!=null&&A(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&A(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&A(e,["lastConsumedClientMessageIndex"],i),e}function VG(t){const e={},n=d(t,["newHandle"]);n!=null&&A(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&A(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&A(e,["lastConsumedClientMessageIndex"],i),e}function GG(){return{}}function WG(t){const e={},n=d(t,["sessionId"]);return n!=null&&A(e,["sessionId"],n),e}function YG(t){const e={},n=d(t,["ids"]);return n!=null&&A(e,["ids"],n),e}function KG(t){const e={},n=d(t,["ids"]);return n!=null&&A(e,["ids"],n),e}function JG(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JO(i))),A(e,["functionCalls"],r)}return e}function XG(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XO(i))),A(e,["functionCalls"],r)}return e}function Jm(t){const e={},n=d(t,["modality"]);n!=null&&A(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function Xm(t){const e={},n=d(t,["modality"]);n!=null&&A(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function QG(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hW(i))),A(e,["speakerVoiceConfigs"],r)}return e}function ZG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],CW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],WV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],lG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],JO(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function eW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],NW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],YV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],uG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],XO(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function tW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],EW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],KV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],cG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],dG(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function nW(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],kW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],JV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],fG(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],hG(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function rW(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function iW(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function aW(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function oW(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function sW(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],VV(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function lW(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],GV(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function uW(t){const e={},n=d(t,["handle"]);if(n!=null&&A(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function cW(t){const e={},n=d(t,["handle"]);n!=null&&A(e,["handle"],n);const r=d(t,["transparent"]);return r!=null&&A(e,["transparent"],r),e}function fW(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function dW(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function hW(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],tI(r)),e}function pW(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],tI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],QG(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function AW(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&A(e,["voiceConfig"],PW(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function mW(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function gW(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function vW(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>pG(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],yG(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],gG(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],xW());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],XV(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function yW(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>AG(p))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],bG(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],vG(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],sG(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],mG(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],wW());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],QV(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function pE(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["finished"]);return r!=null&&A(e,["finished"],r),e}function AE(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["finished"]);return r!=null&&A(e,["finished"],r),e}function bW(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>SW(i))),A(e,["urlMetadata"],r)}return e}function xW(){return{}}function wW(){return{}}function SW(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function _W(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&A(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&A(e,["cachedContentTokenCount"],r);const i=d(t,["responseTokenCount"]);i!=null&&A(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&A(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&A(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&A(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>Jm(h))),A(e,["promptTokensDetails"],p)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>Jm(h))),A(e,["cacheTokensDetails"],p)}const c=d(t,["responseTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>Jm(h))),A(e,["responseTokensDetails"],p)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Jm(h))),A(e,["toolUsePromptTokensDetails"],p)}return e}function TW(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&A(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&A(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&A(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&A(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&A(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&A(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(v=>Xm(v))),A(e,["promptTokensDetails"],h)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(v=>Xm(v))),A(e,["cacheTokensDetails"],h)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(v=>Xm(v))),A(e,["responseTokensDetails"],h)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(v=>Xm(v))),A(e,["toolUsePromptTokensDetails"],h)}const p=d(t,["trafficType"]);return p!=null&&A(e,["trafficType"],p),e}function CW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function NW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function EW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function kW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function tI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],rW(n)),e}function PW(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],iW(n)),e}function MW(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["weight"]);return r!=null&&A(e,["weight"],r),e}function nI(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["weight"]);return r!=null&&A(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DW(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function OW(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],DW(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function IW(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function jW(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function LW(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function RW(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function FW(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],JW(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],UW(r));const i=d(t,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],mJ(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function $W(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],XW(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],qW(r));const i=d(t,["finishMessage"]);i!=null&&A(e,["finishMessage"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],gJ(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function BW(t){const e={},n=d(t,["checkpointId"]);n!=null&&A(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&A(e,["epoch"],r);const i=d(t,["step"]);return i!=null&&A(e,["step"],i),e}function UW(t){const e={},n=d(t,["citationSources"]);return n!=null&&A(e,["citations"],n),e}function qW(t){const e={},n=d(t,["citations"]);return n!=null&&A(e,["citations"],n),e}function HW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["contents"]);if(i!=null){let a=Na(i);Array.isArray(a)&&(a=a.map(o=>Ed(o))),A(n,["contents"],a)}return n}function zW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);return r!=null&&A(e,["tokensInfo"],r),e}function VW(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function GW(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function WW(t){const e={},n=d(t,["values"]);return n!=null&&A(e,["values"],n),e}function YW(t){const e={},n=d(t,["values"]);n!=null&&A(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&A(e,["statistics"],KW(r)),e}function KW(t){const e={},n=d(t,["truncated"]);n!=null&&A(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&A(e,["tokenCount"],r),e}function JW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>EK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function XW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>kK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function Gv(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>PK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function Ed(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>MK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function QW(t){const e={},n=d(t,["controlType"]);n!=null&&A(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&A(e,["computeControl"],r),e}function ZW(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function eY(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&A(e,["systemInstruction"],Ed(Qr(r)));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sI(s))),A(e,["tools"],o)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&A(e,["generationConfig"],a),n}function tY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["contents"]);if(i!=null){let o=Na(i);Array.isArray(o)&&(o=o.map(s=>Gv(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&ZW(a),n}function nY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["contents"]);if(i!=null){let o=Na(i);Array.isArray(o)&&(o=o.map(s=>Ed(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&eY(a,n),n}function rY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&A(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&A(e,["cachedContentTokenCount"],i),e}function iY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&A(e,["totalTokens"],r),e}function aY(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ht(t,r)),n}function oY(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ht(t,r)),n}function sY(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function lY(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function uY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function cY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function fY(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&A(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&A(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&A(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&A(e,["parameters","includeSafetyAttributes"],f);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&A(e,["parameters","includeRaiReason"],p);const h=d(t,["language"]);e!==void 0&&h!=null&&A(e,["parameters","language"],h);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&A(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&A(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&A(e,["parameters","addWatermark"],w);const y=d(t,["editMode"]);e!==void 0&&y!=null&&A(e,["parameters","editMode"],y);const x=d(t,["baseSteps"]);return e!==void 0&&x!=null&&A(e,["parameters","editConfig","baseSteps"],x),n}function dY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>$K(l))),A(n,["instances[0]","referenceImages"],s)}const o=d(e,["config"]);return o!=null&&fY(o,n),n}function hY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Wv(a))),A(e,["generatedImages"],i)}return e}function pY(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function AY(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["instances[]","title"],i);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&A(e,["parameters","outputDimensionality"],a);const o=d(t,["mimeType"]);e!==void 0&&o!=null&&A(e,["instances[]","mimeType"],o);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&A(e,["parameters","autoTruncate"],s),n}function mY(){return{}}function gY(t){const e={},n=d(t,["billableCharacterCount"]);return n!=null&&A(e,["billableCharacterCount"],n),e}function vY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["contents"]);i!=null&&A(n,["requests[]","content"],yS(t,i));const a=d(e,["config"]);a!=null&&pY(a,n);const o=d(e,["model"]);return o!==void 0&&A(n,["requests[]","model"],Ht(t,o)),n}function yY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["contents"]);i!=null&&A(n,["instances[]","content"],yS(t,i));const a=d(e,["config"]);return a!=null&&AY(a,n),n}function bY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>WW(o))),A(e,["embeddings"],a)}return d(t,["metadata"])!=null&&A(e,["metadata"],mY()),e}function xY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>YW(o))),A(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&A(e,["metadata"],gY(i)),e}function wY(t){const e={},n=d(t,["endpoint"]);n!=null&&A(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&A(e,["deployedModelId"],r),e}function SY(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function _Y(t){const e={},n=d(t,["label"]);n!=null&&A(e,["label"],n);const r=d(t,["score"]);return r!=null&&A(e,["score"],r),e}function TY(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function CY(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function NY(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function EY(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function kY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function PY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function MY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function DY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function OY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function IY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function jY(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function LY(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function RY(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],Gv(Qr(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&A(r,["logprobs"],p);const h=d(e,["presencePenalty"]);h!=null&&A(r,["presencePenalty"],h);const v=d(e,["frequencyPenalty"]);v!=null&&A(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&A(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&A(r,["responseSchema"],zK(bS(y)));const x=d(e,["responseJsonSchema"]);if(x!=null&&A(r,["responseJsonSchema"],x),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(U=>qK(U))),A(n,["safetySettings"],M)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let M=Cd(T);Array.isArray(M)&&(M=M.map(U=>oJ(Td(U)))),A(n,["tools"],M)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&A(n,["toolConfig"],iJ(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&A(n,["cachedContent"],vs(t,k));const E=d(e,["responseModalities"]);E!=null&&A(r,["responseModalities"],E);const D=d(e,["mediaResolution"]);D!=null&&A(r,["mediaResolution"],D);const I=d(e,["speechConfig"]);if(I!=null&&A(r,["speechConfig"],QK(xS(I))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=d(e,["thinkingConfig"]);B!=null&&A(r,["thinkingConfig"],nJ(B));const O=d(e,["imageConfig"]);return O!=null&&A(r,["imageConfig"],dK(O)),r}function FY(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],Ed(Qr(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&A(r,["logprobs"],p);const h=d(e,["presencePenalty"]);h!=null&&A(r,["presencePenalty"],h);const v=d(e,["frequencyPenalty"]);v!=null&&A(r,["frequencyPenalty"],v);const b=d(e,["seed"]);b!=null&&A(r,["seed"],b);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const y=d(e,["responseSchema"]);y!=null&&A(r,["responseSchema"],VK(bS(y)));const x=d(e,["responseJsonSchema"]);x!=null&&A(r,["responseJsonSchema"],x);const S=d(e,["routingConfig"]);S!=null&&A(r,["routingConfig"],S);const T=d(e,["modelSelectionConfig"]);T!=null&&A(r,["modelConfig"],CK(T));const C=d(e,["safetySettings"]);if(n!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map($=>HK($))),A(n,["safetySettings"],R)}const k=d(e,["tools"]);if(n!==void 0&&k!=null){let R=Cd(k);Array.isArray(R)&&(R=R.map($=>sI(Td($)))),A(n,["tools"],R)}const E=d(e,["toolConfig"]);n!==void 0&&E!=null&&A(n,["toolConfig"],aJ(E));const D=d(e,["labels"]);n!==void 0&&D!=null&&A(n,["labels"],D);const I=d(e,["cachedContent"]);n!==void 0&&I!=null&&A(n,["cachedContent"],vs(t,I));const B=d(e,["responseModalities"]);B!=null&&A(r,["responseModalities"],B);const O=d(e,["mediaResolution"]);O!=null&&A(r,["mediaResolution"],O);const M=d(e,["speechConfig"]);M!=null&&A(r,["speechConfig"],ZK(xS(M)));const U=d(e,["audioTimestamp"]);U!=null&&A(r,["audioTimestamp"],U);const F=d(e,["thinkingConfig"]);F!=null&&A(r,["thinkingConfig"],rJ(F));const G=d(e,["imageConfig"]);return G!=null&&A(r,["imageConfig"],hK(G)),r}function mE(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["contents"]);if(i!=null){let o=Na(i);Array.isArray(o)&&(o=o.map(s=>Gv(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["generationConfig"],RY(t,a,n)),n}function gE(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["contents"]);if(i!=null){let o=Na(i);Array.isArray(o)&&(o=o.map(s=>Ed(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["generationConfig"],FY(t,a,n)),n}function vE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>FW(u))),A(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&A(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&A(e,["usageMetadata"],s),e}function yE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>$W(c))),A(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&A(e,["createTime"],i);const a=d(t,["modelVersion"]);a!=null&&A(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&A(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&A(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function $Y(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&A(e,["parameters","aspectRatio"],i);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&A(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&A(e,["parameters","safetySetting"],o);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&A(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&A(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&A(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&A(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&A(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&A(e,["parameters","outputOptions","compressionQuality"],p),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const h=d(t,["imageSize"]);if(e!==void 0&&h!=null&&A(e,["parameters","sampleImageSize"],h),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function BY(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&A(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&A(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&A(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&A(e,["parameters","includeSafetyAttributes"],f);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&A(e,["parameters","includeRaiReason"],p);const h=d(t,["language"]);e!==void 0&&h!=null&&A(e,["parameters","language"],h);const v=d(t,["outputMimeType"]);e!==void 0&&v!=null&&A(e,["parameters","outputOptions","mimeType"],v);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&A(e,["parameters","outputOptions","compressionQuality"],b);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&A(e,["parameters","addWatermark"],w);const y=d(t,["imageSize"]);e!==void 0&&y!=null&&A(e,["parameters","sampleImageSize"],y);const x=d(t,["enhancePrompt"]);return e!==void 0&&x!=null&&A(e,["parameters","enhancePrompt"],x),n}function UY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&$Y(a,n),n}function qY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&BY(a,n),n}function HY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>tK(o))),A(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],aI(i)),e}function zY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Wv(o))),A(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],oI(i)),e}function VY(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&A(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&A(e,["parameters","aspectRatio"],a);const o=d(t,["resolution"]);e!==void 0&&o!=null&&A(e,["parameters","resolution"],o);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&A(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&A(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&A(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function GY(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&A(e,["parameters","storageUri"],i);const a=d(t,["fps"]);e!==void 0&&a!=null&&A(e,["parameters","fps"],a);const o=d(t,["durationSeconds"]);e!==void 0&&o!=null&&A(e,["parameters","durationSeconds"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&A(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&A(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&A(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&A(e,["parameters","pubsubTopic"],f);const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&A(e,["parameters","negativePrompt"],p);const h=d(t,["enhancePrompt"]);e!==void 0&&h!=null&&A(e,["parameters","enhancePrompt"],h);const v=d(t,["generateAudio"]);e!==void 0&&v!=null&&A(e,["parameters","generateAudio"],v);const b=d(t,["lastFrame"]);e!==void 0&&b!=null&&A(e,["instances[0]","lastFrame"],eo(b));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(T=>TJ(T))),A(e,["instances[0]","referenceImages"],S)}const y=d(t,["mask"]);e!==void 0&&y!=null&&A(e,["instances[0]","mask"],_J(y));const x=d(t,["compressionQuality"]);return e!==void 0&&x!=null&&A(e,["parameters","compressionQuality"],x),n}function WY(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&A(e,["response"],XY(o)),e}function YY(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response"]);return o!=null&&A(e,["response"],QY(o)),e}function KY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["image"]);if(a!=null&&A(n,["instances[0]","image"],iI(a)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=d(e,["source"]);o!=null&&ZY(o,n);const s=d(e,["config"]);return s!=null&&VY(s,n),n}function JY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&A(n,["instances[0]","image"],eo(a));const o=d(e,["video"]);o!=null&&A(n,["instances[0]","video"],lI(o));const s=d(e,["source"]);s!=null&&eK(s,n);const l=d(e,["config"]);return l!=null&&GY(l,n),n}function XY(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>rK(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function QY(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>iK(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function ZY(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);if(e!==void 0&&i!=null&&A(e,["instances[0]","image"],iI(i)),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function eK(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],eo(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&A(e,["instances[0]","video"],lI(a)),n}function tK(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["image"],pK(n));const r=d(t,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&A(e,["safetyAttributes"],aI(i)),e}function Wv(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["image"],rI(n));const r=d(t,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&A(e,["safetyAttributes"],oI(i));const a=d(t,["prompt"]);return a!=null&&A(e,["enhancedPrompt"],a),e}function nK(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["mask"],rI(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>_Y(a))),A(e,["labels"],i)}return e}function rK(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],wJ(n)),e}function iK(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],SJ(n)),e}function aK(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ht(t,r)),n}function oK(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ht(t,r)),n}function sK(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],OW(n)),e}function lK(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],uY(n)),e}function uK(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],cY(n)),e}function cK(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],AK(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function fK(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],mK(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function dK(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function hK(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function pK(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&A(e,["imageBytes"],nc(n));const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function rI(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["imageBytes"],nc(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function iI(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&A(e,["bytesBase64Encoded"],nc(n));const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function eo(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&A(e,["bytesBase64Encoded"],nc(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function AK(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function mK(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function gK(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function vK(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function yK(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&A(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&A(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&A(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&A(n,["_url","models_url"],UO(t,s)),r}function bK(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&A(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&A(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&A(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&A(n,["_url","models_url"],UO(t,s)),r}function xK(t,e){const n={},r=d(e,["config"]);return r!=null&&yK(t,r,n),n}function wK(t,e){const n={},r=d(e,["config"]);return r!=null&&bK(t,r,n),n}function SK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=qO(i);Array.isArray(a)&&(a=a.map(o=>v2(o))),A(e,["models"],a)}return e}function _K(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=qO(i);Array.isArray(a)&&(a=a.map(o=>y2(o))),A(e,["models"],a)}return e}function TK(t){const e={},n=d(t,["maskMode"]);n!=null&&A(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&A(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&A(e,["dilation"],i),e}function v2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["version"]);a!=null&&A(e,["version"],a);const o=d(t,["_self"]);o!=null&&A(e,["tunedModelInfo"],sJ(o));const s=d(t,["inputTokenLimit"]);s!=null&&A(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&A(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);return u!=null&&A(e,["supportedActions"],u),e}function y2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["versionId"]);a!=null&&A(e,["version"],a);const o=d(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>wY(p))),A(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&A(e,["labels"],s);const l=d(t,["_self"]);l!=null&&A(e,["tunedModelInfo"],lJ(l));const u=d(t,["defaultCheckpointId"]);u!=null&&A(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>BW(p))),A(e,["checkpoints"],f)}return e}function CK(t){const e={},n=d(t,["featureSelectionPreference"]);return n!=null&&A(e,["featureSelectionPreference"],n),e}function NK(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XK(i))),A(e,["speakerVoiceConfigs"],r)}return e}function EK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],CJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],IW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],TY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],kY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function kK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],NJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],jW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],CY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],PY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function PK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],EJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],LW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],NY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],MY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function MK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],kJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],RW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],EY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],DY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function DK(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function OK(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function IK(t){const e={},n=d(t,["productImage"]);return n!=null&&A(e,["image"],eo(n)),e}function jK(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&A(e,["parameters","editConfig","baseSteps"],i);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&A(e,["parameters","storageUri"],a);const o=d(t,["seed"]);e!==void 0&&o!=null&&A(e,["parameters","seed"],o);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&A(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&A(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&A(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&A(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&A(e,["parameters","outputOptions","compressionQuality"],f);const p=d(t,["enhancePrompt"]);return e!==void 0&&p!=null&&A(e,["parameters","enhancePrompt"],p),n}function LK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["source"]);i!=null&&FK(i,n);const a=d(e,["config"]);return a!=null&&jK(a,n),n}function RK(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Wv(i))),A(e,["generatedImages"],r)}return e}function FK(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&A(e,["instances[0]","personImage","image"],eo(i));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>IK(s))),A(e,["instances[0]","productImages"],o)}return n}function $K(t){const e={},n=d(t,["referenceImage"]);n!=null&&A(e,["referenceImage"],eo(n));const r=d(t,["referenceId"]);r!=null&&A(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&A(e,["referenceType"],i);const a=d(t,["maskImageConfig"]);a!=null&&A(e,["maskImageConfig"],TK(a));const o=d(t,["controlImageConfig"]);o!=null&&A(e,["controlImageConfig"],QW(o));const s=d(t,["styleImageConfig"]);s!=null&&A(e,["styleImageConfig"],eJ(s));const l=d(t,["subjectImageConfig"]);return l!=null&&A(e,["subjectImageConfig"],tJ(l)),e}function BK(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],gK(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function UK(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],vK(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function aI(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&A(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function oI(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&A(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function qK(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&A(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function HK(t){const e={},n=d(t,["method"]);n!=null&&A(e,["method"],n);const r=d(t,["category"]);r!=null&&A(e,["category"],r);const i=d(t,["threshold"]);return i!=null&&A(e,["threshold"],i),e}function zK(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const p=d(t,["maximum"]);p!=null&&A(e,["maximum"],p);const h=d(t,["minItems"]);h!=null&&A(e,["minItems"],h);const v=d(t,["minLength"]);v!=null&&A(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&A(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&A(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&A(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function VK(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const p=d(t,["maximum"]);p!=null&&A(e,["maximum"],p);const h=d(t,["minItems"]);h!=null&&A(e,["minItems"],h);const v=d(t,["minLength"]);v!=null&&A(e,["minLength"],v);const b=d(t,["minProperties"]);b!=null&&A(e,["minProperties"],b);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const y=d(t,["nullable"]);y!=null&&A(e,["nullable"],y);const x=d(t,["pattern"]);x!=null&&A(e,["pattern"],x);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function GK(t){const e={},n=d(t,["image"]);return n!=null&&A(e,["image"],eo(n)),e}function WK(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&A(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&A(e,["parameters","maxPredictions"],i);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&A(e,["parameters","confidenceThreshold"],a);const o=d(t,["maskDilation"]);e!==void 0&&o!=null&&A(e,["parameters","maskDilation"],o);const s=d(t,["binaryColorThreshold"]);return e!==void 0&&s!=null&&A(e,["parameters","binaryColorThreshold"],s),n}function YK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["source"]);i!=null&&JK(i,n);const a=d(e,["config"]);return a!=null&&WK(a,n),n}function KK(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nK(i))),A(e,["generatedMasks"],r)}return e}function JK(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],eo(i));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&A(e,["instances[0]","scribble"],GK(a)),n}function XK(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],uI(r)),e}function QK(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],uI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],NK(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function ZK(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&A(e,["voiceConfig"],PJ(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function eJ(t){const e={},n=d(t,["styleDescription"]);return n!=null&&A(e,["styleDescription"],n),e}function tJ(t){const e={},n=d(t,["subjectType"]);n!=null&&A(e,["subjectType"],n);const r=d(t,["subjectDescription"]);return r!=null&&A(e,["subjectDescription"],r),e}function nJ(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function rJ(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function iJ(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],OY(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],BK(r)),e}function aJ(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],IY(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],UK(r)),e}function oJ(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>jY(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],cK(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],lK(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],vJ());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],VW(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function sI(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>LY(p))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],fK(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],uK(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],SY(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],sK(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],yJ());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],GW(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function sJ(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&A(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function lJ(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&A(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function uJ(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),n}function cJ(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),n}function fJ(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","name"],Ht(t,r));const i=d(e,["config"]);return i!=null&&uJ(i,n),n}function dJ(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["config"]);return i!=null&&cJ(i,n),n}function hJ(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["includeRaiReason"]);e!==void 0&&i!=null&&A(e,["parameters","includeRaiReason"],i);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&A(e,["parameters","outputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&A(e,["parameters","outputOptions","compressionQuality"],o);const s=d(t,["enhanceInputImage"]);e!==void 0&&s!=null&&A(e,["parameters","upscaleConfig","enhanceInputImage"],s);const l=d(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&A(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=d(t,["numberOfImages"]);e!==void 0&&u!=null&&A(e,["parameters","sampleCount"],u);const c=d(t,["mode"]);return e!==void 0&&c!=null&&A(e,["parameters","mode"],c),n}function pJ(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ht(t,r));const i=d(e,["image"]);i!=null&&A(n,["instances[0]","image"],eo(i));const a=d(e,["upscaleFactor"]);a!=null&&A(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=d(e,["config"]);return o!=null&&hJ(o,n),n}function AJ(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Wv(a))),A(e,["generatedImages"],i)}return e}function mJ(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bJ(i))),A(e,["urlMetadata"],r)}return e}function gJ(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xJ(i))),A(e,["urlMetadata"],r)}return e}function vJ(){return{}}function yJ(){return{}}function bJ(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function xJ(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function wJ(t){const e={},n=d(t,["video","uri"]);n!=null&&A(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&A(e,["videoBytes"],nc(r));const i=d(t,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function SJ(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],nc(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function _J(t){const e={},n=d(t,["image"]);n!=null&&A(e,["_self"],eo(n));const r=d(t,["maskMode"]);return r!=null&&A(e,["maskMode"],r),e}function TJ(t){const e={},n=d(t,["image"]);n!=null&&A(e,["image"],eo(n));const r=d(t,["referenceType"]);return r!=null&&A(e,["referenceType"],r),e}function CJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function NJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function EJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function kJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function lI(t){const e={},n=d(t,["uri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&A(e,["bytesBase64Encoded"],nc(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function uI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],DK(n)),e}function PJ(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],OK(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MJ="Content-Type",DJ="X-Server-Timeout",OJ="User-Agent",b2="x-goog-api-client",IJ="1.22.0",jJ=`google-genai-sdk/${IJ}`,LJ="v1beta1",RJ="v1beta",bE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class FJ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:LJ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:RJ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&$J(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await xE(i),new h2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await xE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Ef(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield Tn(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const p=JSON.parse(JSON.stringify(f.error)),h=p.status,v=p.code,b=`got status: ${h}. ${JSON.stringify(f)}`;if(v>=400&&v<600)throw new Vv({message:b,status:v})}}catch(f){if(f.name==="ApiError")throw f}o+=u;let c=o.match(bE);for(;c;){const f=c[1];try{const p=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Tn(new h2(p)),o=o.slice(c[0].length),c=o.match(bE)}catch(p){throw new Error(`exception parsing stream chunk ${f}. ${p}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=jJ+" "+this.clientOptions.userAgentExtra;return e[OJ]=n,e[b2]=n,e[MJ]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(DJ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l=await this.fetchUploadUrl(i,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:at("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function xE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Vv({message:i,status:n}):new Error(i)}}function $J(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BJ="mcp_used/unknown";let UJ=!1;function cI(t){for(const e of t)if(qJ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return UJ}function fI(t){var e;const n=(e=t[b2])!==null&&e!==void 0?e:"";t[b2]=(n+` ${BJ}`).trimStart()}function qJ(t){return t!==null&&typeof t=="object"&&t instanceof _S}function HJ(t,e=100){return Ef(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Tn(t.listTools({cursor:r}));for(const o of a.tools)yield yield Tn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class _S{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new _S(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,pp(HJ(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;o.push(f);const p=f.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Zq(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zJ(t,e,n){const r=new Vq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=MG(i);Object.assign(r,a),e(r)}class VJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=YJ(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,p=function(){u({})},h=this.apiClient,v={onopen:p,onmessage:S=>{zJ(h,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(l,WJ(o),v);b.connect(),await c;const w=Ht(this.apiClient,e.model),y=ZO({model:w}),x=g2({setup:y});return b.send(JSON.stringify(x)),new GJ(b,this.apiClient)}}class GJ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=IG(e),r=QO(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=OG(e),r=g2(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=g2({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(pf.PLAY)}pause(){this.sendPlaybackControl(pf.PAUSE)}stop(){this.sendPlaybackControl(pf.STOP)}resetContext(){this.sendPlaybackControl(pf.RESET_CONTEXT)}close(){this.conn.close()}}function WJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function YJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KJ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function JJ(t,e,n){const r=new zq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=HG(a);Object.assign(r,o)}else{const o=qG(a);Object.assign(r,o)}e(r)}class XJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new VJ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&cI(e.config.tools)&&fI(f);const p=tX(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const I=this.apiClient.getApiKey();let B="BidiGenerateContent",O="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${B}?${O}=${I}`}let h=()=>{};const v=new Promise(I=>{h=I}),b=e.callbacks,w=function(){var I;(I=b==null?void 0:b.onopen)===null||I===void 0||I.call(b),h({})},y=this.apiClient,x={onopen:w,onmessage:I=>{JJ(y,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(c,eX(p),x);S.connect(),await v;let T=Ht(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const I=this.apiClient.getProject(),B=this.apiClient.getLocation();T=`projects/${I}/locations/${B}/`+T}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[p0.AUDIO]}:e.config.responseModalities=[p0.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const I of k)if(this.isCallableTool(I)){const B=I;E.push(await B.tool())}else E.push(I);E.length>0&&(e.config.tools=E);const D={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=CG(this.apiClient,D):C=TG(this.apiClient,D),delete C.config,S.send(JSON.stringify(C)),new ZJ(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const QJ={turnComplete:!0};class ZJ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Na(n.turns),e.isVertexAI()?r=r.map(i=>Ed(i)):r=r.map(i=>Gv(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(KJ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},QJ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:RG(e)}:n={realtimeInput:LG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function eX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function tX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wE=10;function SE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(kf(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function kf(t){return"callTool"in t&&typeof t.callTool=="function"}function nX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>kf(i)))!==null&&r!==void 0?r:!1}function rX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!kf(i)))!==null&&r!==void 0?r:!1}function _E(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iX extends tc{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!nX(n)||SE(n.config))return await this.generateContentInternal(l);if(rX(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const f=Na(l.contents),p=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:wE;let h=0;for(;h<p&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const v=u.candidates[0].content,b=[];for(const w of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(kf(w)){const x=await w.callTool(u.functionCalls);b.push(...x)}h++,c={role:"user",parts:b},l.contents=Na(l.contents),l.contents.push(v),l.contents.push(c),_E(l.config)&&(f.push(v),f.push(c))}return _E(l.config)&&(u.automaticFunctionCallingHistory=f),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),SE(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new BA(Uu.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>kf(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&cI(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),fI(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(kf(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:wE;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var p,h;return Ef(this,arguments,function*(){for(var v,b,w,y;s<a;){o&&(s++,o=!1);const C=yield Tn(u.processParamsMaybeAddMcpUsage(f)),k=yield Tn(u.generateContentStreamInternal(C)),E=[],D=[];try{for(var x=!0,S=(b=void 0,pp(k)),T;T=yield Tn(S.next()),v=T.done,!v;x=!0){y=T.value,x=!1;const I=y;if(yield yield Tn(I),I.candidates&&(!((p=I.candidates[0])===null||p===void 0)&&p.content)){D.push(I.candidates[0].content);for(const B of(h=I.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(s<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(B.functionCall.name)){const O=yield Tn(c.get(B.functionCall.name).callTool([B.functionCall]));E.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(I){b={error:I}}finally{try{!x&&!v&&(w=S.return)&&(yield Tn(w.call(S)))}finally{if(b)throw b.error}}if(E.length>0){o=!0;const I=new Mh;I.candidates=[{content:{role:"user",parts:E}}],yield yield Tn(I);const B=[];B.push(...D),B.push({role:"user",parts:E});const O=Na(f.contents).concat(B);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=gE(this.apiClient,e);return s=at("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=yE(c),p=new Mh;return Object.assign(p,f),p})}else{const u=mE(this.apiClient,e);return s=at("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=vE(c),p=new Mh;return Object.assign(p,f),p})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=gE(this.apiClient,e);return s=at("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return Ef(this,arguments,function*(){var p,h,v,b;try{for(var w=!0,y=pp(f),x;x=yield Tn(y.next()),p=x.done,!p;w=!0){b=x.value,w=!1;const S=b,T=yE(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new Mh;Object.assign(C,T),yield yield Tn(C)}}catch(S){h={error:S}}finally{try{!w&&!p&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(h)throw h.error}}})})}else{const u=mE(this.apiClient,e);return s=at("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return Ef(this,arguments,function*(){var p,h,v,b;try{for(var w=!0,y=pp(f),x;x=yield Tn(y.next()),p=x.done,!p;w=!0){b=x.value,w=!1;const S=b,T=vE(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new Mh;Object.assign(C,T),yield yield Tn(C)}}catch(S){h={error:S}}finally{try{!w&&!p&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=yY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=xY(c),p=new JN;return Object.assign(p,f),p})}else{const u=vY(this.apiClient,e);return s=at("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=bY(c),p=new JN;return Object.assign(p,f),p})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=qY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=zY(c),p=new XN;return Object.assign(p,f),p})}else{const u=UY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=HY(c),p=new XN;return Object.assign(p,f),p})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=dY(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=hY(l),c=new Lq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=pJ(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=AJ(l),c=new Rq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=LK(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=RK(l),c=new Fq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=YK(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=KK(l),c=new $q;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=oK(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>y2(c))}else{const u=aK(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>v2(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=wK(this.apiClient,e);return s=at("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=_K(c),p=new QN;return Object.assign(p,f),p})}else{const u=xK(this.apiClient,e);return s=at("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=SK(c),p=new QN;return Object.assign(p,f),p})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=dJ(this.apiClient,e);return s=at("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>y2(c))}else{const u=fJ(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>v2(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=oY(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=lY(c),p=new ZN;return Object.assign(p,f),p})}else{const u=aY(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=sY(c),p=new ZN;return Object.assign(p,f),p})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=nY(this.apiClient,e);return s=at("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=iY(c),p=new eE;return Object.assign(p,f),p})}else{const u=tY(this.apiClient,e);return s=at("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=rY(c),p=new eE;return Object.assign(p,f),p})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=HW(this.apiClient,e);return a=at("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=zW(l),c=new Bq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=JY(this.apiClient,e);return s=at("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=YY(c),p=new A0;return Object.assign(p,f),p})}else{const u=KY(this.apiClient,e);return s=at("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const f=WY(c),p=new A0;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aX extends tc{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Oq(e);return s=at("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=Dq(e);return s=at("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Tq(e);return a=at("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TE(){return{}}function oX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["name"],n),e}function sX(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function lX(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function uX(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function cX(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>_X(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function fX(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],kX(r)),e}function dX(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&A(n,["expireTime"],i);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&A(n,["newSessionExpireTime"],a);const o=d(e,["uses"]);n!==void 0&&o!=null&&A(n,["uses"],o);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&A(n,["bidiGenerateContentSetup"],wX(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&A(n,["fieldMask"],l),r}function hX(t,e){const n={},r=d(e,["config"]);return r!=null&&A(n,["config"],dX(t,r,n)),n}function pX(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function AX(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function mX(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function gX(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function vX(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],pX(n)),e}function yX(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],bX(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bX(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function xX(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],MX(wS(f)));const p=d(t,["thinkingConfig"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","thinkingConfig"],DX(p));const h=d(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],h);const v=d(t,["systemInstruction"]);e!==void 0&&v!=null&&A(e,["setup","systemInstruction"],cX(Qr(v)));const b=d(t,["tools"]);if(e!==void 0&&b!=null){let k=Cd(b);Array.isArray(k)&&(k=k.map(E=>OX(Td(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],EX(w));const y=d(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&A(e,["setup","inputAudioTranscription"],TE());const x=d(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&A(e,["setup","outputAudioTranscription"],TE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],NX(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],fX(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],CX(C)),n}function wX(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],Ht(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],xX(i,n)),n}function SX(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>PX(i))),A(e,["speakerVoiceConfigs"],r)}return e}function _X(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],jX(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],lX(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],AX(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],mX(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function TX(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function CX(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function NX(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],sX(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function EX(t){const e={},n=d(t,["handle"]);if(n!=null&&A(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kX(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function PX(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],dI(r)),e}function MX(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],dI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],SX(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function DX(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function OX(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>gX(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],yX(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],vX(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],IX());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],uX(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function IX(){return{}}function jX(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function dI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],TX(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function RX(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=LX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class FX extends tc{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=hX(this.apiClient,e);a=at("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=RX(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>oX(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $X(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function BX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function UX(t,e){const n={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&A(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=d(t,["epochCount"]);e!==void 0&&i!=null&&A(e,["tuningTask","hyperparameters","epochCount"],i);const a=d(t,["learningRateMultiplier"]);if(a!=null&&A(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(t,["batchSize"]);e!==void 0&&o!=null&&A(e,["tuningTask","hyperparameters","batchSize"],o);const s=d(t,["learningRate"]);if(e!==void 0&&s!=null&&A(e,["tuningTask","hyperparameters","learningRate"],s),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function qX(t,e){const n={},r=d(t,["validationDataset"]);e!==void 0&&r!=null&&A(e,["supervisedTuningSpec"],oQ(r,n));const i=d(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&A(e,["tunedModelDisplayName"],i);const a=d(t,["description"]);e!==void 0&&a!=null&&A(e,["description"],a);const o=d(t,["epochCount"]);e!==void 0&&o!=null&&A(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);e!==void 0&&s!=null&&A(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=d(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&A(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=d(t,["adapterSize"]);if(e!==void 0&&u!=null&&A(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=d(t,["labels"]);return e!==void 0&&c!=null&&A(e,["labels"],c),n}function HX(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&A(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&A(e,["tuningTask","trainingData"],nQ(i));const a=d(t,["config"]);return a!=null&&UX(a,e),e}function zX(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&A(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],rQ(i,e));const a=d(t,["config"]);return a!=null&&qX(a,e),e}function VX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function GX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function WX(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function YX(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function KX(t){const e={},n=d(t,["config"]);return n!=null&&WX(n,e),e}function JX(t){const e={},n=d(t,["config"]);return n!=null&&YX(n,e),e}function XX(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>hI(o))),A(e,["tuningJobs"],a)}return e}function QX(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>x2(o))),A(e,["tuningJobs"],a)}return e}function ZX(t){const e={},n=d(t,["checkpointId"]);n!=null&&A(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&A(e,["epoch"],r);const i=d(t,["step"]);i!=null&&A(e,["step"],i);const a=d(t,["endpoint"]);return a!=null&&A(e,["endpoint"],a),e}function eQ(t){const e={},n=d(t,["name"]);n!=null&&A(e,["model"],n);const r=d(t,["name"]);return r!=null&&A(e,["endpoint"],r),e}function tQ(t){const e={},n=d(t,["model"]);n!=null&&A(e,["model"],n);const r=d(t,["endpoint"]);r!=null&&A(e,["endpoint"],r);const i=d(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ZX(o))),A(e,["checkpoints"],a)}return e}function nQ(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=d(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iQ(i))),A(e,["examples","examples"],r)}return e}function rQ(t,e){const n={},r=d(t,["gcsUri"]);e!==void 0&&r!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],i),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function iQ(t){const e={},n=d(t,["textInput"]);n!=null&&A(e,["textInput"],n);const r=d(t,["output"]);return r!=null&&A(e,["output"],r),e}function hI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],$O(i));const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["tuningTask","startTime"]);o!=null&&A(e,["startTime"],o);const s=d(t,["tuningTask","completeTime"]);s!=null&&A(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["description"]);u!=null&&A(e,["description"],u);const c=d(t,["baseModel"]);c!=null&&A(e,["baseModel"],c);const f=d(t,["_self"]);f!=null&&A(e,["tunedModel"],eQ(f));const p=d(t,["customBaseModel"]);p!=null&&A(e,["customBaseModel"],p);const h=d(t,["experiment"]);h!=null&&A(e,["experiment"],h);const v=d(t,["labels"]);v!=null&&A(e,["labels"],v);const b=d(t,["outputUri"]);b!=null&&A(e,["outputUri"],b);const w=d(t,["pipelineJob"]);w!=null&&A(e,["pipelineJob"],w);const y=d(t,["serviceAccount"]);y!=null&&A(e,["serviceAccount"],y);const x=d(t,["tunedModelDisplayName"]);x!=null&&A(e,["tunedModelDisplayName"],x);const S=d(t,["veoTuningSpec"]);return S!=null&&A(e,["veoTuningSpec"],S),e}function x2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],$O(i));const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["startTime"]);o!=null&&A(e,["startTime"],o);const s=d(t,["endTime"]);s!=null&&A(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["error"]);u!=null&&A(e,["error"],u);const c=d(t,["description"]);c!=null&&A(e,["description"],c);const f=d(t,["baseModel"]);f!=null&&A(e,["baseModel"],f);const p=d(t,["tunedModel"]);p!=null&&A(e,["tunedModel"],tQ(p));const h=d(t,["preTunedModel"]);h!=null&&A(e,["preTunedModel"],h);const v=d(t,["supervisedTuningSpec"]);v!=null&&A(e,["supervisedTuningSpec"],v);const b=d(t,["tuningDataStats"]);b!=null&&A(e,["tuningDataStats"],b);const w=d(t,["encryptionSpec"]);w!=null&&A(e,["encryptionSpec"],w);const y=d(t,["partnerModelTuningSpec"]);y!=null&&A(e,["partnerModelTuningSpec"],y);const x=d(t,["customBaseModel"]);x!=null&&A(e,["customBaseModel"],x);const S=d(t,["experiment"]);S!=null&&A(e,["experiment"],S);const T=d(t,["labels"]);T!=null&&A(e,["labels"],T);const C=d(t,["outputUri"]);C!=null&&A(e,["outputUri"],C);const k=d(t,["pipelineJob"]);k!=null&&A(e,["pipelineJob"],k);const E=d(t,["serviceAccount"]);E!=null&&A(e,["serviceAccount"],E);const D=d(t,["tunedModelDisplayName"]);D!=null&&A(e,["tunedModelDisplayName"],D);const I=d(t,["veoTuningSpec"]);return I!=null&&A(e,["veoTuningSpec"],I),e}function aQ(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["metadata"]);i!=null&&A(e,["metadata"],i);const a=d(t,["done"]);a!=null&&A(e,["done"],a);const o=d(t,["error"]);return o!=null&&A(e,["error"],o),e}function oQ(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&A(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sQ extends tc{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new BA(Uu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:d2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=GX(e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>x2(c))}else{const u=VX(e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>hI(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=JX(e);return s=at("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=QX(c),p=new tE;return Object.assign(p,f),p})}else{const u=KX(e);return s=at("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=XX(c),p=new tE;return Object.assign(p,f),p})}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=BX(e);o=at("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=$X(e);o=at("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=zX(e);return a=at("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>x2(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=HX(e);return a=at("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>aQ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lQ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uQ=1024*1024*8,cQ=3,fQ=1e3,dQ=2,A1="x-goog-upload-status";async function hQ(t,e,n){var r,i,a;let o=0,s=0,l=new h2(new Response),u="upload";for(o=t.size;s<o;){const f=Math.min(uQ,o-s),p=t.slice(s,s+f);s+f>=o&&(u+=", finalize");let h=0,v=fQ;for(;h<cQ&&(l=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[A1]));)h++,await AQ(v),v=v*dQ;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[A1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[A1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function pQ(t){return{size:t.size,type:t.type}}function AQ(t){return new Promise(e=>setTimeout(e,t))}class mQ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hQ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pQ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gQ{create(e,n,r){return new vQ(e,n,r)}}class vQ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CE="x-goog-api-key";class yQ{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(CE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(CE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bQ="gl-node/";class xQ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=_q(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new yQ(this.apiKey);this.apiClient=new FJ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:bQ+"web",uploader:new mQ,downloader:new lQ}),this.models=new iX(this.apiClient),this.live=new XJ(this.apiClient,i,new gQ),this.batches=new mz(this.apiClient),this.chats=new _V(this.models,this.apiClient),this.caches=new xV(this.apiClient),this.files=new RV(this.apiClient),this.operations=new aX(this.apiClient),this.authTokens=new FX(this.apiClient),this.tunings=new sQ(this.apiClient)}}var wQ={};const NE=wQ.API_KEY,SQ=({product:t,variants:e,stockMap:n,onClose:r,onSelectVariant:i,t:a,isReturnMode:o})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[a("selectVariantFor"),' "',t.name,'"']}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:e.map(s=>{const l=n.get(s.id)||0,u=!o&&l<=0;return m.jsxs("div",{onClick:()=>!u&&i(s),className:`flex items-center p-3 border dark:border-slate-700 rounded-lg gap-4 ${u?"bg-gray-100 dark:bg-slate-700 opacity-50 cursor-not-allowed":"bg-white dark:bg-slate-900 hover:bg-teal-50 dark:hover:bg-slate-700 cursor-pointer"}`,children:[m.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-md bg-gray-200"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:s.name}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s.price.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:`font-semibold ${l>s.lowStockThreshold?"text-green-600 dark:text-green-400":"text-orange-500 dark:text-orange-400"}`,children:[a("stock"),": ",l]}),u&&m.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:a("outOfStock")})]})]},s.id)})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")})})]})}),_Q=({onSave:t,onClose:e,t:n})=>{const[r,i]=ie.useState(""),[a,o]=ie.useState(1),[s,l]=ie.useState(""),u=c=>{if(c.preventDefault(),!r||a===""||a<=0||s===""||s<=0){alert(n("fillAllFields"));return}t(r,a,s)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("enterItemDetails")}),m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("customItemName")}),m.jsx("input",{id:"itemName",type:"text",value:r,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:n("itemNamePlaceholder"),required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemQuantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("quantity")}),m.jsx("input",{id:"itemQuantity",type:"number",value:a,onChange:c=>o(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("unitPriceLabel")}),m.jsx("input",{id:"itemPrice",type:"number",value:s,onChange:c=>l(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:n("add")})]})]})]})})},TQ=({store:t,user:e,products:n,variants:r,customers:i,categories:a,sales:o,stockMap:s,variantMap:l,variantsByProduct:u,barcodeMap:c,cart:f,setCart:p,completeSale:h,processReturn:v,payCustomerDebt:b,t:w,language:y})=>{const[x,S]=ie.useState(0),[T,C]=ie.useState(void 0),[k,E]=ie.useState(null),[D,I]=ie.useState(""),[B,O]=ie.useState(!1),[M,U]=ie.useState(null),[F,G]=ie.useState(!1),[R,$]=ie.useState(0),[V,Y]=ie.useState(""),[ne,le]=ie.useState(""),[L,q]=ie.useState(null),[J,te]=ie.useState(!1),[X,se]=ie.useState(!1),[ue,Z]=ie.useState("unit"),he=ie.useRef(""),me=ie.useRef(null),ce=ie.useRef(null),je=ie.useMemo(()=>f.reduce((Se,Ue)=>Se+Ue.price*Ue.quantity,0),[f]),Re=ne?parseFloat(ne):je,Ce=Re/1.2,ae=Re-Ce,Ne=Re-x,Ee=ie.useCallback((Se,Ue)=>Ue==="wholesale"&&Se.priceWholesale&&Se.priceWholesale>0?Se.priceWholesale:Ue==="semiWholesale"&&Se.priceSemiWholesale&&Se.priceSemiWholesale>0?Se.priceSemiWholesale:Se.price||0,[]);ie.useEffect(()=>{p(Se=>Se.map(Ue=>{let rt=Ue.price;if(Ue.type==="good"){const pt=l.get(Ue.id);pt&&(rt=Ee(pt,ue))}else if(Ue.type==="service"&&!Ue.isCustom){const pt=n.find(st=>st.id===Ue.productId);pt&&(rt=Ee(pt,ue))}return{...Ue,price:rt}}))},[ue,l,n,Ee,p]),ie.useEffect(()=>{if(T){const Se=o.filter(Ue=>Ue.customerId===T&&Ue.remainingAmount>0).reduce((Ue,rt)=>Ue+rt.remainingAmount,0);$(Se)}else $(0)},[T,o]),ie.useEffect(()=>{T||S(Re)},[Re,T]),ie.useEffect(()=>{le("")},[f]);const xe=ie.useCallback(Se=>{const Ue=s.get(Se.id)||0;if(!B&&Ue<=0){E(w("productOutOfStock",{productName:Se.name})),setTimeout(()=>E(null),3e3);return}p(rt=>{const pt=rt.find(Pt=>Pt.id===Se.id);if(pt){const Pt=pt.quantity+1;return!B&&Pt>Ue?(E(w("notEnoughStock",{productName:Se.name})),setTimeout(()=>E(null),3e3),rt):rt.map(ur=>ur.id===Se.id?{...ur,quantity:Pt}:ur)}const st=n.find(Pt=>Pt.id===Se.productId),mn={id:Se.id,storeId:Se.storeId,name:`${st==null?void 0:st.name} - ${Se.name}`,type:"good",price:Ee(Se,ue),purchasePrice:Se.purchasePrice,stock:Ue,quantity:1,image:Se.image,productId:Se.productId};return[...rt,mn]}),E(w("productAdded",{productName:Se.name})),setTimeout(()=>E(null),3e3)},[p,B,w,s,n,Ee,ue]),Pe=ie.useCallback(Se=>{p(Ue=>{if(Ue.find(st=>st.id===Se.id))return Ue.map(st=>st.id===Se.id?{...st,quantity:st.quantity+1}:st);const pt={id:Se.id,storeId:Se.storeId,name:Se.name,type:"service",price:Ee(Se,ue),quantity:1,image:Se.image,productId:Se.id};return[...Ue,pt]})},[p,Ee,ue]),be=(Se,Ue,rt)=>{const pt=crypto.randomUUID(),st={id:pt,productId:pt,storeId:e.storeId,name:Se,price:rt,quantity:Ue,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("services"))}`,isCustom:!0};p(mn=>[...mn,st]),se(!1),E(w("customItemAdded")),setTimeout(()=>E(null),3e3)},ke=ie.useCallback(Se=>{const Ue=c.get(Se);Ue?xe(Ue):(E(w("productNotFound",{barcode:Se})),setTimeout(()=>E(null),3e3))},[c,xe,w]),ye=async Se=>{var rt;const Ue=(rt=Se.target.files)==null?void 0:rt[0];if(Ue){if(!NE){E(w("geminiApiKeyNotConfigured")),setTimeout(()=>E(null),4e3),Se.target&&(Se.target.value="");return}te(!0),E(w("scanning"));try{const pt=await new Promise((Ke,Mt)=>{const Pr=new FileReader;Pr.onload=()=>Ke(Pr.result.split(",")[1]),Pr.onerror=Hn=>Mt(Hn),Pr.readAsDataURL(Ue)}),st=new xQ({apiKey:NE}),mn={inlineData:{mimeType:Ue.type,data:pt}},Pt={text:"From the provided receipt image, extract all purchase line items. For each item, provide its name (designation), quantity (quantite), and its unit price (prixHT). Return as a JSON array."},ur=await st.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[mn,Pt]},config:{responseMimeType:"application/json",responseSchema:{type:qi.ARRAY,items:{type:qi.OBJECT,properties:{designation:{type:qi.STRING,description:"Item name or description from the receipt."},quantite:{type:qi.NUMBER,description:"The quantity of the item."},prixHT:{type:qi.NUMBER,description:"The unit price of the item (Prix HT)."}},required:["designation","quantite","prixHT"]}}}}),ui=JSON.parse(ur.text);if(!Array.isArray(ui))throw new Error("AI response is not a valid array.");const fn=ui.map(Ke=>{const Mt=crypto.randomUUID();return{id:Mt,productId:Mt,storeId:e.storeId,name:Ke.designation,price:Ke.prixHT,quantity:Ke.quantite,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("services"))}`,isCustom:!0}});p(Ke=>[...Ke,...fn]),E(w("itemsAddedFromReceipt",{count:fn.length})),setTimeout(()=>E(null),4e3)}catch(pt){console.error("Error scanning receipt:",pt),E(w("receiptScanError")),setTimeout(()=>E(null),4e3)}finally{te(!1),Se.target&&(Se.target.value="")}}};ie.useEffect(()=>{const Se=Ue=>{const rt=Ue.target;if(!(["INPUT","SELECT","TEXTAREA"].includes(rt.tagName)&&rt.id!=="pos-scanner-listener")){if(me.current&&clearTimeout(me.current),Ue.key==="Enter"){he.current.length>3&&ke(he.current),he.current="",Ue.preventDefault();return}Ue.key.length===1&&(he.current+=Ue.key),me.current=setTimeout(()=>{he.current=""},100)}};return window.addEventListener("keydown",Se),()=>{window.removeEventListener("keydown",Se),me.current&&clearTimeout(me.current)}},[ke]);const Ge=ie.useMemo(()=>{const Se=D.toLowerCase();if(F){const rt=n.filter(pt=>pt.type==="service");return D?rt.filter(pt=>pt.name.toLowerCase().includes(Se)):rt}return D.length<1&&!M?[]:n.filter(rt=>rt.type==="good").filter(rt=>!M||rt.categoryId===M?D?rt.name.toLowerCase().includes(Se):!0:!1)},[n,M,D,F]),We=Se=>{Se.type==="service"?Pe(Se):q(Se),I("")},ot=Se=>{xe(Se),q(null)},Ve=F||D.length>0||!!M,ct=(Se,Ue,rt)=>{p(pt=>{const st=pt.find(Pt=>Pt.id===Se);if(!st)return pt;let mn=rt;return Ue==="quantity"&&(mn<.5&&(mn=.5),st.type==="good"&&!B&&st.stock&&mn>st.stock&&(mn=st.stock)),Ue==="price"&&mn<0&&(mn=0),pt.map(Pt=>Pt.id===Se?{...Pt,[Ue]:mn}:Pt)})},et=Se=>{p(f.filter(Ue=>Ue.id!==Se))},ht=()=>{p([]),S(0),le(""),C(void 0)},Ye=async Se=>{if(f.length===0){alert(w("emptyCartError"));return}await h(x,T,Re,Se),S(0),C(void 0),le("")},cn=()=>{if(f.length===0){alert(w("emptyCartError"));return}v(f)},kt=()=>{const Se=parseFloat(V);if(T&&Se>0){if(Se>R){alert(w("enterValidPayment"));return}b(T,Se),Y("")}};return ie.useEffect(()=>{ht(),G(!1)},[B]),m.jsxs(m.Fragment,{children:[L&&m.jsx(SQ,{product:L,variants:u.get(L.id)||[],stockMap:s,onClose:()=>q(null),onSelectVariant:ot,t:w,isReturnMode:B}),X&&m.jsx(_Q,{onSave:be,onClose:()=>se(!1),t:w}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-xl shadow-lg flex justify-center",children:m.jsxs("div",{className:`flex rounded-lg p-1 ${B?"bg-orange-100 dark:bg-orange-900/50":"bg-gray-200 dark:bg-slate-700"}`,children:[m.jsx("button",{onClick:()=>O(!1),className:`px-8 py-2 rounded-md font-semibold transition-all ${B?"text-slate-600 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400"}`,children:w("saleMode")}),m.jsx("button",{onClick:()=>O(!0),className:`px-8 py-2 rounded-md font-semibold transition-all ${B?"bg-white dark:bg-slate-800 shadow text-orange-700 dark:text-orange-400":"text-slate-600 dark:text-slate-400"}`,children:w("returnMode")})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:w("priceLevels")}),m.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-200 dark:bg-slate-700",children:[m.jsx("button",{onClick:()=>Z("unit"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="unit"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("unit")}),m.jsx("button",{onClick:()=>Z("semiWholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="semiWholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("semiWholesale")}),m.jsx("button",{onClick:()=>Z("wholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${ue==="wholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("wholesale")})]})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-center gap-3 bg-teal-50 dark:bg-slate-700 text-teal-700 dark:text-teal-300 p-3 rounded-lg",children:[m.jsx(EO,{className:"w-8 h-8"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold",children:w("barcodeScannerActive")}),m.jsx("p",{className:"text-sm",children:w("scanToAdd")})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:w("manualAdd")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(Sl,{className:"w-5 h-5"}),w("addCustomItem")]}),t.enableAiReceiptScan&&m.jsxs("button",{onClick:()=>{var Se;return(Se=ce.current)==null?void 0:Se.click()},disabled:J,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",children:[J?m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m.jsx(_l,{className:"w-5 h-5"}),w(J?"scanning":"scanReceipt")]})]}),m.jsx("input",{type:"file",ref:ce,onChange:ye,className:"hidden",accept:"image/*"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:w("filterByCategory")}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>{U(null),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${!M&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:w("all")}),a.map(Se=>m.jsx("button",{onClick:()=>{U(Se.id),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${M===Se.id&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:Se.name},Se.id))]})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("button",{onClick:()=>{G(!0),U(null)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-base font-bold rounded-lg border-2 transition-all ${F?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-gray-300 dark:border-slate-600 hover:border-purple-500 dark:hover:border-purple-500"}`,children:[m.jsx(_l,{className:"w-6 h-6"})," ",w("services")]})}),m.jsxs("div",{className:"relative mt-4",children:[m.jsx("input",{type:"text",placeholder:w("searchPlaceholder"),value:D,onChange:Se=>I(Se.target.value),className:"w-full px-4 py-2 border dark:border-slate-600 rounded-lg focus:ring-teal-500 bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),Ve&&m.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Ge.length>0?Ge.map(Se=>{var Ue;return m.jsxs("li",{className:"flex items-center p-3 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>We(Se),children:[Se.type==="good"?m.jsx("img",{src:Se.image,alt:Se.name,className:"w-12 h-12 object-cover rounded-md mx-4 bg-gray-200"}):m.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-md bg-purple-100 dark:bg-purple-900/50 mx-4",children:m.jsx(_l,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Se.name}),m.jsxs("div",{className:"flex justify-between items-center",children:[Se.type==="service"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[w("price"),": ",(Ue=Se.price)==null?void 0:Ue.toFixed(2)," DH"]}),Se.type==="good"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(u.get(Se.id)||[]).length," ",w("variants")]})]})]}),m.jsxs("button",{className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 font-bold py-2 px-3 rounded-lg text-sm flex items-center gap-1 pointer-events-none",children:[m.jsx(Sl,{className:"w-4 h-4"})," ",w("add")]})]},Se.id)}):m.jsx("li",{className:"p-3 text-slate-500 dark:text-slate-400",children:w("productNotFound",{barcode:""})})})]})]}),k&&m.jsx("div",{className:`fixed bottom-4 left-4 z-50 p-4 text-center rounded-lg shadow-xl ${k.includes("Impossible")||k.includes("rupture")||k.includes("Aucun")||k.includes("Erreur")?"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200":"bg-teal-100 text-teal-800 dark:bg-teal-900/70 dark:text-teal-200"}`,children:k})]}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:`p-6 rounded-xl shadow-lg sticky top-6 flex flex-col h-[90vh] ${B?"bg-orange-50 dark:bg-slate-800 border-2 border-orange-500/50":"bg-white dark:bg-slate-800"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:w(B?"returnReceipt":"invoice")}),m.jsx("button",{onClick:ht,title:w(B?"returnReceipt":"invoice"),className:"text-slate-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 p-2 rounded-lg transition-colors",children:m.jsx(si,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto pl-2 space-y-3 mb-4 text-sm",children:f.length>0?f.map(Se=>m.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[m.jsxs("div",{className:"col-span-3",children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Se.name}),Se.type==="good"||Se.isCustom?m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Se.price.toFixed(2)," x ",Se.quantity]}):m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:Se.price,onChange:Ue=>ct(Se.id,"price",parseFloat(Ue.target.value)),className:"w-20 text-xs p-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"}),m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mx-1",children:["x ",Se.quantity]})]})]}),m.jsx("input",{type:"number",value:Se.quantity,onChange:Ue=>ct(Se.id,"quantity",parseFloat(Ue.target.value)||0),min:"0.5",step:"0.5",max:B||Se.type==="service"?void 0:Se.stock,className:"w-16 text-center border dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),m.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 w-20 text-left col-span-1",children:(Se.price*Se.quantity).toFixed(2)}),m.jsx("button",{onClick:()=>et(Se.id),className:"text-red-500 hover:text-red-700 justify-self-center",children:m.jsx(si,{className:"w-5 h-5"})})]},Se.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:w("emptyCart")})}),m.jsxs("div",{className:"mt-auto pt-4 border-t-2 border-dashed dark:border-slate-600 space-y-4",children:[!B&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{htmlFor:"customer",className:"font-semibold text-slate-600 dark:text-slate-300",children:[w("customer"),":"]}),m.jsxs("select",{id:"customer",value:T||"",onChange:Se=>C(Se.target.value||void 0),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-teal-500",children:[m.jsx("option",{value:"",children:w("cashCustomer")}),i.map(Se=>m.jsx("option",{value:Se.id,children:Se.name},Se.id))]})]}),R>0&&m.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-yellow-800 dark:text-yellow-300",children:w("debtPayment")}),m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[R.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx("input",{type:"number",placeholder:w("amount"),value:V,onChange:Se=>Y(Se.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:R}),m.jsx("button",{onClick:kt,disabled:!V||parseFloat(V)<=0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg disabled:bg-gray-400 dark:disabled:bg-slate-500 whitespace-nowrap",children:w("save")})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-red-600 dark:text-red-400",children:[m.jsx("label",{htmlFor:"manualTotal",className:"font-semibold",children:w("manualTotal")}),m.jsx("input",{type:"number",id:"manualTotal",placeholder:je.toFixed(2),value:ne,onChange:Se=>le(Se.target.value),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-red-600 dark:text-red-400 font-bold dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-300",children:[m.jsx("label",{htmlFor:"downPayment",className:"font-semibold",children:w("downPayment")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",id:"downPayment",value:x,onChange:Se=>S(Math.max(0,parseFloat(Se.target.value)||0)),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 disabled:bg-gray-200 dark:disabled:bg-slate-600 disabled:cursor-not-allowed dark:border-slate-600",disabled:!T,readOnly:!T,step:"0.01"}),T&&m.jsx("button",{onClick:()=>S(Re),className:"text-xs bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 font-semibold px-2 py-1 rounded-md hover:bg-cyan-200 dark:hover:bg-cyan-800/50",children:w("total")})]})]})]}),B?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:[m.jsxs("span",{children:[w("refundAmount"),":"]}),m.jsxs("span",{children:[je.toFixed(2)," DH"]})]}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:cn,className:"bg-orange-600 hover:bg-orange-700 w-full text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("processReturn")})})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300 mb-2",children:[m.jsxs("span",{className:"font-bold",children:[w("total"),":"]}),m.jsxs("span",{className:"font-bold",children:[Re.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>Ye("orderForm"),className:"w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500 text-sm",disabled:f.length===0,children:w("finalizeAndPrintOrderForm")})]}),m.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg",children:[m.jsxs("div",{className:"text-sm space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("totalHT"),":"]}),m.jsxs("span",{children:[Ce.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("vat"),":"]}),m.jsxs("span",{children:[ae.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-800 dark:text-slate-100 mt-2 pt-2 border-t dark:border-slate-700",children:[m.jsxs("span",{children:[w("totalTTC"),":"]}),m.jsxs("span",{children:[Re.toFixed(2)," DH"]})]})]}),m.jsx("button",{onClick:()=>Ye("invoice"),className:"mt-2 w-full bg-teal-600 text-white font-bold py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("finalizeAndPrintInvoice")})]}),m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-cyan-100 text-cyan-700 dark:bg-cyan-900/50 dark:text-cyan-300",children:[m.jsxs("span",{children:[w("remaining"),":"]}),m.jsxs("span",{children:[Ne.toFixed(2)," DH"]})]})]})]})]})})]})]})};function nn(t){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(t)}var Jr=Uint8Array,Vi=Uint16Array,TS=Int32Array,Yv=new Jr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kv=new Jr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w2=new Jr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pI=function(t,e){for(var n=new Vi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new TS(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},AI=pI(Yv,2),mI=AI.b,S2=AI.r;mI[28]=258,S2[258]=28;var gI=pI(Kv,0),CQ=gI.b,EE=gI.r,_2=new Vi(32768);for(var kn=0;kn<32768;++kn){var Ws=(kn&43690)>>1|(kn&21845)<<1;Ws=(Ws&52428)>>2|(Ws&13107)<<2,Ws=(Ws&61680)>>4|(Ws&3855)<<4,_2[kn]=((Ws&65280)>>8|(Ws&255)<<8)>>1}var yo=function(t,e,n){for(var r=t.length,i=0,a=new Vi(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Vi(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Vi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,p=f|(1<<c)-1;f<=p;++f)s[_2[f]>>l]=u}else for(s=new Vi(r),i=0;i<r;++i)t[i]&&(s[i]=_2[o[t[i]-1]++]>>15-t[i]);return s},Il=new Jr(288);for(var kn=0;kn<144;++kn)Il[kn]=8;for(var kn=144;kn<256;++kn)Il[kn]=9;for(var kn=256;kn<280;++kn)Il[kn]=7;for(var kn=280;kn<288;++kn)Il[kn]=8;var Up=new Jr(32);for(var kn=0;kn<32;++kn)Up[kn]=5;var NQ=yo(Il,9,0),EQ=yo(Il,9,1),kQ=yo(Up,5,0),PQ=yo(Up,5,1),m1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ba=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},g1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},CS=function(t){return(t+7)/8|0},vI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Jr(t.subarray(e,n))},MQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],za=function(t,e,n){var r=new Error(e||MQ[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,za),!n)throw r;return r},DQ=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new Jr(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new Jr(i*3));var u=function(me){var ce=n.length;if(me>ce){var je=new Jr(Math.max(ce*2,me));je.set(n),n=je}},c=e.f||0,f=e.p||0,p=e.b||0,h=e.l,v=e.d,b=e.m,w=e.n,y=i*8;do{if(!h){c=Ba(t,f,1);var x=Ba(t,f+1,3);if(f+=3,x)if(x==1)h=EQ,v=PQ,b=9,w=5;else if(x==2){var k=Ba(t,f,31)+257,E=Ba(t,f+10,15)+4,D=k+Ba(t,f+5,31)+1;f+=14;for(var I=new Jr(D),B=new Jr(19),O=0;O<E;++O)B[w2[O]]=Ba(t,f+O*3,7);f+=E*3;for(var M=m1(B),U=(1<<M)-1,F=yo(B,M,1),O=0;O<D;){var G=F[Ba(t,f,U)];f+=G&15;var S=G>>4;if(S<16)I[O++]=S;else{var R=0,$=0;for(S==16?($=3+Ba(t,f,3),f+=2,R=I[O-1]):S==17?($=3+Ba(t,f,7),f+=3):S==18&&($=11+Ba(t,f,127),f+=7);$--;)I[O++]=R}}var V=I.subarray(0,k),Y=I.subarray(k);b=m1(V),w=m1(Y),h=yo(V,b,1),v=yo(Y,w,1)}else za(1);else{var S=CS(f)+4,T=t[S-4]|t[S-3]<<8,C=S+T;if(C>i){l&&za(0);break}s&&u(p+T),n.set(t.subarray(S,C),p),e.b=p+=T,e.p=f=C*8,e.f=c;continue}if(f>y){l&&za(0);break}}s&&u(p+131072);for(var ne=(1<<b)-1,le=(1<<w)-1,L=f;;L=f){var R=h[g1(t,f)&ne],q=R>>4;if(f+=R&15,f>y){l&&za(0);break}if(R||za(2),q<256)n[p++]=q;else if(q==256){L=f,h=null;break}else{var J=q-254;if(q>264){var O=q-257,te=Yv[O];J=Ba(t,f,(1<<te)-1)+mI[O],f+=te}var X=v[g1(t,f)&le],se=X>>4;X||za(3),f+=X&15;var Y=CQ[se];if(se>3){var te=Kv[se];Y+=g1(t,f)&(1<<te)-1,f+=te}if(f>y){l&&za(0);break}s&&u(p+131072);var ue=p+J;if(p<Y){var Z=a-Y,he=Math.min(Y,ue);for(Z+p<0&&za(3);p<he;++p)n[p]=r[Z+p]}for(;p<ue;++p)n[p]=n[p-Y]}}e.l=h,e.p=L,e.b=p,e.f=c,h&&(c=1,e.m=b,e.d=v,e.n=w)}while(!c);return p!=n.length&&o?vI(n,0,p):n.subarray(0,p)},zo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Dh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},v1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:bI,l:0};if(i==1){var o=new Jr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,k){return C.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,r=1;r<i;++r)a[r].s>p&&(p=a[r].s);var h=new Vi(p+1),v=T2(n[c-1],h,0);if(v>e){var r=0,b=0,w=v-e,y=1<<w;for(a.sort(function(k,E){return h[E.s]-h[k.s]||k.f-E.f});r<i;++r){var x=a[r].s;if(h[x]>e)b+=y-(1<<v-h[x]),h[x]=e;else break}for(b>>=w;b>0;){var S=a[r].s;h[S]<e?b-=1<<e-h[S]++-1:++r}for(;r>=0&&b;--r){var T=a[r].s;h[T]==e&&(--h[T],++b)}v=e}return{t:new Jr(h),l:v}},T2=function(t,e,n){return t.s==-1?Math.max(T2(t.l,e,n+1),T2(t.r,e,n+1)):e[t.s]=n},kE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Vi(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},Oh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},yI=function(t,e,n){var r=n.length,i=CS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},PE=function(t,e,n,r,i,a,o,s,l,u,c){zo(e,c++,n),++i[256];for(var f=v1(i,15),p=f.t,h=f.l,v=v1(a,15),b=v.t,w=v.l,y=kE(p),x=y.c,S=y.n,T=kE(b),C=T.c,k=T.n,E=new Vi(19),D=0;D<x.length;++D)++E[x[D]&31];for(var D=0;D<C.length;++D)++E[C[D]&31];for(var I=v1(E,7),B=I.t,O=I.l,M=19;M>4&&!B[w2[M-1]];--M);var U=u+5<<3,F=Oh(i,Il)+Oh(a,Up)+o,G=Oh(i,p)+Oh(a,b)+o+14+3*M+Oh(E,B)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&U<=F&&U<=G)return yI(e,c,t.subarray(l,l+u));var R,$,V,Y;if(zo(e,c,1+(G<F)),c+=2,G<F){R=yo(p,h,0),$=p,V=yo(b,w,0),Y=b;var ne=yo(B,O,0);zo(e,c,S-257),zo(e,c+5,k-1),zo(e,c+10,M-4),c+=14;for(var D=0;D<M;++D)zo(e,c+3*D,B[w2[D]]);c+=3*M;for(var le=[x,C],L=0;L<2;++L)for(var q=le[L],D=0;D<q.length;++D){var J=q[D]&31;zo(e,c,ne[J]),c+=B[J],J>15&&(zo(e,c,q[D]>>5&127),c+=q[D]>>12)}}else R=NQ,$=Il,V=kQ,Y=Up;for(var D=0;D<s;++D){var te=r[D];if(te>255){var J=te>>18&31;Dh(e,c,R[J+257]),c+=$[J+257],J>7&&(zo(e,c,te>>23&31),c+=Yv[J]);var X=te&31;Dh(e,c,V[X]),c+=Y[X],X>3&&(Dh(e,c,te>>5&8191),c+=Kv[X])}else Dh(e,c,R[te]),c+=$[te]}return Dh(e,c,R[256]),c+$[256]},OQ=new TS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bI=new Jr(0),IQ=function(t,e,n,r,i,a){var o=a.z||t.length,s=new Jr(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=OQ[e-1],p=f>>13,h=f&8191,v=(1<<n)-1,b=a.p||new Vi(32768),w=a.h||new Vi(v+1),y=Math.ceil(n/3),x=2*y,S=function(Re){return(t[Re]^t[Re+1]<<y^t[Re+2]<<x)&v},T=new TS(25e3),C=new Vi(288),k=new Vi(32),E=0,D=0,I=a.i||0,B=0,O=a.w||0,M=0;I+2<o;++I){var U=S(I),F=I&32767,G=w[U];if(b[F]=G,w[U]=F,O<=I){var R=o-I;if((E>7e3||B>24576)&&(R>423||!u)){c=PE(t,l,0,T,C,k,D,B,M,I-M,c),B=E=D=0,M=I;for(var $=0;$<286;++$)C[$]=0;for(var $=0;$<30;++$)k[$]=0}var V=2,Y=0,ne=h,le=F-G&32767;if(R>2&&U==S(I-le))for(var L=Math.min(p,R)-1,q=Math.min(32767,I),J=Math.min(258,R);le<=q&&--ne&&F!=G;){if(t[I+V]==t[I+V-le]){for(var te=0;te<J&&t[I+te]==t[I+te-le];++te);if(te>V){if(V=te,Y=le,te>L)break;for(var X=Math.min(le,te-2),se=0,$=0;$<X;++$){var ue=I-le+$&32767,Z=b[ue],he=ue-Z&32767;he>se&&(se=he,G=ue)}}}F=G,G=b[F],le+=F-G&32767}if(Y){T[B++]=268435456|S2[V]<<18|EE[Y];var me=S2[V]&31,ce=EE[Y]&31;D+=Yv[me]+Kv[ce],++C[257+me],++k[ce],O=I+V,++E}else T[B++]=t[I],++C[t[I]]}}for(I=Math.max(I,O);I<o;++I)T[B++]=t[I],++C[t[I]];c=PE(t,l,u,T,C,k,D,B,M,I-M,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=w,a.p=b,a.i=I,a.w=O)}else{for(var I=a.w||0;I<o+u;I+=65535){var je=I+65535;je>=o&&(l[c/8|0]=u,je=o),c=yI(l,c+1,t.subarray(I,je))}a.i=o}return vI(s,0,r+CS(c)+i)},xI=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},jQ=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Jr(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return IQ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},wI=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},LQ=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=xI();i.p(e.dictionary),wI(t,2,i.d())}},RQ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&za(6,"invalid zlib data"),(t[1]>>5&1)==1&&za(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function C2(t,e){e||(e={});var n=xI();n.p(t);var r=jQ(t,e,e.dictionary?6:2,4);return LQ(r,e),wI(r,r.length-4,n.d()),r}function FQ(t,e){return DQ(t.subarray(RQ(t),-4),{i:2},e,e)}var $Q=typeof TextDecoder<"u"&&new TextDecoder,BQ=0;try{$Q.decode(bI,{stream:!0}),BQ=1}catch{}var gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function y1(){gt.console&&typeof gt.console.log=="function"&&gt.console.log.apply(gt.console,arguments)}var hn={log:y1,warn:function(t){gt.console&&(typeof gt.console.warn=="function"?gt.console.warn.apply(gt.console,arguments):y1.call(null,arguments))},error:function(t){gt.console&&(typeof gt.console.error=="function"?gt.console.error.apply(gt.console,arguments):y1(t))}};function b1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){pu(r.response,e,n)},r.onerror=function(){hn.error("could not download file")},r.send()}function ME(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ap,N2,pu=gt.saveAs||((typeof window>"u"?"undefined":nn(window))!=="object"||window!==gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=gt.URL||gt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?ME(i.href)?b1(t,e,n):Qm(i,i.target="_blank"):Qm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Qm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(ME(t))b1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Qm(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:nn(a)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return b1(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(gt.HTMLElement)||gt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":nn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=gt.URL||gt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function x1(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=zr(n,r,i,a,e[0],7,-680876936),a=zr(a,n,r,i,e[1],12,-389564586),i=zr(i,a,n,r,e[2],17,606105819),r=zr(r,i,a,n,e[3],22,-1044525330),n=zr(n,r,i,a,e[4],7,-176418897),a=zr(a,n,r,i,e[5],12,1200080426),i=zr(i,a,n,r,e[6],17,-1473231341),r=zr(r,i,a,n,e[7],22,-45705983),n=zr(n,r,i,a,e[8],7,1770035416),a=zr(a,n,r,i,e[9],12,-1958414417),i=zr(i,a,n,r,e[10],17,-42063),r=zr(r,i,a,n,e[11],22,-1990404162),n=zr(n,r,i,a,e[12],7,1804603682),a=zr(a,n,r,i,e[13],12,-40341101),i=zr(i,a,n,r,e[14],17,-1502002290),n=Vr(n,r=zr(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Vr(a,n,r,i,e[6],9,-1069501632),i=Vr(i,a,n,r,e[11],14,643717713),r=Vr(r,i,a,n,e[0],20,-373897302),n=Vr(n,r,i,a,e[5],5,-701558691),a=Vr(a,n,r,i,e[10],9,38016083),i=Vr(i,a,n,r,e[15],14,-660478335),r=Vr(r,i,a,n,e[4],20,-405537848),n=Vr(n,r,i,a,e[9],5,568446438),a=Vr(a,n,r,i,e[14],9,-1019803690),i=Vr(i,a,n,r,e[3],14,-187363961),r=Vr(r,i,a,n,e[8],20,1163531501),n=Vr(n,r,i,a,e[13],5,-1444681467),a=Vr(a,n,r,i,e[2],9,-51403784),i=Vr(i,a,n,r,e[7],14,1735328473),n=Gr(n,r=Vr(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Gr(a,n,r,i,e[8],11,-2022574463),i=Gr(i,a,n,r,e[11],16,1839030562),r=Gr(r,i,a,n,e[14],23,-35309556),n=Gr(n,r,i,a,e[1],4,-1530992060),a=Gr(a,n,r,i,e[4],11,1272893353),i=Gr(i,a,n,r,e[7],16,-155497632),r=Gr(r,i,a,n,e[10],23,-1094730640),n=Gr(n,r,i,a,e[13],4,681279174),a=Gr(a,n,r,i,e[0],11,-358537222),i=Gr(i,a,n,r,e[3],16,-722521979),r=Gr(r,i,a,n,e[6],23,76029189),n=Gr(n,r,i,a,e[9],4,-640364487),a=Gr(a,n,r,i,e[12],11,-421815835),i=Gr(i,a,n,r,e[15],16,530742520),n=Wr(n,r=Gr(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Wr(a,n,r,i,e[7],10,1126891415),i=Wr(i,a,n,r,e[14],15,-1416354905),r=Wr(r,i,a,n,e[5],21,-57434055),n=Wr(n,r,i,a,e[12],6,1700485571),a=Wr(a,n,r,i,e[3],10,-1894986606),i=Wr(i,a,n,r,e[10],15,-1051523),r=Wr(r,i,a,n,e[1],21,-2054922799),n=Wr(n,r,i,a,e[8],6,1873313359),a=Wr(a,n,r,i,e[15],10,-30611744),i=Wr(i,a,n,r,e[6],15,-1560198380),r=Wr(r,i,a,n,e[13],21,1309151649),n=Wr(n,r,i,a,e[4],6,-145523070),a=Wr(a,n,r,i,e[11],10,-1120210379),i=Wr(i,a,n,r,e[2],15,718787259),r=Wr(r,i,a,n,e[9],21,-343485551),t[0]=dl(n,t[0]),t[1]=dl(r,t[1]),t[2]=dl(i,t[2]),t[3]=dl(a,t[3])}function Jv(t,e,n,r,i,a){return e=dl(dl(e,t),dl(r,a)),dl(e<<i|e>>>32-i,n)}function zr(t,e,n,r,i,a,o){return Jv(e&n|~e&r,t,e,i,a,o)}function Vr(t,e,n,r,i,a,o){return Jv(e&r|n&~r,t,e,i,a,o)}function Gr(t,e,n,r,i,a,o){return Jv(e^n^r,t,e,i,a,o)}function Wr(t,e,n,r,i,a,o){return Jv(n^(e|~r),t,e,i,a,o)}function _I(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)x1(r,UQ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(x1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,x1(r,i),r}function UQ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ap=gt.atob.bind(gt),N2=gt.btoa.bind(gt);var DE="0123456789abcdef".split("");function qQ(t){for(var e="",n=0;n<4;n++)e+=DE[t>>8*n+4&15]+DE[t>>8*n&15];return e}function HQ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function E2(t){return _I(t).map(HQ).join("")}var zQ=function(t){for(var e=0;e<t.length;e++)t[e]=qQ(t[e]);return t.join("")}(_I("hello"))!="5d41402abc4b2a76b9719d911017c592";function dl(t,e){if(zQ){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k2(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,p=0,h=0,v="";for(l=0;l<f;l++)h=(h+(c=s[p=(p+1)%256]))%256,s[p]=s[h],s[h]=c,o=s[(s[p]+s[h])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var OE={print:4,modify:8,copy:16,"annot-forms":32};function Zc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(OE.perm!==void 0)throw new Error("Invalid permission: "+s);i+=OE[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=E2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=k2(this.encryptionKey,this.padding)}function ef(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function IE(t){if(nn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){gt.console&&hn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function qp(t){if(!(this instanceof qp))return new qp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function TI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function al(t,e,n,r,i){if(!(this instanceof al))return new al(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,TI.call(this,r,i)}function bu(t,e,n,r,i){if(!(this instanceof bu))return new bu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,TI.call(this,r,i)}function ut(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;nn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=IE;var v="1.3",b=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(N){v=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return w};var y=h.__private__.getPageFormat=function(N){return w[N]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function T(){this.saveGraphicsState(),ae(new ft(Ye,0,0,-Ye,0,Os()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),u="n",S=x.ADVANCED}function C(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var k=h.__private__.combineFontStyleAndFontWeight=function(N,z){if(N=="bold"&&z=="normal"||N=="bold"&&z==400||N=="normal"&&z=="italic"||N=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(N=z==400||z==="normal"?N==="italic"?"italic":"normal":z!=700&&z!=="bold"||N!=="normal"?(z==700?"bold":z)+""+N:"bold"),N};h.advancedAPI=function(N){var z=S===x.COMPAT;return z&&T.call(this),typeof N!="function"||(N(this),z&&C.call(this)),this},h.compatAPI=function(N){var z=S===x.ADVANCED;return z&&C.call(this),typeof N!="function"||(N(this),z&&T.call(this)),this},h.isAdvancedAPI=function(){return S===x.ADVANCED};var E,D=function(N){if(S!==x.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=h.roundToPrecision=h.__private__.roundToPrecision=function(N,z){var oe=e||z;if(isNaN(N)||isNaN(oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(oe).replace(/0+$/,"")};E=h.hpf=h.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,16)};var B=h.f2=h.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return I(N,2)},O=h.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return I(N,3)},M=h.scale=h.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?N*Ye:S===x.ADVANCED?N:void 0},U=function(N){return S===x.COMPAT?Os()-N:S===x.ADVANCED?N:void 0},F=function(N){return M(U(N))};h.__private__.setPrecision=h.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var G,R="00000000000000000000000000000000",$=h.__private__.getFileId=function(){return R},V=h.__private__.setFileId=function(N){return R=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(qr=new Zc(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};h.setFileId=function(N){return V(N),this},h.getFileId=function(){return $()};var Y=h.__private__.convertDateToPDFDate=function(N){var z=N.getTimezoneOffset(),oe=z<0?"+":"-",fe=Math.floor(Math.abs(z/60)),we=Math.abs(z%60),De=[oe,J(fe),"'",J(we),"'"].join("");return["D:",N.getFullYear(),J(N.getMonth()+1),J(N.getDate()),J(N.getHours()),J(N.getMinutes()),J(N.getSeconds()),De].join("")},ne=h.__private__.convertPDFDateToDate=function(N){var z=parseInt(N.substr(2,4),10),oe=parseInt(N.substr(6,2),10)-1,fe=parseInt(N.substr(8,2),10),we=parseInt(N.substr(10,2),10),De=parseInt(N.substr(12,2),10),He=parseInt(N.substr(14,2),10);return new Date(z,oe,fe,we,De,He,0)},le=h.__private__.setCreationDate=function(N){var z;if(N===void 0&&(N=new Date),N instanceof Date)z=Y(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=N}return G=z},L=h.__private__.getCreationDate=function(N){var z=G;return N==="jsDate"&&(z=ne(G)),z};h.setCreationDate=function(N){return le(N),this},h.getCreationDate=function(N){return L(N)};var q,J=h.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},te=h.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},X=0,se=[],ue=[],Z=0,he=[],me=[],ce=!1,je=ue,Re=function(){X=0,Z=0,ue=[],se=[],he=[],Oa=In(),Ur=In()};h.__private__.setCustomOutputDestination=function(N){ce=!0,je=N};var Ce=function(N){ce||(je=N)};h.__private__.resetCustomOutputDestination=function(){ce=!1,je=ue};var ae=h.__private__.out=function(N){return N=N.toString(),Z+=N.length+1,je.push(N),je},Ne=h.__private__.write=function(N){return ae(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ee=h.__private__.getArrayBuffer=function(N){for(var z=N.length,oe=new ArrayBuffer(z),fe=new Uint8Array(oe);z--;)fe[z]=N.charCodeAt(z);return oe},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return xe};var Pe=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(N){return Pe=S===x.ADVANCED?N/Ye:N,this};var be,ke=h.__private__.getFontSize=h.getFontSize=function(){return S===x.COMPAT?Pe:Pe*Ye},ye=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(N){return ye=N,this},h.__private__.getR2L=h.getR2L=function(){return ye};var Ge,We=h.__private__.setZoomMode=function(N){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))be=N;else if(isNaN(N)){if(z.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');be=N}else be=parseInt(N,10)};h.__private__.getZoomMode=function(){return be};var ot,Ve=h.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ge=N};h.__private__.getPageMode=function(){return Ge};var ct=h.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');ot=N};h.__private__.getLayoutMode=function(){return ot},h.__private__.setDisplayMode=h.setDisplayMode=function(N,z,oe){return We(N),ct(z),Ve(oe),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(N){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[N]},h.__private__.getDocumentProperties=function(){return et},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(N){for(var z in et)et.hasOwnProperty(z)&&N[z]&&(et[z]=N[z]);return this},h.__private__.setDocumentProperty=function(N,z){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[N]=z};var ht,Ye,cn,kt,Se,Ue={},rt={},pt=[],st={},mn={},Pt={},ur={},ui=null,fn=0,Ke=[],Mt=new IE(h),Pr=t.hotfixes||[],Hn={},Zi={},ea=[],ft=function N(z,oe,fe,we,De,He){if(!(this instanceof N))return new N(z,oe,fe,we,De,He);isNaN(z)&&(z=1),isNaN(oe)&&(oe=0),isNaN(fe)&&(fe=0),isNaN(we)&&(we=1),isNaN(De)&&(De=0),isNaN(He)&&(He=0),this._matrix=[z,oe,fe,we,De,He]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(N)},ft.prototype.multiply=function(N){var z=N.sx*this.sx+N.shy*this.shx,oe=N.sx*this.shy+N.shy*this.sy,fe=N.shx*this.sx+N.sy*this.shx,we=N.shx*this.shy+N.sy*this.sy,De=N.tx*this.sx+N.ty*this.shx+this.tx,He=N.tx*this.shy+N.ty*this.sy+this.ty;return new ft(z,oe,fe,we,De,He)},ft.prototype.decompose=function(){var N=this.sx,z=this.shy,oe=this.shx,fe=this.sy,we=this.tx,De=this.ty,He=Math.sqrt(N*N+z*z),Ze=(N/=He)*oe+(z/=He)*fe;oe-=N*Ze,fe-=z*Ze;var lt=Math.sqrt(oe*oe+fe*fe);return Ze/=lt,N*(fe/=lt)<z*(oe/=lt)&&(N=-N,z=-z,Ze=-Ze,He=-He),{scale:new ft(He,0,0,lt,0,0),translate:new ft(1,0,0,1,we,De),rotate:new ft(N,z,-z,N,0,0),skew:new ft(1,0,Ze,1,0,0)}},ft.prototype.toString=function(N){return this.join(" ")},ft.prototype.inversed=function(){var N=this.sx,z=this.shy,oe=this.shx,fe=this.sy,we=this.tx,De=this.ty,He=1/(N*fe-z*oe),Ze=fe*He,lt=-z*He,_t=-oe*He,wt=N*He;return new ft(Ze,lt,_t,wt,-Ze*we-_t*De,-lt*we-wt*De)},ft.prototype.applyToPoint=function(N){var z=N.x*this.sx+N.y*this.shx+this.tx,oe=N.x*this.shy+N.y*this.sy+this.ty;return new yc(z,oe)},ft.prototype.applyToRectangle=function(N){var z=this.applyToPoint(N),oe=this.applyToPoint(new yc(N.x+N.w,N.y+N.h));return new nh(z.x,z.y,oe.x-z.x,oe.y-z.y)},ft.prototype.clone=function(){var N=this.sx,z=this.shy,oe=this.shx,fe=this.sy,we=this.tx,De=this.ty;return new ft(N,z,oe,fe,we,De)},h.Matrix=ft;var Pi=h.matrixMult=function(N,z){return z.multiply(N)},Mi=new ft(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Mi;var $r=function(N,z){if(!mn[N]){var oe=(z instanceof al?"Sh":"P")+(Object.keys(st).length+1).toString(10);z.id=oe,mn[N]=oe,st[oe]=z,Mt.publish("addPattern",z)}};h.ShadingPattern=al,h.TilingPattern=bu,h.addShadingPattern=function(N,z){return D("addShadingPattern()"),$r(N,z),this},h.beginTilingPattern=function(N){D("beginTilingPattern()"),im(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},h.endTilingPattern=function(N,z){D("endTilingPattern()"),z.stream=me[q].join(`
`),$r(N,z),Mt.publish("endTilingPattern",z),ea.pop().restore()};var zn=h.__private__.newObject=function(){var N=In();return Br(N,!0),N},In=h.__private__.newObjectDeferred=function(){return X++,se[X]=function(){return Z},X},Br=function(N,z){return z=typeof z=="boolean"&&z,se[N]=Z,z&&ae(N+" 0 obj"),N},Ss=h.__private__.newAdditionalObject=function(){var N={objId:In(),content:""};return he.push(N),N},Oa=In(),Ur=In(),ci=h.__private__.decodeColorString=function(N){var z=N.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var oe=parseFloat(z[0]);z=[oe,oe,oe,"r"]}for(var fe="#",we=0;we<3;we++)fe+=("0"+Math.floor(255*parseFloat(z[we])).toString(16)).slice(-2);return fe},fi=h.__private__.encodeColorString=function(N){var z;typeof N=="string"&&(N={ch1:N});var oe=N.ch1,fe=N.ch2,we=N.ch3,De=N.ch4,He=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof oe=="string"&&oe.charAt(0)!=="#"){var Ze=new SI(oe);if(Ze.ok)oe=Ze.toHex();else if(!/^\d*\.?\d*$/.test(oe))throw new Error('Invalid color "'+oe+'" passed to jsPDF.encodeColorString.')}if(typeof oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(oe)&&(oe="#"+oe[1]+oe[1]+oe[2]+oe[2]+oe[3]+oe[3]),typeof oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(oe)){var lt=parseInt(oe.substr(1),16);oe=lt>>16&255,fe=lt>>8&255,we=255&lt}if(fe===void 0||De===void 0&&oe===fe&&fe===we)if(typeof oe=="string")z=oe+" "+He[0];else switch(N.precision){case 2:z=B(oe/255)+" "+He[0];break;case 3:default:z=O(oe/255)+" "+He[0]}else if(De===void 0||nn(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return z=["1.","1.","1.",He[1]].join(" ");if(typeof oe=="string")z=[oe,fe,we,He[1]].join(" ");else switch(N.precision){case 2:z=[B(oe/255),B(fe/255),B(we/255),He[1]].join(" ");break;default:case 3:z=[O(oe/255),O(fe/255),O(we/255),He[1]].join(" ")}}else if(typeof oe=="string")z=[oe,fe,we,De,He[2]].join(" ");else switch(N.precision){case 2:z=[B(oe),B(fe),B(we),B(De),He[2]].join(" ");break;case 3:default:z=[O(oe),O(fe),O(we),O(De),He[2]].join(" ")}return z},ta=h.__private__.getFilters=function(){return o},di=h.__private__.putStream=function(N){var z=(N=N||{}).data||"",oe=N.filters||ta(),fe=N.alreadyAppliedFilters||[],we=N.addLength1||!1,De=z.length,He=N.objectId,Ze=function(Hr){return Hr};if(c!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ze=qr.encryptor(He,0));var lt={};oe===!0&&(oe=["FlateEncode"]);var _t=N.additionalKeyValues||[],wt=(lt=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(z,oe):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(lt.data.length!==0&&(_t.push({key:"Length",value:lt.data.length}),we===!0&&_t.push({key:"Length1",value:De})),wt.length!=0)if(wt.split("/").length-1==1)_t.push({key:"Filter",value:wt});else{_t.push({key:"Filter",value:"["+wt+"]"});for(var Bt=0;Bt<_t.length;Bt+=1)if(_t[Bt].key==="DecodeParms"){for(var Ln=[],Rn=0;Rn<lt.reverseChain.split("/").length-1;Rn+=1)Ln.push("null");Ln.push(_t[Bt].value),_t[Bt].value="["+Ln.join(" ")+"]"}}ae("<<");for(var Zn=0;Zn<_t.length;Zn++)ae("/"+_t[Zn].key+" "+_t[Zn].value);ae(">>"),lt.data.length!==0&&(ae("stream"),ae(Ze(lt.data)),ae("endstream"))},na=h.__private__.putPage=function(N){var z=N.number,oe=N.data,fe=N.objId,we=N.contentsObjId;Br(fe,!0),ae("<</Type /Page"),ae("/Parent "+N.rootDictionaryObjId+" 0 R"),ae("/Resources "+N.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(E(N.mediaBox.bottomLeftX))+" "+parseFloat(E(N.mediaBox.bottomLeftY))+" "+E(N.mediaBox.topRightX)+" "+E(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ae("/CropBox ["+E(N.cropBox.bottomLeftX)+" "+E(N.cropBox.bottomLeftY)+" "+E(N.cropBox.topRightX)+" "+E(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ae("/BleedBox ["+E(N.bleedBox.bottomLeftX)+" "+E(N.bleedBox.bottomLeftY)+" "+E(N.bleedBox.topRightX)+" "+E(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ae("/TrimBox ["+E(N.trimBox.bottomLeftX)+" "+E(N.trimBox.bottomLeftY)+" "+E(N.trimBox.topRightX)+" "+E(N.trimBox.topRightY)+"]"),N.artBox!==null&&ae("/ArtBox ["+E(N.artBox.bottomLeftX)+" "+E(N.artBox.bottomLeftY)+" "+E(N.artBox.topRightX)+" "+E(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ae("/UserUnit "+N.userUnit),Mt.publish("putPage",{objId:fe,pageContext:Ke[z],pageNumber:z,page:oe}),ae("/Contents "+we+" 0 R"),ae(">>"),ae("endobj");var De=oe.join(`
`);return S===x.ADVANCED&&(De+=`
Q`),Br(we,!0),di({data:De,filters:ta(),objectId:we}),ae("endobj"),fe},io=h.__private__.putPages=function(){var N,z,oe=[];for(N=1;N<=fn;N++)Ke[N].objId=In(),Ke[N].contentsObjId=In();for(N=1;N<=fn;N++)oe.push(na({number:N,data:me[N],objId:Ke[N].objId,contentsObjId:Ke[N].contentsObjId,mediaBox:Ke[N].mediaBox,cropBox:Ke[N].cropBox,bleedBox:Ke[N].bleedBox,trimBox:Ke[N].trimBox,artBox:Ke[N].artBox,userUnit:Ke[N].userUnit,rootDictionaryObjId:Oa,resourceDictionaryObjId:Ur}));Br(Oa,!0),ae("<</Type /Pages");var fe="/Kids [";for(z=0;z<fn;z++)fe+=oe[z]+" 0 R ";ae(fe+"]"),ae("/Count "+fn),ae(">>"),ae("endobj"),Mt.publish("postPutPages")},_s=function(N){Mt.publish("putFont",{font:N,out:ae,newObject:zn,putStream:di}),N.isAlreadyPutted!==!0&&(N.objectNumber=zn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+ef(N.postScriptName)),ae("/Subtype /Type1"),typeof N.encoding=="string"&&ae("/Encoding /"+N.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Ts=function(){for(var N in Ue)Ue.hasOwnProperty(N)&&(f===!1||f===!0&&p.hasOwnProperty(N))&&_s(Ue[N])},Cs=function(N){N.objectNumber=zn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[E(N.x),E(N.y),E(N.x+N.width),E(N.y+N.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var oe=N.pages[1].join(`
`);di({data:oe,additionalKeyValues:z,objectId:N.objectNumber}),ae("endobj")},Ns=function(){for(var N in Hn)Hn.hasOwnProperty(N)&&Cs(Hn[N])},uc=function(N,z){var oe,fe=[],we=1/(z-1);for(oe=0;oe<1;oe+=we)fe.push(oe);if(fe.push(1),N[0].offset!=0){var De={offset:0,color:N[0].color};N.unshift(De)}if(N[N.length-1].offset!=1){var He={offset:1,color:N[N.length-1].color};N.push(He)}for(var Ze="",lt=0,_t=0;_t<fe.length;_t++){for(oe=fe[_t];oe>N[lt+1].offset;)lt++;var wt=N[lt].offset,Bt=(oe-wt)/(N[lt+1].offset-wt),Ln=N[lt].color,Rn=N[lt+1].color;Ze+=te(Math.round((1-Bt)*Ln[0]+Bt*Rn[0]).toString(16))+te(Math.round((1-Bt)*Ln[1]+Bt*Rn[1]).toString(16))+te(Math.round((1-Bt)*Ln[2]+Bt*Rn[2]).toString(16))}return Ze.trim()},qd=function(N,z){z||(z=21);var oe=zn(),fe=uc(N.colors,z),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+z+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),di({data:fe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:oe}),ae("endobj"),N.objectNumber=zn(),ae("<< /ShadingType "+N.type),ae("/ColorSpace /DeviceRGB");var De="/Coords ["+E(parseFloat(N.coords[0]))+" "+E(parseFloat(N.coords[1]))+" ";N.type===2?De+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3])):De+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3]))+" "+E(parseFloat(N.coords[4]))+" "+E(parseFloat(N.coords[5])),ae(De+="]"),N.matrix&&ae("/Matrix ["+N.matrix.toString()+"]"),ae("/Function "+oe+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Hd=function(N,z){var oe=In(),fe=zn();z.push({resourcesOid:oe,objectOid:fe}),N.objectNumber=fe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+N.boundingBox.map(E).join(" ")+"]"}),we.push({key:"XStep",value:E(N.xStep)}),we.push({key:"YStep",value:E(N.yStep)}),we.push({key:"Resources",value:oe+" 0 R"}),N.matrix&&we.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),di({data:N.stream,additionalKeyValues:we,objectId:N.objectNumber}),ae("endobj")},Es=function(N){var z;for(z in st)st.hasOwnProperty(z)&&(st[z]instanceof al?qd(st[z]):st[z]instanceof bu&&Hd(st[z],N))},cc=function(N){for(var z in N.objectNumber=zn(),ae("<<"),N)switch(z){case"opacity":ae("/ca "+B(N[z]));break;case"stroke-opacity":ae("/CA "+B(N[z]))}ae(">>"),ae("endobj")},zd=function(){var N;for(N in Pt)Pt.hasOwnProperty(N)&&cc(Pt[N])},zl=function(){for(var N in ae("/XObject <<"),Hn)Hn.hasOwnProperty(N)&&Hn[N].objectNumber>=0&&ae("/"+N+" "+Hn[N].objectNumber+" 0 R");Mt.publish("putXobjectDict"),ae(">>")},Vd=function(){qr.oid=zn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+qr.v),ae("/R "+qr.r),ae("/U <"+qr.toHexString(qr.U)+">"),ae("/O <"+qr.toHexString(qr.O)+">"),ae("/P "+qr.P),ae(">>"),ae("endobj")},fc=function(){for(var N in ae("/Font <<"),Ue)Ue.hasOwnProperty(N)&&(f===!1||f===!0&&p.hasOwnProperty(N))&&ae("/"+N+" "+Ue[N].objectNumber+" 0 R");ae(">>")},Gd=function(){if(Object.keys(st).length>0){for(var N in ae("/Shading <<"),st)st.hasOwnProperty(N)&&st[N]instanceof al&&st[N].objectNumber>=0&&ae("/"+N+" "+st[N].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),ae(">>")}},ks=function(N){if(Object.keys(st).length>0){for(var z in ae("/Pattern <<"),st)st.hasOwnProperty(z)&&st[z]instanceof h.TilingPattern&&st[z].objectNumber>=0&&st[z].objectNumber<N&&ae("/"+z+" "+st[z].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),ae(">>")}},Wd=function(){if(Object.keys(Pt).length>0){var N;for(N in ae("/ExtGState <<"),Pt)Pt.hasOwnProperty(N)&&Pt[N].objectNumber>=0&&ae("/"+N+" "+Pt[N].objectNumber+" 0 R");Mt.publish("putGStateDict"),ae(">>")}},jn=function(N){Br(N.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fc(),Gd(),ks(N.objectOid),Wd(),zl(),ae(">>"),ae("endobj")},dc=function(){var N=[];Ts(),zd(),Ns(),Es(N),Mt.publish("putResources"),N.forEach(jn),jn({resourcesOid:Ur,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources")},hc=function(){Mt.publish("putAdditionalObjects");for(var N=0;N<he.length;N++){var z=he[N];Br(z.objId,!0),ae(z.content),ae("endobj")}Mt.publish("postPutAdditionalObjects")},Vl=function(N){rt[N.fontName]=rt[N.fontName]||{},rt[N.fontName][N.fontStyle]=N.id},Gl=function(N,z,oe,fe,we){var De={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:N,fontName:z,fontStyle:oe,encoding:fe,isStandardFont:we||!1,metadata:{}};return Mt.publish("addFont",{font:De,instance:this}),Ue[De.id]=De,Vl(De),De.id},Yd=function(N){for(var z=0,oe=xe.length;z<oe;z++){var fe=Gl.call(this,N[z][0],N[z][1],N[z][2],xe[z][3],!0);f===!1&&(p[fe]=!0);var we=N[z][0].split("-");Vl({id:fe,fontName:we[0],fontStyle:we[1]||""})}Mt.publish("addFonts",{fonts:Ue,dictionary:rt})},Di=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(fe){var z=fe.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var oe="Error in function "+z.split(`
`)[0].split("<")[0]+": "+fe.message;if(!gt.console)throw new Error(oe);gt.console.error(oe,fe),gt.alert&&alert(oe)}},N.foo.bar=N,N.foo},Oe=function(N,z){var oe,fe,we,De,He,Ze,lt,_t,wt;if(we=(z=z||{}).sourceEncoding||"Unicode",He=z.outputEncoding,(z.autoencode||He)&&Ue[ht].metadata&&Ue[ht].metadata[we]&&Ue[ht].metadata[we].encoding&&(De=Ue[ht].metadata[we].encoding,!He&&Ue[ht].encoding&&(He=Ue[ht].encoding),!He&&De.codePages&&(He=De.codePages[0]),typeof He=="string"&&(He=De[He]),He)){for(lt=!1,Ze=[],oe=0,fe=N.length;oe<fe;oe++)(_t=He[N.charCodeAt(oe)])?Ze.push(String.fromCharCode(_t)):Ze.push(N[oe]),Ze[oe].charCodeAt(0)>>8&&(lt=!0);N=Ze.join("")}for(oe=N.length;lt===void 0&&oe!==0;)N.charCodeAt(oe-1)>>8&&(lt=!0),oe--;if(!lt)return N;for(Ze=z.noBOM?[]:[254,255],oe=0,fe=N.length;oe<fe;oe++){if((wt=(_t=N.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(wt),Ze.push(_t-(wt<<8))}return String.fromCharCode.apply(void 0,Ze)},ze=h.__private__.pdfEscape=h.pdfEscape=function(N,z){return Oe(N,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},At=h.__private__.beginPage=function(N){me[++fn]=[],Ke[fn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Ia(fn),Ce(me[q])},an=function(N,z){var oe,fe,we;switch(n=z||n,typeof N=="string"&&(oe=y(N.toLowerCase()),Array.isArray(oe)&&(fe=oe[0],we=oe[1])),Array.isArray(N)&&(fe=N[0]*Ye,we=N[1]*Ye),isNaN(fe)&&(fe=i[0],we=i[1]),(fe>14400||we>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),we=Math.min(14400,we)),i=[fe,we],n.substr(0,1)){case"l":we>fe&&(i=[we,fe]);break;case"p":fe>we&&(i=[we,fe])}At(i),ZA(Qd),ae(ja),eh!==0&&ae(eh+" J"),th!==0&&ae(th+" j"),Mt.publish("addPage",{pageNumber:fn})},Qn=function(N){N>0&&N<=fn&&(me.splice(N,1),Ke.splice(N,1),fn--,q>fn&&(q=fn),this.setPage(q))},Ia=function(N){N>0&&N<=fn&&(q=N)},ra=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return me.length-1},Eo=function(N,z,oe){var fe,we=void 0;return oe=oe||{},N=N!==void 0?N:Ue[ht].fontName,z=z!==void 0?z:Ue[ht].fontStyle,fe=N.toLowerCase(),rt[fe]!==void 0&&rt[fe][z]!==void 0?we=rt[fe][z]:rt[N]!==void 0&&rt[N][z]!==void 0?we=rt[N][z]:oe.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+N+"', '"+z+"'. Refer to getFontList() for available fonts."),we||oe.noFallback||(we=rt.times[z])==null&&(we=rt.times.normal),we},ko=h.__private__.putInfo=function(){var N=zn(),z=function(fe){return fe};for(var oe in c!==null&&(z=qr.encryptor(N,0)),ae("<<"),ae("/Producer ("+ze(z("jsPDF "+ut.version))+")"),et)et.hasOwnProperty(oe)&&et[oe]&&ae("/"+oe.substr(0,1).toUpperCase()+oe.substr(1)+" ("+ze(z(et[oe]))+")");ae("/CreationDate ("+ze(z(G))+")"),ae(">>"),ae("endobj")},hi=h.__private__.putCatalog=function(N){var z=(N=N||{}).rootDictionaryObjId||Oa;switch(zn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+z+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var oe=""+be;oe.substr(oe.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+B(be)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Ge&&ae("/PageMode /"+Ge),Mt.publish("putCatalog"),ae(">>"),ae("endobj")},Po=h.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(X+1)),ae("/Root "+X+" 0 R"),ae("/Info "+(X-1)+" 0 R"),c!==null&&ae("/Encrypt "+qr.oid+" 0 R"),ae("/ID [ <"+R+"> <"+R+"> ]"),ae(">>")},Ps=h.__private__.putHeader=function(){ae("%PDF-"+v),ae("%")},Kd=h.__private__.putXRef=function(){var N="0000000000";ae("xref"),ae("0 "+(X+1)),ae("0000000000 65535 f ");for(var z=1;z<=X;z++)typeof se[z]=="function"?ae((N+se[z]()).slice(-10)+" 00000 n "):se[z]!==void 0?ae((N+se[z]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Mo=h.__private__.buildDocument=function(){Re(),Ce(ue),Mt.publish("buildDocument"),Ps(),io(),hc(),dc(),c!==null&&Vd(),ko(),hi();var N=Z;return Kd(),Po(),ae("startxref"),ae(""+N),ae("%%EOF"),Ce(me[q]),ue.join(`
`)},pc=h.__private__.getBlob=function(N){return new Blob([Ee(N)],{type:"application/pdf"})},Ac=h.output=h.__private__.output=Di(function(N,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",N){case void 0:return Mo();case"save":h.save(z.filename);break;case"arraybuffer":return Ee(Mo());case"blob":return pc(Mo());case"bloburi":case"bloburl":if(gt.URL!==void 0&&typeof gt.URL.createObjectURL=="function")return gt.URL&&gt.URL.createObjectURL(pc(Mo()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var oe="",fe=Mo();try{oe=N2(fe)}catch{oe=N2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+z.filename+";base64,"+oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(we=z.pdfObjectUrl,De="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",Ze=gt.open();return Ze!==null&&Ze.document.write(He),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',_t=gt.open();if(_t!==null){_t.document.write(lt);var wt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=z.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Ln=gt.open();if(Ln!==null&&(Ln.document.write(Bt),Ln.document.title=z.filename),Ln||typeof safari>"u")return Ln;break;case"datauri":case"dataurl":return gt.document.location.href=this.output("datauristring",z);default:return null}}),KA=function(N){return Array.isArray(Pr)===!0&&Pr.indexOf(N)>-1};switch(r){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=KA("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ye=r}var qr=null;le(),V();var Wy=function(N){return c!==null?qr.encryptor(N,0):function(z){return z}},JA=h.__private__.getPageInfo=h.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ke[N].objId,pageNumber:N,pageContext:Ke[N]}},xt=h.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in Ke)if(Ke[z].objId===N)break;return JA(z)},Yy=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ke[q].objId,pageNumber:q,pageContext:Ke[q]}};h.addPage=function(){return an.apply(this,arguments),this},h.setPage=function(){return Ia.apply(this,arguments),Ce.call(this,me[q]),this},h.insertPage=function(N){return this.addPage(),this.movePage(q,N),this},h.movePage=function(N,z){var oe,fe;if(N>z){oe=me[N],fe=Ke[N];for(var we=N;we>z;we--)me[we]=me[we-1],Ke[we]=Ke[we-1];me[z]=oe,Ke[z]=fe,this.setPage(z)}else if(N<z){oe=me[N],fe=Ke[N];for(var De=N;De<z;De++)me[De]=me[De+1],Ke[De]=Ke[De+1];me[z]=oe,Ke[z]=fe,this.setPage(z)}return this},h.deletePage=function(){return Qn.apply(this,arguments),this},h.__private__.text=h.text=function(N,z,oe,fe,we){var De,He,Ze,lt,_t,wt,Bt,Ln,Rn,Zn=(fe=fe||{}).scope||this;if(typeof N=="number"&&typeof z=="number"&&(typeof oe=="string"||Array.isArray(oe))){var Hr=oe;oe=z,z=N,N=Hr}if(arguments[3]instanceof ft?(D("The transform parameter of text() with a Matrix value"),Rn=we):(Ze=arguments[4],lt=arguments[5],nn(Bt=arguments[3])==="object"&&Bt!==null||(typeof Ze=="string"&&(lt=Ze,Ze=null),typeof Bt=="string"&&(lt=Bt,Bt=null),typeof Bt=="number"&&(Ze=Bt,Bt=null),fe={flags:Bt,angle:Ze,align:lt})),isNaN(z)||isNaN(oe)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Zn;var br="",La=!1,Oi=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Yl,so=Zn.internal.scaleFactor;function am(gn){return gn=gn.split("	").join(Array(fe.TabLen||9).join(" ")),ze(gn,Bt)}function oh(gn){for(var vn,Gn=gn.concat(),cr=[],Lo=Gn.length;Lo--;)typeof(vn=Gn.shift())=="string"?cr.push(vn):Array.isArray(gn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?cr.push(vn[0]):cr.push([vn[0],vn[1],vn[2]]);return cr}function sh(gn,vn){var Gn;if(typeof gn=="string")Gn=vn(gn)[0];else if(Array.isArray(gn)){for(var cr,Lo,Ah=gn.concat(),Pc=[],cm=Ah.length;cm--;)typeof(cr=Ah.shift())=="string"?Pc.push(vn(cr)[0]):Array.isArray(cr)&&typeof cr[0]=="string"&&(Lo=vn(cr[0],cr[1],cr[2]),Pc.push([Lo[0],Lo[1],Lo[2]]));Gn=Pc}return Gn}var xc=!1,lh=!0;if(typeof N=="string")xc=!0;else if(Array.isArray(N)){var uh=N.concat();He=[];for(var wc,Mr=uh.length;Mr--;)(typeof(wc=uh.shift())!="string"||Array.isArray(wc)&&typeof wc[0]!="string")&&(lh=!1);xc=lh}if(xc===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Sc=Pe/Zn.internal.scaleFactor,_c=Sc*(Oi-1);switch(fe.baseline){case"bottom":oe-=_c;break;case"top":oe+=Sc-_c;break;case"hanging":oe+=Sc-2*_c;break;case"middle":oe+=Sc/2-_c}if((wt=fe.maxWidth||0)>0&&(typeof N=="string"?N=Zn.splitTextToSize(N,wt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(gn,vn){return gn.concat(Zn.splitTextToSize(vn,wt))},[]))),De={text:N,x:z,y:oe,options:fe,mutex:{pdfEscape:ze,activeFontKey:ht,fonts:Ue,activeFontSize:Pe}},Mt.publish("preProcessText",De),N=De.text,Ze=(fe=De.options).angle,!(Rn instanceof ft)&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,fe.rotationDirection===0&&(Ze=-Ze),S===x.ADVANCED&&(Ze=-Ze);var Tc=Math.cos(Ze),ch=Math.sin(Ze);Rn=new ft(Tc,ch,-ch,Tc,0,0)}else Ze&&Ze instanceof ft&&(Rn=Ze);S!==x.ADVANCED||Rn||(Rn=Mi),(_t=fe.charSpace||vc)!==void 0&&(br+=E(M(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ln=fe.horizontalScale)!==void 0&&(br+=E(100*Ln)+` Tz
`),fe.lang;var pi=-1,ib=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,fh=Zn.internal.getCurrentPageInfo().pageContext;switch(ib){case 0:case!1:case"fill":pi=0;break;case 1:case!0:case"stroke":pi=1;break;case 2:case"fillThenStroke":pi=2;break;case 3:case"invisible":pi=3;break;case 4:case"fillAndAddForClipping":pi=4;break;case 5:case"strokeAndAddPathForClipping":pi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":pi=6;break;case 7:case"addToPathForClipping":pi=7}var om=fh.usedRenderingMode!==void 0?fh.usedRenderingMode:-1;pi!==-1?br+=pi+` Tr
`:om!==-1&&(br+=`0 Tr
`),pi!==-1&&(fh.usedRenderingMode=pi),lt=fe.align||"left";var ia,Cc=Pe*Oi,sm=Zn.internal.pageSize.getWidth(),lm=Ue[ht];_t=fe.charSpace||vc,wt=fe.maxWidth||0,Bt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Is=[],Xl=function(gn){return Zn.getStringUnitWidth(gn,{font:lm,charSpace:_t,fontSize:Pe,doKerning:!1})*Pe/so};if(Object.prototype.toString.call(N)==="[object Array]"){var Ai;He=oh(N),lt!=="left"&&(ia=He.map(Xl));var Zr,js=0;if(lt==="right"){z-=ia[0],N=[],Mr=He.length;for(var Oo=0;Oo<Mr;Oo++)Oo===0?(Zr=oo(z),Ai=Do(oe)):(Zr=M(js-ia[Oo]),Ai=-Cc),N.push([He[Oo],Zr,Ai]),js=ia[Oo]}else if(lt==="center"){z-=ia[0]/2,N=[],Mr=He.length;for(var Io=0;Io<Mr;Io++)Io===0?(Zr=oo(z),Ai=Do(oe)):(Zr=M((js-ia[Io])/2),Ai=-Cc),N.push([He[Io],Zr,Ai]),js=ia[Io]}else if(lt==="left"){N=[],Mr=He.length;for(var Nc=0;Nc<Mr;Nc++)N.push(He[Nc])}else if(lt==="justify"&&lm.encoding==="Identity-H"){N=[],Mr=He.length,wt=wt!==0?wt:sm;for(var jo=0,Vn=0;Vn<Mr;Vn++)if(Ai=Vn===0?Do(oe):-Cc,Zr=Vn===0?oo(z):jo,Vn<Mr-1){var dh=M((wt-ia[Vn])/(He[Vn].split(" ").length-1)),ei=He[Vn].split(" ");N.push([ei[0]+" ",Zr,Ai]),jo=0;for(var aa=1;aa<ei.length;aa++){var Ec=(Xl(ei[aa-1]+" "+ei[aa])-Xl(ei[aa]))*so+dh;aa==ei.length-1?N.push([ei[aa],Ec,0]):N.push([ei[aa]+" ",Ec,0]),jo-=Ec}}else N.push([He[Vn],Zr,Ai]);N.push(["",jo,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Mr=He.length,wt=wt!==0?wt:sm,Vn=0;Vn<Mr;Vn++)Ai=Vn===0?Do(oe):-Cc,Zr=Vn===0?oo(z):0,Vn<Mr-1?Is.push(E(M((wt-ia[Vn])/(He[Vn].split(" ").length-1)))):Is.push(0),N.push([He[Vn],Zr,Ai])}}var um=typeof fe.R2L=="boolean"?fe.R2L:ye;um===!0&&(N=sh(N,function(gn,vn,Gn){return[gn.split("").reverse().join(""),vn,Gn]})),De={text:N,x:z,y:oe,options:fe,mutex:{pdfEscape:ze,activeFontKey:ht,fonts:Ue,activeFontSize:Pe}},Mt.publish("postProcessText",De),N=De.text,La=De.mutex.isHex||!1;var hh=Ue[ht].encoding;hh!=="WinAnsiEncoding"&&hh!=="StandardEncoding"||(N=sh(N,function(gn,vn,Gn){return[am(gn),vn,Gn]})),He=oh(N),N=[];for(var Ql,Zl,Ls,eu=0,kc=1,tu=Array.isArray(He[0])?kc:eu,Rs="",ph=function(gn,vn,Gn){var cr="";return Gn instanceof ft?(Gn=typeof fe.angle=="number"?Pi(Gn,new ft(1,0,0,1,gn,vn)):Pi(new ft(1,0,0,1,gn,vn),Gn),S===x.ADVANCED&&(Gn=Pi(new ft(1,0,0,-1,0,0),Gn)),cr=Gn.join(" ")+` Tm
`):cr=E(gn)+" "+E(vn)+` Td
`,cr},oa=0;oa<He.length;oa++){switch(Rs="",tu){case kc:Ls=(La?"<":"(")+He[oa][0]+(La?">":")"),Ql=parseFloat(He[oa][1]),Zl=parseFloat(He[oa][2]);break;case eu:Ls=(La?"<":"(")+He[oa]+(La?">":")"),Ql=oo(z),Zl=Do(oe)}Is!==void 0&&Is[oa]!==void 0&&(Rs=Is[oa]+` Tw
`),oa===0?N.push(Rs+ph(Ql,Zl,Rn)+Ls):tu===eu?N.push(Rs+Ls):tu===kc&&N.push(Rs+ph(Ql,Zl,Rn)+Ls)}N=tu===eu?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var sa=`BT
/`;return sa+=ht+" "+Pe+` Tf
`,sa+=E(Pe*Oi)+` TL
`,sa+=Kl+`
`,sa+=br,sa+=N,ae(sa+="ET"),p[ht]=!0,Zn};var Ky=h.__private__.clip=h.clip=function(N){return ae(N==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ky("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ae("n"),this};var ao=h.__private__.isValidStyle=function(N){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(z=!0),z};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(N){return ao(N)&&(u=N),this};var XA=h.__private__.getStyle=h.getStyle=function(N){var z=u;switch(N){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=N}return z},QA=h.close=function(){return ae("h"),this};h.stroke=function(){return ae("S"),this},h.fill=function(N){return mc("f",N),this},h.fillEvenOdd=function(N){return mc("f*",N),this},h.fillStroke=function(N){return mc("B",N),this},h.fillStrokeEvenOdd=function(N){return mc("B*",N),this};var mc=function(N,z){nn(z)==="object"?Xy(z,N):ae(N)},Jd=function(N){N===null||S===x.ADVANCED&&N===void 0||(N=XA(N),ae(N))};function Jy(N,z,oe,fe,we){var De=new bu(z||this.boundingBox,oe||this.xStep,fe||this.yStep,this.gState,we||this.matrix);De.stream=this.stream;var He=N+"$$"+this.cloneIndex+++"$$";return $r(He,De),De}var Xy=function(N,z){var oe=mn[N.key],fe=st[oe];if(fe instanceof al)ae("q"),ae(Qy(z)),fe.gState&&h.setGState(fe.gState),ae(N.matrix.toString()+" cm"),ae("/"+oe+" sh"),ae("Q");else if(fe instanceof bu){var we=new ft(1,0,0,-1,0,Os());N.matrix&&(we=we.multiply(N.matrix||Mi),oe=Jy.call(fe,N.key,N.boundingBox,N.xStep,N.yStep,we).id),ae("q"),ae("/Pattern cs"),ae("/"+oe+" scn"),fe.gState&&h.setGState(fe.gState),ae(z),ae("Q")}},Qy=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xd=h.moveTo=function(N,z){return ae(E(M(N))+" "+E(F(z))+" m"),this},Wl=h.lineTo=function(N,z){return ae(E(M(N))+" "+E(F(z))+" l"),this},Ms=h.curveTo=function(N,z,oe,fe,we,De){return ae([E(M(N)),E(F(z)),E(M(oe)),E(F(fe)),E(M(we)),E(F(De)),"c"].join(" ")),this};h.__private__.line=h.line=function(N,z,oe,fe,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(fe)||!ao(we))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[oe-N,fe-z]],N,z,[1,1],we||"S"):this.lines([[oe-N,fe-z]],N,z,[1,1]).stroke()},h.__private__.lines=h.lines=function(N,z,oe,fe,we,De){var He,Ze,lt,_t,wt,Bt,Ln,Rn,Zn,Hr,br,La;if(typeof N=="number"&&(La=oe,oe=z,z=N,N=La),fe=fe||[1,1],De=De||!1,isNaN(z)||isNaN(oe)||!Array.isArray(N)||!Array.isArray(fe)||!ao(we)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xd(z,oe),He=fe[0],Ze=fe[1],_t=N.length,Hr=z,br=oe,lt=0;lt<_t;lt++)(wt=N[lt]).length===2?(Hr=wt[0]*He+Hr,br=wt[1]*Ze+br,Wl(Hr,br)):(Bt=wt[0]*He+Hr,Ln=wt[1]*Ze+br,Rn=wt[2]*He+Hr,Zn=wt[3]*Ze+br,Hr=wt[4]*He+Hr,br=wt[5]*Ze+br,Ms(Bt,Ln,Rn,Zn,Hr,br));return De&&QA(),Jd(we),this},h.path=function(N){for(var z=0;z<N.length;z++){var oe=N[z],fe=oe.c;switch(oe.op){case"m":Xd(fe[0],fe[1]);break;case"l":Wl(fe[0],fe[1]);break;case"c":Ms.apply(this,fe);break;case"h":QA()}}return this},h.__private__.rect=h.rect=function(N,z,oe,fe,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(fe)||!ao(we))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(fe=-fe),ae([E(M(N)),E(F(z)),E(M(oe)),E(M(fe)),"re"].join(" ")),Jd(we),this},h.__private__.triangle=h.triangle=function(N,z,oe,fe,we,De,He){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(fe)||isNaN(we)||isNaN(De)||!ao(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[oe-N,fe-z],[we-oe,De-fe],[N-we,z-De]],N,z,[1,1],He,!0),this},h.__private__.roundedRect=h.roundedRect=function(N,z,oe,fe,we,De,He){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(fe)||isNaN(we)||isNaN(De)||!ao(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*oe),De=Math.min(De,.5*fe),this.lines([[oe-2*we,0],[we*Ze,0,we,De-De*Ze,we,De],[0,fe-2*De],[0,De*Ze,-we*Ze,De,-we,De],[2*we-oe,0],[-we*Ze,0,-we,-De*Ze,-we,-De],[0,2*De-fe],[0,-De*Ze,we*Ze,-De,we,-De]],N+we,z,[1,1],He,!0),this},h.__private__.ellipse=h.ellipse=function(N,z,oe,fe,we){if(isNaN(N)||isNaN(z)||isNaN(oe)||isNaN(fe)||!ao(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*oe,He=4/3*(Math.SQRT2-1)*fe;return Xd(N+oe,z),Ms(N+oe,z-He,N+De,z-fe,N,z-fe),Ms(N-De,z-fe,N-oe,z-He,N-oe,z),Ms(N-oe,z+He,N-De,z+fe,N,z+fe),Ms(N+De,z+fe,N+oe,z+He,N+oe,z),Jd(we),this},h.__private__.circle=h.circle=function(N,z,oe,fe){if(isNaN(N)||isNaN(z)||isNaN(oe)||!ao(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,z,oe,oe,fe)},h.setFont=function(N,z,oe){return oe&&(z=k(z,oe)),ht=Eo(N,z,{disableWarning:!1}),this};var Zy=h.__private__.getFont=h.getFont=function(){return Ue[Eo.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var N,z,oe={};for(N in rt)if(rt.hasOwnProperty(N))for(z in oe[N]=[],rt[N])rt[N].hasOwnProperty(z)&&oe[N].push(z);return oe},h.addFont=function(N,z,oe,fe,we){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(oe=k(oe,fe)),we=we||"Identity-H",Gl.call(this,N,z,oe,we)};var Yl,Qd=t.lineWidth||.200025,gc=h.__private__.getLineWidth=h.getLineWidth=function(){return Qd},ZA=h.__private__.setLineWidth=h.setLineWidth=function(N){return Qd=N,ae(E(M(N))+" w"),this};h.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(N,z){if(N=N||[],z=z||0,isNaN(z)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(oe){return E(M(oe))}).join(" "),z=E(M(z)),ae("["+N+"] "+z+" d"),this};var em=h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Yl};h.__private__.getLineHeight=h.getLineHeight=function(){return Pe*Yl};var tm=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Yl=N),this},nm=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Yl};tm(t.lineHeight);var oo=h.__private__.getHorizontalCoordinate=function(N){return M(N)},Do=h.__private__.getVerticalCoordinate=function(N){return S===x.ADVANCED?N:Ke[q].mediaBox.topRightY-Ke[q].mediaBox.bottomLeftY-M(N)},eb=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(N){return E(oo(N))},Ds=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(N){return E(Do(N))},ja=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ci(ja)},h.__private__.setStrokeColor=h.setDrawColor=function(N,z,oe,fe){return ja=fi({ch1:N,ch2:z,ch3:oe,ch4:fe,pdfColorType:"draw",precision:2}),ae(ja),this};var Zd=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ci(Zd)},h.__private__.setFillColor=h.setFillColor=function(N,z,oe,fe){return Zd=fi({ch1:N,ch2:z,ch3:oe,ch4:fe,pdfColorType:"fill",precision:2}),ae(Zd),this};var Kl=t.textColor||"0 g",tb=h.__private__.getTextColor=h.getTextColor=function(){return ci(Kl)};h.__private__.setTextColor=h.setTextColor=function(N,z,oe,fe){return Kl=fi({ch1:N,ch2:z,ch3:oe,ch4:fe,pdfColorType:"text",precision:3}),this};var vc=t.charSpace,nb=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(vc||0)};h.__private__.setCharSpace=h.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vc=N,this};var eh=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(N){var z=h.CapJoinStyles[N];if(z===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eh=z,ae(z+" J"),this};var th=0;h.__private__.setLineJoin=h.setLineJoin=function(N){var z=h.CapJoinStyles[N];if(z===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return th=z,ae(z+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(E(M(N))+" M"),this},h.GState=qp,h.setGState=function(N){(N=typeof N=="string"?Pt[ur[N]]:rm(null,N)).equals(ui)||(ae("/"+N.id+" gs"),ui=N)};var rm=function(N,z){if(!N||!ur[N]){var oe=!1;for(var fe in Pt)if(Pt.hasOwnProperty(fe)&&Pt[fe].equals(z)){oe=!0;break}if(oe)z=Pt[fe];else{var we="GS"+(Object.keys(Pt).length+1).toString(10);Pt[we]=z,z.id=we}return N&&(ur[N]=z.id),Mt.publish("addGState",z),z}};h.addGState=function(N,z){return rm(N,z),this},h.saveGraphicsState=function(){return ae("q"),pt.push({key:ht,size:Pe,color:Kl}),this},h.restoreGraphicsState=function(){ae("Q");var N=pt.pop();return ht=N.key,Pe=N.size,Kl=N.color,ui=null,this},h.setCurrentTransformationMatrix=function(N){return ae(N.toString()+" cm"),this},h.comment=function(N){return ae("#"+N),this};var yc=function(N,z){var oe=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return oe},set:function(De){isNaN(De)||(oe=parseFloat(De))}});var fe=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(De){isNaN(De)||(fe=parseFloat(De))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(De){we=De.toString()}}),this},nh=function(N,z,oe,fe){yc.call(this,N,z),this.type="rect";var we=oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(He){isNaN(He)||(we=parseFloat(He))}});var De=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(He){isNaN(He)||(De=parseFloat(He))}}),this},rh=function(){this.page=fn,this.currentPage=q,this.pages=me.slice(0),this.pagesContext=Ke.slice(0),this.x=cn,this.y=kt,this.matrix=Se,this.width=Jl(q),this.height=Os(q),this.outputDestination=je,this.id="",this.objectNumber=-1};rh.prototype.restore=function(){fn=this.page,q=this.currentPage,Ke=this.pagesContext,me=this.pages,cn=this.x,kt=this.y,Se=this.matrix,ih(q,this.width),ah(q,this.height),je=this.outputDestination};var im=function(N,z,oe,fe,we){ea.push(new rh),fn=q=0,me=[],cn=N,kt=z,Se=we,At([oe,fe])},rb=function(N){if(Zi[N])ea.pop().restore();else{var z=new rh,oe="Xo"+(Object.keys(Hn).length+1).toString(10);z.id=oe,Zi[N]=oe,Hn[oe]=z,Mt.publish("addFormObject",z),ea.pop().restore()}};for(var bc in h.beginFormObject=function(N,z,oe,fe,we){return im(N,z,oe,fe,we),this},h.endFormObject=function(N){return rb(N),this},h.doFormObject=function(N,z){var oe=Hn[Zi[N]];return ae("q"),ae(z.toString()+" cm"),ae("/"+oe.id+" Do"),ae("Q"),this},h.getFormObject=function(N){var z=Hn[Zi[N]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},h.save=function(N,z){return N=N||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(pu(pc(Mo()),N),typeof pu.unload=="function"&&gt.setTimeout&&setTimeout(pu.unload,911),this):new Promise(function(oe,fe){try{var we=pu(pc(Mo()),N);typeof pu.unload=="function"&&gt.setTimeout&&setTimeout(pu.unload,911),oe(we)}catch(De){fe(De.message)}})},ut.API)ut.API.hasOwnProperty(bc)&&(bc==="events"&&ut.API.events.length?function(N,z){var oe,fe,we;for(we=z.length-1;we!==-1;we--)oe=z[we][0],fe=z[we][1],N.subscribe.apply(N,[oe].concat(typeof fe=="function"?[fe]:fe))}(Mt,ut.API.events):h[bc]=ut.API[bc]);var Jl=h.getPageWidth=function(N){return(Ke[N=N||q].mediaBox.topRightX-Ke[N].mediaBox.bottomLeftX)/Ye},ih=h.setPageWidth=function(N,z){Ke[N].mediaBox.topRightX=z*Ye+Ke[N].mediaBox.bottomLeftX},Os=h.getPageHeight=function(N){return(Ke[N=N||q].mediaBox.topRightY-Ke[N].mediaBox.bottomLeftY)/Ye},ah=h.setPageHeight=function(N,z){Ke[N].mediaBox.topRightY=z*Ye+Ke[N].mediaBox.bottomLeftY};return h.internal={pdfEscape:ze,getStyle:XA,getFont:Zy,getFontSize:ke,getCharSpace:nb,getTextColor:tb,getLineHeight:em,getLineHeightFactor:nm,getLineWidth:gc,write:Ne,getHorizontalCoordinate:oo,getVerticalCoordinate:Do,getCoordinateString:eb,getVerticalCoordinateString:Ds,collections:{},newObject:zn,newAdditionalObject:Ss,newObjectDeferred:In,newObjectDeferredBegin:Br,getFilters:ta,putStream:di,events:Mt,scaleFactor:Ye,pageSize:{getWidth:function(){return Jl(q)},setWidth:function(N){ih(q,N)},getHeight:function(){return Os(q)},setHeight:function(N){ah(q,N)}},encryptionOptions:c,encryption:qr,getEncryptor:Wy,output:Ac,getNumberOfPages:ra,pages:me,out:ae,f2:B,f3:O,getPageInfo:JA,getPageInfoByObjId:xt,getCurrentPageInfo:Yy,getPDFVersion:b,Point:yc,Rectangle:nh,Matrix:ft,hasHotfix:KA},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Jl(q)},set:function(N){ih(q,N)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Os(q)},set:function(N){ah(q,N)},enumerable:!0,configurable:!0}),Yd.call(h,xe),ht="F1",an(i,n),Mt.publish("initialized"),h}Zc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Zc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Zc.prototype.processOwnerPassword=function(t,e){return k2(E2(e).substr(0,5),t)},Zc.prototype.encryptor=function(t,e){var n=E2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return k2(n,r)}},qp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||nn(t)!==nn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ut.API={events:[]},ut.version="2.5.2";var Bn=ut.API,NS=1,rc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},St=function(t){return t.toFixed(2)},Ys=function(t){return t.toFixed(5)};Bn.__acroform__={};var Ei=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},jE=function(t){return t*NS},co=function(t){var e=new NI,n=it.internal.getHeight(t)||0,r=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(St(r)),Number(St(n))],e},VQ=Bn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},GQ=Bn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},WQ=Bn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Wn=Bn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return WQ(t,e-1)},Yn=Bn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VQ(t,e-1)},Kn=Bn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GQ(t,e-1)},YQ=Bn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(St(l.lowerLeft_X)),Number(St(l.lowerLeft_Y)),Number(St(l.upperRight_X)),Number(St(l.upperRight_Y))]},KQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=P2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+St(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=co(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},P2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=n,o=it.internal.getHeight(t)||0;o=o<0?-o:o;var s=it.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(O,M,U){if(O+1<i.length){var F=M+" "+i[O+1][0];return Zm(F,t,U).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Zm("3",t,a).height,p=t.multiline?o-a:(o-f)/2,h=p+=2,v=0,b=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zm(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var y="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&w!==i[S].length-1){if((f+2)*(x+2)+2>o)continue e;y+=i[S][w],T=!0,b=S,S--}else{y=(y+=i[S][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(S),k=l(C,y,a),E=S>=i.length-1;if(k&&!E){y+=" ",w=0;continue}if(k||E){if(E)b=C;else if(t.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>o)continue e;b=C}}for(var D="",I=v;I<=b;I++){var B=i[I];if(t.multiline){if(I===b){D+=B[w]+" ",w=(w+1)%B.length;continue}if(I===v){D+=B[B.length-1]+" ";continue}}D+=B[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,c=Zm(D,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=St(u)+" "+St(h)+` Td
`,e+="("+rc(D)+`) Tj
`,e+=-St(u)+` 0 Td
`,h=-(a+2),c=0,v=T?b:b+1,x++,y=""}break}return r.text=e,r.fontSize=a,r},Zm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},JQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XQ=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},QQ=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),nn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},ZQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(to.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(JQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");NS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new EI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&XQ(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=YQ(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=it.createDefaultAppearanceStream(s),nn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=KQ(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var h=s.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&QQ(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},CI=Bn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),nn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+rc(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+rc(r(t))+")"},mo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mo.prototype.toString=function(){return this.objId+" 0 R"},mo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},mo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:CI(i,this.objId,this.scope)}):i instanceof mo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var NI=function(){mo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ei(NI,mo);var EI=function(){mo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+rc(n(t))+")"}},set:function(n){t=n}})};Ei(EI,mo);var to=function t(){mo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wn(e,3)},set:function(y){y?this.F=Yn(e,3):this.F=Kn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof g0)return;a="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+rc(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/NS:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof g0||this instanceof Tl))return w1(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof pr?p:w1(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof pr?y:y.substr(0,1)==="("?qc(y.substr(1,y.length-2)):qc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?qc(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof pr?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof pr?h:w1(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof pr?y:y.substr(0,1)==="("?qc(y.substr(1,y.length-2)):qc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pr?qc(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof pr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,1)},set:function(y){y?this.Ff=Yn(this.Ff,1):this.Ff=Kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,2)},set:function(y){y?this.Ff=Yn(this.Ff,2):this.Ff=Kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,3)},set:function(y){y?this.Ff=Yn(this.Ff,3):this.Ff=Kn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Ei(to,mo);var Pu=function(){to.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return CI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,18)},set:function(n){n?this.Ff=Yn(this.Ff,18):this.Ff=Kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Yn(this.Ff,19):this.Ff=Kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,20)},set:function(n){n?(this.Ff=Yn(this.Ff,20),e.sort()):this.Ff=Kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,22)},set:function(n){n?this.Ff=Yn(this.Ff,22):this.Ff=Kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(n){n?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,27)},set:function(n){n?this.Ff=Yn(this.Ff,27):this.Ff=Kn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ei(Pu,to);var Mu=function(){Pu.call(this),this.fontName="helvetica",this.combo=!1};Ei(Mu,Pu);var Du=function(){Mu.call(this),this.combo=!0};Ei(Du,Mu);var mp=function(){Du.call(this),this.edit=!0};Ei(mp,Du);var pr=function(){to.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,15)},set:function(n){n?this.Ff=Yn(this.Ff,15):this.Ff=Kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,16)},set:function(n){n?this.Ff=Yn(this.Ff,16):this.Ff=Kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,17)},set:function(n){n?this.Ff=Yn(this.Ff,17):this.Ff=Kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(n){n?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+rc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){nn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ei(pr,to);var gp=function(){pr.call(this),this.pushButton=!0};Ei(gp,pr);var Ou=function(){pr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ei(Ou,pr);var g0=function(){var t,e;to.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+rc(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){nn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ei(g0,to),Ou.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ou.prototype.createOption=function(t){var e=new g0;return e.Parent=this,e.optionName=t,this.Kids.push(e),eZ.call(this.scope,e),e};var vp=function(){pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};Ei(vp,pr);var Tl=function(){to.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,13)},set:function(e){e?this.Ff=Yn(this.Ff,13):this.Ff=Kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,21)},set:function(e){e?this.Ff=Yn(this.Ff,21):this.Ff=Kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,23)},set:function(e){e?this.Ff=Yn(this.Ff,23):this.Ff=Kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,24)},set:function(e){e?this.Ff=Yn(this.Ff,24):this.Ff=Kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,25)},set:function(e){e?this.Ff=Yn(this.Ff,25):this.Ff=Kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,26)},set:function(e){e?this.Ff=Yn(this.Ff,26):this.Ff=Kn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ei(Tl,to);var yp=function(){Tl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wn(this.Ff,14)},set:function(t){t?this.Ff=Yn(this.Ff,14):this.Ff=Kn(this.Ff,14)}}),this.password=!0};Ei(yp,Tl);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=P2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+St(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=co(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=it.internal.getHeight(t),o=it.internal.getWidth(t),s=P2(t,t.caption);return i.push("1 g"),i.push("0 0 "+St(o)+" "+St(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+St(o-1)+" "+St(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+St(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=co(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=it.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ys(it.internal.getWidth(t)/2)+" "+Ys(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5)),o=Number((r*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ys(it.internal.getWidth(t)/2)+" "+Ys(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ys(it.internal.getWidth(t)/2)+" "+Ys(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ys(it.internal.getWidth(t)/2)+" "+Ys(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=co(t);e.scope=t.scope;var n=[],r=it.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+St(it.internal.getWidth(t)-2)+" "+St(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(St(r.x1.x)+" "+St(r.x1.y)+" m"),n.push(St(r.x2.x)+" "+St(r.x2.y)+" l"),n.push(St(r.x4.x)+" "+St(r.x4.y)+" m"),n.push(St(r.x3.x)+" "+St(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=co(t);e.scope=t.scope;var n=it.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+St(it.internal.getWidth(t)-2)+" "+St(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(St(n.x1.x)+" "+St(n.x1.y)+" m"),r.push(St(n.x2.x)+" "+St(n.x2.y)+" l"),r.push(St(n.x4.x)+" "+St(n.x4.y)+" m"),r.push(St(n.x3.x)+" "+St(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=co(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+St(it.internal.getWidth(t))+" "+St(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),n=it.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},it.internal.getWidth=function(t){var e=0;return nn(t)==="object"&&(e=jE(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return nn(t)==="object"&&(e=jE(t.Rect[3])),e};var eZ=Bn.addField=function(t){if(ZQ(this,t),!(t instanceof to))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=Pu,Bn.AcroFormListBox=Mu,Bn.AcroFormComboBox=Du,Bn.AcroFormEditBox=mp,Bn.AcroFormButton=pr,Bn.AcroFormPushButton=gp,Bn.AcroFormRadioButton=Ou,Bn.AcroFormCheckBox=vp,Bn.AcroFormTextField=Tl,Bn.AcroFormPasswordField=yp,Bn.AcroFormAppearance=it,Bn.AcroForm={ChoiceField:Pu,ListBox:Mu,ComboBox:Du,EditBox:mp,Button:pr,PushButton:gp,RadioButton:Ou,CheckBox:vp,TextField:Tl,PasswordField:yp,Appearance:it},ut.AcroForm={ChoiceField:Pu,ListBox:Mu,ComboBox:Du,EditBox:mp,Button:pr,PushButton:gp,RadioButton:Ou,CheckBox:vp,TextField:Tl,PasswordField:yp,Appearance:it};var tZ=ut.AcroForm;function kI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,M){var U,F,G,R,$,V=e;if((M=M||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for($ in n)for(G=n[$],U=0;U<G.length;U+=1){for(R=!0,F=0;F<G[U].length;F+=1)if(G[U][F]!==void 0&&G[U][F]!==O[F]){R=!1;break}if(R===!0){V=$;break}}else for($ in n)for(G=n[$],U=0;U<G.length;U+=1){for(R=!0,F=0;F<G[U].length;F+=1)if(G[U][F]!==void 0&&G[U][F]!==O.charCodeAt(F)){R=!1;break}if(R===!0){V=$;break}}return V===e&&M!==e&&(V=M),V},i=function O(M){for(var U=this.internal.write,F=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:M.width}),R.push({key:"Height",value:M.height}),M.colorSpace===w.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===w.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var $="",V=0,Y=M.transparency.length;V<Y;V++)$+=M.transparency[V]+" "+M.transparency[V]+" ";R.push({key:"Mask",value:"["+$+"]"})}M.sMask!==void 0&&R.push({key:"SMask",value:M.objectId+1+" 0 R"});var ne=M.filter!==void 0?["/"+M.filter]:void 0;if(F({data:M.data,additionalKeyValues:R,alreadyAppliedFilters:ne,objectId:M.objectId}),U("endobj"),"sMask"in M&&M.sMask!==void 0){var le="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,L={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:le,data:M.sMask};"filter"in M&&(L.filter=M.filter),O.call(this,L)}if(M.colorSpace===w.INDEXED){var q=this.internal.newObject();F({data:D(new Uint8Array(M.palette)),objectId:q}),U("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var M in O)i.call(this,O[M])},o=function(){var O,M=this.internal.collections.addImage_images,U=this.internal.write;for(var F in M)U("/I"+(O=M[F]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof t["process"+O.toUpperCase()]=="function"},f=function(O){return nn(O)==="object"&&O.nodeType===1},p=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var U=""+O.getAttribute("src");if(U.indexOf("data:image/")===0)return Ap(unescape(U).split("base64,").pop());var F=t.loadFile(U,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(M){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Ap(O.toDataURL(G,1).split("base64,").pop())}},h=function(O){var M=this.internal.collections.addImage_images;if(M){for(var U in M)if(O===M[U].alias)return M[U]}},v=function(O,M,U){return O||M||(O=-96,M=-96),O<0&&(O=-1*U.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*U.height*72/M/this.internal.scaleFactor),O===0&&(O=M*U.width/U.height),M===0&&(M=O*U.height/U.width),[O,M]},b=function(O,M,U,F,G,R){var $=v.call(this,U,F,G),V=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ne=l.call(this);if(U=$[0],F=$[1],ne[G.index]=G,R){R*=Math.PI/180;var le=Math.cos(R),L=Math.sin(R),q=function(te){return te.toFixed(4)},J=[q(le),q(L),q(-1*L),q(le),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,V(O),Y(M+F),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([V(U),"0","0",V(F),"0","0","cm"].join(" "))):this.internal.write([V(U),"0","0",V(F),V(O),Y(M+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(O){var M,U,F=0;if(typeof O=="string")for(U=O.length,M=0;M<U;M++)F=(F<<5)-F+O.charCodeAt(M),F|=0;else if(k(O))for(U=O.byteLength/2,M=0;M<U;M++)F=(F<<5)-F+O[M],F|=0;return F},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},T=t.__addimage__.extractImageFromDataUrl=function(O){var M=(O=O||"").split("base64,"),U=null;if(M.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(F)&&(U={mimeType:F[1],charset:F[2],data:M[1]})}return U},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return C()&&O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return C()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,U=new Uint8Array(M),F=0;F<M;F++)U[F]=O.charCodeAt(F);return U},D=t.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",U=k(O)?O:new Uint8Array(O),F=0;F<U.length;F+=8192)M+=String.fromCharCode.apply(null,U.subarray(F,F+8192));return M};t.addImage=function(){var O,M,U,F,G,R,$,V,Y;if(typeof arguments[1]=="number"?(M=e,U=arguments[1],F=arguments[2],G=arguments[3],R=arguments[4],$=arguments[5],V=arguments[6],Y=arguments[7]):(M=arguments[1],U=arguments[2],F=arguments[3],G=arguments[4],R=arguments[5],$=arguments[6],V=arguments[7],Y=arguments[8]),nn(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var ne=O;O=ne.imageData,M=ne.format||M||e,U=ne.x||U||0,F=ne.y||F||0,G=ne.w||ne.width||G,R=ne.h||ne.height||R,$=ne.alias||$,V=ne.compression||V,Y=ne.rotation||ne.angle||Y}var le=this.internal.getFilters();if(V===void 0&&le.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(U)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=I.call(this,O,M,$,V);return b.call(this,U,F,G,R,L,Y),this};var I=function(O,M,U,F){var G,R,$;if(typeof O=="string"&&r(O)===e){O=unescape(O);var V=B(O,!1);(V!==""||(V=t.loadFile(O,!0))!==void 0)&&(O=V)}if(f(O)&&(O=p(O,M)),M=r(O,M),!c(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if((($=U)==null||$.length===0)&&(U=function(Y){return typeof Y=="string"||k(Y)?x(Y):k(Y.data)?x(Y.data):null}(O)),(G=h.call(this,U))||(C()&&(O instanceof Uint8Array||M==="RGBA"||(R=O,O=E(O))),G=this["process"+M.toUpperCase()](O,u.call(this),U,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:y.NONE}(F),R)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},B=t.__addimage__.convertBase64ToBinaryString=function(O,M){var U;M=typeof M!="boolean"||M;var F,G="";if(typeof O=="string"){F=(U=T(O))!==null?U.data:O;try{G=Ap(F)}catch(R){if(M)throw S(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(O){var M,U,F="";if(f(O)&&(O=p(O)),typeof O=="string"&&r(O)===e&&((F=B(O,!1))===""&&(F=t.loadFile(O)||""),O=F),U=r(O),!c(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!C()||O instanceof Uint8Array||(O=E(O)),!(M=this["process"+U.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=U,M}})(ut.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ut.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),x=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(y(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(y(x))+") >>",b.content=a;var S=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ut.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var w=0,y=n,x="",S=0;for(w=0;w<b.length;w+=1)y[b.charCodeAt(w)]!==void 0?(S++,typeof(y=y[b.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(y),y=n,S=0),w===b.length-1&&(y=n,x+=b.charAt(w-(S-1)),w-=S-1,S=0)):(y=n,x+=b.charAt(w-S),w-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(b,w,y){return o(b)?a(b)===!1?-1:!u(b)||!o(w)&&!o(y)||!o(y)&&s(w)||s(b)&&!o(w)||s(b)&&l(w)||s(b)&&s(w)?0:c(b)&&o(w)&&!s(w)&&o(y)&&u(y)?3:s(b)||!o(y)?1:2:-1},h=function(b){var w=0,y=0,x=0,S="",T="",C="",k=(b=b||"").split("\\s+"),E=[];for(w=0;w<k.length;w+=1){for(E.push(""),y=0;y<k[w].length;y+=1)S=k[w][y],T=k[w][y-1],C=k[w][y+1],o(S)?(x=p(S,T,C),E[w]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):E[w]+=S;E[w]=f(E[w])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var x=0;for(y=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?y.push([h(w[x][0]),w[x][1],w[x][2]]):y.push([h(w[x])]);b=y}else b=h(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(ut.API),ut.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ut.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,b=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(w.splitTextToSize(T,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)h<(b=this.getStringUnitWidth(l[x],{font:f})*c)&&(h=b);return h!==0&&(v=l.length),{w:h/=p,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,p){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,v,b,w,y=[],x=[],S=[],T={},C={},k=[],E=[],D=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,B=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},e),M=typeof p.padding=="number"?p.padding:3,U=p.headerBackgroundColor||"#c8c8c8",F=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=F,this.setFontSize(B),f==null)x=y=Object.keys(c[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&nn(f[0])==="object")for(y=f.map(function(ne){return ne.name}),x=f.map(function(ne){return ne.prompt||ne.name||""}),S=f.map(function(ne){return ne.align||"left"}),h=0;h<f.length;h+=1)C[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,S=y.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(T[w=y[h]]=c.map(function(ne){return ne[w]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=T[w],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)k.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[w]=Math.max.apply(null,k)+M+M,k=[]}if(I){var G={};for(h=0;h<y.length;h+=1)G[y[h]]={},G[y[h]].text=x[h],G[y[h]].align=S[h];var R=s.call(this,G,C);E=y.map(function(ne){return new a(l,u,C[ne],R,G[ne].text,void 0,G[ne].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var $=f.reduce(function(ne,le){return ne[le.name]=le.align,ne},{});for(h=0;h<c.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:c[h]},this);var V=s.call(this,c[h],C);for(b=0;b<y.length;b+=1){var Y=c[h][y[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:b,data:Y},this),o.call(this,new a(l,u,C[y[b]],V,Y,h+2,$[y[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+c+c},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,p.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(ut.API);var PI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},MI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M2=kI(MI),DI=[100,200,300,400,500,600,700,800,900],nZ=kI(DI);function D2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return PI[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof M2[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function LE(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var rZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},RE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function iZ(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},rZ,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=D2(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+FE(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=M2[l],f=c<=M2.normal?-1:1,p=LE(u,MI,c,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=PI[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=nZ[l],f=LE(u,DI,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+FE(a)+"'.");return o}function $E(t){return t.trimLeft()}function aZ(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function oZ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var eg,BE,UE,S1=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ce){J=!!Ce}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Ce){te=!!Ce}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(Ce){isNaN(Ce)||(X=Ce)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(Ce){isNaN(Ce)||(se=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var ae;typeof Ce=="number"?ae=[Ce,Ce,Ce,Ce]:((ae=new Array(4))[0]=Ce[0],ae[1]=Ce.length>=2?Ce[1]:ae[0],ae[2]=Ce.length>=3?Ce[2]:ae[0],ae[3]=Ce.length>=4?Ce[3]:ae[1]),u.margin=ae}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ce){ue=Ce}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(Ce){Z=Ce}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Ce){he=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof c&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var me=[];Object.defineProperty(this,"ctxStack",{get:function(){return me},set:function(Ce){me=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var ae;ae=p(Ce),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var ae=p(Ce);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var ce=null;function je(Ce,ae){if(ce===null){var Ne=function(Ee){var xe=[];return Object.keys(Ee).forEach(function(Pe){Ee[Pe].forEach(function(be){var ke=null;switch(be){case"bold":ke={family:Pe,weight:"bold"};break;case"italic":ke={family:Pe,style:"italic"};break;case"bolditalic":ke={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:Pe}}ke!==null&&(ke.ref={name:Pe,style:be},xe.push(ke))})}),xe}(Ce.getFontList());ce=function(Ee){for(var xe={},Pe=0;Pe<Ee.length;++Pe){var be=D2(Ee[Pe]),ke=be.family,ye=be.stretch,Ge=be.style,We=be.weight;xe[ke]=xe[ke]||{},xe[ke][ye]=xe[ke][ye]||{},xe[ke][ye][Ge]=xe[ke][ye][Ge]||{},xe[ke][ye][Ge][We]=be}return xe}(Ne.concat(ae))}return ce}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(Ce){ce=null,Re=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var ae;if(this.ctx.font=Ce,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var Ne=ae[1],Ee=(ae[2],ae[3]),xe=ae[4],Pe=(ae[5],ae[6]),be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(be==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var ke=function(et){var ht,Ye,cn=[],kt=et.trim();if(kt==="")return S1;if(kt in RE)return[RE[kt]];for(;kt!=="";){switch(Ye=null,ht=(kt=$E(kt)).charAt(0)){case'"':case"'":Ye=aZ(kt.substring(1),ht);break;default:Ye=oZ(kt)}if(Ye===null||(cn.push(Ye[0]),(kt=$E(Ye[1]))!==""&&kt.charAt(0)!==","))return S1;kt=kt.replace(/^,/,"")}return cn}(Pe);if(this.fontFaces){var ye=iZ(je(this.pdf,this.fontFaces),ke.map(function(et){return{family:et,stretch:"normal",weight:Ee,style:Ne}}));this.pdf.setFont(ye.ref.name,ye.ref.style)}else{var Ge="";(Ee==="bold"||parseInt(Ee,10)>=700||Ne==="bold")&&(Ge="bold"),Ne==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var We="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ve=0;Ve<ke.length;Ve++){if(this.pdf.internal.getFont(ke[Ve],Ge,{noFallback:!0,disableWarning:!0})!==void 0){We=ke[Ve];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(ke[Ve],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=ke[Ve],Ge="bold";else if(this.pdf.internal.getFont(ke[Ve],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=ke[Ve],Ge="normal";break}}if(We===""){for(var ct=0;ct<ke.length;ct++)if(ot[ke[ct]]){We=ot[ke[ct]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(L,q)},f.prototype.closePath=function(){var L=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&nn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){L=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,q,J,te){if(isNaN(J)||isNaN(te)||isNaN(L)||isNaN(q))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new o(J,te)),se=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"qct",x1:se.x,y1:se.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},f.prototype.bezierCurveTo=function(L,q,J,te,X,se){if(isNaN(X)||isNaN(se)||isNaN(L)||isNaN(q)||isNaN(J)||isNaN(te))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(X,se)),Z=this.ctx.transform.applyToPoint(new o(L,q)),he=this.ctx.transform.applyToPoint(new o(J,te));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:he.x,y2:he.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.arc=function(L,q,J,te,X,se){if(isNaN(L)||isNaN(q)||isNaN(J)||isNaN(te)||isNaN(X))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(L,q));L=ue.x,q=ue.y;var Z=this.ctx.transform.applyToPoint(new o(0,J)),he=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(Z.x-he.x,2)+Math.pow(Z.y-he.y,2))}Math.abs(X-te)>=2*Math.PI&&(te=0,X=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:J,startAngle:te,endAngle:X,counterclockwise:se})},f.prototype.arcTo=function(L,q,J,te,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,q,J,te){if(isNaN(L)||isNaN(q)||isNaN(J)||isNaN(te))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+J,q),this.lineTo(L+J,q+te),this.lineTo(L,q+te),this.lineTo(L,q),this.lineTo(L+J,q),this.lineTo(L,q)},f.prototype.fillRect=function(L,q,J,te){if(isNaN(L)||isNaN(q)||isNaN(J)||isNaN(te))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,J,te),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(L,q,J,te){if(isNaN(L)||isNaN(q)||isNaN(J)||isNaN(te))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,q,J,te),this.stroke())},f.prototype.clearRect=function(L,q,J,te){if(isNaN(L)||isNaN(q)||isNaN(J)||isNaN(te))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,J,te))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(L){var q,J,te,X;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,J=0,te=0,X=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(se!==null)q=parseInt(se[1]),J=parseInt(se[2]),te=parseInt(se[3]),X=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)q=parseInt(se[1]),J=parseInt(se[2]),te=parseInt(se[3]),X=parseFloat(se[4]);else{if(X=1,typeof L=="string"&&L.charAt(0)!=="#"){var ue=new SI(L);L=ue.ok?ue.toHex():"#000000"}L.length===4?(q=L.substring(1,2),q+=q,J=L.substring(2,3),J+=J,te=L.substring(3,4),te+=te):(q=L.substring(1,3),J=L.substring(3,5),te=L.substring(5,7)),q=parseInt(q,16),J=parseInt(J,16),te=parseInt(te,16)}}return{r:q,g:J,b:te,a:X,style:L}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,q,J,te){if(isNaN(q)||isNaN(J)||typeof L!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!h.call(this)){var X=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;M.call(this,{text:L,x:q,y:J,scale:se,angle:X,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(L,q,J,te){if(isNaN(q)||isNaN(J)||typeof L!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){te=isNaN(te)?void 0:te;var X=V(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;M.call(this,{text:L,x:q,y:J,scale:se,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(L){if(typeof L!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,J=this.pdf.internal.scaleFactor,te=q.internal.getFontSize(),X=q.getStringUnitWidth(L)*te/q.internal.scaleFactor,se=function(ue){var Z=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this};return new se({width:X*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function(L){if(isNaN(L))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function(L,q,J,te,X,se){if(isNaN(L)||isNaN(q)||isNaN(J)||isNaN(te)||isNaN(X)||isNaN(se))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(L,q,J,te,X,se);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(L,q,J,te,X,se){L=isNaN(L)?1:L,q=isNaN(q)?0:q,J=isNaN(J)?0:J,te=isNaN(te)?1:te,X=isNaN(X)?0:X,se=isNaN(se)?0:se,this.ctx.transform=new l(L,q,J,te,X,se)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,q,J,te,X,se,ue,Z,he){var me=this.pdf.getImageProperties(L),ce=1,je=1,Re=1,Ce=1;te!==void 0&&Z!==void 0&&(Re=Z/te,Ce=he/X,ce=me.width/te*Z/te,je=me.height/X*he/X),se===void 0&&(se=q,ue=J,q=0,J=0),te!==void 0&&Z===void 0&&(Z=te,he=X),te===void 0&&Z===void 0&&(Z=me.width,he=me.height);for(var ae,Ne=this.ctx.transform.decompose(),Ee=V(Ne.rotate.shx),xe=new l,Pe=(xe=(xe=(xe=xe.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new s(se-q*Re,ue-J*Ce,te*ce,X*je)),be=w.call(this,Pe),ke=[],ye=0;ye<be.length;ye+=1)ke.indexOf(be[ye])===-1&&ke.push(be[ye]);if(S(ke),this.autoPaging)for(var Ge=ke[0],We=ke[ke.length-1],ot=Ge;ot<We+1;ot++){this.pdf.setPage(ot);var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=ot===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=ot===1?0:et+(ot-2)*ht;if(this.ctx.clip_path.length!==0){var cn=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ae,this.posX+this.margin[3],-Ye+ct+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=cn}var kt=JSON.parse(JSON.stringify(Pe));kt=x([kt],this.posX+this.margin[3],-Ye+ct+this.ctx.prevPageLastElemOffset)[0];var Se=(ot>Ge||ot<We)&&b.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,ht,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,Ee),Se&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,Ee)};var w=function(L,q,J){var te=[];q=q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":te.push(Math.floor((L.y+X)/J)+1);break;case"arc":te.push(Math.floor((L.y+X-L.radius)/J)+1),te.push(Math.floor((L.y+X+L.radius)/J)+1);break;case"qct":var se=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);te.push(Math.floor((se.y+X)/J)+1),te.push(Math.floor((se.y+se.h+X)/J)+1);break;case"bct":var ue=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);te.push(Math.floor((ue.y+X)/J)+1),te.push(Math.floor((ue.y+ue.h+X)/J)+1);break;case"rect":te.push(Math.floor((L.y+X)/J)+1),te.push(Math.floor((L.y+L.h+X)/J)+1)}for(var Z=0;Z<te.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<te[Z];)y.call(this);return te},y=function(){var L=this.fillStyle,q=this.strokeStyle,J=this.font,te=this.lineCap,X=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=J,this.lineCap=te,this.lineWidth=X,this.lineJoin=se},x=function(L,q,J){for(var te=0;te<L.length;te++)switch(L[te].type){case"bct":L[te].x2+=q,L[te].y2+=J;case"qct":L[te].x1+=q,L[te].y1+=J;case"mt":case"lt":case"arc":default:L[te].x+=q,L[te].y+=J}return L},S=function(L){return L.sort(function(q,J){return q-J})},T=function(L,q){for(var J,te,X=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,Z=this.lineWidth,he=Math.abs(Z*this.ctx.transform.scaleX),me=this.lineJoin,ce=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Re=[],Ce=0;Ce<je.length;Ce++)if(je[Ce].x!==void 0)for(var ae=w.call(this,je[Ce]),Ne=0;Ne<ae.length;Ne+=1)Re.indexOf(ae[Ne])===-1&&Re.push(ae[Ne]);for(var Ee=0;Ee<Re.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<Re[Ee];)y.call(this);if(S(Re),this.autoPaging)for(var xe=Re[0],Pe=Re[Re.length-1],be=xe;be<Pe+1;be++){this.pdf.setPage(be),this.fillStyle=X,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=he,this.lineJoin=me;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=be===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=be===1?0:Ge+(be-2)*We;if(this.ctx.clip_path.length!==0){var Ve=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(J,this.posX+this.margin[3],-ot+ye+this.ctx.prevPageLastElemOffset),C.call(this,L,!0),this.path=Ve}if(te=JSON.parse(JSON.stringify(ce)),this.path=x(te,this.posX+this.margin[3],-ot+ye+this.ctx.prevPageLastElemOffset),q===!1||be===0){var ct=(be>xe||be<Pe)&&b.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,We,null).clip().discardPath()),C.call(this,L,q),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=he,C.call(this,L,q),this.lineWidth=Z;this.path=ce},C=function(L,q){if((L!=="stroke"||q||!v.call(this))&&(L==="stroke"||q||!h.call(this))){for(var J,te,X=[],se=this.path,ue=0;ue<se.length;ue++){var Z=se[ue];switch(Z.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:Z,deltas:[],abs:[]});break;case"lt":var he=X.length;if(se[ue-1]&&!isNaN(se[ue-1].x)&&(J=[Z.x-se[ue-1].x,Z.y-se[ue-1].y],he>0)){for(;he>=0;he--)if(X[he-1].close!==!0&&X[he-1].begin!==!0){X[he-1].deltas.push(J),X[he-1].abs.push(Z);break}}break;case"bct":J=[Z.x1-se[ue-1].x,Z.y1-se[ue-1].y,Z.x2-se[ue-1].x,Z.y2-se[ue-1].y,Z.x-se[ue-1].x,Z.y-se[ue-1].y],X[X.length-1].deltas.push(J);break;case"qct":var me=se[ue-1].x+2/3*(Z.x1-se[ue-1].x),ce=se[ue-1].y+2/3*(Z.y1-se[ue-1].y),je=Z.x+2/3*(Z.x1-Z.x),Re=Z.y+2/3*(Z.y1-Z.y),Ce=Z.x,ae=Z.y;J=[me-se[ue-1].x,ce-se[ue-1].y,je-se[ue-1].x,Re-se[ue-1].y,Ce-se[ue-1].x,ae-se[ue-1].y],X[X.length-1].deltas.push(J);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(Z)}}te=q?null:L==="stroke"?"stroke":"fill";for(var Ne=!1,Ee=0;Ee<X.length;Ee++)if(X[Ee].arc)for(var xe=X[Ee].abs,Pe=0;Pe<xe.length;Pe++){var be=xe[Pe];be.type==="arc"?D.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,q,!Ne):U.call(this,be.x,be.y),Ne=!0}else if(X[Ee].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(X[Ee].begin!==!0){var ke=X[Ee].start.x,ye=X[Ee].start.y;F.call(this,X[Ee].deltas,ke,ye),Ne=!0}te&&I.call(this,te),q&&B.call(this)}},k=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-J;case"top":return L+q-J;case"hanging":return L+q-2*J;case"middle":return L+q/2-J;case"ideographic":return L;case"alphabetic":default:return L}},E=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,J){this.colorStops.push([q,J])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(L,q,J,te,X,se,ue,Z,he){for(var me=R.call(this,J,te,X,se),ce=0;ce<me.length;ce++){var je=me[ce];ce===0&&(he?O.call(this,je.x1+L,je.y1+q):U.call(this,je.x1+L,je.y1+q)),G.call(this,L,q,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}Z?B.call(this):I.call(this,ue)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(L,q){this.pdf.internal.out(n(L)+" "+r(q)+" m")},M=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var J=this.pdf.getTextDimensions(L.text),te=k.call(this,L.y),X=E.call(this,te)-J.h,se=this.ctx.transform.applyToPoint(new o(L.x,te)),ue=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var he,me,ce,je=this.ctx.transform.applyToRectangle(new s(L.x,te,J.w,J.h)),Re=Z.applyToRectangle(new s(L.x,X,J.w,J.h)),Ce=w.call(this,Re),ae=[],Ne=0;Ne<Ce.length;Ne+=1)ae.indexOf(Ce[Ne])===-1&&ae.push(Ce[Ne]);if(S(ae),this.autoPaging)for(var Ee=ae[0],xe=ae[ae.length-1],Pe=Ee;Pe<xe+1;Pe++){this.pdf.setPage(Pe);var be=Pe===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ye=this.pdf.internal.pageSize.height-this.margin[2],Ge=ye-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],ot=We-this.margin[3],Ve=Pe===1?0:ke+(Pe-2)*Ge;if(this.ctx.clip_path.length!==0){var ct=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(he,this.posX+this.margin[3],-1*Ve+be),C.call(this,"fill",!0),this.path=ct}var et=x([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ve+be+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale);var ht=this.autoPaging!=="text";if(ht||et.y+et.h<=ye){if(ht||et.y>=be&&et.x<=We){var Ye=ht?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||We-et.x)[0],cn=x([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Ve+be+this.ctx.prevPageLastElemOffset)[0],kt=ht&&(Pe>Ee||Pe<xe)&&b.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ge,null).clip().discardPath()),this.pdf.text(Ye,cn.x,cn.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else et.y<ye&&(this.ctx.prevPageLastElemOffset+=ye-et.y);L.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ce)}else L.scale>=.01&&(me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(me*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale),this.pdf.text(L.text,se.x+this.posX,se.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(me),this.lineWidth=ce)},U=function(L,q,J,te){J=J||0,te=te||0,this.pdf.internal.out(n(L+J)+" "+r(q+te)+" l")},F=function(L,q,J){return this.pdf.lines(L,q,J,null,null)},G=function(L,q,J,te,X,se,ue,Z){this.pdf.internal.out([e(i(J+L)),e(a(te+q)),e(i(X+L)),e(a(se+q)),e(i(ue+L)),e(a(Z+q)),"c"].join(" "))},R=function(L,q,J,te){for(var X=2*Math.PI,se=Math.PI/2;q>J;)q-=X;var ue=Math.abs(J-q);ue<X&&te&&(ue=X-ue);for(var Z=[],he=te?-1:1,me=q;ue>1e-5;){var ce=me+he*Math.min(ue,se);Z.push($.call(this,L,me,ce)),ue-=Math.abs(ce-me),me=ce}return Z},$=function(L,q,J){var te=(J-q)/2,X=L*Math.cos(te),se=L*Math.sin(te),ue=X,Z=-se,he=ue*ue+Z*Z,me=he+ue*X+Z*se,ce=4/3*(Math.sqrt(2*he*me)-me)/(ue*se-Z*X),je=ue-ce*Z,Re=Z+ce*ue,Ce=je,ae=-Re,Ne=te+q,Ee=Math.cos(Ne),xe=Math.sin(Ne);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:je*Ee-Re*xe,y2:je*xe+Re*Ee,x3:Ce*Ee-ae*xe,y3:Ce*xe+ae*Ee,x4:L*Math.cos(J),y4:L*Math.sin(J)}},V=function(L){return 180*L/Math.PI},Y=function(L,q,J,te,X,se){var ue=L+.5*(J-L),Z=q+.5*(te-q),he=X+.5*(J-X),me=se+.5*(te-se),ce=Math.min(L,X,ue,he),je=Math.max(L,X,ue,he),Re=Math.min(q,se,Z,me),Ce=Math.max(q,se,Z,me);return new s(ce,Re,je-ce,Ce-Re)},ne=function(L,q,J,te,X,se,ue,Z){var he,me,ce,je,Re,Ce,ae,Ne,Ee,xe,Pe,be,ke,ye,Ge=J-L,We=te-q,ot=X-J,Ve=se-te,ct=ue-X,et=Z-se;for(me=0;me<41;me++)Ee=(ae=(ce=L+(he=me/40)*Ge)+he*((Re=J+he*ot)-ce))+he*(Re+he*(X+he*ct-Re)-ae),xe=(Ne=(je=q+he*We)+he*((Ce=te+he*Ve)-je))+he*(Ce+he*(se+he*et-Ce)-Ne),me==0?(Pe=Ee,be=xe,ke=Ee,ye=xe):(Pe=Math.min(Pe,Ee),be=Math.min(be,xe),ke=Math.max(ke,Ee),ye=Math.max(ye,xe));return new s(Math.round(Pe),Math.round(be),Math.round(ke-Pe),Math.round(ye-be))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,q,J=(L=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:q}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ut.API),function(t){var e=function(a){var o,s,l,u,c,f,p,h,v,b;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(b=c%85))/85)-(v=c%85))/85)-(h=c%85))/85)-(p=c%85))/85)%85,s.push(f+33,p+33,h+33,v+33,b+33)):s.push(122);return function(w,y){for(var x=y;x>0;x--)w.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,f=String,p="length",h=255,v="charCodeAt",b="slice",w="replace";for(a[b](-2),a=a[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[b](a[p]%5||5))[p];c>u;u+=5)s=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),l.push(h&s>>24,h&s>>16,h&s>>8,h&s);return function(y,x){for(var S=x;S>0;S--)y.pop()}(l,o[p]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=C2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ut.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,p=0,h=function(v){var b=v.length,w=[],y=String.fromCharCode;for(p=0;p<b;p+=1)w.push(y(255&v.charCodeAt(p)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(ut.API),function(t){function e(){return(gt.html2canvas?Promise.resolve(gt.html2canvas):Ol(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(gt.DOMPurify?Promise.resolve(gt.DOMPurify):Ol(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=nn(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var h=u[p],v=h.src.find(function(b){return b.format==="truetype"});v&&l.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ut.getPageSize=function(o,s,l){if(nn(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var h,v=0,b=0;if(p.hasOwnProperty(f))v=p[f][1]/c,b=p[f][0]/c;else try{v=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>v&&(h=b,b=v,v=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(h=b,b=v,v=h)}return{width:b,height:v,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(D2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(ut.API),ut.API.addJS=function(t){return UE=t,this.internal.events.subscribe("postPutResources",function(){eg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),BE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+UE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){eg!==void 0&&BE!==void 0&&this.internal.out("/Names <</JavaScript "+eg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ut.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,b={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=h,e.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),b={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}h=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ut.API);var Hc,tg,qE,HE,zE,sZ=function(){var t,e,n;function r(a){var o,s,l,u,c,f,p,h,v,b,w,y,x,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(w=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,w.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,p,h,v){var b,w,y,x,S,T,C,k,E,D,I,B,O,M,U,F,G,R,$,V,Y,ne=Math.ceil((u.width-f)/h),le=Math.ceil((u.height-p)/v),L=u.width==ne&&u.height==le;for(M=o*ne,B=L?s:new Uint8Array(M*le),T=a.length,O=0,w=0;O<le&&l<T;){switch(a[l++]){case 0:for(x=G=0;G<M;x=G+=1)B[w++]=a[l++];break;case 1:for(x=R=0;R<M;x=R+=1)b=a[l++],S=x<o?0:B[w-o],B[w++]=(b+S)%256;break;case 2:for(x=$=0;$<M;x=$+=1)b=a[l++],y=(x-x%o)/o,U=O&&B[(O-1)*M+y*o+x%o],B[w++]=(U+b)%256;break;case 3:for(x=V=0;V<M;x=V+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:B[w-o],U=O&&B[(O-1)*M+y*o+x%o],B[w++]=(b+Math.floor((S+U)/2))%256;break;case 4:for(x=Y=0;Y<M;x=Y+=1)b=a[l++],y=(x-x%o)/o,S=x<o?0:B[w-o],O===0?U=F=0:(U=B[(O-1)*M+y*o+x%o],F=y&&B[(O-1)*M+(y-1)*o+x%o]),C=S+U-F,k=Math.abs(C-S),D=Math.abs(C-U),I=Math.abs(C-F),E=k<=D&&k<=I?S:D<=I?U:F,B[w++]=(b+E)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!L){var q=((p+O*v)*u.width+f)*o,J=O*M;for(x=0;x<ne;x+=1){for(var te=0;te<o;te+=1)s[q++]=B[J++];q+=(h-1)*o}}O++}}return a=FQ(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,f,p,h;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=f=0,p=s.length;f<p;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(h=c[a++])!=null?h:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,f,p,h,v,b,w,y;if(l=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,s=!0),v=(u=a.data||a).length,f=b||o,c=p=0,l===1)for(;c<v;)h=b?4*o[c/4]:p,w=f[h++],u[c++]=w,u[c++]=w,u[c++]=w,u[c++]=s?f[h++]:255,p=h;else for(;c<v;)h=b?4*o[c/4]:p,u[c++]=f[h++],u[c++]=f[h++],u[c++]=f[h++],u[c++]=s?f[h++]:255,p=h},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(gt)==="[object Window]"){try{e=gt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,f,p,h;if(this.animation){for(h=[],s=c=0,f=(p=this.animation.frames).length;c<f;s=++c)o=p[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,h.push(o.image=t(l));return h}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,f,p=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(o=function(){var h,v;if(h=s++%u,v=l[h],p.renderFrame(a,h),u>1&&s/u<c)return p.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function lZ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,p=null,h=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,p=t[e++],!(1&b)&&(p=null),h=b>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,k=1<<(7&T)+1,E=s,D=l,I=!1;T>>7&&(I=!0,E=e,D=k,e+=3*k);var B=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x:w,y,width:x,height:S,has_local_palette:I,palette_offset:E,palette_size:D,data_offset:B,data_length:e-B,transparent_index:p,interlaced:!!C,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=c.length)throw new Error("Frame index out of range.");return c[M]},this.decodeAndBlitFrameBGRA=function(M,U){var F=this.frameInfo(M),G=F.width*F.height,R=new Uint8Array(G);VE(t,F.data_offset,R,G);var $=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var Y=F.width,ne=n-Y,le=Y,L=4*(F.y*n+F.x),q=4*((F.y+F.height)*n+F.x),J=L,te=4*ne;F.interlaced===!0&&(te+=4*n*7);for(var X=8,se=0,ue=R.length;se<ue;++se){var Z=R[se];if(le===0&&(le=Y,(J+=te)>=q&&(te=4*ne+4*n*(X-1),J=L+(Y+ne)*(X<<1),X>>=1)),Z===V)J+=4;else{var he=t[$+3*Z],me=t[$+3*Z+1],ce=t[$+3*Z+2];U[J++]=ce,U[J++]=me,U[J++]=he,U[J++]=255}--le}},this.decodeAndBlitFrameRGBA=function(M,U){var F=this.frameInfo(M),G=F.width*F.height,R=new Uint8Array(G);VE(t,F.data_offset,R,G);var $=F.palette_offset,V=F.transparent_index;V===null&&(V=256);var Y=F.width,ne=n-Y,le=Y,L=4*(F.y*n+F.x),q=4*((F.y+F.height)*n+F.x),J=L,te=4*ne;F.interlaced===!0&&(te+=4*n*7);for(var X=8,se=0,ue=R.length;se<ue;++se){var Z=R[se];if(le===0&&(le=Y,(J+=te)>=q&&(te=4*ne+4*n*(X-1),J=L+(Y+ne)*(X<<1),X>>=1)),Z===V)J+=4;else{var he=t[$+3*Z],me=t[$+3*Z+1],ce=t[$+3*Z+2];U[J++]=he,U[J++]=me,U[J++]=ce,U[J++]=255}--le}}}function VE(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,p=0,h=t[e++],v=new Int32Array(4096),b=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==a){if(w===o)break;for(var y=w<s?w:b,x=0,S=y;S>a;)S=v[S]>>8,++x;var T=S;if(p+x+(y!==w?1:0)>r)return void hn.log("Warning, gif stream longer than expected.");n[p++]=T;var C=p+=x;for(y!==w&&(n[p++]=T),S=y;x--;)S=v[S],n[--C]=255&S,S>>=8;b!==null&&s<4096&&(v[s++]=b<<8|T,s>=u+1&&l<12&&(++l,u=u<<1|1)),b=w}else s=o+1,u=(1<<(l=i+1))-1,b=null}return p!==r&&hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _1(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),v=new Array(64),b=[],w=0,y=7,x=new Array(64),S=new Array(64),T=new Array(64),C=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(L,q){for(var J=0,te=0,X=new Array,se=1;se<=16;se++){for(var ue=1;ue<=L[se];ue++)X[q[te]]=[],X[q[te]][0]=J,X[q[te]][1]=se,te++,J++;J*=2}return X}function $(L){for(var q=L[0],J=L[1]-1;J>=0;)q&1<<J&&(w|=1<<y),J--,--y<0&&(w==255?(V(255),V(0)):V(w),y=7,w=0)}function V(L){b.push(L)}function Y(L){V(L>>8&255),V(255&L)}function ne(L,q,J,te,X){for(var se,ue=X[0],Z=X[240],he=function(xe,Pe){var be,ke,ye,Ge,We,ot,Ve,ct,et,ht,Ye=0;for(et=0;et<8;++et){be=xe[Ye],ke=xe[Ye+1],ye=xe[Ye+2],Ge=xe[Ye+3],We=xe[Ye+4],ot=xe[Ye+5],Ve=xe[Ye+6];var cn=be+(ct=xe[Ye+7]),kt=be-ct,Se=ke+Ve,Ue=ke-Ve,rt=ye+ot,pt=ye-ot,st=Ge+We,mn=Ge-We,Pt=cn+st,ur=cn-st,ui=Se+rt,fn=Se-rt;xe[Ye]=Pt+ui,xe[Ye+4]=Pt-ui;var Ke=.707106781*(fn+ur);xe[Ye+2]=ur+Ke,xe[Ye+6]=ur-Ke;var Mt=.382683433*((Pt=mn+pt)-(fn=Ue+kt)),Pr=.5411961*Pt+Mt,Hn=1.306562965*fn+Mt,Zi=.707106781*(ui=pt+Ue),ea=kt+Zi,ft=kt-Zi;xe[Ye+5]=ft+Pr,xe[Ye+3]=ft-Pr,xe[Ye+1]=ea+Hn,xe[Ye+7]=ea-Hn,Ye+=8}for(Ye=0,et=0;et<8;++et){be=xe[Ye],ke=xe[Ye+8],ye=xe[Ye+16],Ge=xe[Ye+24],We=xe[Ye+32],ot=xe[Ye+40],Ve=xe[Ye+48];var Pi=be+(ct=xe[Ye+56]),Mi=be-ct,$r=ke+Ve,zn=ke-Ve,In=ye+ot,Br=ye-ot,Ss=Ge+We,Oa=Ge-We,Ur=Pi+Ss,ci=Pi-Ss,fi=$r+In,ta=$r-In;xe[Ye]=Ur+fi,xe[Ye+32]=Ur-fi;var di=.707106781*(ta+ci);xe[Ye+16]=ci+di,xe[Ye+48]=ci-di;var na=.382683433*((Ur=Oa+Br)-(ta=zn+Mi)),io=.5411961*Ur+na,_s=1.306562965*ta+na,Ts=.707106781*(fi=Br+zn),Cs=Mi+Ts,Ns=Mi-Ts;xe[Ye+40]=Ns+io,xe[Ye+24]=Ns-io,xe[Ye+8]=Cs+_s,xe[Ye+56]=Cs-_s,Ye++}for(et=0;et<64;++et)ht=xe[et]*Pe[et],h[et]=ht>0?ht+.5|0:ht-.5|0;return h}(L,q),me=0;me<64;++me)v[E[me]]=he[me];var ce=v[0]-J;J=v[0],ce==0?$(te[0]):($(te[p[se=32767+ce]]),$(f[se]));for(var je=63;je>0&&v[je]==0;)je--;if(je==0)return $(ue),J;for(var Re,Ce=1;Ce<=je;){for(var ae=Ce;v[Ce]==0&&Ce<=je;)++Ce;var Ne=Ce-ae;if(Ne>=16){Re=Ne>>4;for(var Ee=1;Ee<=Re;++Ee)$(Z);Ne&=15}se=32767+v[Ce],$(X[(Ne<<4)+p[se]]),$(f[se]),Ce++}return je!=63&&$(ue),J}function le(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var X=o((J[te]*q+50)/100);X=Math.min(Math.max(X,1),255),s[E[te]]=X}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var Z=o((se[ue]*q+50)/100);Z=Math.min(Math.max(Z,1),255),l[E[ue]]=Z}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],me=0,ce=0;ce<8;ce++)for(var je=0;je<8;je++)u[me]=1/(s[E[me]]*he[ce]*he[je]*8),c[me]=1/(l[E[me]]*he[ce]*he[je]*8),me++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,q){q&&le(q),b=new Array,w=0,y=7,Y(65496),Y(65504),Y(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),Y(1),Y(1),V(0),V(0),function(){Y(65499),Y(132),V(0);for(var ke=0;ke<64;ke++)V(s[ke]);V(1);for(var ye=0;ye<64;ye++)V(l[ye])}(),function(ke,ye){Y(65472),Y(17),V(8),Y(ye),Y(ke),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(L.width,L.height),function(){Y(65476),Y(418),V(0);for(var ke=0;ke<16;ke++)V(D[ke+1]);for(var ye=0;ye<=11;ye++)V(I[ye]);V(16);for(var Ge=0;Ge<16;Ge++)V(B[Ge+1]);for(var We=0;We<=161;We++)V(O[We]);V(1);for(var ot=0;ot<16;ot++)V(M[ot+1]);for(var Ve=0;Ve<=11;Ve++)V(U[Ve]);V(17);for(var ct=0;ct<16;ct++)V(F[ct+1]);for(var et=0;et<=161;et++)V(G[et])}(),Y(65498),Y(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var J=0,te=0,X=0;w=0,y=7,this.encode.displayName="_encode_";for(var se,ue,Z,he,me,ce,je,Re,Ce,ae=L.data,Ne=L.width,Ee=L.height,xe=4*Ne,Pe=0;Pe<Ee;){for(se=0;se<xe;){for(me=xe*Pe+se,je=-1,Re=0,Ce=0;Ce<64;Ce++)ce=me+(Re=Ce>>3)*xe+(je=4*(7&Ce)),Pe+Re>=Ee&&(ce-=xe*(Pe+1+Re-Ee)),se+je>=xe&&(ce-=se+je-xe+4),ue=ae[ce++],Z=ae[ce++],he=ae[ce++],x[Ce]=(k[ue]+k[Z+256>>0]+k[he+512>>0]>>16)-128,S[Ce]=(k[ue+768>>0]+k[Z+1024>>0]+k[he+1280>>0]>>16)-128,T[Ce]=(k[ue+1280>>0]+k[Z+1536>>0]+k[he+1792>>0]>>16)-128;J=ne(x,u,J,e,r),te=ne(S,c,te,n,i),X=ne(T,c,X,n,i),se+=32}Pe+=8}if(y>=0){var be=[];be[1]=y+1,be[0]=(1<<y+1)-1,$(be)}return Y(65497),new Uint8Array(b)},t=t||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)C[q]=L(q)}(),e=R(D,I),n=R(M,U),r=R(B,O),i=R(F,G),function(){for(var L=1,q=2,J=1;J<=15;J++){for(var te=L;te<q;te++)p[32767+te]=J,f[32767+te]=[],f[32767+te][1]=J,f[32767+te][0]=te;for(var X=-(q-1);X<=-L;X++)p[32767+X]=J,f[32767+X]=[],f[32767+X][1]=J,f[32767+X][0]=q-1+X;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)k[L]=19595*L,k[L+256>>0]=38470*L,k[L+512>>0]=7471*L+32768,k[L+768>>0]=-11059*L,k[L+1024>>0]=-21709*L,k[L+1280>>0]=32768*L+8421375,k[L+1536>>0]=-27439*L,k[L+1792>>0]=-5329*L}(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ua(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function GE(t){function e(D){if(!D)throw Error("assert :P")}function n(D,I,B){for(var O=0;4>O;O++)if(D[I+O]!=B.charCodeAt(O))return!0;return!1}function r(D,I,B,O,M){for(var U=0;U<M;U++)D[I+U]=B[O+U]}function i(D,I,B,O){for(var M=0;M<O;M++)D[I+M]=B}function a(D){return new Int32Array(D)}function o(D,I){for(var B=[],O=0;O<D;O++)B.push(new I);return B}function s(D,I){var B=[];return function O(M,U,F){for(var G=F[U],R=0;R<G&&(M.push(F.length>U+1?[]:new I),!(F.length<U+1));R++)O(M[R],U+1,F)}(B,0,D),B}var l=function(){var D=this;function I(g,_){for(var P=1<<_-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function B(g,_,P,j,H){e(!(j%P));do g[_+(j-=P)]=H;while(0<j)}function O(g,_,P,j,H){if(e(2328>=H),512>=H)var W=a(512);else if((W=a(H))==null)return 0;return function(K,Q,ee,re,pe,_e){var Te,ve,Be=Q,Me=1<<ee,Ae=a(16),ge=a(16);for(e(pe!=0),e(re!=null),e(K!=null),e(0<ee),ve=0;ve<pe;++ve){if(15<re[ve])return 0;++Ae[re[ve]]}if(Ae[0]==pe)return 0;for(ge[1]=0,Te=1;15>Te;++Te){if(Ae[Te]>1<<Te)return 0;ge[Te+1]=ge[Te]+Ae[Te]}for(ve=0;ve<pe;++ve)Te=re[ve],0<re[ve]&&(_e[ge[Te]++]=ve);if(ge[15]==1)return(re=new M).g=0,re.value=_e[0],B(K,Be,1,Me,re),Me;var Le,qe=-1,$e=Me-1,tt=0,Xe=1,dt=1,Qe=1<<ee;for(ve=0,Te=1,pe=2;Te<=ee;++Te,pe<<=1){if(Xe+=dt<<=1,0>(dt-=Ae[Te]))return 0;for(;0<Ae[Te];--Ae[Te])(re=new M).g=Te,re.value=_e[ve++],B(K,Be+tt,pe,Qe,re),tt=I(tt,Te)}for(Te=ee+1,pe=2;15>=Te;++Te,pe<<=1){if(Xe+=dt<<=1,0>(dt-=Ae[Te]))return 0;for(;0<Ae[Te];--Ae[Te]){if(re=new M,(tt&$e)!=qe){for(Be+=Qe,Le=1<<(qe=Te)-ee;15>qe&&!(0>=(Le-=Ae[qe]));)++qe,Le<<=1;Me+=Qe=1<<(Le=qe-ee),K[Q+(qe=tt&$e)].g=Le+ee,K[Q+qe].value=Be-Q-qe}re.g=Te-ee,re.value=_e[ve++],B(K,Be+(tt>>ee),pe,Qe,re),tt=I(tt,Te)}}return Xe!=2*ge[15]-1?0:Me}(g,_,P,j,H,W)}function M(){this.value=this.g=0}function U(){this.value=this.g=0}function F(){this.G=o(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Mr,U)}function G(g,_,P,j){e(g!=null),e(_!=null),e(2147483648>j),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=P,g.Jd=_,g.Yc=P+j,g.Zc=4<=j?P+j-4+1:P,se(g)}function R(g,_){for(var P=0;0<_--;)P|=Z(g,128)<<_;return P}function $(g,_){var P=R(g,_);return ue(g)?-P:P}function V(g,_,P,j){var H,W=0;for(e(g!=null),e(_!=null),e(4294967288>j),g.Sb=j,g.Ra=0,g.u=0,g.h=0,4<j&&(j=4),H=0;H<j;++H)W+=_[P+H]<<8*H;g.Ra=W,g.bb=j,g.oa=_,g.pa=P}function Y(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Tc-8>>>0,++g.bb,g.u-=8;J(g)&&(g.h=1,g.u=0)}function ne(g,_){if(e(0<=_),!g.h&&_<=_c){var P=q(g)&Sc[_];return g.u+=_,Y(g),P}return g.h=1,g.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(g){return g.Ra>>>(g.u&Tc-1)>>>0}function J(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Tc}function te(g,_){g.u=_,g.h=J(g)}function X(g){g.u>=ch&&(e(g.u>=ch),Y(g))}function se(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ue(g){return R(g,1)}function Z(g,_){var P=g.Ca;0>g.b&&se(g);var j=g.b,H=P*_>>>8,W=(g.I>>>j>H)+0;for(W?(P-=H,g.I-=H+1<<j>>>0):P=H+1,j=P,H=0;256<=j;)H+=8,j>>=8;return j=7^H+pi[j],g.b-=j,g.Ca=(P<<j)-1,W}function he(g,_,P){g[_+0]=P>>24&255,g[_+1]=P>>16&255,g[_+2]=P>>8&255,g[_+3]=P>>0&255}function me(g,_){return g[_+0]<<0|g[_+1]<<8}function ce(g,_){return me(g,_)|g[_+2]<<16}function je(g,_){return me(g,_)|me(g,_+2)<<16}function Re(g,_){var P=1<<_;return e(g!=null),e(0<_),g.X=a(P),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Ce(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ne(g,_,P,j){e(P!=null),e(j!=null);var H=P[0],W=j[0];return H==0&&(H=(g*W+_/2)/_),W==0&&(W=(_*H+g/2)/g),0>=H||0>=W?0:(P[0]=H,j[0]=W,1)}function Ee(g,_){return g+(1<<_)-1>>>_}function xe(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Pe(g,_){D[_]=function(P,j,H,W,K,Q,ee){var re;for(re=0;re<K;++re){var pe=D[g](Q[ee+re-1],H,W+re);Q[ee+re]=xe(P[j+re],pe)}}}function be(){this.ud=this.hd=this.jd=0}function ke(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function ye(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ge(g,_){return ye(g+(g-_+.5>>1))}function We(g,_,P){return Math.abs(_-P)-Math.abs(g-P)}function ot(g,_,P,j,H,W,K){for(j=W[K-1],P=0;P<H;++P)W[K+P]=j=xe(g[_+P],j)}function Ve(g,_,P,j,H){var W;for(W=0;W<P;++W){var K=g[_+W],Q=K>>8&255,ee=16711935&(ee=(ee=16711935&K)+((Q<<16)+Q));j[H+W]=(4278255360&K)+ee>>>0}}function ct(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function et(g,_,P,j,H,W){var K;for(K=0;K<j;++K){var Q=_[P+K],ee=Q>>>8,re=Q,pe=255&(pe=(pe=Q>>>16)+((g.jd<<24>>24)*(ee<<24>>24)>>>5));re=255&(re=(re=re+((g.hd<<24>>24)*(ee<<24>>24)>>>5))+((g.ud<<24>>24)*(pe<<24>>24)>>>5)),H[W+K]=(4278255360&Q)+(pe<<16)+re}}function ht(g,_,P,j,H){D[_]=function(W,K,Q,ee,re,pe,_e,Te,ve){for(ee=_e;ee<Te;++ee)for(_e=0;_e<ve;++_e)re[pe++]=H(Q[j(W[K++])])},D[g]=function(W,K,Q,ee,re,pe,_e){var Te=8>>W.b,ve=W.Ea,Be=W.K[0],Me=W.w;if(8>Te)for(W=(1<<W.b)-1,Me=(1<<Te)-1;K<Q;++K){var Ae,ge=0;for(Ae=0;Ae<ve;++Ae)Ae&W||(ge=j(ee[re++])),pe[_e++]=H(Be[ge&Me]),ge>>=Te}else D["VP8LMapColor"+P](ee,re,Be,Me,pe,_e,K,Q,ve)}}function Ye(g,_,P,j,H){for(P=_+P;_<P;){var W=g[_++];j[H++]=W>>16&255,j[H++]=W>>8&255,j[H++]=W>>0&255}}function cn(g,_,P,j,H){for(P=_+P;_<P;){var W=g[_++];j[H++]=W>>16&255,j[H++]=W>>8&255,j[H++]=W>>0&255,j[H++]=W>>24&255}}function kt(g,_,P,j,H){for(P=_+P;_<P;){var W=(K=g[_++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;j[H++]=W,j[H++]=K}}function Se(g,_,P,j,H){for(P=_+P;_<P;){var W=(K=g[_++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;j[H++]=W,j[H++]=K}}function Ue(g,_,P,j,H){for(P=_+P;_<P;){var W=g[_++];j[H++]=W>>0&255,j[H++]=W>>8&255,j[H++]=W>>16&255}}function rt(g,_,P,j,H,W){if(W==0)for(P=_+P;_<P;)he(j,((W=g[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),H+=32;else r(j,H,g,_,P)}function pt(g,_){D[_][0]=D[g+"0"],D[_][1]=D[g+"1"],D[_][2]=D[g+"2"],D[_][3]=D[g+"3"],D[_][4]=D[g+"4"],D[_][5]=D[g+"5"],D[_][6]=D[g+"6"],D[_][7]=D[g+"7"],D[_][8]=D[g+"8"],D[_][9]=D[g+"9"],D[_][10]=D[g+"10"],D[_][11]=D[g+"11"],D[_][12]=D[g+"12"],D[_][13]=D[g+"13"],D[_][14]=D[g+"0"],D[_][15]=D[g+"0"]}function st(g){return g==sb||g==lb||g==mm||g==ub}function mn(){this.eb=[],this.size=this.A=this.fb=0}function Pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ur(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mn,this.f.kb=new Pt,this.sd=null}function ui(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ke(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Mt(g,_){var P=g.T,j=_.ba.f.RGBA,H=j.eb,W=j.fb+g.ka*j.A,K=ua[_.ba.S],Q=g.y,ee=g.O,re=g.f,pe=g.N,_e=g.ea,Te=g.W,ve=_.cc,Be=_.dc,Me=_.Mc,Ae=_.Nc,ge=g.ka,Le=g.ka+g.T,qe=g.U,$e=qe+1>>1;for(ge==0?K(Q,ee,null,null,re,pe,_e,Te,re,pe,_e,Te,H,W,null,null,qe):(K(_.ec,_.fc,Q,ee,ve,Be,Me,Ae,re,pe,_e,Te,H,W-j.A,H,W,qe),++P);ge+2<Le;ge+=2)ve=re,Be=pe,Me=_e,Ae=Te,pe+=g.Rc,Te+=g.Rc,W+=2*j.A,K(Q,(ee+=2*g.fa)-g.fa,Q,ee,ve,Be,Me,Ae,re,pe,_e,Te,H,W-j.A,H,W,qe);return ee+=g.fa,g.j+Le<g.o?(r(_.ec,_.fc,Q,ee,qe),r(_.cc,_.dc,re,pe,$e),r(_.Mc,_.Nc,_e,Te,$e),P--):1&Le||K(Q,ee,null,null,re,pe,_e,Te,re,pe,_e,Te,H,W+j.A,null,null,qe),P}function Pr(g,_,P){var j=g.F,H=[g.J];if(j!=null){var W=g.U,K=_.ba.S,Q=K==Am||K==mm;_=_.ba.f.RGBA;var ee=[0],re=g.ka;ee[0]=g.T,g.Kb&&(re==0?--ee[0]:(--re,H[0]-=g.width),g.j+g.ka+g.T==g.o&&(ee[0]=g.o-g.j-re));var pe=_.eb;re=_.fb+re*_.A,g=vn(j,H[0],g.width,W,ee,pe,re+(Q?0:3),_.A),e(P==ee),g&&st(K)&&sa(pe,re,Q,W,ee,_.A)}return 0}function Hn(g){var _=g.ma,P=_.ba.S,j=11>P,H=P==hm||P==pm||P==Am||P==ob||P==12||st(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!lh(_.Oa,g,H?11:12))return 0;if(H&&st(P)&&He(),g.da)alert("todo:use_scaling");else{if(j){if(_.Ib=Ke,g.Kb){if(P=g.U+1>>1,_.memory=a(g.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=Mt,He()}}else alert("todo:EmitYUV");H&&(_.Jb=Pr,j&&we())}if(j&&!z_){for(g=0;256>g;++g)U8[g]=89858*(g-128)+vm>>gm,z8[g]=-22014*(g-128)+vm,H8[g]=-45773*(g-128),q8[g]=113618*(g-128)+vm>>gm;for(g=gh;g<db;++g)_=76283*(g-16)+vm>>gm,V8[g-gh]=Oi(_,255),G8[g-gh]=Oi(_+8>>4,15);z_=1}return 1}function Zi(g){var _=g.ma,P=g.U,j=g.T;return e(!(1&g.ka)),0>=P||0>=j?0:(P=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,P),_.Dc+=P,1)}function ea(g){g.ma.memory=null}function ft(g,_,P,j){return ne(g,8)!=47?0:(_[0]=ne(g,14)+1,P[0]=ne(g,14)+1,j[0]=ne(g,1),ne(g,3)!=0?0:!g.h)}function Pi(g,_){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+ne(_,P)+1}function Mi(g,_){return 120<_?_-120:1<=(P=((P=N8[_-1])>>4)*g+(8-(15&P)))?P:1;var P}function $r(g,_,P){var j=q(P),H=g[_+=255&j].g-8;return 0<H&&(te(P,P.u+8),j=q(P),_+=g[_].value,_+=j&(1<<H)-1),te(P,P.u+g[_].g),g[_].value}function zn(g,_,P){return P.g+=g.g,P.value+=g.value<<_>>>0,e(8>=P.g),g.g}function In(g,_,P){var j=g.xc;return e((_=j==0?0:g.vc[g.md*(P>>j)+(_>>j)])<g.Wb),g.Ya[_]}function Br(g,_,P,j){var H=g.ab,W=g.c*_,K=g.C;_=K+_;var Q=P,ee=j;for(j=g.Ta,P=g.Ua;0<H--;){var re=g.gc[H],pe=K,_e=_,Te=Q,ve=ee,Be=(ee=j,Q=P,re.Ea);switch(e(pe<_e),e(_e<=re.nc),re.hc){case 2:om(Te,ve,(_e-pe)*Be,ee,Q);break;case 0:var Me=pe,Ae=_e,ge=ee,Le=Q,qe=(Qe=re).Ea;Me==0&&(ib(Te,ve,null,null,1,ge,Le),ot(Te,ve+1,0,0,qe-1,ge,Le+1),ve+=qe,Le+=qe,++Me);for(var $e=1<<Qe.b,tt=$e-1,Xe=Ee(qe,Qe.b),dt=Qe.K,Qe=Qe.w+(Me>>Qe.b)*Xe;Me<Ae;){var Vt=dt,Xt=Qe,Ut=1;for(fh(Te,ve,ge,Le-qe,1,ge,Le);Ut<qe;){var Rt=(Ut&~tt)+$e;Rt>qe&&(Rt=qe),(0,Is[Vt[Xt++]>>8&15])(Te,ve+ +Ut,ge,Le+Ut-qe,Rt-Ut,ge,Le+Ut),Ut=Rt}ve+=qe,Le+=qe,++Me&tt||(Qe+=Xe)}_e!=re.nc&&r(ee,Q-Be,ee,Q+(_e-pe-1)*Be,Be);break;case 1:for(Be=Te,Ae=ve,qe=(Te=re.Ea)-(Le=Te&~(ge=(ve=1<<re.b)-1)),Me=Ee(Te,re.b),$e=re.K,re=re.w+(pe>>re.b)*Me;pe<_e;){for(tt=$e,Xe=re,dt=new be,Qe=Ae+Le,Vt=Ae+Te;Ae<Qe;)ct(tt[Xe++],dt),Xl(dt,Be,Ae,ve,ee,Q),Ae+=ve,Q+=ve;Ae<Vt&&(ct(tt[Xe++],dt),Xl(dt,Be,Ae,qe,ee,Q),Ae+=qe,Q+=qe),++pe&ge||(re+=Me)}break;case 3:if(Te==ee&&ve==Q&&0<re.b){for(Ae=ee,Te=Be=Q+(_e-pe)*Be-(Le=(_e-pe)*Ee(re.Ea,re.b)),ve=ee,ge=Q,Me=[],Le=(qe=Le)-1;0<=Le;--Le)Me[Le]=ve[ge+Le];for(Le=qe-1;0<=Le;--Le)Ae[Te+Le]=Me[Le];ia(re,pe,_e,ee,Be,ee,Q)}else ia(re,pe,_e,Te,ve,ee,Q)}Q=j,ee=P}ee!=P&&r(j,P,Q,ee,W)}function Ss(g,_){var P=g.V,j=g.Ba+g.c*g.C,H=_-g.C;if(e(_<=g.l.o),e(16>=H),0<H){var W=g.l,K=g.Ta,Q=g.Ua,ee=W.width;if(Br(g,H,P,j),H=Q=[Q],e((P=g.C)<(j=_)),e(W.v<W.va),j>W.o&&(j=W.o),P<W.j){var re=W.j-P;P=W.j,H[0]+=re*ee}if(P>=j?P=0:(H[0]+=4*W.v,W.ka=P-W.j,W.U=W.va-W.v,W.T=j-P,P=1),P){if(Q=Q[0],11>(P=g.ca).S){var pe=P.f.RGBA,_e=(j=P.S,H=W.U,W=W.T,re=pe.eb,pe.A),Te=W;for(pe=pe.fb+g.Ma*pe.A;0<Te--;){var ve=K,Be=Q,Me=H,Ae=re,ge=pe;switch(j){case dm:Ai(ve,Be,Me,Ae,ge);break;case hm:Zr(ve,Be,Me,Ae,ge);break;case sb:Zr(ve,Be,Me,Ae,ge),sa(Ae,ge,0,Me,1,0);break;case j_:Io(ve,Be,Me,Ae,ge);break;case pm:rt(ve,Be,Me,Ae,ge,1);break;case lb:rt(ve,Be,Me,Ae,ge,1),sa(Ae,ge,0,Me,1,0);break;case Am:rt(ve,Be,Me,Ae,ge,0);break;case mm:rt(ve,Be,Me,Ae,ge,0),sa(Ae,ge,1,Me,1,0);break;case ob:js(ve,Be,Me,Ae,ge);break;case ub:js(ve,Be,Me,Ae,ge),gn(Ae,ge,Me,1,0);break;case L_:Oo(ve,Be,Me,Ae,ge);break;default:e(0)}Q+=ee,pe+=_e}g.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=_,e(g.C<=g.i)}function Oa(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var P=g.Ya[_].G,j=g.Ya[_].H;if(0<P[1][j[1]+0].g||0<P[2][j[2]+0].g||0<P[3][j[3]+0].g)return 0}return 1}function Ur(g,_,P,j,H,W){if(g.Z!=0){var K=g.qd,Q=g.rd;for(e($s[g.Z]!=null);_<P;++_)$s[g.Z](K,Q,j,H,j,H,W),K=j,Q=H,H+=W;g.qd=K,g.rd=Q}}function ci(g,_){var P=g.l.ma,j=P.Z==0||P.Z==1?g.l.j:g.C;if(j=g.C<j?j:g.C,e(_<=g.l.o),_>j){var H=g.l.width,W=P.ca,K=P.tb+H*j,Q=g.V,ee=g.Ba+g.c*j,re=g.gc;e(g.ab==1),e(re[0].hc==3),sm(re[0],j,_,Q,ee,W,K),Ur(P,j,_,W,K,H)}g.C=g.Ma=_}function fi(g,_,P,j,H,W,K){var Q=g.$/j,ee=g.$%j,re=g.m,pe=g.s,_e=P+g.$,Te=_e;H=P+j*H;var ve=P+j*W,Be=280+pe.ua,Me=g.Pb?Q:16777216,Ae=0<pe.ua?pe.Wa:null,ge=pe.wc,Le=_e<ve?In(pe,ee,Q):null;e(g.C<W),e(ve<=H);var qe=!1;e:for(;;){for(;qe||_e<ve;){var $e=0;if(Q>=Me){var tt=_e-P;e((Me=g).Pb),Me.wd=Me.m,Me.xd=tt,0<Me.s.ua&&Ce(Me.s.Wa,Me.s.vb),Me=Q+k8}if(ee&ge||(Le=In(pe,ee,Q)),e(Le!=null),Le.Qb&&(_[_e]=Le.qb,qe=!0),!qe)if(X(re),Le.jc){$e=re,tt=_;var Xe=_e,dt=Le.pd[q($e)&Mr-1];e(Le.jc),256>dt.g?(te($e,$e.u+dt.g),tt[Xe]=dt.value,$e=0):(te($e,$e.u+dt.g-256),e(256<=dt.value),$e=dt.value),$e==0&&(qe=!0)}else $e=$r(Le.G[0],Le.H[0],re);if(re.h)break;if(qe||256>$e){if(!qe)if(Le.nd)_[_e]=(Le.qb|$e<<8)>>>0;else{if(X(re),qe=$r(Le.G[1],Le.H[1],re),X(re),tt=$r(Le.G[2],Le.H[2],re),Xe=$r(Le.G[3],Le.H[3],re),re.h)break;_[_e]=(Xe<<24|qe<<16|$e<<8|tt)>>>0}if(qe=!1,++_e,++ee>=j&&(ee=0,++Q,K!=null&&Q<=W&&!(Q%16)&&K(g,Q),Ae!=null))for(;Te<_e;)$e=_[Te++],Ae.X[(506832829*$e&4294967295)>>>Ae.Mb]=$e}else if(280>$e){if($e=Pi($e-256,re),tt=$r(Le.G[4],Le.H[4],re),X(re),tt=Mi(j,tt=Pi(tt,re)),re.h)break;if(_e-P<tt||H-_e<$e)break e;for(Xe=0;Xe<$e;++Xe)_[_e+Xe]=_[_e+Xe-tt];for(_e+=$e,ee+=$e;ee>=j;)ee-=j,++Q,K!=null&&Q<=W&&!(Q%16)&&K(g,Q);if(e(_e<=H),ee&ge&&(Le=In(pe,ee,Q)),Ae!=null)for(;Te<_e;)$e=_[Te++],Ae.X[(506832829*$e&4294967295)>>>Ae.Mb]=$e}else{if(!($e<Be))break e;for(qe=$e-280,e(Ae!=null);Te<_e;)$e=_[Te++],Ae.X[(506832829*$e&4294967295)>>>Ae.Mb]=$e;$e=_e,e(!(qe>>>(tt=Ae).Xa)),_[$e]=tt.X[qe],qe=!0}qe||e(re.h==J(re))}if(g.Pb&&re.h&&_e<H)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ce(g.s.vb,g.s.Wa);else{if(re.h)break e;K!=null&&K(g,Q>W?W:Q),g.a=0,g.$=_e-P}return 1}return g.a=3,0}function ta(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function di(){var g=new rb;return g==null?null:(g.a=0,g.xb=$_,pt("Predictor","VP8LPredictors"),pt("Predictor","VP8LPredictors_C"),pt("PredictorAdd","VP8LPredictorsAdd"),pt("PredictorAdd","VP8LPredictorsAdd_C"),om=Ve,Xl=et,Ai=Ye,Zr=cn,js=kt,Oo=Se,Io=Ue,D.VP8LMapColor32b=Cc,D.VP8LMapColor8b=lm,g)}function na(g,_,P,j,H){var W=1,K=[g],Q=[_],ee=j.m,re=j.s,pe=null,_e=0;e:for(;;){if(P)for(;W&&ne(ee,1);){var Te=K,ve=Q,Be=j,Me=1,Ae=Be.m,ge=Be.gc[Be.ab],Le=ne(Ae,2);if(Be.Oc&1<<Le)W=0;else{switch(Be.Oc|=1<<Le,ge.hc=Le,ge.Ea=Te[0],ge.nc=ve[0],ge.K=[null],++Be.ab,e(4>=Be.ab),Le){case 0:case 1:ge.b=ne(Ae,3)+2,Me=na(Ee(ge.Ea,ge.b),Ee(ge.nc,ge.b),0,Be,ge.K),ge.K=ge.K[0];break;case 3:var qe,$e=ne(Ae,8)+1,tt=16<$e?0:4<$e?1:2<$e?2:3;if(Te[0]=Ee(ge.Ea,tt),ge.b=tt,qe=Me=na($e,1,0,Be,ge.K)){var Xe,dt=$e,Qe=ge,Vt=1<<(8>>Qe.b),Xt=a(Vt);if(Xt==null)qe=0;else{var Ut=Qe.K[0],Rt=Qe.w;for(Xt[0]=Qe.K[0][0],Xe=1;Xe<1*dt;++Xe)Xt[Xe]=xe(Ut[Rt+Xe],Xt[Xe-1]);for(;Xe<4*Vt;++Xe)Xt[Xe]=0;Qe.K[0]=null,Qe.K[0]=Xt,qe=1}}Me=qe;break;case 2:break;default:e(0)}W=Me}}if(K=K[0],Q=Q[0],W&&ne(ee,1)&&!(W=1<=(_e=ne(ee,4))&&11>=_e)){j.a=3;break e}var dn;if(dn=W)t:{var on,Nt,er,mi=j,tr=K,gi=Q,Qt=_e,ji=P,Li=mi.m,xr=mi.s,Dr=[null],ti=1,ca=0,lo=E8[Qt];n:for(;;){if(ji&&ne(Li,1)){var wr=ne(Li,3)+2,Fo=Ee(tr,wr),nu=Ee(gi,wr),Mc=Fo*nu;if(!na(Fo,nu,0,mi,Dr))break n;for(Dr=Dr[0],xr.xc=wr,on=0;on<Mc;++on){var Bs=Dr[on]>>8&65535;Dr[on]=Bs,Bs>=ti&&(ti=Bs+1)}}if(Li.h)break n;for(Nt=0;5>Nt;++Nt){var Fn=R_[Nt];!Nt&&0<Qt&&(Fn+=1<<Qt),ca<Fn&&(ca=Fn)}var hb=o(ti*lo,M),W_=ti,Y_=o(W_,F);if(Y_==null)var bm=null;else e(65536>=W_),bm=Y_;var vh=a(ca);if(bm==null||vh==null||hb==null){mi.a=1;break n}var xm=hb;for(on=er=0;on<ti;++on){var Fa=bm[on],Dc=Fa.G,Oc=Fa.H,K_=0,wm=1,J_=0;for(Nt=0;5>Nt;++Nt){Fn=R_[Nt],Dc[Nt]=xm,Oc[Nt]=er,!Nt&&0<Qt&&(Fn+=1<<Qt);i:{var Sm,pb=Fn,_m=mi,yh=vh,K8=xm,J8=er,Ab=0,Us=_m.m,X8=ne(Us,1);if(i(yh,0,0,pb),X8){var Q8=ne(Us,1)+1,Z8=ne(Us,1),X_=ne(Us,Z8==0?1:8);yh[X_]=1,Q8==2&&(yh[X_=ne(Us,8)]=1);var Tm=1}else{var Q_=a(19),Z_=ne(Us,4)+4;if(19<Z_){_m.a=3;var Cm=0;break i}for(Sm=0;Sm<Z_;++Sm)Q_[C8[Sm]]=ne(Us,3);var mb=void 0,bh=void 0,eT=_m,e7=Q_,Nm=pb,tT=yh,gb=0,qs=eT.m,nT=8,rT=o(128,M);r:for(;O(rT,0,7,e7,19);){if(ne(qs,1)){var t7=2+2*ne(qs,3);if((mb=2+ne(qs,t7))>Nm)break r}else mb=Nm;for(bh=0;bh<Nm&&mb--;){X(qs);var iT=rT[0+(127&q(qs))];te(qs,qs.u+iT.g);var Ic=iT.value;if(16>Ic)tT[bh++]=Ic,Ic!=0&&(nT=Ic);else{var n7=Ic==16,aT=Ic-16,r7=_8[aT],oT=ne(qs,S8[aT])+r7;if(bh+oT>Nm)break r;for(var i7=n7?nT:0;0<oT--;)tT[bh++]=i7}}gb=1;break r}gb||(eT.a=3),Tm=gb}(Tm=Tm&&!Us.h)&&(Ab=O(K8,J8,8,yh,pb)),Tm&&Ab!=0?Cm=Ab:(_m.a=3,Cm=0)}if(Cm==0)break n;if(wm&&T8[Nt]==1&&(wm=xm[er].g==0),K_+=xm[er].g,er+=Cm,3>=Nt){var xh,vb=vh[0];for(xh=1;xh<Fn;++xh)vh[xh]>vb&&(vb=vh[xh]);J_+=vb}}if(Fa.nd=wm,Fa.Qb=0,wm&&(Fa.qb=(Dc[3][Oc[3]+0].value<<24|Dc[1][Oc[1]+0].value<<16|Dc[2][Oc[2]+0].value)>>>0,K_==0&&256>Dc[0][Oc[0]+0].value&&(Fa.Qb=1,Fa.qb+=Dc[0][Oc[0]+0].value<<8)),Fa.jc=!Fa.Qb&&6>J_,Fa.jc){var Em,$o=Fa;for(Em=0;Em<Mr;++Em){var Hs=Em,zs=$o.pd[Hs],km=$o.G[0][$o.H[0]+Hs];256<=km.value?(zs.g=km.g+256,zs.value=km.value):(zs.g=0,zs.value=0,Hs>>=zn(km,8,zs),Hs>>=zn($o.G[1][$o.H[1]+Hs],16,zs),Hs>>=zn($o.G[2][$o.H[2]+Hs],0,zs),zn($o.G[3][$o.H[3]+Hs],24,zs))}}}xr.vc=Dr,xr.Wb=ti,xr.Ya=bm,xr.yc=hb,dn=1;break t}dn=0}if(!(W=dn)){j.a=3;break e}if(0<_e){if(re.ua=1<<_e,!Re(re.Wa,_e)){j.a=1,W=0;break e}}else re.ua=0;var yb=j,sT=K,a7=Q,bb=yb.s,xb=bb.xc;if(yb.c=sT,yb.i=a7,bb.md=Ee(sT,xb),bb.wc=xb==0?-1:(1<<xb)-1,P){j.xb=L8;break e}if((pe=a(K*Q))==null){j.a=1,W=0;break e}W=(W=fi(j,pe,0,K,Q,Q,null))&&!ee.h;break e}return W?(H!=null?H[0]=pe:(e(pe==null),e(P)),j.$=0,P||ta(re)):ta(re),W}function io(g,_){var P=g.c*g.i,j=P+_+16*_;return e(g.c<=_),g.V=a(j),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+_,1)}function _s(g,_){var P=g.C,j=_-P,H=g.V,W=g.Ba+g.c*P;for(e(_<=g.l.o);0<j;){var K=16<j?16:j,Q=g.l.ma,ee=g.l.width,re=ee*K,pe=Q.ca,_e=Q.tb+ee*P,Te=g.Ta,ve=g.Ua;Br(g,K,H,W),Gn(Te,ve,pe,_e,re),Ur(Q,P,P+K,pe,_e,ee),j-=K,H+=K*g.c,P+=K}e(P==_),g.C=g.Ma=_}function Ts(){this.ub=this.yd=this.td=this.Rb=0}function Cs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ns(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function uc(){this.Yb=function(){var g=[];return function _(P,j,H){for(var W=H[j],K=0;K<W&&(P.push(H.length>j+1?[]:0),!(H.length<j+1));K++)_(P[K],j+1,H)}(g,0,[3,11]),g}()}function qd(){this.jb=a(3),this.Wc=s([4,8],uc),this.Xc=s([4,17],uc)}function Hd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Es(){this.ld=this.La=this.dd=this.tc=0}function cc(){this.Na=this.la=0}function zd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Es),this.Y=0,this.ya=Array(new zl),this.aa=0,this.l=new ks}function fc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Gd(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new Ts,this.Kc=new Cs,this.ed=new Hd,this.Qa=new Ns,this.Ic=this.$c=this.Aa=0,this.D=new Vd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,zd),this.Pa=new qd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fc),this.Hd=0,this.rb=Array(new cc),this.sb=0,this.wa=Array(new Es),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zl),this.L=this.aa=0,this.gd=s([4,2],Es),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ks(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wd(){var g=new Gd;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,mh||(mh=Vl)),g}function jn(g,_,P){return g.a==0&&(g.a=_,g.sc=P,g.cb=0),0}function dc(g,_,P){return 3<=P&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function hc(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return jn(g,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,j=_.w,H=_.ha;if(4>H)return jn(g,7,"Truncated header.");var W=P[j+0]|P[j+1]<<8|P[j+2]<<16,K=g.Od;if(K.Rb=!(1&W),K.td=W>>1&7,K.yd=W>>4&1,K.ub=W>>5,3<K.td)return jn(g,3,"Incorrect keyframe parameters.");if(!K.yd)return jn(g,4,"Frame not displayable.");j+=3,H-=3;var Q=g.Kc;if(K.Rb){if(7>H)return jn(g,7,"cannot parse picture header");if(!dc(P,j,H))return jn(g,3,"Bad code word");Q.c=16383&(P[j+4]<<8|P[j+3]),Q.Td=P[j+4]>>6,Q.i=16383&(P[j+6]<<8|P[j+5]),Q.Ud=P[j+6]>>6,j+=7,H-=7,g.za=Q.c+15>>4,g.Ub=Q.i+15>>4,_.width=Q.c,_.height=Q.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((W=g.Pa).jb,0,255,W.jb.length),e((W=g.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(K.ub>H)return jn(g,7,"bad partition length");G(W=g.m,P,j,K.ub),j+=K.ub,H-=K.ub,K.Rb&&(Q.Ld=ue(W),Q.Kd=ue(W)),Q=g.Qa;var ee,re=g.Pa;if(e(W!=null),e(Q!=null),Q.Cb=ue(W),Q.Cb){if(Q.Bb=ue(W),ue(W)){for(Q.Fb=ue(W),ee=0;4>ee;++ee)Q.Zb[ee]=ue(W)?$(W,7):0;for(ee=0;4>ee;++ee)Q.Lb[ee]=ue(W)?$(W,6):0}if(Q.Bb)for(ee=0;3>ee;++ee)re.jb[ee]=ue(W)?R(W,8):255}else Q.Bb=0;if(W.Ka)return jn(g,3,"cannot parse segment header");if((Q=g.ed).zd=ue(W),Q.Tb=R(W,6),Q.wb=R(W,3),Q.Pc=ue(W),Q.Pc&&ue(W)){for(re=0;4>re;++re)ue(W)&&(Q.vd[re]=$(W,6));for(re=0;4>re;++re)ue(W)&&(Q.od[re]=$(W,6))}if(g.L=Q.Tb==0?0:Q.zd?1:2,W.Ka)return jn(g,3,"cannot parse filter header");var pe=H;if(H=ee=j,j=ee+pe,Q=pe,g.Xb=(1<<R(g.m,2))-1,pe<3*(re=g.Xb))P=7;else{for(ee+=3*re,Q-=3*re,pe=0;pe<re;++pe){var _e=P[H+0]|P[H+1]<<8|P[H+2]<<16;_e>Q&&(_e=Q),G(g.Jc[+pe],P,ee,_e),ee+=_e,Q-=_e,H+=3}G(g.Jc[+re],P,ee,Q),P=ee<j?0:5}if(P!=0)return jn(g,P,"cannot parse partitions");for(P=R(ee=g.m,7),H=ue(ee)?$(ee,4):0,j=ue(ee)?$(ee,4):0,Q=ue(ee)?$(ee,4):0,re=ue(ee)?$(ee,4):0,ee=ue(ee)?$(ee,4):0,pe=g.Qa,_e=0;4>_e;++_e){if(pe.Cb){var Te=pe.Zb[_e];pe.Fb||(Te+=P)}else{if(0<_e){g.pb[_e]=g.pb[0];continue}Te=P}var ve=g.pb[_e];ve.Sc[0]=cb[Oi(Te+H,127)],ve.Sc[1]=fb[Oi(Te+0,127)],ve.Eb[0]=2*cb[Oi(Te+j,127)],ve.Eb[1]=101581*fb[Oi(Te+Q,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=cb[Oi(Te+re,117)],ve.Qc[1]=fb[Oi(Te+ee,127)],ve.lc=Te+ee}if(!K.Rb)return jn(g,4,"Not a key frame.");for(ue(W),K=g.Pa,P=0;4>P;++P){for(H=0;8>H;++H)for(j=0;3>j;++j)for(Q=0;11>Q;++Q)re=Z(W,I8[P][H][j][Q])?R(W,8):D8[P][H][j][Q],K.Wc[P][H].Yb[j][Q]=re;for(H=0;17>H;++H)K.Xc[P][H]=K.Wc[P][j8[H]]}return g.kc=ue(W),g.kc&&(g.Bd=R(W,8)),g.cb=1}function Vl(g,_,P,j,H,W,K){var Q=_[H].Yb[P];for(P=0;16>H;++H){if(!Z(g,Q[P+0]))return H;for(;!Z(g,Q[P+1]);)if(Q=_[++H].Yb[0],P=0,H==16)return 16;var ee=_[H+1].Yb;if(Z(g,Q[P+2])){var re=g,pe=0;if(Z(re,(Te=Q)[(_e=P)+3]))if(Z(re,Te[_e+6])){for(Q=0,_e=2*(pe=Z(re,Te[_e+8]))+(Te=Z(re,Te[_e+9+pe])),pe=0,Te=P8[_e];Te[Q];++Q)pe+=pe+Z(re,Te[Q]);pe+=3+(8<<_e)}else Z(re,Te[_e+7])?(pe=7+2*Z(re,165),pe+=Z(re,145)):pe=5+Z(re,159);else pe=Z(re,Te[_e+4])?3+Z(re,Te[_e+5]):2;Q=ee[2]}else pe=1,Q=ee[1];ee=K+M8[H],0>(re=g).b&&se(re);var _e,Te=re.b,ve=(_e=re.Ca>>1)-(re.I>>Te)>>31;--re.b,re.Ca+=ve,re.Ca|=1,re.I-=(_e+1&ve)<<Te,W[ee]=((pe^ve)-ve)*j[(0<H)+0]}return 16}function Gl(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Yd(g,_){if(g==null)return 0;if(_==null)return jn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!hc(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var P=ym[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-P>>4,g.zb=_.j-P>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+P>>4,g.Hb=_.va+15+P>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var j=g.ed;for(P=0;4>P;++P){var H;if(g.Qa.Cb){var W=g.Qa.Lb[P];g.Qa.Fb||(W+=j.Tb)}else W=j.Tb;for(H=0;1>=H;++H){var K=g.gd[P][H],Q=W;if(j.Pc&&(Q+=j.vd[0],H&&(Q+=j.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var ee=Q;0<j.wb&&(ee=4<j.wb?ee>>2:ee>>1)>9-j.wb&&(ee=9-j.wb),1>ee&&(ee=1),K.dd=ee,K.tc=2*Q+ee,K.ld=40<=Q?2:15<=Q?1:0}else K.tc=0;K.La=H}}}P=0}else jn(g,6,"Frame setup failed"),P=g.a;if(P=P==0){if(P){g.$c=0,0<g.Aa||(g.Ic=Y8);e:{P=g.Ic,j=4*(ee=g.za);var re=32*ee,pe=ee+1,_e=0<g.L?ee*(0<g.Aa?2:1):0,Te=(g.Aa==2?2:1)*ee;if((K=j+832+(H=3*(16*P+ym[g.L])/2*re)+(W=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=K)P=0;else{if(K>g.Vb){if(g.Vb=0,g.Ec=a(K),g.Fc=0,g.Ec==null){P=jn(g,1,"no memory during frame initialization.");break e}g.Vb=K}K=g.Ec,Q=g.Fc,g.Ac=K,g.Bc=Q,Q+=j,g.Gd=o(re,fc),g.Hd=0,g.rb=o(pe+1,cc),g.sb=1,g.wa=_e?o(_e,Es):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ee),e(!0),g.oc=K,g.pc=Q,Q+=832,g.ya=o(Te,zl),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ee),g.R=16*ee,g.B=8*ee,ee=(re=ym[g.L])*g.R,re=re/2*g.B,g.sa=K,g.ta=Q+ee,g.qa=g.sa,g.ra=g.ta+16*P*g.R+re,g.Ha=g.qa,g.Ia=g.ra+8*P*g.B+re,g.$c=0,Q+=H,g.mb=W?K:null,g.nb=W?Q:null,e(Q+W<=g.Fc+g.Vb),Gl(g),i(g.Ac,g.Bc,0,j),P=1}}if(P){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!cm){for(P=-255;255>=P;++P)cr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Lo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Ah[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Pc[255+P]=0>P?0:255<P?255:P;cm=1}Nc=ko,jo=Qn,dh=Ia,ei=ra,aa=Eo,Vn=an,Ec=Zd,um=Kl,hh=nb,Ql=eh,Zl=tb,Ls=vc,eu=th,kc=rm,tu=nm,Rs=oo,ph=Do,oa=eb,Ra[0]=ao,Ra[1]=Po,Ra[2]=Yy,Ra[3]=Ky,Ra[4]=XA,Ra[5]=mc,Ra[6]=QA,Ra[7]=Jd,Ra[8]=Xy,Ra[9]=Jy,Fs[0]=KA,Fs[1]=Kd,Fs[2]=Mo,Fs[3]=pc,Fs[4]=qr,Fs[5]=Wy,Fs[6]=JA,Ro[0]=Ms,Ro[1]=Ps,Ro[2]=Qy,Ro[3]=Xd,Ro[4]=Yl,Ro[5]=Zy,Ro[6]=Qd,P=1}else P=0}P&&(P=function(ve,Be){for(ve.M=0;ve.M<ve.Va;++ve.M){var Me,Ae=ve.Jc[ve.M&ve.Xb],ge=ve.m,Le=ve;for(Me=0;Me<Le.za;++Me){var qe=ge,$e=Le,tt=$e.Ac,Xe=$e.Bc+4*Me,dt=$e.zc,Qe=$e.ya[$e.aa+Me];if($e.Qa.Bb?Qe.$b=Z(qe,$e.Pa.jb[0])?2+Z(qe,$e.Pa.jb[2]):Z(qe,$e.Pa.jb[1]):Qe.$b=0,$e.kc&&(Qe.Ad=Z(qe,$e.Bd)),Qe.Za=!Z(qe,145)+0,Qe.Za){var Vt=Qe.Ob,Xt=0;for($e=0;4>$e;++$e){var Ut,Rt=dt[0+$e];for(Ut=0;4>Ut;++Ut){Rt=O8[tt[Xe+Ut]][Rt];for(var dn=F_[Z(qe,Rt[0])];0<dn;)dn=F_[2*dn+Z(qe,Rt[dn])];Rt=-dn,tt[Xe+Ut]=Rt}r(Vt,Xt,tt,Xe,4),Xt+=4,dt[0+$e]=Rt}}else Rt=Z(qe,156)?Z(qe,128)?1:3:Z(qe,163)?2:0,Qe.Ob[0]=Rt,i(tt,Xe,Rt,4),i(dt,0,Rt,4);Qe.Dd=Z(qe,142)?Z(qe,114)?Z(qe,183)?1:3:2:0}if(Le.m.Ka)return jn(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Le=Ae,qe=(ge=ve).rb[ge.sb-1],tt=ge.rb[ge.sb+ge.ja],Me=ge.ya[ge.aa+ge.ja],Xe=ge.kc?Me.Ad:0)qe.la=tt.la=0,Me.Za||(qe.Na=tt.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var on,Nt;if(qe=tt,tt=Le,Xe=ge.Pa.Xc,dt=ge.ya[ge.aa+ge.ja],Qe=ge.pb[dt.$b],$e=dt.ad,Vt=0,Xt=ge.rb[ge.sb-1],Rt=Ut=0,i($e,Vt,0,384),dt.Za)var er=0,mi=Xe[3];else{dn=a(16);var tr=qe.Na+Xt.Na;if(tr=mh(tt,Xe[1],tr,Qe.Eb,0,dn,0),qe.Na=Xt.Na=(0<tr)+0,1<tr)Nc(dn,0,$e,Vt);else{var gi=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)$e[Vt+dn]=gi}er=1,mi=Xe[0]}var Qt=15&qe.la,ji=15&Xt.la;for(dn=0;4>dn;++dn){var Li=1&ji;for(gi=Nt=0;4>gi;++gi)Qt=Qt>>1|(Li=(tr=mh(tt,mi,tr=Li+(1&Qt),Qe.Sc,er,$e,Vt))>er)<<7,Nt=Nt<<2|(3<tr?3:1<tr?2:$e[Vt+0]!=0),Vt+=16;Qt>>=4,ji=ji>>1|Li<<7,Ut=(Ut<<8|Nt)>>>0}for(mi=Qt,er=ji>>4,on=0;4>on;on+=2){for(Nt=0,Qt=qe.la>>4+on,ji=Xt.la>>4+on,dn=0;2>dn;++dn){for(Li=1&ji,gi=0;2>gi;++gi)tr=Li+(1&Qt),Qt=Qt>>1|(Li=0<(tr=mh(tt,Xe[2],tr,Qe.Qc,0,$e,Vt)))<<3,Nt=Nt<<2|(3<tr?3:1<tr?2:$e[Vt+0]!=0),Vt+=16;Qt>>=2,ji=ji>>1|Li<<5}Rt|=Nt<<4*on,mi|=Qt<<4<<on,er|=(240&ji)<<on}qe.la=mi,Xt.la=er,dt.Hc=Ut,dt.Gc=Rt,dt.ia=43690&Rt?0:Qe.ia,Xe=!(Ut|Rt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Me.$b][Me.Za],ge.wa[ge.Y+ge.ja].La|=!Xe),Le.Ka)return jn(ve,7,"Premature end-of-file encountered.")}if(Gl(ve),ge=Be,Le=1,Me=(Ae=ve).D,qe=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,Ae.Aa==0)e:{if(Me.M=Ae.M,Me.uc=qe,sh(Ae,Me),Le=1,Me=(Nt=Ae.D).Nb,qe=(Rt=ym[Ae.L])*Ae.R,tt=Rt/2*Ae.B,dn=16*Me*Ae.R,gi=8*Me*Ae.B,Xe=Ae.sa,dt=Ae.ta-qe+dn,Qe=Ae.qa,$e=Ae.ra-tt+gi,Vt=Ae.Ha,Xt=Ae.Ia-tt+gi,ji=(Qt=Nt.M)==0,Ut=Qt>=Ae.Va-1,Ae.Aa==2&&sh(Ae,Nt),Nt.uc)for(Li=(tr=Ae).D.M,e(tr.D.uc),Nt=tr.yb;Nt<tr.Hb;++Nt){er=Nt,mi=Li;var xr=(Dr=(Fn=tr).D).Nb;on=Fn.R;var Dr=Dr.wa[Dr.Y+er],ti=Fn.sa,ca=Fn.ta+16*xr*on+16*er,lo=Dr.dd,wr=Dr.tc;if(wr!=0)if(e(3<=wr),Fn.L==1)0<er&&Rs(ti,ca,on,wr+4),Dr.La&&oa(ti,ca,on,wr),0<mi&&tu(ti,ca,on,wr+4),Dr.La&&ph(ti,ca,on,wr);else{var Fo=Fn.B,nu=Fn.qa,Mc=Fn.ra+8*xr*Fo+8*er,Bs=Fn.Ha,Fn=Fn.Ia+8*xr*Fo+8*er;xr=Dr.ld,0<er&&(um(ti,ca,on,wr+4,lo,xr),Ql(nu,Mc,Bs,Fn,Fo,wr+4,lo,xr)),Dr.La&&(Ls(ti,ca,on,wr,lo,xr),kc(nu,Mc,Bs,Fn,Fo,wr,lo,xr)),0<mi&&(Ec(ti,ca,on,wr+4,lo,xr),hh(nu,Mc,Bs,Fn,Fo,wr+4,lo,xr)),Dr.La&&(Zl(ti,ca,on,wr,lo,xr),eu(nu,Mc,Bs,Fn,Fo,wr,lo,xr))}}if(Ae.ia&&alert("todo:DitherRow"),ge.put!=null){if(Nt=16*Qt,Qt=16*(Qt+1),ji?(ge.y=Ae.sa,ge.O=Ae.ta+dn,ge.f=Ae.qa,ge.N=Ae.ra+gi,ge.ea=Ae.Ha,ge.W=Ae.Ia+gi):(Nt-=Rt,ge.y=Xe,ge.O=dt,ge.f=Qe,ge.N=$e,ge.ea=Vt,ge.W=Xt),Ut||(Qt-=Rt),Qt>ge.o&&(Qt=ge.o),ge.F=null,ge.J=null,Ae.Fa!=null&&0<Ae.Fa.length&&Nt<Qt&&(ge.J=ah(Ae,ge,Nt,Qt-Nt),ge.F=Ae.mb,ge.F==null&&ge.F.length==0)){Le=jn(Ae,3,"Could not decode alpha data.");break e}Nt<ge.j&&(Rt=ge.j-Nt,Nt=ge.j,e(!(1&Rt)),ge.O+=Ae.R*Rt,ge.N+=Ae.B*(Rt>>1),ge.W+=Ae.B*(Rt>>1),ge.F!=null&&(ge.J+=ge.width*Rt)),Nt<Qt&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Nt-ge.j,ge.U=ge.va-ge.v,ge.T=Qt-Nt,Le=ge.put(ge))}Me+1!=Ae.Ic||Ut||(r(Ae.sa,Ae.ta-qe,Xe,dt+16*Ae.R,qe),r(Ae.qa,Ae.ra-tt,Qe,$e+8*Ae.B,tt),r(Ae.Ha,Ae.Ia-tt,Vt,Xt+8*Ae.B,tt))}if(!Le)return jn(ve,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),P&=1}return P?(g.cb=0,P):0}function Di(g,_,P,j,H){H=g[_+P+32*j]+(H>>3),g[_+P+32*j]=-256&H?0>H?0:255:H}function Oe(g,_,P,j,H,W){Di(g,_,0,P,j+H),Di(g,_,1,P,j+W),Di(g,_,2,P,j-W),Di(g,_,3,P,j-H)}function ze(g){return(20091*g>>16)+g}function At(g,_,P,j){var H,W=0,K=a(16);for(H=0;4>H;++H){var Q=g[_+0]+g[_+8],ee=g[_+0]-g[_+8],re=(35468*g[_+4]>>16)-ze(g[_+12]),pe=ze(g[_+4])+(35468*g[_+12]>>16);K[W+0]=Q+pe,K[W+1]=ee+re,K[W+2]=ee-re,K[W+3]=Q-pe,W+=4,_++}for(H=W=0;4>H;++H)Q=(g=K[W+0]+4)+K[W+8],ee=g-K[W+8],re=(35468*K[W+4]>>16)-ze(K[W+12]),Di(P,j,0,0,Q+(pe=ze(K[W+4])+(35468*K[W+12]>>16))),Di(P,j,1,0,ee+re),Di(P,j,2,0,ee-re),Di(P,j,3,0,Q-pe),W++,j+=32}function an(g,_,P,j){var H=g[_+0]+4,W=35468*g[_+4]>>16,K=ze(g[_+4]),Q=35468*g[_+1]>>16;Oe(P,j,0,H+K,g=ze(g[_+1]),Q),Oe(P,j,1,H+W,g,Q),Oe(P,j,2,H-W,g,Q),Oe(P,j,3,H-K,g,Q)}function Qn(g,_,P,j,H){At(g,_,P,j),H&&At(g,_+16,P,j+4)}function Ia(g,_,P,j){jo(g,_+0,P,j,1),jo(g,_+32,P,j+128,1)}function ra(g,_,P,j){var H;for(g=g[_+0]+4,H=0;4>H;++H)for(_=0;4>_;++_)Di(P,j,_,H,g)}function Eo(g,_,P,j){g[_+0]&&ei(g,_+0,P,j),g[_+16]&&ei(g,_+16,P,j+4),g[_+32]&&ei(g,_+32,P,j+128),g[_+48]&&ei(g,_+48,P,j+128+4)}function ko(g,_,P,j){var H,W=a(16);for(H=0;4>H;++H){var K=g[_+0+H]+g[_+12+H],Q=g[_+4+H]+g[_+8+H],ee=g[_+4+H]-g[_+8+H],re=g[_+0+H]-g[_+12+H];W[0+H]=K+Q,W[8+H]=K-Q,W[4+H]=re+ee,W[12+H]=re-ee}for(H=0;4>H;++H)K=(g=W[0+4*H]+3)+W[3+4*H],Q=W[1+4*H]+W[2+4*H],ee=W[1+4*H]-W[2+4*H],re=g-W[3+4*H],P[j+0]=K+Q>>3,P[j+16]=re+ee>>3,P[j+32]=K-Q>>3,P[j+48]=re-ee>>3,j+=64}function hi(g,_,P){var j,H=_-32,W=Ii,K=255-g[H-1];for(j=0;j<P;++j){var Q,ee=W,re=K+g[_-1];for(Q=0;Q<P;++Q)g[_+Q]=ee[re+g[H+Q]];_+=32}}function Po(g,_){hi(g,_,4)}function Ps(g,_){hi(g,_,8)}function Kd(g,_){hi(g,_,16)}function Mo(g,_){var P;for(P=0;16>P;++P)r(g,_+32*P,g,_-32,16)}function pc(g,_){var P;for(P=16;0<P;--P)i(g,_,g[_-1],16),_+=32}function Ac(g,_,P){var j;for(j=0;16>j;++j)i(_,P+32*j,g,16)}function KA(g,_){var P,j=16;for(P=0;16>P;++P)j+=g[_-1+32*P]+g[_+P-32];Ac(j>>5,g,_)}function qr(g,_){var P,j=8;for(P=0;16>P;++P)j+=g[_-1+32*P];Ac(j>>4,g,_)}function Wy(g,_){var P,j=8;for(P=0;16>P;++P)j+=g[_+P-32];Ac(j>>4,g,_)}function JA(g,_){Ac(128,g,_)}function xt(g,_,P){return g+2*_+P+2>>2}function Yy(g,_){var P,j=_-32;for(j=new Uint8Array([xt(g[j-1],g[j+0],g[j+1]),xt(g[j+0],g[j+1],g[j+2]),xt(g[j+1],g[j+2],g[j+3]),xt(g[j+2],g[j+3],g[j+4])]),P=0;4>P;++P)r(g,_+32*P,j,0,j.length)}function Ky(g,_){var P=g[_-1],j=g[_-1+32],H=g[_-1+64],W=g[_-1+96];he(g,_+0,16843009*xt(g[_-1-32],P,j)),he(g,_+32,16843009*xt(P,j,H)),he(g,_+64,16843009*xt(j,H,W)),he(g,_+96,16843009*xt(H,W,W))}function ao(g,_){var P,j=4;for(P=0;4>P;++P)j+=g[_+P-32]+g[_-1+32*P];for(j>>=3,P=0;4>P;++P)i(g,_+32*P,j,4)}function XA(g,_){var P=g[_-1+0],j=g[_-1+32],H=g[_-1+64],W=g[_-1-32],K=g[_+0-32],Q=g[_+1-32],ee=g[_+2-32],re=g[_+3-32];g[_+0+96]=xt(j,H,g[_-1+96]),g[_+1+96]=g[_+0+64]=xt(P,j,H),g[_+2+96]=g[_+1+64]=g[_+0+32]=xt(W,P,j),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=xt(K,W,P),g[_+3+64]=g[_+2+32]=g[_+1+0]=xt(Q,K,W),g[_+3+32]=g[_+2+0]=xt(ee,Q,K),g[_+3+0]=xt(re,ee,Q)}function QA(g,_){var P=g[_+1-32],j=g[_+2-32],H=g[_+3-32],W=g[_+4-32],K=g[_+5-32],Q=g[_+6-32],ee=g[_+7-32];g[_+0+0]=xt(g[_+0-32],P,j),g[_+1+0]=g[_+0+32]=xt(P,j,H),g[_+2+0]=g[_+1+32]=g[_+0+64]=xt(j,H,W),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=xt(H,W,K),g[_+3+32]=g[_+2+64]=g[_+1+96]=xt(W,K,Q),g[_+3+64]=g[_+2+96]=xt(K,Q,ee),g[_+3+96]=xt(Q,ee,ee)}function mc(g,_){var P=g[_-1+0],j=g[_-1+32],H=g[_-1+64],W=g[_-1-32],K=g[_+0-32],Q=g[_+1-32],ee=g[_+2-32],re=g[_+3-32];g[_+0+0]=g[_+1+64]=W+K+1>>1,g[_+1+0]=g[_+2+64]=K+Q+1>>1,g[_+2+0]=g[_+3+64]=Q+ee+1>>1,g[_+3+0]=ee+re+1>>1,g[_+0+96]=xt(H,j,P),g[_+0+64]=xt(j,P,W),g[_+0+32]=g[_+1+96]=xt(P,W,K),g[_+1+32]=g[_+2+96]=xt(W,K,Q),g[_+2+32]=g[_+3+96]=xt(K,Q,ee),g[_+3+32]=xt(Q,ee,re)}function Jd(g,_){var P=g[_+0-32],j=g[_+1-32],H=g[_+2-32],W=g[_+3-32],K=g[_+4-32],Q=g[_+5-32],ee=g[_+6-32],re=g[_+7-32];g[_+0+0]=P+j+1>>1,g[_+1+0]=g[_+0+64]=j+H+1>>1,g[_+2+0]=g[_+1+64]=H+W+1>>1,g[_+3+0]=g[_+2+64]=W+K+1>>1,g[_+0+32]=xt(P,j,H),g[_+1+32]=g[_+0+96]=xt(j,H,W),g[_+2+32]=g[_+1+96]=xt(H,W,K),g[_+3+32]=g[_+2+96]=xt(W,K,Q),g[_+3+64]=xt(K,Q,ee),g[_+3+96]=xt(Q,ee,re)}function Jy(g,_){var P=g[_-1+0],j=g[_-1+32],H=g[_-1+64],W=g[_-1+96];g[_+0+0]=P+j+1>>1,g[_+2+0]=g[_+0+32]=j+H+1>>1,g[_+2+32]=g[_+0+64]=H+W+1>>1,g[_+1+0]=xt(P,j,H),g[_+3+0]=g[_+1+32]=xt(j,H,W),g[_+3+32]=g[_+1+64]=xt(H,W,W),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=W}function Xy(g,_){var P=g[_-1+0],j=g[_-1+32],H=g[_-1+64],W=g[_-1+96],K=g[_-1-32],Q=g[_+0-32],ee=g[_+1-32],re=g[_+2-32];g[_+0+0]=g[_+2+32]=P+K+1>>1,g[_+0+32]=g[_+2+64]=j+P+1>>1,g[_+0+64]=g[_+2+96]=H+j+1>>1,g[_+0+96]=W+H+1>>1,g[_+3+0]=xt(Q,ee,re),g[_+2+0]=xt(K,Q,ee),g[_+1+0]=g[_+3+32]=xt(P,K,Q),g[_+1+32]=g[_+3+64]=xt(j,P,K),g[_+1+64]=g[_+3+96]=xt(H,j,P),g[_+1+96]=xt(W,H,j)}function Qy(g,_){var P;for(P=0;8>P;++P)r(g,_+32*P,g,_-32,8)}function Xd(g,_){var P;for(P=0;8>P;++P)i(g,_,g[_-1],8),_+=32}function Wl(g,_,P){var j;for(j=0;8>j;++j)i(_,P+32*j,g,8)}function Ms(g,_){var P,j=8;for(P=0;8>P;++P)j+=g[_+P-32]+g[_-1+32*P];Wl(j>>4,g,_)}function Zy(g,_){var P,j=4;for(P=0;8>P;++P)j+=g[_+P-32];Wl(j>>3,g,_)}function Yl(g,_){var P,j=4;for(P=0;8>P;++P)j+=g[_-1+32*P];Wl(j>>3,g,_)}function Qd(g,_){Wl(128,g,_)}function gc(g,_,P){var j=g[_-P],H=g[_+0],W=3*(H-j)+ab[1020+g[_-2*P]-g[_+P]],K=fm[112+(W+4>>3)];g[_-P]=Ii[255+j+fm[112+(W+3>>3)]],g[_+0]=Ii[255+H-K]}function ZA(g,_,P,j){var H=g[_+0],W=g[_+P];return la[255+g[_-2*P]-g[_-P]]>j||la[255+W-H]>j}function em(g,_,P,j){return 4*la[255+g[_-P]-g[_+0]]+la[255+g[_-2*P]-g[_+P]]<=j}function tm(g,_,P,j,H){var W=g[_-3*P],K=g[_-2*P],Q=g[_-P],ee=g[_+0],re=g[_+P],pe=g[_+2*P],_e=g[_+3*P];return 4*la[255+Q-ee]+la[255+K-re]>j?0:la[255+g[_-4*P]-W]<=H&&la[255+W-K]<=H&&la[255+K-Q]<=H&&la[255+_e-pe]<=H&&la[255+pe-re]<=H&&la[255+re-ee]<=H}function nm(g,_,P,j){var H=2*j+1;for(j=0;16>j;++j)em(g,_+j,P,H)&&gc(g,_+j,P)}function oo(g,_,P,j){var H=2*j+1;for(j=0;16>j;++j)em(g,_+j*P,1,H)&&gc(g,_+j*P,1)}function Do(g,_,P,j){var H;for(H=3;0<H;--H)nm(g,_+=4*P,P,j)}function eb(g,_,P,j){var H;for(H=3;0<H;--H)oo(g,_+=4,P,j)}function Ds(g,_,P,j,H,W,K,Q){for(W=2*W+1;0<H--;){if(tm(g,_,P,W,K))if(ZA(g,_,P,Q))gc(g,_,P);else{var ee=g,re=_,pe=P,_e=ee[re-2*pe],Te=ee[re-pe],ve=ee[re+0],Be=ee[re+pe],Me=ee[re+2*pe],Ae=27*(Le=ab[1020+3*(ve-Te)+ab[1020+_e-Be]])+63>>7,ge=18*Le+63>>7,Le=9*Le+63>>7;ee[re-3*pe]=Ii[255+ee[re-3*pe]+Le],ee[re-2*pe]=Ii[255+_e+ge],ee[re-pe]=Ii[255+Te+Ae],ee[re+0]=Ii[255+ve-Ae],ee[re+pe]=Ii[255+Be-ge],ee[re+2*pe]=Ii[255+Me-Le]}_+=j}}function ja(g,_,P,j,H,W,K,Q){for(W=2*W+1;0<H--;){if(tm(g,_,P,W,K))if(ZA(g,_,P,Q))gc(g,_,P);else{var ee=g,re=_,pe=P,_e=ee[re-pe],Te=ee[re+0],ve=ee[re+pe],Be=fm[112+((Me=3*(Te-_e))+4>>3)],Me=fm[112+(Me+3>>3)],Ae=Be+1>>1;ee[re-2*pe]=Ii[255+ee[re-2*pe]+Ae],ee[re-pe]=Ii[255+_e+Me],ee[re+0]=Ii[255+Te-Be],ee[re+pe]=Ii[255+ve-Ae]}_+=j}}function Zd(g,_,P,j,H,W){Ds(g,_,P,1,16,j,H,W)}function Kl(g,_,P,j,H,W){Ds(g,_,1,P,16,j,H,W)}function tb(g,_,P,j,H,W){var K;for(K=3;0<K;--K)ja(g,_+=4*P,P,1,16,j,H,W)}function vc(g,_,P,j,H,W){var K;for(K=3;0<K;--K)ja(g,_+=4,1,P,16,j,H,W)}function nb(g,_,P,j,H,W,K,Q){Ds(g,_,H,1,8,W,K,Q),Ds(P,j,H,1,8,W,K,Q)}function eh(g,_,P,j,H,W,K,Q){Ds(g,_,1,H,8,W,K,Q),Ds(P,j,1,H,8,W,K,Q)}function th(g,_,P,j,H,W,K,Q){ja(g,_+4*H,H,1,8,W,K,Q),ja(P,j+4*H,H,1,8,W,K,Q)}function rm(g,_,P,j,H,W,K,Q){ja(g,_+4,1,H,8,W,K,Q),ja(P,j+4,1,H,8,W,K,Q)}function yc(){this.ba=new ur,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function im(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new M}function rb(){this.xb=this.a=0,this.l=new ks,this.ca=new ur,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new im,this.ab=0,this.gc=o(4,rh),this.Oc=0}function bc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ks,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jl(g,_,P,j,H,W,K){for(g=g==null?0:g[_+0],_=0;_<K;++_)H[W+_]=g+P[j+_]&255,g=H[W+_]}function ih(g,_,P,j,H,W,K){var Q;if(g==null)Jl(null,null,P,j,H,W,K);else for(Q=0;Q<K;++Q)H[W+Q]=g[_+Q]+P[j+Q]&255}function Os(g,_,P,j,H,W,K){if(g==null)Jl(null,null,P,j,H,W,K);else{var Q,ee=g[_+0],re=ee,pe=ee;for(Q=0;Q<K;++Q)re=pe+(ee=g[_+Q])-re,pe=P[j+Q]+(-256&re?0>re?0:255:re)&255,re=ee,H[W+Q]=pe}}function ah(g,_,P,j){var H=_.width,W=_.o;if(e(g!=null&&_!=null),0>P||0>=j||P+j>W)return null;if(!g.Cc){if(g.ga==null){var K;if(g.ga=new bc,(K=g.ga==null)||(K=_.width*_.o,e(g.Gb.length==0),g.Gb=a(K),g.Uc=0,g.Gb==null?K=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,K=1),K=!K),!K){K=g.ga;var Q=g.Fa,ee=g.P,re=g.qc,pe=g.mb,_e=g.nb,Te=ee+1,ve=re-1,Be=K.l;if(e(Q!=null&&pe!=null&&_!=null),$s[0]=null,$s[1]=Jl,$s[2]=ih,$s[3]=Os,K.ca=pe,K.tb=_e,K.c=_.width,K.i=_.height,e(0<K.c&&0<K.i),1>=re)_=0;else if(K.$a=Q[ee+0]>>0&3,K.Z=Q[ee+0]>>2&3,K.Lc=Q[ee+0]>>4&3,ee=Q[ee+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ee)_=0;else if(Be.put=Zi,Be.ac=Hn,Be.bc=ea,Be.ma=K,Be.width=_.width,Be.height=_.height,Be.Da=_.Da,Be.v=_.v,Be.va=_.va,Be.j=_.j,Be.o=_.o,K.$a)e:{e(K.$a==1),_=di();t:for(;;){if(_==null){_=0;break e}if(e(K!=null),K.mc=_,_.c=K.c,_.i=K.i,_.l=K.l,_.l.ma=K,_.l.width=K.c,_.l.height=K.i,_.a=0,V(_.m,Q,Te,ve),!na(K.c,K.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Oa(_.s)?(K.ic=1,Q=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(Q),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(K.ic=0,_=io(_,K.c)),!_))break t;_=1;break e}K.mc=null,_=0}else _=ve>=K.c*K.i;K=!_}if(K)return null;g.ga.Lc!=1?g.Ga=0:j=W-P}e(g.ga!=null),e(P+j<=W);e:{if(_=(Q=g.ga).c,W=Q.l.o,Q.$a==0){if(Te=g.rc,ve=g.Vc,Be=g.Fa,ee=g.P+1+P*_,re=g.mb,pe=g.nb+P*_,e(ee<=g.P+g.qc),Q.Z!=0)for(e($s[Q.Z]!=null),K=0;K<j;++K)$s[Q.Z](Te,ve,Be,ee,re,pe,_),Te=re,ve=pe,pe+=_,ee+=_;else for(K=0;K<j;++K)r(re,pe,Be,ee,_),Te=re,ve=pe,pe+=_,ee+=_;g.rc=Te,g.Vc=ve}else{if(e(Q.mc!=null),_=P+j,e((K=Q.mc)!=null),e(_<=K.i),K.C>=_)_=1;else if(Q.ic||we(),Q.ic){Q=K.V,Te=K.Ba,ve=K.c;var Me=K.i,Ae=(Be=1,ee=K.$/ve,re=K.$%ve,pe=K.m,_e=K.s,K.$),ge=ve*Me,Le=ve*_,qe=_e.wc,$e=Ae<Le?In(_e,re,ee):null;e(Ae<=ge),e(_<=Me),e(Oa(_e));t:for(;;){for(;!pe.h&&Ae<Le;){if(re&qe||($e=In(_e,re,ee)),e($e!=null),X(pe),256>(Me=$r($e.G[0],$e.H[0],pe)))Q[Te+Ae]=Me,++Ae,++re>=ve&&(re=0,++ee<=_&&!(ee%16)&&ci(K,ee));else{if(!(280>Me)){Be=0;break t}Me=Pi(Me-256,pe);var tt,Xe=$r($e.G[4],$e.H[4],pe);if(X(pe),!(Ae>=(Xe=Mi(ve,Xe=Pi(Xe,pe)))&&ge-Ae>=Me)){Be=0;break t}for(tt=0;tt<Me;++tt)Q[Te+Ae+tt]=Q[Te+Ae+tt-Xe];for(Ae+=Me,re+=Me;re>=ve;)re-=ve,++ee<=_&&!(ee%16)&&ci(K,ee);Ae<Le&&re&qe&&($e=In(_e,re,ee))}e(pe.h==J(pe))}ci(K,ee>_?_:ee);break t}!Be||pe.h&&Ae<ge?(Be=0,K.a=pe.h?5:3):K.$=Ae,_=Be}else _=fi(K,K.V,K.Ba,K.c,K.i,_,_s);if(!_){j=0;break e}}P+j>=W&&(g.Cc=1),j=1}if(!j)return null;if(g.Cc&&((j=g.ga)!=null&&(j.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*H}function N(g,_,P,j,H,W){for(;0<H--;){var K,Q=g,ee=_+(P?1:0),re=g,pe=_+(P?0:3);for(K=0;K<j;++K){var _e=re[pe+4*K];_e!=255&&(_e*=32897,Q[ee+4*K+0]=Q[ee+4*K+0]*_e>>23,Q[ee+4*K+1]=Q[ee+4*K+1]*_e>>23,Q[ee+4*K+2]=Q[ee+4*K+2]*_e>>23)}_+=W}}function z(g,_,P,j,H){for(;0<j--;){var W;for(W=0;W<P;++W){var K=g[_+2*W+0],Q=15&(re=g[_+2*W+1]),ee=4369*Q,re=(240&re|re>>4)*ee>>16;g[_+2*W+0]=(240&K|K>>4)*ee>>16&240|(15&K|K<<4)*ee>>16>>4&15,g[_+2*W+1]=240&re|Q}_+=H}}function oe(g,_,P,j,H,W,K,Q){var ee,re,pe=255;for(re=0;re<H;++re){for(ee=0;ee<j;++ee){var _e=g[_+ee];W[K+4*ee]=_e,pe&=_e}_+=P,K+=Q}return pe!=255}function fe(g,_,P,j,H){var W;for(W=0;W<H;++W)P[j+W]=g[_+W]>>8}function we(){sa=N,gn=z,vn=oe,Gn=fe}function De(g,_,P){D[g]=function(j,H,W,K,Q,ee,re,pe,_e,Te,ve,Be,Me,Ae,ge,Le,qe){var $e,tt=qe-1>>1,Xe=Q[ee+0]|re[pe+0]<<16,dt=_e[Te+0]|ve[Be+0]<<16;e(j!=null);var Qe=3*Xe+dt+131074>>2;for(_(j[H+0],255&Qe,Qe>>16,Me,Ae),W!=null&&(Qe=3*dt+Xe+131074>>2,_(W[K+0],255&Qe,Qe>>16,ge,Le)),$e=1;$e<=tt;++$e){var Vt=Q[ee+$e]|re[pe+$e]<<16,Xt=_e[Te+$e]|ve[Be+$e]<<16,Ut=Xe+Vt+dt+Xt+524296,Rt=Ut+2*(Vt+dt)>>3;Qe=Rt+Xe>>1,Xe=(Ut=Ut+2*(Xe+Xt)>>3)+Vt>>1,_(j[H+2*$e-1],255&Qe,Qe>>16,Me,Ae+(2*$e-1)*P),_(j[H+2*$e-0],255&Xe,Xe>>16,Me,Ae+(2*$e-0)*P),W!=null&&(Qe=Ut+dt>>1,Xe=Rt+Xt>>1,_(W[K+2*$e-1],255&Qe,Qe>>16,ge,Le+(2*$e-1)*P),_(W[K+2*$e+0],255&Xe,Xe>>16,ge,Le+(2*$e+0)*P)),Xe=Vt,dt=Xt}1&qe||(Qe=3*Xe+dt+131074>>2,_(j[H+qe-1],255&Qe,Qe>>16,Me,Ae+(qe-1)*P),W!=null&&(Qe=3*dt+Xe+131074>>2,_(W[K+qe-1],255&Qe,Qe>>16,ge,Le+(qe-1)*P)))}}function He(){ua[dm]=R8,ua[hm]=B_,ua[j_]=F8,ua[pm]=U_,ua[Am]=q_,ua[ob]=H_,ua[L_]=$8,ua[sb]=B_,ua[lb]=U_,ua[mm]=q_,ua[ub]=H_}function Ze(g){return g&-16384?0>g?0:255:g>>B8}function lt(g,_){return Ze((19077*g>>8)+(26149*_>>8)-14234)}function _t(g,_,P){return Ze((19077*g>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function wt(g,_){return Ze((19077*g>>8)+(33050*_>>8)-17685)}function Bt(g,_,P,j,H){j[H+0]=lt(g,P),j[H+1]=_t(g,_,P),j[H+2]=wt(g,_)}function Ln(g,_,P,j,H){j[H+0]=wt(g,_),j[H+1]=_t(g,_,P),j[H+2]=lt(g,P)}function Rn(g,_,P,j,H){var W=_t(g,_,P);_=W<<3&224|wt(g,_)>>3,j[H+0]=248&lt(g,P)|W>>5,j[H+1]=_}function Zn(g,_,P,j,H){var W=240&wt(g,_)|15;j[H+0]=240&lt(g,P)|_t(g,_,P)>>4,j[H+1]=W}function Hr(g,_,P,j,H){j[H+0]=255,Bt(g,_,P,j,H+1)}function br(g,_,P,j,H){Ln(g,_,P,j,H),j[H+3]=255}function La(g,_,P,j,H){Bt(g,_,P,j,H),j[H+3]=255}function Oi(g,_){return 0>g?0:g>_?_:g}function so(g,_,P){D[g]=function(j,H,W,K,Q,ee,re,pe,_e){for(var Te=pe+(-2&_e)*P;pe!=Te;)_(j[H+0],W[K+0],Q[ee+0],re,pe),_(j[H+1],W[K+0],Q[ee+0],re,pe+P),H+=2,++K,++ee,pe+=2*P;1&_e&&_(j[H+0],W[K+0],Q[ee+0],re,pe)}}function am(g,_,P){return P==0?g==0?_==0?6:5:_==0?4:0:P}function oh(g,_,P,j,H){switch(g>>>30){case 3:jo(_,P,j,H,0);break;case 2:Vn(_,P,j,H);break;case 1:ei(_,P,j,H)}}function sh(g,_){var P,j,H=_.M,W=_.Nb,K=g.oc,Q=g.pc+40,ee=g.oc,re=g.pc+584,pe=g.oc,_e=g.pc+600;for(P=0;16>P;++P)K[Q+32*P-1]=129;for(P=0;8>P;++P)ee[re+32*P-1]=129,pe[_e+32*P-1]=129;for(0<H?K[Q-1-32]=ee[re-1-32]=pe[_e-1-32]=129:(i(K,Q-32-1,127,21),i(ee,re-32-1,127,9),i(pe,_e-32-1,127,9)),j=0;j<g.za;++j){var Te=_.ya[_.aa+j];if(0<j){for(P=-1;16>P;++P)r(K,Q+32*P-4,K,Q+32*P+12,4);for(P=-1;8>P;++P)r(ee,re+32*P-4,ee,re+32*P+4,4),r(pe,_e+32*P-4,pe,_e+32*P+4,4)}var ve=g.Gd,Be=g.Hd+j,Me=Te.ad,Ae=Te.Hc;if(0<H&&(r(K,Q-32,ve[Be].y,0,16),r(ee,re-32,ve[Be].f,0,8),r(pe,_e-32,ve[Be].ea,0,8)),Te.Za){var ge=K,Le=Q-32+16;for(0<H&&(j>=g.za-1?i(ge,Le,ve[Be].y[15],4):r(ge,Le,ve[Be+1].y,0,4)),P=0;4>P;P++)ge[Le+128+P]=ge[Le+256+P]=ge[Le+384+P]=ge[Le+0+P];for(P=0;16>P;++P,Ae<<=2)ge=K,Le=Q+V_[P],Ra[Te.Ob[P]](ge,Le),oh(Ae,Me,16*+P,ge,Le)}else if(ge=am(j,H,Te.Ob[0]),Fs[ge](K,Q),Ae!=0)for(P=0;16>P;++P,Ae<<=2)oh(Ae,Me,16*+P,K,Q+V_[P]);for(P=Te.Gc,ge=am(j,H,Te.Dd),Ro[ge](ee,re),Ro[ge](pe,_e),Ae=Me,ge=ee,Le=re,255&(Te=P>>0)&&(170&Te?dh(Ae,256,ge,Le):aa(Ae,256,ge,Le)),Te=pe,Ae=_e,255&(P>>=8)&&(170&P?dh(Me,320,Te,Ae):aa(Me,320,Te,Ae)),H<g.Ub-1&&(r(ve[Be].y,0,K,Q+480,16),r(ve[Be].f,0,ee,re+224,8),r(ve[Be].ea,0,pe,_e+224,8)),P=8*W*g.B,ve=g.sa,Be=g.ta+16*j+16*W*g.R,Me=g.qa,Te=g.ra+8*j+P,Ae=g.Ha,ge=g.Ia+8*j+P,P=0;16>P;++P)r(ve,Be+P*g.R,K,Q+32*P,16);for(P=0;8>P;++P)r(Me,Te+P*g.B,ee,re+32*P,8),r(Ae,ge+P*g.B,pe,_e+32*P,8)}}function xc(g,_,P,j,H,W,K,Q,ee){var re=[0],pe=[0],_e=0,Te=ee!=null?ee.kd:0,ve=ee??new nh;if(g==null||12>P)return 7;ve.data=g,ve.w=_,ve.ha=P,_=[_],P=[P],ve.gb=[ve.gb];e:{var Be=_,Me=P,Ae=ve.gb;if(e(g!=null),e(Me!=null),e(Ae!=null),Ae[0]=0,12<=Me[0]&&!n(g,Be[0],"RIFF")){if(n(g,Be[0]+8,"WEBP")){Ae=3;break e}var ge=je(g,Be[0]+4);if(12>ge||4294967286<ge){Ae=3;break e}if(Te&&ge>Me[0]-8){Ae=7;break e}Ae[0]=ge,Be[0]+=12,Me[0]-=12}Ae=0}if(Ae!=0)return Ae;for(ge=0<ve.gb[0],P=P[0];;){e:{var Le=g;Me=_,Ae=P;var qe=re,$e=pe,tt=Be=[0];if((Qe=_e=[_e])[0]=0,8>Ae[0])Ae=7;else{if(!n(Le,Me[0],"VP8X")){if(je(Le,Me[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var Xe=je(Le,Me[0]+8),dt=1+ce(Le,Me[0]+12);if(2147483648<=dt*(Le=1+ce(Le,Me[0]+15))){Ae=3;break e}tt!=null&&(tt[0]=Xe),qe!=null&&(qe[0]=dt),$e!=null&&($e[0]=Le),Me[0]+=18,Ae[0]-=18,Qe[0]=1}Ae=0}}if(_e=_e[0],Be=Be[0],Ae!=0)return Ae;if(Me=!!(2&Be),!ge&&_e)return 3;if(W!=null&&(W[0]=!!(16&Be)),K!=null&&(K[0]=Me),Q!=null&&(Q[0]=0),K=re[0],Be=pe[0],_e&&Me&&ee==null){Ae=0;break}if(4>P){Ae=7;break}if(ge&&_e||!ge&&!_e&&!n(g,_[0],"ALPH")){P=[P],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{Xe=g,Ae=_,ge=P;var Qe=ve.gb;qe=ve.na,$e=ve.P,tt=ve.Sa,dt=22,e(Xe!=null),e(ge!=null),Le=Ae[0];var Vt=ge[0];for(e(qe!=null),e(tt!=null),qe[0]=null,$e[0]=null,tt[0]=0;;){if(Ae[0]=Le,ge[0]=Vt,8>Vt){Ae=7;break e}var Xt=je(Xe,Le+4);if(4294967286<Xt){Ae=3;break e}var Ut=8+Xt+1&-2;if(dt+=Ut,0<Qe&&dt>Qe){Ae=3;break e}if(!n(Xe,Le,"VP8 ")||!n(Xe,Le,"VP8L")){Ae=0;break e}if(Vt[0]<Ut){Ae=7;break e}n(Xe,Le,"ALPH")||(qe[0]=Xe,$e[0]=Le+8,tt[0]=Xt),Le+=Ut,Vt-=Ut}}if(P=P[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ae!=0)break}P=[P],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(Qe=g,Ae=_,ge=P,qe=ve.gb[0],$e=ve.Ja,tt=ve.xa,Xe=Ae[0],Le=!n(Qe,Xe,"VP8 "),dt=!n(Qe,Xe,"VP8L"),e(Qe!=null),e(ge!=null),e($e!=null),e(tt!=null),8>ge[0])Ae=7;else{if(Le||dt){if(Qe=je(Qe,Xe+4),12<=qe&&Qe>qe-12){Ae=3;break e}if(Te&&Qe>ge[0]-8){Ae=7;break e}$e[0]=Qe,Ae[0]+=8,ge[0]-=8,tt[0]=dt}else tt[0]=5<=ge[0]&&Qe[Xe+0]==47&&!(Qe[Xe+4]>>5),$e[0]=ge[0];Ae=0}if(P=P[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],_=_[0],Ae!=0)break;if(4294967286<ve.Ja)return 3;if(Q==null||Me||(Q[0]=ve.xa?2:1),K=[K],Be=[Be],ve.xa){if(5>P){Ae=7;break}Q=K,Te=Be,Me=W,g==null||5>P?g=0:5<=P&&g[_+0]==47&&!(g[_+4]>>5)?(ge=[0],Qe=[0],qe=[0],V($e=new L,g,_,P),ft($e,ge,Qe,qe)?(Q!=null&&(Q[0]=ge[0]),Te!=null&&(Te[0]=Qe[0]),Me!=null&&(Me[0]=qe[0]),g=1):g=0):g=0}else{if(10>P){Ae=7;break}Q=Be,g==null||10>P||!dc(g,_+3,P-3)?g=0:(Te=g[_+0]|g[_+1]<<8|g[_+2]<<16,Me=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=ve.Ja||!Me||!g?g=0:(K&&(K[0]=Me),Q&&(Q[0]=g),g=1))}if(!g||(K=K[0],Be=Be[0],_e&&(re[0]!=K||pe[0]!=Be)))return 3;ee!=null&&(ee[0]=ve,ee.offset=_-ee.w,e(4294967286>_-ee.w),e(ee.offset==ee.ha-P));break}return Ae==0||Ae==7&&_e&&ee==null?(W!=null&&(W[0]|=ve.na!=null&&0<ve.na.length),j!=null&&(j[0]=K),H!=null&&(H[0]=Be),0):Ae}function lh(g,_,P){var j=_.width,H=_.height,W=0,K=0,Q=j,ee=H;if(_.Da=g!=null&&0<g.Da,_.Da&&(Q=g.cd,ee=g.bd,W=g.v,K=g.j,11>P||(W&=-2,K&=-2),0>W||0>K||0>=Q||0>=ee||W+Q>j||K+ee>H))return 0;if(_.v=W,_.j=K,_.va=W+Q,_.o=K+ee,_.U=Q,_.T=ee,_.da=g!=null&&0<g.da,_.da){if(!Ne(Q,ee,P=[g.ib],W=[g.hb]))return 0;_.ib=P[0],_.hb=W[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*j/4&&_.hb<3*H/4,_.Kb=0),1}function uh(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function wc(g,_,P,j){if(j==null||0>=g||0>=_)return 2;if(P!=null){if(P.Da){var H=P.cd,W=P.bd,K=-2&P.v,Q=-2&P.j;if(0>K||0>Q||0>=H||0>=W||K+H>g||Q+W>_)return 2;g=H,_=W}if(P.da){if(!Ne(g,_,H=[P.ib],W=[P.hb]))return 2;g=H[0],_=W[0]}}j.width=g,j.height=_;e:{var ee=j.width,re=j.height;if(g=j.S,0>=ee||0>=re||!(g>=dm&&13>g))g=2;else{if(0>=j.Rd&&j.sd==null){K=W=H=_=0;var pe=(Q=ee*G_[g])*re;if(11>g||(W=(re+1)/2*(_=(ee+1)/2),g==12&&(K=(H=ee)*re)),(re=a(pe+2*W+K))==null){g=1;break e}j.sd=re,11>g?((ee=j.f.RGBA).eb=re,ee.fb=0,ee.A=Q,ee.size=pe):((ee=j.f.kb).y=re,ee.O=0,ee.fa=Q,ee.Fd=pe,ee.f=re,ee.N=0+pe,ee.Ab=_,ee.Cd=W,ee.ea=re,ee.W=0+pe+W,ee.Db=_,ee.Ed=W,g==12&&(ee.F=re,ee.J=0+pe+2*W),ee.Tc=K,ee.lb=H)}if(_=1,H=j.S,W=j.width,K=j.height,H>=dm&&13>H)if(11>H)g=j.f.RGBA,_&=(Q=Math.abs(g.A))*(K-1)+W<=g.size,_&=Q>=W*G_[H],_&=g.eb!=null;else{g=j.f.kb,Q=(W+1)/2,pe=(K+1)/2,ee=Math.abs(g.fa),re=Math.abs(g.Ab);var _e=Math.abs(g.Db),Te=Math.abs(g.lb),ve=Te*(K-1)+W;_&=ee*(K-1)+W<=g.Fd,_&=re*(pe-1)+Q<=g.Cd,_=(_&=_e*(pe-1)+Q<=g.Ed)&ee>=W&re>=Q&_e>=Q,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,H==12&&(_&=Te>=W,_&=ve<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||P!=null&&P.fd&&(g=uh(j)),g}var Mr=64,Sc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_c=24,Tc=32,ch=8,pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(g){return g},D.Predictor2=function(g,_,P){return _[P+0]},D.Predictor3=function(g,_,P){return _[P+1]},D.Predictor4=function(g,_,P){return _[P-1]},D.Predictor5=function(g,_,P){return ke(ke(g,_[P+1]),_[P+0])},D.Predictor6=function(g,_,P){return ke(g,_[P-1])},D.Predictor7=function(g,_,P){return ke(g,_[P+0])},D.Predictor8=function(g,_,P){return ke(_[P-1],_[P+0])},D.Predictor9=function(g,_,P){return ke(_[P+0],_[P+1])},D.Predictor10=function(g,_,P){return ke(ke(g,_[P-1]),ke(_[P+0],_[P+1]))},D.Predictor11=function(g,_,P){var j=_[P+0];return 0>=We(j>>24&255,g>>24&255,(_=_[P-1])>>24&255)+We(j>>16&255,g>>16&255,_>>16&255)+We(j>>8&255,g>>8&255,_>>8&255)+We(255&j,255&g,255&_)?j:g},D.Predictor12=function(g,_,P){var j=_[P+0];return(ye((g>>24&255)+(j>>24&255)-((_=_[P-1])>>24&255))<<24|ye((g>>16&255)+(j>>16&255)-(_>>16&255))<<16|ye((g>>8&255)+(j>>8&255)-(_>>8&255))<<8|ye((255&g)+(255&j)-(255&_)))>>>0},D.Predictor13=function(g,_,P){var j=_[P-1];return(Ge((g=ke(g,_[P+0]))>>24&255,j>>24&255)<<24|Ge(g>>16&255,j>>16&255)<<16|Ge(g>>8&255,j>>8&255)<<8|Ge(g>>0&255,j>>0&255))>>>0};var ib=D.PredictorAdd0;D.PredictorAdd1=ot,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var fh=D.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var om,ia=D.ColorIndexInverseTransform,Cc=D.MapARGB,sm=D.VP8LColorIndexInverseTransformAlpha,lm=D.MapAlpha,Is=D.VP8LPredictorsAdd=[];Is.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Xl,Ai,Zr,js,Oo,Io,Nc,jo,Vn,dh,ei,aa,Ec,um,hh,Ql,Zl,Ls,eu,kc,tu,Rs,ph,oa,sa,gn,vn,Gn,cr=a(511),Lo=a(2041),Ah=a(225),Pc=a(767),cm=0,ab=Lo,fm=Ah,Ii=Pc,la=cr,dm=0,hm=1,j_=2,pm=3,Am=4,ob=5,L_=6,sb=7,lb=8,mm=9,ub=10,S8=[2,3,7],_8=[3,3,11],R_=[280,256,256,256,40],T8=[0,1,1,1,0],C8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],N8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],E8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],k8=8,cb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mh=null,P8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],M8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],F_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],D8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],O8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],I8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],j8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fs=[],Ra=[],Ro=[],L8=1,$_=2,$s=[],ua=[];De("UpsampleRgbLinePair",Bt,3),De("UpsampleBgrLinePair",Ln,3),De("UpsampleRgbaLinePair",La,4),De("UpsampleBgraLinePair",br,4),De("UpsampleArgbLinePair",Hr,4),De("UpsampleRgba4444LinePair",Zn,2),De("UpsampleRgb565LinePair",Rn,2);var R8=D.UpsampleRgbLinePair,F8=D.UpsampleBgrLinePair,B_=D.UpsampleRgbaLinePair,U_=D.UpsampleBgraLinePair,q_=D.UpsampleArgbLinePair,H_=D.UpsampleRgba4444LinePair,$8=D.UpsampleRgb565LinePair,gm=16,vm=1<<gm-1,gh=-227,db=482,B8=6,z_=0,U8=a(256),q8=a(256),H8=a(256),z8=a(256),V8=a(db-gh),G8=a(db-gh);so("YuvToRgbRow",Bt,3),so("YuvToBgrRow",Ln,3),so("YuvToRgbaRow",La,4),so("YuvToBgraRow",br,4),so("YuvToArgbRow",Hr,4),so("YuvToRgba4444Row",Zn,2),so("YuvToRgb565Row",Rn,2);var V_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ym=[0,2,8],W8=[8,7,6,4,4,2,2,2,1,1,1,1],Y8=1;this.WebPDecodeRGBA=function(g,_,P,j,H){var W=hm,K=new yc,Q=new ur;K.ba=Q,Q.S=W,Q.width=[Q.width],Q.height=[Q.height];var ee=Q.width,re=Q.height,pe=new ui;if(pe==null||g==null)var _e=2;else e(pe!=null),_e=xc(g,_,P,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(_e!=0?ee=0:(ee!=null&&(ee[0]=pe.width[0]),re!=null&&(re[0]=pe.height[0]),ee=1),ee){Q.width=Q.width[0],Q.height=Q.height[0],j!=null&&(j[0]=Q.width),H!=null&&(H[0]=Q.height);e:{if(j=new ks,(H=new nh).data=g,H.w=_,H.ha=P,H.kd=1,_=[0],e(H!=null),((g=xc(H.data,H.w,H.ha,null,null,null,_,null,H))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(K!=null),j.data=H.data,j.w=H.w+H.offset,j.ha=H.ha-H.offset,j.put=Zi,j.ac=Hn,j.bc=ea,j.ma=K,H.xa){if((g=di())==null){K=1;break e}if(function(Te,ve){var Be=[0],Me=[0],Ae=[0];t:for(;;){if(Te==null)return 0;if(ve==null)return Te.a=2,0;if(Te.l=ve,Te.a=0,V(Te.m,ve.data,ve.w,ve.ha),!ft(Te.m,Be,Me,Ae)){Te.a=3;break t}if(Te.xb=$_,ve.width=Be[0],ve.height=Me[0],!na(Be[0],Me[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(g,j)){if(j=(_=wc(j.width,j.height,K.Oa,K.ba))==0){t:{j=g;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((P=j.l)!=null),e((H=P.ma)!=null),j.xb!=0){if(j.ca=H.ba,j.tb=H.tb,e(j.ca!=null),!lh(H.Oa,P,pm)){j.a=2;break n}if(!io(j,P.width)||P.da)break n;if((P.da||st(j.ca.S))&&we(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&we()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Re(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!fi(j,j.V,j.Ba,j.c,j.i,P.o,Ss))break n;H.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(_=g.a)}else _=g.a}else{if((g=new Wd)==null){K=1;break e}if(g.Fa=H.na,g.P=H.P,g.qc=H.Sa,hc(g,j)){if((_=wc(j.width,j.height,K.Oa,K.ba))==0){if(g.Aa=0,P=K.Oa,e((H=g)!=null),P!=null){if(0<(ee=0>(ee=P.Md)?0:100<ee?255:255*ee/100)){for(re=pe=0;4>re;++re)12>(_e=H.pb[re]).lc&&(_e.ia=ee*W8[0>_e.lc?0:_e.lc]>>3),pe|=_e.ia;pe&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=P.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}Yd(g,j)||(_=g.a)}}else _=g.a}_==0&&K.Oa!=null&&K.Oa.fd&&(_=uh(K.ba))}K=_}W=K!=0?null:11>W?Q.f.RGBA.eb:Q.f.kb.y}else W=null;return W};var G_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,I){for(var B="",O=0;O<4;O++)B+=String.fromCharCode(D[I++]);return B}function c(D,I){return(D[I+0]<<0|D[I+1]<<8|D[I+2]<<16)>>>0}function f(D,I){return(D[I+0]<<0|D[I+1]<<8|D[I+2]<<16|D[I+3]<<24)>>>0}new l;var p=[0],h=[0],v=[],b=new l,w=t,y=function(D,I){var B={},O=0,M=!1,U=0,F=0;if(B.frames=[],!function(q,J,te,X){for(var se=0;se<X;se++)if(q[J+se]!=te.charCodeAt(se))return!0;return!1}(D,I,"RIFF",4)){var G,R;for(f(D,I+=4),I+=8;I<D.length;){var $=u(D,I),V=f(D,I+=4);I+=4;var Y=V+(1&V);switch($){case"VP8 ":case"VP8L":B.frames[O]===void 0&&(B.frames[O]={}),(L=B.frames[O]).src_off=M?F:I-8,L.src_size=U+V+8,O++,M&&(M=!1,U=0,F=0);break;case"VP8X":(L=B.header={}).feature_flags=D[I];var ne=I+4;L.canvas_width=1+c(D,ne),ne+=3,L.canvas_height=1+c(D,ne),ne+=3;break;case"ALPH":M=!0,U=Y+8,F=I-8;break;case"ANIM":(L=B.header).bgcolor=f(D,I),ne=I+4,L.loop_count=(G=D)[(R=ne)+0]<<0|G[R+1]<<8,ne+=2;break;case"ANMF":var le,L;(L=B.frames[O]={}).offset_x=2*c(D,I),I+=3,L.offset_y=2*c(D,I),I+=3,L.width=1+c(D,I),I+=3,L.height=1+c(D,I),I+=3,L.duration=c(D,I),I+=3,le=D[I++],L.dispose=1&le,L.blend=le>>1&1}$!="ANMF"&&(I+=Y)}return B}}(w,0);y.response=w,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,S=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],h=[x.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var C=S[0],k=b.WebPDecodeRGBA(w,C.src_off,C.src_size,h,p);C.rgba=k,C.imgwidth=h[0],C.imgheight=p[0];for(var E=0;E<h[0]*p[0]*4;E++)v[E]=k[E];return this.width=h,this.height=p,this.data=v,this}(function(t){var e=function(){return typeof C2=="function"},n=function(p,h,v,b){var w=4,y=o;switch(b){case t.image_compression.FAST:w=1,y=a;break;case t.image_compression.MEDIUM:w=6,y=s;break;case t.image_compression.SLOW:w=9,y=l}p=r(p,h,v,y);var x=C2(p,{level:w});return t.__addimage__.arrayBufferToBinaryString(x)},r=function(p,h,v,b){for(var w,y,x,S=p.length/h,T=new Uint8Array(p.length+S),C=c(),k=0;k<S;k+=1){if(x=k*h,w=p.subarray(x,x+h),b)T.set(b(w,v,y),x+k);else{for(var E,D=C.length,I=[];E<D;E+=1)I[E]=C[E](w,v,y);var B=f(I.concat());T.set(I[B],x+k)}y=w}return T},i=function(p){var h=Array.apply([],p);return h.unshift(0),h},a=function(p,h){var v,b=[],w=p.length;b[0]=1;for(var y=0;y<w;y+=1)v=p[y-h]||0,b[y+1]=p[y]-v+256&255;return b},o=function(p,h,v){var b,w=[],y=p.length;w[0]=2;for(var x=0;x<y;x+=1)b=v&&v[x]||0,w[x+1]=p[x]-b+256&255;return w},s=function(p,h,v){var b,w,y=[],x=p.length;y[0]=3;for(var S=0;S<x;S+=1)b=p[S-h]||0,w=v&&v[S]||0,y[S+1]=p[S]+256-(b+w>>>1)&255;return y},l=function(p,h,v){var b,w,y,x,S=[],T=p.length;S[0]=4;for(var C=0;C<T;C+=1)b=p[C-h]||0,w=v&&v[C]||0,y=v&&v[C-h]||0,x=u(b,w,y),S[C+1]=p[C]-x+256&255;return S},u=function(p,h,v){if(p===h&&h===v)return p;var b=Math.abs(h-v),w=Math.abs(p-v),y=Math.abs(p+h-v-v);return b<=w&&b<=y?p:w<=y?h:v},c=function(){return[i,a,o,s,l]},f=function(p){var h=p.map(function(v){return v.reduce(function(b,w){return b+Math.abs(w)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(p,h,v,b){var w,y,x,S,T,C,k,E,D,I,B,O,M,U,F,G=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(x=new sZ(p)).imgData,y=x.bits,w=x.colorSpace,T=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){D=(E=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,B=new Uint8Array(D*x.colors),I=new Uint8Array(D);var $,V=x.pixelBitlength-x.bits;for(U=0,F=0;U<D;U++){for(M=E[U],$=0;$<V;)B[F++]=M>>>$&255,$+=x.bits;I[U]=M>>>$&255}}if(x.bits===16){D=(E=new Uint32Array(x.decodePixels().buffer)).length,B=new Uint8Array(D*(32/x.pixelBitlength)*x.colors),I=new Uint8Array(D*(32/x.pixelBitlength)),O=x.colors>1,U=0,F=0;for(var Y=0;U<D;)M=E[U++],B[F++]=M>>>0&255,O&&(B[F++]=M>>>16&255,M=E[U++],B[F++]=M>>>0&255),I[Y++]=M>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(p=n(B,x.width*x.colors,x.colors,b),k=n(I,x.width,1,b)):(p=B,k=I,G=void 0)}if(x.colorType===3&&(w=this.color_spaces.INDEXED,C=x.palette,x.transparency.indexed)){var ne=x.transparency.indexed,le=0;for(U=0,D=ne.length;U<D;++U)le+=ne[U];if((le/=255)===D-1&&ne.indexOf(0)!==-1)S=[ne.indexOf(0)];else if(le!==D){for(E=x.decodePixels(),I=new Uint8Array(E.length),U=0,D=E.length;U<D;U++)I[U]=ne[E[U]];k=n(I,x.width,1)}}var L=function(q){var J;switch(q){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(b);return G===this.decode.FLATE_DECODE&&(R="/Predictor "+L+" "),R+="/Colors "+T+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:v,data:p,index:h,filter:G,decodeParameters:R,transparency:S,palette:C,sMask:k,predictor:L,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:w}}}})(ut.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new lZ(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new _1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ut.API),Ua.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ua.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){hn.log("bit decode error:"+n)}},Ua.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Ua.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ua.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ua.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Ua.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Ua.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ua.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Ua.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Ua(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new _1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),GE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new GE(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new _1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),ut.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],p=r[u+2],h=r[u+3];a[s++]=c,a[s++]=f,a[s++]=p,o[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ut.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hc=ut.API,tg=Hc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,h=t.length,v=0,b=s[0]||l,w=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(p=f&&nn(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,w.push((s[r]||b)/l+p)),v=r;return w},qE=Hc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Hc.processArabic&&(t=Hc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:tg.apply(this,arguments).reduce(function(a,o){return a+o},0)},HE=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},zE=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],p=n.textIndent||0,h=0,v=0,b=t.split(" "),w=tg.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),x=[];b.map(function(T){(T=T.split(/\s*\n/)).length>1?x=x.concat(T.map(function(C,k){return(k&&C.length?`
`:"")+C})):x.push(T[0])}),b=x,l=qE.apply(this,[y,n])}for(a=0,o=b.length;a<o;a++){var S=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),p+h+(v=(i=tg.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||S){if(v>e){for(s=HE.apply(this,[r,i,e-(p+h),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(T,C){return T+C},0)}else c=[r];f.push(c),p=v+l,h=w}else c.push(r),p+=h+v,h=w}return u=l?function(T,C){return(C?y:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},Hc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(zE.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var p,h,v,b,w=["{"];for(var y in f){if(p=f[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=a(y).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof p=="number")p<0?(v=a(p).slice(3),b="-"):(v=a(p).slice(2),b=""),v=b+v.slice(0,-1)+r[v.slice(-1)];else{if(nn(p)!=="object")throw new Error("Don't know what to do with value type "+nn(p)+".");v=o(p)}w.push(h+v)}return w.push("}"),w.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,v,b,w={},y=1,x=w,S=[],T="",C="",k=f.length-1,E=1;E<k;E+=1)(b=f[E])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(S.push([x,v]),x={},v=void 0):b=="}"?((h=S.pop())[0][h[1]]=x,v=void 0,x=h[0]):b=="-"?y=-1:v===void 0?n.hasOwnProperty(b)?(T+=n[b],v=parseInt(T,16)*y,y=1,T=""):T+=b:n.hasOwnProperty(b)?(C+=n[b],x[v]=parseInt(C,16)*y,y=1,v=void 0,C=""):C+=b;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,h=c.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(ut.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(Ap(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ut),function(t){function e(){return(gt.canvg?Promise.resolve(gt.canvg):Ol(()=>import("./index.es-BLABqkNs.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ut.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(v){return v.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(p)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),ut.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ut.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function p(v,b){var w,y=!1;for(w=0;w<v.length;w+=1)v[w]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=s.length;for(f=0;f<h;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(nn(t)==="object"){for(i in t)if(a=t[i],p(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&p(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ut.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,p=a.length;f<p;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,p;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(s=Object.keys(a).sort(function(h,v){return h-v})).length;f<p;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",v=0;v<p.length;v++)h+=String.fromCharCode(p[v]);var b=u();c({data:h,addLength1:!0,objectId:b}),l("endobj");var w=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ef(s.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ef(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+ef(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var v=u();c({data:p,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+ef(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+ef(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},p=f.pdfEscape,h=f.activeFontKey,v=f.fonts,b=h,w="",y=0,x="",S=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(x=s,b=h,Array.isArray(s)&&(x=s[0]),y=0;y<x.length;y+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),o||x[y].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?w+=x[y]:w+="";var T="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?T=p(w,b).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=n(w,v[b])),f.isHex=!0,{text:T,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(ut),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ut.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var T=function(O){var M=O.charCodeAt(),U=M>>8,F=b[U];return F!==void 0?f[256*F+(255&M)]:U===252||U===253?"AL":y.test(U)?"L":U===8?"R":"N"},C=function(O){for(var M,U=0;U<O.length;U++){if((M=T(O.charAt(U)))==="L")return!1;if(M==="R")return!0}return!1},k=function(O,M,U,F){var G,R,$,V,Y=M[F];switch(Y){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(Y="AN");break;case"AL":x=!0,Y="R";break;case"WS":Y="N";break;case"CS":F<1||F+1>=M.length||(G=U[F-1])!=="EN"&&G!=="AN"||(R=M[F+1])!=="EN"&&R!=="AN"?Y="N":x&&(R="AN"),Y=R===G?R:"N";break;case"ES":Y=(G=F>0?U[F-1]:"B")==="EN"&&F+1<M.length&&M[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&U[F-1]==="EN"){Y="EN";break}if(x){Y="N";break}for($=F+1,V=M.length;$<V&&M[$]==="ET";)$++;Y=$<V&&M[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(V=M.length,$=F+1;$<V&&M[$]==="NSM";)$++;if($<V){var ne=O[F],le=ne>=1425&&ne<=2303||ne===64286;if(G=M[$],le&&(G==="R"||G==="AL")){Y="R";break}}}Y=F<1||(G=M[F-1])==="B"?"N":U[F-1];break;case"B":x=!1,i=!0,Y=S;break;case"S":a=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":Y="N"}return Y},E=function(O,M,U){var F=O.split("");return U&&D(F,U,{hiLevel:S}),F.reverse(),M&&M.reverse(),F.join("")},D=function(O,M,U){var F,G,R,$,V,Y=-1,ne=O.length,le=0,L=[],q=S?h:p,J=[];for(x=!1,i=!1,a=!1,G=0;G<ne;G++)J[G]=T(O[G]);for(R=0;R<ne;R++){if(V=le,L[R]=k(O,J,L,R),F=240&(le=q[V][v[L[R]]]),le&=15,M[R]=$=q[le][5],F>0)if(F===16){for(G=Y;G<R;G++)M[G]=1;Y=-1}else Y=-1;if(q[le][6])Y===-1&&(Y=R);else if(Y>-1){for(G=Y;G<R;G++)M[G]=$;Y=-1}J[R]==="B"&&(M[R]=0),U.hiLevel|=$}a&&function(te,X,se){for(var ue=0;ue<se;ue++)if(te[ue]==="S"){X[ue]=S;for(var Z=ue-1;Z>=0&&te[Z]==="WS";Z--)X[Z]=S}}(J,M,ne)},I=function(O,M,U,F,G){if(!(G.hiLevel<O)){if(O===1&&S===1&&!i)return M.reverse(),void(U&&U.reverse());for(var R,$,V,Y,ne=M.length,le=0;le<ne;){if(F[le]>=O){for(V=le+1;V<ne&&F[V]>=O;)V++;for(Y=le,$=V-1;Y<$;Y++,$--)R=M[Y],M[Y]=M[$],M[$]=R,U&&(R=U[Y],U[Y]=U[$],U[$]=R);le=V}le++}}},B=function(O,M,U){var F=O.split(""),G={hiLevel:S};return U||(U=[]),D(F,U,G),function(R,$,V){if(V.hiLevel!==0&&c)for(var Y,ne=0;ne<R.length;ne++)$[ne]===1&&(Y=w.indexOf(R[ne]))>=0&&(R[ne]=w[Y+1])}(F,U,G),I(2,F,M,U,G),I(1,F,M,U,G),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,U){if(function(G,R){if(R)for(var $=0;$<G.length;$++)R[$]=$;s===void 0&&(s=C(G)),u===void 0&&(u=C(G))}(O,M),o||!l||u)if(o&&l&&s^u)S=s?1:0,O=E(O,M,U);else if(!o&&l&&u)S=s?1:0,O=B(O,M,U),O=E(O,M);else if(!o||s||l||u){if(o&&!l&&s^u)O=E(O,M),s?(S=0,O=B(O,M,U)):(S=1,O=B(O,M,U),O=E(O,M));else if(o&&s&&!l&&u)S=1,O=B(O,M,U),O=E(O,M);else if(!o&&!l&&s^u){var F=c;s?(S=1,O=B(O,M,U),S=0,c=!1,O=B(O,M,U),c=F):(S=0,O=B(O,M,U),O=E(O,M),S=1,c=!1,O=B(O,M,U),c=F,O=E(O,M))}}else S=0,O=B(O,M,U);else S=s?1:0,O=B(O,M,U);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,s=O.isInputRtl,u=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new jl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new SZ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uZ(this.contents),this.head=new fZ(this),this.name=new mZ(this),this.cmap=new OI(this),this.toUnicode={},this.hhea=new dZ(this),this.maxp=new gZ(this),this.hmtx=new vZ(this),this.post=new pZ(this),this.os2=new hZ(this),this.loca=new wZ(this),this.glyf=new yZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var no,jl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),uZ=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,p,h,v,b;for(b in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),c=16*h-f,(i=new jl).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*h,u=i.pos+a,s=null,v=[],n)for(p=n[b],i.writeString(b),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),v=v.concat(p),b==="head"&&(s=u),u+=p.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=II.call(n);n.length%4;)n.push(0);for(a=new jl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),cZ={}.hasOwnProperty,To=function(t,e){for(var n in e)cZ.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};no=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var fZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new jl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),WE=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,p,h,v,b,w,y,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),p=h/2,e.pos+=6,a=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,b=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=p?T<p:T>p;l=0<=p?++T:--T)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(e.readUInt16());return C}(),l=y=0,S=a.length;y<S;l=++y)for(w=a[l],r=x=v=b[l];v<=w?x<=w:x>=w;r=v<=w?++x:--x)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-v)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,p,h,v,b,w,y,x,S,T,C,k,E,D,I,B,O,M,U,F,G,R,$,V,Y,ne,le,L,q,J,te,X,se,ue,Z,he,me,ce;switch(F=new jl,o=Object.keys(e).sort(function(je,Re){return je-Re}),n){case"macroman":for(b=0,w=function(){var je=[];for(v=0;v<256;++v)je.push(0);return je}(),x={0:0},a={},G=0,Y=o.length;G<Y;G++)x[Z=e[i=o[G]]]==null&&(x[Z]=++b),a[i]={old:e[i],new:x[e[i]]},w[i]=x[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(w),{charMap:a,subtable:F.data,maxGlyphID:b+1};case"unicode":for(M=[],f=[],S=0,x={},r={},y=u=null,R=0,ne=o.length;R<ne;R++)x[C=e[i=o[R]]]==null&&(x[C]=++S),r[i]={old:C,new:x[C]},s=x[C]-i,y!=null&&s===u||(y&&f.push(y),M.push(i),u=s),y=i;for(y&&f.push(y),f.push(65535),M.push(65535),B=2*(I=M.length),D=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,E=2*I-D,l=[],k=[],h=[],v=$=0,le=M.length;$<le;v=++$){if(O=M[v],c=f[v],O===65535){l.push(0),k.push(0);break}if(O-(U=r[O].new)>=32768)for(l.push(0),k.push(2*(h.length+I-v)),i=V=O;O<=c?V<=c:V>=c;i=O<=c?++V:--V)h.push(r[i].new);else l.push(U-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*I+2*h.length),F.writeUInt16(0),F.writeUInt16(B),F.writeUInt16(D),F.writeUInt16(p),F.writeUInt16(E),se=0,L=f.length;se<L;se++)i=f[se],F.writeUInt16(i);for(F.writeUInt16(0),ue=0,q=M.length;ue<q;ue++)i=M[ue],F.writeUInt16(i);for(he=0,J=l.length;he<J;he++)s=l[he],F.writeUInt16(s);for(me=0,te=k.length;me<te;me++)T=k[me],F.writeUInt16(T);for(ce=0,X=h.length;ce<X;ce++)b=h[ce],F.writeUInt16(b);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},t}(),OI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new WE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=WE.encode(n,r),(a=new jl).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),dZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),hZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),pZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),AZ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,f,p,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,p=i.length;f<p;o=++f)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new AZ(c,a),u[h=a.nameID]==null&&(u[h]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),gZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),vZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,p,h;for(h=[],c=0,f=(p=this.metrics).length;c<f;c++)o=p[c],h.push(o.advance);return h}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),II=[].slice,yZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,f,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new jl(r.read(a))).readShort(),c=l.readShort(),p=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new xZ(l,c,p,u,f):new bZ(l,s,c,p,u,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),bZ=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),xZ=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new jl(II.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),wZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return To(e,no),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),SZ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,p,h,v,b,w,y;for(i in r=OI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},y=r.charMap)h[(l=y[i]).old]=l.new;for(v in p=r.maxGlyphID,o)v in h||(h[v]=p++);return c=function(x){var S,T;for(S in T={},x)T[x[S]]=S;return T}(h),f=Object.keys(c).sort(function(x,S){return x-S}),b=function(){var x,S,T;for(T=[],x=0,S=f.length;x<S;x++)s=f[x],T.push(c[s]);return T}(),a=this.font.glyf.encode(o,b,h),u=this.font.loca.encode(a.offsets,b),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();ut.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const _Z=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:tZ,AcroFormAppearance:it,AcroFormButton:pr,AcroFormCheckBox:vp,AcroFormChoiceField:Pu,AcroFormComboBox:Du,AcroFormEditBox:mp,AcroFormListBox:Mu,AcroFormPasswordField:yp,AcroFormPushButton:gp,AcroFormRadioButton:Ou,AcroFormTextField:Tl,GState:qp,ShadingPattern:al,TilingPattern:bu,default:ut,jsPDF:ut},Symbol.toStringTag,{value:"Module"}));var jI={exports:{}};const TZ=WP(_Z);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return TZ}catch{}}())})(typeof globalThis<"u"?globalThis:typeof mr<"u"?mr:typeof window<"u"?window:typeof self<"u"?self:mr,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var p=function(h,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(b[y]=w[y])},p(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(h,v);function b(){this.constructor=h}h.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function p(h,v,b){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=b,this.doc=h.getDocument()}return p}();l.HookData=c;var f=function(p){u(h,p);function h(v,b,w,y,x,S){var T=p.call(this,v,b,S)||this;return T.cell=w,T.row=y,T.column=x,T.section=y.section,T}return h}(c);l.CellHookData=f},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),p=u(744),h=u(776),v=u(664),b=u(972);function w(y){y.API.autoTable=function(){for(var x=[],S=0;S<arguments.length;S++)x[S]=arguments[S];var T;x.length===1?T=x[0]:(console.error("Use of deprecated autoTable initiation"),T=x[2]||{},T.columns=x[0],T.body=x[1]);var C=(0,h.parseInput)(this,T),k=(0,b.createTable)(this,C);return(0,v.drawTable)(this,k),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(x,S,T,C){(0,f.default)(x,S,T,C,this)},y.API.autoTableSetDefaults=function(x){return p.DocHandler.setDefaults(x,this),this},y.autoTableSetDefaults=function(x,S){p.DocHandler.setDefaults(x,S)},y.API.autoTableHtmlToJson=function(x,S){var T;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new p.DocHandler(this),k=(0,c.parseHtml)(C,x,window,S,!1),E=k.head,D=k.body,I=((T=E[0])===null||T===void 0?void 0:T.map(function(B){return B.content}))||[];return{columns:I,rows:D,data:D}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},y.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=x,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,p,h,v){h=h||{};var b=1.15,w=v.internal.scaleFactor,y=v.internal.getFontSize()/w,x=v.getLineHeightFactor?v.getLineHeightFactor():b,S=y*x,T=/\r\n|\r|\n/g,C="",k=1;if((h.valign==="middle"||h.valign==="bottom"||h.halign==="center"||h.halign==="right")&&(C=typeof c=="string"?c.split(T):c,k=C.length||1),p+=y*(2-b),h.valign==="middle"?p-=k/2*S:h.valign==="bottom"&&(p-=k*S),h.halign==="center"||h.halign==="right"){var E=y;if(h.halign==="center"&&(E*=.5),C&&k>=1){for(var D=0;D<C.length;D++)v.text(C[D],f-v.getStringUnitWidth(C[D])*E,p),p+=S;return v}f-=v.getStringUnitWidth(c)*E}return h.halign==="justify"?v.text(c,f,p,{maxWidth:h.maxWidth||100,align:"justify"}):v.text(c,f,p),v}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(v,b,w){w.applyStyles(b,!0);var y=Array.isArray(v)?v:[v],x=y.map(function(S){return w.getTextWidth(S)}).reduce(function(S,T){return Math.max(S,T)},0);return x}l.getStringWidth=u;function c(v,b,w,y){var x=b.settings.tableLineWidth,S=b.settings.tableLineColor;v.applyStyles({lineWidth:x,lineColor:S});var T=f(x,!1);T&&v.rect(w.x,w.y,b.getWidth(v.pageSize().width),y.y-w.y,T)}l.addTableBorder=c;function f(v,b){var w=v>0,y=b||b===0;return w&&y?"DF":w?"S":y?"F":null}l.getFillStyle=f;function p(v,b){var w,y,x,S;if(v=v||b,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=b}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(w=v.left)!==null&&w!==void 0?w:b,top:(y=v.top)!==null&&y!==void 0?y:b,right:(x=v.right)!==null&&x!==void 0?x:b,bottom:(S=v.bottom)!==null&&S!==void 0?S:b}):(typeof v!="number"&&(v=b),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=p;function h(v,b){var w=p(b.settings.margin,0);return v.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=h},796:function(s,l){var u=this&&this.__extends||function(){var h=function(v,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,y){w.__proto__=y}||function(w,y){for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(w[x]=y[x])},h(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");h(v,b);function w(){this.constructor=v}v.prototype=b===null?Object.create(b):(w.prototype=b.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(h){u(v,h);function v(b){var w=h.call(this)||this;return w._element=b,w}return v}(Array);l.HtmlRowInput=c;function f(h){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/h,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function p(h){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[h]}l.getTheme=p},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(w,y,x,S,T){var C={},k=1.3333333333333333,E=h(y,function(Y){return T.getComputedStyle(Y).backgroundColor});E!=null&&(C.fillColor=E);var D=h(y,function(Y){return T.getComputedStyle(Y).color});D!=null&&(C.textColor=D);var I=b(S,x);I&&(C.cellPadding=I);var B="borderTopColor",O=k*x,M=S.borderTopWidth;if(S.borderBottomWidth===M&&S.borderRightWidth===M&&S.borderLeftWidth===M){var U=(parseFloat(M)||0)/O;U&&(C.lineWidth=U)}else C.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/O,right:(parseFloat(S.borderRightWidth)||0)/O,bottom:(parseFloat(S.borderBottomWidth)||0)/O,left:(parseFloat(S.borderLeftWidth)||0)/O},C.lineWidth.top||(C.lineWidth.right?B="borderRightColor":C.lineWidth.bottom?B="borderBottomColor":C.lineWidth.left&&(B="borderLeftColor"));var F=h(y,function(Y){return T.getComputedStyle(Y)[B]});F!=null&&(C.lineColor=F);var G=["left","right","center","justify"];G.indexOf(S.textAlign)!==-1&&(C.halign=S.textAlign),G=["middle","bottom","top"],G.indexOf(S.verticalAlign)!==-1&&(C.valign=S.verticalAlign);var R=parseInt(S.fontSize||"");isNaN(R)||(C.fontSize=R/k);var $=p(S);$&&(C.fontStyle=$);var V=(S.fontFamily||"").toLowerCase();return w.indexOf(V)!==-1&&(C.font=V),C}l.parseCss=f;function p(w){var y="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(y="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(y+="italic"),y}function h(w,y){var x=v(w,y);if(!x)return null;var S=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var T=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],C=parseInt(S[4]);return C===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function v(w,y){var x=y(w);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?w.parentElement==null?null:v(w.parentElement,y):x}function b(w,y){var x=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],S=96/(72/y),T=(parseInt(w.lineHeight)-parseInt(w.fontSize))/y/2,C=x.map(function(E){return parseInt(E||"0")/S}),k=(0,c.parseSpacing)(C,0);return T>k.top&&(k.top=T),T>k.bottom&&(k.bottom=T),k}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(p,h){h===void 0&&(h=null),h?h.__autoTableDocumentDefaults=p:u=p},f.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},f.prototype.applyStyles=function(p,h){var v,b,w;h===void 0&&(h=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var y=this.jsPDFDocument.internal.getFont(),x=y.fontStyle,S=y.fontName;if(p.font&&(S=p.font),p.fontStyle){x=p.fontStyle;var T=this.getFontList()[S];T&&T.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),x=T[0])}if(this.jsPDFDocument.setFont(S,x),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!h){var C=f.unifyColor(p.fillColor);C&&(v=this.jsPDFDocument).setFillColor.apply(v,C),C=f.unifyColor(p.textColor),C&&(b=this.jsPDFDocument).setTextColor.apply(b,C),C=f.unifyColor(p.lineColor),C&&(w=this.jsPDFDocument).setDrawColor.apply(w,C),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},f.prototype.splitTextToSize=function(p,h,v){return this.jsPDFDocument.splitTextToSize(p,h,v)},f.prototype.rect=function(p,h,v,b,w){return this.jsPDFDocument.rect(p,h,v,b,w)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function p(b,w,y,x,S){var T,C;x===void 0&&(x=!1),S===void 0&&(S=!1);var k;typeof w=="string"?k=y.document.querySelector(w):k=w;var E=Object.keys(b.getFontList()),D=b.scaleFactor(),I=[],B=[],O=[];if(!k)return console.error("Html table could not be found with input: ",w),{head:I,body:B,foot:O};for(var M=0;M<k.rows.length;M++){var U=k.rows[M],F=(C=(T=U==null?void 0:U.parentElement)===null||T===void 0?void 0:T.tagName)===null||C===void 0?void 0:C.toLowerCase(),G=h(E,D,y,U,x,S);G&&(F==="thead"?I.push(G):F==="tfoot"?O.push(G):B.push(G))}return{head:I,body:B,foot:O}}l.parseHtml=p;function h(b,w,y,x,S,T){for(var C=new f.HtmlRowInput(x),k=0;k<x.cells.length;k++){var E=x.cells[k],D=y.getComputedStyle(E);if(S||D.display!=="none"){var I=void 0;T&&(I=(0,c.parseCss)(b,E,w,D,y)),C.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:I,_element:E,content:v(E)})}}var B=y.getComputedStyle(x);if(C.length>0&&(S||B.display!=="none"))return C}function v(b){var w=b.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),w.innerText||w.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),p=u(420),h=u(744),v=u(792);function b(k,E){var D=new h.DocHandler(k),I=D.getDocumentOptions(),B=D.getGlobalOptions();(0,v.default)(D,B,I,E);var O=(0,f.assign)({},B,I,E),M;typeof window<"u"&&(M=window);var U=w(B,I,E),F=y(B,I,E),G=x(D,O),R=T(D,O,M);return{id:E.tableId,content:R,hooks:F,styles:U,settings:G}}l.parseInput=b;function w(k,E,D){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},B=function(F){if(F==="columnStyles"){var G=k[F],R=E[F],$=D[F];I.columnStyles=(0,f.assign)({},G,R,$)}else{var V=[k,E,D],Y=V.map(function(ne){return ne[F]||{}});I[F]=(0,f.assign)({},Y[0],Y[1],Y[2])}},O=0,M=Object.keys(I);O<M.length;O++){var U=M[O];B(U)}return I}function y(k,E,D){for(var I=[k,E,D],B={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,M=I;O<M.length;O++){var U=M[O];U.didParseCell&&B.didParseCell.push(U.didParseCell),U.willDrawCell&&B.willDrawCell.push(U.willDrawCell),U.didDrawCell&&B.didDrawCell.push(U.didDrawCell),U.willDrawPage&&B.willDrawPage.push(U.willDrawPage),U.didDrawPage&&B.didDrawPage.push(U.didDrawPage)}return B}function x(k,E){var D,I,B,O,M,U,F,G,R,$,V,Y,ne=(0,p.parseSpacing)(E.margin,40/k.scaleFactor()),le=(D=S(k,E.startY))!==null&&D!==void 0?D:ne.top,L;E.showFoot===!0?L="everyPage":E.showFoot===!1?L="never":L=(I=E.showFoot)!==null&&I!==void 0?I:"everyPage";var q;E.showHead===!0?q="everyPage":E.showHead===!1?q="never":q=(B=E.showHead)!==null&&B!==void 0?B:"everyPage";var J=(O=E.useCss)!==null&&O!==void 0?O:!1,te=E.theme||(J?"plain":"striped"),X=!!E.horizontalPageBreak,se=(M=E.horizontalPageBreakRepeat)!==null&&M!==void 0?M:null;return{includeHiddenHtml:(U=E.includeHiddenHtml)!==null&&U!==void 0?U:!1,useCss:J,theme:te,startY:le,margin:ne,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(G=E.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(R=E.tableWidth)!==null&&R!==void 0?R:"auto",showHead:q,showFoot:L,tableLineWidth:($=E.tableLineWidth)!==null&&$!==void 0?$:0,tableLineColor:(V=E.tableLineColor)!==null&&V!==void 0?V:200,horizontalPageBreak:X,horizontalPageBreakRepeat:se,horizontalPageBreakBehaviour:(Y=E.horizontalPageBreakBehaviour)!==null&&Y!==void 0?Y:"afterAllRows"}}function S(k,E){var D=k.getLastAutoTable(),I=k.scaleFactor(),B=k.pageNumber(),O=!1;if(D&&D.startPageNumber){var M=D.startPageNumber+D.pageNumber-1;O=M===B}return typeof E=="number"?E:(E==null||E===!1)&&O&&(D==null?void 0:D.finalY)!=null?D.finalY+20/I:null}function T(k,E,D){var I=E.head||[],B=E.body||[],O=E.foot||[];if(E.html){var M=E.includeHiddenHtml;if(D){var U=(0,c.parseHtml)(k,E.html,D,M,E.useCss)||{};I=U.head||I,B=U.body||I,O=U.foot||I}else console.error("Cannot parse html in non browser environment")}var F=E.columns||C(I,B,O);return{columns:F,head:I,body:B,foot:O}}function C(k,E,D){var I=k[0]||E[0]||D[0]||[],B=[];return Object.keys(I).filter(function(O){return O!=="_element"}).forEach(function(O){var M=1,U;Array.isArray(I)?U=I[parseInt(O)]:U=I[O],typeof U=="object"&&!Array.isArray(U)&&(M=(U==null?void 0:U.colSpan)||1);for(var F=0;F<M;F++){var G=void 0;Array.isArray(I)?G=B.length:G=O+(F>0?"_".concat(F):"");var R={dataKey:G};B.push(R)}}),B}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,p,h,v){for(var b=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(O){f.applyStyles(f.userStyles),S.beforePageContent&&S.beforePageContent(O),f.applyStyles(f.userStyles),S.afterPageContent&&S.afterPageContent(O),f.applyStyles(f.userStyles),S.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){S[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var M=O[0],U=O[1];S[U]&&(console.error("Use of deprecated option ".concat(U,". Use ").concat(M," instead")),S[M]=S[U])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var M=typeof O=="string"?O:O[0],U=typeof O=="string"?O:O[1];typeof S[M]<"u"&&(typeof S.styles[U]>"u"&&(S.styles[U]=S[M]),console.error("Use of deprecated option: "+M+", use the style "+U+" instead."))});for(var T=0,C=["styles","bodyStyles","headStyles","footStyles"];T<C.length;T++){var k=C[T];c(S[k]||{})}for(var E=S.columnStyles||{},D=0,I=Object.keys(E);D<I.length;D++){var B=I[D];c(E[B]||{})}},w=0,y=[p,h,v];w<y.length;w++){var x=y[w];b(x)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),p=u(420),h=function(){function y(x,S){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return y.prototype.getHeadHeight=function(x){return this.head.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.getFootHeight=function(x){return this.foot.reduce(function(S,T){return S+T.getMaxCellHeight(x)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(x,S,T,C,k,E){for(var D=0,I=S;D<I.length;D++){var B=I[D],O=new f.CellHookData(x,this,T,C,k,E),M=B(O)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],M)return!1}return!0},y.prototype.callEndPageHooks=function(x,S){x.applyStyles(x.userStyles);for(var T=0,C=this.hooks.didDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.callWillDrawPageHooks=function(x,S){for(var T=0,C=this.hooks.willDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(x,this,S))}},y.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(C,k){return C+k.wrappedWidth},0);return S}else{var T=this.settings.margin;return x-T.left-T.right}},y}();l.Table=h;var v=function(){function y(x,S,T,C,k){k===void 0&&(k=!1),this.height=0,this.raw=x,x instanceof c.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=S,this.section=T,this.cells=C,this.spansMultiplePages=k}return y.prototype.getMaxCellHeight=function(x){var S=this;return x.reduce(function(T,C){var k;return Math.max(T,((k=S.cells[C.index])===null||k===void 0?void 0:k.height)||0)},0)},y.prototype.hasRowSpan=function(x){var S=this;return x.filter(function(T){var C=S.cells[T.index];return C?C.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(x,S){return this.getMaxCellHeight(S)<=x},y.prototype.getMinimumRowHeight=function(x,S){var T=this;return x.reduce(function(C,k){var E=T.cells[k.index];if(!E)return 0;var D=S.getLineHeight(E.styles.fontSize),I=E.padding("vertical"),B=I+D;return B>C?B:C},0)},y}();l.Row=v;var b=function(){function y(x,S,T){var C,k;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=T,this.raw=x;var E=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,E=(k=(C=x.content)!==null&&C!==void 0?C:x.title)!==null&&k!==void 0?k:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var D=E!=null?""+E:"",I=/\r\n|\r|\n/g;this.text=D.split(I)}return y.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");x=this.y+S/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");T=this.x+C/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:x}},y.prototype.getContentHeight=function(x,S){S===void 0&&(S=1.15);var T=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/x*S,k=T*C+this.padding("vertical");return Math.max(k,this.styles.minCellHeight)},y.prototype.padding=function(x){var S=(0,p.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?S.top+S.bottom:x==="horizontal"?S.left+S.right:S[x]},y}();l.Cell=b;var w=function(){function y(x,S,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=S,this.index=T}return y.prototype.getMaxCustomCellWidth=function(x){for(var S=0,T=0,C=x.allRows();T<C.length;T++){var k=C[T],E=k.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(S=Math.max(S,E.styles.cellWidth))}return S},y}();l.Column=w},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,p,h,v){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(c),w=1;w<arguments.length;w++){var y=arguments[w];if(y!=null)for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(b[x]=y[x])}return b}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),p=u(324),h=u(796),v=u(356);function b(k,E){var D=new c.DocHandler(k),I=w(E,D.scaleFactor()),B=new f.Table(E,I);return(0,p.calculateWidths)(D,B),D.applyStyles(D.userStyles),B}l.createTable=b;function w(k,E){var D=k.content,I=T(D.columns);if(D.head.length===0){var B=x(I,"head");B&&D.head.push(B)}if(D.foot.length===0){var B=x(I,"foot");B&&D.foot.push(B)}var O=k.settings.theme,M=k.styles;return{columns:I,head:y("head",D.head,I,M,O,E),body:y("body",D.body,I,M,O,E),foot:y("foot",D.foot,I,M,O,E)}}function y(k,E,D,I,B,O){var M={},U=E.map(function(F,G){for(var R=0,$={},V=0,Y=0,ne=0,le=D;ne<le.length;ne++){var L=le[ne];if(M[L.index]==null||M[L.index].left===0)if(Y===0){var q=void 0;Array.isArray(F)?q=F[L.index-V-R]:q=F[L.dataKey];var J={};typeof q=="object"&&!Array.isArray(q)&&(J=(q==null?void 0:q.styles)||{});var te=C(k,L,G,B,I,O,J),X=new f.Cell(q,te,k);$[L.dataKey]=X,$[L.index]=X,Y=X.colSpan-1,M[L.index]={left:X.rowSpan-1,times:Y}}else Y--,V++;else M[L.index].left--,Y=M[L.index].times,R++}return new f.Row(F,G,k,$)});return U}function x(k,E){var D={};return k.forEach(function(I){if(I.raw!=null){var B=S(E,I.raw);B!=null&&(D[I.dataKey]=B)}}),Object.keys(D).length>0?D:null}function S(k,E){if(k==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(k==="foot"&&typeof E=="object")return E.footer;return null}function T(k){return k.map(function(E,D){var I,B,O;return typeof E=="object"?O=(B=(I=E.dataKey)!==null&&I!==void 0?I:E.key)!==null&&B!==void 0?B:D:O=D,new f.Column(O,E,D)})}function C(k,E,D,I,B,O,M){var U=(0,h.getTheme)(I),F;k==="head"?F=B.headStyles:k==="body"?F=B.bodyStyles:k==="foot"&&(F=B.footStyles);var G=(0,v.assign)({},U.table,U[k],B.styles,F),R=B.columnStyles[E.dataKey]||B.columnStyles[E.index]||{},$=k==="body"?R:{},V=k==="body"&&D%2===0?(0,v.assign)({},U.alternateRow,B.alternateRowStyles):{},Y=(0,h.defaultStyles)(O),ne=(0,v.assign)({},Y,G,V,$);return(0,v.assign)(ne,M)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),p=u(744),h=u(356),v=u(136),b=u(224);function w(R,$){var V=$.settings,Y=V.startY,ne=V.margin,le={x:ne.left,y:Y},L=$.getHeadHeight($.columns)+$.getFootHeight($.columns),q=Y+ne.bottom+L;if(V.pageBreak==="avoid"){var J=$.body,te=J.reduce(function(ue,Z){return ue+Z.height},0);q+=te}var X=new p.DocHandler(R);(V.pageBreak==="always"||V.startY!=null&&q>X.pageSize().height)&&(G(X),le.y=ne.top),$.callWillDrawPageHooks(X,le);var se=(0,h.assign)({},le);$.startPageNumber=X.pageNumber(),V.horizontalPageBreak?y(X,$,se,le):(X.applyStyles(X.userStyles),(V.showHead==="firstPage"||V.showHead==="everyPage")&&$.head.forEach(function(ue){return B(X,$,ue,le,$.columns)}),X.applyStyles(X.userStyles),$.body.forEach(function(ue,Z){var he=Z===$.body.length-1;I(X,$,ue,he,se,le,$.columns)}),X.applyStyles(X.userStyles),(V.showFoot==="lastPage"||V.showFoot==="everyPage")&&$.foot.forEach(function(ue){return B(X,$,ue,le,$.columns)})),(0,c.addTableBorder)(X,$,se,le),$.callEndPageHooks(X,le),$.finalY=le.y,R.lastAutoTable=$,R.previousAutoTable=$,R.autoTable&&(R.autoTable.previous=$),X.applyStyles(X.userStyles)}l.drawTable=w;function y(R,$,V,Y){var ne=(0,b.calculateAllColumnsCanFitInPage)(R,$),le=$.settings;if(le.horizontalPageBreakBehaviour==="afterAllRows")ne.forEach(function(te,X){R.applyStyles(R.userStyles),X>0?F(R,$,V,Y,te.columns,!0):x(R,$,Y,te.columns),S(R,$,V,Y,te.columns),C(R,$,Y,te.columns)});else for(var L=-1,q=ne[0],J=function(){var te=L;if(q){R.applyStyles(R.userStyles);var X=q.columns;L>=0?F(R,$,V,Y,X,!0):x(R,$,Y,X),te=T(R,$,L+1,Y,X),C(R,$,Y,X)}var se=te-L;ne.slice(1).forEach(function(ue){R.applyStyles(R.userStyles),F(R,$,V,Y,ue.columns,!0),T(R,$,L+1,Y,ue.columns,se),C(R,$,Y,ue.columns)}),L=te};L<$.body.length-1;)J()}function x(R,$,V,Y){var ne=$.settings;R.applyStyles(R.userStyles),(ne.showHead==="firstPage"||ne.showHead==="everyPage")&&$.head.forEach(function(le){return B(R,$,le,V,Y)})}function S(R,$,V,Y,ne){R.applyStyles(R.userStyles),$.body.forEach(function(le,L){var q=L===$.body.length-1;I(R,$,le,q,V,Y,ne)})}function T(R,$,V,Y,ne,le){R.applyStyles(R.userStyles),le=le??$.body.length;var L=Math.min(V+le,$.body.length),q=-1;return $.body.slice(V,L).forEach(function(J,te){var X=V+te===$.body.length-1,se=U(R,$,X,Y);J.canEntireRowFit(se,ne)&&(B(R,$,J,Y,ne),q=V+te)}),q}function C(R,$,V,Y){var ne=$.settings;R.applyStyles(R.userStyles),(ne.showFoot==="lastPage"||ne.showFoot==="everyPage")&&$.foot.forEach(function(le){return B(R,$,le,V,Y)})}function k(R,$,V){var Y=V.getLineHeight(R.styles.fontSize),ne=R.padding("vertical"),le=Math.floor(($-ne)/Y);return Math.max(0,le)}function E(R,$,V,Y){var ne={};R.spansMultiplePages=!0,R.height=0;for(var le=0,L=0,q=V.columns;L<q.length;L++){var J=q[L],te=R.cells[J.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var X=new f.Cell(te.raw,te.styles,te.section);X=(0,h.assign)(X,te),X.text=[];var se=k(te,$,Y);te.text.length>se&&(X.text=te.text.splice(se,te.text.length));var ue=Y.scaleFactor(),Z=Y.getLineHeightFactor();te.contentHeight=te.getContentHeight(ue,Z),te.contentHeight>=$&&(te.contentHeight=$,X.styles.minCellHeight-=$),te.contentHeight>R.height&&(R.height=te.contentHeight),X.contentHeight=X.getContentHeight(ue,Z),X.contentHeight>le&&(le=X.contentHeight),ne[J.index]=X}}var he=new f.Row(R.raw,-1,R.section,ne,!0);he.height=le;for(var me=0,ce=V.columns;me<ce.length;me++){var J=ce[me],X=he.cells[J.index];X&&(X.height=he.height);var te=R.cells[J.index];te&&(te.height=R.height)}return he}function D(R,$,V,Y){var ne=R.pageSize().height,le=Y.settings.margin,L=le.top+le.bottom,q=ne-L;$.section==="body"&&(q-=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns));var J=$.getMinimumRowHeight(Y.columns,R),te=J<V;if(J>q)return console.error("Will not be able to print row ".concat($.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var X=$.hasRowSpan(Y.columns),se=$.getMaxCellHeight(Y.columns)>q;return se?(X&&console.error("The content of row ".concat($.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(X||Y.settings.rowPageBreak==="avoid")}function I(R,$,V,Y,ne,le,L){var q=U(R,$,Y,le);if(V.canEntireRowFit(q,L))B(R,$,V,le,L);else if(D(R,V,q,$)){var J=E(V,q,$,R);B(R,$,V,le,L),F(R,$,ne,le,L),I(R,$,J,Y,ne,le,L)}else F(R,$,ne,le,L),I(R,$,V,Y,ne,le,L)}function B(R,$,V,Y,ne){Y.x=$.settings.margin.left;for(var le=0,L=ne;le<L.length;le++){var q=L[le],J=V.cells[q.index];if(!J){Y.x+=q.width;continue}R.applyStyles(J.styles),J.x=Y.x,J.y=Y.y;var te=$.callCellHooks(R,$.hooks.willDrawCell,J,V,q,Y);if(te===!1){Y.x+=q.width;continue}O(R,J,Y);var X=J.getTextPos();(0,v.default)(J.text,X.x,X.y,{halign:J.styles.halign,valign:J.styles.valign,maxWidth:Math.ceil(J.width-J.padding("left")-J.padding("right"))},R.getDocument()),$.callCellHooks(R,$.hooks.didDrawCell,J,V,q,Y),Y.x+=q.width}Y.y+=V.height}function O(R,$,V){var Y=$.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof Y.lineWidth=="number"){var ne=(0,c.getFillStyle)(Y.lineWidth,Y.fillColor);ne&&R.rect($.x,V.y,$.width,$.height,ne)}else typeof Y.lineWidth=="object"&&(Y.fillColor&&R.rect($.x,V.y,$.width,$.height,"F"),M(R,$,V,Y.lineWidth))}function M(R,$,V,Y){var ne,le,L,q;Y.top&&(ne=V.x,le=V.y,L=V.x+$.width,q=V.y,Y.right&&(L+=.5*Y.right),Y.left&&(ne-=.5*Y.left),J(Y.top,ne,le,L,q)),Y.bottom&&(ne=V.x,le=V.y+$.height,L=V.x+$.width,q=V.y+$.height,Y.right&&(L+=.5*Y.right),Y.left&&(ne-=.5*Y.left),J(Y.bottom,ne,le,L,q)),Y.left&&(ne=V.x,le=V.y,L=V.x,q=V.y+$.height,Y.top&&(le-=.5*Y.top),Y.bottom&&(q+=.5*Y.bottom),J(Y.left,ne,le,L,q)),Y.right&&(ne=V.x+$.width,le=V.y,L=V.x+$.width,q=V.y+$.height,Y.top&&(le-=.5*Y.top),Y.bottom&&(q+=.5*Y.bottom),J(Y.right,ne,le,L,q));function J(te,X,se,ue,Z){R.getDocument().setLineWidth(te),R.getDocument().line(X,se,ue,Z,"S")}}function U(R,$,V,Y){var ne=$.settings.margin.bottom,le=$.settings.showFoot;return(le==="everyPage"||le==="lastPage"&&V)&&(ne+=$.getFootHeight($.columns)),R.pageSize().height-Y.y-ne}function F(R,$,V,Y,ne,le){ne===void 0&&(ne=[]),le===void 0&&(le=!1),R.applyStyles(R.userStyles),$.settings.showFoot==="everyPage"&&!le&&$.foot.forEach(function(q){return B(R,$,q,Y,ne)}),$.callEndPageHooks(R,Y);var L=$.settings.margin;(0,c.addTableBorder)(R,$,V,Y),G(R),$.pageNumber++,$.pageCount++,Y.x=L.left,Y.y=L.top,V.y=L.top,$.callWillDrawPageHooks(R,Y),$.settings.showHead==="everyPage"&&($.head.forEach(function(q){return B(R,$,q,Y,ne)}),R.applyStyles(R.userStyles))}l.addPage=F;function G(R){var $=R.pageNumber();R.setPage($+1);var V=R.pageNumber();return V===$?(R.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(h,v,b){var w;b===void 0&&(b={});var y=(0,c.getPageAvailableWidth)(h,v),x=new Map,S=[],T=[],C=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?C=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(C=[v.settings.horizontalPageBreakRepeat]),C.forEach(function(I){var B=v.columns.find(function(O){return O.dataKey===I||O.index===I});B&&!x.has(B.index)&&(x.set(B.index,!0),S.push(B.index),T.push(v.columns[B.index]),y-=B.wrappedWidth)});for(var k=!0,E=(w=b==null?void 0:b.start)!==null&&w!==void 0?w:0;E<v.columns.length;){if(x.has(E)){E++;continue}var D=v.columns[E].wrappedWidth;if(k||y>=D)k=!1,S.push(E),T.push(v.columns[E]),y-=D;else break;E++}return{colIndexes:S,columns:T,lastIndex:E-1}}function p(h,v){for(var b=[],w=0;w<v.columns.length;w++){var y=f(h,v,{start:w});y.columns.length&&(b.push(y),w=y.lastIndex)}return b}l.calculateAllColumnsCanFitInPage=p},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(S,T){p(S,T);var C=[],k=0;T.columns.forEach(function(D){var I=D.getMaxCustomCellWidth(T);I?D.width=I:(D.width=D.wrappedWidth,C.push(D)),k+=D.width});var E=T.getWidth(S.pageSize().width)-k;E&&(E=h(C,E,function(D){return Math.max(D.minReadableWidth,D.minWidth)})),E&&(E=h(C,E,function(D){return D.minWidth})),E=Math.abs(E),!T.settings.horizontalPageBreak&&E>.1/S.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),b(T),w(T,S),v(T)}l.calculateWidths=f;function p(S,T){var C=S.scaleFactor(),k=T.settings.horizontalPageBreak,E=(0,c.getPageAvailableWidth)(S,T);T.allRows().forEach(function(D){for(var I=0,B=T.columns;I<B.length;I++){var O=B[I],M=D.cells[O.index];if(M){var U=T.hooks.didParseCell;T.callCellHooks(S,U,M,D,O,null);var F=M.padding("horizontal");M.contentWidth=(0,c.getStringWidth)(M.text,M.styles,S)+F;var G=(0,c.getStringWidth)(M.text.join(" ").split(/[^\S\u00A0]+/),M.styles,S);if(M.minReadableWidth=G+M.padding("horizontal"),typeof M.styles.cellWidth=="number")M.minWidth=M.styles.cellWidth,M.wrappedWidth=M.styles.cellWidth;else if(M.styles.cellWidth==="wrap"||k===!0)M.contentWidth>E?(M.minWidth=E,M.wrappedWidth=E):(M.minWidth=M.contentWidth,M.wrappedWidth=M.contentWidth);else{var R=10/C;M.minWidth=M.styles.minCellWidth||R,M.wrappedWidth=M.contentWidth,M.minWidth>M.wrappedWidth&&(M.wrappedWidth=M.minWidth)}}}}),T.allRows().forEach(function(D){for(var I=0,B=T.columns;I<B.length;I++){var O=B[I],M=D.cells[O.index];if(M&&M.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,M.wrappedWidth),O.minWidth=Math.max(O.minWidth,M.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,M.minReadableWidth);else{var U=T.styles.columnStyles[O.dataKey]||T.styles.columnStyles[O.index]||{},F=U.cellWidth||U.minCellWidth;F&&typeof F=="number"&&(O.minWidth=F,O.wrappedWidth=F)}M&&(M.colSpan>1&&!O.minWidth&&(O.minWidth=M.minWidth),M.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=M.minWidth))}})}function h(S,T,C){for(var k=T,E=S.reduce(function(R,$){return R+$.wrappedWidth},0),D=0;D<S.length;D++){var I=S[D],B=I.wrappedWidth/E,O=k*B,M=I.width+O,U=C(I),F=M<U?U:M;T-=F-I.width,I.width=F}if(T=Math.round(T*1e10)/1e10,T){var G=S.filter(function(R){return T<0?R.width>C(R):!0});G.length&&(T=h(G,T,C))}return T}l.resizeColumns=h;function v(S){for(var T={},C=1,k=S.allRows(),E=0;E<k.length;E++)for(var D=k[E],I=0,B=S.columns;I<B.length;I++){var O=B[I],M=T[O.index];if(C>1)C--,delete D.cells[O.index];else if(M)M.cell.height+=D.height,C=M.cell.colSpan,delete D.cells[O.index],M.left--,M.left<=1&&delete T[O.index];else{var U=D.cells[O.index];if(!U)continue;if(U.height=D.height,U.rowSpan>1){var F=k.length-E,G=U.rowSpan>F?F:U.rowSpan;T[O.index]={cell:U,left:G,row:D}}}}}function b(S){for(var T=S.allRows(),C=0;C<T.length;C++)for(var k=T[C],E=null,D=0,I=0,B=0;B<S.columns.length;B++){var O=S.columns[B];if(I-=1,I>1&&S.columns[B+1])D+=O.width,delete k.cells[O.index];else if(E){var M=E;delete k.cells[O.index],E=null,M.width=O.width+D}else{var M=k.cells[O.index];if(!M)continue;if(I=M.colSpan,D=0,M.colSpan>1){E=M,D+=O.width;continue}M.width=O.width+D}}}function w(S,T){for(var C={count:0,height:0},k=0,E=S.allRows();k<E.length;k++){for(var D=E[k],I=0,B=S.columns;I<B.length;I++){var O=B[I],M=D.cells[O.index];if(M){T.applyStyles(M.styles,!0);var U=M.width-M.padding("horizontal");if(M.styles.overflow==="linebreak")M.text=T.splitTextToSize(M.text,U+1/T.scaleFactor(),{fontSize:M.styles.fontSize});else if(M.styles.overflow==="ellipsize")M.text=y(M.text,U,M.styles,T,"...");else if(M.styles.overflow==="hidden")M.text=y(M.text,U,M.styles,T,"");else if(typeof M.styles.overflow=="function"){var F=M.styles.overflow(M.text,U);typeof F=="string"?M.text=[F]:M.text=F}M.contentHeight=M.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var G=M.contentHeight/M.rowSpan;M.rowSpan>1&&C.count*C.height<G*M.rowSpan?C={height:G,count:M.rowSpan}:C&&C.count>0&&C.height>G&&(G=C.height),G>D.height&&(D.height=G)}}C.count--}}function y(S,T,C,k,E){return S.map(function(D){return x(D,T,C,k,E)})}l.ellipsize=y;function x(S,T,C,k,E){var D=1e4*k.scaleFactor();if(T=Math.ceil(T*D)/D,T>=(0,c.getStringWidth)(S,C,k))return S;for(;T<(0,c.getStringWidth)(S+E,C,k)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+E}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),p=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return p.Table}});var h=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return h.CellHookData}});var v=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return v.Row}});function b(T){(0,l.default)(T)}s.applyPlugin=b;function w(T,C){var k=(0,u.parseInput)(T,C),E=(0,f.createTable)(T,k);(0,c.drawTable)(T,E)}function y(T,C){var k=(0,u.parseInput)(T,C);return(0,f.createTable)(T,k)}s.__createTable=y;function x(T,C){(0,c.drawTable)(T,C)}s.__drawTable=x;try{var S=a(964);S.jsPDF&&(S=S.jsPDF),b(S)}catch{}s.default=w}(),o}()})})(jI);var CZ=jI.exports;const v0=Kt(CZ),T1="data:application/font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAAAAQAAAAIAAAGDAAAAAAFT1MvMg8SDzQAAAZgAAAAYGNtYXABDQGXAAAIJAAAAOpnYXNw//8AAwAAGYQAAAAIZ2x5ZgscA3UAABmUAAE4YGhlYWQG41YJAAA8ZAAAADZoaGVhA+IB6AAAAD3sAAAAJGhtdHgAewYIAAABQAAAALRsb2NhAIwBqAAAE0gAAAFQbWF4cAIgA2gAAD4UAAAAIG5hbWXLh+9IAAAR0AAAAYdwb3N0/5wAMQAAFUgAAAAgcHJlcGgGjIUDAAAY/AAAAFMAAQAAAAEAAC7a32BfDzz1AAsEAAAAAADbB8BSAAAAANsHwFIAAAAAAIAAAACAAAAAwAAABQAAwABAAAAFAAEAEAAAAAMAAgAAgAEAAEAIOkB//8AAOkg///+8wDsAPAAAwAAAAAAAAECAAAAAAAAAAAAAAICAAUAAAAAAAAAAAAAAAACAAEAAgAGAAgAAwABBAkAAQACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAIAAwABBAkAAgACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAgAAAAAAAAAAAACACgAAAAAAAoAP8AwADgAAAAAAAAAAAAAAMwAZAAAAAAAAABkAUAAAAAAAAAAAAAAAACQAZAAAAAAAAAAQADgAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAUAFQAAAAAAAAAAAAAABgAYAAAAAAAAAAAAAAAHABsAAAAAAAAAAAAAAAgAIAAAAAAAAAAAAAAACQAhAAAAAAAAAAAAAAAKACMAAAAAAAAAAAAAAAsAKgAAAAAAAAAAAAAADAAqAAAAAAAAAAAAAAANACwAAAAAAAAAAAAAAA4ALgAAAAAAAAAAAAAADwAvAAAAAAAAAAAAAAABAAAADgAAAAAAAAAAAAAAAQAIAAIAAAAAAAAAAgAAAAEAAQABAAAAAgAAAAIAAgABAAIAAgACAAEAAgACAAIAAgACAAEAAwACAAQAAwACAAQABQADAAYAAgAHAAkABQAIAAgACQAJAAoACQALAAkADAAJAA0ACQAOAAkADwAJABAACQARAAkAEgAJABMACQAUAAkAFQAJABYACQAXAAkAGAACABkACgAaAAoAGwAKABwACgAdAAoAHgAKAB8ACgAgAAoAIQAKACQAKgAlACoAJgAqACcAKgAoACoAKQAqACoAKgArACoALAAsAC0ALAAuACwALwAsADAALAAxACwAMgAsADMALAA0ACwANQAsADYALAA3ACwAOAAsADkALAA6ACwAOwAsADwALAA9ACwAPgAsAD8ALAA/ACwAQAB/AEIAfwBDAH8ARAB/AEUAfwBGAH8ARwB/AEgAQQBBAEIAQQBDAEEARABBAEUAQQBGAEEARwBBAEgAQgBIAEMASABEAEMASQBGAEcASABHAEgASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBsAG0AbgBvAHAAcQByAHMAdAB1AGMAAAAABgADAPgACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAdG9wZQAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAMjAwMjAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAACAAQAAAPgA8AD8ARABIAFoAYABqAHQAgACSAKwAwADcAOwA8AEAARgBKAE4AUQBXAFsAXgBiAGcAbQBzAHkAfACKAJYAnQCqAK8AsgC4ALsAxADFAMcAzgDQANUA2ADbAN8A4wDnAPcA+gD/AQUA7QDvAPEA8wD1APgA+wD9AP8BBAEEAQwBFQEaASQBKwEyATYBOgE+AUIDQgNGA0oDTgNSA1YDWgNeA2IDZgNqA24DcQN2A3kDfgOAA4QDiAOOA5IDlAOYA5wDoAOmA6oDrgOyA7YDuwPCA8YDyQPOBAAECgQWBBwEIgQoBDIEOgRABEYEUARWBFwEZAQAAAQAAAAAAAAAAAAAAAAAB/8AAQAHAAABAAAAAAAAAAAAAAAAABoBAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAABAAADAPgAAwADAPgAAQADAPgABQADAPgA//8ABQAAAAAAAAACAAYAAAAUAAEAAAABAAIAAAAAAAAAAQAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-Regular.ttf",y0=(t,e)=>{try{if(!T1||!T1.includes(","))throw new Error("Invalid font data URI");const n=T1.split(",")[1];t.addFileToVFS("Amiri-Regular.ttf",n),t.addFont("Amiri-Regular.ttf","Amiri","normal"),t.setFont("Amiri")}catch(n){console.error("Error loading custom font for PDF, falling back to default.",n),t.setFont("helvetica")}},Va=(t,e,n,r,i,a)=>{if(n.length===0){alert(a);return}const o=new ut;y0(o),o.setFontSize(18);const s=o.internal.pageSize.getWidth();o.text(t,s/2,20,{align:"center"}),v0(o,{head:[e],body:n,startY:30,theme:"grid",styles:{font:"Amiri",halign:i==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}});const l=new Date().toLocaleDateString(i.split("-")[0]);o.save(`${r}_${l}.pdf`)},ng=(t,e,n)=>{const r=new Date;let i=null,a=new Date;switch(a.setHours(23,59,59,999),e){case"today":i=new Date(r.setHours(0,0,0,0));break;case"week":i=new Date(r),i.setDate(r.getDate()-r.getDay()+(r.getDay()===0?-6:1)),i.setHours(0,0,0,0);break;case"month":i=new Date(r.getFullYear(),r.getMonth(),1);break;case"custom":i=n.start?new Date(n.start):null,a=n.end?new Date(n.end):null,i&&i.setHours(0,0,0,0),a&&a.setHours(23,59,59,999);break;default:return t}return t.filter(o=>{const s=new Date(o.date),l=i?s>=i:!0,u=a?s<=a:!0;return l&&u})},NZ=({variant:t,product:e,onDone:n,t:r})=>(ie.useEffect(()=>{const i=()=>{window.removeEventListener("afterprint",i),n()};window.addEventListener("afterprint",i);const a=setTimeout(()=>{i()},500);return window.print(),()=>{clearTimeout(a),window.removeEventListener("afterprint",i)}},[n]),t.barcode?m.jsx("div",{id:"printable-barcode",className:"p-2 bg-white text-black font-sans",style:{width:"80mm",height:"40mm",boxSizing:"border-box"},children:m.jsxs("div",{className:"border border-black p-2 h-full flex flex-col justify-between items-center text-center",children:[m.jsxs("div",{className:"w-full",children:[m.jsx("p",{className:"font-bold text-lg truncate",children:e.name}),m.jsx("p",{className:"text-sm truncate",children:t.name})]}),m.jsxs("div",{className:"w-full my-1",children:[m.jsx("div",{className:"flex justify-center items-end h-10 overflow-hidden",children:t.barcode.split("").map((i,a)=>m.jsx("div",{className:"bg-black",style:{width:`${parseInt(i,16)%3+1}px`,height:`${parseInt(i,16)%40+40}%`}},a))}),m.jsx("p",{className:"font-mono tracking-widest text-lg mt-1",children:t.barcode})]}),m.jsxs("p",{className:"font-extrabold text-xl",children:[t.price.toFixed(2)," DH"]})]})}):null),EZ=({product:t,variants:e,onClose:n,onSave:r,t:i})=>{const[a,o]=ie.useState(""),[s,l]=ie.useState(1),[u,c]=ie.useState(0),[f,p]=ie.useState(0);ie.useEffect(()=>{e.length===1&&o(e[0].id)},[e]),ie.useEffect(()=>{const v=e.find(b=>b.id===a);v?(c(v.purchasePrice),p(v.price),l(1)):(c(0),p(0),l(1))},[a,e]);const h=v=>{if(v.preventDefault(),!a||s===""||s<=0||u===""||u<0||f===""||f<=0){alert(i("fillAllFieldsError"));return}if(f<=u){alert(i("sellingPriceMustBeHigherError"));return}r({variantId:a,quantity:s,purchasePrice:u,sellingPrice:f})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:i("addStockFor",{name:t.name})}),m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"variant",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("selectVariant")}),m.jsxs("select",{id:"variant",value:a,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,children:[m.jsx("option",{value:"",disabled:!0,children:i("selectVariant")}),e.map(v=>m.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("quantityToAdd")}),m.jsx("input",{id:"quantity",type:"number",value:s,onChange:v=>l(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("purchasePrice")}),m.jsx("input",{id:"purchasePrice",type:"number",value:u,onChange:v=>c(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"sellingPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("sellingPrice")}),m.jsx("input",{id:"sellingPrice",type:"number",value:f,onChange:v=>p(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{type:"submit",disabled:!a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400 dark:disabled:bg-slate-500",children:i("save")})]})]})]})})},C1=20,kZ=({storeId:t,products:e,variants:n,suppliers:r,categories:i,stockMap:a,addProduct:o,updateProduct:s,deleteProduct:l,addStockToVariant:u,t:c,language:f})=>{const[p,h]=ie.useState(!1),[v,b]=ie.useState(null),[w,y]=ie.useState(null),[x,S]=ie.useState(""),[T,C]=ie.useState(""),[k,E]=ie.useState(""),[D,I]=ie.useState(""),[B,O]=ie.useState([]),[M,U]=ie.useState([]),[F,G]=ie.useState(""),[R,$]=ie.useState(null),[V,Y]=ie.useState({}),ne=ie.useMemo(()=>{const Ne=new Map;return n.forEach(Ee=>{const xe=Ne.get(Ee.productId)||[];xe.push(Ee),Ne.set(Ee.productId,xe)}),Ne},[n]),le=ie.useMemo(()=>{if(!F)return e;const Ne=F.toLowerCase(),Ee=new Set(e.filter(Pe=>Pe.name.toLowerCase().includes(Ne)).map(Pe=>Pe.id)),xe=new Set(i.filter(Pe=>Pe.name.toLowerCase().includes(Ne)).map(Pe=>Pe.id));return e.filter(Pe=>Ee.has(Pe.id)||Pe.categoryId&&xe.has(Pe.categoryId))},[F,e,i]);ie.useEffect(()=>{if(F){const Ne=new Set(le.map(Ee=>Ee.categoryId||"uncategorized"));U(Array.from(Ne))}else U([]);Y({})},[F,le]);const L=Ne=>{U(Ee=>Ee.includes(Ne)?Ee.filter(xe=>xe!==Ne):[...Ee,Ne])},q=()=>{h(!1),b(null),S(""),C(""),E(""),I(""),O([]);const Ne=document.getElementById("productImageFile");Ne&&(Ne.value="")},J=Ne=>{var Ee;h(!0),b(Ne),S(Ne.name),C(Ne.categoryId||""),E(Ne.supplierId||""),I(Ne.image),O(((Ee=ne.get(Ne.id))==null?void 0:Ee.map(xe=>({...xe,priceSemiWholesale:xe.priceSemiWholesale||0,priceWholesale:xe.priceWholesale||0,stockQuantity:a.get(xe.id)||0})))||[]),window.scrollTo({top:0,behavior:"smooth"})},te=Ne=>{if(Ne.target.files&&Ne.target.files[0]){const Ee=Ne.target.files[0],xe=new FileReader;xe.onloadend=()=>I(xe.result),xe.readAsDataURL(Ee)}},X=(Ne,Ee,xe)=>{const Pe=[...B];Pe[Ne][Ee]=xe,O(Pe)},se=(Ne,Ee)=>{if(Ee.target.files&&Ee.target.files[0]){const xe=Ee.target.files[0],Pe=new FileReader;Pe.onloadend=()=>{const be=[...B];be[Ne].image=Pe.result,O(be)},Pe.readAsDataURL(xe)}},ue=()=>{O([...B,{name:"",price:0,priceSemiWholesale:0,priceWholesale:0,purchasePrice:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:0}])},Z=Ne=>{O(B.filter((Ee,xe)=>xe!==Ne))},he=async Ne=>{if(Ne.preventDefault(),!x||B.length===0){alert(c("fillNameAndPriceError"));return}for(const Ee of B){if(!Ee.name||Ee.price<=0){alert(c("fillNameAndPriceError"));return}if(Ee.price<=Ee.purchasePrice){alert(c("sellingPriceMustBeHigherError"));return}}if(p&&v){const Ee={...v,name:x,categoryId:T||void 0,supplierId:k||void 0,image:D||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`};await s(Ee,B)}else{const Ee={storeId:t,name:x,type:"good",categoryId:T||void 0,supplierId:k||void 0,image:D||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`,createdAt:new Date().toISOString()},xe=B.map(({stockQuantity:Pe,...be})=>be);await o(Ee,xe)}q()},me=async Ne=>{window.confirm(c("confirmProductDelete"))&&await l(Ne)},ce=()=>{const Ne=[c("productName"),c("variantName"),c("price"),c("purchasePrice"),c("stock"),c("barcode"),c("categories"),c("suppliers")],Ee=n.map(xe=>{var be,ke;const Pe=e.find(ye=>ye.id===xe.productId);return[(Pe==null?void 0:Pe.name)||"N/A",xe.name,xe.price,xe.purchasePrice,a.get(xe.id)||0,xe.barcode||"N/A",((be=i.find(ye=>ye.id===(Pe==null?void 0:Pe.categoryId)))==null?void 0:be.name)||"N/A",((ke=r.find(ye=>ye.id===(Pe==null?void 0:Pe.supplierId)))==null?void 0:ke.name)||"N/A"]});Va(c("productList"),Ne,Ee,"products_with_variants",f,c("noDataToExport"))},je=async Ne=>{w&&(await u({...Ne,supplierId:w.supplierId}),y(null))},Re=R?e.find(Ne=>Ne.id===R.productId):null,Ce=Ne=>Ne.map(Ee=>{const xe=ne.get(Ee.id)||[];return m.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[m.jsxs("div",{className:"flex items-center gap-3 md:col-span-5",children:[m.jsx("img",{src:Ee.image,alt:Ee.name,className:"w-12 h-12 object-cover rounded-md bg-gray-200"}),m.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:Ee.name})]}),m.jsx("div",{className:"md:col-span-5",children:xe.length>0?m.jsxs("details",{children:[m.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-teal-700 dark:text-teal-400",children:[xe.length," ",c("variants")]}),m.jsx("ul",{className:"mt-2 space-y-2",children:xe.map(Pe=>m.jsxs("li",{className:"flex items-center gap-3 text-xs p-1 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[m.jsx("img",{src:Pe.image,alt:Pe.name,className:"w-8 h-8 rounded-md object-cover bg-gray-200"}),m.jsx("span",{className:"flex-grow font-semibold text-slate-600 dark:text-slate-300",children:Pe.name}),m.jsxs("span",{className:"font-mono text-cyan-700 dark:text-cyan-400",children:[Pe.price.toFixed(2)," DH"]}),m.jsxs("span",{className:`px-2 py-0.5 font-medium rounded-full text-xs ${(a.get(Pe.id)||0)>Pe.lowStockThreshold?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[c("stock"),": ",a.get(Pe.id)||0]}),Pe.barcode&&m.jsx("button",{onClick:()=>$(Pe),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:c("printBarcodeLabel"),children:m.jsx(EO,{className:"w-5 h-5"})})]},Pe.id))})]}):m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:c("noVariants")})}),m.jsxs("div",{className:"flex items-center gap-2 justify-end md:col-span-2",children:[m.jsx("button",{onClick:()=>y(Ee),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:c("addStock"),children:m.jsx(Sl,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>J(Ee),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Hv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>me(Ee.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(si,{className:"w-5 h-5"})})]})]},Ee.id)}),ae=(Ne,Ee)=>{const xe=Ne.length;if(xe===0&&Ee==="uncategorized")return null;if(xe===0)return m.jsx("p",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:c("noProductsInCategory")});const Pe=V[Ee]||1,be=Math.ceil(xe/C1),ke=(Pe-1)*C1,ye=ke+C1,Ge=Ne.slice(ke,ye),We=ot=>{ot<1||ot>be||Y(Ve=>({...Ve,[Ee]:ot}))};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Ce(Ge)}),be>1&&m.jsxs("div",{className:"p-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[m.jsx("button",{onClick:()=>We(Pe-1),disabled:Pe===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("previous"),children:m.jsx($A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",Pe," / ",be]}),m.jsx("button",{onClick:()=>We(Pe+1),disabled:Pe===be,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("next"),children:m.jsx(FA,{className:"w-5 h-5"})})]})]})};return m.jsxs("div",{className:"space-y-6",children:[R&&Re&&m.jsx(NZ,{variant:R,product:Re,onDone:()=>$(null),t:c}),w&&m.jsx(EZ,{product:w,variants:ne.get(w.id)||[],onClose:()=>y(null),onSave:je,t:c}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:c(p?"editProduct":"addNewProduct")}),p&&m.jsx("button",{onClick:q,className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:c("cancel")})]}),m.jsxs("form",{onSubmit:he,className:"space-y-6",children:[m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:c("productInfo")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:D||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${c("productImagePreview")}`,alt:c("productImagePreview"),className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",id:"productImageFile",accept:"image/*",onChange:te,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("productName")}),m.jsx("input",{type:"text",value:x,onChange:Ne=>S(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:c("productNamePlaceholder"),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("categories")}),m.jsxs("select",{value:T,onChange:Ne=>C(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectCategory")}),i.map(Ne=>m.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("suppliers")}),m.jsxs("select",{value:k,onChange:Ne=>E(Ne.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectSupplier")}),r.map(Ne=>m.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})]})]})]})]}),m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:c("productVariants")}),m.jsxs("button",{type:"button",onClick:ue,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(Sl,{className:"w-5 h-5"}),c("addVariant")]})]}),m.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:B.map((Ne,Ee)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 relative",children:[m.jsx("button",{type:"button",onClick:()=>Z(Ee),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:m.jsx(si,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:Ne.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${c("variants")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:xe=>se(Ee,xe),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("variantName")}),m.jsx("input",{type:"text",value:Ne.name,onChange:xe=>X(Ee,"name",xe.target.value),placeholder:c("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("purchasePrice")}),m.jsx("input",{type:"number",value:Ne.purchasePrice,onChange:xe=>X(Ee,"purchasePrice",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("sellingPrice")}),m.jsx("input",{type:"number",value:Ne.price,onChange:xe=>X(Ee,"price",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("semiWholesalePrice")}),m.jsx("input",{type:"number",value:Ne.priceSemiWholesale||"",onChange:xe=>X(Ee,"priceSemiWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("wholesalePrice")}),m.jsx("input",{type:"number",value:Ne.priceWholesale||"",onChange:xe=>X(Ee,"priceWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("stockQuantity")}),m.jsx("input",{type:"number",value:Ne.stockQuantity,onChange:xe=>X(Ee,"stockQuantity",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("lowStockThreshold")}),m.jsx("input",{type:"number",value:Ne.lowStockThreshold,onChange:xe=>X(Ee,"lowStockThreshold",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.5"})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("barcode")}),m.jsx("input",{type:"text",value:Ne.barcode||"",onChange:xe=>X(Ee,"barcode",xe.target.value),placeholder:c("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]})]})]})]},Ee))})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg",children:c(p?"saveChanges":"saveProduct")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("productList")}),m.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[m.jsxs("button",{onClick:()=>{q(),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(Sl,{className:"w-4 h-4"})," ",c("addNewProduct")]}),m.jsxs("div",{className:"relative flex-grow",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center pl-3 rtl:pl-0 rtl:pr-3 pointer-events-none",children:m.jsx(mq,{className:"w-5 h-5 text-slate-400"})}),m.jsx("input",{type:"text",placeholder:c("searchProducts"),value:F,onChange:Ne=>G(Ne.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 rtl:pr-10 rtl:pl-4 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-2 focus:ring-teal-500 transition"})]}),m.jsxs("button",{onClick:ce,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(ma,{className:"w-4 h-4"})," ",c("exportToPdf")]})]})]}),m.jsxs("div",{className:"mt-6 space-y-3",children:[i.map(Ne=>{const Ee=le.filter(Pe=>Pe.categoryId===Ne.id);if(Ee.length===0)return null;const xe=M.includes(Ne.id);return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>L(Ne.id),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":xe,"aria-controls":`category-panel-${Ne.id}`,children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[Ne.name," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ee.length,")"]})]}),m.jsx(tN,{className:`w-6 h-6 text-slate-500 transition-transform ${xe?"rotate-180":""}`})]}),xe&&m.jsx("div",{id:`category-panel-${Ne.id}`,children:ae(Ee,Ne.id)})]},Ne.id)}),(()=>{const Ne=le.filter(xe=>!xe.categoryId);if(Ne.length===0)return null;const Ee=M.includes("uncategorized");return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>L("uncategorized"),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":Ee,"aria-controls":"category-panel-uncategorized",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[c("uncategorized")," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ne.length,")"]})]}),m.jsx(tN,{className:`w-6 h-6 text-slate-500 transition-transform ${Ee?"rotate-180":""}`})]}),Ee&&m.jsx("div",{id:"category-panel-uncategorized",children:ae(Ne,"uncategorized")})]})})(),e.length>0&&le.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noResultsFound")}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noProductsAdded")})]})]})]})};function LI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LI(t))&&(r&&(r+=" "),r+=e);return r}var PZ=Array.isArray,ki=PZ,MZ=typeof mr=="object"&&mr&&mr.Object===Object&&mr,RI=MZ,DZ=RI,OZ=typeof self=="object"&&self&&self.Object===Object&&self,IZ=DZ||OZ||Function("return this")(),Co=IZ,jZ=Co,LZ=jZ.Symbol,UA=LZ,YE=UA,FI=Object.prototype,RZ=FI.hasOwnProperty,FZ=FI.toString,Ih=YE?YE.toStringTag:void 0;function $Z(t){var e=RZ.call(t,Ih),n=t[Ih];try{t[Ih]=void 0;var r=!0}catch{}var i=FZ.call(t);return r&&(e?t[Ih]=n:delete t[Ih]),i}var BZ=$Z,UZ=Object.prototype,qZ=UZ.toString;function HZ(t){return qZ.call(t)}var zZ=HZ,KE=UA,VZ=BZ,GZ=zZ,WZ="[object Null]",YZ="[object Undefined]",JE=KE?KE.toStringTag:void 0;function KZ(t){return t==null?t===void 0?YZ:WZ:JE&&JE in Object(t)?VZ(t):GZ(t)}var ys=KZ;function JZ(t){return t!=null&&typeof t=="object"}var bs=JZ,XZ=ys,QZ=bs,ZZ="[object Symbol]";function eee(t){return typeof t=="symbol"||QZ(t)&&XZ(t)==ZZ}var kd=eee,tee=ki,nee=kd,ree=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iee=/^\w*$/;function aee(t,e){if(tee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||nee(t)?!0:iee.test(t)||!ree.test(t)||e!=null&&t in Object(e)}var ES=aee;function oee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bl=oee;const Pd=Kt(Bl);var see=ys,lee=Bl,uee="[object AsyncFunction]",cee="[object Function]",fee="[object GeneratorFunction]",dee="[object Proxy]";function hee(t){if(!lee(t))return!1;var e=see(t);return e==cee||e==fee||e==uee||e==dee}var kS=hee;const bt=Kt(kS);var pee=Co,Aee=pee["__core-js_shared__"],mee=Aee,N1=mee,XE=function(){var t=/[^.]+$/.exec(N1&&N1.keys&&N1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function gee(t){return!!XE&&XE in t}var vee=gee,yee=Function.prototype,bee=yee.toString;function xee(t){if(t!=null){try{return bee.call(t)}catch{}try{return t+""}catch{}}return""}var $I=xee,wee=kS,See=vee,_ee=Bl,Tee=$I,Cee=/[\\^$.*+?()[\]{}|]/g,Nee=/^\[object .+?Constructor\]$/,Eee=Function.prototype,kee=Object.prototype,Pee=Eee.toString,Mee=kee.hasOwnProperty,Dee=RegExp("^"+Pee.call(Mee).replace(Cee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oee(t){if(!_ee(t)||See(t))return!1;var e=wee(t)?Dee:Nee;return e.test(Tee(t))}var Iee=Oee;function jee(t,e){return t==null?void 0:t[e]}var Lee=jee,Ree=Iee,Fee=Lee;function $ee(t,e){var n=Fee(t,e);return Ree(n)?n:void 0}var ic=$ee,Bee=ic,Uee=Bee(Object,"create"),Xv=Uee,QE=Xv;function qee(){this.__data__=QE?QE(null):{},this.size=0}var Hee=qee;function zee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Vee=zee,Gee=Xv,Wee="__lodash_hash_undefined__",Yee=Object.prototype,Kee=Yee.hasOwnProperty;function Jee(t){var e=this.__data__;if(Gee){var n=e[t];return n===Wee?void 0:n}return Kee.call(e,t)?e[t]:void 0}var Xee=Jee,Qee=Xv,Zee=Object.prototype,ete=Zee.hasOwnProperty;function tte(t){var e=this.__data__;return Qee?e[t]!==void 0:ete.call(e,t)}var nte=tte,rte=Xv,ite="__lodash_hash_undefined__";function ate(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rte&&e===void 0?ite:e,this}var ote=ate,ste=Hee,lte=Vee,ute=Xee,cte=nte,fte=ote;function Md(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Md.prototype.clear=ste;Md.prototype.delete=lte;Md.prototype.get=ute;Md.prototype.has=cte;Md.prototype.set=fte;var dte=Md;function hte(){this.__data__=[],this.size=0}var pte=hte;function Ate(t,e){return t===e||t!==t&&e!==e}var PS=Ate,mte=PS;function gte(t,e){for(var n=t.length;n--;)if(mte(t[n][0],e))return n;return-1}var Qv=gte,vte=Qv,yte=Array.prototype,bte=yte.splice;function xte(t){var e=this.__data__,n=vte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():bte.call(e,n,1),--this.size,!0}var wte=xte,Ste=Qv;function _te(t){var e=this.__data__,n=Ste(e,t);return n<0?void 0:e[n][1]}var Tte=_te,Cte=Qv;function Nte(t){return Cte(this.__data__,t)>-1}var Ete=Nte,kte=Qv;function Pte(t,e){var n=this.__data__,r=kte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Mte=Pte,Dte=pte,Ote=wte,Ite=Tte,jte=Ete,Lte=Mte;function Dd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dd.prototype.clear=Dte;Dd.prototype.delete=Ote;Dd.prototype.get=Ite;Dd.prototype.has=jte;Dd.prototype.set=Lte;var Zv=Dd,Rte=ic,Fte=Co,$te=Rte(Fte,"Map"),MS=$te,ZE=dte,Bte=Zv,Ute=MS;function qte(){this.size=0,this.__data__={hash:new ZE,map:new(Ute||Bte),string:new ZE}}var Hte=qte;function zte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Vte=zte,Gte=Vte;function Wte(t,e){var n=t.__data__;return Gte(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ey=Wte,Yte=ey;function Kte(t){var e=Yte(this,t).delete(t);return this.size-=e?1:0,e}var Jte=Kte,Xte=ey;function Qte(t){return Xte(this,t).get(t)}var Zte=Qte,ene=ey;function tne(t){return ene(this,t).has(t)}var nne=tne,rne=ey;function ine(t,e){var n=rne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ane=ine,one=Hte,sne=Jte,lne=Zte,une=nne,cne=ane;function Od(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Od.prototype.clear=one;Od.prototype.delete=sne;Od.prototype.get=lne;Od.prototype.has=une;Od.prototype.set=cne;var DS=Od,BI=DS,fne="Expected a function";function OS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(OS.Cache||BI),n}OS.Cache=BI;var UI=OS;const dne=Kt(UI);var hne=UI,pne=500;function Ane(t){var e=hne(t,function(r){return n.size===pne&&n.clear(),r}),n=e.cache;return e}var mne=Ane,gne=mne,vne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yne=/\\(\\)?/g,bne=gne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vne,function(n,r,i,a){e.push(i?a.replace(yne,"$1"):r||n)}),e}),xne=bne;function wne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var IS=wne,e4=UA,Sne=IS,_ne=ki,Tne=kd,t4=e4?e4.prototype:void 0,n4=t4?t4.toString:void 0;function qI(t){if(typeof t=="string")return t;if(_ne(t))return Sne(t,qI)+"";if(Tne(t))return n4?n4.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Cne=qI,Nne=Cne;function Ene(t){return t==null?"":Nne(t)}var HI=Ene,kne=ki,Pne=ES,Mne=xne,Dne=HI;function One(t,e){return kne(t)?t:Pne(t,e)?[t]:Mne(Dne(t))}var zI=One,Ine=kd;function jne(t){if(typeof t=="string"||Ine(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ty=jne,Lne=zI,Rne=ty;function Fne(t,e){e=Lne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Rne(e[n++])];return n&&n==r?t:void 0}var jS=Fne,$ne=jS;function Bne(t,e,n){var r=t==null?void 0:$ne(t,e);return r===void 0?n:r}var VI=Bne;const Ji=Kt(VI);function Une(t){return t==null}var qne=Une;const It=Kt(qne);var Hne=ys,zne=ki,Vne=bs,Gne="[object String]";function Wne(t){return typeof t=="string"||!zne(t)&&Vne(t)&&Hne(t)==Gne}var Yne=Wne;const qu=Kt(Yne);var GI={exports:{}},rn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS=Symbol.for("react.element"),RS=Symbol.for("react.portal"),ny=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),iy=Symbol.for("react.profiler"),ay=Symbol.for("react.provider"),oy=Symbol.for("react.context"),Kne=Symbol.for("react.server_context"),sy=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),uy=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),fy=Symbol.for("react.lazy"),Jne=Symbol.for("react.offscreen"),WI;WI=Symbol.for("react.module.reference");function Ma(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LS:switch(t=t.type,t){case ny:case iy:case ry:case ly:case uy:return t;default:switch(t=t&&t.$$typeof,t){case Kne:case oy:case sy:case fy:case cy:case ay:return t;default:return e}}case RS:return e}}}rn.ContextConsumer=oy;rn.ContextProvider=ay;rn.Element=LS;rn.ForwardRef=sy;rn.Fragment=ny;rn.Lazy=fy;rn.Memo=cy;rn.Portal=RS;rn.Profiler=iy;rn.StrictMode=ry;rn.Suspense=ly;rn.SuspenseList=uy;rn.isAsyncMode=function(){return!1};rn.isConcurrentMode=function(){return!1};rn.isContextConsumer=function(t){return Ma(t)===oy};rn.isContextProvider=function(t){return Ma(t)===ay};rn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LS};rn.isForwardRef=function(t){return Ma(t)===sy};rn.isFragment=function(t){return Ma(t)===ny};rn.isLazy=function(t){return Ma(t)===fy};rn.isMemo=function(t){return Ma(t)===cy};rn.isPortal=function(t){return Ma(t)===RS};rn.isProfiler=function(t){return Ma(t)===iy};rn.isStrictMode=function(t){return Ma(t)===ry};rn.isSuspense=function(t){return Ma(t)===ly};rn.isSuspenseList=function(t){return Ma(t)===uy};rn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ny||t===iy||t===ry||t===ly||t===uy||t===Jne||typeof t=="object"&&t!==null&&(t.$$typeof===fy||t.$$typeof===cy||t.$$typeof===ay||t.$$typeof===oy||t.$$typeof===sy||t.$$typeof===WI||t.getModuleId!==void 0)};rn.typeOf=Ma;GI.exports=rn;var Xne=GI.exports,Qne=ys,Zne=bs,ere="[object Number]";function tre(t){return typeof t=="number"||Zne(t)&&Qne(t)==ere}var YI=tre;const nre=Kt(YI);var rre=YI;function ire(t){return rre(t)&&t!=+t}var are=ire;const qA=Kt(are);var ii=function(e){return e===0?0:e>0?1:-1},xu=function(e){return qu(e)&&e.indexOf("%")===e.length-1},Je=function(e){return nre(e)&&!qA(e)},ore=function(e){return It(e)},gr=function(e){return Je(e)||qu(e)},sre=0,HA=function(e){var n=++sre;return"".concat(e||"").concat(n)},ai=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!qu(e))return r;var a;if(xu(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return qA(a)&&(a=r),i&&a>n&&(a=n),a},ol=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},lre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Qs=function(e,n){return Je(e)&&Je(n)?function(r){return e+r*(n-e)}:function(){return n}};function O2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ji(r,e))===n})}var ure=function(e,n){return Je(e)&&Je(n)?e-n:qu(e)&&qu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Pf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function I2(t){"@babel/helpers - typeof";return I2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I2(t)}var cre=["viewBox","children"],fre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r4=["points","pathLength"],E1={svg:cre,polygon:r4,polyline:r4},FS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],b0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ie.isValidElement(e)&&(r=e.props),!Pd(r))return null;var i={};return Object.keys(r).forEach(function(a){FS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},dre=function(e,n,r){return function(i){return e(n,r,i),null}},Hu=function(e,n,r){if(!Pd(e)||I2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];FS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=dre(o,n,r))}),i},hre=["children"],pre=["children"];function i4(t,e){if(t==null)return{};var n=Are(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var a4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},os=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},o4=null,k1=null,$S=function t(e){if(e===o4&&Array.isArray(k1))return k1;var n=[];return ie.Children.forEach(e,function(r){It(r)||(Xne.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),k1=n,o4=e,n};function Ea(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return os(i)}):r=[os(e)],$S(t).forEach(function(i){var a=Ji(i,"type.displayName")||Ji(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function $i(t,e){var n=Ea(t,e);return n&&n[0]}var s4=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Je(r)||r<=0||!Je(i)||i<=0)},mre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gre=function(e){return e&&e.type&&qu(e.type)&&mre.indexOf(e.type)>=0},vre=function(e,n,r,i){var a,o=(a=E1==null?void 0:E1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!bt(e)&&(i&&o.includes(n)||fre.includes(n))||r&&FS.includes(n)},vt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ie.isValidElement(e)&&(i=e.props),!Pd(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;vre((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},j2=function t(e,n){if(e===n)return!0;var r=ie.Children.count(e);if(r!==ie.Children.count(n))return!1;if(r===0)return!0;if(r===1)return l4(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!l4(a,o))return!1}return!0},l4=function(e,n){if(It(e)&&It(n))return!0;if(!It(e)&&!It(n)){var r=e.props||{},i=r.children,a=i4(r,hre),o=n.props||{},s=o.children,l=i4(o,pre);return i&&s?Pf(a,l)&&j2(i,s):!i&&!s?Pf(a,l):!1}return!1},u4=function(e,n){var r=[],i={};return $S(e).forEach(function(a,o){if(gre(a))r.push(a);else if(a){var s=os(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},yre=function(e){var n=e&&e.type;return n&&a4[n]?a4[n]:null},bre=function(e,n){return $S(n).indexOf(e)},xre=["children","width","height","viewBox","className","style","title","desc"];function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L2.apply(this,arguments)}function wre(t,e){if(t==null)return{};var n=Sre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=wre(t,xre),c=i||{width:n,height:r,x:0,y:0},f=Dt("recharts-surface",a);return de.createElement("svg",L2({},vt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),de.createElement("title",null,s),de.createElement("desc",null,l),e)}var _re=["children","className"];function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(this,arguments)}function Tre(t,e){if(t==null)return{};var n=Cre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tn=de.forwardRef(function(t,e){var n=t.children,r=t.className,i=Tre(t,_re),a=Dt("recharts-layer",r);return de.createElement("g",F2({className:a},vt(i,!0),{ref:e}),n)}),Xa=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Nre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Ere=Nre,kre=Ere;function Pre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:kre(t,e,n)}var Mre=Pre,Dre="\\ud800-\\udfff",Ore="\\u0300-\\u036f",Ire="\\ufe20-\\ufe2f",jre="\\u20d0-\\u20ff",Lre=Ore+Ire+jre,Rre="\\ufe0e\\ufe0f",Fre="\\u200d",$re=RegExp("["+Fre+Dre+Lre+Rre+"]");function Bre(t){return $re.test(t)}var KI=Bre;function Ure(t){return t.split("")}var qre=Ure,JI="\\ud800-\\udfff",Hre="\\u0300-\\u036f",zre="\\ufe20-\\ufe2f",Vre="\\u20d0-\\u20ff",Gre=Hre+zre+Vre,Wre="\\ufe0e\\ufe0f",Yre="["+JI+"]",$2="["+Gre+"]",B2="\\ud83c[\\udffb-\\udfff]",Kre="(?:"+$2+"|"+B2+")",XI="[^"+JI+"]",QI="(?:\\ud83c[\\udde6-\\uddff]){2}",ZI="[\\ud800-\\udbff][\\udc00-\\udfff]",Jre="\\u200d",ej=Kre+"?",tj="["+Wre+"]?",Xre="(?:"+Jre+"(?:"+[XI,QI,ZI].join("|")+")"+tj+ej+")*",Qre=tj+ej+Xre,Zre="(?:"+[XI+$2+"?",$2,QI,ZI,Yre].join("|")+")",eie=RegExp(B2+"(?="+B2+")|"+Zre+Qre,"g");function tie(t){return t.match(eie)||[]}var nie=tie,rie=qre,iie=KI,aie=nie;function oie(t){return iie(t)?aie(t):rie(t)}var sie=oie,lie=Mre,uie=KI,cie=sie,fie=HI;function die(t){return function(e){e=fie(e);var n=uie(e)?cie(e):void 0,r=n?n[0]:e.charAt(0),i=n?lie(n,1).join(""):e.slice(1);return r[t]()+i}}var hie=die,pie=hie,Aie=pie("toUpperCase"),mie=Aie;const dy=Kt(mie);function xn(t){return function(){return t}}const nj=Math.cos,x0=Math.sin,ro=Math.sqrt,w0=Math.PI,hy=2*w0,U2=Math.PI,q2=2*U2,Au=1e-6,gie=q2-Au;function rj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return rj;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?rj:vie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Au)if(!(Math.abs(f*l-u*c)>Au)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,v=i-s,b=l*l+u*u,w=h*h+v*v,y=Math.sqrt(b),x=Math.sqrt(p),S=a*Math.tan((U2-Math.acos((b+p-w)/(2*y*x)))/2),T=S/x,C=S/y;Math.abs(T-1)>Au&&this._append`L${e+T*c},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*h>c*v)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Au||Math.abs(this._y1-c)>Au)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%q2+q2),p>gie?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:p>Au&&this._append`A${r},${r},0,${+(p>=U2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function BS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yie(e)}function US(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ij(t){this._context=t}ij.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function py(t){return new ij(t)}function aj(t){return t[0]}function oj(t){return t[1]}function sj(t,e){var n=xn(!0),r=null,i=py,a=null,o=BS(s);t=typeof t=="function"?t:t===void 0?aj:xn(t),e=typeof e=="function"?e:e===void 0?oj:xn(e);function s(l){var u,c=(l=US(l)).length,f,p=!1,h;for(r==null&&(a=i(h=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,u,l),+e(f,u,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:xn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:xn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function rg(t,e,n){var r=null,i=xn(!0),a=null,o=py,s=null,l=BS(u);t=typeof t=="function"?t:t===void 0?aj:xn(+t),e=typeof e=="function"?e:xn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?oj:xn(+n);function u(f){var p,h,v,b=(f=US(f)).length,w,y=!1,x,S=new Array(b),T=new Array(b);for(a==null&&(s=o(x=l())),p=0;p<=b;++p){if(!(p<b&&i(w=f[p],p,f))===y)if(y=!y)h=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=h;--v)s.point(S[v],T[v]);s.lineEnd(),s.areaEnd()}y&&(S[p]=+t(w,p,f),T[p]=+e(w,p,f),s.point(r?+r(w,p,f):S[p],n?+n(w,p,f):T[p]))}if(x)return s=null,x+""||null}function c(){return sj().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:xn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:xn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:xn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class lj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bie(t){return new lj(t,!0)}function xie(t){return new lj(t,!1)}const qS={draw(t,e){const n=ro(e/w0);t.moveTo(n,0),t.arc(0,0,n,0,hy)}},wie={draw(t,e){const n=ro(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},uj=ro(1/3),Sie=uj*2,_ie={draw(t,e){const n=ro(e/Sie),r=n*uj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Tie={draw(t,e){const n=ro(e),r=-n/2;t.rect(r,r,n,n)}},Cie=.8908130915292852,cj=x0(w0/10)/x0(7*w0/10),Nie=x0(hy/10)*cj,Eie=-nj(hy/10)*cj,kie={draw(t,e){const n=ro(e*Cie),r=Nie*n,i=Eie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=hy*a/5,s=nj(o),l=x0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},P1=ro(3),Pie={draw(t,e){const n=-ro(e/(P1*3));t.moveTo(0,n*2),t.lineTo(-P1*n,-n),t.lineTo(P1*n,-n),t.closePath()}},fa=-.5,da=ro(3)/2,H2=1/ro(12),Mie=(H2/2+1)*3,Die={draw(t,e){const n=ro(e/Mie),r=n/2,i=n*H2,a=r,o=n*H2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(fa*r-da*i,da*r+fa*i),t.lineTo(fa*a-da*o,da*a+fa*o),t.lineTo(fa*s-da*l,da*s+fa*l),t.lineTo(fa*r+da*i,fa*i-da*r),t.lineTo(fa*a+da*o,fa*o-da*a),t.lineTo(fa*s+da*l,fa*l-da*s),t.closePath()}};function Oie(t,e){let n=null,r=BS(i);t=typeof t=="function"?t:xn(t||qS),e=typeof e=="function"?e:xn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function S0(){}function _0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fj(t){this._context=t}fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iie(t){return new fj(t)}function dj(t){this._context=t}dj.prototype={areaStart:S0,areaEnd:S0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jie(t){return new dj(t)}function hj(t){this._context=t}hj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lie(t){return new hj(t)}function pj(t){this._context=t}pj.prototype={areaStart:S0,areaEnd:S0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Rie(t){return new pj(t)}function c4(t){return t<0?-1:1}function f4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(c4(a)+c4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function d4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function T0(t){this._context=t}T0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M1(this,this._t0,d4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M1(this,d4(this,n=f4(this,t,e)),n);break;default:M1(this,this._t0,n=f4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Aj(t){this._context=new mj(t)}(Aj.prototype=Object.create(T0.prototype)).point=function(t,e){T0.prototype.point.call(this,e,t)};function mj(t){this._context=t}mj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Fie(t){return new T0(t)}function $ie(t){return new Aj(t)}function gj(t){this._context=t}gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=h4(t),i=h4(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function h4(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Bie(t){return new gj(t)}function Ay(t,e){this._context=t,this._t=e}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Uie(t){return new Ay(t,.5)}function qie(t){return new Ay(t,0)}function Hie(t){return new Ay(t,1)}function Vf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function z2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zie(t,e){return t[e]}function Vie(t){const e=[];return e.key=t,e}function Gie(){var t=xn([]),e=z2,n=Vf,r=zie;function i(a){var o=Array.from(t.apply(this,arguments),Vie),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=US(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?z2:typeof a=="function"?a:xn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Vf,i):n},i}function Wie(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Vf(t,e)}}function Yie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Vf(t,e)}}function Kie(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,p=c[r-1][1]||0,h=(f-p)/2,v=0;v<s;++v){var b=t[e[v]],w=b[r][1]||0,y=b[r-1][1]||0;h+=w-y}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Vf(t,e)}}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var Jie=["type","size","sizeType"];function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(this,arguments)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){Xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xie(t,e,n){return e=Qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qie(t){var e=Zie(t,"string");return Hp(e)=="symbol"?e:e+""}function Zie(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eae(t,e){if(t==null)return{};var n=tae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vj={symbolCircle:qS,symbolCross:wie,symbolDiamond:_ie,symbolSquare:Tie,symbolStar:kie,symbolTriangle:Pie,symbolWye:Die},nae=Math.PI/180,rae=function(e){var n="symbol".concat(dy(e));return vj[n]||qS},iae=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aae=function(e,n){vj["symbol".concat(dy(e))]=n},HS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=eae(e,Jie),u=A4(A4({},l),{},{type:r,size:a,sizeType:s}),c=function(){var w=rae(r),y=Oie().type(w).size(iae(a,s,r));return y()},f=u.className,p=u.cx,h=u.cy,v=vt(u,!0);return p===+p&&h===+h&&a===+a?de.createElement("path",V2({},v,{className:Dt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:c()})):null};HS.registerSymbol=aae;function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function G2(){return G2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G2.apply(this,arguments)}function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bj(r.key),r)}}function uae(t,e,n){return e&&lae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cae(t,e,n){return e=C0(e),fae(t,yj()?Reflect.construct(e,n||[],C0(t).constructor):e.apply(t,n))}function fae(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dae(t)}function dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yj=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function hae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W2(t,e)}function W2(t,e){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W2(t,e)}function zp(t,e,n){return e=bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bj(t){var e=pae(t,"string");return Gf(e)=="symbol"?e:e+""}function pae(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ha=32,zS=function(t){function e(){return sae(this,e),cae(this,e,arguments)}return hae(e,t),uae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ha/2,o=ha/6,s=ha/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ha,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ha,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ha/8,"h").concat(ha,"v").concat(ha*3/4,"h").concat(-ha,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var u=oae({},r);return delete u.legendIcon,de.cloneElement(r.legendIcon,u)}return de.createElement(HS,{fill:l,cx:a,cy:a,size:ha,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ha,height:ha},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var b=h.formatter||l,w=Dt(zp(zp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=bt(h.value)?null:h.value;Xa(!bt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?u:h.color;return de.createElement("li",G2({className:w,style:f,key:"legend-item-".concat(v)},Hu(r.props,h,v)),de.createElement(R2,{width:o,height:o,viewBox:c,style:p},r.renderIcon(h)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(y,h,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(ie.PureComponent);zp(zS,"displayName","Legend");zp(zS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Aae=Zv;function mae(){this.__data__=new Aae,this.size=0}var gae=mae;function vae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yae=vae;function bae(t){return this.__data__.get(t)}var xae=bae;function wae(t){return this.__data__.has(t)}var Sae=wae,_ae=Zv,Tae=MS,Cae=DS,Nae=200;function Eae(t,e){var n=this.__data__;if(n instanceof _ae){var r=n.__data__;if(!Tae||r.length<Nae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cae(r)}return n.set(t,e),this.size=n.size,this}var kae=Eae,Pae=Zv,Mae=gae,Dae=yae,Oae=xae,Iae=Sae,jae=kae;function Id(t){var e=this.__data__=new Pae(t);this.size=e.size}Id.prototype.clear=Mae;Id.prototype.delete=Dae;Id.prototype.get=Oae;Id.prototype.has=Iae;Id.prototype.set=jae;var xj=Id,Lae="__lodash_hash_undefined__";function Rae(t){return this.__data__.set(t,Lae),this}var Fae=Rae;function $ae(t){return this.__data__.has(t)}var Bae=$ae,Uae=DS,qae=Fae,Hae=Bae;function N0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Uae;++e<n;)this.add(t[e])}N0.prototype.add=N0.prototype.push=qae;N0.prototype.has=Hae;var wj=N0;function zae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Sj=zae;function Vae(t,e){return t.has(e)}var _j=Vae,Gae=wj,Wae=Sj,Yae=_j,Kae=1,Jae=2;function Xae(t,e,n,r,i,a){var o=n&Kae,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,p=!0,h=n&Jae?new Gae:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],b=e[f];if(r)var w=o?r(b,v,f,e,t,a):r(v,b,f,t,e,a);if(w!==void 0){if(w)continue;p=!1;break}if(h){if(!Wae(e,function(y,x){if(!Yae(h,x)&&(v===y||i(v,y,n,r,a)))return h.push(x)})){p=!1;break}}else if(!(v===b||i(v,b,n,r,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var Tj=Xae,Qae=Co,Zae=Qae.Uint8Array,eoe=Zae;function toe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var noe=toe;function roe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var VS=roe,g4=UA,v4=eoe,ioe=PS,aoe=Tj,ooe=noe,soe=VS,loe=1,uoe=2,coe="[object Boolean]",foe="[object Date]",doe="[object Error]",hoe="[object Map]",poe="[object Number]",Aoe="[object RegExp]",moe="[object Set]",goe="[object String]",voe="[object Symbol]",yoe="[object ArrayBuffer]",boe="[object DataView]",y4=g4?g4.prototype:void 0,D1=y4?y4.valueOf:void 0;function xoe(t,e,n,r,i,a,o){switch(n){case boe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yoe:return!(t.byteLength!=e.byteLength||!a(new v4(t),new v4(e)));case coe:case foe:case poe:return ioe(+t,+e);case doe:return t.name==e.name&&t.message==e.message;case Aoe:case goe:return t==e+"";case hoe:var s=ooe;case moe:var l=r&loe;if(s||(s=soe),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=uoe,o.set(t,e);var c=aoe(s(t),s(e),r,i,a,o);return o.delete(t),c;case voe:if(D1)return D1.call(t)==D1.call(e)}return!1}var woe=xoe;function Soe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Cj=Soe,_oe=Cj,Toe=ki;function Coe(t,e,n){var r=e(t);return Toe(t)?r:_oe(r,n(t))}var Noe=Coe;function Eoe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var koe=Eoe;function Poe(){return[]}var Moe=Poe,Doe=koe,Ooe=Moe,Ioe=Object.prototype,joe=Ioe.propertyIsEnumerable,b4=Object.getOwnPropertySymbols,Loe=b4?function(t){return t==null?[]:(t=Object(t),Doe(b4(t),function(e){return joe.call(t,e)}))}:Ooe,Roe=Loe;function Foe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var $oe=Foe,Boe=ys,Uoe=bs,qoe="[object Arguments]";function Hoe(t){return Uoe(t)&&Boe(t)==qoe}var zoe=Hoe,x4=zoe,Voe=bs,Nj=Object.prototype,Goe=Nj.hasOwnProperty,Woe=Nj.propertyIsEnumerable,Yoe=x4(function(){return arguments}())?x4:function(t){return Voe(t)&&Goe.call(t,"callee")&&!Woe.call(t,"callee")},GS=Yoe,E0={exports:{}};function Koe(){return!1}var Joe=Koe;E0.exports;(function(t,e){var n=Co,r=Joe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(E0,E0.exports);var Ej=E0.exports,Xoe=9007199254740991,Qoe=/^(?:0|[1-9]\d*)$/;function Zoe(t,e){var n=typeof t;return e=e??Xoe,!!e&&(n=="number"||n!="symbol"&&Qoe.test(t))&&t>-1&&t%1==0&&t<e}var WS=Zoe,ese=9007199254740991;function tse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ese}var YS=tse,nse=ys,rse=YS,ise=bs,ase="[object Arguments]",ose="[object Array]",sse="[object Boolean]",lse="[object Date]",use="[object Error]",cse="[object Function]",fse="[object Map]",dse="[object Number]",hse="[object Object]",pse="[object RegExp]",Ase="[object Set]",mse="[object String]",gse="[object WeakMap]",vse="[object ArrayBuffer]",yse="[object DataView]",bse="[object Float32Array]",xse="[object Float64Array]",wse="[object Int8Array]",Sse="[object Int16Array]",_se="[object Int32Array]",Tse="[object Uint8Array]",Cse="[object Uint8ClampedArray]",Nse="[object Uint16Array]",Ese="[object Uint32Array]",Cn={};Cn[bse]=Cn[xse]=Cn[wse]=Cn[Sse]=Cn[_se]=Cn[Tse]=Cn[Cse]=Cn[Nse]=Cn[Ese]=!0;Cn[ase]=Cn[ose]=Cn[vse]=Cn[sse]=Cn[yse]=Cn[lse]=Cn[use]=Cn[cse]=Cn[fse]=Cn[dse]=Cn[hse]=Cn[pse]=Cn[Ase]=Cn[mse]=Cn[gse]=!1;function kse(t){return ise(t)&&rse(t.length)&&!!Cn[nse(t)]}var Pse=kse;function Mse(t){return function(e){return t(e)}}var kj=Mse,k0={exports:{}};k0.exports;(function(t,e){var n=RI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(k0,k0.exports);var Dse=k0.exports,Ose=Pse,Ise=kj,w4=Dse,S4=w4&&w4.isTypedArray,jse=S4?Ise(S4):Ose,Pj=jse,Lse=$oe,Rse=GS,Fse=ki,$se=Ej,Bse=WS,Use=Pj,qse=Object.prototype,Hse=qse.hasOwnProperty;function zse(t,e){var n=Fse(t),r=!n&&Rse(t),i=!n&&!r&&$se(t),a=!n&&!r&&!i&&Use(t),o=n||r||i||a,s=o?Lse(t.length,String):[],l=s.length;for(var u in t)(e||Hse.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Bse(u,l)))&&s.push(u);return s}var Vse=zse,Gse=Object.prototype;function Wse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Gse;return t===n}var Yse=Wse;function Kse(t,e){return function(n){return t(e(n))}}var Mj=Kse,Jse=Mj,Xse=Jse(Object.keys,Object),Qse=Xse,Zse=Yse,ele=Qse,tle=Object.prototype,nle=tle.hasOwnProperty;function rle(t){if(!Zse(t))return ele(t);var e=[];for(var n in Object(t))nle.call(t,n)&&n!="constructor"&&e.push(n);return e}var ile=rle,ale=kS,ole=YS;function sle(t){return t!=null&&ole(t.length)&&!ale(t)}var zA=sle,lle=Vse,ule=ile,cle=zA;function fle(t){return cle(t)?lle(t):ule(t)}var my=fle,dle=Noe,hle=Roe,ple=my;function Ale(t){return dle(t,ple,hle)}var mle=Ale,_4=mle,gle=1,vle=Object.prototype,yle=vle.hasOwnProperty;function ble(t,e,n,r,i,a){var o=n&gle,s=_4(t),l=s.length,u=_4(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var p=s[f];if(!(o?p in e:yle.call(e,p)))return!1}var h=a.get(t),v=a.get(e);if(h&&v)return h==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var w=o;++f<l;){p=s[f];var y=t[p],x=e[p];if(r)var S=o?r(x,y,p,e,t,a):r(y,x,p,t,e,a);if(!(S===void 0?y===x||i(y,x,n,r,a):S)){b=!1;break}w||(w=p=="constructor")}if(b&&!w){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(b=!1)}return a.delete(t),a.delete(e),b}var xle=ble,wle=ic,Sle=Co,_le=wle(Sle,"DataView"),Tle=_le,Cle=ic,Nle=Co,Ele=Cle(Nle,"Promise"),kle=Ele,Ple=ic,Mle=Co,Dle=Ple(Mle,"Set"),Dj=Dle,Ole=ic,Ile=Co,jle=Ole(Ile,"WeakMap"),Lle=jle,Y2=Tle,K2=MS,J2=kle,X2=Dj,Q2=Lle,Oj=ys,jd=$I,T4="[object Map]",Rle="[object Object]",C4="[object Promise]",N4="[object Set]",E4="[object WeakMap]",k4="[object DataView]",Fle=jd(Y2),$le=jd(K2),Ble=jd(J2),Ule=jd(X2),qle=jd(Q2),mu=Oj;(Y2&&mu(new Y2(new ArrayBuffer(1)))!=k4||K2&&mu(new K2)!=T4||J2&&mu(J2.resolve())!=C4||X2&&mu(new X2)!=N4||Q2&&mu(new Q2)!=E4)&&(mu=function(t){var e=Oj(t),n=e==Rle?t.constructor:void 0,r=n?jd(n):"";if(r)switch(r){case Fle:return k4;case $le:return T4;case Ble:return C4;case Ule:return N4;case qle:return E4}return e});var Hle=mu,O1=xj,zle=Tj,Vle=woe,Gle=xle,P4=Hle,M4=ki,D4=Ej,Wle=Pj,Yle=1,O4="[object Arguments]",I4="[object Array]",ig="[object Object]",Kle=Object.prototype,j4=Kle.hasOwnProperty;function Jle(t,e,n,r,i,a){var o=M4(t),s=M4(e),l=o?I4:P4(t),u=s?I4:P4(e);l=l==O4?ig:l,u=u==O4?ig:u;var c=l==ig,f=u==ig,p=l==u;if(p&&D4(t)){if(!D4(e))return!1;o=!0,c=!1}if(p&&!c)return a||(a=new O1),o||Wle(t)?zle(t,e,n,r,i,a):Vle(t,e,l,n,r,i,a);if(!(n&Yle)){var h=c&&j4.call(t,"__wrapped__"),v=f&&j4.call(e,"__wrapped__");if(h||v){var b=h?t.value():t,w=v?e.value():e;return a||(a=new O1),i(b,w,n,r,a)}}return p?(a||(a=new O1),Gle(t,e,n,r,i,a)):!1}var Xle=Jle,Qle=Xle,L4=bs;function Ij(t,e,n,r,i){return t===e?!0:t==null||e==null||!L4(t)&&!L4(e)?t!==t&&e!==e:Qle(t,e,n,r,Ij,i)}var KS=Ij,Zle=xj,eue=KS,tue=1,nue=2;function rue(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Zle;if(r)var p=r(u,c,l,t,e,f);if(!(p===void 0?eue(c,u,tue|nue,r,f):p))return!1}}return!0}var iue=rue,aue=Bl;function oue(t){return t===t&&!aue(t)}var jj=oue,sue=jj,lue=my;function uue(t){for(var e=lue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sue(i)]}return e}var cue=uue;function fue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Lj=fue,due=iue,hue=cue,pue=Lj;function Aue(t){var e=hue(t);return e.length==1&&e[0][2]?pue(e[0][0],e[0][1]):function(n){return n===t||due(n,t,e)}}var mue=Aue;function gue(t,e){return t!=null&&e in Object(t)}var vue=gue,yue=zI,bue=GS,xue=ki,wue=WS,Sue=YS,_ue=ty;function Tue(t,e,n){e=yue(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=_ue(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Sue(i)&&wue(o,i)&&(xue(t)||bue(t)))}var Cue=Tue,Nue=vue,Eue=Cue;function kue(t,e){return t!=null&&Eue(t,e,Nue)}var Pue=kue,Mue=KS,Due=VI,Oue=Pue,Iue=ES,jue=jj,Lue=Lj,Rue=ty,Fue=1,$ue=2;function Bue(t,e){return Iue(t)&&jue(e)?Lue(Rue(t),e):function(n){var r=Due(n,t);return r===void 0&&r===e?Oue(n,t):Mue(e,r,Fue|$ue)}}var Uue=Bue;function que(t){return t}var Ld=que;function Hue(t){return function(e){return e==null?void 0:e[t]}}var zue=Hue,Vue=jS;function Gue(t){return function(e){return Vue(e,t)}}var Wue=Gue,Yue=zue,Kue=Wue,Jue=ES,Xue=ty;function Que(t){return Jue(t)?Yue(Xue(t)):Kue(t)}var Zue=Que,ece=mue,tce=Uue,nce=Ld,rce=ki,ice=Zue;function ace(t){return typeof t=="function"?t:t==null?nce:typeof t=="object"?rce(t)?tce(t[0],t[1]):ece(t):ice(t)}var No=ace;function oce(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var Rj=oce;function sce(t){return t!==t}var lce=sce;function uce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var cce=uce,fce=Rj,dce=lce,hce=cce;function pce(t,e,n){return e===e?hce(t,e,n):fce(t,dce,n)}var Ace=pce,mce=Ace;function gce(t,e){var n=t==null?0:t.length;return!!n&&mce(t,e,0)>-1}var vce=gce;function yce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var bce=yce;function xce(){}var wce=xce,I1=Dj,Sce=wce,_ce=VS,Tce=1/0,Cce=I1&&1/_ce(new I1([,-0]))[1]==Tce?function(t){return new I1(t)}:Sce,Nce=Cce,Ece=wj,kce=vce,Pce=bce,Mce=_j,Dce=Nce,Oce=VS,Ice=200;function jce(t,e,n){var r=-1,i=kce,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Pce;else if(a>=Ice){var u=e?null:Dce(t);if(u)return Oce(u);o=!1,i=Mce,l=new Ece}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Lce=jce,Rce=No,Fce=Lce;function $ce(t,e){return t&&t.length?Fce(t,Rce(e)):[]}var Bce=$ce;const R4=Kt(Bce);function Fj(t,e,n){return e===!0?R4(t,n):bt(e)?R4(t,e):t}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var Uce=["ref"];function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bj(r.key),r)}}function Hce(t,e,n){return e&&$4(t.prototype,e),n&&$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zce(t,e,n){return e=P0(e),Vce(t,$j()?Reflect.construct(e,n||[],P0(t).constructor):e.apply(t,n))}function Vce(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gce(t)}function Gce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($j=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function Wce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z2(t,e)}function Z2(t,e){return Z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z2(t,e)}function gy(t,e,n){return e=Bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bj(t){var e=Yce(t,"string");return Wf(e)=="symbol"?e:e+""}function Yce(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kce(t,e){if(t==null)return{};var n=Jce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xce(t){return t.value}function Qce(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var n=Kce(e,Uce);return de.createElement(zS,n)}var B4=1,Cl=function(t){function e(){var n;qce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=zce(this,e,[].concat(i)),gy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Wce(e,t),Hce(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>B4||Math.abs(i.height-this.lastBoundingBox.height)>B4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((c||0)-v.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Vo(Vo({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Vo(Vo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},Qce(a,Vo(Vo({},this.props),{},{payload:Fj(c,u,Xce)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Vo(Vo({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Je(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(ie.PureComponent);gy(Cl,"displayName","Legend");gy(Cl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var U4=UA,Zce=GS,efe=ki,q4=U4?U4.isConcatSpreadable:void 0;function tfe(t){return efe(t)||Zce(t)||!!(q4&&t&&t[q4])}var nfe=tfe,rfe=Cj,ife=nfe;function Uj(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=ife),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?Uj(s,e-1,n,r,i):rfe(i,s):r||(i[i.length]=s)}return i}var qj=Uj;function afe(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var ofe=afe,sfe=ofe,lfe=sfe(),ufe=lfe,cfe=ufe,ffe=my;function dfe(t,e){return t&&cfe(t,e,ffe)}var Hj=dfe,hfe=zA;function pfe(t,e){return function(n,r){if(n==null)return n;if(!hfe(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Afe=pfe,mfe=Hj,gfe=Afe,vfe=gfe(mfe),JS=vfe,yfe=JS,bfe=zA;function xfe(t,e){var n=-1,r=bfe(t)?Array(t.length):[];return yfe(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var zj=xfe;function wfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Sfe=wfe,H4=kd;function _fe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=H4(t),o=e!==void 0,s=e===null,l=e===e,u=H4(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Tfe=_fe,Cfe=Tfe;function Nfe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Cfe(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Efe=Nfe,j1=IS,kfe=jS,Pfe=No,Mfe=zj,Dfe=Sfe,Ofe=kj,Ife=Efe,jfe=Ld,Lfe=ki;function Rfe(t,e,n){e.length?e=j1(e,function(a){return Lfe(a)?function(o){return kfe(o,a.length===1?a[0]:a)}:a}):e=[jfe];var r=-1;e=j1(e,Ofe(Pfe));var i=Mfe(t,function(a,o,s){var l=j1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Dfe(i,function(a,o){return Ife(a,o,n)})}var Ffe=Rfe;function $fe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Bfe=$fe,Ufe=Bfe,z4=Math.max;function qfe(t,e,n){return e=z4(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=z4(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Ufe(t,this,s)}}var Hfe=qfe;function zfe(t){return function(){return t}}var Vfe=zfe,Gfe=ic,Wfe=function(){try{var t=Gfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Vj=Wfe,Yfe=Vfe,V4=Vj,Kfe=Ld,Jfe=V4?function(t,e){return V4(t,"toString",{configurable:!0,enumerable:!1,value:Yfe(e),writable:!0})}:Kfe,Xfe=Jfe,Qfe=800,Zfe=16,ede=Date.now;function tde(t){var e=0,n=0;return function(){var r=ede(),i=Zfe-(r-n);if(n=r,i>0){if(++e>=Qfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var nde=tde,rde=Xfe,ide=nde,ade=ide(rde),ode=ade,sde=Ld,lde=Hfe,ude=ode;function cde(t,e){return ude(lde(t,e,sde),t+"")}var fde=cde,dde=PS,hde=zA,pde=WS,Ade=Bl;function mde(t,e,n){if(!Ade(n))return!1;var r=typeof e;return(r=="number"?hde(n)&&pde(e,n.length):r=="string"&&e in n)?dde(n[e],t):!1}var vy=mde,gde=qj,vde=Ffe,yde=fde,G4=vy,bde=yde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&G4(t,e[0],e[1])?e=[]:n>2&&G4(e[0],e[1],e[2])&&(e=[e[0]]),vde(t,gde(e,1),[])}),xde=bde;const XS=Kt(xde);function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function wde(t,e){return Cde(t)||Tde(t,e)||_de(t,e)||Sde()}function Sde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _de(t,e){if(t){if(typeof t=="string")return W4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W4(t,e)}}function W4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Cde(t){if(Array.isArray(t))return t}function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){Nde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nde(t,e,n){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=kde(t,"string");return Vp(e)=="symbol"?e:e+""}function kde(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pde(t){return Array.isArray(t)&&gr(t[0])&&gr(t[1])?t.join(" ~ "):t}var Mde=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,p=e.itemSorter,h=e.wrapperClassName,v=e.labelClassName,b=e.label,w=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,S=function(){if(c&&c.length){var M={padding:0,margin:0},U=(p?XS(c,p):c).map(function(F,G){if(F.type==="none")return null;var R=L1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),$=F.formatter||f||Pde,V=F.value,Y=F.name,ne=V,le=Y;if($&&ne!=null&&le!=null){var L=$(V,Y,F,G,c);if(Array.isArray(L)){var q=wde(L,2);ne=q[0],le=q[1]}else ne=L}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:R},gr(le)?de.createElement("span",{className:"recharts-tooltip-item-name"},le):null,gr(le)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},ne),de.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:M},U)}return null},T=L1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=L1({margin:0},u),k=!It(b),E=k?b:"",D=Dt("recharts-default-tooltip",h),I=Dt("recharts-tooltip-label",v);k&&w&&c!==void 0&&c!==null&&(E=w(b,c));var B=x?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",ew({className:D,style:T},B),de.createElement("p",{className:I,style:C},de.isValidElement(E)?E:"".concat(E)),S())};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function ag(t,e,n){return e=Dde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dde(t){var e=Ode(t,"string");return Gp(e)=="symbol"?e:e+""}function Ode(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jh="recharts-tooltip-wrapper",Ide={visibility:"hidden"};function jde(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Dt(jh,ag(ag(ag(ag({},"".concat(jh,"-right"),Je(n)&&e&&Je(e.x)&&n>=e.x),"".concat(jh,"-left"),Je(n)&&e&&Je(e.x)&&n<e.x),"".concat(jh,"-bottom"),Je(r)&&e&&Je(e.y)&&r>=e.y),"".concat(jh,"-top"),Je(r)&&e&&Je(e.y)&&r<e.y))}function K4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Je(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var p=c,h=l[r];return p<h?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function Lde(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Rde(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=K4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=K4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Lde({translateX:c,translateY:f,useTranslate3d:s})):u=Ide,{cssProperties:u,cssClasses:jde({translateX:c,translateY:f,coordinate:n})}}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function Bde(t,e,n){return e&&$de(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ude(t,e,n){return e=M0(e),qde(t,Gj()?Reflect.construct(e,n||[],M0(t).constructor):e.apply(t,n))}function qde(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hde(t)}function Hde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gj=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(t)}function zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function nw(t,e,n){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wj(t){var e=Vde(t,"string");return Yf(e)=="symbol"?e:e+""}function Vde(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q4=1,Gde=function(t){function e(){var n;Fde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ude(this,e,[].concat(i)),nw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return zde(e,t),Bde(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Q4||Math.abs(r.height-this.state.lastBoundingBox.height)>Q4)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,h=i.offset,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,x=i.wrapperStyle,S=Rde({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:h,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),T=S.cssClasses,C=S.cssProperties,k=X4(X4({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return de.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(D){r.wrapperNode=D}},u)}}])}(ie.PureComponent),Wde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rd={isSsr:Wde()};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){QS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kj(r.key),r)}}function Jde(t,e,n){return e&&Kde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xde(t,e,n){return e=D0(e),Qde(t,Yj()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function Qde(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zde(t)}function Zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yj=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function ehe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rw(t,e)}function QS(t,e,n){return e=Kj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kj(t){var e=the(t,"string");return Kf(e)=="symbol"?e:e+""}function the(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nhe(t){return t.dataKey}function rhe(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(Mde,e)}var Ya=function(t){function e(){return Yde(this,e),Xde(this,e,arguments)}return ehe(e,t),Jde(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,p=i.isAnimationActive,h=i.offset,v=i.payload,b=i.payloadUniqBy,w=i.position,y=i.reverseDirection,x=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,C=v??[];f&&C.length&&(C=Fj(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,nhe));var k=C.length>0;return de.createElement(Gde,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:c,hasPayload:k,offset:h,position:w,reverseDirection:y,useTranslate3d:x,viewBox:S,wrapperStyle:T},rhe(u,ek(ek({},this.props),{},{payload:C})))}}])}(ie.PureComponent);QS(Ya,"displayName","Tooltip");QS(Ya,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ihe=Co,ahe=function(){return ihe.Date.now()},ohe=ahe,she=/\s/;function lhe(t){for(var e=t.length;e--&&she.test(t.charAt(e)););return e}var uhe=lhe,che=uhe,fhe=/^\s+/;function dhe(t){return t&&t.slice(0,che(t)+1).replace(fhe,"")}var hhe=dhe,phe=hhe,tk=Bl,Ahe=kd,nk=NaN,mhe=/^[-+]0x[0-9a-f]+$/i,ghe=/^0b[01]+$/i,vhe=/^0o[0-7]+$/i,yhe=parseInt;function bhe(t){if(typeof t=="number")return t;if(Ahe(t))return nk;if(tk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=phe(t);var n=ghe.test(t);return n||vhe.test(t)?yhe(t.slice(2),n?2:8):mhe.test(t)?nk:+t}var Jj=bhe,xhe=Bl,R1=ohe,rk=Jj,whe="Expected a function",She=Math.max,_he=Math.min;function The(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(whe);e=rk(e)||0,xhe(n)&&(c=!!n.leading,f="maxWait"in n,a=f?She(rk(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function h(k){var E=r,D=i;return r=i=void 0,u=k,o=t.apply(D,E),o}function v(k){return u=k,s=setTimeout(y,e),c?h(k):o}function b(k){var E=k-l,D=k-u,I=e-E;return f?_he(I,a-D):I}function w(k){var E=k-l,D=k-u;return l===void 0||E>=e||E<0||f&&D>=a}function y(){var k=R1();if(w(k))return x(k);s=setTimeout(y,b(k))}function x(k){return s=void 0,p&&r?h(k):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?o:x(R1())}function C(){var k=R1(),E=w(k);if(r=arguments,i=this,l=k,E){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),h(l)}return s===void 0&&(s=setTimeout(y,e)),o}return C.cancel=S,C.flush=T,C}var Che=The,Nhe=Che,Ehe=Bl,khe="Expected a function";function Phe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(khe);return Ehe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Nhe(t,e,{leading:r,maxWait:e,trailing:i})}var Mhe=Phe;const Xj=Kt(Mhe);function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e,n){return e=Ohe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Ihe(t,"string");return Wp(e)=="symbol"?e:e+""}function Ihe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jhe(t,e){return $he(t)||Fhe(t,e)||Rhe(t,e)||Lhe()}function Lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(t,e){if(t){if(typeof t=="string")return ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ak(t,e)}}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $he(t){if(Array.isArray(t))return t}var ok=ie.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,h=t.children,v=t.debounce,b=v===void 0?0:v,w=t.id,y=t.className,x=t.onResize,S=t.style,T=S===void 0?{}:S,C=ie.useRef(null),k=ie.useRef();k.current=x,ie.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=ie.useState({containerWidth:i.width,containerHeight:i.height}),D=jhe(E,2),I=D[0],B=D[1],O=ie.useCallback(function(U,F){B(function(G){var R=Math.round(U),$=Math.round(F);return G.containerWidth===R&&G.containerHeight===$?G:{containerWidth:R,containerHeight:$}})},[]);ie.useEffect(function(){var U=function(Y){var ne,le=Y[0].contentRect,L=le.width,q=le.height;O(L,q),(ne=k.current)===null||ne===void 0||ne.call(k,L,q)};b>0&&(U=Xj(U,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(U),G=C.current.getBoundingClientRect(),R=G.width,$=G.height;return O(R,$),F.observe(C.current),function(){F.disconnect()}},[O,b]);var M=ie.useMemo(function(){var U=I.containerWidth,F=I.containerHeight;if(U<0||F<0)return null;Xa(xu(o)||xu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Xa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=xu(o)?U:o,R=xu(l)?F:l;n&&n>0&&(G?R=G/n:R&&(G=R*n),p&&R>p&&(R=p)),Xa(G>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,R,o,l,c,f,n);var $=!Array.isArray(h)&&os(h.type).endsWith("Chart");return de.Children.map(h,function(V){return de.isValidElement(V)?ie.cloneElement(V,og({width:G,height:R},$?{style:og({height:"100%",width:"100%",maxHeight:R,maxWidth:G},V.props.style)}:{})):V})},[n,h,l,p,f,c,I,o]);return de.createElement("div",{id:w?"".concat(w):void 0,className:Dt("recharts-responsive-container",y),style:og(og({},T),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:p}),ref:C},M)}),yy=function(e){return null};yy.displayName="Cell";function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return e=Uhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=qhe(t,"string");return Yp(e)=="symbol"?e:e+""}function qhe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zc={widthCache:{},cacheCount:0},Hhe=2e3,zhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lk="recharts_measurement_span";function Vhe(t){var e=iw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var bp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rd.isSsr)return{width:0,height:0};var r=Vhe(n),i=JSON.stringify({text:e,copyStyle:r});if(zc.widthCache[i])return zc.widthCache[i];try{var a=document.getElementById(lk);a||(a=document.createElement("span"),a.setAttribute("id",lk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=iw(iw({},zhe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return zc.widthCache[i]=l,++zc.cacheCount>Hhe&&(zc.cacheCount=0,zc.widthCache={}),l}catch{return{width:0,height:0}}},Ghe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function O0(t,e){return Jhe(t)||Khe(t,e)||Yhe(t,e)||Whe()}function Whe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(t,e){if(t){if(typeof t=="string")return uk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Khe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jhe(t){if(Array.isArray(t))return t}function Xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zhe(r.key),r)}}function Qhe(t,e,n){return e&&ck(t.prototype,e),n&&ck(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zhe(t){var e=epe(t,"string");return Kp(e)=="symbol"?e:e+""}function epe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,npe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rpe=Object.keys(Qj),Af="NaN";function ipe(t,e){return t*Qj[e]}var sg=function(){function t(e,n){Xhe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!tpe.test(n)&&(this.num=NaN,this.unit=""),rpe.includes(n)&&(this.num=ipe(e,n),this.unit="px")}return Qhe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=npe.exec(n))!==null&&r!==void 0?r:[],a=O0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function Zj(t){if(t.includes(Af))return Af;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=fk.exec(e))!==null&&n!==void 0?n:[],i=O0(r,4),a=i[1],o=i[2],s=i[3],l=sg.parse(a??""),u=sg.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Af;e=e.replace(fk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=dk.exec(e))!==null&&f!==void 0?f:[],h=O0(p,4),v=h[1],b=h[2],w=h[3],y=sg.parse(v??""),x=sg.parse(w??""),S=b==="+"?y.add(x):y.subtract(x);if(S.isNaN())return Af;e=e.replace(dk,S.toString())}return e}var hk=/\(([^()]*)\)/;function ape(t){for(var e=t;e.includes("(");){var n=hk.exec(e),r=O0(n,2),i=r[1];e=e.replace(hk,Zj(i))}return e}function ope(t){var e=t.replace(/\s+/g,"");return e=ape(e),e=Zj(e),e}function spe(t){try{return ope(t)}catch{return Af}}function F1(t){var e=spe(t.slice(5,-1));return e===Af?"":e}var lpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],upe=["dx","dy","angle","className","breakAll"];function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function pk(t,e){if(t==null)return{};var n=cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ak(t,e){return ppe(t)||hpe(t,e)||dpe(t,e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(t,e){if(t){if(typeof t=="string")return mk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mk(t,e)}}function mk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ppe(t){if(Array.isArray(t))return t}var eL=/[ \f\n\r\t\v\u2028\u2029]+/,tL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];It(n)||(r?a=n.toString().split(""):a=n.toString().split(eL));var o=a.map(function(l){return{word:l,width:bp(l,i).width}}),s=r?0:bp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Ape=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Je(o),f=s,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(R,$){var V=$.word,Y=$.width,ne=R[R.length-1];if(ne&&(i==null||a||ne.width+Y+r<Number(i)))ne.words.push(V),ne.width+=Y+r;else{var le={words:[V],width:Y};R.push(le)}return R},[])},h=p(n),v=function(G){return G.reduce(function(R,$){return R.width>$.width?R:$})};if(!c)return h;for(var b="",w=function(G){var R=f.slice(0,G),$=tL({breakAll:u,style:l,children:R+b}).wordsWithComputedWidth,V=p($),Y=V.length>o||v(V).width>Number(i);return[Y,V]},y=0,x=f.length-1,S=0,T;y<=x&&S<=f.length-1;){var C=Math.floor((y+x)/2),k=C-1,E=w(k),D=Ak(E,2),I=D[0],B=D[1],O=w(C),M=Ak(O,1),U=M[0];if(!I&&!U&&(y=C+1),I&&U&&(x=C-1),!I&&U){T=B;break}S++}return T||h},gk=function(e){var n=It(e)?[]:e.toString().split(eL);return[{words:n}]},mpe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!Rd.isSsr){var l,u,c=tL({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,p=c.spaceWidth;l=f,u=p}else return gk(i);return Ape({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return gk(i)},vk="#808080",zu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,p=e.textAnchor,h=p===void 0?"start":p,v=e.verticalAnchor,b=v===void 0?"end":v,w=e.fill,y=w===void 0?vk:w,x=pk(e,lpe),S=ie.useMemo(function(){return mpe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),T=x.dx,C=x.dy,k=x.angle,E=x.className,D=x.breakAll,I=pk(x,upe);if(!gr(r)||!gr(a))return null;var B=r+(Je(T)?T:0),O=a+(Je(C)?C:0),M;switch(b){case"start":M=F1("calc(".concat(u,")"));break;case"middle":M=F1("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:M=F1("calc(".concat(S.length-1," * -").concat(s,")"));break}var U=[];if(f){var F=S[0].width,G=x.width;U.push("scale(".concat((Je(G)?G/F:1)/F,")"))}return k&&U.push("rotate(".concat(k,", ").concat(B,", ").concat(O,")")),U.length&&(I.transform=U.join(" ")),de.createElement("text",aw({},vt(I,!0),{x:B,y:O,className:Dt("recharts-text",E),textAnchor:h,fill:y.includes("url")?vk:y}),S.map(function(R,$){var V=R.words.join(D?"":" ");return de.createElement("tspan",{x:B,dy:$===0?M:s,key:"".concat(V,"-").concat($)},V)}))};function Nl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZS(t){let e,n,r;t.length!==2?(e=Nl,n=(s,l)=>Nl(t(s),l),r=(s,l)=>t(s)-l):(e=t===Nl||t===gpe?t:vpe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function vpe(){return 0}function nL(t){return t===null?NaN:+t}function*ype(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const bpe=ZS(Nl),VA=bpe.right;ZS(nL).center;class yk extends Map{constructor(e,n=Spe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(bk(this,e))}has(e){return super.has(bk(this,e))}set(e,n){return super.set(xpe(this,e),n)}delete(e){return super.delete(wpe(this,e))}}function bk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function wpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Spe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _pe(t=Nl){if(t===Nl)return rL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function rL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Tpe=Math.sqrt(50),Cpe=Math.sqrt(10),Npe=Math.sqrt(2);function I0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Tpe?10:a>=Cpe?5:a>=Npe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?I0(t,e,n*2):[s,l,u]}function ow(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?I0(e,t,n):I0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function sw(t,e,n){return e=+e,t=+t,n=+n,I0(t,e,n)[2]}function lw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?sw(e,t,n):sw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function wk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?rL:_pe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*f/l+p)),v=Math.min(r,Math.floor(e+(l-u)*f/l+p));iL(t,e,h,v,i)}const a=t[e];let o=n,s=r;for(Lh(t,n,e),i(t[r],a)>0&&Lh(t,n,r);o<s;){for(Lh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Lh(t,n,s):(++s,Lh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Lh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Epe(t,e,n){if(t=Float64Array.from(ype(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return wk(t);if(e>=1)return xk(t);var r,i=(r-1)*e,a=Math.floor(i),o=xk(iL(t,a).subarray(0,a+1)),s=wk(t.subarray(a+1));return o+(s-o)*(i-a)}}function kpe(t,e,n=nL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Ppe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Da(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uw=Symbol("implicit");function e_(){var t=new yk,e=[],n=[],r=uw;function i(a){let o=t.get(a);if(o===void 0){if(r!==uw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new yk;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return e_(e,n).unknown(r)},Da.apply(i,arguments),i}function Jp(){var t=e_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var p=e().length,h=i<r,v=h?i:r,b=h?r:i;a=(b-v)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),v+=(b-v-a*(p-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var w=Ppe(p).map(function(y){return v+a*y});return n(h?w.reverse():w)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},t.copy=function(){return Jp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Da.apply(f(),arguments)}function aL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aL(e())},t}function xp(){return aL(Jp.apply(null,arguments).paddingInner(1))}function t_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function oL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function GA(){}var Xp=.7,j0=1/Xp,Mf="\\s*([+-]?\\d+)\\s*",Qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mpe=/^#([0-9a-f]{3,8})$/,Dpe=new RegExp(`^rgb\\(${Mf},${Mf},${Mf}\\)$`),Ope=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),Ipe=new RegExp(`^rgba\\(${Mf},${Mf},${Mf},${Qp}\\)$`),jpe=new RegExp(`^rgba\\(${bo},${bo},${bo},${Qp}\\)$`),Lpe=new RegExp(`^hsl\\(${Qp},${bo},${bo}\\)$`),Rpe=new RegExp(`^hsla\\(${Qp},${bo},${bo},${Qp}\\)$`),Sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t_(GA,Zp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_k,formatHex:_k,formatHex8:Fpe,formatHsl:$pe,formatRgb:Tk,toString:Tk});function _k(){return this.rgb().formatHex()}function Fpe(){return this.rgb().formatHex8()}function $pe(){return sL(this).formatHsl()}function Tk(){return this.rgb().formatRgb()}function Zp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Mpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ck(e):n===3?new _i(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dpe.exec(t))?new _i(e[1],e[2],e[3],1):(e=Ope.exec(t))?new _i(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ipe.exec(t))?lg(e[1],e[2],e[3],e[4]):(e=jpe.exec(t))?lg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Lpe.exec(t))?kk(e[1],e[2]/100,e[3]/100,1):(e=Rpe.exec(t))?kk(e[1],e[2]/100,e[3]/100,e[4]):Sk.hasOwnProperty(t)?Ck(Sk[t]):t==="transparent"?new _i(NaN,NaN,NaN,0):null}function Ck(t){return new _i(t>>16&255,t>>8&255,t&255,1)}function lg(t,e,n,r){return r<=0&&(t=e=n=NaN),new _i(t,e,n,r)}function Bpe(t){return t instanceof GA||(t=Zp(t)),t?(t=t.rgb(),new _i(t.r,t.g,t.b,t.opacity)):new _i}function cw(t,e,n,r){return arguments.length===1?Bpe(t):new _i(t,e,n,r??1)}function _i(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}t_(_i,cw,oL(GA,{brighter(t){return t=t==null?j0:Math.pow(j0,t),new _i(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xp:Math.pow(Xp,t),new _i(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _i(Iu(this.r),Iu(this.g),Iu(this.b),L0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nk,formatHex:Nk,formatHex8:Upe,formatRgb:Ek,toString:Ek}));function Nk(){return`#${wu(this.r)}${wu(this.g)}${wu(this.b)}`}function Upe(){return`#${wu(this.r)}${wu(this.g)}${wu(this.b)}${wu((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ek(){const t=L0(this.opacity);return`${t===1?"rgb(":"rgba("}${Iu(this.r)}, ${Iu(this.g)}, ${Iu(this.b)}${t===1?")":`, ${t})`}`}function L0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Iu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wu(t){return t=Iu(t),(t<16?"0":"")+t.toString(16)}function kk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ja(t,e,n,r)}function sL(t){if(t instanceof Ja)return new Ja(t.h,t.s,t.l,t.opacity);if(t instanceof GA||(t=Zp(t)),!t)return new Ja;if(t instanceof Ja)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ja(o,s,l,t.opacity)}function qpe(t,e,n,r){return arguments.length===1?sL(t):new Ja(t,e,n,r??1)}function Ja(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}t_(Ja,qpe,oL(GA,{brighter(t){return t=t==null?j0:Math.pow(j0,t),new Ja(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xp:Math.pow(Xp,t),new Ja(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _i($1(t>=240?t-240:t+120,i,r),$1(t,i,r),$1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ja(Pk(this.h),ug(this.s),ug(this.l),L0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=L0(this.opacity);return`${t===1?"hsl(":"hsla("}${Pk(this.h)}, ${ug(this.s)*100}%, ${ug(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Pk(t){return t=(t||0)%360,t<0?t+360:t}function ug(t){return Math.max(0,Math.min(1,t||0))}function $1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const n_=t=>()=>t;function Hpe(t,e){return function(n){return t+n*e}}function zpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Vpe(t){return(t=+t)==1?lL:function(e,n){return n-e?zpe(e,n,t):n_(isNaN(e)?n:e)}}function lL(t,e){var n=e-t;return n?Hpe(t,n):n_(isNaN(t)?e:t)}const Mk=function t(e){var n=Vpe(e);function r(i,a){var o=n((i=cw(i)).r,(a=cw(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=lL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Gpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Wpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ype(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Fd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Kpe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function R0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Jpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B1=new RegExp(fw.source,"g");function Xpe(t){return function(){return t}}function Qpe(t){return function(e){return t(e)+""}}function Zpe(t,e){var n=fw.lastIndex=B1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=fw.exec(t))&&(i=B1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:R0(r,i)})),n=B1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Qpe(l[0].x):Xpe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Fd(t,e){var n=typeof e,r;return e==null||n==="boolean"?n_(e):(n==="number"?R0:n==="string"?(r=Zp(e))?(e=r,Mk):Zpe:e instanceof Zp?Mk:e instanceof Date?Kpe:Wpe(e)?Gpe:Array.isArray(e)?Ype:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Jpe:R0)(t,e)}function r_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function eAe(t,e){e===void 0&&(e=t,t=Fd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function tAe(t){return function(){return t}}function F0(t){return+t}var Dk=[0,1];function oi(t){return t}function dw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tAe(isNaN(e)?NaN:.5)}function nAe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rAe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=dw(i,r),a=n(o,a)):(r=dw(r,i),a=n(a,o)),function(s){return a(r(s))}}function iAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=dw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=VA(t,s,1,r)-1;return a[l](i[l](s))}}function WA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function by(){var t=Dk,e=Dk,n=Fd,r,i,a,o=oi,s,l,u;function c(){var p=Math.min(t.length,e.length);return o!==oi&&(o=nAe(t[0],t[p-1])),s=p>2?iAe:rAe,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(r),e,n)))(r(o(p)))}return f.invert=function(p){return o(i((u||(u=s(e,t.map(r),R0)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,F0),c()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=r_,c()},f.clamp=function(p){return arguments.length?(o=p?!0:oi,c()):o!==oi},f.interpolate=function(p){return arguments.length?(n=p,c()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,h){return r=p,i=h,c()}}function i_(){return by()(oi,oi)}function aAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Jf(t){return t=$0(Math.abs(t)),t?t[1]:NaN}function oAe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function sAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eA(t){if(!(e=lAe.exec(t)))throw new Error("invalid format: "+t);var e;return new a_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}eA.prototype=a_.prototype;function a_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}a_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uL;function cAe(t,e){var n=$0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(uL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$0(t,Math.max(0,e+a-1))[0]}function Ok(t,e){var n=$0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ik={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ok(t*100,e),r:Ok,s:cAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jk(t){return t}var Lk=Array.prototype.map,Rk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fAe(t){var e=t.grouping===void 0||t.thousands===void 0?jk:oAe(Lk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?jk:sAe(Lk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=eA(f);var p=f.fill,h=f.align,v=f.sign,b=f.symbol,w=f.zero,y=f.width,x=f.comma,S=f.precision,T=f.trim,C=f.type;C==="n"?(x=!0,C="g"):Ik[C]||(S===void 0&&(S=12),T=!0,C="g"),(w||p==="0"&&h==="=")&&(w=!0,p="0",h="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=b==="$"?r:/[%p]/.test(C)?o:"",D=Ik[C],I=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(O){var M=k,U=E,F,G,R;if(C==="c")U=D(O)+U,O="";else{O=+O;var $=O<0||1/O<0;if(O=isNaN(O)?l:D(Math.abs(O),S),T&&(O=uAe(O)),$&&+O==0&&v!=="+"&&($=!1),M=($?v==="("?v:s:v==="-"||v==="("?"":v)+M,U=(C==="s"?Rk[8+uL/3]:"")+U+($&&v==="("?")":""),I){for(F=-1,G=O.length;++F<G;)if(R=O.charCodeAt(F),48>R||R>57){U=(R===46?i+O.slice(F+1):O.slice(F))+U,O=O.slice(0,F);break}}}x&&!w&&(O=e(O,1/0));var V=M.length+O.length+U.length,Y=V<y?new Array(y-V+1).join(p):"";switch(x&&w&&(O=e(Y+O,Y.length?y-U.length:1/0),Y=""),h){case"<":O=M+O+U+Y;break;case"=":O=M+Y+O+U;break;case"^":O=Y.slice(0,V=Y.length>>1)+M+O+U+Y.slice(V);break;default:O=Y+M+O+U;break}return a(O)}return B.toString=function(){return f+""},B}function c(f,p){var h=u((f=eA(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Jf(p)/3)))*3,b=Math.pow(10,-v),w=Rk[8+v/3];return function(y){return h(b*y)+w}}return{format:u,formatPrefix:c}}var cg,o_,cL;dAe({thousands:",",grouping:[3],currency:["$",""]});function dAe(t){return cg=fAe(t),o_=cg.format,cL=cg.formatPrefix,cg}function hAe(t){return Math.max(0,-Jf(Math.abs(t)))}function pAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jf(e)/3)))*3-Jf(Math.abs(t)))}function AAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jf(e)-Jf(t))+1}function fL(t,e,n,r){var i=lw(t,e,n),a;switch(r=eA(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=pAe(i,o))&&(r.precision=a),cL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=AAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return o_(r)}function Ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return ow(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=sw(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function B0(){var t=i_();return t.copy=function(){return WA(t,B0())},Da.apply(t,arguments),Ul(t)}function dL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,F0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return dL(t).unknown(e)},t=arguments.length?Array.from(t,F0):[0,1],Ul(n)}function hL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Fk(t){return Math.log(t)}function $k(t){return Math.exp(t)}function mAe(t){return-Math.log(-t)}function gAe(t){return-Math.exp(-t)}function vAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yAe(t){return t===10?vAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Bk(t){return(e,n)=>-t(-e,n)}function s_(t){const e=t(Fk,$k),n=e.domain;let r=10,i,a;function o(){return i=bAe(r),a=yAe(r),n()[0]<0?(i=Bk(i),a=Bk(a),t(mAe,gAe)):t(Fk,$k),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),h=i(c),v,b;const w=s==null?10:+s;let y=[];if(!(r%1)&&h-p<w){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(v=1;v<r;++v)if(b=p<0?v/a(-p):v*a(p),!(b<u)){if(b>c)break;y.push(b)}}else for(;p<=h;++p)for(v=r-1;v>=1;--v)if(b=p>0?v/a(-p):v*a(p),!(b<u)){if(b>c)break;y.push(b)}y.length*2<w&&(y=ow(u,c,w))}else y=ow(p,h,Math.min(h-p,w)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=eA(l)).precision==null&&(l.trim=!0),l=o_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(hL(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function pL(){const t=s_(by()).domain([1,10]);return t.copy=()=>WA(t,pL()).base(t.base()),Da.apply(t,arguments),t}function Uk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function l_(t){var e=1,n=t(Uk(e),qk(e));return n.constant=function(r){return arguments.length?t(Uk(e=+r),qk(e)):e},Ul(n)}function AL(){var t=l_(by());return t.copy=function(){return WA(t,AL()).constant(t.constant())},Da.apply(t,arguments)}function Hk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wAe(t){return t<0?-t*t:t*t}function u_(t){var e=t(oi,oi),n=1;function r(){return n===1?t(oi,oi):n===.5?t(xAe,wAe):t(Hk(n),Hk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ul(e)}function c_(){var t=u_(by());return t.copy=function(){return WA(t,c_()).exponent(t.exponent())},Da.apply(t,arguments),t}function SAe(){return c_.apply(null,arguments).exponent(.5)}function zk(t){return Math.sign(t)*t*t}function _Ae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mL(){var t=i_(),e=[0,1],n=!1,r;function i(a){var o=_Ae(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(zk(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,F0)).map(zk)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Da.apply(i,arguments),Ul(i)}function gL(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=kpe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[VA(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Nl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return gL().domain(t).range(e).unknown(r)},Da.apply(a,arguments)}function vL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[VA(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return vL().domain([t,e]).range(i).unknown(a)},Da.apply(Ul(o),arguments)}function yL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[VA(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return yL().domain(t).range(e).unknown(n)},Da.apply(i,arguments)}const U1=new Date,q1=new Date;function yr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>yr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(U1.setTime(+a),q1.setTime(+o),t(U1),t(q1),Math.floor(n(U1,q1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const U0=yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);U0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):U0);U0.range;const es=1e3,_a=es*60,ts=_a*60,hs=ts*24,f_=hs*7,Vk=hs*30,H1=hs*365,Su=yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*es)},(t,e)=>(e-t)/es,t=>t.getUTCSeconds());Su.range;const d_=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*es)},(t,e)=>{t.setTime(+t+e*_a)},(t,e)=>(e-t)/_a,t=>t.getMinutes());d_.range;const h_=yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_a)},(t,e)=>(e-t)/_a,t=>t.getUTCMinutes());h_.range;const p_=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*es-t.getMinutes()*_a)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getHours());p_.range;const A_=yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getUTCHours());A_.range;const YA=yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_a)/hs,t=>t.getDate()-1);YA.range;const xy=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hs,t=>t.getUTCDate()-1);xy.range;const bL=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hs,t=>Math.floor(t/hs));bL.range;function ac(t){return yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_a)/f_)}const wy=ac(0),q0=ac(1),TAe=ac(2),CAe=ac(3),Xf=ac(4),NAe=ac(5),EAe=ac(6);wy.range;q0.range;TAe.range;CAe.range;Xf.range;NAe.range;EAe.range;function oc(t){return yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/f_)}const Sy=oc(0),H0=oc(1),kAe=oc(2),PAe=oc(3),Qf=oc(4),MAe=oc(5),DAe=oc(6);Sy.range;H0.range;kAe.range;PAe.range;Qf.range;MAe.range;DAe.range;const m_=yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());m_.range;const g_=yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());g_.range;const ps=yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ps.range;const As=yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());As.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});As.range;function xL(t,e,n,r,i,a){const o=[[Su,1,es],[Su,5,5*es],[Su,15,15*es],[Su,30,30*es],[a,1,_a],[a,5,5*_a],[a,15,15*_a],[a,30,30*_a],[i,1,ts],[i,3,3*ts],[i,6,6*ts],[i,12,12*ts],[r,1,hs],[r,2,2*hs],[n,1,f_],[e,1,Vk],[e,3,3*Vk],[t,1,H1]];function s(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),v=h?h.range(u,+c+1):[];return p?v.reverse():v}function l(u,c,f){const p=Math.abs(c-u)/f,h=ZS(([,,w])=>w).right(o,p);if(h===o.length)return t.every(lw(u/H1,c/H1,f));if(h===0)return U0.every(Math.max(lw(u,c,f),1));const[v,b]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return v.every(b)}return[s,l]}const[OAe,IAe]=xL(As,g_,Sy,bL,A_,h_),[jAe,LAe]=xL(ps,m_,wy,YA,p_,d_);function z1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function V1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function RAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Fh(i),c=$h(i),f=Fh(a),p=$h(a),h=Fh(o),v=$h(o),b=Fh(s),w=$h(s),y=Fh(l),x=$h(l),S={a:$,A:V,b:Y,B:ne,c:null,d:Xk,e:Xk,f:ome,g:mme,G:vme,H:rme,I:ime,j:ame,L:wL,m:sme,M:lme,p:le,q:L,Q:e3,s:t3,S:ume,u:cme,U:fme,V:dme,w:hme,W:pme,x:null,X:null,y:Ame,Y:gme,Z:yme,"%":Zk},T={a:q,A:J,b:te,B:X,c:null,d:Qk,e:Qk,f:Sme,g:Ome,G:jme,H:bme,I:xme,j:wme,L:_L,m:_me,M:Tme,p:se,q:ue,Q:e3,s:t3,S:Cme,u:Nme,U:Eme,V:kme,w:Pme,W:Mme,x:null,X:null,y:Dme,Y:Ime,Z:Lme,"%":Zk},C={a:B,A:O,b:M,B:U,c:F,d:Kk,e:Kk,f:ZAe,g:Yk,G:Wk,H:Jk,I:Jk,j:KAe,L:QAe,m:YAe,M:JAe,p:I,q:WAe,Q:tme,s:nme,S:XAe,u:qAe,U:HAe,V:zAe,w:UAe,W:VAe,x:G,X:R,y:Yk,Y:Wk,Z:GAe,"%":eme};S.x=k(n,S),S.X=k(r,S),S.c=k(e,S),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(Z,he){return function(me){var ce=[],je=-1,Re=0,Ce=Z.length,ae,Ne,Ee;for(me instanceof Date||(me=new Date(+me));++je<Ce;)Z.charCodeAt(je)===37&&(ce.push(Z.slice(Re,je)),(Ne=Gk[ae=Z.charAt(++je)])!=null?ae=Z.charAt(++je):Ne=ae==="e"?" ":"0",(Ee=he[ae])&&(ae=Ee(me,Ne)),ce.push(ae),Re=je+1);return ce.push(Z.slice(Re,je)),ce.join("")}}function E(Z,he){return function(me){var ce=Rh(1900,void 0,1),je=D(ce,Z,me+="",0),Re,Ce;if(je!=me.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(he&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Re=V1(Rh(ce.y,0,1)),Ce=Re.getUTCDay(),Re=Ce>4||Ce===0?H0.ceil(Re):H0(Re),Re=xy.offset(Re,(ce.V-1)*7),ce.y=Re.getUTCFullYear(),ce.m=Re.getUTCMonth(),ce.d=Re.getUTCDate()+(ce.w+6)%7):(Re=z1(Rh(ce.y,0,1)),Ce=Re.getDay(),Re=Ce>4||Ce===0?q0.ceil(Re):q0(Re),Re=YA.offset(Re,(ce.V-1)*7),ce.y=Re.getFullYear(),ce.m=Re.getMonth(),ce.d=Re.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ce="Z"in ce?V1(Rh(ce.y,0,1)).getUTCDay():z1(Rh(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ce+5)%7:ce.w+ce.U*7-(Ce+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,V1(ce)):z1(ce)}}function D(Z,he,me,ce){for(var je=0,Re=he.length,Ce=me.length,ae,Ne;je<Re;){if(ce>=Ce)return-1;if(ae=he.charCodeAt(je++),ae===37){if(ae=he.charAt(je++),Ne=C[ae in Gk?he.charAt(je++):ae],!Ne||(ce=Ne(Z,me,ce))<0)return-1}else if(ae!=me.charCodeAt(ce++))return-1}return ce}function I(Z,he,me){var ce=u.exec(he.slice(me));return ce?(Z.p=c.get(ce[0].toLowerCase()),me+ce[0].length):-1}function B(Z,he,me){var ce=h.exec(he.slice(me));return ce?(Z.w=v.get(ce[0].toLowerCase()),me+ce[0].length):-1}function O(Z,he,me){var ce=f.exec(he.slice(me));return ce?(Z.w=p.get(ce[0].toLowerCase()),me+ce[0].length):-1}function M(Z,he,me){var ce=y.exec(he.slice(me));return ce?(Z.m=x.get(ce[0].toLowerCase()),me+ce[0].length):-1}function U(Z,he,me){var ce=b.exec(he.slice(me));return ce?(Z.m=w.get(ce[0].toLowerCase()),me+ce[0].length):-1}function F(Z,he,me){return D(Z,e,he,me)}function G(Z,he,me){return D(Z,n,he,me)}function R(Z,he,me){return D(Z,r,he,me)}function $(Z){return o[Z.getDay()]}function V(Z){return a[Z.getDay()]}function Y(Z){return l[Z.getMonth()]}function ne(Z){return s[Z.getMonth()]}function le(Z){return i[+(Z.getHours()>=12)]}function L(Z){return 1+~~(Z.getMonth()/3)}function q(Z){return o[Z.getUTCDay()]}function J(Z){return a[Z.getUTCDay()]}function te(Z){return l[Z.getUTCMonth()]}function X(Z){return s[Z.getUTCMonth()]}function se(Z){return i[+(Z.getUTCHours()>=12)]}function ue(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var he=k(Z+="",S);return he.toString=function(){return Z},he},parse:function(Z){var he=E(Z+="",!1);return he.toString=function(){return Z},he},utcFormat:function(Z){var he=k(Z+="",T);return he.toString=function(){return Z},he},utcParse:function(Z){var he=E(Z+="",!0);return he.toString=function(){return Z},he}}}var Gk={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,FAe=/^%/,$Ae=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function BAe(t){return t.replace($Ae,"\\$&")}function Fh(t){return new RegExp("^(?:"+t.map(BAe).join("|")+")","i")}function $h(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function UAe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qAe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function HAe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zAe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function VAe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wk(t,e,n){var r=kr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Yk(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function GAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function WAe(t,e,n){var r=kr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function YAe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Kk(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function KAe(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Jk(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function JAe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function XAe(t,e,n){var r=kr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function QAe(t,e,n){var r=kr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ZAe(t,e,n){var r=kr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function eme(t,e,n){var r=FAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tme(t,e,n){var r=kr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nme(t,e,n){var r=kr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Xk(t,e){return zt(t.getDate(),e,2)}function rme(t,e){return zt(t.getHours(),e,2)}function ime(t,e){return zt(t.getHours()%12||12,e,2)}function ame(t,e){return zt(1+YA.count(ps(t),t),e,3)}function wL(t,e){return zt(t.getMilliseconds(),e,3)}function ome(t,e){return wL(t,e)+"000"}function sme(t,e){return zt(t.getMonth()+1,e,2)}function lme(t,e){return zt(t.getMinutes(),e,2)}function ume(t,e){return zt(t.getSeconds(),e,2)}function cme(t){var e=t.getDay();return e===0?7:e}function fme(t,e){return zt(wy.count(ps(t)-1,t),e,2)}function SL(t){var e=t.getDay();return e>=4||e===0?Xf(t):Xf.ceil(t)}function dme(t,e){return t=SL(t),zt(Xf.count(ps(t),t)+(ps(t).getDay()===4),e,2)}function hme(t){return t.getDay()}function pme(t,e){return zt(q0.count(ps(t)-1,t),e,2)}function Ame(t,e){return zt(t.getFullYear()%100,e,2)}function mme(t,e){return t=SL(t),zt(t.getFullYear()%100,e,2)}function gme(t,e){return zt(t.getFullYear()%1e4,e,4)}function vme(t,e){var n=t.getDay();return t=n>=4||n===0?Xf(t):Xf.ceil(t),zt(t.getFullYear()%1e4,e,4)}function yme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function Qk(t,e){return zt(t.getUTCDate(),e,2)}function bme(t,e){return zt(t.getUTCHours(),e,2)}function xme(t,e){return zt(t.getUTCHours()%12||12,e,2)}function wme(t,e){return zt(1+xy.count(As(t),t),e,3)}function _L(t,e){return zt(t.getUTCMilliseconds(),e,3)}function Sme(t,e){return _L(t,e)+"000"}function _me(t,e){return zt(t.getUTCMonth()+1,e,2)}function Tme(t,e){return zt(t.getUTCMinutes(),e,2)}function Cme(t,e){return zt(t.getUTCSeconds(),e,2)}function Nme(t){var e=t.getUTCDay();return e===0?7:e}function Eme(t,e){return zt(Sy.count(As(t)-1,t),e,2)}function TL(t){var e=t.getUTCDay();return e>=4||e===0?Qf(t):Qf.ceil(t)}function kme(t,e){return t=TL(t),zt(Qf.count(As(t),t)+(As(t).getUTCDay()===4),e,2)}function Pme(t){return t.getUTCDay()}function Mme(t,e){return zt(H0.count(As(t)-1,t),e,2)}function Dme(t,e){return zt(t.getUTCFullYear()%100,e,2)}function Ome(t,e){return t=TL(t),zt(t.getUTCFullYear()%100,e,2)}function Ime(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function jme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Qf(t):Qf.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function Lme(){return"+0000"}function Zk(){return"%"}function e3(t){return+t}function t3(t){return Math.floor(+t/1e3)}var Vc,CL,NL;Rme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rme(t){return Vc=RAe(t),CL=Vc.format,Vc.parse,NL=Vc.utcFormat,Vc.utcParse,Vc}function Fme(t){return new Date(t)}function $me(t){return t instanceof Date?+t:+new Date(+t)}function v_(t,e,n,r,i,a,o,s,l,u){var c=i_(),f=c.invert,p=c.domain,h=u(".%L"),v=u(":%S"),b=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),x=u("%b %d"),S=u("%B"),T=u("%Y");function C(k){return(l(k)<k?h:s(k)<k?v:o(k)<k?b:a(k)<k?w:r(k)<k?i(k)<k?y:x:n(k)<k?S:T)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?p(Array.from(k,$me)):p().map(Fme)},c.ticks=function(k){var E=p();return t(E[0],E[E.length-1],k??10)},c.tickFormat=function(k,E){return E==null?C:u(E)},c.nice=function(k){var E=p();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?p(hL(E,k)):c},c.copy=function(){return WA(c,v_(t,e,n,r,i,a,o,s,l,u))},c}function Bme(){return Da.apply(v_(jAe,LAe,ps,m_,wy,YA,p_,d_,Su,CL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ume(){return Da.apply(v_(OAe,IAe,As,g_,Sy,xy,A_,h_,Su,NL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _y(){var t=0,e=1,n,r,i,a,o=oi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(p){var h,v;return arguments.length?([h,v]=p,o=f(h,v),u):[o(0),o(1)]}}return u.range=c(Fd),u.rangeRound=c(r_),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ql(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EL(){var t=Ul(_y()(oi));return t.copy=function(){return ql(t,EL())},xs.apply(t,arguments)}function kL(){var t=s_(_y()).domain([1,10]);return t.copy=function(){return ql(t,kL()).base(t.base())},xs.apply(t,arguments)}function PL(){var t=l_(_y());return t.copy=function(){return ql(t,PL()).constant(t.constant())},xs.apply(t,arguments)}function y_(){var t=u_(_y());return t.copy=function(){return ql(t,y_()).exponent(t.exponent())},xs.apply(t,arguments)}function qme(){return y_.apply(null,arguments).exponent(.5)}function ML(){var t=[],e=oi;function n(r){if(r!=null&&!isNaN(r=+r))return e((VA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Nl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Epe(t,a/r))},n.copy=function(){return ML(e).domain(t)},xs.apply(n,arguments)}function Ty(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=oi,c,f=!1,p;function h(b){return isNaN(b=+b)?p:(b=.5+((b=+c(b))-a)*(r*b<r*a?s:l),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function v(b){return function(w){var y,x,S;return arguments.length?([y,x,S]=w,u=eAe(b,[y,x,S]),h):[u(0),u(.5),u(1)]}}return h.range=v(Fd),h.rangeRound=v(r_),h.unknown=function(b){return arguments.length?(p=b,h):p},function(b){return c=b,i=b(t),a=b(e),o=b(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function DL(){var t=Ul(Ty()(oi));return t.copy=function(){return ql(t,DL())},xs.apply(t,arguments)}function OL(){var t=s_(Ty()).domain([.1,1,10]);return t.copy=function(){return ql(t,OL()).base(t.base())},xs.apply(t,arguments)}function IL(){var t=l_(Ty());return t.copy=function(){return ql(t,IL()).constant(t.constant())},xs.apply(t,arguments)}function b_(){var t=u_(Ty());return t.copy=function(){return ql(t,b_()).exponent(t.exponent())},xs.apply(t,arguments)}function Hme(){return b_.apply(null,arguments).exponent(.5)}const n3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jp,scaleDiverging:DL,scaleDivergingLog:OL,scaleDivergingPow:b_,scaleDivergingSqrt:Hme,scaleDivergingSymlog:IL,scaleIdentity:dL,scaleImplicit:uw,scaleLinear:B0,scaleLog:pL,scaleOrdinal:e_,scalePoint:xp,scalePow:c_,scaleQuantile:gL,scaleQuantize:vL,scaleRadial:mL,scaleSequential:EL,scaleSequentialLog:kL,scaleSequentialPow:y_,scaleSequentialQuantile:ML,scaleSequentialSqrt:qme,scaleSequentialSymlog:PL,scaleSqrt:SAe,scaleSymlog:AL,scaleThreshold:yL,scaleTime:Bme,scaleUtc:Ume,tickFormat:fL},Symbol.toStringTag,{value:"Module"}));var zme=kd;function Vme(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!zme(o):n(o,s)))var s=o,l=a}return l}var Cy=Vme;function Gme(t,e){return t>e}var jL=Gme,Wme=Cy,Yme=jL,Kme=Ld;function Jme(t){return t&&t.length?Wme(t,Kme,Yme):void 0}var Xme=Jme;const Ny=Kt(Xme);function Qme(t,e){return t<e}var LL=Qme,Zme=Cy,ege=LL,tge=Ld;function nge(t){return t&&t.length?Zme(t,tge,ege):void 0}var rge=nge;const Ey=Kt(rge);var ige=IS,age=No,oge=zj,sge=ki;function lge(t,e){var n=sge(t)?ige:oge;return n(t,age(e))}var uge=lge,cge=qj,fge=uge;function dge(t,e){return cge(fge(t,e),1)}var hge=dge;const pge=Kt(hge);var Age=KS;function mge(t,e){return Age(t,e)}var gge=mge;const ky=Kt(gge);var $d=1e9,vge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},w_,On=!0,Pa="[DecimalError] ",ju=Pa+"Invalid argument: ",x_=Pa+"Exponent out of range: ",Bd=Math.floor,gu=Math.pow,yge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hi,_r=1e7,Nn=7,RL=9007199254740991,z0=Bd(RL/Nn),nt={};nt.absoluteValue=nt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};nt.comparedTo=nt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};nt.dividedBy=nt.div=function(t){return ss(this,new this.constructor(t))};nt.dividedToIntegerBy=nt.idiv=function(t){var e=this,n=e.constructor;return pn(ss(e,new n(t),0,1),n.precision)};nt.equals=nt.eq=function(t){return!this.cmp(t)};nt.exponent=function(){return lr(this)};nt.greaterThan=nt.gt=function(t){return this.cmp(t)>0};nt.greaterThanOrEqualTo=nt.gte=function(t){return this.cmp(t)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(t){return this.cmp(t)<0};nt.lessThanOrEqualTo=nt.lte=function(t){return this.cmp(t)<1};nt.logarithm=nt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hi))throw Error(Pa+"NaN");if(n.s<1)throw Error(Pa+(n.s?"NaN":"-Infinity"));return n.eq(Hi)?new r(0):(On=!1,e=ss(tA(n,a),tA(t,a),a),On=!0,pn(e,i))};nt.minus=nt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BL(e,t):FL(e,(t.s=-t.s,t))};nt.modulo=nt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Pa+"NaN");return n.s?(On=!1,e=ss(n,t,0,1).times(t),On=!0,n.minus(e)):pn(new r(n),i)};nt.naturalExponential=nt.exp=function(){return $L(this)};nt.naturalLogarithm=nt.ln=function(){return tA(this)};nt.negated=nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};nt.plus=nt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FL(e,t):BL(e,(t.s=-t.s,t))};nt.precision=nt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ju+t);if(e=lr(i)+1,r=i.d.length-1,n=r*Nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};nt.squareRoot=nt.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Pa+"NaN")}for(t=lr(s),On=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=go(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(ss(s,a,o+2)).times(.5),go(a.d).slice(0,o)===(e=go(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(pn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return On=!0,pn(r,n)};nt.times=nt.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,p=c.d,h=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=h.length,l<u&&(a=p,p=h,h=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+h[r]*p[i-r-1]+e,a[i--]=s%_r|0,e=s/_r|0;a[i]=(a[i]+e)%_r|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,On?pn(t,f.precision):t};nt.toDecimalPlaces=nt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(wo(t,0,$d),e===void 0?e=r.rounding:wo(e,0,8),pn(n,t+lr(n)+1,e))};nt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vu(r,!0):(wo(t,0,$d),e===void 0?e=i.rounding:wo(e,0,8),r=pn(new i(r),t+1,e),n=Vu(r,!0,t+1)),n};nt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Vu(i):(wo(t,0,$d),e===void 0?e=a.rounding:wo(e,0,8),r=pn(new a(i),t+lr(i)+1,e),n=Vu(r.abs(),!1,t+lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};nt.toInteger=nt.toint=function(){var t=this,e=t.constructor;return pn(new e(t),lr(t)+1,e.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Hi);if(s=new l(s),!s.s){if(t.s<1)throw Error(Pa+"Infinity");return s}if(s.eq(Hi))return s;if(r=l.precision,t.eq(Hi))return pn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=RL){for(i=new l(Hi),e=Math.ceil(r/Nn+4),On=!1;n%2&&(i=i.times(s),i3(i.d,e)),n=Bd(n/2),n!==0;)s=s.times(s),i3(s.d,e);return On=!0,t.s<0?new l(Hi).div(i):pn(i,r)}}else if(a<0)throw Error(Pa+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,On=!1,i=t.times(tA(s,r+u)),On=!0,i=$L(i),i.s=a,i};nt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=lr(i),r=Vu(i,n<=a.toExpNeg||n>=a.toExpPos)):(wo(t,1,$d),e===void 0?e=a.rounding:wo(e,0,8),i=pn(new a(i),t,e),n=lr(i),r=Vu(i,t<=n||n<=a.toExpNeg,t)),r};nt.toSignificantDigits=nt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(wo(t,1,$d),e===void 0?e=r.rounding:wo(e,0,8)),pn(new r(n),t,e)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lr(t),n=t.constructor;return Vu(t,e<=n.toExpNeg||e>=n.toExpPos)};function FL(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),On?pn(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/_r|0,l[a]%=_r;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,On?pn(e,f):e}function wo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ju+t)}function go(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Nn-r.length,n&&(a+=Zs(n)),a+=r;o=t[e],r=o+"",n=Nn-r.length,n&&(a+=Zs(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ss=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%_r|0,o=a/_r|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*_r+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,p,h,v,b,w,y,x,S,T,C,k,E,D,I=r.constructor,B=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Pa+"Division by zero");for(l=r.e-i.e,E=M.length,C=O.length,h=new I(B),v=h.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--l,a==null?x=a=I.precision:o?x=a+(lr(r)-lr(i))+1:x=a,x<0)return new I(0);if(x=x/Nn+2|0,u=0,E==1)for(c=0,M=M[0],x++;(u<C||c)&&x--;u++)S=c*_r+(O[u]||0),v[u]=S/M|0,c=S%M|0;else{for(c=_r/(M[0]+1)|0,c>1&&(M=t(M,c),O=t(O,c),E=M.length,C=O.length),T=E,b=O.slice(0,E),w=b.length;w<E;)b[w++]=0;D=M.slice(),D.unshift(0),k=M[0],M[1]>=_r/2&&++k;do c=0,s=e(M,b,E,w),s<0?(y=b[0],E!=w&&(y=y*_r+(b[1]||0)),c=y/k|0,c>1?(c>=_r&&(c=_r-1),f=t(M,c),p=f.length,w=b.length,s=e(f,b,p,w),s==1&&(c--,n(f,E<p?D:M,p))):(c==0&&(s=c=1),f=M.slice()),p=f.length,p<w&&f.unshift(0),n(b,f,w),s==-1&&(w=b.length,s=e(M,b,E,w),s<1&&(c++,n(b,E<w?D:M,w))),w=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[w++]=O[T]||0:(b=[O[T]],w=1);while((T++<C||b[0]!==void 0)&&x--)}return v[0]||v.shift(),h.e=l,pn(h,o?a+lr(h)+1:a)}}();function $L(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(lr(t)>16)throw Error(x_+lr(t));if(!t.s)return new c(Hi);for(On=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(gu(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Hi),c.precision=s;;){if(i=pn(i.times(t),s),n=n.times(++l),o=a.plus(ss(i,n,s)),go(o.d).slice(0,s)===go(a.d).slice(0,s)){for(;u--;)a=pn(a.times(a),s);return c.precision=f,e==null?(On=!0,pn(a,f)):a}a=o}}function lr(t){for(var e=t.e*Nn,n=t.d[0];n>=10;n/=10)e++;return e}function G1(t,e,n){if(e>t.LN10.sd())throw On=!0,n&&(t.precision=n),Error(Pa+"LN10 precision limit exceeded");return pn(new t(t.LN10),e)}function Zs(t){for(var e="";t--;)e+="0";return e}function tA(t,e){var n,r,i,a,o,s,l,u,c,f=1,p=10,h=t,v=h.d,b=h.constructor,w=b.precision;if(h.s<1)throw Error(Pa+(h.s?"NaN":"-Infinity"));if(h.eq(Hi))return new b(0);if(e==null?(On=!1,u=w):u=e,h.eq(10))return e==null&&(On=!0),G1(b,u);if(u+=p,b.precision=u,n=go(v),r=n.charAt(0),a=lr(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=go(h.d),r=n.charAt(0),f++;a=lr(h),r>1?(h=new b("0."+n),a++):h=new b(r+"."+n.slice(1))}else return l=G1(b,u+2,w).times(a+""),h=tA(new b(r+"."+n.slice(1)),u-p).plus(l),b.precision=w,e==null?(On=!0,pn(h,w)):h;for(s=o=h=ss(h.minus(Hi),h.plus(Hi),u),c=pn(h.times(h),u),i=3;;){if(o=pn(o.times(c),u),l=s.plus(ss(o,new b(i),u)),go(l.d).slice(0,u)===go(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(G1(b,u+2,w).times(a+""))),s=ss(s,new b(f),u),b.precision=w,e==null?(On=!0,pn(s,w)):s;s=l,i+=2}}function r3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bd(n/Nn),t.d=[],r=(n+1)%Nn,n<0&&(r+=Nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nn;r<i;)t.d.push(+e.slice(r,r+=Nn));e=e.slice(r),r=Nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),On&&(t.e>z0||t.e<-z0))throw Error(x_+n)}else t.s=0,t.e=0,t.d=[0];return t}function pn(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Nn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Nn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Nn,i=r-Nn+o}if(n!==void 0&&(a=gu(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/gu(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=lr(t),f.length=1,e=e-a-1,f[0]=gu(10,(Nn-e%Nn)%Nn),t.e=Bd(-e/Nn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=gu(10,Nn-r),f[c]=i>0?(u/gu(10,o-i)%gu(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==_r&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=_r)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(On&&(t.e>z0||t.e<-z0))throw Error(x_+lr(t));return t}function BL(t,e){var n,r,i,a,o,s,l,u,c,f,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),On?pn(e,h):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(h/Nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=_r-1;--l[a],l[i]+=_r}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,On?pn(e,h):e):new p(0)}function Vu(t,e,n){var r,i=lr(t),a=go(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Zs(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Zs(-i-1)+a,n&&(r=n-o)>0&&(a+=Zs(r))):i>=o?(a+=Zs(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Zs(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Zs(r))),t.s<0?"-"+a:a}function i3(t,e){if(t.length>e)return t.length=e,!0}function UL(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ju+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return r3(o,a.toString())}else if(typeof a!="string")throw Error(ju+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,yge.test(a))r3(o,a);else throw Error(ju+a)}if(i.prototype=nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=UL,i.config=i.set=bge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bge(t){if(!t||typeof t!="object")throw Error(Pa+"Object expected");var e,n,r,i=["precision",1,$d,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ju+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ju+n+": "+r);return this}var w_=UL(vge);Hi=new w_(1);const ln=w_;function xge(t){return Tge(t)||_ge(t)||Sge(t)||wge()}function wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sge(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function _ge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tge(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cge=function(e){return e},qL={},HL=function(e){return e===qL},a3=function(e){return function n(){return arguments.length===0||arguments.length===1&&HL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Nge=function t(e,n){return e===1?n:a3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==qL}).length;return o>=e?n.apply(void 0,i):t(e-o,a3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return HL(f)?l.shift():f});return n.apply(void 0,xge(c).concat(l))}))})},Py=function(e){return Nge(e.length,e)},pw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Ege=Py(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),kge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Cge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},Aw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Pge(t){var e;return t===0?e=1:e=Math.floor(new ln(t).abs().log(10).toNumber())+1,e}function Mge(t,e,n){for(var r=new ln(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Dge=Py(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Oge=Py(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ige=Py(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const My={rangeStep:Mge,getDigitCount:Pge,interpolateNumber:Dge,uninterpolateNumber:Oge,uninterpolateTruncation:Ige};function mw(t){return Rge(t)||Lge(t)||VL(t)||jge()}function jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rge(t){if(Array.isArray(t))return gw(t)}function nA(t,e){return Bge(t)||$ge(t,e)||VL(t,e)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VL(t,e){if(t){if(typeof t=="string")return gw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(t,e)}}function gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Bge(t){if(Array.isArray(t))return t}function GL(t){var e=nA(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function WL(t,e,n){if(t.lte(0))return new ln(0);var r=My.getDigitCount(t.toNumber()),i=new ln(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new ln(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new ln(Math.ceil(l))}function Uge(t,e,n){var r=1,i=new ln(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ln(10).pow(My.getDigitCount(t)-1),i=new ln(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ln(Math.floor(t)))}else t===0?i=new ln(Math.floor((e-1)/2)):n||(i=new ln(Math.floor(t)));var o=Math.floor((e-1)/2),s=kge(Ege(function(l){return i.add(new ln(l-o).mul(r)).toNumber()}),pw);return s(0,e)}function YL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var a=WL(new ln(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ln(0):(o=new ln(t).add(e).div(2),o=o.sub(new ln(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ln(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?YL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new ln(s).mul(a)),tickMax:o.add(new ln(l).mul(a))})}function qge(t){var e=nA(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=GL([n,r]),l=nA(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(mw(pw(0,i-1).map(function(){return 1/0}))):[].concat(mw(pw(0,i-1).map(function(){return-1/0})),[c]);return n>r?Aw(f):f}if(u===c)return Uge(u,i,a);var p=YL(u,c,o,a),h=p.step,v=p.tickMin,b=p.tickMax,w=My.rangeStep(v,b.add(new ln(.1).mul(h)),h);return n>r?Aw(w):w}function Hge(t,e){var n=nA(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=GL([r,i]),s=nA(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=WL(new ln(u).sub(l).div(c-1),a,0),p=[].concat(mw(My.rangeStep(new ln(l),new ln(u).sub(new ln(.99).mul(f)),f)),[u]);return r>i?Aw(p):p}var zge=zL(qge),Vge=zL(Hge),Gge="Invariant failed";function Gu(t,e){throw new Error(Gge)}var Wge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(this,arguments)}function Yge(t,e){return Qge(t)||Xge(t,e)||Jge(t,e)||Kge()}function Kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jge(t,e){if(t){if(typeof t=="string")return o3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o3(t,e)}}function o3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qge(t){if(Array.isArray(t))return t}function Zge(t,e){if(t==null)return{};var n=e0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XL(r.key),r)}}function r0e(t,e,n){return e&&n0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i0e(t,e,n){return e=G0(e),a0e(t,KL()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function a0e(t,e){if(e&&(Zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o0e(t)}function o0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function s0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function JL(t,e,n){return e=XL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XL(t){var e=l0e(t,"string");return Zf(e)=="symbol"?e:e+""}function l0e(t,e){if(Zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dy=function(t){function e(){return t0e(this,e),i0e(this,e,arguments)}return s0e(e,t),r0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,p=Zge(r,Wge),h=vt(p,!1);this.props.direction==="x"&&c.type!=="number"&&Gu();var v=l.map(function(b){var w=u(b,s),y=w.x,x=w.y,S=w.value,T=w.errorVal;if(!T)return null;var C=[],k,E;if(Array.isArray(T)){var D=Yge(T,2);k=D[0],E=D[1]}else k=E=T;if(a==="vertical"){var I=c.scale,B=x+i,O=B+o,M=B-o,U=I(S-k),F=I(S+E);C.push({x1:F,y1:O,x2:F,y2:M}),C.push({x1:U,y1:B,x2:F,y2:B}),C.push({x1:U,y1:O,x2:U,y2:M})}else if(a==="horizontal"){var G=f.scale,R=y+i,$=R-o,V=R+o,Y=G(S-k),ne=G(S+E);C.push({x1:$,y1:ne,x2:V,y2:ne}),C.push({x1:R,y1:Y,x2:R,y2:ne}),C.push({x1:$,y1:Y,x2:V,y2:Y})}return de.createElement(tn,V0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},h),C.map(function(le){return de.createElement("line",V0({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return de.createElement(tn,{className:"recharts-errorBars"},v)}}])}(de.Component);JL(Dy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});JL(Dy,"displayName","ErrorBar");function rA(t){"@babel/helpers - typeof";return rA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(t)}function s3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s3(Object(n),!0).forEach(function(r){u0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u0e(t,e,n){return e=c0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c0e(t){var e=f0e(t,"string");return rA(e)=="symbol"?e:e+""}function f0e(t,e){if(rA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=$i(n,Cl);if(!o)return null;var s=Cl.defaultProps,l=s!==void 0?ou(ou({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var p=f.item,h=f.props,v=h.sectors||h.data||[];return c.concat(v.map(function(b){return{type:o.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,p=f.type.defaultProps,h=p!==void 0?ou(ou({},p),f.props):{},v=h.dataKey,b=h.name,w=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:l.iconType||w||"square",color:S_(f),value:b||v,payload:h}}),ou(ou(ou({},l),Cl.getWithHeight(o,i)),{},{payload:u,item:o})};function iA(t){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(t)}function l3(t){return A0e(t)||p0e(t)||h0e(t)||d0e()}function d0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h0e(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function p0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A0e(t){if(Array.isArray(t))return yw(t)}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){Df(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Df(t,e,n){return e=m0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m0e(t){var e=g0e(t,"string");return iA(e)=="symbol"?e:e+""}function g0e(t,e){if(iA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xr(t,e,n){return It(t)||It(e)?n:gr(e)?Ji(t,e,n):bt(e)?e(t):n}function wp(t,e,n,r){var i=pge(t,function(s){return Xr(s,e)});if(n==="number"){var a=i.filter(function(s){return Je(s)||parseFloat(s)});return a.length?[Ey(a),Ny(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!It(s)}):i;return o.map(function(s){return gr(s)||s instanceof Date?s:""})}var v0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(ii(f-c)!==ii(p-f)){var v=[];if(ii(p-f)===ii(l[1]-l[0])){h=p;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{h=c;var w=p+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var x=Math.min(c,p),S=Math.max(c,p);if(e>(x+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},S_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Un(Un({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},y0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),p=0,h=f.length;p<h;p++){var v=c[f[p]],b=v.items,w=v.cateAxisId,y=b.filter(function(E){return os(E.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,S=x!==void 0?Un(Un({},x),y[0].props):y[0].props,T=S.barSize,C=S[w];o[C]||(o[C]=[]);var k=It(T)?n:T;o[C].push({item:y[0],stackList:y.slice(1),barSize:It(k)?void 0:ai(k,r,0)})}}return o},b0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ai(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=i/l,v=o.reduce(function(T,C){return T+C.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&h>0&&(p=!0,h*=.9,v=l*h);var b=(i-v)/2>>0,w={offset:b-u,size:0};c=o.reduce(function(T,C){var k={item:C.item,position:{offset:w.offset+w.size+u,size:p?h:C.barSize}},E=[].concat(l3(T),[k]);return w=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(D){E.push({item:D,position:w})}),E},f)}else{var y=ai(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var x=(i-2*y-(l-1)*u)/l;x>1&&(x>>=0);var S=s===+s?Math.min(x,s):x;c=o.reduce(function(T,C,k){var E=[].concat(l3(T),[{item:C.item,position:{offset:y+(x+u)*k+(x-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(D){E.push({item:D,position:E[E.length-1].position})}),E},f)}return c},x0e=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=QL({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,p=c.height,h=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&h!=="center"&&Je(e[h]))return Un(Un({},e),{},Df({},h,e[h]+(f||0)));if((b==="horizontal"||b==="vertical"&&h==="center")&&v!=="middle"&&Je(e[v]))return Un(Un({},e),{},Df({},v,e[v]+(p||0)))}return e},w0e=function(e,n,r){return It(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ZL=function(e,n,r,i,a){var o=n.props.children,s=Ea(o,Dy).filter(function(u){return w0e(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Xr(c,r);if(It(f))return u;var p=Array.isArray(f)?[Ey(f),Ny(f)]:[f,f],h=l.reduce(function(v,b){var w=Xr(c,b,0),y=p[0]-Math.abs(Array.isArray(w)?w[0]:w),x=p[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},S0e=function(e,n,r,i,a){var o=n.map(function(s){return ZL(e,s,r,a,i)}).filter(function(s){return!It(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},eR=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&ZL(e,l,u,i)||wp(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},tR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},nR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},ns=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?ii(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return c.filter(function(f){return!qA(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:a?a[f]:f,index:p,offset:u}})},W1=new WeakMap,fg=function(e,n){if(typeof n!="function")return e;W1.has(e)||W1.set(e,new WeakMap);var r=W1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},rR=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Jp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:B0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xp(),realScaleType:"point"}:a==="category"?{scale:Jp(),realScaleType:"band"}:{scale:B0(),realScaleType:"linear"};if(qu(i)){var l="scale".concat(dy(i));return{scale:(n3[l]||xp)(),realScaleType:n3[l]?l:"point"}}return bt(i)?{scale:i}:{scale:xp(),realScaleType:"point"}},c3=1e-4,iR=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-c3,o=Math.max(i[0],i[1])+c3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},_0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},T0e=function(e,n){if(!n||n.length!==2||!Je(n[0])||!Je(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(a[0]=r),(!Je(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},C0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=qA(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},N0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=qA(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},E0e={sign:C0e,expand:Wie,none:Vf,silhouette:Yie,wiggle:Kie,positive:N0e},k0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=E0e[r],o=Gie().keys(i).value(function(s,l){return+Xr(s,l,0)}).order(z2).offset(a);return o(e)},P0e=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,p){var h,v=(h=p.type)!==null&&h!==void 0&&h.defaultProps?Un(Un({},p.type.defaultProps),p.props):p.props,b=v.stackId,w=v.hide;if(w)return f;var y=v[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(gr(b)){var S=x.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(p),x.hasStack=!0,x.stackGroups[b]=S}else x.stackGroups[HA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Un(Un({},f),{},Df({},y,x))},l),c={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,w){var y=h.stackGroups[w];return Un(Un({},b),{},Df({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:k0e(e,y.items,a)}))},v)}return Un(Un({},f),{},Df({},p,h))},c)},aR=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=zge(u,a,s);return e.domain([Ey(c),Ny(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),p=Vge(f,a,s);return{niceTicks:p}}return null},f3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Xr(o,n.dataKey,n.domain[s]);return It(l)?null:n.scale(l)-a/2+i},M0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},D0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Un(Un({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(gr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},O0e=function(e){return e.reduce(function(n,r){return[Ey(r.concat([n[0]]).filter(Je)),Ny(r.concat([n[1]]).filter(Je))]},[1/0,-1/0])},oR=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=O0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},d3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bw=function(e,n,r){if(bt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Je(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(d3.test(e[0])){var a=+d3.exec(e[0])[1];i[0]=n[0]-a}else bt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Je(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(h3.test(e[1])){var o=+h3.exec(e[1])[1];i[1]=n[1]+o}else bt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},W0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=XS(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},p3=function(e,n,r){return!e||!e.length||ky(e,Ji(r,"type.defaultProps.domain"))?n:e},sR=function(e,n){var r=e.type.defaultProps?Un(Un({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Un(Un({},vt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:S_(e),value:Xr(n,i),type:l,payload:n,chartType:u,hide:c})};function aA(t){"@babel/helpers - typeof";return aA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aA(t)}function A3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(n),!0).forEach(function(r){lR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lR(t,e,n){return e=I0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I0e(t){var e=j0e(t,"string");return aA(e)=="symbol"?e:e+""}function j0e(t,e){if(aA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L0e(t,e){return B0e(t)||$0e(t,e)||F0e(t,e)||R0e()}function R0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(t,e){if(t){if(typeof t=="string")return m3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m3(t,e)}}function m3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function B0e(t){if(Array.isArray(t))return t}var Y0=Math.PI/180,U0e=function(e){return e*180/Math.PI},Sn=function(e,n,r,i){return{x:e+Math.cos(-Y0*i)*r,y:n+Math.sin(-Y0*i)*r}},uR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},q0e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=ai(e.cx,o,o/2),f=ai(e.cy,s,s/2),p=uR(o,s,r),h=ai(e.innerRadius,p,0),v=ai(e.outerRadius,p,p*.8),b=Object.keys(n);return b.reduce(function(w,y){var x=n[y],S=x.domain,T=x.reversed,C;if(It(x.range))i==="angleAxis"?C=[l,u]:i==="radiusAxis"&&(C=[h,v]),T&&(C=[C[1],C[0]]);else{C=x.range;var k=C,E=L0e(k,2);l=E[0],u=E[1]}var D=rR(x,a),I=D.realScaleType,B=D.scale;B.domain(S).range(C),iR(B);var O=aR(B,Yo(Yo({},x),{},{realScaleType:I})),M=Yo(Yo(Yo({},x),O),{},{range:C,radius:v,realScaleType:I,scale:B,cx:c,cy:f,innerRadius:h,outerRadius:v,startAngle:l,endAngle:u});return Yo(Yo({},w),{},lR({},y,M))},{})},H0e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},z0e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=H0e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:U0e(u),angleInRadian:u}},V0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},G0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},g3=function(e,n){var r=e.x,i=e.y,a=z0e({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=V0e(n),f=c.startAngle,p=c.endAngle,h=s,v;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;v=h>=p&&h<=f}return v?Yo(Yo({},n),{},{radius:o,angle:G0e(h,n)}):null},cR=function(e){return!ie.isValidElement(e)&&!bt(e)&&typeof e!="boolean"?e.className:""};function oA(t){"@babel/helpers - typeof";return oA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oA(t)}var W0e=["offset"];function Y0e(t){return Q0e(t)||X0e(t)||J0e(t)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J0e(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function X0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q0e(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z0e(t,e){if(t==null)return{};var n=eve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v3(Object(n),!0).forEach(function(r){tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tve(t,e,n){return e=nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nve(t){var e=rve(t,"string");return oA(e)=="symbol"?e:e+""}function rve(t,e){if(oA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sA.apply(this,arguments)}var ive=function(e){var n=e.value,r=e.formatter,i=It(e.children)?n:e.children;return bt(r)?r(i):i},ave=function(e,n){var r=ii(n-e),i=Math.min(Math.abs(n-e),360);return r*i},ove=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,p=l.outerRadius,h=l.startAngle,v=l.endAngle,b=l.clockWise,w=(f+p)/2,y=ave(h,v),x=y>=0?1:-1,S,T;i==="insideStart"?(S=h+x*o,T=b):i==="insideEnd"?(S=v-x*o,T=!b):i==="end"&&(S=v+x*o,T=b),T=y<=0?T:!T;var C=Sn(u,c,w,S),k=Sn(u,c,w,S+(T?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),D=It(e.id)?HA("recharts-radial-line-"):e.id;return de.createElement("text",sA({},r,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",s)}),de.createElement("defs",null,de.createElement("path",{id:D,d:E})),de.createElement("textPath",{xlinkHref:"#".concat(D)},n))},sve=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,p=(c+f)/2;if(i==="outside"){var h=Sn(o,s,u+r,p),v=h.x,b=h.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=Sn(o,s,w,p),x=y.x,S=y.y;return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},lve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,p=f*i,h=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,w=b*i,y=b>0?"end":"start",x=b>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return dr(dr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:v};return dr(dr({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var C={x:s-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return dr(dr({},C),r?{width:Math.max(C.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return dr(dr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?dr({x:s+w,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideRight"?dr({x:s+u-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?dr({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?dr({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?dr({x:s+w,y:l+p,textAnchor:x,verticalAnchor:v},E):a==="insideTopRight"?dr({x:s+u-w,y:l+p,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?dr({x:s+w,y:l+c-p,textAnchor:x,verticalAnchor:h},E):a==="insideBottomRight"?dr({x:s+u-w,y:l+c-p,textAnchor:y,verticalAnchor:h},E):Pd(a)&&(Je(a.x)||xu(a.x))&&(Je(a.y)||xu(a.y))?dr({x:s+ai(a.x,u),y:l+ai(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):dr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},uve=function(e){return"cx"in e&&Je(e.cx)};function Nr(t){var e=t.offset,n=e===void 0?5:e,r=Z0e(t,W0e),i=dr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,p=i.textBreakAll;if(!a||It(s)&&It(l)&&!ie.isValidElement(u)&&!bt(u))return null;if(ie.isValidElement(u))return ie.cloneElement(u,i);var h;if(bt(u)){if(h=ie.createElement(u,i),ie.isValidElement(h))return h}else h=ive(i);var v=uve(a),b=vt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ove(i,h,b);var w=v?sve(i):lve(i);return de.createElement(zu,sA({className:Dt("recharts-label",f)},b,w,{breakAll:p}),h)}Nr.displayName="Label";var fR=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,p=e.y,h=e.top,v=e.left,b=e.width,w=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(Je(b)&&Je(w)){if(Je(f)&&Je(p))return{x:f,y:p,width:b,height:w};if(Je(h)&&Je(v))return{x:h,y:v,width:b,height:w}}return Je(f)&&Je(p)?{x:f,y:p,width:0,height:0}:Je(n)&&Je(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},cve=function(e,n){return e?e===!0?de.createElement(Nr,{key:"label-implicit",viewBox:n}):gr(e)?de.createElement(Nr,{key:"label-implicit",viewBox:n,value:e}):ie.isValidElement(e)?e.type===Nr?ie.cloneElement(e,{key:"label-implicit",viewBox:n}):de.createElement(Nr,{key:"label-implicit",content:e,viewBox:n}):bt(e)?de.createElement(Nr,{key:"label-implicit",content:e,viewBox:n}):Pd(e)?de.createElement(Nr,sA({viewBox:n},e,{key:"label-implicit"})):null:null},fve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=fR(e),o=Ea(i,Nr).map(function(l,u){return ie.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=cve(e.label,n||a);return[s].concat(Y0e(o))};Nr.parseViewBox=fR;Nr.renderCallByParent=fve;function dve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var hve=dve;const pve=Kt(hve);function lA(t){"@babel/helpers - typeof";return lA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lA(t)}var Ave=["valueAccessor"],mve=["data","dataKey","clockWise","id","textBreakAll"];function gve(t){return xve(t)||bve(t)||yve(t)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function bve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xve(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K0.apply(this,arguments)}function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){wve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wve(t,e,n){return e=Sve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sve(t){var e=_ve(t,"string");return lA(e)=="symbol"?e:e+""}function _ve(t,e){if(lA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x3(t,e){if(t==null)return{};var n=Tve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cve=function(e){return Array.isArray(e.value)?pve(e.value):e.value};function El(t){var e=t.valueAccessor,n=e===void 0?Cve:e,r=x3(t,Ave),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=x3(r,mve);return!i||!i.length?null:de.createElement(tn,{className:"recharts-label-list"},i.map(function(c,f){var p=It(a)?n(c,f):Xr(c&&c.payload,a),h=It(s)?{}:{id:"".concat(s,"-").concat(f)};return de.createElement(Nr,K0({},vt(c,!0),u,h,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:Nr.parseViewBox(It(o)?c:b3(b3({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}El.displayName="LabelList";function Nve(t,e){return t?t===!0?de.createElement(El,{key:"labelList-implicit",data:e}):de.isValidElement(t)||bt(t)?de.createElement(El,{key:"labelList-implicit",data:e,content:t}):Pd(t)?de.createElement(El,K0({data:e},t,{key:"labelList-implicit"})):null:null}function Eve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ea(r,El).map(function(o,s){return ie.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Nve(t.label,e);return[a].concat(gve(i))}El.renderCallByParent=Eve;function uA(t){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uA(t)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(this,arguments)}function w3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(n),!0).forEach(function(r){kve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kve(t,e,n){return e=Pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pve(t){var e=Mve(t,"string");return uA(e)=="symbol"?e:e+""}function Mve(t,e){if(uA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dve=function(e,n){var r=ii(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},dg=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Y0,p=u?a:a+o*f,h=Sn(n,r,c,p),v=Sn(n,r,i,p),b=u?a-o*f:a,w=Sn(n,r,c*Math.cos(f*Y0),b);return{center:h,circleTangency:v,lineTangency:w,theta:f}},dR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Dve(o,s),u=o+l,c=Sn(n,r,a,o),f=Sn(n,r,a,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Sn(n,r,i,o),v=Sn(n,r,i,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Ove=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=ii(c-u),p=dg({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),h=p.circleTangency,v=p.lineTangency,b=p.theta,w=dg({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=w.circleTangency,x=w.lineTangency,S=w.theta,T=l?Math.abs(u-c):Math.abs(u-c)-b-S;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):dR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var k=dg({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=k.circleTangency,D=k.lineTangency,I=k.theta,B=dg({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=B.circleTangency,M=B.lineTangency,U=B.theta,F=l?Math.abs(u-c):Math.abs(u-c)-I-U;if(F<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Ive={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hR=function(e){var n=S3(S3({},Ive),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,p=n.className;if(o<a||c===f)return null;var h=Dt("recharts-sector",p),v=o-a,b=ai(s,v,0,!0),w;return b>0&&Math.abs(c-f)<360?w=Ove({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=dR({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),de.createElement("path",Sw({},vt(n,!0),{className:h,d:w,role:"img"}))};function cA(t){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jve(t,e,n){return e=Lve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lve(t){var e=Rve(t,"string");return cA(e)=="symbol"?e:e+""}function Rve(t,e){if(cA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C3={curveBasisClosed:jie,curveBasisOpen:Lie,curveBasis:Iie,curveBumpX:bie,curveBumpY:xie,curveLinearClosed:Rie,curveLinear:py,curveMonotoneX:Fie,curveMonotoneY:$ie,curveNatural:Bie,curveStep:Uie,curveStepAfter:Hie,curveStepBefore:qie},hg=function(e){return e.x===+e.x&&e.y===+e.y},Bh=function(e){return e.x},Uh=function(e){return e.y},Fve=function(e,n){if(bt(e))return e;var r="curve".concat(dy(e));return(r==="curveMonotone"||r==="curveBump")&&n?C3["".concat(r).concat(n==="vertical"?"Y":"X")]:C3[r]||py},$ve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Fve(r,s),f=u?a.filter(function(b){return hg(b)}):a,p;if(Array.isArray(o)){var h=u?o.filter(function(b){return hg(b)}):o,v=f.map(function(b,w){return T3(T3({},b),{},{base:h[w]})});return s==="vertical"?p=rg().y(Uh).x1(Bh).x0(function(b){return b.base.x}):p=rg().x(Bh).y1(Uh).y0(function(b){return b.base.y}),p.defined(hg).curve(c),p(v)}return s==="vertical"&&Je(o)?p=rg().y(Uh).x1(Bh).x0(o):Je(o)?p=rg().x(Bh).y1(Uh).y0(o):p=sj().x(Bh).y(Uh),p.defined(hg).curve(c),p(f)},Tw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?$ve(e):i;return ie.createElement("path",_w({},vt(e,!1),b0(e),{className:Dt("recharts-curve",n),d:o,ref:a}))},pR={exports:{}},Bve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uve=Bve,qve=Uve;function AR(){}function mR(){}mR.resetWarningCache=AR;var Hve=function(){function t(r,i,a,o,s,l){if(l!==qve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mR,resetWarningCache:AR};return n.PropTypes=n,n};pR.exports=Hve();var zve=pR.exports;const Jt=Kt(zve);var Vve=Object.getOwnPropertyNames,Gve=Object.getOwnPropertySymbols,Wve=Object.prototype.hasOwnProperty;function N3(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function pg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Yve(t){return t!=null?t[Symbol.toStringTag]:void 0}function E3(t){return Vve(t).concat(Gve(t))}var Kve=Object.hasOwn||function(t,e){return Wve.call(t,e)};function sc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Jve="__v",Xve="__o",Qve="_owner",k3=Object.getOwnPropertyDescriptor,P3=Object.keys;function Zve(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function eye(t,e){return sc(t.getTime(),e.getTime())}function tye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nye(t,e){return t===e}function M3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var p=o.value,h=s.value;if(n.equals(p[0],h[0],l,f,t,e,n)&&n.equals(p[1],h[1],p[0],h[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var rye=sc;function iye(t,e,n){var r=P3(t),i=r.length;if(P3(e).length!==i)return!1;for(;i-- >0;)if(!gR(t,e,n,r[i]))return!1;return!0}function qh(t,e,n){var r=E3(t),i=r.length;if(E3(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!gR(t,e,n,a)||(o=k3(t,a),s=k3(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function aye(t,e){return sc(t.valueOf(),e.valueOf())}function oye(t,e){return t.source===e.source&&t.flags===e.flags}function D3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function sye(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function lye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function gR(t,e,n,r){return(r===Qve||r===Xve||r===Jve)&&(t.$$typeof||e.$$typeof)?!0:Kve(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var uye="[object Arguments]",cye="[object Boolean]",fye="[object Date]",dye="[object Error]",hye="[object Map]",pye="[object Number]",Aye="[object Object]",mye="[object RegExp]",gye="[object Set]",vye="[object String]",yye="[object URL]",bye=Array.isArray,O3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,I3=Object.assign,xye=Object.prototype.toString.call.bind(Object.prototype.toString);function wye(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,h=t.unknownTagComparators;return function(b,w,y){if(b===w)return!0;if(b==null||w==null)return!1;var x=typeof b;if(x!==typeof w)return!1;if(x!=="object")return x==="number"?o(b,w,y):x==="function"?i(b,w,y):!1;var S=b.constructor;if(S!==w.constructor)return!1;if(S===Object)return s(b,w,y);if(bye(b))return e(b,w,y);if(O3!=null&&O3(b))return f(b,w,y);if(S===Date)return n(b,w,y);if(S===RegExp)return u(b,w,y);if(S===Map)return a(b,w,y);if(S===Set)return c(b,w,y);var T=xye(b);if(T===fye)return n(b,w,y);if(T===mye)return u(b,w,y);if(T===hye)return a(b,w,y);if(T===gye)return c(b,w,y);if(T===Aye)return typeof b.then!="function"&&typeof w.then!="function"&&s(b,w,y);if(T===yye)return p(b,w,y);if(T===dye)return r(b,w,y);if(T===uye)return s(b,w,y);if(T===cye||T===pye||T===vye)return l(b,w,y);if(h){var C=h[T];if(!C){var k=Yve(b);k&&(C=h[k])}if(C)return C(b,w,y)}return!1}}function Sye(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?qh:Zve,areDatesEqual:eye,areErrorsEqual:tye,areFunctionsEqual:nye,areMapsEqual:r?N3(M3,qh):M3,areNumbersEqual:rye,areObjectsEqual:r?qh:iye,arePrimitiveWrappersEqual:aye,areRegExpsEqual:oye,areSetsEqual:r?N3(D3,qh):D3,areTypedArraysEqual:r?qh:sye,areUrlsEqual:lye,unknownTagComparators:void 0};if(n&&(i=I3({},i,n(i))),e){var a=pg(i.areArraysEqual),o=pg(i.areMapsEqual),s=pg(i.areObjectsEqual),l=pg(i.areSetsEqual);i=I3({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function _ye(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Tye(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,p=f===void 0?e?new WeakMap:void 0:f,h=c.meta;return n(l,u,{cache:p,equals:i,meta:h,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Cye=Hl();Hl({strict:!0});Hl({circular:!0});Hl({circular:!0,strict:!0});Hl({createInternalComparator:function(){return sc}});Hl({strict:!0,createInternalComparator:function(){return sc}});Hl({circular:!0,createInternalComparator:function(){return sc}});Hl({circular:!0,createInternalComparator:function(){return sc},strict:!0});function Hl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Sye(t),l=wye(s),u=r?r(l):_ye(l);return Tye({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Nye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function j3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Nye(i)};requestAnimationFrame(r)}function Cw(t){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(t)}function Eye(t){return Dye(t)||Mye(t)||Pye(t)||kye()}function kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pye(t,e){if(t){if(typeof t=="string")return L3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L3(t,e)}}function L3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dye(t){if(Array.isArray(t))return t}function Oye(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Eye(o),l=s[0],u=s.slice(1);if(typeof l=="number"){j3(i.bind(null,u),l);return}i(l),j3(i.bind(null,u));return}Cw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function fA(t){"@babel/helpers - typeof";return fA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fA(t)}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){vR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vR(t,e,n){return e=Iye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iye(t){var e=jye(t,"string");return fA(e)==="symbol"?e:String(e)}function jye(t,e){if(fA(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fA(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lye=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Rye=function(e){return e},Fye=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Sp=function(e,n){return Object.keys(n).reduce(function(r,i){return F3(F3({},r),{},vR({},i,e(i,n[i])))},{})},$3=function(e,n,r){return e.map(function(i){return"".concat(Fye(i)," ").concat(n,"ms ").concat(r)}).join(",")};function $ye(t,e){return qye(t)||Uye(t,e)||yR(t,e)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qye(t){if(Array.isArray(t))return t}function Hye(t){return Gye(t)||Vye(t)||yR(t)||zye()}function zye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yR(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function Vye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gye(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J0=1e-4,bR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},xR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},B3=function(e,n){return function(r){var i=bR(e,n);return xR(i,r)}},Wye=function(e,n){return function(r){var i=bR(e,n),a=[].concat(Hye(i.map(function(o,s){return o*s}).slice(1)),[0]);return xR(a,r)}},U3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=$ye(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=B3(i,o),p=B3(a,s),h=Wye(i,o),v=function(y){return y>1?1:y<0?0:y},b=function(y){for(var x=y>1?1:y,S=x,T=0;T<8;++T){var C=f(S)-x,k=h(S);if(Math.abs(C-x)<J0||k<J0)return p(S);S=v(S-C/k)}return p(S)};return b.isStepper=!1,b},Yye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,p){var h=-(c-f)*r,v=p*a,b=p+(h-v)*s/1e3,w=p*s/1e3+c;return Math.abs(w-f)<J0&&Math.abs(b)<J0?[f,0]:[w,b]};return l.isStepper=!0,l.dt=s,l},Kye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U3(i);case"spring":return Yye();default:if(i.split("(")[0]==="cubic-bezier")return U3(i)}return typeof i=="function"?i:null};function dA(t){"@babel/helpers - typeof";return dA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dA(t)}function q3(t){return Qye(t)||Xye(t)||wR(t)||Jye()}function Jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qye(t){if(Array.isArray(t))return kw(t)}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ew(t,e,n){return e=Zye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zye(t){var e=ebe(t,"string");return dA(e)==="symbol"?e:String(e)}function ebe(t,e){if(dA(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dA(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tbe(t,e){return ibe(t)||rbe(t,e)||wR(t,e)||nbe()}function nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wR(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ibe(t){if(Array.isArray(t))return t}var X0=function(e,n,r){return e+(n-e)*r},Pw=function(e){var n=e.from,r=e.to;return n!==r},abe=function t(e,n,r){var i=Sp(function(a,o){if(Pw(o)){var s=e(o.from,o.to,o.velocity),l=tbe(s,2),u=l[0],c=l[1];return Or(Or({},o),{},{from:u,velocity:c})}return o},n);return r<1?Sp(function(a,o){return Pw(o)?Or(Or({},o),{},{velocity:X0(o.velocity,i[a].velocity,r),from:X0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const obe=function(t,e,n,r,i){var a=Lye(t,e),o=a.reduce(function(w,y){return Or(Or({},w),{},Ew({},y,[t[y],e[y]]))},{}),s=a.reduce(function(w,y){return Or(Or({},w),{},Ew({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},p=function(){return Sp(function(y,x){return x.from},s)},h=function(){return!Object.values(s).filter(Pw).length},v=function(y){u||(u=y);var x=y-u,S=x/n.dt;s=abe(n,s,S),i(Or(Or(Or({},t),e),p())),u=y,h()||(l=requestAnimationFrame(f))},b=function(y){c||(c=y);var x=(y-c)/r,S=Sp(function(C,k){return X0.apply(void 0,q3(k).concat([n(x)]))},o);if(i(Or(Or(Or({},t),e),S)),x<1)l=requestAnimationFrame(f);else{var T=Sp(function(C,k){return X0.apply(void 0,q3(k).concat([n(1)]))},o);i(Or(Or(Or({},t),e),T))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}var sbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lbe(t,e){if(t==null)return{};var n=ube(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ube(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y1(t){return hbe(t)||dbe(t)||fbe(t)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fbe(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hbe(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){Jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jh(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Abe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function mbe(t,e,n){return e&&Abe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SR(t){var e=gbe(t,"string");return ed(e)==="symbol"?e:String(e)}function gbe(t,e){if(ed(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dw(t,e)}function ybe(t){var e=bbe();return function(){var r=Q0(t),i;if(e){var a=Q0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Ow(this,i)}}function Ow(t,e){if(e&&(ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iw(t)}function Iw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}var ms=function(t){vbe(n,t);var e=ybe(n);function n(r,i){var a;pbe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,p=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Iw(a)),a.changeStyle=a.changeStyle.bind(Iw(a)),!s||h<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:c}),Ow(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof p=="function")return a.state={style:u},Ow(a);a.state={style:l?Jh({},l,u):u}}else a.state={style:{}};return a}return mbe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,p=this.state.style;if(s){if(!o){var h={style:l?Jh({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(h);return}if(!(Cye(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&p){var w={style:l?Jh({},l,b):b};(l&&p[l]!==b||!l&&p!==b)&&this.setState(w)}this.runAnimation(qa(qa({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,h=obe(o,s,Kye(u),l,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([p,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,p=f===void 0?0:f,h=function(b,w,y){if(y===0)return b;var x=w.duration,S=w.easing,T=S===void 0?"ease":S,C=w.style,k=w.properties,E=w.onAnimationEnd,D=y>0?o[y-1]:w,I=k||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(Y1(b),[a.runJSAnimation.bind(a,{from:D.style,to:C,duration:x,easing:T}),x]);var B=$3(I,x,T),O=qa(qa(qa({},D.style),C),{},{transition:B});return[].concat(Y1(b),[O,x,E]).filter(Rye)};return this.manager.start([l].concat(Y1(o.reduce(h,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Oye());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,h=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=s?Jh({},s,l):l,w=$3(Object.keys(b),o,u);v.start([c,a,qa(qa({},b),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=lbe(i,sbe),u=ie.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(h){var v=h.props,b=v.style,w=b===void 0?{}:b,y=v.className,x=ie.cloneElement(h,qa(qa({},l),{},{style:qa(qa({},w),c),className:y}));return x};return u===1?f(ie.Children.only(a)):de.createElement("div",null,ie.Children.map(a,function(p){return f(p)}))}}]),n}(ie.PureComponent);ms.displayName="Animate";ms.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ms.propTypes={from:Jt.oneOfType([Jt.object,Jt.string]),to:Jt.oneOfType([Jt.object,Jt.string]),attributeName:Jt.string,duration:Jt.number,begin:Jt.number,easing:Jt.oneOfType([Jt.string,Jt.func]),steps:Jt.arrayOf(Jt.shape({duration:Jt.number.isRequired,style:Jt.object.isRequired,easing:Jt.oneOfType([Jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Jt.func]),properties:Jt.arrayOf("string"),onAnimationEnd:Jt.func})),children:Jt.oneOfType([Jt.node,Jt.func]),isActive:Jt.bool,canBegin:Jt.bool,onAnimationEnd:Jt.func,shouldReAnimate:Jt.bool,onAnimationStart:Jt.func,onAnimationReStart:Jt.func};function hA(t){"@babel/helpers - typeof";return hA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hA(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}function xbe(t,e){return Tbe(t)||_be(t,e)||Sbe(t,e)||wbe()}function wbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sbe(t,e){if(t){if(typeof t=="string")return V3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V3(t,e)}}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _be(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tbe(t){if(Array.isArray(t))return t}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){Cbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cbe(t,e,n){return e=Nbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nbe(t){var e=Ebe(t,"string");return hA(e)=="symbol"?e:e+""}function Ebe(t,e){if(hA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y3=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=a[p]>o?o:a[p];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},kbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=p}return!1},Pbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},__=function(e){var n=W3(W3({},Pbe),e),r=ie.useRef(),i=ie.useState(-1),a=xbe(i,2),o=a[0],s=a[1];ie.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,p=n.radius,h=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=Dt("recharts-rectangle",h);return x?de.createElement(ms,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:x},function(T){var C=T.width,k=T.height,E=T.x,D=T.y;return de.createElement(ms,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:y,easing:v},de.createElement("path",Z0({},vt(n,!0),{className:S,d:Y3(E,D,C,k,p),ref:r})))}):de.createElement("path",Z0({},vt(n,!0),{className:S,d:Y3(l,u,c,f,p)}))},Mbe=["points","className","baseLinePoints","connectNulls"];function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function Dbe(t,e){if(t==null)return{};var n=Obe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Obe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K3(t){return Rbe(t)||Lbe(t)||jbe(t)||Ibe()}function Ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function Lbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rbe(t){if(Array.isArray(t))return jw(t)}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J3=function(e){return e&&e.x===+e.x&&e.y===+e.y},Fbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){J3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),J3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},_p=function(e,n){var r=Fbe(e);n&&(r=[r.reduce(function(a,o){return[].concat(K3(a),K3(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},$be=function(e,n,r){var i=_p(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(_p(n.reverse(),r).slice(1))},Bbe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Dbe(e,Mbe);if(!n||!n.length)return null;var s=Dt("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=$be(n,i,a);return de.createElement("g",{className:s},de.createElement("path",mf({},vt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?de.createElement("path",mf({},vt(o,!0),{fill:"none",d:_p(n,a)})):null,l?de.createElement("path",mf({},vt(o,!0),{fill:"none",d:_p(i,a)})):null)}var c=_p(n,a);return de.createElement("path",mf({},vt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}var T_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Dt("recharts-dot",a);return n===+n&&r===+r&&i===+i?ie.createElement("circle",Lw({},vt(e,!1),b0(e),{className:o,cx:n,cy:r,r:i})):null};function pA(t){"@babel/helpers - typeof";return pA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pA(t)}var Ube=["x","y","top","left","width","height","className"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(this,arguments)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){Hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hbe(t,e,n){return e=zbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zbe(t){var e=Vbe(t,"string");return pA(e)=="symbol"?e:e+""}function Vbe(t,e){if(pA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gbe(t,e){if(t==null)return{};var n=Wbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ybe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Kbe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,p=e.height,h=p===void 0?0:p,v=e.className,b=Gbe(e,Ube),w=qbe({x:r,y:a,top:s,left:u,width:f,height:h},b);return!Je(r)||!Je(a)||!Je(f)||!Je(h)||!Je(s)||!Je(u)?null:de.createElement("path",Rw({},vt(w,!0),{className:Dt("recharts-cross",v),d:Ybe(r,a,f,h,s,u)}))},Jbe=Cy,Xbe=jL,Qbe=No;function Zbe(t,e){return t&&t.length?Jbe(t,Qbe(e),Xbe):void 0}var e1e=Zbe;const t1e=Kt(e1e);var n1e=Cy,r1e=No,i1e=LL;function a1e(t,e){return t&&t.length?n1e(t,r1e(e),i1e):void 0}var o1e=a1e;const s1e=Kt(o1e);var l1e=["cx","cy","angle","ticks","axisLine"],u1e=["ticks","tick","angle","tickFormatter","stroke"];function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){Oy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z3(t,e){if(t==null)return{};var n=c1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TR(r.key),r)}}function d1e(t,e,n){return e&&eP(t.prototype,e),n&&eP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h1e(t,e,n){return e=ev(e),p1e(t,_R()?Reflect.construct(e,n||[],ev(t).constructor):e.apply(t,n))}function p1e(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A1e(t)}function A1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(t)}function m1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function Oy(t,e,n){return e=TR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TR(t){var e=g1e(t,"string");return td(e)=="symbol"?e:e+""}function g1e(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iy=function(t){function e(){return f1e(this,e),h1e(this,e,arguments)}return m1e(e,t),d1e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Sn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=t1e(s,function(c){return c.coordinate||0}),u=s1e(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=Z3(r,l1e),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Sn(i,a,c[0],o),p=Sn(i,a,c[1],o),h=su(su(su({},vt(u,!1)),{},{fill:"none"},vt(l,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return de.createElement("line",Tp({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=Z3(i,u1e),f=this.getTickTextAnchor(),p=vt(c,!1),h=vt(o,!1),v=a.map(function(b,w){var y=r.getTickValueCoord(b),x=su(su(su(su({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:w},y),{},{payload:b});return de.createElement(tn,Tp({className:Dt("recharts-polar-radius-axis-tick",cR(o)),key:"tick-".concat(b.coordinate)},Hu(r.props,b,w)),e.renderTickItem(o,x,l?l(b.value,w):b.value))});return de.createElement(tn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:de.createElement(tn,{className:Dt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Nr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):bt(r)?o=r(i):o=de.createElement(zu,Tp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(ie.PureComponent);Oy(Iy,"displayName","PolarRadiusAxis");Oy(Iy,"axisType","radiusAxis");Oy(Iy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}function tP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NR(r.key),r)}}function y1e(t,e,n){return e&&nP(t.prototype,e),n&&nP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b1e(t,e,n){return e=tv(e),x1e(t,CR()?Reflect.construct(e,n||[],tv(t).constructor):e.apply(t,n))}function x1e(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w1e(t)}function w1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tv(t)}function S1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$w(t,e)}function jy(t,e,n){return e=NR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NR(t){var e=_1e(t,"string");return nd(e)=="symbol"?e:e+""}function _1e(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T1e=Math.PI/180,rP=1e-5,Ly=function(t){function e(){return v1e(this,e),b1e(this,e,arguments)}return S1e(e,t),y1e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Sn(a,o,s,r.coordinate),p=Sn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*T1e),o;return a>rP?o=i==="outer"?"start":"end":a<-rP?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=lu(lu({},vt(this.props,!1)),{},{fill:"none"},vt(s,!1));if(l==="circle")return de.createElement(T_,yu({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(p){return Sn(i,a,o,p.coordinate)});return de.createElement(Bbe,yu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=vt(this.props,!1),f=vt(o,!1),p=lu(lu({},c),{},{fill:"none"},vt(s,!1)),h=a.map(function(v,b){var w=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),x=lu(lu(lu({textAnchor:y},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:w.x2,y:w.y2});return de.createElement(tn,yu({className:Dt("recharts-polar-angle-axis-tick",cR(o)),key:"tick-".concat(v.coordinate)},Hu(r.props,v,b)),s&&de.createElement("line",yu({className:"recharts-polar-angle-axis-tick-line"},p,w)),o&&e.renderTickItem(o,x,l?l(v.value,b):v.value))});return de.createElement(tn,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:de.createElement(tn,{className:Dt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):bt(r)?o=r(i):o=de.createElement(zu,yu({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(ie.PureComponent);jy(Ly,"displayName","PolarAngleAxis");jy(Ly,"axisType","angleAxis");jy(Ly,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var C1e=Mj,N1e=C1e(Object.getPrototypeOf,Object),E1e=N1e,k1e=ys,P1e=E1e,M1e=bs,D1e="[object Object]",O1e=Function.prototype,I1e=Object.prototype,ER=O1e.toString,j1e=I1e.hasOwnProperty,L1e=ER.call(Object);function R1e(t){if(!M1e(t)||k1e(t)!=D1e)return!1;var e=P1e(t);if(e===null)return!0;var n=j1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ER.call(n)==L1e}var F1e=R1e;const $1e=Kt(F1e);var B1e=ys,U1e=bs,q1e="[object Boolean]";function H1e(t){return t===!0||t===!1||U1e(t)&&B1e(t)==q1e}var z1e=H1e;const V1e=Kt(z1e);function AA(t){"@babel/helpers - typeof";return AA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AA(t)}function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nv.apply(this,arguments)}function G1e(t,e){return J1e(t)||K1e(t,e)||Y1e(t,e)||W1e()}function W1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1e(t,e){if(t){if(typeof t=="string")return iP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iP(t,e)}}function iP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function J1e(t){if(Array.isArray(t))return t}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){X1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X1e(t,e,n){return e=Q1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q1e(t){var e=Z1e(t,"string");return AA(e)=="symbol"?e:e+""}function Z1e(t,e){if(AA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(AA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sP=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},exe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},txe=function(e){var n=oP(oP({},exe),e),r=ie.useRef(),i=ie.useState(-1),a=G1e(i,2),o=a[0],s=a[1];ie.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,p=n.height,h=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||p!==+p||c===0&&f===0||p===0)return null;var x=Dt("recharts-trapezoid",h);return y?de.createElement(ms,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:p,x:l,y:u},duration:b,animationEasing:v,isActive:y},function(S){var T=S.upperWidth,C=S.lowerWidth,k=S.height,E=S.x,D=S.y;return de.createElement(ms,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:v},de.createElement("path",nv({},vt(n,!0),{className:x,d:sP(E,D,T,C,k),ref:r})))}):de.createElement("g",null,de.createElement("path",nv({},vt(n,!0),{className:x,d:sP(l,u,c,f,p)})))},nxe=["option","shapeType","propTransformer","activeClassName","isActive"];function mA(t){"@babel/helpers - typeof";return mA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mA(t)}function rxe(t,e){if(t==null)return{};var n=ixe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ixe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){axe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function axe(t,e,n){return e=oxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oxe(t){var e=sxe(t,"string");return mA(e)=="symbol"?e:e+""}function sxe(t,e){if(mA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lxe(t,e){return rv(rv({},e),t)}function uxe(t,e){return t==="symbols"}function uP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return de.createElement(__,n);case"trapezoid":return de.createElement(txe,n);case"sector":return de.createElement(hR,n);case"symbols":if(uxe(e))return de.createElement(HS,n);break;default:return null}}function cxe(t){return ie.isValidElement(t)?t.props:t}function kR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?lxe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=rxe(t,nxe),u;if(ie.isValidElement(e))u=ie.cloneElement(e,rv(rv({},l),cxe(e)));else if(bt(e))u=e(l);else if($1e(e)&&!V1e(e)){var c=i(e,l);u=de.createElement(uP,{shapeType:n,elementProps:c})}else{var f=l;u=de.createElement(uP,{shapeType:n,elementProps:f})}return s?de.createElement(tn,{className:o},u):u}function Ry(t,e){return e!=null&&"trapezoids"in t.props}function Fy(t,e){return e!=null&&"sectors"in t.props}function gA(t,e){return e!=null&&"points"in t.props}function fxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function dxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function hxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function pxe(t,e){var n;return Ry(t,e)?n=fxe:Fy(t,e)?n=dxe:gA(t,e)&&(n=hxe),n}function Axe(t,e){var n;return Ry(t,e)?n="trapezoids":Fy(t,e)?n="sectors":gA(t,e)&&(n="points"),n}function mxe(t,e){if(Ry(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Fy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gA(t,e)?e.payload:{}}function gxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Axe(n,e),a=mxe(n,e),o=r.filter(function(l,u){var c=ky(a,l),f=n.props[i].filter(function(v){var b=pxe(n,e);return b(v,e)}),p=n.props[i].indexOf(f[f.length-1]),h=u===p;return c&&h}),s=r.indexOf(o[o.length-1]);return s}var Lg;function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){Sa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MR(r.key),r)}}function yxe(t,e,n){return e&&fP(t.prototype,e),n&&fP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bxe(t,e,n){return e=iv(e),xxe(t,PR()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function xxe(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wxe(t)}function wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function Sxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bw(t,e)}function Sa(t,e,n){return e=MR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MR(t){var e=_xe(t,"string");return rd(e)=="symbol"?e:e+""}function _xe(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ws=function(t){function e(n){var r;return vxe(this,e),r=bxe(this,e,[n]),Sa(r,"pieRef",null),Sa(r,"sectorRefs",[]),Sa(r,"id",HA("recharts-pie-")),Sa(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),bt(i)&&i()}),Sa(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),bt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Sxe(e,t),yxe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=vt(this.props,!1),f=vt(o,!1),p=vt(s,!1),h=o&&o.offsetRadius||20,v=r.map(function(b,w){var y=(b.startAngle+b.endAngle)/2,x=Sn(b.cx,b.cy,b.outerRadius+h,y),S=bn(bn(bn(bn({},c),b),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(x.x,b.cx)},x),T=bn(bn(bn(bn({},c),b),{},{fill:"none",stroke:b.fill},p),{},{index:w,points:[Sn(b.cx,b.cy,b.outerRadius,y),x]}),C=l;return It(l)&&It(u)?C="value":It(l)&&(C=u),de.createElement(tn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,S,Xr(b,C)))});return de.createElement(tn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),p=l&&i.hasActiveIndex()?l:null,h=f?o:p,v=bn(bn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return de.createElement(tn,gf({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Hu(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),de.createElement(kR,gf({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return de.createElement(ms,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,w=[],y=a&&a[0],x=y.startAngle;return a.forEach(function(S,T){var C=p&&p[T],k=T>0?Ji(S,"paddingAngle",0):0;if(C){var E=Qs(C.endAngle-C.startAngle,S.endAngle-S.startAngle),D=bn(bn({},S),{},{startAngle:x+k,endAngle:x+E(b)+k});w.push(D),x=D.endAngle}else{var I=S.endAngle,B=S.startAngle,O=Qs(0,I-B),M=O(b),U=bn(bn({},S),{},{startAngle:x+k,endAngle:x+M+k});w.push(U),x=U.endAngle}}),de.createElement(tn,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ky(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,p=i.outerRadius,h=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!Je(u)||!Je(c)||!Je(f)||!Je(p))return null;var b=Dt("recharts-pie",s);return de.createElement(tn,{tabIndex:this.props.rootTabIndex,className:b,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),Nr.renderCallByParent(this.props,null,!1),(!h||v)&&El.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);if(bt(r))return r(i);var o=Dt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return de.createElement(Tw,gf({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);var o=a;if(bt(r)&&(o=r(i),de.isValidElement(o)))return o;var s=Dt("recharts-pie-label-text",typeof r!="boolean"&&!bt(r)?r.className:"");return de.createElement(zu,gf({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(ie.PureComponent);Lg=ws;Sa(ws,"displayName","Pie");Sa(ws,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Rd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Sa(ws,"parseDeltaAngle",function(t,e){var n=ii(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Sa(ws,"getRealPieData",function(t){var e=t.data,n=t.children,r=vt(t,!1),i=Ea(n,yy);return e&&e.length?e.map(function(a,o){return bn(bn(bn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return bn(bn({},r),a.props)}):[]});Sa(ws,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=uR(i,a),s=r+ai(t.cx,i,i/2),l=n+ai(t.cy,a,a/2),u=ai(t.innerRadius,o,0),c=ai(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});Sa(ws,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?bn(bn({},e.type.defaultProps),e.props):e.props,i=Lg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,p=r.tooltipType,h=Math.abs(r.minAngle),v=Lg.parseCoordinateOfPie(r,n),b=Lg.parseDeltaAngle(o,s),w=Math.abs(b),y=u;It(u)&&It(f)?(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):It(u)&&(Xa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=i.filter(function(D){return Xr(D,y,0)!==0}).length,S=(w>=360?x:x-1)*l,T=w-x*h-S,C=i.reduce(function(D,I){var B=Xr(I,y,0);return D+(Je(B)?B:0)},0),k;if(C>0){var E;k=i.map(function(D,I){var B=Xr(D,y,0),O=Xr(D,c,I),M=(Je(B)?B:0)/C,U;I?U=E.endAngle+ii(b)*l*(B!==0?1:0):U=o;var F=U+ii(b)*((B!==0?h:0)+M*T),G=(U+F)/2,R=(v.innerRadius+v.outerRadius)/2,$=[{name:O,value:B,payload:D,dataKey:y,type:p}],V=Sn(v.cx,v.cy,R,G);return E=bn(bn(bn({percent:M,cornerRadius:a,name:O,tooltipPayload:$,midAngle:G,middleRadius:R,tooltipPosition:V},D),v),{},{value:Xr(D,y),startAngle:U,endAngle:F,payload:D,paddingAngle:ii(b)*l}),E})}return bn(bn({},v),{},{sectors:k,data:i})});var Txe=Math.ceil,Cxe=Math.max;function Nxe(t,e,n,r){for(var i=-1,a=Cxe(Txe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Exe=Nxe,kxe=Jj,dP=1/0,Pxe=17976931348623157e292;function Mxe(t){if(!t)return t===0?t:0;if(t=kxe(t),t===dP||t===-dP){var e=t<0?-1:1;return e*Pxe}return t===t?t:0}var DR=Mxe,Dxe=Exe,Oxe=vy,K1=DR;function Ixe(t){return function(e,n,r){return r&&typeof r!="number"&&Oxe(e,n,r)&&(n=r=void 0),e=K1(e),n===void 0?(n=e,e=0):n=K1(n),r=r===void 0?e<n?1:-1:K1(r),Dxe(e,n,r,t)}}var jxe=Ixe,Lxe=jxe,Rxe=Lxe(),Fxe=Rxe;const av=Kt(Fxe);function vA(t){"@babel/helpers - typeof";return vA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vA(t)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){OR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OR(t,e,n){return e=$xe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $xe(t){var e=Bxe(t,"string");return vA(e)=="symbol"?e:e+""}function Bxe(t,e){if(vA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uxe=["Webkit","Moz","O","ms"],qxe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Uxe.reduce(function(a,o){return pP(pP({},a),{},OR({},o+r,n))},{});return i[e]=n,i};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){Ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function zxe(t,e,n){return e&&mP(t.prototype,e),n&&mP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vxe(t,e,n){return e=sv(e),Gxe(t,IR()?Reflect.construct(e,n||[],sv(t).constructor):e.apply(t,n))}function Gxe(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wxe(t)}function Wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sv(t)}function Yxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function Ri(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jR(t){var e=Kxe(t,"string");return id(e)=="symbol"?e:e+""}function Kxe(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jxe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=xp().domain(av(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},gP=function(e){return e.changedTouches&&!!e.changedTouches.length},ad=function(t){function e(n){var r;return Hxe(this,e),r=Vxe(this,e,[n]),Ri(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ri(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ri(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ri(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ri(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ri(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ri(r,"handleSlideDragStart",function(i){var a=gP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Yxe(e,t),zxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),p=Math.max(i,a),h=e.getIndexInRange(o,f),v=e.getIndexInRange(o,p);return{startIndex:h-h%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Xr(a[r],s,r);return bt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,p=l.startIndex,h=l.endIndex,v=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,u+c-f-s,u+c-f-o):b<0&&(b=Math.max(b,u-o,u-s));var w=this.getIndex({startX:o+b,endX:s+b});(w.startIndex!==p||w.endIndex!==h)&&v&&v(w),this.setState({startX:o+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=gP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,p=c.width,h=c.travellerWidth,v=c.onChange,b=c.gap,w=c.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+p-h-u):x<0&&(x=Math.max(x,f-u)),y[o]=u+x;var S=this.getIndex(y),T=S.startIndex,C=S.endIndex,k=function(){var D=w.length-1;return o==="startX"&&(s>l?T%b===0:C%b===0)||s<l&&C===D||o==="endX"&&(s>l?C%b===0:T%b===0)||s>l&&C===D};this.setState(Ri(Ri({},o,u+x),"brushMoveStartX",r.pageX),function(){v&&k()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var p=f+r;if(!(p===-1||p>=s.length)){var h=s[p];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(Ri({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return de.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=ie.Children.only(u);return f?de.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,p=l.traveller,h=l.ariaLabel,v=l.data,b=l.startIndex,w=l.endIndex,y=Math.max(r,this.props.x),x=J1(J1({},vt(this.props,!1)),{},{x:y,y:u,width:c,height:f}),S=h||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return de.createElement(tn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,p=c.endX,h=5,v={pointerEvents:"none",fill:u};return de.createElement(tn,{className:"recharts-brush-texts"},de.createElement(zu,ov({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+s/2},v),this.getTextOfTick(i)),de.createElement(zu,ov({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+h,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,p=this.state,h=p.startX,v=p.endX,b=p.isTextActive,w=p.isSlideMoving,y=p.isTravellerMoving,x=p.isTravellerFocused;if(!i||!i.length||!Je(s)||!Je(l)||!Je(u)||!Je(c)||u<=0||c<=0)return null;var S=Dt("recharts-brush",a),T=de.Children.count(o)===1,C=qxe("userSelect","none");return de.createElement(tn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(b||w||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):bt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return J1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Jxe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(ie.PureComponent);Ri(ad,"displayName","Brush");Ri(ad,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Xxe=JS;function Qxe(t,e){var n;return Xxe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Zxe=Qxe,e2e=Sj,t2e=No,n2e=Zxe,r2e=ki,i2e=vy;function a2e(t,e,n){var r=r2e(t)?e2e:n2e;return n&&i2e(t,e,n)&&(e=void 0),r(t,t2e(e))}var o2e=a2e;const s2e=Kt(o2e);var xo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},vP=Vj;function l2e(t,e,n){e=="__proto__"&&vP?vP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var u2e=l2e,c2e=u2e,f2e=Hj,d2e=No;function h2e(t,e){var n={};return e=d2e(e),f2e(t,function(r,i,a){c2e(n,i,e(r,i,a))}),n}var p2e=h2e;const A2e=Kt(p2e);function m2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var g2e=m2e,v2e=JS;function y2e(t,e){var n=!0;return v2e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var b2e=y2e,x2e=g2e,w2e=b2e,S2e=No,_2e=ki,T2e=vy;function C2e(t,e,n){var r=_2e(t)?x2e:w2e;return n&&T2e(t,e,n)&&(e=void 0),r(t,S2e(e))}var N2e=C2e;const LR=Kt(N2e);var E2e=["x","y"];function yA(t){"@babel/helpers - typeof";return yA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yA(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){k2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k2e(t,e,n){return e=P2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2e(t){var e=M2e(t,"string");return yA(e)=="symbol"?e:e+""}function M2e(t,e){if(yA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D2e(t,e){if(t==null)return{};var n=O2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I2e(t,e){var n=t.x,r=t.y,i=D2e(t,E2e),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return Hh(Hh(Hh(Hh(Hh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function bP(t){return de.createElement(kR,qw({shapeType:"rectangle",propTransformer:I2e,activeClassName:"recharts-active-bar"},t))}var j2e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Je(r)||ore(r);return a?e(r,i):(a||Gu(),n)}},L2e=["value","background"],RR;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function R2e(t,e){if(t==null)return{};var n=F2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){hl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function B2e(t,e,n){return e&&wP(t.prototype,e),n&&wP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U2e(t,e,n){return e=uv(e),q2e(t,FR()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function q2e(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H2e(t)}function H2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function z2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function hl(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=V2e(t,"string");return od(e)=="symbol"?e:e+""}function V2e(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lc=function(t){function e(){var n;$2e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=U2e(this,e,[].concat(i)),hl(n,"state",{isAnimationFinished:!1}),hl(n,"id",HA("recharts-bar-")),hl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),hl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return z2e(e,t),B2e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=vt(this.props,!1);return r&&r.map(function(f,p){var h=p===l,v=h?u:o,b=nr(nr(nr({},c),f),{},{isActive:h,option:v,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(tn,lv({className:"recharts-bar-rectangle"},Hu(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),de.createElement(bP,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,p=this.state.prevData;return de.createElement(ms,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,b=a.map(function(w,y){var x=p&&p[y];if(x){var S=Qs(x.x,w.x),T=Qs(x.y,w.y),C=Qs(x.width,w.width),k=Qs(x.height,w.height);return nr(nr({},w),{},{x:S(v),y:T(v),width:C(v),height:k(v)})}if(o==="horizontal"){var E=Qs(0,w.height),D=E(v);return nr(nr({},w),{},{y:w.y+w.height-D,height:D})}var I=Qs(0,w.width),B=I(v);return nr(nr({},w),{},{width:B})});return de.createElement(tn,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ky(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=vt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,p=R2e(u,L2e);if(!f)return null;var h=nr(nr(nr(nr(nr({},p),{},{fill:"#eee"},f),l),Hu(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return de.createElement(bP,lv({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Ea(c,Dy);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(w,y){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:Xr(w,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(tn,v,f.map(function(b){return de.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,p=r.height,h=r.isAnimationActive,v=r.background,b=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,y=Dt("recharts-bar",o),x=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=x||S,C=It(b)?this.id:b;return de.createElement(tn,{className:y},x||S?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(C)},de.createElement("rect",{x:x?u:u-f/2,y:S?c:c-p/2,width:x?f:f*2,height:S?p:p*2}))):null,de.createElement(tn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!h||w)&&El.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(ie.PureComponent);RR=lc;hl(lc,"displayName","Bar");hl(lc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hl(lc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,p=t.offset,h=_0e(r,n);if(!h)return null;var v=e.layout,b=n.type.defaultProps,w=b!==void 0?nr(nr({},b),n.props):n.props,y=w.dataKey,x=w.children,S=w.minPointSize,T=v==="horizontal"?o:a,C=u?T.scale.domain():null,k=M0e({numericAxis:T}),E=Ea(x,yy),D=f.map(function(I,B){var O,M,U,F,G,R;u?O=T0e(u[c+B],C):(O=Xr(I,y),Array.isArray(O)||(O=[k,O]));var $=j2e(S,RR.defaultProps.minPointSize)(O[1],B);if(v==="horizontal"){var V,Y=[o.scale(O[0]),o.scale(O[1])],ne=Y[0],le=Y[1];M=f3({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:I,index:B}),U=(V=le??ne)!==null&&V!==void 0?V:void 0,F=h.size;var L=ne-le;if(G=Number.isNaN(L)?0:L,R={x:M,y:o.y,width:F,height:o.height},Math.abs($)>0&&Math.abs(G)<Math.abs($)){var q=ii(G||$)*(Math.abs($)-Math.abs(G));U-=q,G+=q}}else{var J=[a.scale(O[0]),a.scale(O[1])],te=J[0],X=J[1];if(M=te,U=f3({axis:o,ticks:l,bandSize:i,offset:h.offset,entry:I,index:B}),F=X-te,G=h.size,R={x:a.x,y:U,width:a.width,height:G},Math.abs($)>0&&Math.abs(F)<Math.abs($)){var se=ii(F||$)*(Math.abs($)-Math.abs(F));F+=se}}return nr(nr(nr({},I),{},{x:M,y:U,width:F,height:G,value:u?O:O[1],payload:I,background:R},E&&E[B]&&E[B].props),{},{tooltipPayload:[sR(n,I)],tooltipPosition:{x:M+F/2,y:U+G/2}})});return nr({data:D,layout:v},p)});function bA(t){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(t)}function G2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BR(r.key),r)}}function W2e(t,e,n){return e&&SP(t.prototype,e),n&&SP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $y(t,e,n){return e=BR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BR(t){var e=Y2e(t,"string");return bA(e)=="symbol"?e:e+""}function Y2e(t,e){if(bA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K2e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!$i(u,lc);return c.reduce(function(h,v){var b=n[v],w=b.orientation,y=b.domain,x=b.padding,S=x===void 0?{}:x,T=b.mirror,C=b.reversed,k="".concat(w).concat(T?"Mirror":""),E,D,I,B,O;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=y[1]-y[0],U=1/0,F=b.categoricalDomain.sort(ure);if(F.forEach(function(J,te){te>0&&(U=Math.min((J||0)-(F[te-1]||0),U))}),Number.isFinite(U)){var G=U/M,R=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=G*R/2),b.padding==="no-gap"){var $=ai(e.barCategoryGap,G*R),V=G*R/2;E=V-$-(V-$)/R*$}}}i==="xAxis"?D=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?D=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:D=b.range,C&&(D=[D[1],D[0]]);var Y=rR(b,a,p),ne=Y.scale,le=Y.realScaleType;ne.domain(y).range(D),iR(ne);var L=aR(ne,Ka(Ka({},b),{},{realScaleType:le}));i==="xAxis"?(O=w==="top"&&!T||w==="bottom"&&T,I=r.left,B=f[k]-O*b.height):i==="yAxis"&&(O=w==="left"&&!T||w==="right"&&T,I=f[k]-O*b.width,B=r.top);var q=Ka(Ka(Ka({},b),L),{},{realScaleType:le,x:I,y:B,scale:ne,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return q.bandSize=W0(q,L),!b.hide&&i==="xAxis"?f[k]+=(O?-1:1)*q.height:b.hide||(f[k]+=(O?-1:1)*q.width),Ka(Ka({},h),{},$y({},v,q))},{})},UR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},J2e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return UR({x:n,y:r},{x:i,y:a})},qR=function(){function t(e){G2e(this,t),this.scale=e}return W2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();$y(qR,"EPS",1e-4);var C_=function(e){var n=Object.keys(e).reduce(function(r,i){return Ka(Ka({},r),{},$y({},i,qR.create(e[i])))},{});return Ka(Ka({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return A2e(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return LR(i,function(a,o){return n[o].isInRange(a)})}})};function X2e(t){return(t%180+180)%180}var Q2e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=X2e(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Z2e=No,ewe=zA,twe=my;function nwe(t){return function(e,n,r){var i=Object(e);if(!ewe(e)){var a=Z2e(n);e=twe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var rwe=nwe,iwe=DR;function awe(t){var e=iwe(t),n=e%1;return e===e?n?e-n:e:0}var owe=awe,swe=Rj,lwe=No,uwe=owe,cwe=Math.max;function fwe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:uwe(n);return i<0&&(i=cwe(r+i,0)),swe(t,lwe(e),i)}var dwe=fwe,hwe=rwe,pwe=dwe,Awe=hwe(pwe),mwe=Awe;const gwe=Kt(mwe);var vwe=dne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),N_=ie.createContext(void 0),E_=ie.createContext(void 0),HR=ie.createContext(void 0),zR=ie.createContext({}),VR=ie.createContext(void 0),GR=ie.createContext(0),WR=ie.createContext(0),TP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=vwe(a);return de.createElement(N_.Provider,{value:r},de.createElement(E_.Provider,{value:i},de.createElement(zR.Provider,{value:a},de.createElement(HR.Provider,{value:c},de.createElement(VR.Provider,{value:o},de.createElement(GR.Provider,{value:u},de.createElement(WR.Provider,{value:l},s)))))))},ywe=function(){return ie.useContext(VR)},YR=function(e){var n=ie.useContext(N_);n==null&&Gu();var r=n[e];return r==null&&Gu(),r},bwe=function(){var e=ie.useContext(N_);return ol(e)},xwe=function(){var e=ie.useContext(E_),n=gwe(e,function(r){return LR(r.domain,Number.isFinite)});return n||ol(e)},KR=function(e){var n=ie.useContext(E_);n==null&&Gu();var r=n[e];return r==null&&Gu(),r},wwe=function(){var e=ie.useContext(HR);return e},Swe=function(){return ie.useContext(zR)},k_=function(){return ie.useContext(WR)},P_=function(){return ie.useContext(GR)};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function _we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Twe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XR(r.key),r)}}function Cwe(t,e,n){return e&&Twe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nwe(t,e,n){return e=cv(e),Ewe(t,JR()?Reflect.construct(e,n||[],cv(t).constructor):e.apply(t,n))}function Ewe(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kwe(t)}function kwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(t)}function Pwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){M_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M_(t,e,n){return e=XR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XR(t){var e=Mwe(t,"string");return sd(e)=="symbol"?e:e+""}function Mwe(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dwe(t,e){return Lwe(t)||jwe(t,e)||Iwe(t,e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(t,e){if(t){if(typeof t=="string")return EP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EP(t,e)}}function EP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lwe(t){if(Array.isArray(t))return t}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}var Rwe=function(e,n){var r;return de.isValidElement(e)?r=de.cloneElement(e,n):bt(e)?r=e(n):r=de.createElement("line",Vw({},n,{className:"recharts-reference-line-line"})),r},Fwe=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,p=a.width,h=a.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(xo(u,"discard")&&!e.y.isInRange(b))return null;var w=[{x:c+p,y:b},{x:c,y:b}];return l==="left"?w.reverse():w}if(n){var y=u.x,x=e.x.apply(y,{position:o});if(xo(u,"discard")&&!e.x.isInRange(x))return null;var S=[{x,y:f+h},{x,y:f}];return s==="top"?S.reverse():S}if(i){var T=u.segment,C=T.map(function(k){return e.apply(k,{position:o})});return xo(u,"discard")&&s2e(C,function(k){return!e.isInRange(k)})?null:C}return null};function $we(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=ywe(),c=YR(i),f=KR(a),p=wwe();if(!u||!p)return null;Xa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=C_({x:c.scale,y:f.scale}),v=gr(e),b=gr(n),w=r&&r.length===2,y=Fwe(h,v,b,w,p,t.position,c.orientation,f.orientation,t);if(!y)return null;var x=Dwe(y,2),S=x[0],T=S.x,C=S.y,k=x[1],E=k.x,D=k.y,I=xo(t,"hidden")?"url(#".concat(u,")"):void 0,B=NP(NP({clipPath:I},vt(t,!0)),{},{x1:T,y1:C,x2:E,y2:D});return de.createElement(tn,{className:Dt("recharts-reference-line",s)},Rwe(o,B),Nr.renderCallByParent(t,J2e({x1:T,y1:C,x2:E,y2:D})))}var D_=function(t){function e(){return _we(this,e),Nwe(this,e,arguments)}return Pwe(e,t),Cwe(e,[{key:"render",value:function(){return de.createElement($we,this.props)}}])}(de.Component);M_(D_,"displayName","ReferenceLine");M_(D_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(this,arguments)}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){By(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function qwe(t,e,n){return e&&Uwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hwe(t,e,n){return e=fv(e),zwe(t,QR()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function zwe(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vwe(t)}function Vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function Gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function By(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=Wwe(t,"string");return ld(e)=="symbol"?e:e+""}function Wwe(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ywe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=C_({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return xo(e,"discard")&&!o.isInRange(s)?null:s},Uy=function(t){function e(){return Bwe(this,e),Hwe(this,e,arguments)}return Gwe(e,t),qwe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=gr(i),c=gr(a);if(Xa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Ywe(this.props);if(!f)return null;var p=f.x,h=f.y,v=this.props,b=v.shape,w=v.className,y=xo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=PP(PP({clipPath:y},vt(this.props,!0)),{},{cx:p,cy:h});return de.createElement(tn,{className:Dt("recharts-reference-dot",w)},e.renderDot(b,x),Nr.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(de.Component);By(Uy,"displayName","ReferenceDot");By(Uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});By(Uy,"renderDot",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):bt(t)?n=t(e):n=de.createElement(T_,Gw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t8(r.key),r)}}function Xwe(t,e,n){return e&&Jwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qwe(t,e,n){return e=dv(e),Zwe(t,e8()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function Zwe(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e5e(t)}function e5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e8=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function t5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kw(t,e)}function qy(t,e,n){return e=t8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8(t){var e=n5e(t,"string");return ud(e)=="symbol"?e:e+""}function n5e(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r5e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var p=C_({x:c.scale,y:f.scale}),h={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},v={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return xo(a,"discard")&&(!p.isInRange(h)||!p.isInRange(v))?null:UR(h,v)},Hy=function(t){function e(){return Kwe(this,e),Qwe(this,e,arguments)}return t5e(e,t),Xwe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Xa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=gr(i),p=gr(a),h=gr(o),v=gr(s),b=this.props.shape;if(!f&&!p&&!h&&!v&&!b)return null;var w=r5e(f,p,h,v,this.props);if(!w&&!b)return null;var y=xo(this.props,"hidden")?"url(#".concat(c,")"):void 0;return de.createElement(tn,{className:Dt("recharts-reference-area",l)},e.renderRect(b,DP(DP({clipPath:y},vt(this.props,!0)),w)),Nr.renderCallByParent(this.props,w))}}])}(de.Component);qy(Hy,"displayName","ReferenceArea");qy(Hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qy(Hy,"renderRect",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):bt(t)?n=t(e):n=de.createElement(__,Yw({},e,{className:"recharts-reference-area-rect"})),n});function n8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function i5e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Q2e(r,n)}function a5e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function hv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function o5e(t,e){return n8(t,e+1)}function s5e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:n8(r,u)};var b=l,w,y=function(){return w===void 0&&(w=n(v,b)),w},x=v.coordinate,S=l===0||hv(t,x,y,c,s);S||(l=0,c=o,u+=1),S&&(c=x+t*(y()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function xA(t){"@babel/helpers - typeof";return xA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xA(t)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){l5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l5e(t,e,n){return e=u5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5e(t){var e=c5e(t,"string");return xA(e)=="symbol"?e:e+""}function c5e(t,e){if(xA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f5e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var h=a[p],v,b=function(){return v===void 0&&(v=n(h,p)),v};if(p===o-1){var w=t*(h.coordinate+t*b()/2-l);a[p]=h=Yr(Yr({},h),{},{tickCoord:w>0?h.coordinate-w*t:h.coordinate})}else a[p]=h=Yr(Yr({},h),{},{tickCoord:h.coordinate});var y=hv(t,h.tickCoord,b,s,l);y&&(l=h.tickCoord-t*(b()/2+i),a[p]=Yr(Yr({},h),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function d5e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),p=t*(c.coordinate+t*f/2-u);o[s-1]=c=Yr(Yr({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var h=hv(t,c.tickCoord,function(){return f},l,u);h&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Yr(Yr({},c),{},{isShow:!0}))}for(var v=a?s-1:s,b=function(x){var S=o[x],T,C=function(){return T===void 0&&(T=n(S,x)),T};if(x===0){var k=t*(S.coordinate-t*C()/2-l);o[x]=S=Yr(Yr({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else o[x]=S=Yr(Yr({},S),{},{tickCoord:S.coordinate});var E=hv(t,S.tickCoord,C,l,u);E&&(l=S.tickCoord+t*(C()/2+i),o[x]=Yr(Yr({},S),{},{isShow:!0}))},w=0;w<v;w++)b(w);return o}function O_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Je(l)||Rd.isSsr)return o5e(i,typeof l=="number"&&Je(l)?l:0);var p=[],h=s==="top"||s==="bottom"?"width":"height",v=c&&h==="width"?bp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,T){var C=bt(u)?u(S.value,T):S.value;return h==="width"?i5e(bp(C,{fontSize:e,letterSpacing:n}),v,f):bp(C,{fontSize:e,letterSpacing:n})[h]},w=i.length>=2?ii(i[1].coordinate-i[0].coordinate):1,y=a5e(a,w,h);return l==="equidistantPreserveStart"?s5e(w,y,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=d5e(w,y,b,i,o,l==="preserveStartEnd"):p=f5e(w,y,b,i,o),p.filter(function(x){return x.isShow}))}var h5e=["viewBox"],p5e=["viewBox"],A5e=["ticks"];function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(this,arguments)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){I_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X1(t,e){if(t==null)return{};var n=m5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i8(r.key),r)}}function v5e(t,e,n){return e&&jP(t.prototype,e),n&&jP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y5e(t,e,n){return e=pv(e),b5e(t,r8()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function b5e(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x5e(t)}function x5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r8=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function w5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function I_(t,e,n){return e=i8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i8(t){var e=S5e(t,"string");return cd(e)=="symbol"?e:e+""}function S5e(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ud=function(t){function e(n){var r;return g5e(this,e),r=y5e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return w5e(e,t),v5e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=X1(r,h5e),s=this.props,l=s.viewBox,u=X1(s,p5e);return!Pf(a,l)||!Pf(o,u)||!Pf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,p=i.tickMargin,h,v,b,w,y,x,S=f?-1:1,T=r.tickSize||c,C=Je(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=v=r.coordinate,w=o+ +!f*l,b=w-S*T,x=b-S*p,y=C;break;case"left":b=w=r.coordinate,v=a+ +!f*s,h=v-S*T,y=h-S*p,x=C;break;case"right":b=w=r.coordinate,v=a+ +f*s,h=v+S*T,y=h+S*p,x=C;break;default:h=v=r.coordinate,w=o+ +f*l,b=w+S*T,x=b+S*p,y=C;break}return{line:{x1:h,y1:b,x2:v,y2:w},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=fr(fr(fr({},vt(this.props,!1)),vt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=fr(fr({},f),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=fr(fr({},f),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return de.createElement("line",vf({},f,{className:Dt("recharts-cartesian-axis-line",Ji(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,p=s.unit,h=O_(fr(fr({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=vt(this.props,!1),y=vt(c,!1),x=fr(fr({},w),{},{fill:"none"},vt(l,!1)),S=h.map(function(T,C){var k=o.getTickLineCoord(T),E=k.line,D=k.tick,I=fr(fr(fr(fr({textAnchor:v,verticalAnchor:b},w),{},{stroke:"none",fill:u},y),D),{},{index:C,payload:T,visibleTicksCount:h.length,tickFormatter:f});return de.createElement(tn,vf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Hu(o.props,T,C)),l&&de.createElement("line",vf({},x,E,{className:Dt("recharts-cartesian-axis-tick-line",Ji(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(bt(f)?f(T.value,C):T.value).concat(p||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,p=f.ticks,h=X1(f,A5e),v=p;return bt(l)&&(v=p&&p.length>0?l(this.props):l(h)),o<=0||s<=0||!v||!v.length?null:de.createElement(tn,{className:Dt("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Dt(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?o=de.cloneElement(r,fr(fr({},i),{},{className:s})):bt(r)?o=r(fr(fr({},i),{},{className:s})):o=de.createElement(zu,vf({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(ie.Component);I_(Ud,"displayName","CartesianAxis");I_(Ud,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _5e=["x1","y1","x2","y2","key"],T5e=["offset"];function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){C5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C5e(t,e,n){return e=N5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5e(t){var e=E5e(t,"string");return Wu(e)=="symbol"?e:e+""}function E5e(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_u.apply(this,arguments)}function RP(t,e){if(t==null)return{};var n=k5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return de.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function a8(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(bt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=RP(e,_5e),u=vt(l,!1);u.offset;var c=RP(u,T5e);n=de.createElement("line",_u({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function M5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Kr(Kr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return a8(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function D5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Kr(Kr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return a8(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function O5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,h){return p-h});i!==c[0]&&c.unshift(0);var f=c.map(function(p,h){var v=!c[h+1],b=v?i+o-p:c[h+1]-p;if(b<=0)return null;var w=h%e.length;return de.createElement("rect",{key:"react-".concat(h),y:p,x:r,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function I5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==c[0]&&c.unshift(0);var f=c.map(function(p,h){var v=!c[h+1],b=v?a+s-p:c[h+1]-p;if(b<=0)return null;var w=h%r.length;return de.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:b,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var j5e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return nR(O_(Kr(Kr(Kr({},Ud.defaultProps),r),{},{ticks:ns(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},L5e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return nR(O_(Kr(Kr(Kr({},Ud.defaultProps),r),{},{ticks:ns(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function o8(t){var e,n,r,i,a,o,s=k_(),l=P_(),u=Swe(),c=Kr(Kr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Gc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Gc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Gc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:Je(t.x)?t.x:u.left,y:Je(t.y)?t.y:u.top,width:Je(t.width)?t.width:u.width,height:Je(t.height)?t.height:u.height}),f=c.x,p=c.y,h=c.width,v=c.height,b=c.syncWithTicks,w=c.horizontalValues,y=c.verticalValues,x=bwe(),S=xwe();if(!Je(h)||h<=0||!Je(v)||v<=0||!Je(f)||f!==+f||!Je(p)||p!==+p)return null;var T=c.verticalCoordinatesGenerator||j5e,C=c.horizontalCoordinatesGenerator||L5e,k=c.horizontalPoints,E=c.verticalPoints;if((!k||!k.length)&&bt(C)){var D=w&&w.length,I=C({yAxis:S?Kr(Kr({},S),{},{ticks:D?w:S.ticks}):void 0,width:s,height:l,offset:u},D?!0:b);Xa(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wu(I),"]")),Array.isArray(I)&&(k=I)}if((!E||!E.length)&&bt(T)){var B=y&&y.length,O=T({xAxis:x?Kr(Kr({},x),{},{ticks:B?y:x.ticks}):void 0,width:s,height:l,offset:u},B?!0:b);Xa(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wu(O),"]")),Array.isArray(O)&&(E=O)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(P5e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),de.createElement(M5e,_u({},c,{offset:u,horizontalPoints:k,xAxis:x,yAxis:S})),de.createElement(D5e,_u({},c,{offset:u,verticalPoints:E,xAxis:x,yAxis:S})),de.createElement(O5e,_u({},c,{horizontalPoints:k})),de.createElement(I5e,_u({},c,{verticalPoints:E})))}o8.displayName="CartesianGrid";function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function R5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u8(r.key),r)}}function $5e(t,e,n){return e&&F5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B5e(t,e,n){return e=Av(e),U5e(t,s8()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function U5e(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q5e(t)}function q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function H5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function l8(t,e,n){return e=u8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8(t){var e=z5e(t,"string");return fd(e)=="symbol"?e:e+""}function z5e(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function V5e(t){var e=t.xAxisId,n=k_(),r=P_(),i=YR(e);return i==null?null:ie.createElement(Ud,Qw({},i,{className:Dt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ns(o,!0)}}))}var zy=function(t){function e(){return R5e(this,e),B5e(this,e,arguments)}return H5e(e,t),$5e(e,[{key:"render",value:function(){return ie.createElement(V5e,this.props)}}])}(ie.Component);l8(zy,"displayName","XAxis");l8(zy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function G5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d8(r.key),r)}}function Y5e(t,e,n){return e&&W5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K5e(t,e,n){return e=mv(e),J5e(t,c8()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function J5e(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X5e(t)}function X5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function Q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function f8(t,e,n){return e=d8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8(t){var e=Z5e(t,"string");return dd(e)=="symbol"?e:e+""}function Z5e(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function e5(){return e5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e5.apply(this,arguments)}var eSe=function(e){var n=e.yAxisId,r=k_(),i=P_(),a=KR(n);return a==null?null:ie.createElement(Ud,e5({},a,{className:Dt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ns(s,!0)}}))},Vy=function(t){function e(){return G5e(this,e),K5e(this,e,arguments)}return Q5e(e,t),Y5e(e,[{key:"render",value:function(){return ie.createElement(eSe,this.props)}}])}(ie.Component);f8(Vy,"displayName","YAxis");f8(Vy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FP(t){return iSe(t)||rSe(t)||nSe(t)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nSe(t,e){if(t){if(typeof t=="string")return t5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t5(t,e)}}function rSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iSe(t){if(Array.isArray(t))return t5(t)}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n5=function(e,n,r,i,a){var o=Ea(e,D_),s=Ea(e,Uy),l=[].concat(FP(o),FP(s)),u=Ea(e,Hy),c="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(b,w){if(w.props[c]===r&&xo(w.props,"extendDomain")&&Je(w.props[f])){var y=w.props[f];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},p)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");p=u.reduce(function(b,w){if(w.props[c]===r&&xo(w.props,"extendDomain")&&Je(w.props[h])&&Je(w.props[v])){var y=w.props[h],x=w.props[v];return[Math.min(b[0],y,x),Math.max(b[1],y,x)]}return b},p)}return a&&a.length&&(p=a.reduce(function(b,w){return Je(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},p)),p},h8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,p),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,v=new Array(h);p<h;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,p,h,v){var b=n?n+u:u;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,x,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,p),!0;case 5:return w.fn.call(w.context,c,f,p,h),!0;case 6:return w.fn.call(w.context,c,f,p,h,v),!0}for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];w.fn.apply(w.context,x)}else{var T=w.length,C;for(S=0;S<T;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),y){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,p);break;default:if(!x)for(C=1,x=new Array(y-1);C<y;C++)x[C-1]=arguments[C];w[S].fn.apply(w[S].context,x)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,p){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===c&&(!p||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var b=0,w=[],y=v.length;b<y;b++)(v[b].fn!==c||p&&!v[b].once||f&&v[b].context!==f)&&w.push(v[b]);w.length?this._events[h]=w.length===1?w[0]:w:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(h8);var aSe=h8.exports;const oSe=Kt(aSe);var Q1=new oSe,Z1="recharts.syncMouseEvents";function wA(t){"@babel/helpers - typeof";return wA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(t)}function sSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p8(r.key),r)}}function uSe(t,e,n){return e&&lSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ex(t,e,n){return e=p8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p8(t){var e=cSe(t,"string");return wA(e)=="symbol"?e:e+""}function cSe(t,e){if(wA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fSe=function(){function t(){sSe(this,t),ex(this,"activeIndex",0),ex(this,"coordinateList",[]),ex(this,"layout","horizontal")}return uSe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,p=n.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,p=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function dSe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Je(r)&&Je(i))return!0}return!1}function hSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function A8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Sn(e,n,r,i),s=Sn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function pSe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,p=Sn(s,l,u,f),h=Sn(s,l,c,f);r=p.x,i=p.y,a=h.x,o=h.y}else return A8(e);return[{x:r,y:i},{x:a,y:o}]}function SA(t){"@babel/helpers - typeof";return SA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SA(t)}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){ASe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ASe(t,e,n){return e=mSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mSe(t){var e=gSe(t,"string");return SA(e)=="symbol"?e:e+""}function gSe(t,e){if(SA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(SA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vSe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var v,b=Tw;if(p==="ScatterChart")v=o,b=Kbe;else if(p==="BarChart")v=hSe(f,o,l,c),b=__;else if(f==="radial"){var w=A8(o),y=w.cx,x=w.cy,S=w.radius,T=w.startAngle,C=w.endAngle;v={cx:y,cy:x,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},b=hR}else v={points:pSe(f,o,l)},b=Tw;var k=Ag(Ag(Ag(Ag({stroke:"#ccc",pointerEvents:"none"},l),v),vt(h,!1)),{},{payload:s,payloadIndex:u,className:Dt("recharts-tooltip-cursor",h.className)});return ie.isValidElement(h)?ie.cloneElement(h,k):ie.createElement(b,k)}var ySe=["item"],bSe=["children","className","width","height","style","compact","title","desc"];function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(this,arguments)}function BP(t,e){return SSe(t)||wSe(t,e)||g8(t,e)||xSe()}function xSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function SSe(t){if(Array.isArray(t))return t}function UP(t,e){if(t==null)return{};var n=_Se(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Se(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v8(r.key),r)}}function NSe(t,e,n){return e&&CSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ESe(t,e,n){return e=gv(e),kSe(t,m8()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function kSe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(t)}function PSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m8=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function MSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r5(t,e)}function r5(t,e){return r5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r5(t,e)}function pd(t){return ISe(t)||OSe(t)||g8(t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8(t,e){if(t){if(typeof t=="string")return i5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i5(t,e)}}function OSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ISe(t){if(Array.isArray(t))return i5(t)}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mt(t,e,n){return e=v8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v8(t){var e=jSe(t,"string");return hd(e)=="symbol"?e:e+""}function jSe(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LSe={xAxis:["bottom","top"],yAxis:["left","right"]},RSe={width:"100%",height:"100%"},y8={x:0,y:0};function mg(t){return t}var FSe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$Se=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ie(Ie(Ie({},i),Sn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Ie(Ie(Ie({},i),Sn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return y8},Gy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(pd(s),pd(u)):s},[]);return o.length>0?o:e&&e.length&&Je(i)&&Je(a)?e.slice(i,a+1):[]};function b8(t){return t==="number"?[0,"auto"]:void 0}var a5=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Gy(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;p=O2(h,o.dataKey,i)}else p=f&&f[r]||s[r];return p?[].concat(pd(l),[sR(u,p)]):l},[])},HP=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=FSe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=v0e(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,p=a5(e,n,c,f),h=$Se(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},BSe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=e.stackOffset,h=tR(c,a);return r.reduce(function(v,b){var w,y=b.type.defaultProps!==void 0?Ie(Ie({},b.type.defaultProps),b.props):b.props,x=y.type,S=y.dataKey,T=y.allowDataOverflow,C=y.allowDuplicatedCategory,k=y.scale,E=y.ticks,D=y.includeHidden,I=y[o];if(v[I])return v;var B=Gy(e.data,{graphicalItems:i.filter(function(L){var q,J=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o];return J===I}),dataStartIndex:l,dataEndIndex:u}),O=B.length,M,U,F;dSe(y.domain,T,x)&&(M=bw(y.domain,null,T),h&&(x==="number"||k!=="auto")&&(F=wp(B,S,"category")));var G=b8(x);if(!M||M.length===0){var R,$=(R=y.domain)!==null&&R!==void 0?R:G;if(S){if(M=wp(B,S,x),x==="category"&&h){var V=lre(M);C&&V?(U=M,M=av(0,O)):C||(M=p3($,M,b).reduce(function(L,q){return L.indexOf(q)>=0?L:[].concat(pd(L),[q])},[]))}else if(x==="category")C?M=M.filter(function(L){return L!==""&&!It(L)}):M=p3($,M,b).reduce(function(L,q){return L.indexOf(q)>=0||q===""||It(q)?L:[].concat(pd(L),[q])},[]);else if(x==="number"){var Y=S0e(B,i.filter(function(L){var q,J,te=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o],X="hide"in L.props?L.props.hide:(J=L.type.defaultProps)===null||J===void 0?void 0:J.hide;return te===I&&(D||!X)}),S,a,c);Y&&(M=Y)}h&&(x==="number"||k!=="auto")&&(F=wp(B,S,"category"))}else h?M=av(0,O):s&&s[I]&&s[I].hasStack&&x==="number"?M=p==="expand"?[0,1]:oR(s[I].stackGroups,l,u):M=eR(B,i.filter(function(L){var q=o in L.props?L.props[o]:L.type.defaultProps[o],J="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return q===I&&(D||!J)}),x,c,!0);if(x==="number")M=n5(f,M,I,a,E),$&&(M=bw($,M,T));else if(x==="category"&&$){var ne=$,le=M.every(function(L){return ne.indexOf(L)>=0});le&&(M=ne)}}return Ie(Ie({},v),{},mt({},I,Ie(Ie({},y),{},{axisType:a,domain:M,categoricalDomain:F,duplicateDomain:U,originalDomain:(w=y.domain)!==null&&w!==void 0?w:G,isCategorical:h,layout:c})))},{})},USe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=Gy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=p.length,v=tR(c,a),b=-1;return r.reduce(function(w,y){var x=y.type.defaultProps!==void 0?Ie(Ie({},y.type.defaultProps),y.props):y.props,S=x[o],T=b8("number");if(!w[S]){b++;var C;return v?C=av(0,h):s&&s[S]&&s[S].hasStack?(C=oR(s[S].stackGroups,l,u),C=n5(f,C,S,a)):(C=bw(T,eR(p,r.filter(function(k){var E,D,I=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],B="hide"in k.props?k.props.hide:(D=k.type.defaultProps)===null||D===void 0?void 0:D.hide;return I===S&&!B}),"number",c),i.defaultProps.allowDataOverflow),C=n5(f,C,S,a)),Ie(Ie({},w),{},mt({},S,Ie(Ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ji(LSe,"".concat(a,".").concat(b%2),null),domain:C,originalDomain:T,isCategorical:v,layout:c})))}return w},{})},qSe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),p=Ea(c,a),h={};return p&&p.length?h=BSe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(h=USe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),h},HSe=function(e){var n=ol(e),r=ns(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:XS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:W0(n,r)}},zP=function(e){var n=e.children,r=e.defaultShowTooltip,i=$i(n,ad),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},zSe=function(e){return!e||!e.length?!1:e.some(function(n){var r=os(n&&n.type);return r&&r.indexOf("Bar")>=0})},VP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VSe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,p=r.margin||{},h=$i(f,ad),v=$i(f,Cl),b=Object.keys(l).reduce(function(C,k){var E=l[k],D=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},mt({},D,C[D]+E.width)):C},{left:p.left||0,right:p.right||0}),w=Object.keys(o).reduce(function(C,k){var E=o[k],D=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},mt({},D,Ji(C,"".concat(D))+E.height)):C},{top:p.top||0,bottom:p.bottom||0}),y=Ie(Ie({},w),b),x=y.bottom;h&&(y.bottom+=h.props.height||ad.defaultProps.height),v&&n&&(y=x0e(y,i,r,n));var S=u-y.left-y.right,T=c-y.top-y.bottom;return Ie(Ie({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(T,0)})},GSe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},x8=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,p=function(y,x){var S=x.graphicalItems,T=x.stackGroups,C=x.offset,k=x.updateId,E=x.dataStartIndex,D=x.dataEndIndex,I=y.barSize,B=y.layout,O=y.barGap,M=y.barCategoryGap,U=y.maxBarSize,F=VP(B),G=F.numericAxisName,R=F.cateAxisName,$=zSe(S),V=[];return S.forEach(function(Y,ne){var le=Gy(y.data,{graphicalItems:[Y],dataStartIndex:E,dataEndIndex:D}),L=Y.type.defaultProps!==void 0?Ie(Ie({},Y.type.defaultProps),Y.props):Y.props,q=L.dataKey,J=L.maxBarSize,te=L["".concat(G,"Id")],X=L["".concat(R,"Id")],se={},ue=l.reduce(function(be,ke){var ye=x["".concat(ke.axisType,"Map")],Ge=L["".concat(ke.axisType,"Id")];ye&&ye[Ge]||ke.axisType==="zAxis"||Gu();var We=ye[Ge];return Ie(Ie({},be),{},mt(mt({},ke.axisType,We),"".concat(ke.axisType,"Ticks"),ns(We)))},se),Z=ue[R],he=ue["".concat(R,"Ticks")],me=T&&T[te]&&T[te].hasStack&&D0e(Y,T[te].stackGroups),ce=os(Y.type).indexOf("Bar")>=0,je=W0(Z,he),Re=[],Ce=$&&y0e({barSize:I,stackGroups:T,totalSize:GSe(ue,R)});if(ce){var ae,Ne,Ee=It(J)?U:J,xe=(ae=(Ne=W0(Z,he,!0))!==null&&Ne!==void 0?Ne:Ee)!==null&&ae!==void 0?ae:0;Re=b0e({barGap:O,barCategoryGap:M,bandSize:xe!==je?xe:je,sizeList:Ce[X],maxBarSize:Ee}),xe!==je&&(Re=Re.map(function(be){return Ie(Ie({},be),{},{position:Ie(Ie({},be.position),{},{offset:be.position.offset-xe/2})})}))}var Pe=Y&&Y.type&&Y.type.getComposedData;Pe&&V.push({props:Ie(Ie({},Pe(Ie(Ie({},ue),{},{displayedData:le,props:y,dataKey:q,item:Y,bandSize:je,barPosition:Re,offset:C,stackedData:me,layout:B,dataStartIndex:E,dataEndIndex:D}))),{},mt(mt(mt({key:Y.key||"item-".concat(ne)},G,ue[G]),R,ue[R]),"animationId",k)),childIndex:bre(Y,y.children),item:Y})}),V},h=function(y,x){var S=y.props,T=y.dataStartIndex,C=y.dataEndIndex,k=y.updateId;if(!s4({props:S}))return null;var E=S.children,D=S.layout,I=S.stackOffset,B=S.data,O=S.reverseStackOrder,M=VP(D),U=M.numericAxisName,F=M.cateAxisName,G=Ea(E,r),R=P0e(B,G,"".concat(U,"Id"),"".concat(F,"Id"),I,O),$=l.reduce(function(L,q){var J="".concat(q.axisType,"Map");return Ie(Ie({},L),{},mt({},J,qSe(S,Ie(Ie({},q),{},{graphicalItems:G,stackGroups:q.axisType===U&&R,dataStartIndex:T,dataEndIndex:C}))))},{}),V=VSe(Ie(Ie({},$),{},{props:S,graphicalItems:G}),x==null?void 0:x.legendBBox);Object.keys($).forEach(function(L){$[L]=c(S,$[L],V,L.replace("Map",""),n)});var Y=$["".concat(F,"Map")],ne=HSe(Y),le=p(S,Ie(Ie({},$),{},{dataStartIndex:T,dataEndIndex:C,updateId:k,graphicalItems:G,stackGroups:R,offset:V}));return Ie(Ie({formattedGraphicalItems:le,graphicalItems:G,offset:V,stackGroups:R},ne),$)},v=function(w){function y(x){var S,T,C;return TSe(this,y),C=ESe(this,y,[x]),mt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(C,"accessibilityManager",new fSe),mt(C,"handleLegendBBoxUpdate",function(k){if(k){var E=C.state,D=E.dataStartIndex,I=E.dataEndIndex,B=E.updateId;C.setState(Ie({legendBBox:k},h({props:C.props,dataStartIndex:D,dataEndIndex:I,updateId:B},Ie(Ie({},C.state),{},{legendBBox:k}))))}}),mt(C,"handleReceiveSyncEvent",function(k,E,D){if(C.props.syncId===k){if(D===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),mt(C,"handleBrushChange",function(k){var E=k.startIndex,D=k.endIndex;if(E!==C.state.dataStartIndex||D!==C.state.dataEndIndex){var I=C.state.updateId;C.setState(function(){return Ie({dataStartIndex:E,dataEndIndex:D},h({props:C.props,dataStartIndex:E,dataEndIndex:D,updateId:I},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:D})}}),mt(C,"handleMouseEnter",function(k){var E=C.getMouseInfo(k);if(E){var D=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var I=C.props.onMouseEnter;bt(I)&&I(D,k)}}),mt(C,"triggeredAfterMouseMove",function(k){var E=C.getMouseInfo(k),D=E?Ie(Ie({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(D),C.triggerSyncEvent(D);var I=C.props.onMouseMove;bt(I)&&I(D,k)}),mt(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),mt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),mt(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),mt(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var D=C.props.onMouseLeave;bt(D)&&D(E,k)}),mt(C,"handleOuterEvent",function(k){var E=yre(k),D=Ji(C.props,"".concat(E));if(E&&bt(D)){var I,B;/.*touch.*/i.test(E)?B=C.getMouseInfo(k.changedTouches[0]):B=C.getMouseInfo(k),D((I=B)!==null&&I!==void 0?I:{},k)}}),mt(C,"handleClick",function(k){var E=C.getMouseInfo(k);if(E){var D=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(D),C.triggerSyncEvent(D);var I=C.props.onClick;bt(I)&&I(D,k)}}),mt(C,"handleMouseDown",function(k){var E=C.props.onMouseDown;if(bt(E)){var D=C.getMouseInfo(k);E(D,k)}}),mt(C,"handleMouseUp",function(k){var E=C.props.onMouseUp;if(bt(E)){var D=C.getMouseInfo(k);E(D,k)}}),mt(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),mt(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),mt(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),mt(C,"handleDoubleClick",function(k){var E=C.props.onDoubleClick;if(bt(E)){var D=C.getMouseInfo(k);E(D,k)}}),mt(C,"handleContextMenu",function(k){var E=C.props.onContextMenu;if(bt(E)){var D=C.getMouseInfo(k);E(D,k)}}),mt(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&Q1.emit(Z1,C.props.syncId,k,C.eventEmitterSymbol)}),mt(C,"applySyncEvent",function(k){var E=C.props,D=E.layout,I=E.syncMethod,B=C.state.updateId,O=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(Ie({dataStartIndex:O,dataEndIndex:M},h({props:C.props,dataStartIndex:O,dataEndIndex:M,updateId:B},C.state)));else if(k.activeTooltipIndex!==void 0){var U=k.chartX,F=k.chartY,G=k.activeTooltipIndex,R=C.state,$=R.offset,V=R.tooltipTicks;if(!$)return;if(typeof I=="function")G=I(V,k);else if(I==="value"){G=-1;for(var Y=0;Y<V.length;Y++)if(V[Y].value===k.activeLabel){G=Y;break}}var ne=Ie(Ie({},$),{},{x:$.left,y:$.top}),le=Math.min(U,ne.x+ne.width),L=Math.min(F,ne.y+ne.height),q=V[G]&&V[G].value,J=a5(C.state,C.props.data,G),te=V[G]?{x:D==="horizontal"?V[G].coordinate:le,y:D==="horizontal"?L:V[G].coordinate}:y8;C.setState(Ie(Ie({},k),{},{activeLabel:q,activeCoordinate:te,activePayload:J,activeTooltipIndex:G}))}else C.setState(k)}),mt(C,"renderCursor",function(k){var E,D=C.state,I=D.isTooltipActive,B=D.activeCoordinate,O=D.activePayload,M=D.offset,U=D.activeTooltipIndex,F=D.tooltipAxisBandSize,G=C.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:I,$=C.props.layout,V=k.key||"_recharts-cursor";return de.createElement(vSe,{key:V,activeCoordinate:B,activePayload:O,activeTooltipIndex:U,chartName:n,element:k,isActive:R,layout:$,offset:M,tooltipAxisBandSize:F,tooltipEventType:G})}),mt(C,"renderPolarAxis",function(k,E,D){var I=Ji(k,"type.axisType"),B=Ji(C.state,"".concat(I,"Map")),O=k.type.defaultProps,M=O!==void 0?Ie(Ie({},O),k.props):k.props,U=B&&B[M["".concat(I,"Id")]];return ie.cloneElement(k,Ie(Ie({},U),{},{className:Dt(I,U.className),key:k.key||"".concat(E,"-").concat(D),ticks:ns(U,!0)}))}),mt(C,"renderPolarGrid",function(k){var E=k.props,D=E.radialLines,I=E.polarAngles,B=E.polarRadius,O=C.state,M=O.radiusAxisMap,U=O.angleAxisMap,F=ol(M),G=ol(U),R=G.cx,$=G.cy,V=G.innerRadius,Y=G.outerRadius;return ie.cloneElement(k,{polarAngles:Array.isArray(I)?I:ns(G,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(B)?B:ns(F,!0).map(function(ne){return ne.coordinate}),cx:R,cy:$,innerRadius:V,outerRadius:Y,key:k.key||"polar-grid",radialLines:D})}),mt(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,E=C.props,D=E.children,I=E.width,B=E.height,O=C.props.margin||{},M=I-(O.left||0)-(O.right||0),U=QL({children:D,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!U)return null;var F=U.item,G=UP(U,ySe);return ie.cloneElement(F,Ie(Ie({},G),{},{chartWidth:I,chartHeight:B,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),mt(C,"renderTooltip",function(){var k,E=C.props,D=E.children,I=E.accessibilityLayer,B=$i(D,Ya);if(!B)return null;var O=C.state,M=O.isTooltipActive,U=O.activeCoordinate,F=O.activePayload,G=O.activeLabel,R=O.offset,$=(k=B.props.active)!==null&&k!==void 0?k:M;return ie.cloneElement(B,{viewBox:Ie(Ie({},R),{},{x:R.left,y:R.top}),active:$,label:G,payload:$?F:[],coordinate:U,accessibilityLayer:I})}),mt(C,"renderBrush",function(k){var E=C.props,D=E.margin,I=E.data,B=C.state,O=B.offset,M=B.dataStartIndex,U=B.dataEndIndex,F=B.updateId;return ie.cloneElement(k,{key:k.key||"_recharts-brush",onChange:fg(C.handleBrushChange,k.props.onChange),data:I,x:Je(k.props.x)?k.props.x:O.left,y:Je(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(D.bottom||0),width:Je(k.props.width)?k.props.width:O.width,startIndex:M,endIndex:U,updateId:"brush-".concat(F)})}),mt(C,"renderReferenceElement",function(k,E,D){if(!k)return null;var I=C,B=I.clipPathId,O=C.state,M=O.xAxisMap,U=O.yAxisMap,F=O.offset,G=k.type.defaultProps||{},R=k.props,$=R.xAxisId,V=$===void 0?G.xAxisId:$,Y=R.yAxisId,ne=Y===void 0?G.yAxisId:Y;return ie.cloneElement(k,{key:k.key||"".concat(E,"-").concat(D),xAxis:M[V],yAxis:U[ne],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:B})}),mt(C,"renderActivePoints",function(k){var E=k.item,D=k.activePoint,I=k.basePoint,B=k.childIndex,O=k.isRange,M=[],U=E.props.key,F=E.item.type.defaultProps!==void 0?Ie(Ie({},E.item.type.defaultProps),E.item.props):E.item.props,G=F.activeDot,R=F.dataKey,$=Ie(Ie({index:B,dataKey:R,cx:D.x,cy:D.y,r:4,fill:S_(E.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},vt(G,!1)),b0(G));return M.push(y.renderActiveDot(G,$,"".concat(U,"-activePoint-").concat(B))),I?M.push(y.renderActiveDot(G,Ie(Ie({},$),{},{cx:I.x,cy:I.y}),"".concat(U,"-basePoint-").concat(B))):O&&M.push(null),M}),mt(C,"renderGraphicChild",function(k,E,D){var I=C.filterFormatItem(k,E,D);if(!I)return null;var B=C.getTooltipEventType(),O=C.state,M=O.isTooltipActive,U=O.tooltipAxis,F=O.activeTooltipIndex,G=O.activeLabel,R=C.props.children,$=$i(R,Ya),V=I.props,Y=V.points,ne=V.isRange,le=V.baseLine,L=I.item.type.defaultProps!==void 0?Ie(Ie({},I.item.type.defaultProps),I.item.props):I.item.props,q=L.activeDot,J=L.hide,te=L.activeBar,X=L.activeShape,se=!!(!J&&M&&$&&(q||te||X)),ue={};B!=="axis"&&$&&$.props.trigger==="click"?ue={onClick:fg(C.handleItemMouseEnter,k.props.onClick)}:B!=="axis"&&(ue={onMouseLeave:fg(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:fg(C.handleItemMouseEnter,k.props.onMouseEnter)});var Z=ie.cloneElement(k,Ie(Ie({},I.props),ue));function he(ke){return typeof U.dataKey=="function"?U.dataKey(ke.payload):null}if(se)if(F>=0){var me,ce;if(U.dataKey&&!U.allowDuplicatedCategory){var je=typeof U.dataKey=="function"?he:"payload.".concat(U.dataKey.toString());me=O2(Y,je,G),ce=ne&&le&&O2(le,je,G)}else me=Y==null?void 0:Y[F],ce=ne&&le&&le[F];if(X||te){var Re=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[ie.cloneElement(k,Ie(Ie(Ie({},I.props),ue),{},{activeIndex:Re})),null,null]}if(!It(me))return[Z].concat(pd(C.renderActivePoints({item:I,activePoint:me,basePoint:ce,childIndex:F,isRange:ne})))}else{var Ce,ae=(Ce=C.getItemByXY(C.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:Z},Ne=ae.graphicalItem,Ee=Ne.item,xe=Ee===void 0?k:Ee,Pe=Ne.childIndex,be=Ie(Ie(Ie({},I.props),ue),{},{activeIndex:Pe});return[ie.cloneElement(xe,be),null,null]}return ne?[Z,null,null]:[Z,null]}),mt(C,"renderCustomized",function(k,E,D){return ie.cloneElement(k,Ie(Ie({key:"recharts-customized-".concat(D)},C.props),C.state))}),mt(C,"renderMap",{CartesianGrid:{handler:mg,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:mg},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:mg},YAxis:{handler:mg},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=x.id)!==null&&S!==void 0?S:HA("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Xj(C.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return MSe(y,w),NSe(y,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,C=S.data,k=S.height,E=S.layout,D=$i(T,Ya);if(D){var I=D.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=a5(this.state,C,I,B),M=this.state.tooltipTicks[I].coordinate,U=(this.state.offset.top+k)/2,F=E==="horizontal",G=F?{x:M,y:U}:{y:M,x:U},R=this.state.formattedGraphicalItems.find(function(V){var Y=V.item;return Y.type.name==="Scatter"});R&&(G=Ie(Ie({},G),R.props.points[I].tooltipPosition),O=R.props.points[I].tooltipPayload);var $={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:B,activePayload:O,activeCoordinate:G};this.setState($),this.renderCursor(D),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){j2([$i(S.children,Ya)],[$i(this.props.children,Ya)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=$i(this.props.children,Ya);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),k=Ghe(C),E={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},D=C.width/T.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,D);if(!I)return null;var B=this.state,O=B.xAxisMap,M=B.yAxisMap,U=this.getTooltipEventType(),F=HP(this.state,this.props.data,this.props.layout,I);if(U!=="axis"&&O&&M){var G=ol(O).scale,R=ol(M).scale,$=G&&G.invert?G.invert(E.chartX):null,V=R&&R.invert?R.invert(E.chartY):null;return Ie(Ie({},E),{},{xValue:$,yValue:V},F)}return F?Ie(Ie({},E),F):null}},{key:"inRange",value:function(S,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=S/C,D=T/C;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,B=E>=I.left&&E<=I.left+I.width&&D>=I.top&&D<=I.top+I.height;return B?{x:E,y:D}:null}var O=this.state,M=O.angleAxisMap,U=O.radiusAxisMap;if(M&&U){var F=ol(M);return g3({x:E,y:D},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),C=$i(S,Ya),k={};C&&T==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=b0(this.props,this.handleOuterEvent);return Ie(Ie({},E),k)}},{key:"addListener",value:function(){Q1.on(Z1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Q1.removeListener(Z1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,C){for(var k=this.state.formattedGraphicalItems,E=0,D=k.length;E<D;E++){var I=k[E];if(I.item===S||I.props.key===S.key||T===os(I.item.type)&&C===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,C=T.left,k=T.top,E=T.height,D=T.width;return de.createElement("defs",null,de.createElement("clipPath",{id:S},de.createElement("rect",{x:C,y:k,height:E,width:D})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=BP(C,2),E=k[0],D=k[1];return Ie(Ie({},T),{},mt({},E,D.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=BP(C,2),E=k[0],D=k[1];return Ie(Ie({},T),{},mt({},E,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,C=T.formattedGraphicalItems,k=T.activeItem;if(C&&C.length)for(var E=0,D=C.length;E<D;E++){var I=C[E],B=I.props,O=I.item,M=O.type.defaultProps!==void 0?Ie(Ie({},O.type.defaultProps),O.props):O.props,U=os(O.type);if(U==="Bar"){var F=(B.data||[]).find(function(V){return kbe(S,V)});if(F)return{graphicalItem:I,payload:F}}else if(U==="RadialBar"){var G=(B.data||[]).find(function(V){return g3(S,V)});if(G)return{graphicalItem:I,payload:G}}else if(Ry(I,k)||Fy(I,k)||gA(I,k)){var R=gxe({graphicalItem:I,activeTooltipItem:k,itemData:M.data}),$=M.activeIndex===void 0?R:M.activeIndex;return{graphicalItem:Ie(Ie({},I),{},{childIndex:$}),payload:gA(I,k)?M.data[R]:I.props.data[R]}}}return null}},{key:"render",value:function(){var S=this;if(!s4(this))return null;var T=this.props,C=T.children,k=T.className,E=T.width,D=T.height,I=T.style,B=T.compact,O=T.title,M=T.desc,U=UP(T,bSe),F=vt(U,!1);if(B)return de.createElement(TP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(R2,yf({},F,{width:E,height:D,title:O,desc:M}),this.renderClipPath(),u4(C,this.renderMap)));if(this.props.accessibilityLayer){var G,R;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},F.onFocus=function(){S.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return de.createElement(TP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",yf({className:Dt("recharts-wrapper",k),style:Ie({position:"relative",cursor:"default",width:E,height:D},I)},$,{ref:function(Y){S.container=Y}}),de.createElement(R2,yf({},F,{width:E,height:D,title:O,desc:M,style:RSe}),this.renderClipPath(),u4(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ie.Component);mt(v,"displayName",n),mt(v,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),mt(v,"getDerivedStateFromProps",function(w,y){var x=w.dataKey,S=w.data,T=w.children,C=w.width,k=w.height,E=w.layout,D=w.stackOffset,I=w.margin,B=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var M=zP(w);return Ie(Ie(Ie({},M),{},{updateId:0},h(Ie(Ie({props:w},M),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:D,prevMargin:I,prevChildren:T})}if(x!==y.prevDataKey||S!==y.prevData||C!==y.prevWidth||k!==y.prevHeight||E!==y.prevLayout||D!==y.prevStackOffset||!Pf(I,y.prevMargin)){var U=zP(w),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},G=Ie(Ie({},HP(y,S,E)),{},{updateId:y.updateId+1}),R=Ie(Ie(Ie({},U),F),G);return Ie(Ie(Ie({},R),h(Ie({props:w},R),y)),{},{prevDataKey:x,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:D,prevMargin:I,prevChildren:T})}if(!j2(T,y.prevChildren)){var $,V,Y,ne,le=$i(T,ad),L=le&&($=(V=le.props)===null||V===void 0?void 0:V.startIndex)!==null&&$!==void 0?$:B,q=le&&(Y=(ne=le.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&Y!==void 0?Y:O,J=L!==B||q!==O,te=!It(S),X=te&&!J?y.updateId:y.updateId+1;return Ie(Ie({updateId:X},h(Ie(Ie({props:w},y),{},{updateId:X,dataStartIndex:L,dataEndIndex:q}),y)),{},{prevChildren:T,dataStartIndex:L,dataEndIndex:q})}return null}),mt(v,"renderActiveDot",function(w,y,x){var S;return ie.isValidElement(w)?S=ie.cloneElement(w,y):bt(w)?S=w(y):S=de.createElement(T_,y),de.createElement(tn,{className:"recharts-active-dot",key:x},S)});var b=ie.forwardRef(function(y,x){return de.createElement(v,yf({},y,{ref:x}))});return b.displayName=v.displayName,b},WSe=x8({chartName:"BarChart",GraphicalChild:lc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zy},{axisType:"yAxis",AxisComp:Vy}],formatAxisMap:K2e}),YSe=x8({chartName:"PieChart",GraphicalChild:ws,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ly},{axisType:"radiusAxis",AxisComp:Iy}],formatAxisMap:q0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const KSe=["#26A69A","#4DD0E1","#EF5350","#FFB74D","#80CBC4","#A0AEC0"],JSe=["#2dd4bf","#67e8f9","#f87171","#fbbf24","#5eead4","#94a3b8"],XSe=({onClose:t,total:e,sales:n,customers:r,onReprintInvoice:i,t:a,language:o})=>{const s=o==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:a("customItemsDetails")}),m.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(DO,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-4 rounded-lg text-purple-800 dark:text-purple-200 mb-4",children:[m.jsx("p",{className:"font-bold",children:a("totalCustomRevenue")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:a("invoiceHistory")}),n.length>0?n.slice().reverse().map(l=>{var u;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[a("invoiceNumber")," ",l.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(l.date).toLocaleString(s)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[l.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a("profitLabel"),": ",l.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>i(l),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:a("print"),children:m.jsx(zv,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:a("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customer"),":"]})," ",((u=r.find(c=>c.id===l.customerId))==null?void 0:u.name)||a("cashCustomer")]}),m.jsxs("p",{className:"font-semibold",children:[a("customItemsInSale"),":"]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:l.items.filter(c=>c.isCustom).map(c=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(_l,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]})]},l.id)}):m.jsx("p",{className:"text-center text-slate-500 py-8",children:a("noSalesForPeriod")})]}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")})})]})})},QSe=({expense:t,onSave:e,onClose:n,t:r})=>{const[i,a]=ie.useState(t),[o,s]=ie.useState(!1),l=f=>{const{id:p,value:h}=f.target;a(v=>({...v,[p]:h}))},u=f=>{a(p=>({...p,amount:parseFloat(f.target.value)||0}))},c=async f=>{f.preventDefault(),s(!0),await e(i),s(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[r("edit")," ",r("manageExpenses")]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("description")}),m.jsx("input",{type:"text",id:"description",value:i.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[r("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"amount",value:i.amount,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",disabled:o,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:o?`${r("save")}...`:r("save")})]})]})]})})},tx=10,ZSe=({storeId:t,sales:e,expenses:n,purchases:r,suppliers:i,returns:a,customers:o,users:s,addExpense:l,updateExpense:u,deleteExpense:c,deleteReturn:f,deleteAllReturns:p,t:h,language:v,theme:b,onReprintInvoice:w})=>{const[y,x]=ie.useState("all"),[S,T]=ie.useState({start:"",end:""}),[C,k]=ie.useState("overview"),[E,D]=ie.useState(null),[I,B]=ie.useState(!1),[O,M]=ie.useState(1),U=v==="ar"?"ar-MA":"fr-FR";ie.useEffect(()=>{M(1)},[y,S]);const F=ie.useMemo(()=>b==="dark"?{pie:JSe,tick:"#94a3b8",grid:"rgba(94, 112, 131, 0.2)",tooltip:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#e2e8f0"},legend:"#e2e8f0",bar:"#2dd4bf"}:{pie:KSe,tick:"#475569",grid:"#e2e8f0",tooltip:{backgroundColor:"#ffffff",borderColor:"#e2e8f0",color:"#1e293b"},legend:"#334155",bar:"#26A69A"},[b]),G=ie.useMemo(()=>ng(e,y,S),[e,y,S]),R=ie.useMemo(()=>ng(n,y,S).sort((be,ke)=>new Date(ke.date).getTime()-new Date(be.date).getTime()),[n,y,S]),$=ie.useMemo(()=>ng(a,y,S),[a,y,S]),V=ie.useMemo(()=>ng(r,y,S),[r,y,S]),{totalRevenue:Y,totalReturnsAmount:ne,netRevenue:le,totalExpenses:L,netProfit:q,totalCustomerDebts:J,debtsByCustomer:te,totalCostOfGoods:X,totalSupplierDebt:se,debtsBySupplier:ue,totalCustomItemSales:Z}=ie.useMemo(()=>{let be=0,ke=0;G.forEach(Se=>{const Ue=Se.total,rt=Se.items.filter(st=>!st.isCustom).reduce((st,mn)=>st+mn.price*mn.quantity,0),pt=Ue-rt;ke+=pt,be+=rt});let ye=0;$.forEach(Se=>{Se.items.forEach(Ue=>{Ue.isCustom||(ye+=Ue.price*Ue.quantity)})});const Ge=be-ye,We=R.reduce((Se,Ue)=>Se+Ue.amount,0),ot=G.reduce((Se,Ue)=>Se+Ue.profit,0),Ve=$.reduce((Se,Ue)=>Se+Ue.profitLost,0),ct=ot-Ve-We,et=new Map;let ht=0;e.forEach(Se=>{var Ue;if(Se.customerId&&Se.remainingAmount>0){ht+=Se.remainingAmount;const rt=o.find(pt=>pt.id===Se.customerId);if(rt){const pt=((Ue=et.get(Se.customerId))==null?void 0:Ue.debt)||0;et.set(Se.customerId,{customer:rt,debt:pt+Se.remainingAmount})}}});const Ye=new Map;let cn=0;r.forEach(Se=>{var Ue;if(Se.remainingAmount>0){cn+=Se.remainingAmount;const rt=i.find(pt=>pt.id===Se.supplierId);if(rt){const pt=((Ue=Ye.get(Se.supplierId))==null?void 0:Ue.debt)||0;Ye.set(Se.supplierId,{supplier:rt,debt:pt+Se.remainingAmount})}}});const kt=r.reduce((Se,Ue)=>Se+Ue.totalAmount,0);return{totalRevenue:be,totalReturnsAmount:ye,netRevenue:Ge,totalExpenses:We,netProfit:ct,totalCustomerDebts:ht,debtsByCustomer:Array.from(et.values()).sort((Se,Ue)=>Ue.debt-Se.debt),totalCostOfGoods:kt,totalSupplierDebt:cn,debtsBySupplier:Array.from(Ye.values()).sort((Se,Ue)=>Ue.debt-Se.debt),totalCustomItemSales:ke}},[G,R,$,e,o,r,i]),he=ie.useMemo(()=>{const be={},ke={day:"2-digit",month:"2-digit"};return G.forEach(ye=>{const Ge=new Date(ye.date).toLocaleDateString(U,ke);be[Ge]||(be[Ge]=0);const We=ye.items.filter(ot=>!ot.isCustom).reduce((ot,Ve)=>ot+Ve.price*Ve.quantity,0);be[Ge]+=We}),$.forEach(ye=>{const Ge=new Date(ye.date).toLocaleDateString(U,ke);if(be[Ge]){const We=ye.items.filter(ot=>!ot.isCustom).reduce((ot,Ve)=>ot+Ve.price*Ve.quantity,0);be[Ge]-=We}be[Ge]<0&&(be[Ge]=0)}),Object.entries(be).map(([ye,Ge])=>({name:ye,[h("sales")]:Ge})).reverse()},[G,$,U,h]),me=ie.useMemo(()=>{const be={};return G.forEach(ke=>{ke.items.forEach(ye=>{ye.type==="good"&&(be[ye.id]||(be[ye.id]={name:ye.name,quantity:0}),be[ye.id].quantity+=ye.quantity)})}),$.forEach(ke=>{ke.items.forEach(ye=>{ye.type==="good"&&be[ye.id]&&(be[ye.id].quantity-=ye.quantity)})}),Object.values(be).filter(({quantity:ke})=>ke>0).map(({name:ke,quantity:ye})=>({name:ke,value:ye})).sort((ke,ye)=>ye.value-ke.value).slice(0,6)},[G,$]),ce=ie.useMemo(()=>G.filter(be=>!be.items.some(ke=>ke.isCustom)).slice().reverse(),[G]),je=ie.useMemo(()=>G.filter(be=>be.items.some(ke=>ke.isCustom)),[G]),Re=()=>{const[be,ke]=ie.useState({description:"",amount:""}),ye=ie.useRef(null),Ge=async Ve=>{var ct;if(Ve.preventDefault(),!be.description||!be.amount){alert(h("fillAllFields"));return}await l({storeId:t,description:be.description,amount:parseFloat(be.amount),date:new Date().toISOString()}),ke({description:"",amount:""}),(ct=ye.current)==null||ct.focus()},We=Ve=>{c(Ve)},ot=()=>{const Ve=[h("date"),h("description"),h("amount")],ct=R.map(et=>[new Date(et.date).toLocaleDateString(U),et.description,`${et.amount.toFixed(2)} DH`]);Va(h("expenseHistory"),Ve,ct,"expenses_report",v,h("noDataToExport"))};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("manageExpenses")}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",h("goBack")]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:h("addExpense")}),m.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"exp-description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:h("description")}),m.jsx("input",{ref:ye,type:"text",id:"exp-description",value:be.description,onChange:Ve=>ke({...be,description:Ve.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"exp-amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[h("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"exp-amount",value:be.amount,onChange:Ve=>ke({...be,amount:Ve.target.value}),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:h("addExpense")})]})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:h("expenseHistory")}),m.jsxs("button",{onClick:ot,className:"bg-cyan-600 text-white font-semibold py-1 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2 space-y-3",children:R.length>0?R.map(Ve=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Ve.description}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(Ve.date).toLocaleDateString(U)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[Ve.amount.toFixed(2)," DH"]}),m.jsx("button",{onClick:()=>D(Ve),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300",children:m.jsx(Hv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>We(Ve.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:m.jsx(si,{className:"w-5 h-5"})})]})]},Ve.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:h("noExpensesForPeriod")})})]})]})]})},Ce=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("debtorCustomers")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const be=[h("name"),h("phone"),h("debtAmount")],ke=te.map(ye=>[ye.customer.name,ye.customer.phone,`${ye.debt.toFixed(2)} DH`]);Va(h("debtorCustomers"),be,ke,"customer_debts",v,h("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",h("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:te.length>0?te.map(({customer:be,debt:ke})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:be.name}),m.jsx("td",{className:"px-6 py-4",children:be.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[ke.toFixed(2)," DH"]})]},be.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:h("noDebtorCustomers")})})})]})})]}),ae=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("returnHistory")}),m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsxs("button",{onClick:()=>{const be=[h("returnId"),h("date"),h("refundAmount"),h("profitLost"),h("itemsLabel")],ke=$.map(ye=>[ye.id.slice(-6),new Date(ye.date).toLocaleString(U),`${ye.refundAmount.toFixed(2)} DH`,`${ye.profitLost.toFixed(2)} DH`,ye.items.map(Ge=>`${Ge.name} (x${Ge.quantity})`).join(", ")]);Va(h("returnHistory"),be,ke,"returns_report",v,h("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-2 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]}),m.jsxs("button",{onClick:p,className:"bg-red-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(si,{className:"w-4 h-4"})," ",h("deleteHistory")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",h("goBack")]})]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:$.length>0?$.slice().reverse().map(be=>m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[h("returnId")," ",be.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(be.date).toLocaleString(U)})]}),m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-orange-600 dark:text-orange-400",children:[be.refundAmount.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h("profitLost"),": ",be.profitLost.toFixed(2)," DH"]})]})]}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsxs("button",{onClick:()=>f(be.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold flex items-center gap-1",children:[m.jsx(si,{className:"w-4 h-4"})," ",h("delete")]})}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-orange-700 dark:text-orange-400 font-semibold hover:text-orange-800",children:h("returnedItems")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-orange-200 dark:border-orange-500/30",children:be.items.map(ke=>m.jsxs("li",{className:"flex justify-between items-center text-slate-700 dark:text-slate-300",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[ke.type==="service"&&m.jsx(_l,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),ke.name," (x",ke.quantity,")"]}),m.jsxs("span",{children:[(ke.price*ke.quantity).toFixed(2)," DH"]})]},ke.id))})]})]},be.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:h("noReturnsForPeriod")})})})]}),Ne=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("allPurchasesHistory")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const be=[h("date"),h("suppliers"),h("reference"),h("totalAmount"),h("amountPaid"),h("remainingAmountLabel"),h("paymentMethod")],ke=V.map(ye=>{var Ge;return[new Date(ye.date).toLocaleDateString(U),((Ge=i.find(We=>We.id===ye.supplierId))==null?void 0:Ge.name)||"N/A",ye.reference&&ye.reference.startsWith("purchase_ref_")?h(ye.reference):ye.reference||"",`${ye.totalAmount.toFixed(2)} DH`,`${ye.amountPaid.toFixed(2)} DH`,`${ye.remainingAmount.toFixed(2)} DH`,h(ye.paymentMethod)]});Va(h("allPurchasesHistory"),be,ke,"all_purchases_report",v,h("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",h("goBack")]})]})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:V.length>0?m.jsx("ul",{className:"space-y-4",children:V.slice().reverse().map(be=>{var ke;return m.jsxs("li",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap gap-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[h("suppliers"),": ",((ke=i.find(ye=>ye.id===be.supplierId))==null?void 0:ke.name)||"N/A"]}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[h("date"),": ",new Date(be.date).toLocaleDateString(U)]}),be.reference&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[h("reference"),": ",be.reference.startsWith("purchase_ref_")?h(be.reference):be.reference]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[be.totalAmount.toFixed(2)," DH"]}),be.remainingAmount>0&&m.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[h("remainingDebt"),": ",be.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{children:[m.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:h("purchaseDetails")}),m.jsxs("table",{className:"w-full text-sm mt-2 border-collapse",children:[m.jsx("thead",{className:"text-slate-600 dark:text-slate-300",children:m.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-700",children:[m.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:h("products")}),m.jsx("th",{className:"p-2 text-center font-semibold",children:h("quantity")}),m.jsx("th",{className:"p-2 text-center font-semibold",children:h("purchasePrice")}),m.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:h("total")})]})}),m.jsx("tbody",{className:"bg-white dark:bg-slate-800",children:be.items.map((ye,Ge)=>m.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[m.jsxs("td",{className:"p-2 text-start rtl:text-right font-medium text-slate-800 dark:text-slate-200",children:[ye.productName," - ",ye.variantName]}),m.jsx("td",{className:"p-2 text-center",children:m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block min-w-[4ch]",children:ye.quantity})}),m.jsx("td",{className:"p-2 text-center",children:m.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block",children:[ye.purchasePrice.toFixed(2)," DH"]})}),m.jsx("td",{className:"p-2 text-start rtl:text-right",children:m.jsxs("span",{className:"font-bold text-white bg-blue-600 px-3 py-1 rounded-md inline-block",children:[(ye.quantity*ye.purchasePrice).toFixed(2)," DH"]})})]},Ge))})]})]})]},be.id)})}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:h("noPurchasesRecorded")})})]}),Ee=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("supplierDebtsList")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const be=[h("suppliers"),h("phone"),h("debtAmount")],ke=ue.map(ye=>[ye.supplier.name,ye.supplier.phone,`${ye.debt.toFixed(2)} DH`]);Va(h("supplierDebtsList"),be,ke,"supplier_debts_report",v,h("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",h("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("suppliers")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:ue.length>0?ue.map(({supplier:be,debt:ke})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:be.name}),m.jsx("td",{className:"px-6 py-4",children:be.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[ke.toFixed(2)," DH"]})]},be.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:h("noSupplierDebt")})})})]})})]}),xe=()=>{const[be,ke]=ie.useState(""),{reportSales:ye,reportReturns:Ge,kpis:We}=ie.useMemo(()=>{let Ve=G,ct=$;be&&(Ve=Ve.filter(Ye=>Ye.userId===be),ct=ct.filter(Ye=>Ye.userId===be));const et=Ve.reduce((Ye,cn)=>Ye+cn.total,0),ht=ct.reduce((Ye,cn)=>Ye+cn.refundAmount,0);return{reportSales:Ve,reportReturns:ct,kpis:{totalSales:et,totalReturns:ht,netActivity:et-ht,salesCount:Ve.length,returnsCount:ct.length}}},[G,$,be]),ot=ie.useMemo(()=>{const Ve=ye.map(et=>({...et,type:"sale"})),ct=Ge.map(et=>({...et,type:"return"}));return[...Ve,...ct].sort((et,ht)=>new Date(ht.date).getTime()-new Date(et.date).getTime())},[ye,Ge]);return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("sellerReportsAndZReport")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("select",{value:be,onChange:Ve=>ke(Ve.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:h("all")}),s.map(Ve=>m.jsx("option",{value:Ve.id,children:Ve.name},Ve.id))]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:[" ",h("goBack")]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-4 rounded-xl text-teal-800 dark:text-teal-200",children:[m.jsx("h3",{className:"font-bold text-md",children:h("netActivity")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[We.netActivity.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]})]}),m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl text-green-800 dark:text-green-200",children:[m.jsx("h3",{className:"font-bold text-md",children:h("totalSales")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[We.totalSales.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs",children:h("numberOfSales",{count:We.salesCount})})]}),m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-4 rounded-xl text-orange-800 dark:text-orange-200",children:[m.jsx("h3",{className:"font-bold text-md",children:h("totalReturns")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[We.totalReturns.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs",children:h("numberOfReturns",{count:We.returnsCount})})]})]}),m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:h("transactionList")}),m.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-2",children:ot.length>0?m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("date")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("transactionType")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("amount")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:h("viewDetails")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:ot.map(Ve=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("td",{className:"px-6 py-4",children:new Date(Ve.date).toLocaleString(U)}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ve.type==="sale"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}`,children:h(Ve.type==="sale"?"sales":"returnMode")})}),m.jsxs("td",{className:`px-6 py-4 font-bold ${Ve.type==="sale"?"text-green-700 dark:text-green-400":"text-orange-700 dark:text-orange-400"}`,children:[Ve.type==="sale"?Ve.total.toFixed(2):Ve.refundAmount.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("details",{className:"text-xs",children:[m.jsxs("summary",{className:"cursor-pointer font-semibold text-cyan-700 dark:text-cyan-400",children:[Ve.items.length," ",h("itemsLabel")]}),m.jsx("ul",{className:"mt-1 text-slate-600 dark:text-slate-300",children:Ve.items.map((ct,et)=>m.jsxs("li",{children:[ct.name," (x",ct.quantity,")"]},et))})]})})]},`${Ve.type}-${Ve.id}`))})]}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:h("noTransactionsForSeller")})})]})},Pe=()=>{const be=Math.ceil(ce.length/tx),ke=ce.slice((O-1)*tx,O*tx);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg flex flex-wrap items-center gap-4",children:[m.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-300",children:h("filterByPeriod")}),m.jsxs("select",{value:y,onChange:ye=>x(ye.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"all",children:h("all")}),m.jsx("option",{value:"today",children:h("today")}),m.jsx("option",{value:"week",children:h("thisWeek")}),m.jsx("option",{value:"month",children:h("thisMonth")}),m.jsx("option",{value:"custom",children:h("customRange")})]}),y==="custom"&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"date",value:S.start,onChange:ye=>T({...S,start:ye.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"}),m.jsx("input",{type:"date",value:S.end,onChange:ye=>T({...S,end:ye.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>B(!0),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10 bg-purple-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-purple-700 transition-transform hover:scale-110",title:h("customItemsDetails"),children:m.jsx(_l,{className:"w-6 h-6"})}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-6 rounded-xl shadow text-teal-800 dark:text-teal-200",children:[m.jsx("h3",{className:"font-bold text-lg",children:h("netRevenue")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[le.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:h("totalRevenueMinusReturns")})]}),m.jsxs("div",{className:"bg-cyan-100 dark:bg-cyan-900/50 p-6 rounded-xl shadow text-cyan-800 dark:text-cyan-200",children:[m.jsx("h3",{className:"font-bold text-lg",children:h("netProfit")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[q.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:h("realizedProfitMinusExpenses")})]}),m.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 p-6 rounded-xl shadow text-yellow-800 dark:text-yellow-200 cursor-pointer hover:ring-2 ring-yellow-400 transition-all",onClick:()=>k("debts"),children:[m.jsx("h3",{className:"font-bold text-lg",children:h("customerDebts")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[J.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:h("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-6 rounded-xl shadow text-red-800 dark:text-red-200 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("supplierDebts"),children:[m.jsx("h3",{className:"font-bold text-lg",children:h("totalSupplierDebt")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[se.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:h("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-red-100/70 dark:bg-red-900/30 p-6 rounded-xl shadow text-red-900 dark:text-red-300 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("expenses"),children:[m.jsx("h3",{className:"font-bold text-lg",children:h("totalExpenses")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[L.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:h("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-6 rounded-xl shadow text-purple-800 dark:text-purple-200 cursor-pointer hover:ring-2 ring-purple-400 transition-all",onClick:()=>k("allPurchases"),children:[m.jsx("h3",{className:"font-bold text-lg",children:h("totalCostOfGoods")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[X.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:h("clickToViewDetails")})]}),m.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1 bg-blue-100 dark:bg-blue-900/50 p-6 rounded-xl shadow text-blue-800 dark:text-blue-200 cursor-pointer hover:ring-2 ring-blue-400 transition-all",onClick:()=>k("sellerReports"),children:[m.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[m.jsx(pS,{})," ",h("sellerReportsAndZReport")]}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[e.length," ",m.jsx("span",{className:"text-lg font-medium",children:h("sales")})]}),m.jsx("p",{className:"text-xs opacity-80",children:h("clickToViewDetails")})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("salesPerformance")}),m.jsxs("button",{onClick:()=>{const ye=[h("date"),h("sales")],Ge=he.map(We=>[We.name,`${(We[h("sales")]||0).toFixed(2)} DH`]);Va(h("salesPerformance"),ye,Ge,"daily_sales_performance",v,h("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(ok,{children:m.jsxs(WSe,{data:he,margin:{top:5,right:0,left:0,bottom:5},children:[m.jsx(o8,{stroke:F.grid}),m.jsx(zy,{dataKey:"name",tick:{fill:F.tick,fontSize:12}}),m.jsx(Vy,{tick:{fill:F.tick,fontSize:12},tickFormatter:ye=>`${ye}`}),m.jsx(Ya,{contentStyle:F.tooltip,labelStyle:{color:F.tooltip.color},formatter:ye=>[`${ye.toFixed(2)} DH`,h("sales")]}),m.jsx(Cl,{wrapperStyle:{color:F.legend}}),m.jsx(lc,{dataKey:h("sales"),fill:F.bar})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("topSellingProducts")}),m.jsxs("button",{onClick:()=>{const ye=[h("products"),h("quantity")],Ge=me.map(We=>[We.name,We.value]);Va(h("topSellingProducts"),ye,Ge,"top_selling_products",v,h("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(ok,{children:m.jsxs(YSe,{children:[m.jsx(ws,{data:me,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:{fill:F.legend},children:me.map((ye,Ge)=>m.jsx(yy,{fill:F.pie[Ge%F.pie.length]},`cell-${Ge}`))}),m.jsx(Ya,{contentStyle:F.tooltip,formatter:(ye,Ge)=>[`${ye} ${h("units")}`,Ge]}),m.jsx(Cl,{wrapperStyle:{color:F.legend}})]})})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:h("salesHistory")}),m.jsxs("button",{onClick:()=>{const ye=[h("invoiceNumber"),h("date"),h("customer"),h("total"),h("profitLabel"),h("itemsLabel")],Ge=ce.slice().reverse().map(We=>{var ot;return[We.id.slice(-6).toUpperCase(),new Date(We.date).toLocaleString(U),((ot=o.find(Ve=>Ve.id===We.customerId))==null?void 0:ot.name)||h("cashCustomer"),`${We.total.toFixed(2)} DH`,`${We.profit.toFixed(2)} DH`,We.items.map(Ve=>`${Ve.name} (x${Ve.quantity})`).join(", ")]});Va(h("salesHistory"),ye,Ge,"sales_history",v,h("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ma,{className:"w-4 h-4"})," ",h("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:ke.length>0?ke.map(ye=>{var Ge;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[h("invoiceNumber")," ",ye.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ye.date).toLocaleString(U)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[ye.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h("profitLabel"),": ",ye.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>w(ye),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:h("print"),children:m.jsx(zv,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:h("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("ul",{className:"space-y-1",children:[m.jsxs("li",{children:[m.jsx("strong",{children:h("billNumber")})," ",ye.id.toUpperCase()]}),ye.customerId&&o.find(We=>We.id===ye.customerId)&&m.jsxs("li",{children:[m.jsxs("strong",{children:[h("customer"),":"]})," ",(Ge=o.find(We=>We.id===ye.customerId))==null?void 0:Ge.name]}),ye.discount&&ye.discount>0&&m.jsxs("li",{className:"font-semibold",children:[m.jsxs("strong",{children:[h("discount"),":"]})," ",m.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",ye.discount.toFixed(2)," DH"]})]}),ye.remainingAmount>0&&m.jsxs("li",{className:"font-semibold",children:[m.jsx("strong",{children:h("remainingAmountLabel")})," ",m.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[ye.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:ye.items.map(We=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[We.type==="service"&&m.jsx(_l,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),We.name," (x",We.quantity,")"]}),m.jsxs("span",{children:[(We.price*We.quantity).toFixed(2)," DH"]})]},We.id))})]})]})]},ye.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:h("noSalesForPeriod")})})}),be>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>M(ye=>Math.max(1,ye-1)),disabled:O===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":h("previous"),children:m.jsx($A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[h("page")," ",O," / ",be]}),m.jsx("button",{onClick:()=>M(ye=>Math.min(be,ye+1)),disabled:O===be,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":h("next"),children:m.jsx(FA,{className:"w-5 h-5"})})]})]})]})};return m.jsxs("div",{className:"space-y-6",children:[E&&m.jsx(QSe,{expense:E,onClose:()=>D(null),onSave:u,t:h}),I&&m.jsx(XSe,{onClose:()=>B(!1),total:Z,sales:je,customers:o,onReprintInvoice:w,t:h,language:v}),C==="overview"&&m.jsx(Pe,{}),C==="debts"&&m.jsx(Ce,{}),C==="returns"&&m.jsx(ae,{}),C==="expenses"&&m.jsx(Re,{}),C==="allPurchases"&&m.jsx(Ne,{}),C==="supplierDebts"&&m.jsx(Ee,{}),C==="sellerReports"&&m.jsx(xe,{})]})},e_e=({customer:t,sales:e,debt:n,onClose:r,t:i,language:a})=>{const o=ie.useMemo(()=>e.filter(u=>u.customerId===t.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime()),[e,t.id]),s=ie.useMemo(()=>o.reduce((u,c)=>u+c.total,0),[o]),l=()=>{const u=new ut;y0(u),u.setFontSize(18);const c=i("purchaseHistoryFor",{name:t.name});u.text(c,u.internal.pageSize.getWidth()/2,20,{align:"center"}),u.setFontSize(12),u.text(`${i("customer")}: ${t.name}`,14,30),u.text(`${i("phone")}: ${t.phone}`,14,36),u.text(`${i("totalPurchases")}: ${s.toFixed(2)} DH`,14,42),u.text(`${i("currentDebt")}: ${n.toFixed(2)} DH`,14,48);const f=[],p=a==="ar"?"ar-MA":"fr-FR";o.forEach(h=>{const v=new Date(h.date).toLocaleDateString(p);f.push([{content:`${i("invoiceNumber")} ${h.id.slice(-6).toUpperCase()} | ${v} | Total: ${h.total.toFixed(2)} DH | ${i("remainingAmountLabel")}: ${h.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),h.items.forEach(b=>{f.push([`  ${b.name}`,b.quantity,b.price.toFixed(2),(b.quantity*b.price).toFixed(2)])})}),v0(u,{startY:60,head:[[i("products"),i("quantity"),i("price"),i("total")]],body:f,theme:"grid",styles:{font:"Amiri",halign:a==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(h){h.column.index>0&&h.cell.raw.colSpan===void 0&&(h.cell.styles.halign="center")}}),u.save(`historique-${t.name.replace(/\s/g,"_")}.pdf`)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i("purchaseHistoryFor",{name:t.name})}),m.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(DO,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[m.jsx("p",{className:"font-bold",children:i("totalPurchases")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[s.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-4 rounded-lg text-red-800 dark:text-red-200",children:[m.jsx("p",{className:"font-bold",children:i("currentDebt")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[n.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:i("invoiceHistory")}),o.length>0?o.map(u=>m.jsxs("details",{className:"p-3 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[m.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-700 dark:text-slate-200",children:[m.jsxs("span",{children:[i("invoiceNumber")," ",u.id.slice(-6)," - ",new Date(u.date).toLocaleDateString(a==="ar"?"ar-MA":"fr-FR")]}),m.jsxs("span",{className:"font-bold text-cyan-600 dark:text-cyan-400",children:[u.total.toFixed(2)," DH"]})]}),m.jsx("ul",{className:"mt-2 pt-2 border-t dark:border-slate-600 text-sm space-y-1",children:u.items.map(c=>m.jsxs("li",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]},u.id)):m.jsx("p",{className:"text-center text-slate-500 py-8",children:i("noInvoicesFound")})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("close")}),m.jsxs("button",{onClick:l,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center gap-2",children:[m.jsx(zv,{className:"w-5 h-5"}),i("printReport")]})]})]})})},t_e=({customer:t,debt:e,onClose:n,onPayDebt:r,t:i})=>{const[a,o]=ie.useState(""),[s,l]=ie.useState(!1),u=async()=>{const c=parseFloat(a);if(isNaN(c)||c<=0||c>e){alert(i("enterValidPayment"));return}l(!0),await r(t.id,c),l(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[i("debtManagement")," - ",t.name]}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[i("totalDebt")," ",m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("amountToPay")}),m.jsx("input",{type:"number",id:"paymentAmount",value:a,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:e,min:"0.01",step:"0.01",autoFocus:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{onClick:u,disabled:s||!a,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:i(s?"paying":"recordPayment")})]})]})})},nx=15,n_e=({storeId:t,customers:e,sales:n,addCustomer:r,deleteCustomer:i,payCustomerDebt:a,t:o,language:s})=>{const[l,u]=ie.useState({name:"",phone:"",email:""}),[c,f]=ie.useState(null),[p,h]=ie.useState(null),[v,b]=ie.useState(null),[w,y]=ie.useState(""),[x,S]=ie.useState(1);ie.useEffect(()=>{S(1)},[w]);const T=ie.useMemo(()=>{const F=new Map;return n.forEach(G=>{if(G.customerId&&G.remainingAmount>0){const R=F.get(G.customerId)||0;F.set(G.customerId,R+G.remainingAmount)}}),F},[n]),C=ie.useMemo(()=>w?e.filter(F=>F.name.toLowerCase().startsWith(w.toLowerCase())):e,[e,w]),k=ie.useMemo(()=>{const F=(x-1)*nx;return C.slice(F,F+nx)},[C,x]),E=Math.ceil(C.length/nx),D=F=>{u(G=>({...G,[F.target.id]:F.target.value}))},I=async F=>{if(F.preventDefault(),b(null),!l.name||!l.phone){b({type:"error",message:o("nameAndPhoneRequired")});return}if(e.some(G=>G.phone===l.phone.trim())){b({type:"error",message:o("customerExistsError",{phone:l.phone.trim()})});return}await r({...l,storeId:t}),u({name:"",phone:"",email:""}),b({type:"success",message:o("customerAddedSuccess",{name:l.name})}),setTimeout(()=>b(null),4e3)},B=async F=>{if(b(null),window.confirm(o("confirmCustomerDelete",{name:F.name}))){try{await i(F.id),b({type:"success",message:o("customerDeletedSuccess",{name:F.name})})}catch(G){const R=T.get(F.id)||0,$=o(G.message||"customerDeleteError",{name:F.name,debt:R.toFixed(2)});b({type:"error",message:$})}setTimeout(()=>b(null),5e3)}},O=()=>{const F=[o("name"),o("phone"),o("email"),o("debt")],G=e.map(R=>[R.name,R.phone,R.email||"N/A",`${(T.get(R.id)||0).toFixed(2)} DH`]);Va(o("customerList"),F,G,"customers_report",s,o("noDataToExport"))},M=F=>{const G=n.filter(le=>le.customerId===F.id&&le.remainingAmount>0).sort((le,L)=>new Date(le.date).getTime()-new Date(L.date).getTime()),R=G.reduce((le,L)=>le+L.remainingAmount,0);if(G.length===0){alert(o("noDebtorCustomers"));return}const $=new ut;y0($),$.setFontSize(18);const V=o("debtReportFor",{name:F.name});$.text(V,$.internal.pageSize.getWidth()/2,20,{align:"center"}),$.setFontSize(12),$.text(`${o("customer")}: ${F.name}`,14,30),$.text(`${o("phone")}: ${F.phone}`,14,36),F.email&&$.text(`${o("email")}: ${F.email}`,14,42),$.setFontSize(14),$.setFont("Amiri","bold"),$.text(`${o("totalDebt")}: ${R.toFixed(2)} DH`,14,52),$.setFont("Amiri","normal");const Y=[],ne=s==="ar"?"ar-MA":"fr-FR";G.forEach(le=>{const L=new Date(le.date).toLocaleDateString(ne);Y.push([{content:`${o("invoiceNumber")} ${le.id.slice(-6).toUpperCase()} | ${L} | Total: ${le.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${le.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),le.items.forEach(q=>{Y.push([`  ${q.name}`,q.quantity,q.price.toFixed(2),(q.quantity*q.price).toFixed(2)])})}),v0($,{startY:60,head:[[o("products"),o("quantity"),o("price"),o("total")]],body:Y,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(le){le.column.index>0&&le.cell.raw.colSpan===void 0&&(le.cell.styles.halign="center")}}),$.save(`rapport-dette-${F.name.replace(/\s/g,"_")}.pdf`)},U=()=>{const F=e.filter($=>(T.get($.id)||0)>0);if(F.length===0){alert(o("noDebtsToReport"));return}const G=new ut;y0(G);const R=s==="ar"?"ar-MA":"fr-FR";F.forEach(($,V)=>{V>0&&G.addPage();const Y=n.filter(q=>q.customerId===$.id&&q.remainingAmount>0).sort((q,J)=>new Date(q.date).getTime()-new Date(J.date).getTime()),ne=Y.reduce((q,J)=>q+J.remainingAmount,0);G.setFontSize(18);const le=o("debtReportFor",{name:$.name});G.text(le,G.internal.pageSize.getWidth()/2,20,{align:"center"}),G.setFontSize(12),G.text(`${o("customer")}: ${$.name}`,14,30),G.text(`${o("phone")}: ${$.phone}`,14,36),$.email&&G.text(`${o("email")}: ${$.email}`,14,42),G.setFontSize(14),G.setFont("Amiri","bold"),G.text(`${o("totalDebt")}: ${ne.toFixed(2)} DH`,14,52),G.setFont("Amiri","normal");const L=[];Y.forEach(q=>{const J=new Date(q.date).toLocaleDateString(R);L.push([{content:`${o("invoiceNumber")} ${q.id.slice(-6).toUpperCase()} | ${J} | Total: ${q.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${q.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),q.items.forEach(te=>{L.push([`  ${te.name}`,te.quantity,te.price.toFixed(2),(te.quantity*te.price).toFixed(2)])})}),v0(G,{startY:60,head:[[o("products"),o("quantity"),o("price"),o("total")]],body:L,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(q){q.column.index>0&&q.cell.raw.colSpan===void 0&&(q.cell.styles.halign="center")}})}),G.save("rapport-dettes-clients.pdf")};return m.jsxs(m.Fragment,{children:[c&&m.jsx(t_e,{customer:c,debt:T.get(c.id)||0,onClose:()=>f(null),onPayDebt:a,t:o}),p&&m.jsx(e_e,{customer:p,sales:n,debt:T.get(p.id)||0,onClose:()=>h(null),t:o,language:s}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(pS,{}),o("addNewCustomer")]}),m.jsx("form",{onSubmit:I,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("name")}),m.jsx("input",{type:"text",id:"name",value:l.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:D,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("phone")}),m.jsx("input",{type:"tel",id:"phone",value:l.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:D,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[o("email")," (",o("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:l.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:D})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:o("addNewCustomer")})]})}),v&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${v.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:v.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:o("customerList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:o("searchByName"),value:w,onChange:F=>y(F.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:U,className:"bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(zv,{className:"w-4 h-4"})," ",o("printAllDebtReports")]}),m.jsxs("button",{onClick:O,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(ma,{className:"w-4 h-4"})," ",o("exportToPdf")]})]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("email")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("debt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:o("actions")})]})}),m.jsx("tbody",{children:k.map(F=>{const G=T.get(F.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:F.name}),m.jsx("td",{className:"px-6 py-4",children:F.phone}),m.jsx("td",{className:"px-6 py-4",children:F.email||"N/A"}),m.jsxs("td",{className:`px-6 py-4 font-bold ${G>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[G.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsxs("div",{className:"flex items-center gap-2",children:[G>0&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>f(F),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200 dark:hover:bg-green-800/50",children:o("manageDebt")}),m.jsx("button",{onClick:()=>M(F),className:"text-cyan-600 hover:text-cyan-700 p-1 rounded-full hover:bg-cyan-100 dark:hover:bg-cyan-900/50",title:o("printDebtReport"),children:m.jsx(gq,{className:"w-5 h-5"})})]}),m.jsx("button",{onClick:()=>h(F),className:"text-blue-600 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50",title:o("history"),children:m.jsx(fq,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>B(F),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:o("delete"),children:m.jsx(si,{className:"w-5 h-5"})})]})})]},F.id)})})]}),E>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>S(F=>Math.max(1,F-1)),disabled:x===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("previous"),children:m.jsx($A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[o("page")," ",x," / ",E]}),m.jsx("button",{onClick:()=>S(F=>Math.min(E,F+1)),disabled:x===E,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("next"),children:m.jsx(FA,{className:"w-5 h-5"})})]}),k.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:o(w?"noResultsFound":"noCustomersAdded")})]})]})]})]})},r_e=({supplier:t,purchases:e,onClose:n,t:r,language:i})=>{const a=i==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("purchaseHistoryFor",{name:t.name})}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:r("noPurchasesYet")}):m.jsx("ul",{className:"space-y-4",children:e.slice().reverse().map(o=>m.jsxs("li",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[r("purchaseDate"),": ",new Date(o.date).toLocaleDateString(a)]}),o.reference&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[r("reference"),": ",o.reference]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[o.totalAmount.toFixed(2)," DH"]}),o.remainingAmount>0&&m.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[r("remainingDebt"),": ",o.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{children:[m.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:r("purchaseDetails")}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm mt-2 text-slate-700 dark:text-slate-600",children:[m.jsx("thead",{className:"bg-gray-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:m.jsxs("tr",{className:i==="ar"?"text-right":"text-left",children:[m.jsx("th",{className:"p-2 font-semibold",children:r("products")}),m.jsx("th",{className:"p-2 font-semibold text-center",children:r("quantity")}),m.jsx("th",{className:"p-2 font-semibold text-center",children:r("purchasePrice")}),m.jsx("th",{className:"p-2 font-semibold",children:r("total")})]})}),m.jsx("tbody",{children:o.items.map((s,l)=>m.jsxs("tr",{className:`border-b dark:border-slate-600 ${i==="ar"?"text-right":"text-left"}`,children:[m.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[s.productName," - ",s.variantName]}),m.jsx("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:s.quantity}),m.jsxs("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:[s.purchasePrice.toFixed(2)," DH"]}),m.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[(s.quantity*s.purchasePrice).toFixed(2)," DH"]})]},s.variantId+l))})]})})]})]},o.id))})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})})]})})},i_e=({supplier:t,products:e,variants:n,categories:r,onClose:i,onSave:a,addProduct:o,t:s,storeId:l})=>{const[u,c]=ie.useState([]),[f,p]=ie.useState(""),[h,v]=ie.useState(!1),[b,w]=ie.useState(""),[y,x]=ie.useState(""),[S,T]=ie.useState(""),[C,k]=ie.useState([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}]),[E,D]=ie.useState("cash"),[I,B]=ie.useState(""),O=de.useRef(null),M=de.useRef(null),[U,F]=ie.useState(null),G=ie.useMemo(()=>u.reduce((Z,he)=>Z+he.quantity*he.purchasePrice,0),[u]);ie.useEffect(()=>{B(G>0?G:"")},[G]);const R=G-(typeof I=="number"?I:0),$=()=>{var me;const Z=(me=M.current)==null?void 0:me.value;if(!Z||!U)return;const he=n.find(ce=>ce.id===Z);he&&(c(ce=>[...ce,{variantId:he.id,productId:U.id,productName:U.name,variantName:he.name,quantity:1,purchasePrice:he.purchasePrice||0}]),F(null))},V=()=>{k(Z=>[...Z,{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},Y=Z=>{k(he=>he.filter((me,ce)=>ce!==Z))},ne=(Z,he,me)=>{const ce=[...C];ce[Z][he]=me,k(ce)},le=Z=>{if(Z.target.files&&Z.target.files[0]){const he=Z.target.files[0],me=new FileReader;me.onloadend=()=>{x(me.result)},me.readAsDataURL(he)}},L=(Z,he)=>{if(he.target.files&&he.target.files[0]){const me=he.target.files[0],ce=new FileReader;ce.onloadend=()=>{const je=[...C];je[Z].image=ce.result,k(je)},ce.readAsDataURL(me)}},q=async Z=>{if(Z.preventDefault(),!b||C.some(Re=>!Re.name||Re.price<=0||Re.purchasePrice<=0||Re.price<=Re.purchasePrice)){alert(s("sellingPriceMustBeHigherError"));return}const he={name:b,image:y||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(b)}`,type:"good",storeId:l,createdAt:new Date().toISOString(),supplierId:t.id,categoryId:S||void 0},{product:me,variants:ce}=await o(he,C),je=ce.map((Re,Ce)=>({variantId:Re.id,productId:me.id,productName:me.name,variantName:Re.name,quantity:C[Ce].stockQuantity||1,purchasePrice:Re.purchasePrice}));c(Re=>[...Re,...je]),v(!1),w(""),x(""),T(""),k([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},J=(Z,he,me)=>{const ce=[...u];ce[Z]={...ce[Z],[he]:Math.max(0,me)},c(ce)},te=Z=>{c(u.filter((he,me)=>me!==Z))},X=async()=>{if(u.length===0){alert(s("noProductsInPurchase"));return}const Z={storeId:l,supplierId:t.id,date:new Date().toISOString(),items:u,totalAmount:G,reference:f,amountPaid:typeof I=="number"?I:0,paymentMethod:E,remainingAmount:R};await a(Z),i()},se=e.filter(Z=>Z.type==="good"&&!u.some(he=>he.productId===Z.id)),ue=n.filter(Z=>Z.productId===(U==null?void 0:U.id)&&!u.some(he=>he.variantId===Z.id));return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:s("newPurchaseFor",{name:t.name})}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("reference")}),m.jsx("input",{type:"text",value:f,onChange:Z=>p(Z.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:s("referencePlaceholder")})]}),m.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[m.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:s("addProductsToPurchase")}),h?m.jsxs("form",{onSubmit:q,className:"space-y-4 p-4 border-2 border-dashed rounded-lg bg-white dark:bg-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h5",{className:"font-bold text-gray-700 dark:text-gray-300 text-lg",children:s("productInfo")}),m.jsx("button",{type:"button",onClick:()=>v(!1),className:"text-sm text-red-600 hover:underline",children:s("cancel")})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:y||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${s("productImagePreview")}`,alt:"Product Preview",className:"w-24 h-24 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:le,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 gap-4",children:[m.jsx("input",{type:"text",value:b,onChange:Z=>w(Z.target.value),placeholder:s("productNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500 text-base",required:!0}),m.jsxs("select",{value:S,onChange:Z=>T(Z.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",children:[m.jsx("option",{value:"",children:s("selectCategory")}),r.map(Z=>m.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]}),m.jsxs("div",{className:"flex justify-between items-center mb-4 mt-4 pt-4 border-t-2 border-dashed dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:s("productVariants")}),m.jsxs("button",{type:"button",onClick:V,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(Sl,{className:"w-5 h-5"}),s("addVariant")]})]}),C.map((Z,he)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-600/50 rounded-lg border dark:border-slate-500 relative",children:[m.jsx("button",{type:"button",onClick:()=>Y(he),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 text-red-500 hover:text-red-700 z-10",children:m.jsx(si,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:Z.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${s("variants")}`,alt:"variant",className:"w-20 h-20 object-cover rounded-lg mb-2 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:me=>L(he,me),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("variantName")}),m.jsx("input",{type:"text",value:Z.name,onChange:me=>ne(he,"name",me.target.value),placeholder:s("variantNamePlaceholder"),className:"w-full text-sm p-2 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("stockQuantity")}),m.jsx("input",{type:"number",value:Z.stockQuantity,onChange:me=>ne(he,"stockQuantity",parseFloat(me.target.value)||0),className:"w-full text-sm p-2 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500",min:"0",step:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("purchasePrice")}),m.jsx("input",{type:"number",value:Z.purchasePrice,onChange:me=>ne(he,"purchasePrice",parseFloat(me.target.value)||0),className:"w-full text-sm p-2 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("sellingPrice")}),m.jsx("input",{type:"number",value:Z.price,onChange:me=>ne(he,"price",parseFloat(me.target.value)||0),className:"w-full text-sm p-2 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("barcode")}),m.jsx("input",{type:"text",value:Z.barcode||"",onChange:me=>ne(he,"barcode",me.target.value),placeholder:s("barcodePlaceholder"),className:"w-full text-sm p-2 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500"})]})]})]})]},he)),m.jsx("button",{type:"submit",className:"w-full mt-4 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:s("saveAndAddToList")})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("select",{ref:O,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",onChange:Z=>F(e.find(he=>he.id===Z.target.value)||null),children:[m.jsx("option",{value:"",children:s("selectProducts")}),se.map(Z=>m.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),U&&m.jsxs(m.Fragment,{children:[m.jsxs("select",{ref:M,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",children:[m.jsx("option",{value:"",children:s("selectVariant")}),ue.map(Z=>m.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),m.jsx("button",{onClick:$,className:"bg-teal-600 text-white font-bold p-2 px-3 rounded-lg hover:bg-teal-700 flex items-center justify-center",children:m.jsx(Sl,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"text-center mt-4 p-3 bg-slate-100 dark:bg-slate-600 rounded-lg flex items-center justify-center gap-4",children:[m.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:s("orAddNewProductPrompt")}),m.jsx("button",{type:"button",onClick:()=>v(!0),className:"font-semibold text-teal-700 dark:text-teal-300 bg-teal-200 dark:bg-teal-800/50 hover:bg-teal-300 dark:hover:bg-teal-800 px-4 py-2 rounded-lg transition-colors text-sm",children:s("addNewProductButton")})]})]})]}),m.jsx("div",{className:"space-y-2",children:u.map((Z,he)=>m.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("span",{className:"flex-grow font-semibold text-slate-700 dark:text-slate-200 text-sm",children:[Z.productName," - ",Z.variantName]}),m.jsx("input",{type:"number",value:Z.quantity,onChange:me=>J(he,"quantity",parseFloat(me.target.value)),className:"w-20 text-center p-1 border rounded-md bg-white dark:bg-slate-700 dark:border-slate-600",min:"0.5",step:"0.5"}),m.jsx("input",{type:"number",value:Z.purchasePrice,onChange:me=>J(he,"purchasePrice",parseFloat(me.target.value)),className:"w-24 text-center p-1 border rounded-md bg-white dark:bg-slate-700 dark:border-slate-600",min:"0",step:"0.01"}),m.jsxs("span",{className:"w-24 font-bold text-slate-800 dark:text-slate-100",children:[(Z.quantity*Z.purchasePrice).toFixed(2)," DH"]}),m.jsx("button",{onClick:()=>te(he),className:"text-red-500 hover:text-red-700",children:m.jsx(si,{className:"w-5 h-5"})})]},he))})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[s("paymentMethod"),":"]}),m.jsxs("select",{value:E,onChange:Z=>D(Z.target.value),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"cash",children:s("cash")}),m.jsx("option",{value:"card",children:s("card")}),m.jsx("option",{value:"transfer",children:s("transfer")}),m.jsx("option",{value:"check",children:s("check")})]})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[s("amountPaid"),":"]}),m.jsx("input",{type:"number",value:I,onChange:Z=>B(Z.target.value===""?"":parseFloat(Z.target.value)),className:"w-48 px-2 py-1 border rounded-md text-right bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),R>0&&m.jsxs("div",{className:"flex justify-between items-center font-bold text-red-600 dark:text-red-400",children:[m.jsxs("span",{children:[s("remainingDebt"),":"]}),m.jsxs("span",{children:[R.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-slate-700 rounded-lg text-right rtl:text-left",children:[m.jsx("p",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:s("totalAmount")}),m.jsxs("p",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:[G.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:i,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:s("cancel")}),m.jsx("button",{onClick:X,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:s("completePurchase")})]})]})]})})},rx=10,a_e=({storeId:t,suppliers:e,products:n,variants:r,purchases:i,categories:a,addSupplier:o,deleteSupplier:s,addPurchase:l,updatePurchase:u,addProduct:c,t:f,language:p})=>{const[h,v]=ie.useState({name:"",phone:"",email:""}),[b,w]=ie.useState(null),[y,x]=ie.useState(null),[S,T]=ie.useState(null),[C,k]=ie.useState(null),[E,D]=ie.useState(""),[I,B]=ie.useState(1),[O,M]=ie.useState(""),U=ie.useMemo(()=>{const q=new Map;return i.forEach(J=>{if(J.supplierId&&J.remainingAmount>0){const te=q.get(J.supplierId)||0;q.set(J.supplierId,te+J.remainingAmount)}}),q},[i]),F=ie.useMemo(()=>{const q=new Map;return i.forEach(J=>{if(J.supplierId){const te=q.get(J.supplierId)||[];te.push(J),q.set(J.supplierId,te)}}),q},[i]);ie.useEffect(()=>{B(1)},[O]);const G=ie.useMemo(()=>O?e.filter(q=>q.name.toLowerCase().includes(O.toLowerCase())):e,[e,O]),R=ie.useMemo(()=>{const q=(I-1)*rx;return G.slice(q,q+rx)},[G,I]),$=Math.ceil(G.length/rx),V=()=>setTimeout(()=>w(null),4e3),Y=async q=>{if(q.preventDefault(),w(null),!h.name||!h.phone){w({type:"error",message:f("nameAndPhoneRequired")}),V();return}if(e.some(J=>J.phone.trim()===h.phone.trim())){w({type:"error",message:f("supplierExistsError",{phone:h.phone.trim()})}),V();return}await o({...h,storeId:t}),v({name:"",phone:"",email:""}),w({type:"success",message:f("supplierAddedSuccess",{name:h.name})}),V()},ne=async q=>{if(w(null),window.confirm(f("confirmSupplierDelete",{name:q.name}))){try{await s(q.id),w({type:"success",message:f("supplierDeletedSuccess",{name:q.name})})}catch(J){const te=U.get(q.id)||0,X=f(J.message||"supplierDeleteError",{name:q.name,debt:te.toFixed(2)});w({type:"error",message:X})}V()}},le=async()=>{if(!C)return;const q=parseFloat(E),J=U.get(C.id)||0;if(isNaN(q)||q<=0||q>J){alert(f("enterValidPayment"));return}const te={storeId:t,supplierId:C.id,date:new Date().toISOString(),items:[],totalAmount:0,amountPaid:-q,remainingAmount:-q,paymentMethod:"cash",reference:"Paiement dette"};await l(te),w({type:"success",message:f("paymentRecorded")}),V(),k(null),D("")},L=()=>{const q=[f("name"),f("phone"),f("email"),f("debt")],J=e.map(te=>[te.name,te.phone,te.email||"N/A",`${(U.get(te.id)||0).toFixed(2)} DH`]);Va(f("supplierList"),q,J,"suppliers_report",p,f("noDataToExport"))};return m.jsxs(m.Fragment,{children:[y&&m.jsx(r_e,{supplier:y,purchases:F.get(y.id)||[],onClose:()=>x(null),t:f,language:p}),S&&m.jsx(i_e,{supplier:S,products:n,variants:r,categories:a,onClose:()=>T(null),onSave:l,addProduct:c,t:f,storeId:t}),C&&m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[f("managePayments")," - ",C.name]}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[f("supplierDebt"),": ",m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[(U.get(C.id)||0).toFixed(2)," DH"]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:f("amountToPay")}),m.jsx("input",{type:"number",id:"paymentAmount",value:E,onChange:q=>D(q.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",min:"0.01",step:"0.01"})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:()=>k(null),className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:f("cancel")}),m.jsx("button",{onClick:le,disabled:!E,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f("recordPayment")})]})]})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(kO,{}),f("addNewSupplier")]}),m.jsxs("form",{onSubmit:Y,className:"grid sm:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"sm:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:f("name")}),m.jsx("input",{type:"text",id:"name",value:h.name,onChange:q=>v({...h,name:q.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"sm:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:f("phone")}),m.jsx("input",{type:"tel",id:"phone",value:h.phone,onChange:q=>v({...h,phone:q.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"sm:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[f("email")," (",f("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:h.email,onChange:q=>v({...h,email:q.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:f("addNewSupplier")})]}),b&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${b.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:b.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:f("supplierList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:f("searchByName"),value:O,onChange:q=>M(q.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("button",{onClick:L,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 flex items-center gap-2 text-sm",children:[m.jsx(ma,{className:"w-4 h-4"}),f("exportToPdf")]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("email")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("supplierDebt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:f("actions")})]})}),m.jsx("tbody",{children:R.map(q=>{const J=U.get(q.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:q.name}),m.jsx("td",{className:"px-6 py-4",children:q.phone}),m.jsx("td",{className:"px-6 py-4",children:q.email||"N/A"}),m.jsx("td",{className:`px-6 py-4 font-bold ${J>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:J>0?`${J.toFixed(2)} DH`:f("noDebt")}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-start gap-2",children:[m.jsx("button",{onClick:()=>T(q),className:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800/50",children:f("newPurchase")}),m.jsx("button",{onClick:()=>x(q),className:"bg-gray-100 text-gray-800 dark:bg-slate-900/50 dark:text-slate-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-gray-200 dark:hover:bg-slate-800/50",children:f("history")}),J>0&&m.jsx("button",{onClick:()=>k(q),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200 dark:hover:bg-green-800/50",children:f("managePayments")}),m.jsx("button",{onClick:()=>ne(q),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",children:m.jsx(si,{className:"w-5 h-5"})})]})})]},q.id)})})]}),$>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>B(q=>Math.max(1,q-1)),disabled:I===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("previous"),children:m.jsx($A,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[f("page")," ",I," / ",$]}),m.jsx("button",{onClick:()=>B(q=>Math.min($,q+1)),disabled:I===$,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("next"),children:m.jsx(FA,{className:"w-5 h-5"})})]}),R.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:f(O?"noResultsFound":"noSuppliersAdded")})]})]})]})]})},o_e=({category:t,onClose:e,onSave:n,t:r})=>{const[i,a]=ie.useState(t.name),o=s=>{s.preventDefault(),n({...t,name:i.trim()})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editCategory")}),m.jsxs("form",{onSubmit:o,children:[m.jsx("label",{htmlFor:"editCategoryName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("categoryName")}),m.jsx("input",{id:"editCategoryName",type:"text",value:i,onChange:s=>a(s.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},s_e=({storeId:t,categories:e,addCategory:n,updateCategory:r,deleteCategory:i,t:a,language:o})=>{const[s,l]=ie.useState(""),[u,c]=ie.useState(null),[f,p]=ie.useState(null),h=()=>{setTimeout(()=>c(null),4e3)},v=async y=>{y.preventDefault(),c(null);const x=s.trim();if(!x){c({type:"error",message:a("categoryNameEmptyError")}),h();return}if(e.some(S=>S.name.toLowerCase()===x.toLowerCase())){c({type:"error",message:a("categoryExistsError",{name:x})}),h();return}await n({name:x,storeId:t}),l(""),c({type:"success",message:a("categoryAddedSuccess",{name:x})}),h()},b=async y=>{if(c(null),!y.name){c({type:"error",message:a("categoryNameEmptyError")}),h();return}if(e.some(x=>x.name.toLowerCase()===y.name.toLowerCase()&&x.id!==y.id)){c({type:"error",message:a("categoryExistsError",{name:y.name})}),h();return}await r(y),p(null),c({type:"success",message:a("categoryUpdatedSuccess",{name:y.name})}),h()},w=async y=>{if(c(null),window.confirm(a("confirmCategoryDelete",{name:y.name}))){try{await i(y.id),c({type:"success",message:a("categoryDeletedSuccess",{name:y.name})})}catch{c({type:"error",message:a("categoryDeleteError")})}h()}};return m.jsxs(m.Fragment,{children:[f&&m.jsx(o_e,{category:f,onClose:()=>p(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(PO,{}),a("addNewCategory")]}),m.jsxs("form",{onSubmit:v,className:"grid sm:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("categoryName")}),m.jsx("input",{type:"text",id:"name",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("add")})]}),u&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${u.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:u.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:a("categoryList")}),m.jsxs("div",{className:"mt-4 overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("categoryName")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right rtl:text-left",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(y=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:y.name}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{onClick:()=>p(y),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:a("edit"),children:m.jsx(Hv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>w(y),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:a("delete"),children:m.jsx(si,{className:"w-5 h-5"})})]})})]},y.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noCategoriesAdded")})]})]})]})]})},l_e=({service:t,onClose:e,onSave:n,t:r})=>{const[i,a]=ie.useState(t),o=l=>{const{id:u,value:c}=l.target;a(f=>({...f,[u]:l.target.type==="number"?parseFloat(c)||0:c}))},s=l=>{l.preventDefault(),n(i)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editService")}),m.jsxs("form",{onSubmit:s,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("serviceName")}),m.jsx("input",{type:"text",id:"name",value:i.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("price")}),m.jsx("input",{type:"number",id:"price",value:i.price,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:i.priceSemiWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:i.priceWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},u_e=({storeId:t,services:e,addService:n,updateService:r,deleteService:i,t:a})=>{const[o,s]=ie.useState({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),[l,u]=ie.useState(null),[c,f]=ie.useState(null),p=w=>{const{id:y,value:x}=w.target;s(S=>({...S,[y]:w.target.type==="number"?parseFloat(x)||0:x}))},h=async w=>{if(w.preventDefault(),f(null),!o.name||o.price<=0){f({type:"error",message:a("fillNameAndPriceError")});return}const y={name:o.name,price:o.price,priceSemiWholesale:o.priceSemiWholesale||void 0,priceWholesale:o.priceWholesale||void 0,type:"service",storeId:t,image:`https://via.placeholder.com/200/e9d5ff/a855f7?text=${encodeURIComponent(a("services"))}`,createdAt:new Date().toISOString()};await n(y),s({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),f({type:"success",message:a("serviceAddedSuccess",{name:o.name})}),setTimeout(()=>f(null),4e3)},v=async w=>{window.confirm(a("confirmServiceDelete"))&&await i(w)},b=async w=>{if(f(null),!w.name||(w.price??0)<=0){f({type:"error",message:a("fillNameAndPriceError")});return}await r(w),u(null),f({type:"success",message:a("serviceUpdatedSuccess",{name:w.name})}),setTimeout(()=>f(null),4e3)};return m.jsxs(m.Fragment,{children:[l&&m.jsx(l_e,{service:l,onClose:()=>u(null),onSave:b,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(_l,{}),a("addNewService")]}),m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("serviceName")}),m.jsx("input",{type:"text",id:"name",value:o.name,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:a("serviceNamePlaceholder"),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("sellingPrice")}),m.jsx("input",{type:"number",id:"price",value:o.price,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:o.priceSemiWholesale,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:o.priceWholesale,onChange:p,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("saveService")})]}),c&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:a("serviceList")}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("serviceName")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("price")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(w=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:w.name}),m.jsxs("td",{className:"px-6 py-4",children:[(w.price??0).toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:()=>u(w),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Hv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>v(w.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(si,{className:"w-5 h-5"})})]})})]},w.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noServicesAdded")})]})]})]})]})},c_e=({sale:t,mode:e,onClose:n,store:r,customers:i,t:a,language:o})=>{ie.useEffect(()=>{const w=setTimeout(()=>{window.print()},300);return()=>clearTimeout(w)},[]);const s=()=>{window.print()},l=t.customerId?i.find(w=>w.id===t.customerId):null,u=o==="ar"?"ar-MA":"fr-FR",c=w=>{if(o==="ar")return w.toFixed(2);const y=Math.floor(w),x=Math.round((w-y)*100),S=["","UN","DEUX","TROIS","QUATRE","CINQ","SIX","SEPT","HUIT","NEUF"],T=["DIX","ONZE","DOUZE","TREIZE","QUATORZE","QUINZE","SEIZE","DIX-SEPT","DIX-HUIT","DIX-NEUF"],C=["","DIX","VINGT","TRENTE","QUARANTE","CINQUANTE","SOIXANTE","SOIXANTE-DIX","QUATRE-VINGT","QUATRE-VINGT-DIX"],k=O=>{if(O===0)return"";let M="";if(O>=100){const U=Math.floor(O/100);M+=(U>1?S[U]+" ":"")+"CENT"+(O%100===0&&U>1?"S":""),O%=100,O>0&&(M+=" ")}if(O>=20){const U=Math.floor(O/10);M+=C[U];const F=O%10;F>0&&(M+=(F===1&&U<8?" ET ":"-")+S[F])}else O>=10?M+=T[O-10]:O>0&&(M+=S[O]);return M};if(w===0)return"ZRO";let E="";const D=Math.floor(y/1e6);D>0&&(E+=k(D)+" MILLION"+(D>1?"S":"")+" ");const I=Math.floor(y%1e6/1e3);I>0&&(E+=(I===1?"":k(I)+" ")+"MILLE ");const B=y%1e3;return B>0&&(E+=k(B)),E=E.trim()+" DIRHAMS",x>0&&(E+=" ET "+k(x)+" CENTIMES"),E.toUpperCase()},f=t.total,p=e==="invoice"?f/1.2:f,h=e==="invoice"?f-p:0,v=a(e==="invoice"?"invoiceTitle":"orderFormTitle"),b=c(f);return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",dir:o==="ar"?"rtl":"ltr",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:v}),m.jsx("p",{className:"text-sm font-semibold",children:r.name}),r.address?m.jsx("p",{className:"text-xs",children:r.address}):m.jsx("p",{className:"text-xs",children:a("invoiceAddress")}),r.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",r.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:a("billNumber")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[a("date"),":"]})," ",new Date(t.date).toLocaleString(u)]}),l&&m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customer"),":"]})," ",l.name]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:a("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a(e==="invoice"?"prixHT":"price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("total")})]})}),m.jsx("tbody",{children:t.items.map(w=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:w.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:w.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:(e==="invoice"?w.price/1.2:w.price).toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(w.price*w.quantity/(e==="invoice"?1.2:1)).toFixed(2)})]},w.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsxs("div",{className:"col-start-2",children:[m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("totalHT"),":"]}),m.jsxs("span",{className:"font-semibold",children:[p.toFixed(2)," DH"]})]}),e==="invoice"&&m.jsxs("div",{className:"flex justify-between py-1",children:[m.jsxs("span",{children:[a("vat"),":"]}),m.jsxs("span",{className:"font-semibold",children:[h.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t-2 border-slate-400 mt-1",children:[m.jsxs("span",{children:[a("totalTTC"),":"]}),m.jsxs("span",{children:[f.toFixed(2)," DH"]})]})]})})}),e==="invoice"&&o==="fr"&&m.jsxs("p",{className:"text-xs mt-4 p-2 bg-slate-100 rounded-md",children:["Arrt la prsente facture  la somme de : ",b]}),m.jsx("p",{className:"text-center text-xs mt-6",children:a("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")}),m.jsx("button",{onClick:s,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:a("print")})]})]})})},f_e=({returnObject:t,onClose:e,store:n,t:r,language:i})=>{ie.useEffect(()=>{const l=setTimeout(()=>{window.print()},300);return()=>clearTimeout(l)},[]);const a=()=>{window.print()},o=i==="ar"?"ar-MA":"fr-FR",s=r("returnReceiptTitle");return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:s}),m.jsx("p",{className:"text-sm font-semibold",children:n.name}),n.address?m.jsx("p",{className:"text-xs",children:n.address}):m.jsx("p",{className:"text-xs",children:r("invoiceAddress")}),n.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",n.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:r("returnIdLabel")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("date"),":"]})," ",new Date(t.date).toLocaleString(o)]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:r("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("total")})]})}),m.jsx("tbody",{children:t.items.map(l=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:l.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.price.toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(l.price*l.quantity).toFixed(2)})]},l.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsx("div",{className:"col-start-2",children:m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{children:r("refundAmountLabel")}),m.jsxs("span",{children:[t.refundAmount.toFixed(2)," DH"]})]})})})}),m.jsx("p",{className:"text-center text-xs mt-6",children:r("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")}),m.jsx("button",{onClick:a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("print")})]})]})})},d_e=({products:t,variants:e,suppliers:n,t:r})=>e.length===0?null:m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 border-r-4 rtl:border-l-4 rtl:border-r-0 border-orange-500 text-orange-700 dark:text-orange-300 p-4 rounded-lg shadow-md mb-6",role:"alert",children:[m.jsx("p",{className:"font-bold",children:r("lowStockAlert")}),m.jsx("p",{className:"text-sm",children:r("lowStockMessage")}),m.jsx("ul",{className:"list-disc list-inside mr-2 rtl:ml-2 rtl:mr-0 mt-2 text-sm",children:e.map(i=>{var o;const a=t.find(s=>s.id===i.productId);return a?m.jsxs("li",{children:[m.jsxs("strong",{children:[a.name," - ",i.name]}),a.supplierId&&m.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:[" (",r("suppliers"),": ",((o=n.find(s=>s.id===a.supplierId))==null?void 0:o.name)||r("unknown"),")"]})]},i.id):null})})]}),h_e=({store:t,t:e})=>{if(!t.trialStartDate)return null;const n=new Date(t.trialStartDate),r=new Date(n);r.setDate(n.getDate()+(t.trialDurationDays??7));const i=r.getTime()-new Date().getTime();if(i<=0)return null;const a=Math.ceil(i/(1e3*60*60*24));return m.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 text-center p-2 text-sm font-semibold sticky top-0 z-40",children:e("trialDaysRemaining",{days:a})})},p_e=({activeUser:t,store:e,storeId:n,users:r,addUser:i,updateUser:a,deleteUser:o,onUpdateStore:s,onBackup:l,onRestore:u,t:c})=>{const[f,p]=ie.useState(null),[h,v]=ie.useState({name:"",role:"seller",secret:""}),[b,w]=ie.useState({name:e.name,address:e.address,ice:e.ice,enableAiReceiptScan:e.enableAiReceiptScan}),[y,x]=ie.useState(null),S=de.useRef(null),T=M=>{const{id:U,value:F}=M.target;v(G=>({...G,[U]:F}))},C=M=>{const{id:U,value:F,type:G,checked:R}=M.target;w($=>({...$,[U]:G==="checkbox"?R:F}))},k=(M,U)=>{x({type:M,message:U}),setTimeout(()=>x(null),4e3)},E=async M=>{if(M.preventDefault(),!h.name||!h.secret){k("error",c("fillAllFieldsError"));return}if(r.some(G=>G.name.toLowerCase()===h.name.trim().toLowerCase())){k("error",c("userExistsError"));return}const U={storeId:n,name:h.name.trim(),role:h.role,...h.role==="admin"?{password:h.secret}:{pin:h.secret}},F=await i(U);F&&(k("success",c("userAddedSuccess",{name:F.name})),v({name:"",role:"seller",secret:""}))},D=async(M,U)=>{const F={...M,...M.role==="admin"?{password:U}:{pin:U}};await a(F),k("success",c("userUpdatedSuccess",{name:M.name})),p(null)},I=async M=>{if(M.id===t.id){alert("You cannot delete your own account.");return}if(window.confirm(c("confirmUserDelete",{name:M.name})))try{await o(M.id),k("success",c("userDeletedSuccess",{name:M.name}))}catch{k("error",c("userDeleteError"))}},B=async M=>{M.preventDefault(),await s(b),k("success",c("storeUpdatedSuccess"))},O=M=>{var G;const U=(G=M.target.files)==null?void 0:G[0];if(!U)return;const F=new FileReader;F.onload=async R=>{var V;const $=(V=R.target)==null?void 0:V.result;typeof $=="string"&&await u($)},F.readAsText(U),M.target.value=""};return m.jsxs("div",{className:"space-y-8",children:[y&&m.jsx("div",{className:`fixed top-5 right-5 z-50 p-4 rounded-lg shadow-lg text-sm font-semibold ${y.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:y.message}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("userManagement")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("manageUsersAndPins")}),m.jsxs("form",{onSubmit:E,className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("userName")}),m.jsx("input",{type:"text",id:"name",value:h.name,onChange:T,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("userRole")}),m.jsxs("select",{id:"role",value:h.role,onChange:T,className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",children:[m.jsx("option",{value:"seller",children:c("seller")}),m.jsx("option",{value:"admin",children:c("admin")})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"secret",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:h.role==="admin"?c("password"):c("pin")}),m.jsx("input",{type:"text",id:"secret",value:h.secret,onChange:T,placeholder:h.role==="seller"?c("pinInfo"):"",className:"w-full px-4 py-2 border rounded-lg bg-white dark:bg-slate-700",required:!0})]}),m.jsxs("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center justify-center gap-2",children:[m.jsx(MO,{className:"w-5 h-5"})," ",c("addUser")]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-600 dark:text-slate-300 mb-2",children:c("userList")}),m.jsx("div",{className:"space-y-2",children:r.map(M=>m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:M.name}),m.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:c(M.role)})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[(f==null?void 0:f.id)===M.id?m.jsx("input",{type:"text",placeholder:c(M.role==="admin"?"newPassword":"newPin"),onBlur:U=>D(M,U.target.value),onKeyDown:U=>U.key==="Enter"&&D(M,U.target.value),className:"w-32 px-2 py-1 border rounded-md bg-white dark:bg-slate-600",autoFocus:!0}):m.jsx("button",{onClick:()=>p(M),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:c("edit"),children:m.jsx(OO,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>I(M),disabled:M.id===t.id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed",title:c("delete"),children:m.jsx(si,{className:"w-5 h-5"})})]})]},M.id))})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("storeSettings")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("updateStoreSettings")}),m.jsxs("form",{onSubmit:B,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("storeName")}),m.jsx("input",{type:"text",id:"name",value:b.name,onChange:C,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("address")}),m.jsx("input",{type:"text",id:"address",value:b.address,onChange:C,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"ice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("ice")}),m.jsx("input",{type:"text",id:"ice",value:b.ice,onChange:C,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[m.jsx("input",{type:"checkbox",id:"enableAiReceiptScan",checked:b.enableAiReceiptScan,onChange:C,className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),m.jsx("label",{htmlFor:"enableAiReceiptScan",className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:c("aiScanEnabled")})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[m.jsx(hS,{className:"w-5 h-5"})," ",c("updateStore")]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-1",children:c("dataManagement")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[m.jsx(ma,{}),c("backupData")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-3",children:c("backupDataDesc")}),m.jsx("button",{onClick:l,className:"w-full bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700",children:c("backupButton")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[m.jsx(Aq,{}),c("restoreData")]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 mb-3",children:c("restoreDataDesc")}),m.jsx("input",{type:"file",ref:S,onChange:O,className:"hidden",accept:".json"}),m.jsx("button",{onClick:()=>{var M;return(M=S.current)==null?void 0:M.click()},className:"w-full bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700",children:c("restoreButton")})]})]})]})]})};function A_e(t,e){const n=localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing JSON from localStorage",r),localStorage.removeItem(t)}return e instanceof Function?e():e}function GP(t,e){const[n,r]=ie.useState(()=>A_e(t,e));return ie.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch(i){console.error("Error setting item to localStorage",i)}},[t,n]),[n,r]}const m_e="pos-app-db",g_e=2;let gg=null;const v_e=()=>(gg||(gg=new Promise((t,e)=>{const n=indexedDB.open(m_e,g_e);n.onerror=()=>{console.error("IndexedDB opening error:",n.error),gg=null,e(n.error)},n.onsuccess=()=>{t(n.result)},n.onupgradeneeded=()=>{const r=n.result;Object.keys({products:[],productVariants:[],sales:[],expenses:[],users:[],returns:[],stores:[],customers:[],suppliers:[],categories:[],purchases:[],stockBatches:[]}).forEach(i=>{r.objectStoreNames.contains(i)||r.createObjectStore(i,{keyPath:"id"})})}})),gg);function Ha(t){const[e,n]=ie.useState([]),r=ie.useCallback(async c=>(await v_e()).transaction(t,c).objectStore(t),[t]),i=ie.useCallback(async()=>{const f=(await r("readonly")).getAll();return new Promise((p,h)=>{f.onsuccess=()=>p(f.result),f.onerror=()=>h(f.error)})},[r]);ie.useEffect(()=>{i().then(n).catch(console.error)},[i]);const a=ie.useCallback(async c=>{const p=(await r("readwrite")).add(c);return new Promise((h,v)=>{p.onsuccess=()=>{n(b=>[...b,c]),h()},p.onerror=()=>v(p.error)})},[r]),o=ie.useCallback(async c=>{if(c.length===0)return;const f=await r("readwrite"),p=f.transaction;return c.forEach(h=>f.add(h)),new Promise((h,v)=>{p.oncomplete=()=>{n(b=>[...b,...c]),h()},p.onerror=()=>v(p.error)})},[r]),s=ie.useCallback(async c=>{const p=(await r("readwrite")).put(c);return new Promise((h,v)=>{p.onsuccess=()=>{n(b=>b.map(w=>w.id===c.id?c:w)),h()},p.onerror=()=>v(p.error)})},[r]),l=ie.useCallback(async c=>{const p=(await r("readwrite")).delete(c);return new Promise((h,v)=>{p.onsuccess=()=>{n(b=>b.filter(w=>w.id!==c)),h()},p.onerror=()=>v(p.error)})},[r]),u=ie.useCallback(async()=>{const f=(await r("readwrite")).clear();return new Promise((p,h)=>{f.onsuccess=()=>{n([]),p()},f.onerror=()=>h(f.error)})},[r]);return{data:e,setData:n,add:a,update:s,remove:l,clear:u,bulkAdd:o}}const y_e=()=>{const[t,e]=ie.useState("unauthenticated"),[n,r]=ie.useState(Sr.POS),[i,a]=ie.useState(null),[o,s]=ie.useState(null),[l,u]=GP("pos-lang","fr"),[c,f]=GP("pos-theme","light"),[p,h]=ie.useState(!0),[v,b]=ie.useState([]),[w,y]=ie.useState(null),[x,S]=ie.useState(null),{data:T,setData:C,add:k,update:E,remove:D,clear:I}=Ha("products"),{data:B,setData:O,add:M,update:U,remove:F,clear:G,bulkAdd:R}=Ha("productVariants"),{data:$,setData:V,add:Y,clear:ne}=Ha("sales"),{data:le,setData:L,add:q,update:J,remove:te,clear:X}=Ha("expenses"),{data:se,setData:ue,add:Z,remove:he,clear:me}=Ha("customers"),{data:ce,setData:je,add:Re,remove:Ce,clear:ae}=Ha("suppliers"),{data:Ne,setData:Ee,add:xe,update:Pe,remove:be,clear:ke}=Ha("categories"),{data:ye,setData:Ge,add:We,update:ot,clear:Ve}=Ha("purchases"),{data:ct,setData:et,add:ht,bulkAdd:Ye,clear:cn}=Ha("stockBatches"),{data:kt,setData:Se,add:Ue,remove:rt,clear:pt}=Ha("returns"),{data:st,setData:mn,add:Pt,update:ur,remove:ui,clear:fn}=Ha("users"),Ke=ie.useCallback((Oe,ze)=>{let At=LC[l][Oe]||LC.fr[Oe];return ze&&Object.keys(ze).forEach(an=>{At=At.replace(`{${an}}`,String(ze[an]))}),At},[l]);ie.useEffect(()=>{document.documentElement.lang=l,document.documentElement.dir=l==="ar"?"rtl":"ltr",document.documentElement.classList.toggle("dark",c==="dark")},[l,c]);const Mt=()=>f(Oe=>Oe==="light"?"dark":"light"),Pr=ie.useMemo(()=>{const Oe=new Map;return ct.forEach(ze=>{const At=Oe.get(ze.variantId)||0;Oe.set(ze.variantId,At+ze.quantity)}),$.forEach(ze=>{ze!=null&&ze.items&&ze.items.forEach(At=>{if((At==null?void 0:At.type)==="good"){const an=Oe.get(At.id)||0;Oe.set(At.id,an-At.quantity)}})}),kt.forEach(ze=>{ze!=null&&ze.items&&ze.items.forEach(At=>{if((At==null?void 0:At.type)==="good"){const an=Oe.get(At.id)||0;Oe.set(At.id,an+At.quantity)}})}),Oe},[ct,$,kt]),Hn=ie.useMemo(()=>new Map(B.map(Oe=>[Oe.id,Oe])),[B]),Zi=ie.useMemo(()=>{const Oe=new Map;return B.forEach(ze=>{const At=Oe.get(ze.productId)||[];At.push(ze),Oe.set(ze.productId,At)}),Oe},[B]),ea=ie.useMemo(()=>new Map(B.filter(Oe=>Oe.barcode).map(Oe=>[Oe.barcode,Oe])),[B]),ft=ie.useMemo(()=>B.filter(Oe=>(Pr.get(Oe.id)||0)<=Oe.lowStockThreshold),[B,Pr]),Pi=async Oe=>{h(!0);try{const[ze,At,an,Qn,Ia,ra,Eo,ko,hi,Po,Ps]=await Promise.all([P9(Oe),SO(Oe),M9(Oe),D9(Oe),O9(Oe),I9(Oe),j9(Oe),L9(Oe),R9(Oe),F9(Oe),$9(Oe)]);C(ze),O(At),V(an),L(Qn),ue(Ia),je(ra),Ee(Eo),Ge(ko),et(hi),Se(Po),mn(Ps)}catch(ze){console.error("Failed to load initial data:",ze),alert("Error loading store data. Please check your connection and try again.")}finally{h(!1)}},Mi=(Oe,ze)=>{a(Oe),s(ze),Pi(ze.id),e("authenticated")},$r=()=>e("super_admin_landing"),zn=async()=>{e("unauthenticated"),a(null),s(null),await Promise.all([I(),G(),ne(),X(),me(),ae(),ke(),Ve(),cn(),pt(),fn()])},In=()=>{e("unauthenticated")},Br=(Oe,ze)=>{Mi(Oe,ze)},Ss=()=>{if(!o)return;const ze=JSON.stringify({stores:[o],users:st,products:T,productVariants:B,sales:$,expenses:le,customers:se,suppliers:ce,categories:Ne,purchases:ye,stockBatches:ct,returns:kt},null,2),At=new Blob([ze],{type:"application/json"}),an=URL.createObjectURL(At),Qn=document.createElement("a");Qn.href=an,Qn.download=`goshop-backup-${o.name.replace(/\s/g,"_")}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Qn),Qn.click(),document.body.removeChild(Qn),URL.revokeObjectURL(an)},Oa=async Oe=>{if(window.confirm(Ke("restoreConfirm")))try{const ze=JSON.parse(Oe);if(!ze.stores||!Array.isArray(ze.stores)||ze.stores.length===0)throw new Error(Ke("restoreError"));const an=indexedDB.open("pos-app-db");an.onsuccess=Qn=>{const Ia=Qn.target.result,Eo=Object.keys(ze).filter(hi=>Ia.objectStoreNames.contains(hi)),ko=Ia.transaction(Eo,"readwrite");ko.oncomplete=()=>{localStorage.setItem("pos-license",JSON.stringify({storeId:ze.stores[0].id})),alert(Ke("restoreSuccess")),window.location.reload()},ko.onerror=hi=>{console.error("Restore transaction error:",hi.target.error),alert(Ke("restoreError"))},Eo.forEach(hi=>{const Po=ze[hi];if(Po&&Array.isArray(Po)){const Ps=ko.objectStore(hi);Ps.clear(),Po.forEach(Kd=>{Ps.put(Kd)})}})},an.onerror=()=>{alert(Ke("restoreError"))}}catch(ze){console.error("Restore failed:",ze),ze instanceof SyntaxError?alert(Ke("jsonParseError")):alert(ze.message||Ke("restoreError"))}},Ur=async(Oe,ze)=>{const{product:At,variants:an,stockBatches:Qn}=await H9(Oe,ze);return k(At),R(an),Ye(Qn),{product:At,variants:an}},ci=async(Oe,ze)=>{const{updatedVariants:At,newVariants:an,deletedVariantIds:Qn,newStockBatches:Ia}=await z9(Oe,ze);E(Oe),At.forEach(ra=>U(ra)),an.forEach(ra=>M(ra)),Qn.forEach(ra=>F(ra)),Ye(Ia)},fi=async Oe=>{await V9(Oe),D(Oe),B.filter(At=>At.productId===Oe).forEach(At=>F(At.id))},ta=async Oe=>{const{purchase:ze,newStockBatch:At,updatedVariant:an}=await G9(Oe);We(ze),ht(At),U(an)},di=async(Oe,ze,At,an)=>{const Qn=await K9(v,Oe,ze,At,i.id,o.id);Y(Qn),y({sale:Qn,mode:an}),b([])},na=async Oe=>{const ze=await J9(Oe,i.id,o.id);Ue(ze),S(ze),b([])},io=async(Oe,ze)=>{const At=await X9(Oe,ze,i.id,o.id);Y(At)},_s=async Oe=>{const ze=await Q9(Oe);return ze&&q(ze),ze},Ts=async Oe=>{await Z9(Oe),J(Oe)},Cs=async Oe=>{await eq(Oe),te(Oe)},Ns=async Oe=>{await tq(Oe),rt(Oe)},uc=async()=>{window.confirm("Are you sure you want to delete all return history?")&&(await nq(o.id),pt())},qd=async Oe=>{const ze=await rq(Oe);return ze&&Z(ze),ze},Hd=async Oe=>{await iq(Oe),he(Oe)},Es=async Oe=>{const ze=await aq(Oe);return ze&&Re(ze),ze},cc=async Oe=>{await oq(Oe),Ce(Oe)},zd=async Oe=>{const{newPurchase:ze,newStockBatches:At}=await W9(Oe);We(ze),Ye(At)},zl=async Oe=>{await Y9(Oe),ot(Oe)},Vd=async Oe=>{const ze=await sq(Oe);return ze&&xe(ze),ze},fc=async Oe=>{await lq(Oe),Pe(Oe)},Gd=async Oe=>{await uq(Oe),be(Oe)},ks=async Oe=>{const ze=await CO(Oe);return ze&&Pt(ze),ze},Wd=async Oe=>{await NO(Oe),ur(Oe)},jn=async Oe=>{await cq(Oe),ui(Oe)},dc=async Oe=>{const ze=await Og({...o,...Oe});s(ze)},hc=ie.useMemo(()=>T.filter(Oe=>Oe.type==="service"),[T]),Vl=ie.useMemo(()=>T.filter(Oe=>Oe.type==="good"),[T]);if(t==="unauthenticated")return m.jsx(vq,{onLoginSuccess:Mi,onSuperAdminLogin:$r,t:Ke,language:l,setLanguage:u,theme:c,toggleTheme:Mt});if(t==="super_admin_landing")return m.jsx(yq,{onLoginAsStoreAdmin:Br,onGoToDashboard:()=>e("super_admin_dashboard"),onLogout:In,t:Ke,language:l,setLanguage:u,theme:c,toggleTheme:Mt});if(t==="super_admin_dashboard")return m.jsx(bq,{onLoginAsStoreAdmin:Br,onLogout:In,onGoBack:()=>e("super_admin_landing"),t:Ke,language:l,setLanguage:u,theme:c,toggleTheme:Mt});if(!i||!o)return m.jsx("div",{children:"Error: No user or store data."});const Gl=()=>{switch(n){case Sr.POS:return m.jsx(TQ,{store:o,user:i,products:T,variants:B,customers:se,categories:Ne,sales:$,stockMap:Pr,variantMap:Hn,variantsByProduct:Zi,barcodeMap:ea,cart:v,setCart:b,completeSale:di,processReturn:na,payCustomerDebt:io,t:Ke,language:l});case Sr.Products:return m.jsx(kZ,{storeId:o.id,products:Vl,variants:B,suppliers:ce,categories:Ne,stockMap:Pr,addProduct:Ur,updateProduct:ci,deleteProduct:fi,addStockToVariant:ta,t:Ke,language:l});case Sr.Services:return m.jsx(u_e,{storeId:o.id,services:hc,addService:Ur,updateService:ci,deleteService:fi,t:Ke});case Sr.Finance:return m.jsx(ZSe,{storeId:o.id,sales:$,expenses:le,purchases:ye,suppliers:ce,returns:kt,customers:se,users:st,addProduct:Ur,addExpense:_s,updateExpense:Ts,deleteExpense:Cs,deleteReturn:Ns,deleteAllReturns:uc,t:Ke,language:l,theme:c,onReprintInvoice:Oe=>y({sale:Oe,mode:"invoice"})});case Sr.Customers:return m.jsx(n_e,{storeId:o.id,customers:se,sales:$,addCustomer:qd,deleteCustomer:Hd,payCustomerDebt:io,t:Ke,language:l});case Sr.Suppliers:return m.jsx(a_e,{storeId:o.id,suppliers:ce,products:Vl,variants:B,purchases:ye,categories:Ne,addSupplier:Es,deleteSupplier:cc,addPurchase:zd,updatePurchase:zl,addProduct:Ur,t:Ke,language:l});case Sr.Categories:return m.jsx(s_e,{storeId:o.id,categories:Ne,addCategory:Vd,updateCategory:fc,deleteCategory:Gd,t:Ke,language:l});case Sr.Settings:return m.jsx(p_e,{activeUser:i,store:o,storeId:o.id,users:st,addUser:ks,updateUser:Wd,deleteUser:jn,onUpdateStore:dc,onBackup:Ss,onRestore:Oa,t:Ke});default:return m.jsx("div",{children:"Tab not found"})}},Yd=i.role==="admin",Di=[{id:Sr.POS,label:Ke("pos"),icon:m.jsx(hq,{className:"w-5 h-5"}),adminOnly:!1},{id:Sr.Products,label:Ke("products"),icon:m.jsx(dq,{className:"w-5 h-5"}),adminOnly:!1},{id:Sr.Finance,label:Ke("finance"),icon:m.jsx(pq,{className:"w-5 h-5"}),adminOnly:!0},{id:Sr.Customers,label:Ke("customers"),icon:m.jsx(pS,{className:"w-5 h-5"}),adminOnly:!1},{id:Sr.Suppliers,label:Ke("suppliers"),icon:m.jsx(kO,{className:"w-5 h-5"}),adminOnly:!0},{id:Sr.Categories,label:Ke("categories"),icon:m.jsx(PO,{className:"w-5 h-5"}),adminOnly:!0},{id:Sr.Settings,label:Ke("settings"),icon:m.jsx(hS,{className:"w-5 h-5"}),adminOnly:!0}];return m.jsxs("div",{className:`flex h-screen bg-gray-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200 ${l==="ar"?"rtl":"ltr"}`,children:[w&&m.jsx(c_e,{sale:w.sale,mode:w.mode,onClose:()=>y(null),store:o,customers:se,t:Ke,language:l}),x&&m.jsx(f_e,{returnObject:x,onClose:()=>S(null),store:o,t:Ke,language:l}),m.jsxs("aside",{className:"w-64 bg-white dark:bg-slate-800 p-4 flex flex-col shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsx(AS,{className:"w-8 h-8 text-teal-600 dark:text-teal-400"}),m.jsx("h1",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:o.name})]}),m.jsx("nav",{className:"flex-grow space-y-2",children:Di.filter(Oe=>!Oe.adminOnly||Yd).map(Oe=>m.jsxs("button",{onClick:()=>r(Oe.id),className:`w-full flex items-center gap-3 p-3 rounded-lg text-sm font-semibold transition-colors ${n===Oe.id?"bg-teal-600 text-white":"text-slate-600 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[Oe.icon,Oe.label]},Oe.id))}),m.jsxs("div",{className:"mt-auto",children:[m.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-slate-700 rounded-lg text-center",children:[m.jsxs("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:[Ke("welcome")," ",i.name]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:i.role==="admin"?Ke("admin"):Ke("seller")})]}),m.jsxs("button",{onClick:zn,className:"w-full flex items-center justify-center gap-2 p-3 mt-2 rounded-lg text-sm font-semibold bg-red-50 text-red-600 dark:bg-red-900/50 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900",children:[m.jsx(dS,{className:"w-5 h-5"}),Ke("logout")]})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx(h_e,{store:o,t:Ke}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n===Sr.Products&&ft.length>0&&m.jsx(d_e,{products:T,variants:ft,suppliers:ce,t:Ke}),p?m.jsxs("p",{children:[Ke("loading"),"..."]}):Gl()]})]})]})},w8=document.getElementById("root");if(!w8)throw new Error("Could not find root element to mount to");const b_e=rB.createRoot(w8);b_e.render(m.jsx(de.StrictMode,{children:m.jsx(y_e,{})}));export{nn as _,mr as c,Kt as g};
