(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var JP={exports:{}},sv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s7=Symbol.for("react.transitional.element"),l7=Symbol.for("react.fragment");function XP(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:s7,type:t,key:r,ref:e!==void 0?e:null,props:n}}sv.Fragment=l7;sv.jsx=XP;sv.jsxs=XP;JP.exports=sv;var A=JP.exports,QP={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d5=Symbol.for("react.transitional.element"),u7=Symbol.for("react.portal"),c7=Symbol.for("react.fragment"),d7=Symbol.for("react.strict_mode"),f7=Symbol.for("react.profiler"),h7=Symbol.for("react.consumer"),p7=Symbol.for("react.context"),A7=Symbol.for("react.forward_ref"),m7=Symbol.for("react.suspense"),g7=Symbol.for("react.memo"),ZP=Symbol.for("react.lazy"),v7=Symbol.for("react.activity"),dT=Symbol.iterator;function y7(t){return t===null||typeof t!="object"?null:(t=dT&&t[dT]||t["@@iterator"],typeof t=="function"?t:null)}var e6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t6=Object.assign,n6={};function Qd(t,e,n){this.props=t,this.context=e,this.refs=n6,this.updater=n||e6}Qd.prototype.isReactComponent={};Qd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r6(){}r6.prototype=Qd.prototype;function f5(t,e,n){this.props=t,this.context=e,this.refs=n6,this.updater=n||e6}var h5=f5.prototype=new r6;h5.constructor=f5;t6(h5,Qd.prototype);h5.isPureReactComponent=!0;var fT=Array.isArray;function lx(){}var Pn={H:null,A:null,T:null,S:null},i6=Object.prototype.hasOwnProperty;function p5(t,e,n){var r=n.ref;return{$$typeof:d5,type:t,key:e,ref:r!==void 0?r:null,props:n}}function b7(t,e){return p5(t.type,e,t.props)}function A5(t){return typeof t=="object"&&t!==null&&t.$$typeof===d5}function x7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hT=/\/+/g;function Cb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?x7(""+t.key):e.toString(36)}function w7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(lx,lx):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function kc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case d5:case u7:o=!0;break;case ZP:return o=t._init,kc(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+Cb(t,0):r,fT(i)?(n="",o!=null&&(n=o.replace(hT,"$&/")+"/"),kc(i,e,n,"",function(u){return u})):i!=null&&(A5(i)&&(i=b7(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(hT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(fT(t))for(var l=0;l<t.length;l++)r=t[l],a=s+Cb(r,l),o+=kc(r,e,n,a,i);else if(l=y7(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+Cb(r,l++),o+=kc(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return kc(w7(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function ym(t,e,n){if(t==null)return t;var r=[],i=0;return kc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function S7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_7={map:ym,forEach:function(t,e,n){ym(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ym(t,function(){e++}),e},toArray:function(t){return ym(t,function(e){return e})||[]},only:function(t){if(!A5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Activity=v7;Nt.Children=_7;Nt.Component=Qd;Nt.Fragment=c7;Nt.Profiler=f7;Nt.PureComponent=f5;Nt.StrictMode=d7;Nt.Suspense=m7;Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pn;Nt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pn.H.useMemoCache(t)}};Nt.cache=function(t){return function(){return t.apply(null,arguments)}};Nt.cacheSignal=function(){return null};Nt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=t6({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!i6.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return p5(t.type,i,r)};Nt.createContext=function(t){return t={$$typeof:p7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:h7,_context:t},t};Nt.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)i6.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return p5(t,a,i)};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:A7,render:t}};Nt.isValidElement=A5;Nt.lazy=function(t){return{$$typeof:ZP,_payload:{_status:-1,_result:t},_init:S7}};Nt.memo=function(t,e){return{$$typeof:g7,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=Pn.T,n={};Pn.T=n;try{var r=t(),i=Pn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(lx,pT)}catch(a){pT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Pn.T=e}};Nt.unstable_useCacheRefresh=function(){return Pn.H.useCacheRefresh()};Nt.use=function(t){return Pn.H.use(t)};Nt.useActionState=function(t,e,n){return Pn.H.useActionState(t,e,n)};Nt.useCallback=function(t,e){return Pn.H.useCallback(t,e)};Nt.useContext=function(t){return Pn.H.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t,e){return Pn.H.useDeferredValue(t,e)};Nt.useEffect=function(t,e){return Pn.H.useEffect(t,e)};Nt.useEffectEvent=function(t){return Pn.H.useEffectEvent(t)};Nt.useId=function(){return Pn.H.useId()};Nt.useImperativeHandle=function(t,e,n){return Pn.H.useImperativeHandle(t,e,n)};Nt.useInsertionEffect=function(t,e){return Pn.H.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return Pn.H.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return Pn.H.useMemo(t,e)};Nt.useOptimistic=function(t,e){return Pn.H.useOptimistic(t,e)};Nt.useReducer=function(t,e,n){return Pn.H.useReducer(t,e,n)};Nt.useRef=function(t){return Pn.H.useRef(t)};Nt.useState=function(t){return Pn.H.useState(t)};Nt.useSyncExternalStore=function(t,e,n){return Pn.H.useSyncExternalStore(t,e,n)};Nt.useTransition=function(){return Pn.H.useTransition()};Nt.version="19.2.0";QP.exports=Nt;var re=QP.exports;const fe=Jt(re);var a6={exports:{}},lv={},o6={exports:{}},s6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,$){var H=R.length;R.push($);e:for(;0<H;){var Y=H-1>>>1,X=R[Y];if(0<i(X,$))R[Y]=$,R[H]=X,H=Y;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],H=R.pop();if(H!==$){R[0]=H;e:for(var Y=0,X=R.length,te=X>>>1;Y<te;){var D=2*(Y+1)-1,q=R[D],Z=D+1,ne=R[Z];if(0>i(q,H))Z<X&&0>i(ne,q)?(R[Y]=ne,R[Z]=H,Y=Z):(R[Y]=q,R[D]=H,Y=D);else if(Z<X&&0>i(ne,H))R[Y]=ne,R[Z]=H,Y=Z;else break e}}return $}function i(R,$){var H=R.sortIndex-$.sortIndex;return H!==0?H:R.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,h=3,p=!1,v=!1,b=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(R){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=R)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function C(R){if(b=!1,T(R),!v)if(n(l)!==null)v=!0,k||(k=!0,j());else{var $=n(u);$!==null&&G(C,$.startTime-R)}}var k=!1,E=-1,M=5,I=-1;function B(){return x?!0:!(t.unstable_now()-I<M)}function O(){if(x=!1,k){var R=t.unstable_now();I=R;var $=!0;try{e:{v=!1,b&&(b=!1,w(E),E=-1),p=!0;var H=h;try{t:{for(T(R),d=n(l);d!==null&&!(d.expirationTime>R&&B());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var X=Y(d.expirationTime<=R);if(R=t.unstable_now(),typeof X=="function"){d.callback=X,T(R),$=!0;break t}d===n(l)&&r(l),T(R)}else r(l);d=n(l)}if(d!==null)$=!0;else{var te=n(u);te!==null&&G(C,te.startTime-R),$=!1}}break e}finally{d=null,h=H,p=!1}$=void 0}}finally{$?j():k=!1}}}var j;if(typeof S=="function")j=function(){S(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,F=U.port2;U.port1.onmessage=O,j=function(){F.postMessage(null)}}else j=function(){y(O,0)};function G(R,$){E=y(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var H=h;h=$;try{return R()}finally{h=H}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=h;h=R;try{return $()}finally{h=H}},t.unstable_scheduleCallback=function(R,$,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,R={id:c++,callback:$,priorityLevel:R,startTime:H,expirationTime:X,sortIndex:-1},H>Y?(R.sortIndex=H,e(u,R),n(l)===null&&R===n(u)&&(b?(w(E),E=-1):b=!0,G(C,H-Y))):(R.sortIndex=X,e(l,R),v||p||(v=!0,k||(k=!0,j()))),R},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(R){var $=h;return function(){var H=h;h=$;try{return R.apply(this,arguments)}finally{h=H}}}})(s6);o6.exports=s6;var T7=o6.exports,l6={exports:{}},ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C7=re;function u6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ns(){}var Qr={d:{f:Ns,r:function(){throw Error(u6(522))},D:Ns,C:Ns,L:Ns,m:Ns,X:Ns,S:Ns,M:Ns},p:0,findDOMNode:null},N7=Symbol.for("react.portal");function E7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N7,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Oh=C7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function uv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qr;ri.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(u6(299));return E7(t,e,null,n)};ri.flushSync=function(t){var e=Oh.T,n=Qr.p;try{if(Oh.T=null,Qr.p=2,t)return t()}finally{Oh.T=e,Qr.p=n,Qr.d.f()}};ri.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Qr.d.C(t,e))};ri.prefetchDNS=function(t){typeof t=="string"&&Qr.d.D(t)};ri.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=uv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Qr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Qr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ri.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=uv(e.as,e.crossOrigin);Qr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Qr.d.M(t)};ri.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=uv(n,e.crossOrigin);Qr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ri.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=uv(e.as,e.crossOrigin);Qr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Qr.d.m(t)};ri.requestFormReset=function(t){Qr.d.r(t)};ri.unstable_batchedUpdates=function(t,e){return t(e)};ri.useFormState=function(t,e,n){return Oh.H.useFormState(t,e,n)};ri.useFormStatus=function(){return Oh.H.useHostTransitionStatus()};ri.version="19.2.0";function c6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c6)}catch(t){console.error(t)}}c6(),l6.exports=ri;var k7=l6.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mr=T7,d6=re,P7=k7;function Fe(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function aA(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p6(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function AT(t){if(aA(t)!==t)throw Error(Fe(188))}function M7(t){var e=t.alternate;if(!e){if(e=aA(t),e===null)throw Error(Fe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return AT(i),t;if(a===r)return AT(i),e;a=a.sibling}throw Error(Fe(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Fe(189))}}if(n.alternate!==r)throw Error(Fe(190))}if(n.tag!==3)throw Error(Fe(188));return n.stateNode.current===n?t:e}function A6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A6(t),e!==null)return e;t=t.sibling}return null}var Mn=Object.assign,O7=Symbol.for("react.element"),bm=Symbol.for("react.transitional.element"),Th=Symbol.for("react.portal"),Fc=Symbol.for("react.fragment"),m6=Symbol.for("react.strict_mode"),ux=Symbol.for("react.profiler"),g6=Symbol.for("react.consumer"),$o=Symbol.for("react.context"),m5=Symbol.for("react.forward_ref"),cx=Symbol.for("react.suspense"),dx=Symbol.for("react.suspense_list"),g5=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),fx=Symbol.for("react.activity"),j7=Symbol.for("react.memo_cache_sentinel"),mT=Symbol.iterator;function rh(t){return t===null||typeof t!="object"?null:(t=mT&&t[mT]||t["@@iterator"],typeof t=="function"?t:null)}var I7=Symbol.for("react.client.reference");function hx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fc:return"Fragment";case ux:return"Profiler";case m6:return"StrictMode";case cx:return"Suspense";case dx:return"SuspenseList";case fx:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Th:return"Portal";case $o:return t.displayName||"Context";case g6:return(t._context.displayName||"Context")+".Consumer";case m5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g5:return e=t.displayName||null,e!==null?e:hx(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return hx(t(e))}catch{}}return null}var Ch=Array.isArray,bt=d6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Kt=P7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ru={pending:!1,data:null,method:null,action:null},px=[],Bc=-1;function po(t){return{current:t}}function Cr(t){0>Bc||(t.current=px[Bc],px[Bc]=null,Bc--)}function wn(t,e){Bc++,px[Bc]=t.current,t.current=e}var lo=po(null),sp=po(null),Js=po(null),Cg=po(null);function Ng(t,e){switch(wn(Js,e),wn(sp,t),wn(lo,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?wC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=wC(e),t=RO(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Cr(lo),wn(lo,t)}function md(){Cr(lo),Cr(sp),Cr(Js)}function Ax(t){t.memoizedState!==null&&wn(Cg,t);var e=lo.current,n=RO(e,t.type);e!==n&&(wn(sp,t),wn(lo,n))}function Eg(t){sp.current===t&&(Cr(lo),Cr(sp)),Cg.current===t&&(Cr(Cg),vp._currentValue=ru)}var Nb,gT;function Ul(t){if(Nb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nb=e&&e[1]||"",gT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nb+t+gT}var Eb=!1;function kb(t,e){if(!t||Eb)return"";Eb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var h=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){h=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){h=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{Eb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ul(n):""}function D7(t,e){switch(t.tag){case 26:case 27:case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return t.child!==e&&e!==null?Ul("Suspense Fallback"):Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 15:return kb(t.type,!1);case 11:return kb(t.type.render,!1);case 1:return kb(t.type,!0);case 31:return Ul("Activity");default:return""}}function vT(t){try{var e="",n=null;do e+=D7(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var mx=Object.prototype.hasOwnProperty,v5=mr.unstable_scheduleCallback,Pb=mr.unstable_cancelCallback,L7=mr.unstable_shouldYield,R7=mr.unstable_requestPaint,Ri=mr.unstable_now,F7=mr.unstable_getCurrentPriorityLevel,v6=mr.unstable_ImmediatePriority,y6=mr.unstable_UserBlockingPriority,kg=mr.unstable_NormalPriority,B7=mr.unstable_LowPriority,b6=mr.unstable_IdlePriority,$7=mr.log,U7=mr.unstable_setDisableYieldValue,oA=null,Fi=null;function Hs(t){if(typeof $7=="function"&&U7(t),Fi&&typeof Fi.setStrictMode=="function")try{Fi.setStrictMode(oA,t)}catch{}}var Bi=Math.clz32?Math.clz32:z7,q7=Math.log,H7=Math.LN2;function z7(t){return t>>>=0,t===0?32:31-(q7(t)/H7|0)|0}var xm=256,wm=262144,Sm=4194304;function ql(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=ql(r):(o&=s,o!==0?i=ql(o):n||(n=s&~t,n!==0&&(i=ql(n))))):(s=r&~a,s!==0?i=ql(s):o!==0?i=ql(o):n||(n=r&~t,n!==0&&(i=ql(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function sA(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function V7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x6(){var t=Sm;return Sm<<=1,!(Sm&62914560)&&(Sm=4194304),t}function Mb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function G7(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Bi(n),d=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&w6(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function w6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Bi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function S6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function _6(t,e){var n=e&-e;return n=n&42?1:y5(n),n&(t.suspendedLanes|e)?0:n}function y5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function b5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function T6(){var t=Kt.p;return t!==0?t:(t=window.event,t===void 0?32:YO(t.type))}function yT(t,e){var n=Kt.p;try{return Kt.p=t,e()}finally{Kt.p=n}}var gl=Math.random().toString(36).slice(2),jr="__reactFiber$"+gl,yi="__reactProps$"+gl,Zd="__reactContainer$"+gl,gx="__reactEvents$"+gl,W7="__reactListeners$"+gl,Y7="__reactHandles$"+gl,bT="__reactResources$"+gl,uA="__reactMarker$"+gl;function x5(t){delete t[jr],delete t[yi],delete t[gx],delete t[W7],delete t[Y7]}function $c(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zd]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NC(t);t!==null;){if(n=t[jr])return n;t=NC(t)}return e}t=n,n=t.parentNode}return null}function ef(t){if(t=t[jr]||t[Zd]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Nh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Fe(33))}function nd(t){var e=t[bT];return e||(e=t[bT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _r(t){t[uA]=!0}var C6=new Set,N6={};function Cu(t,e){gd(t,e),gd(t+"Capture",e)}function gd(t,e){for(N6[t]=e,t=0;t<e.length;t++)C6.add(e[t])}var K7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xT={},wT={};function J7(t){return mx.call(wT,t)?!0:mx.call(xT,t)?!1:K7.test(t)?wT[t]=!0:(xT[t]=!0,!1)}function lg(t,e,n){if(J7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function _m(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ko(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function aa(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function E6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X7(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vx(t){if(!t._valueTracker){var e=E6(t)?"checked":"value";t._valueTracker=X7(t,e,""+t[e])}}function k6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=E6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Q7=/[\n"\\]/g;function la(t){return t.replace(Q7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yx(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+aa(e)):t.value!==""+aa(e)&&(t.value=""+aa(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?bx(t,o,aa(e)):n!=null?bx(t,o,aa(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+aa(s):t.removeAttribute("name")}function P6(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){vx(t);return}n=n!=null?""+aa(n):"",e=e!=null?""+aa(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),vx(t)}function bx(t,e,n){e==="number"&&Pg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function rd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+aa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function M6(t,e,n){if(e!=null&&(e=""+aa(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+aa(n):""}function O6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Fe(92));if(Ch(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=aa(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),vx(t)}function vd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Z7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ST(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Z7.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function j6(t,e,n){if(e!=null&&typeof e!="object")throw Error(Fe(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&ST(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&ST(t,a,e[a])}function w5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eF=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tF=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ug(t){return tF.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Uo(){}var xx=null;function S5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uc=null,id=null;function _T(t){var e=ef(t);if(e&&(t=e.stateNode)){var n=t[yi]||null;e:switch(t=e.stateNode,e.type){case"input":if(yx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+la(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[yi]||null;if(!i)throw Error(Fe(90));yx(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&k6(r)}break e;case"textarea":M6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&rd(t,!!n.multiple,e,!1)}}}var Ob=!1;function I6(t,e,n){if(Ob)return t(e,n);Ob=!0;try{var r=t(e);return r}finally{if(Ob=!1,(Uc!==null||id!==null)&&(wv(),Uc&&(e=Uc,t=id,id=Uc=null,_T(e),t)))for(e=0;e<t.length;e++)_T(t[e])}}function lp(t,e){var n=t.stateNode;if(n===null)return null;var r=n[yi]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Fe(231,e,typeof n));return n}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wx=!1;if(Xo)try{var ih={};Object.defineProperty(ih,"passive",{get:function(){wx=!0}}),window.addEventListener("test",ih,ih),window.removeEventListener("test",ih,ih)}catch{wx=!1}var zs=null,_5=null,cg=null;function D6(){if(cg)return cg;var t,e=_5,n=e.length,r,i="value"in zs?zs.value:zs.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return cg=i.slice(t,1<r?1-r:void 0)}function dg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tm(){return!0}function TT(){return!1}function bi(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Tm:TT,this.isPropagationStopped=TT,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),e}var Nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dv=bi(Nu),cA=Mn({},Nu,{view:0,detail:0}),nF=bi(cA),jb,Ib,ah,fv=Mn({},cA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ah&&(ah&&t.type==="mousemove"?(jb=t.screenX-ah.screenX,Ib=t.screenY-ah.screenY):Ib=jb=0,ah=t),jb)},movementY:function(t){return"movementY"in t?t.movementY:Ib}}),CT=bi(fv),rF=Mn({},fv,{dataTransfer:0}),iF=bi(rF),aF=Mn({},cA,{relatedTarget:0}),Db=bi(aF),oF=Mn({},Nu,{animationName:0,elapsedTime:0,pseudoElement:0}),sF=bi(oF),lF=Mn({},Nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uF=bi(lF),cF=Mn({},Nu,{data:0}),NT=bi(cF),dF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hF[t])?!!e[t]:!1}function T5(){return pF}var AF=Mn({},cA,{key:function(t){if(t.key){var e=dF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T5,charCode:function(t){return t.type==="keypress"?dg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mF=bi(AF),gF=Mn({},fv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ET=bi(gF),vF=Mn({},cA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T5}),yF=bi(vF),bF=Mn({},Nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),xF=bi(bF),wF=Mn({},fv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SF=bi(wF),_F=Mn({},Nu,{newState:0,oldState:0}),TF=bi(_F),CF=[9,13,27,32],C5=Xo&&"CompositionEvent"in window,jh=null;Xo&&"documentMode"in document&&(jh=document.documentMode);var NF=Xo&&"TextEvent"in window&&!jh,L6=Xo&&(!C5||jh&&8<jh&&11>=jh),kT=" ",PT=!1;function R6(t,e){switch(t){case"keyup":return CF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qc=!1;function EF(t,e){switch(t){case"compositionend":return F6(e);case"keypress":return e.which!==32?null:(PT=!0,kT);case"textInput":return t=e.data,t===kT&&PT?null:t;default:return null}}function kF(t,e){if(qc)return t==="compositionend"||!C5&&R6(t,e)?(t=D6(),cg=_5=zs=null,qc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L6&&e.locale!=="ko"?null:e.data;default:return null}}var PF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PF[t.type]:e==="textarea"}function B6(t,e,n,r){Uc?id?id.push(r):id=[r]:Uc=r,e=Yg(e,"onChange"),0<e.length&&(n=new dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ih=null,up=null;function MF(t){IO(t,0)}function hv(t){var e=Nh(t);if(k6(e))return t}function OT(t,e){if(t==="change")return e}var $6=!1;if(Xo){var Lb;if(Xo){var Rb="oninput"in document;if(!Rb){var jT=document.createElement("div");jT.setAttribute("oninput","return;"),Rb=typeof jT.oninput=="function"}Lb=Rb}else Lb=!1;$6=Lb&&(!document.documentMode||9<document.documentMode)}function IT(){Ih&&(Ih.detachEvent("onpropertychange",U6),up=Ih=null)}function U6(t){if(t.propertyName==="value"&&hv(up)){var e=[];B6(e,up,t,S5(t)),I6(MF,e)}}function OF(t,e,n){t==="focusin"?(IT(),Ih=e,up=n,Ih.attachEvent("onpropertychange",U6)):t==="focusout"&&IT()}function jF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hv(up)}function IF(t,e){if(t==="click")return hv(e)}function DF(t,e){if(t==="input"||t==="change")return hv(e)}function LF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qi=typeof Object.is=="function"?Object.is:LF;function cp(t,e){if(qi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!mx.call(e,i)||!qi(t[i],e[i]))return!1}return!0}function DT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LT(t,e){var n=DT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DT(n)}}function q6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Pg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pg(t.document)}return e}function N5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var RF=Xo&&"documentMode"in document&&11>=document.documentMode,Hc=null,Sx=null,Dh=null,_x=!1;function RT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_x||Hc==null||Hc!==Pg(r)||(r=Hc,"selectionStart"in r&&N5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dh&&cp(Dh,r)||(Dh=r,r=Yg(Sx,"onSelect"),0<r.length&&(e=new dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hc)))}function Dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zc={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionrun:Dl("Transition","TransitionRun"),transitionstart:Dl("Transition","TransitionStart"),transitioncancel:Dl("Transition","TransitionCancel"),transitionend:Dl("Transition","TransitionEnd")},Fb={},z6={};Xo&&(z6=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Eu(t){if(Fb[t])return Fb[t];if(!zc[t])return t;var e=zc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z6)return Fb[t]=e[n];return t}var V6=Eu("animationend"),G6=Eu("animationiteration"),W6=Eu("animationstart"),FF=Eu("transitionrun"),BF=Eu("transitionstart"),$F=Eu("transitioncancel"),Y6=Eu("transitionend"),K6=new Map,Tx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tx.push("scrollEnd");function qa(t,e){K6.set(t,e),Cu(e,[t])}var Mg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ra=[],Vc=0,E5=0;function pv(){for(var t=Vc,e=E5=Vc=0;e<t;){var n=ra[e];ra[e++]=null;var r=ra[e];ra[e++]=null;var i=ra[e];ra[e++]=null;var a=ra[e];if(ra[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&J6(n,i,a)}}function Av(t,e,n,r){ra[Vc++]=t,ra[Vc++]=e,ra[Vc++]=n,ra[Vc++]=r,E5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function k5(t,e,n,r){return Av(t,e,n,r),Og(t)}function ku(t,e){return Av(t,null,null,e),Og(t)}function J6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Bi(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Og(t){if(50<zh)throw zh=0,Gx=null,Error(Fe(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Gc={};function UF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(t,e,n,r){return new UF(t,e,n,r)}function P5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Go(t,e){var n=t.alternate;return n===null?(n=Oi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function X6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function fg(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")P5(t)&&(o=1);else if(typeof t=="string")o=GB(t,n,lo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case fx:return t=Oi(31,n,e,i),t.elementType=fx,t.lanes=a,t;case Fc:return iu(n.children,i,a,e);case m6:o=8,i|=24;break;case ux:return t=Oi(12,n,e,i|2),t.elementType=ux,t.lanes=a,t;case cx:return t=Oi(13,n,e,i),t.elementType=cx,t.lanes=a,t;case dx:return t=Oi(19,n,e,i),t.elementType=dx,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $o:o=10;break e;case g6:o=9;break e;case m5:o=11;break e;case g5:o=14;break e;case Os:o=16,r=null;break e}o=29,n=Error(Fe(130,t===null?"null":typeof t,"")),r=null}return e=Oi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function iu(t,e,n,r){return t=Oi(7,t,r,e),t.lanes=n,t}function Bb(t,e,n){return t=Oi(6,t,null,e),t.lanes=n,t}function Q6(t){var e=Oi(18,null,null,0);return e.stateNode=t,e}function $b(t,e,n){return e=Oi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var FT=new WeakMap;function ua(t,e){if(typeof t=="object"&&t!==null){var n=FT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:vT(e)},FT.set(t,e),e)}return{value:t,source:e,stack:vT(e)}}var Wc=[],Yc=0,jg=null,dp=0,oa=[],sa=0,cl=null,ro=1,io="";function Fo(t,e){Wc[Yc++]=dp,Wc[Yc++]=jg,jg=t,dp=e}function Z6(t,e,n){oa[sa++]=ro,oa[sa++]=io,oa[sa++]=cl,cl=t;var r=ro;t=io;var i=32-Bi(r)-1;r&=~(1<<i),n+=1;var a=32-Bi(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ro=1<<32-Bi(e)+i|n<<i|r,io=a+t}else ro=1<<a|n<<i|r,io=t}function M5(t){t.return!==null&&(Fo(t,1),Z6(t,1,0))}function O5(t){for(;t===jg;)jg=Wc[--Yc],Wc[Yc]=null,dp=Wc[--Yc],Wc[Yc]=null;for(;t===cl;)cl=oa[--sa],oa[sa]=null,io=oa[--sa],oa[sa]=null,ro=oa[--sa],oa[sa]=null}function eM(t,e){oa[sa++]=ro,oa[sa++]=io,oa[sa++]=cl,ro=e.id,io=e.overflow,cl=t}var Ir=null,En=null,$t=!1,Xs=null,ca=!1,Cx=Error(Fe(519));function dl(t){var e=Error(Fe(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fp(ua(e,t)),Cx}function BT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[jr]=t,e[yi]=r,n){case"dialog":Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":case"embed":Lt("load",e);break;case"video":case"audio":for(n=0;n<mp.length;n++)Lt(mp[n],e);break;case"source":Lt("error",e);break;case"img":case"image":case"link":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"input":Lt("invalid",e),P6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Lt("invalid",e);break;case"textarea":Lt("invalid",e),O6(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||LO(e.textContent,n)?(r.popover!=null&&(Lt("beforetoggle",e),Lt("toggle",e)),r.onScroll!=null&&Lt("scroll",e),r.onScrollEnd!=null&&Lt("scrollend",e),r.onClick!=null&&(e.onclick=Uo),e=!0):e=!1,e||dl(t,!0)}function $T(t){for(Ir=t.return;Ir;)switch(Ir.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:Ir=Ir.return}}function mc(t){if(t!==Ir)return!1;if(!$t)return $T(t),$t=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Xx(t.type,t.memoizedProps)),n=!n),n&&En&&dl(t),$T(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));En=CC(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(317));En=CC(t)}else e===27?(e=En,vl(t.type)?(t=t2,t2=null,En=t):En=e):En=Ir?pa(t.stateNode.nextSibling):null;return!0}function pu(){En=Ir=null,$t=!1}function Ub(){var t=Xs;return t!==null&&(Ai===null?Ai=t:Ai.push.apply(Ai,t),Xs=null),t}function fp(t){Xs===null?Xs=[t]:Xs.push(t)}var Nx=po(null),Pu=null,qo=null;function Ls(t,e,n){wn(Nx,e._currentValue),e._currentValue=n}function Wo(t){t._currentValue=Nx.current,Cr(Nx)}function Ex(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kx(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Ex(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(Fe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ex(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function tf(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(Fe(387));if(o=o.memoizedProps,o!==null){var s=i.type;qi(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===Cg.current){if(o=i.alternate,o===null)throw Error(Fe(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(vp):t=[vp])}i=i.return}t!==null&&kx(e,t,n,r),e.flags|=262144}function Ig(t){for(t=t.firstContext;t!==null;){if(!qi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Au(t){Pu=t,qo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dr(t){return tM(Pu,t)}function Cm(t,e){return Pu===null&&Au(t),tM(t,e)}function tM(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},qo===null){if(t===null)throw Error(Fe(308));qo=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else qo=qo.next=e;return n}var qF=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},HF=mr.unstable_scheduleCallback,zF=mr.unstable_NormalPriority,rr={$$typeof:$o,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function j5(){return{controller:new qF,data:new Map,refCount:0}}function dA(t){t.refCount--,t.refCount===0&&HF(zF,function(){t.controller.abort()})}var Lh=null,Px=0,yd=0,ad=null;function VF(t,e){if(Lh===null){var n=Lh=[];Px=0,yd=iS(),ad={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Px++,e.then(UT,UT),e}function UT(){if(--Px===0&&Lh!==null){ad!==null&&(ad.status="fulfilled");var t=Lh;Lh=null,yd=0,ad=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function GF(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var qT=bt.S;bt.S=function(t,e){AO=Ri(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&VF(t,e),qT!==null&&qT(t,e)};var au=po(null);function I5(){var t=au.current;return t!==null?t:An.pooledCache}function hg(t,e){e===null?wn(au,au.current):wn(au,e.pool)}function nM(){var t=I5();return t===null?null:{parent:rr._currentValue,pool:t}}var nf=Error(Fe(460)),D5=Error(Fe(474)),mv=Error(Fe(542)),Dg={then:function(){}};function HT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Uo,Uo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,VT(t),t;default:if(typeof e.status=="string")e.then(Uo,Uo);else{if(t=An,t!==null&&100<t.shellSuspendCounter)throw Error(Fe(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,VT(t),t}throw ou=e,nf}}function Hl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ou=n,nf):n}}var ou=null;function zT(){if(ou===null)throw Error(Fe(459));var t=ou;return ou=null,t}function VT(t){if(t===nf||t===mv)throw Error(Fe(483))}var od=null,hp=0;function Nm(t){var e=hp;return hp+=1,od===null&&(od=[]),rM(od,t,e)}function oh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Em(t,e){throw e.$$typeof===O7?Error(Fe(525)):(t=Object.prototype.toString.call(e),Error(Fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function iM(t){function e(y,w){if(t){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y){for(var w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(y,w){return y=Go(y,w),y.index=0,y.sibling=null,y}function a(y,w,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=67108866,w):S):(y.flags|=67108866,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function s(y,w,S,T){return w===null||w.tag!==6?(w=Bb(S,y.mode,T),w.return=y,w):(w=i(w,S),w.return=y,w)}function l(y,w,S,T){var C=S.type;return C===Fc?c(y,w,S.props.children,T,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Os&&Hl(C)===w.type)?(w=i(w,S.props),oh(w,S),w.return=y,w):(w=fg(S.type,S.key,S.props,null,y.mode,T),oh(w,S),w.return=y,w)}function u(y,w,S,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=$b(S,y.mode,T),w.return=y,w):(w=i(w,S.children||[]),w.return=y,w)}function c(y,w,S,T,C){return w===null||w.tag!==7?(w=iu(S,y.mode,T,C),w.return=y,w):(w=i(w,S),w.return=y,w)}function d(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Bb(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bm:return S=fg(w.type,w.key,w.props,null,y.mode,S),oh(S,w),S.return=y,S;case Th:return w=$b(w,y.mode,S),w.return=y,w;case Os:return w=Hl(w),d(y,w,S)}if(Ch(w)||rh(w))return w=iu(w,y.mode,S,null),w.return=y,w;if(typeof w.then=="function")return d(y,Nm(w),S);if(w.$$typeof===$o)return d(y,Cm(y,w),S);Em(y,w)}return null}function h(y,w,S,T){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return C!==null?null:s(y,w,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case bm:return S.key===C?l(y,w,S,T):null;case Th:return S.key===C?u(y,w,S,T):null;case Os:return S=Hl(S),h(y,w,S,T)}if(Ch(S)||rh(S))return C!==null?null:c(y,w,S,T,null);if(typeof S.then=="function")return h(y,w,Nm(S),T);if(S.$$typeof===$o)return h(y,w,Cm(y,S),T);Em(y,S)}return null}function p(y,w,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return y=y.get(S)||null,s(w,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case bm:return y=y.get(T.key===null?S:T.key)||null,l(w,y,T,C);case Th:return y=y.get(T.key===null?S:T.key)||null,u(w,y,T,C);case Os:return T=Hl(T),p(y,w,S,T,C)}if(Ch(T)||rh(T))return y=y.get(S)||null,c(w,y,T,C,null);if(typeof T.then=="function")return p(y,w,S,Nm(T),C);if(T.$$typeof===$o)return p(y,w,S,Cm(w,T),C);Em(w,T)}return null}function v(y,w,S,T){for(var C=null,k=null,E=w,M=w=0,I=null;E!==null&&M<S.length;M++){E.index>M?(I=E,E=null):I=E.sibling;var B=h(y,E,S[M],T);if(B===null){E===null&&(E=I);break}t&&E&&B.alternate===null&&e(y,E),w=a(B,w,M),k===null?C=B:k.sibling=B,k=B,E=I}if(M===S.length)return n(y,E),$t&&Fo(y,M),C;if(E===null){for(;M<S.length;M++)E=d(y,S[M],T),E!==null&&(w=a(E,w,M),k===null?C=E:k.sibling=E,k=E);return $t&&Fo(y,M),C}for(E=r(E);M<S.length;M++)I=p(E,y,M,S[M],T),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?M:I.key),w=a(I,w,M),k===null?C=I:k.sibling=I,k=I);return t&&E.forEach(function(O){return e(y,O)}),$t&&Fo(y,M),C}function b(y,w,S,T){if(S==null)throw Error(Fe(151));for(var C=null,k=null,E=w,M=w=0,I=null,B=S.next();E!==null&&!B.done;M++,B=S.next()){E.index>M?(I=E,E=null):I=E.sibling;var O=h(y,E,B.value,T);if(O===null){E===null&&(E=I);break}t&&E&&O.alternate===null&&e(y,E),w=a(O,w,M),k===null?C=O:k.sibling=O,k=O,E=I}if(B.done)return n(y,E),$t&&Fo(y,M),C;if(E===null){for(;!B.done;M++,B=S.next())B=d(y,B.value,T),B!==null&&(w=a(B,w,M),k===null?C=B:k.sibling=B,k=B);return $t&&Fo(y,M),C}for(E=r(E);!B.done;M++,B=S.next())B=p(E,y,M,B.value,T),B!==null&&(t&&B.alternate!==null&&E.delete(B.key===null?M:B.key),w=a(B,w,M),k===null?C=B:k.sibling=B,k=B);return t&&E.forEach(function(j){return e(y,j)}),$t&&Fo(y,M),C}function x(y,w,S,T){if(typeof S=="object"&&S!==null&&S.type===Fc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case bm:e:{for(var C=S.key;w!==null;){if(w.key===C){if(C=S.type,C===Fc){if(w.tag===7){n(y,w.sibling),T=i(w,S.props.children),T.return=y,y=T;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Os&&Hl(C)===w.type){n(y,w.sibling),T=i(w,S.props),oh(T,S),T.return=y,y=T;break e}n(y,w);break}else e(y,w);w=w.sibling}S.type===Fc?(T=iu(S.props.children,y.mode,T,S.key),T.return=y,y=T):(T=fg(S.type,S.key,S.props,null,y.mode,T),oh(T,S),T.return=y,y=T)}return o(y);case Th:e:{for(C=S.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(y,w.sibling),T=i(w,S.children||[]),T.return=y,y=T;break e}else{n(y,w);break}else e(y,w);w=w.sibling}T=$b(S,y.mode,T),T.return=y,y=T}return o(y);case Os:return S=Hl(S),x(y,w,S,T)}if(Ch(S))return v(y,w,S,T);if(rh(S)){if(C=rh(S),typeof C!="function")throw Error(Fe(150));return S=C.call(S),b(y,w,S,T)}if(typeof S.then=="function")return x(y,w,Nm(S),T);if(S.$$typeof===$o)return x(y,w,Cm(y,S),T);Em(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,w!==null&&w.tag===6?(n(y,w.sibling),T=i(w,S),T.return=y,y=T):(n(y,w),T=Bb(S,y.mode,T),T.return=y,y=T),o(y)):n(y,w)}return function(y,w,S,T){try{hp=0;var C=x(y,w,S,T);return od=null,C}catch(E){if(E===nf||E===mv)throw E;var k=Oi(29,E,null,y.mode);return k.lanes=T,k.return=y,k}finally{}}}var mu=iM(!0),aM=iM(!1),js=!1;function L5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Og(t),J6(t,null,n),e}return Av(t,r,e,n),Og(t)}function Rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S6(t,n)}}function qb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ox=!1;function Fh(){if(Ox){var t=ad;if(t!==null)throw t}}function Bh(t,e,n,r){Ox=!1;var i=t.updateQueue;js=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane&-536870913,p=h!==s.lane;if(p?(Bt&h)===h:(r&h)===h){h!==0&&h===yd&&(Ox=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=t,b=s;h=e;var x=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(x,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(x,d,h):v,h==null)break e;d=Mn({},d,h);break e;case 2:js=!0}}h=s.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),hl|=o,t.lanes=o,t.memoizedState=d}}function oM(t,e){if(typeof t!="function")throw Error(Fe(191,t));t.call(e)}function sM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)oM(n[t],e)}var bd=po(null),Lg=po(0);function GT(t,e){t=ts,wn(Lg,t),wn(bd,e),ts=t|e.baseLanes}function jx(){wn(Lg,ts),wn(bd,bd.current)}function R5(){ts=Lg.current,Cr(bd),Cr(Lg)}var Hi=po(null),ha=null;function Rs(t){var e=t.alternate;wn(Wn,Wn.current&1),wn(Hi,t),ha===null&&(e===null||bd.current!==null||e.memoizedState!==null)&&(ha=t)}function Ix(t){wn(Wn,Wn.current),wn(Hi,t),ha===null&&(ha=t)}function lM(t){t.tag===22?(wn(Wn,Wn.current),wn(Hi,t),ha===null&&(ha=t)):Fs()}function Fs(){wn(Wn,Wn.current),wn(Hi,Hi.current)}function Mi(t){Cr(Hi),ha===t&&(ha=null),Cr(Wn)}var Wn=po(0);function Rg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zx(n)||e2(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qo=0,kt=null,un=null,tr=null,Fg=!1,sd=!1,gu=!1,Bg=0,pp=0,ld=null,WF=0;function Rn(){throw Error(Fe(321))}function F5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qi(t[n],e[n]))return!1;return!0}function B5(t,e,n,r,i,a){return Qo=a,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bt.H=t===null||t.memoizedState===null?BM:J5,gu=!1,a=n(r,i),gu=!1,sd&&(a=cM(e,n,r,i)),uM(t),a}function uM(t){bt.H=Ap;var e=un!==null&&un.next!==null;if(Qo=0,tr=un=kt=null,Fg=!1,pp=0,ld=null,e)throw Error(Fe(300));t===null||ir||(t=t.dependencies,t!==null&&Ig(t)&&(ir=!0))}function cM(t,e,n,r){kt=t;var i=0;do{if(sd&&(ld=null),pp=0,sd=!1,25<=i)throw Error(Fe(301));if(i+=1,tr=un=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}bt.H=$M,a=e(n,r)}while(sd);return a}function YF(){var t=bt.H,e=t.useState()[0];return e=typeof e.then=="function"?fA(e):e,t=t.useState()[0],(un!==null?un.memoizedState:null)!==t&&(kt.flags|=1024),e}function $5(){var t=Bg!==0;return Bg=0,t}function U5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function q5(t){if(Fg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Fg=!1}Qo=0,tr=un=kt=null,sd=!1,pp=Bg=0,ld=null}function Xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?kt.memoizedState=tr=t:tr=tr.next=t,tr}function Yn(){if(un===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var e=tr===null?kt.memoizedState:tr.next;if(e!==null)tr=e,un=t;else{if(t===null)throw kt.alternate===null?Error(Fe(467)):Error(Fe(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},tr===null?kt.memoizedState=tr=t:tr=tr.next=t}return tr}function gv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fA(t){var e=pp;return pp+=1,ld===null&&(ld=[]),t=rM(ld,t,e),e=kt,(tr===null?e.memoizedState:tr.next)===null&&(e=e.alternate,bt.H=e===null||e.memoizedState===null?BM:J5),t}function vv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fA(t);if(t.$$typeof===$o)return Dr(t)}throw Error(Fe(438,String(t)))}function H5(t){var e=null,n=kt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=kt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=gv(),kt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=j7;return e.index++,n}function Zo(t,e){return typeof e=="function"?e(t):e}function pg(t){var e=Yn();return z5(e,un,t)}function z5(t,e,n){var r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Bt&d)===d:(Qo&d)===d){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===yd&&(c=!0);else if((Qo&h)===h){u=u.next,h===yd&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=d,o=a):l=l.next=d,kt.lanes|=h,hl|=h;d=u.action,gu&&n(a,d),a=u.hasEagerState?u.eagerState:n(a,d)}else h={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,o=a):l=l.next=h,kt.lanes|=d,hl|=d;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!qi(a,t.memoizedState)&&(ir=!0,c&&(n=ad,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Hb(t){var e=Yn(),n=e.queue;if(n===null)throw Error(Fe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);qi(a,e.memoizedState)||(ir=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function dM(t,e,n){var r=kt,i=Yn(),a=$t;if(a){if(n===void 0)throw Error(Fe(407));n=n()}else n=e();var o=!qi((un||i).memoizedState,n);if(o&&(i.memoizedState=n,ir=!0),i=i.queue,V5(pM.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,xd(9,{destroy:void 0},hM.bind(null,r,i,n,e),null),An===null)throw Error(Fe(349));a||Qo&127||fM(r,e,n)}return n}function fM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e=gv(),kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hM(t,e,n,r){e.value=n,e.getSnapshot=r,AM(e)&&mM(t)}function pM(t,e,n){return n(function(){AM(e)&&mM(t)})}function AM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qi(t,n)}catch{return!0}}function mM(t){var e=ku(t,2);e!==null&&vi(e,t,2)}function Dx(t){var e=Xr();if(typeof t=="function"){var n=t;if(t=n(),gu){Hs(!0);try{n()}finally{Hs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e}function gM(t,e,n,r){return t.baseState=n,z5(t,un,typeof r=="function"?r:Zo)}function KF(t,e,n,r,i){if(bv(t))throw Error(Fe(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};bt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,vM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function vM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=bt.T,o={};bt.T=o;try{var s=n(i,r),l=bt.S;l!==null&&l(o,s),WT(t,e,s)}catch(u){Lx(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),bt.T=a}}else try{a=n(i,r),WT(t,e,a)}catch(u){Lx(t,e,u)}}function WT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){YT(t,e,r)},function(r){return Lx(t,e,r)}):YT(t,e,n)}function YT(t,e,n){e.status="fulfilled",e.value=n,yM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,vM(t,n)))}function Lx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,yM(e),e=e.next;while(e!==r)}t.action=null}function yM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bM(t,e){return e}function KT(t,e){if($t){var n=An.formState;if(n!==null){e:{var r=kt;if($t){if(En){t:{for(var i=En,a=ca;i.nodeType!==8;){if(!a){i=null;break t}if(i=pa(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){En=pa(i.nextSibling),r=i.data==="F!";break e}}dl(r)}r=!1}r&&(e=n[0])}}return n=Xr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bM,lastRenderedState:e},n.queue=r,n=LM.bind(null,kt,r),r.dispatch=n,r=Dx(!1),a=K5.bind(null,kt,!1,r.queue),r=Xr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=KF.bind(null,kt,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function JT(t){var e=Yn();return xM(e,un,t)}function xM(t,e,n){if(e=z5(t,e,bM)[0],t=pg(Zo)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=fA(e)}catch(o){throw o===nf?mv:o}else r=e;e=Yn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(kt.flags|=2048,xd(9,{destroy:void 0},JF.bind(null,i,n),null)),[r,a,t]}function JF(t,e){t.action=e}function XT(t){var e=Yn(),n=un;if(n!==null)return xM(e,n,t);Yn(),e=e.memoizedState,n=Yn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function xd(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=kt.updateQueue,e===null&&(e=gv(),kt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function wM(){return Yn().memoizedState}function Ag(t,e,n,r){var i=Xr();kt.flags|=t,i.memoizedState=xd(1|e,{destroy:void 0},n,r===void 0?null:r)}function yv(t,e,n,r){var i=Yn();r=r===void 0?null:r;var a=i.memoizedState.inst;un!==null&&r!==null&&F5(r,un.memoizedState.deps)?i.memoizedState=xd(e,a,n,r):(kt.flags|=t,i.memoizedState=xd(1|e,a,n,r))}function QT(t,e){Ag(8390656,8,t,e)}function V5(t,e){yv(2048,8,t,e)}function XF(t){kt.flags|=4;var e=kt.updateQueue;if(e===null)e=gv(),kt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function SM(t){var e=Yn().memoizedState;return XF({ref:e,nextImpl:t}),function(){if(Yt&2)throw Error(Fe(440));return e.impl.apply(void 0,arguments)}}function _M(t,e){return yv(4,2,t,e)}function TM(t,e){return yv(4,4,t,e)}function CM(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NM(t,e,n){n=n!=null?n.concat([t]):null,yv(4,4,CM.bind(null,e,t),n)}function G5(){}function EM(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&F5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kM(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&F5(e,r[1]))return r[0];if(r=t(),gu){Hs(!0);try{t()}finally{Hs(!1)}}return n.memoizedState=[r,e],r}function W5(t,e,n){return n===void 0||Qo&1073741824&&!(Bt&261930)?t.memoizedState=e:(t.memoizedState=n,t=gO(),kt.lanes|=t,hl|=t,n)}function PM(t,e,n,r){return qi(n,e)?n:bd.current!==null?(t=W5(t,n,r),qi(t,e)||(ir=!0),t):!(Qo&42)||Qo&1073741824&&!(Bt&261930)?(ir=!0,t.memoizedState=n):(t=gO(),kt.lanes|=t,hl|=t,e)}function MM(t,e,n,r,i){var a=Kt.p;Kt.p=a!==0&&8>a?a:8;var o=bt.T,s={};bt.T=s,K5(t,!1,e,n);try{var l=i(),u=bt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=GF(l,r);$h(t,e,c,$i(t))}else $h(t,e,r,$i(t))}catch(d){$h(t,e,{then:function(){},status:"rejected",reason:d},$i())}finally{Kt.p=a,o!==null&&s.types!==null&&(o.types=s.types),bt.T=o}}function QF(){}function Rx(t,e,n,r){if(t.tag!==5)throw Error(Fe(476));var i=OM(t).queue;MM(t,i,e,ru,n===null?QF:function(){return jM(t),n(r)})}function OM(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ru,baseState:ru,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:ru},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function jM(t){var e=OM(t);e.next===null&&(e=t.alternate.memoizedState),$h(t,e.next.queue,{},$i())}function Y5(){return Dr(vp)}function IM(){return Yn().memoizedState}function DM(){return Yn().memoizedState}function ZF(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=$i();t=Qs(n);var r=Zs(e,t,n);r!==null&&(vi(r,e,n),Rh(r,e,n)),e={cache:j5()},t.payload=e;return}e=e.return}}function eB(t,e,n){var r=$i();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},bv(t)?RM(e,n):(n=k5(t,e,n,r),n!==null&&(vi(n,t,r),FM(n,e,r)))}function LM(t,e,n){var r=$i();$h(t,e,n,r)}function $h(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(bv(t))RM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,qi(s,o))return Av(t,e,i,0),An===null&&pv(),!1}catch{}finally{}if(n=k5(t,e,i,r),n!==null)return vi(n,t,r),FM(n,e,r),!0}return!1}function K5(t,e,n,r){if(r={lane:2,revertLane:iS(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bv(t)){if(e)throw Error(Fe(479))}else e=k5(t,n,r,2),e!==null&&vi(e,t,2)}function bv(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function RM(t,e){sd=Fg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FM(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,S6(t,n)}}var Ap={readContext:Dr,use:vv,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn};Ap.useEffectEvent=Rn;var BM={readContext:Dr,use:vv,useCallback:function(t,e){return Xr().memoizedState=[t,e===void 0?null:e],t},useContext:Dr,useEffect:QT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ag(4194308,4,CM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ag(4194308,4,t,e)},useInsertionEffect:function(t,e){Ag(4,2,t,e)},useMemo:function(t,e){var n=Xr();e=e===void 0?null:e;var r=t();if(gu){Hs(!0);try{t()}finally{Hs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Xr();if(n!==void 0){var i=n(e);if(gu){Hs(!0);try{n(e)}finally{Hs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=eB.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=Xr();return t={current:t},e.memoizedState=t},useState:function(t){t=Dx(t);var e=t.queue,n=LM.bind(null,kt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:G5,useDeferredValue:function(t,e){var n=Xr();return W5(n,t,e)},useTransition:function(){var t=Dx(!1);return t=MM.bind(null,kt,t.queue,!0,!1),Xr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=kt,i=Xr();if($t){if(n===void 0)throw Error(Fe(407));n=n()}else{if(n=e(),An===null)throw Error(Fe(349));Bt&127||fM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,QT(pM.bind(null,r,a,t),[t]),r.flags|=2048,xd(9,{destroy:void 0},hM.bind(null,r,a,n,e),null),n},useId:function(){var t=Xr(),e=An.identifierPrefix;if($t){var n=io,r=ro;n=(r&~(1<<32-Bi(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Bg++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=WF++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Y5,useFormState:KT,useActionState:KT,useOptimistic:function(t){var e=Xr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=K5.bind(null,kt,!0,n),n.dispatch=e,[t,e]},useMemoCache:H5,useCacheRefresh:function(){return Xr().memoizedState=ZF.bind(null,kt)},useEffectEvent:function(t){var e=Xr(),n={impl:t};return e.memoizedState=n,function(){if(Yt&2)throw Error(Fe(440));return n.impl.apply(void 0,arguments)}}},J5={readContext:Dr,use:vv,useCallback:EM,useContext:Dr,useEffect:V5,useImperativeHandle:NM,useInsertionEffect:_M,useLayoutEffect:TM,useMemo:kM,useReducer:pg,useRef:wM,useState:function(){return pg(Zo)},useDebugValue:G5,useDeferredValue:function(t,e){var n=Yn();return PM(n,un.memoizedState,t,e)},useTransition:function(){var t=pg(Zo)[0],e=Yn().memoizedState;return[typeof t=="boolean"?t:fA(t),e]},useSyncExternalStore:dM,useId:IM,useHostTransitionStatus:Y5,useFormState:JT,useActionState:JT,useOptimistic:function(t,e){var n=Yn();return gM(n,un,t,e)},useMemoCache:H5,useCacheRefresh:DM};J5.useEffectEvent=SM;var $M={readContext:Dr,use:vv,useCallback:EM,useContext:Dr,useEffect:V5,useImperativeHandle:NM,useInsertionEffect:_M,useLayoutEffect:TM,useMemo:kM,useReducer:Hb,useRef:wM,useState:function(){return Hb(Zo)},useDebugValue:G5,useDeferredValue:function(t,e){var n=Yn();return un===null?W5(n,t,e):PM(n,un.memoizedState,t,e)},useTransition:function(){var t=Hb(Zo)[0],e=Yn().memoizedState;return[typeof t=="boolean"?t:fA(t),e]},useSyncExternalStore:dM,useId:IM,useHostTransitionStatus:Y5,useFormState:XT,useActionState:XT,useOptimistic:function(t,e){var n=Yn();return un!==null?gM(n,un,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:H5,useCacheRefresh:DM};$M.useEffectEvent=SM;function zb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fx={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$i(),i=Qs(r);i.payload=e,n!=null&&(i.callback=n),e=Zs(t,i,r),e!==null&&(vi(e,t,r),Rh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$i(),i=Qs(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zs(t,i,r),e!==null&&(vi(e,t,r),Rh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$i(),r=Qs(n);r.tag=2,e!=null&&(r.callback=e),e=Zs(t,r,n),e!==null&&(vi(e,t,n),Rh(e,t,n))}};function ZT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!cp(n,r)||!cp(i,a):!0}function eC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fx.enqueueReplaceState(e,e.state,null)}function vu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Mn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function UM(t){Mg(t)}function qM(t){console.error(t)}function HM(t){Mg(t)}function $g(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function tC(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Bx(t,e,n){return n=Qs(n),n.tag=3,n.payload={element:null},n.callback=function(){$g(t,e)},n}function zM(t){return t=Qs(t),t.tag=3,t}function VM(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){tC(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){tC(e,n,r),typeof i!="function"&&(el===null?el=new Set([this]):el.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function tB(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&tf(e,n,i,!0),n=Hi.current,n!==null){switch(n.tag){case 31:case 13:return ha===null?Vg():n.alternate===null&&$n===0&&($n=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Dg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),t1(t,r,i)),!1;case 22:return n.flags|=65536,r===Dg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),t1(t,r,i)),!1}throw Error(Fe(435,n.tag))}return t1(t,r,i),Vg(),!1}if($t)return e=Hi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Cx&&(t=Error(Fe(422),{cause:r}),fp(ua(t,n)))):(r!==Cx&&(e=Error(Fe(423),{cause:r}),fp(ua(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=ua(r,n),i=Bx(t.stateNode,r,i),qb(t,i),$n!==4&&($n=2)),!1;var a=Error(Fe(520),{cause:r});if(a=ua(a,n),Hh===null?Hh=[a]:Hh.push(a),$n!==4&&($n=2),e===null)return!0;r=ua(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Bx(n.stateNode,r,t),qb(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(el===null||!el.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=zM(i),VM(i,t,n,r),qb(n,i),!1}n=n.return}while(n!==null);return!1}var X5=Error(Fe(461)),ir=!1;function Or(t,e,n,r){e.child=t===null?aM(e,null,n,r):mu(e,t.child,n,r)}function nC(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return Au(e),r=B5(t,e,n,o,a,i),s=$5(),t!==null&&!ir?(U5(t,e,i),es(t,e,i)):($t&&s&&M5(e),e.flags|=1,Or(t,e,r,i),e.child)}function rC(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!P5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,GM(t,e,a,r,i)):(t=fg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Q5(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:cp,n(o,r)&&t.ref===e.ref)return es(t,e,i)}return e.flags|=1,t=Go(a,r),t.ref=e.ref,t.return=e,e.child=t}function GM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(cp(a,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=a,Q5(t,i))t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,es(t,e,i)}return $x(t,e,n,r,i)}function WM(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return iC(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&hg(e,a!==null?a.cachePool:null),a!==null?GT(e,a):jx(),lM(e);else return r=e.lanes=536870912,iC(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(hg(e,a.cachePool),GT(e,a),Fs(),e.memoizedState=null):(t!==null&&hg(e,null),jx(),Fs());return Or(t,e,i,n),e.child}function Eh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function iC(t,e,n,r,i){var a=I5();return a=a===null?null:{parent:rr._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&hg(e,null),jx(),lM(e),t!==null&&tf(t,e,r,!0),e.childLanes=i,null}function mg(t,e){return e=Ug({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function aC(t,e,n){return mu(e,t.child,null,n),t=mg(e,e.pendingProps),t.flags|=2,Mi(e),e.memoizedState=null,t}function nB(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if($t){if(r.mode==="hidden")return t=mg(e,r),e.lanes=536870912,Eh(null,t);if(Ix(e),(t=En)?(t=BO(t,ca),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:cl!==null?{id:ro,overflow:io}:null,retryLane:536870912,hydrationErrors:null},n=Q6(t),n.return=e,e.child=n,Ir=e,En=null)):t=null,t===null)throw dl(e);return e.lanes=536870912,null}return mg(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(Ix(e),i)if(e.flags&256)e.flags&=-257,e=aC(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Fe(558));else if(ir||tf(t,e,n,!1),i=(n&t.childLanes)!==0,ir||i){if(r=An,r!==null&&(o=_6(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,ku(t,o),vi(r,t,o),X5;Vg(),e=aC(t,e,n)}else t=a.treeContext,En=pa(o.nextSibling),Ir=e,$t=!0,Xs=null,ca=!1,t!==null&&eM(e,t),e=mg(e,r),e.flags|=4096;return e}return t=Go(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function gg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Fe(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function $x(t,e,n,r,i){return Au(e),n=B5(t,e,n,r,void 0,i),r=$5(),t!==null&&!ir?(U5(t,e,i),es(t,e,i)):($t&&r&&M5(e),e.flags|=1,Or(t,e,n,i),e.child)}function oC(t,e,n,r,i,a){return Au(e),e.updateQueue=null,n=cM(e,r,n,i),uM(t),r=$5(),t!==null&&!ir?(U5(t,e,a),es(t,e,a)):($t&&r&&M5(e),e.flags|=1,Or(t,e,n,a),e.child)}function sC(t,e,n,r,i){if(Au(e),e.stateNode===null){var a=Gc,o=n.contextType;typeof o=="object"&&o!==null&&(a=Dr(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Fx,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},L5(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?Dr(o):Gc,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(zb(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Fx.enqueueReplaceState(a,a.state,null),Bh(e,r,a,i),Fh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=vu(n,s);a.props=l;var u=a.context,c=n.contextType;o=Gc,typeof c=="object"&&c!==null&&(o=Dr(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&eC(e,a,r,o),js=!1;var h=e.memoizedState;a.state=h,Bh(e,r,a,i),Fh(),u=e.memoizedState,s||h!==u||js?(typeof d=="function"&&(zb(e,n,d,r),u=e.memoizedState),(l=js||ZT(e,n,l,r,h,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Mx(t,e),o=e.memoizedProps,c=vu(n,o),a.props=c,d=e.pendingProps,h=a.context,u=n.contextType,l=Gc,typeof u=="object"&&u!==null&&(l=Dr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&eC(e,a,r,l),js=!1,h=e.memoizedState,a.state=h,Bh(e,r,a,i),Fh();var p=e.memoizedState;o!==d||h!==p||js||t!==null&&t.dependencies!==null&&Ig(t.dependencies)?(typeof s=="function"&&(zb(e,n,s,r),p=e.memoizedState),(c=js||ZT(e,n,c,r,h,p,l)||t!==null&&t.dependencies!==null&&Ig(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,gg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=mu(e,t.child,null,i),e.child=mu(e,null,n,i)):Or(t,e,n,i),e.memoizedState=a.state,t=e.child):t=es(t,e,i),t}function lC(t,e,n,r){return pu(),e.flags|=256,Or(t,e,n,r),e.child}var Vb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gb(t){return{baseLanes:t,cachePool:nM()}}function Wb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Di),t}function YM(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(Wn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if($t){if(i?Rs(e):Fs(),(t=En)?(t=BO(t,ca),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:cl!==null?{id:ro,overflow:io}:null,retryLane:536870912,hydrationErrors:null},n=Q6(t),n.return=e,e.child=n,Ir=e,En=null)):t=null,t===null)throw dl(e);return e2(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(Fs(),i=e.mode,s=Ug({mode:"hidden",children:s},i),r=iu(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Gb(n),r.childLanes=Wb(t,o,n),e.memoizedState=Vb,Eh(null,r)):(Rs(e),Ux(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(Rs(e),e.flags&=-257,e=Yb(t,e,n)):e.memoizedState!==null?(Fs(),e.child=t.child,e.flags|=128,e=null):(Fs(),s=r.fallback,i=e.mode,r=Ug({mode:"visible",children:r.children},i),s=iu(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,mu(e,t.child,null,n),r=e.child,r.memoizedState=Gb(n),r.childLanes=Wb(t,o,n),e.memoizedState=Vb,e=Eh(null,r));else if(Rs(e),e2(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(Fe(419)),r.stack="",r.digest=o,fp({value:r,source:null,stack:null}),e=Yb(t,e,n)}else if(ir||tf(t,e,n,!1),o=(n&t.childLanes)!==0,ir||o){if(o=An,o!==null&&(r=_6(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,ku(t,r),vi(o,t,r),X5;Zx(s)||Vg(),e=Yb(t,e,n)}else Zx(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,En=pa(s.nextSibling),Ir=e,$t=!0,Xs=null,ca=!1,t!==null&&eM(e,t),e=Ux(e,r.children),e.flags|=4096);return e}return i?(Fs(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Go(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Go(u,s):(s=iu(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,Eh(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Gb(n):(i=s.cachePool,i!==null?(l=rr._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=nM(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Wb(t,o,n),e.memoizedState=Vb,Eh(t.child,r)):(Rs(e),n=t.child,t=n.sibling,n=Go(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Ux(t,e){return e=Ug({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ug(t,e){return t=Oi(22,t,null,e),t.lanes=0,t}function Yb(t,e,n){return mu(e,t.child,null,n),t=Ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ex(t.return,e,n)}function Kb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function KM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Wn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,wn(Wn,o),Or(t,e,r,n),r=$t?dp:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uC(t,n,e);else if(t.tag===19)uC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kb(e,!0,n,null,a,r);break;case"together":Kb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hl|=e.lanes,!(n&e.childLanes))if(t!==null){if(tf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Fe(153));if(e.child!==null){for(t=e.child,n=Go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ig(t)))}function rB(t,e,n){switch(e.tag){case 3:Ng(e,e.stateNode.containerInfo),Ls(e,rr,t.memoizedState.cache),pu();break;case 27:case 5:Ax(e);break;case 4:Ng(e,e.stateNode.containerInfo);break;case 10:Ls(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Ix(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Rs(e),e.flags|=128,null):n&e.child.childLanes?YM(t,e,n):(Rs(e),t=es(t,e,n),t!==null?t.sibling:null);Rs(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(tf(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return KM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wn(Wn,Wn.current),r)break;return null;case 22:return e.lanes=0,WM(t,e,n,e.pendingProps);case 24:Ls(e,rr,t.memoizedState.cache)}return es(t,e,n)}function JM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ir=!0;else{if(!Q5(t,n)&&!(e.flags&128))return ir=!1,rB(t,e,n);ir=!!(t.flags&131072)}else ir=!1,$t&&e.flags&1048576&&Z6(e,dp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Hl(e.elementType),e.type=t,typeof t=="function")P5(t)?(r=vu(t,r),e.tag=1,e=sC(null,e,t,r,n)):(e.tag=0,e=$x(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===m5){e.tag=11,e=nC(null,e,t,r,n);break e}else if(i===g5){e.tag=14,e=rC(null,e,t,r,n);break e}}throw e=hx(t)||t,Error(Fe(306,e,""))}}return e;case 0:return $x(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=vu(r,e.pendingProps),sC(t,e,r,i,n);case 3:e:{if(Ng(e,e.stateNode.containerInfo),t===null)throw Error(Fe(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Mx(t,e),Bh(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Ls(e,rr,r),r!==a.cache&&kx(e,[rr],n,!0),Fh(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=lC(t,e,r,n);break e}else if(r!==i){i=ua(Error(Fe(424)),e),fp(i),e=lC(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(En=pa(t.firstChild),Ir=e,$t=!0,Xs=null,ca=!0,n=aM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pu(),r===i){e=es(t,e,n);break e}Or(t,e,r,n)}e=e.child}return e;case 26:return gg(t,e),t===null?(n=kC(e.type,null,e.pendingProps,null))?e.memoizedState=n:$t||(n=e.type,t=e.pendingProps,r=Kg(Js.current).createElement(n),r[jr]=e,r[yi]=t,Lr(r,n,t),_r(r),e.stateNode=r):e.memoizedState=kC(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ax(e),t===null&&$t&&(r=e.stateNode=$O(e.type,e.pendingProps,Js.current),Ir=e,ca=!0,i=En,vl(e.type)?(t2=i,En=pa(r.firstChild)):En=i),Or(t,e,e.pendingProps.children,n),gg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&$t&&((i=r=En)&&(r=jB(r,e.type,e.pendingProps,ca),r!==null?(e.stateNode=r,Ir=e,En=pa(r.firstChild),ca=!1,i=!0):i=!1),i||dl(e)),Ax(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,Xx(i,a)?r=null:o!==null&&Xx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=B5(t,e,YF,null,null,n),vp._currentValue=i),gg(t,e),Or(t,e,r,n),e.child;case 6:return t===null&&$t&&((t=n=En)&&(n=IB(n,e.pendingProps,ca),n!==null?(e.stateNode=n,Ir=e,En=null,t=!0):t=!1),t||dl(e)),null;case 13:return YM(t,e,n);case 4:return Ng(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mu(e,null,r,n):Or(t,e,r,n),e.child;case 11:return nC(t,e,e.type,e.pendingProps,n);case 7:return Or(t,e,e.pendingProps,n),e.child;case 8:return Or(t,e,e.pendingProps.children,n),e.child;case 12:return Or(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ls(e,e.type,r.value),Or(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Au(e),i=Dr(i),r=r(i),e.flags|=1,Or(t,e,r,n),e.child;case 14:return rC(t,e,e.type,e.pendingProps,n);case 15:return GM(t,e,e.type,e.pendingProps,n);case 19:return KM(t,e,n);case 31:return nB(t,e,n);case 22:return WM(t,e,n,e.pendingProps);case 24:return Au(e),r=Dr(rr),t===null?(i=I5(),i===null&&(i=An,a=j5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},L5(e),Ls(e,rr,i)):(t.lanes&n&&(Mx(t,e),Bh(e,null,null,n),Fh()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ls(e,rr,r)):(r=a.cache,Ls(e,rr,r),r!==i.cache&&kx(e,[rr],n,!0))),Or(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Fe(156,e.tag))}function Po(t){t.flags|=4}function Jb(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(bO())t.flags|=8192;else throw ou=Dg,D5}else t.flags&=-16777217}function cC(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!HO(e))if(bO())t.flags|=8192;else throw ou=Dg,D5}function km(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?x6():536870912,t.lanes|=e,wd|=e)}function sh(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iB(t,e,n){var r=e.pendingProps;switch(O5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return _n(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Wo(rr),md(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mc(e)?Po(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ub())),_n(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Po(e),a!==null?(_n(e),cC(e,a)):(_n(e),Jb(e,i,null,r,n))):a?a!==t.memoizedState?(Po(e),_n(e),cC(e,a)):(_n(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Po(e),_n(e),Jb(e,i,t,r,n)),null;case 27:if(Eg(e),n=Js.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Po(e);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return _n(e),null}t=lo.current,mc(e)?BT(e):(t=$O(i,r,n),e.stateNode=t,Po(e))}return _n(e),null;case 5:if(Eg(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Po(e);else{if(!r){if(e.stateNode===null)throw Error(Fe(166));return _n(e),null}if(a=lo.current,mc(e))BT(e);else{var o=Kg(Js.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[jr]=e,a[yi]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(Lr(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Po(e)}}return _n(e),Jb(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Po(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Fe(166));if(t=Js.current,mc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Ir,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[jr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||LO(t.nodeValue,n)),t||dl(e,!0)}else t=Kg(t).createTextNode(r),t[jr]=e,e.stateNode=t}return _n(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=mc(e),n!==null){if(t===null){if(!r)throw Error(Fe(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Fe(557));t[jr]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),t=!1}else n=Ub(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Mi(e),e):(Mi(e),null);if(e.flags&128)throw Error(Fe(558))}return _n(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=mc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Fe(317));i[jr]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else i=Ub(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Mi(e),e):(Mi(e),null)}return Mi(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),km(e,e.updateQueue),_n(e),null);case 4:return md(),t===null&&aS(e.stateNode.containerInfo),_n(e),null;case 10:return Wo(e.type),_n(e),null;case 19:if(Cr(Wn),r=e.memoizedState,r===null)return _n(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)sh(r,!1);else{if($n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Rg(t),a!==null){for(e.flags|=128,sh(r,!1),t=a.updateQueue,e.updateQueue=t,km(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)X6(n,t),n=n.sibling;return wn(Wn,Wn.current&1|2),$t&&Fo(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Ri()>Hg&&(e.flags|=128,i=!0,sh(r,!1),e.lanes=4194304)}else{if(!i)if(t=Rg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,km(e,t),sh(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!$t)return _n(e),null}else 2*Ri()-r.renderingStartTime>Hg&&n!==536870912&&(e.flags|=128,i=!0,sh(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Ri(),t.sibling=null,n=Wn.current,wn(Wn,i?n&1|2:n&1),$t&&Fo(e,r.treeForkCount),t):(_n(e),null);case 22:case 23:return Mi(e),R5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),n=e.updateQueue,n!==null&&km(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Cr(au),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Wo(rr),_n(e),null;case 25:return null;case 30:return null}throw Error(Fe(156,e.tag))}function aB(t,e){switch(O5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(rr),md(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Eg(e),null;case 31:if(e.memoizedState!==null){if(Mi(e),e.alternate===null)throw Error(Fe(340));pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Mi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Fe(340));pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cr(Wn),null;case 4:return md(),null;case 10:return Wo(e.type),null;case 22:case 23:return Mi(e),R5(),t!==null&&Cr(au),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Wo(rr),null;case 25:return null;default:return null}}function XM(t,e){switch(O5(e),e.tag){case 3:Wo(rr),md();break;case 26:case 27:case 5:Eg(e);break;case 4:md();break;case 31:e.memoizedState!==null&&Mi(e);break;case 13:Mi(e);break;case 19:Cr(Wn);break;case 10:Wo(e.type);break;case 22:case 23:Mi(e),R5(),t!==null&&Cr(au);break;case 24:Wo(rr)}}function hA(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){tn(e,e.return,s)}}function fl(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){tn(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){tn(e,e.return,c)}}function QM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{sM(e,n)}catch(r){tn(t,t.return,r)}}}function ZM(t,e,n){n.props=vu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){tn(t,e,r)}}function Uh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){tn(t,e,i)}}function ao(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){tn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){tn(t,e,i)}else n.current=null}function eO(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){tn(t,t.return,i)}}function Xb(t,e,n){try{var r=t.stateNode;NB(r,t.type,n,e),r[yi]=e}catch(i){tn(t,t.return,i)}}function tO(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vl(t.type)||t.tag===4}function Qb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uo));else if(r!==4&&(r===27&&vl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(qx(t,e,n),t=t.sibling;t!==null;)qx(t,e,n),t=t.sibling}function qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&vl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(qg(t,e,n),t=t.sibling;t!==null;)qg(t,e,n),t=t.sibling}function nO(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Lr(e,r,n),e[jr]=t,e[yi]=n}catch(a){tn(t,t.return,a)}}var Bo=!1,nr=!1,Zb=!1,dC=typeof WeakSet=="function"?WeakSet:Set,Sr=null;function oB(t,e){if(t=t.containerInfo,Kx=Zg,t=H6(t),N5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jx={focusedElem:t,selectionRange:n},Zg=!1,Sr=e;Sr!==null;)if(e=Sr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Sr=t;else for(;Sr!==null;){switch(e=Sr,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var v=vu(n.type,i);t=r.getSnapshotBeforeUpdate(v,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){tn(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Qx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Fe(163))}if(t=e.sibling,t!==null){t.return=e.return,Sr=t;break}Sr=e.return}}function rO(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Oo(t,n),r&4&&hA(5,n);break;case 1:if(Oo(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){tn(n,n.return,o)}else{var i=vu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){tn(n,n.return,o)}}r&64&&QM(n),r&512&&Uh(n,n.return);break;case 3:if(Oo(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{sM(t,e)}catch(o){tn(n,n.return,o)}}break;case 27:e===null&&r&4&&nO(n);case 26:case 5:Oo(t,n),e===null&&r&4&&eO(n),r&512&&Uh(n,n.return);break;case 12:Oo(t,n);break;case 31:Oo(t,n),r&4&&oO(t,n);break;case 13:Oo(t,n),r&4&&sO(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=AB.bind(null,n),DB(t,n))));break;case 22:if(r=n.memoizedState!==null||Bo,!r){e=e!==null&&e.memoizedState!==null||nr,i=Bo;var a=nr;Bo=r,(nr=e)&&!a?Do(t,n,(n.subtreeFlags&8772)!==0):Oo(t,n),Bo=i,nr=a}break;case 30:break;default:Oo(t,n)}}function iO(t){var e=t.alternate;e!==null&&(t.alternate=null,iO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&x5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var On=null,pi=!1;function Mo(t,e,n){for(n=n.child;n!==null;)aO(t,e,n),n=n.sibling}function aO(t,e,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(oA,n)}catch{}switch(n.tag){case 26:nr||ao(n,e),Mo(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:nr||ao(n,e);var r=On,i=pi;vl(n.type)&&(On=n.stateNode,pi=!1),Mo(t,e,n),Vh(n.stateNode),On=r,pi=i;break;case 5:nr||ao(n,e);case 6:if(r=On,i=pi,On=null,Mo(t,e,n),On=r,pi=i,On!==null)if(pi)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(n.stateNode)}catch(a){tn(n,e,a)}else try{On.removeChild(n.stateNode)}catch(a){tn(n,e,a)}break;case 18:On!==null&&(pi?(t=On,_C(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Cd(t)):_C(On,n.stateNode));break;case 4:r=On,i=pi,On=n.stateNode.containerInfo,pi=!0,Mo(t,e,n),On=r,pi=i;break;case 0:case 11:case 14:case 15:fl(2,n,e),nr||fl(4,n,e),Mo(t,e,n);break;case 1:nr||(ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&ZM(n,e,r)),Mo(t,e,n);break;case 21:Mo(t,e,n);break;case 22:nr=(r=nr)||n.memoizedState!==null,Mo(t,e,n),nr=r;break;default:Mo(t,e,n)}}function oO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cd(t)}catch(n){tn(e,e.return,n)}}}function sO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cd(t)}catch(n){tn(e,e.return,n)}}function sB(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new dC),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new dC),e;default:throw Error(Fe(435,t.tag))}}function Pm(t,e){var n=sB(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=mB.bind(null,t,r);r.then(i,i)}})}function di(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(vl(s.type)){On=s.stateNode,pi=!1;break e}break;case 5:On=s.stateNode,pi=!1;break e;case 3:case 4:On=s.stateNode.containerInfo,pi=!0;break e}s=s.return}if(On===null)throw Error(Fe(160));aO(a,o,i),On=null,pi=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)lO(e,t),e=e.sibling}var La=null;function lO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:di(e,t),fi(t),r&4&&(fl(3,t,t.return),hA(3,t),fl(5,t,t.return));break;case 1:di(e,t),fi(t),r&512&&(nr||n===null||ao(n,n.return)),r&64&&Bo&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=La;if(di(e,t),fi(t),r&512&&(nr||n===null||ao(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[uA]||a[jr]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Lr(a,r,n),a[jr]=t,_r(a),r=a;break e;case"link":var o=MC("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Lr(a,r,n),i.head.appendChild(a);break;case"meta":if(o=MC("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Lr(a,r,n),i.head.appendChild(a);break;default:throw Error(Fe(468,r))}a[jr]=t,_r(a),r=a}t.stateNode=r}else OC(i,t.type,t.stateNode);else t.stateNode=PC(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?OC(i,t.type,t.stateNode):PC(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Xb(t,t.memoizedProps,n.memoizedProps)}break;case 27:di(e,t),fi(t),r&512&&(nr||n===null||ao(n,n.return)),n!==null&&r&4&&Xb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(di(e,t),fi(t),r&512&&(nr||n===null||ao(n,n.return)),t.flags&32){i=t.stateNode;try{vd(i,"")}catch(v){tn(t,t.return,v)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Xb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Zb=!0);break;case 6:if(di(e,t),fi(t),r&4){if(t.stateNode===null)throw Error(Fe(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(v){tn(t,t.return,v)}}break;case 3:if(bg=null,i=La,La=Jg(e.containerInfo),di(e,t),La=i,fi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cd(e.containerInfo)}catch(v){tn(t,t.return,v)}Zb&&(Zb=!1,uO(t));break;case 4:r=La,La=Jg(t.stateNode.containerInfo),di(e,t),fi(t),La=r;break;case 12:di(e,t),fi(t);break;case 31:di(e,t),fi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Pm(t,r)));break;case 13:di(e,t),fi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xv=Ri()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Pm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Bo,c=nr;if(Bo=u||i,nr=c||l,di(e,t),nr=c,Bo=u,fi(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Bo||nr||zl(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){tn(l,l.return,v)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){tn(l,l.return,v)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?TC(p,!0):TC(l.stateNode,!1)}catch(v){tn(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Pm(t,n))));break;case 19:di(e,t),fi(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Pm(t,r)));break;case 30:break;case 21:break;default:di(e,t),fi(t)}}function fi(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(tO(r)){n=r;break}r=r.return}if(n==null)throw Error(Fe(160));switch(n.tag){case 27:var i=n.stateNode,a=Qb(t);qg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(vd(o,""),n.flags&=-33);var s=Qb(t);qg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Qb(t);qx(t,u,l);break;default:throw Error(Fe(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;uO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Oo(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)rO(t,e.alternate,e),e=e.sibling}function zl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:fl(4,e,e.return),zl(e);break;case 1:ao(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ZM(e,e.return,n),zl(e);break;case 27:Vh(e.stateNode);case 26:case 5:ao(e,e.return),zl(e);break;case 22:e.memoizedState===null&&zl(e);break;case 30:zl(e);break;default:zl(e)}t=t.sibling}}function Do(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:Do(i,a,n),hA(4,a);break;case 1:if(Do(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){tn(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)oM(l[i],s)}catch(u){tn(r,r.return,u)}}n&&o&64&&QM(a),Uh(a,a.return);break;case 27:nO(a);case 26:case 5:Do(i,a,n),n&&r===null&&o&4&&eO(a),Uh(a,a.return);break;case 12:Do(i,a,n);break;case 31:Do(i,a,n),n&&o&4&&oO(i,a);break;case 13:Do(i,a,n),n&&o&4&&sO(i,a);break;case 22:a.memoizedState===null&&Do(i,a,n),Uh(a,a.return);break;case 30:break;default:Do(i,a,n)}e=e.sibling}}function Z5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&dA(n))}function eS(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&dA(t))}function Pa(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cO(t,e,n,r),e=e.sibling}function cO(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Pa(t,e,n,r),i&2048&&hA(9,e);break;case 1:Pa(t,e,n,r);break;case 3:Pa(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&dA(t)));break;case 12:if(i&2048){Pa(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){tn(e,e.return,l)}}else Pa(t,e,n,r);break;case 31:Pa(t,e,n,r);break;case 13:Pa(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?Pa(t,e,n,r):qh(t,e):a._visibility&2?Pa(t,e,n,r):(a._visibility|=2,Pc(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Z5(o,e);break;case 24:Pa(t,e,n,r),i&2048&&eS(e.alternate,e);break;default:Pa(t,e,n,r)}}function Pc(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Pc(a,o,s,l,i),hA(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Pc(a,o,s,l,i):qh(a,o):(c._visibility|=2,Pc(a,o,s,l,i)),i&&u&2048&&Z5(o.alternate,o);break;case 24:Pc(a,o,s,l,i),i&&u&2048&&eS(o.alternate,o);break;default:Pc(a,o,s,l,i)}e=e.sibling}}function qh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:qh(n,r),i&2048&&Z5(r.alternate,r);break;case 24:qh(n,r),i&2048&&eS(r.alternate,r);break;default:qh(n,r)}e=e.sibling}}var kh=8192;function gc(t,e,n){if(t.subtreeFlags&kh)for(t=t.child;t!==null;)dO(t,e,n),t=t.sibling}function dO(t,e,n){switch(t.tag){case 26:gc(t,e,n),t.flags&kh&&t.memoizedState!==null&&WB(n,La,t.memoizedState,t.memoizedProps);break;case 5:gc(t,e,n);break;case 3:case 4:var r=La;La=Jg(t.stateNode.containerInfo),gc(t,e,n),La=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=kh,kh=16777216,gc(t,e,n),kh=r):gc(t,e,n));break;default:gc(t,e,n)}}function fO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function lh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Sr=r,pO(r,t)}fO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hO(t),t=t.sibling}function hO(t){switch(t.tag){case 0:case 11:case 15:lh(t),t.flags&2048&&fl(9,t,t.return);break;case 3:lh(t);break;case 12:lh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,vg(t)):lh(t);break;default:lh(t)}}function vg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Sr=r,pO(r,t)}fO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:fl(8,e,e.return),vg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,vg(e));break;default:vg(e)}t=t.sibling}}function pO(t,e){for(;Sr!==null;){var n=Sr;switch(n.tag){case 0:case 11:case 15:fl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:dA(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Sr=r;else e:for(n=t;Sr!==null;){r=Sr;var i=r.sibling,a=r.return;if(iO(r),r===n){Sr=null;break e}if(i!==null){i.return=a,Sr=i;break e}Sr=a}}}var lB={getCacheForType:function(t){var e=Dr(rr),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Dr(rr).controller.signal}},uB=typeof WeakMap=="function"?WeakMap:Map,Yt=0,An=null,Rt=null,Bt=0,en=0,ki=null,Vs=!1,rf=!1,tS=!1,ts=0,$n=0,hl=0,su=0,nS=0,Di=0,wd=0,Hh=null,Ai=null,Hx=!1,xv=0,AO=0,Hg=1/0,zg=null,el=null,hr=0,tl=null,Sd=null,Yo=0,zx=0,Vx=null,mO=null,zh=0,Gx=null;function $i(){return Yt&2&&Bt!==0?Bt&-Bt:bt.T!==null?iS():T6()}function gO(){if(Di===0)if(!(Bt&536870912)||$t){var t=wm;wm<<=1,!(wm&3932160)&&(wm=262144),Di=t}else Di=536870912;return t=Hi.current,t!==null&&(t.flags|=32),Di}function vi(t,e,n){(t===An&&(en===2||en===9)||t.cancelPendingCommit!==null)&&(_d(t,0),Gs(t,Bt,Di,!1)),lA(t,n),(!(Yt&2)||t!==An)&&(t===An&&(!(Yt&2)&&(su|=n),$n===4&&Gs(t,Bt,Di,!1)),Ao(t))}function vO(t,e,n){if(Yt&6)throw Error(Fe(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||sA(t,e),i=r?fB(t,e):e1(t,e,!0),a=r;do{if(i===0){rf&&!r&&Gs(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!cB(n)){i=e1(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=Hh;var l=s.current.memoizedState.isDehydrated;if(l&&(_d(s,o).flags|=256),o=e1(s,o,!1),o!==2){if(tS&&!l){s.errorRecoveryDisabledLanes|=a,su|=a,i=4;break e}a=Ai,Ai=i,a!==null&&(Ai===null?Ai=a:Ai.push.apply(Ai,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){_d(t,0),Gs(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(Fe(345));case 4:if((e&4194048)!==e)break;case 6:Gs(r,e,Di,!Vs);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(Fe(329))}if((e&62914560)===e&&(i=xv+300-Ri(),10<i)){if(Gs(r,e,Di,!Vs),cv(r,0,!0)!==0)break e;Yo=e,r.timeoutHandle=FO(fC.bind(null,r,n,Ai,zg,Hx,e,Di,su,wd,Vs,a,"Throttled",-0,0),i);break e}fC(r,n,Ai,zg,Hx,e,Di,su,wd,Vs,a,null,-0,0)}}break}while(!0);Ao(t)}function fC(t,e,n,r,i,a,o,s,l,u,c,d,h,p){if(t.timeoutHandle=-1,d=e.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Uo},dO(e,a,d);var v=(a&62914560)===a?xv-Ri():(a&4194048)===a?AO-Ri():0;if(v=YB(d,v),v!==null){Yo=a,t.cancelPendingCommit=v(pC.bind(null,t,e,a,n,r,i,o,s,l,c,d,null,h,p)),Gs(t,a,o,!u);return}}pC(t,e,a,n,r,i,o,s,l)}function cB(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!qi(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gs(t,e,n,r){e&=~nS,e&=~su,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Bi(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&w6(t,n,e)}function wv(){return Yt&6?!0:(pA(0),!1)}function rS(){if(Rt!==null){if(en===0)var t=Rt.return;else t=Rt,qo=Pu=null,q5(t),od=null,hp=0,t=Rt;for(;t!==null;)XM(t.alternate,t),t=t.return;Rt=null}}function _d(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,PB(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Yo=0,rS(),An=t,Rt=n=Go(t.current,null),Bt=e,en=0,ki=null,Vs=!1,rf=sA(t,e),tS=!1,wd=Di=nS=su=hl=$n=0,Ai=Hh=null,Hx=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Bi(r),a=1<<i;e|=t[i],r&=~a}return ts=e,pv(),n}function yO(t,e){kt=null,bt.H=Ap,e===nf||e===mv?(e=zT(),en=3):e===D5?(e=zT(),en=4):en=e===X5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ki=e,Rt===null&&($n=1,$g(t,ua(e,t.current)))}function bO(){var t=Hi.current;return t===null?!0:(Bt&4194048)===Bt?ha===null:(Bt&62914560)===Bt||Bt&536870912?t===ha:!1}function xO(){var t=bt.H;return bt.H=Ap,t===null?Ap:t}function wO(){var t=bt.A;return bt.A=lB,t}function Vg(){$n=4,Vs||(Bt&4194048)!==Bt&&Hi.current!==null||(rf=!0),!(hl&134217727)&&!(su&134217727)||An===null||Gs(An,Bt,Di,!1)}function e1(t,e,n){var r=Yt;Yt|=2;var i=xO(),a=wO();(An!==t||Bt!==e)&&(zg=null,_d(t,e)),e=!1;var o=$n;e:do try{if(en!==0&&Rt!==null){var s=Rt,l=ki;switch(en){case 8:rS(),o=6;break e;case 3:case 2:case 9:case 6:Hi.current===null&&(e=!0);var u=en;if(en=0,ki=null,Kc(t,s,l,u),n&&rf){o=0;break e}break;default:u=en,en=0,ki=null,Kc(t,s,l,u)}}dB(),o=$n;break}catch(c){yO(t,c)}while(!0);return e&&t.shellSuspendCounter++,qo=Pu=null,Yt=r,bt.H=i,bt.A=a,Rt===null&&(An=null,Bt=0,pv()),o}function dB(){for(;Rt!==null;)SO(Rt)}function fB(t,e){var n=Yt;Yt|=2;var r=xO(),i=wO();An!==t||Bt!==e?(zg=null,Hg=Ri()+500,_d(t,e)):rf=sA(t,e);e:do try{if(en!==0&&Rt!==null){e=Rt;var a=ki;t:switch(en){case 1:en=0,ki=null,Kc(t,e,a,1);break;case 2:case 9:if(HT(a)){en=0,ki=null,hC(e);break}e=function(){en!==2&&en!==9||An!==t||(en=7),Ao(t)},a.then(e,e);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:HT(a)?(en=0,ki=null,hC(e)):(en=0,ki=null,Kc(t,e,a,7));break;case 5:var o=null;switch(Rt.tag){case 26:o=Rt.memoizedState;case 5:case 27:var s=Rt;if(o?HO(o):s.stateNode.complete){en=0,ki=null;var l=s.sibling;if(l!==null)Rt=l;else{var u=s.return;u!==null?(Rt=u,Sv(u)):Rt=null}break t}}en=0,ki=null,Kc(t,e,a,5);break;case 6:en=0,ki=null,Kc(t,e,a,6);break;case 8:rS(),$n=6;break e;default:throw Error(Fe(462))}}hB();break}catch(c){yO(t,c)}while(!0);return qo=Pu=null,bt.H=r,bt.A=i,Yt=n,Rt!==null?0:(An=null,Bt=0,pv(),$n)}function hB(){for(;Rt!==null&&!L7();)SO(Rt)}function SO(t){var e=JM(t.alternate,t,ts);t.memoizedProps=t.pendingProps,e===null?Sv(t):Rt=e}function hC(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=oC(n,e,e.pendingProps,e.type,void 0,Bt);break;case 11:e=oC(n,e,e.pendingProps,e.type.render,e.ref,Bt);break;case 5:q5(e);default:XM(n,e),e=Rt=X6(e,ts),e=JM(n,e,ts)}t.memoizedProps=t.pendingProps,e===null?Sv(t):Rt=e}function Kc(t,e,n,r){qo=Pu=null,q5(e),od=null,hp=0;var i=e.return;try{if(tB(t,i,e,n,Bt)){$n=1,$g(t,ua(n,t.current)),Rt=null;return}}catch(a){if(i!==null)throw Rt=i,a;$n=1,$g(t,ua(n,t.current)),Rt=null;return}e.flags&32768?($t||r===1?t=!0:rf||Bt&536870912?t=!1:(Vs=t=!0,(r===2||r===9||r===3||r===6)&&(r=Hi.current,r!==null&&r.tag===13&&(r.flags|=16384))),_O(e,t)):Sv(e)}function Sv(t){var e=t;do{if(e.flags&32768){_O(e,Vs);return}t=e.return;var n=iB(e.alternate,e,ts);if(n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);$n===0&&($n=5)}function _O(t,e){do{var n=aB(t.alternate,t);if(n!==null){n.flags&=32767,Rt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=n}while(t!==null);$n=6,Rt=null}function pC(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do _v();while(hr!==0);if(Yt&6)throw Error(Fe(327));if(e!==null){if(e===t.current)throw Error(Fe(177));if(a=e.lanes|e.childLanes,a|=E5,G7(t,n,a,o,s,l),t===An&&(Rt=An=null,Bt=0),Sd=e,tl=t,Yo=n,zx=a,Vx=i,mO=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,gB(kg,function(){return kO(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=bt.T,bt.T=null,i=Kt.p,Kt.p=2,o=Yt,Yt|=4;try{oB(t,e,n)}finally{Yt=o,Kt.p=i,bt.T=r}}hr=1,TO(),CO(),NO()}}function TO(){if(hr===1){hr=0;var t=tl,e=Sd,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=bt.T,bt.T=null;var r=Kt.p;Kt.p=2;var i=Yt;Yt|=4;try{lO(e,t);var a=Jx,o=H6(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&q6(s.ownerDocument.documentElement,s)){if(l!==null&&N5(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),v=s.textContent.length,b=Math.min(l.start,v),x=l.end===void 0?b:Math.min(l.end,v);!p.extend&&b>x&&(o=x,x=b,b=o);var y=LT(s,b),w=LT(s,x);if(y&&w&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==w.node||p.focusOffset!==w.offset)){var S=d.createRange();S.setStart(y.node,y.offset),p.removeAllRanges(),b>x?(p.addRange(S),p.extend(w.node,w.offset)):(S.setEnd(w.node,w.offset),p.addRange(S))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var T=d[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Zg=!!Kx,Jx=Kx=null}finally{Yt=i,Kt.p=r,bt.T=n}}t.current=e,hr=2}}function CO(){if(hr===2){hr=0;var t=tl,e=Sd,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=bt.T,bt.T=null;var r=Kt.p;Kt.p=2;var i=Yt;Yt|=4;try{rO(t,e.alternate,e)}finally{Yt=i,Kt.p=r,bt.T=n}}hr=3}}function NO(){if(hr===4||hr===3){hr=0,R7();var t=tl,e=Sd,n=Yo,r=mO;e.subtreeFlags&10256||e.flags&10256?hr=5:(hr=0,Sd=tl=null,EO(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(el=null),b5(n),e=e.stateNode,Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(oA,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=bt.T,i=Kt.p,Kt.p=2,bt.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{bt.T=e,Kt.p=i}}Yo&3&&_v(),Ao(t),i=t.pendingLanes,n&261930&&i&42?t===Gx?zh++:(zh=0,Gx=t):zh=0,pA(0)}}function EO(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,dA(e)))}function _v(){return TO(),CO(),NO(),kO()}function kO(){if(hr!==5)return!1;var t=tl,e=zx;zx=0;var n=b5(Yo),r=bt.T,i=Kt.p;try{Kt.p=32>n?32:n,bt.T=null,n=Vx,Vx=null;var a=tl,o=Yo;if(hr=0,Sd=tl=null,Yo=0,Yt&6)throw Error(Fe(331));var s=Yt;if(Yt|=4,hO(a.current),cO(a,a.current,o,n),Yt=s,pA(0,!1),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(oA,a)}catch{}return!0}finally{Kt.p=i,bt.T=r,EO(t,e)}}function AC(t,e,n){e=ua(n,e),e=Bx(t.stateNode,e,2),t=Zs(t,e,2),t!==null&&(lA(t,2),Ao(t))}function tn(t,e,n){if(t.tag===3)AC(t,t,n);else for(;e!==null;){if(e.tag===3){AC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(el===null||!el.has(r))){t=ua(n,t),n=zM(2),r=Zs(e,n,2),r!==null&&(VM(n,r,e,t),lA(r,2),Ao(r));break}}e=e.return}}function t1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(tS=!0,i.add(n),t=pB.bind(null,t,e,n),e.then(t,t))}function pB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,An===t&&(Bt&n)===n&&($n===4||$n===3&&(Bt&62914560)===Bt&&300>Ri()-xv?!(Yt&2)&&_d(t,0):nS|=n,wd===Bt&&(wd=0)),Ao(t)}function PO(t,e){e===0&&(e=x6()),t=ku(t,e),t!==null&&(lA(t,e),Ao(t))}function AB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PO(t,n)}function mB(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Fe(314))}r!==null&&r.delete(e),PO(t,n)}function gB(t,e){return v5(t,e)}var Gg=null,Mc=null,Wx=!1,Wg=!1,n1=!1,Ws=0;function Ao(t){t!==Mc&&t.next===null&&(Mc===null?Gg=Mc=t:Mc=Mc.next=t),Wg=!0,Wx||(Wx=!0,yB())}function pA(t,e){if(!n1&&Wg){n1=!0;do for(var n=!1,r=Gg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Bi(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,mC(r,a))}else a=Bt,a=cv(r,r===An?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||sA(r,a)||(n=!0,mC(r,a));r=r.next}while(n);n1=!1}}function vB(){MO()}function MO(){Wg=Wx=!1;var t=0;Ws!==0&&kB()&&(t=Ws);for(var e=Ri(),n=null,r=Gg;r!==null;){var i=r.next,a=OO(r,e);a===0?(r.next=null,n===null?Gg=i:n.next=i,i===null&&(Mc=n)):(n=r,(t!==0||a&3)&&(Wg=!0)),r=i}hr!==0&&hr!==5||pA(t),Ws!==0&&(Ws=0)}function OO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Bi(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=V7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=An,n=Bt,n=cv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(en===2||en===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Pb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||sA(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Pb(r),b5(n)){case 2:case 8:n=y6;break;case 32:n=kg;break;case 268435456:n=b6;break;default:n=kg}return r=jO.bind(null,t),n=v5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Pb(r),t.callbackPriority=2,t.callbackNode=null,2}function jO(t,e){if(hr!==0&&hr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(_v()&&t.callbackNode!==n)return null;var r=Bt;return r=cv(t,t===An?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(vO(t,r,e),OO(t,Ri()),t.callbackNode!=null&&t.callbackNode===n?jO.bind(null,t):null)}function mC(t,e){if(_v())return null;vO(t,e,!0)}function yB(){MB(function(){Yt&6?v5(v6,vB):MO()})}function iS(){if(Ws===0){var t=yd;t===0&&(t=xm,xm<<=1,!(xm&261888)&&(xm=256)),Ws=t}return Ws}function gC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ug(""+t)}function vC(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function bB(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=gC((i[yi]||null).action),o=r.submitter;o&&(e=(e=o[yi]||null)?gC(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new dv("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ws!==0){var l=o?vC(i,o):new FormData(i);Rx(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?vC(i,o):new FormData(i),Rx(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var r1=0;r1<Tx.length;r1++){var i1=Tx[r1],xB=i1.toLowerCase(),wB=i1[0].toUpperCase()+i1.slice(1);qa(xB,"on"+wB)}qa(V6,"onAnimationEnd");qa(G6,"onAnimationIteration");qa(W6,"onAnimationStart");qa("dblclick","onDoubleClick");qa("focusin","onFocus");qa("focusout","onBlur");qa(FF,"onTransitionRun");qa(BF,"onTransitionStart");qa($F,"onTransitionCancel");qa(Y6,"onTransitionEnd");gd("onMouseEnter",["mouseout","mouseover"]);gd("onMouseLeave",["mouseout","mouseover"]);gd("onPointerEnter",["pointerout","pointerover"]);gd("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mp));function IO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Mg(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Mg(c)}i.currentTarget=null,a=l}}}}function Lt(t,e){var n=e[gx];n===void 0&&(n=e[gx]=new Set);var r=t+"__bubble";n.has(r)||(DO(e,t,2,!1),n.add(r))}function a1(t,e,n){var r=0;e&&(r|=4),DO(n,t,r,e)}var Mm="_reactListening"+Math.random().toString(36).slice(2);function aS(t){if(!t[Mm]){t[Mm]=!0,C6.forEach(function(n){n!=="selectionchange"&&(SB.has(n)||a1(n,!1,t),a1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mm]||(e[Mm]=!0,a1("selectionchange",!1,e))}}function DO(t,e,n,r){switch(YO(e)){case 2:var i=XB;break;case 8:i=QB;break;default:i=uS}n=i.bind(null,e,n,t),i=void 0,!wx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=$c(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}I6(function(){var u=a,c=S5(n),d=[];e:{var h=K6.get(t);if(h!==void 0){var p=dv,v=t;switch(t){case"keypress":if(dg(n)===0)break e;case"keydown":case"keyup":p=mF;break;case"focusin":v="focus",p=Db;break;case"focusout":v="blur",p=Db;break;case"beforeblur":case"afterblur":p=Db;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yF;break;case V6:case G6:case W6:p=sF;break;case Y6:p=xF;break;case"scroll":case"scrollend":p=nF;break;case"wheel":p=SF;break;case"copy":case"cut":case"paste":p=uF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ET;break;case"toggle":case"beforetoggle":p=TF}var b=(e&4)!==0,x=!b&&(t==="scroll"||t==="scrollend"),y=b?h!==null?h+"Capture":null:h;b=[];for(var w=u,S;w!==null;){var T=w;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||y===null||(T=lp(w,y),T!=null&&b.push(gp(w,T,S))),x)break;w=w.return}0<b.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==xx&&(v=n.relatedTarget||n.fromElement)&&($c(v)||v[Zd]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?$c(v):null,v!==null&&(x=aA(v),b=v.tag,v!==x||b!==5&&b!==27&&b!==6)&&(v=null)):(p=null,v=u),p!==v)){if(b=CT,T="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=ET,T="onPointerLeave",y="onPointerEnter",w="pointer"),x=p==null?h:Nh(p),S=v==null?h:Nh(v),h=new b(T,w+"leave",p,n,c),h.target=x,h.relatedTarget=S,T=null,$c(c)===u&&(b=new b(y,w+"enter",v,n,c),b.target=S,b.relatedTarget=x,T=b),x=T,p&&v)t:{for(b=_B,y=p,w=v,S=0,T=y;T;T=b(T))S++;T=0;for(var C=w;C;C=b(C))T++;for(;0<S-T;)y=b(y),S--;for(;0<T-S;)w=b(w),T--;for(;S--;){if(y===w||w!==null&&y===w.alternate){b=y;break t}y=b(y),w=b(w)}b=null}else b=null;p!==null&&yC(d,h,p,b,!1),v!==null&&x!==null&&yC(d,x,v,b,!0)}}e:{if(h=u?Nh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=OT;else if(MT(h))if($6)k=DF;else{k=jF;var E=OF}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&w5(u.elementType)&&(k=OT):k=IF;if(k&&(k=k(t,u))){B6(d,k,n,c);break e}E&&E(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&bx(h,"number",h.value)}switch(E=u?Nh(u):window,t){case"focusin":(MT(E)||E.contentEditable==="true")&&(Hc=E,Sx=u,Dh=null);break;case"focusout":Dh=Sx=Hc=null;break;case"mousedown":_x=!0;break;case"contextmenu":case"mouseup":case"dragend":_x=!1,RT(d,n,c);break;case"selectionchange":if(RF)break;case"keydown":case"keyup":RT(d,n,c)}var M;if(C5)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else qc?R6(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(L6&&n.locale!=="ko"&&(qc||I!=="onCompositionStart"?I==="onCompositionEnd"&&qc&&(M=D6()):(zs=c,_5="value"in zs?zs.value:zs.textContent,qc=!0)),E=Yg(u,I),0<E.length&&(I=new NT(I,t,null,n,c),d.push({event:I,listeners:E}),M?I.data=M:(M=F6(n),M!==null&&(I.data=M)))),(M=NF?EF(t,n):kF(t,n))&&(I=Yg(u,"onBeforeInput"),0<I.length&&(E=new NT("onBeforeInput","beforeinput",null,n,c),d.push({event:E,listeners:I}),E.data=M)),bB(d,t,u,n,c)}IO(d,e)})}function gp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=lp(t,n),i!=null&&r.unshift(gp(t,i,a)),i=lp(t,e),i!=null&&r.push(gp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function _B(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=lp(n,a),u!=null&&o.unshift(gp(n,u,l))):i||(u=lp(n,a),u!=null&&o.push(gp(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TB=/\r\n?/g,CB=/\u0000|\uFFFD/g;function bC(t){return(typeof t=="string"?t:""+t).replace(TB,`
`).replace(CB,"")}function LO(t,e){return e=bC(e),bC(t)===e}function sn(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||vd(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&vd(t,""+r);break;case"className":_m(t,"class",r);break;case"tabIndex":_m(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":_m(t,n,r);break;case"style":j6(t,r,a);break;case"data":if(e!=="object"){_m(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ug(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&sn(t,e,"name",i.name,i,null),sn(t,e,"formEncType",i.formEncType,i,null),sn(t,e,"formMethod",i.formMethod,i,null),sn(t,e,"formTarget",i.formTarget,i,null)):(sn(t,e,"encType",i.encType,i,null),sn(t,e,"method",i.method,i,null),sn(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ug(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Uo);break;case"onScroll":r!=null&&Lt("scroll",t);break;case"onScrollEnd":r!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Fe(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Fe(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=ug(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),lg(t,"popover",r);break;case"xlinkActuate":ko(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ko(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ko(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ko(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ko(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ko(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ko(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ko(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ko(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lg(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=eF.get(n)||n,lg(t,n,r))}}function Yx(t,e,n,r,i,a){switch(n){case"style":j6(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Fe(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Fe(60));t.innerHTML=n}}break;case"children":typeof r=="string"?vd(t,r):(typeof r=="number"||typeof r=="bigint")&&vd(t,""+r);break;case"onScroll":r!=null&&Lt("scroll",t);break;case"onScrollEnd":r!=null&&Lt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!N6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[yi]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):lg(t,n,r)}}}function Lr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Fe(137,e));default:sn(t,e,a,o,n,null)}}i&&sn(t,e,"srcSet",n.srcSet,n,null),r&&sn(t,e,"src",n.src,n,null);return;case"input":Lt("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(Fe(137,e));break;default:sn(t,e,r,c,n,null)}}P6(t,a,s,l,u,o,i,!1);return;case"select":Lt("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:sn(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?rd(t,!!r,e,!1):n!=null&&rd(t,!!r,n,!0);return;case"textarea":Lt("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(Fe(91));break;default:sn(t,e,o,s,n,null)}O6(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:sn(t,e,l,r,n,null)}return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(r=0;r<mp.length;r++)Lt(mp[r],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Fe(137,e));default:sn(t,e,u,r,n,null)}return;default:if(w5(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&Yx(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&sn(t,e,s,r,n,null))}function NB(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(p)||sn(t,e,p,null,r,d)}}for(var h in r){var p=r[h];if(d=n[h],r.hasOwnProperty(h)&&(p!=null||d!=null))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Fe(137,e));break;default:p!==d&&sn(t,e,h,p,r,d)}}yx(t,o,s,l,u,c,a,i);return;case"select":p=o=s=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||sn(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&sn(t,e,i,a,r,l)}e=s,n=o,r=p,h!=null?rd(t,!!n,h,!1):!!r!=!!n&&(e!=null?rd(t,!!n,e,!0):rd(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:sn(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Fe(91));break;default:i!==a&&sn(t,e,o,i,r,a)}M6(t,h,p);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:sn(t,e,v,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:sn(t,e,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&sn(t,e,b,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Fe(137,e));break;default:sn(t,e,u,h,r,p)}return;default:if(w5(e)){for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!==void 0&&!r.hasOwnProperty(x)&&Yx(t,e,x,void 0,r,h);for(c in r)h=r[c],p=n[c],!r.hasOwnProperty(c)||h===p||h===void 0&&p===void 0||Yx(t,e,c,h,r,p);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y)&&sn(t,e,y,null,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||h==null&&p==null||sn(t,e,d,h,r,p)}function xC(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EB(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&xC(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,d=l.initiatorType;c&&xC(d)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kx=null,Jx=null;function Kg(t){return t.nodeType===9?t:t.ownerDocument}function wC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RO(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Xx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s1=null;function kB(){var t=window.event;return t&&t.type==="popstate"?t===s1?!1:(s1=t,!0):(s1=null,!1)}var FO=typeof setTimeout=="function"?setTimeout:void 0,PB=typeof clearTimeout=="function"?clearTimeout:void 0,SC=typeof Promise=="function"?Promise:void 0,MB=typeof queueMicrotask=="function"?queueMicrotask:typeof SC<"u"?function(t){return SC.resolve(null).then(t).catch(OB)}:FO;function OB(t){setTimeout(function(){throw t})}function vl(t){return t==="head"}function _C(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Cd(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Vh(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Vh(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[uA]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&Vh(t.ownerDocument.body);n=i}while(n);Cd(e)}function TC(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Qx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Qx(n),x5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function jB(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[uA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=pa(t.nextSibling),t===null)break}return null}function IB(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=pa(t.nextSibling),t===null))return null;return t}function BO(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=pa(t.nextSibling),t===null))return null;return t}function Zx(t){return t.data==="$?"||t.data==="$~"}function e2(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function DB(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var t2=null;function CC(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return pa(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function NC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function $O(t,e,n){switch(e=Kg(n),t){case"html":if(t=e.documentElement,!t)throw Error(Fe(452));return t;case"head":if(t=e.head,!t)throw Error(Fe(453));return t;case"body":if(t=e.body,!t)throw Error(Fe(454));return t;default:throw Error(Fe(451))}}function Vh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);x5(t)}var va=new Map,EC=new Set;function Jg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=Kt.d;Kt.d={f:LB,r:RB,D:FB,C:BB,L:$B,m:UB,X:HB,S:qB,M:zB};function LB(){var t=os.f(),e=wv();return t||e}function RB(t){var e=ef(t);e!==null&&e.tag===5&&e.type==="form"?jM(e):os.r(t)}var af=typeof document>"u"?null:document;function UO(t,e,n){var r=af;if(r&&typeof e=="string"&&e){var i=la(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),EC.has(i)||(EC.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Lr(e,"link",t),_r(e),r.head.appendChild(e)))}}function FB(t){os.D(t),UO("dns-prefetch",t,null)}function BB(t,e){os.C(t,e),UO("preconnect",t,e)}function $B(t,e,n){os.L(t,e,n);var r=af;if(r&&t&&e){var i='link[rel="preload"][as="'+la(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+la(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+la(n.imageSizes)+'"]')):i+='[href="'+la(t)+'"]';var a=i;switch(e){case"style":a=Td(t);break;case"script":a=of(t)}va.has(a)||(t=Mn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),va.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(AA(a))||e==="script"&&r.querySelector(mA(a))||(e=r.createElement("link"),Lr(e,"link",t),_r(e),r.head.appendChild(e)))}}function UB(t,e){os.m(t,e);var n=af;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+la(r)+'"][href="'+la(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=of(t)}if(!va.has(a)&&(t=Mn({rel:"modulepreload",href:t},e),va.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mA(a)))return}r=n.createElement("link"),Lr(r,"link",t),_r(r),n.head.appendChild(r)}}}function qB(t,e,n){os.S(t,e,n);var r=af;if(r&&t){var i=nd(r).hoistableStyles,a=Td(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(AA(a)))s.loading=5;else{t=Mn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=va.get(a))&&oS(t,n);var l=o=r.createElement("link");_r(l),Lr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,yg(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function HB(t,e){os.X(t,e);var n=af;if(n&&t){var r=nd(n).hoistableScripts,i=of(t),a=r.get(i);a||(a=n.querySelector(mA(i)),a||(t=Mn({src:t,async:!0},e),(e=va.get(i))&&sS(t,e),a=n.createElement("script"),_r(a),Lr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function zB(t,e){os.M(t,e);var n=af;if(n&&t){var r=nd(n).hoistableScripts,i=of(t),a=r.get(i);a||(a=n.querySelector(mA(i)),a||(t=Mn({src:t,async:!0,type:"module"},e),(e=va.get(i))&&sS(t,e),a=n.createElement("script"),_r(a),Lr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function kC(t,e,n,r){var i=(i=Js.current)?Jg(i):null;if(!i)throw Error(Fe(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Td(n.href),n=nd(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Td(n.href);var a=nd(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(AA(t)))&&!a._p&&(o.instance=a,o.state.loading=5),va.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},va.set(t,n),a||VB(i,t,n,o.state))),e&&r===null)throw Error(Fe(528,""));return o}if(e&&r!==null)throw Error(Fe(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=of(n),n=nd(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Fe(444,t))}}function Td(t){return'href="'+la(t)+'"'}function AA(t){return'link[rel="stylesheet"]['+t+"]"}function qO(t){return Mn({},t,{"data-precedence":t.precedence,precedence:null})}function VB(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Lr(e,"link",n),_r(e),t.head.appendChild(e))}function of(t){return'[src="'+la(t)+'"]'}function mA(t){return"script[async]"+t}function PC(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+la(n.href)+'"]');if(r)return e.instance=r,_r(r),r;var i=Mn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),_r(r),Lr(r,"style",i),yg(r,n.precedence,t),e.instance=r;case"stylesheet":i=Td(n.href);var a=t.querySelector(AA(i));if(a)return e.state.loading|=4,e.instance=a,_r(a),a;r=qO(n),(i=va.get(i))&&oS(r,i),a=(t.ownerDocument||t).createElement("link"),_r(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Lr(a,"link",r),e.state.loading|=4,yg(a,n.precedence,t),e.instance=a;case"script":return a=of(n.src),(i=t.querySelector(mA(a)))?(e.instance=i,_r(i),i):(r=n,(i=va.get(a))&&(r=Mn({},n),sS(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),_r(i),Lr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Fe(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,yg(r,n.precedence,t));return e.instance}function yg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function oS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function sS(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var bg=null;function MC(t,e,n){if(bg===null){var r=new Map,i=bg=new Map;i.set(n,r)}else i=bg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[uA]||a[jr]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function OC(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function GB(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function HO(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function WB(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Td(r.href),a=e.querySelector(AA(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Xg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,_r(a);return}a=e.ownerDocument||e,r=qO(r),(i=va.get(i))&&oS(r,i),a=a.createElement("link"),_r(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Lr(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Xg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var l1=0;function YB(t,e){return t.stylesheets&&t.count===0&&xg(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&xg(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&l1===0&&(l1=62500*EB());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xg(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>l1?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Xg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qg=null;function xg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qg=new Map,e.forEach(KB,t),Qg=null,Xg.call(t))}function KB(t,e){if(!(e.state.loading&4)){var n=Qg.get(t);if(n)var r=n.get(null);else{n=new Map,Qg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Xg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var vp={$$typeof:$o,Provider:null,Consumer:null,_currentValue:ru,_currentValue2:ru,_threadCount:0};function JB(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mb(0),this.hiddenUpdates=Mb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function zO(t,e,n,r,i,a,o,s,l,u,c,d){return t=new JB(t,e,n,o,l,u,c,d,s),e=1,a===!0&&(e|=24),a=Oi(3,null,null,e),t.current=a,a.stateNode=t,e=j5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},L5(a),t}function VO(t){return t?(t=Gc,t):Gc}function GO(t,e,n,r,i,a){i=VO(i),r.context===null?r.context=i:r.pendingContext=i,r=Qs(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Zs(t,r,e),n!==null&&(vi(n,t,e),Rh(n,t,e))}function jC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lS(t,e){jC(t,e),(t=t.alternate)&&jC(t,e)}function WO(t){if(t.tag===13||t.tag===31){var e=ku(t,67108864);e!==null&&vi(e,t,67108864),lS(t,67108864)}}function IC(t){if(t.tag===13||t.tag===31){var e=$i();e=y5(e);var n=ku(t,e);n!==null&&vi(n,t,e),lS(t,e)}}var Zg=!0;function XB(t,e,n,r){var i=bt.T;bt.T=null;var a=Kt.p;try{Kt.p=2,uS(t,e,n,r)}finally{Kt.p=a,bt.T=i}}function QB(t,e,n,r){var i=bt.T;bt.T=null;var a=Kt.p;try{Kt.p=8,uS(t,e,n,r)}finally{Kt.p=a,bt.T=i}}function uS(t,e,n,r){if(Zg){var i=n2(r);if(i===null)o1(t,e,r,e0,n),DC(t,r);else if(e$(i,t,e,n,r))r.stopPropagation();else if(DC(t,r),e&4&&-1<ZB.indexOf(t)){for(;i!==null;){var a=ef(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=ql(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Bi(o);s.entanglements[1]|=l,o&=~l}Ao(a),!(Yt&6)&&(Hg=Ri()+500,pA(0))}}break;case 31:case 13:s=ku(a,2),s!==null&&vi(s,a,2),wv(),lS(a,2)}if(a=n2(r),a===null&&o1(t,e,r,e0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else o1(t,e,r,null,n)}}function n2(t){return t=S5(t),cS(t)}var e0=null;function cS(t){if(e0=null,t=$c(t),t!==null){var e=aA(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=h6(e),t!==null)return t;t=null}else if(n===31){if(t=p6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return e0=t,null}function YO(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F7()){case v6:return 2;case y6:return 8;case kg:case B7:return 32;case b6:return 268435456;default:return 32}default:return 32}}var r2=!1,nl=null,rl=null,il=null,yp=new Map,bp=new Map,Bs=[],ZB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DC(t,e){switch(t){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":yp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bp.delete(e.pointerId)}}function uh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ef(e),e!==null&&WO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e$(t,e,n,r,i){switch(e){case"focusin":return nl=uh(nl,t,e,n,r,i),!0;case"dragenter":return rl=uh(rl,t,e,n,r,i),!0;case"mouseover":return il=uh(il,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return yp.set(a,uh(yp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,bp.set(a,uh(bp.get(a)||null,t,e,n,r,i)),!0}return!1}function KO(t){var e=$c(t.target);if(e!==null){var n=aA(e);if(n!==null){if(e=n.tag,e===13){if(e=h6(n),e!==null){t.blockedOn=e,yT(t.priority,function(){IC(n)});return}}else if(e===31){if(e=p6(n),e!==null){t.blockedOn=e,yT(t.priority,function(){IC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=n2(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xx=r,n.target.dispatchEvent(r),xx=null}else return e=ef(n),e!==null&&WO(e),t.blockedOn=n,!1;e.shift()}return!0}function LC(t,e,n){wg(t)&&n.delete(e)}function t$(){r2=!1,nl!==null&&wg(nl)&&(nl=null),rl!==null&&wg(rl)&&(rl=null),il!==null&&wg(il)&&(il=null),yp.forEach(LC),bp.forEach(LC)}function Om(t,e){t.blockedOn===e&&(t.blockedOn=null,r2||(r2=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,t$)))}var jm=null;function RC(t){jm!==t&&(jm=t,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,function(){jm===t&&(jm=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(cS(r||n)===null)continue;break}var a=ef(n);a!==null&&(t.splice(e,3),e-=3,Rx(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Cd(t){function e(l){return Om(l,t)}nl!==null&&Om(nl,t),rl!==null&&Om(rl,t),il!==null&&Om(il,t),yp.forEach(e),bp.forEach(e);for(var n=0;n<Bs.length;n++){var r=Bs[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)KO(n),n.blockedOn===null&&Bs.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[yi]||null;if(typeof a=="function")o||RC(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[yi]||null)s=o.formAction;else if(cS(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),RC(n)}}}function JO(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function dS(t){this._internalRoot=t}Tv.prototype.render=dS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Fe(409));var n=e.current,r=$i();GO(n,r,t,e,null,null)};Tv.prototype.unmount=dS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;GO(t.current,2,null,t,null,null),wv(),e[Zd]=null}};function Tv(t){this._internalRoot=t}Tv.prototype.unstable_scheduleHydration=function(t){if(t){var e=T6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bs.length&&e!==0&&e<Bs[n].priority;n++);Bs.splice(n,0,t),n===0&&KO(t)}};var FC=d6.version;if(FC!=="19.2.0")throw Error(Fe(527,FC,"19.2.0"));Kt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Fe(188)):(t=Object.keys(t).join(","),Error(Fe(268,t)));return t=M7(e),t=t!==null?A6(t):null,t=t===null?null:t.stateNode,t};var n$={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:bt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{oA=Im.inject(n$),Fi=Im}catch{}}lv.createRoot=function(t,e){if(!f6(t))throw Error(Fe(299));var n=!1,r="",i=UM,a=qM,o=HM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=zO(t,1,!1,null,null,n,r,null,i,a,o,JO),t[Zd]=e.current,aS(t),new dS(e)};lv.hydrateRoot=function(t,e,n){if(!f6(t))throw Error(Fe(299));var r=!1,i="",a=UM,o=qM,s=HM,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=zO(t,1,!0,e,n??null,r,i,l,a,o,s,JO),e.context=VO(null),n=e.current,r=$i(),r=y5(r),i=Qs(r),i.callback=null,Zs(n,i,r),n=r,e.current.lanes=n,lA(e,n),Ao(e),t[Zd]=e.current,aS(t),new Tv(e)};lv.version="19.2.0";function XO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XO)}catch(t){console.error(t)}}XO(),a6.exports=lv;var r$=a6.exports;const i$=Jt(r$),a$="pos-app-db",o$=2;let Dm=null;const s$=()=>(Dm||(Dm=new Promise((t,e)=>{const n=indexedDB.open(a$,o$);n.onerror=()=>{console.error("IndexedDB opening error:",n.error),Dm=null,e(n.error)},n.onsuccess=()=>{t(n.result)},n.onupgradeneeded=()=>{const r=n.result;Object.keys({products:[],productVariants:[],sales:[],expenses:[],users:[],returns:[],stores:[],customers:[],suppliers:[],categories:[],purchases:[],stockBatches:[]}).forEach(i=>{r.objectStoreNames.contains(i)||r.createObjectStore(i,{keyPath:"id"})})}})),Dm);function Qi(t){const[e,n]=re.useState([]),r=re.useCallback(async c=>(await s$()).transaction(t,c).objectStore(t),[t]),i=re.useCallback(async()=>{const d=(await r("readonly")).getAll();return new Promise((h,p)=>{d.onsuccess=()=>h(d.result),d.onerror=()=>p(d.error)})},[r]);re.useEffect(()=>{i().then(n).catch(console.error)},[i]);const a=re.useCallback(async c=>{const h=(await r("readwrite")).add(c);return new Promise((p,v)=>{h.onsuccess=()=>{n(b=>[...b,c]),p()},h.onerror=()=>v(h.error)})},[r]),o=re.useCallback(async c=>{if(c.length===0)return;const d=await r("readwrite"),h=d.transaction;return c.forEach(p=>d.add(p)),new Promise((p,v)=>{h.oncomplete=()=>{n(b=>[...b,...c]),p()},h.onerror=()=>v(h.error)})},[r]),s=re.useCallback(async c=>{const h=(await r("readwrite")).put(c);return new Promise((p,v)=>{h.onsuccess=()=>{n(b=>b.map(x=>x.id===c.id?c:x)),p()},h.onerror=()=>v(h.error)})},[r]),l=re.useCallback(async c=>{const h=(await r("readwrite")).delete(c);return new Promise((p,v)=>{h.onsuccess=()=>{n(b=>b.filter(x=>x.id!==c)),p()},h.onerror=()=>v(h.error)})},[r]),u=re.useCallback(async()=>{const d=(await r("readwrite")).clear();return new Promise((h,p)=>{d.onsuccess=()=>{n([]),h()},d.onerror=()=>p(d.error)})},[r]);return{data:e,setData:n,add:a,update:s,remove:l,clear:u,bulkAdd:o}}function l$(t,e){const n=localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(r){console.error("Error parsing JSON from localStorage",r),localStorage.removeItem(t)}return e instanceof Function?e():e}function vc(t,e){const[n,r]=re.useState(()=>l$(t,e));return re.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(n))}catch(i){console.error("Error setting item to localStorage",i)}},[t,n]),[n,r]}const u$="modulepreload",c$=function(t){return"/goshop0.2/"+t},BC={},pl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=c$(l),l in BC)return;BC[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":u$,u||(d.as="script"),d.crossOrigin="",d.href=l,s&&d.setAttribute("nonce",s),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},d$=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pl(async()=>{const{default:r}=await Promise.resolve().then(()=>sf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $C extends fS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class UC extends fS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qC extends fS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var i2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(i2||(i2={}));var f$=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class h${constructor(e,{headers:n={},customFetch:r,region:i=i2.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=d$(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return f$(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d,signal:s}).catch(x=>{throw x.name==="AbortError"?x:new $C(x)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new UC(h);if(!h.ok)throw new qC(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield h.json():v==="application/octet-stream"?b=yield h.blob():v==="text/event-stream"?b=h:v==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new $C(i)}:{data:null,error:i,response:i instanceof qC||i instanceof UC?i.context:void 0}}})}}var mi={},hS={},Cv={},gA={},Nv={},Ev={},p$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nd=p$();const A$=Nd.fetch,QO=Nd.fetch.bind(Nd),ZO=Nd.Headers,m$=Nd.Request,g$=Nd.Response,sf=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZO,Request:m$,Response:g$,default:QO,fetch:A$},Symbol.toStringTag,{value:"Module"})),v$=KP(sf);var kv={};Object.defineProperty(kv,"__esModule",{value:!0});let y$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};kv.default=y$;var ej=pr&&pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ev,"__esModule",{value:!0});const b$=ej(v$),x$=ej(kv);let w$=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=b$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,u;let c=null,d=null,h=null,p=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=w:d=JSON.parse(w))}const x=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await a.text();try{c=JSON.parse(x),Array.isArray(c)&&a.status===404&&(d=[],c=null,p=200,v="OK")}catch{a.status===404&&x===""?(p=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new x$.default(c)}return{error:c,data:d,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Ev.default=w$;var S$=pr&&pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nv,"__esModule",{value:!0});const _$=S$(Ev);let T$=class extends _$.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Nv.default=T$;var C$=pr&&pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gA,"__esModule",{value:!0});const N$=C$(Nv);let E$=class extends N$.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};gA.default=E$;var k$=pr&&pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cv,"__esModule",{value:!0});const ch=k$(gA);let P$=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new ch.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new ch.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ch.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ch.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ch.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Cv.default=P$;var tj=pr&&pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hS,"__esModule",{value:!0});const M$=tj(Cv),O$=tj(gA);let j$=class nj{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new M$.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nj(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(s="POST",u=n);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new O$.default({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};hS.default=j$;var lf=pr&&pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:!0});mi.PostgrestError=mi.PostgrestBuilder=mi.PostgrestTransformBuilder=mi.PostgrestFilterBuilder=mi.PostgrestQueryBuilder=mi.PostgrestClient=void 0;const rj=lf(hS);mi.PostgrestClient=rj.default;const ij=lf(Cv);mi.PostgrestQueryBuilder=ij.default;const aj=lf(gA);mi.PostgrestFilterBuilder=aj.default;const oj=lf(Nv);mi.PostgrestTransformBuilder=oj.default;const sj=lf(Ev);mi.PostgrestBuilder=sj.default;const lj=lf(kv);mi.PostgrestError=lj.default;var I$=mi.default={PostgrestClient:rj.default,PostgrestQueryBuilder:ij.default,PostgrestFilterBuilder:aj.default,PostgrestTransformBuilder:oj.default,PostgrestBuilder:sj.default,PostgrestError:lj.default};const{PostgrestClient:D$,PostgrestQueryBuilder:E_e,PostgrestFilterBuilder:k_e,PostgrestTransformBuilder:P_e,PostgrestBuilder:M_e,PostgrestError:O_e}=I$;class L${static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const R$="2.15.5",F$=`realtime-js/${R$}`,B$="1.0.0",a2=1e4,$$=1e3,U$=100;var Gh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gh||(Gh={}));var dr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dr||(dr={}));var Ra;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ra||(Ra={}));var o2;(function(t){t.websocket="websocket"})(o2||(o2={}));var Jl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jl||(Jl={}));class q${constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class uj{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(yn||(yn={}));const HC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=H$(o,t,e,i),a),{})},H$=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?cj(a,o):s2(o)},cj=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return W$(e,n)}switch(t){case yn.bool:return z$(e);case yn.float4:case yn.float8:case yn.int2:case yn.int4:case yn.int8:case yn.numeric:case yn.oid:return V$(e);case yn.json:case yn.jsonb:return G$(e);case yn.timestamp:return Y$(e);case yn.abstime:case yn.date:case yn.daterange:case yn.int4range:case yn.int8range:case yn.money:case yn.reltime:case yn.text:case yn.time:case yn.timestamptz:case yn.timetz:case yn.tsrange:case yn.tstzrange:return s2(e);default:return s2(e)}},s2=t=>t,z$=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},V$=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},G$=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},W$=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>cj(e,s))}return t},Y$=t=>typeof t=="string"?t.replace(" ","T"):t,dj=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class u1{constructor(e,n,r={},i=a2){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zC;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zC||(zC={}));class Wh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Wh.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Wh.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=a[u];if(d){const h=c.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),v=c.filter(x=>p.indexOf(x.presence_ref)<0),b=d.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(l[u]=b)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const d=e[s].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var VC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(VC||(VC={}));var Yh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yh||(Yh={}));var Lo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Lo||(Lo={}));class pS{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new u1(this,Ra.join,this.params,this.timeout),this.rejoinTimer=new uj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ra.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Wh(this),this.broadcastEndpointURL=dj(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==dr.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Yh.PRESENCE]&&this.bindings[Yh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Lo.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Lo.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(Lo.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<x;w++){const S=b[w],{filter:{event:T,schema:C,table:k,filter:E}}=S,M=p&&p[w];if(M&&M.event===T&&M.schema===C&&M.table===k&&M.filter===E)y.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),this.state=dr.errored,e==null||e(Lo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Lo.SUBSCRIBED);return}}).receive("error",p=>{this.state=dr.errored,e==null||e(Lo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===dr.joined&&e===Yh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ra.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new u1(this,Ra.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dr.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new u1(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>U$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Ra;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,b,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(b=p.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var v,b,x,y,w,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,C=(v=p.filter)===null||v===void 0?void 0:v.event;return T&&((b=n.ids)===null||b===void 0?void 0:b.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(w=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:x,commit_timestamp:y,type:w,errors:S}=v;h=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(v))}p.callback(h,r)})}_isClosed(){return this.state===dr.closed}_isJoined(){return this.state===dr.joined}_isJoining(){return this.state===dr.joining}_isLeaving(){return this.state===dr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&pS.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ra.close,{},e)}_onError(e){this._on(Ra.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=HC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=HC(e.columns,e.old_record)),n}}const c1=()=>{},Lm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K$=[1e3,2e3,5e3,1e4],J$=1e4,X$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q${constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a2,this.transport=null,this.heartbeatIntervalMs=Lm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=c1,this.ref=0,this.reconnectTimer=null,this.logger=c1,this.conn=null,this.sendBuffer=[],this.serializer=new q$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>pl(async()=>{const{default:s}=await Promise.resolve().then(()=>sf);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${o2.websocket}`,this.httpEndpoint=dj(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L$.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B$}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gh.connecting:return Jl.Connecting;case Gh.open:return Jl.Open;case Gh.closing:return Jl.Closing;default:return Jl.Closed}}isConnected(){return this.connectionState()===Jl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new pS(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Lm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ra.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([X$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:F$};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ra.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:a2,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Lm.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:c1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>K$[d-1]||J$,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class AS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function er(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Z$ extends AS{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class l2 extends AS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var eU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const fj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pl(async()=>{const{default:r}=await Promise.resolve().then(()=>sf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},tU=()=>eU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pl(()=>Promise.resolve().then(()=>sf),void 0)).Response:Response}),u2=t=>{if(Array.isArray(t))return t.map(n=>u2(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=u2(r)}),e},nU=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Mu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const d1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rU=(t,e,n)=>Mu(void 0,void 0,void 0,function*(){const r=yield tU();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new Z$(d1(i),a,o))}).catch(i=>{e(new l2(d1(i),i))}):e(new l2(d1(t),t))}),iU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(nU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function vA(t,e,n,r,i,a){return Mu(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,iU(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>rU(l,s,r))})})}function t0(t,e,n,r){return Mu(this,void 0,void 0,function*(){return vA(t,"GET",e,n,r)})}function no(t,e,n,r,i){return Mu(this,void 0,void 0,function*(){return vA(t,"POST",e,r,i,n)})}function c2(t,e,n,r,i){return Mu(this,void 0,void 0,function*(){return vA(t,"PUT",e,r,i,n)})}function aU(t,e,n,r){return Mu(this,void 0,void 0,function*(){return vA(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hj(t,e,n,r,i){return Mu(this,void 0,void 0,function*(){return vA(t,"DELETE",e,r,i,n)})}var oU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class sU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return oU(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(er(e))return{data:null,error:e};throw e}})}}var lU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class uU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new sU(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return lU(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(er(e))return{data:null,error:e};throw e}})}}var hi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const cU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dU{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=fj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return hi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},GC),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?c2:no)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(er(a))return{data:null,error:a};throw a}})}upload(e,n,r){return hi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return hi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:GC.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield c2(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(er(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return hi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield no(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new AS("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}update(e,n,r){return hi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return hi(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}copy(e,n,r){return hi(this,void 0,void 0,function*(){try{return{data:{path:(yield no(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return hi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield no(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return hi(this,void 0,void 0,function*(){try{const i=yield no(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>t0(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new uU(l,this.shouldThrowOnError)}info(e){return hi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield t0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:u2(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}exists(e){return hi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield aU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r)&&r instanceof l2){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return hi(this,void 0,void 0,function*(){try{return{data:yield hj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}list(e,n,r){return hi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cU),n),{prefix:e||""});return{data:yield no(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}})}listV2(e,n){return hi(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield no(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const fU="2.12.2",hU={"X-Client-Info":`storage-js/${fU}`};var yc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class pU{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},hU),n),this.fetch=fj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return yc(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(er(e))return{data:null,error:e};throw e}})}getBucket(e){return yc(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return yc(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return yc(this,void 0,void 0,function*(){try{return{data:yield c2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yc(this,void 0,void 0,function*(){try{return{data:yield no(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}deleteBucket(e){return yc(this,void 0,void 0,function*(){try{return{data:yield hj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}})}}class AU extends pU{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new dU(this.url,this.headers,e,this.fetch)}}const mU="2.58.0";let Ph="";typeof Deno<"u"?Ph="deno":typeof document<"u"?Ph="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ph="react-native":Ph="node";const gU={"X-Client-Info":`supabase-js-${Ph}/${mU}`},vU={headers:gU},yU={schema:"public"},bU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xU={};var wU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const SU=t=>{let e;return t?e=t:typeof fetch>"u"?e=QO:e=fetch,(...n)=>e(...n)},_U=()=>typeof Headers>"u"?ZO:Headers,TU=(t,e,n)=>{const r=SU(n),i=_U();return(a,o)=>wU(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var CU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};function NU(t){return t.endsWith("/")?t:t+"/"}function EU(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>CU(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function kU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pj="2.72.0",Oc=30*1e3,d2=3,f1=d2*Oc,PU="http://localhost:9999",MU="supabase.auth.token",OU={"X-Client-Info":`gotrue-js/${pj}`},f2="X-Supabase-Api-Version",Aj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IU=10*60*1e3;class mS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class DU extends mS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function LU(t){return Ct(t)&&t.name==="AuthApiError"}class mj extends mS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class yl extends mS{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ms extends yl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RU(t){return Ct(t)&&t.name==="AuthSessionMissingError"}class dh extends yl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rm extends yl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fm extends yl{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FU(t){return Ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class WC extends yl{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h2 extends yl{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function h1(t){return Ct(t)&&t.name==="AuthRetryableFetchError"}class YC extends yl{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class p2 extends yl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const n0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),KC=` 	
\r=`.split(""),BU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<KC.length;e+=1)t[KC[e].charCodeAt(0)]=-2;for(let e=0;e<n0.length;e+=1)t[n0[e].charCodeAt(0)]=e;return t})();function JC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(n0[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(n0[r]),e.queuedBits-=6}}function gj(t,e,n){const r=BU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function XC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{qU(o,r,n)};for(let o=0;o<t.length;o+=1)gj(t.charCodeAt(o),i,a);return e.join("")}function $U(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function UU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}$U(r,e)}}function qU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function HU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)gj(t.charCodeAt(i),n,r);return new Uint8Array(e)}function zU(t){const e=[];return UU(t,n=>e.push(n)),new Uint8Array(e)}function VU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>JC(i,n,r)),JC(null,n,r),e.join("")}function GU(t){return Math.round(Date.now()/1e3)+t}function WU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const na=()=>typeof window<"u"&&typeof document<"u",Ll={tested:!1,writable:!1},vj=()=>{if(!na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ll.tested)return Ll.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ll.tested=!0,Ll.writable=!0}catch{Ll.tested=!0,Ll.writable=!1}return Ll.writable};function YU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const yj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pl(async()=>{const{default:r}=await Promise.resolve().then(()=>sf);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},KU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jc=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Rl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Es=async(t,e)=>{await t.removeItem(e)};class Pv{constructor(){this.promise=new Pv.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pv.promiseConstructor=Promise;function p1(t){const e=t.split(".");if(e.length!==3)throw new p2("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!jU.test(e[r]))throw new p2("JWT not in base64url format");return{header:JSON.parse(XC(e[0])),payload:JSON.parse(XC(e[1])),signature:HU(e[2]),raw:{header:e[0],payload:e[1]}}}async function JU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function XU(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function QU(t){return("0"+t.toString(16)).substr(-2)}function ZU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,QU).join("")}async function e9(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function t9(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await e9(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bc(t,e,n=!1){const r=ZU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await jc(t,`${e}-code-verifier`,i);const a=await t9(r);return[a,r===a?"plain":"s256"]}const n9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r9(t){const e=t.headers.get(f2);if(!e||!e.match(n9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function i9(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function a9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xc(t){if(!o9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function A1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QC(t){return JSON.parse(JSON.stringify(t))}var s9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l9=[502,503,504];async function ZC(t){var e;if(!KU(t))throw new h2(Vl(t),0);if(l9.includes(t.status))throw new h2(Vl(t),t.status);let n;try{n=await t.json()}catch(a){throw new mj(Vl(a),a)}let r;const i=r9(t);if(i&&i.getTime()>=Aj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new YC(Vl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ms}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new YC(Vl(n),t.status,n.weak_password.reasons);throw new DU(Vl(n),t.status||500,r)}const u9=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function It(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[f2]||(a[f2]=Aj["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await c9(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function c9(t,e,n,r,i,a){const o=u9(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new h2(Vl(l),0)}if(s.ok||await ZC(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await ZC(l)}}function eo(t){var e;let n=null;p9(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=GU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eN(t){const e=eo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $s(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function d9(t){return{data:t,error:null}}function f9(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=s9(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function h9(t){return t}function p9(t){return t.access_token&&t.refresh_token&&t.expires_in}const m1=["global","local","others"];var A9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class m9{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=yj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=m1[0]){if(m1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${m1.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$s})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=A9(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:f9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$s})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:h9});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Ct(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){xc(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$s})}catch(n){if(Ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){xc(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$s})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){xc(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$s})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){xc(e.userId);try{const{data:n,error:r}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){xc(e.userId),xc(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}}function tN(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function g9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wc={debug:!!(globalThis&&vj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class v9 extends bj{}async function y9(t,e,n){wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw wc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new v9(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xj(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function b9(t){return parseInt(t,16)}function x9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function w9(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=xj(t.address),v=c?`${c}://${r}`:r,b=t.statement?`${t.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${b}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);w+=`
- ${S}`}y+=w}return`${x}
${y}`}g9();const S9={url:PU,storageKey:MU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nN(t,e,n){return await n()}const Sc={};class xp{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xp.nextInstanceID,xp.nextInstanceID+=1,this.instanceID>0&&na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},S9),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new m9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=yj(i.fetch),this.lock=i.lock||nN,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:na()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=y9:this.lock=nN,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:vj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tN(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=tN(this.memoryStorage)),na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Sc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Sc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=YU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),na()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),FU(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ct(n)?{error:n}:{error:new mj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:eo}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ct(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:d,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await bc(this.storage,this.storageKey)),a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:eo})}else if("phone"in e){const{phone:c,password:d,options:h}=e;a=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:eo})}else throw new Rm("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(Ct(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:eN})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:eN})}else throw new Rm("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new dh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,d,h;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:b,wallet:x,statement:y,options:w}=e;let S;if(na())if(typeof x=="object")S=x;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")S=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const T=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=xj(C[0]);let E=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const I=await S.request({method:"eth_chainId"});E=b9(I)}const M={domain:T.host,address:k,statement:y,uri:T.href,version:"1",chainId:E,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=w9(M),v=await S.request({method:"personal_sign",params:[x9(p),k]})}try{const{data:b,error:x}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:eo});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new dh}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(Ct(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,d,h,p;let v,b;if("message"in e)v=e.message,b=e.signature;else{const{chain:x,wallet:y,statement:w,options:S}=e;let T;if(na())if(typeof y=="object")T=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((d=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:x,error:y}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:VU(b)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:eo});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new dh}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(Ct(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const n=await Rl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:eo});if(await Es(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new dh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Ct(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:eo}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await bc(this.storage,this.storageKey));const{error:d}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Rm("You must provide either an email or phone number.")}catch(s){if(Ct(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:eo});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Ct(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await bc(this.storage,this.storageKey)),await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:d9})}catch(a){if(Ct(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ms;const{error:i}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ct(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await It(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await It(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Rm("You must provide either an email or phone number and a type")}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Rl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<f1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Rl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=A1()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$s}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ms}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:$s})})}catch(n){if(Ct(n))return RU(n)&&(await this._removeSession(),await Es(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ms;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await bc(this.storage,this.storageKey));const{data:u,error:c}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:$s});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ct(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ms;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=p1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ms;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!na())throw new Fm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new WC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new WC("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Fm("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(s);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=Oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:b,error:x}=await this._getUser(a);if(x)throw x;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(Ct(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Rl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(LU(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await Es(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=WU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bc(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ct(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:d,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return na()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ct(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await XU(async i=>(i>0&&await JU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:eo})),(i,a)=>{const o=200*Math.pow(2,i);return a&&h1(a)&&Date.now()+o-r<Oc})}catch(r){if(this._debug(n,"error",r),Ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),na()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Rl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Rl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await jc(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:A1()}else if(i&&!i.user&&!i.user){const o=await Rl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Es(this.storage,this.storageKey+"-user"),await jc(this.storage,this.storageKey,i)):i.user=A1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<f1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${f1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),h1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pv;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ms;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Ct(a)){const o={session:null,error:a};return h1(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await jc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=QC(i);await jc(this.storage,this.storageKey,a)}else{const i=QC(n);await jc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Es(this.storage,this.storageKey),await Es(this.storage,this.storageKey+"-code-verifier"),await Es(this.storage,this.storageKey+"-user"),this.userStorage&&await Es(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&na()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oc}ms, refresh threshold is ${d2} ticks`),i<=d2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof bj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!na()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await bc(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await It(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=p1(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+IU>i)return r;const{data:a,error:o}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=p1(r);n!=null&&n.allowExpired||i9(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const c=a9(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,zU(`${s}.${l}`)))throw new p2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}}}xp.nextInstanceID=0;const _9=xp;class T9 extends _9{constructor(e){super(e)}}var C9=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class N9{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=kU(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:yU,realtime:xU,auth:Object.assign(Object.assign({},bU),{storageKey:l}),global:vU},c=EU(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=TU(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new D$(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new AU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new h$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return C9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T9({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Q$(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E9=(t,e,n)=>new N9(t,e,n);function k9(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}k9()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wj="https://kclntdmvpeykknjnndeb.supabase.co",A2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjbG50ZG12cGV5a2tuam5uZGViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTk0MjEsImV4cCI6MjA3NTE3NTQyMX0.O49_JCNUZxPlp6EAqbZHUpJWYJGFBl63QsnmBICyphI";function P9(){return!!(wj.startsWith("http")&&A2&&A2.startsWith("eyJ"))}const M9=()=>P9()?E9(wj,A2):(console.error("Supabase credentials are not set correctly in supabaseClient.ts! Please provide a valid URL and public anon key."),new Proxy({},{get:(t,e)=>e==="channel"?()=>({on:()=>({subscribe:()=>({unsubscribe:()=>Promise.resolve("ok")})})}):e==="removeChannel"?()=>{}:e==="from"?()=>new Proxy({},{get:()=>()=>Promise.resolve({data:[],error:{message:"Supabase not configured"}})}):()=>{}})),Ht=M9(),Wt=(t,e)=>{if(t)throw console.error(`Supabase error in ${e}:`,t),new Error(t.message)},O9=async t=>{const{data:e,error:n}=await Ht.from("stores").select("*").eq("id",t).single();return Wt(n,"getStoreById"),e},Sj=async t=>{const{data:e,error:n}=await Ht.from("stores").select("*").eq("licenseKey",t).single();return n&&n.code!=="PGRST116"&&Wt(n,"getStoreByLicenseKey"),e},j9=async(t,e)=>{if(!t.isActive)throw new Error("storeDisabledError");const{data:n,error:r}=await Ht.from("users").select("*").eq("storeId",t.id).or(`password.eq.${e},pin.eq.${e}`);if(Wt(r,"login"),n&&n.length>0)return{user:n[0],store:t};throw new Error("invalidCredentialsError")},I9=async(t,e)=>{const n="GoShop-Activation-Key-Abzn-Secret-2024";if(!e.startsWith("PERM-"))return!1;try{const r=atob(e.replace("PERM-","")),[i,a]=r.split("::");if(i===t&&a===n){const{error:o}=await Ht.from("stores").update({isActive:!0,trialStartDate:null,licenseProof:new Date().toISOString()}).eq("id",t);return Wt(o,"verifyAndActivateStoreWithCode"),!0}}catch(r){console.error("Activation code decoding failed",r)}return!1},Ha=async(t,e)=>{const{data:n,error:r}=await Ht.from(t).select("*").eq("storeId",e);return Wt(r,`getAllForStore (${t})`),n||[]},D9=t=>Ha("products",t),_j=t=>Ha("productVariants",t),L9=t=>Ha("sales",t),R9=t=>Ha("expenses",t),F9=t=>Ha("customers",t),B9=t=>Ha("suppliers",t),$9=t=>Ha("categories",t),U9=t=>Ha("purchases",t),q9=t=>Ha("stockBatches",t),H9=t=>Ha("returns",t),z9=t=>Ha("users",t),Tj=async()=>{const{data:t,error:e}=await Ht.from("stores").select("*");return Wt(e,"getAllStores"),t||[]},V9=async()=>{const{data:t,error:e}=await Ht.from("users").select("*");return Wt(e,"getAllUsers"),t||[]},Cj=async t=>{const{data:e,error:n}=await Ht.from("users").select("*").eq("storeId",t).eq("role","admin").single();return Wt(n,"getAdminUserForStore"),e},G9=async(t,e,n,r,i,a,o,s)=>{const l=`GO-${crypto.randomUUID().slice(0,8).toUpperCase()}`,{data:u,error:c}=await Ht.from("stores").insert({name:t,logo:e,licenseKey:l,trialDurationDays:i,address:a,ice:o,enableAiReceiptScan:s}).select().single();if(Wt(c,"createStore"),!u)throw new Error("Store creation failed");const{data:d,error:h}=await Ht.from("users").insert({name:"admin",email:r,password:n,role:"admin",storeId:u.id}).select().single();if(Wt(h,"createAdmin"),!d)throw new Error("Admin creation failed");return{store:u,user:d,licenseKey:l}},W9=async t=>{const{error:e}=await Ht.from("stores").delete().eq("id",t);Wt(e,"deleteStore")},Ic=async t=>{const{data:e,error:n}=await Ht.from("stores").update(t).eq("id",t.id).select().single();return Wt(n,"updateStore"),e},ss=async(t,e)=>{const{data:n,error:r}=await Ht.from(t).insert(e).select().single();return Wt(r,`addSingle (${t})`),n},Mv=async(t,e)=>{const{error:n}=await Ht.from(t).update(e).eq("id",e.id);Wt(n,`updateSingle (${t})`)},Ou=async(t,e)=>{const{error:n}=await Ht.from(t).delete().eq("id",e);Wt(n,`deleteSingle (${t})`)},rN=async(t,e)=>{const{data:n,error:r}=await Ht.from("products").insert(t).select().single();if(Wt(r,"addProductWithVariants (product)"),!n)throw new Error("Product creation failed");const i=e.map(u=>({...u,productId:n.id,storeId:n.storeId})),{data:a,error:o}=await Ht.from("productVariants").insert(i.map(({stockQuantity:u,...c})=>c)).select();if(Wt(o,"addProductWithVariants (variants)"),!a)throw new Error("Variants creation failed");const s=a.map((u,c)=>({variantId:u.id,quantity:e[c].stockQuantity||0,purchasePrice:u.purchasePrice,storeId:n.storeId,createdAt:new Date().toISOString()})).filter(u=>u.quantity>0);let l=[];if(s.length>0){const{data:u,error:c}=await Ht.from("stockBatches").insert(s).select();Wt(c,"addProductWithVariants (stock)"),l=u||[]}return{product:n,variants:a,stockBatches:l}},iN=async(t,e)=>{const{error:n}=await Ht.from("products").update(t).eq("id",t.id);Wt(n,"updateProductWithVariants (product)");const i=(await _j(t.storeId)).filter(h=>h.productId===t.id),a=[],o=[],s=[];for(const h of e)if(h.id){const p=i.find(v=>v.id===h.id);p&&a.push({...p,...h,id:h.id,priceSemiWholesale:h.priceSemiWholesale||0,priceWholesale:h.priceWholesale||0})}else o.push({...h,productId:t.id,storeId:t.storeId,priceSemiWholesale:h.priceSemiWholesale||0,priceWholesale:h.priceWholesale||0});let l=[];if(a.length>0){const{data:h,error:p}=await Ht.from("productVariants").upsert(a).select();Wt(p,"updateProductWithVariants (update variants)"),l=h||[]}let u=[];if(o.length>0){const{data:h,error:p}=await Ht.from("productVariants").insert(o.map(v=>({...v,stockQuantity:void 0}))).select();Wt(p,"updateProductWithVariants (insert variants)"),u=h||[],u.forEach(v=>{const b=o.find(x=>x.name===v.name);b&&"stockQuantity"in b&&b.stockQuantity>0&&s.push({variantId:v.id,quantity:b.stockQuantity,purchasePrice:v.purchasePrice,storeId:t.storeId,createdAt:new Date().toISOString()})})}const c=i.filter(h=>!e.some(p=>p.id===h.id)).map(h=>h.id);if(c.length>0){const{error:h}=await Ht.from("productVariants").delete().in("id",c);Wt(h,"updateProductWithVariants (delete variants)")}let d=[];if(s.length>0){const{data:h,error:p}=await Ht.from("stockBatches").insert(s).select();Wt(p,"updateProductWithVariants (stock)"),d=h||[]}return{updatedVariants:l,newVariants:u,deletedVariantIds:c,newStockBatches:d}},Y9=t=>Ou("products",t),K9=t=>ss("stockBatches",t),J9=async t=>{const e=(await Ht.from("productVariants").select("*").eq("id",t.variantId).single()).data;if(!e)throw new Error("Variant not found");const n={variantId:t.variantId,productId:e.productId,productName:"",variantName:e.name,quantity:t.quantity,purchasePrice:t.purchasePrice},r={storeId:e.storeId,supplierId:t.supplierId,date:new Date().toISOString(),items:[n],totalAmount:t.quantity*t.purchasePrice,reference:"purchase_ref_stock_adjustment",amountPaid:t.quantity*t.purchasePrice,remainingAmount:0,paymentMethod:"cash"},{data:i,error:a}=await Ht.from("purchases").insert(r).select().single();if(Wt(a,"addStock (purchase)"),!i)throw new Error("Purchase creation failed");const o={variantId:t.variantId,quantity:t.quantity,purchasePrice:t.purchasePrice,storeId:e.storeId,createdAt:new Date().toISOString()},{data:s,error:l}=await Ht.from("stockBatches").insert(o).select().single();if(Wt(l,"addStock (stock)"),!s)throw new Error("Stock batch creation failed");const u={...e,purchasePrice:t.purchasePrice,price:t.sellingPrice},{data:c,error:d}=await Ht.from("productVariants").update(u).eq("id",t.variantId).select().single();if(Wt(d,"addStock (variant update)"),!c)throw new Error("Variant update failed");return{purchase:i,newStockBatch:s,updatedVariant:c}},X9=async t=>{const{data:e,error:n}=await Ht.from("purchases").insert(t).select().single();if(Wt(n,"addPurchase"),!e)throw new Error("Purchase creation failed");const r=t.items.map(o=>({variantId:o.variantId,quantity:o.quantity,purchasePrice:o.purchasePrice,storeId:t.storeId,createdAt:t.date})),{data:i,error:a}=await Ht.from("stockBatches").insert(r).select();return Wt(a,"addPurchase (stock)"),{newPurchase:e,newStockBatches:i||[]}},Q9=t=>Mv("purchases",t),Z9=async(t,e,n,r,i,a)=>{const o=t.reduce((l,u)=>u.purchasePrice?l+(u.price-u.purchasePrice)*u.quantity:l+u.price*u.quantity,0),s={storeId:a,userId:i,date:new Date().toISOString(),items:t,total:r,downPayment:e,remainingAmount:r-e,profit:o,customerId:n};return ss("sales",s)},eq=async(t,e,n)=>{const r=t.reduce((o,s)=>o+s.price*s.quantity,0),i=t.reduce((o,s)=>s.purchasePrice?o+(s.price-s.purchasePrice)*s.quantity:o,0),a={storeId:n,userId:e,date:new Date().toISOString(),items:t,refundAmount:r,profitLost:i};return ss("returns",a)},tq=async(t,e,n,r)=>{const i={storeId:r,userId:n,customerId:t,date:new Date().toISOString(),items:[{id:`debt_payment_${Date.now()}`,productId:`debt_payment_${Date.now()}`,storeId:r,name:"Paiement de dette",price:e,quantity:1,type:"service",image:"",isCustom:!0}],total:0,downPayment:-e,remainingAmount:-e,profit:0};return ss("sales",i)},nq=t=>ss("expenses",t),rq=t=>Mv("expenses",t),iq=t=>Ou("expenses",t),aq=t=>Ou("returns",t),oq=async t=>{const{error:e}=await Ht.from("returns").delete().eq("storeId",t);Wt(e,"deleteAllReturns")},sq=t=>ss("customers",t),lq=async t=>{const{data:e,error:n}=await Ht.from("sales").select("remainingAmount").eq("customerId",t);if(Wt(n,"deleteCustomer (check debt)"),((e==null?void 0:e.reduce((i,a)=>i+a.remainingAmount,0))||0)>0)throw new Error("customerDeleteErrorHasDebt");await Ou("customers",t)},uq=t=>ss("suppliers",t),cq=async t=>{const{data:e,error:n}=await Ht.from("purchases").select("remainingAmount").eq("supplierId",t);if(Wt(n,"deleteSupplier (check debt)"),((e==null?void 0:e.reduce((i,a)=>i+a.remainingAmount,0))||0)>0)throw new Error("supplierDeleteErrorHasDebt");await Ou("suppliers",t)},dq=t=>ss("categories",t),fq=t=>Mv("categories",t),hq=t=>Ou("categories",t),Nj=t=>ss("users",t),Ej=t=>Mv("users",t),pq=t=>Ou("users",t),kj=({className:t})=>A.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 297.31 290",className:t,children:[A.jsxs("defs",{children:[A.jsx("style",{children:`
                .cls-1{fill:none;}
                .cls-9{fill:#383838; direction: ltr; text-anchor: middle;}
                .dark .cls-9 { fill: #e2e8f0; }
                .cls-3{clip-path:url(#clip-path);}
                .cls-4{fill:url(#linear-gradient);}
                .cls-5{clip-path:url(#clip-path-2);}
                .cls-6{fill:url(#linear-gradient-2);}
                .cls-7{clip-path:url(#clip-path-3);}
                .cls-8{fill:url(#linear-gradient-3);}
                .cls-9{font-size:42px;font-family:Damavand-Regular;}
            `}),A.jsx("clipPath",{id:"clip-path",transform:"translate(20.8 29.57)",children:A.jsx("path",{className:"cls-1",d:"M109.57,55.71a47,47,0,1,0,62.05,26.08c7.43,19.09-.76,40.37-18.67,48-18.26,7.73-39.71-1.71-47.91-21.08s0-41.34,18.22-49.07c18-7.61,39,1.42,47.51,20.19a47,47,0,0,0-61.2-24.07"})}),A.jsxs("linearGradient",{id:"linear-gradient",x1:"-661.98",y1:"962.1",x2:"-661.62",y2:"962.1",gradientTransform:"matrix(0, 241.28, 241.28, 0, -232006.06, 159777.96)",gradientUnits:"userSpaceOnUse",children:[A.jsx("stop",{offset:"0",stopColor:"#f8ed86"}),A.jsx("stop",{offset:"1",stopColor:"#e67026"})]}),A.jsx("clipPath",{id:"clip-path-2",transform:"translate(20.8 29.57)",children:A.jsx("path",{className:"cls-1",d:"M124.19,100.39c-6.82-16.24-1.91-33.78,11-39.19S164,64.56,170.83,80.8s1.91,33.78-11,39.19a20.64,20.64,0,0,1-8,1.6c-10.9,0-22.21-8.22-27.66-21.2m-.88-40.94C105.39,67,97.14,88.23,104.52,107.34c0,.15.11.3.17.45s.18.45.28.67l.23.54c0,.12.1.24.16.36,8.42,18.79,29.46,27.88,47.46,20.31,18.28-7.68,26.49-29.62,18.34-49-6.23-14.84-20.22-23.88-34.64-23.88a34,34,0,0,0-13.21,2.67"})}),A.jsx("linearGradient",{id:"linear-gradient-2",x1:"-658.75",y1:"961.74",x2:"-658.39",y2:"961.74",gradientTransform:"matrix(0, -173.8, -173.8, 0, 167285.74, -114352.79)",xlinkHref:"#linear-gradient"}),A.jsx("clipPath",{id:"clip-path-3",transform:"translate(20.8 29.57)",children:A.jsx("path",{className:"cls-1",d:"M200.23,52.61a392.27,392.27,0,0,0-42,10.42,44.36,44.36,0,0,1,4.52,4.37A373.26,373.26,0,0,1,201.21,58c25.59-4.64,33.87-1.82,34.68.32S232.31,68.05,210,81.4a374.37,374.37,0,0,1-35.14,18.25l-.72.33,0,0-.53.24c-11.66,5.34-24.31,10.61-37.5,15.6l-1.6.6c-6.33,2.38-12.61,4.62-18.79,6.73l0,0c-7.74,2.63-15.31,5-22.64,7.2a375.35,375.35,0,0,1-38.46,9.4c-25.59,4.63-33.88,1.81-34.68-.33s3.57-9.72,25.89-23.07A375.62,375.62,0,0,1,80.86,98.15a45.2,45.2,0,0,1,.53-6.27A391.4,391.4,0,0,0,42.9,111.69c-9.64,5.77-17,11-21.79,15.67-5.78,5.55-7.88,10.15-6.42,14s6.07,6,14.08,6.34c6.67.31,15.66-.55,26.71-2.55a389.31,389.31,0,0,0,42-10.42c7.63-2.29,15.52-4.85,23.55-7.64l.08,0q7.56-2.62,15.25-5.52,2.9-1.08,5.75-2.18c10.32-4,20.29-8.14,29.68-12.34l1-.46.08,0,1.44-.65a391.15,391.15,0,0,0,38.48-19.81c9.64-5.77,17-11,21.79-15.67,5.78-5.55,7.88-10.15,6.42-14s-6.07-6-14.07-6.34c-.9,0-1.83-.06-2.8-.06a138.81,138.81,0,0,0-23.92,2.61"})}),A.jsx("linearGradient",{id:"linear-gradient-3",x1:"-662.36",y1:"961.67",x2:"-662",y2:"961.67",gradientTransform:"matrix(0, 179.06, 179.06, 0, -172067.09, 118662.76)",xlinkHref:"#linear-gradient"})]}),A.jsx("g",{className:"cls-3",children:A.jsx("rect",{className:"cls-4",x:"54.96",y:"29.99",width:"145.51",height:"144.37",transform:"translate(-15 127.91) rotate(-37.32)"})}),A.jsx("g",{className:"cls-5",children:A.jsx("rect",{className:"cls-6",x:"80.38",y:"38.67",width:"115.7",height:"115.69",transform:"translate(-7.19 154.26) rotate(-44.55)"})}),A.jsx("g",{className:"cls-7",children:A.jsx("rect",{className:"cls-8",x:"3.22",y:"10.66",width:"249.28",height:"176.73",transform:"translate(-6.97 84.62) rotate(-21.98)"})}),A.jsx("text",{className:"cls-9",x:"148.655",y:"240",children:"Go-shop"})]}),Aq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),A.jsx("path",{d:"M12 8v4l2 2"})]}),mq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),A.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),A.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),gq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("circle",{cx:"9",cy:"21",r:"1"}),A.jsx("circle",{cx:"20",cy:"21",r:"1"}),A.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),vq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("circle",{cx:"8",cy:"8",r:"6"}),A.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),A.jsx("path",{d:"M7 6h1v4"}),A.jsx("path",{d:"m16.71 13.88.7.71-2.82 2.82-.71-.71A6 6 0 0 1 7.18 6.18"})]}),al=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),A.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ni=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),A.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),A.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Pj=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5"}),A.jsx("path",{d:"M17 9v6"}),A.jsx("path",{d:"M13 9v6"}),A.jsx("path",{d:"M9 9v6"}),A.jsx("path",{d:"M5 9v6"})]}),gS=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),A.jsx("polyline",{points:"16 17 21 12 16 7"}),A.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),vS=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2a2 2 0 0 0-2-2z"}),A.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),ia=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M12 17v-10"}),A.jsx("path",{d:"M9 14l3 3 3-3"}),A.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"})]}),Ov=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),A.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),yS=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),A.jsx("path",{d:"M20 8v6M23 11h-6"})]}),Mj=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M10 17.5V14H3V12l4-9h11v9h-3.5"}),A.jsx("path",{d:"M10 17.5h4.5l1.9-2.9"}),A.jsx("circle",{cx:"6.5",cy:"17.5",r:"2.5"}),A.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),Oj=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),A.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),bS=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}),A.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),A.jsx("path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}),A.jsx("path",{d:"M2 7h20"}),A.jsx("path",{d:"M22 7v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7"})]}),jj=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"9",cy:"7",r:"4"}),A.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),A.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),Aa=({className:t})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:A.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})}),jv=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("circle",{cx:"12",cy:"12",r:"4"}),A.jsx("path",{d:"M12 2v2"}),A.jsx("path",{d:"M12 20v2"}),A.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),A.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),A.jsx("path",{d:"M2 12h2"}),A.jsx("path",{d:"M20 12h2"}),A.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),A.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Iv=({className:t})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:A.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),yq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),A.jsx("polyline",{points:"17 8 12 3 7 8"}),A.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),bq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),A.jsx("path",{d:"M3 5V19A9 3 0 0 0 12 22A9 3 0 0 0 21 19V5"}),A.jsx("path",{d:"M3 12A9 3 0 0 0 12 15A9 3 0 0 0 21 12"}),A.jsx("path",{d:"m13 12-4 6h6l-4 6"})]}),uf=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),A.jsx("polyline",{points:"12 5 19 12 12 19"})]}),yA=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),A.jsx("polyline",{points:"12 19 5 12 12 5"})]}),Dv=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),A.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),A.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),aN=({className:t})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:A.jsx("path",{d:"m6 9 6 6 6-6"})}),xq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("circle",{cx:"11",cy:"11",r:"8"}),A.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),Ij=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),wq=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),A.jsx("polyline",{points:"14 2 14 8 20 8"}),A.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),A.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),A.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),m2=({className:t})=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[A.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),A.jsx("path",{d:"m21 2-9.6 9.6"}),A.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]}),oN="Abzn11241984",Sq=({onLoginSuccess:t,onSuperAdminLogin:e,t:n,language:r,setLanguage:i,theme:a,toggleTheme:o})=>{const[s,l]=re.useState("loading"),[u,c]=re.useState(null),[d,h]=re.useState(!1),[p,v]=re.useState(null),[b,x]=re.useState(""),[y,w]=re.useState(!1),[S,T]=re.useState(""),[C,k]=re.useState(""),E=re.useCallback(async()=>{h(!0);try{const G=localStorage.getItem("pos-license");if(!G){l("license_entry");return}const R=JSON.parse(G),$=await O9(R.storeId);if($)if($.trialStartDate){const H=new Date($.trialStartDate),Y=new Date(H);Y.setDate(H.getDate()+($.trialDurationDays??7)),new Date>Y?(v($),l("expired_trial")):(v($),l("login"))}else v($),l("login");else throw new Error("Store not found")}catch(G){localStorage.removeItem("pos-license"),c(n(G.message||"unknownError")||G.message),l("license_entry")}finally{h(!1)}},[n]);re.useEffect(()=>{s==="loading"&&E()},[E,s]),re.useEffect(()=>{if(s==="login"&&p){const G=localStorage.getItem(`pos-remembered-secret-${p.id}`);G?(x(G),w(!0)):(x(""),w(!1))}},[s,p]);const M=async G=>{if(G.preventDefault(),c(null),!p){c(n("unknownError")),l("license_entry");return}if(h(!0),!b){c(n("fillAllFields")),h(!1);return}try{if(b===oN){e();return}const R=await j9(p,b);y?localStorage.setItem(`pos-remembered-secret-${p.id}`,b):localStorage.removeItem(`pos-remembered-secret-${p.id}`),t(R.user,R.store)}catch(R){let $=null,H=n("unknownError");if(R&&R.message){const Y=R.message.toLowerCase();Y.includes("invalid api key")||Y.includes("unauthorized")?$="invalidApiKeyError":(R.message==="storeNotFound"||R.message==="storeDisabledError"||R.message==="invalidCredentialsError")&&($=R.message),H=R.message}c($?n($):H)}finally{h(!1)}},I=async G=>{if(G.preventDefault(),!!p){h(!0),c(null);try{if(await I9(p.id,S))alert(n("activationSuccessReload")),window.location.reload();else throw new Error("invalidActivationCode")}catch(R){const $=n(R.message)||R.message;c($)}finally{h(!1)}}},B=async G=>{var $;G.preventDefault(),c(null),h(!0);const R=C.trim();if(!R){c(n("fillAllFields")),h(!1);return}try{if(R===oN){e();return}const H=await Sj(R);if(H){const Y={storeId:H.id};if(localStorage.setItem("pos-license",JSON.stringify(Y)),v(H),H.trialStartDate){const X=new Date(H.trialStartDate),te=new Date(X);te.setDate(X.getDate()+(H.trialDurationDays??7)),new Date>te?l("expired_trial"):l("login")}else l("login")}else c(n("invalidActivationCode"))}catch(H){console.error("Error activating store for the first time:",H),($=H.message)!=null&&$.includes("406")?c(n("invalidActivationCode")):c(n("unknownError"))}finally{h(!1)}},O=()=>A.jsxs("form",{onSubmit:M,className:"space-y-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("login")}),p?A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:n("forStore",{storeName:p.name})}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"loginSecret",className:"sr-only",children:n("passwordOrPin")}),A.jsx("input",{id:"loginSecret",type:"password",value:b,onChange:G=>x(G.target.value),placeholder:n("passwordOrPin"),className:"w-full px-4 py-3 border rounded-lg text-center text-xl tracking-widest bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),A.jsxs("div",{className:"flex items-center justify-start text-left rtl:text-right",children:[A.jsx("input",{id:"rememberMe",type:"checkbox",checked:y,onChange:G=>w(G.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-teal-600 focus:ring-teal-500 bg-gray-100 dark:bg-slate-600"}),A.jsx("label",{htmlFor:"rememberMe",className:"ml-2 rtl:mr-2 rtl:ml-0 block text-sm text-gray-700 dark:text-gray-400 cursor-pointer",children:n("rememberPin")})]})]}):A.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]}),A.jsx("button",{type:"submit",disabled:d,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:d?`${n("loading")}...`:n("login")})]}),j=()=>A.jsxs("form",{onSubmit:I,className:"space-y-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n("trialHasExpired")}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("contactAdminToActivate")}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"activationCode",className:"sr-only",children:n("activationCode")}),A.jsx("input",{id:"activationCode",type:"text",value:S,onChange:G=>T(G.target.value),placeholder:n("enterActivationCode"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),A.jsx("button",{type:"submit",disabled:d,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:d?`${n("loading")}...`:n("activateApplication")})]}),U=()=>A.jsxs("form",{onSubmit:B,className:"space-y-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("activateYourCompany")}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("enterLicenseKey")}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"licenseKey",className:"sr-only",children:n("licenseKey")}),A.jsx("input",{id:"licenseKey",type:"text",value:C,onChange:G=>k(G.target.value),placeholder:n("licenseKey"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),A.jsx("button",{type:"submit",disabled:d,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:d?`${n("loading")}...`:n("activate")})]}),F=()=>{if(d||s==="loading")return A.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]});switch(s){case"license_entry":return U();case"login":return O();case"expired_trial":return j();default:return A.jsx("button",{onClick:()=>l("loading"),className:"text-teal-600 hover:underline",children:n("reactivationSuccess")})}};return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[A.jsxs("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4 flex items-center gap-3",children:[A.jsx("button",{onClick:o,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:a==="light"?A.jsx(Iv,{className:"w-5 h-5"}):A.jsx(jv,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>i(r==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:r==="fr"?"العربية":"Français"})]}),A.jsxs("div",{className:"text-center mb-8",children:[A.jsx(kj,{className:"w-80 h-auto mx-auto"}),A.jsxs("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[A.jsx("p",{children:"by Eventhorizon solution"}),A.jsx("p",{children:"0622119357"})]})]}),A.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-sm w-full text-center",children:[u&&A.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mb-4 bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:u}),F()]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _q,Tq;function Cq(){return{geminiUrl:_q,vertexUrl:Tq}}function Nq(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=Cq();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ju{}function at(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(a+1),n[u])}else for(const u of l)m(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];m(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>f(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eq(t){const e={},n=f(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function kq(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const a=f(t,["error"]);a!=null&&m(e,["error"],a);const o=f(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],Mq(o)),e}function Pq(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const a=f(t,["error"]);a!=null&&m(e,["error"],a);const o=f(t,["response"]);return o!=null&&m(e,["response"],Oq(o)),e}function Mq(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>jq(o))),m(e,["generatedVideos"],a)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Oq(t){const e={},n=f(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Iq(o))),m(e,["generatedVideos"],a)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function jq(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],Rq(n)),e}function Iq(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],Fq(n)),e}function Dq(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Lq(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function Rq(t){const e={},n=f(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],xS(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Fq(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],xS(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sN||(sN={}));var lN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(lN||(lN={}));var ji;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ji||(ji={}));var uN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(uN||(uN={}));var cN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(cN||(cN={}));var dN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(dN||(dN={}));var fN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fN||(fN={}));var hN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hN||(hN={}));var pN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(pN||(pN={}));var AN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(AN||(AN={}));var mN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(mN||(mN={}));var gN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(gN||(gN={}));var vN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vN||(vN={}));var yN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(yN||(yN={}));var bN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bN||(bN={}));var r0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(r0||(r0={}));var xN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xN||(xN={}));var g2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(g2||(g2={}));var wN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wN||(wN={}));var SN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(SN||(SN={}));var _N;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(_N||(_N={}));var TN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(TN||(TN={}));var CN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(CN||(CN={}));var NN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(NN||(NN={}));var EN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(EN||(EN={}));var kN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(kN||(kN={}));var PN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(PN||(PN={}));var MN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(MN||(MN={}));var ON;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ON||(ON={}));var jN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jN||(jN={}));var IN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(IN||(IN={}));var DN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(DN||(DN={}));var LN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(LN||(LN={}));var RN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(RN||(RN={}));var FN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(FN||(FN={}));var BN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(BN||(BN={}));var $N;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($N||($N={}));var UN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(UN||(UN={}));var qN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(qN||(qN={}));var HN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(HN||(HN={}));var zN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zN||(zN={}));var VN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(VN||(VN={}));var GN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(GN||(GN={}));var WN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(WN||(WN={}));var YN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(YN||(YN={}));var KN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(KN||(KN={}));var JN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(JN||(JN={}));var XN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(XN||(XN={}));var Jc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Jc||(Jc={}));class v2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class fh{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,v]of Object.entries(h))p!=="text"&&p!=="thought"&&(v!==null||v!==void 0)&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&(p!==null||p!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class QN{}class ZN{}class Bq{}class $q{}class Uq{}class qq{}class eE{}class tE{}class nE{}class Hq{}class i0{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new i0;let i;const a=e;return n?i=Pq(a):i=kq(a),Object.assign(r,i),r}}class rE{}class iE{}class aE{}class zq{}class Vq{}class Gq{}class oE{}class Wq{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Yq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Dj(t,e){const n=zt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Lj(t){return Array.isArray(t)?t.map(e=>a0(e)):[a0(t)]}function a0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Rj(t){const e=a0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fj(t){const e=a0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function sE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Bj(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>sE(e)):[sE(t)]}function y2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function lE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function uE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Wr(t){if(t==null)throw new Error("ContentUnion is required");return y2(t)?t:{role:"user",parts:Bj(t)}}function wS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Wr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Wr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Wr(n)):[Wr(e)]}function ma(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(lE(t)||uE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Wr(t)]}const e=[],n=[],r=y2(t[0]);for(const i of t){const a=y2(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(lE(i)||uE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Bj(n)}),e}function Kq(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ji).includes(n[0].toUpperCase())?n[0].toUpperCase():ji.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ji).includes(r.toUpperCase())?r.toUpperCase():ji.TYPE_UNSPECIFIED})}}function ud(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Kq(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(ji).includes(s.toUpperCase())?s.toUpperCase():ji.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=ud(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(ud(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=ud(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function SS(t){return ud(t)}function _S(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function TS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function cf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ud(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ud(e.response));return t}function df(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Jq(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ls(t,e){if(typeof e!="string")throw new Error("name must be a string");return Jq(t,e,"cachedContents")}function $j(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Iu(t){return xS(t)}function Xq(t){return t!=null&&typeof t=="object"&&"name"in t}function Qq(t){return t!=null&&typeof t=="object"&&"video"in t}function Zq(t){return t!=null&&typeof t=="object"&&"uri"in t}function Uj(t){var e;let n;if(Xq(t)&&(n=t.name),!(Zq(t)&&(n=t.uri,n===void 0))&&!(Qq(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qj(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Hj(t){for(const e of["models","tunedModels","publisherModels"])if(eH(t,e))return t[e];return[]}function eH(t,e){return t!==null&&typeof t=="object"&&e in t}function tH(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function nH(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=tH(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function zj(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function rH(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Vj(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ff(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Gj(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iH(t){const e={},n=f(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>GH(o))),m(e,["inlinedResponses"],a)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>zH(o))),m(e,["inlinedEmbedContentResponses"],a)}return e}function aH(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function oH(t){const e={},n=f(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dc(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&m(e,["state"],Gj(i));const a=f(t,["metadata","createTime"]);a!=null&&m(e,["createTime"],a);const o=f(t,["metadata","endTime"]);o!=null&&m(e,["endTime"],o);const s=f(t,["metadata","updateTime"]);s!=null&&m(e,["updateTime"],s);const l=f(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&m(e,["dest"],iH(Vj(u))),e}function b2(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["state"]);i!=null&&m(e,["state"],Gj(i));const a=f(t,["error"]);a!=null&&m(e,["error"],Yj(a));const o=f(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=f(t,["startTime"]);s!=null&&m(e,["startTime"],s);const l=f(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&m(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&m(e,["src"],sH(d));const h=f(t,["outputConfig"]);return h!=null&&m(e,["dest"],aH(Vj(h))),e}function sH(t){const e={},n=f(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function lH(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>VH(t,o))),m(n,["requests","requests"],a)}return n}function uH(t){const e={},n=f(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function cH(t){const e={},n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function dH(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fH(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ff(t,r)),n}function hH(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ff(t,r)),n}function pH(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],vH(n));const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],AH(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=f(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=f(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],pz(o));const s=f(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const l=f(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const u=f(t,["index"]);u!=null&&m(e,["index"],u);const c=f(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const d=f(t,["safetyRatings"]);return d!=null&&m(e,["safetyRatings"],d),e}function AH(t){const e={},n=f(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function mH(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function gH(t){const e={},n=f(t,["values"]);return n!=null&&m(e,["values"],n),e}function vH(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>nz(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Wj(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rz(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function yH(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function bH(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],oH(rH(i))),n}function g1(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],lH(t,zj(t,i)));const a=f(e,["config"]);return a!=null&&yH(a,n),n}function xH(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],zt(t,r));const i=f(e,["src"]);i!=null&&m(n,["inputConfig"],uH(zj(t,i)));const a=f(e,["config"]);return a!=null&&bH(a,n),n}function wH(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function v1(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],PH(t,i));const a=f(e,["config"]);return a!=null&&wH(a,n),n}function SH(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ff(t,r)),n}function _H(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ff(t,r)),n}function TH(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const a=f(t,["error"]);return a!=null&&m(e,["error"],CS(a)),e}function CH(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const a=f(t,["error"]);return a!=null&&m(e,["error"],Yj(a)),e}function NH(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function EH(t,e){const n={},r=f(e,["contents"]);r!=null&&m(n,["requests[]","request","content"],wS(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],kH(i,n)),n}function kH(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=f(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function PH(t,e){const n={},r=f(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],EH(t,i)),n}function MH(t){const e={},n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function OH(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jH(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function IH(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function DH(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function LH(t){const e={},n=f(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=f(t,["description"]);r!=null&&m(e,["description"],r);const i=f(t,["name"]);i!=null&&m(e,["name"],i);const a=f(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const l=f(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function RH(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Wj(Wr(i)));const a=f(e,["temperature"]);a!=null&&m(r,["temperature"],a);const o=f(e,["topP"]);o!=null&&m(r,["topP"],o);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const p=f(e,["presencePenalty"]);p!=null&&m(r,["presencePenalty"],p);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const b=f(e,["seed"]);b!=null&&m(r,["seed"],b);const x=f(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const y=f(e,["responseSchema"]);y!=null&&m(r,["responseSchema"],sz(SS(y)));const w=f(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let j=S;Array.isArray(j)&&(j=j.map(U=>oz(U))),m(n,["safetySettings"],j)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let j=df(T);Array.isArray(j)&&(j=j.map(U=>hz(cf(U)))),m(n,["tools"],j)}const C=f(e,["toolConfig"]);if(n!==void 0&&C!=null&&m(n,["toolConfig"],fz(C)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],ls(t,k));const E=f(e,["responseModalities"]);E!=null&&m(r,["responseModalities"],E);const M=f(e,["mediaResolution"]);M!=null&&m(r,["mediaResolution"],M);const I=f(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],cz(_S(I))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=f(e,["thinkingConfig"]);B!=null&&m(r,["thinkingConfig"],dz(B));const O=f(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],HH(O)),r}function FH(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>pH(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=f(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=f(t,["responseId"]);o!=null&&m(e,["responseId"],o);const s=f(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function BH(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ff(t,r)),n}function $H(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ff(t,r)),n}function UH(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],NH(n)),e}function qH(t){const e={},n=f(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],WH(n)),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function HH(t){const e={},n=f(t,["aspectRatio"]);return n!=null&&m(e,["aspectRatio"],n),e}function zH(t){const e={},n=f(t,["response"]);n!=null&&m(e,["response"],lz(n));const r=f(t,["error"]);return r!=null&&m(e,["error"],CS(r)),e}function VH(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["request","model"],zt(t,r));const i=f(e,["contents"]);if(i!=null){let o=ma(i);Array.isArray(o)&&(o=o.map(s=>Wj(s))),m(n,["request","contents"],o)}const a=f(e,["config"]);return a!=null&&m(n,["request","generationConfig"],RH(t,a,n)),n}function GH(t){const e={},n=f(t,["response"]);n!=null&&m(e,["response"],FH(n));const r=f(t,["error"]);return r!=null&&m(e,["error"],CS(r)),e}function WH(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function CS(t){const e={},n=f(t,["details"]);n!=null&&m(e,["details"],n);const r=f(t,["code"]);r!=null&&m(e,["code"],r);const i=f(t,["message"]);return i!=null&&m(e,["message"],i),e}function Yj(t){const e={},n=f(t,["details"]);n!=null&&m(e,["details"],n);const r=f(t,["code"]);r!=null&&m(e,["code"],r);const i=f(t,["message"]);return i!=null&&m(e,["message"],i),e}function YH(t){const e={},n=f(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function KH(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function JH(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=f(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function XH(t){const e={},n=f(t,["config"]);return n!=null&&KH(n,e),e}function QH(t){const e={},n=f(t,["config"]);return n!=null&&JH(n,e),e}function ZH(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Dc(o))),m(e,["batchJobs"],a)}return e}function ez(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>b2(o))),m(e,["batchJobs"],a)}return e}function tz(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uz(i))),m(e,["speakerVoiceConfigs"],r)}return e}function nz(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],gz(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],cH(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],MH(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],jH(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function rz(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],vz(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],dH(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],OH(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],IH(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function iz(t){const e={},n=f(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function az(t){const e={},n=f(t,["latLng"]);n!=null&&m(e,["latLng"],YH(n));const r=f(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function oz(t){const e={};if(f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(t,["category"]);n!=null&&m(e,["category"],n);const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function sz(t){const e={},n=f(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=f(t,["default"]);r!=null&&m(e,["default"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const a=f(t,["enum"]);a!=null&&m(e,["enum"],a);const o=f(t,["example"]);o!=null&&m(e,["example"],o);const s=f(t,["format"]);s!=null&&m(e,["format"],s);const l=f(t,["items"]);l!=null&&m(e,["items"],l);const u=f(t,["maxItems"]);u!=null&&m(e,["maxItems"],u);const c=f(t,["maxLength"]);c!=null&&m(e,["maxLength"],c);const d=f(t,["maxProperties"]);d!=null&&m(e,["maxProperties"],d);const h=f(t,["maximum"]);h!=null&&m(e,["maximum"],h);const p=f(t,["minItems"]);p!=null&&m(e,["minItems"],p);const v=f(t,["minLength"]);v!=null&&m(e,["minLength"],v);const b=f(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const x=f(t,["minimum"]);x!=null&&m(e,["minimum"],x);const y=f(t,["nullable"]);y!=null&&m(e,["nullable"],y);const w=f(t,["pattern"]);w!=null&&m(e,["pattern"],w);const S=f(t,["properties"]);S!=null&&m(e,["properties"],S);const T=f(t,["propertyOrdering"]);T!=null&&m(e,["propertyOrdering"],T);const C=f(t,["required"]);C!=null&&m(e,["required"],C);const k=f(t,["title"]);k!=null&&m(e,["title"],k);const E=f(t,["type"]);return E!=null&&m(e,["type"],E),e}function lz(t){const e={},n=f(t,["embedding"]);n!=null&&m(e,["embedding"],gH(n));const r=f(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function uz(t){const e={},n=f(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=f(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],Kj(r)),e}function cz(t){const e={},n=f(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],Kj(n));const r=f(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],tz(r));const i=f(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function dz(t){const e={},n=f(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function fz(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],DH(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],az(r)),e}function hz(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>LH(u))),m(e,["functionDeclarations"],l)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],qH(r));const i=f(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],UH(i)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&m(e,["urlContext"],Az());const o=f(t,["computerUse"]);o!=null&&m(e,["computerUse"],mH(o));const s=f(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function pz(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mz(i))),m(e,["urlMetadata"],r)}return e}function Az(){return{}}function mz(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=f(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function gz(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function vz(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Kj(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],iz(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(yu||(yu={}));class bA{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yz extends ju{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const a=n.src;if(!(Array.isArray(n.src)||a.inlinedRequests!==void 0))return this.createInternal(n);const s=this.createInlinedGenerateContentRequest(n),l=s.path,u=s.body,c=g1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Dc(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const s=this.createInlinedEmbedContentRequest(n),l=s.path,u=s.body,c=v1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Dc(h))},this.list=async(n={})=>new bA(yu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=g1(this.apiClient,e),r=n._url,i=at("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const p=d.request;p.systemInstruction=h,d.request=p}u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=v1(this.apiClient,e),r=n._url,i=at("{model}:asyncBatchEmbedContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];delete s.config;for(const c of l){const d=Object.assign({},c),h=d.request;for(const p in d)p!=="request"&&(h[p]=d[p],delete d[p]);u.push(d)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=xH(this.apiClient,e);return s=at("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>b2(c))}else{const u=g1(this.apiClient,e);return s=at("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Dc(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=v1(this.apiClient,e);return a=at("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Dc(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=$H(this.apiClient,e);return s=at("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>b2(c))}else{const u=BH(this.apiClient,e);return s=at("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Dc(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=hH(this.apiClient,e);o=at("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=fH(this.apiClient,e);o=at("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=QH(e);return s=at("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=ez(c),h=new oE;return Object.assign(h,d),h})}else{const u=XH(e);return s=at("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=ZH(c),h=new oE;return Object.assign(h,d),h})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=_H(this.apiClient,e);return s=at("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>CH(c))}else{const u=SH(this.apiClient,e);return s=at("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>TH(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bz(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function xz(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],bz(n));const r=f(t,["authType"]);r!=null&&m(e,["authType"],r);const i=f(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const a=f(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=f(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const s=f(t,["oidcConfig"]);return s!=null&&m(e,["oidcConfig"],s),e}function wz(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Sz(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["data"]);r!=null&&m(e,["data"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Sg(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["model"]);i!=null&&m(e,["model"],i);const a=f(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=f(t,["updateTime"]);o!=null&&m(e,["updateTime"],o);const s=f(t,["expireTime"]);s!=null&&m(e,["expireTime"],s);const l=f(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function _g(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["model"]);i!=null&&m(e,["model"],i);const a=f(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=f(t,["updateTime"]);o!=null&&m(e,["updateTime"],o);const s=f(t,["expireTime"]);s!=null&&m(e,["expireTime"],s);const l=f(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function _z(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function Tz(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function cE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>lV(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function dE(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>uV(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Cz(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=f(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=f(t,["contents"]);if(e!==void 0&&o!=null){let c=ma(o);Array.isArray(c)&&(c=c.map(d=>cE(d))),m(e,["contents"],c)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],cE(Wr(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>pV(d))),m(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],fV(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Nz(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const a=f(t,["displayName"]);e!==void 0&&a!=null&&m(e,["displayName"],a);const o=f(t,["contents"]);if(e!==void 0&&o!=null){let d=ma(o);Array.isArray(d)&&(d=d.map(h=>dE(h))),m(e,["contents"],d)}const s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&m(e,["systemInstruction"],dE(Wr(s)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>AV(h))),m(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],hV(u));const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function Ez(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],Dj(t,r));const i=f(e,["config"]);return i!=null&&Cz(i,n),n}function kz(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],Dj(t,r));const i=f(e,["config"]);return i!=null&&Nz(i,n),n}function Pz(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ls(t,r)),n}function Mz(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ls(t,r)),n}function Oz(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function jz(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Iz(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Dz(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Lz(t){const e={},n=f(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function Rz(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Fz(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Bz(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function $z(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function Uz(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function qz(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Hz(t){const e={},n=f(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=f(t,["description"]);r!=null&&m(e,["description"],r);const i=f(t,["name"]);i!=null&&m(e,["name"],i);const a=f(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const l=f(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function zz(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=f(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=f(t,["response"]);o!=null&&m(e,["response"],o);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function Vz(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ls(t,r)),n}function Gz(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ls(t,r)),n}function Wz(t){const e={},n=f(t,["authConfig"]);return n!=null&&m(e,["authConfig"],xz(n)),e}function Yz(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Iz(n)),e}function Kz(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],Dz(n)),e}function Jz(t){const e={},n=f(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],Qz(n)),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Xz(t){const e={},n=f(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],Zz(n));const r=f(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function Qz(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Zz(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function eV(t){const e={},n=f(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function tV(t){const e={},n=f(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function nV(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function rV(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function iV(t){const e={},n=f(t,["config"]);return n!=null&&nV(n,e),e}function aV(t){const e={},n=f(t,["config"]);return n!=null&&rV(n,e),e}function oV(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Sg(o))),m(e,["cachedContents"],a)}return e}function sV(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>_g(o))),m(e,["cachedContents"],a)}return e}function lV(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],wV(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],wz(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],Rz(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],Bz(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function uV(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],SV(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],Sz(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],Fz(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],$z(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function cV(t){const e={},n=f(t,["latLng"]);n!=null&&m(e,["latLng"],eV(n));const r=f(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function dV(t){const e={},n=f(t,["latLng"]);n!=null&&m(e,["latLng"],tV(n));const r=f(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function fV(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Uz(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],cV(r)),e}function hV(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],qz(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],dV(r)),e}function pV(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Hz(u))),m(e,["functionDeclarations"],l)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Jz(r));const i=f(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Yz(i)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&m(e,["urlContext"],bV());const o=f(t,["computerUse"]);o!=null&&m(e,["computerUse"],_z(o));const s=f(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function AV(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>zz(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],Xz(i));const a=f(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],Kz(a));const o=f(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],Lz(o));const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Wz(s)),f(t,["urlContext"])!=null&&m(e,["urlContext"],xV());const u=f(t,["computerUse"]);u!=null&&m(e,["computerUse"],Tz(u));const c=f(t,["codeExecution"]);return c!=null&&m(e,["codeExecution"],c),e}function mV(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function gV(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function vV(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],ls(t,r));const i=f(e,["config"]);return i!=null&&mV(i,n),n}function yV(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],ls(t,r));const i=f(e,["config"]);return i!=null&&gV(i,n),n}function bV(){return{}}function xV(){return{}}function wV(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function SV(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _V extends ju{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bA(yu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=kz(this.apiClient,e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>_g(c))}else{const u=Ez(this.apiClient,e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Sg(c))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Gz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>_g(c))}else{const u=Vz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Sg(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Mz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=jz(c),h=new iE;return Object.assign(h,d),h})}else{const u=Pz(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=Oz(c),h=new iE;return Object.assign(h,d),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=yV(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>_g(c))}else{const u=vV(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Sg(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aV(e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=sV(c),h=new aE;return Object.assign(h,d),h})}else{const u=iV(e);return s=at("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=oV(c),h=new aE;return Object.assign(h,d),h})}}}function fE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function cd(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(v){return Promise.resolve(v).then(p,d)}}function s(p,v){r[p]&&(i[p]=function(b){return new Promise(function(x,y){a.push([p,b,x,y])>1||l(p,b)})},v&&(i[p]=v(i[p])))}function l(p,v){try{u(r[p](v))}catch(b){h(a[0][3],b)}}function u(p){p.value instanceof Tn?Promise.resolve(p.value.v).then(c,d):h(a[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function h(p,v){p(v),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Kh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fE=="function"?fE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TV(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Jj(n)}function Jj(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CV(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function hE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!Jj(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class NV{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new EV(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EV{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),CV(a)}async sendMessage(e){var n;await this.sendPromise;const r=Wr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(d))!==null&&s!==void 0?s:[]);const p=u?[u]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Wr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?hE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return cd(this,arguments,function*(){var o,s,l,u;const c=[];try{for(var d=!0,h=Kh(e),p;p=yield Tn(h.next()),o=p.done,!o;d=!0){u=p.value,d=!1;const v=u;if(TV(v)){const b=(i=(r=v.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&c.push(b)}yield yield Tn(v)}}catch(v){s={error:v}}finally{try{!d&&!o&&(l=h.return)&&(yield Tn(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...hE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Lv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kV(t){const e={},n=f(t,["file"]);return n!=null&&m(e,["file"],DV(n)),e}function PV(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function MV(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],Uj(n)),e}function OV(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function x2(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const a=f(t,["sizeBytes"]);a!=null&&m(e,["sizeBytes"],a);const o=f(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=f(t,["expirationTime"]);s!=null&&m(e,["expirationTime"],s);const l=f(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=f(t,["sha256Hash"]);u!=null&&m(e,["sha256Hash"],u);const c=f(t,["uri"]);c!=null&&m(e,["uri"],c);const d=f(t,["downloadUri"]);d!=null&&m(e,["downloadUri"],d);const h=f(t,["state"]);h!=null&&m(e,["state"],h);const p=f(t,["source"]);p!=null&&m(e,["source"],p);const v=f(t,["videoMetadata"]);v!=null&&m(e,["videoMetadata"],v);const b=f(t,["error"]);return b!=null&&m(e,["error"],jV(b)),e}function jV(t){const e={},n=f(t,["details"]);n!=null&&m(e,["details"],n);const r=f(t,["message"]);r!=null&&m(e,["message"],r);const i=f(t,["code"]);return i!=null&&m(e,["code"],i),e}function IV(t){const e={},n=f(t,["details"]);n!=null&&m(e,["details"],n);const r=f(t,["message"]);r!=null&&m(e,["message"],r);const i=f(t,["code"]);return i!=null&&m(e,["code"],i),e}function DV(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const a=f(t,["sizeBytes"]);a!=null&&m(e,["sizeBytes"],a);const o=f(t,["createTime"]);o!=null&&m(e,["createTime"],o);const s=f(t,["expirationTime"]);s!=null&&m(e,["expirationTime"],s);const l=f(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=f(t,["sha256Hash"]);u!=null&&m(e,["sha256Hash"],u);const c=f(t,["uri"]);c!=null&&m(e,["uri"],c);const d=f(t,["downloadUri"]);d!=null&&m(e,["downloadUri"],d);const h=f(t,["state"]);h!=null&&m(e,["state"],h);const p=f(t,["source"]);p!=null&&m(e,["source"],p);const v=f(t,["videoMetadata"]);v!=null&&m(e,["videoMetadata"],v);const b=f(t,["error"]);return b!=null&&m(e,["error"],IV(b)),e}function LV(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],Uj(n)),e}function RV(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function FV(t){const e={},n=f(t,["config"]);return n!=null&&RV(n,e),e}function BV(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>x2(o))),m(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $V extends ju{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bA(yu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>x2(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=FV(e);return a=at("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=BV(l),c=new zq;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=kV(e);return a=at("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=PV(l),c=new Vq;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=LV(e);return a=at("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>x2(l))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=MV(e);return a=at("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=OV(l),c=new Gq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UV(){return{}}function qV(){return{}}function HV(){return{}}function zV(){return{}}function VV(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function GV(t){const e={},n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=f(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],FG(i)),e}function pE(){return{}}function AE(){return{}}function WV(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],VV(n));const r=f(t,["authType"]);r!=null&&m(e,["authType"],r);const i=f(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const a=f(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=f(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const s=f(t,["oidcConfig"]);return s!=null&&m(e,["oidcConfig"],s),e}function YV(t){const e={},n=f(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=f(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=f(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const a=f(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=f(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function KV(t){const e={},n=f(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=f(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=f(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const a=f(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=f(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function JV(t){const e={},n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function XV(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["data"]);r!=null&&m(e,["data"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function QV(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ZV(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["data"]);r!=null&&m(e,["data"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function eG(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function tG(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function nG(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>nW(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function rG(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rW(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function iG(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>iW(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function aG(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aW(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function oG(t){const e={},n=f(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=f(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],pW(r)),e}function sG(t){const e={},n=f(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=f(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],AW(r)),e}function lG(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function uG(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function cG(t){const e={},n=f(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function dG(t){const e={},n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fG(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function hG(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function pG(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Xj(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function Qj(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function AG(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function mG(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function gG(t){const e={},n=f(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=f(t,["description"]);r!=null&&m(e,["description"],r);const i=f(t,["name"]);i!=null&&m(e,["name"],i);const a=f(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const l=f(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function vG(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=f(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=f(t,["response"]);o!=null&&m(e,["response"],o);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function yG(t){const e={},n=f(t,["authConfig"]);return n!=null&&m(e,["authConfig"],WV(n)),e}function bG(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],lG(n)),e}function xG(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],uG(n)),e}function wG(t){const e={},n=f(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],_G(n)),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function SG(t){const e={},n=f(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],TG(n));const r=f(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function _G(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function TG(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function CG(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=f(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=f(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],gW(TS(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],yW(h));const p=f(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],iG(Wr(v)));const b=f(t,["tools"]);if(e!==void 0&&b!=null){let k=df(b);Array.isArray(k)&&(k=k.map(E=>xW(cf(E)))),m(e,["setup","tools"],k)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],fW(x));const y=f(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&m(e,["setup","inputAudioTranscription"],pE());const w=f(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],pE());const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&m(e,["setup","realtimeInputConfig"],cW(S));const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],oG(T));const C=f(t,["proactivity"]);return e!==void 0&&C!=null&&m(e,["setup","proactivity"],lW(C)),n}function NG(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=f(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=f(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],vW(TS(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],bW(h));const p=f(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],aG(Wr(v)));const b=f(t,["tools"]);if(e!==void 0&&b!=null){let k=df(b);Array.isArray(k)&&(k=k.map(E=>wW(cf(E)))),m(e,["setup","tools"],k)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],hW(x));const y=f(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&m(e,["setup","inputAudioTranscription"],AE());const w=f(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],AE());const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&m(e,["setup","realtimeInputConfig"],dW(S));const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],sG(T));const C=f(t,["proactivity"]);return e!==void 0&&C!=null&&m(e,["setup","proactivity"],uW(C)),n}function EG(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],zt(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],CG(i,n)),n}function kG(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],zt(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],NG(i,n)),n}function PG(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>IW(i))),m(e,["weightedPrompts"],r)}return e}function Zj(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rI(i))),m(e,["weightedPrompts"],r)}return e}function w2(t){const e={},n=f(t,["setup"]);n!=null&&m(e,["setup"],eI(n));const r=f(t,["clientContent"]);r!=null&&m(e,["clientContent"],Zj(r));const i=f(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],tI(i));const a=f(t,["playbackControl"]);return a!=null&&m(e,["playbackControl"],a),e}function eI(t){const e={},n=f(t,["model"]);return n!=null&&m(e,["model"],n),e}function MG(t){const e={},n=f(t,["text"]);n!=null&&m(e,["text"],n);const r=f(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function OG(t){const e={},n=f(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=f(t,["topK"]);r!=null&&m(e,["topK"],r);const i=f(t,["seed"]);i!=null&&m(e,["seed"],i);const a=f(t,["guidance"]);a!=null&&m(e,["guidance"],a);const o=f(t,["bpm"]);o!=null&&m(e,["bpm"],o);const s=f(t,["density"]);s!=null&&m(e,["density"],s);const l=f(t,["brightness"]);l!=null&&m(e,["brightness"],l);const u=f(t,["scale"]);u!=null&&m(e,["scale"],u);const c=f(t,["muteBass"]);c!=null&&m(e,["muteBass"],c);const d=f(t,["muteDrums"]);d!=null&&m(e,["muteDrums"],d);const h=f(t,["onlyBassAndDrums"]);h!=null&&m(e,["onlyBassAndDrums"],h);const p=f(t,["musicGenerationMode"]);return p!=null&&m(e,["musicGenerationMode"],p),e}function tI(t){const e={},n=f(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=f(t,["topK"]);r!=null&&m(e,["topK"],r);const i=f(t,["seed"]);i!=null&&m(e,["seed"],i);const a=f(t,["guidance"]);a!=null&&m(e,["guidance"],a);const o=f(t,["bpm"]);o!=null&&m(e,["bpm"],o);const s=f(t,["density"]);s!=null&&m(e,["density"],s);const l=f(t,["brightness"]);l!=null&&m(e,["brightness"],l);const u=f(t,["scale"]);u!=null&&m(e,["scale"],u);const c=f(t,["muteBass"]);c!=null&&m(e,["muteBass"],c);const d=f(t,["muteDrums"]);d!=null&&m(e,["muteDrums"],d);const h=f(t,["onlyBassAndDrums"]);h!=null&&m(e,["onlyBassAndDrums"],h);const p=f(t,["musicGenerationMode"]);return p!=null&&m(e,["musicGenerationMode"],p),e}function jG(t){const e={},n=f(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>GV(i))),m(e,["audioChunks"],r)}return e}function IG(t){const e={};f(t,["setupComplete"])!=null&&m(e,["setupComplete"],DG());const r=f(t,["serverContent"]);r!=null&&m(e,["serverContent"],jG(r));const i=f(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],MG(i)),e}function DG(){return{}}function LG(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],tI(n)),e}function RG(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rI(i))),m(e,["weightedPrompts"],r)}return e}function FG(t){const e={},n=f(t,["clientContent"]);n!=null&&m(e,["clientContent"],PG(n));const r=f(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],OG(r)),e}function BG(t){const e={},n=f(t,["media"]);if(n!=null){let u=Lj(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],Fj(r));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=f(t,["video"]);a!=null&&m(e,["video"],Rj(a));const o=f(t,["text"]);return o!=null&&m(e,["text"],o),f(t,["activityStart"])!=null&&m(e,["activityStart"],HV()),f(t,["activityEnd"])!=null&&m(e,["activityEnd"],UV()),e}function $G(t){const e={},n=f(t,["media"]);if(n!=null){let u=Lj(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],Fj(r));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const a=f(t,["video"]);a!=null&&m(e,["video"],Rj(a));const o=f(t,["text"]);return o!=null&&m(e,["text"],o),f(t,["activityStart"])!=null&&m(e,["activityStart"],zV()),f(t,["activityEnd"])!=null&&m(e,["activityEnd"],qV()),e}function UG(t){const e={},n=f(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],nG(n));const r=f(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=f(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const a=f(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const o=f(t,["generationComplete"]);o!=null&&m(e,["generationComplete"],o);const s=f(t,["inputTranscription"]);s!=null&&m(e,["inputTranscription"],mE(s));const l=f(t,["outputTranscription"]);l!=null&&m(e,["outputTranscription"],mE(l));const u=f(t,["urlContextMetadata"]);u!=null&&m(e,["urlContextMetadata"],SW(u));const c=f(t,["turnCompleteReason"]);c!=null&&m(e,["turnCompleteReason"],c);const d=f(t,["waitingForInput"]);return d!=null&&m(e,["waitingForInput"],d),e}function qG(t){const e={},n=f(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],rG(n));const r=f(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=f(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const a=f(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const o=f(t,["generationComplete"]);o!=null&&m(e,["generationComplete"],o);const s=f(t,["inputTranscription"]);s!=null&&m(e,["inputTranscription"],gE(s));const l=f(t,["outputTranscription"]);l!=null&&m(e,["outputTranscription"],gE(l));const u=f(t,["turnCompleteReason"]);u!=null&&m(e,["turnCompleteReason"],u);const c=f(t,["waitingForInput"]);return c!=null&&m(e,["waitingForInput"],c),e}function HG(t){const e={},n=f(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function zG(t){const e={},n=f(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function VG(t){const e={};f(t,["setupComplete"])!=null&&m(e,["setupComplete"],KG());const r=f(t,["serverContent"]);r!=null&&m(e,["serverContent"],UG(r));const i=f(t,["toolCall"]);i!=null&&m(e,["toolCall"],ZG(i));const a=f(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],XG(a));const o=f(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],NW(o));const s=f(t,["goAway"]);s!=null&&m(e,["goAway"],HG(s));const l=f(t,["sessionResumptionUpdate"]);return l!=null&&m(e,["sessionResumptionUpdate"],WG(l)),e}function GG(t){const e={},n=f(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],JG(n));const r=f(t,["serverContent"]);r!=null&&m(e,["serverContent"],qG(r));const i=f(t,["toolCall"]);i!=null&&m(e,["toolCall"],eW(i));const a=f(t,["toolCallCancellation"]);a!=null&&m(e,["toolCallCancellation"],QG(a));const o=f(t,["usageMetadata"]);o!=null&&m(e,["usageMetadata"],EW(o));const s=f(t,["goAway"]);s!=null&&m(e,["goAway"],zG(s));const l=f(t,["sessionResumptionUpdate"]);return l!=null&&m(e,["sessionResumptionUpdate"],YG(l)),e}function WG(t){const e={},n=f(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=f(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=f(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function YG(t){const e={},n=f(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=f(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=f(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function KG(){return{}}function JG(t){const e={},n=f(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function XG(t){const e={},n=f(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function QG(t){const e={},n=f(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function ZG(t){const e={},n=f(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xj(i))),m(e,["functionCalls"],r)}return e}function eW(t){const e={},n=f(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Qj(i))),m(e,["functionCalls"],r)}return e}function Bm(t){const e={},n=f(t,["modality"]);n!=null&&m(e,["modality"],n);const r=f(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function $m(t){const e={},n=f(t,["modality"]);n!=null&&m(e,["modality"],n);const r=f(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function tW(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>mW(i))),m(e,["speakerVoiceConfigs"],r)}return e}function nW(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],kW(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],JV(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],dG(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],Xj(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function rW(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],PW(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],XV(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],fG(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],Qj(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function iW(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],MW(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],QV(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],hG(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],AG(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function aW(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],OW(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],ZV(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],pG(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],mG(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function oW(t){const e={},n=f(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function sW(t){const e={},n=f(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function lW(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function uW(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function cW(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],YV(n));const r=f(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=f(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function dW(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],KV(n));const r=f(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=f(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function fW(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hW(t){const e={},n=f(t,["handle"]);n!=null&&m(e,["handle"],n);const r=f(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function pW(t){const e={},n=f(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function AW(t){const e={},n=f(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function mW(t){const e={},n=f(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=f(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],nI(r)),e}function gW(t){const e={},n=f(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],nI(n));const r=f(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],tW(r));const i=f(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function vW(t){const e={},n=f(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],jW(n)),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function yW(t){const e={},n=f(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function bW(t){const e={},n=f(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function xW(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>gG(u))),m(e,["functionDeclarations"],l)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],wG(r));const i=f(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],bG(i)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&m(e,["urlContext"],_W());const o=f(t,["computerUse"]);o!=null&&m(e,["computerUse"],eG(o));const s=f(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function wW(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>vG(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],SG(i));const a=f(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],xG(a));const o=f(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],cG(o));const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],yG(s)),f(t,["urlContext"])!=null&&m(e,["urlContext"],TW());const u=f(t,["computerUse"]);u!=null&&m(e,["computerUse"],tG(u));const c=f(t,["codeExecution"]);return c!=null&&m(e,["codeExecution"],c),e}function mE(t){const e={},n=f(t,["text"]);n!=null&&m(e,["text"],n);const r=f(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function gE(t){const e={},n=f(t,["text"]);n!=null&&m(e,["text"],n);const r=f(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function SW(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CW(i))),m(e,["urlMetadata"],r)}return e}function _W(){return{}}function TW(){return{}}function CW(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=f(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function NW(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=f(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const a=f(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=f(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const s=f(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Bm(p))),m(e,["promptTokensDetails"],h)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Bm(p))),m(e,["cacheTokensDetails"],h)}const c=f(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Bm(p))),m(e,["responseTokensDetails"],h)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>Bm(p))),m(e,["toolUsePromptTokensDetails"],h)}return e}function EW(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const a=f(t,["toolUsePromptTokenCount"]);a!=null&&m(e,["toolUsePromptTokenCount"],a);const o=f(t,["thoughtsTokenCount"]);o!=null&&m(e,["thoughtsTokenCount"],o);const s=f(t,["totalTokenCount"]);s!=null&&m(e,["totalTokenCount"],s);const l=f(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>$m(v))),m(e,["promptTokensDetails"],p)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>$m(v))),m(e,["cacheTokensDetails"],p)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(v=>$m(v))),m(e,["responseTokensDetails"],p)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>$m(v))),m(e,["toolUsePromptTokensDetails"],p)}const h=f(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}function kW(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function PW(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function MW(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function OW(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function nI(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],oW(n)),e}function jW(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],sW(n)),e}function IW(t){const e={},n=f(t,["text"]);n!=null&&m(e,["text"],n);const r=f(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function rI(t){const e={},n=f(t,["text"]);n!=null&&m(e,["text"],n);const r=f(t,["weight"]);return r!=null&&m(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DW(t){const e={},n=f(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function LW(t){const e={},n=f(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],DW(n));const r=f(t,["authType"]);r!=null&&m(e,["authType"],r);const i=f(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const a=f(t,["httpBasicAuthConfig"]);a!=null&&m(e,["httpBasicAuthConfig"],a);const o=f(t,["oauthConfig"]);o!=null&&m(e,["oauthConfig"],o);const s=f(t,["oidcConfig"]);return s!=null&&m(e,["oidcConfig"],s),e}function RW(t){const e={},n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function FW(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["data"]);r!=null&&m(e,["data"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function BW(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function $W(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["data"]);r!=null&&m(e,["data"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function UW(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],ZW(n));const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],zW(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const a=f(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=f(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],yJ(o));const s=f(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const l=f(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const u=f(t,["index"]);u!=null&&m(e,["index"],u);const c=f(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const d=f(t,["safetyRatings"]);return d!=null&&m(e,["safetyRatings"],d),e}function qW(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],eY(n));const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],VW(r));const i=f(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const a=f(t,["finishReason"]);a!=null&&m(e,["finishReason"],a);const o=f(t,["urlContextMetadata"]);o!=null&&m(e,["urlContextMetadata"],bJ(o));const s=f(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const l=f(t,["groundingMetadata"]);l!=null&&m(e,["groundingMetadata"],l);const u=f(t,["index"]);u!=null&&m(e,["index"],u);const c=f(t,["logprobsResult"]);c!=null&&m(e,["logprobsResult"],c);const d=f(t,["safetyRatings"]);return d!=null&&m(e,["safetyRatings"],d),e}function HW(t){const e={},n=f(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=f(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=f(t,["step"]);return i!=null&&m(e,["step"],i),e}function zW(t){const e={},n=f(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function VW(t){const e={},n=f(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function GW(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["contents"]);if(i!=null){let a=ma(i);Array.isArray(a)&&(a=a.map(o=>hf(o))),m(n,["contents"],a)}return n}function WW(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);return r!=null&&m(e,["tokensInfo"],r),e}function YW(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function KW(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function JW(t){const e={},n=f(t,["values"]);return n!=null&&m(e,["values"],n),e}function XW(t){const e={},n=f(t,["values"]);n!=null&&m(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&m(e,["statistics"],QW(r)),e}function QW(t){const e={},n=f(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function ZW(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>MK(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function eY(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>OK(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Rv(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jK(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function hf(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>IK(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function tY(t){const e={},n=f(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function nY(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function rY(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],hf(Wr(r)));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lI(s))),m(e,["tools"],o)}const a=f(t,["generationConfig"]);return e!==void 0&&a!=null&&m(e,["generationConfig"],a),n}function iY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["contents"]);if(i!=null){let o=ma(i);Array.isArray(o)&&(o=o.map(s=>Rv(s))),m(n,["contents"],o)}const a=f(e,["config"]);return a!=null&&nY(a),n}function aY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["contents"]);if(i!=null){let o=ma(i);Array.isArray(o)&&(o=o.map(s=>hf(s))),m(n,["contents"],o)}const a=f(e,["config"]);return a!=null&&rY(a,n),n}function oY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function sY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function lY(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],zt(t,r)),n}function uY(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],zt(t,r)),n}function cY(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function dY(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function fY(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function hY(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function pY(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=f(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const p=f(t,["language"]);e!==void 0&&p!=null&&m(e,["parameters","language"],p);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const b=f(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const y=f(t,["editMode"]);e!==void 0&&y!=null&&m(e,["parameters","editMode"],y);const w=f(t,["baseSteps"]);return e!==void 0&&w!=null&&m(e,["parameters","editConfig","baseSteps"],w),n}function AY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=f(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>qK(l))),m(n,["instances[0]","referenceImages"],s)}const o=f(e,["config"]);return o!=null&&pY(o,n),n}function mY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Fv(a))),m(e,["generatedImages"],i)}return e}function gY(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const a=f(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&m(e,["requests[]","outputDimensionality"],a),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vY(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const a=f(t,["outputDimensionality"]);e!==void 0&&a!=null&&m(e,["parameters","outputDimensionality"],a);const o=f(t,["mimeType"]);e!==void 0&&o!=null&&m(e,["instances[]","mimeType"],o);const s=f(t,["autoTruncate"]);return e!==void 0&&s!=null&&m(e,["parameters","autoTruncate"],s),n}function yY(){return{}}function bY(t){const e={},n=f(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function xY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["contents"]);i!=null&&m(n,["requests[]","content"],wS(t,i));const a=f(e,["config"]);a!=null&&gY(a,n);const o=f(e,["model"]);return o!==void 0&&m(n,["requests[]","model"],zt(t,o)),n}function wY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["contents"]);i!=null&&m(n,["instances[]","content"],wS(t,i));const a=f(e,["config"]);return a!=null&&vY(a,n),n}function SY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>JW(o))),m(e,["embeddings"],a)}return f(t,["metadata"])!=null&&m(e,["metadata"],yY()),e}function _Y(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>XW(o))),m(e,["embeddings"],a)}const i=f(t,["metadata"]);return i!=null&&m(e,["metadata"],bY(i)),e}function TY(t){const e={},n=f(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function CY(t){const e={},n=f(t,["excludeDomains"]);return n!=null&&m(e,["excludeDomains"],n),e}function NY(t){const e={},n=f(t,["label"]);n!=null&&m(e,["label"],n);const r=f(t,["score"]);return r!=null&&m(e,["score"],r),e}function EY(t){const e={},n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function kY(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function PY(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function MY(t){const e={},n=f(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=f(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function OY(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function jY(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function IY(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function DY(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function LY(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function RY(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function FY(t){const e={},n=f(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=f(t,["description"]);r!=null&&m(e,["description"],r);const i=f(t,["name"]);i!=null&&m(e,["name"],i);const a=f(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const l=f(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function BY(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const a=f(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const o=f(t,["response"]);o!=null&&m(e,["response"],o);const s=f(t,["responseJsonSchema"]);return s!=null&&m(e,["responseJsonSchema"],s),e}function $Y(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Rv(Wr(i)));const a=f(e,["temperature"]);a!=null&&m(r,["temperature"],a);const o=f(e,["topP"]);o!=null&&m(r,["topP"],o);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const p=f(e,["presencePenalty"]);p!=null&&m(r,["presencePenalty"],p);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const b=f(e,["seed"]);b!=null&&m(r,["seed"],b);const x=f(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const y=f(e,["responseSchema"]);y!=null&&m(r,["responseSchema"],WK(SS(y)));const w=f(e,["responseJsonSchema"]);if(w!=null&&m(r,["responseJsonSchema"],w),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=f(e,["safetySettings"]);if(n!==void 0&&S!=null){let j=S;Array.isArray(j)&&(j=j.map(U=>VK(U))),m(n,["safetySettings"],j)}const T=f(e,["tools"]);if(n!==void 0&&T!=null){let j=df(T);Array.isArray(j)&&(j=j.map(U=>uJ(cf(U)))),m(n,["tools"],j)}const C=f(e,["toolConfig"]);if(n!==void 0&&C!=null&&m(n,["toolConfig"],sJ(C)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=f(e,["cachedContent"]);n!==void 0&&k!=null&&m(n,["cachedContent"],ls(t,k));const E=f(e,["responseModalities"]);E!=null&&m(r,["responseModalities"],E);const M=f(e,["mediaResolution"]);M!=null&&m(r,["mediaResolution"],M);const I=f(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],tJ(_S(I))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=f(e,["thinkingConfig"]);B!=null&&m(r,["thinkingConfig"],aJ(B));const O=f(e,["imageConfig"]);return O!=null&&m(r,["imageConfig"],AK(O)),r}function UY(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],hf(Wr(i)));const a=f(e,["temperature"]);a!=null&&m(r,["temperature"],a);const o=f(e,["topP"]);o!=null&&m(r,["topP"],o);const s=f(e,["topK"]);s!=null&&m(r,["topK"],s);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const p=f(e,["presencePenalty"]);p!=null&&m(r,["presencePenalty"],p);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const b=f(e,["seed"]);b!=null&&m(r,["seed"],b);const x=f(e,["responseMimeType"]);x!=null&&m(r,["responseMimeType"],x);const y=f(e,["responseSchema"]);y!=null&&m(r,["responseSchema"],YK(SS(y)));const w=f(e,["responseJsonSchema"]);w!=null&&m(r,["responseJsonSchema"],w);const S=f(e,["routingConfig"]);S!=null&&m(r,["routingConfig"],S);const T=f(e,["modelSelectionConfig"]);T!=null&&m(r,["modelConfig"],kK(T));const C=f(e,["safetySettings"]);if(n!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map($=>GK($))),m(n,["safetySettings"],R)}const k=f(e,["tools"]);if(n!==void 0&&k!=null){let R=df(k);Array.isArray(R)&&(R=R.map($=>lI(cf($)))),m(n,["tools"],R)}const E=f(e,["toolConfig"]);n!==void 0&&E!=null&&m(n,["toolConfig"],lJ(E));const M=f(e,["labels"]);n!==void 0&&M!=null&&m(n,["labels"],M);const I=f(e,["cachedContent"]);n!==void 0&&I!=null&&m(n,["cachedContent"],ls(t,I));const B=f(e,["responseModalities"]);B!=null&&m(r,["responseModalities"],B);const O=f(e,["mediaResolution"]);O!=null&&m(r,["mediaResolution"],O);const j=f(e,["speechConfig"]);j!=null&&m(r,["speechConfig"],nJ(_S(j)));const U=f(e,["audioTimestamp"]);U!=null&&m(r,["audioTimestamp"],U);const F=f(e,["thinkingConfig"]);F!=null&&m(r,["thinkingConfig"],oJ(F));const G=f(e,["imageConfig"]);return G!=null&&m(r,["imageConfig"],mK(G)),r}function vE(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["contents"]);if(i!=null){let o=ma(i);Array.isArray(o)&&(o=o.map(s=>Rv(s))),m(n,["contents"],o)}const a=f(e,["config"]);return a!=null&&m(n,["generationConfig"],$Y(t,a,n)),n}function yE(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["contents"]);if(i!=null){let o=ma(i);Array.isArray(o)&&(o=o.map(s=>hf(s))),m(n,["contents"],o)}const a=f(e,["config"]);return a!=null&&m(n,["generationConfig"],UY(t,a,n)),n}function bE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>UW(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const a=f(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const o=f(t,["responseId"]);o!=null&&m(e,["responseId"],o);const s=f(t,["usageMetadata"]);return s!=null&&m(e,["usageMetadata"],s),e}function xE(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>qW(c))),m(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&m(e,["createTime"],i);const a=f(t,["modelVersion"]);a!=null&&m(e,["modelVersion"],a);const o=f(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&m(e,["responseId"],s);const l=f(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function qY(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const a=f(t,["guidanceScale"]);if(e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const s=f(t,["personGeneration"]);e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=f(t,["imageSize"]);if(e!==void 0&&p!=null&&m(e,["parameters","sampleImageSize"],p),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function HY(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const a=f(t,["numberOfImages"]);e!==void 0&&a!=null&&m(e,["parameters","sampleCount"],a);const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=f(t,["guidanceScale"]);e!==void 0&&s!=null&&m(e,["parameters","guidanceScale"],s);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const p=f(t,["language"]);e!==void 0&&p!=null&&m(e,["parameters","language"],p);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const b=f(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&m(e,["parameters","outputOptions","compressionQuality"],b);const x=f(t,["addWatermark"]);e!==void 0&&x!=null&&m(e,["parameters","addWatermark"],x);const y=f(t,["imageSize"]);e!==void 0&&y!=null&&m(e,["parameters","sampleImageSize"],y);const w=f(t,["enhancePrompt"]);return e!==void 0&&w!=null&&m(e,["parameters","enhancePrompt"],w),n}function zY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=f(e,["config"]);return a!=null&&qY(a,n),n}function VY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=f(e,["config"]);return a!=null&&HY(a,n),n}function GY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>iK(o))),m(e,["generatedImages"],a)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],oI(i)),e}function WY(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Fv(o))),m(e,["generatedImages"],a)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],sI(i)),e}function YY(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const o=f(t,["resolution"]);e!==void 0&&o!=null&&m(e,["parameters","resolution"],o);const s=f(t,["personGeneration"]);if(e!==void 0&&s!=null&&m(e,["parameters","personGeneration"],s),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(f(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(f(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function KY(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const a=f(t,["fps"]);e!==void 0&&a!=null&&m(e,["parameters","fps"],a);const o=f(t,["durationSeconds"]);e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o);const s=f(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&m(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const p=f(t,["enhancePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","enhancePrompt"],p);const v=f(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const b=f(t,["lastFrame"]);e!==void 0&&b!=null&&m(e,["instances[0]","lastFrame"],za(b));const x=f(t,["referenceImages"]);if(e!==void 0&&x!=null){let S=x;Array.isArray(S)&&(S=S.map(T=>EJ(T))),m(e,["instances[0]","referenceImages"],S)}const y=f(t,["mask"]);e!==void 0&&y!=null&&m(e,["instances[0]","mask"],NJ(y));const w=f(t,["compressionQuality"]);return e!==void 0&&w!=null&&m(e,["parameters","compressionQuality"],w),n}function JY(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const a=f(t,["error"]);a!=null&&m(e,["error"],a);const o=f(t,["response","generateVideoResponse"]);return o!=null&&m(e,["response"],eK(o)),e}function XY(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const a=f(t,["error"]);a!=null&&m(e,["error"],a);const o=f(t,["response"]);return o!=null&&m(e,["response"],tK(o)),e}function QY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=f(e,["image"]);if(a!=null&&m(n,["instances[0]","image"],aI(a)),f(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=f(e,["source"]);o!=null&&nK(o,n);const s=f(e,["config"]);return s!=null&&YY(s,n),n}function ZY(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const a=f(e,["image"]);a!=null&&m(n,["instances[0]","image"],za(a));const o=f(e,["video"]);o!=null&&m(n,["instances[0]","video"],uI(o));const s=f(e,["source"]);s!=null&&rK(s,n);const l=f(e,["config"]);return l!=null&&KY(l,n),n}function eK(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>oK(o))),m(e,["generatedVideos"],a)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function tK(t){const e={},n=f(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>sK(o))),m(e,["generatedVideos"],a)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function nK(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);if(e!==void 0&&i!=null&&m(e,["instances[0]","image"],aI(i)),f(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function rK(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],za(i));const a=f(t,["video"]);return e!==void 0&&a!=null&&m(e,["instances[0]","video"],uI(a)),n}function iK(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],gK(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],oI(i)),e}function Fv(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],iI(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&m(e,["safetyAttributes"],sI(i));const a=f(t,["prompt"]);return a!=null&&m(e,["enhancedPrompt"],a),e}function aK(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["mask"],iI(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>NY(a))),m(e,["labels"],i)}return e}function oK(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],TJ(n)),e}function sK(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],CJ(n)),e}function lK(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],zt(t,r)),n}function uK(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],zt(t,r)),n}function cK(t){const e={},n=f(t,["authConfig"]);return n!=null&&m(e,["authConfig"],LW(n)),e}function dK(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],fY(n)),e}function fK(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],hY(n)),e}function hK(t){const e={},n=f(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],vK(n)),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function pK(t){const e={},n=f(t,["timeRangeFilter"]);n!=null&&m(e,["timeRangeFilter"],yK(n));const r=f(t,["excludeDomains"]);return r!=null&&m(e,["excludeDomains"],r),e}function AK(t){const e={},n=f(t,["aspectRatio"]);return n!=null&&m(e,["aspectRatio"],n),e}function mK(t){const e={},n=f(t,["aspectRatio"]);return n!=null&&m(e,["aspectRatio"],n),e}function gK(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Iu(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function iI(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Iu(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function aI(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Iu(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function za(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Iu(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function vK(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function yK(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function bK(t){const e={},n=f(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function xK(t){const e={},n=f(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=f(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function wK(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const a=f(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=f(e,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],qj(t,s)),r}function SK(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const a=f(e,["pageToken"]);n!==void 0&&a!=null&&m(n,["_query","pageToken"],a);const o=f(e,["filter"]);n!==void 0&&o!=null&&m(n,["_query","filter"],o);const s=f(e,["queryBase"]);return n!==void 0&&s!=null&&m(n,["_url","models_url"],qj(t,s)),r}function _K(t,e){const n={},r=f(e,["config"]);return r!=null&&wK(t,r,n),n}function TK(t,e){const n={},r=f(e,["config"]);return r!=null&&SK(t,r,n),n}function CK(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let a=Hj(i);Array.isArray(a)&&(a=a.map(o=>S2(o))),m(e,["models"],a)}return e}function NK(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let a=Hj(i);Array.isArray(a)&&(a=a.map(o=>_2(o))),m(e,["models"],a)}return e}function EK(t){const e={},n=f(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function S2(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const a=f(t,["version"]);a!=null&&m(e,["version"],a);const o=f(t,["_self"]);o!=null&&m(e,["tunedModelInfo"],cJ(o));const s=f(t,["inputTokenLimit"]);s!=null&&m(e,["inputTokenLimit"],s);const l=f(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);return u!=null&&m(e,["supportedActions"],u),e}function _2(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const a=f(t,["versionId"]);a!=null&&m(e,["version"],a);const o=f(t,["deployedModels"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>TY(h))),m(e,["endpoints"],d)}const s=f(t,["labels"]);s!=null&&m(e,["labels"],s);const l=f(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],dJ(l));const u=f(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>HW(h))),m(e,["checkpoints"],d)}return e}function kK(t){const e={},n=f(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function PK(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eJ(i))),m(e,["speakerVoiceConfigs"],r)}return e}function MK(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],kJ(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],RW(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],EY(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],OY(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function OK(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],PJ(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],FW(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],kY(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],jY(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function jK(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],MJ(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],BW(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],PY(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],IY(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function IK(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],OJ(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],$W(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],MY(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],DY(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function DK(t){const e={},n=f(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function LK(t){const e={},n=f(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function RK(t){const e={},n=f(t,["productImage"]);return n!=null&&m(e,["image"],za(n)),e}function FK(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","editConfig","baseSteps"],i);const a=f(t,["outputGcsUri"]);e!==void 0&&a!=null&&m(e,["parameters","storageUri"],a);const o=f(t,["seed"]);e!==void 0&&o!=null&&m(e,["parameters","seed"],o);const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);return e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h),n}function BK(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["source"]);i!=null&&UK(i,n);const a=f(e,["config"]);return a!=null&&FK(a,n),n}function $K(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Fv(i))),m(e,["generatedImages"],r)}return e}function UK(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],za(i));const a=f(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>RK(s))),m(e,["instances[0]","productImages"],o)}return n}function qK(t){const e={},n=f(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],za(n));const r=f(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const a=f(t,["maskImageConfig"]);a!=null&&m(e,["maskImageConfig"],EK(a));const o=f(t,["controlImageConfig"]);o!=null&&m(e,["controlImageConfig"],tY(o));const s=f(t,["styleImageConfig"]);s!=null&&m(e,["styleImageConfig"],rJ(s));const l=f(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],iJ(l)),e}function HK(t){const e={},n=f(t,["latLng"]);n!=null&&m(e,["latLng"],bK(n));const r=f(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function zK(t){const e={},n=f(t,["latLng"]);n!=null&&m(e,["latLng"],xK(n));const r=f(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function oI(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function sI(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function VK(t){const e={};if(f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(t,["category"]);n!=null&&m(e,["category"],n);const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function GK(t){const e={},n=f(t,["method"]);n!=null&&m(e,["method"],n);const r=f(t,["category"]);r!=null&&m(e,["category"],r);const i=f(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function WK(t){const e={},n=f(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=f(t,["default"]);r!=null&&m(e,["default"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const a=f(t,["enum"]);a!=null&&m(e,["enum"],a);const o=f(t,["example"]);o!=null&&m(e,["example"],o);const s=f(t,["format"]);s!=null&&m(e,["format"],s);const l=f(t,["items"]);l!=null&&m(e,["items"],l);const u=f(t,["maxItems"]);u!=null&&m(e,["maxItems"],u);const c=f(t,["maxLength"]);c!=null&&m(e,["maxLength"],c);const d=f(t,["maxProperties"]);d!=null&&m(e,["maxProperties"],d);const h=f(t,["maximum"]);h!=null&&m(e,["maximum"],h);const p=f(t,["minItems"]);p!=null&&m(e,["minItems"],p);const v=f(t,["minLength"]);v!=null&&m(e,["minLength"],v);const b=f(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const x=f(t,["minimum"]);x!=null&&m(e,["minimum"],x);const y=f(t,["nullable"]);y!=null&&m(e,["nullable"],y);const w=f(t,["pattern"]);w!=null&&m(e,["pattern"],w);const S=f(t,["properties"]);S!=null&&m(e,["properties"],S);const T=f(t,["propertyOrdering"]);T!=null&&m(e,["propertyOrdering"],T);const C=f(t,["required"]);C!=null&&m(e,["required"],C);const k=f(t,["title"]);k!=null&&m(e,["title"],k);const E=f(t,["type"]);return E!=null&&m(e,["type"],E),e}function YK(t){const e={},n=f(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=f(t,["default"]);r!=null&&m(e,["default"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const a=f(t,["enum"]);a!=null&&m(e,["enum"],a);const o=f(t,["example"]);o!=null&&m(e,["example"],o);const s=f(t,["format"]);s!=null&&m(e,["format"],s);const l=f(t,["items"]);l!=null&&m(e,["items"],l);const u=f(t,["maxItems"]);u!=null&&m(e,["maxItems"],u);const c=f(t,["maxLength"]);c!=null&&m(e,["maxLength"],c);const d=f(t,["maxProperties"]);d!=null&&m(e,["maxProperties"],d);const h=f(t,["maximum"]);h!=null&&m(e,["maximum"],h);const p=f(t,["minItems"]);p!=null&&m(e,["minItems"],p);const v=f(t,["minLength"]);v!=null&&m(e,["minLength"],v);const b=f(t,["minProperties"]);b!=null&&m(e,["minProperties"],b);const x=f(t,["minimum"]);x!=null&&m(e,["minimum"],x);const y=f(t,["nullable"]);y!=null&&m(e,["nullable"],y);const w=f(t,["pattern"]);w!=null&&m(e,["pattern"],w);const S=f(t,["properties"]);S!=null&&m(e,["properties"],S);const T=f(t,["propertyOrdering"]);T!=null&&m(e,["propertyOrdering"],T);const C=f(t,["required"]);C!=null&&m(e,["required"],C);const k=f(t,["title"]);k!=null&&m(e,["title"],k);const E=f(t,["type"]);return E!=null&&m(e,["type"],E),e}function KK(t){const e={},n=f(t,["image"]);return n!=null&&m(e,["image"],za(n)),e}function JK(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const a=f(t,["confidenceThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","confidenceThreshold"],a);const o=f(t,["maskDilation"]);e!==void 0&&o!=null&&m(e,["parameters","maskDilation"],o);const s=f(t,["binaryColorThreshold"]);return e!==void 0&&s!=null&&m(e,["parameters","binaryColorThreshold"],s),n}function XK(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["source"]);i!=null&&ZK(i,n);const a=f(e,["config"]);return a!=null&&JK(a,n),n}function QK(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aK(i))),m(e,["generatedMasks"],r)}return e}function ZK(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],za(i));const a=f(t,["scribbleImage"]);return e!==void 0&&a!=null&&m(e,["instances[0]","scribble"],KK(a)),n}function eJ(t){const e={},n=f(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=f(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],cI(r)),e}function tJ(t){const e={},n=f(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],cI(n));const r=f(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],PK(r));const i=f(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function nJ(t){const e={},n=f(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],jJ(n)),f(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=f(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function rJ(t){const e={},n=f(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function iJ(t){const e={},n=f(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=f(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function aJ(t){const e={},n=f(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function oJ(t){const e={},n=f(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function sJ(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],LY(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],HK(r)),e}function lJ(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],RY(n));const r=f(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],zK(r)),e}function uJ(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>FY(u))),m(e,["functionDeclarations"],l)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],hK(r));const i=f(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],dK(i)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&m(e,["urlContext"],xJ());const o=f(t,["computerUse"]);o!=null&&m(e,["computerUse"],YW(o));const s=f(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function lI(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>BY(h))),m(e,["functionDeclarations"],d)}const r=f(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=f(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],pK(i));const a=f(t,["googleSearchRetrieval"]);a!=null&&m(e,["googleSearchRetrieval"],fK(a));const o=f(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],CY(o));const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],cK(s)),f(t,["urlContext"])!=null&&m(e,["urlContext"],wJ());const u=f(t,["computerUse"]);u!=null&&m(e,["computerUse"],KW(u));const c=f(t,["codeExecution"]);return c!=null&&m(e,["codeExecution"],c),e}function cJ(t){const e={},n=f(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function dJ(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function fJ(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=f(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function hJ(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const a=f(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&m(e,["defaultCheckpointId"],a),n}function pJ(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","name"],zt(t,r));const i=f(e,["config"]);return i!=null&&fJ(i,n),n}function AJ(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["config"]);return i!=null&&hJ(i,n),n}function mJ(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["includeRaiReason"]);e!==void 0&&i!=null&&m(e,["parameters","includeRaiReason"],i);const a=f(t,["outputMimeType"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","mimeType"],a);const o=f(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","compressionQuality"],o);const s=f(t,["enhanceInputImage"]);e!==void 0&&s!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],s);const l=f(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&m(e,["parameters","sampleCount"],u);const c=f(t,["mode"]);return e!==void 0&&c!=null&&m(e,["parameters","mode"],c),n}function gJ(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],zt(t,r));const i=f(e,["image"]);i!=null&&m(n,["instances[0]","image"],za(i));const a=f(e,["upscaleFactor"]);a!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=f(e,["config"]);return o!=null&&mJ(o,n),n}function vJ(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Fv(a))),m(e,["generatedImages"],i)}return e}function yJ(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>SJ(i))),m(e,["urlMetadata"],r)}return e}function bJ(t){const e={},n=f(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_J(i))),m(e,["urlMetadata"],r)}return e}function xJ(){return{}}function wJ(){return{}}function SJ(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=f(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function _J(t){const e={},n=f(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=f(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function TJ(t){const e={},n=f(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],Iu(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function CJ(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Iu(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function NJ(t){const e={},n=f(t,["image"]);n!=null&&m(e,["_self"],za(n));const r=f(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function EJ(t){const e={},n=f(t,["image"]);n!=null&&m(e,["image"],za(n));const r=f(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function kJ(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function PJ(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function MJ(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function OJ(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function uI(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Iu(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function cI(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],DK(n)),e}function jJ(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],LK(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IJ="Content-Type",DJ="X-Server-Timeout",LJ="User-Agent",T2="x-goog-api-client",RJ="1.22.0",FJ=`google-genai-sdk/${RJ}`,BJ="v1beta1",$J="v1beta",wE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class UJ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:BJ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:$J,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&qJ(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await SE(i),new v2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await SE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return cd(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield Tn(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),p=h.status,v=h.code,b=`got status: ${p}. ${JSON.stringify(d)}`;if(v>=400&&v<600)throw new Lv({message:b,status:v})}}catch(d){if(d.name==="ApiError")throw d}o+=u;let c=o.match(wE);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Tn(new v2(h)),o=o.slice(c[0].length),c=o.match(wE)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=FJ+" "+this.clientOptions.userAgentExtra;return e[LJ]=n,e[T2]=n,e[IJ]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(DJ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l=await this.fetchUploadUrl(i,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:at("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function SE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Lv({message:i,status:n}):new Error(i)}}function qJ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HJ="mcp_used/unknown";let zJ=!1;function dI(t){for(const e of t)if(VJ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return zJ}function fI(t){var e;const n=(e=t[T2])!==null&&e!==void 0?e:"";t[T2]=(n+` ${HJ}`).trimStart()}function VJ(t){return t!==null&&typeof t=="object"&&t instanceof NS}function GJ(t,e=100){return cd(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Tn(t.listTools({cursor:r}));for(const o of a.tools)yield yield Tn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class NS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new NS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Kh(GJ(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const d=i;o.push(d);const h=d.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=c}}catch(d){n={error:d}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),nH(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WJ(t,e,n){const r=new Yq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=IG(i);Object.assign(r,a),e(r)}class YJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=XJ(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,h=function(){u({})},p=this.apiClient,v={onopen:h,onmessage:S=>{WJ(p,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(l,JJ(o),v);b.connect(),await c;const x=zt(this.apiClient,e.model),y=eI({model:x}),w=w2({setup:y});return b.send(JSON.stringify(w)),new KJ(b,this.apiClient)}}class KJ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=RG(e),r=Zj(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=LG(e),r=w2(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=w2({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Jc.PLAY)}pause(){this.sendPlaybackControl(Jc.PAUSE)}stop(){this.sendPlaybackControl(Jc.STOP)}resetContext(){this.sendPlaybackControl(Jc.RESET_CONTEXT)}close(){this.conn.close()}}function JJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function XJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QJ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZJ(t,e,n){const r=new Wq;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=GG(a);Object.assign(r,o)}else{const o=VG(a);Object.assign(r,o)}e(r)}class eX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new YJ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&dI(e.config.tools)&&fI(d);const h=iX(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const I=this.apiClient.getApiKey();let B="BidiGenerateContent",O="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${B}?${O}=${I}`}let p=()=>{};const v=new Promise(I=>{p=I}),b=e.callbacks,x=function(){var I;(I=b==null?void 0:b.onopen)===null||I===void 0||I.call(b),p({})},y=this.apiClient,w={onopen:x,onmessage:I=>{ZJ(y,b.onmessage,I)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(c,rX(h),w);S.connect(),await v;let T=zt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const I=this.apiClient.getProject(),B=this.apiClient.getLocation();T=`projects/${I}/locations/${B}/`+T}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[r0.AUDIO]}:e.config.responseModalities=[r0.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const I of k)if(this.isCallableTool(I)){const B=I;E.push(await B.tool())}else E.push(I);E.length>0&&(e.config.tools=E);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=kG(this.apiClient,M):C=EG(this.apiClient,M),delete C.config,S.send(JSON.stringify(C)),new nX(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const tX={turnComplete:!0};class nX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ma(n.turns),e.isVertexAI()?r=r.map(i=>hf(i)):r=r.map(i=>Rv(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(QJ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},tX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:$G(e)}:n={realtimeInput:BG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function rX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function iX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _E=10;function TE(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(dd(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function dd(t){return"callTool"in t&&typeof t.callTool=="function"}function aX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>dd(i)))!==null&&r!==void 0?r:!1}function oX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!dd(i)))!==null&&r!==void 0?r:!1}function CE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sX extends ju{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!aX(n)||TE(n.config))return await this.generateContentInternal(l);if(oX(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const d=ma(l.contents),h=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:_E;let p=0;for(;p<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const v=u.candidates[0].content,b=[];for(const x of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(dd(x)){const w=await x.callTool(u.functionCalls);b.push(...w)}p++,c={role:"user",parts:b},l.contents=ma(l.contents),l.contents.push(v),l.contents.push(c),CE(l.config)&&(d.push(v),d.push(c))}return CE(l.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),TE(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new bA(yu.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>dd(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&dI(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),fI(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(dd(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:_E;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,p;return cd(this,arguments,function*(){for(var v,b,x,y;s<a;){o&&(s++,o=!1);const C=yield Tn(u.processParamsMaybeAddMcpUsage(d)),k=yield Tn(u.generateContentStreamInternal(C)),E=[],M=[];try{for(var w=!0,S=(b=void 0,Kh(k)),T;T=yield Tn(S.next()),v=T.done,!v;w=!0){y=T.value,w=!1;const I=y;if(yield yield Tn(I),I.candidates&&(!((h=I.candidates[0])===null||h===void 0)&&h.content)){M.push(I.candidates[0].content);for(const B of(p=I.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(s<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(B.functionCall.name)){const O=yield Tn(c.get(B.functionCall.name).callTool([B.functionCall]));E.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(I){b={error:I}}finally{try{!w&&!v&&(x=S.return)&&(yield Tn(x.call(S)))}finally{if(b)throw b.error}}if(E.length>0){o=!0;const I=new fh;I.candidates=[{content:{role:"user",parts:E}}],yield yield Tn(I);const B=[];B.push(...M),B.push({role:"user",parts:E});const O=ma(d.contents).concat(B);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=yE(this.apiClient,e);return s=at("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=xE(c),h=new fh;return Object.assign(h,d),h})}else{const u=vE(this.apiClient,e);return s=at("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=bE(c),h=new fh;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=yE(this.apiClient,e);return s=at("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(d){return cd(this,arguments,function*(){var h,p,v,b;try{for(var x=!0,y=Kh(d),w;w=yield Tn(y.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const S=b,T=xE(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new fh;Object.assign(C,T),yield yield Tn(C)}}catch(S){p={error:S}}finally{try{!x&&!h&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(p)throw p.error}}})})}else{const u=vE(this.apiClient,e);return s=at("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(d){return cd(this,arguments,function*(){var h,p,v,b;try{for(var x=!0,y=Kh(d),w;w=yield Tn(y.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const S=b,T=bE(yield Tn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new fh;Object.assign(C,T),yield yield Tn(C)}}catch(S){p={error:S}}finally{try{!x&&!h&&(v=y.return)&&(yield Tn(v.call(y)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=wY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=_Y(c),h=new QN;return Object.assign(h,d),h})}else{const u=xY(this.apiClient,e);return s=at("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=SY(c),h=new QN;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=VY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=WY(c),h=new ZN;return Object.assign(h,d),h})}else{const u=zY(this.apiClient,e);return s=at("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=GY(c),h=new ZN;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=AY(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=mY(l),c=new Bq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=gJ(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=vJ(l),c=new $q;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=BK(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=$K(l),c=new Uq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=XK(this.apiClient,e);return a=at("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=QK(l),c=new qq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=uK(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>_2(c))}else{const u=lK(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>S2(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=TK(this.apiClient,e);return s=at("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=NK(c),h=new eE;return Object.assign(h,d),h})}else{const u=_K(this.apiClient,e);return s=at("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=CK(c),h=new eE;return Object.assign(h,d),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=AJ(this.apiClient,e);return s=at("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>_2(c))}else{const u=pJ(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>S2(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=uY(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=dY(c),h=new tE;return Object.assign(h,d),h})}else{const u=lY(this.apiClient,e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=cY(c),h=new tE;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=aY(this.apiClient,e);return s=at("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=sY(c),h=new nE;return Object.assign(h,d),h})}else{const u=iY(this.apiClient,e);return s=at("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=oY(c),h=new nE;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=GW(this.apiClient,e);return a=at("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=WW(l),c=new Hq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ZY(this.apiClient,e);return s=at("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const d=XY(c),h=new i0;return Object.assign(h,d),h})}else{const u=QY(this.apiClient,e);return s=at("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const d=JY(c),h=new i0;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lX extends ju{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Lq(e);return s=at("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=Dq(e);return s=at("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=Eq(e);return a=at("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NE(){return{}}function uX(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["name"],n),e}function cX(t){const e={},n=f(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=f(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=f(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const a=f(t,["prefixPaddingMs"]);a!=null&&m(e,["prefixPaddingMs"],a);const o=f(t,["silenceDurationMs"]);return o!=null&&m(e,["silenceDurationMs"],o),e}function dX(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["data"]);n!=null&&m(e,["data"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fX(t){const e={},n=f(t,["environment"]);n!=null&&m(e,["environment"],n);const r=f(t,["excludedPredefinedFunctions"]);return r!=null&&m(e,["excludedPredefinedFunctions"],r),e}function hX(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>NX(a))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function pX(t){const e={},n=f(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=f(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],OX(r)),e}function AX(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const a=f(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&m(n,["newSessionExpireTime"],a);const o=f(e,["uses"]);n!==void 0&&o!=null&&m(n,["uses"],o);const s=f(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&m(n,["bidiGenerateContentSetup"],TX(t,s));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function mX(t,e){const n={},r=f(e,["config"]);return r!=null&&m(n,["config"],AX(t,r,n)),n}function gX(t){const e={},n=f(t,["mode"]);n!=null&&m(e,["mode"],n);const r=f(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function vX(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yX(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);return i!=null&&m(e,["name"],i),e}function bX(t){const e={},n=f(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=f(t,["description"]);r!=null&&m(e,["description"],r);const i=f(t,["name"]);i!=null&&m(e,["name"],i);const a=f(t,["parameters"]);a!=null&&m(e,["parameters"],a);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const l=f(t,["responseJsonSchema"]);return l!=null&&m(e,["responseJsonSchema"],l),e}function xX(t){const e={},n=f(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],gX(n)),e}function wX(t){const e={},n=f(t,["timeRangeFilter"]);if(n!=null&&m(e,["timeRangeFilter"],SX(n)),f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function SX(t){const e={},n=f(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=f(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function _X(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const a=f(t,["temperature"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","temperature"],a);const o=f(t,["topP"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","topP"],o);const s=f(t,["topK"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topK"],s);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],IX(TS(d)));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],DX(h));const p=f(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],p);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],hX(Wr(v)));const b=f(t,["tools"]);if(e!==void 0&&b!=null){let k=df(b);Array.isArray(k)&&(k=k.map(E=>LX(cf(E)))),m(e,["setup","tools"],k)}const x=f(t,["sessionResumption"]);e!==void 0&&x!=null&&m(e,["setup","sessionResumption"],MX(x));const y=f(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&m(e,["setup","inputAudioTranscription"],NE());const w=f(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","outputAudioTranscription"],NE());const S=f(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&m(e,["setup","realtimeInputConfig"],PX(S));const T=f(t,["contextWindowCompression"]);e!==void 0&&T!=null&&m(e,["setup","contextWindowCompression"],pX(T));const C=f(t,["proactivity"]);return e!==void 0&&C!=null&&m(e,["setup","proactivity"],kX(C)),n}function TX(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],zt(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],_X(i,n)),n}function CX(t){const e={},n=f(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jX(i))),m(e,["speakerVoiceConfigs"],r)}return e}function NX(t){const e={},n=f(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],FX(n));const r=f(t,["thought"]);r!=null&&m(e,["thought"],r);const i=f(t,["inlineData"]);i!=null&&m(e,["inlineData"],dX(i));const a=f(t,["fileData"]);a!=null&&m(e,["fileData"],vX(a));const o=f(t,["thoughtSignature"]);o!=null&&m(e,["thoughtSignature"],o);const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],yX(s));const l=f(t,["codeExecutionResult"]);l!=null&&m(e,["codeExecutionResult"],l);const u=f(t,["executableCode"]);u!=null&&m(e,["executableCode"],u);const c=f(t,["functionResponse"]);c!=null&&m(e,["functionResponse"],c);const d=f(t,["text"]);return d!=null&&m(e,["text"],d),e}function EX(t){const e={},n=f(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function kX(t){const e={},n=f(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function PX(t){const e={},n=f(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],cX(n));const r=f(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=f(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function MX(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OX(t){const e={},n=f(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function jX(t){const e={},n=f(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=f(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],hI(r)),e}function IX(t){const e={},n=f(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],hI(n));const r=f(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],CX(r));const i=f(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function DX(t){const e={},n=f(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=f(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function LX(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>bX(u))),m(e,["functionDeclarations"],l)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=f(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],wX(r));const i=f(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],xX(i)),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(t,["urlContext"])!=null&&m(e,["urlContext"],RX());const o=f(t,["computerUse"]);o!=null&&m(e,["computerUse"],fX(o));const s=f(t,["codeExecution"]);return s!=null&&m(e,["codeExecution"],s),e}function RX(){return{}}function FX(t){const e={},n=f(t,["fps"]);n!=null&&m(e,["fps"],n);const r=f(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=f(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function hI(t){const e={},n=f(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],EX(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function $X(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=BX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class UX extends ju{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=mX(this.apiClient,e);a=at("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=$X(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>uX(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qX(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function HX(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function zX(t,e){const n={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=f(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const a=f(t,["learningRateMultiplier"]);if(a!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=f(t,["batchSize"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","batchSize"],o);const s=f(t,["learningRate"]);if(e!==void 0&&s!=null&&m(e,["tuningTask","hyperparameters","learningRate"],s),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function VX(t,e){const n={},r=f(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],uQ(r,n));const i=f(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const a=f(t,["description"]);e!==void 0&&a!=null&&m(e,["description"],a);const o=f(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const s=f(t,["learningRateMultiplier"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=f(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=f(t,["adapterSize"]);if(e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=f(t,["labels"]);return e!==void 0&&c!=null&&m(e,["labels"],c),n}function GX(t){const e={},n=f(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=f(t,["trainingDataset"]);i!=null&&m(e,["tuningTask","trainingData"],aQ(i));const a=f(t,["config"]);return a!=null&&zX(a,e),e}function WX(t){const e={},n=f(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["preTunedModel"]);r!=null&&m(e,["preTunedModel"],r);const i=f(t,["trainingDataset"]);i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],oQ(i,e));const a=f(t,["config"]);return a!=null&&VX(a,e),e}function YX(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function KX(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function JX(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=f(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function XX(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const a=f(t,["filter"]);return e!==void 0&&a!=null&&m(e,["_query","filter"],a),n}function QX(t){const e={},n=f(t,["config"]);return n!=null&&JX(n,e),e}function ZX(t){const e={},n=f(t,["config"]);return n!=null&&XX(n,e),e}function eQ(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>pI(o))),m(e,["tuningJobs"],a)}return e}function tQ(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>C2(o))),m(e,["tuningJobs"],a)}return e}function nQ(t){const e={},n=f(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=f(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=f(t,["step"]);i!=null&&m(e,["step"],i);const a=f(t,["endpoint"]);return a!=null&&m(e,["endpoint"],a),e}function rQ(t){const e={},n=f(t,["name"]);n!=null&&m(e,["model"],n);const r=f(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function iQ(t){const e={},n=f(t,["model"]);n!=null&&m(e,["model"],n);const r=f(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=f(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>nQ(o))),m(e,["checkpoints"],a)}return e}function aQ(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=f(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sQ(i))),m(e,["examples","examples"],r)}return e}function oQ(t,e){const n={},r=f(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function sQ(t){const e={},n=f(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=f(t,["output"]);return r!=null&&m(e,["output"],r),e}function pI(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["state"]);i!=null&&m(e,["state"],$j(i));const a=f(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=f(t,["tuningTask","startTime"]);o!=null&&m(e,["startTime"],o);const s=f(t,["tuningTask","completeTime"]);s!=null&&m(e,["endTime"],s);const l=f(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=f(t,["description"]);u!=null&&m(e,["description"],u);const c=f(t,["baseModel"]);c!=null&&m(e,["baseModel"],c);const d=f(t,["_self"]);d!=null&&m(e,["tunedModel"],rQ(d));const h=f(t,["customBaseModel"]);h!=null&&m(e,["customBaseModel"],h);const p=f(t,["experiment"]);p!=null&&m(e,["experiment"],p);const v=f(t,["labels"]);v!=null&&m(e,["labels"],v);const b=f(t,["outputUri"]);b!=null&&m(e,["outputUri"],b);const x=f(t,["pipelineJob"]);x!=null&&m(e,["pipelineJob"],x);const y=f(t,["serviceAccount"]);y!=null&&m(e,["serviceAccount"],y);const w=f(t,["tunedModelDisplayName"]);w!=null&&m(e,["tunedModelDisplayName"],w);const S=f(t,["veoTuningSpec"]);return S!=null&&m(e,["veoTuningSpec"],S),e}function C2(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["state"]);i!=null&&m(e,["state"],$j(i));const a=f(t,["createTime"]);a!=null&&m(e,["createTime"],a);const o=f(t,["startTime"]);o!=null&&m(e,["startTime"],o);const s=f(t,["endTime"]);s!=null&&m(e,["endTime"],s);const l=f(t,["updateTime"]);l!=null&&m(e,["updateTime"],l);const u=f(t,["error"]);u!=null&&m(e,["error"],u);const c=f(t,["description"]);c!=null&&m(e,["description"],c);const d=f(t,["baseModel"]);d!=null&&m(e,["baseModel"],d);const h=f(t,["tunedModel"]);h!=null&&m(e,["tunedModel"],iQ(h));const p=f(t,["preTunedModel"]);p!=null&&m(e,["preTunedModel"],p);const v=f(t,["supervisedTuningSpec"]);v!=null&&m(e,["supervisedTuningSpec"],v);const b=f(t,["tuningDataStats"]);b!=null&&m(e,["tuningDataStats"],b);const x=f(t,["encryptionSpec"]);x!=null&&m(e,["encryptionSpec"],x);const y=f(t,["partnerModelTuningSpec"]);y!=null&&m(e,["partnerModelTuningSpec"],y);const w=f(t,["customBaseModel"]);w!=null&&m(e,["customBaseModel"],w);const S=f(t,["experiment"]);S!=null&&m(e,["experiment"],S);const T=f(t,["labels"]);T!=null&&m(e,["labels"],T);const C=f(t,["outputUri"]);C!=null&&m(e,["outputUri"],C);const k=f(t,["pipelineJob"]);k!=null&&m(e,["pipelineJob"],k);const E=f(t,["serviceAccount"]);E!=null&&m(e,["serviceAccount"],E);const M=f(t,["tunedModelDisplayName"]);M!=null&&m(e,["tunedModelDisplayName"],M);const I=f(t,["veoTuningSpec"]);return I!=null&&m(e,["veoTuningSpec"],I),e}function lQ(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["metadata"]);i!=null&&m(e,["metadata"],i);const a=f(t,["done"]);a!=null&&m(e,["done"],a);const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function uQ(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cQ extends ju{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bA(yu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:g2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=KX(e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>C2(c))}else{const u=YX(e);return s=at("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>pI(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ZX(e);return s=at("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=tQ(c),h=new rE;return Object.assign(h,d),h})}else{const u=QX(e);return s=at("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const d=eQ(c),h=new rE;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=HX(e);o=at("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=qX(e);o=at("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=WX(e);return a=at("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>C2(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=GX(e);return a=at("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>lQ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dQ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fQ=1024*1024*8,hQ=3,pQ=1e3,AQ=2,y1="x-goog-upload-status";async function mQ(t,e,n){var r,i,a;let o=0,s=0,l=new v2(new Response),u="upload";for(o=t.size;s<o;){const d=Math.min(fQ,o-s),h=t.slice(s,s+d);s+d>=o&&(u+=", finalize");let p=0,v=pQ;for(;p<hQ&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[y1]));)p++,await vQ(v),v=v*AQ;if(s+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[y1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[y1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function gQ(t){return{size:t.size,type:t.type}}function vQ(t){return new Promise(e=>setTimeout(e,t))}class yQ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mQ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gQ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bQ{create(e,n,r){return new xQ(e,n,r)}}class xQ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EE="x-goog-api-key";class wQ{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(EE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(EE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SQ="gl-node/";class _Q{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Nq(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new wQ(this.apiKey);this.apiClient=new UJ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:SQ+"web",uploader:new yQ,downloader:new dQ}),this.models=new sX(this.apiClient),this.live=new eX(this.apiClient,i,new bQ),this.batches=new yz(this.apiClient),this.chats=new NV(this.models,this.apiClient),this.caches=new _V(this.apiClient),this.files=new $V(this.apiClient),this.operations=new lX(this.apiClient),this.authTokens=new UX(this.apiClient),this.tunings=new cQ(this.apiClient)}}var TQ={};const kE=TQ.API_KEY,CQ=({product:t,variants:e,stockMap:n,onClose:r,onSelectVariant:i,t:a,isReturnMode:o})=>A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] flex flex-col",children:[A.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[a("selectVariantFor"),' "',t.name,'"']}),A.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:e.map(s=>{const l=n.get(s.id)||0,u=!o&&l<=0;return A.jsxs("div",{onClick:()=>!u&&i(s),className:`flex items-center p-3 border dark:border-slate-700 rounded-lg gap-4 ${u?"bg-gray-100 dark:bg-slate-700 opacity-50 cursor-not-allowed":"bg-white dark:bg-slate-900 hover:bg-teal-50 dark:hover:bg-slate-700 cursor-pointer"}`,children:[A.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-md bg-gray-200"}),A.jsxs("div",{className:"flex-grow",children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:s.name}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s.price.toFixed(2)," DH"]})]}),A.jsxs("div",{className:"text-right rtl:text-left",children:[A.jsxs("p",{className:`font-semibold ${l>s.lowStockThreshold?"text-green-600 dark:text-green-400":"text-orange-500 dark:text-orange-400"}`,children:[a("stock"),": ",l]}),u&&A.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:a("outOfStock")})]})]},s.id)})}),A.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:A.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")})})]})}),NQ=({onSave:t,onClose:e,t:n})=>{const[r,i]=re.useState(""),[a,o]=re.useState(1),[s,l]=re.useState(""),u=c=>{if(c.preventDefault(),!r||a===""||a<=0||s===""||s<=0){alert(n("fillAllFields"));return}t(r,a,s)};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("enterItemDetails")}),A.jsxs("form",{onSubmit:u,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"itemName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("customItemName")}),A.jsx("input",{id:"itemName",type:"text",value:r,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:n("itemNamePlaceholder"),required:!0,autoFocus:!0})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"itemQuantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("quantity")}),A.jsx("input",{id:"itemQuantity",type:"number",value:a,onChange:c=>o(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"itemPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("unitPriceLabel")}),A.jsx("input",{id:"itemPrice",type:"number",value:s,onChange:c=>l(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[A.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),A.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:n("add")})]})]})]})})},EQ=({store:t,user:e,products:n,variants:r,customers:i,categories:a,sales:o,stockMap:s,variantMap:l,variantsByProduct:u,barcodeMap:c,cart:d,setCart:h,completeSale:p,processReturn:v,payCustomerDebt:b,t:x,language:y})=>{const[w,S]=re.useState(0),[T,C]=re.useState(void 0),[k,E]=re.useState(null),[M,I]=re.useState(""),[B,O]=re.useState(!1),[j,U]=re.useState(null),[F,G]=re.useState(!1),[R,$]=re.useState(0),[H,Y]=re.useState(""),[X,te]=re.useState(""),[D,q]=re.useState(null),[Z,ne]=re.useState(!1),[ae,me]=re.useState(!1),[Ae,W]=re.useState("unit"),le=re.useRef(""),ce=re.useRef(null),ue=re.useRef(null),Me=re.useMemo(()=>d.reduce((Se,Ue)=>Se+Ue.price*Ue.quantity,0),[d]),De=X?parseFloat(X):Me,Ne=De/1.2,oe=De-Ne,Ee=De-w,ke=re.useCallback((Se,Ue)=>Ue==="wholesale"&&Se.priceWholesale&&Se.priceWholesale>0?Se.priceWholesale:Ue==="semiWholesale"&&Se.priceSemiWholesale&&Se.priceSemiWholesale>0?Se.priceSemiWholesale:Se.price||0,[]);re.useEffect(()=>{h(Se=>Se.map(Ue=>{let rt=Ue.price;if(Ue.type==="good"){const gt=l.get(Ue.id);gt&&(rt=ke(gt,Ae))}else if(Ue.type==="service"&&!Ue.isCustom){const gt=n.find(st=>st.id===Ue.productId);gt&&(rt=ke(gt,Ae))}return{...Ue,price:rt}}))},[Ae,l,n,ke,h]),re.useEffect(()=>{if(T){const Se=o.filter(Ue=>Ue.customerId===T&&Ue.remainingAmount>0).reduce((Ue,rt)=>Ue+rt.remainingAmount,0);$(Se)}else $(0)},[T,o]),re.useEffect(()=>{T||S(De)},[De,T]),re.useEffect(()=>{te("")},[d]);const xe=re.useCallback(Se=>{const Ue=s.get(Se.id)||0;if(!B&&Ue<=0){E(x("productOutOfStock",{productName:Se.name})),setTimeout(()=>E(null),3e3);return}h(rt=>{const gt=rt.find(Mt=>Mt.id===Se.id);if(gt){const Mt=gt.quantity+1;return!B&&Mt>Ue?(E(x("notEnoughStock",{productName:Se.name})),setTimeout(()=>E(null),3e3),rt):rt.map(or=>or.id===Se.id?{...or,quantity:Mt}:or)}const st=n.find(Mt=>Mt.id===Se.productId),mn={id:Se.id,storeId:Se.storeId,name:`${st==null?void 0:st.name} - ${Se.name}`,type:"good",price:ke(Se,Ae),purchasePrice:Se.purchasePrice,stock:Ue,quantity:1,image:Se.image,productId:Se.productId};return[...rt,mn]}),E(x("productAdded",{productName:Se.name})),setTimeout(()=>E(null),3e3)},[h,B,x,s,n,ke,Ae]),Pe=re.useCallback(Se=>{h(Ue=>{if(Ue.find(st=>st.id===Se.id))return Ue.map(st=>st.id===Se.id?{...st,quantity:st.quantity+1}:st);const gt={id:Se.id,storeId:Se.storeId,name:Se.name,type:"service",price:ke(Se,Ae),quantity:1,image:Se.image,productId:Se.id};return[...Ue,gt]})},[h,ke,Ae]),ye=(Se,Ue,rt)=>{const gt=crypto.randomUUID(),st={id:gt,productId:gt,storeId:e.storeId,name:Se,price:rt,quantity:Ue,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(x("service"))}`,isCustom:!0};h(mn=>[...mn,st]),me(!1),E(x("customItemAdded")),setTimeout(()=>E(null),3e3)},_e=re.useCallback(Se=>{const Ue=c.get(Se);Ue?xe(Ue):(E(x("productNotFound",{barcode:Se})),setTimeout(()=>E(null),3e3))},[c,xe,x]),be=async Se=>{var rt;const Ue=(rt=Se.target.files)==null?void 0:rt[0];if(Ue){if(!kE){E(x("geminiApiKeyNotConfigured")),setTimeout(()=>E(null),4e3),Se.target&&(Se.target.value="");return}ne(!0),E(x("scanning"));try{const gt=await new Promise((dt,Le)=>{const Ke=new FileReader;Ke.onload=()=>dt(Ke.result.split(",")[1]),Ke.onerror=Je=>Le(Je),Ke.readAsDataURL(Ue)}),st=new _Q({apiKey:kE}),mn={inlineData:{mimeType:Ue.type,data:gt}},Mt={text:"From the provided receipt image, extract all purchase line items. For each item, provide its name (designation), quantity (quantite), and its unit price (prixHT). Return as a JSON array."},or=await st.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[mn,Mt]},config:{responseMimeType:"application/json",responseSchema:{type:ji.ARRAY,items:{type:ji.OBJECT,properties:{designation:{type:ji.STRING,description:"Item name or description from the receipt."},quantite:{type:ji.NUMBER,description:"The quantity of the item."},prixHT:{type:ji.NUMBER,description:"The unit price of the item (Prix HT)."}},required:["designation","quantite","prixHT"]}}}}),ii=JSON.parse(or.text);if(!Array.isArray(ii))throw new Error("AI response is not a valid array.");const dn=ii.map(dt=>{const Le=crypto.randomUUID();return{id:Le,productId:Le,storeId:e.storeId,name:dt.designation,price:dt.prixHT,quantity:dt.quantite,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(x("service"))}`,isCustom:!0}});h(dt=>[...dt,...dn]),E(x("itemsAddedFromReceipt",{count:dn.length})),setTimeout(()=>E(null),4e3)}catch(gt){console.error("Error scanning receipt:",gt),E(x("receiptScanError")),setTimeout(()=>E(null),4e3)}finally{ne(!1),Se.target&&(Se.target.value="")}}};re.useEffect(()=>{const Se=Ue=>{const rt=Ue.target;if(!(["INPUT","SELECT","TEXTAREA"].includes(rt.tagName)&&rt.id!=="pos-scanner-listener")){if(ce.current&&clearTimeout(ce.current),Ue.key==="Enter"){le.current.length>3&&_e(le.current),le.current="",Ue.preventDefault();return}Ue.key.length===1&&(le.current+=Ue.key),ce.current=setTimeout(()=>{le.current=""},100)}};return window.addEventListener("keydown",Se),()=>{window.removeEventListener("keydown",Se),ce.current&&clearTimeout(ce.current)}},[_e]);const Ve=re.useMemo(()=>{const Se=M.toLowerCase();if(F){const rt=n.filter(gt=>gt.type==="service");return M?rt.filter(gt=>gt.name.toLowerCase().includes(Se)):rt}return M.length<1&&!j?[]:n.filter(rt=>rt.type==="good").filter(rt=>!j||rt.categoryId===j?M?rt.name.toLowerCase().includes(Se):!0:!1)},[n,j,M,F]),Ge=Se=>{Se.type==="service"?Pe(Se):q(Se),I("")},ot=Se=>{xe(Se),q(null)},ze=F||M.length>0||!!j,ht=(Se,Ue,rt)=>{h(gt=>{const st=gt.find(Mt=>Mt.id===Se);if(!st)return gt;let mn=rt;return Ue==="quantity"&&(mn<.5&&(mn=.5),st.type==="good"&&!B&&st.stock&&mn>st.stock&&(mn=st.stock)),Ue==="price"&&mn<0&&(mn=0),gt.map(Mt=>Mt.id===Se?{...Mt,[Ue]:mn}:Mt)})},et=Se=>{h(d.filter(Ue=>Ue.id!==Se))},pt=()=>{h([]),S(0),te(""),C(void 0)},We=async Se=>{if(d.length===0){alert(x("emptyCartError"));return}await p(w,T,De,Se),S(0),C(void 0),te("")},cn=()=>{if(d.length===0){alert(x("emptyCartError"));return}v(d)},jt=()=>{const Se=parseFloat(H);if(T&&Se>0){if(Se>R){alert(x("enterValidPayment"));return}b(T,Se),Y("")}};return re.useEffect(()=>{pt(),G(!1)},[B]),A.jsxs(A.Fragment,{children:[D&&A.jsx(CQ,{product:D,variants:u.get(D.id)||[],stockMap:s,onClose:()=>q(null),onSelectVariant:ot,t:x,isReturnMode:B}),ae&&A.jsx(NQ,{onSave:ye,onClose:()=>me(!1),t:x}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[A.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[A.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-xl shadow-lg flex justify-center",children:A.jsxs("div",{className:`flex rounded-lg p-1 ${B?"bg-orange-100 dark:bg-orange-900/50":"bg-gray-200 dark:bg-slate-700"}`,children:[A.jsx("button",{onClick:()=>O(!1),className:`px-8 py-2 rounded-md font-semibold transition-all ${B?"text-slate-600 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400"}`,children:x("saleMode")}),A.jsx("button",{onClick:()=>O(!0),className:`px-8 py-2 rounded-md font-semibold transition-all ${B?"bg-white dark:bg-slate-800 shadow text-orange-700 dark:text-orange-400":"text-slate-600 dark:text-slate-400"}`,children:x("returnMode")})]})}),A.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:x("priceLevels")}),A.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-200 dark:bg-slate-700",children:[A.jsx("button",{onClick:()=>W("unit"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${Ae==="unit"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:x("unit")}),A.jsx("button",{onClick:()=>W("semiWholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${Ae==="semiWholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:x("semiWholesale")}),A.jsx("button",{onClick:()=>W("wholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${Ae==="wholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:x("wholesale")})]})]})}),A.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:A.jsxs("div",{className:"flex items-center justify-center gap-3 bg-teal-50 dark:bg-slate-700 text-teal-700 dark:text-teal-300 p-3 rounded-lg",children:[A.jsx(Pj,{className:"w-8 h-8"}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-lg font-bold",children:x("barcodeScannerActive")}),A.jsx("p",{className:"text-sm",children:x("scanToAdd")})]})]})}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:x("manualAdd")}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("button",{onClick:()=>me(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(al,{className:"w-5 h-5"}),x("addCustomItem")]}),t.enableAiReceiptScan&&A.jsxs("button",{onClick:()=>{var Se;return(Se=ue.current)==null?void 0:Se.click()},disabled:Z,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",children:[Z?A.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):A.jsx(Aa,{className:"w-5 h-5"}),x(Z?"scanning":"scanReceipt")]})]}),A.jsx("input",{type:"file",ref:ue,onChange:be,className:"hidden",accept:"image/*"})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("h4",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:x("filterByCategory")}),A.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.jsx("button",{onClick:()=>{U(null),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${!j&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:x("all")}),a.map(Se=>A.jsx("button",{onClick:()=>{U(Se.id),G(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${j===Se.id&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:Se.name},Se.id))]})]}),A.jsx("div",{className:"mt-4",children:A.jsxs("button",{onClick:()=>{G(!0),U(null)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-base font-bold rounded-lg border-2 transition-all ${F?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-gray-300 dark:border-slate-600 hover:border-purple-500 dark:hover:border-purple-500"}`,children:[A.jsx(Aa,{className:"w-6 h-6"})," ",x("services")]})}),A.jsxs("div",{className:"relative mt-4",children:[A.jsx("input",{type:"text",placeholder:x("searchPlaceholder"),value:M,onChange:Se=>I(Se.target.value),className:"w-full px-4 py-2 border dark:border-slate-600 rounded-lg focus:ring-teal-500 bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),ze&&A.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Ve.length>0?Ve.map(Se=>{var Ue;return A.jsxs("li",{className:"flex items-center p-3 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>Ge(Se),children:[Se.type==="good"?A.jsx("img",{src:Se.image,alt:Se.name,className:"w-12 h-12 object-cover rounded-md mx-4 bg-gray-200"}):A.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-md bg-purple-100 dark:bg-purple-900/50 mx-4",children:A.jsx(Aa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),A.jsxs("div",{className:"flex-grow",children:[A.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Se.name}),A.jsxs("div",{className:"flex justify-between items-center",children:[Se.type==="service"&&A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[x("price"),": ",(Ue=Se.price)==null?void 0:Ue.toFixed(2)," DH"]}),Se.type==="good"&&A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(u.get(Se.id)||[]).length," ",x("variants")]})]})]}),A.jsxs("button",{className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 font-bold py-2 px-3 rounded-lg text-sm flex items-center gap-1 pointer-events-none",children:[A.jsx(al,{className:"w-4 h-4"})," ",x("add")]})]},Se.id)}):A.jsx("li",{className:"p-3 text-slate-500 dark:text-slate-400",children:x("productNotFound",{barcode:""})})})]})]}),k&&A.jsx("div",{className:`fixed bottom-4 left-4 z-50 p-4 text-center rounded-lg shadow-xl ${k.includes("Impossible")||k.includes("rupture")||k.includes("Aucun")||k.includes("Erreur")?"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200":"bg-teal-100 text-teal-800 dark:bg-teal-900/70 dark:text-teal-200"}`,children:k})]}),A.jsx("div",{className:"lg:col-span-2",children:A.jsxs("div",{className:`p-6 rounded-xl shadow-lg sticky top-6 flex flex-col h-[90vh] ${B?"bg-orange-50 dark:bg-slate-800 border-2 border-orange-500/50":"bg-white dark:bg-slate-800"}`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:x(B?"returnReceipt":"invoice")}),A.jsx("button",{onClick:pt,title:x(B?"returnReceipt":"invoice"),className:"text-slate-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 p-2 rounded-lg transition-colors",children:A.jsx(ni,{className:"w-5 h-5"})})]}),A.jsx("div",{className:"flex-grow overflow-y-auto pl-2 space-y-3 mb-4 text-sm",children:d.length>0?d.map(Se=>A.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[A.jsxs("div",{className:"col-span-3",children:[A.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Se.name}),Se.type==="good"||Se.isCustom?A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Se.price.toFixed(2)," x ",Se.quantity]}):A.jsxs("div",{className:"flex items-center",children:[A.jsx("input",{type:"number",value:Se.price,onChange:Ue=>ht(Se.id,"price",parseFloat(Ue.target.value)),className:"w-20 text-xs p-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"}),A.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mx-1",children:["x ",Se.quantity]})]})]}),A.jsx("input",{type:"number",value:Se.quantity,onChange:Ue=>ht(Se.id,"quantity",parseFloat(Ue.target.value)||0),min:"0.5",step:"0.5",max:B||Se.type==="service"?void 0:Se.stock,className:"w-16 text-center border dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),A.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 w-20 text-left col-span-1",children:(Se.price*Se.quantity).toFixed(2)}),A.jsx("button",{onClick:()=>et(Se.id),className:"text-red-500 hover:text-red-700 justify-self-center",children:A.jsx(ni,{className:"w-5 h-5"})})]},Se.id)):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:x("emptyCart")})}),A.jsxs("div",{className:"mt-auto pt-4 border-t-2 border-dashed dark:border-slate-600 space-y-4",children:[!B&&A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("label",{htmlFor:"customer",className:"font-semibold text-slate-600 dark:text-slate-300",children:[x("customer"),":"]}),A.jsxs("select",{id:"customer",value:T||"",onChange:Se=>C(Se.target.value||void 0),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-teal-500",children:[A.jsx("option",{value:"",children:x("cashCustomer")}),i.map(Se=>A.jsx("option",{value:Se.id,children:Se.name},Se.id))]})]}),R>0&&A.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg space-y-2",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h4",{className:"font-bold text-yellow-800 dark:text-yellow-300",children:x("debtPayment")}),A.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[R.toFixed(2)," DH"]})]}),A.jsxs("div",{className:"flex gap-2 items-center",children:[A.jsx("input",{type:"number",placeholder:x("amount"),value:H,onChange:Se=>Y(Se.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:R}),A.jsx("button",{onClick:jt,disabled:!H||parseFloat(H)<=0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg disabled:bg-gray-400 dark:disabled:bg-slate-500 whitespace-nowrap",children:x("save")})]})]}),A.jsxs("div",{className:"flex justify-between items-center text-red-600 dark:text-red-400",children:[A.jsx("label",{htmlFor:"manualTotal",className:"font-semibold",children:x("manualTotal")}),A.jsx("input",{type:"number",id:"manualTotal",placeholder:Me.toFixed(2),value:X,onChange:Se=>te(Se.target.value),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-red-600 dark:text-red-400 font-bold dark:border-slate-600",min:"0",step:"0.01"})]}),A.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-300",children:[A.jsx("label",{htmlFor:"downPayment",className:"font-semibold",children:x("downPayment")}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"number",id:"downPayment",value:w,onChange:Se=>S(Math.max(0,parseFloat(Se.target.value)||0)),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 disabled:bg-gray-200 dark:disabled:bg-slate-600 disabled:cursor-not-allowed dark:border-slate-600",disabled:!T,readOnly:!T,step:"0.01"}),T&&A.jsx("button",{onClick:()=>S(De),className:"text-xs bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 font-semibold px-2 py-1 rounded-md hover:bg-cyan-200 dark:hover:bg-cyan-800/50",children:x("total")})]})]})]}),B?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:[A.jsxs("span",{children:[x("refundAmount"),":"]}),A.jsxs("span",{children:[Me.toFixed(2)," DH"]})]}),A.jsx("div",{className:"mt-2",children:A.jsx("button",{onClick:cn,className:"bg-orange-600 hover:bg-orange-700 w-full text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:d.length===0,children:x("processReturn")})})]}):A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[A.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300 mb-2",children:[A.jsxs("span",{className:"font-bold",children:[x("total"),":"]}),A.jsxs("span",{className:"font-bold",children:[De.toFixed(2)," DH"]})]}),A.jsx("button",{onClick:()=>We("orderForm"),className:"w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500 text-sm",disabled:d.length===0,children:x("finalizeAndPrintOrderForm")})]}),A.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg",children:[A.jsxs("div",{className:"text-sm space-y-1",children:[A.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[A.jsxs("span",{children:[x("totalHT"),":"]}),A.jsxs("span",{children:[Ne.toFixed(2)," DH"]})]}),A.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[A.jsxs("span",{children:[x("vat"),":"]}),A.jsxs("span",{children:[oe.toFixed(2)," DH"]})]}),A.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-800 dark:text-slate-100 mt-2 pt-2 border-t dark:border-slate-700",children:[A.jsxs("span",{children:[x("totalTTC"),":"]}),A.jsxs("span",{children:[De.toFixed(2)," DH"]})]})]}),A.jsx("button",{onClick:()=>We("invoice"),className:"mt-2 w-full bg-teal-600 text-white font-bold py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:d.length===0,children:x("finalizeAndPrintInvoice")})]}),A.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-cyan-100 text-cyan-700 dark:bg-cyan-900/50 dark:text-cyan-300",children:[A.jsxs("span",{children:[x("remaining"),":"]}),A.jsxs("span",{children:[Ee.toFixed(2)," DH"]})]})]})]})]})})]})]})};function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}var Vr=Uint8Array,Li=Uint16Array,ES=Int32Array,Bv=new Vr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$v=new Vr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N2=new Vr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AI=function(t,e){for(var n=new Li(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ES(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},mI=AI(Bv,2),gI=mI.b,E2=mI.r;gI[28]=258,E2[258]=28;var vI=AI($v,0),kQ=vI.b,PE=vI.r,k2=new Li(32768);for(var kn=0;kn<32768;++kn){var ks=(kn&43690)>>1|(kn&21845)<<1;ks=(ks&52428)>>2|(ks&13107)<<2,ks=(ks&61680)>>4|(ks&3855)<<4,k2[kn]=((ks&65280)>>8|(ks&255)<<8)>>1}var uo=function(t,e,n){for(var r=t.length,i=0,a=new Li(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Li(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Li(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)s[k2[d]>>l]=u}else for(s=new Li(r),i=0;i<r;++i)t[i]&&(s[i]=k2[o[t[i]-1]++]>>15-t[i]);return s},Al=new Vr(288);for(var kn=0;kn<144;++kn)Al[kn]=8;for(var kn=144;kn<256;++kn)Al[kn]=9;for(var kn=256;kn<280;++kn)Al[kn]=7;for(var kn=280;kn<288;++kn)Al[kn]=8;var wp=new Vr(32);for(var kn=0;kn<32;++kn)wp[kn]=5;var PQ=uo(Al,9,0),MQ=uo(Al,9,1),OQ=uo(wp,5,0),jQ=uo(wp,5,1),b1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ma=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},x1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},kS=function(t){return(t+7)/8|0},yI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Vr(t.subarray(e,n))},IQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ia=function(t,e,n){var r=new Error(e||IQ[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Ia),!n)throw r;return r},DQ=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new Vr(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new Vr(i*3));var u=function(ce){var ue=n.length;if(ce>ue){var Me=new Vr(Math.max(ue*2,ce));Me.set(n),n=Me}},c=e.f||0,d=e.p||0,h=e.b||0,p=e.l,v=e.d,b=e.m,x=e.n,y=i*8;do{if(!p){c=Ma(t,d,1);var w=Ma(t,d+1,3);if(d+=3,w)if(w==1)p=MQ,v=jQ,b=9,x=5;else if(w==2){var k=Ma(t,d,31)+257,E=Ma(t,d+10,15)+4,M=k+Ma(t,d+5,31)+1;d+=14;for(var I=new Vr(M),B=new Vr(19),O=0;O<E;++O)B[N2[O]]=Ma(t,d+O*3,7);d+=E*3;for(var j=b1(B),U=(1<<j)-1,F=uo(B,j,1),O=0;O<M;){var G=F[Ma(t,d,U)];d+=G&15;var S=G>>4;if(S<16)I[O++]=S;else{var R=0,$=0;for(S==16?($=3+Ma(t,d,3),d+=2,R=I[O-1]):S==17?($=3+Ma(t,d,7),d+=3):S==18&&($=11+Ma(t,d,127),d+=7);$--;)I[O++]=R}}var H=I.subarray(0,k),Y=I.subarray(k);b=b1(H),x=b1(Y),p=uo(H,b,1),v=uo(Y,x,1)}else Ia(1);else{var S=kS(d)+4,T=t[S-4]|t[S-3]<<8,C=S+T;if(C>i){l&&Ia(0);break}s&&u(h+T),n.set(t.subarray(S,C),h),e.b=h+=T,e.p=d=C*8,e.f=c;continue}if(d>y){l&&Ia(0);break}}s&&u(h+131072);for(var X=(1<<b)-1,te=(1<<x)-1,D=d;;D=d){var R=p[x1(t,d)&X],q=R>>4;if(d+=R&15,d>y){l&&Ia(0);break}if(R||Ia(2),q<256)n[h++]=q;else if(q==256){D=d,p=null;break}else{var Z=q-254;if(q>264){var O=q-257,ne=Bv[O];Z=Ma(t,d,(1<<ne)-1)+gI[O],d+=ne}var ae=v[x1(t,d)&te],me=ae>>4;ae||Ia(3),d+=ae&15;var Y=kQ[me];if(me>3){var ne=$v[me];Y+=x1(t,d)&(1<<ne)-1,d+=ne}if(d>y){l&&Ia(0);break}s&&u(h+131072);var Ae=h+Z;if(h<Y){var W=a-Y,le=Math.min(Y,Ae);for(W+h<0&&Ia(3);h<le;++h)n[h]=r[W+h]}for(;h<Ae;++h)n[h]=n[h-Y]}}e.l=p,e.p=D,e.b=h,e.f=c,p&&(c=1,e.m=b,e.d=v,e.n=x)}while(!c);return h!=n.length&&o?yI(n,0,h):n.subarray(0,h)},jo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},hh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},w1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:xI,l:0};if(i==1){var o=new Vr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,k){return C.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new Li(h+1),v=P2(n[c-1],p,0);if(v>e){var r=0,b=0,x=v-e,y=1<<x;for(a.sort(function(k,E){return p[E.s]-p[k.s]||k.f-E.f});r<i;++r){var w=a[r].s;if(p[w]>e)b+=y-(1<<v-p[w]),p[w]=e;else break}for(b>>=x;b>0;){var S=a[r].s;p[S]<e?b-=1<<e-p[S]++-1:++r}for(;r>=0&&b;--r){var T=a[r].s;p[T]==e&&(--p[T],++b)}v=e}return{t:new Vr(p),l:v}},P2=function(t,e,n){return t.s==-1?Math.max(P2(t.l,e,n+1),P2(t.r,e,n+1)):e[t.s]=n},ME=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Li(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},ph=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},bI=function(t,e,n){var r=n.length,i=kS(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},OE=function(t,e,n,r,i,a,o,s,l,u,c){jo(e,c++,n),++i[256];for(var d=w1(i,15),h=d.t,p=d.l,v=w1(a,15),b=v.t,x=v.l,y=ME(h),w=y.c,S=y.n,T=ME(b),C=T.c,k=T.n,E=new Li(19),M=0;M<w.length;++M)++E[w[M]&31];for(var M=0;M<C.length;++M)++E[C[M]&31];for(var I=w1(E,7),B=I.t,O=I.l,j=19;j>4&&!B[N2[j-1]];--j);var U=u+5<<3,F=ph(i,Al)+ph(a,wp)+o,G=ph(i,h)+ph(a,b)+o+14+3*j+ph(E,B)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&U<=F&&U<=G)return bI(e,c,t.subarray(l,l+u));var R,$,H,Y;if(jo(e,c,1+(G<F)),c+=2,G<F){R=uo(h,p,0),$=h,H=uo(b,x,0),Y=b;var X=uo(B,O,0);jo(e,c,S-257),jo(e,c+5,k-1),jo(e,c+10,j-4),c+=14;for(var M=0;M<j;++M)jo(e,c+3*M,B[N2[M]]);c+=3*j;for(var te=[w,C],D=0;D<2;++D)for(var q=te[D],M=0;M<q.length;++M){var Z=q[M]&31;jo(e,c,X[Z]),c+=B[Z],Z>15&&(jo(e,c,q[M]>>5&127),c+=q[M]>>12)}}else R=PQ,$=Al,H=OQ,Y=wp;for(var M=0;M<s;++M){var ne=r[M];if(ne>255){var Z=ne>>18&31;hh(e,c,R[Z+257]),c+=$[Z+257],Z>7&&(jo(e,c,ne>>23&31),c+=Bv[Z]);var ae=ne&31;hh(e,c,H[ae]),c+=Y[ae],ae>3&&(hh(e,c,ne>>5&8191),c+=$v[ae])}else hh(e,c,R[ne]),c+=$[ne]}return hh(e,c,R[256]),c+$[256]},LQ=new ES([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xI=new Vr(0),RQ=function(t,e,n,r,i,a){var o=a.z||t.length,s=new Vr(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var d=LQ[e-1],h=d>>13,p=d&8191,v=(1<<n)-1,b=a.p||new Li(32768),x=a.h||new Li(v+1),y=Math.ceil(n/3),w=2*y,S=function(De){return(t[De]^t[De+1]<<y^t[De+2]<<w)&v},T=new ES(25e3),C=new Li(288),k=new Li(32),E=0,M=0,I=a.i||0,B=0,O=a.w||0,j=0;I+2<o;++I){var U=S(I),F=I&32767,G=x[U];if(b[F]=G,x[U]=F,O<=I){var R=o-I;if((E>7e3||B>24576)&&(R>423||!u)){c=OE(t,l,0,T,C,k,M,B,j,I-j,c),B=E=M=0,j=I;for(var $=0;$<286;++$)C[$]=0;for(var $=0;$<30;++$)k[$]=0}var H=2,Y=0,X=p,te=F-G&32767;if(R>2&&U==S(I-te))for(var D=Math.min(h,R)-1,q=Math.min(32767,I),Z=Math.min(258,R);te<=q&&--X&&F!=G;){if(t[I+H]==t[I+H-te]){for(var ne=0;ne<Z&&t[I+ne]==t[I+ne-te];++ne);if(ne>H){if(H=ne,Y=te,ne>D)break;for(var ae=Math.min(te,ne-2),me=0,$=0;$<ae;++$){var Ae=I-te+$&32767,W=b[Ae],le=Ae-W&32767;le>me&&(me=le,G=Ae)}}}F=G,G=b[F],te+=F-G&32767}if(Y){T[B++]=268435456|E2[H]<<18|PE[Y];var ce=E2[H]&31,ue=PE[Y]&31;M+=Bv[ce]+$v[ue],++C[257+ce],++k[ue],O=I+H,++E}else T[B++]=t[I],++C[t[I]]}}for(I=Math.max(I,O);I<o;++I)T[B++]=t[I],++C[t[I]];c=OE(t,l,u,T,C,k,M,B,j,I-j,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=x,a.p=b,a.i=I,a.w=O)}else{for(var I=a.w||0;I<o+u;I+=65535){var Me=I+65535;Me>=o&&(l[c/8|0]=u,Me=o),c=bI(l,c+1,t.subarray(I,Me))}a.i=o}return yI(s,0,r+kS(c)+i)},wI=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},FQ=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Vr(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return RQ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},SI=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},BQ=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=wI();i.p(e.dictionary),SI(t,2,i.d())}},$Q=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ia(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ia(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function M2(t,e){e||(e={});var n=wI();n.p(t);var r=FQ(t,e,e.dictionary?6:2,4);return BQ(r,e),SI(r,r.length-4,n.d()),r}function UQ(t,e){return DQ(t.subarray($Q(t),-4),{i:2},e,e)}var qQ=typeof TextDecoder<"u"&&new TextDecoder,HQ=0;try{qQ.decode(xI,{stream:!0}),HQ=1}catch{}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function S1(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var hn={log:S1,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):S1.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):S1(t))}};function _1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Gl(r.response,e,n)},r.onerror=function(){hn.error("could not download file")},r.send()}function jE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Um(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Jh,O2,Gl=vt.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?jE(i.href)?_1(t,e,n):Um(i,i.target="_blank"):Um(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Um(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(jE(t))_1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Um(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:rn(a)!=="object"&&(hn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return _1(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=vt.URL||vt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _I(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T1(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Br(n,r,i,a,e[0],7,-680876936),a=Br(a,n,r,i,e[1],12,-389564586),i=Br(i,a,n,r,e[2],17,606105819),r=Br(r,i,a,n,e[3],22,-1044525330),n=Br(n,r,i,a,e[4],7,-176418897),a=Br(a,n,r,i,e[5],12,1200080426),i=Br(i,a,n,r,e[6],17,-1473231341),r=Br(r,i,a,n,e[7],22,-45705983),n=Br(n,r,i,a,e[8],7,1770035416),a=Br(a,n,r,i,e[9],12,-1958414417),i=Br(i,a,n,r,e[10],17,-42063),r=Br(r,i,a,n,e[11],22,-1990404162),n=Br(n,r,i,a,e[12],7,1804603682),a=Br(a,n,r,i,e[13],12,-40341101),i=Br(i,a,n,r,e[14],17,-1502002290),n=$r(n,r=Br(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=$r(a,n,r,i,e[6],9,-1069501632),i=$r(i,a,n,r,e[11],14,643717713),r=$r(r,i,a,n,e[0],20,-373897302),n=$r(n,r,i,a,e[5],5,-701558691),a=$r(a,n,r,i,e[10],9,38016083),i=$r(i,a,n,r,e[15],14,-660478335),r=$r(r,i,a,n,e[4],20,-405537848),n=$r(n,r,i,a,e[9],5,568446438),a=$r(a,n,r,i,e[14],9,-1019803690),i=$r(i,a,n,r,e[3],14,-187363961),r=$r(r,i,a,n,e[8],20,1163531501),n=$r(n,r,i,a,e[13],5,-1444681467),a=$r(a,n,r,i,e[2],9,-51403784),i=$r(i,a,n,r,e[7],14,1735328473),n=Ur(n,r=$r(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ur(a,n,r,i,e[8],11,-2022574463),i=Ur(i,a,n,r,e[11],16,1839030562),r=Ur(r,i,a,n,e[14],23,-35309556),n=Ur(n,r,i,a,e[1],4,-1530992060),a=Ur(a,n,r,i,e[4],11,1272893353),i=Ur(i,a,n,r,e[7],16,-155497632),r=Ur(r,i,a,n,e[10],23,-1094730640),n=Ur(n,r,i,a,e[13],4,681279174),a=Ur(a,n,r,i,e[0],11,-358537222),i=Ur(i,a,n,r,e[3],16,-722521979),r=Ur(r,i,a,n,e[6],23,76029189),n=Ur(n,r,i,a,e[9],4,-640364487),a=Ur(a,n,r,i,e[12],11,-421815835),i=Ur(i,a,n,r,e[15],16,530742520),n=qr(n,r=Ur(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=qr(a,n,r,i,e[7],10,1126891415),i=qr(i,a,n,r,e[14],15,-1416354905),r=qr(r,i,a,n,e[5],21,-57434055),n=qr(n,r,i,a,e[12],6,1700485571),a=qr(a,n,r,i,e[3],10,-1894986606),i=qr(i,a,n,r,e[10],15,-1051523),r=qr(r,i,a,n,e[1],21,-2054922799),n=qr(n,r,i,a,e[8],6,1873313359),a=qr(a,n,r,i,e[15],10,-30611744),i=qr(i,a,n,r,e[6],15,-1560198380),r=qr(r,i,a,n,e[13],21,1309151649),n=qr(n,r,i,a,e[4],6,-145523070),a=qr(a,n,r,i,e[11],10,-1120210379),i=qr(i,a,n,r,e[2],15,718787259),r=qr(r,i,a,n,e[9],21,-343485551),t[0]=Ys(n,t[0]),t[1]=Ys(r,t[1]),t[2]=Ys(i,t[2]),t[3]=Ys(a,t[3])}function Uv(t,e,n,r,i,a){return e=Ys(Ys(e,t),Ys(r,a)),Ys(e<<i|e>>>32-i,n)}function Br(t,e,n,r,i,a,o){return Uv(e&n|~e&r,t,e,i,a,o)}function $r(t,e,n,r,i,a,o){return Uv(e&r|n&~r,t,e,i,a,o)}function Ur(t,e,n,r,i,a,o){return Uv(e^n^r,t,e,i,a,o)}function qr(t,e,n,r,i,a,o){return Uv(n^(e|~r),t,e,i,a,o)}function TI(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)T1(r,zQ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(T1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,T1(r,i),r}function zQ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Jh=vt.atob.bind(vt),O2=vt.btoa.bind(vt);var IE="0123456789abcdef".split("");function VQ(t){for(var e="",n=0;n<4;n++)e+=IE[t>>8*n+4&15]+IE[t>>8*n&15];return e}function GQ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function j2(t){return TI(t).map(GQ).join("")}var WQ=function(t){for(var e=0;e<t.length;e++)t[e]=VQ(t[e]);return t.join("")}(TI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ys(t,e){if(WQ){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function I2(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var d=e.length,h=0,p=0,v="";for(l=0;l<d;l++)p=(p+(c=s[h=(h+1)%256]))%256,s[h]=s[p],s[p]=c,o=s[(s[h]+s[p])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var DE={print:4,modify:8,copy:16,"annot-forms":32};function Lc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(DE.perm!==void 0)throw new Error("Invalid permission: "+s);i+=DE[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=j2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=I2(this.encryptionKey,this.padding)}function Rc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function LE(t){if(rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){vt.console&&hn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Sp(t){if(!(this instanceof Sp))return new Sp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function CI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Us(t,e,n,r,i){if(!(this instanceof Us))return new Us(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,CI.call(this,r,i)}function Ql(t,e,n,r,i){if(!(this instanceof Ql))return new Ql(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,CI.call(this,r,i)}function ct(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;rn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=LE;var v="1.3",b=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(N){v=N};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var y=p.__private__.getPageFormat=function(N){return x[N]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},S=w.COMPAT;function T(){this.saveGraphicsState(),oe(new lt(We,0,0,-We,0,As()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),u="n",S=w.ADVANCED}function C(){this.restoreGraphicsState(),u="S",S=w.COMPAT}var k=p.__private__.combineFontStyleAndFontWeight=function(N,V){if(N=="bold"&&V=="normal"||N=="bold"&&V==400||N=="normal"&&V=="italic"||N=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(N=V==400||V==="normal"?N==="italic"?"italic":"normal":V!=700&&V!=="bold"||N!=="normal"?(V==700?"bold":V)+""+N:"bold"),N};p.advancedAPI=function(N){var V=S===w.COMPAT;return V&&T.call(this),typeof N!="function"||(N(this),V&&C.call(this)),this},p.compatAPI=function(N){var V=S===w.ADVANCED;return V&&C.call(this),typeof N!="function"||(N(this),V&&T.call(this)),this},p.isAdvancedAPI=function(){return S===w.ADVANCED};var E,M=function(N){if(S!==w.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(N,V){var se=e||V;if(isNaN(N)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(se).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,16)};var B=p.f2=p.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return I(N,2)},O=p.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return I(N,3)},j=p.scale=p.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===w.COMPAT?N*We:S===w.ADVANCED?N:void 0},U=function(N){return S===w.COMPAT?As()-N:S===w.ADVANCED?N:void 0},F=function(N){return j(U(N))};p.__private__.setPrecision=p.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var G,R="00000000000000000000000000000000",$=p.__private__.getFileId=function(){return R},H=p.__private__.setFileId=function(N){return R=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Rr=new Lc(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};p.setFileId=function(N){return H(N),this},p.getFileId=function(){return $()};var Y=p.__private__.convertDateToPDFDate=function(N){var V=N.getTimezoneOffset(),se=V<0?"+":"-",de=Math.floor(Math.abs(V/60)),we=Math.abs(V%60),je=[se,Z(de),"'",Z(we),"'"].join("");return["D:",N.getFullYear(),Z(N.getMonth()+1),Z(N.getDate()),Z(N.getHours()),Z(N.getMinutes()),Z(N.getSeconds()),je].join("")},X=p.__private__.convertPDFDateToDate=function(N){var V=parseInt(N.substr(2,4),10),se=parseInt(N.substr(6,2),10)-1,de=parseInt(N.substr(8,2),10),we=parseInt(N.substr(10,2),10),je=parseInt(N.substr(12,2),10),He=parseInt(N.substr(14,2),10);return new Date(V,se,de,we,je,He,0)},te=p.__private__.setCreationDate=function(N){var V;if(N===void 0&&(N=new Date),N instanceof Date)V=Y(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=N}return G=V},D=p.__private__.getCreationDate=function(N){var V=G;return N==="jsDate"&&(V=X(G)),V};p.setCreationDate=function(N){return te(N),this},p.getCreationDate=function(N){return D(N)};var q,Z=p.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},ne=p.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},ae=0,me=[],Ae=[],W=0,le=[],ce=[],ue=!1,Me=Ae,De=function(){ae=0,W=0,Ae=[],me=[],le=[],yo=Kn(),wa=Kn()};p.__private__.setCustomOutputDestination=function(N){ue=!0,Me=N};var Ne=function(N){ue||(Me=N)};p.__private__.resetCustomOutputDestination=function(){ue=!1,Me=Ae};var oe=p.__private__.out=function(N){return N=N.toString(),W+=N.length+1,Me.push(N),Me},Ee=p.__private__.write=function(N){return oe(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},ke=p.__private__.getArrayBuffer=function(N){for(var V=N.length,se=new ArrayBuffer(V),de=new Uint8Array(se);V--;)de[V]=N.charCodeAt(V);return se},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return xe};var Pe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(N){return Pe=S===w.ADVANCED?N/We:N,this};var ye,_e=p.__private__.getFontSize=p.getFontSize=function(){return S===w.COMPAT?Pe:Pe*We},be=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(N){return be=N,this},p.__private__.getR2L=p.getR2L=function(){return be};var Ve,Ge=p.__private__.setZoomMode=function(N){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))ye=N;else if(isNaN(N)){if(V.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');ye=N}else ye=parseInt(N,10)};p.__private__.getZoomMode=function(){return ye};var ot,ze=p.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ve=N};p.__private__.getPageMode=function(){return Ve};var ht=p.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');ot=N};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(N,V,se){return Ge(N),ht(V),ze(se),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(N){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[N]},p.__private__.getDocumentProperties=function(){return et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(N){for(var V in et)et.hasOwnProperty(V)&&N[V]&&(et[V]=N[V]);return this},p.__private__.setDocumentProperty=function(N,V){if(Object.keys(et).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[N]=V};var pt,We,cn,jt,Se,Ue={},rt={},gt=[],st={},mn={},Mt={},or={},ii=null,dn=0,dt=[],Le=new LE(p),Ke=t.hotfixes||[],Je={},At={},Pt=[],lt=function N(V,se,de,we,je,He){if(!(this instanceof N))return new N(V,se,de,we,je,He);isNaN(V)&&(V=1),isNaN(se)&&(se=0),isNaN(de)&&(de=0),isNaN(we)&&(we=1),isNaN(je)&&(je=0),isNaN(He)&&(He=0),this._matrix=[V,se,de,we,je,He]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(N)},lt.prototype.multiply=function(N){var V=N.sx*this.sx+N.shy*this.shx,se=N.sx*this.shy+N.shy*this.sy,de=N.shx*this.sx+N.sy*this.shx,we=N.shx*this.shy+N.sy*this.sy,je=N.tx*this.sx+N.ty*this.shx+this.tx,He=N.tx*this.shy+N.ty*this.sy+this.ty;return new lt(V,se,de,we,je,He)},lt.prototype.decompose=function(){var N=this.sx,V=this.shy,se=this.shx,de=this.sy,we=this.tx,je=this.ty,He=Math.sqrt(N*N+V*V),Ze=(N/=He)*se+(V/=He)*de;se-=N*Ze,de-=V*Ze;var ut=Math.sqrt(se*se+de*de);return Ze/=ut,N*(de/=ut)<V*(se/=ut)&&(N=-N,V=-V,Ze=-Ze,He=-He),{scale:new lt(He,0,0,ut,0,0),translate:new lt(1,0,0,1,we,je),rotate:new lt(N,V,-V,N,0,0),skew:new lt(1,0,Ze,1,0,0)}},lt.prototype.toString=function(N){return this.join(" ")},lt.prototype.inversed=function(){var N=this.sx,V=this.shy,se=this.shx,de=this.sy,we=this.tx,je=this.ty,He=1/(N*de-V*se),Ze=de*He,ut=-V*He,Tt=-se*He,St=N*He;return new lt(Ze,ut,Tt,St,-Ze*we-Tt*je,-ut*we-St*je)},lt.prototype.applyToPoint=function(N){var V=N.x*this.sx+N.y*this.shx+this.tx,se=N.x*this.shy+N.y*this.sy+this.ty;return new ec(V,se)},lt.prototype.applyToRectangle=function(N){var V=this.applyToPoint(N),se=this.applyToPoint(new ec(N.x+N.w,N.y+N.h));return new Rf(V.x,V.y,se.x-V.x,se.y-V.y)},lt.prototype.clone=function(){var N=this.sx,V=this.shy,se=this.shx,de=this.sy,we=this.tx,je=this.ty;return new lt(N,V,se,de,we,je)},p.Matrix=lt;var vr=p.matrixMult=function(N,V){return V.multiply(N)},ai=new lt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ai;var Er=function(N,V){if(!mn[N]){var se=(V instanceof Us?"Sh":"P")+(Object.keys(st).length+1).toString(10);V.id=se,mn[N]=se,st[se]=V,Le.publish("addPattern",V)}};p.ShadingPattern=Us,p.TilingPattern=Ql,p.addShadingPattern=function(N,V){return M("addShadingPattern()"),Er(N,V),this},p.beginTilingPattern=function(N){M("beginTilingPattern()"),WA(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},p.endTilingPattern=function(N,V){M("endTilingPattern()"),V.stream=ce[q].join(`
`),Er(N,V),Le.publish("endTilingPattern",V),Pt.pop().restore()};var sr=p.__private__.newObject=function(){var N=Kn();return Si(N,!0),N},Kn=p.__private__.newObjectDeferred=function(){return ae++,me[ae]=function(){return W},ae},Si=function(N,V){return V=typeof V=="boolean"&&V,me[N]=W,V&&oe(N+" 0 obj"),N},Uu=p.__private__.newAdditionalObject=function(){var N={objId:Kn(),content:""};return le.push(N),N},yo=Kn(),wa=Kn(),Sa=p.__private__.decodeColorString=function(N){var V=N.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var se=parseFloat(V[0]);V=[se,se,se,"r"]}for(var de="#",we=0;we<3;we++)de+=("0"+Math.floor(255*parseFloat(V[we])).toString(16)).slice(-2);return de},_a=p.__private__.encodeColorString=function(N){var V;typeof N=="string"&&(N={ch1:N});var se=N.ch1,de=N.ch2,we=N.ch3,je=N.ch4,He=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var Ze=new _I(se);if(Ze.ok)se=Ze.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var ut=parseInt(se.substr(1),16);se=ut>>16&255,de=ut>>8&255,we=255&ut}if(de===void 0||je===void 0&&se===de&&de===we)if(typeof se=="string")V=se+" "+He[0];else switch(N.precision){case 2:V=B(se/255)+" "+He[0];break;case 3:default:V=O(se/255)+" "+He[0]}else if(je===void 0||rn(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return V=["1.","1.","1.",He[1]].join(" ");if(typeof se=="string")V=[se,de,we,He[1]].join(" ");else switch(N.precision){case 2:V=[B(se/255),B(de/255),B(we/255),He[1]].join(" ");break;default:case 3:V=[O(se/255),O(de/255),O(we/255),He[1]].join(" ")}}else if(typeof se=="string")V=[se,de,we,je,He[2]].join(" ");else switch(N.precision){case 2:V=[B(se),B(de),B(we),B(je),He[2]].join(" ");break;case 3:default:V=[O(se),O(de),O(we),O(je),He[2]].join(" ")}return V},Ya=p.__private__.getFilters=function(){return o},zi=p.__private__.putStream=function(N){var V=(N=N||{}).data||"",se=N.filters||Ya(),de=N.alreadyAppliedFilters||[],we=N.addLength1||!1,je=V.length,He=N.objectId,Ze=function(Fr){return Fr};if(c!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ze=Rr.encryptor(He,0));var ut={};se===!0&&(se=["FlateEncode"]);var Tt=N.additionalKeyValues||[],St=(ut=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(V,se):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(ut.data.length!==0&&(Tt.push({key:"Length",value:ut.data.length}),we===!0&&Tt.push({key:"Length1",value:je})),St.length!=0)if(St.split("/").length-1==1)Tt.push({key:"Filter",value:St});else{Tt.push({key:"Filter",value:"["+St+"]"});for(var Ut=0;Ut<Tt.length;Ut+=1)if(Tt[Ut].key==="DecodeParms"){for(var In=[],Dn=0;Dn<ut.reverseChain.split("/").length-1;Dn+=1)In.push("null");In.push(Tt[Ut].value),Tt[Ut].value="["+In.join(" ")+"]"}}oe("<<");for(var Jn=0;Jn<Tt.length;Jn++)oe("/"+Tt[Jn].key+" "+Tt[Jn].value);oe(">>"),ut.data.length!==0&&(oe("stream"),oe(Ze(ut.data)),oe("endstream"))},Ka=p.__private__.putPage=function(N){var V=N.number,se=N.data,de=N.objId,we=N.contentsObjId;Si(de,!0),oe("<</Type /Page"),oe("/Parent "+N.rootDictionaryObjId+" 0 R"),oe("/Resources "+N.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(E(N.mediaBox.bottomLeftX))+" "+parseFloat(E(N.mediaBox.bottomLeftY))+" "+E(N.mediaBox.topRightX)+" "+E(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&oe("/CropBox ["+E(N.cropBox.bottomLeftX)+" "+E(N.cropBox.bottomLeftY)+" "+E(N.cropBox.topRightX)+" "+E(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&oe("/BleedBox ["+E(N.bleedBox.bottomLeftX)+" "+E(N.bleedBox.bottomLeftY)+" "+E(N.bleedBox.topRightX)+" "+E(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&oe("/TrimBox ["+E(N.trimBox.bottomLeftX)+" "+E(N.trimBox.bottomLeftY)+" "+E(N.trimBox.topRightX)+" "+E(N.trimBox.topRightY)+"]"),N.artBox!==null&&oe("/ArtBox ["+E(N.artBox.bottomLeftX)+" "+E(N.artBox.bottomLeftY)+" "+E(N.artBox.topRightX)+" "+E(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&oe("/UserUnit "+N.userUnit),Le.publish("putPage",{objId:de,pageContext:dt[V],pageNumber:V,page:se}),oe("/Contents "+we+" 0 R"),oe(">>"),oe("endobj");var je=se.join(`
`);return S===w.ADVANCED&&(je+=`
Q`),Si(we,!0),zi({data:je,filters:Ya(),objectId:we}),oe("endobj"),de},_l=p.__private__.putPages=function(){var N,V,se=[];for(N=1;N<=dn;N++)dt[N].objId=Kn(),dt[N].contentsObjId=Kn();for(N=1;N<=dn;N++)se.push(Ka({number:N,data:ce[N],objId:dt[N].objId,contentsObjId:dt[N].contentsObjId,mediaBox:dt[N].mediaBox,cropBox:dt[N].cropBox,bleedBox:dt[N].bleedBox,trimBox:dt[N].trimBox,artBox:dt[N].artBox,userUnit:dt[N].userUnit,rootDictionaryObjId:yo,resourceDictionaryObjId:wa}));Si(yo,!0),oe("<</Type /Pages");var de="/Kids [";for(V=0;V<dn;V++)de+=se[V]+" 0 R ";oe(de+"]"),oe("/Count "+dn),oe(">>"),oe("endobj"),Le.publish("postPutPages")},qu=function(N){Le.publish("putFont",{font:N,out:oe,newObject:sr,putStream:zi}),N.isAlreadyPutted!==!0&&(N.objectNumber=sr(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Rc(N.postScriptName)),oe("/Subtype /Type1"),typeof N.encoding=="string"&&oe("/Encoding /"+N.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Hu=function(){for(var N in Ue)Ue.hasOwnProperty(N)&&(d===!1||d===!0&&h.hasOwnProperty(N))&&qu(Ue[N])},zu=function(N){N.objectNumber=sr();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[E(N.x),E(N.y),E(N.x+N.width),E(N.y+N.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var se=N.pages[1].join(`
`);zi({data:se,additionalKeyValues:V,objectId:N.objectNumber}),oe("endobj")},Vu=function(){for(var N in Je)Je.hasOwnProperty(N)&&zu(Je[N])},kA=function(N,V){var se,de=[],we=1/(V-1);for(se=0;se<1;se+=we)de.push(se);if(de.push(1),N[0].offset!=0){var je={offset:0,color:N[0].color};N.unshift(je)}if(N[N.length-1].offset!=1){var He={offset:1,color:N[N.length-1].color};N.push(He)}for(var Ze="",ut=0,Tt=0;Tt<de.length;Tt++){for(se=de[Tt];se>N[ut+1].offset;)ut++;var St=N[ut].offset,Ut=(se-St)/(N[ut+1].offset-St),In=N[ut].color,Dn=N[ut+1].color;Ze+=ne(Math.round((1-Ut)*In[0]+Ut*Dn[0]).toString(16))+ne(Math.round((1-Ut)*In[1]+Ut*Dn[1]).toString(16))+ne(Math.round((1-Ut)*In[2]+Ut*Dn[2]).toString(16))}return Ze.trim()},Fy=function(N,V){V||(V=21);var se=sr(),de=kA(N.colors,V),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+V+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zi({data:de,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),oe("endobj"),N.objectNumber=sr(),oe("<< /ShadingType "+N.type),oe("/ColorSpace /DeviceRGB");var je="/Coords ["+E(parseFloat(N.coords[0]))+" "+E(parseFloat(N.coords[1]))+" ";N.type===2?je+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3])):je+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3]))+" "+E(parseFloat(N.coords[4]))+" "+E(parseFloat(N.coords[5])),oe(je+="]"),N.matrix&&oe("/Matrix ["+N.matrix.toString()+"]"),oe("/Function "+se+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},By=function(N,V){var se=Kn(),de=sr();V.push({resourcesOid:se,objectOid:de}),N.objectNumber=de;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+N.boundingBox.map(E).join(" ")+"]"}),we.push({key:"XStep",value:E(N.xStep)}),we.push({key:"YStep",value:E(N.yStep)}),we.push({key:"Resources",value:se+" 0 R"}),N.matrix&&we.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),zi({data:N.stream,additionalKeyValues:we,objectId:N.objectNumber}),oe("endobj")},Gu=function(N){var V;for(V in st)st.hasOwnProperty(V)&&(st[V]instanceof Us?Fy(st[V]):st[V]instanceof Ql&&By(st[V],N))},PA=function(N){for(var V in N.objectNumber=sr(),oe("<<"),N)switch(V){case"opacity":oe("/ca "+B(N[V]));break;case"stroke-opacity":oe("/CA "+B(N[V]))}oe(">>"),oe("endobj")},$y=function(){var N;for(N in Mt)Mt.hasOwnProperty(N)&&PA(Mt[N])},Nf=function(){for(var N in oe("/XObject <<"),Je)Je.hasOwnProperty(N)&&Je[N].objectNumber>=0&&oe("/"+N+" "+Je[N].objectNumber+" 0 R");Le.publish("putXobjectDict"),oe(">>")},Uy=function(){Rr.oid=sr(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Rr.v),oe("/R "+Rr.r),oe("/U <"+Rr.toHexString(Rr.U)+">"),oe("/O <"+Rr.toHexString(Rr.O)+">"),oe("/P "+Rr.P),oe(">>"),oe("endobj")},MA=function(){for(var N in oe("/Font <<"),Ue)Ue.hasOwnProperty(N)&&(d===!1||d===!0&&h.hasOwnProperty(N))&&oe("/"+N+" "+Ue[N].objectNumber+" 0 R");oe(">>")},qy=function(){if(Object.keys(st).length>0){for(var N in oe("/Shading <<"),st)st.hasOwnProperty(N)&&st[N]instanceof Us&&st[N].objectNumber>=0&&oe("/"+N+" "+st[N].objectNumber+" 0 R");Le.publish("putShadingPatternDict"),oe(">>")}},Wu=function(N){if(Object.keys(st).length>0){for(var V in oe("/Pattern <<"),st)st.hasOwnProperty(V)&&st[V]instanceof p.TilingPattern&&st[V].objectNumber>=0&&st[V].objectNumber<N&&oe("/"+V+" "+st[V].objectNumber+" 0 R");Le.publish("putTilingPatternDict"),oe(">>")}},Hy=function(){if(Object.keys(Mt).length>0){var N;for(N in oe("/ExtGState <<"),Mt)Mt.hasOwnProperty(N)&&Mt[N].objectNumber>=0&&oe("/"+N+" "+Mt[N].objectNumber+" 0 R");Le.publish("putGStateDict"),oe(">>")}},Un=function(N){Si(N.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),MA(),qy(),Wu(N.objectOid),Hy(),Nf(),oe(">>"),oe("endobj")},OA=function(){var N=[];Hu(),$y(),Vu(),Gu(N),Le.publish("putResources"),N.forEach(Un),Un({resourcesOid:wa,objectOid:Number.MAX_SAFE_INTEGER}),Le.publish("postPutResources")},jA=function(){Le.publish("putAdditionalObjects");for(var N=0;N<le.length;N++){var V=le[N];Si(V.objId,!0),oe(V.content),oe("endobj")}Le.publish("postPutAdditionalObjects")},IA=function(N){rt[N.fontName]=rt[N.fontName]||{},rt[N.fontName][N.fontStyle]=N.id},Ef=function(N,V,se,de,we){var je={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:N,fontName:V,fontStyle:se,encoding:de,isStandardFont:we||!1,metadata:{}};return Le.publish("addFont",{font:je,instance:this}),Ue[je.id]=je,IA(je),je.id},zy=function(N){for(var V=0,se=xe.length;V<se;V++){var de=Ef.call(this,N[V][0],N[V][1],N[V][2],xe[V][3],!0);d===!1&&(h[de]=!0);var we=N[V][0].split("-");IA({id:de,fontName:we[0],fontStyle:we[1]||""})}Le.publish("addFonts",{fonts:Ue,dictionary:rt})},Ta=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(de){var V=de.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var se="Error in function "+V.split(`
`)[0].split("<")[0]+": "+de.message;if(!vt.console)throw new Error(se);vt.console.error(se,de),vt.alert&&alert(se)}},N.foo.bar=N,N.foo},Yu=function(N,V){var se,de,we,je,He,Ze,ut,Tt,St;if(we=(V=V||{}).sourceEncoding||"Unicode",He=V.outputEncoding,(V.autoencode||He)&&Ue[pt].metadata&&Ue[pt].metadata[we]&&Ue[pt].metadata[we].encoding&&(je=Ue[pt].metadata[we].encoding,!He&&Ue[pt].encoding&&(He=Ue[pt].encoding),!He&&je.codePages&&(He=je.codePages[0]),typeof He=="string"&&(He=je[He]),He)){for(ut=!1,Ze=[],se=0,de=N.length;se<de;se++)(Tt=He[N.charCodeAt(se)])?Ze.push(String.fromCharCode(Tt)):Ze.push(N[se]),Ze[se].charCodeAt(0)>>8&&(ut=!0);N=Ze.join("")}for(se=N.length;ut===void 0&&se!==0;)N.charCodeAt(se-1)>>8&&(ut=!0),se--;if(!ut)return N;for(Ze=V.noBOM?[]:[254,255],se=0,de=N.length;se<de;se++){if((St=(Tt=N.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(St),Ze.push(Tt-(St<<8))}return String.fromCharCode.apply(void 0,Ze)},oi=p.__private__.pdfEscape=p.pdfEscape=function(N,V){return Yu(N,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kf=p.__private__.beginPage=function(N){ce[++dn]=[],dt[dn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},LA(dn),Ne(ce[q])},DA=function(N,V){var se,de,we;switch(n=V||n,typeof N=="string"&&(se=y(N.toLowerCase()),Array.isArray(se)&&(de=se[0],we=se[1])),Array.isArray(N)&&(de=N[0]*We,we=N[1]*We),isNaN(de)&&(de=i[0],we=i[1]),(de>14400||we>14400)&&(hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),we=Math.min(14400,we)),i=[de,we],n.substr(0,1)){case"l":we>de&&(i=[we,de]);break;case"p":de>we&&(i=[we,de])}kf(i),qA(jf),oe(Ca),Df!==0&&oe(Df+" J"),Lf!==0&&oe(Lf+" j"),Le.publish("addPage",{pageNumber:dn})},Vy=function(N){N>0&&N<=dn&&(ce.splice(N,1),dt.splice(N,1),dn--,q>dn&&(q=dn),this.setPage(q))},LA=function(N){N>0&&N<=dn&&(q=N)},Gy=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ce.length-1},RA=function(N,V,se){var de,we=void 0;return se=se||{},N=N!==void 0?N:Ue[pt].fontName,V=V!==void 0?V:Ue[pt].fontStyle,de=N.toLowerCase(),rt[de]!==void 0&&rt[de][V]!==void 0?we=rt[de][V]:rt[N]!==void 0&&rt[N][V]!==void 0?we=rt[N][V]:se.disableWarning===!1&&hn.warn("Unable to look up font label for font '"+N+"', '"+V+"'. Refer to getFontList() for available fonts."),we||se.noFallback||(we=rt.times[V])==null&&(we=rt.times.normal),we},Wy=p.__private__.putInfo=function(){var N=sr(),V=function(de){return de};for(var se in c!==null&&(V=Rr.encryptor(N,0)),oe("<<"),oe("/Producer ("+oi(V("jsPDF "+ct.version))+")"),et)et.hasOwnProperty(se)&&et[se]&&oe("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+oi(V(et[se]))+")");oe("/CreationDate ("+oi(V(G))+")"),oe(">>"),oe("endobj")},Pf=p.__private__.putCatalog=function(N){var V=(N=N||{}).rootDictionaryObjId||yo;switch(sr(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+V+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+ye;se.substr(se.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+B(ye)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Ve&&oe("/PageMode /"+Ve),Le.publish("putCatalog"),oe(">>"),oe("endobj")},Yy=p.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ae+1)),oe("/Root "+ae+" 0 R"),oe("/Info "+(ae-1)+" 0 R"),c!==null&&oe("/Encrypt "+Rr.oid+" 0 R"),oe("/ID [ <"+R+"> <"+R+"> ]"),oe(">>")},Ky=p.__private__.putHeader=function(){oe("%PDF-"+v),oe("%ºß¬à")},Jy=p.__private__.putXRef=function(){var N="0000000000";oe("xref"),oe("0 "+(ae+1)),oe("0000000000 65535 f ");for(var V=1;V<=ae;V++)typeof me[V]=="function"?oe((N+me[V]()).slice(-10)+" 00000 n "):me[V]!==void 0?oe((N+me[V]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},bo=p.__private__.buildDocument=function(){De(),Ne(Ae),Le.publish("buildDocument"),Ky(),_l(),jA(),OA(),c!==null&&Uy(),Wy(),Pf();var N=W;return Jy(),Yy(),oe("startxref"),oe(""+N),oe("%%EOF"),Ne(ce[q]),Ae.join(`
`)},Ku=p.__private__.getBlob=function(N){return new Blob([ke(N)],{type:"application/pdf"})},Ju=p.output=p.__private__.output=Ta(function(N,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",N){case void 0:return bo();case"save":p.save(V.filename);break;case"arraybuffer":return ke(bo());case"blob":return Ku(bo());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Ku(bo()))||void 0;hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",de=bo();try{se=O2(de)}catch{se=O2(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+V.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(we=V.pdfObjectUrl,je="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Ze=vt.open();return Ze!==null&&Ze.document.write(He),Ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Tt=vt.open();if(Tt!==null){Tt.document.write(ut);var St=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=V.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',In=vt.open();if(In!==null&&(In.document.write(Ut),In.document.title=V.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",V);default:return null}}),FA=function(N){return Array.isArray(Ke)===!0&&Ke.indexOf(N)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=FA("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var Rr=null;te(),H();var Xy=function(N){return c!==null?Rr.encryptor(N,0):function(V){return V}},BA=p.__private__.getPageInfo=p.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[N].objId,pageNumber:N,pageContext:dt[N]}},wt=p.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in dt)if(dt[V].objId===N)break;return BA(V)},Qy=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:dt[q].objId,pageNumber:q,pageContext:dt[q]}};p.addPage=function(){return DA.apply(this,arguments),this},p.setPage=function(){return LA.apply(this,arguments),Ne.call(this,ce[q]),this},p.insertPage=function(N){return this.addPage(),this.movePage(q,N),this},p.movePage=function(N,V){var se,de;if(N>V){se=ce[N],de=dt[N];for(var we=N;we>V;we--)ce[we]=ce[we-1],dt[we]=dt[we-1];ce[V]=se,dt[V]=de,this.setPage(V)}else if(N<V){se=ce[N],de=dt[N];for(var je=N;je<V;je++)ce[je]=ce[je+1],dt[je]=dt[je+1];ce[V]=se,dt[V]=de,this.setPage(V)}return this},p.deletePage=function(){return Vy.apply(this,arguments),this},p.__private__.text=p.text=function(N,V,se,de,we){var je,He,Ze,ut,Tt,St,Ut,In,Dn,Jn=(de=de||{}).scope||this;if(typeof N=="number"&&typeof V=="number"&&(typeof se=="string"||Array.isArray(se))){var Fr=se;se=V,V=N,N=Fr}if(arguments[3]instanceof lt?(M("The transform parameter of text() with a Matrix value"),Dn=we):(Ze=arguments[4],ut=arguments[5],rn(Ut=arguments[3])==="object"&&Ut!==null||(typeof Ze=="string"&&(ut=Ze,Ze=null),typeof Ut=="string"&&(ut=Ut,Ut=null),typeof Ut=="number"&&(Ze=Ut,Ut=null),de={flags:Ut,angle:Ze,align:ut})),isNaN(V)||isNaN(se)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Jn;var yr="",Na=!1,_i=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:Cl,Qa=Jn.internal.scaleFactor;function YA(gn){return gn=gn.split("	").join(Array(de.TabLen||9).join(" ")),oi(gn,Ut)}function Uf(gn){for(var vn,Hn=gn.concat(),lr=[],To=Hn.length;To--;)typeof(vn=Hn.shift())=="string"?lr.push(vn):Array.isArray(gn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?lr.push(vn[0]):lr.push([vn[0],vn[1],vn[2]]);return lr}function qf(gn,vn){var Hn;if(typeof gn=="string")Hn=vn(gn)[0];else if(Array.isArray(gn)){for(var lr,To,Jf=gn.concat(),dc=[],ZA=Jf.length;ZA--;)typeof(lr=Jf.shift())=="string"?dc.push(vn(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(To=vn(lr[0],lr[1],lr[2]),dc.push([To[0],To[1],To[2]]));Hn=dc}return Hn}var nc=!1,Hf=!0;if(typeof N=="string")nc=!0;else if(Array.isArray(N)){var zf=N.concat();He=[];for(var rc,kr=zf.length;kr--;)(typeof(rc=zf.shift())!="string"||Array.isArray(rc)&&typeof rc[0]!="string")&&(Hf=!1);nc=Hf}if(nc===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var ic=Pe/Jn.internal.scaleFactor,ac=ic*(_i-1);switch(de.baseline){case"bottom":se-=ac;break;case"top":se+=ic-ac;break;case"hanging":se+=ic-2*ac;break;case"middle":se+=ic/2-ac}if((St=de.maxWidth||0)>0&&(typeof N=="string"?N=Jn.splitTextToSize(N,St):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(gn,vn){return gn.concat(Jn.splitTextToSize(vn,St))},[]))),je={text:N,x:V,y:se,options:de,mutex:{pdfEscape:oi,activeFontKey:pt,fonts:Ue,activeFontSize:Pe}},Le.publish("preProcessText",je),N=je.text,Ze=(de=je.options).angle,!(Dn instanceof lt)&&Ze&&typeof Ze=="number"){Ze*=Math.PI/180,de.rotationDirection===0&&(Ze=-Ze),S===w.ADVANCED&&(Ze=-Ze);var oc=Math.cos(Ze),Vf=Math.sin(Ze);Dn=new lt(oc,Vf,-Vf,oc,0,0)}else Ze&&Ze instanceof lt&&(Dn=Ze);S!==w.ADVANCED||Dn||(Dn=ai),(Tt=de.charSpace||Zu)!==void 0&&(yr+=E(j(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=de.horizontalScale)!==void 0&&(yr+=E(100*In)+` Tz
`),de.lang;var si=-1,lb=de.renderingMode!==void 0?de.renderingMode:de.stroke,Gf=Jn.internal.getCurrentPageInfo().pageContext;switch(lb){case 0:case!1:case"fill":si=0;break;case 1:case!0:case"stroke":si=1;break;case 2:case"fillThenStroke":si=2;break;case 3:case"invisible":si=3;break;case 4:case"fillAndAddForClipping":si=4;break;case 5:case"strokeAndAddPathForClipping":si=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":si=6;break;case 7:case"addToPathForClipping":si=7}var KA=Gf.usedRenderingMode!==void 0?Gf.usedRenderingMode:-1;si!==-1?yr+=si+` Tr
`:KA!==-1&&(yr+=`0 Tr
`),si!==-1&&(Gf.usedRenderingMode=si),ut=de.align||"left";var Vi,sc=Pe*_i,JA=Jn.internal.pageSize.getWidth(),XA=Ue[pt];Tt=de.charSpace||Zu,St=de.maxWidth||0,Ut=Object.assign({autoencode:!0,noBOM:!0},de.flags);var ms=[],kl=function(gn){return Jn.getStringUnitWidth(gn,{font:XA,charSpace:Tt,fontSize:Pe,doKerning:!1})*Pe/Qa};if(Object.prototype.toString.call(N)==="[object Array]"){var li;He=Uf(N),ut!=="left"&&(Vi=He.map(kl));var Yr,gs=0;if(ut==="right"){V-=Vi[0],N=[],kr=He.length;for(var wo=0;wo<kr;wo++)wo===0?(Yr=Xa(V),li=xo(se)):(Yr=j(gs-Vi[wo]),li=-sc),N.push([He[wo],Yr,li]),gs=Vi[wo]}else if(ut==="center"){V-=Vi[0]/2,N=[],kr=He.length;for(var So=0;So<kr;So++)So===0?(Yr=Xa(V),li=xo(se)):(Yr=j((gs-Vi[So])/2),li=-sc),N.push([He[So],Yr,li]),gs=Vi[So]}else if(ut==="left"){N=[],kr=He.length;for(var lc=0;lc<kr;lc++)N.push(He[lc])}else if(ut==="justify"&&XA.encoding==="Identity-H"){N=[],kr=He.length,St=St!==0?St:JA;for(var _o=0,qn=0;qn<kr;qn++)if(li=qn===0?xo(se):-sc,Yr=qn===0?Xa(V):_o,qn<kr-1){var Wf=j((St-Vi[qn])/(He[qn].split(" ").length-1)),Kr=He[qn].split(" ");N.push([Kr[0]+" ",Yr,li]),_o=0;for(var Gi=1;Gi<Kr.length;Gi++){var uc=(kl(Kr[Gi-1]+" "+Kr[Gi])-kl(Kr[Gi]))*Qa+Wf;Gi==Kr.length-1?N.push([Kr[Gi],uc,0]):N.push([Kr[Gi]+" ",uc,0]),_o-=uc}}else N.push([He[qn],Yr,li]);N.push(["",_o,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],kr=He.length,St=St!==0?St:JA,qn=0;qn<kr;qn++)li=qn===0?xo(se):-sc,Yr=qn===0?Xa(V):0,qn<kr-1?ms.push(E(j((St-Vi[qn])/(He[qn].split(" ").length-1)))):ms.push(0),N.push([He[qn],Yr,li])}}var QA=typeof de.R2L=="boolean"?de.R2L:be;QA===!0&&(N=qf(N,function(gn,vn,Hn){return[gn.split("").reverse().join(""),vn,Hn]})),je={text:N,x:V,y:se,options:de,mutex:{pdfEscape:oi,activeFontKey:pt,fonts:Ue,activeFontSize:Pe}},Le.publish("postProcessText",je),N=je.text,Na=je.mutex.isHex||!1;var Yf=Ue[pt].encoding;Yf!=="WinAnsiEncoding"&&Yf!=="StandardEncoding"||(N=qf(N,function(gn,vn,Hn){return[YA(gn),vn,Hn]})),He=Uf(N),N=[];for(var Pl,Ml,vs,Ol=0,cc=1,jl=Array.isArray(He[0])?cc:Ol,ys="",Kf=function(gn,vn,Hn){var lr="";return Hn instanceof lt?(Hn=typeof de.angle=="number"?vr(Hn,new lt(1,0,0,1,gn,vn)):vr(new lt(1,0,0,1,gn,vn),Hn),S===w.ADVANCED&&(Hn=vr(new lt(1,0,0,-1,0,0),Hn)),lr=Hn.join(" ")+` Tm
`):lr=E(gn)+" "+E(vn)+` Td
`,lr},Wi=0;Wi<He.length;Wi++){switch(ys="",jl){case cc:vs=(Na?"<":"(")+He[Wi][0]+(Na?">":")"),Pl=parseFloat(He[Wi][1]),Ml=parseFloat(He[Wi][2]);break;case Ol:vs=(Na?"<":"(")+He[Wi]+(Na?">":")"),Pl=Xa(V),Ml=xo(se)}ms!==void 0&&ms[Wi]!==void 0&&(ys=ms[Wi]+` Tw
`),Wi===0?N.push(ys+Kf(Pl,Ml,Dn)+vs):jl===Ol?N.push(ys+vs):jl===cc&&N.push(ys+Kf(Pl,Ml,Dn)+vs)}N=jl===Ol?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Yi=`BT
/`;return Yi+=pt+" "+Pe+` Tf
`,Yi+=E(Pe*_i)+` TL
`,Yi+=Nl+`
`,Yi+=yr,Yi+=N,oe(Yi+="ET"),h[pt]=!0,Jn};var Zy=p.__private__.clip=p.clip=function(N){return oe(N==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Zy("evenodd")},p.__private__.discardPath=p.discardPath=function(){return oe("n"),this};var Ja=p.__private__.isValidStyle=function(N){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(N){return Ja(N)&&(u=N),this};var $A=p.__private__.getStyle=p.getStyle=function(N){var V=u;switch(N){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=N}return V},UA=p.close=function(){return oe("h"),this};p.stroke=function(){return oe("S"),this},p.fill=function(N){return Xu("f",N),this},p.fillEvenOdd=function(N){return Xu("f*",N),this},p.fillStroke=function(N){return Xu("B",N),this},p.fillStrokeEvenOdd=function(N){return Xu("B*",N),this};var Xu=function(N,V){rn(V)==="object"?tb(V,N):oe(N)},Mf=function(N){N===null||S===w.ADVANCED&&N===void 0||(N=$A(N),oe(N))};function eb(N,V,se,de,we){var je=new Ql(V||this.boundingBox,se||this.xStep,de||this.yStep,this.gState,we||this.matrix);je.stream=this.stream;var He=N+"$$"+this.cloneIndex+++"$$";return Er(He,je),je}var tb=function(N,V){var se=mn[N.key],de=st[se];if(de instanceof Us)oe("q"),oe(nb(V)),de.gState&&p.setGState(de.gState),oe(N.matrix.toString()+" cm"),oe("/"+se+" sh"),oe("Q");else if(de instanceof Ql){var we=new lt(1,0,0,-1,0,As());N.matrix&&(we=we.multiply(N.matrix||ai),se=eb.call(de,N.key,N.boundingBox,N.xStep,N.yStep,we).id),oe("q"),oe("/Pattern cs"),oe("/"+se+" scn"),de.gState&&p.setGState(de.gState),oe(V),oe("Q")}},nb=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Of=p.moveTo=function(N,V){return oe(E(j(N))+" "+E(F(V))+" m"),this},Tl=p.lineTo=function(N,V){return oe(E(j(N))+" "+E(F(V))+" l"),this},hs=p.curveTo=function(N,V,se,de,we,je){return oe([E(j(N)),E(F(V)),E(j(se)),E(F(de)),E(j(we)),E(F(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(N,V,se,de,we){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(de)||!Ja(we))throw new Error("Invalid arguments passed to jsPDF.line");return S===w.COMPAT?this.lines([[se-N,de-V]],N,V,[1,1],we||"S"):this.lines([[se-N,de-V]],N,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(N,V,se,de,we,je){var He,Ze,ut,Tt,St,Ut,In,Dn,Jn,Fr,yr,Na;if(typeof N=="number"&&(Na=se,se=V,V=N,N=Na),de=de||[1,1],je=je||!1,isNaN(V)||isNaN(se)||!Array.isArray(N)||!Array.isArray(de)||!Ja(we)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Of(V,se),He=de[0],Ze=de[1],Tt=N.length,Fr=V,yr=se,ut=0;ut<Tt;ut++)(St=N[ut]).length===2?(Fr=St[0]*He+Fr,yr=St[1]*Ze+yr,Tl(Fr,yr)):(Ut=St[0]*He+Fr,In=St[1]*Ze+yr,Dn=St[2]*He+Fr,Jn=St[3]*Ze+yr,Fr=St[4]*He+Fr,yr=St[5]*Ze+yr,hs(Ut,In,Dn,Jn,Fr,yr));return je&&UA(),Mf(we),this},p.path=function(N){for(var V=0;V<N.length;V++){var se=N[V],de=se.c;switch(se.op){case"m":Of(de[0],de[1]);break;case"l":Tl(de[0],de[1]);break;case"c":hs.apply(this,de);break;case"h":UA()}}return this},p.__private__.rect=p.rect=function(N,V,se,de,we){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(de)||!Ja(we))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w.COMPAT&&(de=-de),oe([E(j(N)),E(F(V)),E(j(se)),E(j(de)),"re"].join(" ")),Mf(we),this},p.__private__.triangle=p.triangle=function(N,V,se,de,we,je,He){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(de)||isNaN(we)||isNaN(je)||!Ja(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-N,de-V],[we-se,je-de],[N-we,V-je]],N,V,[1,1],He,!0),this},p.__private__.roundedRect=p.roundedRect=function(N,V,se,de,we,je,He){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(de)||isNaN(we)||isNaN(je)||!Ja(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ze=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*se),je=Math.min(je,.5*de),this.lines([[se-2*we,0],[we*Ze,0,we,je-je*Ze,we,je],[0,de-2*je],[0,je*Ze,-we*Ze,je,-we,je],[2*we-se,0],[-we*Ze,0,-we,-je*Ze,-we,-je],[0,2*je-de],[0,-je*Ze,we*Ze,-je,we,-je]],N+we,V,[1,1],He,!0),this},p.__private__.ellipse=p.ellipse=function(N,V,se,de,we){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(de)||!Ja(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*se,He=4/3*(Math.SQRT2-1)*de;return Of(N+se,V),hs(N+se,V-He,N+je,V-de,N,V-de),hs(N-je,V-de,N-se,V-He,N-se,V),hs(N-se,V+He,N-je,V+de,N,V+de),hs(N+je,V+de,N+se,V+He,N+se,V),Mf(we),this},p.__private__.circle=p.circle=function(N,V,se,de){if(isNaN(N)||isNaN(V)||isNaN(se)||!Ja(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,V,se,se,de)},p.setFont=function(N,V,se){return se&&(V=k(V,se)),pt=RA(N,V,{disableWarning:!1}),this};var rb=p.__private__.getFont=p.getFont=function(){return Ue[RA.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var N,V,se={};for(N in rt)if(rt.hasOwnProperty(N))for(V in se[N]=[],rt[N])rt[N].hasOwnProperty(V)&&se[N].push(V);return se},p.addFont=function(N,V,se,de,we){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(se=k(se,de)),we=we||"Identity-H",Ef.call(this,N,V,se,we)};var Cl,jf=t.lineWidth||.200025,Qu=p.__private__.getLineWidth=p.getLineWidth=function(){return jf},qA=p.__private__.setLineWidth=p.setLineWidth=function(N){return jf=N,oe(E(j(N))+" w"),this};p.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(N,V){if(N=N||[],V=V||0,isNaN(V)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(se){return E(j(se))}).join(" "),V=E(j(V)),oe("["+N+"] "+V+" d"),this};var HA=p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Cl};p.__private__.getLineHeight=p.getLineHeight=function(){return Pe*Cl};var zA=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Cl=N),this},VA=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Cl};zA(t.lineHeight);var Xa=p.__private__.getHorizontalCoordinate=function(N){return j(N)},xo=p.__private__.getVerticalCoordinate=function(N){return S===w.ADVANCED?N:dt[q].mediaBox.topRightY-dt[q].mediaBox.bottomLeftY-j(N)},ib=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(N){return E(Xa(N))},ps=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(N){return E(xo(N))},Ca=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Sa(Ca)},p.__private__.setStrokeColor=p.setDrawColor=function(N,V,se,de){return Ca=_a({ch1:N,ch2:V,ch3:se,ch4:de,pdfColorType:"draw",precision:2}),oe(Ca),this};var If=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Sa(If)},p.__private__.setFillColor=p.setFillColor=function(N,V,se,de){return If=_a({ch1:N,ch2:V,ch3:se,ch4:de,pdfColorType:"fill",precision:2}),oe(If),this};var Nl=t.textColor||"0 g",ab=p.__private__.getTextColor=p.getTextColor=function(){return Sa(Nl)};p.__private__.setTextColor=p.setTextColor=function(N,V,se,de){return Nl=_a({ch1:N,ch2:V,ch3:se,ch4:de,pdfColorType:"text",precision:3}),this};var Zu=t.charSpace,ob=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Zu||0)};p.__private__.setCharSpace=p.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zu=N,this};var Df=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(N){var V=p.CapJoinStyles[N];if(V===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Df=V,oe(V+" J"),this};var Lf=0;p.__private__.setLineJoin=p.setLineJoin=function(N){var V=p.CapJoinStyles[N];if(V===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lf=V,oe(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(E(j(N))+" M"),this},p.GState=Sp,p.setGState=function(N){(N=typeof N=="string"?Mt[or[N]]:GA(null,N)).equals(ii)||(oe("/"+N.id+" gs"),ii=N)};var GA=function(N,V){if(!N||!or[N]){var se=!1;for(var de in Mt)if(Mt.hasOwnProperty(de)&&Mt[de].equals(V)){se=!0;break}if(se)V=Mt[de];else{var we="GS"+(Object.keys(Mt).length+1).toString(10);Mt[we]=V,V.id=we}return N&&(or[N]=V.id),Le.publish("addGState",V),V}};p.addGState=function(N,V){return GA(N,V),this},p.saveGraphicsState=function(){return oe("q"),gt.push({key:pt,size:Pe,color:Nl}),this},p.restoreGraphicsState=function(){oe("Q");var N=gt.pop();return pt=N.key,Pe=N.size,Nl=N.color,ii=null,this},p.setCurrentTransformationMatrix=function(N){return oe(N.toString()+" cm"),this},p.comment=function(N){return oe("#"+N),this};var ec=function(N,V){var se=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(je){isNaN(je)||(se=parseFloat(je))}});var de=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(je){isNaN(je)||(de=parseFloat(je))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(je){we=je.toString()}}),this},Rf=function(N,V,se,de){ec.call(this,N,V),this.type="rect";var we=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(He){isNaN(He)||(we=parseFloat(He))}});var je=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(He){isNaN(He)||(je=parseFloat(He))}}),this},Ff=function(){this.page=dn,this.currentPage=q,this.pages=ce.slice(0),this.pagesContext=dt.slice(0),this.x=cn,this.y=jt,this.matrix=Se,this.width=El(q),this.height=As(q),this.outputDestination=Me,this.id="",this.objectNumber=-1};Ff.prototype.restore=function(){dn=this.page,q=this.currentPage,dt=this.pagesContext,ce=this.pages,cn=this.x,jt=this.y,Se=this.matrix,Bf(q,this.width),$f(q,this.height),Me=this.outputDestination};var WA=function(N,V,se,de,we){Pt.push(new Ff),dn=q=0,ce=[],cn=N,jt=V,Se=we,kf([se,de])},sb=function(N){if(At[N])Pt.pop().restore();else{var V=new Ff,se="Xo"+(Object.keys(Je).length+1).toString(10);V.id=se,At[N]=se,Je[se]=V,Le.publish("addFormObject",V),Pt.pop().restore()}};for(var tc in p.beginFormObject=function(N,V,se,de,we){return WA(N,V,se,de,we),this},p.endFormObject=function(N){return sb(N),this},p.doFormObject=function(N,V){var se=Je[At[N]];return oe("q"),oe(V.toString()+" cm"),oe("/"+se.id+" Do"),oe("Q"),this},p.getFormObject=function(N){var V=Je[At[N]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(N,V){return N=N||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Gl(Ku(bo()),N),typeof Gl.unload=="function"&&vt.setTimeout&&setTimeout(Gl.unload,911),this):new Promise(function(se,de){try{var we=Gl(Ku(bo()),N);typeof Gl.unload=="function"&&vt.setTimeout&&setTimeout(Gl.unload,911),se(we)}catch(je){de(je.message)}})},ct.API)ct.API.hasOwnProperty(tc)&&(tc==="events"&&ct.API.events.length?function(N,V){var se,de,we;for(we=V.length-1;we!==-1;we--)se=V[we][0],de=V[we][1],N.subscribe.apply(N,[se].concat(typeof de=="function"?[de]:de))}(Le,ct.API.events):p[tc]=ct.API[tc]);var El=p.getPageWidth=function(N){return(dt[N=N||q].mediaBox.topRightX-dt[N].mediaBox.bottomLeftX)/We},Bf=p.setPageWidth=function(N,V){dt[N].mediaBox.topRightX=V*We+dt[N].mediaBox.bottomLeftX},As=p.getPageHeight=function(N){return(dt[N=N||q].mediaBox.topRightY-dt[N].mediaBox.bottomLeftY)/We},$f=p.setPageHeight=function(N,V){dt[N].mediaBox.topRightY=V*We+dt[N].mediaBox.bottomLeftY};return p.internal={pdfEscape:oi,getStyle:$A,getFont:rb,getFontSize:_e,getCharSpace:ob,getTextColor:ab,getLineHeight:HA,getLineHeightFactor:VA,getLineWidth:Qu,write:Ee,getHorizontalCoordinate:Xa,getVerticalCoordinate:xo,getCoordinateString:ib,getVerticalCoordinateString:ps,collections:{},newObject:sr,newAdditionalObject:Uu,newObjectDeferred:Kn,newObjectDeferredBegin:Si,getFilters:Ya,putStream:zi,events:Le,scaleFactor:We,pageSize:{getWidth:function(){return El(q)},setWidth:function(N){Bf(q,N)},getHeight:function(){return As(q)},setHeight:function(N){$f(q,N)}},encryptionOptions:c,encryption:Rr,getEncryptor:Xy,output:Ju,getNumberOfPages:Gy,pages:ce,out:oe,f2:B,f3:O,getPageInfo:BA,getPageInfoByObjId:wt,getCurrentPageInfo:Qy,getPDFVersion:b,Point:ec,Rectangle:Rf,Matrix:lt,hasHotfix:FA},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return El(q)},set:function(N){Bf(q,N)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return As(q)},set:function(N){$f(q,N)},enumerable:!0,configurable:!0}),zy.call(p,xe),pt="F1",DA(i,n),Le.publish("initialized"),p}Lc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Lc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lc.prototype.processOwnerPassword=function(t,e){return I2(j2(e).substr(0,5),t)},Lc.prototype.encryptor=function(t,e){var n=j2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return I2(n,r)}},Sp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||rn(t)!==rn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="2.5.2";var Fn=ct.API,PS=1,Du=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_c=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(t){return t.toFixed(2)},Ps=function(t){return t.toFixed(5)};Fn.__acroform__={};var xi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},RE=function(t){return t*PS},to=function(t){var e=new EI,n=it.internal.getHeight(t)||0,r=it.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_t(r)),Number(_t(n))],e},YQ=Fn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},KQ=Fn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},JQ=Fn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},zn=Fn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JQ(t,e-1)},Vn=Fn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YQ(t,e-1)},Gn=Fn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return KQ(t,e-1)},XQ=Fn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(_t(l.lowerLeft_X)),Number(_t(l.lowerLeft_Y)),Number(_t(l.upperRight_X)),Number(_t(l.upperRight_Y))]},QQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=D2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+_t(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=to(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},D2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=n,o=it.internal.getHeight(t)||0;o=o<0?-o:o;var s=it.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(O,j,U){if(O+1<i.length){var F=j+" "+i[O+1][0];return qm(F,t,U).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,d=qm("3",t,a).height,h=t.multiline?o-a:(o-d)/2,p=h+=2,v=0,b=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+qm(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var y="",w=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&x!==i[S].length-1){if((d+2)*(w+2)+2>o)continue e;y+=i[S][x],T=!0,b=S,S--}else{y=(y+=i[S][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(S),k=l(C,y,a),E=S>=i.length-1;if(k&&!E){y+=" ",x=0;continue}if(k||E){if(E)b=C;else if(t.multiline&&(d+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>o)continue e;b=C}}for(var M="",I=v;I<=b;I++){var B=i[I];if(t.multiline){if(I===b){M+=B[x]+" ",x=(x+1)%B.length;continue}if(I===v){M+=B[B.length-1]+" ";continue}}M+=B[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,c=qm(M,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=_t(u)+" "+_t(p)+` Td
`,e+="("+Du(M)+`) Tj
`,e+=-_t(u)+` 0 Td
`,p=-(a+2),c=0,v=T?b:b+1,w++,y=""}break}return r.text=e,r.fontSize=a,r},qm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ZQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eZ=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},tZ=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),rn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},nZ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Va.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ZQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");PS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&eZ(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=XQ(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=it.createDefaultAppearanceStream(s),rn(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=QQ(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var d="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var p=s.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(i,s)),d+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,s)),d+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&tZ(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},NI=Fn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),rn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Du(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},C1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Du(r(t))+")"},oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oo.prototype.toString=function(){return this.objId+" 0 R"},oo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},oo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:NI(i,this.objId,this.scope)}):i instanceof oo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var EI=function(){oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};xi(EI,oo);var kI=function(){oo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Du(n(t))+")"}},set:function(n){t=n}})};xi(kI,oo);var Va=function t(){oo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zn(e,3)},set:function(y){y?this.F=Vn(e,3):this.F=Gn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof o0)return;a="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Du(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/PS:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof o0||this instanceof ol))return C1(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof fr?h:C1(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof fr?y:y.substr(0,1)==="("?_c(y.substr(1,y.length-2)):_c(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?_c(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof fr?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof fr?p:C1(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof fr?y:y.substr(0,1)==="("?_c(y.substr(1,y.length-2)):_c(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fr?_c(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof fr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,1)},set:function(y){y?this.Ff=Vn(this.Ff,1):this.Ff=Gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,2)},set:function(y){y?this.Ff=Vn(this.Ff,2):this.Ff=Gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,3)},set:function(y){y?this.Ff=Vn(this.Ff,3):this.Ff=Gn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};xi(Va,oo);var lu=function(){Va.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return NI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,18)},set:function(n){n?this.Ff=Vn(this.Ff,18):this.Ff=Gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Vn(this.Ff,19):this.Ff=Gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,20)},set:function(n){n?(this.Ff=Vn(this.Ff,20),e.sort()):this.Ff=Gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,22)},set:function(n){n?this.Ff=Vn(this.Ff,22):this.Ff=Gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,23)},set:function(n){n?this.Ff=Vn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,27)},set:function(n){n?this.Ff=Vn(this.Ff,27):this.Ff=Gn(this.Ff,27)}}),this.hasAppearanceStream=!1};xi(lu,Va);var uu=function(){lu.call(this),this.fontName="helvetica",this.combo=!1};xi(uu,lu);var cu=function(){uu.call(this),this.combo=!0};xi(cu,uu);var Xh=function(){cu.call(this),this.edit=!0};xi(Xh,cu);var fr=function(){Va.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,15)},set:function(n){n?this.Ff=Vn(this.Ff,15):this.Ff=Gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,16)},set:function(n){n?this.Ff=Vn(this.Ff,16):this.Ff=Gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,17)},set:function(n){n?this.Ff=Vn(this.Ff,17):this.Ff=Gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,26)},set:function(n){n?this.Ff=Vn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Du(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){rn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};xi(fr,Va);var Qh=function(){fr.call(this),this.pushButton=!0};xi(Qh,fr);var du=function(){fr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xi(du,fr);var o0=function(){var t,e;Va.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Du(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){rn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=it.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xi(o0,Va),du.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},du.prototype.createOption=function(t){var e=new o0;return e.Parent=this,e.optionName=t,this.Kids.push(e),rZ.call(this.scope,e),e};var Zh=function(){fr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=it.CheckBox.createAppearanceStream()};xi(Zh,fr);var ol=function(){Va.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,13)},set:function(e){e?this.Ff=Vn(this.Ff,13):this.Ff=Gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,21)},set:function(e){e?this.Ff=Vn(this.Ff,21):this.Ff=Gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,23)},set:function(e){e?this.Ff=Vn(this.Ff,23):this.Ff=Gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,24)},set:function(e){e?this.Ff=Vn(this.Ff,24):this.Ff=Gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,25)},set:function(e){e?this.Ff=Vn(this.Ff,25):this.Ff=Gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,26)},set:function(e){e?this.Ff=Vn(this.Ff,26):this.Ff=Gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xi(ol,Va);var ep=function(){ol.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,14)},set:function(t){t?this.Ff=Vn(this.Ff,14):this.Ff=Gn(this.Ff,14)}}),this.password=!0};xi(ep,ol);var it={CheckBox:{createAppearanceStream:function(){return{N:{On:it.CheckBox.YesNormal},D:{On:it.CheckBox.YesPushDown,Off:it.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=D2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+_t(it.internal.getWidth(t))+" "+_t(it.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+_t(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=to(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=it.internal.getHeight(t),o=it.internal.getWidth(t),s=D2(t,t.caption);return i.push("1 g"),i.push("0 0 "+_t(o)+" "+_t(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+_t(o-1)+" "+_t(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+_t(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(it.internal.getWidth(t))+" "+_t(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Circle.YesNormal,e.D[t]=it.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=to(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=it.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ps(it.internal.getWidth(t)/2)+" "+Ps(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5)),o=Number((r*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ps(it.internal.getWidth(t)/2)+" "+Ps(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ps(it.internal.getWidth(t)/2)+" "+Ps(it.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[],r=it.internal.getWidth(t)<=it.internal.getHeight(t)?it.internal.getWidth(t)/4:it.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*it.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ps(it.internal.getWidth(t)/2)+" "+Ps(it.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:it.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=it.RadioButton.Cross.YesNormal,e.D[t]=it.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=to(t);e.scope=t.scope;var n=[],r=it.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+_t(it.internal.getWidth(t)-2)+" "+_t(it.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),n.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),n.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),n.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=to(t);e.scope=t.scope;var n=it.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(it.internal.getWidth(t))+" "+_t(it.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+_t(it.internal.getWidth(t)-2)+" "+_t(it.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(n.x1.x)+" "+_t(n.x1.y)+" m"),r.push(_t(n.x2.x)+" "+_t(n.x2.y)+" l"),r.push(_t(n.x4.x)+" "+_t(n.x4.y)+" m"),r.push(_t(n.x3.x)+" "+_t(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(it.internal.getWidth(t))+" "+_t(it.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};it.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=it.internal.getWidth(t),n=it.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},it.internal.getWidth=function(t){var e=0;return rn(t)==="object"&&(e=RE(t.Rect[2])),e},it.internal.getHeight=function(t){var e=0;return rn(t)==="object"&&(e=RE(t.Rect[3])),e};var rZ=Fn.addField=function(t){if(nZ(this,t),!(t instanceof Va))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Fn.AcroFormChoiceField=lu,Fn.AcroFormListBox=uu,Fn.AcroFormComboBox=cu,Fn.AcroFormEditBox=Xh,Fn.AcroFormButton=fr,Fn.AcroFormPushButton=Qh,Fn.AcroFormRadioButton=du,Fn.AcroFormCheckBox=Zh,Fn.AcroFormTextField=ol,Fn.AcroFormPasswordField=ep,Fn.AcroFormAppearance=it,Fn.AcroForm={ChoiceField:lu,ListBox:uu,ComboBox:cu,EditBox:Xh,Button:fr,PushButton:Qh,RadioButton:du,CheckBox:Zh,TextField:ol,PasswordField:ep,Appearance:it},ct.AcroForm={ChoiceField:lu,ListBox:uu,ComboBox:cu,EditBox:Xh,Button:fr,PushButton:Qh,RadioButton:du,CheckBox:Zh,TextField:ol,PasswordField:ep,Appearance:it};var iZ=ct.AcroForm;function PI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,j){var U,F,G,R,$,H=e;if((j=j||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for($ in n)for(G=n[$],U=0;U<G.length;U+=1){for(R=!0,F=0;F<G[U].length;F+=1)if(G[U][F]!==void 0&&G[U][F]!==O[F]){R=!1;break}if(R===!0){H=$;break}}else for($ in n)for(G=n[$],U=0;U<G.length;U+=1){for(R=!0,F=0;F<G[U].length;F+=1)if(G[U][F]!==void 0&&G[U][F]!==O.charCodeAt(F)){R=!1;break}if(R===!0){H=$;break}}return H===e&&j!==e&&(H=j),H},i=function O(j){for(var U=this.internal.write,F=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:j.width}),R.push({key:"Height",value:j.height}),j.colorSpace===x.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===x.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var $="",H=0,Y=j.transparency.length;H<Y;H++)$+=j.transparency[H]+" "+j.transparency[H]+" ";R.push({key:"Mask",value:"["+$+"]"})}j.sMask!==void 0&&R.push({key:"SMask",value:j.objectId+1+" 0 R"});var X=j.filter!==void 0?["/"+j.filter]:void 0;if(F({data:j.data,additionalKeyValues:R,alreadyAppliedFilters:X,objectId:j.objectId}),U("endobj"),"sMask"in j&&j.sMask!==void 0){var te="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,D={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:te,data:j.sMask};"filter"in j&&(D.filter=j.filter),O.call(this,D)}if(j.colorSpace===x.INDEXED){var q=this.internal.newObject();F({data:M(new Uint8Array(j.palette)),objectId:q}),U("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var j in O)i.call(this,O[j])},o=function(){var O,j=this.internal.collections.addImage_images,U=this.internal.write;for(var F in j)U("/I"+(O=j[F]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof t["process"+O.toUpperCase()]=="function"},d=function(O){return rn(O)==="object"&&O.nodeType===1},h=function(O,j){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var U=""+O.getAttribute("src");if(U.indexOf("data:image/")===0)return Jh(unescape(U).split("base64,").pop());var F=t.loadFile(U,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var G;switch(j){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Jh(O.toDataURL(G,1).split("base64,").pop())}},p=function(O){var j=this.internal.collections.addImage_images;if(j){for(var U in j)if(O===j[U].alias)return j[U]}},v=function(O,j,U){return O||j||(O=-96,j=-96),O<0&&(O=-1*U.width*72/O/this.internal.scaleFactor),j<0&&(j=-1*U.height*72/j/this.internal.scaleFactor),O===0&&(O=j*U.width/U.height),j===0&&(j=O*U.height/U.width),[O,j]},b=function(O,j,U,F,G,R){var $=v.call(this,U,F,G),H=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,X=l.call(this);if(U=$[0],F=$[1],X[G.index]=G,R){R*=Math.PI/180;var te=Math.cos(R),D=Math.sin(R),q=function(ne){return ne.toFixed(4)},Z=[q(te),q(D),q(-1*D),q(te),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,H(O),Y(j+F),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([H(U),"0","0",H(F),"0","0","cm"].join(" "))):this.internal.write([H(U),"0","0",H(F),H(O),Y(j+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(O){var j,U,F=0;if(typeof O=="string")for(U=O.length,j=0;j<U;j++)F=(F<<5)-F+O.charCodeAt(j),F|=0;else if(k(O))for(U=O.byteLength/2,j=0;j<U;j++)F=(F<<5)-F+O[j],F|=0;return F},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var j=!0;return O.length===0&&(j=!1),O.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(j=!1),j},T=t.__addimage__.extractImageFromDataUrl=function(O){var j=(O=O||"").split("base64,"),U=null;if(j.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(F)&&(U={mimeType:F[1],charset:F[2],data:j[1]})}return U},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return C()&&O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return C()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var j=O.length,U=new Uint8Array(j),F=0;F<j;F++)U[F]=O.charCodeAt(F);return U},M=t.__addimage__.arrayBufferToBinaryString=function(O){for(var j="",U=k(O)?O:new Uint8Array(O),F=0;F<U.length;F+=8192)j+=String.fromCharCode.apply(null,U.subarray(F,F+8192));return j};t.addImage=function(){var O,j,U,F,G,R,$,H,Y;if(typeof arguments[1]=="number"?(j=e,U=arguments[1],F=arguments[2],G=arguments[3],R=arguments[4],$=arguments[5],H=arguments[6],Y=arguments[7]):(j=arguments[1],U=arguments[2],F=arguments[3],G=arguments[4],R=arguments[5],$=arguments[6],H=arguments[7],Y=arguments[8]),rn(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var X=O;O=X.imageData,j=X.format||j||e,U=X.x||U||0,F=X.y||F||0,G=X.w||X.width||G,R=X.h||X.height||R,$=X.alias||$,H=X.compression||H,Y=X.rotation||X.angle||Y}var te=this.internal.getFilters();if(H===void 0&&te.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(U)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var D=I.call(this,O,j,$,H);return b.call(this,U,F,G,R,D,Y),this};var I=function(O,j,U,F){var G,R,$;if(typeof O=="string"&&r(O)===e){O=unescape(O);var H=B(O,!1);(H!==""||(H=t.loadFile(O,!0))!==void 0)&&(O=H)}if(d(O)&&(O=h(O,j)),j=r(O,j),!c(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if((($=U)==null||$.length===0)&&(U=function(Y){return typeof Y=="string"||k(Y)?w(Y):k(Y.data)?w(Y.data):null}(O)),(G=p.call(this,U))||(C()&&(O instanceof Uint8Array||j==="RGBA"||(R=O,O=E(O))),G=this["process"+j.toUpperCase()](O,u.call(this),U,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:y.NONE}(F),R)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},B=t.__addimage__.convertBase64ToBinaryString=function(O,j){var U;j=typeof j!="boolean"||j;var F,G="";if(typeof O=="string"){F=(U=T(O))!==null?U.data:O;try{G=Jh(F)}catch(R){if(j)throw S(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(O){var j,U,F="";if(d(O)&&(O=h(O)),typeof O=="string"&&r(O)===e&&((F=B(O,!1))===""&&(F=t.loadFile(O)||""),O=F),U=r(O),!c(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!C()||O instanceof Uint8Array||(O=E(O)),!(j=this["process"+U.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=U,j}})(ct.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+p(y(r.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(y(w))+") >>",b.content=a;var S=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(b.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(b){var x=0,y=n,w="",S=0;for(x=0;x<b.length;x+=1)y[b.charCodeAt(x)]!==void 0?(S++,typeof(y=y[b.charCodeAt(x)])=="number"&&(w+=String.fromCharCode(y),y=n,S=0),x===b.length-1&&(y=n,w+=b.charAt(x-(S-1)),x-=S-1,S=0)):(y=n,w+=b.charAt(x-S),x-=S,S=0);return w};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(b,x,y){return o(b)?a(b)===!1?-1:!u(b)||!o(x)&&!o(y)||!o(y)&&s(x)||s(b)&&!o(x)||s(b)&&l(x)||s(b)&&s(x)?0:c(b)&&o(x)&&!s(x)&&o(y)&&u(y)?3:s(b)||!o(y)?1:2:-1},p=function(b){var x=0,y=0,w=0,S="",T="",C="",k=(b=b||"").split("\\s+"),E=[];for(x=0;x<k.length;x+=1){for(E.push(""),y=0;y<k[x].length;y+=1)S=k[x][y],T=k[x][y-1],C=k[x][y+1],o(S)?(w=h(S,T,C),E[x]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):E[x]+=S;E[x]=d(E[x])}return E.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var w=0;for(y=[],w=0;w<x.length;w+=1)Array.isArray(x[w])?y.push([p(x[w][0]),x[w][1],x[w][2]]):y.push([p(x[w])]);b=y}else b=p(x);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(ct.API),ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,b=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(x.splitTextToSize(T,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(b=this.getStringUnitWidth(l[w],{font:d})*c)&&(p=b);return p!==0&&(v=l.length),{w:p/=h,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,v,b,x,y=[],w=[],S=[],T={},C={},k=[],E=[],M=(h=h||{}).autoSize||!1,I=h.printHeaders!==!1,B=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},e),j=typeof h.padding=="number"?h.padding:3,U=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=F,this.setFontSize(B),d==null)w=y=Object.keys(c[0]),S=y.map(function(){return"left"});else if(Array.isArray(d)&&rn(d[0])==="object")for(y=d.map(function(X){return X.name}),w=d.map(function(X){return X.prompt||X.name||""}),S=d.map(function(X){return X.align||"left"}),p=0;p<d.length;p+=1)C[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=y=d,S=y.map(function(){return"left"}));if(M||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<y.length;p+=1){for(T[x=y[p]]=c.map(function(X){return X[x]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=T[x],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)k.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,k)+j+j,k=[]}if(I){var G={};for(p=0;p<y.length;p+=1)G[y[p]]={},G[y[p]].text=w[p],G[y[p]].align=S[p];var R=s.call(this,G,C);E=y.map(function(X){return new a(l,u,C[X],R,G[X].text,void 0,G[X].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var $=d.reduce(function(X,te){return X[te.name]=te.align,X},{});for(p=0;p<c.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:c[p]},this);var H=s.call(this,c[p],C);for(b=0;b<y.length;b+=1){var Y=c[p][y[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:b,data:Y},this),o.call(this,new a(l,u,C[y[b]],H,Y,p+2,$[y[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/h+c+c},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(ct.API);var MI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},OI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L2=PI(OI),jI=[100,200,300,400,500,600,700,800,900],aZ=PI(jI);function R2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return MI[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof L2[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function FE(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var oZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},BE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $E(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function sZ(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},oZ,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=R2(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+$E(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=L2[l],d=c<=L2.normal?-1:1,h=FE(u,OI,c,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=MI[l],d=0;d<c.length;++d)if(u[c[d]])return u[c[d]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=aZ[l],d=FE(u,jI,c,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+$E(a)+"'.");return o}function UE(t){return t.trimLeft()}function lZ(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function uZ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Hm,qE,HE,N1=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=D;Object.defineProperty(this,"pdf",{get:function(){return q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Ne){Z=!!Ne}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Ne){ne=!!Ne}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Ne){isNaN(Ne)||(ae=Ne)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ne){isNaN(Ne)||(me=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ne){var oe;typeof Ne=="number"?oe=[Ne,Ne,Ne,Ne]:((oe=new Array(4))[0]=Ne[0],oe[1]=Ne.length>=2?Ne[1]:oe[0],oe[2]=Ne.length>=3?Ne[2]:oe[0],oe[3]=Ne.length>=4?Ne[3]:oe[1]),u.margin=oe}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(Ne){Ae=Ne}});var W=0;Object.defineProperty(this,"lastBreak",{get:function(){return W},set:function(Ne){W=Ne}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(Ne){le=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ne){Ne instanceof c&&(u=Ne)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ne){u.path=Ne}});var ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return ce},set:function(Ne){ce=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var oe;oe=h(Ne),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var oe=h(Ne);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var ue=null;function Me(Ne,oe){if(ue===null){var Ee=function(ke){var xe=[];return Object.keys(ke).forEach(function(Pe){ke[Pe].forEach(function(ye){var _e=null;switch(ye){case"bold":_e={family:Pe,weight:"bold"};break;case"italic":_e={family:Pe,style:"italic"};break;case"bolditalic":_e={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:Pe}}_e!==null&&(_e.ref={name:Pe,style:ye},xe.push(_e))})}),xe}(Ne.getFontList());ue=function(ke){for(var xe={},Pe=0;Pe<ke.length;++Pe){var ye=R2(ke[Pe]),_e=ye.family,be=ye.stretch,Ve=ye.style,Ge=ye.weight;xe[_e]=xe[_e]||{},xe[_e][be]=xe[_e][be]||{},xe[_e][be][Ve]=xe[_e][be][Ve]||{},xe[_e][be][Ve][Ge]=ye}return xe}(Ee.concat(oe))}return ue}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Ne){ue=null,De=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var oe;if(this.ctx.font=Ne,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Ee=oe[1],ke=(oe[2],oe[3]),xe=oe[4],Pe=(oe[5],oe[6]),ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(ye==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var _e=function(et){var pt,We,cn=[],jt=et.trim();if(jt==="")return N1;if(jt in BE)return[BE[jt]];for(;jt!=="";){switch(We=null,pt=(jt=UE(jt)).charAt(0)){case'"':case"'":We=lZ(jt.substring(1),pt);break;default:We=uZ(jt)}if(We===null||(cn.push(We[0]),(jt=UE(We[1]))!==""&&jt.charAt(0)!==","))return N1;jt=jt.replace(/^,/,"")}return cn}(Pe);if(this.fontFaces){var be=sZ(Me(this.pdf,this.fontFaces),_e.map(function(et){return{family:et,stretch:"normal",weight:ke,style:Ee}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var Ve="";(ke==="bold"||parseInt(ke,10)>=700||Ee==="bold")&&(Ve="bold"),Ee==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var Ge="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<_e.length;ze++){if(this.pdf.internal.getFont(_e[ze],Ve,{noFallback:!0,disableWarning:!0})!==void 0){Ge=_e[ze];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(_e[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=_e[ze],Ve="bold";else if(this.pdf.internal.getFont(_e[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=_e[ze],Ve="normal";break}}if(Ge===""){for(var ht=0;ht<_e.length;ht++)if(ot[_e[ht]]){Ge=ot[_e[ht]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};d.prototype.setLineDash=function(D){this.lineDash=D},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){T.call(this,"fill",!1)},d.prototype.stroke=function(){T.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(D,q){if(isNaN(D)||isNaN(q))throw hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(D,q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(D,q)},d.prototype.closePath=function(){var D=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&rn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){D=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},d.prototype.lineTo=function(D,q){if(isNaN(D)||isNaN(q))throw hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(D,q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},d.prototype.quadraticCurveTo=function(D,q,Z,ne){if(isNaN(Z)||isNaN(ne)||isNaN(D)||isNaN(q))throw hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Z,ne)),me=this.ctx.transform.applyToPoint(new o(D,q));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},d.prototype.bezierCurveTo=function(D,q,Z,ne,ae,me){if(isNaN(ae)||isNaN(me)||isNaN(D)||isNaN(q)||isNaN(Z)||isNaN(ne))throw hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(ae,me)),W=this.ctx.transform.applyToPoint(new o(D,q)),le=this.ctx.transform.applyToPoint(new o(Z,ne));this.path.push({type:"bct",x1:W.x,y1:W.y,x2:le.x,y2:le.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},d.prototype.arc=function(D,q,Z,ne,ae,me){if(isNaN(D)||isNaN(q)||isNaN(Z)||isNaN(ne)||isNaN(ae))throw hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(D,q));D=Ae.x,q=Ae.y;var W=this.ctx.transform.applyToPoint(new o(0,Z)),le=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(W.x-le.x,2)+Math.pow(W.y-le.y,2))}Math.abs(ae-ne)>=2*Math.PI&&(ne=0,ae=2*Math.PI),this.path.push({type:"arc",x:D,y:q,radius:Z,startAngle:ne,endAngle:ae,counterclockwise:me})},d.prototype.arcTo=function(D,q,Z,ne,ae){throw new Error("arcTo not implemented.")},d.prototype.rect=function(D,q,Z,ne){if(isNaN(D)||isNaN(q)||isNaN(Z)||isNaN(ne))throw hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,q),this.lineTo(D+Z,q),this.lineTo(D+Z,q+ne),this.lineTo(D,q+ne),this.lineTo(D,q),this.lineTo(D+Z,q),this.lineTo(D,q)},d.prototype.fillRect=function(D,q,Z,ne){if(isNaN(D)||isNaN(q)||isNaN(Z)||isNaN(ne))throw hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,q,Z,ne),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},d.prototype.strokeRect=function(D,q,Z,ne){if(isNaN(D)||isNaN(q)||isNaN(Z)||isNaN(ne))throw hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(D,q,Z,ne),this.stroke())},d.prototype.clearRect=function(D,q,Z,ne){if(isNaN(D)||isNaN(q)||isNaN(Z)||isNaN(ne))throw hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,q,Z,ne))},d.prototype.save=function(D){D=typeof D!="boolean"||D;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(q),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(D){var q,Z,ne,ae;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))q=0,Z=0,ne=0,ae=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(me!==null)q=parseInt(me[1]),Z=parseInt(me[2]),ne=parseInt(me[3]),ae=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)q=parseInt(me[1]),Z=parseInt(me[2]),ne=parseInt(me[3]),ae=parseFloat(me[4]);else{if(ae=1,typeof D=="string"&&D.charAt(0)!=="#"){var Ae=new _I(D);D=Ae.ok?Ae.toHex():"#000000"}D.length===4?(q=D.substring(1,2),q+=q,Z=D.substring(2,3),Z+=Z,ne=D.substring(3,4),ne+=ne):(q=D.substring(1,3),Z=D.substring(3,5),ne=D.substring(5,7)),q=parseInt(q,16),Z=parseInt(Z,16),ne=parseInt(ne,16)}}return{r:q,g:Z,b:ne,a:ae,style:D}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(D,q,Z,ne){if(isNaN(q)||isNaN(Z)||typeof D!="string")throw hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var ae=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:D,x:q,y:Z,scale:me,angle:ae,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(D,q,Z,ne){if(isNaN(q)||isNaN(Z)||typeof D!="string")throw hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var ae=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;j.call(this,{text:D,x:q,y:Z,scale:me,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(D){if(typeof D!="string")throw hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Z=this.pdf.internal.scaleFactor,ne=q.internal.getFontSize(),ae=q.getStringUnitWidth(D)*ne/q.internal.scaleFactor,me=function(Ae){var W=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return W}}),this};return new me({width:ae*=Math.round(96*Z/72*1e4)/1e4})},d.prototype.scale=function(D,q){if(isNaN(D)||isNaN(q))throw hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(D,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.rotate=function(D){if(isNaN(D))throw hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.translate=function(D,q){if(isNaN(D)||isNaN(q))throw hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,D,q);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.transform=function(D,q,Z,ne,ae,me){if(isNaN(D)||isNaN(q)||isNaN(Z)||isNaN(ne)||isNaN(ae)||isNaN(me))throw hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new l(D,q,Z,ne,ae,me);this.ctx.transform=this.ctx.transform.multiply(Ae)},d.prototype.setTransform=function(D,q,Z,ne,ae,me){D=isNaN(D)?1:D,q=isNaN(q)?0:q,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?1:ne,ae=isNaN(ae)?0:ae,me=isNaN(me)?0:me,this.ctx.transform=new l(D,q,Z,ne,ae,me)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(D,q,Z,ne,ae,me,Ae,W,le){var ce=this.pdf.getImageProperties(D),ue=1,Me=1,De=1,Ne=1;ne!==void 0&&W!==void 0&&(De=W/ne,Ne=le/ae,ue=ce.width/ne*W/ne,Me=ce.height/ae*le/ae),me===void 0&&(me=q,Ae=Z,q=0,Z=0),ne!==void 0&&W===void 0&&(W=ne,le=ae),ne===void 0&&W===void 0&&(W=ce.width,le=ce.height);for(var oe,Ee=this.ctx.transform.decompose(),ke=H(Ee.rotate.shx),xe=new l,Pe=(xe=(xe=(xe=xe.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new s(me-q*De,Ae-Z*Ne,ne*ue,ae*Me)),ye=x.call(this,Pe),_e=[],be=0;be<ye.length;be+=1)_e.indexOf(ye[be])===-1&&_e.push(ye[be]);if(S(_e),this.autoPaging)for(var Ve=_e[0],Ge=_e[_e.length-1],ot=Ve;ot<Ge+1;ot++){this.pdf.setPage(ot);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=ot===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=ot===1?0:et+(ot-2)*pt;if(this.ctx.clip_path.length!==0){var cn=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(oe,this.posX+this.margin[3],-We+ht+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=cn}var jt=JSON.parse(JSON.stringify(Pe));jt=w([jt],this.posX+this.margin[3],-We+ht+this.ctx.prevPageLastElemOffset)[0];var Se=(ot>Ve||ot<Ge)&&b.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,pt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,ke),Se&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,ke)};var x=function(D,q,Z){var ne=[];q=q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ne.push(Math.floor((D.y+ae)/Z)+1);break;case"arc":ne.push(Math.floor((D.y+ae-D.radius)/Z)+1),ne.push(Math.floor((D.y+ae+D.radius)/Z)+1);break;case"qct":var me=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ne.push(Math.floor((me.y+ae)/Z)+1),ne.push(Math.floor((me.y+me.h+ae)/Z)+1);break;case"bct":var Ae=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ne.push(Math.floor((Ae.y+ae)/Z)+1),ne.push(Math.floor((Ae.y+Ae.h+ae)/Z)+1);break;case"rect":ne.push(Math.floor((D.y+ae)/Z)+1),ne.push(Math.floor((D.y+D.h+ae)/Z)+1)}for(var W=0;W<ne.length;W+=1)for(;this.pdf.internal.getNumberOfPages()<ne[W];)y.call(this);return ne},y=function(){var D=this.fillStyle,q=this.strokeStyle,Z=this.font,ne=this.lineCap,ae=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=q,this.font=Z,this.lineCap=ne,this.lineWidth=ae,this.lineJoin=me},w=function(D,q,Z){for(var ne=0;ne<D.length;ne++)switch(D[ne].type){case"bct":D[ne].x2+=q,D[ne].y2+=Z;case"qct":D[ne].x1+=q,D[ne].y1+=Z;case"mt":case"lt":case"arc":default:D[ne].x+=q,D[ne].y+=Z}return D},S=function(D){return D.sort(function(q,Z){return q-Z})},T=function(D,q){for(var Z,ne,ae=this.fillStyle,me=this.strokeStyle,Ae=this.lineCap,W=this.lineWidth,le=Math.abs(W*this.ctx.transform.scaleX),ce=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),De=[],Ne=0;Ne<Me.length;Ne++)if(Me[Ne].x!==void 0)for(var oe=x.call(this,Me[Ne]),Ee=0;Ee<oe.length;Ee+=1)De.indexOf(oe[Ee])===-1&&De.push(oe[Ee]);for(var ke=0;ke<De.length;ke++)for(;this.pdf.internal.getNumberOfPages()<De[ke];)y.call(this);if(S(De),this.autoPaging)for(var xe=De[0],Pe=De[De.length-1],ye=xe;ye<Pe+1;ye++){this.pdf.setPage(ye),this.fillStyle=ae,this.strokeStyle=me,this.lineCap=Ae,this.lineWidth=le,this.lineJoin=ce;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=ye===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=ye===1?0:Ve+(ye-2)*Ge;if(this.ctx.clip_path.length!==0){var ze=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Z,this.posX+this.margin[3],-ot+be+this.ctx.prevPageLastElemOffset),C.call(this,D,!0),this.path=ze}if(ne=JSON.parse(JSON.stringify(ue)),this.path=w(ne,this.posX+this.margin[3],-ot+be+this.ctx.prevPageLastElemOffset),q===!1||ye===0){var ht=(ye>xe||ye<Pe)&&b.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Ge,null).clip().discardPath()),C.call(this,D,q),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=W}else this.lineWidth=le,C.call(this,D,q),this.lineWidth=W;this.path=ue},C=function(D,q){if((D!=="stroke"||q||!v.call(this))&&(D==="stroke"||q||!p.call(this))){for(var Z,ne,ae=[],me=this.path,Ae=0;Ae<me.length;Ae++){var W=me[Ae];switch(W.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:W,deltas:[],abs:[]});break;case"lt":var le=ae.length;if(me[Ae-1]&&!isNaN(me[Ae-1].x)&&(Z=[W.x-me[Ae-1].x,W.y-me[Ae-1].y],le>0)){for(;le>=0;le--)if(ae[le-1].close!==!0&&ae[le-1].begin!==!0){ae[le-1].deltas.push(Z),ae[le-1].abs.push(W);break}}break;case"bct":Z=[W.x1-me[Ae-1].x,W.y1-me[Ae-1].y,W.x2-me[Ae-1].x,W.y2-me[Ae-1].y,W.x-me[Ae-1].x,W.y-me[Ae-1].y],ae[ae.length-1].deltas.push(Z);break;case"qct":var ce=me[Ae-1].x+2/3*(W.x1-me[Ae-1].x),ue=me[Ae-1].y+2/3*(W.y1-me[Ae-1].y),Me=W.x+2/3*(W.x1-W.x),De=W.y+2/3*(W.y1-W.y),Ne=W.x,oe=W.y;Z=[ce-me[Ae-1].x,ue-me[Ae-1].y,Me-me[Ae-1].x,De-me[Ae-1].y,Ne-me[Ae-1].x,oe-me[Ae-1].y],ae[ae.length-1].deltas.push(Z);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(W)}}ne=q?null:D==="stroke"?"stroke":"fill";for(var Ee=!1,ke=0;ke<ae.length;ke++)if(ae[ke].arc)for(var xe=ae[ke].abs,Pe=0;Pe<xe.length;Pe++){var ye=xe[Pe];ye.type==="arc"?M.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,q,!Ee):U.call(this,ye.x,ye.y),Ee=!0}else if(ae[ke].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(ae[ke].begin!==!0){var _e=ae[ke].start.x,be=ae[ke].start.y;F.call(this,ae[ke].deltas,_e,be),Ee=!0}ne&&I.call(this,ne),q&&B.call(this)}},k=function(D){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Z;case"top":return D+q-Z;case"hanging":return D+q-2*Z;case"middle":return D+q/2-Z;case"ideographic":return D;case"alphabetic":default:return D}},E=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(q,Z){this.colorStops.push([q,Z])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(D,q,Z,ne,ae,me,Ae,W,le){for(var ce=R.call(this,Z,ne,ae,me),ue=0;ue<ce.length;ue++){var Me=ce[ue];ue===0&&(le?O.call(this,Me.x1+D,Me.y1+q):U.call(this,Me.x1+D,Me.y1+q)),G.call(this,D,q,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}W?B.call(this):I.call(this,Ae)},I=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(D,q){this.pdf.internal.out(n(D)+" "+r(q)+" m")},j=function(D){var q;switch(D.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var Z=this.pdf.getTextDimensions(D.text),ne=k.call(this,D.y),ae=E.call(this,ne)-Z.h,me=this.ctx.transform.applyToPoint(new o(D.x,ne)),Ae=this.ctx.transform.decompose(),W=new l;W=(W=(W=W.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var le,ce,ue,Me=this.ctx.transform.applyToRectangle(new s(D.x,ne,Z.w,Z.h)),De=W.applyToRectangle(new s(D.x,ae,Z.w,Z.h)),Ne=x.call(this,De),oe=[],Ee=0;Ee<Ne.length;Ee+=1)oe.indexOf(Ne[Ee])===-1&&oe.push(Ne[Ee]);if(S(oe),this.autoPaging)for(var ke=oe[0],xe=oe[oe.length-1],Pe=ke;Pe<xe+1;Pe++){this.pdf.setPage(Pe);var ye=Pe===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ve=be-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],ot=Ge-this.margin[3],ze=Pe===1?0:_e+(Pe-2)*Ve;if(this.ctx.clip_path.length!==0){var ht=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(le,this.posX+this.margin[3],-1*ze+ye),C.call(this,"fill",!0),this.path=ht}var et=w([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-ze+ye+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*D.scale),ue=this.lineWidth,this.lineWidth=ue*D.scale);var pt=this.autoPaging!=="text";if(pt||et.y+et.h<=be){if(pt||et.y>=ye&&et.x<=Ge){var We=pt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Ge-et.x)[0],cn=w([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-ze+ye+this.ctx.prevPageLastElemOffset)[0],jt=pt&&(Pe>ke||Pe<xe)&&b.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ve,null).clip().discardPath()),this.pdf.text(We,cn.x,cn.y,{angle:D.angle,align:q,renderingMode:D.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else et.y<be&&(this.ctx.prevPageLastElemOffset+=be-et.y);D.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)}else D.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*D.scale),ue=this.lineWidth,this.lineWidth=ue*D.scale),this.pdf.text(D.text,me.x+this.posX,me.y+this.posY,{angle:D.angle,align:q,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)},U=function(D,q,Z,ne){Z=Z||0,ne=ne||0,this.pdf.internal.out(n(D+Z)+" "+r(q+ne)+" l")},F=function(D,q,Z){return this.pdf.lines(D,q,Z,null,null)},G=function(D,q,Z,ne,ae,me,Ae,W){this.pdf.internal.out([e(i(Z+D)),e(a(ne+q)),e(i(ae+D)),e(a(me+q)),e(i(Ae+D)),e(a(W+q)),"c"].join(" "))},R=function(D,q,Z,ne){for(var ae=2*Math.PI,me=Math.PI/2;q>Z;)q-=ae;var Ae=Math.abs(Z-q);Ae<ae&&ne&&(Ae=ae-Ae);for(var W=[],le=ne?-1:1,ce=q;Ae>1e-5;){var ue=ce+le*Math.min(Ae,me);W.push($.call(this,D,ce,ue)),Ae-=Math.abs(ue-ce),ce=ue}return W},$=function(D,q,Z){var ne=(Z-q)/2,ae=D*Math.cos(ne),me=D*Math.sin(ne),Ae=ae,W=-me,le=Ae*Ae+W*W,ce=le+Ae*ae+W*me,ue=4/3*(Math.sqrt(2*le*ce)-ce)/(Ae*me-W*ae),Me=Ae-ue*W,De=W+ue*Ae,Ne=Me,oe=-De,Ee=ne+q,ke=Math.cos(Ee),xe=Math.sin(Ee);return{x1:D*Math.cos(q),y1:D*Math.sin(q),x2:Me*ke-De*xe,y2:Me*xe+De*ke,x3:Ne*ke-oe*xe,y3:Ne*xe+oe*ke,x4:D*Math.cos(Z),y4:D*Math.sin(Z)}},H=function(D){return 180*D/Math.PI},Y=function(D,q,Z,ne,ae,me){var Ae=D+.5*(Z-D),W=q+.5*(ne-q),le=ae+.5*(Z-ae),ce=me+.5*(ne-me),ue=Math.min(D,ae,Ae,le),Me=Math.max(D,ae,Ae,le),De=Math.min(q,me,W,ce),Ne=Math.max(q,me,W,ce);return new s(ue,De,Me-ue,Ne-De)},X=function(D,q,Z,ne,ae,me,Ae,W){var le,ce,ue,Me,De,Ne,oe,Ee,ke,xe,Pe,ye,_e,be,Ve=Z-D,Ge=ne-q,ot=ae-Z,ze=me-ne,ht=Ae-ae,et=W-me;for(ce=0;ce<41;ce++)ke=(oe=(ue=D+(le=ce/40)*Ve)+le*((De=Z+le*ot)-ue))+le*(De+le*(ae+le*ht-De)-oe),xe=(Ee=(Me=q+le*Ge)+le*((Ne=ne+le*ze)-Me))+le*(Ne+le*(me+le*et-Ne)-Ee),ce==0?(Pe=ke,ye=xe,_e=ke,be=xe):(Pe=Math.min(Pe,ke),ye=Math.min(ye,xe),_e=Math.max(_e,ke),be=Math.max(be,xe));return new s(Math.round(Pe),Math.round(ye),Math.round(_e-Pe),Math.round(be-ye))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,q,Z=(D=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(ct.API),function(t){var e=function(a){var o,s,l,u,c,d,h,p,v,b;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(d=(c=((c=((c=((c=(c-(b=c%85))/85)-(v=c%85))/85)-(p=c%85))/85)-(h=c%85))/85)%85,s.push(d+33,h+33,p+33,v+33,b+33)):s.push(122);return function(x,y){for(var w=y;w>0;w--)x.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,d=String,h="length",p=255,v="charCodeAt",b="slice",x="replace";for(a[b](-2),a=a[b](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[b](a[h]%5||5))[h];c>u;u+=5)s=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),l.push(p&s>>24,p&s>>16,p&s>>8,p&s);return function(y,w){for(var S=w;S>0;S--)y.pop()}(l,o[h]),d.fromCharCode.apply(d,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=M2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ct.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var d=new XMLHttpRequest,h=0,p=function(v){var b=v.length,x=[],y=String.fromCharCode;for(h=0;h<b;h+=1)x.push(y(255&v.charCodeAt(h)));return x.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(p(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return p(d.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(ct.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):pl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):pl(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=rn(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],v=p.src.find(function(b){return b.format==="truetype"});v&&l.addFont(v.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),s(this.prop.container,d)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,c).then(function(d){return l.updateProgress(1),d})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ct.getPageSize=function(o,s,l){if(rn(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,d=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var p,v=0,b=0;if(h.hasOwnProperty(d))v=h[d][1]/c,b=h[d][0]/c;else try{v=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>v&&(p=b,b=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(p=b,b=v,v=p)}return{width:b,height:v,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(R2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(ct.API),ct.API.addJS=function(t){return HE=t,this.internal.events.subscribe("postPutResources",function(){Hm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+HE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hm!==void 0&&qE!==void 0&&this.internal.out("/Names <</JavaScript "+Hm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var d=n.internal.newObject();c.push(d);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var h,p=256*d.charCodeAt(4)+d.charCodeAt(5),v=d.length,b={width:0,height:0,numcomponents:1},x=4;x<v;x+=2){if(x+=p,e.indexOf(d.charCodeAt(x+1))!==-1){h=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),b={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:h,numcomponents:d.charCodeAt(x+9)};break}p=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ct.API);var Tc,zm,zE,VE,GE,cZ=function(){var t,e,n;function r(a){var o,s,l,u,c,d,h,p,v,b,x,y,w,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),v=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*c/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),a=(d!=null?d.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(w=0;0<=b?w<b:w>b;0<=b?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(x=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(d,h,p,v){var b,x,y,w,S,T,C,k,E,M,I,B,O,j,U,F,G,R,$,H,Y,X=Math.ceil((u.width-d)/p),te=Math.ceil((u.height-h)/v),D=u.width==X&&u.height==te;for(j=o*X,B=D?s:new Uint8Array(j*te),T=a.length,O=0,x=0;O<te&&l<T;){switch(a[l++]){case 0:for(w=G=0;G<j;w=G+=1)B[x++]=a[l++];break;case 1:for(w=R=0;R<j;w=R+=1)b=a[l++],S=w<o?0:B[x-o],B[x++]=(b+S)%256;break;case 2:for(w=$=0;$<j;w=$+=1)b=a[l++],y=(w-w%o)/o,U=O&&B[(O-1)*j+y*o+w%o],B[x++]=(U+b)%256;break;case 3:for(w=H=0;H<j;w=H+=1)b=a[l++],y=(w-w%o)/o,S=w<o?0:B[x-o],U=O&&B[(O-1)*j+y*o+w%o],B[x++]=(b+Math.floor((S+U)/2))%256;break;case 4:for(w=Y=0;Y<j;w=Y+=1)b=a[l++],y=(w-w%o)/o,S=w<o?0:B[x-o],O===0?U=F=0:(U=B[(O-1)*j+y*o+w%o],F=y&&B[(O-1)*j+(y-1)*o+w%o]),C=S+U-F,k=Math.abs(C-S),M=Math.abs(C-U),I=Math.abs(C-F),E=k<=M&&k<=I?S:M<=I?U:F,B[x++]=(b+E)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!D){var q=((h+O*v)*u.width+d)*o,Z=O*j;for(w=0;w<X;w+=1){for(var ne=0;ne<o;ne+=1)s[q++]=B[Z++];q+=(p-1)*o}}O++}}return a=UQ(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,d,h,p;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=d=0,h=s.length;d<h;o=d+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(p=c[a++])!=null?p:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,d,h,p,v,b,x,y;if(l=this.colors,b=null,s=this.hasAlphaChannel,this.palette.length&&(b=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,s=!0),v=(u=a.data||a).length,d=b||o,c=h=0,l===1)for(;c<v;)p=b?4*o[c/4]:h,x=d[p++],u[c++]=x,u[c++]=x,u[c++]=x,u[c++]=s?d[p++]:255,h=p;else for(;c<v;)p=b?4*o[c/4]:h,u[c++]=d[p++],u[c++]=d[p++],u[c++]=d[p++],u[c++]=s?d[p++]:255,h=p},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(vt)==="[object Window]"){try{e=vt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,d,h,p;if(this.animation){for(p=[],s=c=0,d=(h=this.animation.frames).length;c<d;s=++c)o=h[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,d,h=this;return s=0,d=this.animation,u=d.numFrames,l=d.frames,c=d.numPlays,(o=function(){var p,v;if(p=s++%u,v=l[p],h.renderFrame(a,p),u>1&&s/u<c)return h.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dZ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],d=0,h=null,p=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];d=t[e++]|t[e++]<<8,h=t[e++],!(1&b)&&(h=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,k=1<<(7&T)+1,E=s,M=l,I=!1;T>>7&&(I=!0,E=e,M=k,e+=3*k);var B=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x,y,width:w,height:S,has_local_palette:I,palette_offset:E,palette_size:M,data_offset:B,data_length:e-B,transparent_index:h,interlaced:!!C,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(j){if(j<0||j>=c.length)throw new Error("Frame index out of range.");return c[j]},this.decodeAndBlitFrameBGRA=function(j,U){var F=this.frameInfo(j),G=F.width*F.height,R=new Uint8Array(G);WE(t,F.data_offset,R,G);var $=F.palette_offset,H=F.transparent_index;H===null&&(H=256);var Y=F.width,X=n-Y,te=Y,D=4*(F.y*n+F.x),q=4*((F.y+F.height)*n+F.x),Z=D,ne=4*X;F.interlaced===!0&&(ne+=4*n*7);for(var ae=8,me=0,Ae=R.length;me<Ae;++me){var W=R[me];if(te===0&&(te=Y,(Z+=ne)>=q&&(ne=4*X+4*n*(ae-1),Z=D+(Y+X)*(ae<<1),ae>>=1)),W===H)Z+=4;else{var le=t[$+3*W],ce=t[$+3*W+1],ue=t[$+3*W+2];U[Z++]=ue,U[Z++]=ce,U[Z++]=le,U[Z++]=255}--te}},this.decodeAndBlitFrameRGBA=function(j,U){var F=this.frameInfo(j),G=F.width*F.height,R=new Uint8Array(G);WE(t,F.data_offset,R,G);var $=F.palette_offset,H=F.transparent_index;H===null&&(H=256);var Y=F.width,X=n-Y,te=Y,D=4*(F.y*n+F.x),q=4*((F.y+F.height)*n+F.x),Z=D,ne=4*X;F.interlaced===!0&&(ne+=4*n*7);for(var ae=8,me=0,Ae=R.length;me<Ae;++me){var W=R[me];if(te===0&&(te=Y,(Z+=ne)>=q&&(ne=4*X+4*n*(ae-1),Z=D+(Y+X)*(ae<<1),ae>>=1)),W===H)Z+=4;else{var le=t[$+3*W],ce=t[$+3*W+1],ue=t[$+3*W+2];U[Z++]=le,U[Z++]=ce,U[Z++]=ue,U[Z++]=255}--te}}}function WE(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,h=0,p=t[e++],v=new Int32Array(4096),b=null;;){for(;c<16&&p!==0;)d|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var x=d&u;if(d>>=l,c-=l,x!==a){if(x===o)break;for(var y=x<s?x:b,w=0,S=y;S>a;)S=v[S]>>8,++w;var T=S;if(h+w+(y!==x?1:0)>r)return void hn.log("Warning, gif stream longer than expected.");n[h++]=T;var C=h+=w;for(y!==x&&(n[h++]=T),S=y;w--;)S=v[S],n[--C]=255&S,S>>=8;b!==null&&s<4096&&(v[s++]=b<<8|T,s>=u+1&&l<12&&(++l,u=u<<1|1)),b=x}else s=o+1,u=(1<<(l=i+1))-1,b=null}return h!==r&&hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function E1(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),b=[],x=0,y=7,w=new Array(64),S=new Array(64),T=new Array(64),C=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(D,q){for(var Z=0,ne=0,ae=new Array,me=1;me<=16;me++){for(var Ae=1;Ae<=D[me];Ae++)ae[q[ne]]=[],ae[q[ne]][0]=Z,ae[q[ne]][1]=me,ne++,Z++;Z*=2}return ae}function $(D){for(var q=D[0],Z=D[1]-1;Z>=0;)q&1<<Z&&(x|=1<<y),Z--,--y<0&&(x==255?(H(255),H(0)):H(x),y=7,x=0)}function H(D){b.push(D)}function Y(D){H(D>>8&255),H(255&D)}function X(D,q,Z,ne,ae){for(var me,Ae=ae[0],W=ae[240],le=function(xe,Pe){var ye,_e,be,Ve,Ge,ot,ze,ht,et,pt,We=0;for(et=0;et<8;++et){ye=xe[We],_e=xe[We+1],be=xe[We+2],Ve=xe[We+3],Ge=xe[We+4],ot=xe[We+5],ze=xe[We+6];var cn=ye+(ht=xe[We+7]),jt=ye-ht,Se=_e+ze,Ue=_e-ze,rt=be+ot,gt=be-ot,st=Ve+Ge,mn=Ve-Ge,Mt=cn+st,or=cn-st,ii=Se+rt,dn=Se-rt;xe[We]=Mt+ii,xe[We+4]=Mt-ii;var dt=.707106781*(dn+or);xe[We+2]=or+dt,xe[We+6]=or-dt;var Le=.382683433*((Mt=mn+gt)-(dn=Ue+jt)),Ke=.5411961*Mt+Le,Je=1.306562965*dn+Le,At=.707106781*(ii=gt+Ue),Pt=jt+At,lt=jt-At;xe[We+5]=lt+Ke,xe[We+3]=lt-Ke,xe[We+1]=Pt+Je,xe[We+7]=Pt-Je,We+=8}for(We=0,et=0;et<8;++et){ye=xe[We],_e=xe[We+8],be=xe[We+16],Ve=xe[We+24],Ge=xe[We+32],ot=xe[We+40],ze=xe[We+48];var vr=ye+(ht=xe[We+56]),ai=ye-ht,Er=_e+ze,sr=_e-ze,Kn=be+ot,Si=be-ot,Uu=Ve+Ge,yo=Ve-Ge,wa=vr+Uu,Sa=vr-Uu,_a=Er+Kn,Ya=Er-Kn;xe[We]=wa+_a,xe[We+32]=wa-_a;var zi=.707106781*(Ya+Sa);xe[We+16]=Sa+zi,xe[We+48]=Sa-zi;var Ka=.382683433*((wa=yo+Si)-(Ya=sr+ai)),_l=.5411961*wa+Ka,qu=1.306562965*Ya+Ka,Hu=.707106781*(_a=Si+sr),zu=ai+Hu,Vu=ai-Hu;xe[We+40]=Vu+_l,xe[We+24]=Vu-_l,xe[We+8]=zu+qu,xe[We+56]=zu-qu,We++}for(et=0;et<64;++et)pt=xe[et]*Pe[et],p[et]=pt>0?pt+.5|0:pt-.5|0;return p}(D,q),ce=0;ce<64;++ce)v[E[ce]]=le[ce];var ue=v[0]-Z;Z=v[0],ue==0?$(ne[0]):($(ne[h[me=32767+ue]]),$(d[me]));for(var Me=63;Me>0&&v[Me]==0;)Me--;if(Me==0)return $(Ae),Z;for(var De,Ne=1;Ne<=Me;){for(var oe=Ne;v[Ne]==0&&Ne<=Me;)++Ne;var Ee=Ne-oe;if(Ee>=16){De=Ee>>4;for(var ke=1;ke<=De;++ke)$(W);Ee&=15}me=32767+v[Ne],$(ae[(Ee<<4)+h[me]]),$(d[me]),Ne++}return Me!=63&&$(Ae),Z}function te(D){D=Math.min(Math.max(D,1),100),a!=D&&(function(q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ae=o((Z[ne]*q+50)/100);ae=Math.min(Math.max(ae,1),255),s[E[ne]]=ae}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var W=o((me[Ae]*q+50)/100);W=Math.min(Math.max(W,1),255),l[E[Ae]]=W}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ce=0,ue=0;ue<8;ue++)for(var Me=0;Me<8;Me++)u[ce]=1/(s[E[ce]]*le[ue]*le[Me]*8),c[ce]=1/(l[E[ce]]*le[ue]*le[Me]*8),ce++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),a=D)}this.encode=function(D,q){q&&te(q),b=new Array,x=0,y=7,Y(65496),Y(65504),Y(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),Y(1),Y(1),H(0),H(0),function(){Y(65499),Y(132),H(0);for(var _e=0;_e<64;_e++)H(s[_e]);H(1);for(var be=0;be<64;be++)H(l[be])}(),function(_e,be){Y(65472),Y(17),H(8),Y(be),Y(_e),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(D.width,D.height),function(){Y(65476),Y(418),H(0);for(var _e=0;_e<16;_e++)H(M[_e+1]);for(var be=0;be<=11;be++)H(I[be]);H(16);for(var Ve=0;Ve<16;Ve++)H(B[Ve+1]);for(var Ge=0;Ge<=161;Ge++)H(O[Ge]);H(1);for(var ot=0;ot<16;ot++)H(j[ot+1]);for(var ze=0;ze<=11;ze++)H(U[ze]);H(17);for(var ht=0;ht<16;ht++)H(F[ht+1]);for(var et=0;et<=161;et++)H(G[et])}(),Y(65498),Y(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var Z=0,ne=0,ae=0;x=0,y=7,this.encode.displayName="_encode_";for(var me,Ae,W,le,ce,ue,Me,De,Ne,oe=D.data,Ee=D.width,ke=D.height,xe=4*Ee,Pe=0;Pe<ke;){for(me=0;me<xe;){for(ce=xe*Pe+me,Me=-1,De=0,Ne=0;Ne<64;Ne++)ue=ce+(De=Ne>>3)*xe+(Me=4*(7&Ne)),Pe+De>=ke&&(ue-=xe*(Pe+1+De-ke)),me+Me>=xe&&(ue-=me+Me-xe+4),Ae=oe[ue++],W=oe[ue++],le=oe[ue++],w[Ne]=(k[Ae]+k[W+256>>0]+k[le+512>>0]>>16)-128,S[Ne]=(k[Ae+768>>0]+k[W+1024>>0]+k[le+1280>>0]>>16)-128,T[Ne]=(k[Ae+1280>>0]+k[W+1536>>0]+k[le+1792>>0]>>16)-128;Z=X(w,u,Z,e,r),ne=X(S,c,ne,n,i),ae=X(T,c,ae,n,i),me+=32}Pe+=8}if(y>=0){var ye=[];ye[1]=y+1,ye[0]=(1<<y+1)-1,$(ye)}return Y(65497),new Uint8Array(b)},t=t||50,function(){for(var D=String.fromCharCode,q=0;q<256;q++)C[q]=D(q)}(),e=R(M,I),n=R(j,U),r=R(B,O),i=R(F,G),function(){for(var D=1,q=2,Z=1;Z<=15;Z++){for(var ne=D;ne<q;ne++)h[32767+ne]=Z,d[32767+ne]=[],d[32767+ne][1]=Z,d[32767+ne][0]=ne;for(var ae=-(q-1);ae<=-D;ae++)h[32767+ae]=Z,d[32767+ae]=[],d[32767+ae][1]=Z,d[32767+ae][0]=q-1+ae;D<<=1,q<<=1}}(),function(){for(var D=0;D<256;D++)k[D]=19595*D,k[D+256>>0]=38470*D,k[D+512>>0]=7471*D+32768,k[D+768>>0]=-11059*D,k[D+1024>>0]=-21709*D,k[D+1280>>0]=32768*D+8421375,k[D+1536>>0]=-27439*D,k[D+1792>>0]=-5329*D}(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Oa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YE(t){function e(M){if(!M)throw Error("assert :P")}function n(M,I,B){for(var O=0;4>O;O++)if(M[I+O]!=B.charCodeAt(O))return!0;return!1}function r(M,I,B,O,j){for(var U=0;U<j;U++)M[I+U]=B[O+U]}function i(M,I,B,O){for(var j=0;j<O;j++)M[I+j]=B}function a(M){return new Int32Array(M)}function o(M,I){for(var B=[],O=0;O<M;O++)B.push(new I);return B}function s(M,I){var B=[];return function O(j,U,F){for(var G=F[U],R=0;R<G&&(j.push(F.length>U+1?[]:new I),!(F.length<U+1));R++)O(j[R],U+1,F)}(B,0,M),B}var l=function(){var M=this;function I(g,_){for(var P=1<<_-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function B(g,_,P,L,z){e(!(L%P));do g[_+(L-=P)]=z;while(0<L)}function O(g,_,P,L,z){if(e(2328>=z),512>=z)var K=a(512);else if((K=a(z))==null)return 0;return function(J,Q,ee,ie,he,Te){var Ce,ve,$e=Q,Oe=1<<ee,pe=a(16),ge=a(16);for(e(he!=0),e(ie!=null),e(J!=null),e(0<ee),ve=0;ve<he;++ve){if(15<ie[ve])return 0;++pe[ie[ve]]}if(pe[0]==he)return 0;for(ge[1]=0,Ce=1;15>Ce;++Ce){if(pe[Ce]>1<<Ce)return 0;ge[Ce+1]=ge[Ce]+pe[Ce]}for(ve=0;ve<he;++ve)Ce=ie[ve],0<ie[ve]&&(Te[ge[Ce]++]=ve);if(ge[15]==1)return(ie=new j).g=0,ie.value=Te[0],B(J,$e,1,Oe,ie),Oe;var Re,qe=-1,Be=Oe-1,tt=0,Xe=1,ft=1,Qe=1<<ee;for(ve=0,Ce=1,he=2;Ce<=ee;++Ce,he<<=1){if(Xe+=ft<<=1,0>(ft-=pe[Ce]))return 0;for(;0<pe[Ce];--pe[Ce])(ie=new j).g=Ce,ie.value=Te[ve++],B(J,$e+tt,he,Qe,ie),tt=I(tt,Ce)}for(Ce=ee+1,he=2;15>=Ce;++Ce,he<<=1){if(Xe+=ft<<=1,0>(ft-=pe[Ce]))return 0;for(;0<pe[Ce];--pe[Ce]){if(ie=new j,(tt&Be)!=qe){for($e+=Qe,Re=1<<(qe=Ce)-ee;15>qe&&!(0>=(Re-=pe[qe]));)++qe,Re<<=1;Oe+=Qe=1<<(Re=qe-ee),J[Q+(qe=tt&Be)].g=Re+ee,J[Q+qe].value=$e-Q-qe}ie.g=Ce-ee,ie.value=Te[ve++],B(J,$e+(tt>>ee),he,Qe,ie),tt=I(tt,Ce)}}return Xe!=2*ge[15]-1?0:Oe}(g,_,P,L,z,K)}function j(){this.value=this.g=0}function U(){this.value=this.g=0}function F(){this.G=o(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(kr,U)}function G(g,_,P,L){e(g!=null),e(_!=null),e(2147483648>L),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=P,g.Jd=_,g.Yc=P+L,g.Zc=4<=L?P+L-4+1:P,me(g)}function R(g,_){for(var P=0;0<_--;)P|=W(g,128)<<_;return P}function $(g,_){var P=R(g,_);return Ae(g)?-P:P}function H(g,_,P,L){var z,K=0;for(e(g!=null),e(_!=null),e(4294967288>L),g.Sb=L,g.Ra=0,g.u=0,g.h=0,4<L&&(L=4),z=0;z<L;++z)K+=_[P+z]<<8*z;g.Ra=K,g.bb=L,g.oa=_,g.pa=P}function Y(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<oc-8>>>0,++g.bb,g.u-=8;Z(g)&&(g.h=1,g.u=0)}function X(g,_){if(e(0<=_),!g.h&&_<=ac){var P=q(g)&ic[_];return g.u+=_,Y(g),P}return g.h=1,g.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(g){return g.Ra>>>(g.u&oc-1)>>>0}function Z(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>oc}function ne(g,_){g.u=_,g.h=Z(g)}function ae(g){g.u>=Vf&&(e(g.u>=Vf),Y(g))}function me(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Ae(g){return R(g,1)}function W(g,_){var P=g.Ca;0>g.b&&me(g);var L=g.b,z=P*_>>>8,K=(g.I>>>L>z)+0;for(K?(P-=z,g.I-=z+1<<L>>>0):P=z+1,L=P,z=0;256<=L;)z+=8,L>>=8;return L=7^z+si[L],g.b-=L,g.Ca=(P<<L)-1,K}function le(g,_,P){g[_+0]=P>>24&255,g[_+1]=P>>16&255,g[_+2]=P>>8&255,g[_+3]=P>>0&255}function ce(g,_){return g[_+0]<<0|g[_+1]<<8}function ue(g,_){return ce(g,_)|g[_+2]<<16}function Me(g,_){return ce(g,_)|ce(g,_+2)<<16}function De(g,_){var P=1<<_;return e(g!=null),e(0<_),g.X=a(P),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Ne(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function Ee(g,_,P,L){e(P!=null),e(L!=null);var z=P[0],K=L[0];return z==0&&(z=(g*K+_/2)/_),K==0&&(K=(_*z+g/2)/g),0>=z||0>=K?0:(P[0]=z,L[0]=K,1)}function ke(g,_){return g+(1<<_)-1>>>_}function xe(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Pe(g,_){M[_]=function(P,L,z,K,J,Q,ee){var ie;for(ie=0;ie<J;++ie){var he=M[g](Q[ee+ie-1],z,K+ie);Q[ee+ie]=xe(P[L+ie],he)}}}function ye(){this.ud=this.hd=this.jd=0}function _e(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function be(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ve(g,_){return be(g+(g-_+.5>>1))}function Ge(g,_,P){return Math.abs(_-P)-Math.abs(g-P)}function ot(g,_,P,L,z,K,J){for(L=K[J-1],P=0;P<z;++P)K[J+P]=L=xe(g[_+P],L)}function ze(g,_,P,L,z){var K;for(K=0;K<P;++K){var J=g[_+K],Q=J>>8&255,ee=16711935&(ee=(ee=16711935&J)+((Q<<16)+Q));L[z+K]=(4278255360&J)+ee>>>0}}function ht(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function et(g,_,P,L,z,K){var J;for(J=0;J<L;++J){var Q=_[P+J],ee=Q>>>8,ie=Q,he=255&(he=(he=Q>>>16)+((g.jd<<24>>24)*(ee<<24>>24)>>>5));ie=255&(ie=(ie=ie+((g.hd<<24>>24)*(ee<<24>>24)>>>5))+((g.ud<<24>>24)*(he<<24>>24)>>>5)),z[K+J]=(4278255360&Q)+(he<<16)+ie}}function pt(g,_,P,L,z){M[_]=function(K,J,Q,ee,ie,he,Te,Ce,ve){for(ee=Te;ee<Ce;++ee)for(Te=0;Te<ve;++Te)ie[he++]=z(Q[L(K[J++])])},M[g]=function(K,J,Q,ee,ie,he,Te){var Ce=8>>K.b,ve=K.Ea,$e=K.K[0],Oe=K.w;if(8>Ce)for(K=(1<<K.b)-1,Oe=(1<<Ce)-1;J<Q;++J){var pe,ge=0;for(pe=0;pe<ve;++pe)pe&K||(ge=L(ee[ie++])),he[Te++]=z($e[ge&Oe]),ge>>=Ce}else M["VP8LMapColor"+P](ee,ie,$e,Oe,he,Te,J,Q,ve)}}function We(g,_,P,L,z){for(P=_+P;_<P;){var K=g[_++];L[z++]=K>>16&255,L[z++]=K>>8&255,L[z++]=K>>0&255}}function cn(g,_,P,L,z){for(P=_+P;_<P;){var K=g[_++];L[z++]=K>>16&255,L[z++]=K>>8&255,L[z++]=K>>0&255,L[z++]=K>>24&255}}function jt(g,_,P,L,z){for(P=_+P;_<P;){var K=(J=g[_++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;L[z++]=K,L[z++]=J}}function Se(g,_,P,L,z){for(P=_+P;_<P;){var K=(J=g[_++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;L[z++]=K,L[z++]=J}}function Ue(g,_,P,L,z){for(P=_+P;_<P;){var K=g[_++];L[z++]=K>>0&255,L[z++]=K>>8&255,L[z++]=K>>16&255}}function rt(g,_,P,L,z,K){if(K==0)for(P=_+P;_<P;)le(L,((K=g[_++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),z+=32;else r(L,z,g,_,P)}function gt(g,_){M[_][0]=M[g+"0"],M[_][1]=M[g+"1"],M[_][2]=M[g+"2"],M[_][3]=M[g+"3"],M[_][4]=M[g+"4"],M[_][5]=M[g+"5"],M[_][6]=M[g+"6"],M[_][7]=M[g+"7"],M[_][8]=M[g+"8"],M[_][9]=M[g+"9"],M[_][10]=M[g+"10"],M[_][11]=M[g+"11"],M[_][12]=M[g+"12"],M[_][13]=M[g+"13"],M[_][14]=M[g+"0"],M[_][15]=M[g+"0"]}function st(g){return g==db||g==fb||g==am||g==hb}function mn(){this.eb=[],this.size=this.A=this.fb=0}function Mt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function or(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mn,this.f.kb=new Mt,this.sd=null}function ii(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Le(g,_){var P=g.T,L=_.ba.f.RGBA,z=L.eb,K=L.fb+g.ka*L.A,J=Ji[_.ba.S],Q=g.y,ee=g.O,ie=g.f,he=g.N,Te=g.ea,Ce=g.W,ve=_.cc,$e=_.dc,Oe=_.Mc,pe=_.Nc,ge=g.ka,Re=g.ka+g.T,qe=g.U,Be=qe+1>>1;for(ge==0?J(Q,ee,null,null,ie,he,Te,Ce,ie,he,Te,Ce,z,K,null,null,qe):(J(_.ec,_.fc,Q,ee,ve,$e,Oe,pe,ie,he,Te,Ce,z,K-L.A,z,K,qe),++P);ge+2<Re;ge+=2)ve=ie,$e=he,Oe=Te,pe=Ce,he+=g.Rc,Ce+=g.Rc,K+=2*L.A,J(Q,(ee+=2*g.fa)-g.fa,Q,ee,ve,$e,Oe,pe,ie,he,Te,Ce,z,K-L.A,z,K,qe);return ee+=g.fa,g.j+Re<g.o?(r(_.ec,_.fc,Q,ee,qe),r(_.cc,_.dc,ie,he,Be),r(_.Mc,_.Nc,Te,Ce,Be),P--):1&Re||J(Q,ee,null,null,ie,he,Te,Ce,ie,he,Te,Ce,z,K+L.A,null,null,qe),P}function Ke(g,_,P){var L=g.F,z=[g.J];if(L!=null){var K=g.U,J=_.ba.S,Q=J==im||J==am;_=_.ba.f.RGBA;var ee=[0],ie=g.ka;ee[0]=g.T,g.Kb&&(ie==0?--ee[0]:(--ie,z[0]-=g.width),g.j+g.ka+g.T==g.o&&(ee[0]=g.o-g.j-ie));var he=_.eb;ie=_.fb+ie*_.A,g=vn(L,z[0],g.width,K,ee,he,ie+(Q?0:3),_.A),e(P==ee),g&&st(J)&&Yi(he,ie,Q,K,ee,_.A)}return 0}function Je(g){var _=g.ma,P=_.ba.S,L=11>P,z=P==nm||P==rm||P==im||P==cb||P==12||st(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Hf(_.Oa,g,z?11:12))return 0;if(z&&st(P)&&He(),g.da)alert("todo:use_scaling");else{if(L){if(_.Ib=dt,g.Kb){if(P=g.U+1>>1,_.memory=a(g.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=Le,He()}}else alert("todo:EmitYUV");z&&(_.Jb=Ke,L&&we())}if(L&&!W_){for(g=0;256>g;++g)q8[g]=89858*(g-128)+sm>>om,V8[g]=-22014*(g-128)+sm,z8[g]=-45773*(g-128),H8[g]=113618*(g-128)+sm>>om;for(g=Qf;g<mb;++g)_=76283*(g-16)+sm>>om,G8[g-Qf]=_i(_,255),W8[g-Qf]=_i(_+8>>4,15);W_=1}return 1}function At(g){var _=g.ma,P=g.U,L=g.T;return e(!(1&g.ka)),0>=P||0>=L?0:(P=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,P),_.Dc+=P,1)}function Pt(g){g.ma.memory=null}function lt(g,_,P,L){return X(g,8)!=47?0:(_[0]=X(g,14)+1,P[0]=X(g,14)+1,L[0]=X(g,1),X(g,3)!=0?0:!g.h)}function vr(g,_){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+X(_,P)+1}function ai(g,_){return 120<_?_-120:1<=(P=((P=E8[_-1])>>4)*g+(8-(15&P)))?P:1;var P}function Er(g,_,P){var L=q(P),z=g[_+=255&L].g-8;return 0<z&&(ne(P,P.u+8),L=q(P),_+=g[_].value,_+=L&(1<<z)-1),ne(P,P.u+g[_].g),g[_].value}function sr(g,_,P){return P.g+=g.g,P.value+=g.value<<_>>>0,e(8>=P.g),g.g}function Kn(g,_,P){var L=g.xc;return e((_=L==0?0:g.vc[g.md*(P>>L)+(_>>L)])<g.Wb),g.Ya[_]}function Si(g,_,P,L){var z=g.ab,K=g.c*_,J=g.C;_=J+_;var Q=P,ee=L;for(L=g.Ta,P=g.Ua;0<z--;){var ie=g.gc[z],he=J,Te=_,Ce=Q,ve=ee,$e=(ee=L,Q=P,ie.Ea);switch(e(he<Te),e(Te<=ie.nc),ie.hc){case 2:KA(Ce,ve,(Te-he)*$e,ee,Q);break;case 0:var Oe=he,pe=Te,ge=ee,Re=Q,qe=(Qe=ie).Ea;Oe==0&&(lb(Ce,ve,null,null,1,ge,Re),ot(Ce,ve+1,0,0,qe-1,ge,Re+1),ve+=qe,Re+=qe,++Oe);for(var Be=1<<Qe.b,tt=Be-1,Xe=ke(qe,Qe.b),ft=Qe.K,Qe=Qe.w+(Oe>>Qe.b)*Xe;Oe<pe;){var Gt=ft,Qt=Qe,qt=1;for(Gf(Ce,ve,ge,Re-qe,1,ge,Re);qt<qe;){var Ft=(qt&~tt)+Be;Ft>qe&&(Ft=qe),(0,ms[Gt[Qt++]>>8&15])(Ce,ve+ +qt,ge,Re+qt-qe,Ft-qt,ge,Re+qt),qt=Ft}ve+=qe,Re+=qe,++Oe&tt||(Qe+=Xe)}Te!=ie.nc&&r(ee,Q-$e,ee,Q+(Te-he-1)*$e,$e);break;case 1:for($e=Ce,pe=ve,qe=(Ce=ie.Ea)-(Re=Ce&~(ge=(ve=1<<ie.b)-1)),Oe=ke(Ce,ie.b),Be=ie.K,ie=ie.w+(he>>ie.b)*Oe;he<Te;){for(tt=Be,Xe=ie,ft=new ye,Qe=pe+Re,Gt=pe+Ce;pe<Qe;)ht(tt[Xe++],ft),kl(ft,$e,pe,ve,ee,Q),pe+=ve,Q+=ve;pe<Gt&&(ht(tt[Xe++],ft),kl(ft,$e,pe,qe,ee,Q),pe+=qe,Q+=qe),++he&ge||(ie+=Oe)}break;case 3:if(Ce==ee&&ve==Q&&0<ie.b){for(pe=ee,Ce=$e=Q+(Te-he)*$e-(Re=(Te-he)*ke(ie.Ea,ie.b)),ve=ee,ge=Q,Oe=[],Re=(qe=Re)-1;0<=Re;--Re)Oe[Re]=ve[ge+Re];for(Re=qe-1;0<=Re;--Re)pe[Ce+Re]=Oe[Re];Vi(ie,he,Te,ee,$e,ee,Q)}else Vi(ie,he,Te,Ce,ve,ee,Q)}Q=L,ee=P}ee!=P&&r(L,P,Q,ee,K)}function Uu(g,_){var P=g.V,L=g.Ba+g.c*g.C,z=_-g.C;if(e(_<=g.l.o),e(16>=z),0<z){var K=g.l,J=g.Ta,Q=g.Ua,ee=K.width;if(Si(g,z,P,L),z=Q=[Q],e((P=g.C)<(L=_)),e(K.v<K.va),L>K.o&&(L=K.o),P<K.j){var ie=K.j-P;P=K.j,z[0]+=ie*ee}if(P>=L?P=0:(z[0]+=4*K.v,K.ka=P-K.j,K.U=K.va-K.v,K.T=L-P,P=1),P){if(Q=Q[0],11>(P=g.ca).S){var he=P.f.RGBA,Te=(L=P.S,z=K.U,K=K.T,ie=he.eb,he.A),Ce=K;for(he=he.fb+g.Ma*he.A;0<Ce--;){var ve=J,$e=Q,Oe=z,pe=ie,ge=he;switch(L){case tm:li(ve,$e,Oe,pe,ge);break;case nm:Yr(ve,$e,Oe,pe,ge);break;case db:Yr(ve,$e,Oe,pe,ge),Yi(pe,ge,0,Oe,1,0);break;case F_:So(ve,$e,Oe,pe,ge);break;case rm:rt(ve,$e,Oe,pe,ge,1);break;case fb:rt(ve,$e,Oe,pe,ge,1),Yi(pe,ge,0,Oe,1,0);break;case im:rt(ve,$e,Oe,pe,ge,0);break;case am:rt(ve,$e,Oe,pe,ge,0),Yi(pe,ge,1,Oe,1,0);break;case cb:gs(ve,$e,Oe,pe,ge);break;case hb:gs(ve,$e,Oe,pe,ge),gn(pe,ge,Oe,1,0);break;case B_:wo(ve,$e,Oe,pe,ge);break;default:e(0)}Q+=ee,he+=Te}g.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=_,e(g.C<=g.i)}function yo(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var P=g.Ya[_].G,L=g.Ya[_].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function wa(g,_,P,L,z,K){if(g.Z!=0){var J=g.qd,Q=g.rd;for(e(xs[g.Z]!=null);_<P;++_)xs[g.Z](J,Q,L,z,L,z,K),J=L,Q=z,z+=K;g.qd=J,g.rd=Q}}function Sa(g,_){var P=g.l.ma,L=P.Z==0||P.Z==1?g.l.j:g.C;if(L=g.C<L?L:g.C,e(_<=g.l.o),_>L){var z=g.l.width,K=P.ca,J=P.tb+z*L,Q=g.V,ee=g.Ba+g.c*L,ie=g.gc;e(g.ab==1),e(ie[0].hc==3),JA(ie[0],L,_,Q,ee,K,J),wa(P,L,_,K,J,z)}g.C=g.Ma=_}function _a(g,_,P,L,z,K,J){var Q=g.$/L,ee=g.$%L,ie=g.m,he=g.s,Te=P+g.$,Ce=Te;z=P+L*z;var ve=P+L*K,$e=280+he.ua,Oe=g.Pb?Q:16777216,pe=0<he.ua?he.Wa:null,ge=he.wc,Re=Te<ve?Kn(he,ee,Q):null;e(g.C<K),e(ve<=z);var qe=!1;e:for(;;){for(;qe||Te<ve;){var Be=0;if(Q>=Oe){var tt=Te-P;e((Oe=g).Pb),Oe.wd=Oe.m,Oe.xd=tt,0<Oe.s.ua&&Ne(Oe.s.Wa,Oe.s.vb),Oe=Q+P8}if(ee&ge||(Re=Kn(he,ee,Q)),e(Re!=null),Re.Qb&&(_[Te]=Re.qb,qe=!0),!qe)if(ae(ie),Re.jc){Be=ie,tt=_;var Xe=Te,ft=Re.pd[q(Be)&kr-1];e(Re.jc),256>ft.g?(ne(Be,Be.u+ft.g),tt[Xe]=ft.value,Be=0):(ne(Be,Be.u+ft.g-256),e(256<=ft.value),Be=ft.value),Be==0&&(qe=!0)}else Be=Er(Re.G[0],Re.H[0],ie);if(ie.h)break;if(qe||256>Be){if(!qe)if(Re.nd)_[Te]=(Re.qb|Be<<8)>>>0;else{if(ae(ie),qe=Er(Re.G[1],Re.H[1],ie),ae(ie),tt=Er(Re.G[2],Re.H[2],ie),Xe=Er(Re.G[3],Re.H[3],ie),ie.h)break;_[Te]=(Xe<<24|qe<<16|Be<<8|tt)>>>0}if(qe=!1,++Te,++ee>=L&&(ee=0,++Q,J!=null&&Q<=K&&!(Q%16)&&J(g,Q),pe!=null))for(;Ce<Te;)Be=_[Ce++],pe.X[(506832829*Be&4294967295)>>>pe.Mb]=Be}else if(280>Be){if(Be=vr(Be-256,ie),tt=Er(Re.G[4],Re.H[4],ie),ae(ie),tt=ai(L,tt=vr(tt,ie)),ie.h)break;if(Te-P<tt||z-Te<Be)break e;for(Xe=0;Xe<Be;++Xe)_[Te+Xe]=_[Te+Xe-tt];for(Te+=Be,ee+=Be;ee>=L;)ee-=L,++Q,J!=null&&Q<=K&&!(Q%16)&&J(g,Q);if(e(Te<=z),ee&ge&&(Re=Kn(he,ee,Q)),pe!=null)for(;Ce<Te;)Be=_[Ce++],pe.X[(506832829*Be&4294967295)>>>pe.Mb]=Be}else{if(!(Be<$e))break e;for(qe=Be-280,e(pe!=null);Ce<Te;)Be=_[Ce++],pe.X[(506832829*Be&4294967295)>>>pe.Mb]=Be;Be=Te,e(!(qe>>>(tt=pe).Xa)),_[Be]=tt.X[qe],qe=!0}qe||e(ie.h==Z(ie))}if(g.Pb&&ie.h&&Te<z)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ne(g.s.vb,g.s.Wa);else{if(ie.h)break e;J!=null&&J(g,Q>K?K:Q),g.a=0,g.$=Te-P}return 1}return g.a=3,0}function Ya(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function zi(){var g=new sb;return g==null?null:(g.a=0,g.xb=q_,gt("Predictor","VP8LPredictors"),gt("Predictor","VP8LPredictors_C"),gt("PredictorAdd","VP8LPredictorsAdd"),gt("PredictorAdd","VP8LPredictorsAdd_C"),KA=ze,kl=et,li=We,Yr=cn,gs=jt,wo=Se,So=Ue,M.VP8LMapColor32b=sc,M.VP8LMapColor8b=XA,g)}function Ka(g,_,P,L,z){var K=1,J=[g],Q=[_],ee=L.m,ie=L.s,he=null,Te=0;e:for(;;){if(P)for(;K&&X(ee,1);){var Ce=J,ve=Q,$e=L,Oe=1,pe=$e.m,ge=$e.gc[$e.ab],Re=X(pe,2);if($e.Oc&1<<Re)K=0;else{switch($e.Oc|=1<<Re,ge.hc=Re,ge.Ea=Ce[0],ge.nc=ve[0],ge.K=[null],++$e.ab,e(4>=$e.ab),Re){case 0:case 1:ge.b=X(pe,3)+2,Oe=Ka(ke(ge.Ea,ge.b),ke(ge.nc,ge.b),0,$e,ge.K),ge.K=ge.K[0];break;case 3:var qe,Be=X(pe,8)+1,tt=16<Be?0:4<Be?1:2<Be?2:3;if(Ce[0]=ke(ge.Ea,tt),ge.b=tt,qe=Oe=Ka(Be,1,0,$e,ge.K)){var Xe,ft=Be,Qe=ge,Gt=1<<(8>>Qe.b),Qt=a(Gt);if(Qt==null)qe=0;else{var qt=Qe.K[0],Ft=Qe.w;for(Qt[0]=Qe.K[0][0],Xe=1;Xe<1*ft;++Xe)Qt[Xe]=xe(qt[Ft+Xe],Qt[Xe-1]);for(;Xe<4*Gt;++Xe)Qt[Xe]=0;Qe.K[0]=null,Qe.K[0]=Qt,qe=1}}Oe=qe;break;case 2:break;default:e(0)}K=Oe}}if(J=J[0],Q=Q[0],K&&X(ee,1)&&!(K=1<=(Te=X(ee,4))&&11>=Te)){L.a=3;break e}var fn;if(fn=K)t:{var on,Et,Xn,ui=L,Qn=J,ci=Q,Zt=Te,Ci=P,Ni=ui.m,br=ui.s,Pr=[null],Jr=1,Xi=0,Za=k8[Zt];n:for(;;){if(Ci&&X(Ni,1)){var xr=X(Ni,3)+2,No=ke(Qn,xr),Il=ke(ci,xr),fc=No*Il;if(!Ka(No,Il,0,ui,Pr))break n;for(Pr=Pr[0],br.xc=xr,on=0;on<fc;++on){var ws=Pr[on]>>8&65535;Pr[on]=ws,ws>=Jr&&(Jr=ws+1)}}if(Ni.h)break n;for(Et=0;5>Et;++Et){var Ln=$_[Et];!Et&&0<Zt&&(Ln+=1<<Zt),Xi<Ln&&(Xi=Ln)}var gb=o(Jr*Za,j),J_=Jr,X_=o(J_,F);if(X_==null)var um=null;else e(65536>=J_),um=X_;var Zf=a(Xi);if(um==null||Zf==null||gb==null){ui.a=1;break n}var cm=gb;for(on=Xn=0;on<Jr;++on){var ka=um[on],hc=ka.G,pc=ka.H,Q_=0,dm=1,Z_=0;for(Et=0;5>Et;++Et){Ln=$_[Et],hc[Et]=cm,pc[Et]=Xn,!Et&&0<Zt&&(Ln+=1<<Zt);i:{var fm,vb=Ln,hm=ui,eh=Zf,J8=cm,X8=Xn,yb=0,Ss=hm.m,Q8=X(Ss,1);if(i(eh,0,0,vb),Q8){var Z8=X(Ss,1)+1,e7=X(Ss,1),eT=X(Ss,e7==0?1:8);eh[eT]=1,Z8==2&&(eh[eT=X(Ss,8)]=1);var pm=1}else{var tT=a(19),nT=X(Ss,4)+4;if(19<nT){hm.a=3;var Am=0;break i}for(fm=0;fm<nT;++fm)tT[N8[fm]]=X(Ss,3);var bb=void 0,th=void 0,rT=hm,t7=tT,mm=vb,iT=eh,xb=0,_s=rT.m,aT=8,oT=o(128,j);r:for(;O(oT,0,7,t7,19);){if(X(_s,1)){var n7=2+2*X(_s,3);if((bb=2+X(_s,n7))>mm)break r}else bb=mm;for(th=0;th<mm&&bb--;){ae(_s);var sT=oT[0+(127&q(_s))];ne(_s,_s.u+sT.g);var Ac=sT.value;if(16>Ac)iT[th++]=Ac,Ac!=0&&(aT=Ac);else{var r7=Ac==16,lT=Ac-16,i7=T8[lT],uT=X(_s,_8[lT])+i7;if(th+uT>mm)break r;for(var a7=r7?aT:0;0<uT--;)iT[th++]=a7}}xb=1;break r}xb||(rT.a=3),pm=xb}(pm=pm&&!Ss.h)&&(yb=O(J8,X8,8,eh,vb)),pm&&yb!=0?Am=yb:(hm.a=3,Am=0)}if(Am==0)break n;if(dm&&C8[Et]==1&&(dm=cm[Xn].g==0),Q_+=cm[Xn].g,Xn+=Am,3>=Et){var nh,wb=Zf[0];for(nh=1;nh<Ln;++nh)Zf[nh]>wb&&(wb=Zf[nh]);Z_+=wb}}if(ka.nd=dm,ka.Qb=0,dm&&(ka.qb=(hc[3][pc[3]+0].value<<24|hc[1][pc[1]+0].value<<16|hc[2][pc[2]+0].value)>>>0,Q_==0&&256>hc[0][pc[0]+0].value&&(ka.Qb=1,ka.qb+=hc[0][pc[0]+0].value<<8)),ka.jc=!ka.Qb&&6>Z_,ka.jc){var gm,Eo=ka;for(gm=0;gm<kr;++gm){var Ts=gm,Cs=Eo.pd[Ts],vm=Eo.G[0][Eo.H[0]+Ts];256<=vm.value?(Cs.g=vm.g+256,Cs.value=vm.value):(Cs.g=0,Cs.value=0,Ts>>=sr(vm,8,Cs),Ts>>=sr(Eo.G[1][Eo.H[1]+Ts],16,Cs),Ts>>=sr(Eo.G[2][Eo.H[2]+Ts],0,Cs),sr(Eo.G[3][Eo.H[3]+Ts],24,Cs))}}}br.vc=Pr,br.Wb=Jr,br.Ya=um,br.yc=gb,fn=1;break t}fn=0}if(!(K=fn)){L.a=3;break e}if(0<Te){if(ie.ua=1<<Te,!De(ie.Wa,Te)){L.a=1,K=0;break e}}else ie.ua=0;var Sb=L,cT=J,o7=Q,_b=Sb.s,Tb=_b.xc;if(Sb.c=cT,Sb.i=o7,_b.md=ke(cT,Tb),_b.wc=Tb==0?-1:(1<<Tb)-1,P){L.xb=R8;break e}if((he=a(J*Q))==null){L.a=1,K=0;break e}K=(K=_a(L,he,0,J,Q,Q,null))&&!ee.h;break e}return K?(z!=null?z[0]=he:(e(he==null),e(P)),L.$=0,P||Ya(ie)):Ya(ie),K}function _l(g,_){var P=g.c*g.i,L=P+_+16*_;return e(g.c<=_),g.V=a(L),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+_,1)}function qu(g,_){var P=g.C,L=_-P,z=g.V,K=g.Ba+g.c*P;for(e(_<=g.l.o);0<L;){var J=16<L?16:L,Q=g.l.ma,ee=g.l.width,ie=ee*J,he=Q.ca,Te=Q.tb+ee*P,Ce=g.Ta,ve=g.Ua;Si(g,J,z,K),Hn(Ce,ve,he,Te,ie),wa(Q,P,P+J,he,Te,ee),L-=J,z+=J*g.c,P+=J}e(P==_),g.C=g.Ma=_}function Hu(){this.ub=this.yd=this.td=this.Rb=0}function zu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function kA(){this.Yb=function(){var g=[];return function _(P,L,z){for(var K=z[L],J=0;J<K&&(P.push(z.length>L+1?[]:0),!(z.length<L+1));J++)_(P[J],L+1,z)}(g,0,[3,11]),g}()}function Fy(){this.jb=a(3),this.Wc=s([4,8],kA),this.Xc=s([4,17],kA)}function By(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Gu(){this.ld=this.La=this.dd=this.tc=0}function PA(){this.Na=this.la=0}function $y(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nf(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uy(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gu),this.Y=0,this.ya=Array(new Nf),this.aa=0,this.l=new Wu}function MA(){this.y=a(16),this.f=a(8),this.ea=a(8)}function qy(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new Hu,this.Kc=new zu,this.ed=new By,this.Qa=new Vu,this.Ic=this.$c=this.Aa=0,this.D=new Uy,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,te),this.ia=0,this.pb=o(4,$y),this.Pa=new Fy,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new MA),this.Hd=0,this.rb=Array(new PA),this.sb=0,this.wa=Array(new Gu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nf),this.L=this.aa=0,this.gd=s([4,2],Gu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hy(){var g=new qy;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Xf||(Xf=IA)),g}function Un(g,_,P){return g.a==0&&(g.a=_,g.sc=P,g.cb=0),0}function OA(g,_,P){return 3<=P&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function jA(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Un(g,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,L=_.w,z=_.ha;if(4>z)return Un(g,7,"Truncated header.");var K=P[L+0]|P[L+1]<<8|P[L+2]<<16,J=g.Od;if(J.Rb=!(1&K),J.td=K>>1&7,J.yd=K>>4&1,J.ub=K>>5,3<J.td)return Un(g,3,"Incorrect keyframe parameters.");if(!J.yd)return Un(g,4,"Frame not displayable.");L+=3,z-=3;var Q=g.Kc;if(J.Rb){if(7>z)return Un(g,7,"cannot parse picture header");if(!OA(P,L,z))return Un(g,3,"Bad code word");Q.c=16383&(P[L+4]<<8|P[L+3]),Q.Td=P[L+4]>>6,Q.i=16383&(P[L+6]<<8|P[L+5]),Q.Ud=P[L+6]>>6,L+=7,z-=7,g.za=Q.c+15>>4,g.Ub=Q.i+15>>4,_.width=Q.c,_.height=Q.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((K=g.Pa).jb,0,255,K.jb.length),e((K=g.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,i(K.Zb,0,0,K.Zb.length),i(K.Lb,0,0,K.Lb)}if(J.ub>z)return Un(g,7,"bad partition length");G(K=g.m,P,L,J.ub),L+=J.ub,z-=J.ub,J.Rb&&(Q.Ld=Ae(K),Q.Kd=Ae(K)),Q=g.Qa;var ee,ie=g.Pa;if(e(K!=null),e(Q!=null),Q.Cb=Ae(K),Q.Cb){if(Q.Bb=Ae(K),Ae(K)){for(Q.Fb=Ae(K),ee=0;4>ee;++ee)Q.Zb[ee]=Ae(K)?$(K,7):0;for(ee=0;4>ee;++ee)Q.Lb[ee]=Ae(K)?$(K,6):0}if(Q.Bb)for(ee=0;3>ee;++ee)ie.jb[ee]=Ae(K)?R(K,8):255}else Q.Bb=0;if(K.Ka)return Un(g,3,"cannot parse segment header");if((Q=g.ed).zd=Ae(K),Q.Tb=R(K,6),Q.wb=R(K,3),Q.Pc=Ae(K),Q.Pc&&Ae(K)){for(ie=0;4>ie;++ie)Ae(K)&&(Q.vd[ie]=$(K,6));for(ie=0;4>ie;++ie)Ae(K)&&(Q.od[ie]=$(K,6))}if(g.L=Q.Tb==0?0:Q.zd?1:2,K.Ka)return Un(g,3,"cannot parse filter header");var he=z;if(z=ee=L,L=ee+he,Q=he,g.Xb=(1<<R(g.m,2))-1,he<3*(ie=g.Xb))P=7;else{for(ee+=3*ie,Q-=3*ie,he=0;he<ie;++he){var Te=P[z+0]|P[z+1]<<8|P[z+2]<<16;Te>Q&&(Te=Q),G(g.Jc[+he],P,ee,Te),ee+=Te,Q-=Te,z+=3}G(g.Jc[+ie],P,ee,Q),P=ee<L?0:5}if(P!=0)return Un(g,P,"cannot parse partitions");for(P=R(ee=g.m,7),z=Ae(ee)?$(ee,4):0,L=Ae(ee)?$(ee,4):0,Q=Ae(ee)?$(ee,4):0,ie=Ae(ee)?$(ee,4):0,ee=Ae(ee)?$(ee,4):0,he=g.Qa,Te=0;4>Te;++Te){if(he.Cb){var Ce=he.Zb[Te];he.Fb||(Ce+=P)}else{if(0<Te){g.pb[Te]=g.pb[0];continue}Ce=P}var ve=g.pb[Te];ve.Sc[0]=pb[_i(Ce+z,127)],ve.Sc[1]=Ab[_i(Ce+0,127)],ve.Eb[0]=2*pb[_i(Ce+L,127)],ve.Eb[1]=101581*Ab[_i(Ce+Q,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=pb[_i(Ce+ie,117)],ve.Qc[1]=Ab[_i(Ce+ee,127)],ve.lc=Ce+ee}if(!J.Rb)return Un(g,4,"Not a key frame.");for(Ae(K),J=g.Pa,P=0;4>P;++P){for(z=0;8>z;++z)for(L=0;3>L;++L)for(Q=0;11>Q;++Q)ie=W(K,D8[P][z][L][Q])?R(K,8):j8[P][z][L][Q],J.Wc[P][z].Yb[L][Q]=ie;for(z=0;17>z;++z)J.Xc[P][z]=J.Wc[P][L8[z]]}return g.kc=Ae(K),g.kc&&(g.Bd=R(K,8)),g.cb=1}function IA(g,_,P,L,z,K,J){var Q=_[z].Yb[P];for(P=0;16>z;++z){if(!W(g,Q[P+0]))return z;for(;!W(g,Q[P+1]);)if(Q=_[++z].Yb[0],P=0,z==16)return 16;var ee=_[z+1].Yb;if(W(g,Q[P+2])){var ie=g,he=0;if(W(ie,(Ce=Q)[(Te=P)+3]))if(W(ie,Ce[Te+6])){for(Q=0,Te=2*(he=W(ie,Ce[Te+8]))+(Ce=W(ie,Ce[Te+9+he])),he=0,Ce=M8[Te];Ce[Q];++Q)he+=he+W(ie,Ce[Q]);he+=3+(8<<Te)}else W(ie,Ce[Te+7])?(he=7+2*W(ie,165),he+=W(ie,145)):he=5+W(ie,159);else he=W(ie,Ce[Te+4])?3+W(ie,Ce[Te+5]):2;Q=ee[2]}else he=1,Q=ee[1];ee=J+O8[z],0>(ie=g).b&&me(ie);var Te,Ce=ie.b,ve=(Te=ie.Ca>>1)-(ie.I>>Ce)>>31;--ie.b,ie.Ca+=ve,ie.Ca|=1,ie.I-=(Te+1&ve)<<Ce,K[ee]=((he^ve)-ve)*L[(0<z)+0]}return 16}function Ef(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function zy(g,_){if(g==null)return 0;if(_==null)return Un(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!jA(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var P=lm[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-P>>4,g.zb=_.j-P>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+P>>4,g.Hb=_.va+15+P>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var L=g.ed;for(P=0;4>P;++P){var z;if(g.Qa.Cb){var K=g.Qa.Lb[P];g.Qa.Fb||(K+=L.Tb)}else K=L.Tb;for(z=0;1>=z;++z){var J=g.gd[P][z],Q=K;if(L.Pc&&(Q+=L.vd[0],z&&(Q+=L.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var ee=Q;0<L.wb&&(ee=4<L.wb?ee>>2:ee>>1)>9-L.wb&&(ee=9-L.wb),1>ee&&(ee=1),J.dd=ee,J.tc=2*Q+ee,J.ld=40<=Q?2:15<=Q?1:0}else J.tc=0;J.La=z}}}P=0}else Un(g,6,"Frame setup failed"),P=g.a;if(P=P==0){if(P){g.$c=0,0<g.Aa||(g.Ic=K8);e:{P=g.Ic,L=4*(ee=g.za);var ie=32*ee,he=ee+1,Te=0<g.L?ee*(0<g.Aa?2:1):0,Ce=(g.Aa==2?2:1)*ee;if((J=L+832+(z=3*(16*P+lm[g.L])/2*ie)+(K=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=J)P=0;else{if(J>g.Vb){if(g.Vb=0,g.Ec=a(J),g.Fc=0,g.Ec==null){P=Un(g,1,"no memory during frame initialization.");break e}g.Vb=J}J=g.Ec,Q=g.Fc,g.Ac=J,g.Bc=Q,Q+=L,g.Gd=o(ie,MA),g.Hd=0,g.rb=o(he+1,PA),g.sb=1,g.wa=Te?o(Te,Gu):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ee),e(!0),g.oc=J,g.pc=Q,Q+=832,g.ya=o(Ce,Nf),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ee),g.R=16*ee,g.B=8*ee,ee=(ie=lm[g.L])*g.R,ie=ie/2*g.B,g.sa=J,g.ta=Q+ee,g.qa=g.sa,g.ra=g.ta+16*P*g.R+ie,g.Ha=g.qa,g.Ia=g.ra+8*P*g.B+ie,g.$c=0,Q+=z,g.mb=K?J:null,g.nb=K?Q:null,e(Q+K<=g.Fc+g.Vb),Ef(g),i(g.Ac,g.Bc,0,L),P=1}}if(P){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!ZA){for(P=-255;255>=P;++P)lr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)To[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Jf[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)dc[255+P]=0>P?0:255<P?255:P;ZA=1}lc=Wy,_o=Vy,Wf=LA,Kr=Gy,Gi=RA,qn=DA,uc=If,QA=Nl,Yf=ob,Pl=Df,Ml=ab,vs=Zu,Ol=Lf,cc=GA,jl=VA,ys=Xa,Kf=xo,Wi=ib,Ea[0]=Ja,Ea[1]=Yy,Ea[2]=Qy,Ea[3]=Zy,Ea[4]=$A,Ea[5]=Xu,Ea[6]=UA,Ea[7]=Mf,Ea[8]=tb,Ea[9]=eb,bs[0]=FA,bs[1]=Jy,bs[2]=bo,bs[3]=Ku,bs[4]=Rr,bs[5]=Xy,bs[6]=BA,Co[0]=hs,Co[1]=Ky,Co[2]=nb,Co[3]=Of,Co[4]=Cl,Co[5]=rb,Co[6]=jf,P=1}else P=0}P&&(P=function(ve,$e){for(ve.M=0;ve.M<ve.Va;++ve.M){var Oe,pe=ve.Jc[ve.M&ve.Xb],ge=ve.m,Re=ve;for(Oe=0;Oe<Re.za;++Oe){var qe=ge,Be=Re,tt=Be.Ac,Xe=Be.Bc+4*Oe,ft=Be.zc,Qe=Be.ya[Be.aa+Oe];if(Be.Qa.Bb?Qe.$b=W(qe,Be.Pa.jb[0])?2+W(qe,Be.Pa.jb[2]):W(qe,Be.Pa.jb[1]):Qe.$b=0,Be.kc&&(Qe.Ad=W(qe,Be.Bd)),Qe.Za=!W(qe,145)+0,Qe.Za){var Gt=Qe.Ob,Qt=0;for(Be=0;4>Be;++Be){var qt,Ft=ft[0+Be];for(qt=0;4>qt;++qt){Ft=I8[tt[Xe+qt]][Ft];for(var fn=U_[W(qe,Ft[0])];0<fn;)fn=U_[2*fn+W(qe,Ft[fn])];Ft=-fn,tt[Xe+qt]=Ft}r(Gt,Qt,tt,Xe,4),Qt+=4,ft[0+Be]=Ft}}else Ft=W(qe,156)?W(qe,128)?1:3:W(qe,163)?2:0,Qe.Ob[0]=Ft,i(tt,Xe,Ft,4),i(ft,0,Ft,4);Qe.Dd=W(qe,142)?W(qe,114)?W(qe,183)?1:3:2:0}if(Re.m.Ka)return Un(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Re=pe,qe=(ge=ve).rb[ge.sb-1],tt=ge.rb[ge.sb+ge.ja],Oe=ge.ya[ge.aa+ge.ja],Xe=ge.kc?Oe.Ad:0)qe.la=tt.la=0,Oe.Za||(qe.Na=tt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var on,Et;if(qe=tt,tt=Re,Xe=ge.Pa.Xc,ft=ge.ya[ge.aa+ge.ja],Qe=ge.pb[ft.$b],Be=ft.ad,Gt=0,Qt=ge.rb[ge.sb-1],Ft=qt=0,i(Be,Gt,0,384),ft.Za)var Xn=0,ui=Xe[3];else{fn=a(16);var Qn=qe.Na+Qt.Na;if(Qn=Xf(tt,Xe[1],Qn,Qe.Eb,0,fn,0),qe.Na=Qt.Na=(0<Qn)+0,1<Qn)lc(fn,0,Be,Gt);else{var ci=fn[0]+3>>3;for(fn=0;256>fn;fn+=16)Be[Gt+fn]=ci}Xn=1,ui=Xe[0]}var Zt=15&qe.la,Ci=15&Qt.la;for(fn=0;4>fn;++fn){var Ni=1&Ci;for(ci=Et=0;4>ci;++ci)Zt=Zt>>1|(Ni=(Qn=Xf(tt,ui,Qn=Ni+(1&Zt),Qe.Sc,Xn,Be,Gt))>Xn)<<7,Et=Et<<2|(3<Qn?3:1<Qn?2:Be[Gt+0]!=0),Gt+=16;Zt>>=4,Ci=Ci>>1|Ni<<7,qt=(qt<<8|Et)>>>0}for(ui=Zt,Xn=Ci>>4,on=0;4>on;on+=2){for(Et=0,Zt=qe.la>>4+on,Ci=Qt.la>>4+on,fn=0;2>fn;++fn){for(Ni=1&Ci,ci=0;2>ci;++ci)Qn=Ni+(1&Zt),Zt=Zt>>1|(Ni=0<(Qn=Xf(tt,Xe[2],Qn,Qe.Qc,0,Be,Gt)))<<3,Et=Et<<2|(3<Qn?3:1<Qn?2:Be[Gt+0]!=0),Gt+=16;Zt>>=2,Ci=Ci>>1|Ni<<5}Ft|=Et<<4*on,ui|=Zt<<4<<on,Xn|=(240&Ci)<<on}qe.la=ui,Qt.la=Xn,ft.Hc=qt,ft.Gc=Ft,ft.ia=43690&Ft?0:Qe.ia,Xe=!(qt|Ft)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Oe.$b][Oe.Za],ge.wa[ge.Y+ge.ja].La|=!Xe),Re.Ka)return Un(ve,7,"Premature end-of-file encountered.")}if(Ef(ve),ge=$e,Re=1,Oe=(pe=ve).D,qe=0<pe.L&&pe.M>=pe.zb&&pe.M<=pe.Va,pe.Aa==0)e:{if(Oe.M=pe.M,Oe.uc=qe,qf(pe,Oe),Re=1,Oe=(Et=pe.D).Nb,qe=(Ft=lm[pe.L])*pe.R,tt=Ft/2*pe.B,fn=16*Oe*pe.R,ci=8*Oe*pe.B,Xe=pe.sa,ft=pe.ta-qe+fn,Qe=pe.qa,Be=pe.ra-tt+ci,Gt=pe.Ha,Qt=pe.Ia-tt+ci,Ci=(Zt=Et.M)==0,qt=Zt>=pe.Va-1,pe.Aa==2&&qf(pe,Et),Et.uc)for(Ni=(Qn=pe).D.M,e(Qn.D.uc),Et=Qn.yb;Et<Qn.Hb;++Et){Xn=Et,ui=Ni;var br=(Pr=(Ln=Qn).D).Nb;on=Ln.R;var Pr=Pr.wa[Pr.Y+Xn],Jr=Ln.sa,Xi=Ln.ta+16*br*on+16*Xn,Za=Pr.dd,xr=Pr.tc;if(xr!=0)if(e(3<=xr),Ln.L==1)0<Xn&&ys(Jr,Xi,on,xr+4),Pr.La&&Wi(Jr,Xi,on,xr),0<ui&&jl(Jr,Xi,on,xr+4),Pr.La&&Kf(Jr,Xi,on,xr);else{var No=Ln.B,Il=Ln.qa,fc=Ln.ra+8*br*No+8*Xn,ws=Ln.Ha,Ln=Ln.Ia+8*br*No+8*Xn;br=Pr.ld,0<Xn&&(QA(Jr,Xi,on,xr+4,Za,br),Pl(Il,fc,ws,Ln,No,xr+4,Za,br)),Pr.La&&(vs(Jr,Xi,on,xr,Za,br),cc(Il,fc,ws,Ln,No,xr,Za,br)),0<ui&&(uc(Jr,Xi,on,xr+4,Za,br),Yf(Il,fc,ws,Ln,No,xr+4,Za,br)),Pr.La&&(Ml(Jr,Xi,on,xr,Za,br),Ol(Il,fc,ws,Ln,No,xr,Za,br))}}if(pe.ia&&alert("todo:DitherRow"),ge.put!=null){if(Et=16*Zt,Zt=16*(Zt+1),Ci?(ge.y=pe.sa,ge.O=pe.ta+fn,ge.f=pe.qa,ge.N=pe.ra+ci,ge.ea=pe.Ha,ge.W=pe.Ia+ci):(Et-=Ft,ge.y=Xe,ge.O=ft,ge.f=Qe,ge.N=Be,ge.ea=Gt,ge.W=Qt),qt||(Zt-=Ft),Zt>ge.o&&(Zt=ge.o),ge.F=null,ge.J=null,pe.Fa!=null&&0<pe.Fa.length&&Et<Zt&&(ge.J=$f(pe,ge,Et,Zt-Et),ge.F=pe.mb,ge.F==null&&ge.F.length==0)){Re=Un(pe,3,"Could not decode alpha data.");break e}Et<ge.j&&(Ft=ge.j-Et,Et=ge.j,e(!(1&Ft)),ge.O+=pe.R*Ft,ge.N+=pe.B*(Ft>>1),ge.W+=pe.B*(Ft>>1),ge.F!=null&&(ge.J+=ge.width*Ft)),Et<Zt&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Et-ge.j,ge.U=ge.va-ge.v,ge.T=Zt-Et,Re=ge.put(ge))}Oe+1!=pe.Ic||qt||(r(pe.sa,pe.ta-qe,Xe,ft+16*pe.R,qe),r(pe.qa,pe.ra-tt,Qe,Be+8*pe.B,tt),r(pe.Ha,pe.Ia-tt,Gt,Qt+8*pe.B,tt))}if(!Re)return Un(ve,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),P&=1}return P?(g.cb=0,P):0}function Ta(g,_,P,L,z){z=g[_+P+32*L]+(z>>3),g[_+P+32*L]=-256&z?0>z?0:255:z}function Yu(g,_,P,L,z,K){Ta(g,_,0,P,L+z),Ta(g,_,1,P,L+K),Ta(g,_,2,P,L-K),Ta(g,_,3,P,L-z)}function oi(g){return(20091*g>>16)+g}function kf(g,_,P,L){var z,K=0,J=a(16);for(z=0;4>z;++z){var Q=g[_+0]+g[_+8],ee=g[_+0]-g[_+8],ie=(35468*g[_+4]>>16)-oi(g[_+12]),he=oi(g[_+4])+(35468*g[_+12]>>16);J[K+0]=Q+he,J[K+1]=ee+ie,J[K+2]=ee-ie,J[K+3]=Q-he,K+=4,_++}for(z=K=0;4>z;++z)Q=(g=J[K+0]+4)+J[K+8],ee=g-J[K+8],ie=(35468*J[K+4]>>16)-oi(J[K+12]),Ta(P,L,0,0,Q+(he=oi(J[K+4])+(35468*J[K+12]>>16))),Ta(P,L,1,0,ee+ie),Ta(P,L,2,0,ee-ie),Ta(P,L,3,0,Q-he),K++,L+=32}function DA(g,_,P,L){var z=g[_+0]+4,K=35468*g[_+4]>>16,J=oi(g[_+4]),Q=35468*g[_+1]>>16;Yu(P,L,0,z+J,g=oi(g[_+1]),Q),Yu(P,L,1,z+K,g,Q),Yu(P,L,2,z-K,g,Q),Yu(P,L,3,z-J,g,Q)}function Vy(g,_,P,L,z){kf(g,_,P,L),z&&kf(g,_+16,P,L+4)}function LA(g,_,P,L){_o(g,_+0,P,L,1),_o(g,_+32,P,L+128,1)}function Gy(g,_,P,L){var z;for(g=g[_+0]+4,z=0;4>z;++z)for(_=0;4>_;++_)Ta(P,L,_,z,g)}function RA(g,_,P,L){g[_+0]&&Kr(g,_+0,P,L),g[_+16]&&Kr(g,_+16,P,L+4),g[_+32]&&Kr(g,_+32,P,L+128),g[_+48]&&Kr(g,_+48,P,L+128+4)}function Wy(g,_,P,L){var z,K=a(16);for(z=0;4>z;++z){var J=g[_+0+z]+g[_+12+z],Q=g[_+4+z]+g[_+8+z],ee=g[_+4+z]-g[_+8+z],ie=g[_+0+z]-g[_+12+z];K[0+z]=J+Q,K[8+z]=J-Q,K[4+z]=ie+ee,K[12+z]=ie-ee}for(z=0;4>z;++z)J=(g=K[0+4*z]+3)+K[3+4*z],Q=K[1+4*z]+K[2+4*z],ee=K[1+4*z]-K[2+4*z],ie=g-K[3+4*z],P[L+0]=J+Q>>3,P[L+16]=ie+ee>>3,P[L+32]=J-Q>>3,P[L+48]=ie-ee>>3,L+=64}function Pf(g,_,P){var L,z=_-32,K=Ti,J=255-g[z-1];for(L=0;L<P;++L){var Q,ee=K,ie=J+g[_-1];for(Q=0;Q<P;++Q)g[_+Q]=ee[ie+g[z+Q]];_+=32}}function Yy(g,_){Pf(g,_,4)}function Ky(g,_){Pf(g,_,8)}function Jy(g,_){Pf(g,_,16)}function bo(g,_){var P;for(P=0;16>P;++P)r(g,_+32*P,g,_-32,16)}function Ku(g,_){var P;for(P=16;0<P;--P)i(g,_,g[_-1],16),_+=32}function Ju(g,_,P){var L;for(L=0;16>L;++L)i(_,P+32*L,g,16)}function FA(g,_){var P,L=16;for(P=0;16>P;++P)L+=g[_-1+32*P]+g[_+P-32];Ju(L>>5,g,_)}function Rr(g,_){var P,L=8;for(P=0;16>P;++P)L+=g[_-1+32*P];Ju(L>>4,g,_)}function Xy(g,_){var P,L=8;for(P=0;16>P;++P)L+=g[_+P-32];Ju(L>>4,g,_)}function BA(g,_){Ju(128,g,_)}function wt(g,_,P){return g+2*_+P+2>>2}function Qy(g,_){var P,L=_-32;for(L=new Uint8Array([wt(g[L-1],g[L+0],g[L+1]),wt(g[L+0],g[L+1],g[L+2]),wt(g[L+1],g[L+2],g[L+3]),wt(g[L+2],g[L+3],g[L+4])]),P=0;4>P;++P)r(g,_+32*P,L,0,L.length)}function Zy(g,_){var P=g[_-1],L=g[_-1+32],z=g[_-1+64],K=g[_-1+96];le(g,_+0,16843009*wt(g[_-1-32],P,L)),le(g,_+32,16843009*wt(P,L,z)),le(g,_+64,16843009*wt(L,z,K)),le(g,_+96,16843009*wt(z,K,K))}function Ja(g,_){var P,L=4;for(P=0;4>P;++P)L+=g[_+P-32]+g[_-1+32*P];for(L>>=3,P=0;4>P;++P)i(g,_+32*P,L,4)}function $A(g,_){var P=g[_-1+0],L=g[_-1+32],z=g[_-1+64],K=g[_-1-32],J=g[_+0-32],Q=g[_+1-32],ee=g[_+2-32],ie=g[_+3-32];g[_+0+96]=wt(L,z,g[_-1+96]),g[_+1+96]=g[_+0+64]=wt(P,L,z),g[_+2+96]=g[_+1+64]=g[_+0+32]=wt(K,P,L),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=wt(J,K,P),g[_+3+64]=g[_+2+32]=g[_+1+0]=wt(Q,J,K),g[_+3+32]=g[_+2+0]=wt(ee,Q,J),g[_+3+0]=wt(ie,ee,Q)}function UA(g,_){var P=g[_+1-32],L=g[_+2-32],z=g[_+3-32],K=g[_+4-32],J=g[_+5-32],Q=g[_+6-32],ee=g[_+7-32];g[_+0+0]=wt(g[_+0-32],P,L),g[_+1+0]=g[_+0+32]=wt(P,L,z),g[_+2+0]=g[_+1+32]=g[_+0+64]=wt(L,z,K),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=wt(z,K,J),g[_+3+32]=g[_+2+64]=g[_+1+96]=wt(K,J,Q),g[_+3+64]=g[_+2+96]=wt(J,Q,ee),g[_+3+96]=wt(Q,ee,ee)}function Xu(g,_){var P=g[_-1+0],L=g[_-1+32],z=g[_-1+64],K=g[_-1-32],J=g[_+0-32],Q=g[_+1-32],ee=g[_+2-32],ie=g[_+3-32];g[_+0+0]=g[_+1+64]=K+J+1>>1,g[_+1+0]=g[_+2+64]=J+Q+1>>1,g[_+2+0]=g[_+3+64]=Q+ee+1>>1,g[_+3+0]=ee+ie+1>>1,g[_+0+96]=wt(z,L,P),g[_+0+64]=wt(L,P,K),g[_+0+32]=g[_+1+96]=wt(P,K,J),g[_+1+32]=g[_+2+96]=wt(K,J,Q),g[_+2+32]=g[_+3+96]=wt(J,Q,ee),g[_+3+32]=wt(Q,ee,ie)}function Mf(g,_){var P=g[_+0-32],L=g[_+1-32],z=g[_+2-32],K=g[_+3-32],J=g[_+4-32],Q=g[_+5-32],ee=g[_+6-32],ie=g[_+7-32];g[_+0+0]=P+L+1>>1,g[_+1+0]=g[_+0+64]=L+z+1>>1,g[_+2+0]=g[_+1+64]=z+K+1>>1,g[_+3+0]=g[_+2+64]=K+J+1>>1,g[_+0+32]=wt(P,L,z),g[_+1+32]=g[_+0+96]=wt(L,z,K),g[_+2+32]=g[_+1+96]=wt(z,K,J),g[_+3+32]=g[_+2+96]=wt(K,J,Q),g[_+3+64]=wt(J,Q,ee),g[_+3+96]=wt(Q,ee,ie)}function eb(g,_){var P=g[_-1+0],L=g[_-1+32],z=g[_-1+64],K=g[_-1+96];g[_+0+0]=P+L+1>>1,g[_+2+0]=g[_+0+32]=L+z+1>>1,g[_+2+32]=g[_+0+64]=z+K+1>>1,g[_+1+0]=wt(P,L,z),g[_+3+0]=g[_+1+32]=wt(L,z,K),g[_+3+32]=g[_+1+64]=wt(z,K,K),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=K}function tb(g,_){var P=g[_-1+0],L=g[_-1+32],z=g[_-1+64],K=g[_-1+96],J=g[_-1-32],Q=g[_+0-32],ee=g[_+1-32],ie=g[_+2-32];g[_+0+0]=g[_+2+32]=P+J+1>>1,g[_+0+32]=g[_+2+64]=L+P+1>>1,g[_+0+64]=g[_+2+96]=z+L+1>>1,g[_+0+96]=K+z+1>>1,g[_+3+0]=wt(Q,ee,ie),g[_+2+0]=wt(J,Q,ee),g[_+1+0]=g[_+3+32]=wt(P,J,Q),g[_+1+32]=g[_+3+64]=wt(L,P,J),g[_+1+64]=g[_+3+96]=wt(z,L,P),g[_+1+96]=wt(K,z,L)}function nb(g,_){var P;for(P=0;8>P;++P)r(g,_+32*P,g,_-32,8)}function Of(g,_){var P;for(P=0;8>P;++P)i(g,_,g[_-1],8),_+=32}function Tl(g,_,P){var L;for(L=0;8>L;++L)i(_,P+32*L,g,8)}function hs(g,_){var P,L=8;for(P=0;8>P;++P)L+=g[_+P-32]+g[_-1+32*P];Tl(L>>4,g,_)}function rb(g,_){var P,L=4;for(P=0;8>P;++P)L+=g[_+P-32];Tl(L>>3,g,_)}function Cl(g,_){var P,L=4;for(P=0;8>P;++P)L+=g[_-1+32*P];Tl(L>>3,g,_)}function jf(g,_){Tl(128,g,_)}function Qu(g,_,P){var L=g[_-P],z=g[_+0],K=3*(z-L)+ub[1020+g[_-2*P]-g[_+P]],J=em[112+(K+4>>3)];g[_-P]=Ti[255+L+em[112+(K+3>>3)]],g[_+0]=Ti[255+z-J]}function qA(g,_,P,L){var z=g[_+0],K=g[_+P];return Ki[255+g[_-2*P]-g[_-P]]>L||Ki[255+K-z]>L}function HA(g,_,P,L){return 4*Ki[255+g[_-P]-g[_+0]]+Ki[255+g[_-2*P]-g[_+P]]<=L}function zA(g,_,P,L,z){var K=g[_-3*P],J=g[_-2*P],Q=g[_-P],ee=g[_+0],ie=g[_+P],he=g[_+2*P],Te=g[_+3*P];return 4*Ki[255+Q-ee]+Ki[255+J-ie]>L?0:Ki[255+g[_-4*P]-K]<=z&&Ki[255+K-J]<=z&&Ki[255+J-Q]<=z&&Ki[255+Te-he]<=z&&Ki[255+he-ie]<=z&&Ki[255+ie-ee]<=z}function VA(g,_,P,L){var z=2*L+1;for(L=0;16>L;++L)HA(g,_+L,P,z)&&Qu(g,_+L,P)}function Xa(g,_,P,L){var z=2*L+1;for(L=0;16>L;++L)HA(g,_+L*P,1,z)&&Qu(g,_+L*P,1)}function xo(g,_,P,L){var z;for(z=3;0<z;--z)VA(g,_+=4*P,P,L)}function ib(g,_,P,L){var z;for(z=3;0<z;--z)Xa(g,_+=4,P,L)}function ps(g,_,P,L,z,K,J,Q){for(K=2*K+1;0<z--;){if(zA(g,_,P,K,J))if(qA(g,_,P,Q))Qu(g,_,P);else{var ee=g,ie=_,he=P,Te=ee[ie-2*he],Ce=ee[ie-he],ve=ee[ie+0],$e=ee[ie+he],Oe=ee[ie+2*he],pe=27*(Re=ub[1020+3*(ve-Ce)+ub[1020+Te-$e]])+63>>7,ge=18*Re+63>>7,Re=9*Re+63>>7;ee[ie-3*he]=Ti[255+ee[ie-3*he]+Re],ee[ie-2*he]=Ti[255+Te+ge],ee[ie-he]=Ti[255+Ce+pe],ee[ie+0]=Ti[255+ve-pe],ee[ie+he]=Ti[255+$e-ge],ee[ie+2*he]=Ti[255+Oe-Re]}_+=L}}function Ca(g,_,P,L,z,K,J,Q){for(K=2*K+1;0<z--;){if(zA(g,_,P,K,J))if(qA(g,_,P,Q))Qu(g,_,P);else{var ee=g,ie=_,he=P,Te=ee[ie-he],Ce=ee[ie+0],ve=ee[ie+he],$e=em[112+((Oe=3*(Ce-Te))+4>>3)],Oe=em[112+(Oe+3>>3)],pe=$e+1>>1;ee[ie-2*he]=Ti[255+ee[ie-2*he]+pe],ee[ie-he]=Ti[255+Te+Oe],ee[ie+0]=Ti[255+Ce-$e],ee[ie+he]=Ti[255+ve-pe]}_+=L}}function If(g,_,P,L,z,K){ps(g,_,P,1,16,L,z,K)}function Nl(g,_,P,L,z,K){ps(g,_,1,P,16,L,z,K)}function ab(g,_,P,L,z,K){var J;for(J=3;0<J;--J)Ca(g,_+=4*P,P,1,16,L,z,K)}function Zu(g,_,P,L,z,K){var J;for(J=3;0<J;--J)Ca(g,_+=4,1,P,16,L,z,K)}function ob(g,_,P,L,z,K,J,Q){ps(g,_,z,1,8,K,J,Q),ps(P,L,z,1,8,K,J,Q)}function Df(g,_,P,L,z,K,J,Q){ps(g,_,1,z,8,K,J,Q),ps(P,L,1,z,8,K,J,Q)}function Lf(g,_,P,L,z,K,J,Q){Ca(g,_+4*z,z,1,8,K,J,Q),Ca(P,L+4*z,z,1,8,K,J,Q)}function GA(g,_,P,L,z,K,J,Q){Ca(g,_+4,1,z,8,K,J,Q),Ca(P,L+4,1,z,8,K,J,Q)}function ec(){this.ba=new or,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ff(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function WA(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new j}function sb(){this.xb=this.a=0,this.l=new Wu,this.ca=new or,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new WA,this.ab=0,this.gc=o(4,Ff),this.Oc=0}function tc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function El(g,_,P,L,z,K,J){for(g=g==null?0:g[_+0],_=0;_<J;++_)z[K+_]=g+P[L+_]&255,g=z[K+_]}function Bf(g,_,P,L,z,K,J){var Q;if(g==null)El(null,null,P,L,z,K,J);else for(Q=0;Q<J;++Q)z[K+Q]=g[_+Q]+P[L+Q]&255}function As(g,_,P,L,z,K,J){if(g==null)El(null,null,P,L,z,K,J);else{var Q,ee=g[_+0],ie=ee,he=ee;for(Q=0;Q<J;++Q)ie=he+(ee=g[_+Q])-ie,he=P[L+Q]+(-256&ie?0>ie?0:255:ie)&255,ie=ee,z[K+Q]=he}}function $f(g,_,P,L){var z=_.width,K=_.o;if(e(g!=null&&_!=null),0>P||0>=L||P+L>K)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new tc,(J=g.ga==null)||(J=_.width*_.o,e(g.Gb.length==0),g.Gb=a(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var Q=g.Fa,ee=g.P,ie=g.qc,he=g.mb,Te=g.nb,Ce=ee+1,ve=ie-1,$e=J.l;if(e(Q!=null&&he!=null&&_!=null),xs[0]=null,xs[1]=El,xs[2]=Bf,xs[3]=As,J.ca=he,J.tb=Te,J.c=_.width,J.i=_.height,e(0<J.c&&0<J.i),1>=ie)_=0;else if(J.$a=Q[ee+0]>>0&3,J.Z=Q[ee+0]>>2&3,J.Lc=Q[ee+0]>>4&3,ee=Q[ee+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ee)_=0;else if($e.put=At,$e.ac=Je,$e.bc=Pt,$e.ma=J,$e.width=_.width,$e.height=_.height,$e.Da=_.Da,$e.v=_.v,$e.va=_.va,$e.j=_.j,$e.o=_.o,J.$a)e:{e(J.$a==1),_=zi();t:for(;;){if(_==null){_=0;break e}if(e(J!=null),J.mc=_,_.c=J.c,_.i=J.i,_.l=J.l,_.l.ma=J,_.l.width=J.c,_.l.height=J.i,_.a=0,H(_.m,Q,Ce,ve),!Ka(J.c,J.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&yo(_.s)?(J.ic=1,Q=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(Q),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(J.ic=0,_=_l(_,J.c)),!_))break t;_=1;break e}J.mc=null,_=0}else _=ve>=J.c*J.i;J=!_}if(J)return null;g.ga.Lc!=1?g.Ga=0:L=K-P}e(g.ga!=null),e(P+L<=K);e:{if(_=(Q=g.ga).c,K=Q.l.o,Q.$a==0){if(Ce=g.rc,ve=g.Vc,$e=g.Fa,ee=g.P+1+P*_,ie=g.mb,he=g.nb+P*_,e(ee<=g.P+g.qc),Q.Z!=0)for(e(xs[Q.Z]!=null),J=0;J<L;++J)xs[Q.Z](Ce,ve,$e,ee,ie,he,_),Ce=ie,ve=he,he+=_,ee+=_;else for(J=0;J<L;++J)r(ie,he,$e,ee,_),Ce=ie,ve=he,he+=_,ee+=_;g.rc=Ce,g.Vc=ve}else{if(e(Q.mc!=null),_=P+L,e((J=Q.mc)!=null),e(_<=J.i),J.C>=_)_=1;else if(Q.ic||we(),Q.ic){Q=J.V,Ce=J.Ba,ve=J.c;var Oe=J.i,pe=($e=1,ee=J.$/ve,ie=J.$%ve,he=J.m,Te=J.s,J.$),ge=ve*Oe,Re=ve*_,qe=Te.wc,Be=pe<Re?Kn(Te,ie,ee):null;e(pe<=ge),e(_<=Oe),e(yo(Te));t:for(;;){for(;!he.h&&pe<Re;){if(ie&qe||(Be=Kn(Te,ie,ee)),e(Be!=null),ae(he),256>(Oe=Er(Be.G[0],Be.H[0],he)))Q[Ce+pe]=Oe,++pe,++ie>=ve&&(ie=0,++ee<=_&&!(ee%16)&&Sa(J,ee));else{if(!(280>Oe)){$e=0;break t}Oe=vr(Oe-256,he);var tt,Xe=Er(Be.G[4],Be.H[4],he);if(ae(he),!(pe>=(Xe=ai(ve,Xe=vr(Xe,he)))&&ge-pe>=Oe)){$e=0;break t}for(tt=0;tt<Oe;++tt)Q[Ce+pe+tt]=Q[Ce+pe+tt-Xe];for(pe+=Oe,ie+=Oe;ie>=ve;)ie-=ve,++ee<=_&&!(ee%16)&&Sa(J,ee);pe<Re&&ie&qe&&(Be=Kn(Te,ie,ee))}e(he.h==Z(he))}Sa(J,ee>_?_:ee);break t}!$e||he.h&&pe<ge?($e=0,J.a=he.h?5:3):J.$=pe,_=$e}else _=_a(J,J.V,J.Ba,J.c,J.i,_,qu);if(!_){L=0;break e}}P+L>=K&&(g.Cc=1),L=1}if(!L)return null;if(g.Cc&&((L=g.ga)!=null&&(L.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*z}function N(g,_,P,L,z,K){for(;0<z--;){var J,Q=g,ee=_+(P?1:0),ie=g,he=_+(P?0:3);for(J=0;J<L;++J){var Te=ie[he+4*J];Te!=255&&(Te*=32897,Q[ee+4*J+0]=Q[ee+4*J+0]*Te>>23,Q[ee+4*J+1]=Q[ee+4*J+1]*Te>>23,Q[ee+4*J+2]=Q[ee+4*J+2]*Te>>23)}_+=K}}function V(g,_,P,L,z){for(;0<L--;){var K;for(K=0;K<P;++K){var J=g[_+2*K+0],Q=15&(ie=g[_+2*K+1]),ee=4369*Q,ie=(240&ie|ie>>4)*ee>>16;g[_+2*K+0]=(240&J|J>>4)*ee>>16&240|(15&J|J<<4)*ee>>16>>4&15,g[_+2*K+1]=240&ie|Q}_+=z}}function se(g,_,P,L,z,K,J,Q){var ee,ie,he=255;for(ie=0;ie<z;++ie){for(ee=0;ee<L;++ee){var Te=g[_+ee];K[J+4*ee]=Te,he&=Te}_+=P,J+=Q}return he!=255}function de(g,_,P,L,z){var K;for(K=0;K<z;++K)P[L+K]=g[_+K]>>8}function we(){Yi=N,gn=V,vn=se,Hn=de}function je(g,_,P){M[g]=function(L,z,K,J,Q,ee,ie,he,Te,Ce,ve,$e,Oe,pe,ge,Re,qe){var Be,tt=qe-1>>1,Xe=Q[ee+0]|ie[he+0]<<16,ft=Te[Ce+0]|ve[$e+0]<<16;e(L!=null);var Qe=3*Xe+ft+131074>>2;for(_(L[z+0],255&Qe,Qe>>16,Oe,pe),K!=null&&(Qe=3*ft+Xe+131074>>2,_(K[J+0],255&Qe,Qe>>16,ge,Re)),Be=1;Be<=tt;++Be){var Gt=Q[ee+Be]|ie[he+Be]<<16,Qt=Te[Ce+Be]|ve[$e+Be]<<16,qt=Xe+Gt+ft+Qt+524296,Ft=qt+2*(Gt+ft)>>3;Qe=Ft+Xe>>1,Xe=(qt=qt+2*(Xe+Qt)>>3)+Gt>>1,_(L[z+2*Be-1],255&Qe,Qe>>16,Oe,pe+(2*Be-1)*P),_(L[z+2*Be-0],255&Xe,Xe>>16,Oe,pe+(2*Be-0)*P),K!=null&&(Qe=qt+ft>>1,Xe=Ft+Qt>>1,_(K[J+2*Be-1],255&Qe,Qe>>16,ge,Re+(2*Be-1)*P),_(K[J+2*Be+0],255&Xe,Xe>>16,ge,Re+(2*Be+0)*P)),Xe=Gt,ft=Qt}1&qe||(Qe=3*Xe+ft+131074>>2,_(L[z+qe-1],255&Qe,Qe>>16,Oe,pe+(qe-1)*P),K!=null&&(Qe=3*ft+Xe+131074>>2,_(K[J+qe-1],255&Qe,Qe>>16,ge,Re+(qe-1)*P)))}}function He(){Ji[tm]=F8,Ji[nm]=H_,Ji[F_]=B8,Ji[rm]=z_,Ji[im]=V_,Ji[cb]=G_,Ji[B_]=$8,Ji[db]=H_,Ji[fb]=z_,Ji[am]=V_,Ji[hb]=G_}function Ze(g){return g&-16384?0>g?0:255:g>>U8}function ut(g,_){return Ze((19077*g>>8)+(26149*_>>8)-14234)}function Tt(g,_,P){return Ze((19077*g>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function St(g,_){return Ze((19077*g>>8)+(33050*_>>8)-17685)}function Ut(g,_,P,L,z){L[z+0]=ut(g,P),L[z+1]=Tt(g,_,P),L[z+2]=St(g,_)}function In(g,_,P,L,z){L[z+0]=St(g,_),L[z+1]=Tt(g,_,P),L[z+2]=ut(g,P)}function Dn(g,_,P,L,z){var K=Tt(g,_,P);_=K<<3&224|St(g,_)>>3,L[z+0]=248&ut(g,P)|K>>5,L[z+1]=_}function Jn(g,_,P,L,z){var K=240&St(g,_)|15;L[z+0]=240&ut(g,P)|Tt(g,_,P)>>4,L[z+1]=K}function Fr(g,_,P,L,z){L[z+0]=255,Ut(g,_,P,L,z+1)}function yr(g,_,P,L,z){In(g,_,P,L,z),L[z+3]=255}function Na(g,_,P,L,z){Ut(g,_,P,L,z),L[z+3]=255}function _i(g,_){return 0>g?0:g>_?_:g}function Qa(g,_,P){M[g]=function(L,z,K,J,Q,ee,ie,he,Te){for(var Ce=he+(-2&Te)*P;he!=Ce;)_(L[z+0],K[J+0],Q[ee+0],ie,he),_(L[z+1],K[J+0],Q[ee+0],ie,he+P),z+=2,++J,++ee,he+=2*P;1&Te&&_(L[z+0],K[J+0],Q[ee+0],ie,he)}}function YA(g,_,P){return P==0?g==0?_==0?6:5:_==0?4:0:P}function Uf(g,_,P,L,z){switch(g>>>30){case 3:_o(_,P,L,z,0);break;case 2:qn(_,P,L,z);break;case 1:Kr(_,P,L,z)}}function qf(g,_){var P,L,z=_.M,K=_.Nb,J=g.oc,Q=g.pc+40,ee=g.oc,ie=g.pc+584,he=g.oc,Te=g.pc+600;for(P=0;16>P;++P)J[Q+32*P-1]=129;for(P=0;8>P;++P)ee[ie+32*P-1]=129,he[Te+32*P-1]=129;for(0<z?J[Q-1-32]=ee[ie-1-32]=he[Te-1-32]=129:(i(J,Q-32-1,127,21),i(ee,ie-32-1,127,9),i(he,Te-32-1,127,9)),L=0;L<g.za;++L){var Ce=_.ya[_.aa+L];if(0<L){for(P=-1;16>P;++P)r(J,Q+32*P-4,J,Q+32*P+12,4);for(P=-1;8>P;++P)r(ee,ie+32*P-4,ee,ie+32*P+4,4),r(he,Te+32*P-4,he,Te+32*P+4,4)}var ve=g.Gd,$e=g.Hd+L,Oe=Ce.ad,pe=Ce.Hc;if(0<z&&(r(J,Q-32,ve[$e].y,0,16),r(ee,ie-32,ve[$e].f,0,8),r(he,Te-32,ve[$e].ea,0,8)),Ce.Za){var ge=J,Re=Q-32+16;for(0<z&&(L>=g.za-1?i(ge,Re,ve[$e].y[15],4):r(ge,Re,ve[$e+1].y,0,4)),P=0;4>P;P++)ge[Re+128+P]=ge[Re+256+P]=ge[Re+384+P]=ge[Re+0+P];for(P=0;16>P;++P,pe<<=2)ge=J,Re=Q+Y_[P],Ea[Ce.Ob[P]](ge,Re),Uf(pe,Oe,16*+P,ge,Re)}else if(ge=YA(L,z,Ce.Ob[0]),bs[ge](J,Q),pe!=0)for(P=0;16>P;++P,pe<<=2)Uf(pe,Oe,16*+P,J,Q+Y_[P]);for(P=Ce.Gc,ge=YA(L,z,Ce.Dd),Co[ge](ee,ie),Co[ge](he,Te),pe=Oe,ge=ee,Re=ie,255&(Ce=P>>0)&&(170&Ce?Wf(pe,256,ge,Re):Gi(pe,256,ge,Re)),Ce=he,pe=Te,255&(P>>=8)&&(170&P?Wf(Oe,320,Ce,pe):Gi(Oe,320,Ce,pe)),z<g.Ub-1&&(r(ve[$e].y,0,J,Q+480,16),r(ve[$e].f,0,ee,ie+224,8),r(ve[$e].ea,0,he,Te+224,8)),P=8*K*g.B,ve=g.sa,$e=g.ta+16*L+16*K*g.R,Oe=g.qa,Ce=g.ra+8*L+P,pe=g.Ha,ge=g.Ia+8*L+P,P=0;16>P;++P)r(ve,$e+P*g.R,J,Q+32*P,16);for(P=0;8>P;++P)r(Oe,Ce+P*g.B,ee,ie+32*P,8),r(pe,ge+P*g.B,he,Te+32*P,8)}}function nc(g,_,P,L,z,K,J,Q,ee){var ie=[0],he=[0],Te=0,Ce=ee!=null?ee.kd:0,ve=ee??new Rf;if(g==null||12>P)return 7;ve.data=g,ve.w=_,ve.ha=P,_=[_],P=[P],ve.gb=[ve.gb];e:{var $e=_,Oe=P,pe=ve.gb;if(e(g!=null),e(Oe!=null),e(pe!=null),pe[0]=0,12<=Oe[0]&&!n(g,$e[0],"RIFF")){if(n(g,$e[0]+8,"WEBP")){pe=3;break e}var ge=Me(g,$e[0]+4);if(12>ge||4294967286<ge){pe=3;break e}if(Ce&&ge>Oe[0]-8){pe=7;break e}pe[0]=ge,$e[0]+=12,Oe[0]-=12}pe=0}if(pe!=0)return pe;for(ge=0<ve.gb[0],P=P[0];;){e:{var Re=g;Oe=_,pe=P;var qe=ie,Be=he,tt=$e=[0];if((Qe=Te=[Te])[0]=0,8>pe[0])pe=7;else{if(!n(Re,Oe[0],"VP8X")){if(Me(Re,Oe[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var Xe=Me(Re,Oe[0]+8),ft=1+ue(Re,Oe[0]+12);if(2147483648<=ft*(Re=1+ue(Re,Oe[0]+15))){pe=3;break e}tt!=null&&(tt[0]=Xe),qe!=null&&(qe[0]=ft),Be!=null&&(Be[0]=Re),Oe[0]+=18,pe[0]-=18,Qe[0]=1}pe=0}}if(Te=Te[0],$e=$e[0],pe!=0)return pe;if(Oe=!!(2&$e),!ge&&Te)return 3;if(K!=null&&(K[0]=!!(16&$e)),J!=null&&(J[0]=Oe),Q!=null&&(Q[0]=0),J=ie[0],$e=he[0],Te&&Oe&&ee==null){pe=0;break}if(4>P){pe=7;break}if(ge&&Te||!ge&&!Te&&!n(g,_[0],"ALPH")){P=[P],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{Xe=g,pe=_,ge=P;var Qe=ve.gb;qe=ve.na,Be=ve.P,tt=ve.Sa,ft=22,e(Xe!=null),e(ge!=null),Re=pe[0];var Gt=ge[0];for(e(qe!=null),e(tt!=null),qe[0]=null,Be[0]=null,tt[0]=0;;){if(pe[0]=Re,ge[0]=Gt,8>Gt){pe=7;break e}var Qt=Me(Xe,Re+4);if(4294967286<Qt){pe=3;break e}var qt=8+Qt+1&-2;if(ft+=qt,0<Qe&&ft>Qe){pe=3;break e}if(!n(Xe,Re,"VP8 ")||!n(Xe,Re,"VP8L")){pe=0;break e}if(Gt[0]<qt){pe=7;break e}n(Xe,Re,"ALPH")||(qe[0]=Xe,Be[0]=Re+8,tt[0]=Qt),Re+=qt,Gt-=qt}}if(P=P[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],pe!=0)break}P=[P],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(Qe=g,pe=_,ge=P,qe=ve.gb[0],Be=ve.Ja,tt=ve.xa,Xe=pe[0],Re=!n(Qe,Xe,"VP8 "),ft=!n(Qe,Xe,"VP8L"),e(Qe!=null),e(ge!=null),e(Be!=null),e(tt!=null),8>ge[0])pe=7;else{if(Re||ft){if(Qe=Me(Qe,Xe+4),12<=qe&&Qe>qe-12){pe=3;break e}if(Ce&&Qe>ge[0]-8){pe=7;break e}Be[0]=Qe,pe[0]+=8,ge[0]-=8,tt[0]=ft}else tt[0]=5<=ge[0]&&Qe[Xe+0]==47&&!(Qe[Xe+4]>>5),Be[0]=ge[0];pe=0}if(P=P[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],_=_[0],pe!=0)break;if(4294967286<ve.Ja)return 3;if(Q==null||Oe||(Q[0]=ve.xa?2:1),J=[J],$e=[$e],ve.xa){if(5>P){pe=7;break}Q=J,Ce=$e,Oe=K,g==null||5>P?g=0:5<=P&&g[_+0]==47&&!(g[_+4]>>5)?(ge=[0],Qe=[0],qe=[0],H(Be=new D,g,_,P),lt(Be,ge,Qe,qe)?(Q!=null&&(Q[0]=ge[0]),Ce!=null&&(Ce[0]=Qe[0]),Oe!=null&&(Oe[0]=qe[0]),g=1):g=0):g=0}else{if(10>P){pe=7;break}Q=$e,g==null||10>P||!OA(g,_+3,P-3)?g=0:(Ce=g[_+0]|g[_+1]<<8|g[_+2]<<16,Oe=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=ve.Ja||!Oe||!g?g=0:(J&&(J[0]=Oe),Q&&(Q[0]=g),g=1))}if(!g||(J=J[0],$e=$e[0],Te&&(ie[0]!=J||he[0]!=$e)))return 3;ee!=null&&(ee[0]=ve,ee.offset=_-ee.w,e(4294967286>_-ee.w),e(ee.offset==ee.ha-P));break}return pe==0||pe==7&&Te&&ee==null?(K!=null&&(K[0]|=ve.na!=null&&0<ve.na.length),L!=null&&(L[0]=J),z!=null&&(z[0]=$e),0):pe}function Hf(g,_,P){var L=_.width,z=_.height,K=0,J=0,Q=L,ee=z;if(_.Da=g!=null&&0<g.Da,_.Da&&(Q=g.cd,ee=g.bd,K=g.v,J=g.j,11>P||(K&=-2,J&=-2),0>K||0>J||0>=Q||0>=ee||K+Q>L||J+ee>z))return 0;if(_.v=K,_.j=J,_.va=K+Q,_.o=J+ee,_.U=Q,_.T=ee,_.da=g!=null&&0<g.da,_.da){if(!Ee(Q,ee,P=[g.ib],K=[g.hb]))return 0;_.ib=P[0],_.hb=K[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*z/4,_.Kb=0),1}function zf(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function rc(g,_,P,L){if(L==null||0>=g||0>=_)return 2;if(P!=null){if(P.Da){var z=P.cd,K=P.bd,J=-2&P.v,Q=-2&P.j;if(0>J||0>Q||0>=z||0>=K||J+z>g||Q+K>_)return 2;g=z,_=K}if(P.da){if(!Ee(g,_,z=[P.ib],K=[P.hb]))return 2;g=z[0],_=K[0]}}L.width=g,L.height=_;e:{var ee=L.width,ie=L.height;if(g=L.S,0>=ee||0>=ie||!(g>=tm&&13>g))g=2;else{if(0>=L.Rd&&L.sd==null){J=K=z=_=0;var he=(Q=ee*K_[g])*ie;if(11>g||(K=(ie+1)/2*(_=(ee+1)/2),g==12&&(J=(z=ee)*ie)),(ie=a(he+2*K+J))==null){g=1;break e}L.sd=ie,11>g?((ee=L.f.RGBA).eb=ie,ee.fb=0,ee.A=Q,ee.size=he):((ee=L.f.kb).y=ie,ee.O=0,ee.fa=Q,ee.Fd=he,ee.f=ie,ee.N=0+he,ee.Ab=_,ee.Cd=K,ee.ea=ie,ee.W=0+he+K,ee.Db=_,ee.Ed=K,g==12&&(ee.F=ie,ee.J=0+he+2*K),ee.Tc=J,ee.lb=z)}if(_=1,z=L.S,K=L.width,J=L.height,z>=tm&&13>z)if(11>z)g=L.f.RGBA,_&=(Q=Math.abs(g.A))*(J-1)+K<=g.size,_&=Q>=K*K_[z],_&=g.eb!=null;else{g=L.f.kb,Q=(K+1)/2,he=(J+1)/2,ee=Math.abs(g.fa),ie=Math.abs(g.Ab);var Te=Math.abs(g.Db),Ce=Math.abs(g.lb),ve=Ce*(J-1)+K;_&=ee*(J-1)+K<=g.Fd,_&=ie*(he-1)+Q<=g.Cd,_=(_&=Te*(he-1)+Q<=g.Ed)&ee>=K&ie>=Q&Te>=Q,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,z==12&&(_&=Ce>=K,_&=ve<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||P!=null&&P.fd&&(g=zf(L)),g}var kr=64,ic=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ac=24,oc=32,Vf=8,si=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(g){return g},M.Predictor2=function(g,_,P){return _[P+0]},M.Predictor3=function(g,_,P){return _[P+1]},M.Predictor4=function(g,_,P){return _[P-1]},M.Predictor5=function(g,_,P){return _e(_e(g,_[P+1]),_[P+0])},M.Predictor6=function(g,_,P){return _e(g,_[P-1])},M.Predictor7=function(g,_,P){return _e(g,_[P+0])},M.Predictor8=function(g,_,P){return _e(_[P-1],_[P+0])},M.Predictor9=function(g,_,P){return _e(_[P+0],_[P+1])},M.Predictor10=function(g,_,P){return _e(_e(g,_[P-1]),_e(_[P+0],_[P+1]))},M.Predictor11=function(g,_,P){var L=_[P+0];return 0>=Ge(L>>24&255,g>>24&255,(_=_[P-1])>>24&255)+Ge(L>>16&255,g>>16&255,_>>16&255)+Ge(L>>8&255,g>>8&255,_>>8&255)+Ge(255&L,255&g,255&_)?L:g},M.Predictor12=function(g,_,P){var L=_[P+0];return(be((g>>24&255)+(L>>24&255)-((_=_[P-1])>>24&255))<<24|be((g>>16&255)+(L>>16&255)-(_>>16&255))<<16|be((g>>8&255)+(L>>8&255)-(_>>8&255))<<8|be((255&g)+(255&L)-(255&_)))>>>0},M.Predictor13=function(g,_,P){var L=_[P-1];return(Ve((g=_e(g,_[P+0]))>>24&255,L>>24&255)<<24|Ve(g>>16&255,L>>16&255)<<16|Ve(g>>8&255,L>>8&255)<<8|Ve(g>>0&255,L>>0&255))>>>0};var lb=M.PredictorAdd0;M.PredictorAdd1=ot,Pe("Predictor2","PredictorAdd2"),Pe("Predictor3","PredictorAdd3"),Pe("Predictor4","PredictorAdd4"),Pe("Predictor5","PredictorAdd5"),Pe("Predictor6","PredictorAdd6"),Pe("Predictor7","PredictorAdd7"),Pe("Predictor8","PredictorAdd8"),Pe("Predictor9","PredictorAdd9"),Pe("Predictor10","PredictorAdd10"),Pe("Predictor11","PredictorAdd11"),Pe("Predictor12","PredictorAdd12"),Pe("Predictor13","PredictorAdd13");var Gf=M.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var KA,Vi=M.ColorIndexInverseTransform,sc=M.MapARGB,JA=M.VP8LColorIndexInverseTransformAlpha,XA=M.MapAlpha,ms=M.VP8LPredictorsAdd=[];ms.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var kl,li,Yr,gs,wo,So,lc,_o,qn,Wf,Kr,Gi,uc,QA,Yf,Pl,Ml,vs,Ol,cc,jl,ys,Kf,Wi,Yi,gn,vn,Hn,lr=a(511),To=a(2041),Jf=a(225),dc=a(767),ZA=0,ub=To,em=Jf,Ti=dc,Ki=lr,tm=0,nm=1,F_=2,rm=3,im=4,cb=5,B_=6,db=7,fb=8,am=9,hb=10,_8=[2,3,7],T8=[3,3,11],$_=[280,256,256,256,40],C8=[0,1,1,1,0],N8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],E8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],k8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],P8=8,pb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ab=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xf=null,M8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],O8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],U_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],j8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],I8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],D8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],L8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bs=[],Ea=[],Co=[],R8=1,q_=2,xs=[],Ji=[];je("UpsampleRgbLinePair",Ut,3),je("UpsampleBgrLinePair",In,3),je("UpsampleRgbaLinePair",Na,4),je("UpsampleBgraLinePair",yr,4),je("UpsampleArgbLinePair",Fr,4),je("UpsampleRgba4444LinePair",Jn,2),je("UpsampleRgb565LinePair",Dn,2);var F8=M.UpsampleRgbLinePair,B8=M.UpsampleBgrLinePair,H_=M.UpsampleRgbaLinePair,z_=M.UpsampleBgraLinePair,V_=M.UpsampleArgbLinePair,G_=M.UpsampleRgba4444LinePair,$8=M.UpsampleRgb565LinePair,om=16,sm=1<<om-1,Qf=-227,mb=482,U8=6,W_=0,q8=a(256),H8=a(256),z8=a(256),V8=a(256),G8=a(mb-Qf),W8=a(mb-Qf);Qa("YuvToRgbRow",Ut,3),Qa("YuvToBgrRow",In,3),Qa("YuvToRgbaRow",Na,4),Qa("YuvToBgraRow",yr,4),Qa("YuvToArgbRow",Fr,4),Qa("YuvToRgba4444Row",Jn,2),Qa("YuvToRgb565Row",Dn,2);var Y_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lm=[0,2,8],Y8=[8,7,6,4,4,2,2,2,1,1,1,1],K8=1;this.WebPDecodeRGBA=function(g,_,P,L,z){var K=nm,J=new ec,Q=new or;J.ba=Q,Q.S=K,Q.width=[Q.width],Q.height=[Q.height];var ee=Q.width,ie=Q.height,he=new ii;if(he==null||g==null)var Te=2;else e(he!=null),Te=nc(g,_,P,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Te!=0?ee=0:(ee!=null&&(ee[0]=he.width[0]),ie!=null&&(ie[0]=he.height[0]),ee=1),ee){Q.width=Q.width[0],Q.height=Q.height[0],L!=null&&(L[0]=Q.width),z!=null&&(z[0]=Q.height);e:{if(L=new Wu,(z=new Rf).data=g,z.w=_,z.ha=P,z.kd=1,_=[0],e(z!=null),((g=nc(z.data,z.w,z.ha,null,null,null,_,null,z))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(J!=null),L.data=z.data,L.w=z.w+z.offset,L.ha=z.ha-z.offset,L.put=At,L.ac=Je,L.bc=Pt,L.ma=J,z.xa){if((g=zi())==null){J=1;break e}if(function(Ce,ve){var $e=[0],Oe=[0],pe=[0];t:for(;;){if(Ce==null)return 0;if(ve==null)return Ce.a=2,0;if(Ce.l=ve,Ce.a=0,H(Ce.m,ve.data,ve.w,ve.ha),!lt(Ce.m,$e,Oe,pe)){Ce.a=3;break t}if(Ce.xb=q_,ve.width=$e[0],ve.height=Oe[0],!Ka($e[0],Oe[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0}(g,L)){if(L=(_=rc(L.width,L.height,J.Oa,J.ba))==0){t:{L=g;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((P=L.l)!=null),e((z=P.ma)!=null),L.xb!=0){if(L.ca=z.ba,L.tb=z.tb,e(L.ca!=null),!Hf(z.Oa,P,rm)){L.a=2;break n}if(!_l(L,P.width)||P.da)break n;if((P.da||st(L.ca.S))&&we(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&we()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!De(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!_a(L,L.V,L.Ba,L.c,L.i,P.o,Uu))break n;z.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(_=g.a)}else _=g.a}else{if((g=new Hy)==null){J=1;break e}if(g.Fa=z.na,g.P=z.P,g.qc=z.Sa,jA(g,L)){if((_=rc(L.width,L.height,J.Oa,J.ba))==0){if(g.Aa=0,P=J.Oa,e((z=g)!=null),P!=null){if(0<(ee=0>(ee=P.Md)?0:100<ee?255:255*ee/100)){for(ie=he=0;4>ie;++ie)12>(Te=z.pb[ie]).lc&&(Te.ia=ee*Y8[0>Te.lc?0:Te.lc]>>3),he|=Te.ia;he&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=P.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}zy(g,L)||(_=g.a)}}else _=g.a}_==0&&J.Oa!=null&&J.Oa.fd&&(_=zf(J.ba))}J=_}K=J!=0?null:11>K?Q.f.RGBA.eb:Q.f.kb.y}else K=null;return K};var K_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,I){for(var B="",O=0;O<4;O++)B+=String.fromCharCode(M[I++]);return B}function c(M,I){return(M[I+0]<<0|M[I+1]<<8|M[I+2]<<16)>>>0}function d(M,I){return(M[I+0]<<0|M[I+1]<<8|M[I+2]<<16|M[I+3]<<24)>>>0}new l;var h=[0],p=[0],v=[],b=new l,x=t,y=function(M,I){var B={},O=0,j=!1,U=0,F=0;if(B.frames=[],!function(q,Z,ne,ae){for(var me=0;me<ae;me++)if(q[Z+me]!=ne.charCodeAt(me))return!0;return!1}(M,I,"RIFF",4)){var G,R;for(d(M,I+=4),I+=8;I<M.length;){var $=u(M,I),H=d(M,I+=4);I+=4;var Y=H+(1&H);switch($){case"VP8 ":case"VP8L":B.frames[O]===void 0&&(B.frames[O]={}),(D=B.frames[O]).src_off=j?F:I-8,D.src_size=U+H+8,O++,j&&(j=!1,U=0,F=0);break;case"VP8X":(D=B.header={}).feature_flags=M[I];var X=I+4;D.canvas_width=1+c(M,X),X+=3,D.canvas_height=1+c(M,X),X+=3;break;case"ALPH":j=!0,U=Y+8,F=I-8;break;case"ANIM":(D=B.header).bgcolor=d(M,I),X=I+4,D.loop_count=(G=M)[(R=X)+0]<<0|G[R+1]<<8,X+=2;break;case"ANMF":var te,D;(D=B.frames[O]={}).offset_x=2*c(M,I),I+=3,D.offset_y=2*c(M,I),I+=3,D.width=1+c(M,I),I+=3,D.height=1+c(M,I),I+=3,D.duration=c(M,I),I+=3,te=M[I++],D.dispose=1&te,D.blend=te>>1&1}$!="ANMF"&&(I+=Y)}return B}}(x,0);y.response=x,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,S=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],p=[w.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var C=S[0],k=b.WebPDecodeRGBA(x,C.src_off,C.src_size,p,h);C.rgba=k,C.imgwidth=p[0],C.imgheight=h[0];for(var E=0;E<p[0]*h[0]*4;E++)v[E]=k[E];return this.width=p,this.height=h,this.data=v,this}(function(t){var e=function(){return typeof M2=="function"},n=function(h,p,v,b){var x=4,y=o;switch(b){case t.image_compression.FAST:x=1,y=a;break;case t.image_compression.MEDIUM:x=6,y=s;break;case t.image_compression.SLOW:x=9,y=l}h=r(h,p,v,y);var w=M2(h,{level:x});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(h,p,v,b){for(var x,y,w,S=h.length/p,T=new Uint8Array(h.length+S),C=c(),k=0;k<S;k+=1){if(w=k*p,x=h.subarray(w,w+p),b)T.set(b(x,v,y),w+k);else{for(var E,M=C.length,I=[];E<M;E+=1)I[E]=C[E](x,v,y);var B=d(I.concat());T.set(I[B],w+k)}y=x}return T},i=function(h){var p=Array.apply([],h);return p.unshift(0),p},a=function(h,p){var v,b=[],x=h.length;b[0]=1;for(var y=0;y<x;y+=1)v=h[y-p]||0,b[y+1]=h[y]-v+256&255;return b},o=function(h,p,v){var b,x=[],y=h.length;x[0]=2;for(var w=0;w<y;w+=1)b=v&&v[w]||0,x[w+1]=h[w]-b+256&255;return x},s=function(h,p,v){var b,x,y=[],w=h.length;y[0]=3;for(var S=0;S<w;S+=1)b=h[S-p]||0,x=v&&v[S]||0,y[S+1]=h[S]+256-(b+x>>>1)&255;return y},l=function(h,p,v){var b,x,y,w,S=[],T=h.length;S[0]=4;for(var C=0;C<T;C+=1)b=h[C-p]||0,x=v&&v[C]||0,y=v&&v[C-p]||0,w=u(b,x,y),S[C+1]=h[C]-w+256&255;return S},u=function(h,p,v){if(h===p&&p===v)return h;var b=Math.abs(p-v),x=Math.abs(h-v),y=Math.abs(h+p-v-v);return b<=x&&b<=y?h:x<=y?p:v},c=function(){return[i,a,o,s,l]},d=function(h){var p=h.map(function(v){return v.reduce(function(b,x){return b+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(h,p,v,b){var x,y,w,S,T,C,k,E,M,I,B,O,j,U,F,G=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new cZ(h)).imgData,y=w.bits,x=w.colorSpace,T=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){M=(E=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,B=new Uint8Array(M*w.colors),I=new Uint8Array(M);var $,H=w.pixelBitlength-w.bits;for(U=0,F=0;U<M;U++){for(j=E[U],$=0;$<H;)B[F++]=j>>>$&255,$+=w.bits;I[U]=j>>>$&255}}if(w.bits===16){M=(E=new Uint32Array(w.decodePixels().buffer)).length,B=new Uint8Array(M*(32/w.pixelBitlength)*w.colors),I=new Uint8Array(M*(32/w.pixelBitlength)),O=w.colors>1,U=0,F=0;for(var Y=0;U<M;)j=E[U++],B[F++]=j>>>0&255,O&&(B[F++]=j>>>16&255,j=E[U++],B[F++]=j>>>0&255),I[Y++]=j>>>16&255;y=8}b!==t.image_compression.NONE&&e()?(h=n(B,w.width*w.colors,w.colors,b),k=n(I,w.width,1,b)):(h=B,k=I,G=void 0)}if(w.colorType===3&&(x=this.color_spaces.INDEXED,C=w.palette,w.transparency.indexed)){var X=w.transparency.indexed,te=0;for(U=0,M=X.length;U<M;++U)te+=X[U];if((te/=255)===M-1&&X.indexOf(0)!==-1)S=[X.indexOf(0)];else if(te!==M){for(E=w.decodePixels(),I=new Uint8Array(E.length),U=0,M=E.length;U<M;U++)I[U]=X[E[U]];k=n(I,w.width,1)}}var D=function(q){var Z;switch(q){case t.image_compression.FAST:Z=11;break;case t.image_compression.MEDIUM:Z=13;break;case t.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(b);return G===this.decode.FLATE_DECODE&&(R="/Predictor "+D+" "),R+="/Colors "+T+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:v,data:h,index:p,filter:G,decodeParameters:R,transparency:S,palette:C,sMask:k,predictor:D,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:x}}}})(ct.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new dZ(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new E1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ct.API),Oa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Oa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){hn.log("bit decode error:"+n)}},Oa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Oa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Oa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Oa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Oa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Oa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Oa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Oa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Oa(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new E1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),YE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new YE(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new E1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),ct.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],h=r[u+2],p=r[u+3];a[s++]=c,a[s++]=d,a[s++]=h,o[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tc=ct.API,zm=Tc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,h=0,p=t.length,v=0,b=s[0]||l,x=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=d&&rn(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,x.push((s[r]||b)/l+h)),v=r;return x},zE=Tc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Tc.processArabic&&(t=Tc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:zm.apply(this,arguments).reduce(function(a,o){return a+o},0)},VE=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},GE=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],d=[c],h=n.textIndent||0,p=0,v=0,b=t.split(" "),x=zm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),w=[];b.map(function(T){(T=T.split(/\s*\n/)).length>1?w=w.concat(T.map(function(C,k){return(k&&C.length?`
`:"")+C})):w.push(T[0])}),b=w,l=zE.apply(this,[y,n])}for(a=0,o=b.length;a<o;a++){var S=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+p+(v=(i=zm.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||S){if(v>e){for(s=VE.apply(this,[r,i,e-(h+p),e]),c.push(s.shift()),c=[s.pop()];s.length;)d.push([s.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(T,C){return T+C},0)}else c=[r];d.push(c),h=v+l,p=x}else c.push(r),h+=p+v,p=x}return u=l?function(T,C){return(C?y:"")+T.join(" ")}:function(T){return T.join(" ")},d.map(u)},Tc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(GE.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var h,p,v,b,x=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=a(y).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof h=="number")h<0?(v=a(h).slice(3),b="-"):(v=a(h).slice(2),b=""),v=b+v.slice(0,-1)+r[v.slice(-1)];else{if(rn(h)!=="object")throw new Error("Don't know what to do with value type "+rn(h)+".");v=o(h)}x.push(p+v)}return x.push("}"),x.join("")},s=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,v,b,x={},y=1,w=x,S=[],T="",C="",k=d.length-1,E=1;E<k;E+=1)(b=d[E])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(S.push([w,v]),w={},v=void 0):b=="}"?((p=S.pop())[0][p[1]]=w,v=void 0,w=p[0]):b=="-"?y=-1:v===void 0?n.hasOwnProperty(b)?(T+=n[b],v=parseInt(T,16)*y,y=1,T=""):T+=b:n.hasOwnProperty(b)?(C+=n[b],w[v]=parseInt(C,16)*y,y=1,v=void 0,C=""):C+=b;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,p=c.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(ct.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(Jh(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),function(t){function e(){return(vt.canvg?Promise.resolve(vt.canvg):pl(()=>import("./index.es-cbQF7ws3.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ct.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(v){return v.fromString(d,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),ct.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ct.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,d=0;function h(v,b){var x,y=!1;for(x=0;x<v.length;x+=1)v[x]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=s.length;for(d=0;d<p;d+=1)n[s[d]].value=n[s[d]].defaultValue,n[s[d]].explicitSet=!1}if(rn(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,h=a.length;d<h;++d){if(s=o.metadata.characterToGlyph(a.charCodeAt(d)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(d),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,d,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(s=Object.keys(a).sort(function(p,v){return p-v})).length;d<h;d++)o=s[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var d=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var b=u();c({data:p,addLength1:!0,objectId:b}),l("endobj");var x=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Rc(s.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Rc(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Rc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var d=s.metadata.rawData,h="",p=0;p<d.length;p++)h+=String.fromCharCode(d[p]);var v=u();c({data:h,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var x=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Rc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Rc(s.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},d=a.mutex||{},h=d.pdfEscape,p=d.activeFontKey,v=d.fonts,b=p,x="",y=0,w="",S=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:d};for(w=s,b=p,Array.isArray(s)&&(w=s[0]),y=0;y<w.length;y+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?x+=w[y]:x+="";var T="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?T=h(x,b).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=n(x,v[b])),d.isHex=!0,{text:T,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var T=function(O){var j=O.charCodeAt(),U=j>>8,F=b[U];return F!==void 0?d[256*F+(255&j)]:U===252||U===253?"AL":y.test(U)?"L":U===8?"R":"N"},C=function(O){for(var j,U=0;U<O.length;U++){if((j=T(O.charAt(U)))==="L")return!1;if(j==="R")return!0}return!1},k=function(O,j,U,F){var G,R,$,H,Y=j[F];switch(Y){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Y="AN");break;case"AL":w=!0,Y="R";break;case"WS":Y="N";break;case"CS":F<1||F+1>=j.length||(G=U[F-1])!=="EN"&&G!=="AN"||(R=j[F+1])!=="EN"&&R!=="AN"?Y="N":w&&(R="AN"),Y=R===G?R:"N";break;case"ES":Y=(G=F>0?U[F-1]:"B")==="EN"&&F+1<j.length&&j[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&U[F-1]==="EN"){Y="EN";break}if(w){Y="N";break}for($=F+1,H=j.length;$<H&&j[$]==="ET";)$++;Y=$<H&&j[$]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(H=j.length,$=F+1;$<H&&j[$]==="NSM";)$++;if($<H){var X=O[F],te=X>=1425&&X<=2303||X===64286;if(G=j[$],te&&(G==="R"||G==="AL")){Y="R";break}}}Y=F<1||(G=j[F-1])==="B"?"N":U[F-1];break;case"B":w=!1,i=!0,Y=S;break;case"S":a=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Y="N"}return Y},E=function(O,j,U){var F=O.split("");return U&&M(F,U,{hiLevel:S}),F.reverse(),j&&j.reverse(),F.join("")},M=function(O,j,U){var F,G,R,$,H,Y=-1,X=O.length,te=0,D=[],q=S?p:h,Z=[];for(w=!1,i=!1,a=!1,G=0;G<X;G++)Z[G]=T(O[G]);for(R=0;R<X;R++){if(H=te,D[R]=k(O,Z,D,R),F=240&(te=q[H][v[D[R]]]),te&=15,j[R]=$=q[te][5],F>0)if(F===16){for(G=Y;G<R;G++)j[G]=1;Y=-1}else Y=-1;if(q[te][6])Y===-1&&(Y=R);else if(Y>-1){for(G=Y;G<R;G++)j[G]=$;Y=-1}Z[R]==="B"&&(j[R]=0),U.hiLevel|=$}a&&function(ne,ae,me){for(var Ae=0;Ae<me;Ae++)if(ne[Ae]==="S"){ae[Ae]=S;for(var W=Ae-1;W>=0&&ne[W]==="WS";W--)ae[W]=S}}(Z,j,X)},I=function(O,j,U,F,G){if(!(G.hiLevel<O)){if(O===1&&S===1&&!i)return j.reverse(),void(U&&U.reverse());for(var R,$,H,Y,X=j.length,te=0;te<X;){if(F[te]>=O){for(H=te+1;H<X&&F[H]>=O;)H++;for(Y=te,$=H-1;Y<$;Y++,$--)R=j[Y],j[Y]=j[$],j[$]=R,U&&(R=U[Y],U[Y]=U[$],U[$]=R);te=H}te++}}},B=function(O,j,U){var F=O.split(""),G={hiLevel:S};return U||(U=[]),M(F,U,G),function(R,$,H){if(H.hiLevel!==0&&c)for(var Y,X=0;X<R.length;X++)$[X]===1&&(Y=x.indexOf(R[X]))>=0&&(R[X]=x[Y+1])}(F,U,G),I(2,F,j,U,G),I(1,F,j,U,G),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,j,U){if(function(G,R){if(R)for(var $=0;$<G.length;$++)R[$]=$;s===void 0&&(s=C(G)),u===void 0&&(u=C(G))}(O,j),o||!l||u)if(o&&l&&s^u)S=s?1:0,O=E(O,j,U);else if(!o&&l&&u)S=s?1:0,O=B(O,j,U),O=E(O,j);else if(!o||s||l||u){if(o&&!l&&s^u)O=E(O,j),s?(S=0,O=B(O,j,U)):(S=1,O=B(O,j,U),O=E(O,j));else if(o&&s&&!l&&u)S=1,O=B(O,j,U),O=E(O,j);else if(!o&&!l&&s^u){var F=c;s?(S=1,O=B(O,j,U),S=0,c=!1,O=B(O,j,U),c=F):(S=0,O=B(O,j,U),O=E(O,j),S=1,c=!1,O=B(O,j,U),c=F,O=E(O,j))}}else S=0,O=B(O,j,U);else S=s?1:0,O=B(O,j,U);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,s=O.isInputRtl,u=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ml(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new CZ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new fZ(this.contents),this.head=new pZ(this),this.name=new yZ(this),this.cmap=new II(this),this.toUnicode={},this.hhea=new AZ(this),this.maxp=new bZ(this),this.hmtx=new xZ(this),this.post=new gZ(this),this.os2=new mZ(this),this.loca=new TZ(this),this.glyf=new wZ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ga,ml=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),fZ=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,d,h,p,v,b;for(b in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),c=16*p-d,(i=new ml).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(c),a=16*p,u=i.pos+a,s=null,v=[],n)for(h=n[b],i.writeString(b),i.writeInt(t(h)),i.writeInt(u),i.writeInt(h.length),v=v.concat(h),b==="head"&&(s=u),u+=h.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=DI.call(n);n.length%4;)n.push(0);for(a=new ml(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),hZ={}.hasOwnProperty,mo=function(t,e){for(var n in e)hZ.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ga=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new ml).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),KE=function(){function t(e,n){var r,i,a,o,s,l,u,c,d,h,p,v,b,x,y,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,a=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,b=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(e.readUInt16());return C}(),l=y=0,S=a.length;y<S;l=++y)for(x=a[l],r=w=v=b[l];v<=x?w<=x:w>=x;r=v<=x?++w:--w)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-v)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,d,h,p,v,b,x,y,w,S,T,C,k,E,M,I,B,O,j,U,F,G,R,$,H,Y,X,te,D,q,Z,ne,ae,me,Ae,W,le,ce,ue;switch(F=new ml,o=Object.keys(e).sort(function(Me,De){return Me-De}),n){case"macroman":for(b=0,x=function(){var Me=[];for(v=0;v<256;++v)Me.push(0);return Me}(),w={0:0},a={},G=0,Y=o.length;G<Y;G++)w[W=e[i=o[G]]]==null&&(w[W]=++b),a[i]={old:e[i],new:w[e[i]]},x[i]=w[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(x),{charMap:a,subtable:F.data,maxGlyphID:b+1};case"unicode":for(j=[],d=[],S=0,w={},r={},y=u=null,R=0,X=o.length;R<X;R++)w[C=e[i=o[R]]]==null&&(w[C]=++S),r[i]={old:C,new:w[C]},s=w[C]-i,y!=null&&s===u||(y&&d.push(y),j.push(i),u=s),y=i;for(y&&d.push(y),d.push(65535),j.push(65535),B=2*(I=j.length),M=2*Math.pow(Math.log(I)/Math.LN2,2),h=Math.log(M/2)/Math.LN2,E=2*I-M,l=[],k=[],p=[],v=$=0,te=j.length;$<te;v=++$){if(O=j[v],c=d[v],O===65535){l.push(0),k.push(0);break}if(O-(U=r[O].new)>=32768)for(l.push(0),k.push(2*(p.length+I-v)),i=H=O;O<=c?H<=c:H>=c;i=O<=c?++H:--H)p.push(r[i].new);else l.push(U-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*I+2*p.length),F.writeUInt16(0),F.writeUInt16(B),F.writeUInt16(M),F.writeUInt16(h),F.writeUInt16(E),me=0,D=d.length;me<D;me++)i=d[me],F.writeUInt16(i);for(F.writeUInt16(0),Ae=0,q=j.length;Ae<q;Ae++)i=j[Ae],F.writeUInt16(i);for(le=0,Z=l.length;le<Z;le++)s=l[le],F.writeUInt16(s);for(ce=0,ne=k.length;ce<ne;ce++)T=k[ce],F.writeUInt16(T);for(ue=0,ae=p.length;ue<ae;ue++)b=p[ue],F.writeUInt16(b);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},t}(),II=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new KE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=KE.encode(n,r),(a=new ml).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),AZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),mZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),gZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),vZ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},yZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,d,h,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=d=0,h=i.length;d<h;o=++d)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new vZ(c,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),bZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),xZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)d.push(n.readInt16());return d}(),this.widths=(function(){var c,d,h,p;for(p=[],c=0,d=(h=this.metrics).length;c<d;c++)o=h[c],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),DI=[].slice,wZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,d,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new ml(r.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=s===-1?new _Z(l,c,h,u,d):new SZ(l,s,c,h,u,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),SZ=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),_Z=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ml(DI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),TZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ga),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},e}(),CZ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,d,h,p,v,b,x,y;for(i in r=II.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},y=r.charMap)p[(l=y[i]).old]=l.new;for(v in h=r.maxGlyphID,o)v in p||(p[v]=h++);return c=function(w){var S,T;for(S in T={},w)T[w[S]]=S;return T}(p),d=Object.keys(c).sort(function(w,S){return w-S}),b=function(){var w,S,T;for(T=[],w=0,S=d.length;w<S;w++)s=d[w],T.push(c[s]);return T}(),a=this.font.glyf.encode(o,b,p),u=this.font.loca.encode(a.offsets,b),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();ct.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const NZ=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:iZ,AcroFormAppearance:it,AcroFormButton:fr,AcroFormCheckBox:Zh,AcroFormChoiceField:lu,AcroFormComboBox:cu,AcroFormEditBox:Xh,AcroFormListBox:uu,AcroFormPasswordField:ep,AcroFormPushButton:Qh,AcroFormRadioButton:du,AcroFormTextField:ol,GState:Sp,ShadingPattern:Us,TilingPattern:Ql,default:ct,jsPDF:ct},Symbol.toStringTag,{value:"Module"}));var LI={exports:{}};const EZ=KP(NZ);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return EZ}catch{}}())})(typeof globalThis<"u"?globalThis:typeof pr<"u"?pr:typeof window<"u"?window:typeof self<"u"?self:pr,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var h=function(p,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(b[y]=x[y])},h(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(p,v);function b(){this.constructor=p}p.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function h(p,v,b){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=b,this.doc=p.getDocument()}return h}();l.HookData=c;var d=function(h){u(p,h);function p(v,b,x,y,w,S){var T=h.call(this,v,b,S)||this;return T.cell=x,T.row=y,T.column=w,T.section=y.section,T}return p}(c);l.CellHookData=d},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),d=u(136),h=u(744),p=u(776),v=u(664),b=u(972);function x(y){y.API.autoTable=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];var T;w.length===1?T=w[0]:(console.error("Use of deprecated autoTable initiation"),T=w[2]||{},T.columns=w[0],T.body=w[1]);var C=(0,p.parseInput)(this,T),k=(0,b.createTable)(this,C);return(0,v.drawTable)(this,k),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(w,S,T,C){(0,d.default)(w,S,T,C,this)},y.API.autoTableSetDefaults=function(w){return h.DocHandler.setDefaults(w,this),this},y.autoTableSetDefaults=function(w,S){h.DocHandler.setDefaults(w,S)},y.API.autoTableHtmlToJson=function(w,S){var T;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new h.DocHandler(this),k=(0,c.parseHtml)(C,w,window,S,!1),E=k.head,M=k.body,I=((T=E[0])===null||T===void 0?void 0:T.map(function(B){return B.content}))||[];return{columns:I,rows:M,data:M}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},y.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=w,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=x},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,d,h,p,v){p=p||{};var b=1.15,x=v.internal.scaleFactor,y=v.internal.getFontSize()/x,w=v.getLineHeightFactor?v.getLineHeightFactor():b,S=y*w,T=/\r\n|\r|\n/g,C="",k=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(C=typeof c=="string"?c.split(T):c,k=C.length||1),h+=y*(2-b),p.valign==="middle"?h-=k/2*S:p.valign==="bottom"&&(h-=k*S),p.halign==="center"||p.halign==="right"){var E=y;if(p.halign==="center"&&(E*=.5),C&&k>=1){for(var M=0;M<C.length;M++)v.text(C[M],d-v.getStringUnitWidth(C[M])*E,h),h+=S;return v}d-=v.getStringUnitWidth(c)*E}return p.halign==="justify"?v.text(c,d,h,{maxWidth:p.maxWidth||100,align:"justify"}):v.text(c,d,h),v}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(v,b,x){x.applyStyles(b,!0);var y=Array.isArray(v)?v:[v],w=y.map(function(S){return x.getTextWidth(S)}).reduce(function(S,T){return Math.max(S,T)},0);return w}l.getStringWidth=u;function c(v,b,x,y){var w=b.settings.tableLineWidth,S=b.settings.tableLineColor;v.applyStyles({lineWidth:w,lineColor:S});var T=d(w,!1);T&&v.rect(x.x,x.y,b.getWidth(v.pageSize().width),y.y-x.y,T)}l.addTableBorder=c;function d(v,b){var x=v>0,y=b||b===0;return x&&y?"DF":x?"S":y?"F":null}l.getFillStyle=d;function h(v,b){var x,y,w,S;if(v=v||b,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=b}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(x=v.left)!==null&&x!==void 0?x:b,top:(y=v.top)!==null&&y!==void 0?y:b,right:(w=v.right)!==null&&w!==void 0?w:b,bottom:(S=v.bottom)!==null&&S!==void 0?S:b}):(typeof v!="number"&&(v=b),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=h;function p(v,b){var x=h(b.settings.margin,0);return v.pageSize().width-(x.left+x.right)}l.getPageAvailableWidth=p},796:function(s,l){var u=this&&this.__extends||function(){var p=function(v,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(x[w]=y[w])},p(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");p(v,b);function x(){this.constructor=v}v.prototype=b===null?Object.create(b):(x.prototype=b.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(p){u(v,p);function v(b){var x=p.call(this)||this;return x._element=b,x}return v}(Array);l.HtmlRowInput=c;function d(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=d;function h(p){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[p]}l.getTheme=h},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function d(x,y,w,S,T){var C={},k=1.3333333333333333,E=p(y,function(Y){return T.getComputedStyle(Y).backgroundColor});E!=null&&(C.fillColor=E);var M=p(y,function(Y){return T.getComputedStyle(Y).color});M!=null&&(C.textColor=M);var I=b(S,w);I&&(C.cellPadding=I);var B="borderTopColor",O=k*w,j=S.borderTopWidth;if(S.borderBottomWidth===j&&S.borderRightWidth===j&&S.borderLeftWidth===j){var U=(parseFloat(j)||0)/O;U&&(C.lineWidth=U)}else C.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/O,right:(parseFloat(S.borderRightWidth)||0)/O,bottom:(parseFloat(S.borderBottomWidth)||0)/O,left:(parseFloat(S.borderLeftWidth)||0)/O},C.lineWidth.top||(C.lineWidth.right?B="borderRightColor":C.lineWidth.bottom?B="borderBottomColor":C.lineWidth.left&&(B="borderLeftColor"));var F=p(y,function(Y){return T.getComputedStyle(Y)[B]});F!=null&&(C.lineColor=F);var G=["left","right","center","justify"];G.indexOf(S.textAlign)!==-1&&(C.halign=S.textAlign),G=["middle","bottom","top"],G.indexOf(S.verticalAlign)!==-1&&(C.valign=S.verticalAlign);var R=parseInt(S.fontSize||"");isNaN(R)||(C.fontSize=R/k);var $=h(S);$&&(C.fontStyle=$);var H=(S.fontFamily||"").toLowerCase();return x.indexOf(H)!==-1&&(C.font=H),C}l.parseCss=d;function h(x){var y="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(y="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(y+="italic"),y}function p(x,y){var w=v(x,y);if(!w)return null;var S=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var T=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],C=parseInt(S[4]);return C===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function v(x,y){var w=y(x);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?x.parentElement==null?null:v(x.parentElement,y):w}function b(x,y){var w=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],S=96/(72/y),T=(parseInt(x.lineHeight)-parseInt(x.fontSize))/y/2,C=w.map(function(E){return parseInt(E||"0")/S}),k=(0,c.parseSpacing)(C,0);return T>k.top&&(k.top=T),T>k.bottom&&(k.bottom=T),k}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function d(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return d.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},d.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},d.prototype.applyStyles=function(h,p){var v,b,x;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var y=this.jsPDFDocument.internal.getFont(),w=y.fontStyle,S=y.fontName;if(h.font&&(S=h.font),h.fontStyle){w=h.fontStyle;var T=this.getFontList()[S];T&&T.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),w=T[0])}if(this.jsPDFDocument.setFont(S,w),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var C=d.unifyColor(h.fillColor);C&&(v=this.jsPDFDocument).setFillColor.apply(v,C),C=d.unifyColor(h.textColor),C&&(b=this.jsPDFDocument).setTextColor.apply(b,C),C=d.unifyColor(h.lineColor),C&&(x=this.jsPDFDocument).setDrawColor.apply(x,C),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},d.prototype.splitTextToSize=function(h,p,v){return this.jsPDFDocument.splitTextToSize(h,p,v)},d.prototype.rect=function(h,p,v,b,x){return this.jsPDFDocument.rect(h,p,v,b,x)},d.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},d.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},d.prototype.getDocument=function(){return this.jsPDFDocument},d.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},d.prototype.addPage=function(){return this.jsPDFDocument.addPage()},d.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},d.prototype.getGlobalOptions=function(){return u||{}},d.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},d.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},d.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},d.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},d.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},d.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},d}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),d=u(796);function h(b,x,y,w,S){var T,C;w===void 0&&(w=!1),S===void 0&&(S=!1);var k;typeof x=="string"?k=y.document.querySelector(x):k=x;var E=Object.keys(b.getFontList()),M=b.scaleFactor(),I=[],B=[],O=[];if(!k)return console.error("Html table could not be found with input: ",x),{head:I,body:B,foot:O};for(var j=0;j<k.rows.length;j++){var U=k.rows[j],F=(C=(T=U==null?void 0:U.parentElement)===null||T===void 0?void 0:T.tagName)===null||C===void 0?void 0:C.toLowerCase(),G=p(E,M,y,U,w,S);G&&(F==="thead"?I.push(G):F==="tfoot"?O.push(G):B.push(G))}return{head:I,body:B,foot:O}}l.parseHtml=h;function p(b,x,y,w,S,T){for(var C=new d.HtmlRowInput(w),k=0;k<w.cells.length;k++){var E=w.cells[k],M=y.getComputedStyle(E);if(S||M.display!=="none"){var I=void 0;T&&(I=(0,c.parseCss)(b,E,x,M,y)),C.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:I,_element:E,content:v(E)})}}var B=y.getComputedStyle(w);if(C.length>0&&(S||B.display!=="none"))return C}function v(b){var x=b.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),d=u(356),h=u(420),p=u(744),v=u(792);function b(k,E){var M=new p.DocHandler(k),I=M.getDocumentOptions(),B=M.getGlobalOptions();(0,v.default)(M,B,I,E);var O=(0,d.assign)({},B,I,E),j;typeof window<"u"&&(j=window);var U=x(B,I,E),F=y(B,I,E),G=w(M,O),R=T(M,O,j);return{id:E.tableId,content:R,hooks:F,styles:U,settings:G}}l.parseInput=b;function x(k,E,M){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},B=function(F){if(F==="columnStyles"){var G=k[F],R=E[F],$=M[F];I.columnStyles=(0,d.assign)({},G,R,$)}else{var H=[k,E,M],Y=H.map(function(X){return X[F]||{}});I[F]=(0,d.assign)({},Y[0],Y[1],Y[2])}},O=0,j=Object.keys(I);O<j.length;O++){var U=j[O];B(U)}return I}function y(k,E,M){for(var I=[k,E,M],B={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,j=I;O<j.length;O++){var U=j[O];U.didParseCell&&B.didParseCell.push(U.didParseCell),U.willDrawCell&&B.willDrawCell.push(U.willDrawCell),U.didDrawCell&&B.didDrawCell.push(U.didDrawCell),U.willDrawPage&&B.willDrawPage.push(U.willDrawPage),U.didDrawPage&&B.didDrawPage.push(U.didDrawPage)}return B}function w(k,E){var M,I,B,O,j,U,F,G,R,$,H,Y,X=(0,h.parseSpacing)(E.margin,40/k.scaleFactor()),te=(M=S(k,E.startY))!==null&&M!==void 0?M:X.top,D;E.showFoot===!0?D="everyPage":E.showFoot===!1?D="never":D=(I=E.showFoot)!==null&&I!==void 0?I:"everyPage";var q;E.showHead===!0?q="everyPage":E.showHead===!1?q="never":q=(B=E.showHead)!==null&&B!==void 0?B:"everyPage";var Z=(O=E.useCss)!==null&&O!==void 0?O:!1,ne=E.theme||(Z?"plain":"striped"),ae=!!E.horizontalPageBreak,me=(j=E.horizontalPageBreakRepeat)!==null&&j!==void 0?j:null;return{includeHiddenHtml:(U=E.includeHiddenHtml)!==null&&U!==void 0?U:!1,useCss:Z,theme:ne,startY:te,margin:X,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(G=E.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(R=E.tableWidth)!==null&&R!==void 0?R:"auto",showHead:q,showFoot:D,tableLineWidth:($=E.tableLineWidth)!==null&&$!==void 0?$:0,tableLineColor:(H=E.tableLineColor)!==null&&H!==void 0?H:200,horizontalPageBreak:ae,horizontalPageBreakRepeat:me,horizontalPageBreakBehaviour:(Y=E.horizontalPageBreakBehaviour)!==null&&Y!==void 0?Y:"afterAllRows"}}function S(k,E){var M=k.getLastAutoTable(),I=k.scaleFactor(),B=k.pageNumber(),O=!1;if(M&&M.startPageNumber){var j=M.startPageNumber+M.pageNumber-1;O=j===B}return typeof E=="number"?E:(E==null||E===!1)&&O&&(M==null?void 0:M.finalY)!=null?M.finalY+20/I:null}function T(k,E,M){var I=E.head||[],B=E.body||[],O=E.foot||[];if(E.html){var j=E.includeHiddenHtml;if(M){var U=(0,c.parseHtml)(k,E.html,M,j,E.useCss)||{};I=U.head||I,B=U.body||I,O=U.foot||I}else console.error("Cannot parse html in non browser environment")}var F=E.columns||C(I,B,O);return{columns:F,head:I,body:B,foot:O}}function C(k,E,M){var I=k[0]||E[0]||M[0]||[],B=[];return Object.keys(I).filter(function(O){return O!=="_element"}).forEach(function(O){var j=1,U;Array.isArray(I)?U=I[parseInt(O)]:U=I[O],typeof U=="object"&&!Array.isArray(U)&&(j=(U==null?void 0:U.colSpan)||1);for(var F=0;F<j;F++){var G=void 0;Array.isArray(I)?G=B.length:G=O+(F>0?"_".concat(F):"");var R={dataKey:G};B.push(R)}}),B}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(d,h,p,v){for(var b=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(O){d.applyStyles(d.userStyles),S.beforePageContent&&S.beforePageContent(O),d.applyStyles(d.userStyles),S.afterPageContent&&S.afterPageContent(O),d.applyStyles(d.userStyles),S.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),d.applyStyles(d.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){S[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var j=O[0],U=O[1];S[U]&&(console.error("Use of deprecated option ".concat(U,". Use ").concat(j," instead")),S[j]=S[U])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var j=typeof O=="string"?O:O[0],U=typeof O=="string"?O:O[1];typeof S[j]<"u"&&(typeof S.styles[U]>"u"&&(S.styles[U]=S[j]),console.error("Use of deprecated option: "+j+", use the style "+U+" instead."))});for(var T=0,C=["styles","bodyStyles","headStyles","footStyles"];T<C.length;T++){var k=C[T];c(S[k]||{})}for(var E=S.columnStyles||{},M=0,I=Object.keys(E);M<I.length;M++){var B=I[M];c(E[B]||{})}},x=0,y=[h,p,v];x<y.length;x++){var w=y[x];b(w)}}l.default=u;function c(d){d.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),d.minCellHeight||(d.minCellHeight=d.rowHeight)):d.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),d.cellWidth||(d.cellWidth=d.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),d=u(172),h=u(420),p=function(){function y(w,S){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return y.prototype.getHeadHeight=function(w){return this.head.reduce(function(S,T){return S+T.getMaxCellHeight(w)},0)},y.prototype.getFootHeight=function(w){return this.foot.reduce(function(S,T){return S+T.getMaxCellHeight(w)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(w,S,T,C,k,E){for(var M=0,I=S;M<I.length;M++){var B=I[M],O=new d.CellHookData(w,this,T,C,k,E),j=B(O)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],j)return!1}return!0},y.prototype.callEndPageHooks=function(w,S){w.applyStyles(w.userStyles);for(var T=0,C=this.hooks.didDrawPage;T<C.length;T++){var k=C[T];k(new d.HookData(w,this,S))}},y.prototype.callWillDrawPageHooks=function(w,S){for(var T=0,C=this.hooks.willDrawPage;T<C.length;T++){var k=C[T];k(new d.HookData(w,this,S))}},y.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(C,k){return C+k.wrappedWidth},0);return S}else{var T=this.settings.margin;return w-T.left-T.right}},y}();l.Table=p;var v=function(){function y(w,S,T,C,k){k===void 0&&(k=!1),this.height=0,this.raw=w,w instanceof c.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=S,this.section=T,this.cells=C,this.spansMultiplePages=k}return y.prototype.getMaxCellHeight=function(w){var S=this;return w.reduce(function(T,C){var k;return Math.max(T,((k=S.cells[C.index])===null||k===void 0?void 0:k.height)||0)},0)},y.prototype.hasRowSpan=function(w){var S=this;return w.filter(function(T){var C=S.cells[T.index];return C?C.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(w,S){return this.getMaxCellHeight(S)<=w},y.prototype.getMinimumRowHeight=function(w,S){var T=this;return w.reduce(function(C,k){var E=T.cells[k.index];if(!E)return 0;var M=S.getLineHeight(E.styles.fontSize),I=E.padding("vertical"),B=I+M;return B>C?B:C},0)},y}();l.Row=v;var b=function(){function y(w,S,T){var C,k;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=T,this.raw=w;var E=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,E=(k=(C=w.content)!==null&&C!==void 0?C:w.title)!==null&&k!==void 0?k:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var M=E!=null?""+E:"",I=/\r\n|\r|\n/g;this.text=M.split(I)}return y.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");w=this.y+S/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");T=this.x+C/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:w}},y.prototype.getContentHeight=function(w,S){S===void 0&&(S=1.15);var T=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/w*S,k=T*C+this.padding("vertical");return Math.max(k,this.styles.minCellHeight)},y.prototype.padding=function(w){var S=(0,h.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?S.top+S.bottom:w==="horizontal"?S.left+S.right:S[w]},y}();l.Cell=b;var x=function(){function y(w,S,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=S,this.index=T}return y.prototype.getMaxCustomCellWidth=function(w){for(var S=0,T=0,C=w.allRows();T<C.length;T++){var k=C[T],E=k.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(S=Math.max(S,E.styles.cellWidth))}return S},y}();l.Column=x},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,d,h,p,v){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(c),x=1;x<arguments.length;x++){var y=arguments[x];if(y!=null)for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(b[w]=y[w])}return b}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),d=u(260),h=u(324),p=u(796),v=u(356);function b(k,E){var M=new c.DocHandler(k),I=x(E,M.scaleFactor()),B=new d.Table(E,I);return(0,h.calculateWidths)(M,B),M.applyStyles(M.userStyles),B}l.createTable=b;function x(k,E){var M=k.content,I=T(M.columns);if(M.head.length===0){var B=w(I,"head");B&&M.head.push(B)}if(M.foot.length===0){var B=w(I,"foot");B&&M.foot.push(B)}var O=k.settings.theme,j=k.styles;return{columns:I,head:y("head",M.head,I,j,O,E),body:y("body",M.body,I,j,O,E),foot:y("foot",M.foot,I,j,O,E)}}function y(k,E,M,I,B,O){var j={},U=E.map(function(F,G){for(var R=0,$={},H=0,Y=0,X=0,te=M;X<te.length;X++){var D=te[X];if(j[D.index]==null||j[D.index].left===0)if(Y===0){var q=void 0;Array.isArray(F)?q=F[D.index-H-R]:q=F[D.dataKey];var Z={};typeof q=="object"&&!Array.isArray(q)&&(Z=(q==null?void 0:q.styles)||{});var ne=C(k,D,G,B,I,O,Z),ae=new d.Cell(q,ne,k);$[D.dataKey]=ae,$[D.index]=ae,Y=ae.colSpan-1,j[D.index]={left:ae.rowSpan-1,times:Y}}else Y--,H++;else j[D.index].left--,Y=j[D.index].times,R++}return new d.Row(F,G,k,$)});return U}function w(k,E){var M={};return k.forEach(function(I){if(I.raw!=null){var B=S(E,I.raw);B!=null&&(M[I.dataKey]=B)}}),Object.keys(M).length>0?M:null}function S(k,E){if(k==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(k==="foot"&&typeof E=="object")return E.footer;return null}function T(k){return k.map(function(E,M){var I,B,O;return typeof E=="object"?O=(B=(I=E.dataKey)!==null&&I!==void 0?I:E.key)!==null&&B!==void 0?B:M:O=M,new d.Column(O,E,M)})}function C(k,E,M,I,B,O,j){var U=(0,p.getTheme)(I),F;k==="head"?F=B.headStyles:k==="body"?F=B.bodyStyles:k==="foot"&&(F=B.footStyles);var G=(0,v.assign)({},U.table,U[k],B.styles,F),R=B.columnStyles[E.dataKey]||B.columnStyles[E.index]||{},$=k==="body"?R:{},H=k==="body"&&M%2===0?(0,v.assign)({},U.alternateRow,B.alternateRowStyles):{},Y=(0,p.defaultStyles)(O),X=(0,v.assign)({},Y,G,H,$);return(0,v.assign)(X,j)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),d=u(260),h=u(744),p=u(356),v=u(136),b=u(224);function x(R,$){var H=$.settings,Y=H.startY,X=H.margin,te={x:X.left,y:Y},D=$.getHeadHeight($.columns)+$.getFootHeight($.columns),q=Y+X.bottom+D;if(H.pageBreak==="avoid"){var Z=$.body,ne=Z.reduce(function(Ae,W){return Ae+W.height},0);q+=ne}var ae=new h.DocHandler(R);(H.pageBreak==="always"||H.startY!=null&&q>ae.pageSize().height)&&(G(ae),te.y=X.top),$.callWillDrawPageHooks(ae,te);var me=(0,p.assign)({},te);$.startPageNumber=ae.pageNumber(),H.horizontalPageBreak?y(ae,$,me,te):(ae.applyStyles(ae.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&$.head.forEach(function(Ae){return B(ae,$,Ae,te,$.columns)}),ae.applyStyles(ae.userStyles),$.body.forEach(function(Ae,W){var le=W===$.body.length-1;I(ae,$,Ae,le,me,te,$.columns)}),ae.applyStyles(ae.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&$.foot.forEach(function(Ae){return B(ae,$,Ae,te,$.columns)})),(0,c.addTableBorder)(ae,$,me,te),$.callEndPageHooks(ae,te),$.finalY=te.y,R.lastAutoTable=$,R.previousAutoTable=$,R.autoTable&&(R.autoTable.previous=$),ae.applyStyles(ae.userStyles)}l.drawTable=x;function y(R,$,H,Y){var X=(0,b.calculateAllColumnsCanFitInPage)(R,$),te=$.settings;if(te.horizontalPageBreakBehaviour==="afterAllRows")X.forEach(function(ne,ae){R.applyStyles(R.userStyles),ae>0?F(R,$,H,Y,ne.columns,!0):w(R,$,Y,ne.columns),S(R,$,H,Y,ne.columns),C(R,$,Y,ne.columns)});else for(var D=-1,q=X[0],Z=function(){var ne=D;if(q){R.applyStyles(R.userStyles);var ae=q.columns;D>=0?F(R,$,H,Y,ae,!0):w(R,$,Y,ae),ne=T(R,$,D+1,Y,ae),C(R,$,Y,ae)}var me=ne-D;X.slice(1).forEach(function(Ae){R.applyStyles(R.userStyles),F(R,$,H,Y,Ae.columns,!0),T(R,$,D+1,Y,Ae.columns,me),C(R,$,Y,Ae.columns)}),D=ne};D<$.body.length-1;)Z()}function w(R,$,H,Y){var X=$.settings;R.applyStyles(R.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&$.head.forEach(function(te){return B(R,$,te,H,Y)})}function S(R,$,H,Y,X){R.applyStyles(R.userStyles),$.body.forEach(function(te,D){var q=D===$.body.length-1;I(R,$,te,q,H,Y,X)})}function T(R,$,H,Y,X,te){R.applyStyles(R.userStyles),te=te??$.body.length;var D=Math.min(H+te,$.body.length),q=-1;return $.body.slice(H,D).forEach(function(Z,ne){var ae=H+ne===$.body.length-1,me=U(R,$,ae,Y);Z.canEntireRowFit(me,X)&&(B(R,$,Z,Y,X),q=H+ne)}),q}function C(R,$,H,Y){var X=$.settings;R.applyStyles(R.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&$.foot.forEach(function(te){return B(R,$,te,H,Y)})}function k(R,$,H){var Y=H.getLineHeight(R.styles.fontSize),X=R.padding("vertical"),te=Math.floor(($-X)/Y);return Math.max(0,te)}function E(R,$,H,Y){var X={};R.spansMultiplePages=!0,R.height=0;for(var te=0,D=0,q=H.columns;D<q.length;D++){var Z=q[D],ne=R.cells[Z.index];if(ne){Array.isArray(ne.text)||(ne.text=[ne.text]);var ae=new d.Cell(ne.raw,ne.styles,ne.section);ae=(0,p.assign)(ae,ne),ae.text=[];var me=k(ne,$,Y);ne.text.length>me&&(ae.text=ne.text.splice(me,ne.text.length));var Ae=Y.scaleFactor(),W=Y.getLineHeightFactor();ne.contentHeight=ne.getContentHeight(Ae,W),ne.contentHeight>=$&&(ne.contentHeight=$,ae.styles.minCellHeight-=$),ne.contentHeight>R.height&&(R.height=ne.contentHeight),ae.contentHeight=ae.getContentHeight(Ae,W),ae.contentHeight>te&&(te=ae.contentHeight),X[Z.index]=ae}}var le=new d.Row(R.raw,-1,R.section,X,!0);le.height=te;for(var ce=0,ue=H.columns;ce<ue.length;ce++){var Z=ue[ce],ae=le.cells[Z.index];ae&&(ae.height=le.height);var ne=R.cells[Z.index];ne&&(ne.height=R.height)}return le}function M(R,$,H,Y){var X=R.pageSize().height,te=Y.settings.margin,D=te.top+te.bottom,q=X-D;$.section==="body"&&(q-=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns));var Z=$.getMinimumRowHeight(Y.columns,R),ne=Z<H;if(Z>q)return console.error("Will not be able to print row ".concat($.index," correctly since it's minimum height is larger than page height")),!0;if(!ne)return!1;var ae=$.hasRowSpan(Y.columns),me=$.getMaxCellHeight(Y.columns)>q;return me?(ae&&console.error("The content of row ".concat($.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ae||Y.settings.rowPageBreak==="avoid")}function I(R,$,H,Y,X,te,D){var q=U(R,$,Y,te);if(H.canEntireRowFit(q,D))B(R,$,H,te,D);else if(M(R,H,q,$)){var Z=E(H,q,$,R);B(R,$,H,te,D),F(R,$,X,te,D),I(R,$,Z,Y,X,te,D)}else F(R,$,X,te,D),I(R,$,H,Y,X,te,D)}function B(R,$,H,Y,X){Y.x=$.settings.margin.left;for(var te=0,D=X;te<D.length;te++){var q=D[te],Z=H.cells[q.index];if(!Z){Y.x+=q.width;continue}R.applyStyles(Z.styles),Z.x=Y.x,Z.y=Y.y;var ne=$.callCellHooks(R,$.hooks.willDrawCell,Z,H,q,Y);if(ne===!1){Y.x+=q.width;continue}O(R,Z,Y);var ae=Z.getTextPos();(0,v.default)(Z.text,ae.x,ae.y,{halign:Z.styles.halign,valign:Z.styles.valign,maxWidth:Math.ceil(Z.width-Z.padding("left")-Z.padding("right"))},R.getDocument()),$.callCellHooks(R,$.hooks.didDrawCell,Z,H,q,Y),Y.x+=q.width}Y.y+=H.height}function O(R,$,H){var Y=$.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof Y.lineWidth=="number"){var X=(0,c.getFillStyle)(Y.lineWidth,Y.fillColor);X&&R.rect($.x,H.y,$.width,$.height,X)}else typeof Y.lineWidth=="object"&&(Y.fillColor&&R.rect($.x,H.y,$.width,$.height,"F"),j(R,$,H,Y.lineWidth))}function j(R,$,H,Y){var X,te,D,q;Y.top&&(X=H.x,te=H.y,D=H.x+$.width,q=H.y,Y.right&&(D+=.5*Y.right),Y.left&&(X-=.5*Y.left),Z(Y.top,X,te,D,q)),Y.bottom&&(X=H.x,te=H.y+$.height,D=H.x+$.width,q=H.y+$.height,Y.right&&(D+=.5*Y.right),Y.left&&(X-=.5*Y.left),Z(Y.bottom,X,te,D,q)),Y.left&&(X=H.x,te=H.y,D=H.x,q=H.y+$.height,Y.top&&(te-=.5*Y.top),Y.bottom&&(q+=.5*Y.bottom),Z(Y.left,X,te,D,q)),Y.right&&(X=H.x+$.width,te=H.y,D=H.x+$.width,q=H.y+$.height,Y.top&&(te-=.5*Y.top),Y.bottom&&(q+=.5*Y.bottom),Z(Y.right,X,te,D,q));function Z(ne,ae,me,Ae,W){R.getDocument().setLineWidth(ne),R.getDocument().line(ae,me,Ae,W,"S")}}function U(R,$,H,Y){var X=$.settings.margin.bottom,te=$.settings.showFoot;return(te==="everyPage"||te==="lastPage"&&H)&&(X+=$.getFootHeight($.columns)),R.pageSize().height-Y.y-X}function F(R,$,H,Y,X,te){X===void 0&&(X=[]),te===void 0&&(te=!1),R.applyStyles(R.userStyles),$.settings.showFoot==="everyPage"&&!te&&$.foot.forEach(function(q){return B(R,$,q,Y,X)}),$.callEndPageHooks(R,Y);var D=$.settings.margin;(0,c.addTableBorder)(R,$,H,Y),G(R),$.pageNumber++,$.pageCount++,Y.x=D.left,Y.y=D.top,H.y=D.top,$.callWillDrawPageHooks(R,Y),$.settings.showHead==="everyPage"&&($.head.forEach(function(q){return B(R,$,q,Y,X)}),R.applyStyles(R.userStyles))}l.addPage=F;function G(R){var $=R.pageNumber();R.setPage($+1);var H=R.pageNumber();return H===$?(R.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function d(p,v,b){var x;b===void 0&&(b={});var y=(0,c.getPageAvailableWidth)(p,v),w=new Map,S=[],T=[],C=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?C=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(C=[v.settings.horizontalPageBreakRepeat]),C.forEach(function(I){var B=v.columns.find(function(O){return O.dataKey===I||O.index===I});B&&!w.has(B.index)&&(w.set(B.index,!0),S.push(B.index),T.push(v.columns[B.index]),y-=B.wrappedWidth)});for(var k=!0,E=(x=b==null?void 0:b.start)!==null&&x!==void 0?x:0;E<v.columns.length;){if(w.has(E)){E++;continue}var M=v.columns[E].wrappedWidth;if(k||y>=M)k=!1,S.push(E),T.push(v.columns[E]),y-=M;else break;E++}return{colIndexes:S,columns:T,lastIndex:E-1}}function h(p,v){for(var b=[],x=0;x<v.columns.length;x++){var y=d(p,v,{start:x});y.columns.length&&(b.push(y),x=y.lastIndex)}return b}l.calculateAllColumnsCanFitInPage=h},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function d(S,T){h(S,T);var C=[],k=0;T.columns.forEach(function(M){var I=M.getMaxCustomCellWidth(T);I?M.width=I:(M.width=M.wrappedWidth,C.push(M)),k+=M.width});var E=T.getWidth(S.pageSize().width)-k;E&&(E=p(C,E,function(M){return Math.max(M.minReadableWidth,M.minWidth)})),E&&(E=p(C,E,function(M){return M.minWidth})),E=Math.abs(E),!T.settings.horizontalPageBreak&&E>.1/S.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),b(T),x(T,S),v(T)}l.calculateWidths=d;function h(S,T){var C=S.scaleFactor(),k=T.settings.horizontalPageBreak,E=(0,c.getPageAvailableWidth)(S,T);T.allRows().forEach(function(M){for(var I=0,B=T.columns;I<B.length;I++){var O=B[I],j=M.cells[O.index];if(j){var U=T.hooks.didParseCell;T.callCellHooks(S,U,j,M,O,null);var F=j.padding("horizontal");j.contentWidth=(0,c.getStringWidth)(j.text,j.styles,S)+F;var G=(0,c.getStringWidth)(j.text.join(" ").split(/[^\S\u00A0]+/),j.styles,S);if(j.minReadableWidth=G+j.padding("horizontal"),typeof j.styles.cellWidth=="number")j.minWidth=j.styles.cellWidth,j.wrappedWidth=j.styles.cellWidth;else if(j.styles.cellWidth==="wrap"||k===!0)j.contentWidth>E?(j.minWidth=E,j.wrappedWidth=E):(j.minWidth=j.contentWidth,j.wrappedWidth=j.contentWidth);else{var R=10/C;j.minWidth=j.styles.minCellWidth||R,j.wrappedWidth=j.contentWidth,j.minWidth>j.wrappedWidth&&(j.wrappedWidth=j.minWidth)}}}}),T.allRows().forEach(function(M){for(var I=0,B=T.columns;I<B.length;I++){var O=B[I],j=M.cells[O.index];if(j&&j.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,j.wrappedWidth),O.minWidth=Math.max(O.minWidth,j.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,j.minReadableWidth);else{var U=T.styles.columnStyles[O.dataKey]||T.styles.columnStyles[O.index]||{},F=U.cellWidth||U.minCellWidth;F&&typeof F=="number"&&(O.minWidth=F,O.wrappedWidth=F)}j&&(j.colSpan>1&&!O.minWidth&&(O.minWidth=j.minWidth),j.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=j.minWidth))}})}function p(S,T,C){for(var k=T,E=S.reduce(function(R,$){return R+$.wrappedWidth},0),M=0;M<S.length;M++){var I=S[M],B=I.wrappedWidth/E,O=k*B,j=I.width+O,U=C(I),F=j<U?U:j;T-=F-I.width,I.width=F}if(T=Math.round(T*1e10)/1e10,T){var G=S.filter(function(R){return T<0?R.width>C(R):!0});G.length&&(T=p(G,T,C))}return T}l.resizeColumns=p;function v(S){for(var T={},C=1,k=S.allRows(),E=0;E<k.length;E++)for(var M=k[E],I=0,B=S.columns;I<B.length;I++){var O=B[I],j=T[O.index];if(C>1)C--,delete M.cells[O.index];else if(j)j.cell.height+=M.height,C=j.cell.colSpan,delete M.cells[O.index],j.left--,j.left<=1&&delete T[O.index];else{var U=M.cells[O.index];if(!U)continue;if(U.height=M.height,U.rowSpan>1){var F=k.length-E,G=U.rowSpan>F?F:U.rowSpan;T[O.index]={cell:U,left:G,row:M}}}}}function b(S){for(var T=S.allRows(),C=0;C<T.length;C++)for(var k=T[C],E=null,M=0,I=0,B=0;B<S.columns.length;B++){var O=S.columns[B];if(I-=1,I>1&&S.columns[B+1])M+=O.width,delete k.cells[O.index];else if(E){var j=E;delete k.cells[O.index],E=null,j.width=O.width+M}else{var j=k.cells[O.index];if(!j)continue;if(I=j.colSpan,M=0,j.colSpan>1){E=j,M+=O.width;continue}j.width=O.width+M}}}function x(S,T){for(var C={count:0,height:0},k=0,E=S.allRows();k<E.length;k++){for(var M=E[k],I=0,B=S.columns;I<B.length;I++){var O=B[I],j=M.cells[O.index];if(j){T.applyStyles(j.styles,!0);var U=j.width-j.padding("horizontal");if(j.styles.overflow==="linebreak")j.text=T.splitTextToSize(j.text,U+1/T.scaleFactor(),{fontSize:j.styles.fontSize});else if(j.styles.overflow==="ellipsize")j.text=y(j.text,U,j.styles,T,"...");else if(j.styles.overflow==="hidden")j.text=y(j.text,U,j.styles,T,"");else if(typeof j.styles.overflow=="function"){var F=j.styles.overflow(j.text,U);typeof F=="string"?j.text=[F]:j.text=F}j.contentHeight=j.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var G=j.contentHeight/j.rowSpan;j.rowSpan>1&&C.count*C.height<G*j.rowSpan?C={height:G,count:j.rowSpan}:C&&C.count>0&&C.height>G&&(G=C.height),G>M.height&&(M.height=G)}}C.count--}}function y(S,T,C,k,E){return S.map(function(M){return w(M,T,C,k,E)})}l.ellipsize=y;function w(S,T,C,k,E){var M=1e4*k.scaleFactor();if(T=Math.ceil(T*M)/M,T>=(0,c.getStringWidth)(S,C,k))return S;for(;T<(0,c.getStringWidth)(S+E,C,k)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+E}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),d=a(972),h=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return h.Table}});var p=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var v=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return v.Row}});function b(T){(0,l.default)(T)}s.applyPlugin=b;function x(T,C){var k=(0,u.parseInput)(T,C),E=(0,d.createTable)(T,k);(0,c.drawTable)(T,E)}function y(T,C){var k=(0,u.parseInput)(T,C);return(0,d.createTable)(T,k)}s.__createTable=y;function w(T,C){(0,c.drawTable)(T,C)}s.__drawTable=w;try{var S=a(964);S.jsPDF&&(S=S.jsPDF),b(S)}catch{}s.default=x}(),o}()})})(LI);var kZ=LI.exports;const s0=Jt(kZ),k1="data:application/font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAAAAQAAAAIAAAGDAAAAAAFT1MvMg8SDzQAAAZgAAAAYGNtYXABDQGXAAAIJAAAAOpnYXNw//8AAwAAGYQAAAAIZ2x5ZgscA3UAABmUAAE4YGhlYWQG41YJAAA8ZAAAADZoaGVhA+IB6AAAAD3sAAAAJGhtdHgAewYIAAABQAAAALRsb2NhAIwBqAAAE0gAAAFQbWF4cAIgA2gAAD4UAAAAIG5hbWXLh+9IAAAR0AAAAYdwb3N0/5wAMQAAFUgAAAAgcHJlcGgGjIUDAAAY/AAAAFMAAQAAAAEAAC7a32BfDzz1AAsEAAAAAADbB8BSAAAAANsHwFIAAAAAAIAAAACAAAAAwAAABQAAwABAAAAFAAEAEAAAAAMAAgAAgAEAAEAIOkB//8AAOkg///+8wDsAPAAAwAAAAAAAAECAAAAAAAAAAAAAAICAAUAAAAAAAAAAAAAAAACAAEAAgAGAAgAAwABBAkAAQACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAIAAwABBAkAAgACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAgAAAAAAAAAAAACACgAAAAAAAoAP8AwADgAAAAAAAAAAAAAAMwAZAAAAAAAAABkAUAAAAAAAAAAAAAAAACQAZAAAAAAAAAAQADgAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAUAFQAAAAAAAAAAAAAABgAYAAAAAAAAAAAAAAAHABsAAAAAAAAAAAAAAAgAIAAAAAAAAAAAAAAACQAhAAAAAAAAAAAAAAAKACMAAAAAAAAAAAAAAAsAKgAAAAAAAAAAAAAADAAqAAAAAAAAAAAAAAANACwAAAAAAAAAAAAAAA4ALgAAAAAAAAAAAAAADwAvAAAAAAAAAAAAAAABAAAADgAAAAAAAAAAAAAAAQAIAAIAAAAAAAAAAgAAAAEAAQABAAAAAgAAAAIAAgABAAIAAgACAAEAAgACAAIAAgACAAEAAwACAAQAAwACAAQABQADAAYAAgAHAAkABQAIAAgACQAJAAoACQALAAkADAAJAA0ACQAOAAkADwAJABAACQARAAkAEgAJABMACQAUAAkAFQAJABYACQAXAAkAGAACABkACgAaAAoAGwAKABwACgAdAAoAHgAKAB8ACgAgAAoAIQAKACQAKgAlACoAJgAqACcAKgAoACoAKQAqACoAKgArACoALAAsAC0ALAAuACwALwAsADAALAAxACwAMgAsADMALAA0ACwANQAsADYALAA3ACwAOAAsADkALAA6ACwAOwAsADwALAA9ACwAPgAsAD8ALAA/ACwAQAB/AEIAfwBDAH8ARAB/AEUAfwBGAH8ARwB/AEgAQQBBAEIAQQBDAEEARABBAEUAQQBGAEEARwBBAEgAQgBIAEMASABEAEMASQBGAEcASABHAEgASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBsAG0AbgBvAHAAcQByAHMAdAB1AGMAAAAABgADAPgACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAdG9wZQAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAMjAwMjAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAACAAQAAAPgA8AD8ARABIAFoAYABqAHQAgACSAKwAwADcAOwA8AEAARgBKAE4AUQBXAFsAXgBiAGcAbQBzAHkAfACKAJYAnQCqAK8AsgC4ALsAxADFAMcAzgDQANUA2ADbAN8A4wDnAPcA+gD/AQUA7QDvAPEA8wD1APgA+wD9AP8BBAEEAQwBFQEaASQBKwEyATYBOgE+AUIDQgNGA0oDTgNSA1YDWgNeA2IDZgNqA24DcQN2A3kDfgOAA4QDiAOOA5IDlAOYA5wDoAOmA6oDrgOyA7YDuwPCA8YDyQPOBAAECgQWBBwEIgQoBDIEOgRABEYEUARWBFwEZAQAAAQAAAAAAAAAAAAAAAAAB/8AAQAHAAABAAAAAAAAAAAAAAAAABoBAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAABAAADAPgAAwADAPgAAQADAPgABQADAPgA//8ABQAAAAAAAAACAAYAAAAUAAEAAAABAAIAAAAAAAAAAQAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-Regular.ttf",l0=(t,e)=>{try{if(!k1||!k1.includes(","))throw new Error("Invalid font data URI");const n=k1.split(",")[1];t.addFileToVFS("Amiri-Regular.ttf",n),t.addFont("Amiri-Regular.ttf","Amiri","normal"),t.setFont("Amiri")}catch(n){console.error("Error loading custom font for PDF, falling back to default.",n),t.setFont("helvetica")}},Da=(t,e,n,r,i,a)=>{if(n.length===0){alert(a);return}const o=new ct;l0(o),o.setFontSize(18);const s=o.internal.pageSize.getWidth();o.text(t,s/2,20,{align:"center"}),s0(o,{head:[e],body:n,startY:30,theme:"grid",styles:{font:"Amiri",halign:i==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}});const l=new Date().toLocaleDateString(i.split("-")[0]);o.save(`${r}_${l}.pdf`)},Vm=(t,e,n)=>{const r=new Date;let i=null,a=new Date;switch(a.setHours(23,59,59,999),e){case"today":i=new Date(r.setHours(0,0,0,0));break;case"week":i=new Date(r),i.setDate(r.getDate()-r.getDay()+(r.getDay()===0?-6:1)),i.setHours(0,0,0,0);break;case"month":i=new Date(r.getFullYear(),r.getMonth(),1);break;case"custom":i=n.start?new Date(n.start):null,a=n.end?new Date(n.end):null,i&&i.setHours(0,0,0,0),a&&a.setHours(23,59,59,999);break;default:return t}return t.filter(o=>{const s=new Date(o.date),l=i?s>=i:!0,u=a?s<=a:!0;return l&&u})},PZ=({variant:t,product:e,onDone:n,t:r})=>(re.useEffect(()=>{const i=()=>{window.removeEventListener("afterprint",i),n()};window.addEventListener("afterprint",i);const a=setTimeout(()=>{i()},500);return window.print(),()=>{clearTimeout(a),window.removeEventListener("afterprint",i)}},[n]),t.barcode?A.jsx("div",{id:"printable-barcode",className:"p-2 bg-white text-black font-sans",style:{width:"80mm",height:"40mm",boxSizing:"border-box"},children:A.jsxs("div",{className:"border border-black p-2 h-full flex flex-col justify-between items-center text-center",children:[A.jsxs("div",{className:"w-full",children:[A.jsx("p",{className:"font-bold text-lg truncate",children:e.name}),A.jsx("p",{className:"text-sm truncate",children:t.name})]}),A.jsxs("div",{className:"w-full my-1",children:[A.jsx("div",{className:"flex justify-center items-end h-10 overflow-hidden",children:t.barcode.split("").map((i,a)=>A.jsx("div",{className:"bg-black",style:{width:`${parseInt(i,16)%3+1}px`,height:`${parseInt(i,16)%40+40}%`}},a))}),A.jsx("p",{className:"font-mono tracking-widest text-lg mt-1",children:t.barcode})]}),A.jsxs("p",{className:"font-extrabold text-xl",children:[t.price.toFixed(2)," DH"]})]})}):null),MZ=({product:t,variants:e,onClose:n,onSave:r,t:i})=>{const[a,o]=re.useState(""),[s,l]=re.useState(1),[u,c]=re.useState(0),[d,h]=re.useState(0);re.useEffect(()=>{e.length===1&&o(e[0].id)},[e]),re.useEffect(()=>{const v=e.find(b=>b.id===a);v?(c(v.purchasePrice),h(v.price),l(1)):(c(0),h(0),l(1))},[a,e]);const p=v=>{if(v.preventDefault(),!a||s===""||s<=0||u===""||u<0||d===""||d<=0){alert(i("fillAllFieldsError"));return}if(d<=u){alert(i("sellingPriceMustBeHigherError"));return}r({variantId:a,quantity:s,purchasePrice:u,sellingPrice:d})};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:i("addStockFor",{name:t.name})}),A.jsxs("form",{onSubmit:p,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"variant",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("variant")}),A.jsxs("select",{id:"variant",value:a,onChange:v=>o(v.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,children:[A.jsx("option",{value:"",disabled:!0,children:i("selectVariant")}),e.map(v=>A.jsx("option",{value:v.id,children:v.name},v.id))]})]}),a&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("quantityToAdd")}),A.jsx("input",{id:"quantity",type:"number",value:s,onChange:v=>l(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("purchasePrice")}),A.jsx("input",{id:"purchasePrice",type:"number",value:u,onChange:v=>c(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"sellingPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("sellingPrice")}),A.jsx("input",{id:"sellingPrice",type:"number",value:d,onChange:v=>h(v.target.value===""?"":parseFloat(v.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[A.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),A.jsx("button",{type:"submit",disabled:!a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400 dark:disabled:bg-slate-500",children:i("save")})]})]})]})})},P1=20,OZ=({storeId:t,products:e,variants:n,suppliers:r,categories:i,stockMap:a,addProduct:o,updateProduct:s,deleteProduct:l,addStockToVariant:u,t:c,language:d})=>{const[h,p]=re.useState(!1),[v,b]=re.useState(null),[x,y]=re.useState(null),[w,S]=re.useState(""),[T,C]=re.useState(""),[k,E]=re.useState(""),[M,I]=re.useState(""),[B,O]=re.useState([]),[j,U]=re.useState([]),[F,G]=re.useState(""),[R,$]=re.useState(null),[H,Y]=re.useState({}),X=re.useMemo(()=>{const Ee=new Map;return n.forEach(ke=>{const xe=Ee.get(ke.productId)||[];xe.push(ke),Ee.set(ke.productId,xe)}),Ee},[n]),te=re.useMemo(()=>{if(!F)return e;const Ee=F.toLowerCase(),ke=new Set(e.filter(Pe=>Pe.name.toLowerCase().includes(Ee)).map(Pe=>Pe.id)),xe=new Set(i.filter(Pe=>Pe.name.toLowerCase().includes(Ee)).map(Pe=>Pe.id));return e.filter(Pe=>ke.has(Pe.id)||Pe.categoryId&&xe.has(Pe.categoryId))},[F,e,i]);re.useEffect(()=>{if(F){const Ee=new Set(te.map(ke=>ke.categoryId||"uncategorized"));U(Array.from(Ee))}else U([]);Y({})},[F,te]);const D=Ee=>{U(ke=>ke.includes(Ee)?ke.filter(xe=>xe!==Ee):[...ke,Ee])},q=()=>{p(!1),b(null),S(""),C(""),E(""),I(""),O([]);const Ee=document.getElementById("productImageFile");Ee&&(Ee.value="")},Z=Ee=>{var ke;p(!0),b(Ee),S(Ee.name),C(Ee.categoryId||""),E(Ee.supplierId||""),I(Ee.image),O(((ke=X.get(Ee.id))==null?void 0:ke.map(xe=>({...xe,priceSemiWholesale:xe.priceSemiWholesale||0,priceWholesale:xe.priceWholesale||0,stockQuantity:a.get(xe.id)||0})))||[]),window.scrollTo({top:0,behavior:"smooth"})},ne=Ee=>{if(Ee.target.files&&Ee.target.files[0]){const ke=Ee.target.files[0],xe=new FileReader;xe.onloadend=()=>I(xe.result),xe.readAsDataURL(ke)}},ae=(Ee,ke,xe)=>{const Pe=[...B];Pe[Ee][ke]=xe,O(Pe)},me=(Ee,ke)=>{if(ke.target.files&&ke.target.files[0]){const xe=ke.target.files[0],Pe=new FileReader;Pe.onloadend=()=>{const ye=[...B];ye[Ee].image=Pe.result,O(ye)},Pe.readAsDataURL(xe)}},Ae=()=>{O([...B,{name:"",price:0,priceSemiWholesale:0,priceWholesale:0,purchasePrice:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:0}])},W=Ee=>{O(B.filter((ke,xe)=>xe!==Ee))},le=async Ee=>{if(Ee.preventDefault(),!w||B.length===0){alert(c("fillNameAndPriceError"));return}for(const ke of B){if(!ke.name||ke.price<=0){alert(c("fillNameAndPriceError"));return}if(ke.price<=ke.purchasePrice){alert(c("sellingPriceMustBeHigherError"));return}}if(h&&v){const ke={...v,name:w,categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(w)}`};await s(ke,B)}else{const ke={storeId:t,name:w,type:"good",categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(w)}`,createdAt:new Date().toISOString()},xe=B.map(({stockQuantity:Pe,...ye})=>ye);await o(ke,xe)}q()},ce=async Ee=>{window.confirm(c("confirmProductDelete"))&&await l(Ee)},ue=()=>{const Ee=[c("productName"),c("variantName"),c("price"),c("purchasePrice"),c("stock"),c("barcode"),c("category"),c("supplier")],ke=n.map(xe=>{var ye,_e;const Pe=e.find(be=>be.id===xe.productId);return[(Pe==null?void 0:Pe.name)||"N/A",xe.name,xe.price,xe.purchasePrice,a.get(xe.id)||0,xe.barcode||"N/A",((ye=i.find(be=>be.id===(Pe==null?void 0:Pe.categoryId)))==null?void 0:ye.name)||"N/A",((_e=r.find(be=>be.id===(Pe==null?void 0:Pe.supplierId)))==null?void 0:_e.name)||"N/A"]});Da(c("productList"),Ee,ke,"products_with_variants",d,c("noDataToExport"))},Me=async Ee=>{x&&(await u({...Ee,supplierId:x.supplierId}),y(null))},De=R?e.find(Ee=>Ee.id===R.productId):null,Ne=Ee=>Ee.map(ke=>{const xe=X.get(ke.id)||[];return A.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[A.jsxs("div",{className:"flex items-center gap-3 md:col-span-5",children:[A.jsx("img",{src:ke.image,alt:ke.name,className:"w-12 h-12 object-cover rounded-md bg-gray-200"}),A.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:ke.name})]}),A.jsx("div",{className:"md:col-span-5",children:xe.length>0?A.jsxs("details",{children:[A.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-teal-700 dark:text-teal-400",children:[xe.length," ",c("variants")]}),A.jsx("ul",{className:"mt-2 space-y-2",children:xe.map(Pe=>A.jsxs("li",{className:"flex items-center gap-3 text-xs p-1 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[A.jsx("img",{src:Pe.image,alt:Pe.name,className:"w-8 h-8 rounded-md object-cover bg-gray-200"}),A.jsx("span",{className:"flex-grow font-semibold text-slate-600 dark:text-slate-300",children:Pe.name}),A.jsxs("span",{className:"font-mono text-cyan-700 dark:text-cyan-400",children:[Pe.price.toFixed(2)," DH"]}),A.jsxs("span",{className:`px-2 py-0.5 font-medium rounded-full text-xs ${(a.get(Pe.id)||0)>Pe.lowStockThreshold?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[c("stock"),": ",a.get(Pe.id)||0]}),Pe.barcode&&A.jsx("button",{onClick:()=>$(Pe),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:c("printBarcodeLabel"),children:A.jsx(Pj,{className:"w-5 h-5"})})]},Pe.id))})]}):A.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:c("noVariants")})}),A.jsxs("div",{className:"flex items-center gap-2 justify-end md:col-span-2",children:[A.jsx("button",{onClick:()=>y(ke),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:c("addStock"),children:A.jsx(al,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>Z(ke),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:A.jsx(Ov,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>ce(ke.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:A.jsx(ni,{className:"w-5 h-5"})})]})]},ke.id)}),oe=(Ee,ke)=>{const xe=Ee.length;if(xe===0&&ke==="uncategorized")return null;if(xe===0)return A.jsx("p",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:c("noProductsInCategory")});const Pe=H[ke]||1,ye=Math.ceil(xe/P1),_e=(Pe-1)*P1,be=_e+P1,Ve=Ee.slice(_e,be),Ge=ot=>{ot<1||ot>ye||Y(ze=>({...ze,[ke]:ot}))};return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Ne(Ve)}),ye>1&&A.jsxs("div",{className:"p-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[A.jsx("button",{onClick:()=>Ge(Pe-1),disabled:Pe===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("previous"),children:A.jsx(yA,{className:"w-5 h-5"})}),A.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",Pe," / ",ye]}),A.jsx("button",{onClick:()=>Ge(Pe+1),disabled:Pe===ye,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("next"),children:A.jsx(uf,{className:"w-5 h-5"})})]})]})};return A.jsxs("div",{className:"space-y-6",children:[R&&De&&A.jsx(PZ,{variant:R,product:De,onDone:()=>$(null),t:c}),x&&A.jsx(MZ,{product:x,variants:X.get(x.id)||[],onClose:()=>y(null),onSave:Me,t:c}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:c(h?"editProduct":"addNewProduct")}),h&&A.jsx("button",{onClick:q,className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:c("cancel")})]}),A.jsxs("form",{onSubmit:le,className:"space-y-6",children:[A.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:c("productInfo")}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[A.jsx("img",{src:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${c("productImagePreview")}`,alt:c("productImagePreview"),className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200"}),A.jsx("input",{type:"file",id:"productImageFile",accept:"image/*",onChange:ne,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),A.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"md:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("productName")}),A.jsx("input",{type:"text",value:w,onChange:Ee=>S(Ee.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:c("productNamePlaceholder"),required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("category")}),A.jsxs("select",{value:T,onChange:Ee=>C(Ee.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[A.jsx("option",{value:"",children:c("selectCategory")}),i.map(Ee=>A.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("supplier")}),A.jsxs("select",{value:k,onChange:Ee=>E(Ee.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[A.jsx("option",{value:"",children:c("selectSupplier")}),r.map(Ee=>A.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]})]})]})]}),A.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:c("productVariants")}),A.jsxs("button",{type:"button",onClick:Ae,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[A.jsx(al,{className:"w-5 h-5"}),c("addVariant")]})]}),A.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:B.map((Ee,ke)=>A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 relative",children:[A.jsx("button",{type:"button",onClick:()=>W(ke),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:A.jsx(ni,{className:"w-5 h-5"})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[A.jsx("img",{src:Ee.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${c("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2 bg-gray-200"}),A.jsx("input",{type:"file",accept:"image/*",onChange:xe=>me(ke,xe),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),A.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"sm:col-span-3",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("variantName")}),A.jsx("input",{type:"text",value:Ee.name,onChange:xe=>ae(ke,"name",xe.target.value),placeholder:c("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("purchasePrice")}),A.jsx("input",{type:"number",value:Ee.purchasePrice,onChange:xe=>ae(ke,"purchasePrice",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("sellingPrice")}),A.jsx("input",{type:"number",value:Ee.price,onChange:xe=>ae(ke,"price",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("semiWholesalePrice")}),A.jsx("input",{type:"number",value:Ee.priceSemiWholesale||"",onChange:xe=>ae(ke,"priceSemiWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("wholesalePrice")}),A.jsx("input",{type:"number",value:Ee.priceWholesale||"",onChange:xe=>ae(ke,"priceWholesale",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("stockQuantity")}),A.jsx("input",{type:"number",value:Ee.stockQuantity,onChange:xe=>ae(ke,"stockQuantity",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.5"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("lowStockThreshold")}),A.jsx("input",{type:"number",value:Ee.lowStockThreshold,onChange:xe=>ae(ke,"lowStockThreshold",parseFloat(xe.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.5"})]}),A.jsxs("div",{className:"sm:col-span-3",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("barcode")}),A.jsx("input",{type:"text",value:Ee.barcode||"",onChange:xe=>ae(ke,"barcode",xe.target.value),placeholder:c("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]})]})]})]},ke))})]}),A.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg",children:c(h?"saveChanges":"saveProduct")})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("productList")}),A.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[A.jsxs("button",{onClick:()=>{q(),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[A.jsx(al,{className:"w-4 h-4"})," ",c("addNewProduct")]}),A.jsxs("div",{className:"relative flex-grow",children:[A.jsx("span",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center pl-3 rtl:pl-0 rtl:pr-3 pointer-events-none",children:A.jsx(xq,{className:"w-5 h-5 text-slate-400"})}),A.jsx("input",{type:"text",placeholder:c("searchProducts"),value:F,onChange:Ee=>G(Ee.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 rtl:pr-10 rtl:pl-4 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-2 focus:ring-teal-500 transition"})]}),A.jsxs("button",{onClick:ue,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[A.jsx(ia,{className:"w-4 h-4"})," ",c("exportToPdf")]})]})]}),A.jsxs("div",{className:"mt-6 space-y-3",children:[i.map(Ee=>{const ke=te.filter(Pe=>Pe.categoryId===Ee.id);if(ke.length===0)return null;const xe=j.includes(Ee.id);return A.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[A.jsxs("button",{onClick:()=>D(Ee.id),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":xe,"aria-controls":`category-panel-${Ee.id}`,children:[A.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[Ee.name," ",A.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",ke.length,")"]})]}),A.jsx(aN,{className:`w-6 h-6 text-slate-500 transition-transform ${xe?"rotate-180":""}`})]}),xe&&A.jsx("div",{id:`category-panel-${Ee.id}`,children:oe(ke,Ee.id)})]},Ee.id)}),(()=>{const Ee=te.filter(xe=>!xe.categoryId);if(Ee.length===0)return null;const ke=j.includes("uncategorized");return A.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[A.jsxs("button",{onClick:()=>D("uncategorized"),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":ke,"aria-controls":"category-panel-uncategorized",children:[A.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[c("uncategorized")," ",A.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ee.length,")"]})]}),A.jsx(aN,{className:`w-6 h-6 text-slate-500 transition-transform ${ke?"rotate-180":""}`})]}),ke&&A.jsx("div",{id:"category-panel-uncategorized",children:oe(Ee,"uncategorized")})]})})(),e.length>0&&te.length===0&&A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noResultsFound")}),e.length===0&&A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noProductsAdded")})]})]})]})},jZ=({service:t,onClose:e,onSave:n,t:r})=>{const[i,a]=re.useState(t),o=l=>{const{id:u,value:c}=l.target;a(d=>({...d,[u]:l.target.type==="number"?parseFloat(c)||0:c}))},s=l=>{l.preventDefault(),n(i)};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editService")}),A.jsxs("form",{onSubmit:s,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("serviceName")}),A.jsx("input",{type:"text",id:"name",value:i.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("price")}),A.jsx("input",{type:"number",id:"price",value:i.price,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("semiWholesalePrice")}),A.jsx("input",{type:"number",id:"priceSemiWholesale",value:i.priceSemiWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("wholesalePrice")}),A.jsx("input",{type:"number",id:"priceWholesale",value:i.priceWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[A.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),A.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},IZ=({storeId:t,services:e,addService:n,updateService:r,deleteService:i,t:a})=>{const[o,s]=re.useState({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),[l,u]=re.useState(null),[c,d]=re.useState(null),h=x=>{const{id:y,value:w}=x.target;s(S=>({...S,[y]:x.target.type==="number"?parseFloat(w)||0:w}))},p=async x=>{if(x.preventDefault(),d(null),!o.name||o.price<=0){d({type:"error",message:a("fillNameAndPriceError")});return}const y={name:o.name,price:o.price,priceSemiWholesale:o.priceSemiWholesale||void 0,priceWholesale:o.priceWholesale||void 0,type:"service",storeId:t,image:`https://via.placeholder.com/200/e9d5ff/a855f7?text=${encodeURIComponent(a("service"))}`,createdAt:new Date().toISOString()};await n(y),s({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),d({type:"success",message:a("serviceAddedSuccess",{name:o.name})}),setTimeout(()=>d(null),4e3)},v=async x=>{window.confirm(a("confirmServiceDelete"))&&await i(x)},b=async x=>{if(d(null),!x.name||(x.price??0)<=0){d({type:"error",message:a("fillNameAndPriceError")});return}await r(x),u(null),d({type:"success",message:a("serviceUpdatedSuccess",{name:x.name})}),setTimeout(()=>d(null),4e3)};return A.jsxs(A.Fragment,{children:[l&&A.jsx(jZ,{service:l,onClose:()=>u(null),onSave:b,t:a}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(Aa,{}),a("addNewService")]}),A.jsxs("form",{onSubmit:p,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("serviceName")}),A.jsx("input",{type:"text",id:"name",value:o.name,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:a("serviceNamePlaceholder"),required:!0})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("sellingPrice")}),A.jsx("input",{type:"number",id:"price",value:o.price,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("semiWholesalePrice")}),A.jsx("input",{type:"number",id:"priceSemiWholesale",value:o.priceSemiWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("wholesalePrice")}),A.jsx("input",{type:"number",id:"priceWholesale",value:o.priceWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),A.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("saveService")})]}),c&&A.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:a("serviceList")}),A.jsxs("div",{className:"overflow-x-auto",children:[A.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[A.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3",children:a("serviceName")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:a("price")}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:a("actions")})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(x=>A.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[A.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:x.name}),A.jsxs("td",{className:"px-6 py-4",children:[(x.price??0).toFixed(2)," DH"]}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center justify-start gap-4",children:[A.jsx("button",{onClick:()=>u(x),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:A.jsx(Ov,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>v(x.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:A.jsx(ni,{className:"w-5 h-5"})})]})})]},x.id))})]}),e.length===0&&A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noServicesAdded")})]})]})]})]})};function RI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=RI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=RI(t))&&(r&&(r+=" "),r+=e);return r}var DZ=Array.isArray,wi=DZ,LZ=typeof pr=="object"&&pr&&pr.Object===Object&&pr,FI=LZ,RZ=FI,FZ=typeof self=="object"&&self&&self.Object===Object&&self,BZ=RZ||FZ||Function("return this")(),go=BZ,$Z=go,UZ=$Z.Symbol,xA=UZ,JE=xA,BI=Object.prototype,qZ=BI.hasOwnProperty,HZ=BI.toString,Ah=JE?JE.toStringTag:void 0;function zZ(t){var e=qZ.call(t,Ah),n=t[Ah];try{t[Ah]=void 0;var r=!0}catch{}var i=HZ.call(t);return r&&(e?t[Ah]=n:delete t[Ah]),i}var VZ=zZ,GZ=Object.prototype,WZ=GZ.toString;function YZ(t){return WZ.call(t)}var KZ=YZ,XE=xA,JZ=VZ,XZ=KZ,QZ="[object Null]",ZZ="[object Undefined]",QE=XE?XE.toStringTag:void 0;function eee(t){return t==null?t===void 0?ZZ:QZ:QE&&QE in Object(t)?JZ(t):XZ(t)}var us=eee;function tee(t){return t!=null&&typeof t=="object"}var cs=tee,nee=us,ree=cs,iee="[object Symbol]";function aee(t){return typeof t=="symbol"||ree(t)&&nee(t)==iee}var pf=aee,oee=wi,see=pf,lee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uee=/^\w*$/;function cee(t,e){if(oee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||see(t)?!0:uee.test(t)||!lee.test(t)||e!=null&&t in Object(e)}var MS=cee;function dee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bl=dee;const Af=Jt(bl);var fee=us,hee=bl,pee="[object AsyncFunction]",Aee="[object Function]",mee="[object GeneratorFunction]",gee="[object Proxy]";function vee(t){if(!hee(t))return!1;var e=fee(t);return e==Aee||e==mee||e==pee||e==gee}var OS=vee;const xt=Jt(OS);var yee=go,bee=yee["__core-js_shared__"],xee=bee,M1=xee,ZE=function(){var t=/[^.]+$/.exec(M1&&M1.keys&&M1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wee(t){return!!ZE&&ZE in t}var See=wee,_ee=Function.prototype,Tee=_ee.toString;function Cee(t){if(t!=null){try{return Tee.call(t)}catch{}try{return t+""}catch{}}return""}var $I=Cee,Nee=OS,Eee=See,kee=bl,Pee=$I,Mee=/[\\^$.*+?()[\]{}|]/g,Oee=/^\[object .+?Constructor\]$/,jee=Function.prototype,Iee=Object.prototype,Dee=jee.toString,Lee=Iee.hasOwnProperty,Ree=RegExp("^"+Dee.call(Lee).replace(Mee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fee(t){if(!kee(t)||Eee(t))return!1;var e=Nee(t)?Ree:Oee;return e.test(Pee(t))}var Bee=Fee;function $ee(t,e){return t==null?void 0:t[e]}var Uee=$ee,qee=Bee,Hee=Uee;function zee(t,e){var n=Hee(t,e);return qee(n)?n:void 0}var Lu=zee,Vee=Lu,Gee=Vee(Object,"create"),qv=Gee,ek=qv;function Wee(){this.__data__=ek?ek(null):{},this.size=0}var Yee=Wee;function Kee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Jee=Kee,Xee=qv,Qee="__lodash_hash_undefined__",Zee=Object.prototype,ete=Zee.hasOwnProperty;function tte(t){var e=this.__data__;if(Xee){var n=e[t];return n===Qee?void 0:n}return ete.call(e,t)?e[t]:void 0}var nte=tte,rte=qv,ite=Object.prototype,ate=ite.hasOwnProperty;function ote(t){var e=this.__data__;return rte?e[t]!==void 0:ate.call(e,t)}var ste=ote,lte=qv,ute="__lodash_hash_undefined__";function cte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lte&&e===void 0?ute:e,this}var dte=cte,fte=Yee,hte=Jee,pte=nte,Ate=ste,mte=dte;function mf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mf.prototype.clear=fte;mf.prototype.delete=hte;mf.prototype.get=pte;mf.prototype.has=Ate;mf.prototype.set=mte;var gte=mf;function vte(){this.__data__=[],this.size=0}var yte=vte;function bte(t,e){return t===e||t!==t&&e!==e}var jS=bte,xte=jS;function wte(t,e){for(var n=t.length;n--;)if(xte(t[n][0],e))return n;return-1}var Hv=wte,Ste=Hv,_te=Array.prototype,Tte=_te.splice;function Cte(t){var e=this.__data__,n=Ste(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Tte.call(e,n,1),--this.size,!0}var Nte=Cte,Ete=Hv;function kte(t){var e=this.__data__,n=Ete(e,t);return n<0?void 0:e[n][1]}var Pte=kte,Mte=Hv;function Ote(t){return Mte(this.__data__,t)>-1}var jte=Ote,Ite=Hv;function Dte(t,e){var n=this.__data__,r=Ite(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Lte=Dte,Rte=yte,Fte=Nte,Bte=Pte,$te=jte,Ute=Lte;function gf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gf.prototype.clear=Rte;gf.prototype.delete=Fte;gf.prototype.get=Bte;gf.prototype.has=$te;gf.prototype.set=Ute;var zv=gf,qte=Lu,Hte=go,zte=qte(Hte,"Map"),IS=zte,tk=gte,Vte=zv,Gte=IS;function Wte(){this.size=0,this.__data__={hash:new tk,map:new(Gte||Vte),string:new tk}}var Yte=Wte;function Kte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Jte=Kte,Xte=Jte;function Qte(t,e){var n=t.__data__;return Xte(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Vv=Qte,Zte=Vv;function ene(t){var e=Zte(this,t).delete(t);return this.size-=e?1:0,e}var tne=ene,nne=Vv;function rne(t){return nne(this,t).get(t)}var ine=rne,ane=Vv;function one(t){return ane(this,t).has(t)}var sne=one,lne=Vv;function une(t,e){var n=lne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var cne=une,dne=Yte,fne=tne,hne=ine,pne=sne,Ane=cne;function vf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vf.prototype.clear=dne;vf.prototype.delete=fne;vf.prototype.get=hne;vf.prototype.has=pne;vf.prototype.set=Ane;var DS=vf,UI=DS,mne="Expected a function";function LS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(LS.Cache||UI),n}LS.Cache=UI;var qI=LS;const gne=Jt(qI);var vne=qI,yne=500;function bne(t){var e=vne(t,function(r){return n.size===yne&&n.clear(),r}),n=e.cache;return e}var xne=bne,wne=xne,Sne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_ne=/\\(\\)?/g,Tne=wne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Sne,function(n,r,i,a){e.push(i?a.replace(_ne,"$1"):r||n)}),e}),Cne=Tne;function Nne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var RS=Nne,nk=xA,Ene=RS,kne=wi,Pne=pf,rk=nk?nk.prototype:void 0,ik=rk?rk.toString:void 0;function HI(t){if(typeof t=="string")return t;if(kne(t))return Ene(t,HI)+"";if(Pne(t))return ik?ik.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Mne=HI,One=Mne;function jne(t){return t==null?"":One(t)}var zI=jne,Ine=wi,Dne=MS,Lne=Cne,Rne=zI;function Fne(t,e){return Ine(t)?t:Dne(t,e)?[t]:Lne(Rne(t))}var VI=Fne,Bne=pf;function $ne(t){if(typeof t=="string"||Bne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gv=$ne,Une=VI,qne=Gv;function Hne(t,e){e=Une(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[qne(e[n++])];return n&&n==r?t:void 0}var FS=Hne,zne=FS;function Vne(t,e,n){var r=t==null?void 0:zne(t,e);return r===void 0?n:r}var GI=Vne;const Ui=Jt(GI);function Gne(t){return t==null}var Wne=Gne;const Dt=Jt(Wne);var Yne=us,Kne=wi,Jne=cs,Xne="[object String]";function Qne(t){return typeof t=="string"||!Kne(t)&&Jne(t)&&Yne(t)==Xne}var Zne=Qne;const bu=Jt(Zne);var WI={exports:{}},an={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS=Symbol.for("react.element"),$S=Symbol.for("react.portal"),Wv=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),Kv=Symbol.for("react.profiler"),Jv=Symbol.for("react.provider"),Xv=Symbol.for("react.context"),ere=Symbol.for("react.server_context"),Qv=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),ty=Symbol.for("react.memo"),ny=Symbol.for("react.lazy"),tre=Symbol.for("react.offscreen"),YI;YI=Symbol.for("react.module.reference");function ba(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case BS:switch(t=t.type,t){case Wv:case Kv:case Yv:case Zv:case ey:return t;default:switch(t=t&&t.$$typeof,t){case ere:case Xv:case Qv:case ny:case ty:case Jv:return t;default:return e}}case $S:return e}}}an.ContextConsumer=Xv;an.ContextProvider=Jv;an.Element=BS;an.ForwardRef=Qv;an.Fragment=Wv;an.Lazy=ny;an.Memo=ty;an.Portal=$S;an.Profiler=Kv;an.StrictMode=Yv;an.Suspense=Zv;an.SuspenseList=ey;an.isAsyncMode=function(){return!1};an.isConcurrentMode=function(){return!1};an.isContextConsumer=function(t){return ba(t)===Xv};an.isContextProvider=function(t){return ba(t)===Jv};an.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===BS};an.isForwardRef=function(t){return ba(t)===Qv};an.isFragment=function(t){return ba(t)===Wv};an.isLazy=function(t){return ba(t)===ny};an.isMemo=function(t){return ba(t)===ty};an.isPortal=function(t){return ba(t)===$S};an.isProfiler=function(t){return ba(t)===Kv};an.isStrictMode=function(t){return ba(t)===Yv};an.isSuspense=function(t){return ba(t)===Zv};an.isSuspenseList=function(t){return ba(t)===ey};an.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wv||t===Kv||t===Yv||t===Zv||t===ey||t===tre||typeof t=="object"&&t!==null&&(t.$$typeof===ny||t.$$typeof===ty||t.$$typeof===Jv||t.$$typeof===Xv||t.$$typeof===Qv||t.$$typeof===YI||t.getModuleId!==void 0)};an.typeOf=ba;WI.exports=an;var nre=WI.exports,rre=us,ire=cs,are="[object Number]";function ore(t){return typeof t=="number"||ire(t)&&rre(t)==are}var KI=ore;const sre=Jt(KI);var lre=KI;function ure(t){return lre(t)&&t!=+t}var cre=ure;const wA=Jt(cre);var Zr=function(e){return e===0?0:e>0?1:-1},Zl=function(e){return bu(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return sre(e)&&!wA(e)},dre=function(e){return Dt(e)},Ar=function(e){return Ye(e)||bu(e)},fre=0,SA=function(e){var n=++fre;return"".concat(e||"").concat(n)},ei=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!bu(e))return r;var a;if(Zl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return wA(a)&&(a=r),i&&a>n&&(a=n),a},qs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},hre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Is=function(e,n){return Ye(e)&&Ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function F2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ui(r,e))===n})}var pre=function(e,n){return Ye(e)&&Ye(n)?e-n:bu(e)&&bu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function fd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function B2(t){"@babel/helpers - typeof";return B2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B2(t)}var Are=["viewBox","children"],mre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ak=["points","pathLength"],O1={svg:Are,polygon:ak,polyline:ak},US=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],u0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(re.isValidElement(e)&&(r=e.props),!Af(r))return null;var i={};return Object.keys(r).forEach(function(a){US.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},gre=function(e,n,r){return function(i){return e(n,r,i),null}},xu=function(e,n,r){if(!Af(e)||B2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];US.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=gre(o,n,r))}),i},vre=["children"],yre=["children"];function ok(t,e){if(t==null)return{};var n=bre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ko=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},lk=null,j1=null,qS=function t(e){if(e===lk&&Array.isArray(j1))return j1;var n=[];return re.Children.forEach(e,function(r){Dt(r)||(nre.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),j1=n,lk=e,n};function ga(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ko(i)}):r=[Ko(e)],qS(t).forEach(function(i){var a=Ui(i,"type.displayName")||Ui(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Pi(t,e){var n=ga(t,e);return n&&n[0]}var uk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ye(r)||r<=0||!Ye(i)||i<=0)},xre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wre=function(e){return e&&e.type&&bu(e.type)&&xre.indexOf(e.type)>=0},Sre=function(e,n,r,i){var a,o=(a=O1==null?void 0:O1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!xt(e)&&(i&&o.includes(n)||mre.includes(n))||r&&US.includes(n)},yt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(re.isValidElement(e)&&(i=e.props),!Af(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Sre((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},$2=function t(e,n){if(e===n)return!0;var r=re.Children.count(e);if(r!==re.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ck(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!ck(a,o))return!1}return!0},ck=function(e,n){if(Dt(e)&&Dt(n))return!0;if(!Dt(e)&&!Dt(n)){var r=e.props||{},i=r.children,a=ok(r,vre),o=n.props||{},s=o.children,l=ok(o,yre);return i&&s?fd(a,l)&&$2(i,s):!i&&!s?fd(a,l):!1}return!1},dk=function(e,n){var r=[],i={};return qS(e).forEach(function(a,o){if(wre(a))r.push(a);else if(a){var s=Ko(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var d=u(a,s,o);r.push(d),i[s]=!0}}}),r},_re=function(e){var n=e&&e.type;return n&&sk[n]?sk[n]:null},Tre=function(e,n){return qS(n).indexOf(e)},Cre=["children","width","height","viewBox","className","style","title","desc"];function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U2.apply(this,arguments)}function Nre(t,e){if(t==null)return{};var n=Ere(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ere(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=Nre(t,Cre),c=i||{width:n,height:r,x:0,y:0},d=Ot("recharts-surface",a);return fe.createElement("svg",U2({},yt(u,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),fe.createElement("title",null,s),fe.createElement("desc",null,l),e)}var kre=["children","className"];function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(this,arguments)}function Pre(t,e){if(t==null)return{};var n=Mre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nn=fe.forwardRef(function(t,e){var n=t.children,r=t.className,i=Pre(t,kre),a=Ot("recharts-layer",r);return fe.createElement("g",H2({className:a},yt(i,!0),{ref:e}),n)}),Ua=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Ore(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var jre=Ore,Ire=jre;function Dre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Ire(t,e,n)}var Lre=Dre,Rre="\\ud800-\\udfff",Fre="\\u0300-\\u036f",Bre="\\ufe20-\\ufe2f",$re="\\u20d0-\\u20ff",Ure=Fre+Bre+$re,qre="\\ufe0e\\ufe0f",Hre="\\u200d",zre=RegExp("["+Hre+Rre+Ure+qre+"]");function Vre(t){return zre.test(t)}var JI=Vre;function Gre(t){return t.split("")}var Wre=Gre,XI="\\ud800-\\udfff",Yre="\\u0300-\\u036f",Kre="\\ufe20-\\ufe2f",Jre="\\u20d0-\\u20ff",Xre=Yre+Kre+Jre,Qre="\\ufe0e\\ufe0f",Zre="["+XI+"]",z2="["+Xre+"]",V2="\\ud83c[\\udffb-\\udfff]",eie="(?:"+z2+"|"+V2+")",QI="[^"+XI+"]",ZI="(?:\\ud83c[\\udde6-\\uddff]){2}",eD="[\\ud800-\\udbff][\\udc00-\\udfff]",tie="\\u200d",tD=eie+"?",nD="["+Qre+"]?",nie="(?:"+tie+"(?:"+[QI,ZI,eD].join("|")+")"+nD+tD+")*",rie=nD+tD+nie,iie="(?:"+[QI+z2+"?",z2,ZI,eD,Zre].join("|")+")",aie=RegExp(V2+"(?="+V2+")|"+iie+rie,"g");function oie(t){return t.match(aie)||[]}var sie=oie,lie=Wre,uie=JI,cie=sie;function die(t){return uie(t)?cie(t):lie(t)}var fie=die,hie=Lre,pie=JI,Aie=fie,mie=zI;function gie(t){return function(e){e=mie(e);var n=pie(e)?Aie(e):void 0,r=n?n[0]:e.charAt(0),i=n?hie(n,1).join(""):e.slice(1);return r[t]()+i}}var vie=gie,yie=vie,bie=yie("toUpperCase"),xie=bie;const ry=Jt(xie);function xn(t){return function(){return t}}const rD=Math.cos,c0=Math.sin,Wa=Math.sqrt,d0=Math.PI,iy=2*d0,G2=Math.PI,W2=2*G2,Wl=1e-6,wie=W2-Wl;function iD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Sie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _ie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iD:Sie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Wl)if(!(Math.abs(d*l-u*c)>Wl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,v=i-s,b=l*l+u*u,x=p*p+v*v,y=Math.sqrt(b),w=Math.sqrt(h),S=a*Math.tan((G2-Math.acos((b+h-x)/(2*y*w)))/2),T=S/w,C=S/y;Math.abs(T-1)>Wl&&this._append`L${e+T*c},${n+T*d}`,this._append`A${a},${a},0,0,${+(d*p>c*v)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Wl||Math.abs(this._y1-c)>Wl)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%W2+W2),h>wie?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Wl&&this._append`A${r},${r},0,${+(h>=G2)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function HS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _ie(e)}function zS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aD(t){this._context=t}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ay(t){return new aD(t)}function oD(t){return t[0]}function sD(t){return t[1]}function lD(t,e){var n=xn(!0),r=null,i=ay,a=null,o=HS(s);t=typeof t=="function"?t:t===void 0?oD:xn(t),e=typeof e=="function"?e:e===void 0?sD:xn(e);function s(l){var u,c=(l=zS(l)).length,d,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,u,l),+e(d,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:xn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:xn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Gm(t,e,n){var r=null,i=xn(!0),a=null,o=ay,s=null,l=HS(u);t=typeof t=="function"?t:t===void 0?oD:xn(+t),e=typeof e=="function"?e:xn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sD:xn(+n);function u(d){var h,p,v,b=(d=zS(d)).length,x,y=!1,w,S=new Array(b),T=new Array(b);for(a==null&&(s=o(w=l())),h=0;h<=b;++h){if(!(h<b&&i(x=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(S[v],T[v]);s.lineEnd(),s.areaEnd()}y&&(S[h]=+t(x,h,d),T[h]=+e(x,h,d),s.point(r?+r(x,h,d):S[h],n?+n(x,h,d):T[h]))}if(w)return s=null,w+""||null}function c(){return lD().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:xn(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:xn(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:xn(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:xn(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:xn(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:xn(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:xn(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class uD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Tie(t){return new uD(t,!0)}function Cie(t){return new uD(t,!1)}const VS={draw(t,e){const n=Wa(e/d0);t.moveTo(n,0),t.arc(0,0,n,0,iy)}},Nie={draw(t,e){const n=Wa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cD=Wa(1/3),Eie=cD*2,kie={draw(t,e){const n=Wa(e/Eie),r=n*cD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Pie={draw(t,e){const n=Wa(e),r=-n/2;t.rect(r,r,n,n)}},Mie=.8908130915292852,dD=c0(d0/10)/c0(7*d0/10),Oie=c0(iy/10)*dD,jie=-rD(iy/10)*dD,Iie={draw(t,e){const n=Wa(e*Mie),r=Oie*n,i=jie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=iy*a/5,s=rD(o),l=c0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},I1=Wa(3),Die={draw(t,e){const n=-Wa(e/(I1*3));t.moveTo(0,n*2),t.lineTo(-I1*n,-n),t.lineTo(I1*n,-n),t.closePath()}},Zi=-.5,ea=Wa(3)/2,Y2=1/Wa(12),Lie=(Y2/2+1)*3,Rie={draw(t,e){const n=Wa(e/Lie),r=n/2,i=n*Y2,a=r,o=n*Y2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Zi*r-ea*i,ea*r+Zi*i),t.lineTo(Zi*a-ea*o,ea*a+Zi*o),t.lineTo(Zi*s-ea*l,ea*s+Zi*l),t.lineTo(Zi*r+ea*i,Zi*i-ea*r),t.lineTo(Zi*a+ea*o,Zi*o-ea*a),t.lineTo(Zi*s+ea*l,Zi*l-ea*s),t.closePath()}};function Fie(t,e){let n=null,r=HS(i);t=typeof t=="function"?t:xn(t||VS),e=typeof e=="function"?e:xn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:xn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function f0(){}function h0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fD(t){this._context=t}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bie(t){return new fD(t)}function hD(t){this._context=t}hD.prototype={areaStart:f0,areaEnd:f0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:h0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ie(t){return new hD(t)}function pD(t){this._context=t}pD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:h0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uie(t){return new pD(t)}function AD(t){this._context=t}AD.prototype={areaStart:f0,areaEnd:f0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qie(t){return new AD(t)}function fk(t){return t<0?-1:1}function hk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(fk(a)+fk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function pk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function D1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function p0(t){this._context=t}p0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D1(this,this._t0,pk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,D1(this,pk(this,n=hk(this,t,e)),n);break;default:D1(this,this._t0,n=hk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mD(t){this._context=new gD(t)}(mD.prototype=Object.create(p0.prototype)).point=function(t,e){p0.prototype.point.call(this,e,t)};function gD(t){this._context=t}gD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Hie(t){return new p0(t)}function zie(t){return new mD(t)}function vD(t){this._context=t}vD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Ak(t),i=Ak(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Ak(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Vie(t){return new vD(t)}function oy(t,e){this._context=t,this._t=e}oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Gie(t){return new oy(t,.5)}function Wie(t){return new oy(t,0)}function Yie(t){return new oy(t,1)}function Ed(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function K2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Kie(t,e){return t[e]}function Jie(t){const e=[];return e.key=t,e}function Xie(){var t=xn([]),e=K2,n=Ed,r=Kie;function i(a){var o=Array.from(t.apply(this,arguments),Jie),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(d,o[s].key,u,a)]).data=d;for(s=0,c=zS(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:xn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:xn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?K2:typeof a=="function"?a:xn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Ed,i):n},i}function Qie(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Ed(t,e)}}function Zie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ed(t,e)}}function eae(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,v=0;v<s;++v){var b=t[e[v]],x=b[r][1]||0,y=b[r-1][1]||0;p+=x-y}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ed(t,e)}}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}var tae=["type","size","sizeType"];function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J2.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nae(t,e,n){return e=rae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t){var e=iae(t,"string");return _p(e)=="symbol"?e:e+""}function iae(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aae(t,e){if(t==null)return{};var n=oae(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yD={symbolCircle:VS,symbolCross:Nie,symbolDiamond:kie,symbolSquare:Pie,symbolStar:Iie,symbolTriangle:Die,symbolWye:Rie},sae=Math.PI/180,lae=function(e){var n="symbol".concat(ry(e));return yD[n]||VS},uae=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*sae;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cae=function(e,n){yD["symbol".concat(ry(e))]=n},GS=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=aae(e,tae),u=gk(gk({},l),{},{type:r,size:a,sizeType:s}),c=function(){var x=lae(r),y=Fie().type(x).size(uae(a,s,r));return y()},d=u.className,h=u.cx,p=u.cy,v=yt(u,!0);return h===+h&&p===+p&&a===+a?fe.createElement("path",J2({},v,{className:Ot("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};GS.registerSymbol=cae;function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(this,arguments)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){Tp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xD(r.key),r)}}function pae(t,e,n){return e&&hae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aae(t,e,n){return e=A0(e),mae(t,bD()?Reflect.construct(e,n||[],A0(t).constructor):e.apply(t,n))}function mae(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gae(t)}function gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function A0(t){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(t)}function vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q2(t,e)}function Q2(t,e){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q2(t,e)}function Tp(t,e,n){return e=xD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xD(t){var e=yae(t,"string");return kd(e)=="symbol"?e:e+""}function yae(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ta=32,WS=function(t){function e(){return fae(this,e),Aae(this,e,arguments)}return vae(e,t),pae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=ta/2,o=ta/6,s=ta/3,l=r.inactive?i:r.color;if(r.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:ta,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ta,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return fe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-ta,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(r.legendIcon)){var u=dae({},r);return delete u.legendIcon,fe.cloneElement(r.legendIcon,u)}return fe.createElement(GS,{fill:l,cx:a,cy:a,size:ta,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ta,height:ta},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var b=p.formatter||l,x=Ot(Tp(Tp({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=xt(p.value)?null:p.value;Ua(!xt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return fe.createElement("li",X2({className:x,style:d,key:"legend-item-".concat(v)},xu(r.props,p,v)),fe.createElement(q2,{width:o,height:o,viewBox:c,style:h},r.renderIcon(p)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(y,p,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(re.PureComponent);Tp(WS,"displayName","Legend");Tp(WS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bae=zv;function xae(){this.__data__=new bae,this.size=0}var wae=xae;function Sae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var _ae=Sae;function Tae(t){return this.__data__.get(t)}var Cae=Tae;function Nae(t){return this.__data__.has(t)}var Eae=Nae,kae=zv,Pae=IS,Mae=DS,Oae=200;function jae(t,e){var n=this.__data__;if(n instanceof kae){var r=n.__data__;if(!Pae||r.length<Oae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Mae(r)}return n.set(t,e),this.size=n.size,this}var Iae=jae,Dae=zv,Lae=wae,Rae=_ae,Fae=Cae,Bae=Eae,$ae=Iae;function yf(t){var e=this.__data__=new Dae(t);this.size=e.size}yf.prototype.clear=Lae;yf.prototype.delete=Rae;yf.prototype.get=Fae;yf.prototype.has=Bae;yf.prototype.set=$ae;var wD=yf,Uae="__lodash_hash_undefined__";function qae(t){return this.__data__.set(t,Uae),this}var Hae=qae;function zae(t){return this.__data__.has(t)}var Vae=zae,Gae=DS,Wae=Hae,Yae=Vae;function m0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Gae;++e<n;)this.add(t[e])}m0.prototype.add=m0.prototype.push=Wae;m0.prototype.has=Yae;var SD=m0;function Kae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var _D=Kae;function Jae(t,e){return t.has(e)}var TD=Jae,Xae=SD,Qae=_D,Zae=TD,eoe=1,toe=2;function noe(t,e,n,r,i,a){var o=n&eoe,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=n&toe?new Xae:void 0;for(a.set(t,e),a.set(e,t);++d<s;){var v=t[d],b=e[d];if(r)var x=o?r(b,v,d,e,t,a):r(v,b,d,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Qae(e,function(y,w){if(!Zae(p,w)&&(v===y||i(v,y,n,r,a)))return p.push(w)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var CD=noe,roe=go,ioe=roe.Uint8Array,aoe=ioe;function ooe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var soe=ooe;function loe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var YS=loe,yk=xA,bk=aoe,uoe=jS,coe=CD,doe=soe,foe=YS,hoe=1,poe=2,Aoe="[object Boolean]",moe="[object Date]",goe="[object Error]",voe="[object Map]",yoe="[object Number]",boe="[object RegExp]",xoe="[object Set]",woe="[object String]",Soe="[object Symbol]",_oe="[object ArrayBuffer]",Toe="[object DataView]",xk=yk?yk.prototype:void 0,L1=xk?xk.valueOf:void 0;function Coe(t,e,n,r,i,a,o){switch(n){case Toe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _oe:return!(t.byteLength!=e.byteLength||!a(new bk(t),new bk(e)));case Aoe:case moe:case yoe:return uoe(+t,+e);case goe:return t.name==e.name&&t.message==e.message;case boe:case woe:return t==e+"";case voe:var s=doe;case xoe:var l=r&hoe;if(s||(s=foe),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=poe,o.set(t,e);var c=coe(s(t),s(e),r,i,a,o);return o.delete(t),c;case Soe:if(L1)return L1.call(t)==L1.call(e)}return!1}var Noe=Coe;function Eoe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ND=Eoe,koe=ND,Poe=wi;function Moe(t,e,n){var r=e(t);return Poe(t)?r:koe(r,n(t))}var Ooe=Moe;function joe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Ioe=joe;function Doe(){return[]}var Loe=Doe,Roe=Ioe,Foe=Loe,Boe=Object.prototype,$oe=Boe.propertyIsEnumerable,wk=Object.getOwnPropertySymbols,Uoe=wk?function(t){return t==null?[]:(t=Object(t),Roe(wk(t),function(e){return $oe.call(t,e)}))}:Foe,qoe=Uoe;function Hoe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var zoe=Hoe,Voe=us,Goe=cs,Woe="[object Arguments]";function Yoe(t){return Goe(t)&&Voe(t)==Woe}var Koe=Yoe,Sk=Koe,Joe=cs,ED=Object.prototype,Xoe=ED.hasOwnProperty,Qoe=ED.propertyIsEnumerable,Zoe=Sk(function(){return arguments}())?Sk:function(t){return Joe(t)&&Xoe.call(t,"callee")&&!Qoe.call(t,"callee")},KS=Zoe,g0={exports:{}};function ese(){return!1}var tse=ese;g0.exports;(function(t,e){var n=go,r=tse,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(g0,g0.exports);var kD=g0.exports,nse=9007199254740991,rse=/^(?:0|[1-9]\d*)$/;function ise(t,e){var n=typeof t;return e=e??nse,!!e&&(n=="number"||n!="symbol"&&rse.test(t))&&t>-1&&t%1==0&&t<e}var JS=ise,ase=9007199254740991;function ose(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ase}var XS=ose,sse=us,lse=XS,use=cs,cse="[object Arguments]",dse="[object Array]",fse="[object Boolean]",hse="[object Date]",pse="[object Error]",Ase="[object Function]",mse="[object Map]",gse="[object Number]",vse="[object Object]",yse="[object RegExp]",bse="[object Set]",xse="[object String]",wse="[object WeakMap]",Sse="[object ArrayBuffer]",_se="[object DataView]",Tse="[object Float32Array]",Cse="[object Float64Array]",Nse="[object Int8Array]",Ese="[object Int16Array]",kse="[object Int32Array]",Pse="[object Uint8Array]",Mse="[object Uint8ClampedArray]",Ose="[object Uint16Array]",jse="[object Uint32Array]",Cn={};Cn[Tse]=Cn[Cse]=Cn[Nse]=Cn[Ese]=Cn[kse]=Cn[Pse]=Cn[Mse]=Cn[Ose]=Cn[jse]=!0;Cn[cse]=Cn[dse]=Cn[Sse]=Cn[fse]=Cn[_se]=Cn[hse]=Cn[pse]=Cn[Ase]=Cn[mse]=Cn[gse]=Cn[vse]=Cn[yse]=Cn[bse]=Cn[xse]=Cn[wse]=!1;function Ise(t){return use(t)&&lse(t.length)&&!!Cn[sse(t)]}var Dse=Ise;function Lse(t){return function(e){return t(e)}}var PD=Lse,v0={exports:{}};v0.exports;(function(t,e){var n=FI,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(v0,v0.exports);var Rse=v0.exports,Fse=Dse,Bse=PD,_k=Rse,Tk=_k&&_k.isTypedArray,$se=Tk?Bse(Tk):Fse,MD=$se,Use=zoe,qse=KS,Hse=wi,zse=kD,Vse=JS,Gse=MD,Wse=Object.prototype,Yse=Wse.hasOwnProperty;function Kse(t,e){var n=Hse(t),r=!n&&qse(t),i=!n&&!r&&zse(t),a=!n&&!r&&!i&&Gse(t),o=n||r||i||a,s=o?Use(t.length,String):[],l=s.length;for(var u in t)(e||Yse.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vse(u,l)))&&s.push(u);return s}var Jse=Kse,Xse=Object.prototype;function Qse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Xse;return t===n}var Zse=Qse;function ele(t,e){return function(n){return t(e(n))}}var OD=ele,tle=OD,nle=tle(Object.keys,Object),rle=nle,ile=Zse,ale=rle,ole=Object.prototype,sle=ole.hasOwnProperty;function lle(t){if(!ile(t))return ale(t);var e=[];for(var n in Object(t))sle.call(t,n)&&n!="constructor"&&e.push(n);return e}var ule=lle,cle=OS,dle=XS;function fle(t){return t!=null&&dle(t.length)&&!cle(t)}var _A=fle,hle=Jse,ple=ule,Ale=_A;function mle(t){return Ale(t)?hle(t):ple(t)}var sy=mle,gle=Ooe,vle=qoe,yle=sy;function ble(t){return gle(t,yle,vle)}var xle=ble,Ck=xle,wle=1,Sle=Object.prototype,_le=Sle.hasOwnProperty;function Tle(t,e,n,r,i,a){var o=n&wle,s=Ck(t),l=s.length,u=Ck(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in e:_le.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var x=o;++d<l;){h=s[d];var y=t[h],w=e[h];if(r)var S=o?r(w,y,h,e,t,a):r(y,w,h,t,e,a);if(!(S===void 0?y===w||i(y,w,n,r,a):S)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(b=!1)}return a.delete(t),a.delete(e),b}var Cle=Tle,Nle=Lu,Ele=go,kle=Nle(Ele,"DataView"),Ple=kle,Mle=Lu,Ole=go,jle=Mle(Ole,"Promise"),Ile=jle,Dle=Lu,Lle=go,Rle=Dle(Lle,"Set"),jD=Rle,Fle=Lu,Ble=go,$le=Fle(Ble,"WeakMap"),Ule=$le,Z2=Ple,ew=IS,tw=Ile,nw=jD,rw=Ule,ID=us,bf=$I,Nk="[object Map]",qle="[object Object]",Ek="[object Promise]",kk="[object Set]",Pk="[object WeakMap]",Mk="[object DataView]",Hle=bf(Z2),zle=bf(ew),Vle=bf(tw),Gle=bf(nw),Wle=bf(rw),Yl=ID;(Z2&&Yl(new Z2(new ArrayBuffer(1)))!=Mk||ew&&Yl(new ew)!=Nk||tw&&Yl(tw.resolve())!=Ek||nw&&Yl(new nw)!=kk||rw&&Yl(new rw)!=Pk)&&(Yl=function(t){var e=ID(t),n=e==qle?t.constructor:void 0,r=n?bf(n):"";if(r)switch(r){case Hle:return Mk;case zle:return Nk;case Vle:return Ek;case Gle:return kk;case Wle:return Pk}return e});var Yle=Yl,R1=wD,Kle=CD,Jle=Noe,Xle=Cle,Ok=Yle,jk=wi,Ik=kD,Qle=MD,Zle=1,Dk="[object Arguments]",Lk="[object Array]",Wm="[object Object]",eue=Object.prototype,Rk=eue.hasOwnProperty;function tue(t,e,n,r,i,a){var o=jk(t),s=jk(e),l=o?Lk:Ok(t),u=s?Lk:Ok(e);l=l==Dk?Wm:l,u=u==Dk?Wm:u;var c=l==Wm,d=u==Wm,h=l==u;if(h&&Ik(t)){if(!Ik(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new R1),o||Qle(t)?Kle(t,e,n,r,i,a):Jle(t,e,l,n,r,i,a);if(!(n&Zle)){var p=c&&Rk.call(t,"__wrapped__"),v=d&&Rk.call(e,"__wrapped__");if(p||v){var b=p?t.value():t,x=v?e.value():e;return a||(a=new R1),i(b,x,n,r,a)}}return h?(a||(a=new R1),Xle(t,e,n,r,i,a)):!1}var nue=tue,rue=nue,Fk=cs;function DD(t,e,n,r,i){return t===e?!0:t==null||e==null||!Fk(t)&&!Fk(e)?t!==t&&e!==e:rue(t,e,n,r,DD,i)}var QS=DD,iue=wD,aue=QS,oue=1,sue=2;function lue(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var d=new iue;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?aue(c,u,oue|sue,r,d):h))return!1}}return!0}var uue=lue,cue=bl;function due(t){return t===t&&!cue(t)}var LD=due,fue=LD,hue=sy;function pue(t){for(var e=hue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,fue(i)]}return e}var Aue=pue;function mue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var RD=mue,gue=uue,vue=Aue,yue=RD;function bue(t){var e=vue(t);return e.length==1&&e[0][2]?yue(e[0][0],e[0][1]):function(n){return n===t||gue(n,t,e)}}var xue=bue;function wue(t,e){return t!=null&&e in Object(t)}var Sue=wue,_ue=VI,Tue=KS,Cue=wi,Nue=JS,Eue=XS,kue=Gv;function Pue(t,e,n){e=_ue(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=kue(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Eue(i)&&Nue(o,i)&&(Cue(t)||Tue(t)))}var Mue=Pue,Oue=Sue,jue=Mue;function Iue(t,e){return t!=null&&jue(t,e,Oue)}var Due=Iue,Lue=QS,Rue=GI,Fue=Due,Bue=MS,$ue=LD,Uue=RD,que=Gv,Hue=1,zue=2;function Vue(t,e){return Bue(t)&&$ue(e)?Uue(que(t),e):function(n){var r=Rue(n,t);return r===void 0&&r===e?Fue(n,t):Lue(e,r,Hue|zue)}}var Gue=Vue;function Wue(t){return t}var xf=Wue;function Yue(t){return function(e){return e==null?void 0:e[t]}}var Kue=Yue,Jue=FS;function Xue(t){return function(e){return Jue(e,t)}}var Que=Xue,Zue=Kue,ece=Que,tce=MS,nce=Gv;function rce(t){return tce(t)?Zue(nce(t)):ece(t)}var ice=rce,ace=xue,oce=Gue,sce=xf,lce=wi,uce=ice;function cce(t){return typeof t=="function"?t:t==null?sce:typeof t=="object"?lce(t)?oce(t[0],t[1]):ace(t):uce(t)}var vo=cce;function dce(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var FD=dce;function fce(t){return t!==t}var hce=fce;function pce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Ace=pce,mce=FD,gce=hce,vce=Ace;function yce(t,e,n){return e===e?vce(t,e,n):mce(t,gce,n)}var bce=yce,xce=bce;function wce(t,e){var n=t==null?0:t.length;return!!n&&xce(t,e,0)>-1}var Sce=wce;function _ce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Tce=_ce;function Cce(){}var Nce=Cce,F1=jD,Ece=Nce,kce=YS,Pce=1/0,Mce=F1&&1/kce(new F1([,-0]))[1]==Pce?function(t){return new F1(t)}:Ece,Oce=Mce,jce=SD,Ice=Sce,Dce=Tce,Lce=TD,Rce=Oce,Fce=YS,Bce=200;function $ce(t,e,n){var r=-1,i=Ice,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=Dce;else if(a>=Bce){var u=e?null:Rce(t);if(u)return Fce(u);o=!1,i=Lce,l=new jce}else l=e?[]:s;e:for(;++r<a;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var Uce=$ce,qce=vo,Hce=Uce;function zce(t,e){return t&&t.length?Hce(t,qce(e)):[]}var Vce=zce;const Bk=Jt(Vce);function BD(t,e,n){return e===!0?Bk(t,n):xt(e)?Bk(t,e):t}function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}var Gce=["ref"];function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UD(r.key),r)}}function Yce(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kce(t,e,n){return e=y0(e),Jce(t,$D()?Reflect.construct(e,n||[],y0(t).constructor):e.apply(t,n))}function Jce(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xce(t)}function Xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},y0(t)}function Qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iw(t,e)}function iw(t,e){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iw(t,e)}function ly(t,e,n){return e=UD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UD(t){var e=Zce(t,"string");return Pd(e)=="symbol"?e:e+""}function Zce(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ede(t,e){if(t==null)return{};var n=tde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nde(t){return t.value}function rde(t,e){if(fe.isValidElement(t))return fe.cloneElement(t,e);if(typeof t=="function")return fe.createElement(t,e);e.ref;var n=ede(e,Gce);return fe.createElement(WS,n)}var qk=1,sl=function(t){function e(){var n;Wce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Kce(this,e,[].concat(i)),ly(n,"lastBoundingBox",{width:-1,height:-1}),n}return Qce(e,t),Yce(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qk||Math.abs(i.height-this.lastBoundingBox.height)>qk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Io(Io({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=Io(Io({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return fe.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){r.wrapperNode=p}},rde(a,Io(Io({},this.props),{},{payload:BD(c,u,nde)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Io(Io({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ye(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(re.PureComponent);ly(sl,"displayName","Legend");ly(sl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Hk=xA,ide=KS,ade=wi,zk=Hk?Hk.isConcatSpreadable:void 0;function ode(t){return ade(t)||ide(t)||!!(zk&&t&&t[zk])}var sde=ode,lde=ND,ude=sde;function qD(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=ude),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?qD(s,e-1,n,r,i):lde(i,s):r||(i[i.length]=s)}return i}var HD=qD;function cde(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var dde=cde,fde=dde,hde=fde(),pde=hde,Ade=pde,mde=sy;function gde(t,e){return t&&Ade(t,e,mde)}var zD=gde,vde=_A;function yde(t,e){return function(n,r){if(n==null)return n;if(!vde(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var bde=yde,xde=zD,wde=bde,Sde=wde(xde),ZS=Sde,_de=ZS,Tde=_A;function Cde(t,e){var n=-1,r=Tde(t)?Array(t.length):[];return _de(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var VD=Cde;function Nde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ede=Nde,Vk=pf;function kde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=Vk(t),o=e!==void 0,s=e===null,l=e===e,u=Vk(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var Pde=kde,Mde=Pde;function Ode(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Mde(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var jde=Ode,B1=RS,Ide=FS,Dde=vo,Lde=VD,Rde=Ede,Fde=PD,Bde=jde,$de=xf,Ude=wi;function qde(t,e,n){e.length?e=B1(e,function(a){return Ude(a)?function(o){return Ide(o,a.length===1?a[0]:a)}:a}):e=[$de];var r=-1;e=B1(e,Fde(Dde));var i=Lde(t,function(a,o,s){var l=B1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Rde(i,function(a,o){return Bde(a,o,n)})}var Hde=qde;function zde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Vde=zde,Gde=Vde,Gk=Math.max;function Wde(t,e,n){return e=Gk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Gk(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Gde(t,this,s)}}var Yde=Wde;function Kde(t){return function(){return t}}var Jde=Kde,Xde=Lu,Qde=function(){try{var t=Xde(Object,"defineProperty");return t({},"",{}),t}catch{}}(),GD=Qde,Zde=Jde,Wk=GD,efe=xf,tfe=Wk?function(t,e){return Wk(t,"toString",{configurable:!0,enumerable:!1,value:Zde(e),writable:!0})}:efe,nfe=tfe,rfe=800,ife=16,afe=Date.now;function ofe(t){var e=0,n=0;return function(){var r=afe(),i=ife-(r-n);if(n=r,i>0){if(++e>=rfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sfe=ofe,lfe=nfe,ufe=sfe,cfe=ufe(lfe),dfe=cfe,ffe=xf,hfe=Yde,pfe=dfe;function Afe(t,e){return pfe(hfe(t,e,ffe),t+"")}var mfe=Afe,gfe=jS,vfe=_A,yfe=JS,bfe=bl;function xfe(t,e,n){if(!bfe(n))return!1;var r=typeof e;return(r=="number"?vfe(n)&&yfe(e,n.length):r=="string"&&e in n)?gfe(n[e],t):!1}var uy=xfe,wfe=HD,Sfe=Hde,_fe=mfe,Yk=uy,Tfe=_fe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Yk(t,e[0],e[1])?e=[]:n>2&&Yk(e[0],e[1],e[2])&&(e=[e[0]]),Sfe(t,wfe(e,1),[])}),Cfe=Tfe;const e_=Jt(Cfe);function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function Nfe(t,e){return Mfe(t)||Pfe(t,e)||kfe(t,e)||Efe()}function Efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(t,e){if(t){if(typeof t=="string")return Kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(t,e)}}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mfe(t){if(Array.isArray(t))return t}function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return e=jfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jfe(t){var e=Ife(t,"string");return Cp(e)=="symbol"?e:e+""}function Ife(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dfe(t){return Array.isArray(t)&&Ar(t[0])&&Ar(t[1])?t.join(" ~ "):t}var Lfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,S=function(){if(c&&c.length){var j={padding:0,margin:0},U=(h?e_(c,h):c).map(function(F,G){if(F.type==="none")return null;var R=$1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),$=F.formatter||d||Dfe,H=F.value,Y=F.name,X=H,te=Y;if($&&X!=null&&te!=null){var D=$(H,Y,F,G,c);if(Array.isArray(D)){var q=Nfe(D,2);X=q[0],te=q[1]}else X=D}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:R},Ar(te)?fe.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Ar(te)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},X),fe.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:j},U)}return null},T=$1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=$1({margin:0},u),k=!Dt(b),E=k?b:"",M=Ot("recharts-default-tooltip",p),I=Ot("recharts-tooltip-label",v);k&&x&&c!==void 0&&c!==null&&(E=x(b,c));var B=w?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",aw({className:M,style:T},B),fe.createElement("p",{className:I,style:C},fe.isValidElement(E)?E:"".concat(E)),S())};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function Ym(t,e,n){return e=Rfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=Ffe(t,"string");return Np(e)=="symbol"?e:e+""}function Ffe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mh="recharts-tooltip-wrapper",Bfe={visibility:"hidden"};function $fe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ot(mh,Ym(Ym(Ym(Ym({},"".concat(mh,"-right"),Ye(n)&&e&&Ye(e.x)&&n>=e.x),"".concat(mh,"-left"),Ye(n)&&e&&Ye(e.x)&&n<e.x),"".concat(mh,"-bottom"),Ye(r)&&e&&Ye(e.y)&&r>=e.y),"".concat(mh,"-top"),Ye(r)&&e&&Ye(e.y)&&r<e.y))}function Xk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ye(a[r]))return a[r];var c=n[r]-s-i,d=n[r]+i;if(e[r])return o[r]?c:d;if(o[r]){var h=c,p=l[r];return h<p?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(d,l[r])}function Ufe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function qfe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,d;return o.height>0&&o.width>0&&n?(c=Xk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=Xk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Ufe({translateX:c,translateY:d,useTranslate3d:s})):u=Bfe,{cssProperties:u,cssClasses:$fe({translateX:c,translateY:d,coordinate:n})}}function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){sw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YD(r.key),r)}}function Vfe(t,e,n){return e&&zfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gfe(t,e,n){return e=b0(e),Wfe(t,WD()?Reflect.construct(e,n||[],b0(t).constructor):e.apply(t,n))}function Wfe(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(t)}function Yfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WD=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b0(t)}function Kfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ow(t,e)}function sw(t,e,n){return e=YD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YD(t){var e=Jfe(t,"string");return Md(e)=="symbol"?e:e+""}function Jfe(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var e4=1,Xfe=function(t){function e(){var n;Hfe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Gfe(this,e,[].concat(i)),sw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Kfe(e,t),Vfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>e4||Math.abs(r.height-this.state.lastBoundingBox.height)>e4)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,S=qfe({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),T=S.cssClasses,C=S.cssProperties,k=Zk(Zk({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return fe.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(M){r.wrapperNode=M}},u)}}])}(re.PureComponent),Qfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wf={isSsr:Qfe()};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){t_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ehe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JD(r.key),r)}}function the(t,e,n){return e&&ehe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nhe(t,e,n){return e=x0(e),rhe(t,KD()?Reflect.construct(e,n||[],x0(t).constructor):e.apply(t,n))}function rhe(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ihe(t)}function ihe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KD=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x0(t)}function ahe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lw(t,e)}function t_(t,e,n){return e=JD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JD(t){var e=ohe(t,"string");return Od(e)=="symbol"?e:e+""}function ohe(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function she(t){return t.dataKey}function lhe(t,e){return fe.isValidElement(t)?fe.cloneElement(t,e):typeof t=="function"?fe.createElement(t,e):fe.createElement(Lfe,e)}var Fa=function(t){function e(){return Zfe(this,e),nhe(this,e,arguments)}return ahe(e,t),the(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,y=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,C=v??[];d&&C.length&&(C=BD(v.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,she));var k=C.length>0;return fe.createElement(Xfe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:k,offset:p,position:x,reverseDirection:y,useTranslate3d:w,viewBox:S,wrapperStyle:T},lhe(u,n4(n4({},this.props),{},{payload:C})))}}])}(re.PureComponent);t_(Fa,"displayName","Tooltip");t_(Fa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uhe=go,che=function(){return uhe.Date.now()},dhe=che,fhe=/\s/;function hhe(t){for(var e=t.length;e--&&fhe.test(t.charAt(e)););return e}var phe=hhe,Ahe=phe,mhe=/^\s+/;function ghe(t){return t&&t.slice(0,Ahe(t)+1).replace(mhe,"")}var vhe=ghe,yhe=vhe,r4=bl,bhe=pf,i4=NaN,xhe=/^[-+]0x[0-9a-f]+$/i,whe=/^0b[01]+$/i,She=/^0o[0-7]+$/i,_he=parseInt;function The(t){if(typeof t=="number")return t;if(bhe(t))return i4;if(r4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=r4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=yhe(t);var n=whe.test(t);return n||She.test(t)?_he(t.slice(2),n?2:8):xhe.test(t)?i4:+t}var XD=The,Che=bl,U1=dhe,a4=XD,Nhe="Expected a function",Ehe=Math.max,khe=Math.min;function Phe(t,e,n){var r,i,a,o,s,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Nhe);e=a4(e)||0,Che(n)&&(c=!!n.leading,d="maxWait"in n,a=d?Ehe(a4(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(k){var E=r,M=i;return r=i=void 0,u=k,o=t.apply(M,E),o}function v(k){return u=k,s=setTimeout(y,e),c?p(k):o}function b(k){var E=k-l,M=k-u,I=e-E;return d?khe(I,a-M):I}function x(k){var E=k-l,M=k-u;return l===void 0||E>=e||E<0||d&&M>=a}function y(){var k=U1();if(x(k))return w(k);s=setTimeout(y,b(k))}function w(k){return s=void 0,h&&r?p(k):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?o:w(U1())}function C(){var k=U1(),E=x(k);if(r=arguments,i=this,l=k,E){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return C.cancel=S,C.flush=T,C}var Mhe=Phe,Ohe=Mhe,jhe=bl,Ihe="Expected a function";function Dhe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Ihe);return jhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ohe(t,e,{leading:r,maxWait:e,trailing:i})}var Lhe=Dhe;const QD=Jt(Lhe);function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){Rhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e,n){return e=Fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Bhe(t,"string");return Ep(e)=="symbol"?e:e+""}function Bhe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $he(t,e){return zhe(t)||Hhe(t,e)||qhe(t,e)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qhe(t,e){if(t){if(typeof t=="string")return s4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s4(t,e)}}function s4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zhe(t){if(Array.isArray(t))return t}var l4=re.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,y=t.className,w=t.onResize,S=t.style,T=S===void 0?{}:S,C=re.useRef(null),k=re.useRef();k.current=w,re.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=re.useState({containerWidth:i.width,containerHeight:i.height}),M=$he(E,2),I=M[0],B=M[1],O=re.useCallback(function(U,F){B(function(G){var R=Math.round(U),$=Math.round(F);return G.containerWidth===R&&G.containerHeight===$?G:{containerWidth:R,containerHeight:$}})},[]);re.useEffect(function(){var U=function(Y){var X,te=Y[0].contentRect,D=te.width,q=te.height;O(D,q),(X=k.current)===null||X===void 0||X.call(k,D,q)};b>0&&(U=QD(U,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(U),G=C.current.getBoundingClientRect(),R=G.width,$=G.height;return O(R,$),F.observe(C.current),function(){F.disconnect()}},[O,b]);var j=re.useMemo(function(){var U=I.containerWidth,F=I.containerHeight;if(U<0||F<0)return null;Ua(Zl(o)||Zl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ua(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=Zl(o)?U:o,R=Zl(l)?F:l;n&&n>0&&(G?R=G/n:R&&(G=R*n),h&&R>h&&(R=h)),Ua(G>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,R,o,l,c,d,n);var $=!Array.isArray(p)&&Ko(p.type).endsWith("Chart");return fe.Children.map(p,function(H){return fe.isValidElement(H)?re.cloneElement(H,Km({width:G,height:R},$?{style:Km({height:"100%",width:"100%",maxHeight:R,maxWidth:G},H.props.style)}:{})):H})},[n,p,l,h,d,c,I,o]);return fe.createElement("div",{id:x?"".concat(x):void 0,className:Ot("recharts-responsive-container",y),style:Km(Km({},T),{},{width:o,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:C},j)}),cy=function(e){return null};cy.displayName="Cell";function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function u4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return e=Ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ghe(t){var e=Whe(t,"string");return kp(e)=="symbol"?e:e+""}function Whe(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cc={widthCache:{},cacheCount:0},Yhe=2e3,Khe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},c4="recharts_measurement_span";function Jhe(t){var e=uw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var tp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wf.isSsr)return{width:0,height:0};var r=Jhe(n),i=JSON.stringify({text:e,copyStyle:r});if(Cc.widthCache[i])return Cc.widthCache[i];try{var a=document.getElementById(c4);a||(a=document.createElement("span"),a.setAttribute("id",c4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=uw(uw({},Khe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Cc.widthCache[i]=l,++Cc.cacheCount>Yhe&&(Cc.cacheCount=0,Cc.widthCache={}),l}catch{return{width:0,height:0}}},Xhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function w0(t,e){return tpe(t)||epe(t,e)||Zhe(t,e)||Qhe()}function Qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zhe(t,e){if(t){if(typeof t=="string")return d4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d4(t,e)}}function d4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function epe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function tpe(t){if(Array.isArray(t))return t}function npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ipe(r.key),r)}}function rpe(t,e,n){return e&&f4(t.prototype,e),n&&f4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ipe(t){var e=ape(t,"string");return Pp(e)=="symbol"?e:e+""}function ape(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ope=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,spe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lpe=Object.keys(ZD),Xc="NaN";function upe(t,e){return t*ZD[e]}var Jm=function(){function t(e,n){npe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ope.test(n)&&(this.num=NaN,this.unit=""),lpe.includes(n)&&(this.num=upe(e,n),this.unit="px")}return rpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=spe.exec(n))!==null&&r!==void 0?r:[],a=w0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function eL(t){if(t.includes(Xc))return Xc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=h4.exec(e))!==null&&n!==void 0?n:[],i=w0(r,4),a=i[1],o=i[2],s=i[3],l=Jm.parse(a??""),u=Jm.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Xc;e=e.replace(h4,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=p4.exec(e))!==null&&d!==void 0?d:[],p=w0(h,4),v=p[1],b=p[2],x=p[3],y=Jm.parse(v??""),w=Jm.parse(x??""),S=b==="+"?y.add(w):y.subtract(w);if(S.isNaN())return Xc;e=e.replace(p4,S.toString())}return e}var A4=/\(([^()]*)\)/;function cpe(t){for(var e=t;e.includes("(");){var n=A4.exec(e),r=w0(n,2),i=r[1];e=e.replace(A4,eL(i))}return e}function dpe(t){var e=t.replace(/\s+/g,"");return e=cpe(e),e=eL(e),e}function fpe(t){try{return dpe(t)}catch{return Xc}}function q1(t){var e=fpe(t.slice(5,-1));return e===Xc?"":e}var hpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ppe=["dx","dy","angle","className","breakAll"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(this,arguments)}function m4(t,e){if(t==null)return{};var n=Ape(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g4(t,e){return ype(t)||vpe(t,e)||gpe(t,e)||mpe()}function mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpe(t,e){if(t){if(typeof t=="string")return v4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v4(t,e)}}function v4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ype(t){if(Array.isArray(t))return t}var tL=/[ \f\n\r\t\v\u2028\u2029]+/,nL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Dt(n)||(r?a=n.toString().split(""):a=n.toString().split(tL));var o=a.map(function(l){return{word:l,width:tp(l,i).width}}),s=r?0:tp(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},bpe=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Ye(o),d=s,h=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(R,$){var H=$.word,Y=$.width,X=R[R.length-1];if(X&&(i==null||a||X.width+Y+r<Number(i)))X.words.push(H),X.width+=Y+r;else{var te={words:[H],width:Y};R.push(te)}return R},[])},p=h(n),v=function(G){return G.reduce(function(R,$){return R.width>$.width?R:$})};if(!c)return p;for(var b="…",x=function(G){var R=d.slice(0,G),$=nL({breakAll:u,style:l,children:R+b}).wordsWithComputedWidth,H=h($),Y=H.length>o||v(H).width>Number(i);return[Y,H]},y=0,w=d.length-1,S=0,T;y<=w&&S<=d.length-1;){var C=Math.floor((y+w)/2),k=C-1,E=x(k),M=g4(E,2),I=M[0],B=M[1],O=x(C),j=g4(O,1),U=j[0];if(!I&&!U&&(y=C+1),I&&U&&(w=C-1),!I&&U){T=B;break}S++}return T||p},y4=function(e){var n=Dt(e)?[]:e.toString().split(tL);return[{words:n}]},xpe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!wf.isSsr){var l,u,c=nL({breakAll:o,children:i,style:a});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return y4(i);return bpe({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return y4(i)},b4="#808080",wu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,y=x===void 0?b4:x,w=m4(e,hpe),S=re.useMemo(function(){return xpe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),T=w.dx,C=w.dy,k=w.angle,E=w.className,M=w.breakAll,I=m4(w,ppe);if(!Ar(r)||!Ar(a))return null;var B=r+(Ye(T)?T:0),O=a+(Ye(C)?C:0),j;switch(b){case"start":j=q1("calc(".concat(u,")"));break;case"middle":j=q1("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=q1("calc(".concat(S.length-1," * -").concat(s,")"));break}var U=[];if(d){var F=S[0].width,G=w.width;U.push("scale(".concat((Ye(G)?G/F:1)/F,")"))}return k&&U.push("rotate(".concat(k,", ").concat(B,", ").concat(O,")")),U.length&&(I.transform=U.join(" ")),fe.createElement("text",cw({},yt(I,!0),{x:B,y:O,className:Ot("recharts-text",E),textAnchor:p,fill:y.includes("url")?b4:y}),S.map(function(R,$){var H=R.words.join(M?"":" ");return fe.createElement("tspan",{x:B,dy:$===0?j:s,key:"".concat(H,"-").concat($)},H)}))};function ll(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function n_(t){let e,n,r;t.length!==2?(e=ll,n=(s,l)=>ll(t(s),l),r=(s,l)=>t(s)-l):(e=t===ll||t===wpe?t:Spe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function Spe(){return 0}function rL(t){return t===null?NaN:+t}function*_pe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Tpe=n_(ll),TA=Tpe.right;n_(rL).center;class x4 extends Map{constructor(e,n=Epe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(w4(this,e))}has(e){return super.has(w4(this,e))}set(e,n){return super.set(Cpe(this,e),n)}delete(e){return super.delete(Npe(this,e))}}function w4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Cpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Npe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Epe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kpe(t=ll){if(t===ll)return iL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function iL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ppe=Math.sqrt(50),Mpe=Math.sqrt(10),Ope=Math.sqrt(2);function S0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Ppe?10:a>=Mpe?5:a>=Ope?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?S0(t,e,n*2):[s,l,u]}function dw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?S0(e,t,n):S0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function fw(t,e,n){return e=+e,t=+t,n=+n,S0(t,e,n)[2]}function hw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?fw(e,t,n):fw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function S4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?iL:kpe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));aL(t,e,p,v,i)}const a=t[e];let o=n,s=r;for(gh(t,n,e),i(t[r],a)>0&&gh(t,n,r);o<s;){for(gh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?gh(t,n,s):(++s,gh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function gh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jpe(t,e,n){if(t=Float64Array.from(_pe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _4(t);if(e>=1)return S4(t);var r,i=(r-1)*e,a=Math.floor(i),o=S4(aL(t,a).subarray(0,a+1)),s=_4(t.subarray(a+1));return o+(s-o)*(i-a)}}function Ipe(t,e,n=rL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Dpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function xa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ds(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pw=Symbol("implicit");function r_(){var t=new x4,e=[],n=[],r=pw;function i(a){let o=t.get(a);if(o===void 0){if(r!==pw)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new x4;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return r_(e,n).unknown(r)},xa.apply(i,arguments),i}function Mp(){var t=r_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,p=i<r,v=p?i:r,b=p?r:i;a=(b-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(b-v-a*(h-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var x=Dpe(h).map(function(y){return v+a*y});return n(p?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Mp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},xa.apply(d(),arguments)}function oL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oL(e())},t}function np(){return oL(Mp.apply(null,arguments).paddingInner(1))}function i_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function CA(){}var Op=.7,_0=1/Op,hd="\\s*([+-]?\\d+)\\s*",jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lpe=/^#([0-9a-f]{3,8})$/,Rpe=new RegExp(`^rgb\\(${hd},${hd},${hd}\\)$`),Fpe=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),Bpe=new RegExp(`^rgba\\(${hd},${hd},${hd},${jp}\\)$`),$pe=new RegExp(`^rgba\\(${co},${co},${co},${jp}\\)$`),Upe=new RegExp(`^hsl\\(${jp},${co},${co}\\)$`),qpe=new RegExp(`^hsla\\(${jp},${co},${co},${jp}\\)$`),T4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i_(CA,Ip,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C4,formatHex:C4,formatHex8:Hpe,formatHsl:zpe,formatRgb:N4,toString:N4});function C4(){return this.rgb().formatHex()}function Hpe(){return this.rgb().formatHex8()}function zpe(){return lL(this).formatHsl()}function N4(){return this.rgb().formatRgb()}function Ip(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Lpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?E4(e):n===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Xm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Xm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rpe.exec(t))?new gi(e[1],e[2],e[3],1):(e=Fpe.exec(t))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bpe.exec(t))?Xm(e[1],e[2],e[3],e[4]):(e=$pe.exec(t))?Xm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Upe.exec(t))?M4(e[1],e[2]/100,e[3]/100,1):(e=qpe.exec(t))?M4(e[1],e[2]/100,e[3]/100,e[4]):T4.hasOwnProperty(t)?E4(T4[t]):t==="transparent"?new gi(NaN,NaN,NaN,0):null}function E4(t){return new gi(t>>16&255,t>>8&255,t&255,1)}function Xm(t,e,n,r){return r<=0&&(t=e=n=NaN),new gi(t,e,n,r)}function Vpe(t){return t instanceof CA||(t=Ip(t)),t?(t=t.rgb(),new gi(t.r,t.g,t.b,t.opacity)):new gi}function Aw(t,e,n,r){return arguments.length===1?Vpe(t):new gi(t,e,n,r??1)}function gi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}i_(gi,Aw,sL(CA,{brighter(t){return t=t==null?_0:Math.pow(_0,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Op:Math.pow(Op,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gi(fu(this.r),fu(this.g),fu(this.b),T0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k4,formatHex:k4,formatHex8:Gpe,formatRgb:P4,toString:P4}));function k4(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}`}function Gpe(){return`#${eu(this.r)}${eu(this.g)}${eu(this.b)}${eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function P4(){const t=T0(this.opacity);return`${t===1?"rgb(":"rgba("}${fu(this.r)}, ${fu(this.g)}, ${fu(this.b)}${t===1?")":`, ${t})`}`}function T0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function fu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function eu(t){return t=fu(t),(t<16?"0":"")+t.toString(16)}function M4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $a(t,e,n,r)}function lL(t){if(t instanceof $a)return new $a(t.h,t.s,t.l,t.opacity);if(t instanceof CA||(t=Ip(t)),!t)return new $a;if(t instanceof $a)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new $a(o,s,l,t.opacity)}function Wpe(t,e,n,r){return arguments.length===1?lL(t):new $a(t,e,n,r??1)}function $a(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}i_($a,Wpe,sL(CA,{brighter(t){return t=t==null?_0:Math.pow(_0,t),new $a(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Op:Math.pow(Op,t),new $a(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gi(H1(t>=240?t-240:t+120,i,r),H1(t,i,r),H1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $a(O4(this.h),Qm(this.s),Qm(this.l),T0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=T0(this.opacity);return`${t===1?"hsl(":"hsla("}${O4(this.h)}, ${Qm(this.s)*100}%, ${Qm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function O4(t){return t=(t||0)%360,t<0?t+360:t}function Qm(t){return Math.max(0,Math.min(1,t||0))}function H1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const a_=t=>()=>t;function Ype(t,e){return function(n){return t+n*e}}function Kpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Jpe(t){return(t=+t)==1?uL:function(e,n){return n-e?Kpe(e,n,t):a_(isNaN(e)?n:e)}}function uL(t,e){var n=e-t;return n?Ype(t,n):a_(isNaN(t)?e:t)}const j4=function t(e){var n=Jpe(e);function r(i,a){var o=n((i=Aw(i)).r,(a=Aw(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=uL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Xpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Qpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zpe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Sf(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function eAe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function C0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tAe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z1=new RegExp(mw.source,"g");function nAe(t){return function(){return t}}function rAe(t){return function(e){return t(e)+""}}function iAe(t,e){var n=mw.lastIndex=z1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=mw.exec(t))&&(i=z1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:C0(r,i)})),n=z1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?rAe(l[0].x):nAe(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Sf(t,e){var n=typeof e,r;return e==null||n==="boolean"?a_(e):(n==="number"?C0:n==="string"?(r=Ip(e))?(e=r,j4):iAe:e instanceof Ip?j4:e instanceof Date?eAe:Qpe(e)?Xpe:Array.isArray(e)?Zpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tAe:C0)(t,e)}function o_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aAe(t,e){e===void 0&&(e=t,t=Sf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function oAe(t){return function(){return t}}function N0(t){return+t}var I4=[0,1];function ti(t){return t}function gw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:oAe(isNaN(e)?NaN:.5)}function sAe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lAe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=gw(i,r),a=n(o,a)):(r=gw(r,i),a=n(a,o)),function(s){return a(r(s))}}function uAe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=gw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=TA(t,s,1,r)-1;return a[l](i[l](s))}}function NA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function dy(){var t=I4,e=I4,n=Sf,r,i,a,o=ti,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==ti&&(o=sAe(t[0],t[h-1])),s=h>2?uAe:lAe,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((u||(u=s(e,t.map(r),C0)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,N0),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=o_,c()},d.clamp=function(h){return arguments.length?(o=h?!0:ti,c()):o!==ti},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,c()}}function s_(){return dy()(ti,ti)}function cAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function E0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jd(t){return t=E0(Math.abs(t)),t?t[1]:NaN}function dAe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function fAe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dp(t){if(!(e=hAe.exec(t)))throw new Error("invalid format: "+t);var e;return new l_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dp.prototype=l_.prototype;function l_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}l_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var cL;function AAe(t,e){var n=E0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(cL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+E0(t,Math.max(0,e+a-1))[0]}function D4(t,e){var n=E0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const L4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>D4(t*100,e),r:D4,s:AAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function R4(t){return t}var F4=Array.prototype.map,B4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mAe(t){var e=t.grouping===void 0||t.thousands===void 0?R4:dAe(F4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?R4:fAe(F4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Dp(d);var h=d.fill,p=d.align,v=d.sign,b=d.symbol,x=d.zero,y=d.width,w=d.comma,S=d.precision,T=d.trim,C=d.type;C==="n"?(w=!0,C="g"):L4[C]||(S===void 0&&(S=12),T=!0,C="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var k=b==="$"?n:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=b==="$"?r:/[%p]/.test(C)?o:"",M=L4[C],I=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(O){var j=k,U=E,F,G,R;if(C==="c")U=M(O)+U,O="";else{O=+O;var $=O<0||1/O<0;if(O=isNaN(O)?l:M(Math.abs(O),S),T&&(O=pAe(O)),$&&+O==0&&v!=="+"&&($=!1),j=($?v==="("?v:s:v==="-"||v==="("?"":v)+j,U=(C==="s"?B4[8+cL/3]:"")+U+($&&v==="("?")":""),I){for(F=-1,G=O.length;++F<G;)if(R=O.charCodeAt(F),48>R||R>57){U=(R===46?i+O.slice(F+1):O.slice(F))+U,O=O.slice(0,F);break}}}w&&!x&&(O=e(O,1/0));var H=j.length+O.length+U.length,Y=H<y?new Array(y-H+1).join(h):"";switch(w&&x&&(O=e(Y+O,Y.length?y-U.length:1/0),Y=""),p){case"<":O=j+O+U+Y;break;case"=":O=j+Y+O+U;break;case"^":O=Y.slice(0,H=Y.length>>1)+j+O+U+Y.slice(H);break;default:O=Y+j+O+U;break}return a(O)}return B.toString=function(){return d+""},B}function c(d,h){var p=u((d=Dp(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(jd(h)/3)))*3,b=Math.pow(10,-v),x=B4[8+v/3];return function(y){return p(b*y)+x}}return{format:u,formatPrefix:c}}var Zm,u_,dL;gAe({thousands:",",grouping:[3],currency:["$",""]});function gAe(t){return Zm=mAe(t),u_=Zm.format,dL=Zm.formatPrefix,Zm}function vAe(t){return Math.max(0,-jd(Math.abs(t)))}function yAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jd(e)/3)))*3-jd(Math.abs(t)))}function bAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jd(e)-jd(t))+1}function fL(t,e,n,r){var i=hw(t,e,n),a;switch(r=Dp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=yAe(i,o))&&(r.precision=a),dL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=bAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=vAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return u_(r)}function xl(t){var e=t.domain;return t.ticks=function(n){var r=e();return dw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return fL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=fw(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function k0(){var t=s_();return t.copy=function(){return NA(t,k0())},xa.apply(t,arguments),xl(t)}function hL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,N0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return hL(t).unknown(e)},t=arguments.length?Array.from(t,N0):[0,1],xl(n)}function pL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function $4(t){return Math.log(t)}function U4(t){return Math.exp(t)}function xAe(t){return-Math.log(-t)}function wAe(t){return-Math.exp(-t)}function SAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _Ae(t){return t===10?SAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function TAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function q4(t){return(e,n)=>-t(-e,n)}function c_(t){const e=t($4,U4),n=e.domain;let r=10,i,a;function o(){return i=TAe(r),a=_Ae(r),n()[0]<0?(i=q4(i),a=q4(a),t(xAe,wAe)):t($4,U4),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),v,b;const x=s==null?10:+s;let y=[];if(!(r%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<r;++v)if(b=h<0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;y.push(b)}y.length*2<x&&(y=dw(u,c,x))}else y=dw(h,p,Math.min(p-h,x)).map(a);return d?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Dp(l)).precision==null&&(l.trim=!0),l=u_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(pL(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function AL(){const t=c_(dy()).domain([1,10]);return t.copy=()=>NA(t,AL()).base(t.base()),xa.apply(t,arguments),t}function H4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function z4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function d_(t){var e=1,n=t(H4(e),z4(e));return n.constant=function(r){return arguments.length?t(H4(e=+r),z4(e)):e},xl(n)}function mL(){var t=d_(dy());return t.copy=function(){return NA(t,mL()).constant(t.constant())},xa.apply(t,arguments)}function V4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function CAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function NAe(t){return t<0?-t*t:t*t}function f_(t){var e=t(ti,ti),n=1;function r(){return n===1?t(ti,ti):n===.5?t(CAe,NAe):t(V4(n),V4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(e)}function h_(){var t=f_(dy());return t.copy=function(){return NA(t,h_()).exponent(t.exponent())},xa.apply(t,arguments),t}function EAe(){return h_.apply(null,arguments).exponent(.5)}function G4(t){return Math.sign(t)*t*t}function kAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gL(){var t=s_(),e=[0,1],n=!1,r;function i(a){var o=kAe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(G4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,N0)).map(G4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return gL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xa.apply(i,arguments),xl(i)}function vL(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Ipe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[TA(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ll),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return vL().domain(t).range(e).unknown(r)},xa.apply(a,arguments)}function yL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[TA(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return yL().domain([t,e]).range(i).unknown(a)},xa.apply(xl(o),arguments)}function bL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[TA(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bL().domain(t).range(e).unknown(n)},xa.apply(i,arguments)}const V1=new Date,G1=new Date;function gr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>gr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(V1.setTime(+a),G1.setTime(+o),t(V1),t(G1),Math.floor(n(V1,G1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const P0=gr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);P0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):P0);P0.range;const Ho=1e3,fa=Ho*60,zo=fa*60,ns=zo*24,p_=ns*7,W4=ns*30,W1=ns*365,tu=gr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCSeconds());tu.range;const A_=gr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getMinutes());A_.range;const m_=gr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCMinutes());m_.range;const g_=gr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ho-t.getMinutes()*fa)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());g_.range;const v_=gr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());v_.range;const EA=gr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fa)/ns,t=>t.getDate()-1);EA.range;const fy=gr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>t.getUTCDate()-1);fy.range;const xL=gr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ns,t=>Math.floor(t/ns));xL.range;function Ru(t){return gr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fa)/p_)}const hy=Ru(0),M0=Ru(1),PAe=Ru(2),MAe=Ru(3),Id=Ru(4),OAe=Ru(5),jAe=Ru(6);hy.range;M0.range;PAe.range;MAe.range;Id.range;OAe.range;jAe.range;function Fu(t){return gr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/p_)}const py=Fu(0),O0=Fu(1),IAe=Fu(2),DAe=Fu(3),Dd=Fu(4),LAe=Fu(5),RAe=Fu(6);py.range;O0.range;IAe.range;DAe.range;Dd.range;LAe.range;RAe.range;const y_=gr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());y_.range;const b_=gr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());b_.range;const rs=gr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});rs.range;const is=gr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});is.range;function wL(t,e,n,r,i,a){const o=[[tu,1,Ho],[tu,5,5*Ho],[tu,15,15*Ho],[tu,30,30*Ho],[a,1,fa],[a,5,5*fa],[a,15,15*fa],[a,30,30*fa],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[r,1,ns],[r,2,2*ns],[n,1,p_],[e,1,W4],[e,3,3*W4],[t,1,W1]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),v=p?p.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,p=n_(([,,x])=>x).right(o,h);if(p===o.length)return t.every(hw(u/W1,c/W1,d));if(p===0)return P0.every(Math.max(hw(u,c,d),1));const[v,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(b)}return[s,l]}const[FAe,BAe]=wL(is,b_,py,xL,v_,m_),[$Ae,UAe]=wL(rs,y_,hy,EA,g_,A_);function Y1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function K1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=yh(i),c=bh(i),d=yh(a),h=bh(a),p=yh(o),v=bh(o),b=yh(s),x=bh(s),y=yh(l),w=bh(l),S={a:$,A:H,b:Y,B:X,c:null,d:Z4,e:Z4,f:dme,g:xme,G:Sme,H:lme,I:ume,j:cme,L:SL,m:fme,M:hme,p:te,q:D,Q:n3,s:r3,S:pme,u:Ame,U:mme,V:gme,w:vme,W:yme,x:null,X:null,y:bme,Y:wme,Z:_me,"%":t3},T={a:q,A:Z,b:ne,B:ae,c:null,d:e3,e:e3,f:Eme,g:Fme,G:$me,H:Tme,I:Cme,j:Nme,L:TL,m:kme,M:Pme,p:me,q:Ae,Q:n3,s:r3,S:Mme,u:Ome,U:jme,V:Ime,w:Dme,W:Lme,x:null,X:null,y:Rme,Y:Bme,Z:Ume,"%":t3},C={a:B,A:O,b:j,B:U,c:F,d:X4,e:X4,f:ime,g:J4,G:K4,H:Q4,I:Q4,j:eme,L:rme,m:ZAe,M:tme,p:I,q:QAe,Q:ome,s:sme,S:nme,u:WAe,U:YAe,V:KAe,w:GAe,W:JAe,x:G,X:R,y:J4,Y:K4,Z:XAe,"%":ame};S.x=k(n,S),S.X=k(r,S),S.c=k(e,S),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(W,le){return function(ce){var ue=[],Me=-1,De=0,Ne=W.length,oe,Ee,ke;for(ce instanceof Date||(ce=new Date(+ce));++Me<Ne;)W.charCodeAt(Me)===37&&(ue.push(W.slice(De,Me)),(Ee=Y4[oe=W.charAt(++Me)])!=null?oe=W.charAt(++Me):Ee=oe==="e"?" ":"0",(ke=le[oe])&&(oe=ke(ce,Ee)),ue.push(oe),De=Me+1);return ue.push(W.slice(De,Me)),ue.join("")}}function E(W,le){return function(ce){var ue=vh(1900,void 0,1),Me=M(ue,W,ce+="",0),De,Ne;if(Me!=ce.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(le&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(De=K1(vh(ue.y,0,1)),Ne=De.getUTCDay(),De=Ne>4||Ne===0?O0.ceil(De):O0(De),De=fy.offset(De,(ue.V-1)*7),ue.y=De.getUTCFullYear(),ue.m=De.getUTCMonth(),ue.d=De.getUTCDate()+(ue.w+6)%7):(De=Y1(vh(ue.y,0,1)),Ne=De.getDay(),De=Ne>4||Ne===0?M0.ceil(De):M0(De),De=EA.offset(De,(ue.V-1)*7),ue.y=De.getFullYear(),ue.m=De.getMonth(),ue.d=De.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ne="Z"in ue?K1(vh(ue.y,0,1)).getUTCDay():Y1(vh(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ne+5)%7:ue.w+ue.U*7-(Ne+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,K1(ue)):Y1(ue)}}function M(W,le,ce,ue){for(var Me=0,De=le.length,Ne=ce.length,oe,Ee;Me<De;){if(ue>=Ne)return-1;if(oe=le.charCodeAt(Me++),oe===37){if(oe=le.charAt(Me++),Ee=C[oe in Y4?le.charAt(Me++):oe],!Ee||(ue=Ee(W,ce,ue))<0)return-1}else if(oe!=ce.charCodeAt(ue++))return-1}return ue}function I(W,le,ce){var ue=u.exec(le.slice(ce));return ue?(W.p=c.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function B(W,le,ce){var ue=p.exec(le.slice(ce));return ue?(W.w=v.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function O(W,le,ce){var ue=d.exec(le.slice(ce));return ue?(W.w=h.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function j(W,le,ce){var ue=y.exec(le.slice(ce));return ue?(W.m=w.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function U(W,le,ce){var ue=b.exec(le.slice(ce));return ue?(W.m=x.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function F(W,le,ce){return M(W,e,le,ce)}function G(W,le,ce){return M(W,n,le,ce)}function R(W,le,ce){return M(W,r,le,ce)}function $(W){return o[W.getDay()]}function H(W){return a[W.getDay()]}function Y(W){return l[W.getMonth()]}function X(W){return s[W.getMonth()]}function te(W){return i[+(W.getHours()>=12)]}function D(W){return 1+~~(W.getMonth()/3)}function q(W){return o[W.getUTCDay()]}function Z(W){return a[W.getUTCDay()]}function ne(W){return l[W.getUTCMonth()]}function ae(W){return s[W.getUTCMonth()]}function me(W){return i[+(W.getUTCHours()>=12)]}function Ae(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var le=k(W+="",S);return le.toString=function(){return W},le},parse:function(W){var le=E(W+="",!1);return le.toString=function(){return W},le},utcFormat:function(W){var le=k(W+="",T);return le.toString=function(){return W},le},utcParse:function(W){var le=E(W+="",!0);return le.toString=function(){return W},le}}}var Y4={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,HAe=/^%/,zAe=/[\\^$*+?|[\]().{}]/g;function Vt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function VAe(t){return t.replace(zAe,"\\$&")}function yh(t){return new RegExp("^(?:"+t.map(VAe).join("|")+")","i")}function bh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function GAe(t,e,n){var r=Nr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function WAe(t,e,n){var r=Nr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function YAe(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function KAe(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function JAe(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function K4(t,e,n){var r=Nr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function J4(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function XAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QAe(t,e,n){var r=Nr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ZAe(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function X4(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eme(t,e,n){var r=Nr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Q4(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tme(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nme(t,e,n){var r=Nr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rme(t,e,n){var r=Nr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ime(t,e,n){var r=Nr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ame(t,e,n){var r=HAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ome(t,e,n){var r=Nr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function sme(t,e,n){var r=Nr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Z4(t,e){return Vt(t.getDate(),e,2)}function lme(t,e){return Vt(t.getHours(),e,2)}function ume(t,e){return Vt(t.getHours()%12||12,e,2)}function cme(t,e){return Vt(1+EA.count(rs(t),t),e,3)}function SL(t,e){return Vt(t.getMilliseconds(),e,3)}function dme(t,e){return SL(t,e)+"000"}function fme(t,e){return Vt(t.getMonth()+1,e,2)}function hme(t,e){return Vt(t.getMinutes(),e,2)}function pme(t,e){return Vt(t.getSeconds(),e,2)}function Ame(t){var e=t.getDay();return e===0?7:e}function mme(t,e){return Vt(hy.count(rs(t)-1,t),e,2)}function _L(t){var e=t.getDay();return e>=4||e===0?Id(t):Id.ceil(t)}function gme(t,e){return t=_L(t),Vt(Id.count(rs(t),t)+(rs(t).getDay()===4),e,2)}function vme(t){return t.getDay()}function yme(t,e){return Vt(M0.count(rs(t)-1,t),e,2)}function bme(t,e){return Vt(t.getFullYear()%100,e,2)}function xme(t,e){return t=_L(t),Vt(t.getFullYear()%100,e,2)}function wme(t,e){return Vt(t.getFullYear()%1e4,e,4)}function Sme(t,e){var n=t.getDay();return t=n>=4||n===0?Id(t):Id.ceil(t),Vt(t.getFullYear()%1e4,e,4)}function _me(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vt(e/60|0,"0",2)+Vt(e%60,"0",2)}function e3(t,e){return Vt(t.getUTCDate(),e,2)}function Tme(t,e){return Vt(t.getUTCHours(),e,2)}function Cme(t,e){return Vt(t.getUTCHours()%12||12,e,2)}function Nme(t,e){return Vt(1+fy.count(is(t),t),e,3)}function TL(t,e){return Vt(t.getUTCMilliseconds(),e,3)}function Eme(t,e){return TL(t,e)+"000"}function kme(t,e){return Vt(t.getUTCMonth()+1,e,2)}function Pme(t,e){return Vt(t.getUTCMinutes(),e,2)}function Mme(t,e){return Vt(t.getUTCSeconds(),e,2)}function Ome(t){var e=t.getUTCDay();return e===0?7:e}function jme(t,e){return Vt(py.count(is(t)-1,t),e,2)}function CL(t){var e=t.getUTCDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function Ime(t,e){return t=CL(t),Vt(Dd.count(is(t),t)+(is(t).getUTCDay()===4),e,2)}function Dme(t){return t.getUTCDay()}function Lme(t,e){return Vt(O0.count(is(t)-1,t),e,2)}function Rme(t,e){return Vt(t.getUTCFullYear()%100,e,2)}function Fme(t,e){return t=CL(t),Vt(t.getUTCFullYear()%100,e,2)}function Bme(t,e){return Vt(t.getUTCFullYear()%1e4,e,4)}function $me(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Dd(t):Dd.ceil(t),Vt(t.getUTCFullYear()%1e4,e,4)}function Ume(){return"+0000"}function t3(){return"%"}function n3(t){return+t}function r3(t){return Math.floor(+t/1e3)}var Nc,NL,EL;qme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qme(t){return Nc=qAe(t),NL=Nc.format,Nc.parse,EL=Nc.utcFormat,Nc.utcParse,Nc}function Hme(t){return new Date(t)}function zme(t){return t instanceof Date?+t:+new Date(+t)}function x_(t,e,n,r,i,a,o,s,l,u){var c=s_(),d=c.invert,h=c.domain,p=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),w=u("%b %d"),S=u("%B"),T=u("%Y");function C(k){return(l(k)<k?p:s(k)<k?v:o(k)<k?b:a(k)<k?x:r(k)<k?i(k)<k?y:w:n(k)<k?S:T)(k)}return c.invert=function(k){return new Date(d(k))},c.domain=function(k){return arguments.length?h(Array.from(k,zme)):h().map(Hme)},c.ticks=function(k){var E=h();return t(E[0],E[E.length-1],k??10)},c.tickFormat=function(k,E){return E==null?C:u(E)},c.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?h(pL(E,k)):c},c.copy=function(){return NA(c,x_(t,e,n,r,i,a,o,s,l,u))},c}function Vme(){return xa.apply(x_($Ae,UAe,rs,y_,hy,EA,g_,A_,tu,NL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gme(){return xa.apply(x_(FAe,BAe,is,b_,py,fy,v_,m_,tu,EL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ay(){var t=0,e=1,n,r,i,a,o=ti,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(h){var p,v;return arguments.length?([p,v]=h,o=d(p,v),u):[o(0),o(1)]}}return u.range=c(Sf),u.rangeRound=c(o_),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kL(){var t=xl(Ay()(ti));return t.copy=function(){return wl(t,kL())},ds.apply(t,arguments)}function PL(){var t=c_(Ay()).domain([1,10]);return t.copy=function(){return wl(t,PL()).base(t.base())},ds.apply(t,arguments)}function ML(){var t=d_(Ay());return t.copy=function(){return wl(t,ML()).constant(t.constant())},ds.apply(t,arguments)}function w_(){var t=f_(Ay());return t.copy=function(){return wl(t,w_()).exponent(t.exponent())},ds.apply(t,arguments)}function Wme(){return w_.apply(null,arguments).exponent(.5)}function OL(){var t=[],e=ti;function n(r){if(r!=null&&!isNaN(r=+r))return e((TA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ll),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>jpe(t,a/r))},n.copy=function(){return OL(e).domain(t)},ds.apply(n,arguments)}function my(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=ti,c,d=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-a)*(r*b<r*a?s:l),u(d?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(b){return arguments.length?(d=!!b,p):d},p.interpolator=function(b){return arguments.length?(u=b,p):u};function v(b){return function(x){var y,w,S;return arguments.length?([y,w,S]=x,u=aAe(b,[y,w,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Sf),p.rangeRound=v(o_),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return c=b,i=b(t),a=b(e),o=b(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function jL(){var t=xl(my()(ti));return t.copy=function(){return wl(t,jL())},ds.apply(t,arguments)}function IL(){var t=c_(my()).domain([.1,1,10]);return t.copy=function(){return wl(t,IL()).base(t.base())},ds.apply(t,arguments)}function DL(){var t=d_(my());return t.copy=function(){return wl(t,DL()).constant(t.constant())},ds.apply(t,arguments)}function S_(){var t=f_(my());return t.copy=function(){return wl(t,S_()).exponent(t.exponent())},ds.apply(t,arguments)}function Yme(){return S_.apply(null,arguments).exponent(.5)}const i3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mp,scaleDiverging:jL,scaleDivergingLog:IL,scaleDivergingPow:S_,scaleDivergingSqrt:Yme,scaleDivergingSymlog:DL,scaleIdentity:hL,scaleImplicit:pw,scaleLinear:k0,scaleLog:AL,scaleOrdinal:r_,scalePoint:np,scalePow:h_,scaleQuantile:vL,scaleQuantize:yL,scaleRadial:gL,scaleSequential:kL,scaleSequentialLog:PL,scaleSequentialPow:w_,scaleSequentialQuantile:OL,scaleSequentialSqrt:Wme,scaleSequentialSymlog:ML,scaleSqrt:EAe,scaleSymlog:mL,scaleThreshold:bL,scaleTime:Vme,scaleUtc:Gme,tickFormat:fL},Symbol.toStringTag,{value:"Module"}));var Kme=pf;function Jme(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Kme(o):n(o,s)))var s=o,l=a}return l}var gy=Jme;function Xme(t,e){return t>e}var LL=Xme,Qme=gy,Zme=LL,ege=xf;function tge(t){return t&&t.length?Qme(t,ege,Zme):void 0}var nge=tge;const vy=Jt(nge);function rge(t,e){return t<e}var RL=rge,ige=gy,age=RL,oge=xf;function sge(t){return t&&t.length?ige(t,oge,age):void 0}var lge=sge;const yy=Jt(lge);var uge=RS,cge=vo,dge=VD,fge=wi;function hge(t,e){var n=fge(t)?uge:dge;return n(t,cge(e))}var pge=hge,Age=HD,mge=pge;function gge(t,e){return Age(mge(t,e),1)}var vge=gge;const yge=Jt(vge);var bge=QS;function xge(t,e){return bge(t,e)}var wge=xge;const by=Jt(wge);var _f=1e9,Sge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T_,jn=!0,ya="[DecimalError] ",hu=ya+"Invalid argument: ",__=ya+"Exponent out of range: ",Tf=Math.floor,Kl=Math.pow,_ge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ii,wr=1e7,Nn=7,FL=9007199254740991,j0=Tf(FL/Nn),nt={};nt.absoluteValue=nt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};nt.comparedTo=nt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};nt.dividedBy=nt.div=function(t){return Jo(this,new this.constructor(t))};nt.dividedToIntegerBy=nt.idiv=function(t){var e=this,n=e.constructor;return pn(Jo(e,new n(t),0,1),n.precision)};nt.equals=nt.eq=function(t){return!this.cmp(t)};nt.exponent=function(){return ar(this)};nt.greaterThan=nt.gt=function(t){return this.cmp(t)>0};nt.greaterThanOrEqualTo=nt.gte=function(t){return this.cmp(t)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(t){return this.cmp(t)<0};nt.lessThanOrEqualTo=nt.lte=function(t){return this.cmp(t)<1};nt.logarithm=nt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ii))throw Error(ya+"NaN");if(n.s<1)throw Error(ya+(n.s?"NaN":"-Infinity"));return n.eq(Ii)?new r(0):(jn=!1,e=Jo(Lp(n,a),Lp(t,a),a),jn=!0,pn(e,i))};nt.minus=nt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UL(e,t):BL(e,(t.s=-t.s,t))};nt.modulo=nt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ya+"NaN");return n.s?(jn=!1,e=Jo(n,t,0,1).times(t),jn=!0,n.minus(e)):pn(new r(n),i)};nt.naturalExponential=nt.exp=function(){return $L(this)};nt.naturalLogarithm=nt.ln=function(){return Lp(this)};nt.negated=nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};nt.plus=nt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BL(e,t):UL(e,(t.s=-t.s,t))};nt.precision=nt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(hu+t);if(e=ar(i)+1,r=i.d.length-1,n=r*Nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};nt.squareRoot=nt.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ya+"NaN")}for(t=ar(s),jn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=so(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Jo(s,a,o+2)).times(.5),so(a.d).slice(0,o)===(e=so(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(pn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return jn=!0,pn(r,n)};nt.times=nt.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,d=c.constructor,h=c.d,p=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+e,a[i--]=s%wr|0,e=s/wr|0;a[i]=(a[i]+e)%wr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,jn?pn(t,d.precision):t};nt.toDecimalPlaces=nt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ho(t,0,_f),e===void 0?e=r.rounding:ho(e,0,8),pn(n,t+ar(n)+1,e))};nt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Su(r,!0):(ho(t,0,_f),e===void 0?e=i.rounding:ho(e,0,8),r=pn(new i(r),t+1,e),n=Su(r,!0,t+1)),n};nt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Su(i):(ho(t,0,_f),e===void 0?e=a.rounding:ho(e,0,8),r=pn(new a(i),t+ar(i)+1,e),n=Su(r.abs(),!1,t+ar(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};nt.toInteger=nt.toint=function(){var t=this,e=t.constructor;return pn(new e(t),ar(t)+1,e.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Ii);if(s=new l(s),!s.s){if(t.s<1)throw Error(ya+"Infinity");return s}if(s.eq(Ii))return s;if(r=l.precision,t.eq(Ii))return pn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=FL){for(i=new l(Ii),e=Math.ceil(r/Nn+4),jn=!1;n%2&&(i=i.times(s),o3(i.d,e)),n=Tf(n/2),n!==0;)s=s.times(s),o3(s.d,e);return jn=!0,t.s<0?new l(Ii).div(i):pn(i,r)}}else if(a<0)throw Error(ya+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,jn=!1,i=t.times(Lp(s,r+u)),jn=!0,i=$L(i),i.s=a,i};nt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ar(i),r=Su(i,n<=a.toExpNeg||n>=a.toExpPos)):(ho(t,1,_f),e===void 0?e=a.rounding:ho(e,0,8),i=pn(new a(i),t,e),n=ar(i),r=Su(i,t<=n||n<=a.toExpNeg,t)),r};nt.toSignificantDigits=nt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ho(t,1,_f),e===void 0?e=r.rounding:ho(e,0,8)),pn(new r(n),t,e)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ar(t),n=t.constructor;return Su(t,e<=n.toExpNeg||e>=n.toExpPos)};function BL(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),jn?pn(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(d/Nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/wr|0,l[a]%=wr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,jn?pn(e,d):e}function ho(t,e,n){if(t!==~~t||t<e||t>n)throw Error(hu+t)}function so(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Nn-r.length,n&&(a+=Ds(n)),a+=r;o=t[e],r=o+"",n=Nn-r.length,n&&(a+=Ds(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Jo=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%wr|0,o=a/wr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*wr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,d,h,p,v,b,x,y,w,S,T,C,k,E,M,I=r.constructor,B=r.s==i.s?1:-1,O=r.d,j=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ya+"Division by zero");for(l=r.e-i.e,E=j.length,C=O.length,p=new I(B),v=p.d=[],u=0;j[u]==(O[u]||0);)++u;if(j[u]>(O[u]||0)&&--l,a==null?w=a=I.precision:o?w=a+(ar(r)-ar(i))+1:w=a,w<0)return new I(0);if(w=w/Nn+2|0,u=0,E==1)for(c=0,j=j[0],w++;(u<C||c)&&w--;u++)S=c*wr+(O[u]||0),v[u]=S/j|0,c=S%j|0;else{for(c=wr/(j[0]+1)|0,c>1&&(j=t(j,c),O=t(O,c),E=j.length,C=O.length),T=E,b=O.slice(0,E),x=b.length;x<E;)b[x++]=0;M=j.slice(),M.unshift(0),k=j[0],j[1]>=wr/2&&++k;do c=0,s=e(j,b,E,x),s<0?(y=b[0],E!=x&&(y=y*wr+(b[1]||0)),c=y/k|0,c>1?(c>=wr&&(c=wr-1),d=t(j,c),h=d.length,x=b.length,s=e(d,b,h,x),s==1&&(c--,n(d,E<h?M:j,h))):(c==0&&(s=c=1),d=j.slice()),h=d.length,h<x&&d.unshift(0),n(b,d,x),s==-1&&(x=b.length,s=e(j,b,E,x),s<1&&(c++,n(b,E<x?M:j,x))),x=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[x++]=O[T]||0:(b=[O[T]],x=1);while((T++<C||b[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=l,pn(p,o?a+ar(p)+1:a)}}();function $L(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,d=c.precision;if(ar(t)>16)throw Error(__+ar(t));if(!t.s)return new c(Ii);for(jn=!1,s=d,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Kl(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Ii),c.precision=s;;){if(i=pn(i.times(t),s),n=n.times(++l),o=a.plus(Jo(i,n,s)),so(o.d).slice(0,s)===so(a.d).slice(0,s)){for(;u--;)a=pn(a.times(a),s);return c.precision=d,e==null?(jn=!0,pn(a,d)):a}a=o}}function ar(t){for(var e=t.e*Nn,n=t.d[0];n>=10;n/=10)e++;return e}function J1(t,e,n){if(e>t.LN10.sd())throw jn=!0,n&&(t.precision=n),Error(ya+"LN10 precision limit exceeded");return pn(new t(t.LN10),e)}function Ds(t){for(var e="";t--;)e+="0";return e}function Lp(t,e){var n,r,i,a,o,s,l,u,c,d=1,h=10,p=t,v=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(ya+(p.s?"NaN":"-Infinity"));if(p.eq(Ii))return new b(0);if(e==null?(jn=!1,u=x):u=e,p.eq(10))return e==null&&(jn=!0),J1(b,u);if(u+=h,b.precision=u,n=so(v),r=n.charAt(0),a=ar(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=so(p.d),r=n.charAt(0),d++;a=ar(p),r>1?(p=new b("0."+n),a++):p=new b(r+"."+n.slice(1))}else return l=J1(b,u+2,x).times(a+""),p=Lp(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(jn=!0,pn(p,x)):p;for(s=o=p=Jo(p.minus(Ii),p.plus(Ii),u),c=pn(p.times(p),u),i=3;;){if(o=pn(o.times(c),u),l=s.plus(Jo(o,new b(i),u)),so(l.d).slice(0,u)===so(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(J1(b,u+2,x).times(a+""))),s=Jo(s,new b(d),u),b.precision=x,e==null?(jn=!0,pn(s,x)):s;s=l,i+=2}}function a3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tf(n/Nn),t.d=[],r=(n+1)%Nn,n<0&&(r+=Nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nn;r<i;)t.d.push(+e.slice(r,r+=Nn));e=e.slice(r),r=Nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),jn&&(t.e>j0||t.e<-j0))throw Error(__+n)}else t.s=0,t.e=0,t.d=[0];return t}function pn(t,e,n){var r,i,a,o,s,l,u,c,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Nn,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/Nn),a=d.length,c>=a)return t;for(u=a=d[c],o=1;a>=10;a/=10)o++;r%=Nn,i=r-Nn+o}if(n!==void 0&&(a=Kl(10,o-i-1),s=u/a%10|0,l=e<0||d[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Kl(10,o-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(a=ar(t),d.length=1,e=e-a-1,d[0]=Kl(10,(Nn-e%Nn)%Nn),t.e=Tf(-e/Nn)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,a=1,c--):(d.length=c+1,a=Kl(10,Nn-r),d[c]=i>0?(u/Kl(10,o-i)%Kl(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==wr&&(d[0]=1,++t.e);break}else{if(d[c]+=a,d[c]!=wr)break;d[c--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(jn&&(t.e>j0||t.e<-j0))throw Error(__+ar(t));return t}function UL(t,e){var n,r,i,a,o,s,l,u,c,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),jn?pn(e,p):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/Nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=wr-1;--l[a],l[i]+=wr}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,jn?pn(e,p):e):new h(0)}function Su(t,e,n){var r,i=ar(t),a=so(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ds(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ds(-i-1)+a,n&&(r=n-o)>0&&(a+=Ds(r))):i>=o?(a+=Ds(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ds(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ds(r))),t.s<0?"-"+a:a}function o3(t,e){if(t.length>e)return t.length=e,!0}function qL(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return a3(o,a.toString())}else if(typeof a!="string")throw Error(hu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,_ge.test(a))a3(o,a);else throw Error(hu+a)}if(i.prototype=nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qL,i.config=i.set=Tge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Tge(t){if(!t||typeof t!="object")throw Error(ya+"Object expected");var e,n,r,i=["precision",1,_f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(hu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hu+n+": "+r);return this}var T_=qL(Sge);Ii=new T_(1);const ln=T_;function Cge(t){return Pge(t)||kge(t)||Ege(t)||Nge()}function Nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ege(t,e){if(t){if(typeof t=="string")return vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(t,e)}}function kge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pge(t){if(Array.isArray(t))return vw(t)}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mge=function(e){return e},HL={},zL=function(e){return e===HL},s3=function(e){return function n(){return arguments.length===0||arguments.length===1&&zL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Oge=function t(e,n){return e===1?n:s3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==HL}).length;return o>=e?n.apply(void 0,i):t(e-o,s3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(d){return zL(d)?l.shift():d});return n.apply(void 0,Cge(c).concat(l))}))})},xy=function(e){return Oge(e.length,e)},yw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},jge=xy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Ige=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Mge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},bw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},VL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Dge(t){var e;return t===0?e=1:e=Math.floor(new ln(t).abs().log(10).toNumber())+1,e}function Lge(t,e,n){for(var r=new ln(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Rge=xy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Fge=xy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Bge=xy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const wy={rangeStep:Lge,getDigitCount:Dge,interpolateNumber:Rge,uninterpolateNumber:Fge,uninterpolateTruncation:Bge};function xw(t){return qge(t)||Uge(t)||GL(t)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qge(t){if(Array.isArray(t))return ww(t)}function Rp(t,e){return Vge(t)||zge(t,e)||GL(t,e)||Hge()}function Hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Vge(t){if(Array.isArray(t))return t}function WL(t){var e=Rp(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function YL(t,e,n){if(t.lte(0))return new ln(0);var r=wy.getDigitCount(t.toNumber()),i=new ln(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new ln(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new ln(Math.ceil(l))}function Gge(t,e,n){var r=1,i=new ln(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ln(10).pow(wy.getDigitCount(t)-1),i=new ln(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ln(Math.floor(t)))}else t===0?i=new ln(Math.floor((e-1)/2)):n||(i=new ln(Math.floor(t)));var o=Math.floor((e-1)/2),s=Ige(jge(function(l){return i.add(new ln(l-o).mul(r)).toNumber()}),yw);return s(0,e)}function KL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var a=YL(new ln(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ln(0):(o=new ln(t).add(e).div(2),o=o.sub(new ln(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ln(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?KL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new ln(s).mul(a)),tickMax:o.add(new ln(l).mul(a))})}function Wge(t){var e=Rp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=WL([n,r]),l=Rp(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(xw(yw(0,i-1).map(function(){return 1/0}))):[].concat(xw(yw(0,i-1).map(function(){return-1/0})),[c]);return n>r?bw(d):d}if(u===c)return Gge(u,i,a);var h=KL(u,c,o,a),p=h.step,v=h.tickMin,b=h.tickMax,x=wy.rangeStep(v,b.add(new ln(.1).mul(p)),p);return n>r?bw(x):x}function Yge(t,e){var n=Rp(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=WL([r,i]),s=Rp(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=YL(new ln(u).sub(l).div(c-1),a,0),h=[].concat(xw(wy.rangeStep(new ln(l),new ln(u).sub(new ln(.99).mul(d)),d)),[u]);return r>i?bw(h):h}var Kge=VL(Wge),Jge=VL(Yge),Xge="Invariant failed";function _u(t,e){throw new Error(Xge)}var Qge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I0.apply(this,arguments)}function Zge(t,e){return r0e(t)||n0e(t,e)||t0e(t,e)||e0e()}function e0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0e(t,e){if(t){if(typeof t=="string")return l3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l3(t,e)}}function l3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function r0e(t){if(Array.isArray(t))return t}function i0e(t,e){if(t==null)return{};var n=a0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function o0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function l0e(t,e,n){return e&&s0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u0e(t,e,n){return e=D0(e),c0e(t,JL()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function c0e(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d0e(t)}function d0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function f0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function XL(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=h0e(t,"string");return Ld(e)=="symbol"?e:e+""}function h0e(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sy=function(t){function e(){return o0e(this,e),u0e(this,e,arguments)}return f0e(e,t),l0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=i0e(r,Qge),p=yt(h,!1);this.props.direction==="x"&&c.type!=="number"&&_u();var v=l.map(function(b){var x=u(b,s),y=x.x,w=x.y,S=x.value,T=x.errorVal;if(!T)return null;var C=[],k,E;if(Array.isArray(T)){var M=Zge(T,2);k=M[0],E=M[1]}else k=E=T;if(a==="vertical"){var I=c.scale,B=w+i,O=B+o,j=B-o,U=I(S-k),F=I(S+E);C.push({x1:F,y1:O,x2:F,y2:j}),C.push({x1:U,y1:B,x2:F,y2:B}),C.push({x1:U,y1:O,x2:U,y2:j})}else if(a==="horizontal"){var G=d.scale,R=y+i,$=R-o,H=R+o,Y=G(S-k),X=G(S+E);C.push({x1:$,y1:X,x2:H,y2:X}),C.push({x1:R,y1:Y,x2:R,y2:X}),C.push({x1:$,y1:Y,x2:H,y2:Y})}return fe.createElement(nn,I0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),C.map(function(te){return fe.createElement("line",I0({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return fe.createElement(nn,{className:"recharts-errorBars"},v)}}])}(fe.Component);XL(Sy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});XL(Sy,"displayName","ErrorBar");function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){p0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p0e(t,e,n){return e=A0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=m0e(t,"string");return Fp(e)=="symbol"?e:e+""}function m0e(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Pi(n,sl);if(!o)return null;var s=sl.defaultProps,l=s!==void 0?Fl(Fl({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,p=d.props,v=p.sectors||p.data||[];return c.concat(v.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,p=h!==void 0?Fl(Fl({},h),d.props):{},v=p.dataKey,b=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||x||"square",color:C_(d),value:b||v,payload:p}}),Fl(Fl(Fl({},l),sl.getWithHeight(o,i)),{},{payload:u,item:o})};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function c3(t){return b0e(t)||y0e(t)||v0e(t)||g0e()}function g0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v0e(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function y0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b0e(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(n),!0).forEach(function(r){pd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pd(t,e,n){return e=x0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x0e(t){var e=w0e(t,"string");return Bp(e)=="symbol"?e:e+""}function w0e(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gr(t,e,n){return Dt(t)||Dt(e)?n:Ar(e)?Ui(t,e,n):xt(e)?e(t):n}function rp(t,e,n,r){var i=yge(t,function(s){return Gr(s,e)});if(n==="number"){var a=i.filter(function(s){return Ye(s)||parseFloat(s)});return a.length?[yy(a),vy(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Dt(s)}):i;return o.map(function(s){return Ar(s)||s instanceof Date?s:""})}var S0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Zr(d-c)!==Zr(h-d)){var v=[];if(Zr(h-d)===Zr(l[1]-l[0])){p=h;var b=d+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{p=c;var x=h+l[1]-l[0];v[0]=Math.min(d,(x+d)/2),v[1]=Math.max(d,(x+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var w=Math.min(c,h),S=Math.max(c,h);if(e>(w+d)/2&&e<=(S+d)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},C_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},_0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,d=Object.keys(c),h=0,p=d.length;h<p;h++){var v=c[d[h]],b=v.items,x=v.cateAxisId,y=b.filter(function(E){return Ko(E.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,S=w!==void 0?Bn(Bn({},w),y[0].props):y[0].props,T=S.barSize,C=S[x];o[C]||(o[C]=[]);var k=Dt(T)?n:T;o[C].push({item:y[0],stackList:y.slice(1),barSize:Dt(k)?void 0:ei(k,r,0)})}}return o},T0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ei(n,i,0,!0),c,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,v=o.reduce(function(T,C){return T+C.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=l*p);var b=(i-v)/2>>0,x={offset:b-u,size:0};c=o.reduce(function(T,C){var k={item:C.item,position:{offset:x.offset+x.size+u,size:h?p:C.barSize}},E=[].concat(c3(T),[k]);return x=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:x})}),E},d)}else{var y=ei(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var w=(i-2*y-(l-1)*u)/l;w>1&&(w>>=0);var S=s===+s?Math.min(w,s):w;c=o.reduce(function(T,C,k){var E=[].concat(c3(T),[{item:C.item,position:{offset:y+(w+u)*k+(w-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:E[E.length-1].position})}),E},d)}return c},C0e=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=ZL({children:a,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,p=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&p!=="center"&&Ye(e[p]))return Bn(Bn({},e),{},pd({},p,e[p]+(d||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&v!=="middle"&&Ye(e[v]))return Bn(Bn({},e),{},pd({},v,e[v]+(h||0)))}return e},N0e=function(e,n,r){return Dt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},eR=function(e,n,r,i,a){var o=n.props.children,s=ga(o,Sy).filter(function(u){return N0e(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Gr(c,r);if(Dt(d))return u;var h=Array.isArray(d)?[yy(d),vy(d)]:[d,d],p=l.reduce(function(v,b){var x=Gr(c,b,0),y=h[0]-Math.abs(Array.isArray(x)?x[0]:x),w=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},E0e=function(e,n,r,i,a){var o=n.map(function(s){return eR(e,s,r,a,i)}).filter(function(s){return!Dt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},tR=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&eR(e,l,u,i)||rp(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},nR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},rR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},Vo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Zr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=a?a.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!wA(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:a?a[d]:d,index:h,offset:u}})},X1=new WeakMap,eg=function(e,n){if(typeof n!="function")return e;X1.has(e)||X1.set(e,new WeakMap);var r=X1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},iR=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Mp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:k0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:np(),realScaleType:"point"}:a==="category"?{scale:Mp(),realScaleType:"band"}:{scale:k0(),realScaleType:"linear"};if(bu(i)){var l="scale".concat(ry(i));return{scale:(i3[l]||np)(),realScaleType:i3[l]?l:"point"}}return xt(i)?{scale:i}:{scale:np(),realScaleType:"point"}},f3=1e-4,aR=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-f3,o=Math.max(i[0],i[1])+f3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},k0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},P0e=function(e,n){if(!n||n.length!==2||!Ye(n[0])||!Ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ye(e[0])||e[0]<r)&&(a[0]=r),(!Ye(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},M0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=wA(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},O0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=wA(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},j0e={sign:M0e,expand:Qie,none:Ed,silhouette:Zie,wiggle:eae,positive:O0e},I0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=j0e[r],o=Xie().keys(i).value(function(s,l){return+Gr(s,l,0)}).order(K2).offset(a);return o(e)},D0e=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(d,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Bn(Bn({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return d;var y=v[r],w=d[y]||{hasStack:!1,stackGroups:{}};if(Ar(b)){var S=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[b]=S}else w.stackGroups[SA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Bn(Bn({},d),{},pd({},y,w))},l),c={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var y=p.stackGroups[x];return Bn(Bn({},b),{},pd({},x,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:I0e(e,y.items,a)}))},v)}return Bn(Bn({},d),{},pd({},h,p))},c)},oR=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Kge(u,a,s);return e.domain([yy(c),vy(c)]),{niceTicks:c}}if(a&&i==="number"){var d=e.domain(),h=Jge(d,a,s);return{niceTicks:h}}return null},h3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Gr(o,n.dataKey,n.domain[s]);return Dt(l)?null:n.scale(l)-a/2+i},L0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},R0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ar(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},F0e=function(e){return e.reduce(function(n,r){return[yy(r.concat([n[0]]).filter(Ye)),vy(r.concat([n[1]]).filter(Ye))]},[1/0,-1/0])},sR=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var d=F0e(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},p3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tw=function(e,n,r){if(xt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(p3.test(e[0])){var a=+p3.exec(e[0])[1];i[0]=n[0]-a}else xt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(A3.test(e[1])){var o=+A3.exec(e[1])[1];i[1]=n[1]+o}else xt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},L0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=e_(n,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},m3=function(e,n,r){return!e||!e.length||by(e,Ui(r,"type.defaultProps.domain"))?n:e},lR=function(e,n){var r=e.type.defaultProps?Bn(Bn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Bn(Bn({},yt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:C_(e),value:Gr(n,i),type:l,payload:n,chartType:u,hide:c})};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function g3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(n),!0).forEach(function(r){uR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uR(t,e,n){return e=B0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0e(t){var e=$0e(t,"string");return $p(e)=="symbol"?e:e+""}function $0e(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U0e(t,e){return V0e(t)||z0e(t,e)||H0e(t,e)||q0e()}function q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(t,e){if(t){if(typeof t=="string")return v3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v3(t,e)}}function v3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function V0e(t){if(Array.isArray(t))return t}var R0=Math.PI/180,G0e=function(e){return e*180/Math.PI},Sn=function(e,n,r,i){return{x:e+Math.cos(-R0*i)*r,y:n+Math.sin(-R0*i)*r}},cR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},W0e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=ei(e.cx,o,o/2),d=ei(e.cy,s,s/2),h=cR(o,s,r),p=ei(e.innerRadius,h,0),v=ei(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,y){var w=n[y],S=w.domain,T=w.reversed,C;if(Dt(w.range))i==="angleAxis"?C=[l,u]:i==="radiusAxis"&&(C=[p,v]),T&&(C=[C[1],C[0]]);else{C=w.range;var k=C,E=U0e(k,2);l=E[0],u=E[1]}var M=iR(w,a),I=M.realScaleType,B=M.scale;B.domain(S).range(C),aR(B);var O=oR(B,Ro(Ro({},w),{},{realScaleType:I})),j=Ro(Ro(Ro({},w),O),{},{range:C,radius:v,realScaleType:I,scale:B,cx:c,cy:d,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return Ro(Ro({},x),{},uR({},y,j))},{})},Y0e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},K0e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Y0e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:G0e(u),angleInRadian:u}},J0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},X0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},y3=function(e,n){var r=e.x,i=e.y,a=K0e({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=J0e(n),d=c.startAngle,h=c.endAngle,p=s,v;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=d}return v?Ro(Ro({},n),{},{radius:o,angle:X0e(p,n)}):null},dR=function(e){return!re.isValidElement(e)&&!xt(e)&&typeof e!="boolean"?e.className:""};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}var Q0e=["offset"];function Z0e(t){return rve(t)||nve(t)||tve(t)||eve()}function eve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function nve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rve(t){if(Array.isArray(t))return Cw(t)}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ive(t,e){if(t==null)return{};var n=ave(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ave(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return e=sve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sve(t){var e=lve(t,"string");return Up(e)=="symbol"?e:e+""}function lve(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(this,arguments)}var uve=function(e){var n=e.value,r=e.formatter,i=Dt(e.children)?n:e.children;return xt(r)?r(i):i},cve=function(e,n){var r=Zr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},dve=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,b=l.clockWise,x=(d+h)/2,y=cve(p,v),w=y>=0?1:-1,S,T;i==="insideStart"?(S=p+w*o,T=b):i==="insideEnd"?(S=v-w*o,T=!b):i==="end"&&(S=v+w*o,T=b),T=y<=0?T:!T;var C=Sn(u,c,x,S),k=Sn(u,c,x,S+(T?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),M=Dt(e.id)?SA("recharts-radial-line-"):e.id;return fe.createElement("text",qp({},r,{dominantBaseline:"central",className:Ot("recharts-radial-bar-label",s)}),fe.createElement("defs",null,fe.createElement("path",{id:M,d:E})),fe.createElement("textPath",{xlinkHref:"#".concat(M)},n))},fve=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,d=a.endAngle,h=(c+d)/2;if(i==="outside"){var p=Sn(o,s,u+r,h),v=p.x,b=p.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,y=Sn(o,s,x,h),w=y.x,S=y.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},hve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,d=c>=0?1:-1,h=d*i,p=d>0?"end":"start",v=d>0?"start":"end",b=u>=0?1:-1,x=b*i,y=b>0?"end":"start",w=b>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:p};return cr(cr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return cr(cr({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var C={x:s-x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return cr(cr({},C),r?{width:Math.max(C.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return cr(cr({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?cr({x:s+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},E):a==="insideRight"?cr({x:s+u-x,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideTop"?cr({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},E):a==="insideBottom"?cr({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?cr({x:s+x,y:l+h,textAnchor:w,verticalAnchor:v},E):a==="insideTopRight"?cr({x:s+u-x,y:l+h,textAnchor:y,verticalAnchor:v},E):a==="insideBottomLeft"?cr({x:s+x,y:l+c-h,textAnchor:w,verticalAnchor:p},E):a==="insideBottomRight"?cr({x:s+u-x,y:l+c-h,textAnchor:y,verticalAnchor:p},E):Af(a)&&(Ye(a.x)||Zl(a.x))&&(Ye(a.y)||Zl(a.y))?cr({x:s+ei(a.x,u),y:l+ei(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):cr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},pve=function(e){return"cx"in e&&Ye(e.cx)};function Tr(t){var e=t.offset,n=e===void 0?5:e,r=ive(t,Q0e),i=cr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!a||Dt(s)&&Dt(l)&&!re.isValidElement(u)&&!xt(u))return null;if(re.isValidElement(u))return re.cloneElement(u,i);var p;if(xt(u)){if(p=re.createElement(u,i),re.isValidElement(p))return p}else p=uve(i);var v=pve(a),b=yt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dve(i,p,b);var x=v?fve(i):hve(i);return fe.createElement(wu,qp({className:Ot("recharts-label",d)},b,x,{breakAll:h}),p)}Tr.displayName="Label";var fR=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,p=e.top,v=e.left,b=e.width,x=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(Ye(b)&&Ye(x)){if(Ye(d)&&Ye(h))return{x:d,y:h,width:b,height:x};if(Ye(p)&&Ye(v))return{x:p,y:v,width:b,height:x}}return Ye(d)&&Ye(h)?{x:d,y:h,width:0,height:0}:Ye(n)&&Ye(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},Ave=function(e,n){return e?e===!0?fe.createElement(Tr,{key:"label-implicit",viewBox:n}):Ar(e)?fe.createElement(Tr,{key:"label-implicit",viewBox:n,value:e}):re.isValidElement(e)?e.type===Tr?re.cloneElement(e,{key:"label-implicit",viewBox:n}):fe.createElement(Tr,{key:"label-implicit",content:e,viewBox:n}):xt(e)?fe.createElement(Tr,{key:"label-implicit",content:e,viewBox:n}):Af(e)?fe.createElement(Tr,qp({viewBox:n},e,{key:"label-implicit"})):null:null},mve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=fR(e),o=ga(i,Tr).map(function(l,u){return re.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Ave(e.label,n||a);return[s].concat(Z0e(o))};Tr.parseViewBox=fR;Tr.renderCallByParent=mve;function gve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var vve=gve;const yve=Jt(vve);function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var bve=["valueAccessor"],xve=["data","dataKey","clockWise","id","textBreakAll"];function wve(t){return Cve(t)||Tve(t)||_ve(t)||Sve()}function Sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function Tve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cve(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}function x3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x3(Object(n),!0).forEach(function(r){Nve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nve(t,e,n){return e=Eve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eve(t){var e=kve(t,"string");return Hp(e)=="symbol"?e:e+""}function kve(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S3(t,e){if(t==null)return{};var n=Pve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Mve=function(e){return Array.isArray(e.value)?yve(e.value):e.value};function ul(t){var e=t.valueAccessor,n=e===void 0?Mve:e,r=S3(t,bve),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=S3(r,xve);return!i||!i.length?null:fe.createElement(nn,{className:"recharts-label-list"},i.map(function(c,d){var h=Dt(a)?n(c,d):Gr(c&&c.payload,a),p=Dt(s)?{}:{id:"".concat(s,"-").concat(d)};return fe.createElement(Tr,F0({},yt(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Tr.parseViewBox(Dt(o)?c:w3(w3({},c),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}ul.displayName="LabelList";function Ove(t,e){return t?t===!0?fe.createElement(ul,{key:"labelList-implicit",data:e}):fe.isValidElement(t)||xt(t)?fe.createElement(ul,{key:"labelList-implicit",data:e,content:t}):Af(t)?fe.createElement(ul,F0({data:e},t,{key:"labelList-implicit"})):null:null}function jve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ga(r,ul).map(function(o,s){return re.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Ove(t.label,e);return[a].concat(wve(i))}ul.renderCallByParent=jve;function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function _3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(n),!0).forEach(function(r){Ive(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ive(t,e,n){return e=Dve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dve(t){var e=Lve(t,"string");return zp(e)=="symbol"?e:e+""}function Lve(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rve=function(e,n){var r=Zr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},tg=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,d=Math.asin(l/c)/R0,h=u?a:a+o*d,p=Sn(n,r,c,h),v=Sn(n,r,i,h),b=u?a-o*d:a,x=Sn(n,r,c*Math.cos(d*R0),b);return{center:p,circleTangency:v,lineTangency:x,theta:d}},hR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Rve(o,s),u=o+l,c=Sn(n,r,a,o),d=Sn(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var p=Sn(n,r,i,o),v=Sn(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Fve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Zr(c-u),h=tg({cx:n,cy:r,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,b=h.theta,x=tg({cx:n,cy:r,radius:a,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:l}),y=x.circleTangency,w=x.lineTangency,S=x.theta,T=l?Math.abs(u-c):Math.abs(u-c)-b-S;if(T<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):hR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var k=tg({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=k.circleTangency,M=k.lineTangency,I=k.theta,B=tg({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=B.circleTangency,j=B.lineTangency,U=B.theta,F=l?Math.abs(u-c):Math.abs(u-c)-I-U;if(F<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Bve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pR=function(e){var n=T3(T3({},Bve),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(o<a||c===d)return null;var p=Ot("recharts-sector",h),v=o-a,b=ei(s,v,0,!0),x;return b>0&&Math.abs(c-d)<360?x=Fve({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):x=hR({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}),fe.createElement("path",Ew({},yt(n,!0),{className:p,d:x,role:"img"}))};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kw.apply(this,arguments)}function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){$ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ve(t,e,n){return e=Uve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uve(t){var e=qve(t,"string");return Vp(e)=="symbol"?e:e+""}function qve(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E3={curveBasisClosed:$ie,curveBasisOpen:Uie,curveBasis:Bie,curveBumpX:Tie,curveBumpY:Cie,curveLinearClosed:qie,curveLinear:ay,curveMonotoneX:Hie,curveMonotoneY:zie,curveNatural:Vie,curveStep:Gie,curveStepAfter:Yie,curveStepBefore:Wie},ng=function(e){return e.x===+e.x&&e.y===+e.y},xh=function(e){return e.x},wh=function(e){return e.y},Hve=function(e,n){if(xt(e))return e;var r="curve".concat(ry(e));return(r==="curveMonotone"||r==="curveBump")&&n?E3["".concat(r).concat(n==="vertical"?"Y":"X")]:E3[r]||ay},zve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Hve(r,s),d=u?a.filter(function(b){return ng(b)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(b){return ng(b)}):o,v=d.map(function(b,x){return N3(N3({},b),{},{base:p[x]})});return s==="vertical"?h=Gm().y(wh).x1(xh).x0(function(b){return b.base.x}):h=Gm().x(xh).y1(wh).y0(function(b){return b.base.y}),h.defined(ng).curve(c),h(v)}return s==="vertical"&&Ye(o)?h=Gm().y(wh).x1(xh).x0(o):Ye(o)?h=Gm().x(xh).y1(wh).y0(o):h=lD().x(xh).y(wh),h.defined(ng).curve(c),h(d)},Pw=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?zve(e):i;return re.createElement("path",kw({},yt(e,!1),u0(e),{className:Ot("recharts-curve",n),d:o,ref:a}))},AR={exports:{}},Vve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gve=Vve,Wve=Gve;function mR(){}function gR(){}gR.resetWarningCache=mR;var Yve=function(){function t(r,i,a,o,s,l){if(l!==Wve){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gR,resetWarningCache:mR};return n.PropTypes=n,n};AR.exports=Yve();var Kve=AR.exports;const Xt=Jt(Kve);var Jve=Object.getOwnPropertyNames,Xve=Object.getOwnPropertySymbols,Qve=Object.prototype.hasOwnProperty;function k3(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function rg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Zve(t){return t!=null?t[Symbol.toStringTag]:void 0}function P3(t){return Jve(t).concat(Xve(t))}var eye=Object.hasOwn||function(t,e){return Qve.call(t,e)};function Bu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var tye="__v",nye="__o",rye="_owner",M3=Object.getOwnPropertyDescriptor,O3=Object.keys;function iye(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function aye(t,e){return Bu(t.getTime(),e.getTime())}function oye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function sye(t,e){return t===e}function j3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],l,d,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var lye=Bu;function uye(t,e,n){var r=O3(t),i=r.length;if(O3(e).length!==i)return!1;for(;i-- >0;)if(!vR(t,e,n,r[i]))return!1;return!0}function Sh(t,e,n){var r=P3(t),i=r.length;if(P3(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!vR(t,e,n,a)||(o=M3(t,a),s=M3(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function cye(t,e){return Bu(t.valueOf(),e.valueOf())}function dye(t,e){return t.source===e.source&&t.flags===e.flags}function I3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function fye(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function hye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function vR(t,e,n,r){return(r===rye||r===nye||r===tye)&&(t.$$typeof||e.$$typeof)?!0:eye(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var pye="[object Arguments]",Aye="[object Boolean]",mye="[object Date]",gye="[object Error]",vye="[object Map]",yye="[object Number]",bye="[object Object]",xye="[object RegExp]",wye="[object Set]",Sye="[object String]",_ye="[object URL]",Tye=Array.isArray,D3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,L3=Object.assign,Cye=Object.prototype.toString.call.bind(Object.prototype.toString);function Nye(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(b,x,y){if(b===x)return!0;if(b==null||x==null)return!1;var w=typeof b;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?o(b,x,y):w==="function"?i(b,x,y):!1;var S=b.constructor;if(S!==x.constructor)return!1;if(S===Object)return s(b,x,y);if(Tye(b))return e(b,x,y);if(D3!=null&&D3(b))return d(b,x,y);if(S===Date)return n(b,x,y);if(S===RegExp)return u(b,x,y);if(S===Map)return a(b,x,y);if(S===Set)return c(b,x,y);var T=Cye(b);if(T===mye)return n(b,x,y);if(T===xye)return u(b,x,y);if(T===vye)return a(b,x,y);if(T===wye)return c(b,x,y);if(T===bye)return typeof b.then!="function"&&typeof x.then!="function"&&s(b,x,y);if(T===_ye)return h(b,x,y);if(T===gye)return r(b,x,y);if(T===pye)return s(b,x,y);if(T===Aye||T===yye||T===Sye)return l(b,x,y);if(p){var C=p[T];if(!C){var k=Zve(b);k&&(C=p[k])}if(C)return C(b,x,y)}return!1}}function Eye(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Sh:iye,areDatesEqual:aye,areErrorsEqual:oye,areFunctionsEqual:sye,areMapsEqual:r?k3(j3,Sh):j3,areNumbersEqual:lye,areObjectsEqual:r?Sh:uye,arePrimitiveWrappersEqual:cye,areRegExpsEqual:dye,areSetsEqual:r?k3(I3,Sh):I3,areTypedArraysEqual:r?Sh:fye,areUrlsEqual:hye,unknownTagComparators:void 0};if(n&&(i=L3({},i,n(i))),e){var a=rg(i.areArraysEqual),o=rg(i.areMapsEqual),s=rg(i.areObjectsEqual),l=rg(i.areSetsEqual);i=L3({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function kye(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Pye(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),d=c.cache,h=d===void 0?e?new WeakMap:void 0:d,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Mye=Sl();Sl({strict:!0});Sl({circular:!0});Sl({circular:!0,strict:!0});Sl({createInternalComparator:function(){return Bu}});Sl({strict:!0,createInternalComparator:function(){return Bu}});Sl({circular:!0,createInternalComparator:function(){return Bu}});Sl({circular:!0,createInternalComparator:function(){return Bu},strict:!0});function Sl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Eye(t),l=Nye(s),u=r?r(l):kye(l);return Pye({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Oye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function R3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Oye(i)};requestAnimationFrame(r)}function Mw(t){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(t)}function jye(t){return Rye(t)||Lye(t)||Dye(t)||Iye()}function Iye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(t,e){if(t){if(typeof t=="string")return F3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F3(t,e)}}function F3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rye(t){if(Array.isArray(t))return t}function Fye(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=jye(o),l=s[0],u=s.slice(1);if(typeof l=="number"){R3(i.bind(null,u),l);return}i(l),R3(i.bind(null,u));return}Mw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function B3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B3(Object(n),!0).forEach(function(r){yR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yR(t,e,n){return e=Bye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bye(t){var e=$ye(t,"string");return Gp(e)==="symbol"?e:String(e)}function $ye(t,e){if(Gp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uye=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},qye=function(e){return e},Hye=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ip=function(e,n){return Object.keys(n).reduce(function(r,i){return $3($3({},r),{},yR({},i,e(i,n[i])))},{})},U3=function(e,n,r){return e.map(function(i){return"".concat(Hye(i)," ").concat(n,"ms ").concat(r)}).join(",")};function zye(t,e){return Wye(t)||Gye(t,e)||bR(t,e)||Vye()}function Vye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Wye(t){if(Array.isArray(t))return t}function Yye(t){return Xye(t)||Jye(t)||bR(t)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bR(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Jye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xye(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B0=1e-4,xR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},wR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},q3=function(e,n){return function(r){var i=xR(e,n);return wR(i,r)}},Qye=function(e,n){return function(r){var i=xR(e,n),a=[].concat(Yye(i.map(function(o,s){return o*s}).slice(1)),[0]);return wR(a,r)}},H3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=zye(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var d=q3(i,o),h=q3(a,s),p=Qye(i,o),v=function(y){return y>1?1:y<0?0:y},b=function(y){for(var w=y>1?1:y,S=w,T=0;T<8;++T){var C=d(S)-w,k=p(S);if(Math.abs(C-w)<B0||k<B0)return h(S);S=v(S-C/k)}return h(S)};return b.isStepper=!1,b},Zye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,d,h){var p=-(c-d)*r,v=h*a,b=h+(p-v)*s/1e3,x=h*s/1e3+c;return Math.abs(x-d)<B0&&Math.abs(b)<B0?[d,0]:[x,b]};return l.isStepper=!0,l.dt=s,l},ebe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return H3(i);case"spring":return Zye();default:if(i.split("(")[0]==="cubic-bezier")return H3(i)}return typeof i=="function"?i:null};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function z3(t){return rbe(t)||nbe(t)||SR(t)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rbe(t){if(Array.isArray(t))return Iw(t)}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jw(t,e,n){return e=ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ibe(t){var e=abe(t,"string");return Wp(e)==="symbol"?e:String(e)}function abe(t,e){if(Wp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function obe(t,e){return ube(t)||lbe(t,e)||SR(t,e)||sbe()}function sbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SR(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ube(t){if(Array.isArray(t))return t}var $0=function(e,n,r){return e+(n-e)*r},Dw=function(e){var n=e.from,r=e.to;return n!==r},cbe=function t(e,n,r){var i=ip(function(a,o){if(Dw(o)){var s=e(o.from,o.to,o.velocity),l=obe(s,2),u=l[0],c=l[1];return Mr(Mr({},o),{},{from:u,velocity:c})}return o},n);return r<1?ip(function(a,o){return Dw(o)?Mr(Mr({},o),{},{velocity:$0(o.velocity,i[a].velocity,r),from:$0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const dbe=function(t,e,n,r,i){var a=Uye(t,e),o=a.reduce(function(x,y){return Mr(Mr({},x),{},jw({},y,[t[y],e[y]]))},{}),s=a.reduce(function(x,y){return Mr(Mr({},x),{},jw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return ip(function(y,w){return w.from},s)},p=function(){return!Object.values(s).filter(Dw).length},v=function(y){u||(u=y);var w=y-u,S=w/n.dt;s=cbe(n,s,S),i(Mr(Mr(Mr({},t),e),h())),u=y,p()||(l=requestAnimationFrame(d))},b=function(y){c||(c=y);var w=(y-c)/r,S=ip(function(C,k){return $0.apply(void 0,z3(k).concat([n(w)]))},o);if(i(Mr(Mr(Mr({},t),e),S)),w<1)l=requestAnimationFrame(d);else{var T=ip(function(C,k){return $0.apply(void 0,z3(k).concat([n(1)]))},o);i(Mr(Mr(Mr({},t),e),T))}};return d=n.isStepper?v:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var fbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hbe(t,e){if(t==null)return{};var n=pbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Q1(t){return vbe(t)||gbe(t)||mbe(t)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mbe(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lw(t,e)}}function gbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vbe(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mh(t,e,n){return e=_R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ybe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_R(r.key),r)}}function xbe(t,e,n){return e&&bbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _R(t){var e=wbe(t,"string");return Rd(e)==="symbol"?e:String(e)}function wbe(t,e){if(Rd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function _be(t){var e=Tbe();return function(){var r=U0(t),i;if(e){var a=U0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Fw(this,i)}}function Fw(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bw(t)}function Bw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}var as=function(t){Sbe(n,t);var e=_be(n);function n(r,i){var a;ybe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,d=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Bw(a)),a.changeStyle=a.changeStyle.bind(Bw(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),Fw(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Fw(a);a.state={style:l?Mh({},l,u):u}}else a.state={style:{}};return a}return xbe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,d=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Mh({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Mye(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?d:i.to;if(this.state&&h){var x={style:l?Mh({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(ja(ja({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,p=dbe(o,s,ebe(u),l,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,d=u.duration,h=d===void 0?0:d,p=function(b,x,y){if(y===0)return b;var w=x.duration,S=x.easing,T=S===void 0?"ease":S,C=x.style,k=x.properties,E=x.onAnimationEnd,M=y>0?o[y-1]:x,I=k||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(Q1(b),[a.runJSAnimation.bind(a,{from:M.style,to:C,duration:w,easing:T}),w]);var B=U3(I,w,T),O=ja(ja(ja({},M.style),C),{},{transition:B});return[].concat(Q1(b),[O,w,E]).filter(qye)};return this.manager.start([l].concat(Q1(o.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fye());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?Mh({},s,l):l,x=U3(Object.keys(b),o,u);v.start([c,a,ja(ja({},b),{},{transition:x}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=hbe(i,fbe),u=re.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var d=function(p){var v=p.props,b=v.style,x=b===void 0?{}:b,y=v.className,w=re.cloneElement(p,ja(ja({},l),{},{style:ja(ja({},x),c),className:y}));return w};return u===1?d(re.Children.only(a)):fe.createElement("div",null,re.Children.map(a,function(h){return d(h)}))}}]),n}(re.PureComponent);as.displayName="Animate";as.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};as.propTypes={from:Xt.oneOfType([Xt.object,Xt.string]),to:Xt.oneOfType([Xt.object,Xt.string]),attributeName:Xt.string,duration:Xt.number,begin:Xt.number,easing:Xt.oneOfType([Xt.string,Xt.func]),steps:Xt.arrayOf(Xt.shape({duration:Xt.number.isRequired,style:Xt.object.isRequired,easing:Xt.oneOfType([Xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xt.func]),properties:Xt.arrayOf("string"),onAnimationEnd:Xt.func})),children:Xt.oneOfType([Xt.node,Xt.func]),isActive:Xt.bool,canBegin:Xt.bool,onAnimationEnd:Xt.func,shouldReAnimate:Xt.bool,onAnimationStart:Xt.func,onAnimationReStart:Xt.func};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q0.apply(this,arguments)}function Cbe(t,e){return Pbe(t)||kbe(t,e)||Ebe(t,e)||Nbe()}function Nbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,e){if(t){if(typeof t=="string")return W3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W3(t,e)}}function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pbe(t){if(Array.isArray(t))return t}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){Mbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mbe(t,e,n){return e=Obe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Obe(t){var e=jbe(t,"string");return Yp(e)=="symbol"?e:e+""}function jbe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J3=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*d[1])),c+="L ".concat(e+r,",").concat(n+i-s*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*d[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Ibe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},Dbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N_=function(e){var n=K3(K3({},Dbe),e),r=re.useRef(),i=re.useState(-1),a=Cbe(i,2),o=a[0],s=a[1];re.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,p=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var S=Ot("recharts-rectangle",p);return w?fe.createElement(as,{canBegin:o>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(T){var C=T.width,k=T.height,E=T.x,M=T.y;return fe.createElement(as,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:y,easing:v},fe.createElement("path",q0({},yt(n,!0),{className:S,d:J3(E,M,C,k,h),ref:r})))}):fe.createElement("path",q0({},yt(n,!0),{className:S,d:J3(l,u,c,d,h)}))},Lbe=["points","className","baseLinePoints","connectNulls"];function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}function Rbe(t,e){if(t==null)return{};var n=Fbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X3(t){return qbe(t)||Ube(t)||$be(t)||Bbe()}function Bbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $be(t,e){if(t){if(typeof t=="string")return $w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $w(t,e)}}function Ube(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qbe(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Q3=function(e){return e&&e.x===+e.x&&e.y===+e.y},Hbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Q3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Q3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ap=function(e,n){var r=Hbe(e);n&&(r=[r.reduce(function(a,o){return[].concat(X3(a),X3(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},zbe=function(e,n,r){var i=ap(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ap(n.reverse(),r).slice(1))},Vbe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Rbe(e,Lbe);if(!n||!n.length)return null;var s=Ot("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=zbe(n,i,a);return fe.createElement("g",{className:s},fe.createElement("path",Qc({},yt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?fe.createElement("path",Qc({},yt(o,!0),{fill:"none",d:ap(n,a)})):null,l?fe.createElement("path",Qc({},yt(o,!0),{fill:"none",d:ap(i,a)})):null)}var c=ap(n,a);return fe.createElement("path",Qc({},yt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(this,arguments)}var E_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ot("recharts-dot",a);return n===+n&&r===+r&&i===+i?re.createElement("circle",Uw({},yt(e,!1),u0(e),{className:o,cx:n,cy:r,r:i})):null};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}var Gbe=["x","y","top","left","width","height","className"];function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){Ybe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ybe(t,e,n){return e=Kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kbe(t){var e=Jbe(t,"string");return Kp(e)=="symbol"?e:e+""}function Jbe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xbe(t,e){if(t==null)return{};var n=Qbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Zbe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},e1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,p=h===void 0?0:h,v=e.className,b=Xbe(e,Gbe),x=Wbe({x:r,y:a,top:s,left:u,width:d,height:p},b);return!Ye(r)||!Ye(a)||!Ye(d)||!Ye(p)||!Ye(s)||!Ye(u)?null:fe.createElement("path",qw({},yt(x,!0),{className:Ot("recharts-cross",v),d:Zbe(r,a,d,p,s,u)}))},t1e=gy,n1e=LL,r1e=vo;function i1e(t,e){return t&&t.length?t1e(t,r1e(e),n1e):void 0}var a1e=i1e;const o1e=Jt(a1e);var s1e=gy,l1e=vo,u1e=RL;function c1e(t,e){return t&&t.length?s1e(t,l1e(e),u1e):void 0}var d1e=c1e;const f1e=Jt(d1e);var h1e=["cx","cy","angle","ticks","axisLine"],p1e=["ticks","tick","angle","tickFormatter","stroke"];function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tP(t,e){if(t==null)return{};var n=A1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CR(r.key),r)}}function g1e(t,e,n){return e&&nP(t.prototype,e),n&&nP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v1e(t,e,n){return e=H0(e),y1e(t,TR()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function y1e(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1e(t)}function b1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TR=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function x1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function _y(t,e,n){return e=CR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CR(t){var e=w1e(t,"string");return Fd(e)=="symbol"?e:e+""}function w1e(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ty=function(t){function e(){return m1e(this,e),v1e(this,e,arguments)}return x1e(e,t),g1e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Sn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=o1e(s,function(c){return c.coordinate||0}),u=f1e(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=tP(r,h1e),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),d=Sn(i,a,c[0],o),h=Sn(i,a,c[1],o),p=Bl(Bl(Bl({},yt(u,!1)),{},{fill:"none"},yt(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return fe.createElement("line",op({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=tP(i,p1e),d=this.getTickTextAnchor(),h=yt(c,!1),p=yt(o,!1),v=a.map(function(b,x){var y=r.getTickValueCoord(b),w=Bl(Bl(Bl(Bl({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},y),{},{payload:b});return fe.createElement(nn,op({className:Ot("recharts-polar-radius-axis-tick",dR(o)),key:"tick-".concat(b.coordinate)},xu(r.props,b,x)),e.renderTickItem(o,w,l?l(b.value,x):b.value))});return fe.createElement(nn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:fe.createElement(nn,{className:Ot("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Tr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return fe.isValidElement(r)?o=fe.cloneElement(r,i):xt(r)?o=r(i):o=fe.createElement(wu,op({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(re.PureComponent);_y(Ty,"displayName","PolarRadiusAxis");_y(Ty,"axisType","radiusAxis");_y(Ty,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Cy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ER(r.key),r)}}function _1e(t,e,n){return e&&iP(t.prototype,e),n&&iP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T1e(t,e,n){return e=z0(e),C1e(t,NR()?Reflect.construct(e,n||[],z0(t).constructor):e.apply(t,n))}function C1e(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N1e(t)}function N1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NR=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z0(t)}function E1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function Cy(t,e,n){return e=ER(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ER(t){var e=k1e(t,"string");return Bd(e)=="symbol"?e:e+""}function k1e(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P1e=Math.PI/180,aP=1e-5,Ny=function(t){function e(){return S1e(this,e),T1e(this,e,arguments)}return E1e(e,t),_1e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Sn(a,o,s,r.coordinate),h=Sn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*P1e),o;return a>aP?o=i==="outer"?"start":"end":a<-aP?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=$l($l({},yt(this.props,!1)),{},{fill:"none"},yt(s,!1));if(l==="circle")return fe.createElement(E_,Xl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,d=c.map(function(h){return Sn(i,a,o,h.coordinate)});return fe.createElement(Vbe,Xl({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=yt(this.props,!1),d=yt(o,!1),h=$l($l({},c),{},{fill:"none"},yt(s,!1)),p=a.map(function(v,b){var x=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),w=$l($l($l({textAnchor:y},c),{},{stroke:"none",fill:u},d),{},{index:b,payload:v,x:x.x2,y:x.y2});return fe.createElement(nn,Xl({className:Ot("recharts-polar-angle-axis-tick",dR(o)),key:"tick-".concat(v.coordinate)},xu(r.props,v,b)),s&&fe.createElement("line",Xl({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&e.renderTickItem(o,w,l?l(v.value,b):v.value))});return fe.createElement(nn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:fe.createElement(nn,{className:Ot("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return fe.isValidElement(r)?o=fe.cloneElement(r,i):xt(r)?o=r(i):o=fe.createElement(wu,Xl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(re.PureComponent);Cy(Ny,"displayName","PolarAngleAxis");Cy(Ny,"axisType","angleAxis");Cy(Ny,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var M1e=OD,O1e=M1e(Object.getPrototypeOf,Object),j1e=O1e,I1e=us,D1e=j1e,L1e=cs,R1e="[object Object]",F1e=Function.prototype,B1e=Object.prototype,kR=F1e.toString,$1e=B1e.hasOwnProperty,U1e=kR.call(Object);function q1e(t){if(!L1e(t)||I1e(t)!=R1e)return!1;var e=D1e(t);if(e===null)return!0;var n=$1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&kR.call(n)==U1e}var H1e=q1e;const z1e=Jt(H1e);var V1e=us,G1e=cs,W1e="[object Boolean]";function Y1e(t){return t===!0||t===!1||G1e(t)&&V1e(t)==W1e}var K1e=Y1e;const J1e=Jt(K1e);function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(this,arguments)}function X1e(t,e){return txe(t)||exe(t,e)||Z1e(t,e)||Q1e()}function Q1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1e(t,e){if(t){if(typeof t=="string")return oP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oP(t,e)}}function oP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function exe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function txe(t){if(Array.isArray(t))return t}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nxe(t,e,n){return e=rxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rxe(t){var e=ixe(t,"string");return Jp(e)=="symbol"?e:e+""}function ixe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uP=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},axe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oxe=function(e){var n=lP(lP({},axe),e),r=re.useRef(),i=re.useState(-1),a=X1e(i,2),o=a[0],s=a[1];re.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,p=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var w=Ot("recharts-trapezoid",p);return y?fe.createElement(as,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:y},function(S){var T=S.upperWidth,C=S.lowerWidth,k=S.height,E=S.x,M=S.y;return fe.createElement(as,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},fe.createElement("path",V0({},yt(n,!0),{className:w,d:uP(E,M,T,C,k),ref:r})))}):fe.createElement("g",null,fe.createElement("path",V0({},yt(n,!0),{className:w,d:uP(l,u,c,d,h)})))},sxe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function lxe(t,e){if(t==null)return{};var n=uxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){cxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cxe(t,e,n){return e=dxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dxe(t){var e=fxe(t,"string");return Xp(e)=="symbol"?e:e+""}function fxe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hxe(t,e){return G0(G0({},e),t)}function pxe(t,e){return t==="symbols"}function dP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return fe.createElement(N_,n);case"trapezoid":return fe.createElement(oxe,n);case"sector":return fe.createElement(pR,n);case"symbols":if(pxe(e))return fe.createElement(GS,n);break;default:return null}}function Axe(t){return re.isValidElement(t)?t.props:t}function PR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?hxe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=lxe(t,sxe),u;if(re.isValidElement(e))u=re.cloneElement(e,G0(G0({},l),Axe(e)));else if(xt(e))u=e(l);else if(z1e(e)&&!J1e(e)){var c=i(e,l);u=fe.createElement(dP,{shapeType:n,elementProps:c})}else{var d=l;u=fe.createElement(dP,{shapeType:n,elementProps:d})}return s?fe.createElement(nn,{className:o},u):u}function Ey(t,e){return e!=null&&"trapezoids"in t.props}function ky(t,e){return e!=null&&"sectors"in t.props}function Qp(t,e){return e!=null&&"points"in t.props}function mxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function gxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function vxe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function yxe(t,e){var n;return Ey(t,e)?n=mxe:ky(t,e)?n=gxe:Qp(t,e)&&(n=vxe),n}function bxe(t,e){var n;return Ey(t,e)?n="trapezoids":ky(t,e)?n="sectors":Qp(t,e)&&(n="points"),n}function xxe(t,e){if(Ey(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ky(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Qp(t,e)?e.payload:{}}function wxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=bxe(n,e),a=xxe(n,e),o=r.filter(function(l,u){var c=by(a,l),d=n.props[i].filter(function(v){var b=yxe(n,e);return b(v,e)}),h=n.props[i].indexOf(d[d.length-1]),p=u===h;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var Tg;function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){da(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OR(r.key),r)}}function _xe(t,e,n){return e&&hP(t.prototype,e),n&&hP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Txe(t,e,n){return e=W0(e),Cxe(t,MR()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function Cxe(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(t)}function Nxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function Exe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function da(t,e,n){return e=OR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OR(t){var e=kxe(t,"string");return $d(e)=="symbol"?e:e+""}function kxe(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fs=function(t){function e(n){var r;return Sxe(this,e),r=Txe(this,e,[n]),da(r,"pieRef",null),da(r,"sectorRefs",[]),da(r,"id",SA("recharts-pie-")),da(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),xt(i)&&i()}),da(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),xt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Exe(e,t),_xe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=yt(this.props,!1),d=yt(o,!1),h=yt(s,!1),p=o&&o.offsetRadius||20,v=r.map(function(b,x){var y=(b.startAngle+b.endAngle)/2,w=Sn(b.cx,b.cy,b.outerRadius+p,y),S=bn(bn(bn(bn({},c),b),{},{stroke:"none"},d),{},{index:x,textAnchor:e.getTextAnchor(w.x,b.cx)},w),T=bn(bn(bn(bn({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[Sn(b.cx,b.cy,b.outerRadius,y),w]}),C=l;return Dt(l)&&Dt(u)?C="value":Dt(l)&&(C=u),fe.createElement(nn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,S,Gr(b,C)))});return fe.createElement(nn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,p=d?o:h,v=bn(bn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return fe.createElement(nn,Zc({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},xu(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),fe.createElement(PR,Zc({option:p,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return fe.createElement(as,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],y=a&&a[0],w=y.startAngle;return a.forEach(function(S,T){var C=h&&h[T],k=T>0?Ui(S,"paddingAngle",0):0;if(C){var E=Is(C.endAngle-C.startAngle,S.endAngle-S.startAngle),M=bn(bn({},S),{},{startAngle:w+k,endAngle:w+E(b)+k});x.push(M),w=M.endAngle}else{var I=S.endAngle,B=S.startAngle,O=Is(0,I-B),j=O(b),U=bn(bn({},S),{},{startAngle:w+k,endAngle:w+j+k});x.push(U),w=U.endAngle}}),fe.createElement(nn,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!by(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!Ye(u)||!Ye(c)||!Ye(d)||!Ye(h))return null;var b=Ot("recharts-pie",s);return fe.createElement(nn,{tabIndex:this.props.rootTabIndex,className:b,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),Tr.renderCallByParent(this.props,null,!1),(!p||v)&&ul.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(fe.isValidElement(r))return fe.cloneElement(r,i);if(xt(r))return r(i);var o=Ot("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return fe.createElement(Pw,Zc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(fe.isValidElement(r))return fe.cloneElement(r,i);var o=a;if(xt(r)&&(o=r(i),fe.isValidElement(o)))return o;var s=Ot("recharts-pie-label-text",typeof r!="boolean"&&!xt(r)?r.className:"");return fe.createElement(wu,Zc({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(re.PureComponent);Tg=fs;da(fs,"displayName","Pie");da(fs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});da(fs,"parseDeltaAngle",function(t,e){var n=Zr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});da(fs,"getRealPieData",function(t){var e=t.data,n=t.children,r=yt(t,!1),i=ga(n,cy);return e&&e.length?e.map(function(a,o){return bn(bn(bn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return bn(bn({},r),a.props)}):[]});da(fs,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=cR(i,a),s=r+ei(t.cx,i,i/2),l=n+ei(t.cy,a,a/2),u=ei(t.innerRadius,o,0),c=ei(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});da(fs,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?bn(bn({},e.type.defaultProps),e.props):e.props,i=Tg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),v=Tg.parseCoordinateOfPie(r,n),b=Tg.parseDeltaAngle(o,s),x=Math.abs(b),y=u;Dt(u)&&Dt(d)?(Ua(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Dt(u)&&(Ua(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var w=i.filter(function(M){return Gr(M,y,0)!==0}).length,S=(x>=360?w:w-1)*l,T=x-w*p-S,C=i.reduce(function(M,I){var B=Gr(I,y,0);return M+(Ye(B)?B:0)},0),k;if(C>0){var E;k=i.map(function(M,I){var B=Gr(M,y,0),O=Gr(M,c,I),j=(Ye(B)?B:0)/C,U;I?U=E.endAngle+Zr(b)*l*(B!==0?1:0):U=o;var F=U+Zr(b)*((B!==0?p:0)+j*T),G=(U+F)/2,R=(v.innerRadius+v.outerRadius)/2,$=[{name:O,value:B,payload:M,dataKey:y,type:h}],H=Sn(v.cx,v.cy,R,G);return E=bn(bn(bn({percent:j,cornerRadius:a,name:O,tooltipPayload:$,midAngle:G,middleRadius:R,tooltipPosition:H},M),v),{},{value:Gr(M,y),startAngle:U,endAngle:F,payload:M,paddingAngle:Zr(b)*l}),E})}return bn(bn({},v),{},{sectors:k,data:i})});var Pxe=Math.ceil,Mxe=Math.max;function Oxe(t,e,n,r){for(var i=-1,a=Mxe(Pxe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var jxe=Oxe,Ixe=XD,pP=1/0,Dxe=17976931348623157e292;function Lxe(t){if(!t)return t===0?t:0;if(t=Ixe(t),t===pP||t===-pP){var e=t<0?-1:1;return e*Dxe}return t===t?t:0}var jR=Lxe,Rxe=jxe,Fxe=uy,Z1=jR;function Bxe(t){return function(e,n,r){return r&&typeof r!="number"&&Fxe(e,n,r)&&(n=r=void 0),e=Z1(e),n===void 0?(n=e,e=0):n=Z1(n),r=r===void 0?e<n?1:-1:Z1(r),Rxe(e,n,r,t)}}var $xe=Bxe,Uxe=$xe,qxe=Uxe(),Hxe=qxe;const Y0=Jt(Hxe);function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){IR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IR(t,e,n){return e=zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zxe(t){var e=Vxe(t,"string");return Zp(e)=="symbol"?e:e+""}function Vxe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gxe=["Webkit","Moz","O","ms"],Wxe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Gxe.reduce(function(a,o){return mP(mP({},a),{},IR({},o+r,n))},{});return i[e]=n,i};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K0.apply(this,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Ei(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LR(r.key),r)}}function Kxe(t,e,n){return e&&vP(t.prototype,e),n&&vP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jxe(t,e,n){return e=J0(e),Xxe(t,DR()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function Xxe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qxe(t)}function Qxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function Zxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function Ei(t,e,n){return e=LR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LR(t){var e=e2e(t,"string");return Ud(e)=="symbol"?e:e+""}function e2e(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var t2e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=np().domain(Y0(0,l)).range([a,a+o-s]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},yP=function(e){return e.changedTouches&&!!e.changedTouches.length},qd=function(t){function e(n){var r;return Yxe(this,e),r=Jxe(this,e,[n]),Ei(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ei(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ei(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ei(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ei(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ei(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ei(r,"handleSlideDragStart",function(i){var a=yP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Zxe(e,t),Kxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,d=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,d),v=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Gr(a[r],s,r);return xt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,u+c-d-s,u+c-d-o):b<0&&(b=Math.max(b,u-o,u-s));var x=this.getIndex({startX:o+b,endX:s+b});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=yP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,d=c.x,h=c.width,p=c.travellerWidth,v=c.onChange,b=c.gap,x=c.data,y={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,d+h-p-u):w<0&&(w=Math.max(w,d-u)),y[o]=u+w;var S=this.getIndex(y),T=S.startIndex,C=S.endIndex,k=function(){var M=x.length-1;return o==="startX"&&(s>l?T%b===0:C%b===0)||s<l&&C===M||o==="endX"&&(s>l?C%b===0:T%b===0)||s>l&&C===M};this.setState(Ei(Ei({},o,u+w),"brushMoveStartX",r.pageX),function(){v&&k()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],d=s.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Ei({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return fe.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,d=re.Children.only(u);return d?fe.cloneElement(d,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,y=Math.max(r,this.props.x),w=ex(ex({},yt(this.props,!1)),{},{x:y,y:u,width:c,height:d}),S=p||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return fe.createElement(nn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:d,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,p=5,v={pointerEvents:"none",fill:u};return fe.createElement(nn,{className:"recharts-brush-texts"},fe.createElement(wu,K0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+s/2},v),this.getTextOfTick(i)),fe.createElement(wu,K0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+p,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,p=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ye(s)||!Ye(l)||!Ye(u)||!Ye(c)||u<=0||c<=0)return null;var S=Ot("recharts-brush",a),T=fe.Children.count(o)===1,C=Wxe("userSelect","none");return fe.createElement(nn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||y||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),fe.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return fe.isValidElement(r)?a=fe.cloneElement(r,i):xt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return ex({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?t2e({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(re.PureComponent);Ei(qd,"displayName","Brush");Ei(qd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var n2e=ZS;function r2e(t,e){var n;return n2e(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var i2e=r2e,a2e=_D,o2e=vo,s2e=i2e,l2e=wi,u2e=uy;function c2e(t,e,n){var r=l2e(t)?a2e:s2e;return n&&u2e(t,e,n)&&(e=void 0),r(t,o2e(e))}var d2e=c2e;const f2e=Jt(d2e);var fo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},bP=GD;function h2e(t,e,n){e=="__proto__"&&bP?bP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var p2e=h2e,A2e=p2e,m2e=zD,g2e=vo;function v2e(t,e){var n={};return e=g2e(e),m2e(t,function(r,i,a){A2e(n,i,e(r,i,a))}),n}var y2e=v2e;const b2e=Jt(y2e);function x2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var w2e=x2e,S2e=ZS;function _2e(t,e){var n=!0;return S2e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var T2e=_2e,C2e=w2e,N2e=T2e,E2e=vo,k2e=wi,P2e=uy;function M2e(t,e,n){var r=k2e(t)?C2e:N2e;return n&&P2e(t,e,n)&&(e=void 0),r(t,E2e(e))}var O2e=M2e;const RR=Jt(O2e);var j2e=["x","y"];function eA(t){"@babel/helpers - typeof";return eA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(t)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(this,arguments)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){I2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I2e(t,e,n){return e=D2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D2e(t){var e=L2e(t,"string");return eA(e)=="symbol"?e:e+""}function L2e(t,e){if(eA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R2e(t,e){if(t==null)return{};var n=F2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B2e(t,e){var n=t.x,r=t.y,i=R2e(t,j2e),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return _h(_h(_h(_h(_h({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function wP(t){return fe.createElement(PR,Ww({shapeType:"rectangle",propTransformer:B2e,activeClassName:"recharts-active-bar"},t))}var $2e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ye(r)||dre(r);return a?e(r,i):(a||_u(),n)}},U2e=["value","background"],FR;function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function q2e(t,e){if(t==null)return{};var n=H2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$R(r.key),r)}}function V2e(t,e,n){return e&&_P(t.prototype,e),n&&_P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G2e(t,e,n){return e=Q0(e),W2e(t,BR()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function W2e(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y2e(t)}function Y2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function K2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function Ks(t,e,n){return e=$R(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $R(t){var e=J2e(t,"string");return Hd(e)=="symbol"?e:e+""}function J2e(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $u=function(t){function e(){var n;z2e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=G2e(this,e,[].concat(i)),Ks(n,"state",{isAnimationFinished:!1}),Ks(n,"id",SA("recharts-bar-")),Ks(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ks(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return K2e(e,t),V2e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=yt(this.props,!1);return r&&r.map(function(d,h){var p=h===l,v=p?u:o,b=Zn(Zn(Zn({},c),d),{},{isActive:p,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return fe.createElement(nn,X0({className:"recharts-bar-rectangle"},xu(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),fe.createElement(wP,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return fe.createElement(as,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,b=a.map(function(x,y){var w=h&&h[y];if(w){var S=Is(w.x,x.x),T=Is(w.y,x.y),C=Is(w.width,x.width),k=Is(w.height,x.height);return Zn(Zn({},x),{},{x:S(v),y:T(v),width:C(v),height:k(v)})}if(o==="horizontal"){var E=Is(0,x.height),M=E(v);return Zn(Zn({},x),{},{y:x.y+x.height-M,height:M})}var I=Is(0,x.width),B=I(v);return Zn(Zn({},x),{},{width:B})});return fe.createElement(nn,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!by(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=yt(this.props.background,!1);return a.map(function(u,c){u.value;var d=u.background,h=q2e(u,U2e);if(!d)return null;var p=Zn(Zn(Zn(Zn(Zn({},h),{},{fill:"#eee"},d),l),xu(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return fe.createElement(wP,X0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,d=ga(c,Sy);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,y){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:Gr(x,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return fe.createElement(nn,v,d.map(function(b){return fe.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,p=r.isAnimationActive,v=r.background,b=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,y=Ot("recharts-bar",o),w=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=w||S,C=Dt(b)?this.id:b;return fe.createElement(nn,{className:y},w||S?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(C)},fe.createElement("rect",{x:w?u:u-d/2,y:S?c:c-h/2,width:w?d:d*2,height:S?h:h*2}))):null,fe.createElement(nn,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!p||x)&&ul.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(re.PureComponent);FR=$u;Ks($u,"displayName","Bar");Ks($u,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ks($u,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,p=k0e(r,n);if(!p)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?Zn(Zn({},b),n.props):n.props,y=x.dataKey,w=x.children,S=x.minPointSize,T=v==="horizontal"?o:a,C=u?T.scale.domain():null,k=L0e({numericAxis:T}),E=ga(w,cy),M=d.map(function(I,B){var O,j,U,F,G,R;u?O=P0e(u[c+B],C):(O=Gr(I,y),Array.isArray(O)||(O=[k,O]));var $=$2e(S,FR.defaultProps.minPointSize)(O[1],B);if(v==="horizontal"){var H,Y=[o.scale(O[0]),o.scale(O[1])],X=Y[0],te=Y[1];j=h3({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:I,index:B}),U=(H=te??X)!==null&&H!==void 0?H:void 0,F=p.size;var D=X-te;if(G=Number.isNaN(D)?0:D,R={x:j,y:o.y,width:F,height:o.height},Math.abs($)>0&&Math.abs(G)<Math.abs($)){var q=Zr(G||$)*(Math.abs($)-Math.abs(G));U-=q,G+=q}}else{var Z=[a.scale(O[0]),a.scale(O[1])],ne=Z[0],ae=Z[1];if(j=ne,U=h3({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:I,index:B}),F=ae-ne,G=p.size,R={x:a.x,y:U,width:a.width,height:G},Math.abs($)>0&&Math.abs(F)<Math.abs($)){var me=Zr(F||$)*(Math.abs($)-Math.abs(F));F+=me}}return Zn(Zn(Zn({},I),{},{x:j,y:U,width:F,height:G,value:u?O:O[1],payload:I,background:R},E&&E[B]&&E[B].props),{},{tooltipPayload:[lR(n,I)],tooltipPosition:{x:j+F/2,y:U+G/2}})});return Zn({data:M,layout:v},h)});function tA(t){"@babel/helpers - typeof";return tA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(t)}function X2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UR(r.key),r)}}function Q2e(t,e,n){return e&&TP(t.prototype,e),n&&TP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){Py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Py(t,e,n){return e=UR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UR(t){var e=Z2e(t,"string");return tA(e)=="symbol"?e:e+""}function Z2e(t,e){if(tA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ewe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Pi(u,$u);return c.reduce(function(p,v){var b=n[v],x=b.orientation,y=b.domain,w=b.padding,S=w===void 0?{}:w,T=b.mirror,C=b.reversed,k="".concat(x).concat(T?"Mirror":""),E,M,I,B,O;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var j=y[1]-y[0],U=1/0,F=b.categoricalDomain.sort(pre);if(F.forEach(function(Z,ne){ne>0&&(U=Math.min((Z||0)-(F[ne-1]||0),U))}),Number.isFinite(U)){var G=U/j,R=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=G*R/2),b.padding==="no-gap"){var $=ei(e.barCategoryGap,G*R),H=G*R/2;E=H-$-(H-$)/R*$}}}i==="xAxis"?M=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?M=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:M=b.range,C&&(M=[M[1],M[0]]);var Y=iR(b,a,h),X=Y.scale,te=Y.realScaleType;X.domain(y).range(M),aR(X);var D=oR(X,Ba(Ba({},b),{},{realScaleType:te}));i==="xAxis"?(O=x==="top"&&!T||x==="bottom"&&T,I=r.left,B=d[k]-O*b.height):i==="yAxis"&&(O=x==="left"&&!T||x==="right"&&T,I=d[k]-O*b.width,B=r.top);var q=Ba(Ba(Ba({},b),D),{},{realScaleType:te,x:I,y:B,scale:X,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return q.bandSize=L0(q,D),!b.hide&&i==="xAxis"?d[k]+=(O?-1:1)*q.height:b.hide||(d[k]+=(O?-1:1)*q.width),Ba(Ba({},p),{},Py({},v,q))},{})},qR=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},twe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return qR({x:n,y:r},{x:i,y:a})},HR=function(){function t(e){X2e(this,t),this.scale=e}return Q2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Py(HR,"EPS",1e-4);var k_=function(e){var n=Object.keys(e).reduce(function(r,i){return Ba(Ba({},r),{},Py({},i,HR.create(e[i])))},{});return Ba(Ba({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return b2e(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return RR(i,function(a,o){return n[o].isInRange(a)})}})};function nwe(t){return(t%180+180)%180}var rwe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=nwe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},iwe=vo,awe=_A,owe=sy;function swe(t){return function(e,n,r){var i=Object(e);if(!awe(e)){var a=iwe(n);e=owe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var lwe=swe,uwe=jR;function cwe(t){var e=uwe(t),n=e%1;return e===e?n?e-n:e:0}var dwe=cwe,fwe=FD,hwe=vo,pwe=dwe,Awe=Math.max;function mwe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:pwe(n);return i<0&&(i=Awe(r+i,0)),fwe(t,hwe(e),i)}var gwe=mwe,vwe=lwe,ywe=gwe,bwe=vwe(ywe),xwe=bwe;const wwe=Jt(xwe);var Swe=gne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),P_=re.createContext(void 0),M_=re.createContext(void 0),zR=re.createContext(void 0),VR=re.createContext({}),GR=re.createContext(void 0),WR=re.createContext(0),YR=re.createContext(0),NP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Swe(a);return fe.createElement(P_.Provider,{value:r},fe.createElement(M_.Provider,{value:i},fe.createElement(VR.Provider,{value:a},fe.createElement(zR.Provider,{value:c},fe.createElement(GR.Provider,{value:o},fe.createElement(WR.Provider,{value:u},fe.createElement(YR.Provider,{value:l},s)))))))},_we=function(){return re.useContext(GR)},KR=function(e){var n=re.useContext(P_);n==null&&_u();var r=n[e];return r==null&&_u(),r},Twe=function(){var e=re.useContext(P_);return qs(e)},Cwe=function(){var e=re.useContext(M_),n=wwe(e,function(r){return RR(r.domain,Number.isFinite)});return n||qs(e)},JR=function(e){var n=re.useContext(M_);n==null&&_u();var r=n[e];return r==null&&_u(),r},Nwe=function(){var e=re.useContext(zR);return e},Ewe=function(){return re.useContext(VR)},O_=function(){return re.useContext(YR)},j_=function(){return re.useContext(WR)};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QR(r.key),r)}}function Mwe(t,e,n){return e&&Pwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Owe(t,e,n){return e=Z0(e),jwe(t,XR()?Reflect.construct(e,n||[],Z0(t).constructor):e.apply(t,n))}function jwe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iwe(t)}function Iwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XR=function(){return!!t})()}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(t)}function Dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kw(t,e)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){I_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I_(t,e,n){return e=QR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QR(t){var e=Lwe(t,"string");return zd(e)=="symbol"?e:e+""}function Lwe(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rwe(t,e){return Uwe(t)||$we(t,e)||Bwe(t,e)||Fwe()}function Fwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bwe(t,e){if(t){if(typeof t=="string")return PP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $we(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uwe(t){if(Array.isArray(t))return t}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}var qwe=function(e,n){var r;return fe.isValidElement(e)?r=fe.cloneElement(e,n):xt(e)?r=e(n):r=fe.createElement("line",Jw({},n,{className:"recharts-reference-line-line"})),r},Hwe=function(e,n,r,i,a,o,s,l,u){var c=a.x,d=a.y,h=a.width,p=a.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(fo(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?x.reverse():x}if(n){var y=u.x,w=e.x.apply(y,{position:o});if(fo(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:d+p},{x:w,y:d}];return s==="top"?S.reverse():S}if(i){var T=u.segment,C=T.map(function(k){return e.apply(k,{position:o})});return fo(u,"discard")&&f2e(C,function(k){return!e.isInRange(k)})?null:C}return null};function zwe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=_we(),c=KR(i),d=JR(a),h=Nwe();if(!u||!h)return null;Ua(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=k_({x:c.scale,y:d.scale}),v=Ar(e),b=Ar(n),x=r&&r.length===2,y=Hwe(p,v,b,x,h,t.position,c.orientation,d.orientation,t);if(!y)return null;var w=Rwe(y,2),S=w[0],T=S.x,C=S.y,k=w[1],E=k.x,M=k.y,I=fo(t,"hidden")?"url(#".concat(u,")"):void 0,B=kP(kP({clipPath:I},yt(t,!0)),{},{x1:T,y1:C,x2:E,y2:M});return fe.createElement(nn,{className:Ot("recharts-reference-line",s)},qwe(o,B),Tr.renderCallByParent(t,twe({x1:T,y1:C,x2:E,y2:M})))}var D_=function(t){function e(){return kwe(this,e),Owe(this,e,arguments)}return Dwe(e,t),Mwe(e,[{key:"render",value:function(){return fe.createElement(zwe,this.props)}}])}(fe.Component);I_(D_,"displayName","ReferenceLine");I_(D_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){My(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e8(r.key),r)}}function Wwe(t,e,n){return e&&Gwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ywe(t,e,n){return e=ev(e),Kwe(t,ZR()?Reflect.construct(e,n||[],ev(t).constructor):e.apply(t,n))}function Kwe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jwe(t)}function Jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(t)}function Xwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function My(t,e,n){return e=e8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e8(t){var e=Qwe(t,"string");return Vd(e)=="symbol"?e:e+""}function Qwe(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zwe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=k_({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return fo(e,"discard")&&!o.isInRange(s)?null:s},Oy=function(t){function e(){return Vwe(this,e),Ywe(this,e,arguments)}return Xwe(e,t),Wwe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Ar(i),c=Ar(a);if(Ua(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Zwe(this.props);if(!d)return null;var h=d.x,p=d.y,v=this.props,b=v.shape,x=v.className,y=fo(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=OP(OP({clipPath:y},yt(this.props,!0)),{},{cx:h,cy:p});return fe.createElement(nn,{className:Ot("recharts-reference-dot",x)},e.renderDot(b,w),Tr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(fe.Component);My(Oy,"displayName","ReferenceDot");My(Oy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});My(Oy,"renderDot",function(t,e){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,e):xt(t)?n=t(e):n=fe.createElement(E_,Xw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n8(r.key),r)}}function n5e(t,e,n){return e&&t5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r5e(t,e,n){return e=tv(e),i5e(t,t8()?Reflect.construct(e,n||[],tv(t).constructor):e.apply(t,n))}function i5e(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a5e(t)}function a5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tv(t)}function o5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e5(t,e)}function e5(t,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e5(t,e)}function jy(t,e,n){return e=n8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8(t){var e=s5e(t,"string");return Gd(e)=="symbol"?e:e+""}function s5e(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l5e=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var h=k_({x:c.scale,y:d.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return fo(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:qR(p,v)},Iy=function(t){function e(){return e5e(this,e),r5e(this,e,arguments)}return o5e(e,t),n5e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ua(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ar(i),h=Ar(a),p=Ar(o),v=Ar(s),b=this.props.shape;if(!d&&!h&&!p&&!v&&!b)return null;var x=l5e(d,h,p,v,this.props);if(!x&&!b)return null;var y=fo(this.props,"hidden")?"url(#".concat(c,")"):void 0;return fe.createElement(nn,{className:Ot("recharts-reference-area",l)},e.renderRect(b,IP(IP({clipPath:y},yt(this.props,!0)),x)),Tr.renderCallByParent(this.props,x))}}])}(fe.Component);jy(Iy,"displayName","ReferenceArea");jy(Iy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jy(Iy,"renderRect",function(t,e){var n;return fe.isValidElement(t)?n=fe.cloneElement(t,e):xt(t)?n=t(e):n=fe.createElement(N_,Zw({},e,{className:"recharts-reference-area-rect"})),n});function r8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function u5e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return rwe(r,n)}function c5e(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function nv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function d5e(t,e){return r8(t,e+1)}function f5e(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:r8(r,u)};var b=l,x,y=function(){return x===void 0&&(x=n(v,b)),x},w=v.coordinate,S=l===0||nv(t,w,y,c,s);S||(l=0,c=o,u+=1),S&&(c=w+t*(y()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function nA(t){"@babel/helpers - typeof";return nA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(t)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){h5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h5e(t,e,n){return e=p5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p5e(t){var e=A5e(t,"string");return nA(e)=="symbol"?e:e+""}function A5e(t,e){if(nA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m5e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],v,b=function(){return v===void 0&&(v=n(p,h)),v};if(h===o-1){var x=t*(p.coordinate+t*b()/2-l);a[h]=p=Hr(Hr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[h]=p=Hr(Hr({},p),{},{tickCoord:p.coordinate});var y=nv(t,p.tickCoord,b,s,l);y&&(l=p.tickCoord-t*(b()/2+i),a[h]=Hr(Hr({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function g5e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],d=n(c,s-1),h=t*(c.coordinate+t*d/2-u);o[s-1]=c=Hr(Hr({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=nv(t,c.tickCoord,function(){return d},l,u);p&&(u=c.tickCoord-t*(d/2+i),o[s-1]=Hr(Hr({},c),{},{isShow:!0}))}for(var v=a?s-1:s,b=function(w){var S=o[w],T,C=function(){return T===void 0&&(T=n(S,w)),T};if(w===0){var k=t*(S.coordinate-t*C()/2-l);o[w]=S=Hr(Hr({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else o[w]=S=Hr(Hr({},S),{},{tickCoord:S.coordinate});var E=nv(t,S.tickCoord,C,l,u);E&&(l=S.tickCoord+t*(C()/2+i),o[w]=Hr(Hr({},S),{},{isShow:!0}))},x=0;x<v;x++)b(x);return o}function L_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(Ye(l)||wf.isSsr)return d5e(i,typeof l=="number"&&Ye(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",v=c&&p==="width"?tp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,T){var C=xt(u)?u(S.value,T):S.value;return p==="width"?u5e(tp(C,{fontSize:e,letterSpacing:n}),v,d):tp(C,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?Zr(i[1].coordinate-i[0].coordinate):1,y=c5e(a,x,p);return l==="equidistantPreserveStart"?f5e(x,y,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=g5e(x,y,b,i,o,l==="preserveStartEnd"):h=m5e(x,y,b,i,o),h.filter(function(w){return w.isShow}))}var v5e=["viewBox"],y5e=["viewBox"],b5e=["ticks"];function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){R_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tx(t,e){if(t==null)return{};var n=x5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a8(r.key),r)}}function S5e(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _5e(t,e,n){return e=rv(e),T5e(t,i8()?Reflect.construct(e,n||[],rv(t).constructor):e.apply(t,n))}function T5e(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C5e(t)}function C5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function rv(t){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rv(t)}function N5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t5(t,e)}function t5(t,e){return t5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t5(t,e)}function R_(t,e,n){return e=a8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=E5e(t,"string");return Wd(e)=="symbol"?e:e+""}function E5e(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cf=function(t){function e(n){var r;return w5e(this,e),r=_5e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return N5e(e,t),S5e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=tx(r,v5e),s=this.props,l=s.viewBox,u=tx(s,y5e);return!fd(a,l)||!fd(o,u)||!fd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,p,v,b,x,y,w,S=d?-1:1,T=r.tickSize||c,C=Ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=v=r.coordinate,x=o+ +!d*l,b=x-S*T,w=b-S*h,y=C;break;case"left":b=x=r.coordinate,v=a+ +!d*s,p=v-S*T,y=p-S*h,w=C;break;case"right":b=x=r.coordinate,v=a+ +d*s,p=v+S*T,y=p+S*h,w=C;break;default:p=v=r.coordinate,x=o+ +d*l,b=x+S*T,w=b+S*h,y=C;break}return{line:{x1:p,y1:b,x2:v,y2:x},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=ur(ur(ur({},yt(this.props,!1)),yt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=ur(ur({},d),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);d=ur(ur({},d),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return fe.createElement("line",ed({},d,{className:Ot("recharts-cartesian-axis-line",Ui(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,d=s.tickFormatter,h=s.unit,p=L_(ur(ur({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=yt(this.props,!1),y=yt(c,!1),w=ur(ur({},x),{},{fill:"none"},yt(l,!1)),S=p.map(function(T,C){var k=o.getTickLineCoord(T),E=k.line,M=k.tick,I=ur(ur(ur(ur({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},y),M),{},{index:C,payload:T,visibleTicksCount:p.length,tickFormatter:d});return fe.createElement(nn,ed({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},xu(o.props,T,C)),l&&fe.createElement("line",ed({},w,E,{className:Ot("recharts-cartesian-axis-tick-line",Ui(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(xt(d)?d(T.value,C):T.value).concat(h||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,p=tx(d,b5e),v=h;return xt(l)&&(v=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!v||!v.length?null:fe.createElement(nn,{className:Ot("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Tr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Ot(i.className,"recharts-cartesian-axis-tick-value");return fe.isValidElement(r)?o=fe.cloneElement(r,ur(ur({},i),{},{className:s})):xt(r)?o=r(ur(ur({},i),{},{className:s})):o=fe.createElement(wu,ed({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(re.Component);R_(Cf,"displayName","CartesianAxis");R_(Cf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var k5e=["x1","y1","x2","y2","key"],P5e=["offset"];function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){M5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M5e(t,e,n){return e=O5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5e(t){var e=j5e(t,"string");return Tu(e)=="symbol"?e:e+""}function j5e(t,e){if(Tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}function BP(t,e){if(t==null)return{};var n=I5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var D5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return fe.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function o8(t,e){var n;if(fe.isValidElement(t))n=fe.cloneElement(t,e);else if(xt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=BP(e,k5e),u=yt(l,!1);u.offset;var c=BP(u,P5e);n=fe.createElement("line",nu({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function L5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=zr(zr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return o8(i,u)});return fe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function R5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=zr(zr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return o8(i,u)});return fe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function F5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var v=!c[p+1],b=v?i+o-h:c[p+1]-h;if(b<=0)return null;var x=p%e.length;return fe.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function B5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var d=c.map(function(h,p){var v=!c[p+1],b=v?a+s-h:c[p+1]-h;if(b<=0)return null;var x=p%r.length;return fe.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $5e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return rR(L_(zr(zr(zr({},Cf.defaultProps),r),{},{ticks:Vo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},U5e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return rR(L_(zr(zr(zr({},Cf.defaultProps),r),{},{ticks:Vo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Ec={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function s8(t){var e,n,r,i,a,o,s=O_(),l=j_(),u=Ewe(),c=zr(zr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ec.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ec.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ec.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ec.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ec.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ec.verticalFill,x:Ye(t.x)?t.x:u.left,y:Ye(t.y)?t.y:u.top,width:Ye(t.width)?t.width:u.width,height:Ye(t.height)?t.height:u.height}),d=c.x,h=c.y,p=c.width,v=c.height,b=c.syncWithTicks,x=c.horizontalValues,y=c.verticalValues,w=Twe(),S=Cwe();if(!Ye(p)||p<=0||!Ye(v)||v<=0||!Ye(d)||d!==+d||!Ye(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||$5e,C=c.horizontalCoordinatesGenerator||U5e,k=c.horizontalPoints,E=c.verticalPoints;if((!k||!k.length)&&xt(C)){var M=x&&x.length,I=C({yAxis:S?zr(zr({},S),{},{ticks:M?x:S.ticks}):void 0,width:s,height:l,offset:u},M?!0:b);Ua(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(I),"]")),Array.isArray(I)&&(k=I)}if((!E||!E.length)&&xt(T)){var B=y&&y.length,O=T({xAxis:w?zr(zr({},w),{},{ticks:B?y:w.ticks}):void 0,width:s,height:l,offset:u},B?!0:b);Ua(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(O),"]")),Array.isArray(O)&&(E=O)}return fe.createElement("g",{className:"recharts-cartesian-grid"},fe.createElement(D5e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),fe.createElement(L5e,nu({},c,{offset:u,horizontalPoints:k,xAxis:w,yAxis:S})),fe.createElement(R5e,nu({},c,{offset:u,verticalPoints:E,xAxis:w,yAxis:S})),fe.createElement(F5e,nu({},c,{horizontalPoints:k})),fe.createElement(B5e,nu({},c,{verticalPoints:E})))}s8.displayName="CartesianGrid";function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function q5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c8(r.key),r)}}function z5e(t,e,n){return e&&H5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V5e(t,e,n){return e=iv(e),G5e(t,l8()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function G5e(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W5e(t)}function W5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function Y5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n5(t,e)}function n5(t,e){return n5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n5(t,e)}function u8(t,e,n){return e=c8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c8(t){var e=K5e(t,"string");return Yd(e)=="symbol"?e:e+""}function K5e(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r5(){return r5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r5.apply(this,arguments)}function J5e(t){var e=t.xAxisId,n=O_(),r=j_(),i=KR(e);return i==null?null:re.createElement(Cf,r5({},i,{className:Ot("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Vo(o,!0)}}))}var Dy=function(t){function e(){return q5e(this,e),V5e(this,e,arguments)}return Y5e(e,t),z5e(e,[{key:"render",value:function(){return re.createElement(J5e,this.props)}}])}(re.Component);u8(Dy,"displayName","XAxis");u8(Dy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function X5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h8(r.key),r)}}function Z5e(t,e,n){return e&&Q5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eSe(t,e,n){return e=av(e),tSe(t,d8()?Reflect.construct(e,n||[],av(t).constructor):e.apply(t,n))}function tSe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nSe(t)}function nSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d8=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(t)}function rSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i5(t,e)}function i5(t,e){return i5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i5(t,e)}function f8(t,e,n){return e=h8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h8(t){var e=iSe(t,"string");return Kd(e)=="symbol"?e:e+""}function iSe(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function a5(){return a5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a5.apply(this,arguments)}var aSe=function(e){var n=e.yAxisId,r=O_(),i=j_(),a=JR(n);return a==null?null:re.createElement(Cf,a5({},a,{className:Ot("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Vo(s,!0)}}))},Ly=function(t){function e(){return X5e(this,e),eSe(this,e,arguments)}return rSe(e,t),Z5e(e,[{key:"render",value:function(){return re.createElement(aSe,this.props)}}])}(re.Component);f8(Ly,"displayName","YAxis");f8(Ly,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $P(t){return uSe(t)||lSe(t)||sSe(t)||oSe()}function oSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sSe(t,e){if(t){if(typeof t=="string")return o5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o5(t,e)}}function lSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uSe(t){if(Array.isArray(t))return o5(t)}function o5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s5=function(e,n,r,i,a){var o=ga(e,D_),s=ga(e,Oy),l=[].concat($P(o),$P(s)),u=ga(e,Iy),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[c]===r&&fo(x.props,"extendDomain")&&Ye(x.props[d])){var y=x.props[d];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},h)),u.length){var p="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(b,x){if(x.props[c]===r&&fo(x.props,"extendDomain")&&Ye(x.props[p])&&Ye(x.props[v])){var y=x.props[p],w=x.props[v];return[Math.min(b[0],y,w),Math.max(b[1],y,w)]}return b},h)}return a&&a.length&&(h=a.reduce(function(b,x){return Ye(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},p8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,v=new Array(p);h<p;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,p,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],y=arguments.length,w,S;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,p),!0;case 6:return x.fn.call(x.context,c,d,h,p,v),!0}for(S=1,w=new Array(y-1);S<y;S++)w[S-1]=arguments[S];x.fn.apply(x.context,w)}else{var T=x.length,C;for(S=0;S<T;S++)switch(x[S].once&&this.removeListener(u,x[S].fn,void 0,!0),y){case 1:x[S].fn.call(x[S].context);break;case 2:x[S].fn.call(x[S].context,c);break;case 3:x[S].fn.call(x[S].context,c,d);break;case 4:x[S].fn.call(x[S].context,c,d,h);break;default:if(!w)for(C=1,w=new Array(y-1);C<y;C++)w[C-1]=arguments[C];x[S].fn.apply(x[S].context,w)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&o(this,p);else{for(var b=0,x=[],y=v.length;b<y;b++)(v[b].fn!==c||h&&!v[b].once||d&&v[b].context!==d)&&x.push(v[b]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(p8);var cSe=p8.exports;const dSe=Jt(cSe);var nx=new dSe,rx="recharts.syncMouseEvents";function rA(t){"@babel/helpers - typeof";return rA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(t)}function fSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A8(r.key),r)}}function pSe(t,e,n){return e&&hSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ix(t,e,n){return e=A8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=ASe(t,"string");return rA(e)=="symbol"?e:e+""}function ASe(t,e){if(rA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mSe=function(){function t(){fSe(this,t),ix(this,"activeIndex",0),ix(this,"coordinateList",[]),ix(this,"layout","horizontal")}return pSe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function gSe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ye(r)&&Ye(i))return!0}return!1}function vSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function m8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Sn(e,n,r,i),s=Sn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function ySe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Sn(s,l,u,d),p=Sn(s,l,c,d);r=h.x,i=h.y,a=p.x,o=p.y}else return m8(e);return[{x:r,y:i},{x:a,y:o}]}function iA(t){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(t)}function UP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(n),!0).forEach(function(r){bSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bSe(t,e,n){return e=xSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xSe(t){var e=wSe(t,"string");return iA(e)=="symbol"?e:e+""}function wSe(t,e){if(iA(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SSe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,b=Pw;if(h==="ScatterChart")v=o,b=e1e;else if(h==="BarChart")v=vSe(d,o,l,c),b=N_;else if(d==="radial"){var x=m8(o),y=x.cx,w=x.cy,S=x.radius,T=x.startAngle,C=x.endAngle;v={cx:y,cy:w,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},b=pR}else v={points:ySe(d,o,l)},b=Pw;var k=ig(ig(ig(ig({stroke:"#ccc",pointerEvents:"none"},l),v),yt(p,!1)),{},{payload:s,payloadIndex:u,className:Ot("recharts-tooltip-cursor",p.className)});return re.isValidElement(p)?re.cloneElement(p,k):re.createElement(b,k)}var _Se=["item"],TSe=["children","className","width","height","style","compact","title","desc"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}function qP(t,e){return ESe(t)||NSe(t,e)||v8(t,e)||CSe()}function CSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ESe(t){if(Array.isArray(t))return t}function HP(t,e){if(t==null)return{};var n=kSe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y8(r.key),r)}}function OSe(t,e,n){return e&&MSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jSe(t,e,n){return e=ov(e),ISe(t,g8()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function ISe(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DSe(t)}function DSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g8=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function LSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l5(t,e)}function l5(t,e){return l5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l5(t,e)}function Xd(t){return BSe(t)||FSe(t)||v8(t)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8(t,e){if(t){if(typeof t=="string")return u5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u5(t,e)}}function FSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BSe(t){if(Array.isArray(t))return u5(t)}function u5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){mt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mt(t,e,n){return e=y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y8(t){var e=$Se(t,"string");return Jd(e)=="symbol"?e:e+""}function $Se(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var USe={xAxis:["bottom","top"],yAxis:["left","right"]},qSe={width:"100%",height:"100%"},b8={x:0,y:0};function ag(t){return t}var HSe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},zSe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ie(Ie(Ie({},i),Sn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Ie(Ie(Ie({},i),Sn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return b8},Ry=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Xd(s),Xd(u)):s},[]);return o.length>0?o:e&&e.length&&Ye(i)&&Ye(a)?e.slice(i,a+1):[]};function x8(t){return t==="number"?[0,"auto"]:void 0}var c5=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ry(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?s:d;h=F2(p,o.dataKey,i)}else h=d&&d[r]||s[r];return h?[].concat(Xd(l),[lR(u,h)]):l},[])},VP=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=HSe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=S0e(o,s,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=c5(e,n,c,d),p=zSe(r,s,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},VSe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,p=nR(c,a);return r.reduce(function(v,b){var x,y=b.type.defaultProps!==void 0?Ie(Ie({},b.type.defaultProps),b.props):b.props,w=y.type,S=y.dataKey,T=y.allowDataOverflow,C=y.allowDuplicatedCategory,k=y.scale,E=y.ticks,M=y.includeHidden,I=y[o];if(v[I])return v;var B=Ry(e.data,{graphicalItems:i.filter(function(D){var q,Z=o in D.props?D.props[o]:(q=D.type.defaultProps)===null||q===void 0?void 0:q[o];return Z===I}),dataStartIndex:l,dataEndIndex:u}),O=B.length,j,U,F;gSe(y.domain,T,w)&&(j=Tw(y.domain,null,T),p&&(w==="number"||k!=="auto")&&(F=rp(B,S,"category")));var G=x8(w);if(!j||j.length===0){var R,$=(R=y.domain)!==null&&R!==void 0?R:G;if(S){if(j=rp(B,S,w),w==="category"&&p){var H=hre(j);C&&H?(U=j,j=Y0(0,O)):C||(j=m3($,j,b).reduce(function(D,q){return D.indexOf(q)>=0?D:[].concat(Xd(D),[q])},[]))}else if(w==="category")C?j=j.filter(function(D){return D!==""&&!Dt(D)}):j=m3($,j,b).reduce(function(D,q){return D.indexOf(q)>=0||q===""||Dt(q)?D:[].concat(Xd(D),[q])},[]);else if(w==="number"){var Y=E0e(B,i.filter(function(D){var q,Z,ne=o in D.props?D.props[o]:(q=D.type.defaultProps)===null||q===void 0?void 0:q[o],ae="hide"in D.props?D.props.hide:(Z=D.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ne===I&&(M||!ae)}),S,a,c);Y&&(j=Y)}p&&(w==="number"||k!=="auto")&&(F=rp(B,S,"category"))}else p?j=Y0(0,O):s&&s[I]&&s[I].hasStack&&w==="number"?j=h==="expand"?[0,1]:sR(s[I].stackGroups,l,u):j=tR(B,i.filter(function(D){var q=o in D.props?D.props[o]:D.type.defaultProps[o],Z="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return q===I&&(M||!Z)}),w,c,!0);if(w==="number")j=s5(d,j,I,a,E),$&&(j=Tw($,j,T));else if(w==="category"&&$){var X=$,te=j.every(function(D){return X.indexOf(D)>=0});te&&(j=X)}}return Ie(Ie({},v),{},mt({},I,Ie(Ie({},y),{},{axisType:a,domain:j,categoricalDomain:F,duplicateDomain:U,originalDomain:(x=y.domain)!==null&&x!==void 0?x:G,isCategorical:p,layout:c})))},{})},GSe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=Ry(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,v=nR(c,a),b=-1;return r.reduce(function(x,y){var w=y.type.defaultProps!==void 0?Ie(Ie({},y.type.defaultProps),y.props):y.props,S=w[o],T=x8("number");if(!x[S]){b++;var C;return v?C=Y0(0,p):s&&s[S]&&s[S].hasStack?(C=sR(s[S].stackGroups,l,u),C=s5(d,C,S,a)):(C=Tw(T,tR(h,r.filter(function(k){var E,M,I=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],B="hide"in k.props?k.props.hide:(M=k.type.defaultProps)===null||M===void 0?void 0:M.hide;return I===S&&!B}),"number",c),i.defaultProps.allowDataOverflow),C=s5(d,C,S,a)),Ie(Ie({},x),{},mt({},S,Ie(Ie({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ui(USe,"".concat(a,".").concat(b%2),null),domain:C,originalDomain:T,isCategorical:v,layout:c})))}return x},{})},WSe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=ga(c,a),p={};return h&&h.length?p=VSe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=GSe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},YSe=function(e){var n=qs(e),r=Vo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:e_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:L0(n,r)}},GP=function(e){var n=e.children,r=e.defaultShowTooltip,i=Pi(n,qd),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},KSe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ko(n&&n.type);return r&&r.indexOf("Bar")>=0})},WP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JSe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,d=r.children,h=r.margin||{},p=Pi(d,qd),v=Pi(d,sl),b=Object.keys(l).reduce(function(C,k){var E=l[k],M=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},mt({},M,C[M]+E.width)):C},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(C,k){var E=o[k],M=E.orientation;return!E.mirror&&!E.hide?Ie(Ie({},C),{},mt({},M,Ui(C,"".concat(M))+E.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=Ie(Ie({},x),b),w=y.bottom;p&&(y.bottom+=p.props.height||qd.defaultProps.height),v&&n&&(y=C0e(y,i,r,n));var S=u-y.left-y.right,T=c-y.top-y.bottom;return Ie(Ie({brushBottom:w},y),{},{width:Math.max(S,0),height:Math.max(T,0)})},XSe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},w8=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(y,w){var S=w.graphicalItems,T=w.stackGroups,C=w.offset,k=w.updateId,E=w.dataStartIndex,M=w.dataEndIndex,I=y.barSize,B=y.layout,O=y.barGap,j=y.barCategoryGap,U=y.maxBarSize,F=WP(B),G=F.numericAxisName,R=F.cateAxisName,$=KSe(S),H=[];return S.forEach(function(Y,X){var te=Ry(y.data,{graphicalItems:[Y],dataStartIndex:E,dataEndIndex:M}),D=Y.type.defaultProps!==void 0?Ie(Ie({},Y.type.defaultProps),Y.props):Y.props,q=D.dataKey,Z=D.maxBarSize,ne=D["".concat(G,"Id")],ae=D["".concat(R,"Id")],me={},Ae=l.reduce(function(ye,_e){var be=w["".concat(_e.axisType,"Map")],Ve=D["".concat(_e.axisType,"Id")];be&&be[Ve]||_e.axisType==="zAxis"||_u();var Ge=be[Ve];return Ie(Ie({},ye),{},mt(mt({},_e.axisType,Ge),"".concat(_e.axisType,"Ticks"),Vo(Ge)))},me),W=Ae[R],le=Ae["".concat(R,"Ticks")],ce=T&&T[ne]&&T[ne].hasStack&&R0e(Y,T[ne].stackGroups),ue=Ko(Y.type).indexOf("Bar")>=0,Me=L0(W,le),De=[],Ne=$&&_0e({barSize:I,stackGroups:T,totalSize:XSe(Ae,R)});if(ue){var oe,Ee,ke=Dt(Z)?U:Z,xe=(oe=(Ee=L0(W,le,!0))!==null&&Ee!==void 0?Ee:ke)!==null&&oe!==void 0?oe:0;De=T0e({barGap:O,barCategoryGap:j,bandSize:xe!==Me?xe:Me,sizeList:Ne[ae],maxBarSize:ke}),xe!==Me&&(De=De.map(function(ye){return Ie(Ie({},ye),{},{position:Ie(Ie({},ye.position),{},{offset:ye.position.offset-xe/2})})}))}var Pe=Y&&Y.type&&Y.type.getComposedData;Pe&&H.push({props:Ie(Ie({},Pe(Ie(Ie({},Ae),{},{displayedData:te,props:y,dataKey:q,item:Y,bandSize:Me,barPosition:De,offset:C,stackedData:ce,layout:B,dataStartIndex:E,dataEndIndex:M}))),{},mt(mt(mt({key:Y.key||"item-".concat(X)},G,Ae[G]),R,Ae[R]),"animationId",k)),childIndex:Tre(Y,y.children),item:Y})}),H},p=function(y,w){var S=y.props,T=y.dataStartIndex,C=y.dataEndIndex,k=y.updateId;if(!uk({props:S}))return null;var E=S.children,M=S.layout,I=S.stackOffset,B=S.data,O=S.reverseStackOrder,j=WP(M),U=j.numericAxisName,F=j.cateAxisName,G=ga(E,r),R=D0e(B,G,"".concat(U,"Id"),"".concat(F,"Id"),I,O),$=l.reduce(function(D,q){var Z="".concat(q.axisType,"Map");return Ie(Ie({},D),{},mt({},Z,WSe(S,Ie(Ie({},q),{},{graphicalItems:G,stackGroups:q.axisType===U&&R,dataStartIndex:T,dataEndIndex:C}))))},{}),H=JSe(Ie(Ie({},$),{},{props:S,graphicalItems:G}),w==null?void 0:w.legendBBox);Object.keys($).forEach(function(D){$[D]=c(S,$[D],H,D.replace("Map",""),n)});var Y=$["".concat(F,"Map")],X=YSe(Y),te=h(S,Ie(Ie({},$),{},{dataStartIndex:T,dataEndIndex:C,updateId:k,graphicalItems:G,stackGroups:R,offset:H}));return Ie(Ie({formattedGraphicalItems:te,graphicalItems:G,offset:H,stackGroups:R},X),$)},v=function(x){function y(w){var S,T,C;return PSe(this,y),C=jSe(this,y,[w]),mt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),mt(C,"accessibilityManager",new mSe),mt(C,"handleLegendBBoxUpdate",function(k){if(k){var E=C.state,M=E.dataStartIndex,I=E.dataEndIndex,B=E.updateId;C.setState(Ie({legendBBox:k},p({props:C.props,dataStartIndex:M,dataEndIndex:I,updateId:B},Ie(Ie({},C.state),{},{legendBBox:k}))))}}),mt(C,"handleReceiveSyncEvent",function(k,E,M){if(C.props.syncId===k){if(M===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),mt(C,"handleBrushChange",function(k){var E=k.startIndex,M=k.endIndex;if(E!==C.state.dataStartIndex||M!==C.state.dataEndIndex){var I=C.state.updateId;C.setState(function(){return Ie({dataStartIndex:E,dataEndIndex:M},p({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:I},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:M})}}),mt(C,"handleMouseEnter",function(k){var E=C.getMouseInfo(k);if(E){var M=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var I=C.props.onMouseEnter;xt(I)&&I(M,k)}}),mt(C,"triggeredAfterMouseMove",function(k){var E=C.getMouseInfo(k),M=E?Ie(Ie({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var I=C.props.onMouseMove;xt(I)&&I(M,k)}),mt(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),mt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),mt(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),mt(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseLeave;xt(M)&&M(E,k)}),mt(C,"handleOuterEvent",function(k){var E=_re(k),M=Ui(C.props,"".concat(E));if(E&&xt(M)){var I,B;/.*touch.*/i.test(E)?B=C.getMouseInfo(k.changedTouches[0]):B=C.getMouseInfo(k),M((I=B)!==null&&I!==void 0?I:{},k)}}),mt(C,"handleClick",function(k){var E=C.getMouseInfo(k);if(E){var M=Ie(Ie({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var I=C.props.onClick;xt(I)&&I(M,k)}}),mt(C,"handleMouseDown",function(k){var E=C.props.onMouseDown;if(xt(E)){var M=C.getMouseInfo(k);E(M,k)}}),mt(C,"handleMouseUp",function(k){var E=C.props.onMouseUp;if(xt(E)){var M=C.getMouseInfo(k);E(M,k)}}),mt(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),mt(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),mt(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),mt(C,"handleDoubleClick",function(k){var E=C.props.onDoubleClick;if(xt(E)){var M=C.getMouseInfo(k);E(M,k)}}),mt(C,"handleContextMenu",function(k){var E=C.props.onContextMenu;if(xt(E)){var M=C.getMouseInfo(k);E(M,k)}}),mt(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&nx.emit(rx,C.props.syncId,k,C.eventEmitterSymbol)}),mt(C,"applySyncEvent",function(k){var E=C.props,M=E.layout,I=E.syncMethod,B=C.state.updateId,O=k.dataStartIndex,j=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(Ie({dataStartIndex:O,dataEndIndex:j},p({props:C.props,dataStartIndex:O,dataEndIndex:j,updateId:B},C.state)));else if(k.activeTooltipIndex!==void 0){var U=k.chartX,F=k.chartY,G=k.activeTooltipIndex,R=C.state,$=R.offset,H=R.tooltipTicks;if(!$)return;if(typeof I=="function")G=I(H,k);else if(I==="value"){G=-1;for(var Y=0;Y<H.length;Y++)if(H[Y].value===k.activeLabel){G=Y;break}}var X=Ie(Ie({},$),{},{x:$.left,y:$.top}),te=Math.min(U,X.x+X.width),D=Math.min(F,X.y+X.height),q=H[G]&&H[G].value,Z=c5(C.state,C.props.data,G),ne=H[G]?{x:M==="horizontal"?H[G].coordinate:te,y:M==="horizontal"?D:H[G].coordinate}:b8;C.setState(Ie(Ie({},k),{},{activeLabel:q,activeCoordinate:ne,activePayload:Z,activeTooltipIndex:G}))}else C.setState(k)}),mt(C,"renderCursor",function(k){var E,M=C.state,I=M.isTooltipActive,B=M.activeCoordinate,O=M.activePayload,j=M.offset,U=M.activeTooltipIndex,F=M.tooltipAxisBandSize,G=C.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:I,$=C.props.layout,H=k.key||"_recharts-cursor";return fe.createElement(SSe,{key:H,activeCoordinate:B,activePayload:O,activeTooltipIndex:U,chartName:n,element:k,isActive:R,layout:$,offset:j,tooltipAxisBandSize:F,tooltipEventType:G})}),mt(C,"renderPolarAxis",function(k,E,M){var I=Ui(k,"type.axisType"),B=Ui(C.state,"".concat(I,"Map")),O=k.type.defaultProps,j=O!==void 0?Ie(Ie({},O),k.props):k.props,U=B&&B[j["".concat(I,"Id")]];return re.cloneElement(k,Ie(Ie({},U),{},{className:Ot(I,U.className),key:k.key||"".concat(E,"-").concat(M),ticks:Vo(U,!0)}))}),mt(C,"renderPolarGrid",function(k){var E=k.props,M=E.radialLines,I=E.polarAngles,B=E.polarRadius,O=C.state,j=O.radiusAxisMap,U=O.angleAxisMap,F=qs(j),G=qs(U),R=G.cx,$=G.cy,H=G.innerRadius,Y=G.outerRadius;return re.cloneElement(k,{polarAngles:Array.isArray(I)?I:Vo(G,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(B)?B:Vo(F,!0).map(function(X){return X.coordinate}),cx:R,cy:$,innerRadius:H,outerRadius:Y,key:k.key||"polar-grid",radialLines:M})}),mt(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,E=C.props,M=E.children,I=E.width,B=E.height,O=C.props.margin||{},j=I-(O.left||0)-(O.right||0),U=ZL({children:M,formattedGraphicalItems:k,legendWidth:j,legendContent:u});if(!U)return null;var F=U.item,G=HP(U,_Se);return re.cloneElement(F,Ie(Ie({},G),{},{chartWidth:I,chartHeight:B,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),mt(C,"renderTooltip",function(){var k,E=C.props,M=E.children,I=E.accessibilityLayer,B=Pi(M,Fa);if(!B)return null;var O=C.state,j=O.isTooltipActive,U=O.activeCoordinate,F=O.activePayload,G=O.activeLabel,R=O.offset,$=(k=B.props.active)!==null&&k!==void 0?k:j;return re.cloneElement(B,{viewBox:Ie(Ie({},R),{},{x:R.left,y:R.top}),active:$,label:G,payload:$?F:[],coordinate:U,accessibilityLayer:I})}),mt(C,"renderBrush",function(k){var E=C.props,M=E.margin,I=E.data,B=C.state,O=B.offset,j=B.dataStartIndex,U=B.dataEndIndex,F=B.updateId;return re.cloneElement(k,{key:k.key||"_recharts-brush",onChange:eg(C.handleBrushChange,k.props.onChange),data:I,x:Ye(k.props.x)?k.props.x:O.left,y:Ye(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(M.bottom||0),width:Ye(k.props.width)?k.props.width:O.width,startIndex:j,endIndex:U,updateId:"brush-".concat(F)})}),mt(C,"renderReferenceElement",function(k,E,M){if(!k)return null;var I=C,B=I.clipPathId,O=C.state,j=O.xAxisMap,U=O.yAxisMap,F=O.offset,G=k.type.defaultProps||{},R=k.props,$=R.xAxisId,H=$===void 0?G.xAxisId:$,Y=R.yAxisId,X=Y===void 0?G.yAxisId:Y;return re.cloneElement(k,{key:k.key||"".concat(E,"-").concat(M),xAxis:j[H],yAxis:U[X],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:B})}),mt(C,"renderActivePoints",function(k){var E=k.item,M=k.activePoint,I=k.basePoint,B=k.childIndex,O=k.isRange,j=[],U=E.props.key,F=E.item.type.defaultProps!==void 0?Ie(Ie({},E.item.type.defaultProps),E.item.props):E.item.props,G=F.activeDot,R=F.dataKey,$=Ie(Ie({index:B,dataKey:R,cx:M.x,cy:M.y,r:4,fill:C_(E.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},yt(G,!1)),u0(G));return j.push(y.renderActiveDot(G,$,"".concat(U,"-activePoint-").concat(B))),I?j.push(y.renderActiveDot(G,Ie(Ie({},$),{},{cx:I.x,cy:I.y}),"".concat(U,"-basePoint-").concat(B))):O&&j.push(null),j}),mt(C,"renderGraphicChild",function(k,E,M){var I=C.filterFormatItem(k,E,M);if(!I)return null;var B=C.getTooltipEventType(),O=C.state,j=O.isTooltipActive,U=O.tooltipAxis,F=O.activeTooltipIndex,G=O.activeLabel,R=C.props.children,$=Pi(R,Fa),H=I.props,Y=H.points,X=H.isRange,te=H.baseLine,D=I.item.type.defaultProps!==void 0?Ie(Ie({},I.item.type.defaultProps),I.item.props):I.item.props,q=D.activeDot,Z=D.hide,ne=D.activeBar,ae=D.activeShape,me=!!(!Z&&j&&$&&(q||ne||ae)),Ae={};B!=="axis"&&$&&$.props.trigger==="click"?Ae={onClick:eg(C.handleItemMouseEnter,k.props.onClick)}:B!=="axis"&&(Ae={onMouseLeave:eg(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:eg(C.handleItemMouseEnter,k.props.onMouseEnter)});var W=re.cloneElement(k,Ie(Ie({},I.props),Ae));function le(_e){return typeof U.dataKey=="function"?U.dataKey(_e.payload):null}if(me)if(F>=0){var ce,ue;if(U.dataKey&&!U.allowDuplicatedCategory){var Me=typeof U.dataKey=="function"?le:"payload.".concat(U.dataKey.toString());ce=F2(Y,Me,G),ue=X&&te&&F2(te,Me,G)}else ce=Y==null?void 0:Y[F],ue=X&&te&&te[F];if(ae||ne){var De=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[re.cloneElement(k,Ie(Ie(Ie({},I.props),Ae),{},{activeIndex:De})),null,null]}if(!Dt(ce))return[W].concat(Xd(C.renderActivePoints({item:I,activePoint:ce,basePoint:ue,childIndex:F,isRange:X})))}else{var Ne,oe=(Ne=C.getItemByXY(C.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:W},Ee=oe.graphicalItem,ke=Ee.item,xe=ke===void 0?k:ke,Pe=Ee.childIndex,ye=Ie(Ie(Ie({},I.props),Ae),{},{activeIndex:Pe});return[re.cloneElement(xe,ye),null,null]}return X?[W,null,null]:[W,null]}),mt(C,"renderCustomized",function(k,E,M){return re.cloneElement(k,Ie(Ie({key:"recharts-customized-".concat(M)},C.props),C.state))}),mt(C,"renderMap",{CartesianGrid:{handler:ag,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:ag},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:ag},YAxis:{handler:ag},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:SA("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=QD(C.triggeredAfterMouseMove,(T=w.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return LSe(y,x),OSe(y,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,C=S.data,k=S.height,E=S.layout,M=Pi(T,Fa);if(M){var I=M.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=c5(this.state,C,I,B),j=this.state.tooltipTicks[I].coordinate,U=(this.state.offset.top+k)/2,F=E==="horizontal",G=F?{x:j,y:U}:{y:j,x:U},R=this.state.formattedGraphicalItems.find(function(H){var Y=H.item;return Y.type.name==="Scatter"});R&&(G=Ie(Ie({},G),R.props.points[I].tooltipPosition),O=R.props.points[I].tooltipPayload);var $={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:B,activePayload:O,activeCoordinate:G};this.setState($),this.renderCursor(M),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){$2([Pi(S.children,Fa)],[Pi(this.props.children,Fa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Pi(this.props.children,Fa);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),k=Xhe(C),E={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},M=C.width/T.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,M);if(!I)return null;var B=this.state,O=B.xAxisMap,j=B.yAxisMap,U=this.getTooltipEventType(),F=VP(this.state,this.props.data,this.props.layout,I);if(U!=="axis"&&O&&j){var G=qs(O).scale,R=qs(j).scale,$=G&&G.invert?G.invert(E.chartX):null,H=R&&R.invert?R.invert(E.chartY):null;return Ie(Ie({},E),{},{xValue:$,yValue:H},F)}return F?Ie(Ie({},E),F):null}},{key:"inRange",value:function(S,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=S/C,M=T/C;if(k==="horizontal"||k==="vertical"){var I=this.state.offset,B=E>=I.left&&E<=I.left+I.width&&M>=I.top&&M<=I.top+I.height;return B?{x:E,y:M}:null}var O=this.state,j=O.angleAxisMap,U=O.radiusAxisMap;if(j&&U){var F=qs(j);return y3({x:E,y:M},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),C=Pi(S,Fa),k={};C&&T==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=u0(this.props,this.handleOuterEvent);return Ie(Ie({},E),k)}},{key:"addListener",value:function(){nx.on(rx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nx.removeListener(rx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,C){for(var k=this.state.formattedGraphicalItems,E=0,M=k.length;E<M;E++){var I=k[E];if(I.item===S||I.props.key===S.key||T===Ko(I.item.type)&&C===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,C=T.left,k=T.top,E=T.height,M=T.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:S},fe.createElement("rect",{x:C,y:k,height:E,width:M})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=qP(C,2),E=k[0],M=k[1];return Ie(Ie({},T),{},mt({},E,M.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=qP(C,2),E=k[0],M=k[1];return Ie(Ie({},T),{},mt({},E,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,C=T.formattedGraphicalItems,k=T.activeItem;if(C&&C.length)for(var E=0,M=C.length;E<M;E++){var I=C[E],B=I.props,O=I.item,j=O.type.defaultProps!==void 0?Ie(Ie({},O.type.defaultProps),O.props):O.props,U=Ko(O.type);if(U==="Bar"){var F=(B.data||[]).find(function(H){return Ibe(S,H)});if(F)return{graphicalItem:I,payload:F}}else if(U==="RadialBar"){var G=(B.data||[]).find(function(H){return y3(S,H)});if(G)return{graphicalItem:I,payload:G}}else if(Ey(I,k)||ky(I,k)||Qp(I,k)){var R=wxe({graphicalItem:I,activeTooltipItem:k,itemData:j.data}),$=j.activeIndex===void 0?R:j.activeIndex;return{graphicalItem:Ie(Ie({},I),{},{childIndex:$}),payload:Qp(I,k)?j.data[R]:I.props.data[R]}}}return null}},{key:"render",value:function(){var S=this;if(!uk(this))return null;var T=this.props,C=T.children,k=T.className,E=T.width,M=T.height,I=T.style,B=T.compact,O=T.title,j=T.desc,U=HP(T,TSe),F=yt(U,!1);if(B)return fe.createElement(NP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(q2,td({},F,{width:E,height:M,title:O,desc:j}),this.renderClipPath(),dk(C,this.renderMap)));if(this.props.accessibilityLayer){var G,R;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(H){S.accessibilityManager.keyboardEvent(H)},F.onFocus=function(){S.accessibilityManager.focus()}}var $=this.parseEventsOfWrapper();return fe.createElement(NP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",td({className:Ot("recharts-wrapper",k),style:Ie({position:"relative",cursor:"default",width:E,height:M},I)},$,{ref:function(Y){S.container=Y}}),fe.createElement(q2,td({},F,{width:E,height:M,title:O,desc:j,style:qSe}),this.renderClipPath(),dk(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(re.Component);mt(v,"displayName",n),mt(v,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),mt(v,"getDerivedStateFromProps",function(x,y){var w=x.dataKey,S=x.data,T=x.children,C=x.width,k=x.height,E=x.layout,M=x.stackOffset,I=x.margin,B=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var j=GP(x);return Ie(Ie(Ie({},j),{},{updateId:0},p(Ie(Ie({props:x},j),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:I,prevChildren:T})}if(w!==y.prevDataKey||S!==y.prevData||C!==y.prevWidth||k!==y.prevHeight||E!==y.prevLayout||M!==y.prevStackOffset||!fd(I,y.prevMargin)){var U=GP(x),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},G=Ie(Ie({},VP(y,S,E)),{},{updateId:y.updateId+1}),R=Ie(Ie(Ie({},U),F),G);return Ie(Ie(Ie({},R),p(Ie({props:x},R),y)),{},{prevDataKey:w,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:I,prevChildren:T})}if(!$2(T,y.prevChildren)){var $,H,Y,X,te=Pi(T,qd),D=te&&($=(H=te.props)===null||H===void 0?void 0:H.startIndex)!==null&&$!==void 0?$:B,q=te&&(Y=(X=te.props)===null||X===void 0?void 0:X.endIndex)!==null&&Y!==void 0?Y:O,Z=D!==B||q!==O,ne=!Dt(S),ae=ne&&!Z?y.updateId:y.updateId+1;return Ie(Ie({updateId:ae},p(Ie(Ie({props:x},y),{},{updateId:ae,dataStartIndex:D,dataEndIndex:q}),y)),{},{prevChildren:T,dataStartIndex:D,dataEndIndex:q})}return null}),mt(v,"renderActiveDot",function(x,y,w){var S;return re.isValidElement(x)?S=re.cloneElement(x,y):xt(x)?S=x(y):S=fe.createElement(E_,y),fe.createElement(nn,{className:"recharts-active-dot",key:w},S)});var b=re.forwardRef(function(y,w){return fe.createElement(v,td({},y,{ref:w}))});return b.displayName=v.displayName,b},QSe=w8({chartName:"BarChart",GraphicalChild:$u,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Dy},{axisType:"yAxis",AxisComp:Ly}],formatAxisMap:ewe}),ZSe=w8({chartName:"PieChart",GraphicalChild:fs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ny},{axisType:"radiusAxis",AxisComp:Ty}],formatAxisMap:W0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const e_e=["#26A69A","#4DD0E1","#EF5350","#FFB74D","#80CBC4","#A0AEC0"],t_e=["#2dd4bf","#67e8f9","#f87171","#fbbf24","#5eead4","#94a3b8"],n_e=({onClose:t,total:e,sales:n,customers:r,onReprintInvoice:i,t:a,language:o})=>{const s=o==="ar"?"ar-MA":"fr-FR";return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:a("customItemsDetails")}),A.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:A.jsx(Ij,{className:"w-6 h-6"})})]}),A.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-4 rounded-lg text-purple-800 dark:text-purple-200 mb-4",children:[A.jsx("p",{className:"font-bold",children:a("totalCustomRevenue")}),A.jsxs("p",{className:"text-2xl font-extrabold",children:[e.toFixed(2)," DH"]})]}),A.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[A.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:a("invoiceHistory")}),n.length>0?n.slice().reverse().map(l=>{var u;return A.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[a("invoiceNumber")," ",l.id.slice(-6)]}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(l.date).toLocaleString(s)})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"text-left rtl:text-right",children:[A.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[l.total.toFixed(2)," DH"]}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a("profitLabel"),": ",l.profit.toFixed(2)," DH"]})]}),A.jsx("button",{onClick:()=>i(l),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:a("print"),children:A.jsx(Dv,{className:"w-5 h-5"})})]})]}),A.jsxs("details",{className:"mt-2 text-sm",children:[A.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:a("viewDetails")}),A.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[A.jsxs("p",{children:[A.jsxs("strong",{children:[a("customer"),":"]})," ",((u=r.find(c=>c.id===l.customerId))==null?void 0:u.name)||a("cashCustomer")]}),A.jsxs("p",{className:"font-semibold",children:[a("customItemsInSale"),":"]}),A.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:l.items.filter(c=>c.isCustom).map(c=>A.jsxs("li",{className:"flex justify-between items-center",children:[A.jsxs("span",{className:"flex items-center gap-2",children:[A.jsx(Aa,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),c.name," (x",c.quantity,")"]}),A.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]})]},l.id)}):A.jsx("p",{className:"text-center text-slate-500 py-8",children:a("noSalesForPeriod")})]}),A.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:A.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")})})]})})},r_e=({expense:t,onSave:e,onClose:n,t:r})=>{const[i,a]=re.useState(t),[o,s]=re.useState(!1),l=d=>{const{id:h,value:p}=d.target;a(v=>({...v,[h]:p}))},u=d=>{a(h=>({...h,amount:parseFloat(d.target.value)||0}))},c=async d=>{d.preventDefault(),s(!0),await e(i),s(!1),n()};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[A.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[r("edit")," ",r("expenses")]}),A.jsxs("form",{onSubmit:c,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("description")}),A.jsx("input",{type:"text",id:"description",value:i.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[r("amount")," (DH)"]}),A.jsx("input",{type:"number",id:"amount",value:i.amount,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[A.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),A.jsx("button",{type:"submit",disabled:o,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:r(o?"saving":"save")})]})]})]})})},ax=10,i_e=({storeId:t,sales:e,expenses:n,purchases:r,suppliers:i,returns:a,customers:o,users:s,addExpense:l,updateExpense:u,deleteExpense:c,deleteReturn:d,deleteAllReturns:h,t:p,language:v,theme:b,onReprintInvoice:x})=>{const[y,w]=re.useState("all"),[S,T]=re.useState({start:"",end:""}),[C,k]=re.useState("overview"),[E,M]=re.useState(null),[I,B]=re.useState(!1),[O,j]=re.useState(1),U=v==="ar"?"ar-MA":"fr-FR";re.useEffect(()=>{j(1)},[y,S]);const F=re.useMemo(()=>b==="dark"?{pie:t_e,tick:"#94a3b8",grid:"rgba(94, 112, 131, 0.2)",tooltip:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#e2e8f0"},legend:"#e2e8f0",bar:"#2dd4bf"}:{pie:e_e,tick:"#475569",grid:"#e2e8f0",tooltip:{backgroundColor:"#ffffff",borderColor:"#e2e8f0",color:"#1e293b"},legend:"#334155",bar:"#26A69A"},[b]),G=re.useMemo(()=>Vm(e,y,S),[e,y,S]),R=re.useMemo(()=>Vm(n,y,S).sort((ye,_e)=>new Date(_e.date).getTime()-new Date(ye.date).getTime()),[n,y,S]),$=re.useMemo(()=>Vm(a,y,S),[a,y,S]),H=re.useMemo(()=>Vm(r,y,S),[r,y,S]),{totalRevenue:Y,totalReturnsAmount:X,netRevenue:te,totalExpenses:D,netProfit:q,totalCustomerDebts:Z,debtsByCustomer:ne,totalCostOfGoods:ae,totalSupplierDebt:me,debtsBySupplier:Ae,totalCustomItemSales:W}=re.useMemo(()=>{let ye=0,_e=0;G.forEach(Se=>{const Ue=Se.total,rt=Se.items.filter(st=>!st.isCustom).reduce((st,mn)=>st+mn.price*mn.quantity,0),gt=Ue-rt;_e+=gt,ye+=rt});let be=0;$.forEach(Se=>{Se.items.forEach(Ue=>{Ue.isCustom||(be+=Ue.price*Ue.quantity)})});const Ve=ye-be,Ge=R.reduce((Se,Ue)=>Se+Ue.amount,0),ot=G.reduce((Se,Ue)=>Se+Ue.profit,0),ze=$.reduce((Se,Ue)=>Se+Ue.profitLost,0),ht=ot-ze-Ge,et=new Map;let pt=0;e.forEach(Se=>{var Ue;if(Se.customerId&&Se.remainingAmount>0){pt+=Se.remainingAmount;const rt=o.find(gt=>gt.id===Se.customerId);if(rt){const gt=((Ue=et.get(Se.customerId))==null?void 0:Ue.debt)||0;et.set(Se.customerId,{customer:rt,debt:gt+Se.remainingAmount})}}});const We=new Map;let cn=0;r.forEach(Se=>{var Ue;if(Se.remainingAmount>0){cn+=Se.remainingAmount;const rt=i.find(gt=>gt.id===Se.supplierId);if(rt){const gt=((Ue=We.get(Se.supplierId))==null?void 0:Ue.debt)||0;We.set(Se.supplierId,{supplier:rt,debt:gt+Se.remainingAmount})}}});const jt=r.reduce((Se,Ue)=>Se+Ue.totalAmount,0);return{totalRevenue:ye,totalReturnsAmount:be,netRevenue:Ve,totalExpenses:Ge,netProfit:ht,totalCustomerDebts:pt,debtsByCustomer:Array.from(et.values()).sort((Se,Ue)=>Ue.debt-Se.debt),totalCostOfGoods:jt,totalSupplierDebt:cn,debtsBySupplier:Array.from(We.values()).sort((Se,Ue)=>Ue.debt-Se.debt),totalCustomItemSales:_e}},[G,R,$,e,o,r,i]),le=re.useMemo(()=>{const ye={},_e={day:"2-digit",month:"2-digit"};return G.forEach(be=>{const Ve=new Date(be.date).toLocaleDateString(U,_e);ye[Ve]||(ye[Ve]=0);const Ge=be.items.filter(ot=>!ot.isCustom).reduce((ot,ze)=>ot+ze.price*ze.quantity,0);ye[Ve]+=Ge}),$.forEach(be=>{const Ve=new Date(be.date).toLocaleDateString(U,_e);if(ye[Ve]){const Ge=be.items.filter(ot=>!ot.isCustom).reduce((ot,ze)=>ot+ze.price*ze.quantity,0);ye[Ve]-=Ge}ye[Ve]<0&&(ye[Ve]=0)}),Object.entries(ye).map(([be,Ve])=>({name:be,[p("sales")]:Ve})).reverse()},[G,$,U,p]),ce=re.useMemo(()=>{const ye={};return G.forEach(_e=>{_e.items.forEach(be=>{be.type==="good"&&(ye[be.id]||(ye[be.id]={name:be.name,quantity:0}),ye[be.id].quantity+=be.quantity)})}),$.forEach(_e=>{_e.items.forEach(be=>{be.type==="good"&&ye[be.id]&&(ye[be.id].quantity-=be.quantity)})}),Object.values(ye).filter(({quantity:_e})=>_e>0).map(({name:_e,quantity:be})=>({name:_e,value:be})).sort((_e,be)=>be.value-_e.value).slice(0,6)},[G,$]),ue=re.useMemo(()=>G.filter(ye=>!ye.items.some(_e=>_e.isCustom)).slice().reverse(),[G]),Me=re.useMemo(()=>G.filter(ye=>ye.items.some(_e=>_e.isCustom)),[G]),De=()=>{const[ye,_e]=re.useState({description:"",amount:""}),be=re.useRef(null),Ve=async ze=>{var ht;if(ze.preventDefault(),!ye.description||!ye.amount){alert(p("fillAllFields"));return}await l({storeId:t,description:ye.description,amount:parseFloat(ye.amount),date:new Date().toISOString()}),_e({description:"",amount:""}),(ht=be.current)==null||ht.focus()},Ge=ze=>{c(ze)},ot=()=>{const ze=[p("date"),p("description"),p("amount")],ht=R.map(et=>[new Date(et.date).toLocaleDateString(U),et.description,`${et.amount.toFixed(2)} DH`]);Da(p("expenseHistory"),ze,ht,"expenses_report",v,p("noDataToExport"))};return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("manageExpenses")}),A.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-1",children:[A.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("addExpense")}),A.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"exp-description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:p("description")}),A.jsx("input",{ref:be,type:"text",id:"exp-description",value:ye.description,onChange:ze=>_e({...ye,description:ze.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{children:[A.jsxs("label",{htmlFor:"exp-amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[p("amount")," (DH)"]}),A.jsx("input",{type:"number",id:"exp-amount",value:ye.amount,onChange:ze=>_e({...ye,amount:ze.target.value}),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:p("addExpense")})]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:p("expenseHistory")}),A.jsxs("button",{onClick:ot,className:"bg-cyan-600 text-white font-semibold py-1 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-xs",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto pl-2 space-y-3",children:R.length>0?R.map(ze=>A.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:[A.jsxs("div",{children:[A.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:ze.description}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ze.date).toLocaleDateString(U)})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[ze.amount.toFixed(2)," DH"]}),A.jsx("button",{onClick:()=>M(ze),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300",children:A.jsx(Ov,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>Ge(ze.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:A.jsx(ni,{className:"w-5 h-5"})})]})]},ze.id)):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noExpensesForPeriod")})})]})]})]})},Ne=()=>A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("debtorCustomers")}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{onClick:()=>{const ye=[p("name"),p("phone"),p("debtAmount")],_e=ne.map(be=>[be.customer.name,be.customer.phone,`${be.debt.toFixed(2)} DH`]);Da(p("debtorCustomers"),ye,_e,"customer_debts",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]}),A.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),A.jsx("div",{className:"overflow-x-auto max-h-96",children:A.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[A.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("name")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:ne.length>0?ne.map(({customer:ye,debt:_e})=>A.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[A.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ye.name}),A.jsx("td",{className:"px-6 py-4",children:ye.phone}),A.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[_e.toFixed(2)," DH"]})]},ye.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noDebtorCustomers")})})})]})})]}),oe=()=>A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("returnHistory")}),A.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[A.jsxs("button",{onClick:()=>{const ye=[p("returnId"),p("date"),p("refundAmount"),p("profitLost"),p("itemsLabel")],_e=$.map(be=>[be.id.slice(-6),new Date(be.date).toLocaleString(U),`${be.refundAmount.toFixed(2)} DH`,`${be.profitLost.toFixed(2)} DH`,be.items.map(Ve=>`${Ve.name} (x${Ve.quantity})`).join(", ")]);Da(p("returnHistory"),ye,_e,"returns_report",v,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-2 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]}),A.jsxs("button",{onClick:h,className:"bg-red-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ni,{className:"w-4 h-4"})," ",p("deleteHistory")]}),A.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:A.jsx("ul",{className:"space-y-4",children:$.length>0?$.slice().reverse().map(ye=>A.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("returnId")," ",ye.id.slice(-6)]}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ye.date).toLocaleString(U)})]}),A.jsxs("div",{className:"text-left rtl:text-right",children:[A.jsxs("p",{className:"font-bold text-lg text-orange-600 dark:text-orange-400",children:[ye.refundAmount.toFixed(2)," DH"]}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLost"),": ",ye.profitLost.toFixed(2)," DH"]})]})]}),A.jsx("div",{className:"flex justify-end mt-2",children:A.jsxs("button",{onClick:()=>d(ye.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold flex items-center gap-1",children:[A.jsx(ni,{className:"w-4 h-4"})," ",p("delete")]})}),A.jsxs("details",{className:"mt-2 text-sm",children:[A.jsx("summary",{className:"cursor-pointer text-orange-700 dark:text-orange-400 font-semibold hover:text-orange-800",children:p("returnedItems")}),A.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-orange-200 dark:border-orange-500/30",children:ye.items.map(_e=>A.jsxs("li",{className:"flex justify-between items-center text-slate-700 dark:text-slate-300",children:[A.jsxs("span",{className:"flex items-center gap-2",children:[_e.type==="service"&&A.jsx(Aa,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),_e.name," (x",_e.quantity,")"]}),A.jsxs("span",{children:[(_e.price*_e.quantity).toFixed(2)," DH"]})]},_e.id))})]})]},ye.id)):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noReturnsForPeriod")})})})]}),Ee=()=>A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("allPurchasesHistory")}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{onClick:()=>{const ye=[p("date"),p("supplier"),p("reference"),p("totalAmount"),p("amountPaid"),p("remainingAmountLabel"),p("paymentMethod")],_e=H.map(be=>{var Ve;return[new Date(be.date).toLocaleDateString(U),((Ve=i.find(Ge=>Ge.id===be.supplierId))==null?void 0:Ve.name)||"N/A",be.reference&&be.reference.startsWith("purchase_ref_")?p(be.reference):be.reference||"",`${be.totalAmount.toFixed(2)} DH`,`${be.amountPaid.toFixed(2)} DH`,`${be.remainingAmount.toFixed(2)} DH`,p(be.paymentMethod)]});Da(p("allPurchasesHistory"),ye,_e,"all_purchases_report",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]}),A.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),A.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:H.length>0?A.jsx("ul",{className:"space-y-4",children:H.slice().reverse().map(ye=>{var _e;return A.jsxs("li",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap gap-2",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("supplier"),": ",((_e=i.find(be=>be.id===ye.supplierId))==null?void 0:_e.name)||"N/A"]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("date"),": ",new Date(ye.date).toLocaleDateString(U)]}),ye.reference&&A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("reference"),": ",ye.reference.startsWith("purchase_ref_")?p(ye.reference):ye.reference]})]}),A.jsxs("div",{className:"text-right rtl:text-left",children:[A.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[ye.totalAmount.toFixed(2)," DH"]}),ye.remainingAmount>0&&A.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[p("remainingDebt"),": ",ye.remainingAmount.toFixed(2)," DH"]})]})]}),A.jsxs("details",{children:[A.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:p("purchaseDetails")}),A.jsxs("table",{className:"w-full text-sm mt-2 border-collapse",children:[A.jsx("thead",{className:"text-slate-600 dark:text-slate-300",children:A.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-700",children:[A.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("product")}),A.jsx("th",{className:"p-2 text-center font-semibold",children:p("quantity")}),A.jsx("th",{className:"p-2 text-center font-semibold",children:p("purchasePrice")}),A.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("total")})]})}),A.jsx("tbody",{className:"bg-white dark:bg-slate-800",children:ye.items.map((be,Ve)=>A.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[A.jsxs("td",{className:"p-2 text-start rtl:text-right font-medium text-slate-800 dark:text-slate-200",children:[be.productName," - ",be.variantName]}),A.jsx("td",{className:"p-2 text-center",children:A.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block min-w-[4ch]",children:be.quantity})}),A.jsx("td",{className:"p-2 text-center",children:A.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block",children:[be.purchasePrice.toFixed(2)," DH"]})}),A.jsx("td",{className:"p-2 text-start rtl:text-right",children:A.jsxs("span",{className:"font-bold text-white bg-blue-600 px-3 py-1 rounded-md inline-block",children:[(be.quantity*be.purchasePrice).toFixed(2)," DH"]})})]},Ve))})]})]})]},ye.id)})}):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:p("noPurchasesRecorded")})})]}),ke=()=>A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("supplierDebtsList")}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("button",{onClick:()=>{const ye=[p("supplier"),p("phone"),p("debtAmount")],_e=Ae.map(be=>[be.supplier.name,be.supplier.phone,`${be.debt.toFixed(2)} DH`]);Da(p("supplierDebtsList"),ye,_e,"supplier_debts_report",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]}),A.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),A.jsx("div",{className:"overflow-x-auto max-h-96",children:A.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[A.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("supplier")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:Ae.length>0?Ae.map(({supplier:ye,debt:_e})=>A.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[A.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:ye.name}),A.jsx("td",{className:"px-6 py-4",children:ye.phone}),A.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[_e.toFixed(2)," DH"]})]},ye.id)):A.jsx("tr",{children:A.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSupplierDebt")})})})]})})]}),xe=()=>{const[ye,_e]=re.useState(""),{reportSales:be,reportReturns:Ve,kpis:Ge}=re.useMemo(()=>{let ze=G,ht=$;ye&&(ze=ze.filter(We=>We.userId===ye),ht=ht.filter(We=>We.userId===ye));const et=ze.reduce((We,cn)=>We+cn.total,0),pt=ht.reduce((We,cn)=>We+cn.refundAmount,0);return{reportSales:ze,reportReturns:ht,kpis:{totalSales:et,totalReturns:pt,netActivity:et-pt,salesCount:ze.length,returnsCount:ht.length}}},[G,$,ye]),ot=re.useMemo(()=>{const ze=be.map(et=>({...et,type:"sale"})),ht=Ve.map(et=>({...et,type:"return"}));return[...ze,...ht].sort((et,pt)=>new Date(pt.date).getTime()-new Date(et.date).getTime())},[be,Ve]);return A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("sellerReportsAndZReport")}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("select",{value:ye,onChange:ze=>_e(ze.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[A.jsx("option",{value:"",children:p("all")}),s.map(ze=>A.jsx("option",{value:ze.id,children:ze.name},ze.id))]}),A.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[A.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-4 rounded-xl text-teal-800 dark:text-teal-200",children:[A.jsx("h3",{className:"font-bold text-md",children:p("netActivity")}),A.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.netActivity.toFixed(2)," ",A.jsx("span",{className:"text-md font-medium",children:"DH"})]})]}),A.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl text-green-800 dark:text-green-200",children:[A.jsx("h3",{className:"font-bold text-md",children:p("totalSales")}),A.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalSales.toFixed(2)," ",A.jsx("span",{className:"text-md font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs",children:p("numberOfSales",{count:Ge.salesCount})})]}),A.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-4 rounded-xl text-orange-800 dark:text-orange-200",children:[A.jsx("h3",{className:"font-bold text-md",children:p("totalReturns")}),A.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalReturns.toFixed(2)," ",A.jsx("span",{className:"text-md font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs",children:p("numberOfReturns",{count:Ge.returnsCount})})]})]}),A.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("transactionList")}),A.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-2",children:ot.length>0?A.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[A.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("date")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("transactionType")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("amount")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:p("details")})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:ot.map(ze=>A.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[A.jsx("td",{className:"px-6 py-4",children:new Date(ze.date).toLocaleString(U)}),A.jsx("td",{className:"px-6 py-4",children:A.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ze.type==="sale"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}`,children:p(ze.type)})}),A.jsxs("td",{className:`px-6 py-4 font-bold ${ze.type==="sale"?"text-green-700 dark:text-green-400":"text-orange-700 dark:text-orange-400"}`,children:[ze.type==="sale"?ze.total.toFixed(2):ze.refundAmount.toFixed(2)," DH"]}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("details",{className:"text-xs",children:[A.jsxs("summary",{className:"cursor-pointer font-semibold text-cyan-700 dark:text-cyan-400",children:[ze.items.length," ",p("itemsLabel")]}),A.jsx("ul",{className:"mt-1 text-slate-600 dark:text-slate-300",children:ze.items.map((ht,et)=>A.jsxs("li",{children:[ht.name," (x",ht.quantity,")"]},et))})]})})]},`${ze.type}-${ze.id}`))})]}):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noTransactionsForSeller")})})]})},Pe=()=>{const ye=Math.ceil(ue.length/ax),_e=ue.slice((O-1)*ax,O*ax);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg flex flex-wrap items-center gap-4",children:[A.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-300",children:p("filterByPeriod")}),A.jsxs("select",{value:y,onChange:be=>w(be.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[A.jsx("option",{value:"all",children:p("all")}),A.jsx("option",{value:"today",children:p("today")}),A.jsx("option",{value:"week",children:p("thisWeek")}),A.jsx("option",{value:"month",children:p("thisMonth")}),A.jsx("option",{value:"custom",children:p("customRange")})]}),y==="custom"&&A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"date",value:S.start,onChange:be=>T({...S,start:be.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"}),A.jsx("input",{type:"date",value:S.end,onChange:be=>T({...S,end:be.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx("button",{onClick:()=>B(!0),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10 bg-purple-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-purple-700 transition-transform hover:scale-110",title:p("customItemsDetails"),children:A.jsx(Aa,{className:"w-6 h-6"})}),A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[A.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-6 rounded-xl shadow text-teal-800 dark:text-teal-200",children:[A.jsx("h3",{className:"font-bold text-lg",children:p("netRevenue")}),A.jsxs("p",{className:"text-3xl font-extrabold",children:[te.toFixed(2)," ",A.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs opacity-80",children:p("totalRevenueMinusReturns")})]}),A.jsxs("div",{className:"bg-cyan-100 dark:bg-cyan-900/50 p-6 rounded-xl shadow text-cyan-800 dark:text-cyan-200",children:[A.jsx("h3",{className:"font-bold text-lg",children:p("netProfit")}),A.jsxs("p",{className:"text-3xl font-extrabold",children:[q.toFixed(2)," ",A.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs opacity-80",children:p("realizedProfitMinusExpenses")})]}),A.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 p-6 rounded-xl shadow text-yellow-800 dark:text-yellow-200 cursor-pointer hover:ring-2 ring-yellow-400 transition-all",onClick:()=>k("debts"),children:[A.jsx("h3",{className:"font-bold text-lg",children:p("customerDebts")}),A.jsxs("p",{className:"text-3xl font-extrabold",children:[Z.toFixed(2)," ",A.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),A.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-6 rounded-xl shadow text-red-800 dark:text-red-200 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("supplierDebts"),children:[A.jsx("h3",{className:"font-bold text-lg",children:p("totalSupplierDebt")}),A.jsxs("p",{className:"text-3xl font-extrabold",children:[me.toFixed(2)," ",A.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),A.jsxs("div",{className:"bg-red-100/70 dark:bg-red-900/30 p-6 rounded-xl shadow text-red-900 dark:text-red-300 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("expenses"),children:[A.jsx("h3",{className:"font-bold text-lg",children:p("totalExpenses")}),A.jsxs("p",{className:"text-3xl font-extrabold",children:[D.toFixed(2)," ",A.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),A.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-6 rounded-xl shadow text-purple-800 dark:text-purple-200 cursor-pointer hover:ring-2 ring-purple-400 transition-all",onClick:()=>k("allPurchases"),children:[A.jsx("h3",{className:"font-bold text-lg",children:p("totalCostOfGoods")}),A.jsxs("p",{className:"text-3xl font-extrabold",children:[ae.toFixed(2)," ",A.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),A.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),A.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1 bg-blue-100 dark:bg-blue-900/50 p-6 rounded-xl shadow text-blue-800 dark:text-blue-200 cursor-pointer hover:ring-2 ring-blue-400 transition-all",onClick:()=>k("sellerReports"),children:[A.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[A.jsx(yS,{})," ",p("sellerReportsAndZReport")]}),A.jsxs("p",{className:"text-3xl font-extrabold",children:[e.length," ",A.jsx("span",{className:"text-lg font-medium",children:p("sales")})]}),A.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesPerformance")}),A.jsxs("button",{onClick:()=>{const be=[p("date"),p("sales")],Ve=le.map(Ge=>[Ge.name,`${(Ge[p("sales")]||0).toFixed(2)} DH`]);Da(p("salesPerformance"),be,Ve,"daily_sales_performance",v,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),A.jsx("div",{style:{width:"100%",height:300},children:A.jsx(l4,{children:A.jsxs(QSe,{data:le,margin:{top:5,right:0,left:0,bottom:5},children:[A.jsx(s8,{stroke:F.grid}),A.jsx(Dy,{dataKey:"name",tick:{fill:F.tick,fontSize:12}}),A.jsx(Ly,{tick:{fill:F.tick,fontSize:12},tickFormatter:be=>`${be}`}),A.jsx(Fa,{contentStyle:F.tooltip,labelStyle:{color:F.tooltip.color},formatter:be=>[`${be.toFixed(2)} DH`,p("sales")]}),A.jsx(sl,{wrapperStyle:{color:F.legend}}),A.jsx($u,{dataKey:p("sales"),fill:F.bar})]})})})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("topSellingProducts")}),A.jsxs("button",{onClick:()=>{const be=[p("product"),p("quantity")],Ve=ce.map(Ge=>[Ge.name,Ge.value]);Da(p("topSellingProducts"),be,Ve,"top_selling_products",v,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),A.jsx("div",{style:{width:"100%",height:300},children:A.jsx(l4,{children:A.jsxs(ZSe,{children:[A.jsx(fs,{data:ce,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:{fill:F.legend},children:ce.map((be,Ve)=>A.jsx(cy,{fill:F.pie[Ve%F.pie.length]},`cell-${Ve}`))}),A.jsx(Fa,{contentStyle:F.tooltip,formatter:(be,Ve)=>[`${be} ${p("units")}`,Ve]}),A.jsx(sl,{wrapperStyle:{color:F.legend}})]})})})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesHistory")}),A.jsxs("button",{onClick:()=>{const be=[p("invoiceNumber"),p("date"),p("customer"),p("total"),p("profit"),p("itemsLabel")],Ve=ue.slice().reverse().map(Ge=>{var ot;return[Ge.id.slice(-6).toUpperCase(),new Date(Ge.date).toLocaleString(U),((ot=o.find(ze=>ze.id===Ge.customerId))==null?void 0:ot.name)||p("cashCustomer"),`${Ge.total.toFixed(2)} DH`,`${Ge.profit.toFixed(2)} DH`,Ge.items.map(ze=>`${ze.name} (x${ze.quantity})`).join(", ")]});Da(p("salesHistory"),be,Ve,"sales_history",v,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ia,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),A.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:A.jsx("ul",{className:"space-y-4",children:_e.length>0?_e.map(be=>{var Ve;return A.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("invoiceNumber")," ",be.id.slice(-6)]}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(be.date).toLocaleString(U)})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"text-left rtl:text-right",children:[A.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[be.total.toFixed(2)," DH"]}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLabel"),": ",be.profit.toFixed(2)," DH"]})]}),A.jsx("button",{onClick:()=>x(be),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:p("print"),children:A.jsx(Dv,{className:"w-5 h-5"})})]})]}),A.jsxs("details",{className:"mt-2 text-sm",children:[A.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:p("viewDetails")}),A.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[A.jsxs("ul",{className:"space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:p("billNumber")})," ",be.id.toUpperCase()]}),be.customerId&&o.find(Ge=>Ge.id===be.customerId)&&A.jsxs("li",{children:[A.jsxs("strong",{children:[p("customer"),":"]})," ",(Ve=o.find(Ge=>Ge.id===be.customerId))==null?void 0:Ve.name]}),be.discount&&be.discount>0&&A.jsxs("li",{className:"font-semibold",children:[A.jsxs("strong",{children:[p("discount"),":"]})," ",A.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",be.discount.toFixed(2)," DH"]})]}),be.remainingAmount>0&&A.jsxs("li",{className:"font-semibold",children:[A.jsx("strong",{children:p("remainingAmountLabel")})," ",A.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[be.remainingAmount.toFixed(2)," DH"]})]})]}),A.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:be.items.map(Ge=>A.jsxs("li",{className:"flex justify-between items-center",children:[A.jsxs("span",{className:"flex items-center gap-2",children:[Ge.type==="service"&&A.jsx(Aa,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),Ge.name," (x",Ge.quantity,")"]}),A.jsxs("span",{children:[(Ge.price*Ge.quantity).toFixed(2)," DH"]})]},Ge.id))})]})]})]},be.id)}):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSalesForPeriod")})})}),ye>1&&A.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[A.jsx("button",{onClick:()=>j(be=>Math.max(1,be-1)),disabled:O===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("previous"),children:A.jsx(yA,{className:"w-5 h-5"})}),A.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[p("page")," ",O," / ",ye]}),A.jsx("button",{onClick:()=>j(be=>Math.min(ye,be+1)),disabled:O===ye,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("next"),children:A.jsx(uf,{className:"w-5 h-5"})})]})]})]})};return A.jsxs("div",{className:"space-y-6",children:[E&&A.jsx(r_e,{expense:E,onClose:()=>M(null),onSave:u,t:p}),I&&A.jsx(n_e,{onClose:()=>B(!1),total:W,sales:Me,customers:o,onReprintInvoice:x,t:p,language:v}),C==="overview"&&A.jsx(Pe,{}),C==="debts"&&A.jsx(Ne,{}),C==="returns"&&A.jsx(oe,{}),C==="expenses"&&A.jsx(De,{}),C==="allPurchases"&&A.jsx(Ee,{}),C==="supplierDebts"&&A.jsx(ke,{}),C==="sellerReports"&&A.jsx(xe,{})]})},a_e=({customer:t,sales:e,debt:n,onClose:r,t:i,language:a})=>{const o=re.useMemo(()=>e.filter(u=>u.customerId===t.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime()),[e,t.id]),s=re.useMemo(()=>o.reduce((u,c)=>u+c.total,0),[o]),l=()=>{const u=new ct;l0(u),u.setFontSize(18);const c=i("purchaseHistoryFor",{name:t.name});u.text(c,u.internal.pageSize.getWidth()/2,20,{align:"center"}),u.setFontSize(12),u.text(`${i("customer")}: ${t.name}`,14,30),u.text(`${i("phone")}: ${t.phone}`,14,36),u.text(`${i("totalPurchases")}: ${s.toFixed(2)} DH`,14,42),u.text(`${i("currentDebt")}: ${n.toFixed(2)} DH`,14,48);const d=[],h=a==="ar"?"ar-MA":"fr-FR";o.forEach(p=>{const v=new Date(p.date).toLocaleDateString(h);d.push([{content:`${i("invoiceNumber")} ${p.id.slice(-6).toUpperCase()} | ${v} | Total: ${p.total.toFixed(2)} DH | ${i("remainingAmountLabel")}: ${p.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),p.items.forEach(b=>{d.push([`  ${b.name}`,b.quantity,b.price.toFixed(2),(b.quantity*b.price).toFixed(2)])})}),s0(u,{startY:60,head:[[i("product"),i("quantity"),i("price"),i("total")]],body:d,theme:"grid",styles:{font:"Amiri",halign:a==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(p){p.column.index>0&&p.cell.raw.colSpan===void 0&&(p.cell.styles.halign="center")}}),u.save(`historique-${t.name.replace(/\s/g,"_")}.pdf`)};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i("purchaseHistoryFor",{name:t.name})}),A.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:A.jsx(Ij,{className:"w-6 h-6"})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[A.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[A.jsx("p",{className:"font-bold",children:i("totalPurchases")}),A.jsxs("p",{className:"text-2xl font-extrabold",children:[s.toFixed(2)," DH"]})]}),A.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-4 rounded-lg text-red-800 dark:text-red-200",children:[A.jsx("p",{className:"font-bold",children:i("currentDebt")}),A.jsxs("p",{className:"text-2xl font-extrabold",children:[n.toFixed(2)," DH"]})]})]}),A.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[A.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:i("invoiceHistory")}),o.length>0?o.map(u=>A.jsxs("details",{className:"p-3 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[A.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-700 dark:text-slate-200",children:[A.jsxs("span",{children:[i("invoiceNumber")," ",u.id.slice(-6)," - ",new Date(u.date).toLocaleDateString(a==="ar"?"ar-MA":"fr-FR")]}),A.jsxs("span",{className:"font-bold text-cyan-600 dark:text-cyan-400",children:[u.total.toFixed(2)," DH"]})]}),A.jsx("ul",{className:"mt-2 pt-2 border-t dark:border-slate-600 text-sm space-y-1",children:u.items.map(c=>A.jsxs("li",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[A.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),A.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]},u.id)):A.jsx("p",{className:"text-center text-slate-500 py-8",children:i("noInvoicesFound")})]}),A.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end gap-3",children:[A.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("close")}),A.jsxs("button",{onClick:l,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center gap-2",children:[A.jsx(Dv,{className:"w-5 h-5"}),i("printReport")]})]})]})})},o_e=({customer:t,debt:e,onClose:n,onPayDebt:r,t:i})=>{const[a,o]=re.useState(""),[s,l]=re.useState(!1),u=async()=>{const c=parseFloat(a);if(isNaN(c)||c<=0||c>e){alert(i("enterValidPayment"));return}l(!0),await r(t.id,c),l(!1),n()};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[A.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[i("debtManagement")," - ",t.name]}),A.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[i("totalDebt")," ",A.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[e.toFixed(2)," DH"]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("paymentAmount")}),A.jsx("input",{type:"number",id:"paymentAmount",value:a,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:e,min:"0.01",step:"0.01",autoFocus:!0})]}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[A.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),A.jsx("button",{onClick:u,disabled:s||!a,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:i(s?"paying":"recordPayment")})]})]})})},ox=15,s_e=({storeId:t,customers:e,sales:n,addCustomer:r,deleteCustomer:i,payCustomerDebt:a,t:o,language:s})=>{const[l,u]=re.useState({name:"",phone:"",email:""}),[c,d]=re.useState(null),[h,p]=re.useState(null),[v,b]=re.useState(null),[x,y]=re.useState(""),[w,S]=re.useState(1);re.useEffect(()=>{S(1)},[x]);const T=re.useMemo(()=>{const F=new Map;return n.forEach(G=>{if(G.customerId&&G.remainingAmount>0){const R=F.get(G.customerId)||0;F.set(G.customerId,R+G.remainingAmount)}}),F},[n]),C=re.useMemo(()=>x?e.filter(F=>F.name.toLowerCase().startsWith(x.toLowerCase())):e,[e,x]),k=re.useMemo(()=>{const F=(w-1)*ox;return C.slice(F,F+ox)},[C,w]),E=Math.ceil(C.length/ox),M=F=>{u(G=>({...G,[F.target.id]:F.target.value}))},I=async F=>{if(F.preventDefault(),b(null),!l.name||!l.phone){b({type:"error",message:o("nameAndPhoneRequired")});return}if(e.some(G=>G.phone===l.phone.trim())){b({type:"error",message:o("customerExistsError",{phone:l.phone.trim()})});return}await r({...l,storeId:t}),u({name:"",phone:"",email:""}),b({type:"success",message:o("customerAddedSuccess",{name:l.name})}),setTimeout(()=>b(null),4e3)},B=async F=>{if(b(null),window.confirm(o("confirmCustomerDelete",{name:F.name}))){try{await i(F.id),b({type:"success",message:o("customerDeletedSuccess",{name:F.name})})}catch(G){const R=T.get(F.id)||0,$=o(G.message||"customerDeleteError",{name:F.name,debt:R.toFixed(2)});b({type:"error",message:$})}setTimeout(()=>b(null),5e3)}},O=()=>{const F=[o("name"),o("phone"),o("email"),o("debt")],G=e.map(R=>[R.name,R.phone,R.email||"N/A",`${(T.get(R.id)||0).toFixed(2)} DH`]);Da(o("customerList"),F,G,"customers_report",s,o("noDataToExport"))},j=F=>{const G=n.filter(te=>te.customerId===F.id&&te.remainingAmount>0).sort((te,D)=>new Date(te.date).getTime()-new Date(D.date).getTime()),R=G.reduce((te,D)=>te+D.remainingAmount,0);if(G.length===0){alert(o("noDebtorCustomers"));return}const $=new ct;l0($),$.setFontSize(18);const H=o("debtReportFor",{name:F.name});$.text(H,$.internal.pageSize.getWidth()/2,20,{align:"center"}),$.setFontSize(12),$.text(`${o("customer")}: ${F.name}`,14,30),$.text(`${o("phone")}: ${F.phone}`,14,36),F.email&&$.text(`${o("email")}: ${F.email}`,14,42),$.setFontSize(14),$.setFont("Amiri","bold"),$.text(`${o("totalDebt")}: ${R.toFixed(2)} DH`,14,52),$.setFont("Amiri","normal");const Y=[],X=s==="ar"?"ar-MA":"fr-FR";G.forEach(te=>{const D=new Date(te.date).toLocaleDateString(X);Y.push([{content:`${o("invoiceNumber")} ${te.id.slice(-6).toUpperCase()} | ${D} | Total: ${te.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${te.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),te.items.forEach(q=>{Y.push([`  ${q.name}`,q.quantity,q.price.toFixed(2),(q.quantity*q.price).toFixed(2)])})}),s0($,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:Y,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(te){te.column.index>0&&te.cell.raw.colSpan===void 0&&(te.cell.styles.halign="center")}}),$.save(`rapport-dette-${F.name.replace(/\s/g,"_")}.pdf`)},U=()=>{const F=e.filter($=>(T.get($.id)||0)>0);if(F.length===0){alert(o("noDebtsToReport"));return}const G=new ct;l0(G);const R=s==="ar"?"ar-MA":"fr-FR";F.forEach(($,H)=>{H>0&&G.addPage();const Y=n.filter(q=>q.customerId===$.id&&q.remainingAmount>0).sort((q,Z)=>new Date(q.date).getTime()-new Date(Z.date).getTime()),X=Y.reduce((q,Z)=>q+Z.remainingAmount,0);G.setFontSize(18);const te=o("debtReportFor",{name:$.name});G.text(te,G.internal.pageSize.getWidth()/2,20,{align:"center"}),G.setFontSize(12),G.text(`${o("customer")}: ${$.name}`,14,30),G.text(`${o("phone")}: ${$.phone}`,14,36),$.email&&G.text(`${o("email")}: ${$.email}`,14,42),G.setFontSize(14),G.setFont("Amiri","bold"),G.text(`${o("totalDebt")}: ${X.toFixed(2)} DH`,14,52),G.setFont("Amiri","normal");const D=[];Y.forEach(q=>{const Z=new Date(q.date).toLocaleDateString(R);D.push([{content:`${o("invoiceNumber")} ${q.id.slice(-6).toUpperCase()} | ${Z} | Total: ${q.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${q.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),q.items.forEach(ne=>{D.push([`  ${ne.name}`,ne.quantity,ne.price.toFixed(2),(ne.quantity*ne.price).toFixed(2)])})}),s0(G,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:D,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(q){q.column.index>0&&q.cell.raw.colSpan===void 0&&(q.cell.styles.halign="center")}})}),G.save("rapport-dettes-clients.pdf")};return A.jsxs(A.Fragment,{children:[c&&A.jsx(o_e,{customer:c,debt:T.get(c.id)||0,onClose:()=>d(null),onPayDebt:a,t:o}),h&&A.jsx(a_e,{customer:h,sales:n,debt:T.get(h.id)||0,onClose:()=>p(null),t:o,language:s}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(yS,{}),o("addNewCustomer")]}),A.jsx("form",{onSubmit:I,children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[A.jsxs("div",{className:"md:col-span-1",children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("name")}),A.jsx("input",{type:"text",id:"name",value:l.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),A.jsxs("div",{className:"md:col-span-1",children:[A.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("phone")}),A.jsx("input",{type:"tel",id:"phone",value:l.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),A.jsxs("div",{className:"md:col-span-1",children:[A.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[o("email")," (",o("optional"),")"]}),A.jsx("input",{type:"email",id:"email",value:l.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M})]}),A.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:o("addCustomer")})]})}),v&&A.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${v.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:v.message})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:o("customerList")}),A.jsx("div",{className:"flex-grow max-w-sm",children:A.jsx("input",{type:"text",placeholder:o("searchByName"),value:x,onChange:F=>y(F.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("button",{onClick:U,className:"bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(Dv,{className:"w-4 h-4"})," ",o("printAllDebtReports")]}),A.jsxs("button",{onClick:O,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ia,{className:"w-4 h-4"})," ",o("exportToPdf")]})]})]}),A.jsxs("div",{className:"overflow-x-auto",children:[A.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[A.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3",children:o("name")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:o("phone")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:o("email")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:o("debt")}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:o("actions")})]})}),A.jsx("tbody",{children:k.map(F=>{const G=T.get(F.id)||0;return A.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[A.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:F.name}),A.jsx("td",{className:"px-6 py-4",children:F.phone}),A.jsx("td",{className:"px-6 py-4",children:F.email||"N/A"}),A.jsxs("td",{className:`px-6 py-4 font-bold ${G>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[G.toFixed(2)," DH"]}),A.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:A.jsxs("div",{className:"flex items-center gap-2",children:[G>0&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>d(F),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200 dark:hover:bg-green-800/50",children:o("manageDebt")}),A.jsx("button",{onClick:()=>j(F),className:"text-cyan-600 hover:text-cyan-700 p-1 rounded-full hover:bg-cyan-100 dark:hover:bg-cyan-900/50",title:o("printDebtReport"),children:A.jsx(wq,{className:"w-5 h-5"})})]}),A.jsx("button",{onClick:()=>p(F),className:"text-blue-600 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50",title:o("history"),children:A.jsx(Aq,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>B(F),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:o("delete"),children:A.jsx(ni,{className:"w-5 h-5"})})]})})]},F.id)})})]}),E>1&&A.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[A.jsx("button",{onClick:()=>S(F=>Math.max(1,F-1)),disabled:w===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("previous"),children:A.jsx(yA,{className:"w-5 h-5"})}),A.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[o("page")," ",w," / ",E]}),A.jsx("button",{onClick:()=>S(F=>Math.min(E,F+1)),disabled:w===E,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("next"),children:A.jsx(uf,{className:"w-5 h-5"})})]}),k.length===0&&A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:o(x?"noResultsFound":"noCustomersAdded")})]})]})]})]})},l_e=({supplier:t,purchases:e,onClose:n,t:r,language:i})=>{const a=i==="ar"?"ar-MA":"fr-FR";return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("purchaseHistoryFor",{name:t.name})}),A.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:r("noPurchasesYet")}):A.jsx("ul",{className:"space-y-4",children:e.slice().reverse().map(o=>A.jsxs("li",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[r("purchaseDate"),": ",new Date(o.date).toLocaleDateString(a)]}),o.reference&&A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[r("reference"),": ",o.reference]})]}),A.jsxs("div",{className:"text-right rtl:text-left",children:[A.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[o.totalAmount.toFixed(2)," DH"]}),o.remainingAmount>0&&A.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[r("remainingDebt"),": ",o.remainingAmount.toFixed(2)," DH"]})]})]}),A.jsxs("details",{children:[A.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:r("purchaseDetails")}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm mt-2 text-slate-700 dark:text-slate-600",children:[A.jsx("thead",{className:"bg-gray-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:A.jsxs("tr",{className:i==="ar"?"text-right":"text-left",children:[A.jsx("th",{className:"p-2 font-semibold",children:r("product")}),A.jsx("th",{className:"p-2 font-semibold text-center",children:r("quantity")}),A.jsx("th",{className:"p-2 font-semibold text-center",children:r("purchasePrice")}),A.jsx("th",{className:"p-2 font-semibold",children:r("total")})]})}),A.jsx("tbody",{children:o.items.map((s,l)=>A.jsxs("tr",{className:`border-b dark:border-slate-600 ${i==="ar"?"text-right":"text-left"}`,children:[A.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[s.productName," - ",s.variantName]}),A.jsx("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:s.quantity}),A.jsxs("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:[s.purchasePrice.toFixed(2)," DH"]}),A.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[(s.quantity*s.purchasePrice).toFixed(2)," DH"]})]},s.variantId+l))})]})})]})]},o.id))})}),A.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:A.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})})]})})},u_e=({supplier:t,products:e,variants:n,categories:r,onClose:i,onSave:a,addProduct:o,t:s,storeId:l})=>{const[u,c]=re.useState([]),[d,h]=re.useState(""),[p,v]=re.useState(!1),[b,x]=re.useState(""),[y,w]=re.useState(""),[S,T]=re.useState(""),[C,k]=re.useState([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}]),[E,M]=re.useState("cash"),[I,B]=re.useState(""),O=fe.useRef(null),j=fe.useRef(null),[U,F]=re.useState(null),G=re.useMemo(()=>u.reduce((W,le)=>W+le.quantity*le.purchasePrice,0),[u]);re.useEffect(()=>{B(G>0?G:"")},[G]);const R=G-(typeof I=="number"?I:0),$=()=>{var ce;const W=(ce=j.current)==null?void 0:ce.value;if(!W||!U)return;const le=n.find(ue=>ue.id===W);le&&(c(ue=>[...ue,{variantId:le.id,productId:U.id,productName:U.name,variantName:le.name,quantity:1,purchasePrice:le.purchasePrice||0}]),F(null))},H=()=>{k(W=>[...W,{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},Y=W=>{k(le=>le.filter((ce,ue)=>ue!==W))},X=(W,le,ce)=>{const ue=[...C];ue[W][le]=ce,k(ue)},te=W=>{if(W.target.files&&W.target.files[0]){const le=W.target.files[0],ce=new FileReader;ce.onloadend=()=>{w(ce.result)},ce.readAsDataURL(le)}},D=(W,le)=>{if(le.target.files&&le.target.files[0]){const ce=le.target.files[0],ue=new FileReader;ue.onloadend=()=>{const Me=[...C];Me[W].image=ue.result,k(Me)},ue.readAsDataURL(ce)}},q=async W=>{if(W.preventDefault(),!b||C.some(De=>!De.name||De.price<=0||De.purchasePrice<=0||De.price<=De.purchasePrice)){alert(s("sellingPriceMustBeHigherError"));return}const le={name:b,image:y||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(b)}`,type:"good",storeId:l,createdAt:new Date().toISOString(),supplierId:t.id,categoryId:S||void 0},{product:ce,variants:ue}=await o(le,C),Me=ue.map((De,Ne)=>({variantId:De.id,productId:ce.id,productName:ce.name,variantName:De.name,quantity:C[Ne].stockQuantity||1,purchasePrice:De.purchasePrice}));c(De=>[...De,...Me]),v(!1),x(""),w(""),T(""),k([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},Z=(W,le,ce)=>{const ue=[...u];ue[W]={...ue[W],[le]:Math.max(0,ce)},c(ue)},ne=W=>{c(u.filter((le,ce)=>ce!==W))},ae=async()=>{if(u.length===0){alert(s("noProductsInPurchase"));return}const W={storeId:l,supplierId:t.id,date:new Date().toISOString(),items:u,totalAmount:G,reference:d,amountPaid:typeof I=="number"?I:0,paymentMethod:E,remainingAmount:R};await a(W),i()},me=e.filter(W=>W.type==="good"&&!u.some(le=>le.productId===W.id)),Ae=n.filter(W=>W.productId===(U==null?void 0:U.id)&&!u.some(le=>le.variantId===W.id));return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:s("newPurchaseFor",{name:t.name})}),A.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("reference")}),A.jsx("input",{type:"text",value:d,onChange:W=>h(W.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:s("referencePlaceholder")})]}),A.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[A.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:s("addProductsToPurchase")}),p?A.jsxs("form",{onSubmit:q,className:"space-y-4 p-4 border-2 border-dashed rounded-lg bg-white dark:bg-slate-700",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h5",{className:"font-bold text-gray-700 dark:text-gray-300 text-lg",children:s("productInfo")}),A.jsx("button",{type:"button",onClick:()=>v(!1),className:"text-sm text-red-600 hover:underline",children:s("cancel")})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[A.jsx("img",{src:y||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${s("productImagePreview")}`,alt:"Product Preview",className:"w-24 h-24 object-cover rounded-lg mb-4 bg-gray-200"}),A.jsx("input",{type:"file",accept:"image/*",onChange:te,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),A.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 gap-4",children:[A.jsx("input",{type:"text",value:b,onChange:W=>x(W.target.value),placeholder:s("productNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500 text-base",required:!0}),A.jsxs("select",{value:S,onChange:W=>T(W.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",children:[A.jsx("option",{value:"",children:s("selectCategory")}),r.map(W=>A.jsx("option",{value:W.id,children:W.name},W.id))]})]})]}),A.jsxs("div",{className:"flex justify-between items-center mb-4 mt-4 pt-4 border-t-2 border-dashed dark:border-slate-600",children:[A.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:s("productVariants")}),A.jsxs("button",{type:"button",onClick:H,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[A.jsx(al,{className:"w-5 h-5"}),s("addVariant")]})]}),C.map((W,le)=>A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-600/50 rounded-lg border dark:border-slate-500 relative",children:[A.jsx("button",{type:"button",onClick:()=>Y(le),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 text-red-500 hover:text-red-700 z-10",children:A.jsx(ni,{className:"w-5 h-5"})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[A.jsx("img",{src:W.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${s("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2"}),A.jsx("input",{type:"file",accept:"image/*",onChange:ce=>D(le,ce),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),A.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"sm:col-span-3",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("variantName")}),A.jsx("input",{type:"text",value:W.name,onChange:ce=>X(le,"name",ce.target.value),placeholder:s("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("purchasePrice")}),A.jsx("input",{type:"number",value:W.purchasePrice,onChange:ce=>X(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("sellingPrice")}),A.jsx("input",{type:"number",value:W.price,onChange:ce=>X(le,"price",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("semiWholesalePrice")}),A.jsx("input",{type:"number",value:W.priceSemiWholesale||"",onChange:ce=>X(le,"priceSemiWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("wholesalePrice")}),A.jsx("input",{type:"number",value:W.priceWholesale||"",onChange:ce=>X(le,"priceWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("quantity")}),A.jsx("input",{type:"number",step:"0.5",value:W.stockQuantity,onChange:ce=>X(le,"stockQuantity",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0.5"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("lowStockThreshold")}),A.jsx("input",{type:"number",value:W.lowStockThreshold,onChange:ce=>X(le,"lowStockThreshold",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.5"})]}),A.jsxs("div",{className:"sm:col-span-3",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("barcode")}),A.jsx("input",{type:"text",value:W.barcode||"",onChange:ce=>X(le,"barcode",ce.target.value),placeholder:s("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500"})]})]})]})]},le)),A.jsx("div",{className:"flex justify-end gap-2",children:A.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg text-sm",children:s("saveAndAddToList")})})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.jsxs("select",{ref:O,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",onChange:W=>F(e.find(le=>le.id===W.target.value)||null),children:[A.jsx("option",{value:"",children:s("selectProducts")}),me.map(W=>A.jsx("option",{value:W.id,children:W.name},W.id))]}),U&&A.jsxs(A.Fragment,{children:[A.jsxs("select",{ref:j,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",children:[A.jsx("option",{value:"",children:s("selectVariant")}),Ae.map(W=>A.jsx("option",{value:W.id,children:W.name},W.id))]}),A.jsx("button",{onClick:$,className:"bg-teal-600 text-white font-bold p-2 px-3 rounded-lg hover:bg-teal-700 flex items-center justify-center",children:A.jsx(al,{className:"w-5 h-5"})})]})]}),A.jsxs("div",{className:"text-center mt-4 p-3 bg-slate-100 dark:bg-slate-600 rounded-lg flex items-center justify-center gap-4",children:[A.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:s("orAddNewProductPrompt")}),A.jsx("button",{type:"button",onClick:()=>v(!0),className:"font-semibold text-teal-700 dark:text-teal-300 bg-teal-200 dark:bg-teal-800/50 hover:bg-teal-300 dark:hover:bg-teal-800 px-4 py-2 rounded-lg transition-colors text-sm",children:s("addNewProductButton")})]})]})]}),A.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[u.length>0&&A.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-2 text-sm font-bold text-gray-700 dark:text-gray-300 bg-slate-200 dark:bg-slate-600 rounded-t-lg",children:[A.jsx("span",{className:"col-span-5 px-2",children:s("product")}),A.jsx("span",{className:"col-span-2 text-center",children:s("quantity")}),A.jsx("span",{className:"col-span-2 text-center",children:s("purchasePrice")}),A.jsx("span",{className:"col-span-2 text-center",children:s("total")}),A.jsx("span",{className:"col-span-1"})]}),u.map((W,le)=>A.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-1 bg-white dark:bg-slate-700 border-b dark:border-slate-600",children:[A.jsxs("span",{className:"col-span-5 font-semibold text-slate-800 dark:text-slate-100 px-2 text-xs",children:[W.productName," - ",W.variantName]}),A.jsx("div",{className:"col-span-2",children:A.jsx("input",{type:"number",min:"0.5",step:"0.5",value:W.quantity,onChange:ce=>Z(le,"quantity",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),A.jsx("div",{className:"col-span-2",children:A.jsx("input",{type:"number",min:"0",step:"0.01",value:W.purchasePrice,onChange:ce=>Z(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),A.jsx("div",{className:"col-span-2 flex justify-center",children:A.jsx("span",{className:"font-bold text-white bg-blue-500 px-3 py-1 rounded-md text-sm",children:(W.quantity*W.purchasePrice).toFixed(2)})}),A.jsx("button",{onClick:()=>ne(le),className:"col-span-1 text-red-500 hover:text-red-700 justify-self-center",children:A.jsx(ni,{className:"w-5 h-5"})})]},W.variantId+le))]})]}),A.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("paymentMethod")}),A.jsxs("select",{value:E,onChange:W=>M(W.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[A.jsx("option",{value:"cash",children:s("cash")}),A.jsx("option",{value:"card",children:s("card")}),A.jsx("option",{value:"transfer",children:s("transfer")}),A.jsx("option",{value:"check",children:s("check")})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("amountPaid")}),A.jsx("input",{type:"number",value:I,onChange:W=>B(W.target.value===""?"":parseFloat(W.target.value)||0),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",max:G,step:"0.01",placeholder:s("pricePlaceholder")})]})]}),A.jsxs("div",{className:"space-y-3 text-right rtl:text-left",children:[A.jsxs("div",{className:"bg-blue-600 text-white font-bold text-xl p-3 rounded-lg inline-block",children:[A.jsxs("span",{children:[s("totalAmount"),": "]}),A.jsxs("span",{children:[G.toFixed(2)," DH"]})]}),A.jsxs("div",{className:`font-bold text-2xl ${R>0?"text-red-500":"text-green-600"}`,children:[A.jsxs("span",{children:[s("remainingDebt"),": "]}),A.jsxs("span",{children:[R.toFixed(2)," DH"]})]})]}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:i,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:s("cancel")}),A.jsx("button",{type:"button",onClick:ae,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:s("completePurchase")})]})]})]})})},c_e=({supplier:t,purchasesWithDebt:e,onClose:n,onSavePayments:r,totalDebt:i,t:a})=>{const[o,s]=re.useState(""),l=async()=>{let u=parseFloat(o);if(isNaN(u)||u<=0||u>i){alert(a("enterValidPayment"));return}const c=[],d=[...e].sort((h,p)=>new Date(h.date).getTime()-new Date(p.date).getTime());for(const h of d){if(u<=0)break;const p=Math.min(u,h.remainingAmount),v={...h,amountPaid:h.amountPaid+p,remainingAmount:h.remainingAmount-p};c.push(v),u-=p}await r(c),n()};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[A.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[a("managePayments")," - ",t.name]}),A.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[a("totalDebt"),": ",A.jsxs("span",{className:"font-bold text-red-600",children:[i.toFixed(2)," DH"]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("amountToPay")}),A.jsx("input",{type:"number",id:"paymentAmount",value:o,onChange:u=>s(u.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:i,min:"0.01",step:"0.01",autoFocus:!0})]}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[A.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")}),A.jsx("button",{onClick:l,disabled:!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:a("recordPayment")})]})]})})},sx=15,d_e=({storeId:t,suppliers:e,products:n,variants:r,purchases:i,categories:a,addSupplier:o,deleteSupplier:s,addPurchase:l,updatePurchase:u,addProduct:c,t:d,language:h})=>{const[p,v]=re.useState({name:"",phone:"",email:""}),[b,x]=re.useState(null),[y,w]=re.useState(null),[S,T]=re.useState(null),[C,k]=re.useState(null),[E,M]=re.useState(""),[I,B]=re.useState(1);re.useEffect(()=>{B(1)},[E]);const O=re.useMemo(()=>{const X=new Map;return i.forEach(te=>{if(te.remainingAmount>0&&te.supplierId){const D=X.get(te.supplierId)||0;X.set(te.supplierId,D+te.remainingAmount)}}),X},[i]),j=re.useMemo(()=>E?e.filter(X=>X.name.toLowerCase().startsWith(E.toLowerCase())):e,[e,E]),U=re.useMemo(()=>{const X=(I-1)*sx;return j.slice(X,X+sx)},[j,I]),F=Math.ceil(j.length/sx),G=X=>{v(te=>({...te,[X.target.id]:X.target.value}))},R=async X=>{if(X.preventDefault(),x(null),!p.name||!p.phone){x({type:"error",message:d("nameAndPhoneRequired")});return}if(e.some(te=>te.phone===p.phone.trim())){x({type:"error",message:d("supplierExistsError",{phone:p.phone.trim()})});return}await o({...p,storeId:t}),v({name:"",phone:"",email:""}),x({type:"success",message:d("supplierAddedSuccess",{name:p.name})}),setTimeout(()=>x(null),4e3)},$=async(X,te)=>{if(window.confirm(d("confirmSupplierDelete",{name:te}))){try{await s(X),x({type:"success",message:d("supplierDeletedSuccess",{name:te})})}catch(D){x({type:"error",message:d(D.message,{name:te,debt:"..."})||d("supplierDeleteError")})}setTimeout(()=>x(null),5e3)}},H=async X=>{await Promise.all(X.map(te=>u(te))),alert(d("paymentRecorded"))},Y=()=>{const X=[d("name"),d("phone"),d("supplierDebt")],te=e.map(D=>[D.name,D.phone,`${(O.get(D.id)||0).toFixed(2)} DH`]);Da(d("supplierList"),X,te,"suppliers_report",h,d("noDataToExport"))};return A.jsxs(A.Fragment,{children:[y&&A.jsx(u_e,{supplier:y,products:n,variants:r,categories:a,onClose:()=>w(null),onSave:l,addProduct:c,t:d,storeId:t}),S&&A.jsx(l_e,{supplier:S,purchases:i.filter(X=>X.supplierId===S.id),onClose:()=>T(null),t:d,language:h}),C&&A.jsx(c_e,{supplier:C,purchasesWithDebt:i.filter(X=>X.supplierId===C.id&&X.remainingAmount>0),totalDebt:O.get(C.id)||0,onClose:()=>k(null),onSavePayments:H,t:d}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(Mj,{}),d("addNewSupplier")]}),A.jsx("form",{onSubmit:R,children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[A.jsxs("div",{className:"md:col-span-1",children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("name")}),A.jsx("input",{type:"text",id:"name",value:p.name,onChange:G,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{className:"md:col-span-1",children:[A.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:d("phone")}),A.jsx("input",{type:"tel",id:"phone",value:p.phone,onChange:G,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{className:"md:col-span-1",children:[A.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[d("email")," (",d("optional"),")"]}),A.jsx("input",{type:"email",id:"email",value:p.email,onChange:G,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),A.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:d("addSupplier")})]})}),b&&A.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${b.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:b.message})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:d("supplierList")}),A.jsx("div",{className:"flex-grow max-w-sm",children:A.jsx("input",{type:"text",placeholder:d("searchByName"),value:E,onChange:X=>M(X.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),A.jsxs("button",{onClick:Y,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(ia,{className:"w-4 h-4"})," ",d("exportToPdf")]})]}),A.jsxs("div",{className:"overflow-x-auto",children:[A.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[A.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3",children:d("name")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:d("phone")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:d("supplierDebt")}),A.jsx("th",{scope:"col",className:"px-6 py-3",children:d("actions")})]})}),A.jsx("tbody",{children:U.map(X=>{const te=O.get(X.id)||0;return A.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[A.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:X.name}),A.jsx("td",{className:"px-6 py-4",children:X.phone}),A.jsx("td",{className:`px-6 py-4 font-bold ${te>0?"text-red-500":"text-green-600"}`,children:te>0?`${te.toFixed(2)} DH`:d("noDebt")}),A.jsxs("td",{className:"px-6 py-4 flex gap-2 flex-wrap items-center",children:[A.jsx("button",{onClick:()=>w(X),className:"text-sm font-semibold text-teal-600 bg-teal-100 dark:bg-teal-900/50 hover:bg-teal-200 dark:hover:bg-teal-800/50 px-3 py-1 rounded-full",children:d("newPurchase")}),A.jsx("button",{onClick:()=>T(X),className:"text-sm font-semibold text-cyan-600 bg-cyan-100 dark:bg-cyan-900/50 hover:bg-cyan-200 dark:hover:bg-cyan-800/50 px-3 py-1 rounded-full",children:d("purchaseHistory")}),te>0&&A.jsx("button",{onClick:()=>k(X),className:"text-sm font-semibold text-green-600 bg-green-100 dark:bg-green-900/50 hover:bg-green-200 dark:hover:bg-green-800/50 px-3 py-1 rounded-full",children:d("managePayments")}),A.jsx("button",{onClick:()=>$(X.id,X.name),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:d("delete"),children:A.jsx(ni,{className:"w-5 h-5"})})]})]},X.id)})})]}),F>1&&A.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[A.jsx("button",{onClick:()=>B(X=>Math.max(1,X-1)),disabled:I===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":d("previous"),children:A.jsx(yA,{className:"w-5 h-5"})}),A.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[d("page")," ",I," / ",F]}),A.jsx("button",{onClick:()=>B(X=>Math.min(F,X+1)),disabled:I===F,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":d("next"),children:A.jsx(uf,{className:"w-5 h-5"})})]}),U.length===0&&A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:d(E?"noResultsFound":"noSuppliersAdded")})]})]})]})]})},f_e=({category:t,onClose:e,onSave:n,t:r})=>{const[i,a]=re.useState(t.name),o=s=>{s.preventDefault(),n({...t,name:i.trim()})};return A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editCategory")}),A.jsxs("form",{onSubmit:o,children:[A.jsx("label",{htmlFor:"editCategoryName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("categoryName")}),A.jsx("input",{id:"editCategoryName",type:"text",value:i,onChange:s=>a(s.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0}),A.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[A.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),A.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},h_e=({storeId:t,categories:e,addCategory:n,updateCategory:r,deleteCategory:i,t:a,language:o})=>{const[s,l]=re.useState(""),[u,c]=re.useState(null),[d,h]=re.useState(null),p=()=>{setTimeout(()=>c(null),4e3)},v=async y=>{y.preventDefault(),c(null);const w=s.trim();if(!w){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(S=>S.name.toLowerCase()===w.toLowerCase())){c({type:"error",message:a("categoryExistsError",{name:w})}),p();return}await n({name:w,storeId:t}),l(""),c({type:"success",message:a("categoryAddedSuccess",{name:w})}),p()},b=async y=>{if(c(null),!y.name){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(w=>w.name.toLowerCase()===y.name.toLowerCase()&&w.id!==y.id)){c({type:"error",message:a("categoryExistsError",{name:y.name})}),p();return}await r(y),h(null),c({type:"success",message:a("categoryUpdatedSuccess",{name:y.name})}),p()},x=async y=>{if(c(null),window.confirm(a("confirmCategoryDelete",{name:y.name}))){try{await i(y.id),c({type:"success",message:a("categoryDeletedSuccess",{name:y.name})})}catch{c({type:"error",message:a("categoryDeleteError")})}p()}};return A.jsxs(A.Fragment,{children:[d&&A.jsx(f_e,{category:d,onClose:()=>h(null),onSave:b,t:a}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(Oj,{}),a("addNewCategory")]}),A.jsxs("form",{onSubmit:v,className:"grid sm:grid-cols-3 gap-4 items-end",children:[A.jsxs("div",{className:"sm:col-span-2",children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("categoryName")}),A.jsx("input",{type:"text",id:"name",value:s,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("add")})]}),u&&A.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${u.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:u.message})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:a("categoryList")}),A.jsxs("div",{className:"mt-4 overflow-x-auto",children:[A.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400",children:[A.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3",children:a("categoryName")}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-right rtl:text-left",children:a("actions")})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(y=>A.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[A.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:y.name}),A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center justify-end gap-4",children:[A.jsx("button",{onClick:()=>h(y),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:a("edit"),children:A.jsx(Ov,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>x(y),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:a("delete"),children:A.jsx(ni,{className:"w-5 h-5"})})]})})]},y.id))})]}),e.length===0&&A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noCategoriesAdded")})]})]})]})]})},YP="https://storage.googleapis.com/appmaker-310316.appspot.com/user_4a0de5b0722a4666a2657c793742469a/app_primo_4f5f590457634f19b16ab20c918a38b2/1721066782500_834",Ad=({url:t,className:e})=>{const n=t||YP,r=i=>{i.currentTarget.src=YP};return A.jsx("img",{src:n,alt:"Logo du magasin",className:e,onError:r})},p_e=({activeUser:t,store:e,storeId:n,users:r,addUser:i,updateUser:a,deleteUser:o,onUpdateStore:s,onBackup:l,onRestore:u,t:c})=>{const[d,h]=re.useState({name:"",pin:""}),[p,v]=re.useState({}),[b,x]=re.useState({current:"",new:"",confirm:""}),[y,w]=re.useState({name:e.name,address:e.address,ice:e.ice,logo:e.logo,enableAiReceiptScan:e.enableAiReceiptScan}),[S,T]=re.useState(null),[C,k]=re.useState(!1),[E,M]=re.useState(""),I=re.useMemo(()=>r.find(te=>te.role==="admin"),[r]),B=re.useMemo(()=>r.filter(te=>te.role==="seller"),[r]),O=()=>setTimeout(()=>T(null),4e3),j=async te=>{if(te.preventDefault(),!d.name||!d.pin){T({type:"error",message:c("fillAllFields")}),O();return}if(d.pin.length<4){T({type:"error",message:c("pinMustBe4Chars")}),O();return}if(r.some(D=>D.name.toLowerCase()===d.name.trim().toLowerCase())){T({type:"error",message:c("userExistsError",{name:d.name})}),O();return}await i({...d,storeId:n,role:"seller"}),T({type:"success",message:c("userAddedSuccess",{name:d.name})}),h({name:"",pin:""}),O()},U=async te=>{const D=p[te.id];if(!D||D.length<4){T({type:"error",message:c("pinMustBe4Chars")}),O();return}await a({...te,pin:D}),v(q=>{const Z={...q};return delete Z[te.id],Z}),T({type:"success",message:c("pinUpdatedForUser",{name:te.name})}),O()},F=async te=>{window.confirm(c("confirmUserDelete",{name:te.name}))&&await o(te.id)},G=async te=>{if(te.preventDefault(),!b.current||!b.new||!b.confirm){T({type:"error",message:c("fillAllFields")}),O();return}if(b.new!==b.confirm){T({type:"error",message:c("passwordsDoNotMatch")}),O();return}if(b.new.length<4){T({type:"error",message:c("pinMustBe4Chars")}),O();return}I&&(await a({...I,password:b.new}),T({type:"success",message:c("passwordChangedSuccess")}),x({current:"",new:"",confirm:""}),O())},R=te=>{w(D=>({...D,[te.target.id]:te.target.value}))},$=te=>{if(te.target.files&&te.target.files[0]){const D=te.target.files[0],q=new FileReader;q.onloadend=()=>{w(Z=>({...Z,logo:q.result}))},q.readAsDataURL(D)}},H=async te=>{te.preventDefault();try{await s(y),T({type:"success",message:c("storeUpdateSuccess")})}catch{T({type:"error",message:c("storeUpdateError")})}O()},Y=te=>{if(te.target.files&&te.target.files[0]){const D=te.target.files[0],q=new FileReader;q.onload=Z=>{var ae;const ne=(ae=Z.target)==null?void 0:ae.result;if(typeof ne=="string"){const me=ne.replace(/"(?:logo|image)":\s*"data:image\/[^"]+"/g,'"$1": ""');u(me)}else alert(c("restoreError"))},q.readAsText(D)}te.target.value=""},X=()=>{if(E.trim()){const te=E.replace(/"(?:logo|image)":\s*"data:image\/[^"]+"/g,'"$1": ""');u(te),k(!1),M("")}};return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(jj,{}),c("settings")]}),A.jsxs("form",{onSubmit:j,className:"space-y-4 mb-6",children:[A.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:c("addSeller")}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[A.jsxs("div",{className:"md:col-span-1",children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("userName")}),A.jsx("input",{type:"text",id:"name",value:d.name,onChange:te=>h({...d,name:te.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{className:"md:col-span-1",children:[A.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("pinMin4Digits")}),A.jsx("input",{type:"password",id:"pin",value:d.pin,onChange:te=>h({...d,pin:te.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:c("add")})]})]}),A.jsxs("div",{className:"space-y-4 border-t pt-4 dark:border-slate-700",children:[A.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:c("userList")}),A.jsxs("ul",{className:"space-y-3",children:[I&&A.jsxs("li",{className:"p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[A.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[I.name," ",A.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-cyan-200 text-cyan-800 dark:bg-cyan-900/50 dark:text-cyan-300",children:c("admin")})]}),A.jsxs("details",{className:"mt-2",children:[A.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-cyan-700 dark:text-cyan-400",children:c("changePassword")}),A.jsxs("form",{onSubmit:G,className:"mt-2 space-y-2 p-2 bg-white dark:bg-slate-700 rounded-md",children:[A.jsx("input",{type:"password",placeholder:c("currentPassword"),value:b.current,onChange:te=>x(D=>({...D,current:te.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),A.jsx("input",{type:"password",placeholder:c("newPassword"),value:b.new,onChange:te=>x(D=>({...D,new:te.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),A.jsx("input",{type:"password",placeholder:c("confirmNewPassword"),value:b.confirm,onChange:te=>x(D=>({...D,confirm:te.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),A.jsx("button",{type:"submit",className:"text-xs w-full bg-blue-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-blue-700",children:c("changePassword")})]})]})]}),B.map(te=>A.jsxs("li",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[A.jsxs("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:[te.name," ",A.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-gray-200 text-gray-800 dark:bg-slate-600 dark:text-slate-300",children:c("seller")})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"password",placeholder:c("newPin"),onChange:D=>v({...p,[te.id]:D.target.value}),className:"w-28 text-sm px-2 py-1 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500"}),A.jsx("button",{onClick:()=>U(te),className:"text-cyan-600 hover:text-cyan-800",title:c("save"),children:A.jsx(m2,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>F(te),className:"text-red-600 hover:text-red-800",title:c("delete"),children:A.jsx(ni,{className:"w-5 h-5"})})]})]},te.id))]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(bS,{}),c("storeSettings")]}),A.jsxs("form",{onSubmit:H,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("storeNameLabel")}),A.jsx("input",{type:"text",id:"name",value:y.name,onChange:R,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"ice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("storeICE")}),A.jsx("input",{type:"text",id:"ice",value:y.ice||"",onChange:R,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("storeAddress")}),A.jsx("input",{type:"text",id:"address",value:y.address||"",onChange:R,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:c("storeLogoLabel")}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx(Ad,{url:y.logo,className:"w-16 h-16 rounded-lg bg-gray-200 object-cover"}),A.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:$,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]})]}),A.jsxs("div",{className:"flex items-center gap-4 p-3 bg-purple-50 dark:bg-purple-900/50 rounded-lg",children:[A.jsx(Aa,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),A.jsx("label",{htmlFor:"enableAiReceiptScan",className:"font-semibold text-slate-700 dark:text-slate-200",children:c("enableAiScan")}),A.jsx("input",{type:"checkbox",id:"enableAiReceiptScan",checked:y.enableAiReceiptScan||!1,onChange:te=>w(D=>({...D,enableAiReceiptScan:te.target.checked})),className:"ml-auto w-5 h-5 text-teal-600 bg-gray-100 border-gray-300 rounded focus:ring-teal-500 dark:focus:ring-teal-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]}),A.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700",children:c("saveStoreChanges")})]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(bq,{}),c("backupAndRestore")]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[A.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-2",children:c("backupButton")}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("backupDescription")}),A.jsxs("button",{onClick:l,className:"w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[A.jsx(ia,{className:"w-5 h-5"})," ",c("backupButton")]})]}),A.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[A.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-2",children:c("restoreButton")}),A.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 mb-4",children:c("restoreDescription")}),A.jsxs("button",{onClick:()=>k(!0),className:"w-full bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2 mb-3",children:[A.jsx(yq,{className:"w-5 h-5"})," ",c("restoreFromText")]}),A.jsxs("label",{className:"text-center block text-sm text-slate-500 dark:text-slate-400 cursor-pointer hover:text-teal-600 dark:hover:text-teal-400",children:[c("restoreFromFileAlternative"),A.jsx("input",{type:"file",accept:".json",onChange:Y,className:"hidden"})]})]})]})]}),S&&A.jsx("div",{className:`fixed bottom-4 right-4 z-50 p-4 rounded-lg shadow-xl text-sm font-semibold ${S.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/70 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200"}`,children:S.message}),C&&A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:c("restoreFromText")}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:c("restoreFromTextDescription")}),A.jsx("textarea",{value:E,onChange:te=>M(te.target.value),placeholder:c("pasteBackupContent"),className:"w-full h-64 p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 font-mono text-xs"}),A.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[A.jsx("button",{onClick:()=>k(!1),className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:c("cancel")}),A.jsx("button",{onClick:X,className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700",children:c("restoreButton")})]})]})})]})},A_e=({store:t,t:e})=>{if(!t.trialStartDate)return null;const n=new Date(t.trialStartDate),r=new Date(n);r.setDate(n.getDate()+(t.trialDurationDays??7));const i=r.getTime()-new Date().getTime();if(i<=0)return null;const a=Math.ceil(i/(1e3*60*60*24));return A.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 text-center p-2 text-sm font-semibold sticky top-0 z-40",children:e("trialDaysRemaining",{days:a})})},m_e=({onLoginAsStoreAdmin:t,onGoToDashboard:e,onLogout:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=re.useState([]);re.useEffect(()=>{(async()=>{const h=await Tj();u(h.sort((p,v)=>p.name.localeCompare(v.name)))})()},[]);const c=async d=>{try{const h=await Cj(d.id);h?t(h,d):alert(r("noAdminForStore"))}catch(h){console.error("Failed to login as admin:",h),alert(`${r("unknownError")}: ${h.message}`)}};return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[A.jsx("header",{className:"absolute top-0 left-0 right-0 p-4",children:A.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?A.jsx(Iv,{className:"w-5 h-5"}):A.jsx(jv,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"العربية":"Français"})]}),A.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[A.jsx(gS,{className:"w-5 h-5"}),A.jsx("span",{children:r("logout")})]})]})}),A.jsxs("div",{className:"text-center w-full max-w-4xl",children:[A.jsx(kj,{className:"w-64 h-auto mx-auto mb-6"}),A.jsxs("div",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[A.jsx("p",{children:"by Eventhorizon solution"}),A.jsx("p",{children:"0622119357"})]}),A.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-8",children:r("superAdminPortal")}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",children:[A.jsx(vS,{className:"w-12 h-12 text-teal-500 mx-auto mb-4"}),A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("manageAllStores")}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("manageAllStoresDesc")})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsx(bS,{className:"w-12 h-12 text-cyan-500 mx-auto mb-4"}),A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("loginToStore")}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("loginToStoreDesc")}),A.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700",children:[A.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-300 mb-3",children:r("selectStoreToLogin")}),A.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:l.length>0?l.map(d=>A.jsxs("button",{onClick:()=>c(d),className:"w-full text-left rtl:text-right flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[A.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:d.name}),A.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-1 text-sm",children:[r("loginAsAdmin")," ",A.jsx(uf,{className:"w-4 h-4"})]})]},d.id)):A.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("noStoresAdded")})})]})]})]})]})]})},og=({checked:t,onChange:e,labelOn:n,labelOff:r,title:i,disabled:a=!1})=>A.jsxs("label",{className:`inline-flex items-center ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`,title:i,children:[A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"checkbox",checked:t,onChange:e,className:"sr-only peer",disabled:a}),A.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-teal-600"})]}),A.jsx("span",{className:`ml-3 text-sm font-medium ${t?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`,children:t?n:r})]}),g_e=({onLoginAsStoreAdmin:t,onLogout:e,onGoBack:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{var Ae;const[l,u]=re.useState([]),[c,d]=re.useState([]),[h,p]=re.useState({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),[v,b]=re.useState(!0),[x,y]=re.useState({}),[w,S]=re.useState({}),[T,C]=re.useState(null),[k,E]=re.useState(null),[M,I]=re.useState(null),[B,O]=re.useState(null),j="GoShop-Activation-Key-Abzn-Secret-2024",U=async()=>{u((await Tj()).sort((W,le)=>W.name.localeCompare(le.name))),d(await V9())};re.useEffect(()=>{U()},[]);const F=re.useMemo(()=>{const W={};for(const le of c)W[le.storeId]||(W[le.storeId]=[]),W[le.storeId].push(le);return W},[c]),G=W=>{if(W.target.files&&W.target.files[0]){const le=W.target.files[0],ce=new FileReader;ce.onloadend=()=>{p(ue=>({...ue,logo:ce.result}))},ce.readAsDataURL(le)}},R=async W=>{if(W.preventDefault(),C(null),E(null),!h.name||!h.adminPassword){alert(r("fillAllFieldsError"));return}const le=h.adminPassword,ce=h.trialDurationDays||0;try{const{licenseKey:ue}=await G9(h.name,h.logo,h.adminPassword,h.adminEmail,ce,h.address,h.ice,h.enableAiReceiptScan);if(v){const De=await Sj(ue);if(De){const Ne={isActive:!0,licenseProof:new Date().toISOString(),trialStartDate:ce>0?new Date().toISOString():null};await Ic({...De,...Ne})}}C(ue),E(le),p({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),b(!0);const Me=document.getElementById("logo");Me&&(Me.value=""),await U()}catch(ue){ue instanceof TypeError&&ue.message==="Failed to fetch"?alert(r("failedToFetchError_CORS")):alert(r(ue.message)||ue.message)}},$=async(W,le)=>{if(window.confirm(r("deleteStoreConfirm",{storeName:le})))try{await W9(W),alert(r("storeDeletedSuccess",{storeName:le})),await U()}catch(ce){console.error("Failed to delete store:",ce),alert(`${r("storeDeleteError")}: ${ce.message}`)}},H=(W,le)=>{y(ce=>({...ce,[W]:le}))},Y=async W=>{const le=(F[W]||[]).filter(ce=>x[ce.id]!==void 0&&x[ce.id].trim()!=="");for(const ce of le)if(ce.role==="seller"&&x[ce.id].length<4){alert(r("pinMustBe4Chars"));return}if(le.length!==0){for(const ce of le){const ue={...ce};ce.role==="admin"?ue.password=x[ce.id]:ue.pin=x[ce.id],await Ej(ue)}y(ce=>{const ue={...ce};return le.forEach(Me=>delete ue[Me.id]),ue}),alert(r("pinUpdateSuccess")),await U()}},X=async W=>{const le=w[W];if(!le||le.trim()===""||le.length<4){alert(r("pinMustBe4Chars"));return}const ce=(F[W]||[]).filter(Me=>Me.role==="seller").length,ue=`${r("seller")} ${ce+1}`;await Nj({name:ue,pin:le,role:"seller",storeId:W}),S(Me=>({...Me,[W]:""})),await U()},te=async W=>{if(W.isActive)await Ic({...W,isActive:!1});else{let le=!1;if(W.trialStartDate){const ce=new Date(W.trialStartDate),ue=new Date(ce);ue.setDate(ce.getDate()+(W.trialDurationDays??7)),new Date>ue&&(le=!0)}if(le)if(window.confirm(r("confirmPermanentActivation",{storeName:W.name})))await Ic({...W,isActive:!0,trialStartDate:null});else return;else await Ic({...W,isActive:!0})}await U()},D=async W=>{await Ic({...W,enableAiReceiptScan:!W.enableAiReceiptScan}),await U()},q=W=>{const le=`PERM-${btoa(`${W.id}::${j}`)}`;O({storeName:W.name,code:le})},Z=(W,le)=>{navigator.clipboard.writeText(W),I(le),setTimeout(()=>{I(null)},2e3)},ne=W=>{if(!W.licenseProof)return A.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:r("storeStatus_notActivated")});if(W.trialStartDate){const le=new Date(W.trialStartDate),ce=new Date(le);ce.setDate(le.getDate()+(W.trialDurationDays??7));const ue=ce.getTime()-new Date().getTime();if(ue>0){const Me=Math.ceil(ue/864e5);return A.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-yellow-200 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",children:r("trialDaysRemaining",{days:Me})})}else return A.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-red-200 text-red-800 dark:bg-red-900/50 dark:text-red-300",children:r("trialEnded")})}return A.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-green-200 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:r("storeStatus_licensed")})},ae=async W=>{try{const le=await Cj(W.id);le?t(le,W):alert(r("noAdminForStore"))}catch(le){console.error("Failed to login as admin:",le),alert(`${r("unknownError")}: ${le.message}`)}},me=()=>{if(T){const W=l.find(le=>le.licenseKey===T);W?ae(W):alert("Store data not ready. Please wait a moment and try logging in from the main list.")}};return A.jsxs("div",{className:"bg-gray-100 dark:bg-slate-900 min-h-screen",children:[B&&A.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6 text-center",children:[A.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("activationCodeForStore",{storeName:B.storeName})}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("copyAndSendToClient")}),A.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-between gap-4",children:[A.jsx("p",{className:"font-mono text-lg break-all text-slate-800 dark:text-slate-100",children:B.code}),A.jsx("button",{onClick:()=>Z(B.code,"activation-code"),className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-3 rounded-lg text-sm shrink-0",children:r(M==="activation-code"?"copied":"copy")})]}),A.jsx("button",{onClick:()=>O(null),className:"mt-6 bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})]})}),A.jsx("header",{className:"bg-white dark:bg-slate-800 text-white p-4 shadow-lg sticky top-0 z-40",children:A.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[A.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:[A.jsx(yA,{className:"w-5 h-5"}),A.jsx("span",{children:r("backToPortal")})]}),A.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100",children:r("superAdminDashboard")}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:o==="light"?A.jsx(Iv,{className:"w-5 h-5"}):A.jsx(jv,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-3 py-2 text-sm font-bold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:i==="fr"?"AR":"FR"}),A.jsxs("button",{onClick:e,title:r("logout"),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:[A.jsx(gS,{className:"w-5 h-5"}),A.jsx("span",{className:"hidden md:inline",children:r("logout")})]})]})]})}),A.jsxs("main",{className:"container mx-auto p-4 sm:p-6 space-y-8",children:[A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[A.jsx(bS,{}),r("addStore")]}),A.jsxs("form",{onSubmit:R,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center p-2 border-2 border-dashed rounded-lg dark:border-slate-600 row-span-2",children:[A.jsx(Ad,{url:h.logo,className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200 dark:bg-slate-700"}),A.jsx("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeLogo")}),A.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:G,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeName")}),A.jsx("input",{type:"text",value:h.name,onChange:W=>p({...h,name:W.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminPassword")}),A.jsx("input",{type:"password",value:h.adminPassword,onChange:W=>p({...h,adminPassword:W.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminEmail")}),A.jsx("input",{type:"email",value:h.adminEmail,onChange:W=>p({...h,adminEmail:W.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("trialPeriodDays")}),A.jsx("input",{type:"number",min:"0",value:h.trialDurationDays,onChange:W=>p({...h,trialDurationDays:parseInt(W.target.value,10)||0}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("address")," (",r("optional"),")"]}),A.jsx("input",{type:"text",value:h.address,onChange:W=>p({...h,address:W.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("ice")," (",r("optional"),")"]}),A.jsx("input",{type:"text",value:h.ice,onChange:W=>p({...h,ice:W.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),A.jsxs("div",{className:"lg:col-span-3 space-y-3",children:[A.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Aa,{className:"w-8 h-8 text-purple-500 dark:text-purple-400"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("enableAiScan")}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("aiScanFeatureDescription")})]})]}),A.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:A.jsx(og,{checked:h.enableAiReceiptScan,onChange:()=>p(W=>({...W,enableAiReceiptScan:!W.enableAiReceiptScan})),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})})]}),A.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(m2,{className:"w-8 h-8 text-blue-500 dark:text-blue-400"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("activateImmediately")}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("activateImmediatelyDesc")})]})]}),A.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:A.jsx(og,{checked:v,onChange:()=>b(W=>!W),labelOn:r("activeOnCreation"),labelOff:r("inactiveOnCreation"),title:r("activateImmediately")})})]})]})]}),A.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center gap-2",children:[A.jsx(al,{}),r("addStoreButton")]})]}),T&&k&&A.jsxs("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900/50 rounded-lg text-green-800 dark:text-green-300",children:[A.jsx("h3",{className:"font-bold",children:r("storeCreatedSuccess")}),A.jsxs("div",{className:"mt-2 space-y-4 text-sm",children:[A.jsxs("p",{children:[A.jsxs("strong",{children:[r("storeName"),":"]})," ",(Ae=l.find(W=>W.licenseKey===T))==null?void 0:Ae.name]}),A.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded border border-yellow-300 dark:border-yellow-700",children:[A.jsxs("p",{className:"font-semibold",children:[r("adminPassword"),":"]}),A.jsx("p",{className:"font-mono text-xl my-1",children:k}),A.jsx("p",{className:"text-xs",children:r("useThisPasswordAfter")})]}),A.jsxs("div",{children:[A.jsxs("p",{className:"font-semibold mt-2",children:[r("licenseKey"),":"]}),A.jsx("p",{className:"text-xs mb-1",children:r("useThisToLoginFirst")}),A.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white dark:bg-slate-700 rounded-md",children:[A.jsx("p",{className:"font-mono text-lg break-all flex-grow",children:T}),A.jsx("button",{onClick:()=>Z(T,"new-key"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg text-sm",children:r(M==="new-key"?"copied":"copy")})]})]})]}),A.jsxs("button",{onClick:me,className:"mt-4 w-full bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center justify-center gap-2",children:[A.jsx(uf,{className:"w-5 h-5"}),r("loginAsAdmin")]})]})]}),A.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[A.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("manageStores")}),A.jsx("div",{className:"space-y-6",children:l.length>0?l.map(W=>{const le=F[W.id]||[],ce=le.find(Me=>Me.role==="admin"),ue=le.filter(Me=>Me.role==="seller");return A.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl shadow-md border-l-4 dark:border-l-4 border-teal-500",children:[A.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-4 mb-4",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx(Ad,{url:W.logo,className:"w-16 h-16 rounded-lg bg-white object-cover"}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:W.name}),A.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[A.jsxs("span",{className:"text-sm font-mono text-slate-500 dark:text-slate-400",children:[r("licenseKey"),":"]}),A.jsx("span",{className:"font-mono text-sm bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded break-all",children:W.licenseKey}),A.jsx("button",{type:"button",onClick:()=>Z(W.licenseKey,W.id),className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 dark:hover:bg-teal-800/50 text-xs font-bold py-1 px-2 rounded-md",children:M===W.id?r("copied"):r("copy")})]}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r("trialDurationDisplay",{days:W.trialDurationDays})})]})]}),A.jsxs("div",{className:"flex flex-col items-end gap-3",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx(og,{checked:W.isActive,onChange:()=>te(W),labelOn:r("storeStatus_active"),labelOff:r("storeStatus_inactive"),title:r("toggleStoreStatus")}),A.jsx("button",{onClick:()=>$(W.id,W.name),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:r("deleteStore"),children:A.jsx(ni,{})})]}),ne(W)]})]}),A.jsxs("div",{className:"space-y-4 pt-4 border-t-2 border-dashed dark:border-slate-700",children:[A.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Aa,{className:"w-5 h-5 text-purple-500"}),A.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("enableAiScan")})]}),A.jsx(og,{checked:W.enableAiReceiptScan||!1,onChange:()=>D(W),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})]}),A.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("storeUsersAndPins")}),A.jsxs("div",{className:"space-y-3",children:[ce&&A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("span",{className:"font-semibold w-24",children:[r("admin")," (",ce.name,")"]}),A.jsx("input",{type:"password",placeholder:r("newPassword"),defaultValue:"",onChange:Me=>H(ce.id,Me.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),ue.map(Me=>A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"font-semibold w-24",children:Me.name}),A.jsx("input",{type:"password",placeholder:r("newPin"),defaultValue:"",onChange:De=>H(Me.id,De.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]},Me.id))]}),A.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4 mt-4",children:[A.jsx("button",{onClick:()=>Y(W.id),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:r("saveChanges")}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("input",{type:"password",placeholder:r("newSellerPinPlaceholder"),value:w[W.id]||"",onChange:Me=>S(De=>({...De,[W.id]:Me.target.value})),className:"p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 text-sm w-48"}),A.jsxs("button",{onClick:()=>X(W.id),className:"bg-teal-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center text-sm",children:[A.jsx(jj,{className:"w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"}),r("add")]})]})]}),A.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg mt-4",children:[A.jsxs("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-2 flex items-center gap-2",children:[A.jsx(vS,{className:"w-5 h-5"}),r("permanentActivation")]}),A.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:r("permanentActivationDesc")}),A.jsxs("button",{onClick:()=>q(W),disabled:!W.licenseProof||!W.trialStartDate,className:"bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 dark:disabled:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[A.jsx(m2,{className:"w-4 h-4"}),r("generateActivationCode")]})]})]})]},W.id)}):A.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:r("noStoresAdded")})})]})]})]})},v_e=({sale:t,mode:e,onClose:n,store:r,customers:i,t:a,language:o})=>{re.useEffect(()=>{const x=setTimeout(()=>{window.print()},300);return()=>clearTimeout(x)},[]);const s=()=>{window.print()},l=t.customerId?i.find(x=>x.id===t.customerId):null,u=o==="ar"?"ar-MA":"fr-FR",c=x=>{if(o==="ar")return x.toFixed(2);const y=Math.floor(x),w=Math.round((x-y)*100),S=["","UN","DEUX","TROIS","QUATRE","CINQ","SIX","SEPT","HUIT","NEUF"],T=["DIX","ONZE","DOUZE","TREIZE","QUATORZE","QUINZE","SEIZE","DIX-SEPT","DIX-HUIT","DIX-NEUF"],C=["","DIX","VINGT","TRENTE","QUARANTE","CINQUANTE","SOIXANTE","SOIXANTE-DIX","QUATRE-VINGT","QUATRE-VINGT-DIX"],k=O=>{if(O===0)return"";let j="";if(O>=100){const U=Math.floor(O/100);j+=(U>1?S[U]+" ":"")+"CENT"+(O%100===0&&U>1?"S":""),O%=100,O>0&&(j+=" ")}if(O>=20){const U=Math.floor(O/10);j+=C[U];const F=O%10;F>0&&(j+=(F===1&&U<8?" ET ":"-")+S[F])}else O>=10?j+=T[O-10]:O>0&&(j+=S[O]);return j};if(x===0)return"ZÉRO";let E="";const M=Math.floor(y/1e6);M>0&&(E+=k(M)+" MILLION"+(M>1?"S":"")+" ");const I=Math.floor(y%1e6/1e3);I>0&&(E+=(I===1?"":k(I)+" ")+"MILLE ");const B=y%1e3;return B>0&&(E+=k(B)),E=E.trim()+" DIRHAMS",w>0&&(E+=" ET "+k(w)+" CENTIMES"),E.toUpperCase()},d=t.total,h=e==="invoice"?d/1.2:d,p=e==="invoice"?d-h:0,v=a(e==="invoice"?"invoiceTitle":"orderFormTitle"),b=c(d);return A.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[A.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",dir:o==="ar"?"rtl":"ltr",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("h1",{className:"text-2xl font-bold",children:v}),A.jsx("p",{className:"text-sm font-semibold",children:r.name}),r.address?A.jsx("p",{className:"text-xs",children:r.address}):A.jsx("p",{className:"text-xs",children:a("invoiceAddress")}),r.ice&&A.jsxs("p",{className:"text-xs",children:["ICE: ",r.ice]})]}),A.jsxs("div",{className:"text-xs mb-4",children:[A.jsxs("p",{children:[A.jsx("strong",{children:a("billNumber")})," ",t.id.slice(-8).toUpperCase()]}),A.jsxs("p",{children:[A.jsxs("strong",{children:[a("date"),":"]})," ",new Date(t.date).toLocaleString(u)]}),l&&A.jsxs("p",{children:[A.jsxs("strong",{children:[a("customer"),":"]})," ",l.name]})]}),A.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-slate-100",children:[A.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:a("productColumn")}),A.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("quantity")}),A.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a(e==="invoice"?"prixHT":"price")}),A.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:a("total")})]})}),A.jsx("tbody",{children:t.items.map(x=>A.jsxs("tr",{children:[A.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:x.name}),A.jsx("td",{className:"border border-slate-300 p-2 text-center",children:x.quantity}),A.jsx("td",{className:"border border-slate-300 p-2 text-center",children:(e==="invoice"?x.price/1.2:x.price).toFixed(2)}),A.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(x.price*x.quantity/(e==="invoice"?1.2:1)).toFixed(2)})]},x.id))})]}),A.jsx("div",{className:"w-full mt-4 text-sm",children:A.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:A.jsxs("div",{className:"col-start-2",children:[A.jsxs("div",{className:"flex justify-between py-1",children:[A.jsxs("span",{children:[a("totalHT"),":"]}),A.jsxs("span",{className:"font-semibold",children:[h.toFixed(2)," DH"]})]}),e==="invoice"&&A.jsxs("div",{className:"flex justify-between py-1",children:[A.jsxs("span",{children:[a("vat"),":"]}),A.jsxs("span",{className:"font-semibold",children:[p.toFixed(2)," DH"]})]}),A.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg border-t-2 border-slate-400 mt-1",children:[A.jsxs("span",{children:[a("totalTTC"),":"]}),A.jsxs("span",{children:[d.toFixed(2)," DH"]})]})]})})}),e==="invoice"&&o==="fr"&&A.jsxs("p",{className:"text-xs mt-4 p-2 bg-slate-100 rounded-md",children:["Arrêté la présente facture à la somme de : ",b]}),A.jsx("p",{className:"text-center text-xs mt-6",children:a("thankYou")})]}),A.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[A.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")}),A.jsx("button",{onClick:s,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:a("print")})]})]})})},y_e=({returnObject:t,onClose:e,store:n,t:r,language:i})=>{re.useEffect(()=>{const l=setTimeout(()=>{window.print()},300);return()=>clearTimeout(l)},[]);const a=()=>{window.print()},o=i==="ar"?"ar-MA":"fr-FR",s=r("returnReceiptTitle");return A.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:A.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[A.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("h1",{className:"text-2xl font-bold",children:s}),A.jsx("p",{className:"text-sm font-semibold",children:n.name}),n.address?A.jsx("p",{className:"text-xs",children:n.address}):A.jsx("p",{className:"text-xs",children:r("invoiceAddress")}),n.ice&&A.jsxs("p",{className:"text-xs",children:["ICE: ",n.ice]})]}),A.jsxs("div",{className:"text-xs mb-4",children:[A.jsxs("p",{children:[A.jsx("strong",{children:r("returnIdLabel")})," ",t.id.slice(-8).toUpperCase()]}),A.jsxs("p",{children:[A.jsxs("strong",{children:[r("date"),":"]})," ",new Date(t.date).toLocaleString(o)]})]}),A.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-slate-100",children:[A.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:r("productColumn")}),A.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("quantity")}),A.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("price")}),A.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("total")})]})}),A.jsx("tbody",{children:t.items.map(l=>A.jsxs("tr",{children:[A.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:l.name}),A.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.quantity}),A.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.price.toFixed(2)}),A.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(l.price*l.quantity).toFixed(2)})]},l.id))})]}),A.jsx("div",{className:"w-full mt-4 text-sm",children:A.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:A.jsx("div",{className:"col-start-2",children:A.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg bg-slate-100 p-2 rounded-md",children:[A.jsx("span",{children:r("refundAmountLabel")}),A.jsxs("span",{children:[t.refundAmount.toFixed(2)," DH"]})]})})})}),A.jsx("p",{className:"text-center text-xs mt-6",children:r("thankYou")})]}),A.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[A.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")}),A.jsx("button",{onClick:a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("print")})]})]})})},b_e=({products:t,variants:e,suppliers:n,t:r})=>e.length===0?null:A.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 border-r-4 rtl:border-l-4 rtl:border-r-0 border-orange-500 text-orange-700 dark:text-orange-300 p-4 rounded-lg shadow-md mb-6",role:"alert",children:[A.jsx("p",{className:"font-bold",children:r("lowStockAlert")}),A.jsx("p",{className:"text-sm",children:r("lowStockMessage")}),A.jsx("ul",{className:"list-disc list-inside mr-2 rtl:ml-2 rtl:mr-0 mt-2 text-sm",children:e.map(i=>{var o;const a=t.find(s=>s.id===i.productId);return a?A.jsxs("li",{children:[A.jsxs("strong",{children:[a.name," - ",i.name]}),a.supplierId&&A.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:[" (",r("supplier"),": ",((o=n.find(s=>s.id===a.supplierId))==null?void 0:o.name)||r("unknown"),")"]})]},i.id):null})})]}),sg={fr:{appTitle:"Système de Point de Vente",logout:"Déconnexion",by:"par",save:"Enregistrer",cancel:"Annuler",add:"Ajouter",delete:"Supprimer",edit:"Modifier",close:"Fermer",export:"Exporter",print:"Imprimer",actions:"Actions",name:"Nom",phone:"Téléphone",email:"Email",address:"Adresse",ice:"ICE",description:"Description",amount:"Montant",price:"Prix",stock:"Stock",barcode:"Code-barres",quantity:"Quantité",date:"Date",total:"Total",profit:"Bénéfice",role:"Rôle",admin:"Admin",seller:"Vendeur",category:"Catégorie",supplier:"Fournisseur",customer:"Client",all:"Tout",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois-ci",customRange:"Période personnalisée",filterByPeriod:"Filtrer par période :",goBack:"Retour",selectCategory:"Choisir une catégorie",selectSupplier:"Choisir un fournisseur",noDataToExport:"Aucune donnée à exporter.",debt:"Dette",product:"Produit",loading:"Chargement des données",copy:"Copier",copied:"Copié!",searchByName:"Rechercher par nom...",noResultsFound:"Aucun résultat trouvé.",variant:"Variante",details:"Détails",pricePlaceholder:"0.00",expenses:"Dépenses",history:"Historique",page:"Page",previous:"Précédent",next:"Suivant",login:"Connexion",loginToYourAccount:"Connectez-vous à votre compte",emailAddress:"Adresse e-mail",password:"Mot de passe",pin:"Code PIN",superAdminPin:"Code PIN Super Admin",invalidCredentialsError:"Identifiants incorrects. Veuillez réessayer.",invalidApiKeyError:"Clé API Supabase invalide. Veuillez vérifier la clé dans le fichier supabaseClient.ts. Elle doit correspondre à la clé 'anon (public)' de votre projet Supabase.",storeDisabledError:"Ce magasin est désactivé. Veuillez contacter le support technique.",activateYourCompany:"Activer votre application",enterLicenseKey:"Veuillez entrer votre clé de licence pour continuer.",licenseKey:"Clé de licence",activate:"Activer",backToLogin:"Retour",forStore:"Pour le magasin : {storeName}",activationSuccess:"Application activée avec succès! Vous pouvez maintenant vous connecter.",invalidActivationCode:"Code d'activation invalide ou ne correspondant pas à ce magasin.",licenseInUse:"Cette clé de licence est déjà utilisée sur un autre appareil.",tamperedLicenseError:"La licence est invalide ou l'application a été déplacée. Veuillez contacter le support.",storeNotFound:"Aucun magasin trouvé avec cet identifiant.",enterKeyOrSuperAdminId:"Entrez la clé de licence ou l'ID Super Admin",superAdminLogin:"Connexion Super Admin",enterSuperAdminPin:"Veuillez entrer le code PIN Super Admin",passwordOrPin:"Mot de passe ou Code PIN",rememberPin:"Se souvenir du code",trialDaysRemaining:"Vous avez {days} jour(s) restant(s) sur votre période d'essai.",trialExpiredError:"Votre période d'essai a expiré. L'application est maintenant verrouillée.",reactivationSuccess:"Licence réactivée avec succès! Vous pouvez maintenant vous connecter.",trialEnded:"Période d'essai terminée",changeLicenseOrSuperAdmin:"Changer de licence / Connexion Super Admin",quickLogin:"Accès Rapide",orActivateAnotherLicense:"Ou activer une autre licence",loginTo:"Connexion à {storeName}",unknownError:"Une erreur inattendue est survenue. Veuillez réessayer.",trialHasExpired:"Votre période d'essai a expiré",contactAdminToActivate:"Veuillez contacter le support technique pour obtenir votre code d'activation permanent.",superAdminActivation:"Activation par l'administrateur",enterSuperAdminPinToActivate:"Entrez le code PIN de l'administrateur pour activer ce magasin.",activatePermanently:"Activer Définitivement",enterActivationCode:"Entrez le code d'activation",activateApplication:"Activer l'application",activationSuccessReload:"Activation réussie ! L'application va redémarrer.",activationCode:"Code d'activation",permanentActivationCode:"Code d'activation permanent",failedToFetchError_CORS:"La requête réseau a échoué. Causes possibles : 1) Votre projet Supabase est en pause (réactivez-le sur le tableau de bord Supabase). 2) Problème de CORS (vérifiez les origines autorisées dans les paramètres API de Supabase). 3) Bloqueur de publicités ou problème de réseau. Veuillez vérifier ces points et réessayer.",pos:"Point de Vente",products:"Produits",services:"Services",finance:"Finances",customers:"Clients",suppliers:"Fournisseurs",categories:"Catégories",settings:"Paramètres",superAdminDashboard:"Tableau de bord Super Admin",addStore:"Ajouter un nouveau magasin",storeName:"Nom du magasin",storeLogo:"Logo du magasin (optionnel)",adminEmail:"E-mail de l'administrateur",adminPassword:"Mot de passe initial de l'administrateur",addStoreButton:"Créer le magasin",storeCreatedSuccess:"Magasin créé! Voici les informations de connexion :",manageStores:"Gérer les magasins existants",storeUsersAndPins:"Utilisateurs et codes d'accès :",saveChanges:"Enregistrer les modifications",addSeller:"Ajouter un nouveau vendeur",newSellerPinPlaceholder:"Code PIN du nouveau vendeur",deleteStore:"Supprimer",deleteStoreConfirm:'Êtes-vous sûr de vouloir supprimer le magasin "{storeName}" ? Toutes ses données (produits, ventes, etc.) seront définitivement supprimées. Cette action est irréversible.',storeDeletedSuccess:'Le magasin "{storeName}" a été supprimé avec succès.',storeDeleteError:"Une erreur s'est produite lors de la suppression du magasin.",fillAllFieldsError:"Veuillez remplir tous les champs obligatoires.",pinUpdateSuccess:"Les identifiants ont été mis à jour avec succès.",enterNewSellerPin:"Veuillez entrer un code PIN pour le nouveau vendeur.",storeStatus_licensed:"Licencié",storeStatus_notActivated:"En attente d'activation",storeStatus_active:"Actif",storeStatus_inactive:"Inactif",toggleStoreStatus:"Changer l'état du magasin",noStoresAdded:"Aucun magasin ajouté.",newPassword:"Nouveau mot de passe",newPin:"Nouveau code PIN",trialPeriodDays:"Période d'essai (jours) (0 pour permanent)",trialDurationDisplay:"Essai : {days} jours",superAdminPortal:"Portail Super Admin",manageAllStores:"Gérer Tous les Magasins",manageAllStoresDesc:"Ajouter, supprimer ou gérer les informations d'identification de tous les magasins.",loginToStore:"Se Connecter à un Magasin",loginToStoreDesc:"Accédez au tableau de bord d'un magasin en tant qu'administrateur pour le support.",selectStoreToLogin:"Sélectionnez un magasin pour vous connecter :",loginAsAdmin:"Connexion Admin",noAdminForStore:"Erreur : Aucun utilisateur administrateur trouvé pour ce magasin.",backToPortal:"Retour au Portail",returnToPortal:"Retour au Portail",permanentActivation:"Activation permanente",confirmPermanentActivation:`Êtes-vous sûr de vouloir activer définitivement le magasin "{storeName}" ? Cela mettra fin à la période d'essai et ne pourra pas être annulé.`,permanentActivationDesc:"Ceci accordera une licence complète au magasin et mettra fin à la période d'essai.",generateActivationCode:"Générer un code d'activation",activationCodeForStore:"Code d'activation pour {storeName}",copyAndSendToClient:"Copiez ce code et envoyez-le au client pour l'activation permanente.",activationCode_copied:"Code copié !",enableAiScan:"Activer le scan IA",aiScanEnabled:"Scan IA Activé",aiScanDisabled:"Scan IA Désactivé",aiScanFeatureDescription:"Activer la fonctionnalité d'ajout d'articles par scan de reçu via IA.",useThisToLoginFirst:"Utilisez cette clé sur l'écran d'activation initial pour accéder au magasin.",useThisPasswordAfter:"Après avoir utilisé la clé de licence, utilisez ce mot de passe sur l'écran de connexion du magasin.",activateImmediately:"Activer immédiatement",activateImmediatelyDesc:"Le magasin sera actif et prêt à l'emploi dès sa création.",activeOnCreation:"Activé à la création",inactiveOnCreation:"Inactif à la création",adminDashboard:"Tableau de bord admin",storeLabel:"Magasin :",welcome:"Bonjour,",returnMode:"Retour",saleMode:"Vente",barcodeScannerActive:"Scanner de code-barres actif",scanToAdd:"Scannez le code-barres d'un produit pour l'ajouter au panier.",manualAdd:"Ajout manuel",filterByCategory:"Filtrer par catégorie",searchPlaceholder:"Ou rechercher un produit par nom...",productNotFound:"Aucun produit trouvé avec le code-barres : {barcode}",productAdded:"Ajouté : {productName}",productOutOfStock:'Le produit "{productName}" est en rupture de stock.',notEnoughStock:`Impossible d'ajouter plus de "{productName}". Stock insuffisant.`,invoice:"Facture",returnReceipt:"Bon de retour",clearCart:"Vider le panier",emptyCart:"Le panier est vide",totalLabel:"Total ({count} produits)",downPayment:"Acompte :",remaining:"Restant :",refundAmount:"Montant à rembourser :",processReturn:"Traiter le retour",emptyCartError:"Le panier est vide !",cashCustomer:"Client comptant",debtPayment:"Paiement de dette",orderForm:"Bon de Commande",subtotal:"Sous-total",vat:"TVA (20%)",totalTTC:"Total TTC",totalHT:"Total HT",prixHT:"Prix HT",discount:"Remise",manualTotal:"Total manuel",finalizeAndPrintInvoice:"Finaliser & Facture (TTC)",finalizeAndPrintOrderForm:"Finaliser & Bon de Cde",variants:"variantes",selectVariantFor:"Sélectionner une variante pour",selectVariant:"Sélectionner une variante",outOfStock:"Rupture de stock",scanReceipt:"Scanner le Reçu",scanning:"Analyse en cours...",receiptScanError:"Erreur lors de l'analyse du reçu.",itemsAddedFromReceipt:"{count} articles ajoutés depuis le reçu.",semiWholesalePrice:"Prix demi-gros",wholesalePrice:"Prix de gros",priceLevel:"Niveau de prix",priceLevels:"Niveaux de Prix",unitPrice:"Prix Unitaire",unit:"Détail",semiWholesale:"Demi-Gros",wholesale:"Gros",addCustomItem:"Ajouter Article Personnalisé",customItemName:"Nom de l'article",unitPriceLabel:"Prix Unitaire",itemNamePlaceholder:"Ex: Prestation Spéciale",customItemAdded:"Article personnalisé ajouté",enterItemDetails:"Saisir les détails de l'article",geminiApiKeyNotConfigured:"La clé API Gemini n'est pas configurée pour le scan de reçu.",addNewProduct:"Ajouter un nouveau produit",productImagePreview:"Aperçu de l'image",editProduct:"Modifier le produit",productInfo:"Informations sur le produit",productName:"Nom du produit",productNamePlaceholder:"Ex: T-shirt en coton",productVariants:"Variantes du produit",addVariant:"Ajouter une variante",variantName:"Nom de la variante",variantNamePlaceholder:"Ex: Rouge, XL",purchasePrice:"Prix d'achat",sellingPrice:"Prix de vente",stockQuantity:"Quantité en stock",lowStockThreshold:"Seuil de stock bas",barcodePlaceholder:"Scanner ou saisir le code-barres",saveProduct:"Enregistrer le produit",productList:"Liste des produits",searchProducts:"Rechercher des produits...",exportToPdf:"Exporter en PDF",productNameTable:"Nom du produit",variantNameTable:"Variante",priceTable:"Prix de vente",printBarcodeLabel:"Imprimer l'étiquette du code-barres",fillNameAndPriceError:"Veuillez saisir un nom et un prix valides pour toutes les variantes.",confirmProductDelete:"Êtes-vous sûr de vouloir supprimer ce produit et toutes ses variantes ?",noProductsAdded:"Aucun produit ajouté pour le moment.",noProductsInCategory:"Aucun produit dans cette catégorie.",uncategorized:"Hors catégorie",noVariants:"Pas de variantes",sellingPriceMustBeHigherError:"Le prix de vente doit être supérieur au prix d'achat.",addStockFor:"Ajouter du stock pour {name}",addStock:"Ajouter au stock",quantityToAdd:"Quantité à ajouter",fillAllFields:"Veuillez remplir tous les champs.",addNewService:"Ajouter un nouveau service",serviceName:"Nom du service",defaultPrice:"Prix par défaut",saveService:"Enregistrer le service",serviceList:"Liste des services",noServicesAdded:"Aucun service ajouté.",serviceNamePlaceholder:"Ex: Réparation d'écran",service:"Service",editService:"Modifier le service",confirmServiceDelete:"Êtes-vous sûr de vouloir supprimer cette service ?",serviceAddedSuccess:'Service "{name}" ajouté avec succès.',serviceUpdatedSuccess:'Service "{name}" mis à jour avec succès.',financialOverview:"Aperçu financier",netRevenue:"Revenu net",totalRevenueMinusReturns:"Revenu total moins les retours",netProfit:"Bénéfice net",realizedProfitMinusExpenses:"Bénéfice réalisé moins les dépenses",customerDebts:"Dettes clients",clickToViewDetails:"Cliquez pour voir les détails",totalExpenses:"Total des dépenses",salesPerformance:"Performance des ventes",topSellingProducts:"Produits les plus vendus",units:"unités",sales:"Ventes",salesHistory:"Historique des ventes",invoiceNumber:"Facture N°",viewDetails:"Voir les détails",billNumber:"N° de facture:",downPaymentLabel:"Acompte",remainingAmountLabel:"Reste à payer",itemsLabel:"Articles",noSalesForPeriod:"Aucune vente enregistrée pour cette période.",debtorCustomers:"Clients débiteurs",debtAmount:"Montant de la dette",noDebtorCustomers:"Aucun client débiteur.",returnHistory:"Historique des retours",returnId:"Retour N°",refundAmountLabel:"Montant remboursé",profitLost:"Bénéfice perdu",returnedItems:"Articles retournés",noReturnsForPeriod:"Aucun retour enregistré pour cette période.",deleteHistory:"Supprimer l'historique",manageExpenses:"Gestion des dépenses",addExpense:"Ajouter une dépense",expenseHistory:"Historique des dépenses",noExpensesForPeriod:"Aucune dépense pour cette période.",totalCostOfGoods:"Coût total des achats",totalSupplierDebt:"Dette Fournisseur Totale",allPurchasesHistory:"Historique de tous les achats",noPurchasesRecorded:"Aucun achat enregistré.",supplierDebtsList:"Liste des dettes fournisseurs",noSupplierDebt:"Aucune dette envers les fournisseurs.",sellerReportsAndZReport:"Rapports Vendeur & Rapport Z",netActivity:"Activité nette",totalSales:"Ventes totales",totalReturns:"Retours totaux",numberOfSales:"{count} ventes",numberOfReturns:"{count} retours",transactionList:"Liste des transactions",transactionType:"Type",noTransactionsForSeller:"Aucune transaction pour ce vendeur/période.",type:"Type",sale:"Vente",return:"Retour",saving:"Enregistrement...",profitLabel:"Bénéfice",customItemRevenue:"Revenus Articles Personnalisés",fromManuallyAddedItems:"Provenant des articles ajoutés manuellement",customItemsDetails:"Détails des Articles Personnalisés",totalCustomRevenue:"Total Revenus Personnalisés",customItemsInSale:"Articles personnalisés dans cette vente",userName:"Nom de l'utilisateur",pinMin4Digits:"Code PIN (minimum 4 chiffres)",userList:"Liste des utilisateurs",resetPinFor:"Réinitialiser le code PIN pour {name}",currentPassword:"Mot de passe actuel",confirmNewPassword:"Confirmer le nouveau mot de passe",changePassword:"Changer le mot de passe",pinMustBe4Chars:"Le code PIN doit comporter au moins 4 chiffres.",userExistsError:'Un utilisateur avec le nom "{name}" existe déjà.',userAddedSuccess:'Utilisateur "{name}" ajouté avec succès.',pinUpdatedForUser:"Code PIN mis à jour pour {name}.",confirmUserDelete:"Êtes-vous sûr de vouloir supprimer l'utilisateur {name} ?",cannotDeleteAdmin:"Vous ne pouvez pas supprimer l'utilisateur administrateur.",currentPasswordIncorrect:"Le mot de passe actuel est incorrect.",newPasswordEmpty:"Le nouveau mot de passe ne peut pas être vide.",passwordsDoNotMatch:"Les nouveaux mots de passe ne correspondent pas.",passwordChangedSuccess:"Mot de passe changé avec succès.",backupAndRestore:"Sauvegarde et Restauration",backupButton:"Sauvegarder les données",backupDescription:"Créez une sauvegarde de toutes vos données (produits, ventes, etc.). Conservez ce fichier en lieu sûr.",restoreButton:"Restaurer les données",restoreDescription:"Restaurer les données depuis un fichier. ATTENTION : Cela remplacera toutes les données actuelles.",restoreConfirm:"Êtes-vous sûr de vouloir restaurer les données ? Toutes les données actuelles seront écrasées. Cette action est irréversible.",restoreSuccess:"Restauration réussie. L'application va redémarrer.",restoreError:"Le fichier de sauvegarde est invalide ou corrompu.",jsonParseError:"Le texte collé n'est pas un JSON valide. Assurez-vous d'avoir copié l'intégralité du contenu de votre fichier de sauvegarde .json, en commençant par `{` et en terminant par `}`.",restoreFromText:"Restaurer depuis le texte",pasteBackupContent:"Collez ici l'intégralité du contenu de votre fichier de sauvegarde .json.",restoreFromTextDescription:"Ceci est la méthode recommandée. Elle évite les problèmes potentiels de téléversement de fichier.",restoreFromFileAlternative:"Alternativement, restaurer depuis un fichier...",storeSettings:"Paramètres du Magasin",storeNameLabel:"Nom du Magasin",storeAddress:"Adresse",storeICE:"Numéro ICE",storeLogoLabel:"Logo du Magasin",changeLogo:"Changer le logo",saveStoreChanges:"Enregistrer les modifications",storeUpdateSuccess:"Informations du magasin mises à jour avec succès.",storeUpdateError:"Erreur lors de la mise à jour des informations.",logoPreview:"Aperçu du logo",addNewCustomer:"Ajouter un nouveau client",addCustomer:"Ajouter le client",customerList:"Liste des clients",nameAndPhoneRequired:"Le nom et le téléphone sont obligatoires.",customerExistsError:"Un client avec le numéro de téléphone {phone} existe déjà.",customerAddedSuccess:'Client "{name}" ajouté avec succès.',customerDeletedSuccess:'Client "{name}" supprimé avec succès.',customerDeleteError:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',customerDeleteErrorHasDebt:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',noCustomersAdded:"Aucun client ajouté pour le moment.",debtManagement:"Gestion de la dette",totalDebt:"Dette totale :",paymentAmount:"Montant du paiement",recordPayment:"Enregistrer le paiement",manageDebt:"Gérer la dette",enterValidPayment:"Veuillez saisir un montant de paiement valide.",paying:"Paiement...",confirmCustomerDelete:'Êtes-vous sûr de vouloir supprimer le client "{name}" ?',printDebtReport:"Imprimer le rapport de dette",debtReportFor:"Rapport de dette pour {name}",printAllDebtReports:"Imprimer tous les rapports de dettes",noDebtsToReport:"Aucune dette à signaler.",purchaseHistoryFor:"Historique d'achats pour {name}",totalPurchases:"Total des achats",currentDebt:"Dette actuelle",printReport:"Imprimer le rapport",invoiceHistory:"Historique des factures",noInvoicesFound:"Aucune facture trouvée pour ce client.",addNewSupplier:"Ajouter un nouveau fournisseur",addSupplier:"Ajouter le fournisseur",supplierList:"Liste des fournisseurs",supplierExistsError:"Un fournisseur avec le numéro de téléphone {phone} existe déjà.",supplierAddedSuccess:'Fournisseur "{name}" ajouté avec succès.',supplierDeletedSuccess:'Fournisseur "{name}" supprimé avec succès.',supplierDeleteError:'Impossible de supprimer le fournisseur "{name}" car il y a une dette en cours.',supplierDeleteErrorHasDebt:'Impossible de supprimer le fournisseur "{name}" car il y a une dette de {debt} DH.',noSuppliersAdded:"Aucun fournisseur ajouté.",newPurchase:"Nouvel achat",purchaseHistory:"Sجل المشتريات",managePayments:"إدارة المدفوعات",supplierDebt:"دين المورد",noDebt:"لا يوجد دين",newPurchaseFor:"شراء جديد من {name}",addProductsToPurchase:"إضافة منتجات إلى الشراء",selectProducts:"اختيار منتجات موجودة",orAddNewProductPrompt:"المنتج غير موجود؟",addNewProductButton:"إنشاء منتج جديد",saveAndAddToList:"حفظ وإضافة إلى القائمة",noProductsInPurchase:"لم يتم إضافة أي منتجات إلى هذا الشراء.",totalAmount:"المبلغ الإجمالي",paymentMethod:"طريقة الدفع",amountToPay:"المبلغ للدفع",cash:"نقداً",card:"بطاقة بنكية",transfer:"تحويل بنكي",check:"شيك",amountPaid:"المبلغ المدفوع",remainingDebt:"المتبقي للدفع",completePurchase:"إتمام الشراء",noPurchasesYet:"لم يتم تسجيل أي مشتريات لهذا المورد بعد.",purchaseDate:"تاريخ الشراء",purchaseDetails:"تفاصيل الشراء",reference:"المرجع",referencePlaceholder:"مثال: فاتورة رقم 123، وصل تسليم...",paymentRecorded:"تم تسجيل الدفع بنجاح.",confirmSupplierDelete:'هل أنت متأكد من رغبتك في حذف المورد "{name}"؟',addNewCategory:"إضافة فئة جديدة",categoryName:"اسم الفئة",categoryList:"قائمة الفئات",noCategoriesAdded:"لم تتم إضافة أي فئات.",categoryNameEmptyError:"لا يمكن أن يكون اسم الفئة فارغًا.",categoryExistsError:'فئة بالاسم "{name}" موجودة بالفعل.',categoryAddedSuccess:'تمت إضافة الفئة "{name}" بنجاح.',categoryUpdatedSuccess:'تم تحديث الفئة "{name}" بنجاح.',confirmCategoryDelete:'هل أنت متأكد من رغبتك في حذف الفئة "{name}"؟',categoryDeleteError:"لا يمكن حذف هذه الفئة لأنها مستخدمة من قبل منتجات.",editCategory:"تعديل الفئة",categoryDeletedSuccess:'تم حذف الفئة "{name}" بنجاح.',lowStockAlert:"تنبيه انخفاض المخزون",lowStockMessage:"المنتجات التالية مخزونها منخفض أو نفدت. فكر في عمل طلبية.",unknown:"غير معروف",invoiceTitle:"فاتورة",orderFormTitle:"طلب شراء",invoiceAddress:"عنوان المتجر",thankYou:"شكرا لزيارتكم!",productColumn:"المنتج",returnReceiptTitle:"وصل إرجاع",returnIdLabel:"رقم وصل الإرجاع",optional:"اختياري",purchase_ref_initial_stock:"المخزون الأولي",purchase_ref_stock_adjustment:"تعديل المخزون",supabaseConfigErrorTitle:"خطأ في إعدادات Supabase",supabaseConfigErrorSubtitle:"مفتاح API الخاص بقاعدة البيانات غير مهيأ. لا يمكن بدء تشغيل التطبيق.",supabaseConfigErrorInstruction:"الرجاء فتح الملف `{fileName}` وتعديل السطر المميز باللون الأحمر أدناه:",supabaseConfigErrorHint:"يمكنك الحصول على هذا المفتاح من لوحة تحكم مشروعك على Supabase. بعد حفظ الملف، سيتم إعادة تحميل التطبيق تلقائيًا.",supabaseConfigComment1:"// --- هام: أضف مفتاح API الخاص بك هنا ---",supabaseConfigComment2:"// استبدل السلسلة النصية أدناه بمفتاح 'anon' العام الخاص بك من Supabase (وليس مفتاح 'publishable').",supabaseConfigComment3:"// يمكنك العثور عليه في: لوحة تحكم Supabase -> الإعدادات -> API.",supabaseConfigComment4:'// المفتاح عبارة عن سلسلة نصية طويلة تبدأ بـ "eyJ...".',supabaseConfigKeyWarning:"⚠️ هام: لا تستخدم مفتاح `publishable` (الذي يبدأ بـ `sb_publishable_`). يجب عليك استخدام مفتاح `anon` (العام) وهو سلسلة نصية أطول بكثير."},ar:{appTitle:"نظام نقطة البيع",logout:"تسجيل الخروج",by:"بواسطة",save:"حفظ",cancel:"إلغاء",add:"إضافة",delete:"حذف",edit:"تعديل",close:"إغلاق",export:"تصدير",print:"طباعة",actions:"إجراءات",name:"الاسم",phone:"الهاتف",email:"البريد الإلكتروني",address:"العنوان",ice:"ICE",description:"الوصف",amount:"المبلغ",price:"السعر",stock:"المخزون",barcode:"الברكود",quantity:"الكمية",date:"التاريخ",total:"المجموع",profit:"الربح",role:"الدور",admin:"مدير",seller:"بائع",category:"الفئة",supplier:"المورد",customer:"الزبون",all:"الكل",today:"اليوم",thisWeek:"هذا الأسبوع",thisMonth:"هذا الشهر",customRange:"فترة مخصصة",filterByPeriod:"تصفية حسب الفترة :",goBack:"رجوع",selectCategory:"اختر فئة",selectSupplier:"اختر موردًا",noDataToExport:"لا توجد بيانات للتصدير.",debt:"دين",product:"المنتج",loading:"جاري تحميل البيانات",copy:"نسخ",copied:"تم النسخ!",searchByName:"البحث بالاسم...",noResultsFound:"لم يتم العثور على نتائج.",variant:"صنف",details:"التفاصيل",pricePlaceholder:"0.00",expenses:"المصاريف",history:"سجل",page:"صفحة",previous:"السابق",next:"التالي",login:"تسجيل الدخول",loginToYourAccount:"سجل الدخول إلى حسابك",emailAddress:"البريد الإلكتروني",password:"كلمة المرور",pin:"الرمز السري",superAdminPin:"الرمز السري للمدير العام",invalidCredentialsError:"معلومات الدخول غير صحيحة. يرجى المحاولة مرة أخرى.",invalidApiKeyError:"مفتاح API Supabase غير صالح. يرجى التحقق من المفتاح في ملف supabaseClient.ts. يجب أن يكون مفتاح 'anon (public)' الخاص بمشروع Supabase.",storeDisabledError:"هذا المتجر معطل. يرجى الاتصال بالدعم الفني.",activateYourCompany:"تفعيل تطبيقك",enterLicenseKey:"الرجاء إدخال مفتاح الترخيص للمتابعة.",licenseKey:"مفتاح الترخيص",activate:"تفعيل",backToLogin:"العودة",forStore:"للمتجر: {storeName}",activationSuccess:"تم تفعيل التطبيق بنجاح! يمكنك الآن تسجيل الدخول.",invalidActivationCode:"رمز التفعيل غير صالح أو لا يخص هذا المتجر.",licenseInUse:"مفتاح الترخيص هذا مستخدم بالفعل على جهاز آخر.",tamperedLicenseError:"الترخيص غير صالح أو تم نقل التطبيق. يرجى الاتصال بالدعم.",storeNotFound:"لم يتم العثور على متجر بهذا المعرف.",enterKeyOrSuperAdminId:"أدخل مفتاح الترخيص أو معرف المدير العام",superAdminLogin:"دخول المدير العام",enterSuperAdminPin:"الرجاء إدخال الرمز السري للمدير العام",passwordOrPin:"كلمة المرور أو الرمز السري",rememberPin:"تذكر الرمز",trialDaysRemaining:"لديك {days} يومًا متبقيًا في الفترة التجريبية.",trialExpiredError:"انتهت الفترة التجريبية. التطبيق مقفل الآن.",reactivationSuccess:"تم إعادة تفعيل الترخيص بنجاح! يمكنك الآن تسجيل الدخول.",trialEnded:"انتهت الفترة التجريبية",changeLicenseOrSuperAdmin:"تغيير الترخيص / دخول المدير العام",quickLogin:"دخول سريع",orActivateAnotherLicense:"أو تفعيل ترخيص آخر",loginTo:"الدخول إلى {storeName}",unknownError:"حدث خطأ غير متوقع. الرجاء معاودة المحاولة.",trialHasExpired:"انتهت الفترة التجريبية",contactAdminToActivate:"الرجاء الاتصال بالدعم الفني للحصول على رمز التفعيل الدائم ومتابعة استخدام التطبيق.",superAdminActivation:"تفعيل من قبل المسؤول",enterSuperAdminPinToActivate:"أدخل الرمز السري للمسؤول لتفعيل هذا المتجر.",activatePermanently:"تفعيل دائم",enterActivationCode:"أدخل رمز التفعيل",activateApplication:"تفعيل التطبيق",activationSuccessReload:"تم التفعيل بنجاح! سيتم إعادة تشغيل التطبيق.",activationCode:"رمز التفعيل",permanentActivationCode:"رمز التفعيل الدائم",failedToFetchError_CORS:"فشل طلب الشبكة. الأسباب المحتملة: 1) مشروع Supabase الخاص بك متوقف مؤقتًا (أعد تنشيطه من لوحة التحكم). 2) مشكلة في إعدادات CORS (تحقق من النطاقات المسموح بها في إعدادات API). 3) مانع إعلانات أو مشكلة في الشبكة. يرجى التحقق من هذه النقاط والمحاولة مرة أخرى.",pos:"نقطة البيع",products:"المنتجات",services:"الخدمات",finance:"المالية",customers:"الزبائن",suppliers:"الموردون",categories:"الفئات",settings:"الإعدادات",superAdminDashboard:"لوحة تحكم المدير العام",addStore:"إضافة متجر جديد",storeName:"اسم المتجر",storeLogo:"شعار المتجر (اختياري)",adminEmail:"البريد الإلكتروني للمدير",adminPassword:"كلمة المرور الأولية للمدير",addStoreButton:"إنشاء المتجر",storeCreatedSuccess:"تم إنشاء المتجر! إليك معلومات تسجيل الدخول:",manageStores:"إدارة المتاجر الحالية",storeUsersAndPins:"المستخدمون ورموز الدخول:",saveChanges:"حفظ التغييرات",addSeller:"إضافة بائع جديد",newSellerPinPlaceholder:"الرمز السري للبائع الجديد",deleteStore:"حذف",deleteStoreConfirm:'هل أنت متأكد من رغبتك في حذف متجر "{storeName}"؟ سيتم حذف جميع بياناته (المنتجات، المبيعات، إلخ) بشكل دائم. هذا الإجراء لا يمكن التراجع عنه.',storeDeletedSuccess:'تم حذف متجر "{storeName}" بنجاح.',storeDeleteError:"حدث خطأ أثناء حذف المتجر.",fillAllFieldsError:"الرجاء ملء جميع الحقول الإلزامية.",pinUpdateSuccess:"تم تحديث معلومات الدخول بنجاح.",enterNewSellerPin:"الرجاء إدخال رمز سري للبائع الجديد.",storeStatus_licensed:"مرخص",storeStatus_notActivated:"في انتظار التفعيل",storeStatus_active:"نشط",storeStatus_inactive:"غير نشط",toggleStoreStatus:"تغيير حالة المتجر",noStoresAdded:"لم تتم إضافة أي متاجر.",newPassword:"كلمة مرور جديدة",newPin:"رمز سري جديد",trialPeriodDays:"فترة تجريبية (أيام) (0 للدائم)",trialDurationDisplay:"تجربة: {days} يومًا",superAdminPortal:"بوابة المدير العام",manageAllStores:"إدارة جميع المتاجر",manageAllStoresDesc:"إضافة أو حذف أو إدارة معلومات تسجيل الدخول لجميع المتاجر.",loginToStore:"تسجيل الدخول إلى متجر",loginToStoreDesc:"الوصول إلى لوحة تحكم متجر كمدير للدعم.",selectStoreToLogin:"اختر متجرًا لتسجيل الدخول:",loginAsAdmin:"دخول كمدير",noAdminForStore:"خطأ: لم يتم العثور على مستخدم مدير لهذا المتجر.",backToPortal:"العودة إلى البوابة",returnToPortal:"العودة إلى البوابة",permanentActivation:"تفعيل دائم",confirmPermanentActivation:'هل أنت متأكد من رغبتك في تفعيل متجر "{storeName}" بشكل دائم؟ سيؤدي هذا إلى إنهاء الفترة التجريبية ولا يمكن التراجع عنه.',permanentActivationDesc:"سيمنح هذا ترخيصًا كاملاً للمتجر وينهي الفترة التجريبية.",generateActivationCode:"إنشاء رمز تفعيل",activationCodeForStore:"رمز التفعيل الدائم لمتجر {storeName}",copyAndSendToClient:"انسخ هذا الرمز وأرسله للعميل للتفعيل الدائم.",activationCode_copied:"تم نسخ الرمز!",enableAiScan:"تفعيل المسح بالذكاء الاصطناعي",aiScanEnabled:"المسح مفعّل",aiScanDisabled:"المسح معطّل",aiScanFeatureDescription:"تفعيل ميزة إضافة المنتجات عبر مسح الإيصالات بالذكاء الاصطناعي.",useThisToLoginFirst:"استخدم هذا المفتاح في شاشة التفعيل الأولية للوصول إلى المتجر.",useThisPasswordAfter:"بعد استخدام مفتاح الترخيص، استخدم كلمة المرور هذه في شاشة تسجيل الدخول الخاصة بالمتجر.",activateImmediately:"تفعيل فوري",activateImmediatelyDesc:"سيكون المتجر نشطًا وجاهزًا للاستخدام فور إنشائه.",activeOnCreation:"مفعّل عند الإنشاء",inactiveOnCreation:"غير مفعّل عند الإنشاء",adminDashboard:"لوحة تحكم المدير",storeLabel:"المتجر:",welcome:"مرحبًا،",returnMode:"إرجاع",saleMode:"بيع",barcodeScannerActive:"ماسح الباركود نشط",scanToAdd:"امسح باركود المنتج لإضافته إلى السلة.",manualAdd:"إضافة يدوية",filterByCategory:"تصفية حسب الفئة",searchPlaceholder:"أو ابحث عن منتج بالاسم...",productNotFound:"لم يتم العثور على منتج بالباركود: {barcode}",productAdded:"تمت الإضافة: {productName}",productOutOfStock:'المنتج "{productName}" نفد من المخزون.',notEnoughStock:'لا يمكن إضافة المزيد من "{productName}". المخزون غير كاف.',invoice:"فاتورة",returnReceipt:"وصل إرجاع",clearCart:"إفراغ السلة",emptyCart:"السلة فارغة",totalLabel:"المجموع ({count} منتجات)",downPayment:"دفعة مقدمة:",remaining:"المتبقي:",refundAmount:"المبلغ المسترد:",processReturn:"إتمام الإرجاع",emptyCartError:"السلة فارغة!",cashCustomer:"زبون نقدي",debtPayment:"دفع دين",orderForm:"طلب شراء",subtotal:"المجموع الفرعي",vat:"ضريبة القيمة المضافة (20%)",totalTTC:"المجموع شامل الضريبة",totalHT:"المجموع بدون ضريبة",prixHT:"السعر بدون ضريبة",discount:"خصم",manualTotal:"مجموع يدوي",finalizeAndPrintInvoice:"إنهاء و طباعة الفاتورة (TTC)",finalizeAndPrintOrderForm:"إنهاء و طباعة طلب الشراء",variants:"أصناف",selectVariantFor:"اختر صنفًا لـ",selectVariant:"اختر صنفًا",outOfStock:"نفد من المخزون",scanReceipt:"مسح الإيصال",scanning:"جاري التحليل...",receiptScanError:"خطأ أثناء مسح الإيصال.",itemsAddedFromReceipt:"تمت إضافة {count} عناصر من الإيصال.",semiWholesalePrice:"سعر نصف الجملة",wholesalePrice:"سعر الجملة",priceLevel:"مستوى السعر",priceLevels:"مستويات الأسعار",unitPrice:"سعر الوحدة",unit:"التفصيل",semiWholesale:"نصف الجملة",wholesale:"الجملة",addCustomItem:"إضافة منتج مخصص",customItemName:"اسم المنتج",unitPriceLabel:"سعر الوحدة",itemNamePlaceholder:"مثال: خدمة خاصة",customItemAdded:"تمت إضافة المنتج المخصص",enterItemDetails:"أدخل تفاصيل المنتج",geminiApiKeyNotConfigured:"مفتاح API Gemini غير مهيأ لمسح الإيصالات.",addNewProduct:"إضافة منتج جديد",productImagePreview:"معاينة الصورة",editProduct:"تعديل المنتج",productInfo:"معلومات المنتج",productName:"اسم المنتج",productNamePlaceholder:"مثال: قميص قطني",productVariants:"أصناف المنتج",addVariant:"إضافة صنف",variantName:"اسم الصنف",variantNamePlaceholder:"مثال: أحمر، XL",purchasePrice:"سعر الشراء",sellingPrice:"سعر البيع",stockQuantity:"الكمية في المخزون",lowStockThreshold:"حد المخزون المنخفض",barcodePlaceholder:"امسح أو أدخل الباركود",saveProduct:"حفظ المنتج",productList:"قائمة المنتجات",searchProducts:"ابحث عن منتجات...",exportToPdf:"تصدير إلى PDF",productNameTable:"اسم المنتج",variantNameTable:"الصنف",priceTable:"سعر البيع",printBarcodeLabel:"طباعة ملصق الباركود",fillNameAndPriceError:"الرجاء إدخال اسم وسعر صالحين لجميع الأصناف.",confirmProductDelete:"هل أنت متأكد من رغبتك في حذف هذا المنتج وجميع أصنافه؟",noProductsAdded:"لم تتم إضافة أي منتجات بعد.",noProductsInCategory:"لا توجد منتجات في هذه الفئة.",uncategorized:"بدون فئة",noVariants:"لا توجد أصناف",sellingPriceMustBeHigherError:"يجب أن يكون سعر البيع أعلى من سعر الشراء.",addStockFor:"إضافة مخزون لـ {name}",addStock:"إضافة إلى المخزون",quantityToAdd:"الكمية المضافة",fillAllFields:"الرجاء ملء جميع الحقول.",addNewService:"إضافة خدمة جديدة",serviceName:"اسم الخدمة",defaultPrice:"السعر الافتراضي",saveService:"حفظ الخدمة",serviceList:"قائمة الخدمات",noServicesAdded:"لم تتم إضافة أي خدمات.",serviceNamePlaceholder:"مثال: إصلاح شاشة",service:"خدمة",editService:"تعديل الخدمة",confirmServiceDelete:"هل أنت متأكد من رغبتك في حذف هذه الخدمة؟",serviceAddedSuccess:'تمت إضافة الخدمة "{name}" بنجاح.',serviceUpdatedSuccess:'تم تحديث الخدمة "{name}" بنجاح.',financialOverview:"نظرة عامة مالية",netRevenue:"الإيرادات الصافية",totalRevenueMinusReturns:"إجمالي الإيرادات ناقص المرتجعات",netProfit:"الربح الصافي",realizedProfitMinusExpenses:"الربح المحقق ناقص المصاريف",customerDebts:"ديون الزبائن",clickToViewDetails:"انقر لعرض التفاصيل",totalExpenses:"إجمالي المصاريف",salesPerformance:"أداء المبيعات",topSellingProducts:"المنتجات الأكثر مبيعًا",units:"وحدات",sales:"المبيعات",salesHistory:"سجل المبيعات",invoiceNumber:"رقم الفاتورة",viewDetails:"عرض التفاصيل",billNumber:"رقم الفاتورة:",downPaymentLabel:"دفعة مقدمة",remainingAmountLabel:"المبلغ المتبقي",itemsLabel:"الأصناف",noSalesForPeriod:"لا توجد مبيعات مسجلة لهذه الفترة.",debtorCustomers:"الزبائن المدينون",debtAmount:"مبلغ الدين",noDebtorCustomers:"لا يوجد زبائن مدينون.",returnHistory:"سجل المرتجعات",returnId:"رقم الإرجاع",refundAmountLabel:"المبلغ المسترد",profitLost:"الربح المفقود",returnedItems:"الأصناف المرتجعة",noReturnsForPeriod:"لا توجد مرتجعات مسجلة لهذه الفترة.",deleteHistory:"حذف السجل",manageExpenses:"إدارة المصاريف",addExpense:"إضافة مصروف",expenseHistory:"سجل المصاريف",noExpensesForPeriod:"لا توجد مصاريف لهذه الفترة.",totalCostOfGoods:"إجمالي تكلفة المشتريات",totalSupplierDebt:"إجمالي دين الموردين",allPurchasesHistory:"سجل جميع المشتريات",noPurchasesRecorded:"لم يتم تسجيل أي مشتريات.",supplierDebtsList:"قائمة ديون الموردين",noSupplierDebt:"لا توجد ديون للموردين.",sellerReportsAndZReport:"تقارير البائع و تقرير Z",netActivity:"النشاط الصافي",totalSales:"إجمالي المبيعات",totalReturns:"إجمالي المرتجعات",numberOfSales:"{count} مبيعات",numberOfReturns:"{count} مرتجعات",transactionList:"قائمة المعاملات",transactionType:"النوع",noTransactionsForSeller:"لا توجد معاملات لهذا البائع/الفترة.",type:"النوع",sale:"بيع",return:"إرجاع",saving:"جاري الحفظ...",profitLabel:"الربح",customItemRevenue:"إيرادات المنتجات المخصصة",fromManuallyAddedItems:"من المنتجات المضافة يدوياً",customItemsDetails:"تفاصيل المنتجات المخصصة",totalCustomRevenue:"إجمالي إيرادات المنتجات المخصصة",customItemsInSale:"المنتجات المخصصة في هذه الفاتورة",userName:"اسم المستخدم",pinMin4Digits:"الرمز السري (4 أرقام على الأقل)",userList:"قائمة المستخدمين",resetPinFor:"إعادة تعيين الرمز السري لـ {name}",currentPassword:"كلمة المرور الحالية",confirmNewPassword:"تأكيد كلمة المرور الجديدة",changePassword:"تغيير كلمة المرور",pinMustBe4Chars:"يجب أن يتكون الرمز السري من 4 أرقام على الأقل.",userExistsError:'مستخدم بالاسم "{name}" موجود بالفعل.',userAddedSuccess:'تمت إضافة المستخدم "{name}" بنجاح.',pinUpdatedForUser:"تم تحديث الرمز السري لـ {name}.",confirmUserDelete:"هل أنت متأكد من رغبتك في حذف المستخدم {name}؟",cannotDeleteAdmin:"لا يمكنك حذف المستخدم المدير.",currentPasswordIncorrect:"كلمة المرور الحالية غير صحيحة.",newPasswordEmpty:"كلمة المرور الجديدة لا يمكن أن تكون فارغة.",passwordsDoNotMatch:"كلمتا المرور الجديدتان غير متطابقتين.",passwordChangedSuccess:"تم تغيير كلمة المرور بنجاح.",backupAndRestore:"النسخ الاحتياطي والاستعادة",backupButton:"نسخ البيانات احتياطيًا",backupDescription:"قم بإنشاء نسخة احتياطية من جميع بياناتك (المنتجات، المبيعات، إلخ). احتفظ بهذا الملف في مكان آمن.",restoreButton:"استعادة البيانات",restoreDescription:"استعادة البيانات من ملف. تحذير: سيؤدي هذا إلى استبدال جميع البيانات الحالية.",restoreConfirm:"هل أنت متأكد من رغبتك في استعادة البيانات؟ سيتم الكتابة فوق جميع البيانات الحالية. هذا الإجراء لا يمكن التراجع عنه.",restoreSuccess:"تمت الاستعادة بنجاح. سيتم إعادة تشغيل التطبيق.",restoreError:"ملف النسخ الاحتياطي غير صالح أو تالف.",jsonParseError:"النص الذي تم لصقه ليس بصيغة JSON صالحة. يرجى التأكد من أنك نسخت المحتوى الكامل لملف النسخ الاحتياطي .json، بدءًا من `{` وانتهاءً بـ `}`.",restoreFromText:"استعادة من نص",pasteBackupContent:"الصق هنا المحتوى الكامل لملف النسخ الاحتياطي .json الخاص بك.",restoreFromTextDescription:"هذه هي الطريقة الموصى بها. إنها تتجنب مشاكل تحميل الملفات المحتملة.",restoreFromFileAlternative:"بدلاً من ذلك، يمكنك الاستعادة من ملف...",storeSettings:"إعدادات المتجر",storeNameLabel:"اسم المتجر",storeAddress:"العنوان",storeICE:"رقم ICE",storeLogoLabel:"شعار المتجر",changeLogo:"تغيير الشعار",saveStoreChanges:"حفظ التغييرات",storeUpdateSuccess:"تم تحديث معلومات المتجر بنجاح.",storeUpdateError:"خطأ أثناء تحديث المعلومات.",logoPreview:"معاينة الشعار",addNewCustomer:"إضافة زبون جديد",addCustomer:"إضافة الزبون",customerList:"قائمة الزبائن",nameAndPhoneRequired:"الاسم والهاتف مطلوبان.",customerExistsError:"زبون برقم الهاتف {phone} موجود بالفعل.",customerAddedSuccess:'تمت إضافة الزبون "{name}" بنجاح.',customerDeletedSuccess:'تم حذف الزبون "{name}" بنجاح.',customerDeleteError:'لا يمكن حذف الزبون "{name}" لأن لديه دين بقيمة {debt} درهم.',customerDeleteErrorHasDebt:'لا يمكن حذف الزبون "{name}" لأن لديه دين بقيمة {debt} درهم.',noCustomersAdded:"لم تتم إضافة أي زبائن بعد.",debtManagement:"إدارة الديون",totalDebt:"إجمالي الدين:",paymentAmount:"مبلغ الدفع",recordPayment:"تسجيل الدفع",manageDebt:"إدارة الدين",enterValidPayment:"الرجاء إدخال مبلغ دفع صالح.",paying:"جاري الدفع...",confirmCustomerDelete:'هل أنت متأكد من رغبتك في حذف الزبون "{name}"؟',printDebtReport:"طباعة تقرير الدين",debtReportFor:"تقرير الدين لـ {name}",printAllDebtReports:"طباعة جميع تقارير الديون",noDebtsToReport:"لا توجد ديون للإبلاغ عنها.",purchaseHistoryFor:"سجل المشتريات لـ {name}",totalPurchases:"إجمالي المشتريات",currentDebt:"الدين الحالي",printReport:"طباعة التقرير",invoiceHistory:"سجل الفواتير",noInvoicesFound:"لم يتم العثور على فواتير لهذا الزبون.",addNewSupplier:"إضافة مورد جديد",addSupplier:"إضافة المورد",supplierList:"قائمة الموردين",supplierExistsError:"مورد برقم الهاتف {phone} موجود بالفعل.",supplierAddedSuccess:'تمت إضافة المورد "{name}" بنجاح.',supplierDeletedSuccess:'تم حذف المورد "{name}" بنجاح.',supplierDeleteError:'لا يمكن حذف المورد "{name}" لأن عليه دين حالي.',supplierDeleteErrorHasDebt:'لا يمكن حذف المورد "{name}" لأن عليه دين بقيمة {debt} درهم.',noSuppliersAdded:"لم تتم إضافة أي موردين.",newPurchase:"شراء جديد",purchaseHistory:"سجل المشتريات",managePayments:"إدارة المدفوعات",supplierDebt:"دين المورد",noDebt:"لا يوجد دين",newPurchaseFor:"شراء جديد من {name}",addProductsToPurchase:"إضافة منتجات إلى الشراء",selectProducts:"اختيار منتجات موجودة",orAddNewProductPrompt:"المنتج غير موجود؟",addNewProductButton:"إنشاء منتج جديد",saveAndAddToList:"حفظ وإضافة إلى القائمة",noProductsInPurchase:"لم يتم إضافة أي منتجات إلى هذا الشراء.",totalAmount:"المبلغ الإجمالي",paymentMethod:"طريقة الدفع",amountToPay:"المبلغ للدفع",cash:"نقداً",card:"بطاقة بنكية",transfer:"تحويل بنكي",check:"شيك",amountPaid:"المبلغ المدفوع",remainingDebt:"المتبقي للدفع",completePurchase:"إتمام الشراء",noPurchasesYet:"لم يتم تسجيل أي مشتريات لهذا المورد بعد.",purchaseDate:"تاريخ الشراء",purchaseDetails:"تفاصيل الشراء",reference:"المرجع",referencePlaceholder:"مثال: فاتورة رقم 123، وصل تسليم...",paymentRecorded:"تم تسجيل الدفع بنجاح.",confirmSupplierDelete:'هل أنت متأكد من رغبتك في حذف المورد "{name}"؟',addNewCategory:"إضافة فئة جديدة",categoryName:"اسم الفئة",categoryList:"قائمة الفئات",noCategoriesAdded:"لم تتم إضافة أي فئات.",categoryNameEmptyError:"لا يمكن أن يكون اسم الفئة فارغًا.",categoryExistsError:'فئة بالاسم "{name}" موجودة بالفعل.',categoryAddedSuccess:'تمت إضافة الفئة "{name}" بنجاح.',categoryUpdatedSuccess:'تم تحديث الفئة "{name}" بنجاح.',confirmCategoryDelete:'هل أنت متأكد من رغبتك في حذف الفئة "{name}"؟',categoryDeleteError:"لا يمكن حذف هذه الفئة لأنها مستخدمة من قبل منتجات.",editCategory:"تعديل الفئة",categoryDeletedSuccess:'تم حذف الفئة "{name}" بنجاح.',lowStockAlert:"تنبيه انخفاض المخزون",lowStockMessage:"المنتجات التالية مخزونها منخفض أو نفدت. فكر في عمل طلبية.",unknown:"غير معروف",invoiceTitle:"فاتورة",orderFormTitle:"طلب شراء",invoiceAddress:"عنوان المتجر",thankYou:"شكرا لزيارتكم!",productColumn:"المنتج",returnReceiptTitle:"وصل إرجاع",returnIdLabel:"رقم وصل الإرجاع",optional:"اختياري",purchase_ref_initial_stock:"المخزون الأولي",purchase_ref_stock_adjustment:"تعديل المخزون",supabaseConfigErrorTitle:"خطأ في إعدادات Supabase",supabaseConfigErrorSubtitle:"مفتاح API الخاص بقاعدة البيانات غير مهيأ. لا يمكن بدء تشغيل التطبيق.",supabaseConfigErrorInstruction:"الرجاء فتح الملف `{fileName}` وتعديل السطر المميز باللون الأحمر أدناه:",supabaseConfigErrorHint:"يمكنك الحصول على هذا المفتاح من لوحة تحكم مشروعك على Supabase. بعد حفظ الملف، سيتم إعادة تحميل التطبيق تلقائيًا.",supabaseConfigComment1:"// --- هام: أضف مفتاح API الخاص بك هنا ---",supabaseConfigComment2:"// استبدل السلسلة النصية أدناه بمفتاح 'anon' العام الخاص بك من Supabase (وليس مفتاح 'publishable').",supabaseConfigComment3:"// يمكنك العثور عليه في: لوحة تحكم Supabase -> الإعدادات -> API.",supabaseConfigComment4:'// المفتاح عبارة عن سلسلة نصية طويلة تبدأ بـ "eyJ...".',supabaseConfigKeyWarning:"⚠️ هام: لا تستخدم مفتاح `publishable` (الذي يبدأ بـ `sb_publishable_`). يجب عليك استخدام مفتاح `anon` (العام) وهو سلسلة نصية أطول بكثير."}},x_e=()=>{const[t,e]=vc("pos-active-store",null),[n,r]=vc("pos-active-user",null),[i,a]=vc("pos-is-super-admin",!1),[o,s]=vc("pos-super-admin-view","landing"),[l,u]=re.useState(!0),[c,d]=re.useState("Loading..."),[h,p]=re.useState("POS"),[v,b]=vc("pos-language","fr"),[x,y]=vc("theme","light"),[w,S]=re.useState([]),[T,C]=re.useState(null),[k,E]=re.useState(null),M=re.useCallback((Le,Ke)=>{let Je=sg[v]&&sg[v][Le]?sg[v][Le]:sg.fr[Le];return Ke&&Object.keys(Ke).forEach(At=>{Je=Je.replace(`{${At}}`,String(Ke[At]))}),Je},[v]),I=Qi("products"),B=Qi("productVariants"),O=Qi("sales"),j=Qi("expenses"),U=Qi("users"),F=Qi("returns"),G=Qi("stores"),R=Qi("customers"),$=Qi("suppliers"),H=Qi("categories"),Y=Qi("purchases"),X=Qi("stockBatches"),te=re.useMemo(()=>{const Le=new Map;return X.data.forEach(Ke=>{Le.set(Ke.variantId,(Le.get(Ke.variantId)||0)+Ke.quantity)}),O.data.forEach(Ke=>{Ke.items.forEach(Je=>{Je.type==="good"&&!Je.isCustom&&Le.set(Je.id,(Le.get(Je.id)||0)-Je.quantity)})}),F.data.forEach(Ke=>{Ke.items.forEach(Je=>{Je.type==="good"&&!Je.isCustom&&Le.set(Je.id,(Le.get(Je.id)||0)+Je.quantity)})}),Le},[X.data,O.data,F.data]),D=re.useMemo(()=>new Map(B.data.map(Le=>[Le.id,Le])),[B.data]),q=re.useMemo(()=>{const Le=new Map;return B.data.forEach(Ke=>{const Je=Le.get(Ke.productId)||[];Je.push(Ke),Le.set(Ke.productId,Je)}),Le},[B.data]),Z=re.useMemo(()=>{const Le=new Map;return B.data.forEach(Ke=>{Ke.barcode&&Le.set(Ke.barcode,Ke)}),Le},[B.data]),ne=re.useMemo(()=>B.data.filter(Le=>(te.get(Le.id)||0)<=Le.lowStockThreshold),[B.data,te]);re.useEffect(()=>{x==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",x)},[x]);const ae=()=>y(Le=>Le==="light"?"dark":"light");re.useEffect(()=>{!n&&!i&&u(!1)},[n,i]);const me=re.useCallback(async Le=>{u(!0);const Ke=Je=>new Promise(At=>setTimeout(At,Je));try{const Je=[{key:"products",name:M("products"),fetch:D9,store:I},{key:"productVariants",name:M("variants"),fetch:_j,store:B},{key:"sales",name:M("sales"),fetch:L9,store:O},{key:"expenses",name:M("expenses"),fetch:R9,store:j},{key:"users",name:M("userList"),fetch:z9,store:U},{key:"returns",name:M("returnHistory"),fetch:H9,store:F},{key:"customers",name:M("customers"),fetch:F9,store:R},{key:"suppliers",name:M("suppliers"),fetch:B9,store:$},{key:"categories",name:M("categories"),fetch:$9,store:H},{key:"purchases",name:M("allPurchasesHistory"),fetch:U9,store:Y},{key:"stockBatches",name:M("stock"),fetch:q9,store:X}];for(const At of Je){d(`${M("loading")} ${At.name}...`);const Pt=await At.fetch(Le);await At.store.clear(),Pt&&Pt.length>0&&await At.store.bulkAdd(Pt),await Ke(100)}t&&(await G.clear(),await G.add(t))}catch(Je){console.error("Failed to sync data:",Je),alert(M("failedToFetchError_CORS"))}finally{u(!1),d(M("loading"))}},[t,M,I,B,O,j,U,F,G,R,$,H,Y,X]);re.useEffect(()=>{t!=null&&t.id&&(async()=>{const Ke=I.data;Ke.length===0||Ke[0]&&Ke[0].storeId!==t.id?me(t.id):u(!1)})()},[t==null?void 0:t.id,I.data,me]);const Ae=re.useCallback((Le,Ke)=>{e(Ke),r(Le),a(!1),u(!0)},[e,r,a]),W=re.useCallback(()=>{a(!0),s("landing"),e(null),r(null),u(!1)},[a,s,e,r]),le=re.useCallback(()=>{const Le=[I,B,O,j,U,F,G,R,$,H,Y,X];Promise.all(Le.map(Ke=>Ke.clear())).then(()=>{e(null),r(null),a(!1),localStorage.removeItem("pos-license"),S([])})},[e,r,a,I,B,O,j,U,F,G,R,$,H,Y,X]),ce=re.useCallback((Le,Ke)=>{a(!1),e(Ke),r(Le),u(!0)},[a,e,r]),ue=re.useCallback(async(Le,Ke)=>{const{product:Je,variants:At,stockBatches:Pt}=await rN(Le,Ke);return await I.add(Je),await B.bulkAdd(At),Pt.length>0&&await X.bulkAdd(Pt),{product:Je,variants:At}},[I,B,X]),Me=re.useCallback(async(Le,Ke)=>{const{updatedVariants:Je,newVariants:At,deletedVariantIds:Pt,newStockBatches:lt}=await iN(Le,Ke);await I.update(Le);for(const vr of Je)await B.update(vr);At.length>0&&await B.bulkAdd(At);for(const vr of Pt)await B.remove(vr);lt.length>0&&await X.bulkAdd(lt)},[I,B,X]),De=re.useCallback(async Le=>{await Y9(Le);const Ke=B.data.filter(Je=>Je.productId===Le);for(const Je of Ke){const At=X.data.filter(Pt=>Pt.variantId===Je.id);for(const Pt of At)await X.remove(Pt.id);await B.remove(Je.id)}await I.remove(Le)},[I,B,X]),Ne=re.useCallback(async Le=>{const{product:Ke,variants:Je}=await rN(Le,[]);return await I.add(Ke),{product:Ke,variants:Je}},[I]),oe=re.useCallback(async Le=>{await iN(Le,[]),await I.update(Le)},[I]),Ee=De,ke=re.useCallback(async(Le,Ke,Je,At)=>{if(!n||!t)return;const Pt=await Z9(w,Le,Ke,Je,n.id,t.id);await O.add(Pt),C({sale:Pt,mode:At}),S([])},[w,n,t,O]),xe=re.useCallback(async Le=>{if(!n||!t)return;const Ke=await eq(Le,n.id,t.id);await F.add(Ke);const Je=[];for(const At of Le)At.type==="good"&&!At.isCustom&&Je.push({variantId:At.id,quantity:At.quantity,purchasePrice:At.purchasePrice||0,createdAt:new Date().toISOString(),storeId:t.id});if(Je.length>0)for(const At of Je){const Pt=await K9(At);await X.add(Pt)}E(Ke),S([])},[n,t,F,X]),Pe=re.useCallback(async(Le,Ke)=>{if(!n||!t)return;const Je=await tq(Le,Ke,n.id,t.id);await O.add(Je)},[n,t,O]),ye=re.useCallback(async Le=>{const{purchase:Ke,newStockBatch:Je,updatedVariant:At}=await J9(Le);await Y.add(Ke),await X.add(Je),await B.update(At)},[Y,X,B]),_e=(Le,Ke,Je)=>async At=>{const Pt=await Le(At);return Je==="add"&&await Ke.add(Pt),Je==="update"&&await Ke.update(At),Je==="remove"&&await Ke.remove(At),Pt},be=_e(sq,R,"add"),Ve=_e(lq,R,"remove"),Ge=_e(uq,$,"add"),ot=_e(cq,$,"remove"),ze=_e(dq,H,"add"),ht=_e(fq,H,"update"),et=_e(hq,H,"remove"),pt=_e(Nj,U,"add"),We=_e(Ej,U,"update"),cn=_e(pq,U,"remove"),jt=_e(nq,j,"add"),Se=_e(rq,j,"update"),Ue=_e(iq,j,"remove"),rt=_e(aq,F,"remove"),gt=async()=>{t&&(await oq(t.id),await F.clear())},st=_e(Q9,Y,"update"),mn=re.useCallback(async Le=>{const{newPurchase:Ke,newStockBatches:Je}=await X9(Le);await Y.add(Ke),await X.bulkAdd(Je)},[Y,X]),Mt=re.useCallback(async()=>{const Le={stores:G.data,users:U.data,products:I.data,productVariants:B.data,sales:O.data,expenses:j.data,customers:R.data,suppliers:$.data,categories:H.data,purchases:Y.data,stockBatches:X.data,returns:F.data},Ke=JSON.stringify(Le,null,2),Je=new Blob([Ke],{type:"application/json"}),At=URL.createObjectURL(Je),Pt=document.createElement("a");Pt.href=At,Pt.download=`goshop-backup-${t==null?void 0:t.name.replace(/\s/g,"_")}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Pt),Pt.click(),document.body.removeChild(Pt),URL.revokeObjectURL(At)},[t,G,U,I,B,O,j,R,$,H,Y,X,F]),or=re.useCallback(async Le=>{if(window.confirm(M("restoreConfirm")))try{const Ke=Le.trim();if(!Ke)throw new Error("Pasted content is empty.");const Je=JSON.parse(Ke);if(typeof Je!="object"||Je===null||Array.isArray(Je))throw new Error("Invalid backup format. The backup must be a JSON object containing keys like 'products', 'customers', etc.");const At={products:I,productVariants:B,sales:O,expenses:j,users:U,returns:F,stores:G,customers:R,suppliers:$,categories:H,purchases:Y,stockBatches:X};u(!0),d(M("restoreButton"));let Pt=!1;for(const lt in Je)if(Object.prototype.hasOwnProperty.call(Je,lt)&&lt in At){const vr=lt,ai=At[vr],Er=Je[vr];ai&&Array.isArray(Er)&&(await ai.clear(),await ai.bulkAdd(Er),Pt=!0)}if(!Pt)throw new Error("Backup file contains no recognizable data to restore (e.g., 'products', 'customers').");alert(M("restoreSuccess")),window.location.reload()}catch(Ke){console.error("Restore failed:",Ke);const Je=Ke instanceof SyntaxError?M("jsonParseError"):`${M("restoreError")}${Ke.message?`: ${Ke.message}`:""}`;alert(Je)}finally{u(!1)}},[M,I,B,O,j,U,F,G,R,$,H,Y,X]),ii=re.useCallback(async Le=>{if(!t)return;const Ke={...t,...Le},Je=await Ic(Ke);e(Je)},[t,e]);if(l&&(!t||!n))return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900",children:[A.jsx(Ad,{url:t==null?void 0:t.logo,className:"w-48 h-auto mb-4 animate-pulse"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-300 font-semibold",children:c})]});if(i)return o==="dashboard"?A.jsx(g_e,{onLoginAsStoreAdmin:ce,onLogout:le,onGoBack:()=>s("landing"),t:M,language:v,setLanguage:b,theme:x,toggleTheme:ae}):A.jsx(m_e,{onLoginAsStoreAdmin:ce,onGoToDashboard:()=>s("dashboard"),onLogout:le,t:M,language:v,setLanguage:b,theme:x,toggleTheme:ae});if(!n||!t)return A.jsx(Sq,{onLoginSuccess:Ae,onSuperAdminLogin:W,t:M,language:v,setLanguage:b,theme:x,toggleTheme:ae});const dn=()=>{const Le=t.id;switch(h){case"POS":return A.jsx(EQ,{store:t,user:n,products:I.data,variants:B.data,customers:R.data,categories:H.data,sales:O.data,stockMap:te,variantMap:D,variantsByProduct:q,barcodeMap:Z,cart:w,setCart:S,completeSale:ke,processReturn:xe,payCustomerDebt:Pe,t:M,language:v});case"Products":return A.jsx(OZ,{storeId:Le,products:I.data.filter(Ke=>Ke.type==="good"),variants:B.data,suppliers:$.data,categories:H.data,stockMap:te,addProduct:ue,updateProduct:Me,deleteProduct:De,addStockToVariant:ye,t:M,language:v});case"Services":return A.jsx(IZ,{storeId:Le,services:I.data.filter(Ke=>Ke.type==="service"),addService:Ne,updateService:oe,deleteService:Ee,t:M});case"Finance":return A.jsx(i_e,{storeId:Le,sales:O.data,expenses:j.data,purchases:Y.data,suppliers:$.data,returns:F.data,customers:R.data,users:U.data,addProduct:ue,addExpense:jt,updateExpense:Se,deleteExpense:Ue,deleteReturn:rt,deleteAllReturns:gt,onReprintInvoice:Ke=>C({sale:Ke,mode:"invoice"}),t:M,language:v,theme:x});case"Customers":return A.jsx(s_e,{storeId:Le,customers:R.data,sales:O.data,addCustomer:be,deleteCustomer:Ve,payCustomerDebt:Pe,t:M,language:v});case"Suppliers":return A.jsx(d_e,{storeId:Le,suppliers:$.data,products:I.data,variants:B.data,purchases:Y.data,categories:H.data,addSupplier:Ge,deleteSupplier:ot,addPurchase:mn,updatePurchase:st,addProduct:ue,t:M,language:v});case"Categories":return A.jsx(h_e,{storeId:Le,categories:H.data,addCategory:ze,updateCategory:ht,deleteCategory:et,t:M,language:v});case"Settings":return A.jsx(p_e,{activeUser:n,store:t,storeId:Le,users:U.data,addUser:pt,updateUser:We,deleteUser:cn,onUpdateStore:ii,onBackup:Mt,onRestore:or,t:M});default:return null}},dt=[{name:"POS",icon:gq,label:M("pos")},{name:"Products",icon:mq,label:M("products")},{name:"Services",icon:Aa,label:M("services")},{name:"Finance",icon:vq,label:M("finance")},{name:"Customers",icon:yS,label:M("customers")},{name:"Suppliers",icon:Mj,label:M("suppliers")},{name:"Categories",icon:Oj,label:M("categories")},{name:"Settings",icon:vS,label:M("settings")}];return A.jsxs("div",{className:`min-h-screen flex flex-col md:flex-row ${v==="ar"?"rtl":"ltr"}`,children:[T&&A.jsx(v_e,{sale:T.sale,mode:T.mode,onClose:()=>C(null),store:t,customers:R.data,t:M,language:v}),k&&A.jsx(y_e,{returnObject:k,onClose:()=>E(null),store:t,t:M,language:v}),t&&A.jsx(A_e,{store:t,t:M}),A.jsx("aside",{className:"bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-100 w-full md:w-64 flex-shrink-0 shadow-lg md:shadow-none border-b-2 md:border-b-0 md:border-r-2 dark:border-slate-700",children:A.jsxs("div",{className:"p-4 flex flex-col h-full",children:[A.jsxs("div",{className:"flex items-center justify-between gap-2 mb-6",children:[A.jsx(Ad,{url:t.logo,className:"w-12 h-12 rounded-lg object-cover"}),A.jsxs("div",{className:"flex-grow",children:[A.jsx("h1",{className:"font-bold text-lg leading-tight",children:t.name}),A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[M("welcome")," ",n.name]})]})]}),A.jsx("nav",{className:"flex-grow",children:A.jsx("ul",{className:"flex flex-row md:flex-col gap-2 flex-wrap justify-center",children:dt.map(Le=>A.jsx("li",{children:A.jsxs("button",{onClick:()=>p(Le.name),className:`w-full flex items-center gap-3 p-3 rounded-lg text-sm font-semibold transition-colors ${h===Le.name?"bg-teal-500 text-white shadow":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[A.jsx(Le.icon,{className:"w-5 h-5"}),A.jsx("span",{className:"hidden md:inline",children:Le.label})]})},Le.name))})}),A.jsxs("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-slate-700 space-y-2",children:[A.jsxs("div",{className:"flex items-center justify-around",children:[A.jsx("button",{onClick:ae,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:x==="light"?A.jsx(Iv,{className:"w-5 h-5"}):A.jsx(jv,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>b(v==="fr"?"ar":"fr"),className:"font-bold p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:v==="fr"?"AR":"FR"})]}),A.jsxs("button",{onClick:le,className:"w-full flex items-center justify-center gap-2 p-3 text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/50 rounded-lg font-semibold transition-colors",children:[A.jsx(gS,{className:"w-5 h-5"}),A.jsx("span",{className:"hidden md:inline",children:M("logout")})]})]})]})}),A.jsxs("main",{className:"flex-1 p-4 sm:p-6 bg-gray-100 dark:bg-slate-900 overflow-y-auto h-[calc(100vh-160px)] md:h-auto",children:[ne.length>0&&h==="Products"&&A.jsx(b_e,{products:I.data,variants:ne,suppliers:$.data,t:M}),l?A.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[A.jsx(Ad,{url:t==null?void 0:t.logo,className:"w-32 h-32 mb-4 animate-pulse"}),A.jsx("p",{className:"text-slate-600 dark:text-slate-300 font-semibold",children:c})]}):dn()]})]})},S8=document.getElementById("root");if(!S8)throw new Error("Could not find root element to mount to");const w_e=i$.createRoot(S8);w_e.render(A.jsx(fe.StrictMode,{children:A.jsx(x_e,{})}));export{rn as _,pr as c,Jt as g};
