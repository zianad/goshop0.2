(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var YP={exports:{}},tv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i7=Symbol.for("react.transitional.element"),a7=Symbol.for("react.fragment");function KP(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:i7,type:t,key:r,ref:e!==void 0?e:null,props:n}}tv.Fragment=a7;tv.jsx=KP;tv.jsxs=KP;YP.exports=tv;var m=YP.exports,JP={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=Symbol.for("react.transitional.element"),o7=Symbol.for("react.portal"),s7=Symbol.for("react.fragment"),l7=Symbol.for("react.strict_mode"),u7=Symbol.for("react.profiler"),c7=Symbol.for("react.consumer"),f7=Symbol.for("react.context"),d7=Symbol.for("react.forward_ref"),h7=Symbol.for("react.suspense"),p7=Symbol.for("react.memo"),XP=Symbol.for("react.lazy"),A7=Symbol.for("react.activity"),oT=Symbol.iterator;function m7(t){return t===null||typeof t!="object"?null:(t=oT&&t[oT]||t["@@iterator"],typeof t=="function"?t:null)}var QP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZP=Object.assign,e6={};function Wf(t,e,n){this.props=t,this.context=e,this.refs=e6,this.updater=n||QP}Wf.prototype.isReactComponent={};Wf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t6(){}t6.prototype=Wf.prototype;function i5(t,e,n){this.props=t,this.context=e,this.refs=e6,this.updater=n||QP}var a5=i5.prototype=new t6;a5.constructor=i5;ZP(a5,Wf.prototype);a5.isPureReactComponent=!0;var sT=Array.isArray;function Z1(){}var Tn={H:null,A:null,T:null,S:null},n6=Object.prototype.hasOwnProperty;function o5(t,e,n){var r=n.ref;return{$$typeof:r5,type:t,key:e,ref:r!==void 0?r:null,props:n}}function g7(t,e){return o5(t.type,e,t.props)}function s5(t){return typeof t=="object"&&t!==null&&t.$$typeof===r5}function v7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lT=/\/+/g;function gb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?v7(""+t.key):e.toString(36)}function y7(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Z1,Z1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function _c(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case r5:case o7:o=!0;break;case XP:return o=t._init,_c(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+gb(t,0):r,sT(i)?(n="",o!=null&&(n=o.replace(lT,"$&/")+"/"),_c(i,e,n,"",function(u){return u})):i!=null&&(s5(i)&&(i=g7(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(lT,"$&/")+"/")+o)),e.push(i)),1;o=0;var s=r===""?".":r+":";if(sT(t))for(var l=0;l<t.length;l++)r=t[l],a=s+gb(r,l),o+=_c(r,e,n,a,i);else if(l=m7(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=s+gb(r,l++),o+=_c(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return _c(y7(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Am(t,e,n){if(t==null)return t;var r=[],i=0;return _c(t,r,"","",function(a){return e.call(n,a,i++)}),r}function b7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var uT=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},x7={map:Am,forEach:function(t,e,n){Am(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Am(t,function(){e++}),e},toArray:function(t){return Am(t,function(e){return e})||[]},only:function(t){if(!s5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Activity=A7;Tt.Children=x7;Tt.Component=Wf;Tt.Fragment=s7;Tt.Profiler=u7;Tt.PureComponent=i5;Tt.StrictMode=l7;Tt.Suspense=h7;Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tn;Tt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Tn.H.useMemoCache(t)}};Tt.cache=function(t){return function(){return t.apply(null,arguments)}};Tt.cacheSignal=function(){return null};Tt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=ZP({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!n6.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return o5(t.type,i,r)};Tt.createContext=function(t){return t={$$typeof:f7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:c7,_context:t},t};Tt.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)n6.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return o5(t,a,i)};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:d7,render:t}};Tt.isValidElement=s5;Tt.lazy=function(t){return{$$typeof:XP,_payload:{_status:-1,_result:t},_init:b7}};Tt.memo=function(t,e){return{$$typeof:p7,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=Tn.T,n={};Tn.T=n;try{var r=t(),i=Tn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Z1,uT)}catch(a){uT(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Tn.T=e}};Tt.unstable_useCacheRefresh=function(){return Tn.H.useCacheRefresh()};Tt.use=function(t){return Tn.H.use(t)};Tt.useActionState=function(t,e,n){return Tn.H.useActionState(t,e,n)};Tt.useCallback=function(t,e){return Tn.H.useCallback(t,e)};Tt.useContext=function(t){return Tn.H.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t,e){return Tn.H.useDeferredValue(t,e)};Tt.useEffect=function(t,e){return Tn.H.useEffect(t,e)};Tt.useEffectEvent=function(t){return Tn.H.useEffectEvent(t)};Tt.useId=function(){return Tn.H.useId()};Tt.useImperativeHandle=function(t,e,n){return Tn.H.useImperativeHandle(t,e,n)};Tt.useInsertionEffect=function(t,e){return Tn.H.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return Tn.H.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return Tn.H.useMemo(t,e)};Tt.useOptimistic=function(t,e){return Tn.H.useOptimistic(t,e)};Tt.useReducer=function(t,e,n){return Tn.H.useReducer(t,e,n)};Tt.useRef=function(t){return Tn.H.useRef(t)};Tt.useState=function(t){return Tn.H.useState(t)};Tt.useSyncExternalStore=function(t,e,n){return Tn.H.useSyncExternalStore(t,e,n)};Tt.useTransition=function(){return Tn.H.useTransition()};Tt.version="19.2.0";JP.exports=Tt;var ne=JP.exports;const de=Gt(ne);var r6={exports:{}},nv={},i6={exports:{}},a6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,B){var W=R.length;R.push(B);e:for(;0<W;){var K=W-1>>>1,Z=R[K];if(0<i(Z,B))R[K]=B,R[W]=Z,W=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var B=R[0],W=R.pop();if(W!==B){R[0]=W;e:for(var K=0,Z=R.length,oe=Z>>>1;K<oe;){var L=2*(K+1)-1,z=R[L],Q=L+1,te=R[Q];if(0>i(z,W))Q<Z&&0>i(te,z)?(R[K]=te,R[Q]=W,K=Q):(R[K]=z,R[L]=W,K=L);else if(Q<Z&&0>i(te,W))R[K]=te,R[Q]=W,K=Q;else break e}}return B}function i(R,B){var W=R.sortIndex-B.sortIndex;return W!==0?W:R.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,x=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function T(R){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=R)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function C(R){if(x=!1,T(R),!y)if(n(l)!==null)y=!0,k||(k=!0,I());else{var B=n(u);B!==null&&H(C,B.startTime-R)}}var k=!1,E=-1,M=5,j=-1;function U(){return w?!0:!(t.unstable_now()-j<M)}function O(){if(w=!1,k){var R=t.unstable_now();j=R;var B=!0;try{e:{y=!1,x&&(x=!1,b(E),E=-1),p=!0;var W=h;try{t:{for(T(R),f=n(l);f!==null&&!(f.expirationTime>R&&U());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var Z=K(f.expirationTime<=R);if(R=t.unstable_now(),typeof Z=="function"){f.callback=Z,T(R),B=!0;break t}f===n(l)&&r(l),T(R)}else r(l);f=n(l)}if(f!==null)B=!0;else{var oe=n(u);oe!==null&&H(C,oe.startTime-R),B=!1}}break e}finally{f=null,h=W,p=!1}B=void 0}}finally{B?I():k=!1}}}var I;if(typeof S=="function")I=function(){S(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=O,I=function(){F.postMessage(null)}}else I=function(){v(O,0)};function H(R,B){E=v(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return R()}finally{h=W}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=h;h=R;try{return B()}finally{h=W}},t.unstable_scheduleCallback=function(R,B,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,R={id:c++,callback:B,priorityLevel:R,startTime:W,expirationTime:Z,sortIndex:-1},W>K?(R.sortIndex=W,e(u,R),n(l)===null&&R===n(u)&&(x?(b(E),E=-1):x=!0,H(C,W-K))):(R.sortIndex=Z,e(l,R),y||p||(y=!0,k||(k=!0,I()))),R},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(R){var B=h;return function(){var W=h;h=B;try{return R.apply(this,arguments)}finally{h=W}}}})(a6);i6.exports=a6;var w7=i6.exports,o6={exports:{}},Xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S7=ne;function s6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ss(){}var Gr={d:{f:Ss,r:function(){throw Error(s6(522))},D:Ss,C:Ss,L:Ss,m:Ss,X:Ss,S:Ss,M:Ss},p:0,findDOMNode:null},_7=Symbol.for("react.portal");function T7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_7,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Ch=S7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function rv(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gr;Xr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(s6(299));return T7(t,e,null,n)};Xr.flushSync=function(t){var e=Ch.T,n=Gr.p;try{if(Ch.T=null,Gr.p=2,t)return t()}finally{Ch.T=e,Gr.p=n,Gr.d.f()}};Xr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Gr.d.C(t,e))};Xr.prefetchDNS=function(t){typeof t=="string"&&Gr.d.D(t)};Xr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=rv(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Gr.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Gr.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Xr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=rv(e.as,e.crossOrigin);Gr.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Gr.d.M(t)};Xr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=rv(n,e.crossOrigin);Gr.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Xr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=rv(e.as,e.crossOrigin);Gr.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Gr.d.m(t)};Xr.requestFormReset=function(t){Gr.d.r(t)};Xr.unstable_batchedUpdates=function(t,e){return t(e)};Xr.useFormState=function(t,e,n){return Ch.H.useFormState(t,e,n)};Xr.useFormStatus=function(){return Ch.H.useHostTransitionStatus()};Xr.version="19.2.0";function l6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l6)}catch(t){console.error(t)}}l6(),o6.exports=Xr;var C7=o6.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr=w7,u6=ne,N7=C7;function $e(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d6(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cT(t){if(Zp(t)!==t)throw Error($e(188))}function E7(t){var e=t.alternate;if(!e){if(e=Zp(t),e===null)throw Error($e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return cT(i),t;if(a===r)return cT(i),e;a=a.sibling}throw Error($e(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?t:e}function h6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=h6(t),e!==null)return e;t=t.sibling}return null}var Cn=Object.assign,k7=Symbol.for("react.element"),mm=Symbol.for("react.transitional.element"),yh=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),A6=Symbol.for("react.consumer"),Ro=Symbol.for("react.context"),l5=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),nx=Symbol.for("react.suspense_list"),u5=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),rx=Symbol.for("react.activity"),P7=Symbol.for("react.memo_cache_sentinel"),fT=Symbol.iterator;function Xd(t){return t===null||typeof t!="object"?null:(t=fT&&t[fT]||t["@@iterator"],typeof t=="function"?t:null)}var M7=Symbol.for("react.client.reference");function ix(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M7?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ic:return"Fragment";case ex:return"Profiler";case p6:return"StrictMode";case tx:return"Suspense";case nx:return"SuspenseList";case rx:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case yh:return"Portal";case Ro:return t.displayName||"Context";case A6:return(t._context.displayName||"Context")+".Consumer";case l5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u5:return e=t.displayName||null,e!==null?e:ix(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return ix(t(e))}catch{}}return null}var bh=Array.isArray,vt=u6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vt=N7.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,eu={pending:!1,data:null,method:null,action:null},ax=[],jc=-1;function co(t){return{current:t}}function br(t){0>jc||(t.current=ax[jc],ax[jc]=null,jc--)}function mn(t,e){jc++,ax[jc]=t.current,t.current=e}var ao=co(null),tp=co(null),Gs=co(null),bg=co(null);function xg(t,e){switch(mn(Gs,e),mn(tp,t),mn(ao,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?gC(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=gC(e),t=DO(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}br(ao),mn(ao,t)}function ff(){br(ao),br(tp),br(Gs)}function ox(t){t.memoizedState!==null&&mn(bg,t);var e=ao.current,n=DO(e,t.type);e!==n&&(mn(tp,t),mn(ao,n))}function wg(t){tp.current===t&&(br(ao),br(tp)),bg.current===t&&(br(bg),dp._currentValue=eu)}var vb,dT;function Fl(t){if(vb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vb=e&&e[1]||"",dT=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vb+t+dT}var yb=!1;function bb(t,e){if(!t||yb)return"";yb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){h=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{yb=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Fl(n):""}function O7(t,e){switch(t.tag){case 26:case 27:case 5:return Fl(t.type);case 16:return Fl("Lazy");case 13:return t.child!==e&&e!==null?Fl("Suspense Fallback"):Fl("Suspense");case 19:return Fl("SuspenseList");case 0:case 15:return bb(t.type,!1);case 11:return bb(t.type.render,!1);case 1:return bb(t.type,!0);case 31:return Fl("Activity");default:return""}}function hT(t){try{var e="",n=null;do e+=O7(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var sx=Object.prototype.hasOwnProperty,c5=fr.unstable_scheduleCallback,xb=fr.unstable_cancelCallback,I7=fr.unstable_shouldYield,j7=fr.unstable_requestPaint,Pi=fr.unstable_now,D7=fr.unstable_getCurrentPriorityLevel,m6=fr.unstable_ImmediatePriority,g6=fr.unstable_UserBlockingPriority,Sg=fr.unstable_NormalPriority,L7=fr.unstable_LowPriority,v6=fr.unstable_IdlePriority,R7=fr.log,F7=fr.unstable_setDisableYieldValue,eA=null,Mi=null;function $s(t){if(typeof R7=="function"&&F7(t),Mi&&typeof Mi.setStrictMode=="function")try{Mi.setStrictMode(eA,t)}catch{}}var Oi=Math.clz32?Math.clz32:U7,$7=Math.log,B7=Math.LN2;function U7(t){return t>>>=0,t===0?32:31-($7(t)/B7|0)|0}var gm=256,vm=262144,ym=4194304;function $l(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function iv(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~a,r!==0?i=$l(r):(o&=s,o!==0?i=$l(o):n||(n=s&~t,n!==0&&(i=$l(n))))):(s=r&~a,s!==0?i=$l(s):o!==0?i=$l(o):n||(n=r&~t,n!==0&&(i=$l(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function tA(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function q7(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y6(){var t=ym;return ym<<=1,!(ym&62914560)&&(ym=4194304),t}function wb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nA(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function H7(t,e,n,r,i,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-Oi(n),f=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var p=h[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&b6(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function b6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Oi(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function x6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function w6(t,e){var n=e&-e;return n=n&42?1:f5(n),n&(t.suspendedLanes|e)?0:n}function f5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function d5(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function S6(){var t=Vt.p;return t!==0?t:(t=window.event,t===void 0?32:GO(t.type))}function pT(t,e){var n=Vt.p;try{return Vt.p=t,e()}finally{Vt.p=n}}var hl=Math.random().toString(36).slice(2),Nr="__reactFiber$"+hl,di="__reactProps$"+hl,Yf="__reactContainer$"+hl,lx="__reactEvents$"+hl,z7="__reactListeners$"+hl,V7="__reactHandles$"+hl,AT="__reactResources$"+hl,rA="__reactMarker$"+hl;function h5(t){delete t[Nr],delete t[di],delete t[lx],delete t[z7],delete t[V7]}function Dc(t){var e=t[Nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yf]||n[Nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wC(t);t!==null;){if(n=t[Nr])return n;t=wC(t)}return e}t=n,n=t.parentNode}return null}function Kf(t){if(t=t[Nr]||t[Yf]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function xh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error($e(33))}function Xc(t){var e=t[AT];return e||(e=t[AT]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function vr(t){t[rA]=!0}var _6=new Set,T6={};function Su(t,e){df(t,e),df(t+"Capture",e)}function df(t,e){for(T6[t]=e,t=0;t<e.length;t++)_6.add(e[t])}var G7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mT={},gT={};function W7(t){return sx.call(gT,t)?!0:sx.call(mT,t)?!1:G7.test(t)?gT[t]=!0:(mT[t]=!0,!1)}function ng(t,e,n){if(W7(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function bm(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Co(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Qi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y7(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ux(t){if(!t._valueTracker){var e=C6(t)?"checked":"value";t._valueTracker=Y7(t,e,""+t[e])}}function N6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=C6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _g(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var K7=/[\n"\\]/g;function ta(t){return t.replace(K7,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function cx(t,e,n,r,i,a,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Qi(e)):t.value!==""+Qi(e)&&(t.value=""+Qi(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?fx(t,o,Qi(e)):n!=null?fx(t,o,Qi(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+Qi(s):t.removeAttribute("name")}function E6(t,e,n,r,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){ux(t);return}n=n!=null?""+Qi(n):"",e=e!=null?""+Qi(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),ux(t)}function fx(t,e,n){e==="number"&&_g(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Qc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function k6(t,e,n){if(e!=null&&(e=""+Qi(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Qi(n):""}function P6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error($e(92));if(bh(r)){if(1<r.length)throw Error($e(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Qi(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),ux(t)}function hf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var J7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vT(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||J7.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function M6(t,e,n){if(e!=null&&typeof e!="object")throw Error($e(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&vT(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&vT(t,a,e[a])}function p5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rg(t){return Q7.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fo(){}var dx=null;function A5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lc=null,Zc=null;function yT(t){var e=Kf(t);if(e&&(t=e.stateNode)){var n=t[di]||null;e:switch(t=e.stateNode,e.type){case"input":if(cx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ta(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[di]||null;if(!i)throw Error($e(90));cx(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&N6(r)}break e;case"textarea":k6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Qc(t,!!n.multiple,e,!1)}}}var Sb=!1;function O6(t,e,n){if(Sb)return t(e,n);Sb=!0;try{var r=t(e);return r}finally{if(Sb=!1,(Lc!==null||Zc!==null)&&(mv(),Lc&&(e=Lc,t=Zc,Zc=Lc=null,yT(e),t)))for(e=0;e<t.length;e++)yT(t[e])}}function np(t,e){var n=t.stateNode;if(n===null)return null;var r=n[di]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($e(231,e,typeof n));return n}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hx=!1;if(Yo)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){hx=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{hx=!1}var Bs=null,m5=null,ig=null;function I6(){if(ig)return ig;var t,e=m5,n=e.length,r,i="value"in Bs?Bs.value:Bs.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return ig=i.slice(t,1<r?1-r:void 0)}function ag(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xm(){return!0}function bT(){return!1}function hi(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?xm:bT,this.isPropagationStopped=bT,this}return Cn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xm)},persist:function(){},isPersistent:xm}),e}var _u={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},av=hi(_u),iA=Cn({},_u,{view:0,detail:0}),Z7=hi(iA),_b,Tb,Zd,ov=Cn({},iA,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zd&&(Zd&&t.type==="mousemove"?(_b=t.screenX-Zd.screenX,Tb=t.screenY-Zd.screenY):Tb=_b=0,Zd=t),_b)},movementY:function(t){return"movementY"in t?t.movementY:Tb}}),xT=hi(ov),eF=Cn({},ov,{dataTransfer:0}),tF=hi(eF),nF=Cn({},iA,{relatedTarget:0}),Cb=hi(nF),rF=Cn({},_u,{animationName:0,elapsedTime:0,pseudoElement:0}),iF=hi(rF),aF=Cn({},_u,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oF=hi(aF),sF=Cn({},_u,{data:0}),wT=hi(sF),lF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cF[t])?!!e[t]:!1}function g5(){return fF}var dF=Cn({},iA,{key:function(t){if(t.key){var e=lF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ag(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g5,charCode:function(t){return t.type==="keypress"?ag(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ag(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hF=hi(dF),pF=Cn({},ov,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ST=hi(pF),AF=Cn({},iA,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g5}),mF=hi(AF),gF=Cn({},_u,{propertyName:0,elapsedTime:0,pseudoElement:0}),vF=hi(gF),yF=Cn({},ov,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bF=hi(yF),xF=Cn({},_u,{newState:0,oldState:0}),wF=hi(xF),SF=[9,13,27,32],v5=Yo&&"CompositionEvent"in window,Nh=null;Yo&&"documentMode"in document&&(Nh=document.documentMode);var _F=Yo&&"TextEvent"in window&&!Nh,j6=Yo&&(!v5||Nh&&8<Nh&&11>=Nh),_T=" ",TT=!1;function D6(t,e){switch(t){case"keyup":return SF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rc=!1;function TF(t,e){switch(t){case"compositionend":return L6(e);case"keypress":return e.which!==32?null:(TT=!0,_T);case"textInput":return t=e.data,t===_T&&TT?null:t;default:return null}}function CF(t,e){if(Rc)return t==="compositionend"||!v5&&D6(t,e)?(t=I6(),ig=m5=Bs=null,Rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j6&&e.locale!=="ko"?null:e.data;default:return null}}var NF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NF[t.type]:e==="textarea"}function R6(t,e,n,r){Lc?Zc?Zc.push(r):Zc=[r]:Lc=r,e=qg(e,"onChange"),0<e.length&&(n=new av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Eh=null,rp=null;function EF(t){OO(t,0)}function sv(t){var e=xh(t);if(N6(e))return t}function NT(t,e){if(t==="change")return e}var F6=!1;if(Yo){var Nb;if(Yo){var Eb="oninput"in document;if(!Eb){var ET=document.createElement("div");ET.setAttribute("oninput","return;"),Eb=typeof ET.oninput=="function"}Nb=Eb}else Nb=!1;F6=Nb&&(!document.documentMode||9<document.documentMode)}function kT(){Eh&&(Eh.detachEvent("onpropertychange",$6),rp=Eh=null)}function $6(t){if(t.propertyName==="value"&&sv(rp)){var e=[];R6(e,rp,t,A5(t)),O6(EF,e)}}function kF(t,e,n){t==="focusin"?(kT(),Eh=e,rp=n,Eh.attachEvent("onpropertychange",$6)):t==="focusout"&&kT()}function PF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sv(rp)}function MF(t,e){if(t==="click")return sv(e)}function OF(t,e){if(t==="input"||t==="change")return sv(e)}function IF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Di=typeof Object.is=="function"?Object.is:IF;function ip(t,e){if(Di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sx.call(e,i)||!Di(t[i],e[i]))return!1}return!0}function PT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function MT(t,e){var n=PT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PT(n)}}function B6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=_g(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_g(t.document)}return e}function y5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var jF=Yo&&"documentMode"in document&&11>=document.documentMode,Fc=null,px=null,kh=null,Ax=!1;function OT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ax||Fc==null||Fc!==_g(r)||(r=Fc,"selectionStart"in r&&y5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kh&&ip(kh,r)||(kh=r,r=qg(px,"onSelect"),0<r.length&&(e=new av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function Ol(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $c={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionrun:Ol("Transition","TransitionRun"),transitionstart:Ol("Transition","TransitionStart"),transitioncancel:Ol("Transition","TransitionCancel"),transitionend:Ol("Transition","TransitionEnd")},kb={},q6={};Yo&&(q6=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function Tu(t){if(kb[t])return kb[t];if(!$c[t])return t;var e=$c[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q6)return kb[t]=e[n];return t}var H6=Tu("animationend"),z6=Tu("animationiteration"),V6=Tu("animationstart"),DF=Tu("transitionrun"),LF=Tu("transitionstart"),RF=Tu("transitioncancel"),G6=Tu("transitionend"),W6=new Map,mx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mx.push("scrollEnd");function Ra(t,e){W6.set(t,e),Su(e,[t])}var Tg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xi=[],Bc=0,b5=0;function lv(){for(var t=Bc,e=b5=Bc=0;e<t;){var n=Xi[e];Xi[e++]=null;var r=Xi[e];Xi[e++]=null;var i=Xi[e];Xi[e++]=null;var a=Xi[e];if(Xi[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&Y6(n,i,a)}}function uv(t,e,n,r){Xi[Bc++]=t,Xi[Bc++]=e,Xi[Bc++]=n,Xi[Bc++]=r,b5|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function x5(t,e,n,r){return uv(t,e,n,r),Cg(t)}function Cu(t,e){return uv(t,null,null,e),Cg(t)}function Y6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Oi(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Cg(t){if(50<Fh)throw Fh=0,Rx=null,Error($e(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Uc={};function FF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(t,e,n,r){return new FF(t,e,n,r)}function w5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ho(t,e){var n=t.alternate;return n===null?(n=Ti(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function K6(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function og(t,e,n,r,i,a){var o=0;if(r=t,typeof t=="function")w5(t)&&(o=1);else if(typeof t=="string")o=H$(t,n,ao.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case rx:return t=Ti(31,n,e,i),t.elementType=rx,t.lanes=a,t;case Ic:return tu(n.children,i,a,e);case p6:o=8,i|=24;break;case ex:return t=Ti(12,n,e,i|2),t.elementType=ex,t.lanes=a,t;case tx:return t=Ti(13,n,e,i),t.elementType=tx,t.lanes=a,t;case nx:return t=Ti(19,n,e,i),t.elementType=nx,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ro:o=10;break e;case A6:o=9;break e;case l5:o=11;break e;case u5:o=14;break e;case Es:o=16,r=null;break e}o=29,n=Error($e(130,t===null?"null":typeof t,"")),r=null}return e=Ti(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function tu(t,e,n,r){return t=Ti(7,t,r,e),t.lanes=n,t}function Pb(t,e,n){return t=Ti(6,t,null,e),t.lanes=n,t}function J6(t){var e=Ti(18,null,null,0);return e.stateNode=t,e}function Mb(t,e,n){return e=Ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var IT=new WeakMap;function na(t,e){if(typeof t=="object"&&t!==null){var n=IT.get(t);return n!==void 0?n:(e={value:t,source:e,stack:hT(e)},IT.set(t,e),e)}return{value:t,source:e,stack:hT(e)}}var qc=[],Hc=0,Ng=null,ap=0,Zi=[],ea=0,ol=null,eo=1,to="";function Do(t,e){qc[Hc++]=ap,qc[Hc++]=Ng,Ng=t,ap=e}function X6(t,e,n){Zi[ea++]=eo,Zi[ea++]=to,Zi[ea++]=ol,ol=t;var r=eo;t=to;var i=32-Oi(r)-1;r&=~(1<<i),n+=1;var a=32-Oi(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,eo=1<<32-Oi(e)+i|n<<i|r,to=a+t}else eo=1<<a|n<<i|r,to=t}function S5(t){t.return!==null&&(Do(t,1),X6(t,1,0))}function _5(t){for(;t===Ng;)Ng=qc[--Hc],qc[Hc]=null,ap=qc[--Hc],qc[Hc]=null;for(;t===ol;)ol=Zi[--ea],Zi[ea]=null,to=Zi[--ea],Zi[ea]=null,eo=Zi[--ea],Zi[ea]=null}function Q6(t,e){Zi[ea++]=eo,Zi[ea++]=to,Zi[ea++]=ol,eo=e.id,to=e.overflow,ol=t}var Er=null,Sn=null,Rt=!1,Ws=null,ra=!1,gx=Error($e(519));function sl(t){var e=Error($e(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw op(na(e,t)),gx}function jT(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Nr]=t,e[di]=r,n){case"dialog":Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":case"embed":Ot("load",e);break;case"video":case"audio":for(n=0;n<cp.length;n++)Ot(cp[n],e);break;case"source":Ot("error",e);break;case"img":case"image":case"link":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"input":Ot("invalid",e),E6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ot("invalid",e);break;case"textarea":Ot("invalid",e),P6(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||jO(e.textContent,n)?(r.popover!=null&&(Ot("beforetoggle",e),Ot("toggle",e)),r.onScroll!=null&&Ot("scroll",e),r.onScrollEnd!=null&&Ot("scrollend",e),r.onClick!=null&&(e.onclick=Fo),e=!0):e=!1,e||sl(t,!0)}function DT(t){for(Er=t.return;Er;)switch(Er.tag){case 5:case 31:case 13:ra=!1;return;case 27:case 3:ra=!0;return;default:Er=Er.return}}function dc(t){if(t!==Er)return!1;if(!Rt)return DT(t),Rt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||qx(t.type,t.memoizedProps)),n=!n),n&&Sn&&sl(t),DT(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));Sn=xC(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));Sn=xC(t)}else e===27?(e=Sn,pl(t.type)?(t=Gx,Gx=null,Sn=t):Sn=e):Sn=Er?sa(t.stateNode.nextSibling):null;return!0}function fu(){Sn=Er=null,Rt=!1}function Ob(){var t=Ws;return t!==null&&(li===null?li=t:li.push.apply(li,t),Ws=null),t}function op(t){Ws===null?Ws=[t]:Ws.push(t)}var vx=co(null),Nu=null,$o=null;function Os(t,e,n){mn(vx,e._currentValue),e._currentValue=n}function zo(t){t._currentValue=vx.current,br(vx)}function yx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bx(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<e.length;l++)if(s.context===e[l]){a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),yx(a.return,n,t),r||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error($e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yx(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Jf(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error($e(387));if(o=o.memoizedProps,o!==null){var s=i.type;Di(i.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(i===bg.current){if(o=i.alternate,o===null)throw Error($e(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(dp):t=[dp])}i=i.return}t!==null&&bx(e,t,n,r),e.flags|=262144}function Eg(t){for(t=t.firstContext;t!==null;){if(!Di(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function du(t){Nu=t,$o=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function kr(t){return Z6(Nu,t)}function wm(t,e){return Nu===null&&du(t),Z6(t,e)}function Z6(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},$o===null){if(t===null)throw Error($e(308));$o=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else $o=$o.next=e;return n}var $F=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},BF=fr.unstable_scheduleCallback,UF=fr.unstable_NormalPriority,Qn={$$typeof:Ro,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function T5(){return{controller:new $F,data:new Map,refCount:0}}function aA(t){t.refCount--,t.refCount===0&&BF(UF,function(){t.controller.abort()})}var Ph=null,xx=0,pf=0,ef=null;function qF(t,e){if(Ph===null){var n=Ph=[];xx=0,pf=J5(),ef={status:"pending",value:void 0,then:function(r){n.push(r)}}}return xx++,e.then(LT,LT),e}function LT(){if(--xx===0&&Ph!==null){ef!==null&&(ef.status="fulfilled");var t=Ph;Ph=null,pf=0,ef=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function HF(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var RT=vt.S;vt.S=function(t,e){hO=Pi(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&qF(t,e),RT!==null&&RT(t,e)};var nu=co(null);function C5(){var t=nu.current;return t!==null?t:cn.pooledCache}function sg(t,e){e===null?mn(nu,nu.current):mn(nu,e.pool)}function eM(){var t=C5();return t===null?null:{parent:Qn._currentValue,pool:t}}var Xf=Error($e(460)),N5=Error($e(474)),cv=Error($e(542)),kg={then:function(){}};function FT(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tM(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Fo,Fo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,BT(t),t;default:if(typeof e.status=="string")e.then(Fo,Fo);else{if(t=cn,t!==null&&100<t.shellSuspendCounter)throw Error($e(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,BT(t),t}throw ru=e,Xf}}function Bl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ru=n,Xf):n}}var ru=null;function $T(){if(ru===null)throw Error($e(459));var t=ru;return ru=null,t}function BT(t){if(t===Xf||t===cv)throw Error($e(483))}var tf=null,sp=0;function Sm(t){var e=sp;return sp+=1,tf===null&&(tf=[]),tM(tf,t,e)}function eh(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _m(t,e){throw e.$$typeof===k7?Error($e(525)):(t=Object.prototype.toString.call(e),Error($e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function nM(t){function e(v,b){if(t){var S=v.deletions;S===null?(v.deletions=[b],v.flags|=16):S.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v){for(var b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(v,b){return v=Ho(v,b),v.index=0,v.sibling=null,v}function a(v,b,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<b?(v.flags|=67108866,b):S):(v.flags|=67108866,b)):(v.flags|=1048576,b)}function o(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function s(v,b,S,T){return b===null||b.tag!==6?(b=Pb(S,v.mode,T),b.return=v,b):(b=i(b,S),b.return=v,b)}function l(v,b,S,T){var C=S.type;return C===Ic?c(v,b,S.props.children,T,S.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Es&&Bl(C)===b.type)?(b=i(b,S.props),eh(b,S),b.return=v,b):(b=og(S.type,S.key,S.props,null,v.mode,T),eh(b,S),b.return=v,b)}function u(v,b,S,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Mb(S,v.mode,T),b.return=v,b):(b=i(b,S.children||[]),b.return=v,b)}function c(v,b,S,T,C){return b===null||b.tag!==7?(b=tu(S,v.mode,T,C),b.return=v,b):(b=i(b,S),b.return=v,b)}function f(v,b,S){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Pb(""+b,v.mode,S),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mm:return S=og(b.type,b.key,b.props,null,v.mode,S),eh(S,b),S.return=v,S;case yh:return b=Mb(b,v.mode,S),b.return=v,b;case Es:return b=Bl(b),f(v,b,S)}if(bh(b)||Xd(b))return b=tu(b,v.mode,S,null),b.return=v,b;if(typeof b.then=="function")return f(v,Sm(b),S);if(b.$$typeof===Ro)return f(v,wm(v,b),S);_m(v,b)}return null}function h(v,b,S,T){var C=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return C!==null?null:s(v,b,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mm:return S.key===C?l(v,b,S,T):null;case yh:return S.key===C?u(v,b,S,T):null;case Es:return S=Bl(S),h(v,b,S,T)}if(bh(S)||Xd(S))return C!==null?null:c(v,b,S,T,null);if(typeof S.then=="function")return h(v,b,Sm(S),T);if(S.$$typeof===Ro)return h(v,b,wm(v,S),T);_m(v,S)}return null}function p(v,b,S,T,C){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return v=v.get(S)||null,s(b,v,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mm:return v=v.get(T.key===null?S:T.key)||null,l(b,v,T,C);case yh:return v=v.get(T.key===null?S:T.key)||null,u(b,v,T,C);case Es:return T=Bl(T),p(v,b,S,T,C)}if(bh(T)||Xd(T))return v=v.get(S)||null,c(b,v,T,C,null);if(typeof T.then=="function")return p(v,b,S,Sm(T),C);if(T.$$typeof===Ro)return p(v,b,S,wm(b,T),C);_m(b,T)}return null}function y(v,b,S,T){for(var C=null,k=null,E=b,M=b=0,j=null;E!==null&&M<S.length;M++){E.index>M?(j=E,E=null):j=E.sibling;var U=h(v,E,S[M],T);if(U===null){E===null&&(E=j);break}t&&E&&U.alternate===null&&e(v,E),b=a(U,b,M),k===null?C=U:k.sibling=U,k=U,E=j}if(M===S.length)return n(v,E),Rt&&Do(v,M),C;if(E===null){for(;M<S.length;M++)E=f(v,S[M],T),E!==null&&(b=a(E,b,M),k===null?C=E:k.sibling=E,k=E);return Rt&&Do(v,M),C}for(E=r(E);M<S.length;M++)j=p(E,v,M,S[M],T),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?M:j.key),b=a(j,b,M),k===null?C=j:k.sibling=j,k=j);return t&&E.forEach(function(O){return e(v,O)}),Rt&&Do(v,M),C}function x(v,b,S,T){if(S==null)throw Error($e(151));for(var C=null,k=null,E=b,M=b=0,j=null,U=S.next();E!==null&&!U.done;M++,U=S.next()){E.index>M?(j=E,E=null):j=E.sibling;var O=h(v,E,U.value,T);if(O===null){E===null&&(E=j);break}t&&E&&O.alternate===null&&e(v,E),b=a(O,b,M),k===null?C=O:k.sibling=O,k=O,E=j}if(U.done)return n(v,E),Rt&&Do(v,M),C;if(E===null){for(;!U.done;M++,U=S.next())U=f(v,U.value,T),U!==null&&(b=a(U,b,M),k===null?C=U:k.sibling=U,k=U);return Rt&&Do(v,M),C}for(E=r(E);!U.done;M++,U=S.next())U=p(E,v,M,U.value,T),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?M:U.key),b=a(U,b,M),k===null?C=U:k.sibling=U,k=U);return t&&E.forEach(function(I){return e(v,I)}),Rt&&Do(v,M),C}function w(v,b,S,T){if(typeof S=="object"&&S!==null&&S.type===Ic&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mm:e:{for(var C=S.key;b!==null;){if(b.key===C){if(C=S.type,C===Ic){if(b.tag===7){n(v,b.sibling),T=i(b,S.props.children),T.return=v,v=T;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Es&&Bl(C)===b.type){n(v,b.sibling),T=i(b,S.props),eh(T,S),T.return=v,v=T;break e}n(v,b);break}else e(v,b);b=b.sibling}S.type===Ic?(T=tu(S.props.children,v.mode,T,S.key),T.return=v,v=T):(T=og(S.type,S.key,S.props,null,v.mode,T),eh(T,S),T.return=v,v=T)}return o(v);case yh:e:{for(C=S.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(v,b.sibling),T=i(b,S.children||[]),T.return=v,v=T;break e}else{n(v,b);break}else e(v,b);b=b.sibling}T=Mb(S,v.mode,T),T.return=v,v=T}return o(v);case Es:return S=Bl(S),w(v,b,S,T)}if(bh(S))return y(v,b,S,T);if(Xd(S)){if(C=Xd(S),typeof C!="function")throw Error($e(150));return S=C.call(S),x(v,b,S,T)}if(typeof S.then=="function")return w(v,b,Sm(S),T);if(S.$$typeof===Ro)return w(v,b,wm(v,S),T);_m(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,b!==null&&b.tag===6?(n(v,b.sibling),T=i(b,S),T.return=v,v=T):(n(v,b),T=Pb(S,v.mode,T),T.return=v,v=T),o(v)):n(v,b)}return function(v,b,S,T){try{sp=0;var C=w(v,b,S,T);return tf=null,C}catch(E){if(E===Xf||E===cv)throw E;var k=Ti(29,E,null,v.mode);return k.lanes=T,k.return=v,k}finally{}}}var hu=nM(!0),rM=nM(!1),ks=!1;function E5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Cg(t),Y6(t,null,n),e}return uv(t,r,e,n),Cg(t)}function Mh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x6(t,n)}}function Ib(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Sx=!1;function Oh(){if(Sx){var t=ef;if(t!==null)throw t}}function Ih(t,e,n,r){Sx=!1;var i=t.updateQueue;ks=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane&-536870913,p=h!==s.lane;if(p?(Dt&h)===h:(r&h)===h){h!==0&&h===pf&&(Sx=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var y=t,x=s;h=e;var w=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(w,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(w,f,h):y,h==null)break e;f=Cn({},f,h);break e;case 2:ks=!0}}h=s.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),ul|=o,t.lanes=o,t.memoizedState=f}}function iM(t,e){if(typeof t!="function")throw Error($e(191,t));t.call(e)}function aM(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)iM(n[t],e)}var Af=co(null),Pg=co(0);function UT(t,e){t=Qo,mn(Pg,t),mn(Af,e),Qo=t|e.baseLanes}function _x(){mn(Pg,Qo),mn(Af,Af.current)}function k5(){Qo=Pg.current,br(Af),br(Pg)}var Li=co(null),oa=null;function Is(t){var e=t.alternate;mn(qn,qn.current&1),mn(Li,t),oa===null&&(e===null||Af.current!==null||e.memoizedState!==null)&&(oa=t)}function Tx(t){mn(qn,qn.current),mn(Li,t),oa===null&&(oa=t)}function oM(t){t.tag===22?(mn(qn,qn.current),mn(Li,t),oa===null&&(oa=t)):js()}function js(){mn(qn,qn.current),mn(Li,Li.current)}function _i(t){br(Li),oa===t&&(oa=null),br(qn)}var qn=co(0);function Mg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||zx(n)||Vx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ko=0,Nt=null,an=null,Jn=null,Og=!1,nf=!1,pu=!1,Ig=0,lp=0,rf=null,zF=0;function On(){throw Error($e(321))}function P5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Di(t[n],e[n]))return!1;return!0}function M5(t,e,n,r,i,a){return Ko=a,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vt.H=t===null||t.memoizedState===null?RM:q5,pu=!1,a=n(r,i),pu=!1,nf&&(a=lM(e,n,r,i)),sM(t),a}function sM(t){vt.H=up;var e=an!==null&&an.next!==null;if(Ko=0,Jn=an=Nt=null,Og=!1,lp=0,rf=null,e)throw Error($e(300));t===null||Zn||(t=t.dependencies,t!==null&&Eg(t)&&(Zn=!0))}function lM(t,e,n,r){Nt=t;var i=0;do{if(nf&&(rf=null),lp=0,nf=!1,25<=i)throw Error($e(301));if(i+=1,Jn=an=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}vt.H=FM,a=e(n,r)}while(nf);return a}function VF(){var t=vt.H,e=t.useState()[0];return e=typeof e.then=="function"?oA(e):e,t=t.useState()[0],(an!==null?an.memoizedState:null)!==t&&(Nt.flags|=1024),e}function O5(){var t=Ig!==0;return Ig=0,t}function I5(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function j5(t){if(Og){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Og=!1}Ko=0,Jn=an=Nt=null,nf=!1,lp=Ig=0,rf=null}function Vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?Nt.memoizedState=Jn=t:Jn=Jn.next=t,Jn}function Hn(){if(an===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=Jn===null?Nt.memoizedState:Jn.next;if(e!==null)Jn=e,an=t;else{if(t===null)throw Nt.alternate===null?Error($e(467)):Error($e(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Jn===null?Nt.memoizedState=Jn=t:Jn=Jn.next=t}return Jn}function fv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oA(t){var e=lp;return lp+=1,rf===null&&(rf=[]),t=tM(rf,t,e),e=Nt,(Jn===null?e.memoizedState:Jn.next)===null&&(e=e.alternate,vt.H=e===null||e.memoizedState===null?RM:q5),t}function dv(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return oA(t);if(t.$$typeof===Ro)return kr(t)}throw Error($e(438,String(t)))}function D5(t){var e=null,n=Nt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Nt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=fv(),Nt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=P7;return e.index++,n}function Jo(t,e){return typeof e=="function"?e(t):e}function lg(t){var e=Hn();return L5(e,an,t)}function L5(t,e,n){var r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var s=o=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Dt&f)===f:(Ko&f)===f){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===pf&&(c=!0);else if((Ko&h)===h){u=u.next,h===pf&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,Nt.lanes|=h,ul|=h;f=u.action,pu&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=h,o=a):l=l.next=h,Nt.lanes|=f,ul|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=a:l.next=s,!Di(a,t.memoizedState)&&(Zn=!0,c&&(n=ef,n!==null)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function jb(t){var e=Hn(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Di(a,e.memoizedState)||(Zn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function uM(t,e,n){var r=Nt,i=Hn(),a=Rt;if(a){if(n===void 0)throw Error($e(407));n=n()}else n=e();var o=!Di((an||i).memoizedState,n);if(o&&(i.memoizedState=n,Zn=!0),i=i.queue,R5(dM.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||Jn!==null&&Jn.memoizedState.tag&1){if(r.flags|=2048,mf(9,{destroy:void 0},fM.bind(null,r,i,n,e),null),cn===null)throw Error($e(349));a||Ko&127||cM(r,e,n)}return n}function cM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e=fv(),Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fM(t,e,n,r){e.value=n,e.getSnapshot=r,hM(e)&&pM(t)}function dM(t,e,n){return n(function(){hM(e)&&pM(t)})}function hM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Di(t,n)}catch{return!0}}function pM(t){var e=Cu(t,2);e!==null&&fi(e,t,2)}function Cx(t){var e=Vr();if(typeof t=="function"){var n=t;if(t=n(),pu){$s(!0);try{n()}finally{$s(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t},e}function AM(t,e,n,r){return t.baseState=n,L5(t,an,typeof r=="function"?r:Jo)}function GF(t,e,n,r,i){if(pv(t))throw Error($e(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};vt.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,mM(e,a)):(a.next=n.next,e.pending=n.next=a)}}function mM(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=vt.T,o={};vt.T=o;try{var s=n(i,r),l=vt.S;l!==null&&l(o,s),qT(t,e,s)}catch(u){Nx(t,e,u)}finally{a!==null&&o.types!==null&&(a.types=o.types),vt.T=a}}else try{a=n(i,r),qT(t,e,a)}catch(u){Nx(t,e,u)}}function qT(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){HT(t,e,r)},function(r){return Nx(t,e,r)}):HT(t,e,n)}function HT(t,e,n){e.status="fulfilled",e.value=n,gM(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,mM(t,n)))}function Nx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,gM(e),e=e.next;while(e!==r)}t.action=null}function gM(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function vM(t,e){return e}function zT(t,e){if(Rt){var n=cn.formState;if(n!==null){e:{var r=Nt;if(Rt){if(Sn){t:{for(var i=Sn,a=ra;i.nodeType!==8;){if(!a){i=null;break t}if(i=sa(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Sn=sa(i.nextSibling),r=i.data==="F!";break e}}sl(r)}r=!1}r&&(e=n[0])}}return n=Vr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vM,lastRenderedState:e},n.queue=r,n=jM.bind(null,Nt,r),r.dispatch=n,r=Cx(!1),a=U5.bind(null,Nt,!1,r.queue),r=Vr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=GF.bind(null,Nt,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function VT(t){var e=Hn();return yM(e,an,t)}function yM(t,e,n){if(e=L5(t,e,vM)[0],t=lg(Jo)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=oA(e)}catch(o){throw o===Xf?cv:o}else r=e;e=Hn();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Nt.flags|=2048,mf(9,{destroy:void 0},WF.bind(null,i,n),null)),[r,a,t]}function WF(t,e){t.action=e}function GT(t){var e=Hn(),n=an;if(n!==null)return yM(e,n,t);Hn(),e=e.memoizedState,n=Hn();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function mf(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Nt.updateQueue,e===null&&(e=fv(),Nt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function bM(){return Hn().memoizedState}function ug(t,e,n,r){var i=Vr();Nt.flags|=t,i.memoizedState=mf(1|e,{destroy:void 0},n,r===void 0?null:r)}function hv(t,e,n,r){var i=Hn();r=r===void 0?null:r;var a=i.memoizedState.inst;an!==null&&r!==null&&P5(r,an.memoizedState.deps)?i.memoizedState=mf(e,a,n,r):(Nt.flags|=t,i.memoizedState=mf(1|e,a,n,r))}function WT(t,e){ug(8390656,8,t,e)}function R5(t,e){hv(2048,8,t,e)}function YF(t){Nt.flags|=4;var e=Nt.updateQueue;if(e===null)e=fv(),Nt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function xM(t){var e=Hn().memoizedState;return YF({ref:e,nextImpl:t}),function(){if(zt&2)throw Error($e(440));return e.impl.apply(void 0,arguments)}}function wM(t,e){return hv(4,2,t,e)}function SM(t,e){return hv(4,4,t,e)}function _M(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TM(t,e,n){n=n!=null?n.concat([t]):null,hv(4,4,_M.bind(null,e,t),n)}function F5(){}function CM(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&P5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NM(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&P5(e,r[1]))return r[0];if(r=t(),pu){$s(!0);try{t()}finally{$s(!1)}}return n.memoizedState=[r,e],r}function $5(t,e,n){return n===void 0||Ko&1073741824&&!(Dt&261930)?t.memoizedState=e:(t.memoizedState=n,t=AO(),Nt.lanes|=t,ul|=t,n)}function EM(t,e,n,r){return Di(n,e)?n:Af.current!==null?(t=$5(t,n,r),Di(t,e)||(Zn=!0),t):!(Ko&42)||Ko&1073741824&&!(Dt&261930)?(Zn=!0,t.memoizedState=n):(t=AO(),Nt.lanes|=t,ul|=t,e)}function kM(t,e,n,r,i){var a=Vt.p;Vt.p=a!==0&&8>a?a:8;var o=vt.T,s={};vt.T=s,U5(t,!1,e,n);try{var l=i(),u=vt.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=HF(l,r);jh(t,e,c,Ii(t))}else jh(t,e,r,Ii(t))}catch(f){jh(t,e,{then:function(){},status:"rejected",reason:f},Ii())}finally{Vt.p=a,o!==null&&s.types!==null&&(o.types=s.types),vt.T=o}}function KF(){}function Ex(t,e,n,r){if(t.tag!==5)throw Error($e(476));var i=PM(t).queue;kM(t,i,e,eu,n===null?KF:function(){return MM(t),n(r)})}function PM(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:eu,baseState:eu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:eu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function MM(t){var e=PM(t);e.next===null&&(e=t.alternate.memoizedState),jh(t,e.next.queue,{},Ii())}function B5(){return kr(dp)}function OM(){return Hn().memoizedState}function IM(){return Hn().memoizedState}function JF(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ii();t=Ys(n);var r=Ks(e,t,n);r!==null&&(fi(r,e,n),Mh(r,e,n)),e={cache:T5()},t.payload=e;return}e=e.return}}function XF(t,e,n){var r=Ii();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pv(t)?DM(e,n):(n=x5(t,e,n,r),n!==null&&(fi(n,t,r),LM(n,e,r)))}function jM(t,e,n){var r=Ii();jh(t,e,n,r)}function jh(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pv(t))DM(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Di(s,o))return uv(t,e,i,0),cn===null&&lv(),!1}catch{}finally{}if(n=x5(t,e,i,r),n!==null)return fi(n,t,r),LM(n,e,r),!0}return!1}function U5(t,e,n,r){if(r={lane:2,revertLane:J5(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pv(t)){if(e)throw Error($e(479))}else e=x5(t,n,r,2),e!==null&&fi(e,t,2)}function pv(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function DM(t,e){nf=Og=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LM(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,x6(t,n)}}var up={readContext:kr,use:dv,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};up.useEffectEvent=On;var RM={readContext:kr,use:dv,useCallback:function(t,e){return Vr().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:WT,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ug(4194308,4,_M.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ug(4194308,4,t,e)},useInsertionEffect:function(t,e){ug(4,2,t,e)},useMemo:function(t,e){var n=Vr();e=e===void 0?null:e;var r=t();if(pu){$s(!0);try{t()}finally{$s(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Vr();if(n!==void 0){var i=n(e);if(pu){$s(!0);try{n(e)}finally{$s(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=XF.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=Vr();return t={current:t},e.memoizedState=t},useState:function(t){t=Cx(t);var e=t.queue,n=jM.bind(null,Nt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:F5,useDeferredValue:function(t,e){var n=Vr();return $5(n,t,e)},useTransition:function(){var t=Cx(!1);return t=kM.bind(null,Nt,t.queue,!0,!1),Vr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Nt,i=Vr();if(Rt){if(n===void 0)throw Error($e(407));n=n()}else{if(n=e(),cn===null)throw Error($e(349));Dt&127||cM(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,WT(dM.bind(null,r,a,t),[t]),r.flags|=2048,mf(9,{destroy:void 0},fM.bind(null,r,a,n,e),null),n},useId:function(){var t=Vr(),e=cn.identifierPrefix;if(Rt){var n=to,r=eo;n=(r&~(1<<32-Oi(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ig++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=zF++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:B5,useFormState:zT,useActionState:zT,useOptimistic:function(t){var e=Vr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=U5.bind(null,Nt,!0,n),n.dispatch=e,[t,e]},useMemoCache:D5,useCacheRefresh:function(){return Vr().memoizedState=JF.bind(null,Nt)},useEffectEvent:function(t){var e=Vr(),n={impl:t};return e.memoizedState=n,function(){if(zt&2)throw Error($e(440));return n.impl.apply(void 0,arguments)}}},q5={readContext:kr,use:dv,useCallback:CM,useContext:kr,useEffect:R5,useImperativeHandle:TM,useInsertionEffect:wM,useLayoutEffect:SM,useMemo:NM,useReducer:lg,useRef:bM,useState:function(){return lg(Jo)},useDebugValue:F5,useDeferredValue:function(t,e){var n=Hn();return EM(n,an.memoizedState,t,e)},useTransition:function(){var t=lg(Jo)[0],e=Hn().memoizedState;return[typeof t=="boolean"?t:oA(t),e]},useSyncExternalStore:uM,useId:OM,useHostTransitionStatus:B5,useFormState:VT,useActionState:VT,useOptimistic:function(t,e){var n=Hn();return AM(n,an,t,e)},useMemoCache:D5,useCacheRefresh:IM};q5.useEffectEvent=xM;var FM={readContext:kr,use:dv,useCallback:CM,useContext:kr,useEffect:R5,useImperativeHandle:TM,useInsertionEffect:wM,useLayoutEffect:SM,useMemo:NM,useReducer:jb,useRef:bM,useState:function(){return jb(Jo)},useDebugValue:F5,useDeferredValue:function(t,e){var n=Hn();return an===null?$5(n,t,e):EM(n,an.memoizedState,t,e)},useTransition:function(){var t=jb(Jo)[0],e=Hn().memoizedState;return[typeof t=="boolean"?t:oA(t),e]},useSyncExternalStore:uM,useId:OM,useHostTransitionStatus:B5,useFormState:GT,useActionState:GT,useOptimistic:function(t,e){var n=Hn();return an!==null?AM(n,an,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:D5,useCacheRefresh:IM};FM.useEffectEvent=xM;function Db(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kx={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ii(),i=Ys(r);i.payload=e,n!=null&&(i.callback=n),e=Ks(t,i,r),e!==null&&(fi(e,t,r),Mh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ii(),i=Ys(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ks(t,i,r),e!==null&&(fi(e,t,r),Mh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ii(),r=Ys(n);r.tag=2,e!=null&&(r.callback=e),e=Ks(t,r,n),e!==null&&(fi(e,t,n),Mh(e,t,n))}};function YT(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!ip(n,r)||!ip(i,a):!0}function KT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kx.enqueueReplaceState(e,e.state,null)}function Au(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Cn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function $M(t){Tg(t)}function BM(t){console.error(t)}function UM(t){Tg(t)}function jg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function JT(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Px(t,e,n){return n=Ys(n),n.tag=3,n.payload={element:null},n.callback=function(){jg(t,e)},n}function qM(t){return t=Ys(t),t.tag=3,t}function HM(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){JT(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){JT(e,n,r),typeof i!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function QF(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Jf(e,n,i,!0),n=Li.current,n!==null){switch(n.tag){case 31:case 13:return oa===null?$g():n.alternate===null&&Dn===0&&(Dn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===kg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Gb(t,r,i)),!1;case 22:return n.flags|=65536,r===kg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Gb(t,r,i)),!1}throw Error($e(435,n.tag))}return Gb(t,r,i),$g(),!1}if(Rt)return e=Li.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==gx&&(t=Error($e(422),{cause:r}),op(na(t,n)))):(r!==gx&&(e=Error($e(423),{cause:r}),op(na(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=na(r,n),i=Px(t.stateNode,r,i),Ib(t,i),Dn!==4&&(Dn=2)),!1;var a=Error($e(520),{cause:r});if(a=na(a,n),Rh===null?Rh=[a]:Rh.push(a),Dn!==4&&(Dn=2),e===null)return!0;r=na(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Px(n.stateNode,r,t),Ib(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Js===null||!Js.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=qM(i),HM(i,t,n,r),Ib(n,i),!1}n=n.return}while(n!==null);return!1}var H5=Error($e(461)),Zn=!1;function Cr(t,e,n,r){e.child=t===null?rM(e,null,n,r):hu(e,t.child,n,r)}function XT(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return du(e),r=M5(t,e,n,o,a,i),s=O5(),t!==null&&!Zn?(I5(t,e,i),Xo(t,e,i)):(Rt&&s&&S5(e),e.flags|=1,Cr(t,e,r,i),e.child)}function QT(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!w5(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,zM(t,e,a,r,i)):(t=og(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!z5(t,i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ip,n(o,r)&&t.ref===e.ref)return Xo(t,e,i)}return e.flags|=1,t=Ho(a,r),t.ref=e.ref,t.return=e,e.child=t}function zM(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(ip(a,r)&&t.ref===e.ref)if(Zn=!1,e.pendingProps=r=a,z5(t,i))t.flags&131072&&(Zn=!0);else return e.lanes=t.lanes,Xo(t,e,i)}return Mx(t,e,n,r,i)}function VM(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return ZT(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&sg(e,a!==null?a.cachePool:null),a!==null?UT(e,a):_x(),oM(e);else return r=e.lanes=536870912,ZT(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(sg(e,a.cachePool),UT(e,a),js(),e.memoizedState=null):(t!==null&&sg(e,null),_x(),js());return Cr(t,e,i,n),e.child}function wh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ZT(t,e,n,r,i){var a=C5();return a=a===null?null:{parent:Qn._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&sg(e,null),_x(),oM(e),t!==null&&Jf(t,e,r,!0),e.childLanes=i,null}function cg(t,e){return e=Dg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function eC(t,e,n){return hu(e,t.child,null,n),t=cg(e,e.pendingProps),t.flags|=2,_i(e),e.memoizedState=null,t}function ZF(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Rt){if(r.mode==="hidden")return t=cg(e,r),e.lanes=536870912,wh(null,t);if(Tx(e),(t=Sn)?(t=RO(t,ra),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ol!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},n=J6(t),n.return=e,e.child=n,Er=e,Sn=null)):t=null,t===null)throw sl(e);return e.lanes=536870912,null}return cg(e,r)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(Tx(e),i)if(e.flags&256)e.flags&=-257,e=eC(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error($e(558));else if(Zn||Jf(t,e,n,!1),i=(n&t.childLanes)!==0,Zn||i){if(r=cn,r!==null&&(o=w6(r,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,Cu(t,o),fi(r,t,o),H5;$g(),e=eC(t,e,n)}else t=a.treeContext,Sn=sa(o.nextSibling),Er=e,Rt=!0,Ws=null,ra=!1,t!==null&&Q6(e,t),e=cg(e,r),e.flags|=4096;return e}return t=Ho(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function fg(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($e(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Mx(t,e,n,r,i){return du(e),n=M5(t,e,n,r,void 0,i),r=O5(),t!==null&&!Zn?(I5(t,e,i),Xo(t,e,i)):(Rt&&r&&S5(e),e.flags|=1,Cr(t,e,n,i),e.child)}function tC(t,e,n,r,i,a){return du(e),e.updateQueue=null,n=lM(e,r,n,i),sM(t),r=O5(),t!==null&&!Zn?(I5(t,e,a),Xo(t,e,a)):(Rt&&r&&S5(e),e.flags|=1,Cr(t,e,n,a),e.child)}function nC(t,e,n,r,i){if(du(e),e.stateNode===null){var a=Uc,o=n.contextType;typeof o=="object"&&o!==null&&(a=kr(o)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=kx,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},E5(e),o=n.contextType,a.context=typeof o=="object"&&o!==null?kr(o):Uc,a.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(Db(e,n,o,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&kx.enqueueReplaceState(a,a.state,null),Ih(e,r,a,i),Oh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var s=e.memoizedProps,l=Au(n,s);a.props=l;var u=a.context,c=n.contextType;o=Uc,typeof c=="object"&&c!==null&&(o=kr(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||u!==o)&&KT(e,a,r,o),ks=!1;var h=e.memoizedState;a.state=h,Ih(e,r,a,i),Oh(),u=e.memoizedState,s||h!==u||ks?(typeof f=="function"&&(Db(e,n,f,r),u=e.memoizedState),(l=ks||YT(e,n,l,r,h,u,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=o,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,wx(t,e),o=e.memoizedProps,c=Au(n,o),a.props=c,f=e.pendingProps,h=a.context,u=n.contextType,l=Uc,typeof u=="object"&&u!==null&&(l=kr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&KT(e,a,r,l),ks=!1,h=e.memoizedState,a.state=h,Ih(e,r,a,i),Oh();var p=e.memoizedState;o!==f||h!==p||ks||t!==null&&t.dependencies!==null&&Eg(t.dependencies)?(typeof s=="function"&&(Db(e,n,s,r),p=e.memoizedState),(c=ks||YT(e,n,c,r,h,p,l)||t!==null&&t.dependencies!==null&&Eg(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,fg(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=hu(e,t.child,null,i),e.child=hu(e,null,n,i)):Cr(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Xo(t,e,i),t}function rC(t,e,n,r){return fu(),e.flags|=256,Cr(t,e,n,r),e.child}var Lb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rb(t){return{baseLanes:t,cachePool:eM()}}function Fb(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ei),t}function GM(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(qn.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Rt){if(i?Is(e):js(),(t=Sn)?(t=RO(t,ra),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ol!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},n=J6(t),n.return=e,e.child=n,Er=e,Sn=null)):t=null,t===null)throw sl(e);return Vx(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,i?(js(),i=e.mode,s=Dg({mode:"hidden",children:s},i),r=tu(r,i,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=Rb(n),r.childLanes=Fb(t,o,n),e.memoizedState=Lb,wh(null,r)):(Is(e),Ox(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)e.flags&256?(Is(e),e.flags&=-257,e=$b(t,e,n)):e.memoizedState!==null?(js(),e.child=t.child,e.flags|=128,e=null):(js(),s=r.fallback,i=e.mode,r=Dg({mode:"visible",children:r.children},i),s=tu(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,hu(e,t.child,null,n),r=e.child,r.memoizedState=Rb(n),r.childLanes=Fb(t,o,n),e.memoizedState=Lb,e=wh(null,r));else if(Is(e),Vx(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error($e(419)),r.stack="",r.digest=o,op({value:r,source:null,stack:null}),e=$b(t,e,n)}else if(Zn||Jf(t,e,n,!1),o=(n&t.childLanes)!==0,Zn||o){if(o=cn,o!==null&&(r=w6(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Cu(t,r),fi(o,t,r),H5;zx(s)||$g(),e=$b(t,e,n)}else zx(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Sn=sa(s.nextSibling),Er=e,Rt=!0,Ws=null,ra=!1,t!==null&&Q6(e,t),e=Ox(e,r.children),e.flags|=4096);return e}return i?(js(),s=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Ho(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Ho(u,s):(s=tu(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,wh(null,r),r=e.child,s=t.child.memoizedState,s===null?s=Rb(n):(i=s.cachePool,i!==null?(l=Qn._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=eM(),s={baseLanes:s.baseLanes|n,cachePool:i}),r.memoizedState=s,r.childLanes=Fb(t,o,n),e.memoizedState=Lb,wh(t.child,r)):(Is(e),n=t.child,t=n.sibling,n=Ho(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Ox(t,e){return e=Dg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Dg(t,e){return t=Ti(22,t,null,e),t.lanes=0,t}function $b(t,e,n){return hu(e,t.child,null,n),t=Ox(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yx(t.return,e,n)}function Bb(t,e,n,r,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function WM(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=qn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,mn(qn,o),Cr(t,e,r,n),r=Rt?ap:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iC(t,n,e);else if(t.tag===19)iC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Mg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bb(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bb(e,!0,n,null,a,r);break;case"together":Bb(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Xo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ul|=e.lanes,!(n&e.childLanes))if(t!==null){if(Jf(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error($e(153));if(e.child!==null){for(t=e.child,n=Ho(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ho(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z5(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Eg(t)))}function e$(t,e,n){switch(e.tag){case 3:xg(e,e.stateNode.containerInfo),Os(e,Qn,t.memoizedState.cache),fu();break;case 27:case 5:ox(e);break;case 4:xg(e,e.stateNode.containerInfo);break;case 10:Os(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Tx(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Is(e),e.flags|=128,null):n&e.child.childLanes?GM(t,e,n):(Is(e),t=Xo(t,e,n),t!==null?t.sibling:null);Is(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Jf(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return WM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mn(qn,qn.current),r)break;return null;case 22:return e.lanes=0,VM(t,e,n,e.pendingProps);case 24:Os(e,Qn,t.memoizedState.cache)}return Xo(t,e,n)}function YM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Zn=!0;else{if(!z5(t,n)&&!(e.flags&128))return Zn=!1,e$(t,e,n);Zn=!!(t.flags&131072)}else Zn=!1,Rt&&e.flags&1048576&&X6(e,ap,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Bl(e.elementType),e.type=t,typeof t=="function")w5(t)?(r=Au(t,r),e.tag=1,e=nC(null,e,t,r,n)):(e.tag=0,e=Mx(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===l5){e.tag=11,e=XT(null,e,t,r,n);break e}else if(i===u5){e.tag=14,e=QT(null,e,t,r,n);break e}}throw e=ix(t)||t,Error($e(306,e,""))}}return e;case 0:return Mx(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Au(r,e.pendingProps),nC(t,e,r,i,n);case 3:e:{if(xg(e,e.stateNode.containerInfo),t===null)throw Error($e(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,wx(t,e),Ih(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Os(e,Qn,r),r!==a.cache&&bx(e,[Qn],n,!0),Oh(),r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=rC(t,e,r,n);break e}else if(r!==i){i=na(Error($e(424)),e),op(i),e=rC(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Sn=sa(t.firstChild),Er=e,Rt=!0,Ws=null,ra=!0,n=rM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fu(),r===i){e=Xo(t,e,n);break e}Cr(t,e,r,n)}e=e.child}return e;case 26:return fg(t,e),t===null?(n=_C(e.type,null,e.pendingProps,null))?e.memoizedState=n:Rt||(n=e.type,t=e.pendingProps,r=Hg(Gs.current).createElement(n),r[Nr]=e,r[di]=t,Pr(r,n,t),vr(r),e.stateNode=r):e.memoizedState=_C(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ox(e),t===null&&Rt&&(r=e.stateNode=FO(e.type,e.pendingProps,Gs.current),Er=e,ra=!0,i=Sn,pl(e.type)?(Gx=i,Sn=sa(r.firstChild)):Sn=i),Cr(t,e,e.pendingProps.children,n),fg(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Rt&&((i=r=Sn)&&(r=P$(r,e.type,e.pendingProps,ra),r!==null?(e.stateNode=r,Er=e,Sn=sa(r.firstChild),ra=!1,i=!0):i=!1),i||sl(e)),ox(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,r=a.children,qx(i,a)?r=null:o!==null&&qx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=M5(t,e,VF,null,null,n),dp._currentValue=i),fg(t,e),Cr(t,e,r,n),e.child;case 6:return t===null&&Rt&&((t=n=Sn)&&(n=M$(n,e.pendingProps,ra),n!==null?(e.stateNode=n,Er=e,Sn=null,t=!0):t=!1),t||sl(e)),null;case 13:return GM(t,e,n);case 4:return xg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hu(e,null,r,n):Cr(t,e,r,n),e.child;case 11:return XT(t,e,e.type,e.pendingProps,n);case 7:return Cr(t,e,e.pendingProps,n),e.child;case 8:return Cr(t,e,e.pendingProps.children,n),e.child;case 12:return Cr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Os(e,e.type,r.value),Cr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,du(e),i=kr(i),r=r(i),e.flags|=1,Cr(t,e,r,n),e.child;case 14:return QT(t,e,e.type,e.pendingProps,n);case 15:return zM(t,e,e.type,e.pendingProps,n);case 19:return WM(t,e,n);case 31:return ZF(t,e,n);case 22:return VM(t,e,n,e.pendingProps);case 24:return du(e),r=kr(Qn),t===null?(i=C5(),i===null&&(i=cn,a=T5(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},E5(e),Os(e,Qn,i)):(t.lanes&n&&(wx(t,e),Ih(e,null,null,n),Oh()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Os(e,Qn,r)):(r=a.cache,Os(e,Qn,r),r!==i.cache&&bx(e,[Qn],n,!0))),Cr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error($e(156,e.tag))}function No(t){t.flags|=4}function Ub(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(vO())t.flags|=8192;else throw ru=kg,N5}else t.flags&=-16777217}function aC(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!UO(e))if(vO())t.flags|=8192;else throw ru=kg,N5}function Tm(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?y6():536870912,t.lanes|=e,gf|=e)}function th(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t$(t,e,n){var r=e.pendingProps;switch(_5(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return yn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),zo(Qn),ff(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(dc(e)?No(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ob())),yn(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(No(e),a!==null?(yn(e),aC(e,a)):(yn(e),Ub(e,i,null,r,n))):a?a!==t.memoizedState?(No(e),yn(e),aC(e,a)):(yn(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&No(e),yn(e),Ub(e,i,t,r,n)),null;case 27:if(wg(e),n=Gs.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&No(e);else{if(!r){if(e.stateNode===null)throw Error($e(166));return yn(e),null}t=ao.current,dc(e)?jT(e):(t=FO(i,r,n),e.stateNode=t,No(e))}return yn(e),null;case 5:if(wg(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&No(e);else{if(!r){if(e.stateNode===null)throw Error($e(166));return yn(e),null}if(a=ao.current,dc(e))jT(e);else{var o=Hg(Gs.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Nr]=e,a[di]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(Pr(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&No(e)}}return yn(e),Ub(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&No(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error($e(166));if(t=Gs.current,dc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Er,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Nr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||jO(t.nodeValue,n)),t||sl(e,!0)}else t=Hg(t).createTextNode(r),t[Nr]=e,e.stateNode=t}return yn(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=dc(e),n!==null){if(t===null){if(!r)throw Error($e(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(557));t[Nr]=e}else fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),t=!1}else n=Ob(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(_i(e),e):(_i(e),null);if(e.flags&128)throw Error($e(558))}return yn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=dc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($e(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($e(317));i[Nr]=e}else fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),i=!1}else i=Ob(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(_i(e),e):(_i(e),null)}return _i(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Tm(e,e.updateQueue),yn(e),null);case 4:return ff(),t===null&&X5(e.stateNode.containerInfo),yn(e),null;case 10:return zo(e.type),yn(e),null;case 19:if(br(qn),r=e.memoizedState,r===null)return yn(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)th(r,!1);else{if(Dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mg(t),a!==null){for(e.flags|=128,th(r,!1),t=a.updateQueue,e.updateQueue=t,Tm(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)K6(n,t),n=n.sibling;return mn(qn,qn.current&1|2),Rt&&Do(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Pi()>Rg&&(e.flags|=128,i=!0,th(r,!1),e.lanes=4194304)}else{if(!i)if(t=Mg(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Tm(e,t),th(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Rt)return yn(e),null}else 2*Pi()-r.renderingStartTime>Rg&&n!==536870912&&(e.flags|=128,i=!0,th(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Pi(),t.sibling=null,n=qn.current,mn(qn,i?n&1|2:n&1),Rt&&Do(e,r.treeForkCount),t):(yn(e),null);case 22:case 23:return _i(e),k5(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),n=e.updateQueue,n!==null&&Tm(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&br(nu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),zo(Qn),yn(e),null;case 25:return null;case 30:return null}throw Error($e(156,e.tag))}function n$(t,e){switch(_5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zo(Qn),ff(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return wg(e),null;case 31:if(e.memoizedState!==null){if(_i(e),e.alternate===null)throw Error($e(340));fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(_i(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($e(340));fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return br(qn),null;case 4:return ff(),null;case 10:return zo(e.type),null;case 22:case 23:return _i(e),k5(),t!==null&&br(nu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return zo(Qn),null;case 25:return null;default:return null}}function KM(t,e){switch(_5(e),e.tag){case 3:zo(Qn),ff();break;case 26:case 27:case 5:wg(e);break;case 4:ff();break;case 31:e.memoizedState!==null&&_i(e);break;case 13:_i(e);break;case 19:br(qn);break;case 10:zo(e.type);break;case 22:case 23:_i(e),k5(),t!==null&&br(nu);break;case 24:zo(Qn)}}function sA(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){Xt(e,e.return,s)}}function ll(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=e;var l=n,u=s;try{u()}catch(c){Xt(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){Xt(e,e.return,c)}}function JM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{aM(e,n)}catch(r){Xt(t,t.return,r)}}}function XM(t,e,n){n.props=Au(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Xt(t,e,r)}}function Dh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Xt(t,e,i)}}function no(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Xt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Xt(t,e,i)}else n.current=null}function QM(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Xt(t,t.return,i)}}function qb(t,e,n){try{var r=t.stateNode;_$(r,t.type,n,e),r[di]=e}catch(i){Xt(t,t.return,i)}}function ZM(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pl(t.type)||t.tag===4}function Hb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ix(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fo));else if(r!==4&&(r===27&&pl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ix(t,e,n),t=t.sibling;t!==null;)Ix(t,e,n),t=t.sibling}function Lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&pl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}function eO(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Pr(e,r,n),e[Nr]=t,e[di]=n}catch(a){Xt(t,t.return,a)}}var Lo=!1,Xn=!1,zb=!1,oC=typeof WeakSet=="function"?WeakSet:Set,gr=null;function r$(t,e){if(t=t.containerInfo,Bx=Wg,t=U6(t),y5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ux={focusedElem:t,selectionRange:n},Wg=!1,gr=e;gr!==null;)if(e=gr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,gr=t;else for(;gr!==null;){switch(e=gr,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=Au(n.type,i);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(x){Xt(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Hx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error($e(163))}if(t=e.sibling,t!==null){t.return=e.return,gr=t;break}gr=e.return}}function tO(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ko(t,n),r&4&&sA(5,n);break;case 1:if(ko(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){Xt(n,n.return,o)}else{var i=Au(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){Xt(n,n.return,o)}}r&64&&JM(n),r&512&&Dh(n,n.return);break;case 3:if(ko(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{aM(t,e)}catch(o){Xt(n,n.return,o)}}break;case 27:e===null&&r&4&&eO(n);case 26:case 5:ko(t,n),e===null&&r&4&&QM(n),r&512&&Dh(n,n.return);break;case 12:ko(t,n);break;case 31:ko(t,n),r&4&&iO(t,n);break;case 13:ko(t,n),r&4&&aO(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=d$.bind(null,n),O$(t,n))));break;case 22:if(r=n.memoizedState!==null||Lo,!r){e=e!==null&&e.memoizedState!==null||Xn,i=Lo;var a=Xn;Lo=r,(Xn=e)&&!a?Oo(t,n,(n.subtreeFlags&8772)!==0):ko(t,n),Lo=i,Xn=a}break;case 30:break;default:ko(t,n)}}function nO(t){var e=t.alternate;e!==null&&(t.alternate=null,nO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&h5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Nn=null,si=!1;function Eo(t,e,n){for(n=n.child;n!==null;)rO(t,e,n),n=n.sibling}function rO(t,e,n){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(eA,n)}catch{}switch(n.tag){case 26:Xn||no(n,e),Eo(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xn||no(n,e);var r=Nn,i=si;pl(n.type)&&(Nn=n.stateNode,si=!1),Eo(t,e,n),$h(n.stateNode),Nn=r,si=i;break;case 5:Xn||no(n,e);case 6:if(r=Nn,i=si,Nn=null,Eo(t,e,n),Nn=r,si=i,Nn!==null)if(si)try{(Nn.nodeType===9?Nn.body:Nn.nodeName==="HTML"?Nn.ownerDocument.body:Nn).removeChild(n.stateNode)}catch(a){Xt(n,e,a)}else try{Nn.removeChild(n.stateNode)}catch(a){Xt(n,e,a)}break;case 18:Nn!==null&&(si?(t=Nn,yC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),xf(t)):yC(Nn,n.stateNode));break;case 4:r=Nn,i=si,Nn=n.stateNode.containerInfo,si=!0,Eo(t,e,n),Nn=r,si=i;break;case 0:case 11:case 14:case 15:ll(2,n,e),Xn||ll(4,n,e),Eo(t,e,n);break;case 1:Xn||(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&XM(n,e,r)),Eo(t,e,n);break;case 21:Eo(t,e,n);break;case 22:Xn=(r=Xn)||n.memoizedState!==null,Eo(t,e,n),Xn=r;break;default:Eo(t,e,n)}}function iO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xf(t)}catch(n){Xt(e,e.return,n)}}}function aO(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xf(t)}catch(n){Xt(e,e.return,n)}}function i$(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new oC),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new oC),e;default:throw Error($e(435,t.tag))}}function Cm(t,e){var n=i$(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=h$.bind(null,t,r);r.then(i,i)}})}function ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(pl(s.type)){Nn=s.stateNode,si=!1;break e}break;case 5:Nn=s.stateNode,si=!1;break e;case 3:case 4:Nn=s.stateNode.containerInfo,si=!0;break e}s=s.return}if(Nn===null)throw Error($e(160));rO(a,o,i),Nn=null,si=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)oO(e,t),e=e.sibling}var Pa=null;function oO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ii(e,t),ai(t),r&4&&(ll(3,t,t.return),sA(3,t),ll(5,t,t.return));break;case 1:ii(e,t),ai(t),r&512&&(Xn||n===null||no(n,n.return)),r&64&&Lo&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Pa;if(ii(e,t),ai(t),r&512&&(Xn||n===null||no(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[rA]||a[Nr]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Pr(a,r,n),a[Nr]=t,vr(a),r=a;break e;case"link":var o=CC("link","href",i).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(r),Pr(a,r,n),i.head.appendChild(a);break;case"meta":if(o=CC("meta","content",i).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}a=i.createElement(r),Pr(a,r,n),i.head.appendChild(a);break;default:throw Error($e(468,r))}a[Nr]=t,vr(a),r=a}t.stateNode=r}else NC(i,t.type,t.stateNode);else t.stateNode=TC(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?NC(i,t.type,t.stateNode):TC(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&qb(t,t.memoizedProps,n.memoizedProps)}break;case 27:ii(e,t),ai(t),r&512&&(Xn||n===null||no(n,n.return)),n!==null&&r&4&&qb(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ii(e,t),ai(t),r&512&&(Xn||n===null||no(n,n.return)),t.flags&32){i=t.stateNode;try{hf(i,"")}catch(y){Xt(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,qb(t,i,n!==null?n.memoizedProps:i)),r&1024&&(zb=!0);break;case 6:if(ii(e,t),ai(t),r&4){if(t.stateNode===null)throw Error($e(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){Xt(t,t.return,y)}}break;case 3:if(pg=null,i=Pa,Pa=zg(e.containerInfo),ii(e,t),Pa=i,ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xf(e.containerInfo)}catch(y){Xt(t,t.return,y)}zb&&(zb=!1,sO(t));break;case 4:r=Pa,Pa=zg(t.stateNode.containerInfo),ii(e,t),ai(t),Pa=r;break;case 12:ii(e,t),ai(t);break;case 31:ii(e,t),ai(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cm(t,r)));break;case 13:ii(e,t),ai(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Av=Pi()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cm(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Lo,c=Xn;if(Lo=u||i,Xn=c||l,ii(e,t),Xn=c,Lo=u,ai(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Lo||Xn||Ul(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(y){Xt(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){Xt(l,l.return,y)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?bC(p,!0):bC(l.stateNode,!1)}catch(y){Xt(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Cm(t,n))));break;case 19:ii(e,t),ai(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cm(t,r)));break;case 30:break;case 21:break;default:ii(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(ZM(r)){n=r;break}r=r.return}if(n==null)throw Error($e(160));switch(n.tag){case 27:var i=n.stateNode,a=Hb(t);Lg(t,a,i);break;case 5:var o=n.stateNode;n.flags&32&&(hf(o,""),n.flags&=-33);var s=Hb(t);Lg(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Hb(t);Ix(t,u,l);break;default:throw Error($e(161))}}catch(c){Xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sO(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;sO(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ko(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)tO(t,e.alternate,e),e=e.sibling}function Ul(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ll(4,e,e.return),Ul(e);break;case 1:no(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&XM(e,e.return,n),Ul(e);break;case 27:$h(e.stateNode);case 26:case 5:no(e,e.return),Ul(e);break;case 22:e.memoizedState===null&&Ul(e);break;case 30:Ul(e);break;default:Ul(e)}t=t.sibling}}function Oo(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:Oo(i,a,n),sA(4,a);break;case 1:if(Oo(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Xt(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)iM(l[i],s)}catch(u){Xt(r,r.return,u)}}n&&o&64&&JM(a),Dh(a,a.return);break;case 27:eO(a);case 26:case 5:Oo(i,a,n),n&&r===null&&o&4&&QM(a),Dh(a,a.return);break;case 12:Oo(i,a,n);break;case 31:Oo(i,a,n),n&&o&4&&iO(i,a);break;case 13:Oo(i,a,n),n&&o&4&&aO(i,a);break;case 22:a.memoizedState===null&&Oo(i,a,n),Dh(a,a.return);break;case 30:break;default:Oo(i,a,n)}e=e.sibling}}function V5(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&aA(n))}function G5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&aA(t))}function Sa(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lO(t,e,n,r),e=e.sibling}function lO(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Sa(t,e,n,r),i&2048&&sA(9,e);break;case 1:Sa(t,e,n,r);break;case 3:Sa(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&aA(t)));break;case 12:if(i&2048){Sa(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Xt(e,e.return,l)}}else Sa(t,e,n,r);break;case 31:Sa(t,e,n,r);break;case 13:Sa(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?Sa(t,e,n,r):Lh(t,e):a._visibility&2?Sa(t,e,n,r):(a._visibility|=2,Tc(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&V5(o,e);break;case 24:Sa(t,e,n,r),i&2048&&G5(e.alternate,e);break;default:Sa(t,e,n,r)}}function Tc(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Tc(a,o,s,l,i),sA(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Tc(a,o,s,l,i):Lh(a,o):(c._visibility|=2,Tc(a,o,s,l,i)),i&&u&2048&&V5(o.alternate,o);break;case 24:Tc(a,o,s,l,i),i&&u&2048&&G5(o.alternate,o);break;default:Tc(a,o,s,l,i)}e=e.sibling}}function Lh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Lh(n,r),i&2048&&V5(r.alternate,r);break;case 24:Lh(n,r),i&2048&&G5(r.alternate,r);break;default:Lh(n,r)}e=e.sibling}}var Sh=8192;function hc(t,e,n){if(t.subtreeFlags&Sh)for(t=t.child;t!==null;)uO(t,e,n),t=t.sibling}function uO(t,e,n){switch(t.tag){case 26:hc(t,e,n),t.flags&Sh&&t.memoizedState!==null&&z$(n,Pa,t.memoizedState,t.memoizedProps);break;case 5:hc(t,e,n);break;case 3:case 4:var r=Pa;Pa=zg(t.stateNode.containerInfo),hc(t,e,n),Pa=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Sh,Sh=16777216,hc(t,e,n),Sh=r):hc(t,e,n));break;default:hc(t,e,n)}}function cO(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function nh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];gr=r,dO(r,t)}cO(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fO(t),t=t.sibling}function fO(t){switch(t.tag){case 0:case 11:case 15:nh(t),t.flags&2048&&ll(9,t,t.return);break;case 3:nh(t);break;case 12:nh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,dg(t)):nh(t);break;default:nh(t)}}function dg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];gr=r,dO(r,t)}cO(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ll(8,e,e.return),dg(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,dg(e));break;default:dg(e)}t=t.sibling}}function dO(t,e){for(;gr!==null;){var n=gr;switch(n.tag){case 0:case 11:case 15:ll(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:aA(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,gr=r;else e:for(n=t;gr!==null;){r=gr;var i=r.sibling,a=r.return;if(nO(r),r===n){gr=null;break e}if(i!==null){i.return=a,gr=i;break e}gr=a}}}var a$={getCacheForType:function(t){var e=kr(Qn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return kr(Qn).controller.signal}},o$=typeof WeakMap=="function"?WeakMap:Map,zt=0,cn=null,It=null,Dt=0,Jt=0,wi=null,Us=!1,Qf=!1,W5=!1,Qo=0,Dn=0,ul=0,iu=0,Y5=0,Ei=0,gf=0,Rh=null,li=null,jx=!1,Av=0,hO=0,Rg=1/0,Fg=null,Js=null,lr=0,Xs=null,vf=null,Vo=0,Dx=0,Lx=null,pO=null,Fh=0,Rx=null;function Ii(){return zt&2&&Dt!==0?Dt&-Dt:vt.T!==null?J5():S6()}function AO(){if(Ei===0)if(!(Dt&536870912)||Rt){var t=vm;vm<<=1,!(vm&3932160)&&(vm=262144),Ei=t}else Ei=536870912;return t=Li.current,t!==null&&(t.flags|=32),Ei}function fi(t,e,n){(t===cn&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(yf(t,0),qs(t,Dt,Ei,!1)),nA(t,n),(!(zt&2)||t!==cn)&&(t===cn&&(!(zt&2)&&(iu|=n),Dn===4&&qs(t,Dt,Ei,!1)),fo(t))}function mO(t,e,n){if(zt&6)throw Error($e(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||tA(t,e),i=r?u$(t,e):Vb(t,e,!0),a=r;do{if(i===0){Qf&&!r&&qs(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!s$(n)){i=Vb(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;i=Rh;var l=s.current.memoizedState.isDehydrated;if(l&&(yf(s,o).flags|=256),o=Vb(s,o,!1),o!==2){if(W5&&!l){s.errorRecoveryDisabledLanes|=a,iu|=a,i=4;break e}a=li,li=i,a!==null&&(li===null?li=a:li.push.apply(li,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){yf(t,0),qs(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error($e(345));case 4:if((e&4194048)!==e)break;case 6:qs(r,e,Ei,!Us);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error($e(329))}if((e&62914560)===e&&(i=Av+300-Pi(),10<i)){if(qs(r,e,Ei,!Us),iv(r,0,!0)!==0)break e;Vo=e,r.timeoutHandle=LO(sC.bind(null,r,n,li,Fg,jx,e,Ei,iu,gf,Us,a,"Throttled",-0,0),i);break e}sC(r,n,li,Fg,jx,e,Ei,iu,gf,Us,a,null,-0,0)}}break}while(!0);fo(t)}function sC(t,e,n,r,i,a,o,s,l,u,c,f,h,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fo},uO(e,a,f);var y=(a&62914560)===a?Av-Pi():(a&4194048)===a?hO-Pi():0;if(y=V$(f,y),y!==null){Vo=a,t.cancelPendingCommit=y(uC.bind(null,t,e,a,n,r,i,o,s,l,c,f,null,h,p)),qs(t,a,o,!u);return}}uC(t,e,a,n,r,i,o,s,l)}function s$(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Di(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qs(t,e,n,r){e&=~Y5,e&=~iu,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-Oi(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&b6(t,n,e)}function mv(){return zt&6?!0:(lA(0),!1)}function K5(){if(It!==null){if(Jt===0)var t=It.return;else t=It,$o=Nu=null,j5(t),tf=null,sp=0,t=It;for(;t!==null;)KM(t.alternate,t),t=t.return;It=null}}function yf(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,N$(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Vo=0,K5(),cn=t,It=n=Ho(t.current,null),Dt=e,Jt=0,wi=null,Us=!1,Qf=tA(t,e),W5=!1,gf=Ei=Y5=iu=ul=Dn=0,li=Rh=null,jx=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Oi(r),a=1<<i;e|=t[i],r&=~a}return Qo=e,lv(),n}function gO(t,e){Nt=null,vt.H=up,e===Xf||e===cv?(e=$T(),Jt=3):e===N5?(e=$T(),Jt=4):Jt=e===H5?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,wi=e,It===null&&(Dn=1,jg(t,na(e,t.current)))}function vO(){var t=Li.current;return t===null?!0:(Dt&4194048)===Dt?oa===null:(Dt&62914560)===Dt||Dt&536870912?t===oa:!1}function yO(){var t=vt.H;return vt.H=up,t===null?up:t}function bO(){var t=vt.A;return vt.A=a$,t}function $g(){Dn=4,Us||(Dt&4194048)!==Dt&&Li.current!==null||(Qf=!0),!(ul&134217727)&&!(iu&134217727)||cn===null||qs(cn,Dt,Ei,!1)}function Vb(t,e,n){var r=zt;zt|=2;var i=yO(),a=bO();(cn!==t||Dt!==e)&&(Fg=null,yf(t,e)),e=!1;var o=Dn;e:do try{if(Jt!==0&&It!==null){var s=It,l=wi;switch(Jt){case 8:K5(),o=6;break e;case 3:case 2:case 9:case 6:Li.current===null&&(e=!0);var u=Jt;if(Jt=0,wi=null,zc(t,s,l,u),n&&Qf){o=0;break e}break;default:u=Jt,Jt=0,wi=null,zc(t,s,l,u)}}l$(),o=Dn;break}catch(c){gO(t,c)}while(!0);return e&&t.shellSuspendCounter++,$o=Nu=null,zt=r,vt.H=i,vt.A=a,It===null&&(cn=null,Dt=0,lv()),o}function l$(){for(;It!==null;)xO(It)}function u$(t,e){var n=zt;zt|=2;var r=yO(),i=bO();cn!==t||Dt!==e?(Fg=null,Rg=Pi()+500,yf(t,e)):Qf=tA(t,e);e:do try{if(Jt!==0&&It!==null){e=It;var a=wi;t:switch(Jt){case 1:Jt=0,wi=null,zc(t,e,a,1);break;case 2:case 9:if(FT(a)){Jt=0,wi=null,lC(e);break}e=function(){Jt!==2&&Jt!==9||cn!==t||(Jt=7),fo(t)},a.then(e,e);break e;case 3:Jt=7;break e;case 4:Jt=5;break e;case 7:FT(a)?(Jt=0,wi=null,lC(e)):(Jt=0,wi=null,zc(t,e,a,7));break;case 5:var o=null;switch(It.tag){case 26:o=It.memoizedState;case 5:case 27:var s=It;if(o?UO(o):s.stateNode.complete){Jt=0,wi=null;var l=s.sibling;if(l!==null)It=l;else{var u=s.return;u!==null?(It=u,gv(u)):It=null}break t}}Jt=0,wi=null,zc(t,e,a,5);break;case 6:Jt=0,wi=null,zc(t,e,a,6);break;case 8:K5(),Dn=6;break e;default:throw Error($e(462))}}c$();break}catch(c){gO(t,c)}while(!0);return $o=Nu=null,vt.H=r,vt.A=i,zt=n,It!==null?0:(cn=null,Dt=0,lv(),Dn)}function c$(){for(;It!==null&&!I7();)xO(It)}function xO(t){var e=YM(t.alternate,t,Qo);t.memoizedProps=t.pendingProps,e===null?gv(t):It=e}function lC(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=tC(n,e,e.pendingProps,e.type,void 0,Dt);break;case 11:e=tC(n,e,e.pendingProps,e.type.render,e.ref,Dt);break;case 5:j5(e);default:KM(n,e),e=It=K6(e,Qo),e=YM(n,e,Qo)}t.memoizedProps=t.pendingProps,e===null?gv(t):It=e}function zc(t,e,n,r){$o=Nu=null,j5(e),tf=null,sp=0;var i=e.return;try{if(QF(t,i,e,n,Dt)){Dn=1,jg(t,na(n,t.current)),It=null;return}}catch(a){if(i!==null)throw It=i,a;Dn=1,jg(t,na(n,t.current)),It=null;return}e.flags&32768?(Rt||r===1?t=!0:Qf||Dt&536870912?t=!1:(Us=t=!0,(r===2||r===9||r===3||r===6)&&(r=Li.current,r!==null&&r.tag===13&&(r.flags|=16384))),wO(e,t)):gv(e)}function gv(t){var e=t;do{if(e.flags&32768){wO(e,Us);return}t=e.return;var n=t$(e.alternate,e,Qo);if(n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Dn===0&&(Dn=5)}function wO(t,e){do{var n=n$(t.alternate,t);if(n!==null){n.flags&=32767,It=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){It=t;return}It=t=n}while(t!==null);Dn=6,It=null}function uC(t,e,n,r,i,a,o,s,l){t.cancelPendingCommit=null;do vv();while(lr!==0);if(zt&6)throw Error($e(327));if(e!==null){if(e===t.current)throw Error($e(177));if(a=e.lanes|e.childLanes,a|=b5,H7(t,n,a,o,s,l),t===cn&&(It=cn=null,Dt=0),vf=e,Xs=t,Vo=n,Dx=a,Lx=i,pO=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,p$(Sg,function(){return NO(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=vt.T,vt.T=null,i=Vt.p,Vt.p=2,o=zt,zt|=4;try{r$(t,e,n)}finally{zt=o,Vt.p=i,vt.T=r}}lr=1,SO(),_O(),TO()}}function SO(){if(lr===1){lr=0;var t=Xs,e=vf,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=vt.T,vt.T=null;var r=Vt.p;Vt.p=2;var i=zt;zt|=4;try{oO(e,t);var a=Ux,o=U6(t.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&B6(s.ownerDocument.documentElement,s)){if(l!==null&&y5(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),y=s.textContent.length,x=Math.min(l.start,y),w=l.end===void 0?x:Math.min(l.end,y);!p.extend&&x>w&&(o=w,w=x,x=o);var v=MT(s,x),b=MT(s,w);if(v&&b&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var S=f.createRange();S.setStart(v.node,v.offset),p.removeAllRanges(),x>w?(p.addRange(S),p.extend(b.node,b.offset)):(S.setEnd(b.node,b.offset),p.addRange(S))}}}}for(f=[],p=s;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var T=f[s];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}Wg=!!Bx,Ux=Bx=null}finally{zt=i,Vt.p=r,vt.T=n}}t.current=e,lr=2}}function _O(){if(lr===2){lr=0;var t=Xs,e=vf,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=vt.T,vt.T=null;var r=Vt.p;Vt.p=2;var i=zt;zt|=4;try{tO(t,e.alternate,e)}finally{zt=i,Vt.p=r,vt.T=n}}lr=3}}function TO(){if(lr===4||lr===3){lr=0,j7();var t=Xs,e=vf,n=Vo,r=pO;e.subtreeFlags&10256||e.flags&10256?lr=5:(lr=0,vf=Xs=null,CO(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Js=null),d5(n),e=e.stateNode,Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(eA,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=vt.T,i=Vt.p,Vt.p=2,vt.T=null;try{for(var a=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{vt.T=e,Vt.p=i}}Vo&3&&vv(),fo(t),i=t.pendingLanes,n&261930&&i&42?t===Rx?Fh++:(Fh=0,Rx=t):Fh=0,lA(0)}}function CO(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,aA(e)))}function vv(){return SO(),_O(),TO(),NO()}function NO(){if(lr!==5)return!1;var t=Xs,e=Dx;Dx=0;var n=d5(Vo),r=vt.T,i=Vt.p;try{Vt.p=32>n?32:n,vt.T=null,n=Lx,Lx=null;var a=Xs,o=Vo;if(lr=0,vf=Xs=null,Vo=0,zt&6)throw Error($e(331));var s=zt;if(zt|=4,fO(a.current),lO(a,a.current,o,n),zt=s,lA(0,!1),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(eA,a)}catch{}return!0}finally{Vt.p=i,vt.T=r,CO(t,e)}}function cC(t,e,n){e=na(n,e),e=Px(t.stateNode,e,2),t=Ks(t,e,2),t!==null&&(nA(t,2),fo(t))}function Xt(t,e,n){if(t.tag===3)cC(t,t,n);else for(;e!==null;){if(e.tag===3){cC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Js===null||!Js.has(r))){t=na(n,t),n=qM(2),r=Ks(e,n,2),r!==null&&(HM(n,r,e,t),nA(r,2),fo(r));break}}e=e.return}}function Gb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(W5=!0,i.add(n),t=f$.bind(null,t,e,n),e.then(t,t))}function f$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,cn===t&&(Dt&n)===n&&(Dn===4||Dn===3&&(Dt&62914560)===Dt&&300>Pi()-Av?!(zt&2)&&yf(t,0):Y5|=n,gf===Dt&&(gf=0)),fo(t)}function EO(t,e){e===0&&(e=y6()),t=Cu(t,e),t!==null&&(nA(t,e),fo(t))}function d$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EO(t,n)}function h$(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error($e(314))}r!==null&&r.delete(e),EO(t,n)}function p$(t,e){return c5(t,e)}var Bg=null,Cc=null,Fx=!1,Ug=!1,Wb=!1,Hs=0;function fo(t){t!==Cc&&t.next===null&&(Cc===null?Bg=Cc=t:Cc=Cc.next=t),Ug=!0,Fx||(Fx=!0,m$())}function lA(t,e){if(!Wb&&Ug){Wb=!0;do for(var n=!1,r=Bg;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Oi(42|t)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,fC(r,a))}else a=Dt,a=iv(r,r===cn?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||tA(r,a)||(n=!0,fC(r,a));r=r.next}while(n);Wb=!1}}function A$(){kO()}function kO(){Ug=Fx=!1;var t=0;Hs!==0&&C$()&&(t=Hs);for(var e=Pi(),n=null,r=Bg;r!==null;){var i=r.next,a=PO(r,e);a===0?(r.next=null,n===null?Bg=i:n.next=i,i===null&&(Cc=n)):(n=r,(t!==0||a&3)&&(Ug=!0)),r=i}lr!==0&&lr!==5||lA(t),Hs!==0&&(Hs=0)}function PO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-Oi(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=q7(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}if(e=cn,n=Dt,n=iv(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&xb(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||tA(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&xb(r),d5(n)){case 2:case 8:n=g6;break;case 32:n=Sg;break;case 268435456:n=v6;break;default:n=Sg}return r=MO.bind(null,t),n=c5(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&xb(r),t.callbackPriority=2,t.callbackNode=null,2}function MO(t,e){if(lr!==0&&lr!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(vv()&&t.callbackNode!==n)return null;var r=Dt;return r=iv(t,t===cn?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(mO(t,r,e),PO(t,Pi()),t.callbackNode!=null&&t.callbackNode===n?MO.bind(null,t):null)}function fC(t,e){if(vv())return null;mO(t,e,!0)}function m$(){E$(function(){zt&6?c5(m6,A$):kO()})}function J5(){if(Hs===0){var t=pf;t===0&&(t=gm,gm<<=1,!(gm&261888)&&(gm=256)),Hs=t}return Hs}function dC(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rg(""+t)}function hC(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function g$(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=dC((i[di]||null).action),o=r.submitter;o&&(e=(e=o[di]||null)?dC(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var s=new av("action","action",null,r,i);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Hs!==0){var l=o?hC(i,o):new FormData(i);Ex(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?hC(i,o):new FormData(i),Ex(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Yb=0;Yb<mx.length;Yb++){var Kb=mx[Yb],v$=Kb.toLowerCase(),y$=Kb[0].toUpperCase()+Kb.slice(1);Ra(v$,"on"+y$)}Ra(H6,"onAnimationEnd");Ra(z6,"onAnimationIteration");Ra(V6,"onAnimationStart");Ra("dblclick","onDoubleClick");Ra("focusin","onFocus");Ra("focusout","onBlur");Ra(DF,"onTransitionRun");Ra(LF,"onTransitionStart");Ra(RF,"onTransitionCancel");Ra(G6,"onTransitionEnd");df("onMouseEnter",["mouseout","mouseover"]);df("onMouseLeave",["mouseout","mouseover"]);df("onPointerEnter",["pointerout","pointerover"]);df("onPointerLeave",["pointerout","pointerover"]);Su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Su("onBeforeInput",["compositionend","keypress","textInput","paste"]);Su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cp));function OO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Tg(c)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=u;try{a(i)}catch(c){Tg(c)}i.currentTarget=null,a=l}}}}function Ot(t,e){var n=e[lx];n===void 0&&(n=e[lx]=new Set);var r=t+"__bubble";n.has(r)||(IO(e,t,2,!1),n.add(r))}function Jb(t,e,n){var r=0;e&&(r|=4),IO(n,t,r,e)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function X5(t){if(!t[Nm]){t[Nm]=!0,_6.forEach(function(n){n!=="selectionchange"&&(b$.has(n)||Jb(n,!1,t),Jb(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nm]||(e[Nm]=!0,Jb("selectionchange",!1,e))}}function IO(t,e,n,r){switch(GO(e)){case 2:var i=Y$;break;case 8:i=K$;break;default:i=tS}n=i.bind(null,e,n,t),i=void 0,!hx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xb(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=Dc(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=a=o;continue e}s=s.parentNode}}r=r.return}O6(function(){var u=a,c=A5(n),f=[];e:{var h=W6.get(t);if(h!==void 0){var p=av,y=t;switch(t){case"keypress":if(ag(n)===0)break e;case"keydown":case"keyup":p=hF;break;case"focusin":y="focus",p=Cb;break;case"focusout":y="blur",p=Cb;break;case"beforeblur":case"afterblur":p=Cb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mF;break;case H6:case z6:case V6:p=iF;break;case G6:p=vF;break;case"scroll":case"scrollend":p=Z7;break;case"wheel":p=bF;break;case"copy":case"cut":case"paste":p=oF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ST;break;case"toggle":case"beforetoggle":p=wF}var x=(e&4)!==0,w=!x&&(t==="scroll"||t==="scrollend"),v=x?h!==null?h+"Capture":null:h;x=[];for(var b=u,S;b!==null;){var T=b;if(S=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||S===null||v===null||(T=np(b,v),T!=null&&x.push(fp(b,T,S))),w)break;b=b.return}0<x.length&&(h=new p(h,y,null,n,c),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==dx&&(y=n.relatedTarget||n.fromElement)&&(Dc(y)||y[Yf]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Dc(y):null,y!==null&&(w=Zp(y),x=y.tag,y!==w||x!==5&&x!==27&&x!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=xT,T="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=ST,T="onPointerLeave",v="onPointerEnter",b="pointer"),w=p==null?h:xh(p),S=y==null?h:xh(y),h=new x(T,b+"leave",p,n,c),h.target=w,h.relatedTarget=S,T=null,Dc(c)===u&&(x=new x(v,b+"enter",y,n,c),x.target=S,x.relatedTarget=w,T=x),w=T,p&&y)t:{for(x=x$,v=p,b=y,S=0,T=v;T;T=x(T))S++;T=0;for(var C=b;C;C=x(C))T++;for(;0<S-T;)v=x(v),S--;for(;0<T-S;)b=x(b),T--;for(;S--;){if(v===b||b!==null&&v===b.alternate){x=v;break t}v=x(v),b=x(b)}x=null}else x=null;p!==null&&pC(f,h,p,x,!1),y!==null&&w!==null&&pC(f,w,y,x,!0)}}e:{if(h=u?xh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=NT;else if(CT(h))if(F6)k=OF;else{k=PF;var E=kF}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&p5(u.elementType)&&(k=NT):k=MF;if(k&&(k=k(t,u))){R6(f,k,n,c);break e}E&&E(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&fx(h,"number",h.value)}switch(E=u?xh(u):window,t){case"focusin":(CT(E)||E.contentEditable==="true")&&(Fc=E,px=u,kh=null);break;case"focusout":kh=px=Fc=null;break;case"mousedown":Ax=!0;break;case"contextmenu":case"mouseup":case"dragend":Ax=!1,OT(f,n,c);break;case"selectionchange":if(jF)break;case"keydown":case"keyup":OT(f,n,c)}var M;if(v5)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Rc?D6(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(j6&&n.locale!=="ko"&&(Rc||j!=="onCompositionStart"?j==="onCompositionEnd"&&Rc&&(M=I6()):(Bs=c,m5="value"in Bs?Bs.value:Bs.textContent,Rc=!0)),E=qg(u,j),0<E.length&&(j=new wT(j,t,null,n,c),f.push({event:j,listeners:E}),M?j.data=M:(M=L6(n),M!==null&&(j.data=M)))),(M=_F?TF(t,n):CF(t,n))&&(j=qg(u,"onBeforeInput"),0<j.length&&(E=new wT("onBeforeInput","beforeinput",null,n,c),f.push({event:E,listeners:j}),E.data=M)),g$(f,t,u,n,c)}OO(f,e)})}function fp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=np(t,n),i!=null&&r.unshift(fp(t,i,a)),i=np(t,e),i!=null&&r.push(fp(t,i,a))),t.tag===3)return r;t=t.return}return[]}function x$(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pC(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,i?(u=np(n,a),u!=null&&o.unshift(fp(n,u,l))):i||(u=np(n,a),u!=null&&o.push(fp(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var w$=/\r\n?/g,S$=/\u0000|\uFFFD/g;function AC(t){return(typeof t=="string"?t:""+t).replace(w$,`
`).replace(S$,"")}function jO(t,e){return e=AC(e),AC(t)===e}function nn(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||hf(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&hf(t,""+r);break;case"className":bm(t,"class",r);break;case"tabIndex":bm(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":bm(t,n,r);break;case"style":M6(t,r,a);break;case"data":if(e!=="object"){bm(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=rg(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&nn(t,e,"name",i.name,i,null),nn(t,e,"formEncType",i.formEncType,i,null),nn(t,e,"formMethod",i.formMethod,i,null),nn(t,e,"formTarget",i.formTarget,i,null)):(nn(t,e,"encType",i.encType,i,null),nn(t,e,"method",i.method,i,null),nn(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=rg(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Fo);break;case"onScroll":r!=null&&Ot("scroll",t);break;case"onScrollEnd":r!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($e(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error($e(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=rg(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),ng(t,"popover",r);break;case"xlinkActuate":Co(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Co(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Co(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Co(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Co(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Co(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Co(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Co(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Co(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ng(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=X7.get(n)||n,ng(t,n,r))}}function $x(t,e,n,r,i,a){switch(n){case"style":M6(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($e(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error($e(60));t.innerHTML=n}}break;case"children":typeof r=="string"?hf(t,r):(typeof r=="number"||typeof r=="bigint")&&hf(t,""+r);break;case"onScroll":r!=null&&Ot("scroll",t);break;case"onScrollEnd":r!=null&&Ot("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!T6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[di]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):ng(t,n,r)}}}function Pr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($e(137,e));default:nn(t,e,a,o,n,null)}}i&&nn(t,e,"srcSet",n.srcSet,n,null),r&&nn(t,e,"src",n.src,n,null);return;case"input":Ot("invalid",t);var s=a=o=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error($e(137,e));break;default:nn(t,e,r,c,n,null)}}E6(t,a,s,l,u,o,i,!1);return;case"select":Ot("invalid",t),r=o=a=null;for(i in n)if(n.hasOwnProperty(i)&&(s=n[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:nn(t,e,i,s,n,null)}e=a,n=o,t.multiple=!!r,e!=null?Qc(t,!!r,e,!1):n!=null&&Qc(t,!!r,n,!0);return;case"textarea":Ot("invalid",t),a=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error($e(91));break;default:nn(t,e,o,s,n,null)}P6(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:nn(t,e,l,r,n,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(r=0;r<cp.length;r++)Ot(cp[r],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($e(137,e));default:nn(t,e,u,r,n,null)}return;default:if(p5(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&$x(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&nn(t,e,s,r,n,null))}function _$(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||nn(t,e,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error($e(137,e));break;default:p!==f&&nn(t,e,h,p,r,f)}}cx(t,o,s,l,u,c,a,i);return;case"select":p=o=s=h=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(a)||nn(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":h=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&nn(t,e,i,a,r,l)}e=s,n=o,r=p,h!=null?Qc(t,!!n,h,!1):!!r!=!!n&&(e!=null?Qc(t,!!n,e,!0):Qc(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(s in n)if(i=n[s],n.hasOwnProperty(s)&&i!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:nn(t,e,s,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error($e(91));break;default:i!==a&&nn(t,e,o,i,r,a)}k6(t,h,p);return;case"option":for(var y in n)if(h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:nn(t,e,y,null,r,h)}for(l in r)if(h=r[l],p=n[l],r.hasOwnProperty(l)&&h!==p&&(h!=null||p!=null))switch(l){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:nn(t,e,l,h,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x)&&nn(t,e,x,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error($e(137,e));break;default:nn(t,e,u,h,r,p)}return;default:if(p5(e)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!r.hasOwnProperty(w)&&$x(t,e,w,void 0,r,h);for(c in r)h=r[c],p=n[c],!r.hasOwnProperty(c)||h===p||h===void 0&&p===void 0||$x(t,e,c,h,r,p);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v)&&nn(t,e,v,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||h==null&&p==null||nn(t,e,f,h,r,p)}function mC(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T$(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&mC(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&mC(f)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bx=null,Ux=null;function Hg(t){return t.nodeType===9?t:t.ownerDocument}function gC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DO(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function qx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qb=null;function C$(){var t=window.event;return t&&t.type==="popstate"?t===Qb?!1:(Qb=t,!0):(Qb=null,!1)}var LO=typeof setTimeout=="function"?setTimeout:void 0,N$=typeof clearTimeout=="function"?clearTimeout:void 0,vC=typeof Promise=="function"?Promise:void 0,E$=typeof queueMicrotask=="function"?queueMicrotask:typeof vC<"u"?function(t){return vC.resolve(null).then(t).catch(k$)}:LO;function k$(t){setTimeout(function(){throw t})}function pl(t){return t==="head"}function yC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),xf(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")$h(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,$h(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[rA]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&$h(t.ownerDocument.body);n=i}while(n);xf(e)}function bC(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Hx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hx(n),h5(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function P$(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[rA])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=sa(t.nextSibling),t===null)break}return null}function M$(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sa(t.nextSibling),t===null))return null;return t}function RO(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=sa(t.nextSibling),t===null))return null;return t}function zx(t){return t.data==="$?"||t.data==="$~"}function Vx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function O$(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Gx=null;function xC(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return sa(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function wC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function FO(t,e,n){switch(e=Hg(n),t){case"html":if(t=e.documentElement,!t)throw Error($e(452));return t;case"head":if(t=e.head,!t)throw Error($e(453));return t;case"body":if(t=e.body,!t)throw Error($e(454));return t;default:throw Error($e(451))}}function $h(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);h5(t)}var ca=new Map,SC=new Set;function zg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rs=Vt.d;Vt.d={f:I$,r:j$,D:D$,C:L$,L:R$,m:F$,X:B$,S:$$,M:U$};function I$(){var t=rs.f(),e=mv();return t||e}function j$(t){var e=Kf(t);e!==null&&e.tag===5&&e.type==="form"?MM(e):rs.r(t)}var Zf=typeof document>"u"?null:document;function $O(t,e,n){var r=Zf;if(r&&typeof e=="string"&&e){var i=ta(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),SC.has(i)||(SC.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Pr(e,"link",t),vr(e),r.head.appendChild(e)))}}function D$(t){rs.D(t),$O("dns-prefetch",t,null)}function L$(t,e){rs.C(t,e),$O("preconnect",t,e)}function R$(t,e,n){rs.L(t,e,n);var r=Zf;if(r&&t&&e){var i='link[rel="preload"][as="'+ta(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ta(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+ta(n.imageSizes)+'"]')):i+='[href="'+ta(t)+'"]';var a=i;switch(e){case"style":a=bf(t);break;case"script":a=ed(t)}ca.has(a)||(t=Cn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ca.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(uA(a))||e==="script"&&r.querySelector(cA(a))||(e=r.createElement("link"),Pr(e,"link",t),vr(e),r.head.appendChild(e)))}}function F$(t,e){rs.m(t,e);var n=Zf;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+ta(r)+'"][href="'+ta(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ed(t)}if(!ca.has(a)&&(t=Cn({rel:"modulepreload",href:t},e),ca.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cA(a)))return}r=n.createElement("link"),Pr(r,"link",t),vr(r),n.head.appendChild(r)}}}function $$(t,e,n){rs.S(t,e,n);var r=Zf;if(r&&t){var i=Xc(r).hoistableStyles,a=bf(t);e=e||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(uA(a)))s.loading=5;else{t=Cn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ca.get(a))&&Q5(t,n);var l=o=r.createElement("link");vr(l),Pr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,hg(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function B$(t,e){rs.X(t,e);var n=Zf;if(n&&t){var r=Xc(n).hoistableScripts,i=ed(t),a=r.get(i);a||(a=n.querySelector(cA(i)),a||(t=Cn({src:t,async:!0},e),(e=ca.get(i))&&Z5(t,e),a=n.createElement("script"),vr(a),Pr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function U$(t,e){rs.M(t,e);var n=Zf;if(n&&t){var r=Xc(n).hoistableScripts,i=ed(t),a=r.get(i);a||(a=n.querySelector(cA(i)),a||(t=Cn({src:t,async:!0,type:"module"},e),(e=ca.get(i))&&Z5(t,e),a=n.createElement("script"),vr(a),Pr(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function _C(t,e,n,r){var i=(i=Gs.current)?zg(i):null;if(!i)throw Error($e(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=bf(n.href),n=Xc(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=bf(n.href);var a=Xc(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(uA(t)))&&!a._p&&(o.instance=a,o.state.loading=5),ca.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ca.set(t,n),a||q$(i,t,n,o.state))),e&&r===null)throw Error($e(528,""));return o}if(e&&r!==null)throw Error($e(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ed(n),n=Xc(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error($e(444,t))}}function bf(t){return'href="'+ta(t)+'"'}function uA(t){return'link[rel="stylesheet"]['+t+"]"}function BO(t){return Cn({},t,{"data-precedence":t.precedence,precedence:null})}function q$(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Pr(e,"link",n),vr(e),t.head.appendChild(e))}function ed(t){return'[src="'+ta(t)+'"]'}function cA(t){return"script[async]"+t}function TC(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ta(n.href)+'"]');if(r)return e.instance=r,vr(r),r;var i=Cn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),vr(r),Pr(r,"style",i),hg(r,n.precedence,t),e.instance=r;case"stylesheet":i=bf(n.href);var a=t.querySelector(uA(i));if(a)return e.state.loading|=4,e.instance=a,vr(a),a;r=BO(n),(i=ca.get(i))&&Q5(r,i),a=(t.ownerDocument||t).createElement("link"),vr(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Pr(a,"link",r),e.state.loading|=4,hg(a,n.precedence,t),e.instance=a;case"script":return a=ed(n.src),(i=t.querySelector(cA(a)))?(e.instance=i,vr(i),i):(r=n,(i=ca.get(a))&&(r=Cn({},n),Z5(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),vr(i),Pr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error($e(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,hg(r,n.precedence,t));return e.instance}function hg(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Q5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Z5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pg=null;function CC(t,e,n){if(pg===null){var r=new Map,i=pg=new Map;i.set(n,r)}else i=pg,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[rA]||a[Nr]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function NC(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function H$(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function UO(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function z$(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=bf(r.href),a=e.querySelector(uA(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Vg.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,vr(a);return}a=e.ownerDocument||e,r=BO(r),(i=ca.get(i))&&Q5(r,i),a=a.createElement("link"),vr(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Pr(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Vg.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Zb=0;function V$(t,e){return t.stylesheets&&t.count===0&&Ag(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Ag(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&Zb===0&&(Zb=62500*T$());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ag(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>Zb?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Vg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ag(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gg=null;function Ag(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gg=new Map,e.forEach(G$,t),Gg=null,Vg.call(t))}function G$(t,e){if(!(e.state.loading&4)){var n=Gg.get(t);if(n)var r=n.get(null);else{n=new Map,Gg.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Vg.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var dp={$$typeof:Ro,Provider:null,Consumer:null,_currentValue:eu,_currentValue2:eu,_threadCount:0};function W$(t,e,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wb(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wb(0),this.hiddenUpdates=wb(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function qO(t,e,n,r,i,a,o,s,l,u,c,f){return t=new W$(t,e,n,o,l,u,c,f,s),e=1,a===!0&&(e|=24),a=Ti(3,null,null,e),t.current=a,a.stateNode=t,e=T5(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},E5(a),t}function HO(t){return t?(t=Uc,t):Uc}function zO(t,e,n,r,i,a){i=HO(i),r.context===null?r.context=i:r.pendingContext=i,r=Ys(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Ks(t,r,e),n!==null&&(fi(n,t,e),Mh(n,t,e))}function EC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eS(t,e){EC(t,e),(t=t.alternate)&&EC(t,e)}function VO(t){if(t.tag===13||t.tag===31){var e=Cu(t,67108864);e!==null&&fi(e,t,67108864),eS(t,67108864)}}function kC(t){if(t.tag===13||t.tag===31){var e=Ii();e=f5(e);var n=Cu(t,e);n!==null&&fi(n,t,e),eS(t,e)}}var Wg=!0;function Y$(t,e,n,r){var i=vt.T;vt.T=null;var a=Vt.p;try{Vt.p=2,tS(t,e,n,r)}finally{Vt.p=a,vt.T=i}}function K$(t,e,n,r){var i=vt.T;vt.T=null;var a=Vt.p;try{Vt.p=8,tS(t,e,n,r)}finally{Vt.p=a,vt.T=i}}function tS(t,e,n,r){if(Wg){var i=Wx(r);if(i===null)Xb(t,e,r,Yg,n),PC(t,r);else if(X$(i,t,e,n,r))r.stopPropagation();else if(PC(t,r),e&4&&-1<J$.indexOf(t)){for(;i!==null;){var a=Kf(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=$l(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Oi(o);s.entanglements[1]|=l,o&=~l}fo(a),!(zt&6)&&(Rg=Pi()+500,lA(0))}}break;case 31:case 13:s=Cu(a,2),s!==null&&fi(s,a,2),mv(),eS(a,2)}if(a=Wx(r),a===null&&Xb(t,e,r,Yg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Xb(t,e,r,null,n)}}function Wx(t){return t=A5(t),nS(t)}var Yg=null;function nS(t){if(Yg=null,t=Dc(t),t!==null){var e=Zp(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=f6(e),t!==null)return t;t=null}else if(n===31){if(t=d6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Yg=t,null}function GO(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(D7()){case m6:return 2;case g6:return 8;case Sg:case L7:return 32;case v6:return 268435456;default:return 32}default:return 32}}var Yx=!1,Qs=null,Zs=null,el=null,hp=new Map,pp=new Map,Ds=[],J$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PC(t,e){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":el=null;break;case"pointerover":case"pointerout":hp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pp.delete(e.pointerId)}}function rh(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Kf(e),e!==null&&VO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function X$(t,e,n,r,i){switch(e){case"focusin":return Qs=rh(Qs,t,e,n,r,i),!0;case"dragenter":return Zs=rh(Zs,t,e,n,r,i),!0;case"mouseover":return el=rh(el,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return hp.set(a,rh(hp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,pp.set(a,rh(pp.get(a)||null,t,e,n,r,i)),!0}return!1}function WO(t){var e=Dc(t.target);if(e!==null){var n=Zp(e);if(n!==null){if(e=n.tag,e===13){if(e=f6(n),e!==null){t.blockedOn=e,pT(t.priority,function(){kC(n)});return}}else if(e===31){if(e=d6(n),e!==null){t.blockedOn=e,pT(t.priority,function(){kC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dx=r,n.target.dispatchEvent(r),dx=null}else return e=Kf(n),e!==null&&VO(e),t.blockedOn=n,!1;e.shift()}return!0}function MC(t,e,n){mg(t)&&n.delete(e)}function Q$(){Yx=!1,Qs!==null&&mg(Qs)&&(Qs=null),Zs!==null&&mg(Zs)&&(Zs=null),el!==null&&mg(el)&&(el=null),hp.forEach(MC),pp.forEach(MC)}function Em(t,e){t.blockedOn===e&&(t.blockedOn=null,Yx||(Yx=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,Q$)))}var km=null;function OC(t){km!==t&&(km=t,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,function(){km===t&&(km=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(nS(r||n)===null)continue;break}var a=Kf(n);a!==null&&(t.splice(e,3),e-=3,Ex(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function xf(t){function e(l){return Em(l,t)}Qs!==null&&Em(Qs,t),Zs!==null&&Em(Zs,t),el!==null&&Em(el,t),hp.forEach(e),pp.forEach(e);for(var n=0;n<Ds.length;n++){var r=Ds[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)WO(n),n.blockedOn===null&&Ds.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[di]||null;if(typeof a=="function")o||OC(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[di]||null)s=o.formAction;else if(nS(i)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),OC(n)}}}function YO(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function rS(t){this._internalRoot=t}yv.prototype.render=rS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($e(409));var n=e.current,r=Ii();zO(n,r,t,e,null,null)};yv.prototype.unmount=rS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zO(t.current,2,null,t,null,null),mv(),e[Yf]=null}};function yv(t){this._internalRoot=t}yv.prototype.unstable_scheduleHydration=function(t){if(t){var e=S6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&WO(t)}};var IC=u6.version;if(IC!=="19.2.0")throw Error($e(527,IC,"19.2.0"));Vt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($e(188)):(t=Object.keys(t).join(","),Error($e(268,t)));return t=E7(e),t=t!==null?h6(t):null,t=t===null?null:t.stateNode,t};var Z$={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:vt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{eA=Pm.inject(Z$),Mi=Pm}catch{}}nv.createRoot=function(t,e){if(!c6(t))throw Error($e(299));var n=!1,r="",i=$M,a=BM,o=UM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=qO(t,1,!1,null,null,n,r,null,i,a,o,YO),t[Yf]=e.current,X5(t),new rS(e)};nv.hydrateRoot=function(t,e,n){if(!c6(t))throw Error($e(299));var r=!1,i="",a=$M,o=BM,s=UM,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=qO(t,1,!0,e,n??null,r,i,l,a,o,s,YO),e.context=HO(null),n=e.current,r=Ii(),r=f5(r),i=Ys(r),i.callback=null,Ks(n,i,r),n=r,e.current.lanes=n,nA(e,n),fo(e),t[Yf]=e.current,X5(t),new yv(e)};nv.version="19.2.0";function KO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KO)}catch(t){console.error(t)}}KO(),r6.exports=nv;var eB=r6.exports;const tB=Gt(eB),nB="modulepreload",rB=function(t){return"/goshop0.2/"+t},jC={},cl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=rB(l),l in jC)return;jC[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":nB,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})},iB=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cl(async()=>{const{default:r}=await Promise.resolve().then(()=>td);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class iS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class DC extends iS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class LC extends iS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RC extends iS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Kx;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kx||(Kx={}));var aB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class oB{constructor(e,{headers:n={},customFetch:r,region:i=Kx.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=iB(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return aB(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o,signal:s}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:s}).catch(w=>{throw w.name==="AbortError"?w:new DC(w)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new LC(h);if(!h.ok)throw new RC(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return y==="application/json"?x=yield h.json():y==="application/octet-stream"?x=yield h.blob():y==="text/event-stream"?x=h:y==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new DC(i)}:{data:null,error:i,response:i instanceof RC||i instanceof LC?i.context:void 0}}})}}var ui={},aS={},bv={},fA={},xv={},wv={},sB=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wf=sB();const lB=wf.fetch,JO=wf.fetch.bind(wf),XO=wf.Headers,uB=wf.Request,cB=wf.Response,td=Object.freeze(Object.defineProperty({__proto__:null,Headers:XO,Request:uB,Response:cB,default:JO,fetch:lB},Symbol.toStringTag,{value:"Module"})),fB=WP(td);var Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});let dB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Sv.default=dB;var QO=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wv,"__esModule",{value:!0});const hB=QO(fB),pB=QO(Sv);let AB=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hB.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,u;let c=null,f=null,h=null,p=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const w=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{c=JSON.parse(w),Array.isArray(c)&&a.status===404&&(f=[],c=null,p=200,y="OK")}catch{a.status===404&&w===""?(p=204,y="No Content"):c={message:w}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,p=200,y="OK"),c&&this.shouldThrowOnError)throw new pB.default(c)}return{error:c,data:f,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};wv.default=AB;var mB=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xv,"__esModule",{value:!0});const gB=mB(wv);let vB=class extends gB.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};xv.default=vB;var yB=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fA,"__esModule",{value:!0});const bB=yB(xv);let xB=class extends bB.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};fA.default=xB;var wB=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bv,"__esModule",{value:!0});const ih=wB(fA);let SB=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new ih.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new ih.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ih.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ih.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ih.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};bv.default=SB;var ZO=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aS,"__esModule",{value:!0});const _B=ZO(bv),TB=ZO(fA);let CB=class eI{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new _B.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new eI(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",u=n);const c=new Headers(this.headers);return a&&c.set("Prefer",`count=${a}`),new TB.default({method:s,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};aS.default=CB;var nd=ur&&ur.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});ui.PostgrestError=ui.PostgrestBuilder=ui.PostgrestTransformBuilder=ui.PostgrestFilterBuilder=ui.PostgrestQueryBuilder=ui.PostgrestClient=void 0;const tI=nd(aS);ui.PostgrestClient=tI.default;const nI=nd(bv);ui.PostgrestQueryBuilder=nI.default;const rI=nd(fA);ui.PostgrestFilterBuilder=rI.default;const iI=nd(xv);ui.PostgrestTransformBuilder=iI.default;const aI=nd(wv);ui.PostgrestBuilder=aI.default;const oI=nd(Sv);ui.PostgrestError=oI.default;var NB=ui.default={PostgrestClient:tI.default,PostgrestQueryBuilder:nI.default,PostgrestFilterBuilder:rI.default,PostgrestTransformBuilder:iI.default,PostgrestBuilder:aI.default,PostgrestError:oI.default};const{PostgrestClient:EB,PostgrestQueryBuilder:r_e,PostgrestFilterBuilder:i_e,PostgrestTransformBuilder:a_e,PostgrestBuilder:o_e,PostgrestError:s_e}=NB;class kB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const PB="2.15.5",MB=`realtime-js/${PB}`,OB="1.0.0",Jx=1e4,IB=1e3,jB=100;var Bh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bh||(Bh={}));var or;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(or||(or={}));var Ma;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ma||(Ma={}));var Xx;(function(t){t.websocket="websocket"})(Xx||(Xx={}));var Wl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wl||(Wl={}));class DB{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:s,event:l,payload:u}}}class sI{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(hn||(hn={}));const FC=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,o)=>(a[o]=LB(o,t,e,i),a),{})},LB=(t,e,n,r)=>{const i=e.find(s=>s.name===t),a=i==null?void 0:i.type,o=n[t];return a&&!r.includes(a)?lI(a,o):Qx(o)},lI=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return BB(e,n)}switch(t){case hn.bool:return RB(e);case hn.float4:case hn.float8:case hn.int2:case hn.int4:case hn.int8:case hn.numeric:case hn.oid:return FB(e);case hn.json:case hn.jsonb:return $B(e);case hn.timestamp:return UB(e);case hn.abstime:case hn.date:case hn.daterange:case hn.int4range:case hn.int8range:case hn.money:case hn.reltime:case hn.text:case hn.time:case hn.timestamptz:case hn.timetz:case hn.tsrange:case hn.tstzrange:return Qx(e);default:return Qx(e)}},Qx=t=>t,RB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FB=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$B=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},BB=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const o=t.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>lI(e,s))}return t},UB=t=>typeof t=="string"?t.replace(" ","T"):t,uI=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class e1{constructor(e,n,r={},i=Jx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $C;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($C||($C={}));class Uh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Uh.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Uh.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),o=this.transformState(n),s={},l={};return this.map(a,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=a[u];if(f){const h=c.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),y=c.filter(w=>p.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(s[u]=y),x.length>0&&(l[u]=x)}else s[u]=c}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const c=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),c.length>0){const f=e[s].map(p=>p.presence_ref),h=c.filter(p=>f.indexOf(p.presence_ref)<0);e[s].unshift(...h)}r(s,c,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var BC;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(BC||(BC={}));var qh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qh||(qh={}));var Io;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Io||(Io={}));class oS{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new e1(this,Ma.join,this.params,this.timeout),this.rejoinTimer=new sI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=or.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ma.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Uh(this),this.broadcastEndpointURL=uI(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==or.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[qh.PRESENCE]&&this.bindings[qh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Io.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Io.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){e==null||e(Io.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,v=[];for(let b=0;b<w;b++){const S=x[b],{filter:{event:T,schema:C,table:k,filter:E}}=S,M=p&&p[b];if(M&&M.event===T&&M.schema===C&&M.table===k&&M.filter===E)v.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),this.state=or.errored,e==null||e(Io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Io.SUBSCRIBED);return}}).receive("error",p=>{this.state=or.errored,e==null||e(Io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Io.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===or.joined&&e===qh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=or.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ma.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new e1(this,Ma.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=or.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new e1(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Ma;if(r&&[s,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,x,w;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var y,x,w,v,b,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,C=(y=p.filter)===null||y===void 0?void 0:y.event;return T&&((x=n.ids)===null||x===void 0?void 0:x.includes(T))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const T=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:x,table:w,commit_timestamp:v,type:b,errors:S}=y;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:v,eventType:b,new:{},old:{},errors:S}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===or.closed}_isJoined(){return this.state===or.joined}_isJoining(){return this.state===or.joining}_isLeaving(){return this.state===or.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&oS.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ma.close,{},e)}_onError(e){this._on(Ma.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=or.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=FC(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=FC(e.columns,e.old_record)),n}}const t1=()=>{},Mm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qB=[1e3,2e3,5e3,1e4],HB=1e4,zB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VB{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jx,this.transport=null,this.heartbeatIntervalMs=Mm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=t1,this.ref=0,this.reconnectTimer=null,this.logger=t1,this.conn=null,this.sendBuffer=[],this.serializer=new DB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>cl(async()=>{const{default:s}=await Promise.resolve().then(()=>td);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Xx.websocket}`,this.httpEndpoint=uI(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OB}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bh.connecting:return Wl.Connecting;case Bh.open:return Wl.Open;case Bh.closing:return Wl.Closing;default:return Wl.Closed}}isConnected(){return this.connectionState()===Wl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new oS(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(IB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ma.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:MB};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ma.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,o,s,l,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Jx,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Mm.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e==null?void 0:e.heartbeatCallback)!==null&&s!==void 0?s:t1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>qB[f-1]||HB,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class sS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Kn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class GB extends sS{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zx extends sS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var WB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const cI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cl(async()=>{const{default:r}=await Promise.resolve().then(()=>td);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},YB=()=>WB(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cl(()=>Promise.resolve().then(()=>td),void 0)).Response:Response}),e2=t=>{if(Array.isArray(t))return t.map(n=>e2(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=e2(r)}),e},KB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Eu=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const n1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),JB=(t,e,n)=>Eu(void 0,void 0,void 0,function*(){const r=yield YB();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const a=t.status||500,o=(i==null?void 0:i.statusCode)||a+"";e(new GB(n1(i),a,o))}).catch(i=>{e(new Zx(n1(i),i))}):e(new Zx(n1(t),t))}),XB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(KB(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function dA(t,e,n,r,i,a){return Eu(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(n,XB(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>JB(l,s,r))})})}function Kg(t,e,n,r){return Eu(this,void 0,void 0,function*(){return dA(t,"GET",e,n,r)})}function Za(t,e,n,r,i){return Eu(this,void 0,void 0,function*(){return dA(t,"POST",e,r,i,n)})}function t2(t,e,n,r,i){return Eu(this,void 0,void 0,function*(){return dA(t,"PUT",e,r,i,n)})}function QB(t,e,n,r){return Eu(this,void 0,void 0,function*(){return dA(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fI(t,e,n,r,i){return Eu(this,void 0,void 0,function*(){return dA(t,"DELETE",e,r,i,n)})}var ZB=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class eU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return ZB(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Kn(e))return{data:null,error:e};throw e}})}}var tU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class nU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new eU(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return tU(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Kn(e))return{data:null,error:e};throw e}})}}var oi=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const rU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},UC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iU{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=cI(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return oi(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},UC),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield(e=="PUT"?t2:Za)(this.fetch,`${this.url}/object/${c}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Kn(a))return{data:null,error:a};throw a}})}upload(e,n,r){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return oi(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:UC.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield t2(this.fetch,s.toString(),l,{headers:c});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Kn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return oi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Za(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new sS("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}update(e,n,r){return oi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return oi(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return oi(this,void 0,void 0,function*(){try{return{data:{path:(yield Za(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return oi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Za(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return oi(this,void 0,void 0,function*(){try{const i=yield Za(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>Kg(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new nU(l,this.shouldThrowOnError)}info(e){return oi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Kg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:e2(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}exists(e){return oi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield QB(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r)&&r instanceof Zx){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}remove(e){return oi(this,void 0,void 0,function*(){try{return{data:yield fI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}list(e,n,r){return oi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rU),n),{prefix:e||""});return{data:yield Za(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Kn(i))return{data:null,error:i};throw i}})}listV2(e,n){return oi(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Za(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const aU="2.12.2",oU={"X-Client-Info":`storage-js/${aU}`};var pc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class sU{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},oU),n),this.fetch=cI(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return pc(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Kn(e))return{data:null,error:e};throw e}})}getBucket(e){return pc(this,void 0,void 0,function*(){try{return{data:yield Kg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return pc(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return pc(this,void 0,void 0,function*(){try{return{data:yield t2(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pc(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pc(this,void 0,void 0,function*(){try{return{data:yield fI(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}}class lU extends sU{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new iU(this.url,this.headers,e,this.fetch)}}const uU="2.58.0";let _h="";typeof Deno<"u"?_h="deno":typeof document<"u"?_h="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_h="react-native":_h="node";const cU={"X-Client-Info":`supabase-js-${_h}/${uU}`},fU={headers:cU},dU={schema:"public"},hU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pU={};var AU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const mU=t=>{let e;return t?e=t:typeof fetch>"u"?e=JO:e=fetch,(...n)=>e(...n)},gU=()=>typeof Headers>"u"?XO:Headers,vU=(t,e,n)=>{const r=mU(n),i=gU();return(a,o)=>AU(void 0,void 0,void 0,function*(){var s;const l=(s=yield e())!==null&&s!==void 0?s:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:u}))})};var yU=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};function bU(t){return t.endsWith("/")?t:t+"/"}function xU(t,e){var n,r;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>yU(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function wU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dI="2.72.0",Nc=30*1e3,n2=3,r1=n2*Nc,SU="http://localhost:9999",_U="supabase.auth.token",TU={"X-Client-Info":`gotrue-js/${dI}`},r2="X-Supabase-Api-Version",hI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NU=10*60*1e3;class lS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class EU extends lS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kU(t){return _t(t)&&t.name==="AuthApiError"}class pI extends lS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Al extends lS{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ns extends Al{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PU(t){return _t(t)&&t.name==="AuthSessionMissingError"}class ah extends Al{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Om extends Al{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Im extends Al{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MU(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class qC extends Al{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class i2 extends Al{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function i1(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class HC extends Al{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class a2 extends Al{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zC=` 	
\r=`.split(""),OU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zC.length;e+=1)t[zC[e].charCodeAt(0)]=-2;for(let e=0;e<Jg.length;e+=1)t[Jg[e].charCodeAt(0)]=e;return t})();function VC(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jg[r]),e.queuedBits-=6}}function AI(t,e,n){const r=OU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function GC(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{DU(o,r,n)};for(let o=0;o<t.length;o+=1)AI(t.charCodeAt(o),i,a);return e.join("")}function IU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}IU(r,e)}}function DU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function LU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)AI(t.charCodeAt(i),n,r);return new Uint8Array(e)}function RU(t){const e=[];return jU(t,n=>e.push(n)),new Uint8Array(e)}function FU(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>VC(i,n,r)),VC(null,n,r),e.join("")}function $U(t){return Math.round(Date.now()/1e3)+t}function BU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ji=()=>typeof window<"u"&&typeof document<"u",Il={tested:!1,writable:!1},mI=()=>{if(!Ji())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Il.tested)return Il.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Il.tested=!0,Il.writable=!0}catch{Il.tested=!0,Il.writable=!1}return Il.writable};function UU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const gI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cl(async()=>{const{default:r}=await Promise.resolve().then(()=>td);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},qU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ec=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},jl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_s=async(t,e)=>{await t.removeItem(e)};class _v{constructor(){this.promise=new _v.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}_v.promiseConstructor=Promise;function a1(t){const e=t.split(".");if(e.length!==3)throw new a2("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!CU.test(e[r]))throw new a2("JWT not in base64url format");return{header:JSON.parse(GC(e[0])),payload:JSON.parse(GC(e[1])),signature:LU(e[2]),raw:{header:e[0],payload:e[1]}}}async function HU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zU(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){r(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function VU(t){return("0"+t.toString(16)).substr(-2)}function GU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,VU).join("")}async function WU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function YU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ac(t,e,n=!1){const r=GU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ec(t,`${e}-code-verifier`,i);const a=await YU(r);return[a,r===a?"plain":"s256"]}const KU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JU(t){const e=t.headers.get(r2);if(!e||!e.match(KU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function XU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mc(t){if(!ZU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function o1(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function WC(t){return JSON.parse(JSON.stringify(t))}var e9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ql=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),t9=[502,503,504];async function YC(t){var e;if(!qU(t))throw new i2(ql(t),0);if(t9.includes(t.status))throw new i2(ql(t),t.status);let n;try{n=await t.json()}catch(a){throw new pI(ql(a),a)}let r;const i=JU(t);if(i&&i.getTime()>=hI["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new HC(ql(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ns}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new HC(ql(n),t.status,n.weak_password.reasons);throw new EU(ql(n),t.status||500,r)}const n9=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pt(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[r2]||(a[r2]=hI["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await r9(t,e,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function r9(t,e,n,r,i,a){const o=n9(e,r,i,a);let s;try{s=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new i2(ql(l),0)}if(s.ok||await YC(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await YC(l)}}function Xa(t){var e;let n=null;s9(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$U(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function KC(t){const e=Xa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ls(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function i9(t){return{data:t,error:null}}function a9(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,o=e9(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function o9(t){return t}function s9(t){return t.access_token&&t.refresh_token&&t.expires_in}const s1=["global","local","others"];var l9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class u9{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gI(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=s1[0]){if(s1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${s1.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ls})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=l9(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:a9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(_t(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ls})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:o9});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(_t(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){mc(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ls})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){mc(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ls})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){mc(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ls})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){mc(e.userId);try{const{data:n,error:r}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteFactor(e){mc(e.userId),mc(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}}function JC(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function c9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gc={debug:!!(globalThis&&mI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vI extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class f9 extends vI{}async function d9(t,e,n){gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),gc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw gc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new f9(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yI(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function h9(t){return parseInt(t,16)}function p9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function A9(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=yI(t.address),y=c?`${c}://${r}`:r,x=t.statement?`${t.statement}
`:"",w=`${y} wants you to sign in with your Ethereum account:
${p}

${x}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let b=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);b+=`
- ${S}`}v+=b}return`${w}
${v}`}c9();const m9={url:SU,storageKey:_U,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function XC(t,e,n){return await n()}const vc={};class Ap{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ap.nextInstanceID,Ap.nextInstanceID+=1,this.instanceID>0&&Ji()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},m9),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new u9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=gI(i.fetch),this.lock=i.lock||XC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ji()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=d9:this.lock=XC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:mI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=JC(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=JC(this.memoryStorage)),Ji()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=vc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dI}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=UU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ji()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),MU(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _t(n)?{error:n}:{error:new pI("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xa}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(_t(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ac(this.storage,this.storageKey)),a=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Xa})}else if("phone"in e){const{phone:c,password:f,options:h}=e;a=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xa})}else throw new Om("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(_t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:o,options:s}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:KC})}else if("phone"in e){const{phone:a,password:o,options:s}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:KC})}else throw new Om("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ah}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,o,s,l,u,c,f,h;let p,y;if("message"in e)p=e.message,y=e.signature;else{const{chain:x,wallet:w,statement:v,options:b}=e;let S;if(Ji())if(typeof w=="object")S=w;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")S=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),C=await S.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=yI(C[0]);let E=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const j=await S.request({method:"eth_chainId"});E=h9(j)}const M={domain:T.host,address:k,statement:v,uri:T.href,version:"1",chainId:E,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=A9(M),y=await S.request({method:"personal_sign",params:[p9(p),k]})}try{const{data:x,error:w}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xa});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ah}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(_t(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(e){var n,r,i,a,o,s,l,u,c,f,h,p;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:w,wallet:v,statement:b,options:S}=e;let T;if(Ji())if(typeof v=="object")T=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),b?{statement:b}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${C.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((f=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...S.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:w,error:v}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:FU(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Xa});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ah}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(_t(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const n=await jl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xa});if(await _s(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ah}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(_t(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=e,s=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xa}),{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ah}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ac(this.storage,this.storageKey));const{error:f}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:c}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Om("You must provide either an email or phone number.")}catch(s){if(_t(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Xa});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(_t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ac(this.storage,this.storageKey)),await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:i9})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ns;const{error:i}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(_t(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:o}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:o,error:s}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Om("You must provide either an email or phone number and a type")}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await jl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<r1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await jl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=o1()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ls}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ls})})}catch(n){if(_t(n))return PU(n)&&(await this._removeSession(),await _s(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ns;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await Ac(this.storage,this.storageKey));const{data:u,error:c}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Ls});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=a1(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(_t(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:s}=n;if(s)throw s;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ns;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_t(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ji())throw new Im("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Im(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Im("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qC("No code detected.");const{data:b,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Im("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const p=h-c;p*1e3<=Nc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:x,error:w}=await this._getUser(a);if(w)throw w;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(_t(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await jl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(kU(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return e!=="others"&&(await this._removeSession(),await _s(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=BU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ac(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(_t(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,u,c;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Ji()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(_t(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zU(async i=>(i>0&&await HU(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xa})),(i,a)=>{const o=200*Math.pow(2,i);return a&&i1(a)&&Date.now()+o-r<Nc})}catch(r){if(this._debug(n,"error",r),_t(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ji()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await jl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await jl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ec(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:o1()}else if(i&&!i.user&&!i.user){const o=await jl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await _s(this.storage,this.storageKey+"-user"),await Ec(this.storage,this.storageKey,i)):i.user=o1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<r1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${r1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),i1(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new _v;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new Ns;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={session:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),_t(a)){const o={session:null,error:a};return i1(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ec(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=WC(i);await Ec(this.storage,this.storageKey,a)}else{const i=WC(n);await Ec(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _s(this.storage,this.storageKey),await _s(this.storage,this.storageKey+"-code-verifier"),await _s(this.storage,this.storageKey+"-user"),this.userStorage&&await _s(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ji()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Nc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nc}ms, refresh threshold is ${n2} ticks`),i<=n2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vI)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ji()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ac(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:o,error:s}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:s})})}catch(n){if(_t(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_t(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=a1(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+NU>i)return r;const{data:a,error:o}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=a1(r);n!=null&&n.allowExpired||XU(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const c=QU(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,RU(`${s}.${l}`)))throw new a2("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}}Ap.nextInstanceID=0;const g9=Ap;class v9 extends g9{constructor(e){super(e)}}var y9=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};class b9{constructor(e,n,r){var i,a,o;this.supabaseUrl=e,this.supabaseKey=n;const s=wU(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:dU,realtime:pU,auth:Object.assign(Object.assign({},hU),{storageKey:l}),global:fU},c=xU(r??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=vU(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new EB(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new lU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new oB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return y9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new v9({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new VB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x9=(t,e,n)=>new b9(t,e,n);function w9(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}w9()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bI="https://kclntdmvpeykknjnndeb.supabase.co",o2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjbG50ZG12cGV5a2tuam5uZGViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1OTk0MjEsImV4cCI6MjA3NTE3NTQyMX0.O49_JCNUZxPlp6EAqbZHUpJWYJGFBl63QsnmBICyphI";function S9(){return!!(bI.startsWith("http")&&o2&&o2.startsWith("eyJ"))}const _9=()=>S9()?x9(bI,o2):(console.error("Supabase credentials are not set correctly in supabaseClient.ts! Please provide a valid URL and public anon key."),new Proxy({},{get:(t,e)=>e==="channel"?()=>({on:()=>({subscribe:()=>({unsubscribe:()=>Promise.resolve("ok")})})}):e==="removeChannel"?()=>{}:e==="from"?()=>new Proxy({},{get:()=>()=>Promise.resolve({data:[],error:{message:"Supabase not configured"}})}):()=>{}})),ln=_9(),xI=async t=>{const{data:e,error:n}=await ln.from("stores").select("*").eq("licenseKey",t).single();if(n&&n.code!=="PGRST116")throw console.error("getStoreByLicenseKey error:",n),new Error(n.message);return e},wI=async t=>{const{data:e,error:n}=await ln.from("stores").select("*").eq("id",t).single();if(n)throw new Error(n.message);return e},T9=async(t,e)=>{if(!t.isActive)throw new Error("storeDisabledError");const{data:n,error:r}=await ln.from("users").select("*").eq("storeId",t.id).or(`pin.eq.${e},password.eq.${e}`).single();if(r||!n)throw new Error("invalidCredentialsError");return{user:n,store:t}},C9=async(t,e)=>{if(!e.startsWith("PERM-"))return!1;try{const n=atob(e.replace("PERM-","")),[r,i]=n.split("::");if(r===t&&i==="GoShop-Activation-Key-Abzn-Secret-2024"){const{error:a}=await ln.from("stores").update({isActive:!0,trialStartDate:null}).eq("id",t);if(a)throw a;return!0}return!1}catch(n){return console.error("Activation code verification failed",n),!1}},SI=async()=>{const{data:t,error:e}=await ln.from("stores").select("*");if(e)throw new Error(e.message);return t||[]},N9=async()=>{const{data:t,error:e}=await ln.from("users").select("*");if(e)throw new Error(e.message);return t||[]},_I=async t=>{const{data:e,error:n}=await ln.from("users").select("*").eq("storeId",t).eq("role","admin").single();if(n&&n.code!=="PGRST116")throw new Error(n.message);return e},E9=async(t,e,n,r,i,a,o,s)=>{const l=`gs-${crypto.randomUUID().split("-")[0]}-${crypto.randomUUID().split("-")[1]}`,{data:u,error:c}=await ln.from("stores").insert({name:t,logo:e,licenseKey:l,trialDurationDays:i,address:a,ice:o,enableAiReceiptScan:s,isActive:!1}).select().single();if(c)throw new Error(c.message);const{error:f}=await ln.from("users").insert({storeId:u.id,name:"Admin",email:r,password:n,role:"admin"});if(f)throw await ln.from("stores").delete().eq("id",u.id),new Error(f.message);return{store:u,licenseKey:l}},kc=async t=>{const{data:e,error:n}=await ln.from("stores").update(t).eq("id",t.id).select().single();if(n)throw new Error(n.message);return e},k9=async t=>{const{error:e}=await ln.from("stores").delete().eq("id",t);if(e)throw new Error(e.message)},TI=async t=>{const{data:e,error:n}=await ln.from("users").update(t).eq("id",t.id).select().single();if(n)throw new Error(n.message);return e},CI=async t=>{const{data:e,error:n}=await ln.from("users").insert(t).select().single();if(n)throw new Error(n.message);return e},P9=async t=>{const e=["products","productVariants","sales","expenses","users","returns","customers","suppliers","categories","purchases","stockBatches"],n=e.map(o=>ln.from(o).select("*").eq("storeId",t)),r=await Promise.all(n),i={};r.forEach((o,s)=>{const l=e[s];o.error?(console.error(`Error fetching ${l}:`,o.error),i[l]=[]):i[l]=o.data||[]});const a=await wI(t);return a?i.stores=[a]:i.stores=[],i},ml=async(t,e)=>{const{data:n,error:r}=await ln.from(t).insert(e).select().single();if(r)throw new Error(r.message);return n},uS=async(t,e)=>{const{data:n,error:r}=await ln.from(t).update(e).eq("id",e.id).select().single();if(r)throw new Error(r.message);return n},hA=async(t,e)=>{const{error:n}=await ln.from(t).delete().eq("id",e);if(n)throw new Error(n.message)},M9=t=>ml("categories",t),O9=t=>uS("categories",t),I9=t=>hA("categories",t),j9=t=>ml("customers",t),D9=t=>hA("customers",t),L9=t=>ml("suppliers",t),R9=t=>hA("suppliers",t),F9=t=>ml("expenses",t),$9=t=>uS("expenses",t),B9=t=>hA("expenses",t),U9=t=>ml("purchases",t),q9=t=>uS("purchases",t),H9=t=>ml("returns",t),QC=t=>hA("returns",t),ZC=t=>ml("sales",t),eN=async(t,e)=>{const{data:n,error:r}=await ln.from("products").insert(t).select().single();if(r)throw r;const i=e.map(l=>({...l,productId:n.id,storeId:n.storeId})),{data:a,error:o}=await ln.from("productVariants").insert(i.map(({stockQuantity:l,...u})=>u)).select();if(o)throw await ln.from("products").delete().eq("id",n.id),o;const s=e.map((l,u)=>({storeId:n.storeId,variantId:a[u].id,quantity:l.stockQuantity||0,purchasePrice:l.purchasePrice,createdAt:new Date().toISOString()})).filter(l=>l.quantity>0);if(s.length>0){const{error:l}=await ln.from("stockBatches").insert(s);l&&console.error("Error adding initial stock:",l)}return{product:n,variants:a}},z9=async(t,e)=>{const{error:n}=await ln.from("products").update(t).eq("id",t.id);if(n)throw n;const r=e.filter(a=>a.id),i=e.filter(a=>!a.id).map(a=>({...a,productId:t.id,storeId:t.storeId}));for(const a of r){const{stockQuantity:o,...s}=a,{error:l}=await ln.from("productVariants").update(s).eq("id",a.id);l&&console.error(`Failed to update variant ${a.id}`,l)}if(i.length>0){const{error:a}=await ln.from("productVariants").insert(i.map(({stockQuantity:o,...s})=>s));a&&console.error("Failed to add new variants",a)}},tN=async t=>{const{error:e}=await ln.from("productVariants").delete().eq("productId",t);if(e)throw e;const{error:n}=await ln.from("products").delete().eq("id",t);if(n)throw n},V9=t=>ml("stockBatches",t),nN={fr:{appTitle:"Système de Point de Vente",logout:"Déconnexion",by:"par",save:"Enregistrer",cancel:"Annuler",add:"Ajouter",delete:"Supprimer",edit:"Modifier",close:"Fermer",export:"Exporter",print:"Imprimer",actions:"Actions",name:"Nom",phone:"Téléphone",email:"Email",address:"Adresse",ice:"ICE",description:"Description",amount:"Montant",price:"Prix",stock:"Stock",barcode:"Code-barres",quantity:"Quantité",date:"Date",total:"Total",profit:"Bénéfice",role:"Rôle",admin:"Admin",seller:"Vendeur",category:"Catégorie",supplier:"Fournisseur",customer:"Client",all:"Tout",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois-ci",customRange:"Période personnalisée",filterByPeriod:"Filtrer par période :",goBack:"Retour",selectCategory:"Choisir une catégorie",selectSupplier:"Choisir un fournisseur",noDataToExport:"Aucune donnée à exporter.",debt:"Dette",product:"Produit",loading:"Chargement des données",copy:"Copier",copied:"Copié!",searchByName:"Rechercher par nom...",noResultsFound:"Aucun résultat trouvé.",variant:"Variante",details:"Détails",pricePlaceholder:"0.00",expenses:"Dépenses",history:"Historique",page:"Page",previous:"Précédent",next:"Suivant",login:"Connexion",loginToYourAccount:"Connectez-vous à votre compte",emailAddress:"Adresse e-mail",password:"Mot de passe",pin:"Code PIN",superAdminPin:"Code PIN Super Admin",invalidCredentialsError:"Identifiants incorrects. Veuillez réessayer.",invalidApiKeyError:"Clé API Supabase invalide. Veuillez vérifier la clé dans le fichier supabaseClient.ts. Elle doit correspondre à la clé 'anon (public)' de votre projet Supabase.",storeDisabledError:"Ce magasin est désactivé. Veuillez contacter le support technique.",activateYourCompany:"Activer votre application",enterLicenseKey:"Veuillez entrer votre clé de licence pour continuer.",licenseKey:"Clé de licence",activate:"Activer",backToLogin:"Retour",forStore:"Pour le magasin : {storeName}",activationSuccess:"Application activée avec succès! Vous pouvez maintenant vous connecter.",invalidActivationCode:"Code d'activation invalide ou ne correspondant pas à ce magasin.",licenseInUse:"Cette clé de licence est déjà utilisée sur un autre appareil.",tamperedLicenseError:"La licence est invalide ou l'application a été déplacée. Veuillez contacter le support.",storeNotFound:"Aucun magasin trouvé avec cet identifiant.",enterKeyOrSuperAdminId:"Entrez la clé de licence ou l'ID Super Admin",superAdminLogin:"Connexion Super Admin",enterSuperAdminPin:"Veuillez entrer le code PIN Super Admin",passwordOrPin:"Mot de passe ou Code PIN",rememberPin:"Se souvenir du code",trialDaysRemaining:"Vous avez {days} jour(s) restant(s) sur votre période d'essai.",trialExpiredError:"Votre période d'essai a expiré. L'application est maintenant verrouillée.",reactivationSuccess:"Licence réactivée avec succès! Vous pouvez maintenant vous connecter.",trialEnded:"Période d'essai terminée",changeLicenseOrSuperAdmin:"Changer de licence / Connexion Super Admin",quickLogin:"Accès Rapide",orActivateAnotherLicense:"Ou activer une autre licence",loginTo:"Connexion à {storeName}",unknownError:"Une erreur inattendue est survenue. Veuillez réessayer.",trialHasExpired:"Votre période d'essai a expiré",contactAdminToActivate:"Veuillez contacter le support technique pour obtenir votre code d'activation permanent.",superAdminActivation:"Activation par l'administrateur",enterSuperAdminPinToActivate:"Entrez le code PIN de l'administrateur pour activer ce magasin.",activatePermanently:"Activer Définitivement",enterActivationCode:"Entrez le code d'activation",activateApplication:"Activer l'application",activationSuccessReload:"Activation réussie ! L'application va redémarrer.",activationCode:"Code d'activation",permanentActivationCode:"Code d'activation permanent",failedToFetchError_CORS:"La requête réseau a échoué. Causes possibles : 1) Votre projet Supabase est en pause (réactivez-le sur le tableau de bord Supabase). 2) Problème de CORS (vérifiez les origines autorisées dans les paramètres API de Supabase). 3) Bloqueur de publicités ou problème de réseau. Veuillez vérifier ces points et réessayer.",pos:"Point de Vente",products:"Produits",services:"Services",finance:"Finances",customers:"Clients",suppliers:"Fournisseurs",categories:"Catégories",settings:"Paramètres",superAdminDashboard:"Tableau de bord Super Admin",addStore:"Ajouter un nouveau magasin",storeName:"Nom du magasin",storeLogo:"Logo du magasin (optionnel)",adminEmail:"E-mail de l'administrateur",adminPassword:"Mot de passe initial de l'administrateur",addStoreButton:"Créer le magasin",storeCreatedSuccess:"Magasin créé! Voici les informations de connexion :",manageStores:"Gérer les magasins existants",storeUsersAndPins:"Utilisateurs et codes d'accès :",saveChanges:"Enregistrer les modifications",addSeller:"Ajouter un nouveau vendeur",newSellerPinPlaceholder:"Code PIN du nouveau vendeur",deleteStore:"Supprimer",deleteStoreConfirm:'Êtes-vous sûr de vouloir supprimer le magasin "{storeName}" ? Toutes ses données (produits, ventes, etc.) seront définitivement supprimées. Cette action est irréversible.',storeDeletedSuccess:'Le magasin "{storeName}" a été supprimé avec succès.',storeDeleteError:"Une erreur s'est produite lors de la suppression du magasin.",fillAllFieldsError:"Veuillez remplir tous les champs obligatoires.",pinUpdateSuccess:"Les identifiants ont été mis à jour avec succès.",enterNewSellerPin:"Veuillez entrer un code PIN pour le nouveau vendeur.",storeStatus_licensed:"Licencié",storeStatus_notActivated:"En attente d'activation",storeStatus_active:"Actif",storeStatus_inactive:"Inactif",toggleStoreStatus:"Changer l'état du magasin",noStoresAdded:"Aucun magasin ajouté.",newPassword:"Nouveau mot de passe",newPin:"Nouveau code PIN",trialPeriodDays:"Période d'essai (jours) (0 pour permanent)",trialDurationDisplay:"Essai : {days} jours",superAdminPortal:"Portail Super Admin",manageAllStores:"Gérer Tous les Magasins",manageAllStoresDesc:"Ajouter, supprimer ou gérer les informations d'identification de tous les magasins.",loginToStore:"Se Connecter à un Magasin",loginToStoreDesc:"Accédez au tableau de bord d'un magasin en tant qu'administrateur pour le support.",selectStoreToLogin:"Sélectionnez un magasin pour vous connecter :",loginAsAdmin:"Connexion Admin",noAdminForStore:"Erreur : Aucun utilisateur administrateur trouvé pour ce magasin.",backToPortal:"Retour au Portail",returnToPortal:"Retour au Portail",permanentActivation:"Activation permanente",confirmPermanentActivation:`Êtes-vous sûr de vouloir activer définitivement le magasin "{storeName}" ? Cela mettra fin à la période d'essai et ne pourra pas être annulé.`,permanentActivationDesc:"Ceci accordera une licence complète au magasin et mettra fin à la période d'essai.",generateActivationCode:"Générer un code d'activation",activationCodeForStore:"Code d'activation pour {storeName}",copyAndSendToClient:"Copiez ce code et envoyez-le au client pour l'activation permanente.",activationCode_copied:"Code copié !",enableAiScan:"Activer le scan IA",aiScanEnabled:"Scan IA Activé",aiScanDisabled:"Scan IA Désactivé",aiScanFeatureDescription:"Activer la fonctionnalité d'ajout d'articles par scan de reçu via IA.",useThisToLoginFirst:"Utilisez cette clé sur l'écran d'activation initial pour accéder au magasin.",useThisPasswordAfter:"Après avoir utilisé la clé de licence, utilisez ce mot de passe sur l'écran de connexion du magasin.",activateImmediately:"Activer immédiatement",activateImmediatelyDesc:"Le magasin sera actif et prêt à l'emploi dès sa création.",activeOnCreation:"Activé à la création",inactiveOnCreation:"Inactif à la création",adminDashboard:"Tableau de bord admin",storeLabel:"Magasin :",welcome:"Bonjour,",returnMode:"Retour",saleMode:"Vente",barcodeScannerActive:"Scanner de code-barres actif",scanToAdd:"Scannez le code-barres d'un produit pour l'ajouter au panier.",manualAdd:"Ajout manuel",filterByCategory:"Filtrer par catégorie",searchPlaceholder:"Ou rechercher un produit par nom...",productNotFound:"Aucun produit trouvé avec le code-barres : {barcode}",productAdded:"Ajouté : {productName}",productOutOfStock:'Le produit "{productName}" est en rupture de stock.',notEnoughStock:`Impossible d'ajouter plus de "{productName}". Stock insuffisant.`,invoice:"Facture",returnReceipt:"Bon de retour",clearCart:"Vider le panier",emptyCart:"Le panier est vide",totalLabel:"Total ({count} produits)",downPayment:"Acompte :",remaining:"Restant :",refundAmount:"Montant à rembourser :",processReturn:"Traiter le retour",emptyCartError:"Le panier est vide !",cashCustomer:"Client comptant",debtPayment:"Paiement de dette",orderForm:"Bon de Commande",subtotal:"Sous-total",vat:"TVA (20%)",totalTTC:"Total TTC",totalHT:"Total HT",prixHT:"Prix HT",discount:"Remise",manualTotal:"Total manuel",finalizeAndPrintInvoice:"Finaliser & Facture (TTC)",finalizeAndPrintOrderForm:"Finaliser & Bon de Cde",variants:"variantes",selectVariantFor:"Sélectionner une variante pour",selectVariant:"Sélectionner une variante",outOfStock:"Rupture de stock",scanReceipt:"Scanner le Reçu",scanning:"Analyse en cours...",receiptScanError:"Erreur lors de l'analyse du reçu.",itemsAddedFromReceipt:"{count} articles ajoutés depuis le reçu.",semiWholesalePrice:"Prix demi-gros",wholesalePrice:"Prix de gros",priceLevel:"Niveau de prix",priceLevels:"Niveaux de Prix",unitPrice:"Prix Unitaire",unit:"Détail",semiWholesale:"Demi-Gros",wholesale:"Gros",addCustomItem:"Ajouter Article Personnalisé",customItemName:"Nom de l'article",unitPriceLabel:"Prix Unitaire",itemNamePlaceholder:"Ex: Prestation Spéciale",customItemAdded:"Article personnalisé ajouté",enterItemDetails:"Saisir les détails de l'article",geminiApiKeyNotConfigured:"La clé API Gemini n'est pas configurée pour le scan de reçu.",addNewProduct:"Ajouter un nouveau produit",productImagePreview:"Aperçu de l'image",editProduct:"Modifier le produit",productInfo:"Informations sur le produit",productName:"Nom du produit",productNamePlaceholder:"Ex: T-shirt en coton",productVariants:"Variantes du produit",addVariant:"Ajouter une variante",variantName:"Nom de la variante",variantNamePlaceholder:"Ex: Rouge, XL",purchasePrice:"Prix d'achat",sellingPrice:"Prix de vente",stockQuantity:"Quantité en stock",lowStockThreshold:"Seuil de stock bas",barcodePlaceholder:"Scanner ou saisir le code-barres",saveProduct:"Enregistrer le produit",productList:"Liste des produits",searchProducts:"Rechercher des produits...",exportToPdf:"Exporter en PDF",productNameTable:"Nom du produit",variantNameTable:"Variante",priceTable:"Prix de vente",printBarcodeLabel:"Imprimer l'étiquette du code-barres",fillNameAndPriceError:"Veuillez saisir un nom et un prix valides pour toutes les variantes.",confirmProductDelete:"Êtes-vous sûr de vouloir supprimer ce produit et toutes ses variantes ?",noProductsAdded:"Aucun produit ajouté pour le moment.",noProductsInCategory:"Aucun produit dans cette catégorie.",uncategorized:"Hors catégorie",noVariants:"Pas de variantes",sellingPriceMustBeHigherError:"Le prix de vente doit être supérieur au prix d'achat.",addStockFor:"Ajouter du stock pour {name}",addStock:"Ajouter au stock",quantityToAdd:"Quantité à ajouter",fillAllFields:"Veuillez remplir tous les champs.",addNewService:"Ajouter un nouveau service",serviceName:"Nom du service",defaultPrice:"Prix par défaut",saveService:"Enregistrer le service",serviceList:"Liste des services",noServicesAdded:"Aucun service ajouté.",serviceNamePlaceholder:"Ex: Réparation d'écran",service:"Service",editService:"Modifier le service",confirmServiceDelete:"Êtes-vous sûr de vouloir supprimer cette service ?",serviceAddedSuccess:'Service "{name}" ajouté avec succès.',serviceUpdatedSuccess:'Service "{name}" mis à jour avec succès.',financialOverview:"Aperçu financier",netRevenue:"Revenu net",totalRevenueMinusReturns:"Revenu total moins les retours",netProfit:"Bénéfice net",realizedProfitMinusExpenses:"Bénéfice réalisé moins les dépenses",customerDebts:"Dettes clients",clickToViewDetails:"Cliquez pour voir les détails",totalExpenses:"Total des dépenses",salesPerformance:"Performance des ventes",topSellingProducts:"Produits les plus vendus",units:"unités",sales:"Ventes",salesHistory:"Historique des ventes",invoiceNumber:"Facture N°",viewDetails:"Voir les détails",billNumber:"N° de facture:",downPaymentLabel:"Acompte",remainingAmountLabel:"Reste à payer",itemsLabel:"Articles",noSalesForPeriod:"Aucune vente enregistrée pour cette période.",debtorCustomers:"Clients débiteurs",debtAmount:"Montant de la dette",noDebtorCustomers:"Aucun client débiteur.",returnHistory:"Historique des retours",returnId:"Retour N°",refundAmountLabel:"Montant remboursé",profitLost:"Bénéfice perdu",returnedItems:"Articles retournés",noReturnsForPeriod:"Aucun retour enregistré pour cette période.",deleteHistory:"Supprimer l'historique",manageExpenses:"Gestion des dépenses",addExpense:"Ajouter une dépense",expenseHistory:"Historique des dépenses",noExpensesForPeriod:"Aucune dépense pour cette période.",totalCostOfGoods:"Coût total des achats",totalSupplierDebt:"Dette Fournisseur Totale",allPurchasesHistory:"Historique de tous les achats",noPurchasesRecorded:"Aucun achat enregistré.",supplierDebtsList:"Liste des dettes fournisseurs",noSupplierDebt:"Aucune dette envers les fournisseurs.",sellerReportsAndZReport:"Rapports Vendeur & Rapport Z",netActivity:"Activité nette",totalSales:"Ventes totales",totalReturns:"Retours totaux",numberOfSales:"{count} ventes",numberOfReturns:"{count} retours",transactionList:"Liste des transactions",transactionType:"Type",noTransactionsForSeller:"Aucune transaction pour ce vendeur/période.",type:"Type",sale:"Vente",return:"Retour",saving:"Enregistrement...",profitLabel:"Bénéfice",customItemRevenue:"Revenus Articles Personnalisés",fromManuallyAddedItems:"Provenant des articles ajoutés manuellement",customItemsDetails:"Détails des Articles Personnalisés",totalCustomRevenue:"Total Revenus Personnalisés",customItemsInSale:"Articles personnalisés dans cette vente",userName:"Nom de l'utilisateur",pinMin4Digits:"Code PIN (minimum 4 chiffres)",userList:"Liste des utilisateurs",resetPinFor:"Réinitialiser le code PIN pour {name}",currentPassword:"Mot de passe actuel",confirmNewPassword:"Confirmer le nouveau mot de passe",changePassword:"Changer le mot de passe",pinMustBe4Chars:"Le code PIN doit comporter au moins 4 chiffres.",userExistsError:'Un utilisateur avec le nom "{name}" existe déjà.',userAddedSuccess:'Utilisateur "{name}" ajouté avec succès.',pinUpdatedForUser:"Code PIN mis à jour pour {name}.",confirmUserDelete:"Êtes-vous sûr de vouloir supprimer l'utilisateur {name} ?",cannotDeleteAdmin:"Vous ne pouvez pas supprimer l'utilisateur administrateur.",currentPasswordIncorrect:"Le mot de passe actuel est incorrect.",newPasswordEmpty:"Le nouveau mot de passe ne peut pas être vide.",passwordsDoNotMatch:"Les nouveaux mots de passe ne correspondent pas.",passwordChangedSuccess:"Mot de passe changé avec succès.",backupAndRestore:"Sauvegarde et Restauration",backupButton:"Sauvegarder les données",backupDescription:"Créez une sauvegarde de toutes vos données (produits, ventes, etc.). Conservez ce fichier en lieu sûr.",restoreButton:"Restaurer les données",restoreDescription:"Restaurer les données depuis un fichier. ATTENTION : Cela remplacera toutes les données actuelles.",restoreConfirm:"Êtes-vous sûr de vouloir restaurer les données ? Toutes les données actuelles seront écrasées. Cette action est irréversible.",restoreSuccess:"Restauration réussie. L'application va redémarrer.",restoreError:"Le fichier de sauvegarde est invalide ou corrompu.",jsonParseError:"Le texte collé n'est pas un JSON valide. Assurez-vous d'avoir copié l'intégralité du contenu de votre fichier de sauvegarde .json, en commençant par `{` et en terminant par `}`.",restoreFromText:"Restaurer depuis le texte",pasteBackupContent:"Collez ici l'intégralité du contenu de votre fichier de sauvegarde .json.",restoreFromTextDescription:"Ceci est la méthode recommandée. Elle évite les problèmes potentiels de téléversement de fichier.",restoreFromFileAlternative:"Alternativement, restaurer depuis un fichier...",storeSettings:"Paramètres du Magasin",storeNameLabel:"Nom du Magasin",storeAddress:"Adresse",storeICE:"Numéro ICE",storeLogoLabel:"Logo du Magasin",changeLogo:"Changer le logo",saveStoreChanges:"Enregistrer les modifications",storeUpdateSuccess:"Informations du magasin mises à jour avec succès.",storeUpdateError:"Erreur lors de la mise à jour des informations.",logoPreview:"Aperçu du logo",addNewCustomer:"Ajouter un nouveau client",addCustomer:"Ajouter le client",customerList:"Liste des clients",nameAndPhoneRequired:"Le nom et le téléphone sont obligatoires.",customerExistsError:"Un client avec le numéro de téléphone {phone} existe déjà.",customerAddedSuccess:'Client "{name}" ajouté avec succès.',customerDeletedSuccess:'Client "{name}" supprimé avec succès.',customerDeleteError:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',customerDeleteErrorHasDebt:'Impossible de supprimer le client "{name}" car il a une dette de {debt} DH.',noCustomersAdded:"Aucun client ajouté pour le moment.",debtManagement:"Gestion de la dette",totalDebt:"Dette totale :",paymentAmount:"Montant du paiement",recordPayment:"Enregistrer le paiement",manageDebt:"Gérer la dette",enterValidPayment:"Veuillez saisir un montant de paiement valide.",paying:"Paiement...",confirmCustomerDelete:'Êtes-vous sûr de vouloir supprimer le client "{name}" ?',printDebtReport:"Imprimer le rapport de dette",debtReportFor:"Rapport de dette pour {name}",printAllDebtReports:"Imprimer tous les rapports de dettes",noDebtsToReport:"Aucune dette à signaler.",purchaseHistoryFor:"Historique d'achats pour {name}",totalPurchases:"Total des achats",currentDebt:"Dette actuelle",printReport:"Imprimer le rapport",invoiceHistory:"Historique des factures",noInvoicesFound:"Aucune facture trouvée pour ce client.",addNewSupplier:"Ajouter un nouveau fournisseur",addSupplier:"Ajouter le fournisseur",supplierList:"Liste des fournisseurs",supplierExistsError:"Un fournisseur avec le numéro de téléphone {phone} existe déjà.",supplierAddedSuccess:'Fournisseur "{name}" ajouté avec succès.',supplierDeletedSuccess:'Fournisseur "{name}" supprimé avec succès.',supplierDeleteError:'Impossible de supprimer le fournisseur "{name}" car il y a une dette en cours.',supplierDeleteErrorHasDebt:'Impossible de supprimer le fournisseur "{name}" car il y a une dette de {debt} DH.',noSuppliersAdded:"Aucun fournisseur ajouté.",newPurchase:"Nouvel achat",purchaseHistory:"Sجل المشتريات",managePayments:"إدارة المدفوعات",supplierDebt:"دين المورد",noDebt:"لا يوجد دين",newPurchaseFor:"شراء جديد من {name}",addProductsToPurchase:"إضافة منتجات إلى الشراء",selectProducts:"اختيار منتجات موجودة",orAddNewProductPrompt:"المنتج غير موجود؟",addNewProductButton:"إنشاء منتج جديد",saveAndAddToList:"حفظ وإضافة إلى القائمة",noProductsInPurchase:"لم يتم إضافة أي منتجات إلى هذا الشراء.",totalAmount:"المبلغ الإجمالي",paymentMethod:"طريقة الدفع",amountToPay:"المبلغ للدفع",cash:"نقداً",card:"بطاقة بنكية",transfer:"تحويل بنكي",check:"شيك",amountPaid:"المبلغ المدفوع",remainingDebt:"المتبقي للدفع",completePurchase:"إتمام الشراء",noPurchasesYet:"لم يتم تسجيل أي مشتريات لهذا المورد بعد.",purchaseDate:"تاريخ الشراء",purchaseDetails:"تفاصيل الشراء",reference:"المرجع",referencePlaceholder:"مثال: فاتورة رقم 123، وصل تسليم...",paymentRecorded:"تم تسجيل الدفع بنجاح.",confirmSupplierDelete:'هل أنت متأكد من رغبتك في حذف المورد "{name}"؟',addNewCategory:"إضافة فئة جديدة",categoryName:"اسم الفئة",categoryList:"قائمة الفئات",noCategoriesAdded:"لم تتم إضافة أي فئات.",categoryNameEmptyError:"لا يمكن أن يكون اسم الفئة فارغًا.",categoryExistsError:'فئة بالاسم "{name}" موجودة بالفعل.',categoryAddedSuccess:'تمت إضافة الفئة "{name}" بنجاح.',categoryUpdatedSuccess:'تم تحديث الفئة "{name}" بنجاح.',confirmCategoryDelete:'هل أنت متأكد من رغبتك في حذف الفئة "{name}"؟',categoryDeleteError:"لا يمكن حذف هذه الفئة لأنها مستخدمة من قبل منتجات.",editCategory:"تعديل الفئة",categoryDeletedSuccess:'تم حذف الفئة "{name}" بنجاح.',lowStockAlert:"تنبيه انخفاض المخزون",lowStockMessage:"المنتجات التالية مخزونها منخفض أو نفدت. فكر في عمل طلبية.",unknown:"غير معروف",invoiceTitle:"فاتورة",orderFormTitle:"طلب شراء",invoiceAddress:"عنوان المتجر",thankYou:"شكرا لزيارتكم!",productColumn:"المنتج",returnReceiptTitle:"وصل إرجاع",returnIdLabel:"رقم وصل الإرجاع",optional:"اختياري",purchase_ref_initial_stock:"المخزون الأولي",purchase_ref_stock_adjustment:"تعديل المخزون",supabaseConfigErrorTitle:"خطأ في إعدادات Supabase",supabaseConfigErrorSubtitle:"مفتاح API الخاص بقاعدة البيانات غير مهيأ. لا يمكن بدء تشغيل التطبيق.",supabaseConfigErrorInstruction:"الرجاء فتح الملف `{fileName}` وتعديل السطر المميز باللون الأحمر أدناه:",supabaseConfigErrorHint:"يمكنك الحصول على هذا المفتاح من لوحة تحكم مشروعك على Supabase. بعد حفظ الملف، سيتم إعادة تحميل التطبيق تلقائيًا.",supabaseConfigComment1:"// --- هام: أضف مفتاح API الخاص بك هنا ---",supabaseConfigComment2:"// استبدل السلسلة النصية أدناه بمفتاح 'anon' العام الخاص بك من Supabase (وليس مفتاح 'publishable').",supabaseConfigComment3:"// يمكنك العثور عليه في: لوحة تحكم Supabase -> الإعدادات -> API.",supabaseConfigComment4:'// المفتاح عبارة عن سلسلة نصية طويلة تبدأ بـ "eyJ...".',supabaseConfigKeyWarning:"⚠️ هام: لا تستخدم مفتاح `publishable` (الذي يبدأ بـ `sb_publishable_`). يجب عليك استخدام مفتاح `anon` (العام) وهو سلسلة نصية أطول بكثير."},ar:{appTitle:"نظام نقطة البيع",logout:"تسجيل الخروج",by:"بواسطة",save:"حفظ",cancel:"إلغاء",add:"إضافة",delete:"حذف",edit:"تعديل",close:"إغلاق",export:"تصدير",print:"طباعة",actions:"إجراءات",name:"الاسم",phone:"الهاتف",email:"البريد الإلكتروني",address:"العنوان",ice:"ICE",description:"الوصف",amount:"المبلغ",price:"السعر",stock:"المخزون",barcode:"الברكود",quantity:"الكمية",date:"التاريخ",total:"المجموع",profit:"الربح",role:"الدور",admin:"مدير",seller:"بائع",category:"الفئة",supplier:"المورد",customer:"الزبون",all:"الكل",today:"اليوم",thisWeek:"هذا الأسبوع",thisMonth:"هذا الشهر",customRange:"فترة مخصصة",filterByPeriod:"تصفية حسب الفترة :",goBack:"رجوع",selectCategory:"اختر فئة",selectSupplier:"اختر موردًا",noDataToExport:"لا توجد بيانات للتصدير.",debt:"دين",product:"المنتج",loading:"جاري تحميل البيانات",copy:"نسخ",copied:"تم النسخ!",searchByName:"البحث بالاسم...",noResultsFound:"لم يتم العثور على نتائج.",variant:"صنف",details:"التفاصيل",pricePlaceholder:"0.00",expenses:"المصاريف",history:"سجل",page:"صفحة",previous:"السابق",next:"التالي",login:"تسجيل الدخول",loginToYourAccount:"سجل الدخول إلى حسابك",emailAddress:"البريد الإلكتروني",password:"كلمة المرور",pin:"الرمز السري",superAdminPin:"الرمز السري للمدير العام",invalidCredentialsError:"معلومات الدخول غير صحيحة. يرجى المحاولة مرة أخرى.",invalidApiKeyError:"مفتاح API Supabase غير صالح. يرجى التحقق من المفتاح في ملف supabaseClient.ts. يجب أن يكون مفتاح 'anon (public)' الخاص بمشروع Supabase.",storeDisabledError:"هذا المتجر معطل. يرجى الاتصال بالدعم الفني.",activateYourCompany:"تفعيل تطبيقك",enterLicenseKey:"الرجاء إدخال مفتاح الترخيص للمتابعة.",licenseKey:"مفتاح الترخيص",activate:"تفعيل",backToLogin:"العودة",forStore:"للمتجر: {storeName}",activationSuccess:"تم تفعيل التطبيق بنجاح! يمكنك الآن تسجيل الدخول.",invalidActivationCode:"رمز التفعيل غير صالح أو لا يخص هذا المتجر.",licenseInUse:"مفتاح الترخيص هذا مستخدم بالفعل على جهاز آخر.",tamperedLicenseError:"الترخيص غير صالح أو تم نقل التطبيق. يرجى الاتصال بالدعم.",storeNotFound:"لم يتم العثور على متجر بهذا المعرف.",enterKeyOrSuperAdminId:"أدخل مفتاح الترخيص أو معرف المدير العام",superAdminLogin:"دخول المدير العام",enterSuperAdminPin:"الرجاء إدخال الرمز السري للمدير العام",passwordOrPin:"كلمة المرور أو الرمز السري",rememberPin:"تذكر الرمز",trialDaysRemaining:"لديك {days} يومًا متبقيًا في الفترة التجريبية.",trialExpiredError:"انتهت الفترة التجريبية. التطبيق مقفل الآن.",reactivationSuccess:"تم إعادة تفعيل الترخيص بنجاح! يمكنك الآن تسجيل الدخول.",trialEnded:"انتهت الفترة التجريبية",changeLicenseOrSuperAdmin:"تغيير الترخيص / دخول المدير العام",quickLogin:"دخول سريع",orActivateAnotherLicense:"أو تفعيل ترخيص آخر",loginTo:"الدخول إلى {storeName}",unknownError:"حدث خطأ غير متوقع. الرجاء معاودة المحاولة.",trialHasExpired:"انتهت الفترة التجريبية",contactAdminToActivate:"الرجاء الاتصال بالدعم الفني للحصول على رمز التفعيل الدائم ومتابعة استخدام التطبيق.",superAdminActivation:"تفعيل من قبل المسؤول",enterSuperAdminPinToActivate:"أدخل الرمز السري للمسؤول لتفعيل هذا المتجر.",activatePermanently:"تفعيل دائم",enterActivationCode:"أدخل رمز التفعيل",activateApplication:"تفعيل التطبيق",activationSuccessReload:"تم التفعيل بنجاح! سيتم إعادة تشغيل التطبيق.",activationCode:"رمز التفعيل",permanentActivationCode:"رمز التفعيل الدائم",failedToFetchError_CORS:"فشل طلب الشبكة. الأسباب المحتملة: 1) مشروع Supabase الخاص بك متوقف مؤقتًا (أعد تنشيطه من لوحة التحكم). 2) مشكلة في إعدادات CORS (تحقق من النطاقات المسموح بها في إعدادات API). 3) مانع إعلانات أو مشكلة في الشبكة. يرجى التحقق من هذه النقاط والمحاولة مرة أخرى.",pos:"نقطة البيع",products:"المنتجات",services:"الخدمات",finance:"المالية",customers:"الزبائن",suppliers:"الموردون",categories:"الفئات",settings:"الإعدادات",superAdminDashboard:"لوحة تحكم المدير العام",addStore:"إضافة متجر جديد",storeName:"اسم المتجر",storeLogo:"شعار المتجر (اختياري)",adminEmail:"البريد الإلكتروني للمدير",adminPassword:"كلمة المرور الأولية للمدير",addStoreButton:"إنشاء المتجر",storeCreatedSuccess:"تم إنشاء المتجر! إليك معلومات تسجيل الدخول:",manageStores:"إدارة المتاجر الحالية",storeUsersAndPins:"المستخدمون ورموز الدخول:",saveChanges:"حفظ التغييرات",addSeller:"إضافة بائع جديد",newSellerPinPlaceholder:"الرمز السري للبائع الجديد",deleteStore:"حذف",deleteStoreConfirm:'هل أنت متأكد من رغبتك في حذف متجر "{storeName}"؟ سيتم حذف جميع بياناته (المنتجات، المبيعات، إلخ) بشكل دائم. هذا الإجراء لا يمكن التراجع عنه.',storeDeletedSuccess:'تم حذف متجر "{storeName}" بنجاح.',storeDeleteError:"حدث خطأ أثناء حذف المتجر.",fillAllFieldsError:"الرجاء ملء جميع الحقول الإلزامية.",pinUpdateSuccess:"تم تحديث معلومات الدخول بنجاح.",enterNewSellerPin:"الرجاء إدخال رمز سري للبائع الجديد.",storeStatus_licensed:"مرخص",storeStatus_notActivated:"في انتظار التفعيل",storeStatus_active:"نشط",storeStatus_inactive:"غير نشط",toggleStoreStatus:"تغيير حالة المتجر",noStoresAdded:"لم تتم إضافة أي متاجر.",newPassword:"كلمة مرور جديدة",newPin:"رمز سري جديد",trialPeriodDays:"فترة تجريبية (أيام) (0 للدائم)",trialDurationDisplay:"تجربة: {days} يومًا",superAdminPortal:"بوابة المدير العام",manageAllStores:"إدارة جميع المتاجر",manageAllStoresDesc:"إضافة أو حذف أو إدارة معلومات تسجيل الدخول لجميع المتاجر.",loginToStore:"تسجيل الدخول إلى متجر",loginToStoreDesc:"الوصول إلى لوحة تحكم متجر كمدير للدعم.",selectStoreToLogin:"اختر متجرًا لتسجيل الدخول:",loginAsAdmin:"دخول كمدير",noAdminForStore:"خطأ: لم يتم العثور على مستخدم مدير لهذا المتجر.",backToPortal:"العودة إلى البوابة",returnToPortal:"العودة إلى البوابة",permanentActivation:"تفعيل دائم",confirmPermanentActivation:'هل أنت متأكد من رغبتك في تفعيل متجر "{storeName}" بشكل دائم؟ سيؤدي هذا إلى إنهاء الفترة التجريبية ولا يمكن التراجع عنه.',permanentActivationDesc:"سيمنح هذا ترخيصًا كاملاً للمتجر وينهي الفترة التجريبية.",generateActivationCode:"إنشاء رمز تفعيل",activationCodeForStore:"رمز التفعيل الدائم لمتجر {storeName}",copyAndSendToClient:"انسخ هذا الرمز وأرسله للعميل للتفعيل الدائم.",activationCode_copied:"تم نسخ الرمز!",enableAiScan:"تفعيل المسح بالذكاء الاصطناعي",aiScanEnabled:"المسح مفعّل",aiScanDisabled:"المسح معطّل",aiScanFeatureDescription:"تفعيل ميزة إضافة المنتجات عبر مسح الإيصالات بالذكاء الاصطناعي.",useThisToLoginFirst:"استخدم هذا المفتاح في شاشة التفعيل الأولية للوصول إلى المتجر.",useThisPasswordAfter:"بعد استخدام مفتاح الترخيص، استخدم كلمة المرور هذه في شاشة تسجيل الدخول الخاصة بالمتجر.",activateImmediately:"تفعيل فوري",activateImmediatelyDesc:"سيكون المتجر نشطًا وجاهزًا للاستخدام فور إنشائه.",activeOnCreation:"مفعّل عند الإنشاء",inactiveOnCreation:"غير مفعّل عند الإنشاء",adminDashboard:"لوحة تحكم المدير",storeLabel:"المتجر:",welcome:"مرحبًا،",returnMode:"إرجاع",saleMode:"بيع",barcodeScannerActive:"ماسح الباركود نشط",scanToAdd:"امسح باركود المنتج لإضافته إلى السلة.",manualAdd:"إضافة يدوية",filterByCategory:"تصفية حسب الفئة",searchPlaceholder:"أو ابحث عن منتج بالاسم...",productNotFound:"لم يتم العثور على منتج بالباركود: {barcode}",productAdded:"تمت الإضافة: {productName}",productOutOfStock:'المنتج "{productName}" نفد من المخزون.',notEnoughStock:'لا يمكن إضافة المزيد من "{productName}". المخزون غير كاف.',invoice:"فاتورة",returnReceipt:"وصل إرجاع",clearCart:"إفراغ السلة",emptyCart:"السلة فارغة",totalLabel:"المجموع ({count} منتجات)",downPayment:"دفعة مقدمة:",remaining:"المتبقي:",refundAmount:"المبلغ المسترد:",processReturn:"إتمام الإرجاع",emptyCartError:"السلة فارغة!",cashCustomer:"زبون نقدي",debtPayment:"دفع دين",orderForm:"طلب شراء",subtotal:"المجموع الفرعي",vat:"ضريبة القيمة المضافة (20%)",totalTTC:"المجموع شامل الضريبة",totalHT:"المجموع بدون ضريبة",prixHT:"السعر بدون ضريبة",discount:"خصم",manualTotal:"مجموع يدوي",finalizeAndPrintInvoice:"إنهاء و طباعة الفاتورة (TTC)",finalizeAndPrintOrderForm:"إنهاء و طباعة طلب الشراء",variants:"أصناف",selectVariantFor:"اختر صنفًا لـ",selectVariant:"اختر صنفًا",outOfStock:"نفد من المخزون",scanReceipt:"مسح الإيصال",scanning:"جاري التحليل...",receiptScanError:"خطأ أثناء مسح الإيصال.",itemsAddedFromReceipt:"تمت إضافة {count} عناصر من الإيصال.",semiWholesalePrice:"سعر نصف الجملة",wholesalePrice:"سعر الجملة",priceLevel:"مستوى السعر",priceLevels:"مستويات الأسعار",unitPrice:"سعر الوحدة",unit:"التفصيل",semiWholesale:"نصف الجملة",wholesale:"الجملة",addCustomItem:"إضافة منتج مخصص",customItemName:"اسم المنتج",unitPriceLabel:"سعر الوحدة",itemNamePlaceholder:"مثال: خدمة خاصة",customItemAdded:"تمت إضافة المنتج المخصص",enterItemDetails:"أدخل تفاصيل المنتج",geminiApiKeyNotConfigured:"مفتاح API Gemini غير مهيأ لمسح الإيصالات.",addNewProduct:"إضافة منتج جديد",productImagePreview:"معاينة الصورة",editProduct:"تعديل المنتج",productInfo:"معلومات المنتج",productName:"اسم المنتج",productNamePlaceholder:"مثال: قميص قطني",productVariants:"أصناف المنتج",addVariant:"إضافة صنف",variantName:"اسم الصنف",variantNamePlaceholder:"مثال: أحمر، XL",purchasePrice:"سعر الشراء",sellingPrice:"سعر البيع",stockQuantity:"الكمية في المخزون",lowStockThreshold:"حد المخزون المنخفض",barcodePlaceholder:"امسح أو أدخل الباركود",saveProduct:"حفظ المنتج",productList:"قائمة المنتجات",searchProducts:"ابحث عن منتجات...",exportToPdf:"تصدير إلى PDF",productNameTable:"اسم المنتج",variantNameTable:"الصنف",priceTable:"سعر البيع",printBarcodeLabel:"طباعة ملصق الباركود",fillNameAndPriceError:"الرجاء إدخال اسم وسعر صالحين لجميع الأصناف.",confirmProductDelete:"هل أنت متأكد من رغبتك في حذف هذا المنتج وجميع أصنافه؟",noProductsAdded:"لم تتم إضافة أي منتجات بعد.",noProductsInCategory:"لا توجد منتجات في هذه الفئة.",uncategorized:"بدون فئة",noVariants:"لا توجد أصناف",sellingPriceMustBeHigherError:"يجب أن يكون سعر البيع أعلى من سعر الشراء.",addStockFor:"إضافة مخزون لـ {name}",addStock:"إضافة إلى المخزون",quantityToAdd:"الكمية المضافة",fillAllFields:"الرجاء ملء جميع الحقول.",addNewService:"إضافة خدمة جديدة",serviceName:"اسم الخدمة",defaultPrice:"السعر الافتراضي",saveService:"حفظ الخدمة",serviceList:"قائمة الخدمات",noServicesAdded:"لم تتم إضافة أي خدمات.",serviceNamePlaceholder:"مثال: إصلاح شاشة",service:"خدمة",editService:"تعديل الخدمة",confirmServiceDelete:"هل أنت متأكد من رغبتك في حذف هذه الخدمة؟",serviceAddedSuccess:'تمت إضافة الخدمة "{name}" بنجاح.',serviceUpdatedSuccess:'تم تحديث الخدمة "{name}" بنجاح.',financialOverview:"نظرة عامة مالية",netRevenue:"الإيرادات الصافية",totalRevenueMinusReturns:"إجمالي الإيرادات ناقص المرتجعات",netProfit:"الربح الصافي",realizedProfitMinusExpenses:"الربح المحقق ناقص المصاريف",customerDebts:"ديون الزبائن",clickToViewDetails:"انقر لعرض التفاصيل",totalExpenses:"إجمالي المصاريف",salesPerformance:"أداء المبيعات",topSellingProducts:"المنتجات الأكثر مبيعًا",units:"وحدات",sales:"المبيعات",salesHistory:"سجل المبيعات",invoiceNumber:"رقم الفاتورة",viewDetails:"عرض التفاصيل",billNumber:"رقم الفاتورة:",downPaymentLabel:"دفعة مقدمة",remainingAmountLabel:"المبلغ المتبقي",itemsLabel:"الأصناف",noSalesForPeriod:"لا توجد مبيعات مسجلة لهذه الفترة.",debtorCustomers:"الزبائن المدينون",debtAmount:"مبلغ الدين",noDebtorCustomers:"لا يوجد زبائن مدينون.",returnHistory:"سجل المرتجعات",returnId:"رقم الإرجاع",refundAmountLabel:"المبلغ المسترد",profitLost:"الربح المفقود",returnedItems:"الأصناف المرتجعة",noReturnsForPeriod:"لا توجد مرتجعات مسجلة لهذه الفترة.",deleteHistory:"حذف السجل",manageExpenses:"إدارة المصاريف",addExpense:"إضافة مصروف",expenseHistory:"سجل المصاريف",noExpensesForPeriod:"لا توجد مصاريف لهذه الفترة.",totalCostOfGoods:"إجمالي تكلفة المشتريات",totalSupplierDebt:"إجمالي دين الموردين",allPurchasesHistory:"سجل جميع المشتريات",noPurchasesRecorded:"لم يتم تسجيل أي مشتريات.",supplierDebtsList:"قائمة ديون الموردين",noSupplierDebt:"لا توجد ديون للموردين.",sellerReportsAndZReport:"تقارير البائع و تقرير Z",netActivity:"النشاط الصافي",totalSales:"إجمالي المبيعات",totalReturns:"إجمالي المرتجعات",numberOfSales:"{count} مبيعات",numberOfReturns:"{count} مرتجعات",transactionList:"قائمة المعاملات",transactionType:"النوع",noTransactionsForSeller:"لا توجد معاملات لهذا البائع/الفترة.",type:"النوع",sale:"بيع",return:"إرجاع",saving:"جاري الحفظ...",profitLabel:"الربح",customItemRevenue:"إيرادات المنتجات المخصصة",fromManuallyAddedItems:"من المنتجات المضافة يدوياً",customItemsDetails:"تفاصيل المنتجات المخصصة",totalCustomRevenue:"إجمالي إيرادات المنتجات المخصصة",customItemsInSale:"المنتجات المخصصة في هذه الفاتورة",userName:"اسم المستخدم",pinMin4Digits:"الرمز السري (4 أرقام على الأقل)",userList:"قائمة المستخدمين",resetPinFor:"إعادة تعيين الرمز السري لـ {name}",currentPassword:"كلمة المرور الحالية",confirmNewPassword:"تأكيد كلمة المرور الجديدة",changePassword:"تغيير كلمة المرور",pinMustBe4Chars:"يجب أن يتكون الرمز السري من 4 أرقام على الأقل.",userExistsError:'مستخدم بالاسم "{name}" موجود بالفعل.',userAddedSuccess:'تمت إضافة المستخدم "{name}" بنجاح.',pinUpdatedForUser:"تم تحديث الرمز السري لـ {name}.",confirmUserDelete:"هل أنت متأكد من رغبتك في حذف المستخدم {name}؟",cannotDeleteAdmin:"لا يمكنك حذف المستخدم المدير.",currentPasswordIncorrect:"كلمة المرور الحالية غير صحيحة.",newPasswordEmpty:"كلمة المرور الجديدة لا يمكن أن تكون فارغة.",passwordsDoNotMatch:"كلمتا المرور الجديدتان غير متطابقتين.",passwordChangedSuccess:"تم تغيير كلمة المرور بنجاح.",backupAndRestore:"النسخ الاحتياطي والاستعادة",backupButton:"نسخ البيانات احتياطيًا",backupDescription:"قم بإنشاء نسخة احتياطية من جميع بياناتك (المنتجات، المبيعات، إلخ). احتفظ بهذا الملف في مكان آمن.",restoreButton:"استعادة البيانات",restoreDescription:"استعادة البيانات من ملف. تحذير: سيؤدي هذا إلى استبدال جميع البيانات الحالية.",restoreConfirm:"هل أنت متأكد من رغبتك في استعادة البيانات؟ سيتم الكتابة فوق جميع البيانات الحالية. هذا الإجراء لا يمكن التراجع عنه.",restoreSuccess:"تمت الاستعادة بنجاح. سيتم إعادة تشغيل التطبيق.",restoreError:"ملف النسخ الاحتياطي غير صالح أو تالف.",jsonParseError:"النص الذي تم لصقه ليس بصيغة JSON صالحة. يرجى التأكد من أنك نسخت المحتوى الكامل لملف النسخ الاحتياطي .json، بدءًا من `{` وانتهاءً بـ `}`.",restoreFromText:"استعادة من نص",pasteBackupContent:"الصق هنا المحتوى الكامل لملف النسخ الاحتياطي .json الخاص بك.",restoreFromTextDescription:"هذه هي الطريقة الموصى بها. إنها تتجنب مشاكل تحميل الملفات المحتملة.",restoreFromFileAlternative:"بدلاً من ذلك، يمكنك الاستعادة من ملف...",storeSettings:"إعدادات المتجر",storeNameLabel:"اسم المتجر",storeAddress:"العنوان",storeICE:"رقم ICE",storeLogoLabel:"شعار المتجر",changeLogo:"تغيير الشعار",saveStoreChanges:"حفظ التغييرات",storeUpdateSuccess:"تم تحديث معلومات المتجر بنجاح.",storeUpdateError:"خطأ أثناء تحديث المعلومات.",logoPreview:"معاينة الشعار",addNewCustomer:"إضافة زبون جديد",addCustomer:"إضافة الزبون",customerList:"قائمة الزبائن",nameAndPhoneRequired:"الاسم والهاتف مطلوبان.",customerExistsError:"زبون برقم الهاتف {phone} موجود بالفعل.",customerAddedSuccess:'تمت إضافة الزبون "{name}" بنجاح.',customerDeletedSuccess:'تم حذف الزبون "{name}" بنجاح.',customerDeleteError:'لا يمكن حذف الزبون "{name}" لأن لديه دين بقيمة {debt} درهم.',customerDeleteErrorHasDebt:'لا يمكن حذف الزبون "{name}" لأن لديه دين بقيمة {debt} درهم.',noCustomersAdded:"لم تتم إضافة أي زبائن بعد.",debtManagement:"إدارة الديون",totalDebt:"إجمالي الدين:",paymentAmount:"مبلغ الدفع",recordPayment:"تسجيل الدفع",manageDebt:"إدارة الدين",enterValidPayment:"الرجاء إدخال مبلغ دفع صالح.",paying:"جاري الدفع...",confirmCustomerDelete:'هل أنت متأكد من رغبتك في حذف الزبون "{name}"؟',printDebtReport:"طباعة تقرير الدين",debtReportFor:"تقرير الدين لـ {name}",printAllDebtReports:"طباعة جميع تقارير الديون",noDebtsToReport:"لا توجد ديون للإبلاغ عنها.",purchaseHistoryFor:"سجل المشتريات لـ {name}",totalPurchases:"إجمالي المشتريات",currentDebt:"الدين الحالي",printReport:"طباعة التقرير",invoiceHistory:"سجل الفواتير",noInvoicesFound:"لم يتم العثور على فواتير لهذا الزبون.",addNewSupplier:"إضافة مورد جديد",addSupplier:"إضافة المورد",supplierList:"قائمة الموردين",supplierExistsError:"مورد برقم الهاتف {phone} موجود بالفعل.",supplierAddedSuccess:'تمت إضافة المورد "{name}" بنجاح.',supplierDeletedSuccess:'تم حذف المورد "{name}" بنجاح.',supplierDeleteError:'لا يمكن حذف المورد "{name}" لأن عليه دين حالي.',supplierDeleteErrorHasDebt:'لا يمكن حذف المورد "{name}" لأن عليه دين بقيمة {debt} درهم.',noSuppliersAdded:"لم تتم إضافة أي موردين.",newPurchase:"شراء جديد",purchaseHistory:"سجل المشتريات",managePayments:"إدارة المدفوعات",supplierDebt:"دين المورد",noDebt:"لا يوجد دين",newPurchaseFor:"شراء جديد من {name}",addProductsToPurchase:"إضافة منتجات إلى الشراء",selectProducts:"اختيار منتجات موجودة",orAddNewProductPrompt:"المنتج غير موجود؟",addNewProductButton:"إنشاء منتج جديد",saveAndAddToList:"حفظ وإضافة إلى القائمة",noProductsInPurchase:"لم يتم إضافة أي منتجات إلى هذا الشراء.",totalAmount:"المبلغ الإجمالي",paymentMethod:"طريقة الدفع",amountToPay:"المبلغ للدفع",cash:"نقداً",card:"بطاقة بنكية",transfer:"تحويل بنكي",check:"شيك",amountPaid:"المبلغ المدفوع",remainingDebt:"المتبقي للدفع",completePurchase:"إتمام الشراء",noPurchasesYet:"لم يتم تسجيل أي مشتريات لهذا المورد بعد.",purchaseDate:"تاريخ الشراء",purchaseDetails:"تفاصيل الشراء",reference:"المرجع",referencePlaceholder:"مثال: فاتورة رقم 123، وصل تسليم...",paymentRecorded:"تم تسجيل الدفع بنجاح.",confirmSupplierDelete:'هل أنت متأكد من رغبتك في حذف المورد "{name}"؟',addNewCategory:"إضافة فئة جديدة",categoryName:"اسم الفئة",categoryList:"قائمة الفئات",noCategoriesAdded:"لم تتم إضافة أي فئات.",categoryNameEmptyError:"لا يمكن أن يكون اسم الفئة فارغًا.",categoryExistsError:'فئة بالاسم "{name}" موجودة بالفعل.',categoryAddedSuccess:'تمت إضافة الفئة "{name}" بنجاح.',categoryUpdatedSuccess:'تم تحديث الفئة "{name}" بنجاح.',confirmCategoryDelete:'هل أنت متأكد من رغبتك في حذف الفئة "{name}"؟',categoryDeleteError:"لا يمكن حذف هذه الفئة لأنها مستخدمة من قبل منتجات.",editCategory:"تعديل الفئة",categoryDeletedSuccess:'تم حذف الفئة "{name}" بنجاح.',lowStockAlert:"تنبيه انخفاض المخزون",lowStockMessage:"المنتجات التالية مخزونها منخفض أو نفدت. فكر في عمل طلبية.",unknown:"غير معروف",invoiceTitle:"فاتورة",orderFormTitle:"طلب شراء",invoiceAddress:"عنوان المتجر",thankYou:"شكرا لزيارتكم!",productColumn:"المنتج",returnReceiptTitle:"وصل إرجاع",returnIdLabel:"رقم وصل الإرجاع",optional:"اختياري",purchase_ref_initial_stock:"المخزون الأولي",purchase_ref_stock_adjustment:"تعديل المخزون",supabaseConfigErrorTitle:"خطأ في إعدادات Supabase",supabaseConfigErrorSubtitle:"مفتاح API الخاص بقاعدة البيانات غير مهيأ. لا يمكن بدء تشغيل التطبيق.",supabaseConfigErrorInstruction:"الرجاء فتح الملف `{fileName}` وتعديل السطر المميز باللون الأحمر أدناه:",supabaseConfigErrorHint:"يمكنك الحصول على هذا المفتاح من لوحة تحكم مشروعك على Supabase. بعد حفظ الملف، سيتم إعادة تحميل التطبيق تلقائيًا.",supabaseConfigComment1:"// --- هام: أضف مفتاح API الخاص بك هنا ---",supabaseConfigComment2:"// استبدل السلسلة النصية أدناه بمفتاح 'anon' العام الخاص بك من Supabase (وليس مفتاح 'publishable').",supabaseConfigComment3:"// يمكنك العثور عليه في: لوحة تحكم Supabase -> الإعدادات -> API.",supabaseConfigComment4:'// المفتاح عبارة عن سلسلة نصية طويلة تبدأ بـ "eyJ...".',supabaseConfigKeyWarning:"⚠️ هام: لا تستخدم مفتاح `publishable` (الذي يبدأ بـ `sb_publishable_`). يجب عليك استخدام مفتاح `anon` (العام) وهو سلسلة نصية أطول بكثير."}},G9=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),m.jsx("path",{d:"M12 8v4l2 2"})]}),W9=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),m.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),m.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),Y9=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),K9=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"8",cy:"8",r:"6"}),m.jsx("path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}),m.jsx("path",{d:"M7 6h1v4"}),m.jsx("path",{d:"m16.71 13.88.7.71-2.82 2.82-.71-.71A6 6 0 0 1 7.18 6.18"})]}),tl=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),Jr=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 6h18"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),NI=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5"}),m.jsx("path",{d:"M17 9v6"}),m.jsx("path",{d:"M13 9v6"}),m.jsx("path",{d:"M9 9v6"}),m.jsx("path",{d:"M5 9v6"})]}),EI=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),m.jsx("polyline",{points:"16 17 21 12 16 7"}),m.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),cS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V2a2 2 0 0 0-2-2z"}),m.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Na=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M12 17v-10"}),m.jsx("path",{d:"M9 14l3 3 3-3"}),m.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"})]}),Tv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),fS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),m.jsx("path",{d:"M20 8v6M23 11h-6"})]}),kI=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M10 17.5V14H3V12l4-9h11v9h-3.5"}),m.jsx("path",{d:"M10 17.5h4.5l1.9-2.9"}),m.jsx("circle",{cx:"6.5",cy:"17.5",r:"2.5"}),m.jsx("circle",{cx:"17.5",cy:"17.5",r:"2.5"})]}),PI=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),m.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]}),Cv=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"}),m.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),m.jsx("path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"}),m.jsx("path",{d:"M2 7h20"}),m.jsx("path",{d:"M22 7v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7"})]}),MI=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("line",{x1:"19",y1:"8",x2:"19",y2:"14"}),m.jsx("line",{x1:"22",y1:"11",x2:"16",y2:"11"})]}),Da=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m12 3-1.9 5.8-5.8 1.9 5.8 1.9 1.9 5.8 1.9-5.8 5.8-1.9-5.8-1.9z"})}),dS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"12",cy:"12",r:"4"}),m.jsx("path",{d:"M12 2v2"}),m.jsx("path",{d:"M12 20v2"}),m.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),m.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),m.jsx("path",{d:"M2 12h2"}),m.jsx("path",{d:"M20 12h2"}),m.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),m.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),hS=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),rd=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),m.jsx("polyline",{points:"12 5 19 12 12 19"})]}),pA=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),m.jsx("polyline",{points:"12 19 5 12 12 5"})]}),AA=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),m.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),m.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),rN=({className:t})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"m6 9 6 6 6-6"})}),J9=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"11",cy:"11",r:"8"}),m.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),pS=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),X9=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),m.jsx("polyline",{points:"14 2 14 8 20 8"}),m.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),m.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),m.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),s2=({className:t})=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[m.jsx("circle",{cx:"7.5",cy:"15.5",r:"5.5"}),m.jsx("path",{d:"m21 2-9.6 9.6"}),m.jsx("path",{d:"m15.5 7.5 3 3L22 7l-3-3"})]}),AS=({className:t})=>m.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 297.31 290",className:t,children:[m.jsxs("defs",{children:[m.jsx("style",{children:`
                .cls-1{fill:none;}
                .cls-9{fill:#383838; direction: ltr; text-anchor: middle;}
                .dark .cls-9 { fill: #e2e8f0; }
                .cls-3{clip-path:url(#clip-path);}
                .cls-4{fill:url(#linear-gradient);}
                .cls-5{clip-path:url(#clip-path-2);}
                .cls-6{fill:url(#linear-gradient-2);}
                .cls-7{clip-path:url(#clip-path-3);}
                .cls-8{fill:url(#linear-gradient-3);}
                .cls-9{font-size:42px;font-family:Damavand-Regular;}
            `}),m.jsx("clipPath",{id:"clip-path",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M109.57,55.71a47,47,0,1,0,62.05,26.08c7.43,19.09-.76,40.37-18.67,48-18.26,7.73-39.71-1.71-47.91-21.08s0-41.34,18.22-49.07c18-7.61,39,1.42,47.51,20.19a47,47,0,0,0-61.2-24.07"})}),m.jsxs("linearGradient",{id:"linear-gradient",x1:"-661.98",y1:"962.1",x2:"-661.62",y2:"962.1",gradientTransform:"matrix(0, 241.28, 241.28, 0, -232006.06, 159777.96)",gradientUnits:"userSpaceOnUse",children:[m.jsx("stop",{offset:"0",stopColor:"#f8ed86"}),m.jsx("stop",{offset:"1",stopColor:"#e67026"})]}),m.jsx("clipPath",{id:"clip-path-2",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M124.19,100.39c-6.82-16.24-1.91-33.78,11-39.19S164,64.56,170.83,80.8s1.91,33.78-11,39.19a20.64,20.64,0,0,1-8,1.6c-10.9,0-22.21-8.22-27.66-21.2m-.88-40.94C105.39,67,97.14,88.23,104.52,107.34c0,.15.11.3.17.45s.18.45.28.67l.23.54c0,.12.1.24.16.36,8.42,18.79,29.46,27.88,47.46,20.31,18.28-7.68,26.49-29.62,18.34-49-6.23-14.84-20.22-23.88-34.64-23.88a34,34,0,0,0-13.21,2.67"})}),m.jsx("linearGradient",{id:"linear-gradient-2",x1:"-658.75",y1:"961.74",x2:"-658.39",y2:"961.74",gradientTransform:"matrix(0, -173.8, -173.8, 0, 167285.74, -114352.79)",xlinkHref:"#linear-gradient"}),m.jsx("clipPath",{id:"clip-path-3",transform:"translate(20.8 29.57)",children:m.jsx("path",{className:"cls-1",d:"M200.23,52.61a392.27,392.27,0,0,0-42,10.42,44.36,44.36,0,0,1,4.52,4.37A373.26,373.26,0,0,1,201.21,58c25.59-4.64,33.87-1.82,34.68.32S232.31,68.05,210,81.4a374.37,374.37,0,0,1-35.14,18.25l-.72.33,0,0-.53.24c-11.66,5.34-24.31,10.61-37.5,15.6l-1.6.6c-6.33,2.38-12.61,4.62-18.79,6.73l0,0c-7.74,2.63-15.31,5-22.64,7.2a375.35,375.35,0,0,1-38.46,9.4c-25.59,4.63-33.88,1.81-34.68-.33s3.57-9.72,25.89-23.07A375.62,375.62,0,0,1,80.86,98.15a45.2,45.2,0,0,1,.53-6.27A391.4,391.4,0,0,0,42.9,111.69c-9.64,5.77-17,11-21.79,15.67-5.78,5.55-7.88,10.15-6.42,14s6.07,6,14.08,6.34c6.67.31,15.66-.55,26.71-2.55a389.31,389.31,0,0,0,42-10.42c7.63-2.29,15.52-4.85,23.55-7.64l.08,0q7.56-2.62,15.25-5.52,2.9-1.08,5.75-2.18c10.32-4,20.29-8.14,29.68-12.34l1-.46.08,0,1.44-.65a391.15,391.15,0,0,0,38.48-19.81c9.64-5.77,17-11,21.79-15.67,5.78-5.55,7.88-10.15,6.42-14s-6.07-6-14.07-6.34c-.9,0-1.83-.06-2.8-.06a138.81,138.81,0,0,0-23.92,2.61"})}),m.jsx("linearGradient",{id:"linear-gradient-3",x1:"-662.36",y1:"961.67",x2:"-662",y2:"961.67",gradientTransform:"matrix(0, 179.06, 179.06, 0, -172067.09, 118662.76)",xlinkHref:"#linear-gradient"})]}),m.jsx("g",{className:"cls-3",children:m.jsx("rect",{className:"cls-4",x:"54.96",y:"29.99",width:"145.51",height:"144.37",transform:"translate(-15 127.91) rotate(-37.32)"})}),m.jsx("g",{className:"cls-5",children:m.jsx("rect",{className:"cls-6",x:"80.38",y:"38.67",width:"115.7",height:"115.69",transform:"translate(-7.19 154.26) rotate(-44.55)"})}),m.jsx("g",{className:"cls-7",children:m.jsx("rect",{className:"cls-8",x:"3.22",y:"10.66",width:"249.28",height:"176.73",transform:"translate(-6.97 84.62) rotate(-21.98)"})}),m.jsx("text",{className:"cls-9",x:"148.655",y:"240",children:"Go-shop"})]}),iN="Abzn11241984",Q9=({onLoginSuccess:t,onSuperAdminLogin:e,t:n,language:r,setLanguage:i,theme:a,toggleTheme:o})=>{const[s,l]=ne.useState("loading"),[u,c]=ne.useState(null),[f,h]=ne.useState(!1),[p,y]=ne.useState(null),[x,w]=ne.useState(""),[v,b]=ne.useState(!1),[S,T]=ne.useState(""),[C,k]=ne.useState(""),E=ne.useCallback(async()=>{h(!0);try{const H=localStorage.getItem("pos-license");if(!H){l("license_entry");return}const R=JSON.parse(H),B=await wI(R.storeId);if(B)if(B.trialStartDate){const W=new Date(B.trialStartDate),K=new Date(W);K.setDate(W.getDate()+(B.trialDurationDays??7)),new Date>K?(y(B),l("expired_trial")):(y(B),l("login"))}else y(B),l("login");else throw new Error("Store not found")}catch(H){localStorage.removeItem("pos-license"),c(n(H.message||"unknownError")||H.message),l("license_entry")}finally{h(!1)}},[n]);ne.useEffect(()=>{s==="loading"&&E()},[E,s]),ne.useEffect(()=>{if(s==="login"&&p){const H=localStorage.getItem(`pos-remembered-secret-${p.id}`);H?(w(H),b(!0)):(w(""),b(!1))}},[s,p]);const M=async H=>{if(H.preventDefault(),c(null),!p){c(n("unknownError")),l("license_entry");return}if(h(!0),!x){c(n("fillAllFields")),h(!1);return}try{if(x===iN){e();return}const R=await T9(p,x);v?localStorage.setItem(`pos-remembered-secret-${p.id}`,x):localStorage.removeItem(`pos-remembered-secret-${p.id}`),t(R.user,R.store)}catch(R){let B=null,W=n("unknownError");if(R&&R.message){const K=R.message.toLowerCase();K.includes("invalid api key")||K.includes("unauthorized")?B="invalidApiKeyError":(R.message==="storeNotFound"||R.message==="storeDisabledError"||R.message==="invalidCredentialsError")&&(B=R.message),W=R.message}c(B?n(B):W)}finally{h(!1)}},j=async H=>{if(H.preventDefault(),!!p){h(!0),c(null);try{if(await C9(p.id,S))alert(n("activationSuccessReload")),window.location.reload();else throw new Error("invalidActivationCode")}catch(R){const B=n(R.message)||R.message;c(B)}finally{h(!1)}}},U=async H=>{var B;H.preventDefault(),c(null),h(!0);const R=C.trim();if(!R){c(n("fillAllFields")),h(!1);return}try{if(R===iN){e();return}const W=await xI(R);if(W){const K={storeId:W.id};if(localStorage.setItem("pos-license",JSON.stringify(K)),y(W),W.trialStartDate){const Z=new Date(W.trialStartDate),oe=new Date(Z);oe.setDate(Z.getDate()+(W.trialDurationDays??7)),new Date>oe?l("expired_trial"):l("login")}else l("login")}else c(n("invalidActivationCode"))}catch(W){console.error("Error activating store for the first time:",W),(B=W.message)!=null&&B.includes("406")?c(n("invalidActivationCode")):c(n("unknownError"))}finally{h(!1)}},O=()=>m.jsxs("form",{onSubmit:M,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("login")}),p?m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:n("forStore",{storeName:p.name})}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loginSecret",className:"sr-only",children:n("passwordOrPin")}),m.jsx("input",{id:"loginSecret",type:"password",value:x,onChange:H=>w(H.target.value),placeholder:n("passwordOrPin"),className:"w-full px-4 py-3 border rounded-lg text-center text-xl tracking-widest bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"flex items-center justify-start text-left rtl:text-right",children:[m.jsx("input",{id:"rememberMe",type:"checkbox",checked:v,onChange:H=>b(H.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-slate-500 text-teal-600 focus:ring-teal-500 bg-gray-100 dark:bg-slate-600"}),m.jsx("label",{htmlFor:"rememberMe",className:"ml-2 rtl:mr-2 rtl:ml-0 block text-sm text-gray-700 dark:text-gray-400 cursor-pointer",children:n("rememberPin")})]})]}):m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("login")})]}),I=()=>m.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n("trialHasExpired")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("contactAdminToActivate")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"activationCode",className:"sr-only",children:n("activationCode")}),m.jsx("input",{id:"activationCode",type:"text",value:S,onChange:H=>T(H.target.value),placeholder:n("enterActivationCode"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activateApplication")})]}),$=()=>m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:n("activateYourCompany")}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n("enterLicenseKey")}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"licenseKey",className:"sr-only",children:n("licenseKey")}),m.jsx("input",{id:"licenseKey",type:"text",value:C,onChange:H=>k(H.target.value),placeholder:n("licenseKey"),className:"w-full px-4 py-3 border rounded-lg text-center bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:f?`${n("loading")}...`:n("activate")})]}),F=()=>{if(f||s==="loading")return m.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:[n("loading"),"..."]});switch(s){case"license_entry":return $();case"login":return O();case"expired_trial":return I();default:return m.jsx("button",{onClick:()=>l("loading"),className:"text-teal-600 hover:underline",children:n("reactivationSuccess")})}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsxs("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4 flex items-center gap-3",children:[m.jsx("button",{onClick:o,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:a==="light"?m.jsx(hS,{className:"w-5 h-5"}):m.jsx(dS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>i(r==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:r==="fr"?"العربية":"Français"})]}),m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(AS,{className:"w-80 h-auto mx-auto"}),m.jsxs("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]})]}),m.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl shadow-lg max-w-sm w-full text-center",children:[u&&m.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm mb-4 bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:u}),F()]})]})},Z9=({onLoginAsStoreAdmin:t,onGoToDashboard:e,onLogout:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{const[l,u]=ne.useState([]);ne.useEffect(()=>{(async()=>{const h=await SI();u(h.sort((p,y)=>p.name.localeCompare(y.name)))})()},[]);const c=async f=>{try{const h=await _I(f.id);h?t(h,f):alert(r("noAdminForStore"))}catch(h){console.error("Failed to login as admin:",h),alert(`${r("unknownError")}: ${h.message}`)}};return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900 p-4",children:[m.jsx("header",{className:"absolute top-0 left-0 right-0 p-4",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg text-slate-500 dark:text-slate-400 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:o==="light"?m.jsx(hS,{className:"w-5 h-5"}):m.jsx(dS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-4 py-2 text-sm font-bold bg-white dark:bg-slate-800 text-teal-600 dark:text-teal-300 border border-gray-300 dark:border-slate-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:i==="fr"?"العربية":"Français"})]}),m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 text-white hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(EI,{className:"w-5 h-5"}),m.jsx("span",{children:r("logout")})]})]})}),m.jsxs("div",{className:"text-center w-full max-w-4xl",children:[m.jsx(AS,{className:"w-64 h-auto mx-auto mb-6"}),m.jsxs("div",{className:"mb-6 text-sm text-slate-500 dark:text-slate-400",children:[m.jsx("p",{children:"by Eventhorizon solution"}),m.jsx("p",{children:"0622119357"})]}),m.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200 mb-8",children:r("superAdminPortal")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("div",{onClick:e,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",children:[m.jsx(cS,{className:"w-12 h-12 text-teal-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("manageAllStores")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("manageAllStoresDesc")})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx(Cv,{className:"w-12 h-12 text-cyan-500 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:r("loginToStore")}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r("loginToStoreDesc")}),m.jsxs("div",{className:"mt-4 pt-4 border-t dark:border-slate-700",children:[m.jsx("h3",{className:"font-semibold text-slate-600 dark:text-slate-300 mb-3",children:r("selectStoreToLogin")}),m.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-2",children:l.length>0?l.map(f=>m.jsxs("button",{onClick:()=>c(f),className:"w-full text-left rtl:text-right flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 hover:bg-teal-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:f.name}),m.jsxs("span",{className:"text-teal-600 dark:text-teal-400 font-bold flex items-center gap-1 text-sm",children:[r("loginAsAdmin")," ",m.jsx(rd,{className:"w-4 h-4"})]})]},f.id)):m.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("noStoresAdded")})})]})]})]})]})]})},aN="https://storage.googleapis.com/appmaker-310316.appspot.com/user_4a0de5b0722a4666a2657c793742469a/app_primo_4f5f590457634f19b16ab20c918a38b2/1721066782500_834",l2=({url:t,className:e})=>{const n=t||aN,r=i=>{i.currentTarget.src=aN};return m.jsx("img",{src:n,alt:"Logo du magasin",className:e,onError:r})},jm=({checked:t,onChange:e,labelOn:n,labelOff:r,title:i,disabled:a=!1})=>m.jsxs("label",{className:`inline-flex items-center ${a?"cursor-not-allowed opacity-50":"cursor-pointer"}`,title:i,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:t,onChange:e,className:"sr-only peer",disabled:a}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 dark:peer-focus:ring-teal-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-teal-600"})]}),m.jsx("span",{className:`ml-3 text-sm font-medium ${t?"text-green-600 dark:text-green-400":"text-slate-500 dark:text-slate-400"}`,children:t?n:r})]}),eq=({onLoginAsStoreAdmin:t,onLogout:e,onGoBack:n,t:r,language:i,setLanguage:a,theme:o,toggleTheme:s})=>{var pe;const[l,u]=ne.useState([]),[c,f]=ne.useState([]),[h,p]=ne.useState({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),[y,x]=ne.useState(!0),[w,v]=ne.useState({}),[b,S]=ne.useState({}),[T,C]=ne.useState(null),[k,E]=ne.useState(null),[M,j]=ne.useState(null),[U,O]=ne.useState(null),I="GoShop-Activation-Key-Abzn-Secret-2024",$=async()=>{u((await SI()).sort((G,le)=>G.name.localeCompare(le.name))),f(await N9())};ne.useEffect(()=>{$()},[]);const F=ne.useMemo(()=>{const G={};for(const le of c)G[le.storeId]||(G[le.storeId]=[]),G[le.storeId].push(le);return G},[c]),H=G=>{if(G.target.files&&G.target.files[0]){const le=G.target.files[0],ce=new FileReader;ce.onloadend=()=>{p(ue=>({...ue,logo:ce.result}))},ce.readAsDataURL(le)}},R=async G=>{if(G.preventDefault(),C(null),E(null),!h.name||!h.adminPassword){alert(r("fillAllFieldsError"));return}const le=h.adminPassword,ce=h.trialDurationDays||0;try{const{licenseKey:ue}=await E9(h.name,h.logo,h.adminPassword,h.adminEmail,ce,h.address,h.ice,h.enableAiReceiptScan);if(y){const Re=await xI(ue);if(Re){const _e={isActive:!0,licenseProof:new Date().toISOString(),trialStartDate:ce>0?new Date().toISOString():null};await kc({...Re,..._e})}}C(ue),E(le),p({name:"",adminEmail:"",adminPassword:"",logo:"",trialDurationDays:7,address:"",ice:"",enableAiReceiptScan:!1}),x(!0);const Te=document.getElementById("logo");Te&&(Te.value=""),await $()}catch(ue){ue instanceof TypeError&&ue.message==="Failed to fetch"?alert(r("failedToFetchError_CORS")):alert(r(ue.message)||ue.message)}},B=async(G,le)=>{if(window.confirm(r("deleteStoreConfirm",{storeName:le})))try{await k9(G),alert(r("storeDeletedSuccess",{storeName:le})),await $()}catch(ce){console.error("Failed to delete store:",ce),alert(`${r("storeDeleteError")}: ${ce.message}`)}},W=(G,le)=>{v(ce=>({...ce,[G]:le}))},K=async G=>{const le=(F[G]||[]).filter(ce=>w[ce.id]!==void 0&&w[ce.id].trim()!=="");for(const ce of le)if(ce.role==="seller"&&w[ce.id].length<4){alert(r("pinMustBe4Chars"));return}if(le.length!==0){for(const ce of le){const ue={...ce};ce.role==="admin"?ue.password=w[ce.id]:ue.pin=w[ce.id],await TI(ue)}v(ce=>{const ue={...ce};return le.forEach(Te=>delete ue[Te.id]),ue}),alert(r("pinUpdateSuccess")),await $()}},Z=async G=>{const le=b[G];if(!le||le.trim()===""||le.length<4){alert(r("pinMustBe4Chars"));return}const ce=(F[G]||[]).filter(Te=>Te.role==="seller").length,ue=`${r("seller")} ${ce+1}`;await CI({name:ue,pin:le,role:"seller",storeId:G}),S(Te=>({...Te,[G]:""})),await $()},oe=async G=>{if(G.isActive)await kc({...G,isActive:!1});else{let le=!1;if(G.trialStartDate){const ce=new Date(G.trialStartDate),ue=new Date(ce);ue.setDate(ce.getDate()+(G.trialDurationDays??7)),new Date>ue&&(le=!0)}if(le)if(window.confirm(r("confirmPermanentActivation",{storeName:G.name})))await kc({...G,isActive:!0,trialStartDate:null});else return;else await kc({...G,isActive:!0})}await $()},L=async G=>{await kc({...G,enableAiReceiptScan:!G.enableAiReceiptScan}),await $()},z=G=>{const le=`PERM-${btoa(`${G.id}::${I}`)}`;O({storeName:G.name,code:le})},Q=(G,le)=>{navigator.clipboard.writeText(G),j(le),setTimeout(()=>{j(null)},2e3)},te=G=>{if(!G.licenseProof)return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:r("storeStatus_notActivated")});if(G.trialStartDate){const le=new Date(G.trialStartDate),ce=new Date(le);ce.setDate(le.getDate()+(G.trialDurationDays??7));const ue=ce.getTime()-new Date().getTime();if(ue>0){const Te=Math.ceil(ue/864e5);return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-yellow-200 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",children:r("trialDaysRemaining",{days:Te})})}else return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-red-200 text-red-800 dark:bg-red-900/50 dark:text-red-300",children:r("trialEnded")})}return m.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-green-200 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:r("storeStatus_licensed")})},ie=async G=>{try{const le=await _I(G.id);le?t(le,G):alert(r("noAdminForStore"))}catch(le){console.error("Failed to login as admin:",le),alert(`${r("unknownError")}: ${le.message}`)}},ge=()=>{if(T){const G=l.find(le=>le.licenseKey===T);G?ie(G):alert("Store data not ready. Please wait a moment and try logging in from the main list.")}};return m.jsxs("div",{className:"bg-gray-100 dark:bg-slate-900 min-h-screen",children:[U&&m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6 text-center",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:r("activationCodeForStore",{storeName:U.storeName})}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("copyAndSendToClient")}),m.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-between gap-4",children:[m.jsx("p",{className:"font-mono text-lg break-all text-slate-800 dark:text-slate-100",children:U.code}),m.jsx("button",{onClick:()=>Q(U.code,"activation-code"),className:"bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-3 rounded-lg text-sm shrink-0",children:r(M==="activation-code"?"copied":"copy")})]}),m.jsx("button",{onClick:()=>O(null),className:"mt-6 bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})]})}),m.jsx("header",{className:"bg-white dark:bg-slate-800 text-white p-4 shadow-lg sticky top-0 z-40",children:m.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:[m.jsx(pA,{className:"w-5 h-5"}),m.jsx("span",{children:r("backToPortal")})]}),m.jsx("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100",children:r("superAdminDashboard")}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:s,title:"Toggle theme",className:"p-2 bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:o==="light"?m.jsx(hS,{className:"w-5 h-5"}):m.jsx(dS,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>a(i==="fr"?"ar":"fr"),className:"px-3 py-2 text-sm font-bold bg-gray-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 hover:bg-gray-300 dark:hover:bg-slate-600 rounded-lg transition-colors",children:i==="fr"?"AR":"FR"}),m.jsxs("button",{onClick:e,title:r("logout"),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:[m.jsx(EI,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden md:inline",children:r("logout")})]})]})]})}),m.jsxs("main",{className:"container mx-auto p-4 sm:p-6 space-y-8",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(Cv,{}),r("addStore")]}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2 border-2 border-dashed rounded-lg dark:border-slate-600 row-span-2",children:[m.jsx(l2,{url:h.logo,className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200 dark:bg-slate-700"}),m.jsx("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeLogo")}),m.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:H,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("storeName")}),m.jsx("input",{type:"text",value:h.name,onChange:G=>p({...h,name:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminPassword")}),m.jsx("input",{type:"password",value:h.adminPassword,onChange:G=>p({...h,adminPassword:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("adminEmail")}),m.jsx("input",{type:"email",value:h.adminEmail,onChange:G=>p({...h,adminEmail:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r("trialPeriodDays")}),m.jsx("input",{type:"number",min:"0",value:h.trialDurationDays,onChange:G=>p({...h,trialDurationDays:parseInt(G.target.value,10)||0}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("address")," (",r("optional"),")"]}),m.jsx("input",{type:"text",value:h.address,onChange:G=>p({...h,address:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[r("ice")," (",r("optional"),")"]}),m.jsx("input",{type:"text",value:h.ice,onChange:G=>p({...h,ice:G.target.value}),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{className:"lg:col-span-3 space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Da,{className:"w-8 h-8 text-purple-500 dark:text-purple-400"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("enableAiScan")}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("aiScanFeatureDescription")})]})]}),m.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:m.jsx(jm,{checked:h.enableAiReceiptScan,onChange:()=>p(G=>({...G,enableAiReceiptScan:!G.enableAiReceiptScan})),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})})]}),m.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(s2,{className:"w-8 h-8 text-blue-500 dark:text-blue-400"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-700 dark:text-slate-200",children:r("activateImmediately")}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r("activateImmediatelyDesc")})]})]}),m.jsx("div",{className:"ml-auto rtl:ml-0 rtl:mr-auto",children:m.jsx(jm,{checked:y,onChange:()=>x(G=>!G),labelOn:r("activeOnCreation"),labelOff:r("inactiveOnCreation"),title:r("activateImmediately")})})]})]})]}),m.jsxs("button",{type:"submit",className:"w-full md:w-auto bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center gap-2",children:[m.jsx(tl,{}),r("addStoreButton")]})]}),T&&k&&m.jsxs("div",{className:"mt-4 p-4 bg-green-100 dark:bg-green-900/50 rounded-lg text-green-800 dark:text-green-300",children:[m.jsx("h3",{className:"font-bold",children:r("storeCreatedSuccess")}),m.jsxs("div",{className:"mt-2 space-y-4 text-sm",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[r("storeName"),":"]})," ",(pe=l.find(G=>G.licenseKey===T))==null?void 0:pe.name]}),m.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded border border-yellow-300 dark:border-yellow-700",children:[m.jsxs("p",{className:"font-semibold",children:[r("adminPassword"),":"]}),m.jsx("p",{className:"font-mono text-xl my-1",children:k}),m.jsx("p",{className:"text-xs",children:r("useThisPasswordAfter")})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-semibold mt-2",children:[r("licenseKey"),":"]}),m.jsx("p",{className:"text-xs mb-1",children:r("useThisToLoginFirst")}),m.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white dark:bg-slate-700 rounded-md",children:[m.jsx("p",{className:"font-mono text-lg break-all flex-grow",children:T}),m.jsx("button",{onClick:()=>Q(T,"new-key"),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg text-sm",children:r(M==="new-key"?"copied":"copy")})]})]})]}),m.jsxs("button",{onClick:ge,className:"mt-4 w-full bg-cyan-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center justify-center gap-2",children:[m.jsx(rd,{className:"w-5 h-5"}),r("loginAsAdmin")]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("manageStores")}),m.jsx("div",{className:"space-y-6",children:l.length>0?l.map(G=>{const le=F[G.id]||[],ce=le.find(Te=>Te.role==="admin"),ue=le.filter(Te=>Te.role==="seller");return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl shadow-md border-l-4 dark:border-l-4 border-teal-500",children:[m.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-4 mb-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(l2,{url:G.logo,className:"w-16 h-16 rounded-lg bg-white object-cover"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:G.name}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsxs("span",{className:"text-sm font-mono text-slate-500 dark:text-slate-400",children:[r("licenseKey"),":"]}),m.jsx("span",{className:"font-mono text-sm bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded break-all",children:G.licenseKey}),m.jsx("button",{type:"button",onClick:()=>Q(G.licenseKey,G.id),className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 dark:hover:bg-teal-800/50 text-xs font-bold py-1 px-2 rounded-md",children:M===G.id?r("copied"):r("copy")})]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:r("trialDurationDisplay",{days:G.trialDurationDays})})]})]}),m.jsxs("div",{className:"flex flex-col items-end gap-3",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(jm,{checked:G.isActive,onChange:()=>oe(G),labelOn:r("storeStatus_active"),labelOff:r("storeStatus_inactive"),title:r("toggleStoreStatus")}),m.jsx("button",{onClick:()=>B(G.id,G.name),className:"text-red-500 hover:text-red-700 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:r("deleteStore"),children:m.jsx(Jr,{})})]}),te(G)]})]}),m.jsxs("div",{className:"space-y-4 pt-4 border-t-2 border-dashed dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Da,{className:"w-5 h-5 text-purple-500"}),m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("enableAiScan")})]}),m.jsx(jm,{checked:G.enableAiReceiptScan||!1,onChange:()=>L(G),labelOn:r("aiScanEnabled"),labelOff:r("aiScanDisabled"),title:r("enableAiScan")})]}),m.jsx("h4",{className:"font-bold text-slate-600 dark:text-slate-300",children:r("storeUsersAndPins")}),m.jsxs("div",{className:"space-y-3",children:[ce&&m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{className:"font-semibold w-24",children:[r("admin")," (",ce.name,")"]}),m.jsx("input",{type:"password",placeholder:r("newPassword"),defaultValue:"",onChange:Te=>W(ce.id,Te.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),ue.map(Te=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"font-semibold w-24",children:Te.name}),m.jsx("input",{type:"password",placeholder:r("newPin"),defaultValue:"",onChange:Re=>W(Te.id,Re.target.value),className:"w-full md:w-48 p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]},Te.id))]}),m.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4 mt-4",children:[m.jsx("button",{onClick:()=>K(G.id),className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:r("saveChanges")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"password",placeholder:r("newSellerPinPlaceholder"),value:b[G.id]||"",onChange:Te=>S(Re=>({...Re,[G.id]:Te.target.value})),className:"p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 text-sm w-48"}),m.jsxs("button",{onClick:()=>Z(G.id),className:"bg-teal-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center text-sm",children:[m.jsx(MI,{className:"w-4 h-4 mr-1 rtl:ml-1 rtl:mr-0"}),r("add")]})]})]}),m.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg mt-4",children:[m.jsxs("h4",{className:"font-bold text-slate-600 dark:text-slate-300 mb-2 flex items-center gap-2",children:[m.jsx(cS,{className:"w-5 h-5"}),r("permanentActivation")]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:r("permanentActivationDesc")}),m.jsxs("button",{onClick:()=>z(G),disabled:!G.licenseProof||!G.trialStartDate,className:"bg-green-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400 dark:disabled:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(s2,{className:"w-4 h-4"}),r("generateActivationCode")]})]})]})]},G.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:r("noStoresAdded")})})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tq,nq;function rq(){return{geminiUrl:tq,vertexUrl:nq}}function iq(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const o=rq();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ku{}function ot(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function A(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const s=o.slice(0,-2);if(!(s in t))if(Array.isArray(n))t[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[s])){const l=t[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];A(c,e.slice(a+1),n[u])}else for(const u of l)A(u,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const s=o.slice(0,-3);s in t||(t[s]=[{}]);const l=t[s];A(l[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>d(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aq(t){const e={},n=d(t,["operationName"]);n!=null&&A(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&A(e,["_url","resourceName"],r),e}function oq(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&A(e,["response"],lq(o)),e}function sq(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response"]);return o!=null&&A(e,["response"],uq(o)),e}function lq(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>cq(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function uq(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>fq(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function cq(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],pq(n)),e}function fq(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],Aq(n)),e}function dq(t){const e={},n=d(t,["operationName"]);return n!=null&&A(e,["_url","operationName"],n),e}function hq(t){const e={},n=d(t,["operationName"]);return n!=null&&A(e,["_url","operationName"],n),e}function pq(t){const e={},n=d(t,["video","uri"]);n!=null&&A(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&A(e,["videoBytes"],mS(r));const i=d(t,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function Aq(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],mS(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oN||(oN={}));var sN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(sN||(sN={}));var Ci;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ci||(Ci={}));var lN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(lN||(lN={}));var uN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(uN||(uN={}));var cN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(cN||(cN={}));var fN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fN||(fN={}));var dN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dN||(dN={}));var hN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hN||(hN={}));var pN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(pN||(pN={}));var AN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(AN||(AN={}));var mN;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(mN||(mN={}));var gN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gN||(gN={}));var vN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(vN||(vN={}));var yN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(yN||(yN={}));var Xg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xg||(Xg={}));var bN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bN||(bN={}));var u2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(u2||(u2={}));var xN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xN||(xN={}));var wN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wN||(wN={}));var SN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(SN||(SN={}));var _N;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(_N||(_N={}));var TN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TN||(TN={}));var CN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(CN||(CN={}));var NN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(NN||(NN={}));var EN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(EN||(EN={}));var kN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kN||(kN={}));var PN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(PN||(PN={}));var MN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(MN||(MN={}));var ON;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ON||(ON={}));var IN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(IN||(IN={}));var jN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jN||(jN={}));var DN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(DN||(DN={}));var LN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(LN||(LN={}));var RN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(RN||(RN={}));var FN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(FN||(FN={}));var $N;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($N||($N={}));var BN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(BN||(BN={}));var UN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(UN||(UN={}));var qN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qN||(qN={}));var HN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(HN||(HN={}));var zN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zN||(zN={}));var VN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(VN||(VN={}));var GN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(GN||(GN={}));var WN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(WN||(WN={}));var YN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(YN||(YN={}));var KN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KN||(KN={}));var JN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(JN||(JN={}));var Vc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Vc||(Vc={}));class c2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class oh{get text(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[p,y]of Object.entries(h))p!=="text"&&p!=="thought"&&(y!==null||y!==void 0)&&f.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(f))h!=="inlineData"&&(p!==null||p!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,o,s,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,o,s,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class XN{}class QN{}class mq{}class gq{}class vq{}class yq{}class ZN{}class eE{}class tE{}class bq{}class Qg{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Qg;let i;const a=e;return n?i=sq(a):i=oq(a),Object.assign(r,i),r}}class nE{}class rE{}class iE{}class xq{}class wq{}class Sq{}class aE{}class _q{get text(){var e,n,r;let i="",a=!1;const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&o.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;a=!0,i+=s.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(o))s!=="inlineData"&&l!==null&&a.push(s);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Tq{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ut(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function OI(t,e){const n=Ut(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function II(t){return Array.isArray(t)?t.map(e=>Zg(e)):[Zg(t)]}function Zg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jI(t){const e=Zg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DI(t){const e=Zg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oE(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function LI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>oE(e)):[oE(t)]}function f2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function sE(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function lE(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ur(t){if(t==null)throw new Error("ContentUnion is required");return f2(t)?t:{role:"user",parts:LI(t)}}function gS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ur(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ur(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ur(n)):[Ur(e)]}function la(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(sE(t)||lE(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ur(t)]}const e=[],n=[],r=f2(t[0]);for(const i of t){const a=f2(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(sE(i)||lE(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:LI(n)}),e}function Cq(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ci).includes(n[0].toUpperCase())?n[0].toUpperCase():Ci.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ci).includes(r.toUpperCase())?r.toUpperCase():Ci.TYPE_UNSPECIFIED})}}function af(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Cq(t.type,e);for(const[o,s]of Object.entries(t))if(s!=null)if(o=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;e.type=Object.values(Ci).includes(s.toUpperCase())?s.toUpperCase():Ci.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=af(s);else if(r.includes(o)){const l=[];for(const u of s){if(u.type=="null"){e.nullable=!0;continue}l.push(af(u))}e[o]=l}else if(i.includes(o)){const l={};for(const[u,c]of Object.entries(s))l[u]=af(c);e[o]=l}else{if(o==="additionalProperties")continue;e[o]=s}return e}function vS(t){return af(t)}function yS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function id(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=af(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=af(e.response));return t}function ad(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Nq(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function is(t,e){if(typeof e!="string")throw new Error("name must be a string");return Nq(t,e,"cachedContents")}function RI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Pu(t){return mS(t)}function Eq(t){return t!=null&&typeof t=="object"&&"name"in t}function kq(t){return t!=null&&typeof t=="object"&&"video"in t}function Pq(t){return t!=null&&typeof t=="object"&&"uri"in t}function FI(t){var e;let n;if(Eq(t)&&(n=t.name),!(Pq(t)&&(n=t.uri,n===void 0))&&!(kq(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $I(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function BI(t){for(const e of["models","tunedModels","publisherModels"])if(Mq(t,e))return t[e];return[]}function Mq(t,e){return t!==null&&typeof t=="object"&&e in t}function Oq(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Iq(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=Oq(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function UI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function jq(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const l=o.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function od(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function HI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dq(t){const e={},n=d(t,["responsesFile"]);n!=null&&A(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>SH(o))),A(e,["inlinedResponses"],a)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>xH(o))),A(e,["inlinedEmbedContentResponses"],a)}return e}function Lq(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&A(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&A(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function Rq(t){const e={},n=d(t,["format"]);n!=null&&A(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&A(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&A(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Pc(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&A(e,["state"],HI(i));const a=d(t,["metadata","createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["metadata","endTime"]);o!=null&&A(e,["endTime"],o);const s=d(t,["metadata","updateTime"]);s!=null&&A(e,["updateTime"],s);const l=d(t,["metadata","model"]);l!=null&&A(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&A(e,["dest"],Dq(qI(u))),e}function d2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],HI(i));const a=d(t,["error"]);a!=null&&A(e,["error"],VI(a));const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["startTime"]);s!=null&&A(e,["startTime"],s);const l=d(t,["endTime"]);l!=null&&A(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&A(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&A(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&A(e,["src"],Fq(f));const h=d(t,["outputConfig"]);return h!=null&&A(e,["dest"],Lq(qI(h))),e}function Fq(t){const e={},n=d(t,["instancesFormat"]);n!=null&&A(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&A(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&A(e,["bigqueryUri"],i),e}function $q(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&A(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>wH(t,o))),A(n,["requests","requests"],a)}return n}function Bq(t){const e={},n=d(t,["format"]);n!=null&&A(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&A(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&A(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Uq(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function qq(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function Hq(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],od(t,r)),n}function zq(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],od(t,r)),n}function Vq(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],Kq(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],Gq(r));const i=d(t,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],VH(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function Gq(t){const e={},n=d(t,["citationSources"]);return n!=null&&A(e,["citations"],n),e}function Wq(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function Yq(t){const e={},n=d(t,["values"]);return n!=null&&A(e,["values"],n),e}function Kq(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>IH(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function zI(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jH(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function Jq(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&A(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Xq(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&A(e,["outputConfig"],Rq(jq(i))),n}function l1(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["src"]);i!=null&&A(n,["batch","inputConfig"],$q(t,UI(t,i)));const a=d(e,["config"]);return a!=null&&Jq(a,n),n}function Qq(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],Ut(t,r));const i=d(e,["src"]);i!=null&&A(n,["inputConfig"],Bq(UI(t,i)));const a=d(e,["config"]);return a!=null&&Xq(a,n),n}function Zq(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&A(e,["batch","displayName"],r),n}function u1(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["src"]);i!=null&&A(n,["batch","inputConfig"],sH(t,i));const a=d(e,["config"]);return a!=null&&Zq(a,n),n}function eH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],od(t,r)),n}function tH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],od(t,r)),n}function nH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);return a!=null&&A(e,["error"],xS(a)),e}function rH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);return a!=null&&A(e,["error"],VI(a)),e}function iH(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function aH(t,e){const n={},r=d(e,["contents"]);r!=null&&A(n,["requests[]","request","content"],gS(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],oH(i,n)),n}function oH(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sH(t,e){const n={},r=d(e,["fileName"]);r!=null&&A(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&A(n,["requests"],aH(t,i)),n}function lH(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function uH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function cH(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function fH(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function dH(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function hH(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function pH(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],zI(Ur(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&A(r,["logprobs"],h);const p=d(e,["presencePenalty"]);p!=null&&A(r,["presencePenalty"],p);const y=d(e,["frequencyPenalty"]);y!=null&&A(r,["frequencyPenalty"],y);const x=d(e,["seed"]);x!=null&&A(r,["seed"],x);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&A(r,["responseSchema"],FH(vS(v)));const b=d(e,["responseJsonSchema"]);if(b!=null&&A(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let I=S;Array.isArray(I)&&(I=I.map($=>RH($))),A(n,["safetySettings"],I)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let I=ad(T);Array.isArray(I)&&(I=I.map($=>zH(id($)))),A(n,["tools"],I)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&A(n,["toolConfig"],HH(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&A(n,["cachedContent"],is(t,k));const E=d(e,["responseModalities"]);E!=null&&A(r,["responseModalities"],E);const M=d(e,["mediaResolution"]);M!=null&&A(r,["mediaResolution"],M);const j=d(e,["speechConfig"]);if(j!=null&&A(r,["speechConfig"],UH(yS(j))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&A(r,["thinkingConfig"],qH(U));const O=d(e,["imageConfig"]);return O!=null&&A(r,["imageConfig"],bH(O)),r}function AH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Vq(u))),A(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&A(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&A(e,["usageMetadata"],s),e}function mH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],od(t,r)),n}function gH(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],od(t,r)),n}function vH(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],iH(n)),e}function yH(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],_H(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function bH(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function xH(t){const e={},n=d(t,["response"]);n!=null&&A(e,["response"],$H(n));const r=d(t,["error"]);return r!=null&&A(e,["error"],xS(r)),e}function wH(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["request","model"],Ut(t,r));const i=d(e,["contents"]);if(i!=null){let o=la(i);Array.isArray(o)&&(o=o.map(s=>zI(s))),A(n,["request","contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["request","generationConfig"],pH(t,a,n)),n}function SH(t){const e={},n=d(t,["response"]);n!=null&&A(e,["response"],AH(n));const r=d(t,["error"]);return r!=null&&A(e,["error"],xS(r)),e}function _H(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function xS(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["code"]);r!=null&&A(e,["code"],r);const i=d(t,["message"]);return i!=null&&A(e,["message"],i),e}function VI(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["code"]);r!=null&&A(e,["code"],r);const i=d(t,["message"]);return i!=null&&A(e,["message"],i),e}function TH(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function CH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function NH(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function EH(t){const e={},n=d(t,["config"]);return n!=null&&CH(n,e),e}function kH(t){const e={},n=d(t,["config"]);return n!=null&&NH(n,e),e}function PH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Pc(o))),A(e,["batchJobs"],a)}return e}function MH(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>d2(o))),A(e,["batchJobs"],a)}return e}function OH(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>BH(i))),A(e,["speakerVoiceConfigs"],r)}return e}function IH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],YH(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],Uq(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],lH(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],cH(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function jH(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],KH(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],qq(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],uH(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],fH(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function DH(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function LH(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],TH(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function RH(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&A(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function FH(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&A(e,["maximum"],h);const p=d(t,["minItems"]);p!=null&&A(e,["minItems"],p);const y=d(t,["minLength"]);y!=null&&A(e,["minLength"],y);const x=d(t,["minProperties"]);x!=null&&A(e,["minProperties"],x);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const v=d(t,["nullable"]);v!=null&&A(e,["nullable"],v);const b=d(t,["pattern"]);b!=null&&A(e,["pattern"],b);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function $H(t){const e={},n=d(t,["embedding"]);n!=null&&A(e,["embedding"],Yq(n));const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function BH(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],GI(r)),e}function UH(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],GI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],OH(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function qH(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function HH(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],dH(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],LH(r)),e}function zH(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>hH(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],yH(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],vH(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],GH());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],Wq(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function VH(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WH(i))),A(e,["urlMetadata"],r)}return e}function GH(){return{}}function WH(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function YH(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function KH(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function GI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],DH(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(mu||(mu={}));class mA{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JH extends ku{constructor(e){super(),this.apiClient=e,this.create=async n=>{var r,i;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const a=n.src;if(!(Array.isArray(n.src)||a.inlinedRequests!==void 0))return this.createInternal(n);const s=this.createInlinedGenerateContentRequest(n),l=s.path,u=s.body,c=l1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Pc(h))},this.createEmbeddings=async n=>{var r,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const s=this.createInlinedEmbedContentRequest(n),l=s.path,u=s.body,c=u1(this.apiClient,n)._query||{};return this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()).then(h=>Pc(h))},this.list=async(n={})=>new mA(mu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=l1(this.apiClient,e),r=n._url,i=ot("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const p=f.request;p.systemInstruction=h,f.request=p}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}createInlinedEmbedContentRequest(e){const n=u1(this.apiClient,e),r=n._url,i=ot("{model}:asyncBatchEmbedContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];delete s.config;for(const c of l){const f=Object.assign({},c),h=f.request;for(const p in f)p!=="request"&&(h[p]=f[p],delete f[p]);u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),o=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Qq(this.apiClient,e);return s=ot("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>d2(c))}else{const u=l1(this.apiClient,e);return s=ot("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Pc(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=u1(this.apiClient,e);return a=ot("{model}:asyncBatchEmbedContent",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Pc(l))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=gH(this.apiClient,e);return s=ot("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>d2(c))}else{const u=mH(this.apiClient,e);return s=ot("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>Pc(c))}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=zq(this.apiClient,e);o=ot("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Hq(this.apiClient,e);o=ot("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=kH(e);return s=ot("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=MH(c),h=new aE;return Object.assign(h,f),h})}else{const u=EH(e);return s=ot("batches",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=PH(c),h=new aE;return Object.assign(h,f),h})}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=tH(this.apiClient,e);return s=ot("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>rH(c))}else{const u=eH(this.apiClient,e);return s=ot("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>nH(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XH(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function QH(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],XH(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function ZH(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function ez(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function gg(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["model"]);i!=null&&A(e,["model"],i);const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&A(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&A(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function vg(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["model"]);i!=null&&A(e,["model"],i);const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["updateTime"]);o!=null&&A(e,["updateTime"],o);const s=d(t,["expireTime"]);s!=null&&A(e,["expireTime"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function tz(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function nz(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function uE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$z(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function cE(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Bz(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function rz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let c=la(o);Array.isArray(c)&&(c=c.map(f=>uE(f))),A(e,["contents"],c)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&A(e,["systemInstruction"],uE(Ur(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>Vz(f))),A(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&A(e,["toolConfig"],Hz(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function iz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&A(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&A(e,["displayName"],a);const o=d(t,["contents"]);if(e!==void 0&&o!=null){let f=la(o);Array.isArray(f)&&(f=f.map(h=>cE(h))),A(e,["contents"],f)}const s=d(t,["systemInstruction"]);e!==void 0&&s!=null&&A(e,["systemInstruction"],cE(Ur(s)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Gz(h))),A(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&A(e,["toolConfig"],zz(u));const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&A(e,["encryption_spec","kmsKeyName"],c),n}function az(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],OI(t,r));const i=d(e,["config"]);return i!=null&&rz(i,n),n}function oz(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["model"],OI(t,r));const i=d(e,["config"]);return i!=null&&iz(i,n),n}function sz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],is(t,r)),n}function lz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],is(t,r)),n}function uz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function cz(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function fz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function dz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function hz(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function pz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function Az(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function mz(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function gz(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function vz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function yz(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function bz(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function xz(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function wz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],is(t,r)),n}function Sz(t,e){const n={},r=d(e,["name"]);return r!=null&&A(n,["_url","name"],is(t,r)),n}function _z(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],QH(n)),e}function Tz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],fz(n)),e}function Cz(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],dz(n)),e}function Nz(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],kz(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Ez(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],Pz(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function kz(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function Pz(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function Mz(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function Oz(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function Iz(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function jz(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function Dz(t){const e={},n=d(t,["config"]);return n!=null&&Iz(n,e),e}function Lz(t){const e={},n=d(t,["config"]);return n!=null&&jz(n,e),e}function Rz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>gg(o))),A(e,["cachedContents"],a)}return e}function Fz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>vg(o))),A(e,["cachedContents"],a)}return e}function $z(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],Zz(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],ZH(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],pz(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],mz(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function Bz(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],eV(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],ez(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],Az(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],gz(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function Uz(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],Mz(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function qz(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],Oz(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function Hz(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],vz(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],Uz(r)),e}function zz(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],yz(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],qz(r)),e}function Vz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>bz(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],Nz(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],Tz(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],Xz());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],tz(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function Gz(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>xz(h))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],Ez(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],Cz(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],hz(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],_z(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],Qz());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],nz(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function Wz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),n}function Yz(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&A(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&A(e,["expireTime"],i),n}function Kz(t,e){const n={},r=d(e,["name"]);r!=null&&A(n,["_url","name"],is(t,r));const i=d(e,["config"]);return i!=null&&Wz(i,n),n}function Jz(t,e){const n={},r=d(e,["name"]);r!=null&&A(n,["_url","name"],is(t,r));const i=d(e,["config"]);return i!=null&&Yz(i,n),n}function Xz(){return{}}function Qz(){return{}}function Zz(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function eV(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tV extends ku{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mA(mu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=oz(this.apiClient,e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>vg(c))}else{const u=az(this.apiClient,e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Sz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>vg(c))}else{const u=wz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=lz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=cz(c),h=new rE;return Object.assign(h,f),h})}else{const u=sz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=uz(c),h=new rE;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Jz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>vg(c))}else{const u=Kz(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>gg(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Lz(e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Fz(c),h=new iE;return Object.assign(h,f),h})}else{const u=Dz(e);return s=ot("cachedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=Rz(c),h=new iE;return Object.assign(h,f),h})}}}function fE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bn(t){return this instanceof bn?(this.v=t,this):new bn(t)}function of(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function s(p,y){r[p]&&(i[p]=function(x){return new Promise(function(w,v){a.push([p,x,w,v])>1||l(p,x)})},y&&(i[p]=y(i[p])))}function l(p,y){try{u(r[p](y))}catch(x){h(a[0][3],x)}}function u(p){p.value instanceof bn?Promise.resolve(p.value.v).then(c,f):h(a[0][2],p)}function c(p){l("next",p)}function f(p){l("throw",p)}function h(p,y){p(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Hh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fE=="function"?fE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nV(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:WI(n)}function WI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function rV(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function dE(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!WI(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class iV{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new aV(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class aV{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),rV(a)}async sendMessage(e){var n;await this.sendPromise;const r=Ur(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,s;const l=await i,u=(o=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const p=u?[u]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ur(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?dE(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return of(this,arguments,function*(){var o,s,l,u;const c=[];try{for(var f=!0,h=Hh(e),p;p=yield bn(h.next()),o=p.done,!o;f=!0){u=p.value,f=!1;const y=u;if(nV(y)){const x=(i=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;x!==void 0&&c.push(x)}yield yield bn(y)}}catch(y){s={error:y}}finally{try{!f&&!o&&(l=h.return)&&(yield bn(l.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...dE(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oV(t){const e={},n=d(t,["file"]);return n!=null&&A(e,["file"],dV(n)),e}function sV(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function lV(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","file"],FI(n)),e}function uV(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function h2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&A(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&A(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&A(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&A(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&A(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&A(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&A(e,["state"],h);const p=d(t,["source"]);p!=null&&A(e,["source"],p);const y=d(t,["videoMetadata"]);y!=null&&A(e,["videoMetadata"],y);const x=d(t,["error"]);return x!=null&&A(e,["error"],cV(x)),e}function cV(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["message"]);r!=null&&A(e,["message"],r);const i=d(t,["code"]);return i!=null&&A(e,["code"],i),e}function fV(t){const e={},n=d(t,["details"]);n!=null&&A(e,["details"],n);const r=d(t,["message"]);r!=null&&A(e,["message"],r);const i=d(t,["code"]);return i!=null&&A(e,["code"],i),e}function dV(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["mimeType"]);i!=null&&A(e,["mimeType"],i);const a=d(t,["sizeBytes"]);a!=null&&A(e,["sizeBytes"],a);const o=d(t,["createTime"]);o!=null&&A(e,["createTime"],o);const s=d(t,["expirationTime"]);s!=null&&A(e,["expirationTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["sha256Hash"]);u!=null&&A(e,["sha256Hash"],u);const c=d(t,["uri"]);c!=null&&A(e,["uri"],c);const f=d(t,["downloadUri"]);f!=null&&A(e,["downloadUri"],f);const h=d(t,["state"]);h!=null&&A(e,["state"],h);const p=d(t,["source"]);p!=null&&A(e,["source"],p);const y=d(t,["videoMetadata"]);y!=null&&A(e,["videoMetadata"],y);const x=d(t,["error"]);return x!=null&&A(e,["error"],fV(x)),e}function hV(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","file"],FI(n)),e}function pV(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&A(e,["_query","pageToken"],i),n}function AV(t){const e={},n=d(t,["config"]);return n!=null&&pV(n,e),e}function mV(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>h2(o))),A(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gV extends ku{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new mA(mu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>h2(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=AV(e);return a=ot("files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=mV(l),c=new xq;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=oV(e);return a=ot("upload/v1beta/files",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=sV(l),c=new wq;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=hV(e);return a=ot("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>h2(l))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=lV(e);return a=ot("files/{file}",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=uV(l),c=new Sq;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vV(){return{}}function yV(){return{}}function bV(){return{}}function xV(){return{}}function wV(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function SV(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);r!=null&&A(e,["mimeType"],r);const i=d(t,["sourceMetadata"]);return i!=null&&A(e,["sourceMetadata"],AG(i)),e}function hE(){return{}}function pE(){return{}}function _V(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],wV(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function TV(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function CV(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function NV(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function EV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function kV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function PV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function MV(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function OV(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function IV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>IG(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function jV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jG(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function DV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>DG(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function LV(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>LG(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function RV(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],VG(r)),e}function FV(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],GG(r)),e}function $V(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function BV(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function UV(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function qV(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function HV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function zV(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function VV(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function YI(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function KI(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function GV(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function WV(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function YV(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function KV(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function JV(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],_V(n)),e}function XV(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],$V(n)),e}function QV(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],BV(n)),e}function ZV(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],tG(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function eG(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],nG(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function tG(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function nG(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function rG(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],YG(bS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","thinkingConfig"],JG(h));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],p);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&A(e,["setup","systemInstruction"],DV(Ur(y)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let k=ad(x);Array.isArray(k)&&(k=k.map(E=>QG(id(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],HG(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&A(e,["setup","inputAudioTranscription"],hE());const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&A(e,["setup","outputAudioTranscription"],hE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],UG(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],RV(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],$G(C)),n}function iG(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],KG(bS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","thinkingConfig"],XG(h));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],p);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&A(e,["setup","systemInstruction"],LV(Ur(y)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let k=ad(x);Array.isArray(k)&&(k=k.map(E=>ZG(id(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],zG(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&A(e,["setup","inputAudioTranscription"],pE());const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&A(e,["setup","outputAudioTranscription"],pE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],qG(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],FV(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],BG(C)),n}function aG(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],Ut(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],rG(i,n)),n}function oG(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],Ut(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],iG(i,n)),n}function sG(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fW(i))),A(e,["weightedPrompts"],r)}return e}function JI(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ej(i))),A(e,["weightedPrompts"],r)}return e}function p2(t){const e={},n=d(t,["setup"]);n!=null&&A(e,["setup"],XI(n));const r=d(t,["clientContent"]);r!=null&&A(e,["clientContent"],JI(r));const i=d(t,["musicGenerationConfig"]);i!=null&&A(e,["musicGenerationConfig"],QI(i));const a=d(t,["playbackControl"]);return a!=null&&A(e,["playbackControl"],a),e}function XI(t){const e={},n=d(t,["model"]);return n!=null&&A(e,["model"],n),e}function lG(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["filteredReason"]);return r!=null&&A(e,["filteredReason"],r),e}function uG(t){const e={},n=d(t,["temperature"]);n!=null&&A(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&A(e,["topK"],r);const i=d(t,["seed"]);i!=null&&A(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&A(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&A(e,["bpm"],o);const s=d(t,["density"]);s!=null&&A(e,["density"],s);const l=d(t,["brightness"]);l!=null&&A(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&A(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&A(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&A(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&A(e,["onlyBassAndDrums"],h);const p=d(t,["musicGenerationMode"]);return p!=null&&A(e,["musicGenerationMode"],p),e}function QI(t){const e={},n=d(t,["temperature"]);n!=null&&A(e,["temperature"],n);const r=d(t,["topK"]);r!=null&&A(e,["topK"],r);const i=d(t,["seed"]);i!=null&&A(e,["seed"],i);const a=d(t,["guidance"]);a!=null&&A(e,["guidance"],a);const o=d(t,["bpm"]);o!=null&&A(e,["bpm"],o);const s=d(t,["density"]);s!=null&&A(e,["density"],s);const l=d(t,["brightness"]);l!=null&&A(e,["brightness"],l);const u=d(t,["scale"]);u!=null&&A(e,["scale"],u);const c=d(t,["muteBass"]);c!=null&&A(e,["muteBass"],c);const f=d(t,["muteDrums"]);f!=null&&A(e,["muteDrums"],f);const h=d(t,["onlyBassAndDrums"]);h!=null&&A(e,["onlyBassAndDrums"],h);const p=d(t,["musicGenerationMode"]);return p!=null&&A(e,["musicGenerationMode"],p),e}function cG(t){const e={},n=d(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>SV(i))),A(e,["audioChunks"],r)}return e}function fG(t){const e={};d(t,["setupComplete"])!=null&&A(e,["setupComplete"],dG());const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],cG(r));const i=d(t,["filteredPrompt"]);return i!=null&&A(e,["filteredPrompt"],lG(i)),e}function dG(){return{}}function hG(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&A(e,["musicGenerationConfig"],QI(n)),e}function pG(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ej(i))),A(e,["weightedPrompts"],r)}return e}function AG(t){const e={},n=d(t,["clientContent"]);n!=null&&A(e,["clientContent"],sG(n));const r=d(t,["musicGenerationConfig"]);return r!=null&&A(e,["musicGenerationConfig"],uG(r)),e}function mG(t){const e={},n=d(t,["media"]);if(n!=null){let u=II(n);Array.isArray(u)&&(u=u.map(c=>c)),A(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&A(e,["audio"],DI(r));const i=d(t,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&A(e,["video"],jI(a));const o=d(t,["text"]);return o!=null&&A(e,["text"],o),d(t,["activityStart"])!=null&&A(e,["activityStart"],bV()),d(t,["activityEnd"])!=null&&A(e,["activityEnd"],vV()),e}function gG(t){const e={},n=d(t,["media"]);if(n!=null){let u=II(n);Array.isArray(u)&&(u=u.map(c=>c)),A(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&A(e,["audio"],DI(r));const i=d(t,["audioStreamEnd"]);i!=null&&A(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&A(e,["video"],jI(a));const o=d(t,["text"]);return o!=null&&A(e,["text"],o),d(t,["activityStart"])!=null&&A(e,["activityStart"],xV()),d(t,["activityEnd"])!=null&&A(e,["activityEnd"],yV()),e}function vG(t){const e={},n=d(t,["modelTurn"]);n!=null&&A(e,["modelTurn"],IV(n));const r=d(t,["turnComplete"]);r!=null&&A(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&A(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&A(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&A(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&A(e,["inputTranscription"],AE(s));const l=d(t,["outputTranscription"]);l!=null&&A(e,["outputTranscription"],AE(l));const u=d(t,["urlContextMetadata"]);u!=null&&A(e,["urlContextMetadata"],eW(u));const c=d(t,["turnCompleteReason"]);c!=null&&A(e,["turnCompleteReason"],c);const f=d(t,["waitingForInput"]);return f!=null&&A(e,["waitingForInput"],f),e}function yG(t){const e={},n=d(t,["modelTurn"]);n!=null&&A(e,["modelTurn"],jV(n));const r=d(t,["turnComplete"]);r!=null&&A(e,["turnComplete"],r);const i=d(t,["interrupted"]);i!=null&&A(e,["interrupted"],i);const a=d(t,["groundingMetadata"]);a!=null&&A(e,["groundingMetadata"],a);const o=d(t,["generationComplete"]);o!=null&&A(e,["generationComplete"],o);const s=d(t,["inputTranscription"]);s!=null&&A(e,["inputTranscription"],mE(s));const l=d(t,["outputTranscription"]);l!=null&&A(e,["outputTranscription"],mE(l));const u=d(t,["turnCompleteReason"]);u!=null&&A(e,["turnCompleteReason"],u);const c=d(t,["waitingForInput"]);return c!=null&&A(e,["waitingForInput"],c),e}function bG(t){const e={},n=d(t,["timeLeft"]);return n!=null&&A(e,["timeLeft"],n),e}function xG(t){const e={},n=d(t,["timeLeft"]);return n!=null&&A(e,["timeLeft"],n),e}function wG(t){const e={};d(t,["setupComplete"])!=null&&A(e,["setupComplete"],CG());const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],vG(r));const i=d(t,["toolCall"]);i!=null&&A(e,["toolCall"],PG(i));const a=d(t,["toolCallCancellation"]);a!=null&&A(e,["toolCallCancellation"],EG(a));const o=d(t,["usageMetadata"]);o!=null&&A(e,["usageMetadata"],iW(o));const s=d(t,["goAway"]);s!=null&&A(e,["goAway"],bG(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&A(e,["sessionResumptionUpdate"],_G(l)),e}function SG(t){const e={},n=d(t,["setupComplete"]);n!=null&&A(e,["setupComplete"],NG(n));const r=d(t,["serverContent"]);r!=null&&A(e,["serverContent"],yG(r));const i=d(t,["toolCall"]);i!=null&&A(e,["toolCall"],MG(i));const a=d(t,["toolCallCancellation"]);a!=null&&A(e,["toolCallCancellation"],kG(a));const o=d(t,["usageMetadata"]);o!=null&&A(e,["usageMetadata"],aW(o));const s=d(t,["goAway"]);s!=null&&A(e,["goAway"],xG(s));const l=d(t,["sessionResumptionUpdate"]);return l!=null&&A(e,["sessionResumptionUpdate"],TG(l)),e}function _G(t){const e={},n=d(t,["newHandle"]);n!=null&&A(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&A(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&A(e,["lastConsumedClientMessageIndex"],i),e}function TG(t){const e={},n=d(t,["newHandle"]);n!=null&&A(e,["newHandle"],n);const r=d(t,["resumable"]);r!=null&&A(e,["resumable"],r);const i=d(t,["lastConsumedClientMessageIndex"]);return i!=null&&A(e,["lastConsumedClientMessageIndex"],i),e}function CG(){return{}}function NG(t){const e={},n=d(t,["sessionId"]);return n!=null&&A(e,["sessionId"],n),e}function EG(t){const e={},n=d(t,["ids"]);return n!=null&&A(e,["ids"],n),e}function kG(t){const e={},n=d(t,["ids"]);return n!=null&&A(e,["ids"],n),e}function PG(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>YI(i))),A(e,["functionCalls"],r)}return e}function MG(t){const e={},n=d(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KI(i))),A(e,["functionCalls"],r)}return e}function Dm(t){const e={},n=d(t,["modality"]);n!=null&&A(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function Lm(t){const e={},n=d(t,["modality"]);n!=null&&A(e,["modality"],n);const r=d(t,["tokenCount"]);return r!=null&&A(e,["tokenCount"],r),e}function OG(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>WG(i))),A(e,["speakerVoiceConfigs"],r)}return e}function IG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],oW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],NV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],qV(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],YI(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function jG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],sW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],EV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],HV(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],KI(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function DG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],lW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],kV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],zV(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],GV(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function LG(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],uW(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],PV(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],VV(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],WV(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function RG(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function FG(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function $G(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function BG(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function UG(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],TV(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function qG(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],CV(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function HG(t){const e={},n=d(t,["handle"]);if(n!=null&&A(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zG(t){const e={},n=d(t,["handle"]);n!=null&&A(e,["handle"],n);const r=d(t,["transparent"]);return r!=null&&A(e,["transparent"],r),e}function VG(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function GG(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function WG(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],ZI(r)),e}function YG(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],ZI(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],OG(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function KG(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&A(e,["voiceConfig"],cW(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function JG(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function XG(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function QG(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>YV(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],ZV(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],XV(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],tW());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],MV(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function ZG(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>KV(h))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],eG(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],QV(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],UV(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],JV(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],nW());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],OV(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function AE(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["finished"]);return r!=null&&A(e,["finished"],r),e}function mE(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["finished"]);return r!=null&&A(e,["finished"],r),e}function eW(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rW(i))),A(e,["urlMetadata"],r)}return e}function tW(){return{}}function nW(){return{}}function rW(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function iW(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&A(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&A(e,["cachedContentTokenCount"],r);const i=d(t,["responseTokenCount"]);i!=null&&A(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&A(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&A(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&A(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Dm(p))),A(e,["promptTokensDetails"],h)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Dm(p))),A(e,["cacheTokensDetails"],h)}const c=d(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Dm(p))),A(e,["responseTokensDetails"],h)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Dm(p))),A(e,["toolUsePromptTokensDetails"],h)}return e}function aW(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&A(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&A(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&A(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&A(e,["toolUsePromptTokenCount"],a);const o=d(t,["thoughtsTokenCount"]);o!=null&&A(e,["thoughtsTokenCount"],o);const s=d(t,["totalTokenCount"]);s!=null&&A(e,["totalTokenCount"],s);const l=d(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(y=>Lm(y))),A(e,["promptTokensDetails"],p)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>Lm(y))),A(e,["cacheTokensDetails"],p)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>Lm(y))),A(e,["responseTokensDetails"],p)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>Lm(y))),A(e,["toolUsePromptTokensDetails"],p)}const h=d(t,["trafficType"]);return h!=null&&A(e,["trafficType"],h),e}function oW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function sW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function lW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function uW(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function ZI(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],RG(n)),e}function cW(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],FG(n)),e}function fW(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["weight"]);return r!=null&&A(e,["weight"],r),e}function ej(t){const e={},n=d(t,["text"]);n!=null&&A(e,["text"],n);const r=d(t,["weight"]);return r!=null&&A(e,["weight"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dW(t){const e={},n=d(t,["apiKeyString"]);return n!=null&&A(e,["apiKeyString"],n),e}function hW(t){const e={},n=d(t,["apiKeyConfig"]);n!=null&&A(e,["apiKeyConfig"],dW(n));const r=d(t,["authType"]);r!=null&&A(e,["authType"],r);const i=d(t,["googleServiceAccountConfig"]);i!=null&&A(e,["googleServiceAccountConfig"],i);const a=d(t,["httpBasicAuthConfig"]);a!=null&&A(e,["httpBasicAuthConfig"],a);const o=d(t,["oauthConfig"]);o!=null&&A(e,["oauthConfig"],o);const s=d(t,["oidcConfig"]);return s!=null&&A(e,["oidcConfig"],s),e}function pW(t){const e={},n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function AW(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function mW(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function gW(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["data"]);r!=null&&A(e,["data"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function vW(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],PW(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],xW(r));const i=d(t,["tokenCount"]);i!=null&&A(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],JK(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function yW(t){const e={},n=d(t,["content"]);n!=null&&A(e,["content"],MW(n));const r=d(t,["citationMetadata"]);r!=null&&A(e,["citationMetadata"],wW(r));const i=d(t,["finishMessage"]);i!=null&&A(e,["finishMessage"],i);const a=d(t,["finishReason"]);a!=null&&A(e,["finishReason"],a);const o=d(t,["urlContextMetadata"]);o!=null&&A(e,["urlContextMetadata"],XK(o));const s=d(t,["avgLogprobs"]);s!=null&&A(e,["avgLogprobs"],s);const l=d(t,["groundingMetadata"]);l!=null&&A(e,["groundingMetadata"],l);const u=d(t,["index"]);u!=null&&A(e,["index"],u);const c=d(t,["logprobsResult"]);c!=null&&A(e,["logprobsResult"],c);const f=d(t,["safetyRatings"]);return f!=null&&A(e,["safetyRatings"],f),e}function bW(t){const e={},n=d(t,["checkpointId"]);n!=null&&A(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&A(e,["epoch"],r);const i=d(t,["step"]);return i!=null&&A(e,["step"],i),e}function xW(t){const e={},n=d(t,["citationSources"]);return n!=null&&A(e,["citations"],n),e}function wW(t){const e={},n=d(t,["citations"]);return n!=null&&A(e,["citations"],n),e}function SW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["contents"]);if(i!=null){let a=la(i);Array.isArray(a)&&(a=a.map(o=>sd(o))),A(n,["contents"],a)}return n}function _W(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);return r!=null&&A(e,["tokensInfo"],r),e}function TW(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function CW(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function NW(t){const e={},n=d(t,["values"]);return n!=null&&A(e,["values"],n),e}function EW(t){const e={},n=d(t,["values"]);n!=null&&A(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&A(e,["statistics"],kW(r)),e}function kW(t){const e={},n=d(t,["truncated"]);n!=null&&A(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&A(e,["tokenCount"],r),e}function PW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>lK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function MW(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>uK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function Ev(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function sd(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>fK(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function OW(t){const e={},n=d(t,["controlType"]);n!=null&&A(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&A(e,["computeControl"],r),e}function IW(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function jW(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&A(e,["systemInstruction"],sd(Ur(r)));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>aj(s))),A(e,["tools"],o)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&A(e,["generationConfig"],a),n}function DW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["contents"]);if(i!=null){let o=la(i);Array.isArray(o)&&(o=o.map(s=>Ev(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&IW(a),n}function LW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["contents"]);if(i!=null){let o=la(i);Array.isArray(o)&&(o=o.map(s=>sd(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&jW(a,n),n}function RW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&A(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&A(e,["cachedContentTokenCount"],i),e}function FW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&A(e,["totalTokens"],r),e}function $W(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ut(t,r)),n}function BW(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ut(t,r)),n}function UW(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function qW(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&A(e,["sdkHttpResponse"],n),e}function HW(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function zW(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function VW(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&A(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&A(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&A(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&A(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&A(e,["parameters","includeRaiReason"],h);const p=d(t,["language"]);e!==void 0&&p!=null&&A(e,["parameters","language"],p);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&A(e,["parameters","outputOptions","mimeType"],y);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&A(e,["parameters","outputOptions","compressionQuality"],x);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&A(e,["parameters","addWatermark"],w);const v=d(t,["editMode"]);e!==void 0&&v!=null&&A(e,["parameters","editMode"],v);const b=d(t,["baseSteps"]);return e!==void 0&&b!=null&&A(e,["parameters","editConfig","baseSteps"],b),n}function GW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["referenceImages"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>yK(l))),A(n,["instances[0]","referenceImages"],s)}const o=d(e,["config"]);return o!=null&&VW(o,n),n}function WW(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kv(a))),A(e,["generatedImages"],i)}return e}function YW(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&A(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function KW(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&A(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&A(e,["instances[]","title"],i);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&A(e,["parameters","outputDimensionality"],a);const o=d(t,["mimeType"]);e!==void 0&&o!=null&&A(e,["instances[]","mimeType"],o);const s=d(t,["autoTruncate"]);return e!==void 0&&s!=null&&A(e,["parameters","autoTruncate"],s),n}function JW(){return{}}function XW(t){const e={},n=d(t,["billableCharacterCount"]);return n!=null&&A(e,["billableCharacterCount"],n),e}function QW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["contents"]);i!=null&&A(n,["requests[]","content"],gS(t,i));const a=d(e,["config"]);a!=null&&YW(a,n);const o=d(e,["model"]);return o!==void 0&&A(n,["requests[]","model"],Ut(t,o)),n}function ZW(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["contents"]);i!=null&&A(n,["instances[]","content"],gS(t,i));const a=d(e,["config"]);return a!=null&&KW(a,n),n}function eY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>NW(o))),A(e,["embeddings"],a)}return d(t,["metadata"])!=null&&A(e,["metadata"],JW()),e}function tY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>EW(o))),A(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&A(e,["metadata"],XW(i)),e}function nY(t){const e={},n=d(t,["endpoint"]);n!=null&&A(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&A(e,["deployedModelId"],r),e}function rY(t){const e={},n=d(t,["excludeDomains"]);return n!=null&&A(e,["excludeDomains"],n),e}function iY(t){const e={},n=d(t,["label"]);n!=null&&A(e,["label"],n);const r=d(t,["score"]);return r!=null&&A(e,["score"],r),e}function aY(t){const e={},n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function oY(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function sY(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function lY(t){const e={},n=d(t,["displayName"]);n!=null&&A(e,["displayName"],n);const r=d(t,["fileUri"]);r!=null&&A(e,["fileUri"],r);const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function uY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function cY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function fY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function dY(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function hY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function pY(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["allowedFunctionNames"]);return r!=null&&A(e,["allowedFunctionNames"],r),e}function AY(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function mY(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=d(t,["description"]);n!=null&&A(e,["description"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["parameters"]);i!=null&&A(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&A(e,["parametersJsonSchema"],a);const o=d(t,["response"]);o!=null&&A(e,["response"],o);const s=d(t,["responseJsonSchema"]);return s!=null&&A(e,["responseJsonSchema"],s),e}function gY(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],Ev(Ur(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&A(r,["logprobs"],h);const p=d(e,["presencePenalty"]);p!=null&&A(r,["presencePenalty"],p);const y=d(e,["frequencyPenalty"]);y!=null&&A(r,["frequencyPenalty"],y);const x=d(e,["seed"]);x!=null&&A(r,["seed"],x);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&A(r,["responseSchema"],_K(vS(v)));const b=d(e,["responseJsonSchema"]);if(b!=null&&A(r,["responseJsonSchema"],b),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=d(e,["safetySettings"]);if(n!==void 0&&S!=null){let I=S;Array.isArray(I)&&(I=I.map($=>wK($))),A(n,["safetySettings"],I)}const T=d(e,["tools"]);if(n!==void 0&&T!=null){let I=ad(T);Array.isArray(I)&&(I=I.map($=>BK(id($)))),A(n,["tools"],I)}const C=d(e,["toolConfig"]);if(n!==void 0&&C!=null&&A(n,["toolConfig"],FK(C)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&A(n,["cachedContent"],is(t,k));const E=d(e,["responseModalities"]);E!=null&&A(r,["responseModalities"],E);const M=d(e,["mediaResolution"]);M!=null&&A(r,["mediaResolution"],M);const j=d(e,["speechConfig"]);if(j!=null&&A(r,["speechConfig"],OK(yS(j))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=d(e,["thinkingConfig"]);U!=null&&A(r,["thinkingConfig"],LK(U));const O=d(e,["imageConfig"]);return O!=null&&A(r,["imageConfig"],GY(O)),r}function vY(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&A(n,["systemInstruction"],sd(Ur(i)));const a=d(e,["temperature"]);a!=null&&A(r,["temperature"],a);const o=d(e,["topP"]);o!=null&&A(r,["topP"],o);const s=d(e,["topK"]);s!=null&&A(r,["topK"],s);const l=d(e,["candidateCount"]);l!=null&&A(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&A(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&A(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&A(r,["responseLogprobs"],f);const h=d(e,["logprobs"]);h!=null&&A(r,["logprobs"],h);const p=d(e,["presencePenalty"]);p!=null&&A(r,["presencePenalty"],p);const y=d(e,["frequencyPenalty"]);y!=null&&A(r,["frequencyPenalty"],y);const x=d(e,["seed"]);x!=null&&A(r,["seed"],x);const w=d(e,["responseMimeType"]);w!=null&&A(r,["responseMimeType"],w);const v=d(e,["responseSchema"]);v!=null&&A(r,["responseSchema"],TK(vS(v)));const b=d(e,["responseJsonSchema"]);b!=null&&A(r,["responseJsonSchema"],b);const S=d(e,["routingConfig"]);S!=null&&A(r,["routingConfig"],S);const T=d(e,["modelSelectionConfig"]);T!=null&&A(r,["modelConfig"],oK(T));const C=d(e,["safetySettings"]);if(n!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(B=>SK(B))),A(n,["safetySettings"],R)}const k=d(e,["tools"]);if(n!==void 0&&k!=null){let R=ad(k);Array.isArray(R)&&(R=R.map(B=>aj(id(B)))),A(n,["tools"],R)}const E=d(e,["toolConfig"]);n!==void 0&&E!=null&&A(n,["toolConfig"],$K(E));const M=d(e,["labels"]);n!==void 0&&M!=null&&A(n,["labels"],M);const j=d(e,["cachedContent"]);n!==void 0&&j!=null&&A(n,["cachedContent"],is(t,j));const U=d(e,["responseModalities"]);U!=null&&A(r,["responseModalities"],U);const O=d(e,["mediaResolution"]);O!=null&&A(r,["mediaResolution"],O);const I=d(e,["speechConfig"]);I!=null&&A(r,["speechConfig"],IK(yS(I)));const $=d(e,["audioTimestamp"]);$!=null&&A(r,["audioTimestamp"],$);const F=d(e,["thinkingConfig"]);F!=null&&A(r,["thinkingConfig"],RK(F));const H=d(e,["imageConfig"]);return H!=null&&A(r,["imageConfig"],WY(H)),r}function gE(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["contents"]);if(i!=null){let o=la(i);Array.isArray(o)&&(o=o.map(s=>Ev(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["generationConfig"],gY(t,a,n)),n}function vE(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["contents"]);if(i!=null){let o=la(i);Array.isArray(o)&&(o=o.map(s=>sd(s))),A(n,["contents"],o)}const a=d(e,["config"]);return a!=null&&A(n,["generationConfig"],vY(t,a,n)),n}function yE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>vW(u))),A(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&A(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&A(e,["promptFeedback"],a);const o=d(t,["responseId"]);o!=null&&A(e,["responseId"],o);const s=d(t,["usageMetadata"]);return s!=null&&A(e,["usageMetadata"],s),e}function bE(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>yW(c))),A(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&A(e,["createTime"],i);const a=d(t,["modelVersion"]);a!=null&&A(e,["modelVersion"],a);const o=d(t,["promptFeedback"]);o!=null&&A(e,["promptFeedback"],o);const s=d(t,["responseId"]);s!=null&&A(e,["responseId"],s);const l=d(t,["usageMetadata"]);return l!=null&&A(e,["usageMetadata"],l),e}function yY(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&A(e,["parameters","aspectRatio"],i);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&A(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&A(e,["parameters","safetySetting"],o);const s=d(t,["personGeneration"]);e!==void 0&&s!=null&&A(e,["parameters","personGeneration"],s);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&A(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&A(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&A(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&A(e,["parameters","outputOptions","mimeType"],f);const h=d(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&A(e,["parameters","outputOptions","compressionQuality"],h),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const p=d(t,["imageSize"]);if(e!==void 0&&p!=null&&A(e,["parameters","sampleImageSize"],p),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function bY(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&A(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&A(e,["parameters","sampleCount"],a);const o=d(t,["aspectRatio"]);e!==void 0&&o!=null&&A(e,["parameters","aspectRatio"],o);const s=d(t,["guidanceScale"]);e!==void 0&&s!=null&&A(e,["parameters","guidanceScale"],s);const l=d(t,["seed"]);e!==void 0&&l!=null&&A(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&A(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&A(e,["parameters","includeSafetyAttributes"],f);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&A(e,["parameters","includeRaiReason"],h);const p=d(t,["language"]);e!==void 0&&p!=null&&A(e,["parameters","language"],p);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&A(e,["parameters","outputOptions","mimeType"],y);const x=d(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&A(e,["parameters","outputOptions","compressionQuality"],x);const w=d(t,["addWatermark"]);e!==void 0&&w!=null&&A(e,["parameters","addWatermark"],w);const v=d(t,["imageSize"]);e!==void 0&&v!=null&&A(e,["parameters","sampleImageSize"],v);const b=d(t,["enhancePrompt"]);return e!==void 0&&b!=null&&A(e,["parameters","enhancePrompt"],b),n}function xY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&yY(a,n),n}function wY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&bY(a,n),n}function SY(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>DY(o))),A(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],rj(i)),e}function _Y(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>kv(o))),A(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&A(e,["positivePromptSafetyAttributes"],ij(i)),e}function TY(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&A(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&A(e,["parameters","aspectRatio"],a);const o=d(t,["resolution"]);e!==void 0&&o!=null&&A(e,["parameters","resolution"],o);const s=d(t,["personGeneration"]);if(e!==void 0&&s!=null&&A(e,["parameters","personGeneration"],s),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&A(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&A(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(d(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function CY(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&A(e,["parameters","storageUri"],i);const a=d(t,["fps"]);e!==void 0&&a!=null&&A(e,["parameters","fps"],a);const o=d(t,["durationSeconds"]);e!==void 0&&o!=null&&A(e,["parameters","durationSeconds"],o);const s=d(t,["seed"]);e!==void 0&&s!=null&&A(e,["parameters","seed"],s);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&A(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&A(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&A(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&A(e,["parameters","pubsubTopic"],f);const h=d(t,["negativePrompt"]);e!==void 0&&h!=null&&A(e,["parameters","negativePrompt"],h);const p=d(t,["enhancePrompt"]);e!==void 0&&p!=null&&A(e,["parameters","enhancePrompt"],p);const y=d(t,["generateAudio"]);e!==void 0&&y!=null&&A(e,["parameters","generateAudio"],y);const x=d(t,["lastFrame"]);e!==void 0&&x!=null&&A(e,["instances[0]","lastFrame"],Fa(x));const w=d(t,["referenceImages"]);if(e!==void 0&&w!=null){let S=w;Array.isArray(S)&&(S=S.map(T=>aJ(T))),A(e,["instances[0]","referenceImages"],S)}const v=d(t,["mask"]);e!==void 0&&v!=null&&A(e,["instances[0]","mask"],iJ(v));const b=d(t,["compressionQuality"]);return e!==void 0&&b!=null&&A(e,["parameters","compressionQuality"],b),n}function NY(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response","generateVideoResponse"]);return o!=null&&A(e,["response"],MY(o)),e}function EY(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["metadata"]);r!=null&&A(e,["metadata"],r);const i=d(t,["done"]);i!=null&&A(e,["done"],i);const a=d(t,["error"]);a!=null&&A(e,["error"],a);const o=d(t,["response"]);return o!=null&&A(e,["response"],OY(o)),e}function kY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["image"]);if(a!=null&&A(n,["instances[0]","image"],nj(a)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=d(e,["source"]);o!=null&&IY(o,n);const s=d(e,["config"]);return s!=null&&TY(s,n),n}function PY(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["prompt"]);i!=null&&A(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&A(n,["instances[0]","image"],Fa(a));const o=d(e,["video"]);o!=null&&A(n,["instances[0]","video"],oj(o));const s=d(e,["source"]);s!=null&&jY(s,n);const l=d(e,["config"]);return l!=null&&CY(l,n),n}function MY(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>RY(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function OY(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>FY(o))),A(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&A(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&A(e,["raiMediaFilteredReasons"],i),e}function IY(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);if(e!==void 0&&i!=null&&A(e,["instances[0]","image"],nj(i)),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function jY(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],Fa(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&A(e,["instances[0]","video"],oj(a)),n}function DY(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["image"],YY(n));const r=d(t,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&A(e,["safetyAttributes"],rj(i)),e}function kv(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["image"],tj(n));const r=d(t,["raiFilteredReason"]);r!=null&&A(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&A(e,["safetyAttributes"],ij(i));const a=d(t,["prompt"]);return a!=null&&A(e,["enhancedPrompt"],a),e}function LY(t){const e={},n=d(t,["_self"]);n!=null&&A(e,["mask"],tj(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>iY(a))),A(e,["labels"],i)}return e}function RY(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],nJ(n)),e}function FY(t){const e={},n=d(t,["_self"]);return n!=null&&A(e,["video"],rJ(n)),e}function $Y(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ut(t,r)),n}function BY(t,e){const n={},r=d(e,["model"]);return r!=null&&A(n,["_url","name"],Ut(t,r)),n}function UY(t){const e={},n=d(t,["authConfig"]);return n!=null&&A(e,["authConfig"],hW(n)),e}function qY(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],HW(n)),e}function HY(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],zW(n)),e}function zY(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],KY(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VY(t){const e={},n=d(t,["timeRangeFilter"]);n!=null&&A(e,["timeRangeFilter"],JY(n));const r=d(t,["excludeDomains"]);return r!=null&&A(e,["excludeDomains"],r),e}function GY(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function WY(t){const e={},n=d(t,["aspectRatio"]);return n!=null&&A(e,["aspectRatio"],n),e}function YY(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&A(e,["imageBytes"],Pu(n));const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function tj(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["imageBytes"],Pu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function nj(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&A(e,["bytesBase64Encoded"],Pu(n));const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function Fa(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&A(e,["bytesBase64Encoded"],Pu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function KY(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function JY(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function XY(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function QY(t){const e={},n=d(t,["latitude"]);n!=null&&A(e,["latitude"],n);const r=d(t,["longitude"]);return r!=null&&A(e,["longitude"],r),e}function ZY(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&A(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&A(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&A(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&A(n,["_url","models_url"],$I(t,s)),r}function eK(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&A(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&A(n,["_query","pageToken"],a);const o=d(e,["filter"]);n!==void 0&&o!=null&&A(n,["_query","filter"],o);const s=d(e,["queryBase"]);return n!==void 0&&s!=null&&A(n,["_url","models_url"],$I(t,s)),r}function tK(t,e){const n={},r=d(e,["config"]);return r!=null&&ZY(t,r,n),n}function nK(t,e){const n={},r=d(e,["config"]);return r!=null&&eK(t,r,n),n}function rK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=BI(i);Array.isArray(a)&&(a=a.map(o=>A2(o))),A(e,["models"],a)}return e}function iK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=BI(i);Array.isArray(a)&&(a=a.map(o=>m2(o))),A(e,["models"],a)}return e}function aK(t){const e={},n=d(t,["maskMode"]);n!=null&&A(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&A(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&A(e,["dilation"],i),e}function A2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["version"]);a!=null&&A(e,["version"],a);const o=d(t,["_self"]);o!=null&&A(e,["tunedModelInfo"],UK(o));const s=d(t,["inputTokenLimit"]);s!=null&&A(e,["inputTokenLimit"],s);const l=d(t,["outputTokenLimit"]);l!=null&&A(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);return u!=null&&A(e,["supportedActions"],u),e}function m2(t){const e={},n=d(t,["name"]);n!=null&&A(e,["name"],n);const r=d(t,["displayName"]);r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["versionId"]);a!=null&&A(e,["version"],a);const o=d(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>nY(h))),A(e,["endpoints"],f)}const s=d(t,["labels"]);s!=null&&A(e,["labels"],s);const l=d(t,["_self"]);l!=null&&A(e,["tunedModelInfo"],qK(l));const u=d(t,["defaultCheckpointId"]);u!=null&&A(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>bW(h))),A(e,["checkpoints"],f)}return e}function oK(t){const e={},n=d(t,["featureSelectionPreference"]);return n!=null&&A(e,["featureSelectionPreference"],n),e}function sK(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>MK(i))),A(e,["speakerVoiceConfigs"],r)}return e}function lK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],oJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],pW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],aY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],uY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function uK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],sJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],AW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],oY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],cY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function cK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],lJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],mW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],sY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],fY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function fK(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],uJ(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],gW(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],lY(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],dY(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function dK(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function hK(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function pK(t){const e={},n=d(t,["productImage"]);return n!=null&&A(e,["image"],Fa(n)),e}function AK(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&A(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&A(e,["parameters","editConfig","baseSteps"],i);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&A(e,["parameters","storageUri"],a);const o=d(t,["seed"]);e!==void 0&&o!=null&&A(e,["parameters","seed"],o);const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&A(e,["parameters","safetySetting"],s);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&A(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&A(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&A(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&A(e,["parameters","outputOptions","compressionQuality"],f);const h=d(t,["enhancePrompt"]);return e!==void 0&&h!=null&&A(e,["parameters","enhancePrompt"],h),n}function mK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["source"]);i!=null&&vK(i,n);const a=d(e,["config"]);return a!=null&&AK(a,n),n}function gK(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kv(i))),A(e,["generatedImages"],r)}return e}function vK(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&A(e,["instances[0]","personImage","image"],Fa(i));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(s=>pK(s))),A(e,["instances[0]","productImages"],o)}return n}function yK(t){const e={},n=d(t,["referenceImage"]);n!=null&&A(e,["referenceImage"],Fa(n));const r=d(t,["referenceId"]);r!=null&&A(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&A(e,["referenceType"],i);const a=d(t,["maskImageConfig"]);a!=null&&A(e,["maskImageConfig"],aK(a));const o=d(t,["controlImageConfig"]);o!=null&&A(e,["controlImageConfig"],OW(o));const s=d(t,["styleImageConfig"]);s!=null&&A(e,["styleImageConfig"],jK(s));const l=d(t,["subjectImageConfig"]);return l!=null&&A(e,["subjectImageConfig"],DK(l)),e}function bK(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],XY(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function xK(t){const e={},n=d(t,["latLng"]);n!=null&&A(e,["latLng"],QY(n));const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function rj(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&A(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function ij(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&A(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&A(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&A(e,["contentType"],i),e}function wK(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=d(t,["category"]);n!=null&&A(e,["category"],n);const r=d(t,["threshold"]);return r!=null&&A(e,["threshold"],r),e}function SK(t){const e={},n=d(t,["method"]);n!=null&&A(e,["method"],n);const r=d(t,["category"]);r!=null&&A(e,["category"],r);const i=d(t,["threshold"]);return i!=null&&A(e,["threshold"],i),e}function _K(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&A(e,["maximum"],h);const p=d(t,["minItems"]);p!=null&&A(e,["minItems"],p);const y=d(t,["minLength"]);y!=null&&A(e,["minLength"],y);const x=d(t,["minProperties"]);x!=null&&A(e,["minProperties"],x);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const v=d(t,["nullable"]);v!=null&&A(e,["nullable"],v);const b=d(t,["pattern"]);b!=null&&A(e,["pattern"],b);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function TK(t){const e={},n=d(t,["anyOf"]);n!=null&&A(e,["anyOf"],n);const r=d(t,["default"]);r!=null&&A(e,["default"],r);const i=d(t,["description"]);i!=null&&A(e,["description"],i);const a=d(t,["enum"]);a!=null&&A(e,["enum"],a);const o=d(t,["example"]);o!=null&&A(e,["example"],o);const s=d(t,["format"]);s!=null&&A(e,["format"],s);const l=d(t,["items"]);l!=null&&A(e,["items"],l);const u=d(t,["maxItems"]);u!=null&&A(e,["maxItems"],u);const c=d(t,["maxLength"]);c!=null&&A(e,["maxLength"],c);const f=d(t,["maxProperties"]);f!=null&&A(e,["maxProperties"],f);const h=d(t,["maximum"]);h!=null&&A(e,["maximum"],h);const p=d(t,["minItems"]);p!=null&&A(e,["minItems"],p);const y=d(t,["minLength"]);y!=null&&A(e,["minLength"],y);const x=d(t,["minProperties"]);x!=null&&A(e,["minProperties"],x);const w=d(t,["minimum"]);w!=null&&A(e,["minimum"],w);const v=d(t,["nullable"]);v!=null&&A(e,["nullable"],v);const b=d(t,["pattern"]);b!=null&&A(e,["pattern"],b);const S=d(t,["properties"]);S!=null&&A(e,["properties"],S);const T=d(t,["propertyOrdering"]);T!=null&&A(e,["propertyOrdering"],T);const C=d(t,["required"]);C!=null&&A(e,["required"],C);const k=d(t,["title"]);k!=null&&A(e,["title"],k);const E=d(t,["type"]);return E!=null&&A(e,["type"],E),e}function CK(t){const e={},n=d(t,["image"]);return n!=null&&A(e,["image"],Fa(n)),e}function NK(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&A(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&A(e,["parameters","maxPredictions"],i);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&A(e,["parameters","confidenceThreshold"],a);const o=d(t,["maskDilation"]);e!==void 0&&o!=null&&A(e,["parameters","maskDilation"],o);const s=d(t,["binaryColorThreshold"]);return e!==void 0&&s!=null&&A(e,["parameters","binaryColorThreshold"],s),n}function EK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["source"]);i!=null&&PK(i,n);const a=d(e,["config"]);return a!=null&&NK(a,n),n}function kK(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>LY(i))),A(e,["generatedMasks"],r)}return e}function PK(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&A(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&A(e,["instances[0]","image"],Fa(i));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&A(e,["instances[0]","scribble"],CK(a)),n}function MK(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],sj(r)),e}function OK(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],sj(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],sK(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function IK(t){const e={},n=d(t,["voiceConfig"]);if(n!=null&&A(e,["voiceConfig"],cJ(n)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=d(t,["languageCode"]);return r!=null&&A(e,["languageCode"],r),e}function jK(t){const e={},n=d(t,["styleDescription"]);return n!=null&&A(e,["styleDescription"],n),e}function DK(t){const e={},n=d(t,["subjectType"]);n!=null&&A(e,["subjectType"],n);const r=d(t,["subjectDescription"]);return r!=null&&A(e,["subjectDescription"],r),e}function LK(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function RK(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function FK(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],hY(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],bK(r)),e}function $K(t){const e={},n=d(t,["functionCallingConfig"]);n!=null&&A(e,["functionCallingConfig"],pY(n));const r=d(t,["retrievalConfig"]);return r!=null&&A(e,["retrievalConfig"],xK(r)),e}function BK(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>AY(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],zY(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],qY(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],QK());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],TW(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function aj(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>mY(h))),A(e,["functionDeclarations"],f)}const r=d(t,["retrieval"]);r!=null&&A(e,["retrieval"],r);const i=d(t,["googleSearch"]);i!=null&&A(e,["googleSearch"],VY(i));const a=d(t,["googleSearchRetrieval"]);a!=null&&A(e,["googleSearchRetrieval"],HY(a));const o=d(t,["enterpriseWebSearch"]);o!=null&&A(e,["enterpriseWebSearch"],rY(o));const s=d(t,["googleMaps"]);s!=null&&A(e,["googleMaps"],UY(s)),d(t,["urlContext"])!=null&&A(e,["urlContext"],ZK());const u=d(t,["computerUse"]);u!=null&&A(e,["computerUse"],CW(u));const c=d(t,["codeExecution"]);return c!=null&&A(e,["codeExecution"],c),e}function UK(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&A(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function qK(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&A(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&A(e,["updateTime"],i),e}function HK(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),n}function zK(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&A(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&A(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&A(e,["defaultCheckpointId"],a),n}function VK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","name"],Ut(t,r));const i=d(e,["config"]);return i!=null&&HK(i,n),n}function GK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["config"]);return i!=null&&zK(i,n),n}function WK(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&A(e,["parameters","storageUri"],r);const i=d(t,["includeRaiReason"]);e!==void 0&&i!=null&&A(e,["parameters","includeRaiReason"],i);const a=d(t,["outputMimeType"]);e!==void 0&&a!=null&&A(e,["parameters","outputOptions","mimeType"],a);const o=d(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&A(e,["parameters","outputOptions","compressionQuality"],o);const s=d(t,["enhanceInputImage"]);e!==void 0&&s!=null&&A(e,["parameters","upscaleConfig","enhanceInputImage"],s);const l=d(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&A(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=d(t,["numberOfImages"]);e!==void 0&&u!=null&&A(e,["parameters","sampleCount"],u);const c=d(t,["mode"]);return e!==void 0&&c!=null&&A(e,["parameters","mode"],c),n}function YK(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["_url","model"],Ut(t,r));const i=d(e,["image"]);i!=null&&A(n,["instances[0]","image"],Fa(i));const a=d(e,["upscaleFactor"]);a!=null&&A(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=d(e,["config"]);return o!=null&&WK(o,n),n}function KK(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kv(a))),A(e,["generatedImages"],i)}return e}function JK(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eJ(i))),A(e,["urlMetadata"],r)}return e}function XK(t){const e={},n=d(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tJ(i))),A(e,["urlMetadata"],r)}return e}function QK(){return{}}function ZK(){return{}}function eJ(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function tJ(t){const e={},n=d(t,["retrievedUrl"]);n!=null&&A(e,["retrievedUrl"],n);const r=d(t,["urlRetrievalStatus"]);return r!=null&&A(e,["urlRetrievalStatus"],r),e}function nJ(t){const e={},n=d(t,["video","uri"]);n!=null&&A(e,["uri"],n);const r=d(t,["video","encodedVideo"]);r!=null&&A(e,["videoBytes"],Pu(r));const i=d(t,["encoding"]);return i!=null&&A(e,["mimeType"],i),e}function rJ(t){const e={},n=d(t,["gcsUri"]);n!=null&&A(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&A(e,["videoBytes"],Pu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function iJ(t){const e={},n=d(t,["image"]);n!=null&&A(e,["_self"],Fa(n));const r=d(t,["maskMode"]);return r!=null&&A(e,["maskMode"],r),e}function aJ(t){const e={},n=d(t,["image"]);n!=null&&A(e,["image"],Fa(n));const r=d(t,["referenceType"]);return r!=null&&A(e,["referenceType"],r),e}function oJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function sJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function lJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function uJ(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function oj(t){const e={},n=d(t,["uri"]);n!=null&&A(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&A(e,["bytesBase64Encoded"],Pu(r));const i=d(t,["mimeType"]);return i!=null&&A(e,["mimeType"],i),e}function sj(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],dK(n)),e}function cJ(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],hK(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fJ="Content-Type",dJ="X-Server-Timeout",hJ="User-Agent",g2="x-goog-api-client",pJ="1.22.0",AJ=`google-genai-sdk/${pJ}`,mJ="v1beta1",gJ="v1beta",xE=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vJ{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:mJ,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:gJ,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,s]of Object.entries(e.queryParams))i.searchParams.append(o,String(s));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&yJ(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wE(i),new c2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wE(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return of(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:s,value:l}=yield bn(i.read());if(s){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=a.decode(l,{stream:!0});try{const f=JSON.parse(u);if("error"in f){const h=JSON.parse(JSON.stringify(f.error)),p=h.status,y=h.code,x=`got status: ${p}. ${JSON.stringify(f)}`;if(y>=400&&y<600)throw new Nv({message:x,status:y})}}catch(f){if(f.name==="ApiError")throw f}o+=u;let c=o.match(xE);for(;c;){const f=c[1];try{const h=new Response(f,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield bn(new c2(h)),o=o.slice(c[0].length),c=o.match(xE)}catch(h){throw new Error(`exception parsing stream chunk ${f}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=AJ+" "+this.clientOptions.userAgentExtra;return e[hJ]=n,e[g2]=n,e[fJ]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(dJ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l=await this.fetchUploadUrl(i,n);return a.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:ot("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(s===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function wE(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nv({message:i,status:n}):new Error(i)}}function yJ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const s=Object.assign({},a);for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const u=o[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bJ="mcp_used/unknown";let xJ=!1;function lj(t){for(const e of t)if(wJ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xJ}function uj(t){var e;const n=(e=t[g2])!==null&&e!==void 0?e:"";t[g2]=(n+` ${bJ}`).trimStart()}function wJ(t){return t!==null&&typeof t=="object"&&t instanceof wS}function SJ(t,e=100){return of(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield bn(t.listTools({cursor:r}));for(const o of a.tools)yield yield bn(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class wS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new wS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,Hh(SJ(c))),u;u=await l.next(),e=u.done,!e;s=!0){i=u.value,s=!1;const f=i;o.push(f);const h=f.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=c}}catch(f){n={error:f}}finally{try{!s&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Iq(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _J(t,e,n){const r=new Tq;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=fG(i);Object.assign(r,a),e(r)}class TJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=EJ(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},p=this.apiClient,y={onopen:h,onmessage:S=>{_J(p,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},x=this.webSocketFactory.create(l,NJ(o),y);x.connect(),await c;const w=Ut(this.apiClient,e.model),v=XI({model:w}),b=p2({setup:v});return x.send(JSON.stringify(b)),new CJ(x,this.apiClient)}}class CJ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=pG(e),r=JI(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hG(e),r=p2(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=p2({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vc.PLAY)}pause(){this.sendPlaybackControl(Vc.PAUSE)}stop(){this.sendPlaybackControl(Vc.STOP)}resetContext(){this.sendPlaybackControl(Vc.RESET_CONTEXT)}close(){this.conn.close()}}function NJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function EJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kJ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function PJ(t,e,n){const r=new _q;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=SG(a);Object.assign(r,o)}else{const o=wG(a);Object.assign(r,o)}e(r)}class MJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new TJ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,s;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&lj(e.config.tools)&&uj(f);const h=DJ(f);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const j=this.apiClient.getApiKey();let U="BidiGenerateContent",O="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${O}=${j}`}let p=()=>{};const y=new Promise(j=>{p=j}),x=e.callbacks,w=function(){var j;(j=x==null?void 0:x.onopen)===null||j===void 0||j.call(x),p({})},v=this.apiClient,b={onopen:w,onmessage:j=>{PJ(v,x.onmessage,j)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(j){}},S=this.webSocketFactory.create(c,jJ(h),b);S.connect(),await y;let T=Ut(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const j=this.apiClient.getProject(),U=this.apiClient.getLocation();T=`projects/${j}/locations/${U}/`+T}let C={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xg.AUDIO]}:e.config.responseModalities=[Xg.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[],E=[];for(const j of k)if(this.isCallableTool(j)){const U=j;E.push(await U.tool())}else E.push(j);E.length>0&&(e.config.tools=E);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=oG(this.apiClient,M):C=aG(this.apiClient,M),delete C.config,S.send(JSON.stringify(C)),new IJ(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const OJ={turnComplete:!0};class IJ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=la(n.turns),e.isVertexAI()?r=r.map(i=>sd(i)):r=r.map(i=>Ev(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(kJ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},OJ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:gG(e)}:n={realtimeInput:mG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function DJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SE=10;function _E(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(sf(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function sf(t){return"callTool"in t&&typeof t.callTool=="function"}function LJ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>sf(i)))!==null&&r!==void 0?r:!1}function RJ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!sf(i)))!==null&&r!==void 0?r:!1}function TE(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FJ extends ku{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!LJ(n)||_E(n.config))return await this.generateContentInternal(l);if(RJ(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const f=la(l.contents),h=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:SE;let p=0;for(;p<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const y=u.candidates[0].content,x=[];for(const w of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(sf(w)){const b=await w.callTool(u.functionCalls);x.push(...b)}p++,c={role:"user",parts:x},l.contents=la(l.contents),l.contents.push(y),l.contents.push(c),TE(l.config)&&(f.push(y),f.push(c))}return TE(l.config)&&(u.automaticFunctionCallingHistory=f),u},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),_E(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:o.push(l);let s;return a?s={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new mA(mu.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async l=>sf(l)?await l.tool():l)),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(s.config.tools=o,e.config&&e.config.tools&&lj(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),uj(u),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(sf(o)){const s=o,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,s)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:SE;let o=!1,s=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){var h,p;return of(this,arguments,function*(){for(var y,x,w,v;s<a;){o&&(s++,o=!1);const C=yield bn(u.processParamsMaybeAddMcpUsage(f)),k=yield bn(u.generateContentStreamInternal(C)),E=[],M=[];try{for(var b=!0,S=(x=void 0,Hh(k)),T;T=yield bn(S.next()),y=T.done,!y;b=!0){v=T.value,b=!1;const j=v;if(yield yield bn(j),j.candidates&&(!((h=j.candidates[0])===null||h===void 0)&&h.content)){M.push(j.candidates[0].content);for(const U of(p=j.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(s<a&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(U.functionCall.name)){const O=yield bn(c.get(U.functionCall.name).callTool([U.functionCall]));E.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(j){x={error:j}}finally{try{!b&&!y&&(w=S.return)&&(yield bn(w.call(S)))}finally{if(x)throw x.error}}if(E.length>0){o=!0;const j=new oh;j.candidates=[{content:{role:"user",parts:E}}],yield yield bn(j);const U=[];U.push(...M),U.push({role:"user",parts:E});const O=la(f.contents).concat(U);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vE(this.apiClient,e);return s=ot("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=bE(c),h=new oh;return Object.assign(h,f),h})}else{const u=gE(this.apiClient,e);return s=ot("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=yE(c),h=new oh;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=vE(this.apiClient,e);return s=ot("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return of(this,arguments,function*(){var h,p,y,x;try{for(var w=!0,v=Hh(f),b;b=yield bn(v.next()),h=b.done,!h;w=!0){x=b.value,w=!1;const S=x,T=bE(yield bn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new oh;Object.assign(C,T),yield yield bn(C)}}catch(S){p={error:S}}finally{try{!w&&!h&&(y=v.return)&&(yield bn(y.call(v)))}finally{if(p)throw p.error}}})})}else{const u=gE(this.apiClient,e);return s=ot("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(f){return of(this,arguments,function*(){var h,p,y,x;try{for(var w=!0,v=Hh(f),b;b=yield bn(v.next()),h=b.done,!h;w=!0){x=b.value,w=!1;const S=x,T=yE(yield bn(S.json()));T.sdkHttpResponse={headers:S.headers};const C=new oh;Object.assign(C,T),yield yield bn(C)}}catch(S){p={error:S}}finally{try{!w&&!h&&(y=v.return)&&(yield bn(y.call(v)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=ZW(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=tY(c),h=new XN;return Object.assign(h,f),h})}else{const u=QW(this.apiClient,e);return s=ot("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=eY(c),h=new XN;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=wY(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=_Y(c),h=new QN;return Object.assign(h,f),h})}else{const u=xY(this.apiClient,e);return s=ot("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=SY(c),h=new QN;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=GW(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=WW(l),c=new mq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=YK(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=KK(l),c=new gq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=mK(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=gK(l),c=new vq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=EK(this.apiClient,e);return a=ot("{model}:predict",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=kK(l),c=new yq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=BY(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>m2(c))}else{const u=$Y(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>A2(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=nK(this.apiClient,e);return s=ot("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=iK(c),h=new ZN;return Object.assign(h,f),h})}else{const u=tK(this.apiClient,e);return s=ot("{models_url}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=rK(c),h=new ZN;return Object.assign(h,f),h})}}async update(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=GK(this.apiClient,e);return s=ot("{model}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>m2(c))}else{const u=VK(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>A2(c))}}async delete(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=BW(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=qW(c),h=new eE;return Object.assign(h,f),h})}else{const u=$W(this.apiClient,e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=UW(c),h=new eE;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=LW(this.apiClient,e);return s=ot("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=FW(c),h=new tE;return Object.assign(h,f),h})}else{const u=DW(this.apiClient,e);return s=ot("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=RW(c),h=new tE;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=SW(this.apiClient,e);return a=ot("{model}:computeTokens",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=_W(l),c=new bq;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=PY(this.apiClient,e);return s=ot("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=EY(c),h=new Qg;return Object.assign(h,f),h})}else{const u=kY(this.apiClient,e);return s=ot("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o.then(c=>{const f=NY(c),h=new Qg;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $J extends ku{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=hq(e);return s=ot("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else{const u=dq(e);return s=ot("{operationName}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=aq(e);return a=ot("{resourceName}:fetchPredictOperation",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(){return{}}function BJ(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["name"],n),e}function UJ(t){const e={},n=d(t,["disabled"]);n!=null&&A(e,["disabled"],n);const r=d(t,["startOfSpeechSensitivity"]);r!=null&&A(e,["startOfSpeechSensitivity"],r);const i=d(t,["endOfSpeechSensitivity"]);i!=null&&A(e,["endOfSpeechSensitivity"],i);const a=d(t,["prefixPaddingMs"]);a!=null&&A(e,["prefixPaddingMs"],a);const o=d(t,["silenceDurationMs"]);return o!=null&&A(e,["silenceDurationMs"],o),e}function qJ(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["data"]);n!=null&&A(e,["data"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function HJ(t){const e={},n=d(t,["environment"]);n!=null&&A(e,["environment"],n);const r=d(t,["excludedPredefinedFunctions"]);return r!=null&&A(e,["excludedPredefinedFunctions"],r),e}function zJ(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>iX(a))),A(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&A(e,["role"],r),e}function VJ(t){const e={},n=d(t,["triggerTokens"]);n!=null&&A(e,["triggerTokens"],n);const r=d(t,["slidingWindow"]);return r!=null&&A(e,["slidingWindow"],uX(r)),e}function GJ(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&A(n,["expireTime"],i);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&A(n,["newSessionExpireTime"],a);const o=d(e,["uses"]);n!==void 0&&o!=null&&A(n,["uses"],o);const s=d(e,["liveConnectConstraints"]);n!==void 0&&s!=null&&A(n,["bidiGenerateContentSetup"],nX(t,s));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&A(n,["fieldMask"],l),r}function WJ(t,e){const n={},r=d(e,["config"]);return r!=null&&A(n,["config"],GJ(t,r,n)),n}function YJ(t){const e={},n=d(t,["mode"]);n!=null&&A(e,["mode"],n);const r=d(t,["dynamicThreshold"]);return r!=null&&A(e,["dynamicThreshold"],r),e}function KJ(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&A(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&A(e,["mimeType"],r),e}function JJ(t){const e={},n=d(t,["id"]);n!=null&&A(e,["id"],n);const r=d(t,["args"]);r!=null&&A(e,["args"],r);const i=d(t,["name"]);return i!=null&&A(e,["name"],i),e}function XJ(t){const e={},n=d(t,["behavior"]);n!=null&&A(e,["behavior"],n);const r=d(t,["description"]);r!=null&&A(e,["description"],r);const i=d(t,["name"]);i!=null&&A(e,["name"],i);const a=d(t,["parameters"]);a!=null&&A(e,["parameters"],a);const o=d(t,["parametersJsonSchema"]);o!=null&&A(e,["parametersJsonSchema"],o);const s=d(t,["response"]);s!=null&&A(e,["response"],s);const l=d(t,["responseJsonSchema"]);return l!=null&&A(e,["responseJsonSchema"],l),e}function QJ(t){const e={},n=d(t,["dynamicRetrievalConfig"]);return n!=null&&A(e,["dynamicRetrievalConfig"],YJ(n)),e}function ZJ(t){const e={},n=d(t,["timeRangeFilter"]);if(n!=null&&A(e,["timeRangeFilter"],eX(n)),d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function eX(t){const e={},n=d(t,["startTime"]);n!=null&&A(e,["startTime"],n);const r=d(t,["endTime"]);return r!=null&&A(e,["endTime"],r),e}function tX(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&A(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&A(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&A(e,["setup","generationConfig","temperature"],a);const o=d(t,["topP"]);e!==void 0&&o!=null&&A(e,["setup","generationConfig","topP"],o);const s=d(t,["topK"]);e!==void 0&&s!=null&&A(e,["setup","generationConfig","topK"],s);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&A(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&A(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&A(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&A(e,["setup","generationConfig","speechConfig"],fX(bS(f)));const h=d(t,["thinkingConfig"]);e!==void 0&&h!=null&&A(e,["setup","generationConfig","thinkingConfig"],dX(h));const p=d(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&A(e,["setup","generationConfig","enableAffectiveDialog"],p);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&A(e,["setup","systemInstruction"],zJ(Ur(y)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let k=ad(x);Array.isArray(k)&&(k=k.map(E=>hX(id(E)))),A(e,["setup","tools"],k)}const w=d(t,["sessionResumption"]);e!==void 0&&w!=null&&A(e,["setup","sessionResumption"],lX(w));const v=d(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&A(e,["setup","inputAudioTranscription"],CE());const b=d(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&A(e,["setup","outputAudioTranscription"],CE());const S=d(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&A(e,["setup","realtimeInputConfig"],sX(S));const T=d(t,["contextWindowCompression"]);e!==void 0&&T!=null&&A(e,["setup","contextWindowCompression"],VJ(T));const C=d(t,["proactivity"]);return e!==void 0&&C!=null&&A(e,["setup","proactivity"],oX(C)),n}function nX(t,e){const n={},r=d(e,["model"]);r!=null&&A(n,["setup","model"],Ut(t,r));const i=d(e,["config"]);return i!=null&&A(n,["config"],tX(i,n)),n}function rX(t){const e={},n=d(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cX(i))),A(e,["speakerVoiceConfigs"],r)}return e}function iX(t){const e={},n=d(t,["videoMetadata"]);n!=null&&A(e,["videoMetadata"],AX(n));const r=d(t,["thought"]);r!=null&&A(e,["thought"],r);const i=d(t,["inlineData"]);i!=null&&A(e,["inlineData"],qJ(i));const a=d(t,["fileData"]);a!=null&&A(e,["fileData"],KJ(a));const o=d(t,["thoughtSignature"]);o!=null&&A(e,["thoughtSignature"],o);const s=d(t,["functionCall"]);s!=null&&A(e,["functionCall"],JJ(s));const l=d(t,["codeExecutionResult"]);l!=null&&A(e,["codeExecutionResult"],l);const u=d(t,["executableCode"]);u!=null&&A(e,["executableCode"],u);const c=d(t,["functionResponse"]);c!=null&&A(e,["functionResponse"],c);const f=d(t,["text"]);return f!=null&&A(e,["text"],f),e}function aX(t){const e={},n=d(t,["voiceName"]);return n!=null&&A(e,["voiceName"],n),e}function oX(t){const e={},n=d(t,["proactiveAudio"]);return n!=null&&A(e,["proactiveAudio"],n),e}function sX(t){const e={},n=d(t,["automaticActivityDetection"]);n!=null&&A(e,["automaticActivityDetection"],UJ(n));const r=d(t,["activityHandling"]);r!=null&&A(e,["activityHandling"],r);const i=d(t,["turnCoverage"]);return i!=null&&A(e,["turnCoverage"],i),e}function lX(t){const e={},n=d(t,["handle"]);if(n!=null&&A(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uX(t){const e={},n=d(t,["targetTokens"]);return n!=null&&A(e,["targetTokens"],n),e}function cX(t){const e={},n=d(t,["speaker"]);n!=null&&A(e,["speaker"],n);const r=d(t,["voiceConfig"]);return r!=null&&A(e,["voiceConfig"],cj(r)),e}function fX(t){const e={},n=d(t,["voiceConfig"]);n!=null&&A(e,["voiceConfig"],cj(n));const r=d(t,["multiSpeakerVoiceConfig"]);r!=null&&A(e,["multiSpeakerVoiceConfig"],rX(r));const i=d(t,["languageCode"]);return i!=null&&A(e,["languageCode"],i),e}function dX(t){const e={},n=d(t,["includeThoughts"]);n!=null&&A(e,["includeThoughts"],n);const r=d(t,["thinkingBudget"]);return r!=null&&A(e,["thinkingBudget"],r),e}function hX(t){const e={},n=d(t,["functionDeclarations"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>XJ(u))),A(e,["functionDeclarations"],l)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(t,["googleSearch"]);r!=null&&A(e,["googleSearch"],ZJ(r));const i=d(t,["googleSearchRetrieval"]);if(i!=null&&A(e,["googleSearchRetrieval"],QJ(i)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&A(e,["urlContext"],pX());const o=d(t,["computerUse"]);o!=null&&A(e,["computerUse"],HJ(o));const s=d(t,["codeExecution"]);return s!=null&&A(e,["codeExecution"],s),e}function pX(){return{}}function AX(t){const e={},n=d(t,["fps"]);n!=null&&A(e,["fps"],n);const r=d(t,["endOffset"]);r!=null&&A(e,["endOffset"],r);const i=d(t,["startOffset"]);return i!=null&&A(e,["startOffset"],i),e}function cj(t){const e={},n=d(t,["prebuiltVoiceConfig"]);return n!=null&&A(e,["prebuiltVoiceConfig"],aX(n)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function gX(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=mX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),s.length>0&&l.push(...s),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class vX extends ku{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=WJ(this.apiClient,e);a=ot("auth_tokens",s._url),o=s._query,delete s.config,delete s._url,delete s._query;const l=gX(s,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>BJ(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function bX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function xX(t,e){const n={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&A(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=d(t,["epochCount"]);e!==void 0&&i!=null&&A(e,["tuningTask","hyperparameters","epochCount"],i);const a=d(t,["learningRateMultiplier"]);if(a!=null&&A(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(t,["batchSize"]);e!==void 0&&o!=null&&A(e,["tuningTask","hyperparameters","batchSize"],o);const s=d(t,["learningRate"]);if(e!==void 0&&s!=null&&A(e,["tuningTask","hyperparameters","learningRate"],s),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function wX(t,e){const n={},r=d(t,["validationDataset"]);e!==void 0&&r!=null&&A(e,["supervisedTuningSpec"],BX(r,n));const i=d(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&A(e,["tunedModelDisplayName"],i);const a=d(t,["description"]);e!==void 0&&a!=null&&A(e,["description"],a);const o=d(t,["epochCount"]);e!==void 0&&o!=null&&A(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const s=d(t,["learningRateMultiplier"]);e!==void 0&&s!=null&&A(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=d(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&A(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=d(t,["adapterSize"]);if(e!==void 0&&u!=null&&A(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const c=d(t,["labels"]);return e!==void 0&&c!=null&&A(e,["labels"],c),n}function SX(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&A(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&A(e,["tuningTask","trainingData"],LX(i));const a=d(t,["config"]);return a!=null&&xX(a,e),e}function _X(t){const e={},n=d(t,["baseModel"]);n!=null&&A(e,["baseModel"],n);const r=d(t,["preTunedModel"]);r!=null&&A(e,["preTunedModel"],r);const i=d(t,["trainingDataset"]);i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],RX(i,e));const a=d(t,["config"]);return a!=null&&wX(a,e),e}function TX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function CX(t){const e={},n=d(t,["name"]);return n!=null&&A(e,["_url","name"],n),e}function NX(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function EX(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&A(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&A(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&A(e,["_query","filter"],a),n}function kX(t){const e={},n=d(t,["config"]);return n!=null&&NX(n,e),e}function PX(t){const e={},n=d(t,["config"]);return n!=null&&EX(n,e),e}function MX(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>fj(o))),A(e,["tuningJobs"],a)}return e}function OX(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&A(e,["nextPageToken"],r);const i=d(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>v2(o))),A(e,["tuningJobs"],a)}return e}function IX(t){const e={},n=d(t,["checkpointId"]);n!=null&&A(e,["checkpointId"],n);const r=d(t,["epoch"]);r!=null&&A(e,["epoch"],r);const i=d(t,["step"]);i!=null&&A(e,["step"],i);const a=d(t,["endpoint"]);return a!=null&&A(e,["endpoint"],a),e}function jX(t){const e={},n=d(t,["name"]);n!=null&&A(e,["model"],n);const r=d(t,["name"]);return r!=null&&A(e,["endpoint"],r),e}function DX(t){const e={},n=d(t,["model"]);n!=null&&A(e,["model"],n);const r=d(t,["endpoint"]);r!=null&&A(e,["endpoint"],r);const i=d(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>IX(o))),A(e,["checkpoints"],a)}return e}function LX(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=d(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>FX(i))),A(e,["examples","examples"],r)}return e}function RX(t,e){const n={},r=d(t,["gcsUri"]);e!==void 0&&r!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],i),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function FX(t){const e={},n=d(t,["textInput"]);n!=null&&A(e,["textInput"],n);const r=d(t,["output"]);return r!=null&&A(e,["output"],r),e}function fj(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],RI(i));const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["tuningTask","startTime"]);o!=null&&A(e,["startTime"],o);const s=d(t,["tuningTask","completeTime"]);s!=null&&A(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["description"]);u!=null&&A(e,["description"],u);const c=d(t,["baseModel"]);c!=null&&A(e,["baseModel"],c);const f=d(t,["_self"]);f!=null&&A(e,["tunedModel"],jX(f));const h=d(t,["customBaseModel"]);h!=null&&A(e,["customBaseModel"],h);const p=d(t,["experiment"]);p!=null&&A(e,["experiment"],p);const y=d(t,["labels"]);y!=null&&A(e,["labels"],y);const x=d(t,["outputUri"]);x!=null&&A(e,["outputUri"],x);const w=d(t,["pipelineJob"]);w!=null&&A(e,["pipelineJob"],w);const v=d(t,["serviceAccount"]);v!=null&&A(e,["serviceAccount"],v);const b=d(t,["tunedModelDisplayName"]);b!=null&&A(e,["tunedModelDisplayName"],b);const S=d(t,["veoTuningSpec"]);return S!=null&&A(e,["veoTuningSpec"],S),e}function v2(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["state"]);i!=null&&A(e,["state"],RI(i));const a=d(t,["createTime"]);a!=null&&A(e,["createTime"],a);const o=d(t,["startTime"]);o!=null&&A(e,["startTime"],o);const s=d(t,["endTime"]);s!=null&&A(e,["endTime"],s);const l=d(t,["updateTime"]);l!=null&&A(e,["updateTime"],l);const u=d(t,["error"]);u!=null&&A(e,["error"],u);const c=d(t,["description"]);c!=null&&A(e,["description"],c);const f=d(t,["baseModel"]);f!=null&&A(e,["baseModel"],f);const h=d(t,["tunedModel"]);h!=null&&A(e,["tunedModel"],DX(h));const p=d(t,["preTunedModel"]);p!=null&&A(e,["preTunedModel"],p);const y=d(t,["supervisedTuningSpec"]);y!=null&&A(e,["supervisedTuningSpec"],y);const x=d(t,["tuningDataStats"]);x!=null&&A(e,["tuningDataStats"],x);const w=d(t,["encryptionSpec"]);w!=null&&A(e,["encryptionSpec"],w);const v=d(t,["partnerModelTuningSpec"]);v!=null&&A(e,["partnerModelTuningSpec"],v);const b=d(t,["customBaseModel"]);b!=null&&A(e,["customBaseModel"],b);const S=d(t,["experiment"]);S!=null&&A(e,["experiment"],S);const T=d(t,["labels"]);T!=null&&A(e,["labels"],T);const C=d(t,["outputUri"]);C!=null&&A(e,["outputUri"],C);const k=d(t,["pipelineJob"]);k!=null&&A(e,["pipelineJob"],k);const E=d(t,["serviceAccount"]);E!=null&&A(e,["serviceAccount"],E);const M=d(t,["tunedModelDisplayName"]);M!=null&&A(e,["tunedModelDisplayName"],M);const j=d(t,["veoTuningSpec"]);return j!=null&&A(e,["veoTuningSpec"],j),e}function $X(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&A(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&A(e,["name"],r);const i=d(t,["metadata"]);i!=null&&A(e,["metadata"],i);const a=d(t,["done"]);a!=null&&A(e,["done"],a);const o=d(t,["error"]);return o!=null&&A(e,["error"],o),e}function BX(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&A(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&A(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UX extends ku{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new mA(mu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:u2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=CX(e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>v2(c))}else{const u=TX(e);return s=ot("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>fj(c))}}async listInternal(e){var n,r,i,a;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=PX(e);return s=ot("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=OX(c),h=new nE;return Object.assign(h,f),h})}else{const u=kX(e);return s=ot("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),o.then(c=>{const f=MX(c),h=new nE;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,a;let o="",s={};if(this.apiClient.isVertexAI()){const l=bX(e);o=ot("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=yX(e);o=ot("{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const s=_X(e);return a=ot("tuningJobs",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>v2(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=SX(e);return a=ot("tunedModels",s._url),o=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>$X(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qX{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const HX=1024*1024*8,zX=3,VX=1e3,GX=2,c1="x-goog-upload-status";async function WX(t,e,n){var r,i,a;let o=0,s=0,l=new c2(new Response),u="upload";for(o=t.size;s<o;){const f=Math.min(HX,o-s),h=t.slice(s,s+f);s+f>=o&&(u+=", finalize");let p=0,y=VX;for(;p<zX&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[c1]));)p++,await KX(y),y=y*GX;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[c1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((a=l==null?void 0:l.headers)===null||a===void 0?void 0:a[c1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function YX(t){return{size:t.size,type:t.type}}function KX(t){return new Promise(e=>setTimeout(e,t))}class JX{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WX(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YX(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XX{create(e,n,r){return new QX(e,n,r)}}class QX{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NE="x-goog-api-key";class ZX{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(NE)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(NE,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eQ="gl-node/";class tQ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=iq(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new ZX(this.apiKey);this.apiClient=new vJ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:eQ+"web",uploader:new JX,downloader:new qX}),this.models=new FJ(this.apiClient),this.live=new MJ(this.apiClient,i,new XX),this.batches=new JH(this.apiClient),this.chats=new iV(this.models,this.apiClient),this.caches=new tV(this.apiClient),this.files=new gV(this.apiClient),this.operations=new $J(this.apiClient),this.authTokens=new vX(this.apiClient),this.tunings=new UX(this.apiClient)}}var nQ={};const EE=nQ.API_KEY,rQ=({product:t,variants:e,stockMap:n,onClose:r,onSelectVariant:i,t:a,isReturnMode:o})=>m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[a("selectVariantFor"),' "',t.name,'"']}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-2",children:e.map(s=>{const l=n.get(s.id)||0,u=!o&&l<=0;return m.jsxs("div",{onClick:()=>!u&&i(s),className:`flex items-center p-3 border dark:border-slate-700 rounded-lg gap-4 ${u?"bg-gray-100 dark:bg-slate-700 opacity-50 cursor-not-allowed":"bg-white dark:bg-slate-900 hover:bg-teal-50 dark:hover:bg-slate-700 cursor-pointer"}`,children:[m.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-16 object-cover rounded-md bg-gray-200"}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:s.name}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s.price.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:`font-semibold ${l>s.lowStockThreshold?"text-green-600 dark:text-green-400":"text-orange-500 dark:text-orange-400"}`,children:[a("stock"),": ",l]}),u&&m.jsx("p",{className:"text-xs font-bold text-red-600 dark:text-red-400",children:a("outOfStock")})]})]},s.id)})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")})})]})}),iQ=({onSave:t,onClose:e,t:n})=>{const[r,i]=ne.useState(""),[a,o]=ne.useState(1),[s,l]=ne.useState(""),u=c=>{if(c.preventDefault(),!r||a===""||a<=0||s===""||s<=0){alert(n("fillAllFields"));return}t(r,a,s)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:n("enterItemDetails")}),m.jsxs("form",{onSubmit:u,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("customItemName")}),m.jsx("input",{id:"itemName",type:"text",value:r,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:n("itemNamePlaceholder"),required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemQuantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("quantity")}),m.jsx("input",{id:"itemQuantity",type:"number",value:a,onChange:c=>o(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"itemPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:n("unitPriceLabel")}),m.jsx("input",{id:"itemPrice",type:"number",value:s,onChange:c=>l(c.target.value===""?"":parseFloat(c.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:n("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:n("add")})]})]})]})})},aQ=({store:t,user:e,products:n,variants:r,customers:i,categories:a,sales:o,stockMap:s,variantMap:l,variantsByProduct:u,barcodeMap:c,cart:f,setCart:h,completeSale:p,processReturn:y,payCustomerDebt:x,t:w,language:v})=>{const[b,S]=ne.useState(0),[T,C]=ne.useState(void 0),[k,E]=ne.useState(null),[M,j]=ne.useState(""),[U,O]=ne.useState(!1),[I,$]=ne.useState(null),[F,H]=ne.useState(!1),[R,B]=ne.useState(0),[W,K]=ne.useState(""),[Z,oe]=ne.useState(""),[L,z]=ne.useState(null),[Q,te]=ne.useState(!1),[ie,ge]=ne.useState(!1),[pe,G]=ne.useState("unit"),le=ne.useRef(""),ce=ne.useRef(null),ue=ne.useRef(null),Te=ne.useMemo(()=>f.reduce((Ae,De)=>Ae+De.price*De.quantity,0),[f]),Re=Z?parseFloat(Z):Te,_e=Re/1.2,ae=Re-_e,Ee=Re-b,ke=ne.useCallback((Ae,De)=>De==="wholesale"&&Ae.priceWholesale&&Ae.priceWholesale>0?Ae.priceWholesale:De==="semiWholesale"&&Ae.priceSemiWholesale&&Ae.priceSemiWholesale>0?Ae.priceSemiWholesale:Ae.price||0,[]);ne.useEffect(()=>{h(Ae=>Ae.map(De=>{let Qe=De.price;if(De.type==="good"){const et=l.get(De.id);et&&(Qe=ke(et,pe))}else if(De.type==="service"&&!De.isCustom){const et=n.find(Ke=>Ke.id===De.productId);et&&(Qe=ke(et,pe))}return{...De,price:Qe}}))},[pe,l,n,ke,h]),ne.useEffect(()=>{if(T){const Ae=o.filter(De=>De.customerId===T&&De.remainingAmount>0).reduce((De,Qe)=>De+Qe.remainingAmount,0);B(Ae)}else B(0)},[T,o]),ne.useEffect(()=>{T||S(Re)},[Re,T]),ne.useEffect(()=>{oe("")},[f]);const ye=ne.useCallback(Ae=>{const De=s.get(Ae.id)||0;if(!U&&De<=0){E(w("productOutOfStock",{productName:Ae.name})),setTimeout(()=>E(null),3e3);return}h(Qe=>{const et=Qe.find(Et=>Et.id===Ae.id);if(et){const Et=et.quantity+1;return!U&&Et>De?(E(w("notEnoughStock",{productName:Ae.name})),setTimeout(()=>E(null),3e3),Qe):Qe.map(wr=>wr.id===Ae.id?{...wr,quantity:Et}:wr)}const Ke=n.find(Et=>Et.id===Ae.productId),Bt={id:Ae.id,storeId:Ae.storeId,name:`${Ke==null?void 0:Ke.name} - ${Ae.name}`,type:"good",price:ke(Ae,pe),purchasePrice:Ae.purchasePrice,stock:De,quantity:1,image:Ae.image,productId:Ae.productId};return[...Qe,Bt]}),E(w("productAdded",{productName:Ae.name})),setTimeout(()=>E(null),3e3)},[h,U,w,s,n,ke,pe]),Me=ne.useCallback(Ae=>{h(De=>{if(De.find(Ke=>Ke.id===Ae.id))return De.map(Ke=>Ke.id===Ae.id?{...Ke,quantity:Ke.quantity+1}:Ke);const et={id:Ae.id,storeId:Ae.storeId,name:Ae.name,type:"service",price:ke(Ae,pe),quantity:1,image:Ae.image,productId:Ae.id};return[...De,et]})},[h,ke,pe]),xe=(Ae,De,Qe)=>{const et=crypto.randomUUID(),Ke={id:et,productId:et,storeId:e.storeId,name:Ae,price:Qe,quantity:De,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("service"))}`,isCustom:!0};h(Bt=>[...Bt,Ke]),ge(!1),E(w("customItemAdded")),setTimeout(()=>E(null),3e3)},Pe=ne.useCallback(Ae=>{const De=c.get(Ae);De?ye(De):(E(w("productNotFound",{barcode:Ae})),setTimeout(()=>E(null),3e3))},[c,ye,w]),we=async Ae=>{var Qe;const De=(Qe=Ae.target.files)==null?void 0:Qe[0];if(De){if(!EE){E(w("geminiApiKeyNotConfigured")),setTimeout(()=>E(null),4e3),Ae.target&&(Ae.target.value="");return}te(!0),E(w("scanning"));try{const et=await new Promise((ft,Lt)=>{const Fi=new FileReader;Fi.onload=()=>ft(Fi.result.split(",")[1]),Fi.onerror=tr=>Lt(tr),Fi.readAsDataURL(De)}),Ke=new tQ({apiKey:EE}),Bt={inlineData:{mimeType:De.type,data:et}},Et={text:"From the provided receipt image, extract all purchase line items. For each item, provide its name (designation), quantity (quantite), and its unit price (prixHT). Return as a JSON array."},wr=await Ke.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[Bt,Et]},config:{responseMimeType:"application/json",responseSchema:{type:Ci.ARRAY,items:{type:Ci.OBJECT,properties:{designation:{type:Ci.STRING,description:"Item name or description from the receipt."},quantite:{type:Ci.NUMBER,description:"The quantity of the item."},prixHT:{type:Ci.NUMBER,description:"The unit price of the item (Prix HT)."}},required:["designation","quantite","prixHT"]}}}}),Ri=JSON.parse(wr.text);if(!Array.isArray(Ri))throw new Error("AI response is not a valid array.");const vn=Ri.map(ft=>{const Lt=crypto.randomUUID();return{id:Lt,productId:Lt,storeId:e.storeId,name:ft.designation,price:ft.prixHT,quantity:ft.quantite,type:"service",image:`https://via.placeholder.com/150/e9d5ff/a855f7?text=${encodeURIComponent(w("service"))}`,isCustom:!0}});h(ft=>[...ft,...vn]),E(w("itemsAddedFromReceipt",{count:vn.length})),setTimeout(()=>E(null),4e3)}catch(et){console.error("Error scanning receipt:",et),E(w("receiptScanError")),setTimeout(()=>E(null),4e3)}finally{te(!1),Ae.target&&(Ae.target.value="")}}};ne.useEffect(()=>{const Ae=De=>{const Qe=De.target;if(!(["INPUT","SELECT","TEXTAREA"].includes(Qe.tagName)&&Qe.id!=="pos-scanner-listener")){if(ce.current&&clearTimeout(ce.current),De.key==="Enter"){le.current.length>3&&Pe(le.current),le.current="",De.preventDefault();return}De.key.length===1&&(le.current+=De.key),ce.current=setTimeout(()=>{le.current=""},100)}};return window.addEventListener("keydown",Ae),()=>{window.removeEventListener("keydown",Ae),ce.current&&clearTimeout(ce.current)}},[Pe]);const Ve=ne.useMemo(()=>{const Ae=M.toLowerCase();if(F){const Qe=n.filter(et=>et.type==="service");return M?Qe.filter(et=>et.name.toLowerCase().includes(Ae)):Qe}return M.length<1&&!I?[]:n.filter(Qe=>Qe.type==="good").filter(Qe=>!I||Qe.categoryId===I?M?Qe.name.toLowerCase().includes(Ae):!0:!1)},[n,I,M,F]),Ge=Ae=>{Ae.type==="service"?Me(Ae):z(Ae),j("")},st=Ae=>{ye(Ae),z(null)},ze=F||M.length>0||!!I,ct=(Ae,De,Qe)=>{h(et=>{const Ke=et.find(Et=>Et.id===Ae);if(!Ke)return et;let Bt=Qe;return De==="quantity"&&(Bt<.5&&(Bt=.5),Ke.type==="good"&&!U&&Ke.stock&&Bt>Ke.stock&&(Bt=Ke.stock)),De==="price"&&Bt<0&&(Bt=0),et.map(Et=>Et.id===Ae?{...Et,[De]:Bt}:Et)})},nt=Ae=>{h(f.filter(De=>De.id!==Ae))},ht=()=>{h([]),S(0),oe(""),C(void 0)},We=async Ae=>{if(f.length===0){alert(w("emptyCartError"));return}await p(b,T,Re,Ae),S(0),C(void 0),oe("")},je=()=>{if(f.length===0){alert(w("emptyCartError"));return}y(f)},Je=()=>{const Ae=parseFloat(W);if(T&&Ae>0){if(Ae>R){alert(w("enterValidPayment"));return}x(T,Ae),K("")}};return ne.useEffect(()=>{ht(),H(!1)},[U]),m.jsxs(m.Fragment,{children:[L&&m.jsx(rQ,{product:L,variants:u.get(L.id)||[],stockMap:s,onClose:()=>z(null),onSelectVariant:st,t:w,isReturnMode:U}),ie&&m.jsx(iQ,{onSave:xe,onClose:()=>ge(!1),t:w}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[m.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[m.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-xl shadow-lg flex justify-center",children:m.jsxs("div",{className:`flex rounded-lg p-1 ${U?"bg-orange-100 dark:bg-orange-900/50":"bg-gray-200 dark:bg-slate-700"}`,children:[m.jsx("button",{onClick:()=>O(!1),className:`px-8 py-2 rounded-md font-semibold transition-all ${U?"text-slate-600 dark:text-slate-400":"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400"}`,children:w("saleMode")}),m.jsx("button",{onClick:()=>O(!0),className:`px-8 py-2 rounded-md font-semibold transition-all ${U?"bg-white dark:bg-slate-800 shadow text-orange-700 dark:text-orange-400":"text-slate-600 dark:text-slate-400"}`,children:w("returnMode")})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:w("priceLevels")}),m.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-200 dark:bg-slate-700",children:[m.jsx("button",{onClick:()=>G("unit"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${pe==="unit"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("unit")}),m.jsx("button",{onClick:()=>G("semiWholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${pe==="semiWholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("semiWholesale")}),m.jsx("button",{onClick:()=>G("wholesale"),className:`px-4 py-2 rounded-md font-semibold transition-all text-sm ${pe==="wholesale"?"bg-white dark:bg-slate-800 shadow text-teal-700 dark:text-teal-400":"text-slate-600 dark:text-slate-400"}`,children:w("wholesale")})]})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg",children:m.jsxs("div",{className:"flex items-center justify-center gap-3 bg-teal-50 dark:bg-slate-700 text-teal-700 dark:text-teal-300 p-3 rounded-lg",children:[m.jsx(NI,{className:"w-8 h-8"}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold",children:w("barcodeScannerActive")}),m.jsx("p",{className:"text-sm",children:w("scanToAdd")})]})]})}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:w("manualAdd")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>ge(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(tl,{className:"w-5 h-5"}),w("addCustomItem")]}),t.enableAiReceiptScan&&m.jsxs("button",{onClick:()=>{var Ae;return(Ae=ue.current)==null?void 0:Ae.click()},disabled:Q,className:"flex items-center gap-2 bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",children:[Q?m.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):m.jsx(Da,{className:"w-5 h-5"}),w(Q?"scanning":"scanReceipt")]})]}),m.jsx("input",{type:"file",ref:ue,onChange:we,className:"hidden",accept:"image/*"})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mb-2",children:w("filterByCategory")}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{onClick:()=>{$(null),H(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${!I&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:w("all")}),a.map(Ae=>m.jsx("button",{onClick:()=>{$(Ae.id),H(!1)},className:`px-3 py-1 text-sm font-semibold rounded-full border-2 transition-all ${I===Ae.id&&!F?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border-gray-300 dark:border-slate-600 hover:border-teal-500 dark:hover:border-teal-500"}`,children:Ae.name},Ae.id))]})]}),m.jsx("div",{className:"mt-4",children:m.jsxs("button",{onClick:()=>{H(!0),$(null)},className:`w-full flex items-center justify-center gap-2 px-4 py-3 text-base font-bold rounded-lg border-2 transition-all ${F?"bg-purple-600 text-white border-purple-600":"bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-gray-300 dark:border-slate-600 hover:border-purple-500 dark:hover:border-purple-500"}`,children:[m.jsx(Da,{className:"w-6 h-6"})," ",w("services")]})}),m.jsxs("div",{className:"relative mt-4",children:[m.jsx("input",{type:"text",placeholder:w("searchPlaceholder"),value:M,onChange:Ae=>j(Ae.target.value),className:"w-full px-4 py-2 border dark:border-slate-600 rounded-lg focus:ring-teal-500 bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),ze&&m.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-800 border dark:border-slate-700 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:Ve.length>0?Ve.map(Ae=>{var De;return m.jsxs("li",{className:"flex items-center p-3 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>Ge(Ae),children:[Ae.type==="good"?m.jsx("img",{src:Ae.image,alt:Ae.name,className:"w-12 h-12 object-cover rounded-md mx-4 bg-gray-200"}):m.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-md bg-purple-100 dark:bg-purple-900/50 mx-4",children:m.jsx(Da,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:Ae.name}),m.jsxs("div",{className:"flex justify-between items-center",children:[Ae.type==="service"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[w("price"),": ",(De=Ae.price)==null?void 0:De.toFixed(2)," DH"]}),Ae.type==="good"&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[(u.get(Ae.id)||[]).length," ",w("variants")]})]})]}),m.jsxs("button",{className:"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300 hover:bg-teal-200 font-bold py-2 px-3 rounded-lg text-sm flex items-center gap-1 pointer-events-none",children:[m.jsx(tl,{className:"w-4 h-4"})," ",w("add")]})]},Ae.id)}):m.jsx("li",{className:"p-3 text-slate-500 dark:text-slate-400",children:w("productNotFound",{barcode:""})})})]})]}),k&&m.jsx("div",{className:`fixed bottom-4 left-4 z-50 p-4 text-center rounded-lg shadow-xl ${k.includes("Impossible")||k.includes("rupture")||k.includes("Aucun")||k.includes("Erreur")?"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200":"bg-teal-100 text-teal-800 dark:bg-teal-900/70 dark:text-teal-200"}`,children:k})]}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:`p-6 rounded-xl shadow-lg sticky top-6 flex flex-col h-[90vh] ${U?"bg-orange-50 dark:bg-slate-800 border-2 border-orange-500/50":"bg-white dark:bg-slate-800"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:w(U?"returnReceipt":"invoice")}),m.jsx("button",{onClick:ht,title:w(U?"returnReceipt":"invoice"),className:"text-slate-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/50 p-2 rounded-lg transition-colors",children:m.jsx(Jr,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-grow overflow-y-auto pl-2 space-y-3 mb-4 text-sm",children:f.length>0?f.map(Ae=>m.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[m.jsxs("div",{className:"col-span-3",children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:Ae.name}),Ae.type==="good"||Ae.isCustom?m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[Ae.price.toFixed(2)," x ",Ae.quantity]}):m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:Ae.price,onChange:De=>ct(Ae.id,"price",parseFloat(De.target.value)),className:"w-20 text-xs p-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"}),m.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 mx-1",children:["x ",Ae.quantity]})]})]}),m.jsx("input",{type:"number",value:Ae.quantity,onChange:De=>ct(Ae.id,"quantity",parseFloat(De.target.value)||0),min:"0.5",step:"0.5",max:U||Ae.type==="service"?void 0:Ae.stock,className:"w-16 text-center border dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100"}),m.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 w-20 text-left col-span-1",children:(Ae.price*Ae.quantity).toFixed(2)}),m.jsx("button",{onClick:()=>nt(Ae.id),className:"text-red-500 hover:text-red-700 justify-self-center",children:m.jsx(Jr,{className:"w-5 h-5"})})]},Ae.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:w("emptyCart")})}),m.jsxs("div",{className:"mt-auto pt-4 border-t-2 border-dashed dark:border-slate-600 space-y-4",children:[!U&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("label",{htmlFor:"customer",className:"font-semibold text-slate-600 dark:text-slate-300",children:[w("customer"),":"]}),m.jsxs("select",{id:"customer",value:T||"",onChange:Ae=>C(Ae.target.value||void 0),className:"w-48 text-sm px-2 py-1 border rounded-md bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-teal-500",children:[m.jsx("option",{value:"",children:w("cashCustomer")}),i.map(Ae=>m.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))]})]}),R>0&&m.jsxs("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-300 dark:border-yellow-700 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h4",{className:"font-bold text-yellow-800 dark:text-yellow-300",children:w("debtPayment")}),m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[R.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx("input",{type:"number",placeholder:w("amount"),value:W,onChange:Ae=>K(Ae.target.value),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.01",step:"0.01",max:R}),m.jsx("button",{onClick:Je,disabled:!W||parseFloat(W)<=0,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg disabled:bg-gray-400 dark:disabled:bg-slate-500 whitespace-nowrap",children:w("save")})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-red-600 dark:text-red-400",children:[m.jsx("label",{htmlFor:"manualTotal",className:"font-semibold",children:w("manualTotal")}),m.jsx("input",{type:"number",id:"manualTotal",placeholder:Te.toFixed(2),value:Z,onChange:Ae=>oe(Ae.target.value),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-red-600 dark:text-red-400 font-bold dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-600 dark:text-slate-300",children:[m.jsx("label",{htmlFor:"downPayment",className:"font-semibold",children:w("downPayment")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",id:"downPayment",value:b,onChange:Ae=>S(Math.max(0,parseFloat(Ae.target.value)||0)),className:"w-24 px-2 py-1 border rounded-md text-left bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 disabled:bg-gray-200 dark:disabled:bg-slate-600 disabled:cursor-not-allowed dark:border-slate-600",disabled:!T,readOnly:!T,step:"0.01"}),T&&m.jsx("button",{onClick:()=>S(Re),className:"text-xs bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300 font-semibold px-2 py-1 rounded-md hover:bg-cyan-200 dark:hover:bg-cyan-800/50",children:w("total")})]})]})]}),U?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-orange-200 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:[m.jsxs("span",{children:[w("refundAmount"),":"]}),m.jsxs("span",{children:[Te.toFixed(2)," DH"]})]}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:je,className:"bg-orange-600 hover:bg-orange-700 w-full text-white font-bold py-3 px-4 rounded-lg transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("processReturn")})})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between text-slate-700 dark:text-slate-300 mb-2",children:[m.jsxs("span",{className:"font-bold",children:[w("total"),":"]}),m.jsxs("span",{className:"font-bold",children:[Re.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>We("orderForm"),className:"w-full bg-slate-600 text-white font-bold py-2 rounded-lg hover:bg-slate-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500 text-sm",disabled:f.length===0,children:w("finalizeAndPrintOrderForm")})]}),m.jsxs("div",{className:"p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg",children:[m.jsxs("div",{className:"text-sm space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("totalHT"),":"]}),m.jsxs("span",{children:[_e.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[w("vat"),":"]}),m.jsxs("span",{children:[ae.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-800 dark:text-slate-100 mt-2 pt-2 border-t dark:border-slate-700",children:[m.jsxs("span",{children:[w("totalTTC"),":"]}),m.jsxs("span",{children:[Re.toFixed(2)," DH"]})]})]}),m.jsx("button",{onClick:()=>We("invoice"),className:"mt-2 w-full bg-teal-600 text-white font-bold py-3 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 dark:disabled:bg-slate-500",disabled:f.length===0,children:w("finalizeAndPrintInvoice")})]}),m.jsxs("div",{className:"flex justify-between font-bold text-2xl p-3 rounded-lg bg-cyan-100 text-cyan-700 dark:bg-cyan-900/50 dark:text-cyan-300",children:[m.jsxs("span",{children:[w("remaining"),":"]}),m.jsxs("span",{children:[Ee.toFixed(2)," DH"]})]})]})]})]})})]})]})};function Zt(t){"@babel/helpers - typeof";return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(t)}var $r=Uint8Array,ki=Uint16Array,SS=Int32Array,Pv=new $r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Mv=new $r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y2=new $r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dj=function(t,e){for(var n=new ki(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new SS(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},hj=dj(Pv,2),pj=hj.b,b2=hj.r;pj[28]=258,b2[258]=28;var Aj=dj(Mv,0),oQ=Aj.b,kE=Aj.r,x2=new ki(32768);for(var _n=0;_n<32768;++_n){var Ts=(_n&43690)>>1|(_n&21845)<<1;Ts=(Ts&52428)>>2|(Ts&13107)<<2,Ts=(Ts&61680)>>4|(Ts&3855)<<4,x2[_n]=((Ts&65280)>>8|(Ts&255)<<8)>>1}var oo=function(t,e,n){for(var r=t.length,i=0,a=new ki(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new ki(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new ki(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)s[x2[f]>>l]=u}else for(s=new ki(r),i=0;i<r;++i)t[i]&&(s[i]=x2[o[t[i]-1]++]>>15-t[i]);return s},fl=new $r(288);for(var _n=0;_n<144;++_n)fl[_n]=8;for(var _n=144;_n<256;++_n)fl[_n]=9;for(var _n=256;_n<280;++_n)fl[_n]=7;for(var _n=280;_n<288;++_n)fl[_n]=8;var mp=new $r(32);for(var _n=0;_n<32;++_n)mp[_n]=5;var sQ=oo(fl,9,0),lQ=oo(fl,9,1),uQ=oo(mp,5,0),cQ=oo(mp,5,1),f1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},_a=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},d1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},_S=function(t){return(t+7)/8|0},mj=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new $r(t.subarray(e,n))},fQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ea=function(t,e,n){var r=new Error(e||fQ[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Ea),!n)throw r;return r},dQ=function(t,e,n,r){var i=t.length,a=0;if(!i||e.f&&!e.l)return n||new $r(0);var o=!n,s=o||e.i!=2,l=e.i;o&&(n=new $r(i*3));var u=function(ce){var ue=n.length;if(ce>ue){var Te=new $r(Math.max(ue*2,ce));Te.set(n),n=Te}},c=e.f||0,f=e.p||0,h=e.b||0,p=e.l,y=e.d,x=e.m,w=e.n,v=i*8;do{if(!p){c=_a(t,f,1);var b=_a(t,f+1,3);if(f+=3,b)if(b==1)p=lQ,y=cQ,x=9,w=5;else if(b==2){var k=_a(t,f,31)+257,E=_a(t,f+10,15)+4,M=k+_a(t,f+5,31)+1;f+=14;for(var j=new $r(M),U=new $r(19),O=0;O<E;++O)U[y2[O]]=_a(t,f+O*3,7);f+=E*3;for(var I=f1(U),$=(1<<I)-1,F=oo(U,I,1),O=0;O<M;){var H=F[_a(t,f,$)];f+=H&15;var S=H>>4;if(S<16)j[O++]=S;else{var R=0,B=0;for(S==16?(B=3+_a(t,f,3),f+=2,R=j[O-1]):S==17?(B=3+_a(t,f,7),f+=3):S==18&&(B=11+_a(t,f,127),f+=7);B--;)j[O++]=R}}var W=j.subarray(0,k),K=j.subarray(k);x=f1(W),w=f1(K),p=oo(W,x,1),y=oo(K,w,1)}else Ea(1);else{var S=_S(f)+4,T=t[S-4]|t[S-3]<<8,C=S+T;if(C>i){l&&Ea(0);break}s&&u(h+T),n.set(t.subarray(S,C),h),e.b=h+=T,e.p=f=C*8,e.f=c;continue}if(f>v){l&&Ea(0);break}}s&&u(h+131072);for(var Z=(1<<x)-1,oe=(1<<w)-1,L=f;;L=f){var R=p[d1(t,f)&Z],z=R>>4;if(f+=R&15,f>v){l&&Ea(0);break}if(R||Ea(2),z<256)n[h++]=z;else if(z==256){L=f,p=null;break}else{var Q=z-254;if(z>264){var O=z-257,te=Pv[O];Q=_a(t,f,(1<<te)-1)+pj[O],f+=te}var ie=y[d1(t,f)&oe],ge=ie>>4;ie||Ea(3),f+=ie&15;var K=oQ[ge];if(ge>3){var te=Mv[ge];K+=d1(t,f)&(1<<te)-1,f+=te}if(f>v){l&&Ea(0);break}s&&u(h+131072);var pe=h+Q;if(h<K){var G=a-K,le=Math.min(K,pe);for(G+h<0&&Ea(3);h<le;++h)n[h]=r[G+h]}for(;h<pe;++h)n[h]=n[h-K]}}e.l=p,e.p=L,e.b=h,e.f=c,p&&(c=1,e.m=x,e.d=y,e.n=w)}while(!c);return h!=n.length&&o?mj(n,0,h):n.subarray(0,h)},Po=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},sh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},h1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:vj,l:0};if(i==1){var o=new $r(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(C,k){return C.f-k.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var h=a[0].s,r=1;r<i;++r)a[r].s>h&&(h=a[r].s);var p=new ki(h+1),y=w2(n[c-1],p,0);if(y>e){var r=0,x=0,w=y-e,v=1<<w;for(a.sort(function(k,E){return p[E.s]-p[k.s]||k.f-E.f});r<i;++r){var b=a[r].s;if(p[b]>e)x+=v-(1<<y-p[b]),p[b]=e;else break}for(x>>=w;x>0;){var S=a[r].s;p[S]<e?x-=1<<e-p[S]++-1:++r}for(;r>=0&&x;--r){var T=a[r].s;p[T]==e&&(--p[T],++x)}y=e}return{t:new $r(p),l:y}},w2=function(t,e,n){return t.s==-1?Math.max(w2(t.l,e,n+1),w2(t.r,e,n+1)):e[t.s]=n},PE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ki(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},lh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},gj=function(t,e,n){var r=n.length,i=_S(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},ME=function(t,e,n,r,i,a,o,s,l,u,c){Po(e,c++,n),++i[256];for(var f=h1(i,15),h=f.t,p=f.l,y=h1(a,15),x=y.t,w=y.l,v=PE(h),b=v.c,S=v.n,T=PE(x),C=T.c,k=T.n,E=new ki(19),M=0;M<b.length;++M)++E[b[M]&31];for(var M=0;M<C.length;++M)++E[C[M]&31];for(var j=h1(E,7),U=j.t,O=j.l,I=19;I>4&&!U[y2[I-1]];--I);var $=u+5<<3,F=lh(i,fl)+lh(a,mp)+o,H=lh(i,h)+lh(a,x)+o+14+3*I+lh(E,U)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&$<=F&&$<=H)return gj(e,c,t.subarray(l,l+u));var R,B,W,K;if(Po(e,c,1+(H<F)),c+=2,H<F){R=oo(h,p,0),B=h,W=oo(x,w,0),K=x;var Z=oo(U,O,0);Po(e,c,S-257),Po(e,c+5,k-1),Po(e,c+10,I-4),c+=14;for(var M=0;M<I;++M)Po(e,c+3*M,U[y2[M]]);c+=3*I;for(var oe=[b,C],L=0;L<2;++L)for(var z=oe[L],M=0;M<z.length;++M){var Q=z[M]&31;Po(e,c,Z[Q]),c+=U[Q],Q>15&&(Po(e,c,z[M]>>5&127),c+=z[M]>>12)}}else R=sQ,B=fl,W=uQ,K=mp;for(var M=0;M<s;++M){var te=r[M];if(te>255){var Q=te>>18&31;sh(e,c,R[Q+257]),c+=B[Q+257],Q>7&&(Po(e,c,te>>23&31),c+=Pv[Q]);var ie=te&31;sh(e,c,W[ie]),c+=K[ie],ie>3&&(sh(e,c,te>>5&8191),c+=Mv[ie])}else sh(e,c,R[te]),c+=B[te]}return sh(e,c,R[256]),c+B[256]},hQ=new SS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vj=new $r(0),pQ=function(t,e,n,r,i,a){var o=a.z||t.length,s=new $r(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=hQ[e-1],h=f>>13,p=f&8191,y=(1<<n)-1,x=a.p||new ki(32768),w=a.h||new ki(y+1),v=Math.ceil(n/3),b=2*v,S=function(Re){return(t[Re]^t[Re+1]<<v^t[Re+2]<<b)&y},T=new SS(25e3),C=new ki(288),k=new ki(32),E=0,M=0,j=a.i||0,U=0,O=a.w||0,I=0;j+2<o;++j){var $=S(j),F=j&32767,H=w[$];if(x[F]=H,w[$]=F,O<=j){var R=o-j;if((E>7e3||U>24576)&&(R>423||!u)){c=ME(t,l,0,T,C,k,M,U,I,j-I,c),U=E=M=0,I=j;for(var B=0;B<286;++B)C[B]=0;for(var B=0;B<30;++B)k[B]=0}var W=2,K=0,Z=p,oe=F-H&32767;if(R>2&&$==S(j-oe))for(var L=Math.min(h,R)-1,z=Math.min(32767,j),Q=Math.min(258,R);oe<=z&&--Z&&F!=H;){if(t[j+W]==t[j+W-oe]){for(var te=0;te<Q&&t[j+te]==t[j+te-oe];++te);if(te>W){if(W=te,K=oe,te>L)break;for(var ie=Math.min(oe,te-2),ge=0,B=0;B<ie;++B){var pe=j-oe+B&32767,G=x[pe],le=pe-G&32767;le>ge&&(ge=le,H=pe)}}}F=H,H=x[F],oe+=F-H&32767}if(K){T[U++]=268435456|b2[W]<<18|kE[K];var ce=b2[W]&31,ue=kE[K]&31;M+=Pv[ce]+Mv[ue],++C[257+ce],++k[ue],O=j+W,++E}else T[U++]=t[j],++C[t[j]]}}for(j=Math.max(j,O);j<o;++j)T[U++]=t[j],++C[t[j]];c=ME(t,l,u,T,C,k,M,U,I,j-I,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=w,a.p=x,a.i=j,a.w=O)}else{for(var j=a.w||0;j<o+u;j+=65535){var Te=j+65535;Te>=o&&(l[c/8|0]=u,Te=o),c=gj(l,c+1,t.subarray(j,Te))}a.i=o}return mj(s,0,r+_S(c)+i)},yj=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},AQ=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new $r(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return pQ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},bj=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},mQ=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=yj();i.p(e.dictionary),bj(t,2,i.d())}},gQ=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ea(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ea(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function S2(t,e){e||(e={});var n=yj();n.p(t);var r=AQ(t,e,e.dictionary?6:2,4);return mQ(r,e),bj(r,r.length-4,n.d()),r}function vQ(t,e){return dQ(t.subarray(gQ(t),-4),{i:2},e,e)}var yQ=typeof TextDecoder<"u"&&new TextDecoder,bQ=0;try{yQ.decode(vj,{stream:!0}),bQ=1}catch{}var mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function p1(){mt.console&&typeof mt.console.log=="function"&&mt.console.log.apply(mt.console,arguments)}var sn={log:p1,warn:function(t){mt.console&&(typeof mt.console.warn=="function"?mt.console.warn.apply(mt.console,arguments):p1.call(null,arguments))},error:function(t){mt.console&&(typeof mt.console.error=="function"?mt.console.error.apply(mt.console,arguments):p1(t))}};function A1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Hl(r.response,e,n)},r.onerror=function(){sn.error("could not download file")},r.send()}function OE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var zh,_2,Hl=mt.saveAs||((typeof window>"u"?"undefined":Zt(window))!=="object"||window!==mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=mt.URL||mt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?OE(i.href)?A1(t,e,n):Rm(i,i.target="_blank"):Rm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Rm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(OE(t))A1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Rm(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Zt(a)!=="object"&&(sn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return A1(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(mt.HTMLElement)||mt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Zt(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=mt.URL||mt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xj(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function m1(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ir(n,r,i,a,e[0],7,-680876936),a=Ir(a,n,r,i,e[1],12,-389564586),i=Ir(i,a,n,r,e[2],17,606105819),r=Ir(r,i,a,n,e[3],22,-1044525330),n=Ir(n,r,i,a,e[4],7,-176418897),a=Ir(a,n,r,i,e[5],12,1200080426),i=Ir(i,a,n,r,e[6],17,-1473231341),r=Ir(r,i,a,n,e[7],22,-45705983),n=Ir(n,r,i,a,e[8],7,1770035416),a=Ir(a,n,r,i,e[9],12,-1958414417),i=Ir(i,a,n,r,e[10],17,-42063),r=Ir(r,i,a,n,e[11],22,-1990404162),n=Ir(n,r,i,a,e[12],7,1804603682),a=Ir(a,n,r,i,e[13],12,-40341101),i=Ir(i,a,n,r,e[14],17,-1502002290),n=jr(n,r=Ir(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=jr(a,n,r,i,e[6],9,-1069501632),i=jr(i,a,n,r,e[11],14,643717713),r=jr(r,i,a,n,e[0],20,-373897302),n=jr(n,r,i,a,e[5],5,-701558691),a=jr(a,n,r,i,e[10],9,38016083),i=jr(i,a,n,r,e[15],14,-660478335),r=jr(r,i,a,n,e[4],20,-405537848),n=jr(n,r,i,a,e[9],5,568446438),a=jr(a,n,r,i,e[14],9,-1019803690),i=jr(i,a,n,r,e[3],14,-187363961),r=jr(r,i,a,n,e[8],20,1163531501),n=jr(n,r,i,a,e[13],5,-1444681467),a=jr(a,n,r,i,e[2],9,-51403784),i=jr(i,a,n,r,e[7],14,1735328473),n=Dr(n,r=jr(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Dr(a,n,r,i,e[8],11,-2022574463),i=Dr(i,a,n,r,e[11],16,1839030562),r=Dr(r,i,a,n,e[14],23,-35309556),n=Dr(n,r,i,a,e[1],4,-1530992060),a=Dr(a,n,r,i,e[4],11,1272893353),i=Dr(i,a,n,r,e[7],16,-155497632),r=Dr(r,i,a,n,e[10],23,-1094730640),n=Dr(n,r,i,a,e[13],4,681279174),a=Dr(a,n,r,i,e[0],11,-358537222),i=Dr(i,a,n,r,e[3],16,-722521979),r=Dr(r,i,a,n,e[6],23,76029189),n=Dr(n,r,i,a,e[9],4,-640364487),a=Dr(a,n,r,i,e[12],11,-421815835),i=Dr(i,a,n,r,e[15],16,530742520),n=Lr(n,r=Dr(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Lr(a,n,r,i,e[7],10,1126891415),i=Lr(i,a,n,r,e[14],15,-1416354905),r=Lr(r,i,a,n,e[5],21,-57434055),n=Lr(n,r,i,a,e[12],6,1700485571),a=Lr(a,n,r,i,e[3],10,-1894986606),i=Lr(i,a,n,r,e[10],15,-1051523),r=Lr(r,i,a,n,e[1],21,-2054922799),n=Lr(n,r,i,a,e[8],6,1873313359),a=Lr(a,n,r,i,e[15],10,-30611744),i=Lr(i,a,n,r,e[6],15,-1560198380),r=Lr(r,i,a,n,e[13],21,1309151649),n=Lr(n,r,i,a,e[4],6,-145523070),a=Lr(a,n,r,i,e[11],10,-1120210379),i=Lr(i,a,n,r,e[2],15,718787259),r=Lr(r,i,a,n,e[9],21,-343485551),t[0]=zs(n,t[0]),t[1]=zs(r,t[1]),t[2]=zs(i,t[2]),t[3]=zs(a,t[3])}function Ov(t,e,n,r,i,a){return e=zs(zs(e,t),zs(r,a)),zs(e<<i|e>>>32-i,n)}function Ir(t,e,n,r,i,a,o){return Ov(e&n|~e&r,t,e,i,a,o)}function jr(t,e,n,r,i,a,o){return Ov(e&r|n&~r,t,e,i,a,o)}function Dr(t,e,n,r,i,a,o){return Ov(e^n^r,t,e,i,a,o)}function Lr(t,e,n,r,i,a,o){return Ov(n^(e|~r),t,e,i,a,o)}function wj(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)m1(r,xQ(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(m1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,m1(r,i),r}function xQ(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}zh=mt.atob.bind(mt),_2=mt.btoa.bind(mt);var IE="0123456789abcdef".split("");function wQ(t){for(var e="",n=0;n<4;n++)e+=IE[t>>8*n+4&15]+IE[t>>8*n&15];return e}function SQ(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function T2(t){return wj(t).map(SQ).join("")}var _Q=function(t){for(var e=0;e<t.length;e++)t[e]=wQ(t[e]);return t.join("")}(wj("hello"))!="5d41402abc4b2a76b9719d911017c592";function zs(t,e){if(_Q){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C2(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length>>0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,h=0,p=0,y="";for(l=0;l<f;l++)p=(p+(c=s[h=(h+1)%256]))%256,s[h]=s[p],s[p]=c,o=s[(s[h]+s[p])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var jE={print:4,modify:8,copy:16,"annot-forms":32};function Mc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(jE.perm!==void 0)throw new Error("Invalid permission: "+s);i+=jE[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=T2(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=C2(this.encryptionKey,this.padding)}function Oc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function DE(t){if(Zt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){mt.console&&sn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gp(t){if(!(this instanceof gp))return new gp(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Sj(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Rs(t,e,n,r,i){if(!(this instanceof Rs))return new Rs(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Sj.call(this,r,i)}function Kl(t,e,n,r,i){if(!(this instanceof Kl))return new Kl(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Sj.call(this,r,i)}function ut(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;Zt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=DE;var y="1.3",x=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(N){y=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return w};var v=p.__private__.getPageFormat=function(N){return w[N]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},S=b.COMPAT;function T(){this.saveGraphicsState(),ae(new pt(We,0,0,-We,0,fs()*We).toString()+" cm"),this.setFontSize(this.getFontSize()/We),u="n",S=b.ADVANCED}function C(){this.restoreGraphicsState(),u="S",S=b.COMPAT}var k=p.__private__.combineFontStyleAndFontWeight=function(N,V){if(N=="bold"&&V=="normal"||N=="bold"&&V==400||N=="normal"&&V=="italic"||N=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(N=V==400||V==="normal"?N==="italic"?"italic":"normal":V!=700&&V!=="bold"||N!=="normal"?(V==700?"bold":V)+""+N:"bold"),N};p.advancedAPI=function(N){var V=S===b.COMPAT;return V&&T.call(this),typeof N!="function"||(N(this),V&&C.call(this)),this},p.compatAPI=function(N){var V=S===b.ADVANCED;return V&&C.call(this),typeof N!="function"||(N(this),V&&T.call(this)),this},p.isAdvancedAPI=function(){return S===b.ADVANCED};var E,M=function(N){if(S!==b.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=p.roundToPrecision=p.__private__.roundToPrecision=function(N,V){var se=e||V;if(isNaN(N)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(se).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return j(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return j(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return j(N,16)};var U=p.f2=p.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return j(N,2)},O=p.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return j(N,3)},I=p.scale=p.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===b.COMPAT?N*We:S===b.ADVANCED?N:void 0},$=function(N){return S===b.COMPAT?fs()-N:S===b.ADVANCED?N:void 0},F=function(N){return I($(N))};p.__private__.setPrecision=p.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var H,R="00000000000000000000000000000000",B=p.__private__.getFileId=function(){return R},W=p.__private__.setFileId=function(N){return R=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Mr=new Mc(c.userPermissions,c.userPassword,c.ownerPassword,R)),R};p.setFileId=function(N){return W(N),this},p.getFileId=function(){return B()};var K=p.__private__.convertDateToPDFDate=function(N){var V=N.getTimezoneOffset(),se=V<0?"+":"-",fe=Math.floor(Math.abs(V/60)),Se=Math.abs(V%60),Ie=[se,Q(fe),"'",Q(Se),"'"].join("");return["D:",N.getFullYear(),Q(N.getMonth()+1),Q(N.getDate()),Q(N.getHours()),Q(N.getMinutes()),Q(N.getSeconds()),Ie].join("")},Z=p.__private__.convertPDFDateToDate=function(N){var V=parseInt(N.substr(2,4),10),se=parseInt(N.substr(6,2),10)-1,fe=parseInt(N.substr(8,2),10),Se=parseInt(N.substr(10,2),10),Ie=parseInt(N.substr(12,2),10),He=parseInt(N.substr(14,2),10);return new Date(V,se,fe,Se,Ie,He,0)},oe=p.__private__.setCreationDate=function(N){var V;if(N===void 0&&(N=new Date),N instanceof Date)V=K(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=N}return H=V},L=p.__private__.getCreationDate=function(N){var V=H;return N==="jsDate"&&(V=Z(H)),V};p.setCreationDate=function(N){return oe(N),this},p.getCreationDate=function(N){return L(N)};var z,Q=p.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},te=p.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},ie=0,ge=[],pe=[],G=0,le=[],ce=[],ue=!1,Te=pe,Re=function(){ie=0,G=0,pe=[],ge=[],le=[],mo=zn(),Aa=zn()};p.__private__.setCustomOutputDestination=function(N){ue=!0,Te=N};var _e=function(N){ue||(Te=N)};p.__private__.resetCustomOutputDestination=function(){ue=!1,Te=pe};var ae=p.__private__.out=function(N){return N=N.toString(),G+=N.length+1,Te.push(N),Te},Ee=p.__private__.write=function(N){return ae(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},ke=p.__private__.getArrayBuffer=function(N){for(var V=N.length,se=new ArrayBuffer(V),fe=new Uint8Array(se);V--;)fe[V]=N.charCodeAt(V);return se},ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ye};var Me=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(N){return Me=S===b.ADVANCED?N/We:N,this};var xe,Pe=p.__private__.getFontSize=p.getFontSize=function(){return S===b.COMPAT?Me:Me*We},we=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(N){return we=N,this},p.__private__.getR2L=p.getR2L=function(){return we};var Ve,Ge=p.__private__.setZoomMode=function(N){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))xe=N;else if(isNaN(N)){if(V.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');xe=N}else xe=parseInt(N,10)};p.__private__.getZoomMode=function(){return xe};var st,ze=p.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Ve=N};p.__private__.getPageMode=function(){return Ve};var ct=p.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');st=N};p.__private__.getLayoutMode=function(){return st},p.__private__.setDisplayMode=p.setDisplayMode=function(N,V,se){return Ge(N),ct(V),ze(se),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(N){if(Object.keys(nt).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[N]},p.__private__.getDocumentProperties=function(){return nt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(N){for(var V in nt)nt.hasOwnProperty(V)&&N[V]&&(nt[V]=N[V]);return this},p.__private__.setDocumentProperty=function(N,V){if(Object.keys(nt).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[N]=V};var ht,We,je,Je,Ae,De={},Qe={},et=[],Ke={},Bt={},Et={},wr={},Ri=null,vn=0,ft=[],Lt=new DE(p),Fi=t.hotfixes||[],tr={},qa={},Ha=[],pt=function N(V,se,fe,Se,Ie,He){if(!(this instanceof N))return new N(V,se,fe,Se,Ie,He);isNaN(V)&&(V=1),isNaN(se)&&(se=0),isNaN(fe)&&(fe=0),isNaN(Se)&&(Se=1),isNaN(Ie)&&(Ie=0),isNaN(He)&&(He=0),this._matrix=[V,se,fe,Se,Ie,He]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(N)},pt.prototype.multiply=function(N){var V=N.sx*this.sx+N.shy*this.shx,se=N.sx*this.shy+N.shy*this.sy,fe=N.shx*this.sx+N.sy*this.shx,Se=N.shx*this.shy+N.sy*this.sy,Ie=N.tx*this.sx+N.ty*this.shx+this.tx,He=N.tx*this.shy+N.ty*this.sy+this.ty;return new pt(V,se,fe,Se,Ie,He)},pt.prototype.decompose=function(){var N=this.sx,V=this.shy,se=this.shx,fe=this.sy,Se=this.tx,Ie=this.ty,He=Math.sqrt(N*N+V*V),tt=(N/=He)*se+(V/=He)*fe;se-=N*tt,fe-=V*tt;var lt=Math.sqrt(se*se+fe*fe);return tt/=lt,N*(fe/=lt)<V*(se/=lt)&&(N=-N,V=-V,tt=-tt,He=-He),{scale:new pt(He,0,0,lt,0,0),translate:new pt(1,0,0,1,Se,Ie),rotate:new pt(N,V,-V,N,0,0),skew:new pt(1,0,tt,1,0,0)}},pt.prototype.toString=function(N){return this.join(" ")},pt.prototype.inversed=function(){var N=this.sx,V=this.shy,se=this.shx,fe=this.sy,Se=this.tx,Ie=this.ty,He=1/(N*fe-V*se),tt=fe*He,lt=-V*He,St=-se*He,xt=N*He;return new pt(tt,lt,St,xt,-tt*Se-St*Ie,-lt*Se-xt*Ie)},pt.prototype.applyToPoint=function(N){var V=N.x*this.sx+N.y*this.shx+this.tx,se=N.x*this.shy+N.y*this.sy+this.ty;return new Ju(V,se)},pt.prototype.applyToRectangle=function(N){var V=this.applyToPoint(N),se=this.applyToPoint(new Ju(N.x+N.w,N.y+N.h));return new Md(V.x,V.y,se.x-V.x,se.y-V.y)},pt.prototype.clone=function(){var N=this.sx,V=this.shy,se=this.shx,fe=this.sy,Se=this.tx,Ie=this.ty;return new pt(N,V,se,fe,Se,Ie)},p.Matrix=pt;var pa=p.matrixMult=function(N,V){return V.multiply(N)},za=new pt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=za;var Qr=function(N,V){if(!Bt[N]){var se=(V instanceof Rs?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);V.id=se,Bt[N]=se,Ke[se]=V,Lt.publish("addPattern",V)}};p.ShadingPattern=Rs,p.TilingPattern=Kl,p.addShadingPattern=function(N,V){return M("addShadingPattern()"),Qr(N,V),this},p.beginTilingPattern=function(N){M("beginTilingPattern()"),HA(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},p.endTilingPattern=function(N,V){M("endTilingPattern()"),V.stream=ce[z].join(`
`),Qr(N,V),Lt.publish("endTilingPattern",V),Ha.pop().restore()};var nr=p.__private__.newObject=function(){var N=zn();return mi(N,!0),N},zn=p.__private__.newObjectDeferred=function(){return ie++,ge[ie]=function(){return G},ie},mi=function(N,V){return V=typeof V=="boolean"&&V,ge[N]=G,V&&ae(N+" 0 obj"),N},Ru=p.__private__.newAdditionalObject=function(){var N={objId:zn(),content:""};return le.push(N),N},mo=zn(),Aa=zn(),ma=p.__private__.decodeColorString=function(N){var V=N.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var se=parseFloat(V[0]);V=[se,se,se,"r"]}for(var fe="#",Se=0;Se<3;Se++)fe+=("0"+Math.floor(255*parseFloat(V[Se])).toString(16)).slice(-2);return fe},ga=p.__private__.encodeColorString=function(N){var V;typeof N=="string"&&(N={ch1:N});var se=N.ch1,fe=N.ch2,Se=N.ch3,Ie=N.ch4,He=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var tt=new xj(se);if(tt.ok)se=tt.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var lt=parseInt(se.substr(1),16);se=lt>>16&255,fe=lt>>8&255,Se=255&lt}if(fe===void 0||Ie===void 0&&se===fe&&fe===Se)if(typeof se=="string")V=se+" "+He[0];else switch(N.precision){case 2:V=U(se/255)+" "+He[0];break;case 3:default:V=O(se/255)+" "+He[0]}else if(Ie===void 0||Zt(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return V=["1.","1.","1.",He[1]].join(" ");if(typeof se=="string")V=[se,fe,Se,He[1]].join(" ");else switch(N.precision){case 2:V=[U(se/255),U(fe/255),U(Se/255),He[1]].join(" ");break;default:case 3:V=[O(se/255),O(fe/255),O(Se/255),He[1]].join(" ")}}else if(typeof se=="string")V=[se,fe,Se,Ie,He[2]].join(" ");else switch(N.precision){case 2:V=[U(se),U(fe),U(Se),U(Ie),He[2]].join(" ");break;case 3:default:V=[O(se),O(fe),O(Se),O(Ie),He[2]].join(" ")}return V},Va=p.__private__.getFilters=function(){return o},$i=p.__private__.putStream=function(N){var V=(N=N||{}).data||"",se=N.filters||Va(),fe=N.alreadyAppliedFilters||[],Se=N.addLength1||!1,Ie=V.length,He=N.objectId,tt=function(Or){return Or};if(c!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(tt=Mr.encryptor(He,0));var lt={};se===!0&&(se=["FlateEncode"]);var St=N.additionalKeyValues||[],xt=(lt=ut.API.processDataByFilters!==void 0?ut.API.processDataByFilters(V,se):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(lt.data.length!==0&&(St.push({key:"Length",value:lt.data.length}),Se===!0&&St.push({key:"Length1",value:Ie})),xt.length!=0)if(xt.split("/").length-1==1)St.push({key:"Filter",value:xt});else{St.push({key:"Filter",value:"["+xt+"]"});for(var Ft=0;Ft<St.length;Ft+=1)if(St[Ft].key==="DecodeParms"){for(var kn=[],Pn=0;Pn<lt.reverseChain.split("/").length-1;Pn+=1)kn.push("null");kn.push(St[Ft].value),St[Ft].value="["+kn.join(" ")+"]"}}ae("<<");for(var Vn=0;Vn<St.length;Vn++)ae("/"+St[Vn].key+" "+St[Vn].value);ae(">>"),lt.data.length!==0&&(ae("stream"),ae(tt(lt.data)),ae("endstream"))},Ga=p.__private__.putPage=function(N){var V=N.number,se=N.data,fe=N.objId,Se=N.contentsObjId;mi(fe,!0),ae("<</Type /Page"),ae("/Parent "+N.rootDictionaryObjId+" 0 R"),ae("/Resources "+N.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(E(N.mediaBox.bottomLeftX))+" "+parseFloat(E(N.mediaBox.bottomLeftY))+" "+E(N.mediaBox.topRightX)+" "+E(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ae("/CropBox ["+E(N.cropBox.bottomLeftX)+" "+E(N.cropBox.bottomLeftY)+" "+E(N.cropBox.topRightX)+" "+E(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ae("/BleedBox ["+E(N.bleedBox.bottomLeftX)+" "+E(N.bleedBox.bottomLeftY)+" "+E(N.bleedBox.topRightX)+" "+E(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ae("/TrimBox ["+E(N.trimBox.bottomLeftX)+" "+E(N.trimBox.bottomLeftY)+" "+E(N.trimBox.topRightX)+" "+E(N.trimBox.topRightY)+"]"),N.artBox!==null&&ae("/ArtBox ["+E(N.artBox.bottomLeftX)+" "+E(N.artBox.bottomLeftY)+" "+E(N.artBox.topRightX)+" "+E(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ae("/UserUnit "+N.userUnit),Lt.publish("putPage",{objId:fe,pageContext:ft[V],pageNumber:V,page:se}),ae("/Contents "+Se+" 0 R"),ae(">>"),ae("endobj");var Ie=se.join(`
`);return S===b.ADVANCED&&(Ie+=`
Q`),mi(Se,!0),$i({data:Ie,filters:Va(),objectId:Se}),ae("endobj"),fe},xl=p.__private__.putPages=function(){var N,V,se=[];for(N=1;N<=vn;N++)ft[N].objId=zn(),ft[N].contentsObjId=zn();for(N=1;N<=vn;N++)se.push(Ga({number:N,data:ce[N],objId:ft[N].objId,contentsObjId:ft[N].contentsObjId,mediaBox:ft[N].mediaBox,cropBox:ft[N].cropBox,bleedBox:ft[N].bleedBox,trimBox:ft[N].trimBox,artBox:ft[N].artBox,userUnit:ft[N].userUnit,rootDictionaryObjId:mo,resourceDictionaryObjId:Aa}));mi(mo,!0),ae("<</Type /Pages");var fe="/Kids [";for(V=0;V<vn;V++)fe+=se[V]+" 0 R ";ae(fe+"]"),ae("/Count "+vn),ae(">>"),ae("endobj"),Lt.publish("postPutPages")},Fu=function(N){Lt.publish("putFont",{font:N,out:ae,newObject:nr,putStream:$i}),N.isAlreadyPutted!==!0&&(N.objectNumber=nr(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Oc(N.postScriptName)),ae("/Subtype /Type1"),typeof N.encoding=="string"&&ae("/Encoding /"+N.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},$u=function(){for(var N in De)De.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&Fu(De[N])},Bu=function(N){N.objectNumber=nr();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[E(N.x),E(N.y),E(N.x+N.width),E(N.y+N.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var se=N.pages[1].join(`
`);$i({data:se,additionalKeyValues:V,objectId:N.objectNumber}),ae("endobj")},Uu=function(){for(var N in tr)tr.hasOwnProperty(N)&&Bu(tr[N])},TA=function(N,V){var se,fe=[],Se=1/(V-1);for(se=0;se<1;se+=Se)fe.push(se);if(fe.push(1),N[0].offset!=0){var Ie={offset:0,color:N[0].color};N.unshift(Ie)}if(N[N.length-1].offset!=1){var He={offset:1,color:N[N.length-1].color};N.push(He)}for(var tt="",lt=0,St=0;St<fe.length;St++){for(se=fe[St];se>N[lt+1].offset;)lt++;var xt=N[lt].offset,Ft=(se-xt)/(N[lt+1].offset-xt),kn=N[lt].color,Pn=N[lt+1].color;tt+=te(Math.round((1-Ft)*kn[0]+Ft*Pn[0]).toString(16))+te(Math.round((1-Ft)*kn[1]+Ft*Pn[1]).toString(16))+te(Math.round((1-Ft)*kn[2]+Ft*Pn[2]).toString(16))}return tt.trim()},ky=function(N,V){V||(V=21);var se=nr(),fe=TA(N.colors,V),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+V+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$i({data:fe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ae("endobj"),N.objectNumber=nr(),ae("<< /ShadingType "+N.type),ae("/ColorSpace /DeviceRGB");var Ie="/Coords ["+E(parseFloat(N.coords[0]))+" "+E(parseFloat(N.coords[1]))+" ";N.type===2?Ie+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3])):Ie+=E(parseFloat(N.coords[2]))+" "+E(parseFloat(N.coords[3]))+" "+E(parseFloat(N.coords[4]))+" "+E(parseFloat(N.coords[5])),ae(Ie+="]"),N.matrix&&ae("/Matrix ["+N.matrix.toString()+"]"),ae("/Function "+se+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Py=function(N,V){var se=zn(),fe=nr();V.push({resourcesOid:se,objectOid:fe}),N.objectNumber=fe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+N.boundingBox.map(E).join(" ")+"]"}),Se.push({key:"XStep",value:E(N.xStep)}),Se.push({key:"YStep",value:E(N.yStep)}),Se.push({key:"Resources",value:se+" 0 R"}),N.matrix&&Se.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),$i({data:N.stream,additionalKeyValues:Se,objectId:N.objectNumber}),ae("endobj")},qu=function(N){var V;for(V in Ke)Ke.hasOwnProperty(V)&&(Ke[V]instanceof Rs?ky(Ke[V]):Ke[V]instanceof Kl&&Py(Ke[V],N))},CA=function(N){for(var V in N.objectNumber=nr(),ae("<<"),N)switch(V){case"opacity":ae("/ca "+U(N[V]));break;case"stroke-opacity":ae("/CA "+U(N[V]))}ae(">>"),ae("endobj")},My=function(){var N;for(N in Et)Et.hasOwnProperty(N)&&CA(Et[N])},xd=function(){for(var N in ae("/XObject <<"),tr)tr.hasOwnProperty(N)&&tr[N].objectNumber>=0&&ae("/"+N+" "+tr[N].objectNumber+" 0 R");Lt.publish("putXobjectDict"),ae(">>")},Oy=function(){Mr.oid=nr(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Mr.v),ae("/R "+Mr.r),ae("/U <"+Mr.toHexString(Mr.U)+">"),ae("/O <"+Mr.toHexString(Mr.O)+">"),ae("/P "+Mr.P),ae(">>"),ae("endobj")},NA=function(){for(var N in ae("/Font <<"),De)De.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&ae("/"+N+" "+De[N].objectNumber+" 0 R");ae(">>")},Iy=function(){if(Object.keys(Ke).length>0){for(var N in ae("/Shading <<"),Ke)Ke.hasOwnProperty(N)&&Ke[N]instanceof Rs&&Ke[N].objectNumber>=0&&ae("/"+N+" "+Ke[N].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),ae(">>")}},Hu=function(N){if(Object.keys(Ke).length>0){for(var V in ae("/Pattern <<"),Ke)Ke.hasOwnProperty(V)&&Ke[V]instanceof p.TilingPattern&&Ke[V].objectNumber>=0&&Ke[V].objectNumber<N&&ae("/"+V+" "+Ke[V].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),ae(">>")}},jy=function(){if(Object.keys(Et).length>0){var N;for(N in ae("/ExtGState <<"),Et)Et.hasOwnProperty(N)&&Et[N].objectNumber>=0&&ae("/"+N+" "+Et[N].objectNumber+" 0 R");Lt.publish("putGStateDict"),ae(">>")}},Ln=function(N){mi(N.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),NA(),Iy(),Hu(N.objectOid),jy(),xd(),ae(">>"),ae("endobj")},EA=function(){var N=[];$u(),My(),Uu(),qu(N),Lt.publish("putResources"),N.forEach(Ln),Ln({resourcesOid:Aa,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources")},kA=function(){Lt.publish("putAdditionalObjects");for(var N=0;N<le.length;N++){var V=le[N];mi(V.objId,!0),ae(V.content),ae("endobj")}Lt.publish("postPutAdditionalObjects")},PA=function(N){Qe[N.fontName]=Qe[N.fontName]||{},Qe[N.fontName][N.fontStyle]=N.id},wd=function(N,V,se,fe,Se){var Ie={id:"F"+(Object.keys(De).length+1).toString(10),postScriptName:N,fontName:V,fontStyle:se,encoding:fe,isStandardFont:Se||!1,metadata:{}};return Lt.publish("addFont",{font:Ie,instance:this}),De[Ie.id]=Ie,PA(Ie),Ie.id},Dy=function(N){for(var V=0,se=ye.length;V<se;V++){var fe=wd.call(this,N[V][0],N[V][1],N[V][2],ye[V][3],!0);f===!1&&(h[fe]=!0);var Se=N[V][0].split("-");PA({id:fe,fontName:Se[0],fontStyle:Se[1]||""})}Lt.publish("addFonts",{fonts:De,dictionary:Qe})},va=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(fe){var V=fe.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var se="Error in function "+V.split(`
`)[0].split("<")[0]+": "+fe.message;if(!mt.console)throw new Error(se);mt.console.error(se,fe),mt.alert&&alert(se)}},N.foo.bar=N,N.foo},zu=function(N,V){var se,fe,Se,Ie,He,tt,lt,St,xt;if(Se=(V=V||{}).sourceEncoding||"Unicode",He=V.outputEncoding,(V.autoencode||He)&&De[ht].metadata&&De[ht].metadata[Se]&&De[ht].metadata[Se].encoding&&(Ie=De[ht].metadata[Se].encoding,!He&&De[ht].encoding&&(He=De[ht].encoding),!He&&Ie.codePages&&(He=Ie.codePages[0]),typeof He=="string"&&(He=Ie[He]),He)){for(lt=!1,tt=[],se=0,fe=N.length;se<fe;se++)(St=He[N.charCodeAt(se)])?tt.push(String.fromCharCode(St)):tt.push(N[se]),tt[se].charCodeAt(0)>>8&&(lt=!0);N=tt.join("")}for(se=N.length;lt===void 0&&se!==0;)N.charCodeAt(se-1)>>8&&(lt=!0),se--;if(!lt)return N;for(tt=V.noBOM?[]:[254,255],se=0,fe=N.length;se<fe;se++){if((xt=(St=N.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(xt),tt.push(St-(xt<<8))}return String.fromCharCode.apply(void 0,tt)},Zr=p.__private__.pdfEscape=p.pdfEscape=function(N,V){return zu(N,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sd=p.__private__.beginPage=function(N){ce[++vn]=[],ft[vn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},OA(vn),_e(ce[z])},MA=function(N,V){var se,fe,Se;switch(n=V||n,typeof N=="string"&&(se=v(N.toLowerCase()),Array.isArray(se)&&(fe=se[0],Se=se[1])),Array.isArray(N)&&(fe=N[0]*We,Se=N[1]*We),isNaN(fe)&&(fe=i[0],Se=i[1]),(fe>14400||Se>14400)&&(sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),Se=Math.min(14400,Se)),i=[fe,Se],n.substr(0,1)){case"l":Se>fe&&(i=[Se,fe]);break;case"p":fe>Se&&(i=[Se,fe])}Sd(i),FA(Nd),ae(ya),kd!==0&&ae(kd+" J"),Pd!==0&&ae(Pd+" j"),Lt.publish("addPage",{pageNumber:vn})},Ly=function(N){N>0&&N<=vn&&(ce.splice(N,1),ft.splice(N,1),vn--,z>vn&&(z=vn),this.setPage(z))},OA=function(N){N>0&&N<=vn&&(z=N)},Ry=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ce.length-1},IA=function(N,V,se){var fe,Se=void 0;return se=se||{},N=N!==void 0?N:De[ht].fontName,V=V!==void 0?V:De[ht].fontStyle,fe=N.toLowerCase(),Qe[fe]!==void 0&&Qe[fe][V]!==void 0?Se=Qe[fe][V]:Qe[N]!==void 0&&Qe[N][V]!==void 0?Se=Qe[N][V]:se.disableWarning===!1&&sn.warn("Unable to look up font label for font '"+N+"', '"+V+"'. Refer to getFontList() for available fonts."),Se||se.noFallback||(Se=Qe.times[V])==null&&(Se=Qe.times.normal),Se},Fy=p.__private__.putInfo=function(){var N=nr(),V=function(fe){return fe};for(var se in c!==null&&(V=Mr.encryptor(N,0)),ae("<<"),ae("/Producer ("+Zr(V("jsPDF "+ut.version))+")"),nt)nt.hasOwnProperty(se)&&nt[se]&&ae("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+Zr(V(nt[se]))+")");ae("/CreationDate ("+Zr(V(H))+")"),ae(">>"),ae("endobj")},_d=p.__private__.putCatalog=function(N){var V=(N=N||{}).rootDictionaryObjId||mo;switch(nr(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+V+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+xe;se.substr(se.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+U(xe)+"]")}switch(st||(st="continuous"),st){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Ve&&ae("/PageMode /"+Ve),Lt.publish("putCatalog"),ae(">>"),ae("endobj")},$y=p.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(ie+1)),ae("/Root "+ie+" 0 R"),ae("/Info "+(ie-1)+" 0 R"),c!==null&&ae("/Encrypt "+Mr.oid+" 0 R"),ae("/ID [ <"+R+"> <"+R+"> ]"),ae(">>")},By=p.__private__.putHeader=function(){ae("%PDF-"+y),ae("%ºß¬à")},Uy=p.__private__.putXRef=function(){var N="0000000000";ae("xref"),ae("0 "+(ie+1)),ae("0000000000 65535 f ");for(var V=1;V<=ie;V++)typeof ge[V]=="function"?ae((N+ge[V]()).slice(-10)+" 00000 n "):ge[V]!==void 0?ae((N+ge[V]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},go=p.__private__.buildDocument=function(){Re(),_e(pe),Lt.publish("buildDocument"),By(),xl(),kA(),EA(),c!==null&&Oy(),Fy(),_d();var N=G;return Uy(),$y(),ae("startxref"),ae(""+N),ae("%%EOF"),_e(ce[z]),pe.join(`
`)},Vu=p.__private__.getBlob=function(N){return new Blob([ke(N)],{type:"application/pdf"})},Gu=p.output=p.__private__.output=va(function(N,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",N){case void 0:return go();case"save":p.save(V.filename);break;case"arraybuffer":return ke(go());case"blob":return Vu(go());case"bloburi":case"bloburl":if(mt.URL!==void 0&&typeof mt.URL.createObjectURL=="function")return mt.URL&&mt.URL.createObjectURL(Vu(go()))||void 0;sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",fe=go();try{se=_2(fe)}catch{se=_2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+V.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Se=V.pdfObjectUrl,Ie="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",tt=mt.open();return tt!==null&&tt.document.write(He),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(mt)==="[object Window]"){var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',St=mt.open();if(St!==null){St.document.write(lt);var xt=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=V.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',kn=mt.open();if(kn!==null&&(kn.document.write(Ft),kn.document.title=V.filename),kn||typeof safari>"u")return kn;break;case"datauri":case"dataurl":return mt.document.location.href=this.output("datauristring",V);default:return null}}),jA=function(N){return Array.isArray(Fi)===!0&&Fi.indexOf(N)>-1};switch(r){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=jA("px_scaling")==1?.75:96/72;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);We=r}var Mr=null;oe(),W();var qy=function(N){return c!==null?Mr.encryptor(N,0):function(V){return V}},DA=p.__private__.getPageInfo=p.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[N].objId,pageNumber:N,pageContext:ft[N]}},bt=p.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in ft)if(ft[V].objId===N)break;return DA(V)},Hy=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ft[z].objId,pageNumber:z,pageContext:ft[z]}};p.addPage=function(){return MA.apply(this,arguments),this},p.setPage=function(){return OA.apply(this,arguments),_e.call(this,ce[z]),this},p.insertPage=function(N){return this.addPage(),this.movePage(z,N),this},p.movePage=function(N,V){var se,fe;if(N>V){se=ce[N],fe=ft[N];for(var Se=N;Se>V;Se--)ce[Se]=ce[Se-1],ft[Se]=ft[Se-1];ce[V]=se,ft[V]=fe,this.setPage(V)}else if(N<V){se=ce[N],fe=ft[N];for(var Ie=N;Ie<V;Ie++)ce[Ie]=ce[Ie+1],ft[Ie]=ft[Ie+1];ce[V]=se,ft[V]=fe,this.setPage(V)}return this},p.deletePage=function(){return Ly.apply(this,arguments),this},p.__private__.text=p.text=function(N,V,se,fe,Se){var Ie,He,tt,lt,St,xt,Ft,kn,Pn,Vn=(fe=fe||{}).scope||this;if(typeof N=="number"&&typeof V=="number"&&(typeof se=="string"||Array.isArray(se))){var Or=se;se=V,V=N,N=Or}if(arguments[3]instanceof pt?(M("The transform parameter of text() with a Matrix value"),Pn=Se):(tt=arguments[4],lt=arguments[5],Zt(Ft=arguments[3])==="object"&&Ft!==null||(typeof tt=="string"&&(lt=tt,tt=null),typeof Ft=="string"&&(lt=Ft,Ft=null),typeof Ft=="number"&&(tt=Ft,Ft=null),fe={flags:Ft,angle:tt,align:lt})),isNaN(V)||isNaN(se)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Vn;var hr="",ba=!1,gi=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Sl,Ka=Vn.internal.scaleFactor;function zA(fn){return fn=fn.split("	").join(Array(fe.TabLen||9).join(" ")),Zr(fn,Ft)}function Dd(fn){for(var dn,Fn=fn.concat(),rr=[],wo=Fn.length;wo--;)typeof(dn=Fn.shift())=="string"?rr.push(dn):Array.isArray(fn)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?rr.push(dn[0]):rr.push([dn[0],dn[1],dn[2]]);return rr}function Ld(fn,dn){var Fn;if(typeof fn=="string")Fn=dn(fn)[0];else if(Array.isArray(fn)){for(var rr,wo,zd=fn.concat(),sc=[],KA=zd.length;KA--;)typeof(rr=zd.shift())=="string"?sc.push(dn(rr)[0]):Array.isArray(rr)&&typeof rr[0]=="string"&&(wo=dn(rr[0],rr[1],rr[2]),sc.push([wo[0],wo[1],wo[2]]));Fn=sc}return Fn}var Qu=!1,Rd=!0;if(typeof N=="string")Qu=!0;else if(Array.isArray(N)){var Fd=N.concat();He=[];for(var Zu,Sr=Fd.length;Sr--;)(typeof(Zu=Fd.shift())!="string"||Array.isArray(Zu)&&typeof Zu[0]!="string")&&(Rd=!1);Qu=Rd}if(Qu===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var ec=Me/Vn.internal.scaleFactor,tc=ec*(gi-1);switch(fe.baseline){case"bottom":se-=tc;break;case"top":se+=ec-tc;break;case"hanging":se+=ec-2*tc;break;case"middle":se+=ec/2-tc}if((xt=fe.maxWidth||0)>0&&(typeof N=="string"?N=Vn.splitTextToSize(N,xt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(fn,dn){return fn.concat(Vn.splitTextToSize(dn,xt))},[]))),Ie={text:N,x:V,y:se,options:fe,mutex:{pdfEscape:Zr,activeFontKey:ht,fonts:De,activeFontSize:Me}},Lt.publish("preProcessText",Ie),N=Ie.text,tt=(fe=Ie.options).angle,!(Pn instanceof pt)&&tt&&typeof tt=="number"){tt*=Math.PI/180,fe.rotationDirection===0&&(tt=-tt),S===b.ADVANCED&&(tt=-tt);var nc=Math.cos(tt),$d=Math.sin(tt);Pn=new pt(nc,$d,-$d,nc,0,0)}else tt&&tt instanceof pt&&(Pn=tt);S!==b.ADVANCED||Pn||(Pn=za),(St=fe.charSpace||Ku)!==void 0&&(hr+=E(I(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kn=fe.horizontalScale)!==void 0&&(hr+=E(100*kn)+` Tz
`),fe.lang;var ei=-1,Zy=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Bd=Vn.internal.getCurrentPageInfo().pageContext;switch(Zy){case 0:case!1:case"fill":ei=0;break;case 1:case!0:case"stroke":ei=1;break;case 2:case"fillThenStroke":ei=2;break;case 3:case"invisible":ei=3;break;case 4:case"fillAndAddForClipping":ei=4;break;case 5:case"strokeAndAddPathForClipping":ei=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ei=6;break;case 7:case"addToPathForClipping":ei=7}var VA=Bd.usedRenderingMode!==void 0?Bd.usedRenderingMode:-1;ei!==-1?hr+=ei+` Tr
`:VA!==-1&&(hr+=`0 Tr
`),ei!==-1&&(Bd.usedRenderingMode=ei),lt=fe.align||"left";var Bi,rc=Me*gi,GA=Vn.internal.pageSize.getWidth(),WA=De[ht];St=fe.charSpace||Ku,xt=fe.maxWidth||0,Ft=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var ds=[],Cl=function(fn){return Vn.getStringUnitWidth(fn,{font:WA,charSpace:St,fontSize:Me,doKerning:!1})*Me/Ka};if(Object.prototype.toString.call(N)==="[object Array]"){var ti;He=Dd(N),lt!=="left"&&(Bi=He.map(Cl));var qr,hs=0;if(lt==="right"){V-=Bi[0],N=[],Sr=He.length;for(var yo=0;yo<Sr;yo++)yo===0?(qr=Ya(V),ti=vo(se)):(qr=I(hs-Bi[yo]),ti=-rc),N.push([He[yo],qr,ti]),hs=Bi[yo]}else if(lt==="center"){V-=Bi[0]/2,N=[],Sr=He.length;for(var bo=0;bo<Sr;bo++)bo===0?(qr=Ya(V),ti=vo(se)):(qr=I((hs-Bi[bo])/2),ti=-rc),N.push([He[bo],qr,ti]),hs=Bi[bo]}else if(lt==="left"){N=[],Sr=He.length;for(var ic=0;ic<Sr;ic++)N.push(He[ic])}else if(lt==="justify"&&WA.encoding==="Identity-H"){N=[],Sr=He.length,xt=xt!==0?xt:GA;for(var xo=0,Rn=0;Rn<Sr;Rn++)if(ti=Rn===0?vo(se):-rc,qr=Rn===0?Ya(V):xo,Rn<Sr-1){var Ud=I((xt-Bi[Rn])/(He[Rn].split(" ").length-1)),Hr=He[Rn].split(" ");N.push([Hr[0]+" ",qr,ti]),xo=0;for(var Ui=1;Ui<Hr.length;Ui++){var ac=(Cl(Hr[Ui-1]+" "+Hr[Ui])-Cl(Hr[Ui]))*Ka+Ud;Ui==Hr.length-1?N.push([Hr[Ui],ac,0]):N.push([Hr[Ui]+" ",ac,0]),xo-=ac}}else N.push([He[Rn],qr,ti]);N.push(["",xo,0])}else{if(lt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Sr=He.length,xt=xt!==0?xt:GA,Rn=0;Rn<Sr;Rn++)ti=Rn===0?vo(se):-rc,qr=Rn===0?Ya(V):0,Rn<Sr-1?ds.push(E(I((xt-Bi[Rn])/(He[Rn].split(" ").length-1)))):ds.push(0),N.push([He[Rn],qr,ti])}}var YA=typeof fe.R2L=="boolean"?fe.R2L:we;YA===!0&&(N=Ld(N,function(fn,dn,Fn){return[fn.split("").reverse().join(""),dn,Fn]})),Ie={text:N,x:V,y:se,options:fe,mutex:{pdfEscape:Zr,activeFontKey:ht,fonts:De,activeFontSize:Me}},Lt.publish("postProcessText",Ie),N=Ie.text,ba=Ie.mutex.isHex||!1;var qd=De[ht].encoding;qd!=="WinAnsiEncoding"&&qd!=="StandardEncoding"||(N=Ld(N,function(fn,dn,Fn){return[zA(fn),dn,Fn]})),He=Dd(N),N=[];for(var Nl,El,ps,kl=0,oc=1,Pl=Array.isArray(He[0])?oc:kl,As="",Hd=function(fn,dn,Fn){var rr="";return Fn instanceof pt?(Fn=typeof fe.angle=="number"?pa(Fn,new pt(1,0,0,1,fn,dn)):pa(new pt(1,0,0,1,fn,dn),Fn),S===b.ADVANCED&&(Fn=pa(new pt(1,0,0,-1,0,0),Fn)),rr=Fn.join(" ")+` Tm
`):rr=E(fn)+" "+E(dn)+` Td
`,rr},qi=0;qi<He.length;qi++){switch(As="",Pl){case oc:ps=(ba?"<":"(")+He[qi][0]+(ba?">":")"),Nl=parseFloat(He[qi][1]),El=parseFloat(He[qi][2]);break;case kl:ps=(ba?"<":"(")+He[qi]+(ba?">":")"),Nl=Ya(V),El=vo(se)}ds!==void 0&&ds[qi]!==void 0&&(As=ds[qi]+` Tw
`),qi===0?N.push(As+Hd(Nl,El,Pn)+ps):Pl===kl?N.push(As+ps):Pl===oc&&N.push(As+Hd(Nl,El,Pn)+ps)}N=Pl===kl?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Hi=`BT
/`;return Hi+=ht+" "+Me+` Tf
`,Hi+=E(Me*gi)+` TL
`,Hi+=_l+`
`,Hi+=hr,Hi+=N,ae(Hi+="ET"),h[ht]=!0,Vn};var zy=p.__private__.clip=p.clip=function(N){return ae(N==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return zy("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ae("n"),this};var Wa=p.__private__.isValidStyle=function(N){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(N){return Wa(N)&&(u=N),this};var LA=p.__private__.getStyle=p.getStyle=function(N){var V=u;switch(N){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=N}return V},RA=p.close=function(){return ae("h"),this};p.stroke=function(){return ae("S"),this},p.fill=function(N){return Wu("f",N),this},p.fillEvenOdd=function(N){return Wu("f*",N),this},p.fillStroke=function(N){return Wu("B",N),this},p.fillStrokeEvenOdd=function(N){return Wu("B*",N),this};var Wu=function(N,V){Zt(V)==="object"?Gy(V,N):ae(N)},Td=function(N){N===null||S===b.ADVANCED&&N===void 0||(N=LA(N),ae(N))};function Vy(N,V,se,fe,Se){var Ie=new Kl(V||this.boundingBox,se||this.xStep,fe||this.yStep,this.gState,Se||this.matrix);Ie.stream=this.stream;var He=N+"$$"+this.cloneIndex+++"$$";return Qr(He,Ie),Ie}var Gy=function(N,V){var se=Bt[N.key],fe=Ke[se];if(fe instanceof Rs)ae("q"),ae(Wy(V)),fe.gState&&p.setGState(fe.gState),ae(N.matrix.toString()+" cm"),ae("/"+se+" sh"),ae("Q");else if(fe instanceof Kl){var Se=new pt(1,0,0,-1,0,fs());N.matrix&&(Se=Se.multiply(N.matrix||za),se=Vy.call(fe,N.key,N.boundingBox,N.xStep,N.yStep,Se).id),ae("q"),ae("/Pattern cs"),ae("/"+se+" scn"),fe.gState&&p.setGState(fe.gState),ae(V),ae("Q")}},Wy=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Cd=p.moveTo=function(N,V){return ae(E(I(N))+" "+E(F(V))+" m"),this},wl=p.lineTo=function(N,V){return ae(E(I(N))+" "+E(F(V))+" l"),this},us=p.curveTo=function(N,V,se,fe,Se,Ie){return ae([E(I(N)),E(F(V)),E(I(se)),E(F(fe)),E(I(Se)),E(F(Ie)),"c"].join(" ")),this};p.__private__.line=p.line=function(N,V,se,fe,Se){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(fe)||!Wa(Se))throw new Error("Invalid arguments passed to jsPDF.line");return S===b.COMPAT?this.lines([[se-N,fe-V]],N,V,[1,1],Se||"S"):this.lines([[se-N,fe-V]],N,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(N,V,se,fe,Se,Ie){var He,tt,lt,St,xt,Ft,kn,Pn,Vn,Or,hr,ba;if(typeof N=="number"&&(ba=se,se=V,V=N,N=ba),fe=fe||[1,1],Ie=Ie||!1,isNaN(V)||isNaN(se)||!Array.isArray(N)||!Array.isArray(fe)||!Wa(Se)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cd(V,se),He=fe[0],tt=fe[1],St=N.length,Or=V,hr=se,lt=0;lt<St;lt++)(xt=N[lt]).length===2?(Or=xt[0]*He+Or,hr=xt[1]*tt+hr,wl(Or,hr)):(Ft=xt[0]*He+Or,kn=xt[1]*tt+hr,Pn=xt[2]*He+Or,Vn=xt[3]*tt+hr,Or=xt[4]*He+Or,hr=xt[5]*tt+hr,us(Ft,kn,Pn,Vn,Or,hr));return Ie&&RA(),Td(Se),this},p.path=function(N){for(var V=0;V<N.length;V++){var se=N[V],fe=se.c;switch(se.op){case"m":Cd(fe[0],fe[1]);break;case"l":wl(fe[0],fe[1]);break;case"c":us.apply(this,fe);break;case"h":RA()}}return this},p.__private__.rect=p.rect=function(N,V,se,fe,Se){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(fe)||!Wa(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b.COMPAT&&(fe=-fe),ae([E(I(N)),E(F(V)),E(I(se)),E(I(fe)),"re"].join(" ")),Td(Se),this},p.__private__.triangle=p.triangle=function(N,V,se,fe,Se,Ie,He){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(fe)||isNaN(Se)||isNaN(Ie)||!Wa(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-N,fe-V],[Se-se,Ie-fe],[N-Se,V-Ie]],N,V,[1,1],He,!0),this},p.__private__.roundedRect=p.roundedRect=function(N,V,se,fe,Se,Ie,He){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(fe)||isNaN(Se)||isNaN(Ie)||!Wa(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*se),Ie=Math.min(Ie,.5*fe),this.lines([[se-2*Se,0],[Se*tt,0,Se,Ie-Ie*tt,Se,Ie],[0,fe-2*Ie],[0,Ie*tt,-Se*tt,Ie,-Se,Ie],[2*Se-se,0],[-Se*tt,0,-Se,-Ie*tt,-Se,-Ie],[0,2*Ie-fe],[0,-Ie*tt,Se*tt,-Ie,Se,-Ie]],N+Se,V,[1,1],He,!0),this},p.__private__.ellipse=p.ellipse=function(N,V,se,fe,Se){if(isNaN(N)||isNaN(V)||isNaN(se)||isNaN(fe)||!Wa(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*se,He=4/3*(Math.SQRT2-1)*fe;return Cd(N+se,V),us(N+se,V-He,N+Ie,V-fe,N,V-fe),us(N-Ie,V-fe,N-se,V-He,N-se,V),us(N-se,V+He,N-Ie,V+fe,N,V+fe),us(N+Ie,V+fe,N+se,V+He,N+se,V),Td(Se),this},p.__private__.circle=p.circle=function(N,V,se,fe){if(isNaN(N)||isNaN(V)||isNaN(se)||!Wa(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,V,se,se,fe)},p.setFont=function(N,V,se){return se&&(V=k(V,se)),ht=IA(N,V,{disableWarning:!1}),this};var Yy=p.__private__.getFont=p.getFont=function(){return De[IA.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var N,V,se={};for(N in Qe)if(Qe.hasOwnProperty(N))for(V in se[N]=[],Qe[N])Qe[N].hasOwnProperty(V)&&se[N].push(V);return se},p.addFont=function(N,V,se,fe,Se){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(se=k(se,fe)),Se=Se||"Identity-H",wd.call(this,N,V,se,Se)};var Sl,Nd=t.lineWidth||.200025,Yu=p.__private__.getLineWidth=p.getLineWidth=function(){return Nd},FA=p.__private__.setLineWidth=p.setLineWidth=function(N){return Nd=N,ae(E(I(N))+" w"),this};p.__private__.setLineDash=ut.API.setLineDash=ut.API.setLineDashPattern=function(N,V){if(N=N||[],V=V||0,isNaN(V)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(se){return E(I(se))}).join(" "),V=E(I(V)),ae("["+N+"] "+V+" d"),this};var $A=p.__private__.getLineHeight=p.getLineHeight=function(){return Me*Sl};p.__private__.getLineHeight=p.getLineHeight=function(){return Me*Sl};var BA=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Sl=N),this},UA=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Sl};BA(t.lineHeight);var Ya=p.__private__.getHorizontalCoordinate=function(N){return I(N)},vo=p.__private__.getVerticalCoordinate=function(N){return S===b.ADVANCED?N:ft[z].mediaBox.topRightY-ft[z].mediaBox.bottomLeftY-I(N)},Ky=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(N){return E(Ya(N))},cs=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(N){return E(vo(N))},ya=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ma(ya)},p.__private__.setStrokeColor=p.setDrawColor=function(N,V,se,fe){return ya=ga({ch1:N,ch2:V,ch3:se,ch4:fe,pdfColorType:"draw",precision:2}),ae(ya),this};var Ed=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ma(Ed)},p.__private__.setFillColor=p.setFillColor=function(N,V,se,fe){return Ed=ga({ch1:N,ch2:V,ch3:se,ch4:fe,pdfColorType:"fill",precision:2}),ae(Ed),this};var _l=t.textColor||"0 g",Jy=p.__private__.getTextColor=p.getTextColor=function(){return ma(_l)};p.__private__.setTextColor=p.setTextColor=function(N,V,se,fe){return _l=ga({ch1:N,ch2:V,ch3:se,ch4:fe,pdfColorType:"text",precision:3}),this};var Ku=t.charSpace,Xy=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ku||0)};p.__private__.setCharSpace=p.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ku=N,this};var kd=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(N){var V=p.CapJoinStyles[N];if(V===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kd=V,ae(V+" J"),this};var Pd=0;p.__private__.setLineJoin=p.setLineJoin=function(N){var V=p.CapJoinStyles[N];if(V===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pd=V,ae(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(E(I(N))+" M"),this},p.GState=gp,p.setGState=function(N){(N=typeof N=="string"?Et[wr[N]]:qA(null,N)).equals(Ri)||(ae("/"+N.id+" gs"),Ri=N)};var qA=function(N,V){if(!N||!wr[N]){var se=!1;for(var fe in Et)if(Et.hasOwnProperty(fe)&&Et[fe].equals(V)){se=!0;break}if(se)V=Et[fe];else{var Se="GS"+(Object.keys(Et).length+1).toString(10);Et[Se]=V,V.id=Se}return N&&(wr[N]=V.id),Lt.publish("addGState",V),V}};p.addGState=function(N,V){return qA(N,V),this},p.saveGraphicsState=function(){return ae("q"),et.push({key:ht,size:Me,color:_l}),this},p.restoreGraphicsState=function(){ae("Q");var N=et.pop();return ht=N.key,Me=N.size,_l=N.color,Ri=null,this},p.setCurrentTransformationMatrix=function(N){return ae(N.toString()+" cm"),this},p.comment=function(N){return ae("#"+N),this};var Ju=function(N,V){var se=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ie){isNaN(Ie)||(se=parseFloat(Ie))}});var fe=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ie){isNaN(Ie)||(fe=parseFloat(Ie))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Ie){Se=Ie.toString()}}),this},Md=function(N,V,se,fe){Ju.call(this,N,V),this.type="rect";var Se=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(He){isNaN(He)||(Se=parseFloat(He))}});var Ie=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(He){isNaN(He)||(Ie=parseFloat(He))}}),this},Od=function(){this.page=vn,this.currentPage=z,this.pages=ce.slice(0),this.pagesContext=ft.slice(0),this.x=je,this.y=Je,this.matrix=Ae,this.width=Tl(z),this.height=fs(z),this.outputDestination=Te,this.id="",this.objectNumber=-1};Od.prototype.restore=function(){vn=this.page,z=this.currentPage,ft=this.pagesContext,ce=this.pages,je=this.x,Je=this.y,Ae=this.matrix,Id(z,this.width),jd(z,this.height),Te=this.outputDestination};var HA=function(N,V,se,fe,Se){Ha.push(new Od),vn=z=0,ce=[],je=N,Je=V,Ae=Se,Sd([se,fe])},Qy=function(N){if(qa[N])Ha.pop().restore();else{var V=new Od,se="Xo"+(Object.keys(tr).length+1).toString(10);V.id=se,qa[N]=se,tr[se]=V,Lt.publish("addFormObject",V),Ha.pop().restore()}};for(var Xu in p.beginFormObject=function(N,V,se,fe,Se){return HA(N,V,se,fe,Se),this},p.endFormObject=function(N){return Qy(N),this},p.doFormObject=function(N,V){var se=tr[qa[N]];return ae("q"),ae(V.toString()+" cm"),ae("/"+se.id+" Do"),ae("Q"),this},p.getFormObject=function(N){var V=tr[qa[N]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(N,V){return N=N||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Hl(Vu(go()),N),typeof Hl.unload=="function"&&mt.setTimeout&&setTimeout(Hl.unload,911),this):new Promise(function(se,fe){try{var Se=Hl(Vu(go()),N);typeof Hl.unload=="function"&&mt.setTimeout&&setTimeout(Hl.unload,911),se(Se)}catch(Ie){fe(Ie.message)}})},ut.API)ut.API.hasOwnProperty(Xu)&&(Xu==="events"&&ut.API.events.length?function(N,V){var se,fe,Se;for(Se=V.length-1;Se!==-1;Se--)se=V[Se][0],fe=V[Se][1],N.subscribe.apply(N,[se].concat(typeof fe=="function"?[fe]:fe))}(Lt,ut.API.events):p[Xu]=ut.API[Xu]);var Tl=p.getPageWidth=function(N){return(ft[N=N||z].mediaBox.topRightX-ft[N].mediaBox.bottomLeftX)/We},Id=p.setPageWidth=function(N,V){ft[N].mediaBox.topRightX=V*We+ft[N].mediaBox.bottomLeftX},fs=p.getPageHeight=function(N){return(ft[N=N||z].mediaBox.topRightY-ft[N].mediaBox.bottomLeftY)/We},jd=p.setPageHeight=function(N,V){ft[N].mediaBox.topRightY=V*We+ft[N].mediaBox.bottomLeftY};return p.internal={pdfEscape:Zr,getStyle:LA,getFont:Yy,getFontSize:Pe,getCharSpace:Xy,getTextColor:Jy,getLineHeight:$A,getLineHeightFactor:UA,getLineWidth:Yu,write:Ee,getHorizontalCoordinate:Ya,getVerticalCoordinate:vo,getCoordinateString:Ky,getVerticalCoordinateString:cs,collections:{},newObject:nr,newAdditionalObject:Ru,newObjectDeferred:zn,newObjectDeferredBegin:mi,getFilters:Va,putStream:$i,events:Lt,scaleFactor:We,pageSize:{getWidth:function(){return Tl(z)},setWidth:function(N){Id(z,N)},getHeight:function(){return fs(z)},setHeight:function(N){jd(z,N)}},encryptionOptions:c,encryption:Mr,getEncryptor:qy,output:Gu,getNumberOfPages:Ry,pages:ce,out:ae,f2:U,f3:O,getPageInfo:DA,getPageInfoByObjId:bt,getCurrentPageInfo:Hy,getPDFVersion:x,Point:Ju,Rectangle:Md,Matrix:pt,hasHotfix:jA},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Tl(z)},set:function(N){Id(z,N)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return fs(z)},set:function(N){jd(z,N)},enumerable:!0,configurable:!0}),Dy.call(p,ye),ht="F1",MA(i,n),Lt.publish("initialized"),p}Mc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Mc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Mc.prototype.processOwnerPassword=function(t,e){return C2(T2(e).substr(0,5),t)},Mc.prototype.encryptor=function(t,e){var n=T2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return C2(n,r)}},gp.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Zt(t)!==Zt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ut.API={events:[]},ut.version="2.5.2";var In=ut.API,TS=1,Mu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wt=function(t){return t.toFixed(2)},Cs=function(t){return t.toFixed(5)};In.__acroform__={};var pi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},LE=function(t){return t*TS},Qa=function(t){var e=new Tj,n=at.internal.getHeight(t)||0,r=at.internal.getWidth(t)||0;return e.BBox=[0,0,Number(wt(r)),Number(wt(n))],e},TQ=In.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},CQ=In.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},NQ=In.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},$n=In.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NQ(t,e-1)},Bn=In.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TQ(t,e-1)},Un=In.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return CQ(t,e-1)},EQ=In.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(wt(l.lowerLeft_X)),Number(wt(l.lowerLeft_Y)),Number(wt(l.upperRight_X)),Number(wt(l.upperRight_Y))]},kQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=N2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Qa(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},N2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var a=n,o=at.internal.getHeight(t)||0;o=o<0?-o:o;var s=at.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(O,I,$){if(O+1<i.length){var F=I+" "+i[O+1][0];return Fm(F,t,$).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Fm("3",t,a).height,h=t.multiline?o-a:(o-f)/2,p=h+=2,y=0,x=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Fm(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var v="",b=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var T=!1;if(i[S].length!==1&&w!==i[S].length-1){if((f+2)*(b+2)+2>o)continue e;v+=i[S][w],T=!0,x=S,S--}else{v=(v+=i[S][w]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var C=parseInt(S),k=l(C,v,a),E=S>=i.length-1;if(k&&!E){v+=" ",w=0;continue}if(k||E){if(E)x=C;else if(t.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(b+2)+2>o)continue e;x=C}}for(var M="",j=y;j<=x;j++){var U=i[j];if(t.multiline){if(j===x){M+=U[w]+" ",w=(w+1)%U.length;continue}if(j===y){M+=U[U.length-1]+" ";continue}}M+=U[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,c=Fm(M,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;case"left":default:u=2}e+=wt(u)+" "+wt(p)+` Td
`,e+="("+Mu(M)+`) Tj
`,e+=-wt(u)+` 0 Td
`,p=-(a+2),c=0,y=T?x:x+1,b++,v=""}break}return r.text=e,r.fontSize=a,r},Fm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},PQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},MQ=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},OQ=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Zt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},IQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if($a.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(PQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Cj,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&MQ(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=EQ(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=at.createDefaultAppearanceStream(s),Zt(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=kQ(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var h in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(h)){var p=s.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var y=p[o];typeof y=="function"&&(y=y.call(i,s)),f+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(i,s)),f+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&OQ(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},_j=In.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Zt(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Mu(r(t[a].toString()))+")"):i+=t[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Mu(r(t))+")"},ro=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ro.prototype.toString=function(){return this.objId+" 0 R"},ro.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ro.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:_j(i,this.objId,this.scope)}):i instanceof ro?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Tj=function(){ro.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};pi(Tj,ro);var Cj=function(){ro.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Mu(n(t))+")"}},set:function(n){t=n}})};pi(Cj,ro);var $a=function t(){ro.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$n(e,3)},set:function(v){v?this.F=Bn(e,3):this.F=Un(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof e0)return;a="FieldObject"+t.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Mu(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/TS:u},set:function(v){u=v}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof e0||this instanceof nl))return g1(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof sr?h:g1(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof sr?v:v.substr(0,1)==="("?yc(v.substr(1,v.length-2)):yc(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?yc(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof sr?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof sr?p:g1(p,this.objId,this.scope)},set:function(v){v=v.toString(),p=this instanceof sr?v:v.substr(0,1)==="("?yc(v.substr(1,v.length-2)):yc(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?yc(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof sr?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,1)},set:function(v){v?this.Ff=Bn(this.Ff,1):this.Ff=Un(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,2)},set:function(v){v?this.Ff=Bn(this.Ff,2):this.Ff=Un(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,3)},set:function(v){v?this.Ff=Bn(this.Ff,3):this.Ff=Un(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');w=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(w){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};pi($a,ro);var au=function(){$a.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _j(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,18)},set:function(n){n?this.Ff=Bn(this.Ff,18):this.Ff=Un(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Bn(this.Ff,19):this.Ff=Un(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,20)},set:function(n){n?(this.Ff=Bn(this.Ff,20),e.sort()):this.Ff=Un(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,22)},set:function(n){n?this.Ff=Bn(this.Ff,22):this.Ff=Un(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(n){n?this.Ff=Bn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,27)},set:function(n){n?this.Ff=Bn(this.Ff,27):this.Ff=Un(this.Ff,27)}}),this.hasAppearanceStream=!1};pi(au,$a);var ou=function(){au.call(this),this.fontName="helvetica",this.combo=!1};pi(ou,au);var su=function(){ou.call(this),this.combo=!0};pi(su,ou);var Vh=function(){su.call(this),this.edit=!0};pi(Vh,su);var sr=function(){$a.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,15)},set:function(n){n?this.Ff=Bn(this.Ff,15):this.Ff=Un(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,16)},set:function(n){n?this.Ff=Bn(this.Ff,16):this.Ff=Un(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,17)},set:function(n){n?this.Ff=Bn(this.Ff,17):this.Ff=Un(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(n){n?this.Ff=Bn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Mu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Zt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};pi(sr,$a);var Gh=function(){sr.call(this),this.pushButton=!0};pi(Gh,sr);var lu=function(){sr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pi(lu,sr);var e0=function(){var t,e;$a.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Mu(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Zt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pi(e0,$a),lu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},lu.prototype.createOption=function(t){var e=new e0;return e.Parent=this,e.optionName=t,this.Kids.push(e),jQ.call(this.scope,e),e};var Wh=function(){sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};pi(Wh,sr);var nl=function(){$a.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,13)},set:function(e){e?this.Ff=Bn(this.Ff,13):this.Ff=Un(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,21)},set:function(e){e?this.Ff=Bn(this.Ff,21):this.Ff=Un(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,23)},set:function(e){e?this.Ff=Bn(this.Ff,23):this.Ff=Un(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,24)},set:function(e){e?this.Ff=Bn(this.Ff,24):this.Ff=Un(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,25)},set:function(e){e?this.Ff=Bn(this.Ff,25):this.Ff=Un(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,26)},set:function(e){e?this.Ff=Bn(this.Ff,26):this.Ff=Un(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pi(nl,$a);var Yh=function(){nl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$n(this.Ff,14)},set:function(t){t?this.Ff=Bn(this.Ff,14):this.Ff=Un(this.Ff,14)}}),this.password=!0};pi(Yh,nl);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Qa(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=N2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+wt(at.internal.getWidth(t))+" "+wt(at.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+wt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Qa(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=at.internal.getHeight(t),o=at.internal.getWidth(t),s=N2(t,t.caption);return i.push("1 g"),i.push("0 0 "+wt(o)+" "+wt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wt(o-1)+" "+wt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+wt(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Qa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(at.internal.getWidth(t))+" "+wt(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Circle.YesNormal,e.D[t]=at.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Qa(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=at.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Cs(at.internal.getWidth(t)/2)+" "+Cs(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qa(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*at.internal.Bezier_C).toFixed(5)),o=Number((r*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Cs(at.internal.getWidth(t)/2)+" "+Cs(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Cs(at.internal.getWidth(t)/2)+" "+Cs(at.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Qa(t);e.scope=t.scope;var n=[],r=at.internal.getWidth(t)<=at.internal.getHeight(t)?at.internal.getWidth(t)/4:at.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Cs(at.internal.getWidth(t)/2)+" "+Cs(at.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=at.RadioButton.Cross.YesNormal,e.D[t]=at.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Qa(t);e.scope=t.scope;var n=[],r=at.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+wt(at.internal.getWidth(t)-2)+" "+wt(at.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(wt(r.x1.x)+" "+wt(r.x1.y)+" m"),n.push(wt(r.x2.x)+" "+wt(r.x2.y)+" l"),n.push(wt(r.x4.x)+" "+wt(r.x4.y)+" m"),n.push(wt(r.x3.x)+" "+wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qa(t);e.scope=t.scope;var n=at.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+wt(at.internal.getWidth(t))+" "+wt(at.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+wt(at.internal.getWidth(t)-2)+" "+wt(at.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(wt(n.x1.x)+" "+wt(n.x1.y)+" m"),r.push(wt(n.x2.x)+" "+wt(n.x2.y)+" l"),r.push(wt(n.x4.x)+" "+wt(n.x4.y)+" m"),r.push(wt(n.x3.x)+" "+wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Qa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+wt(at.internal.getWidth(t))+" "+wt(at.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};at.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=at.internal.getWidth(t),n=at.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},at.internal.getWidth=function(t){var e=0;return Zt(t)==="object"&&(e=LE(t.Rect[2])),e},at.internal.getHeight=function(t){var e=0;return Zt(t)==="object"&&(e=LE(t.Rect[3])),e};var jQ=In.addField=function(t){if(IQ(this,t),!(t instanceof $a))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};In.AcroFormChoiceField=au,In.AcroFormListBox=ou,In.AcroFormComboBox=su,In.AcroFormEditBox=Vh,In.AcroFormButton=sr,In.AcroFormPushButton=Gh,In.AcroFormRadioButton=lu,In.AcroFormCheckBox=Wh,In.AcroFormTextField=nl,In.AcroFormPasswordField=Yh,In.AcroFormAppearance=at,In.AcroForm={ChoiceField:au,ListBox:ou,ComboBox:su,EditBox:Vh,Button:sr,PushButton:Gh,RadioButton:lu,CheckBox:Wh,TextField:nl,PasswordField:Yh,Appearance:at},ut.AcroForm={ChoiceField:au,ListBox:ou,ComboBox:su,EditBox:Vh,Button:sr,PushButton:Gh,RadioButton:lu,CheckBox:Wh,TextField:nl,PasswordField:Yh,Appearance:at};var DQ=ut.AcroForm;function Nj(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(O,I){var $,F,H,R,B,W=e;if((I=I||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(k(O))for(B in n)for(H=n[B],$=0;$<H.length;$+=1){for(R=!0,F=0;F<H[$].length;F+=1)if(H[$][F]!==void 0&&H[$][F]!==O[F]){R=!1;break}if(R===!0){W=B;break}}else for(B in n)for(H=n[B],$=0;$<H.length;$+=1){for(R=!0,F=0;F<H[$].length;F+=1)if(H[$][F]!==void 0&&H[$][F]!==O.charCodeAt(F)){R=!1;break}if(R===!0){W=B;break}}return W===e&&I!==e&&(W=I),W},i=function O(I){for(var $=this.internal.write,F=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:I.width}),R.push({key:"Height",value:I.height}),I.colorSpace===w.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===w.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var B="",W=0,K=I.transparency.length;W<K;W++)B+=I.transparency[W]+" "+I.transparency[W]+" ";R.push({key:"Mask",value:"["+B+"]"})}I.sMask!==void 0&&R.push({key:"SMask",value:I.objectId+1+" 0 R"});var Z=I.filter!==void 0?["/"+I.filter]:void 0;if(F({data:I.data,additionalKeyValues:R,alreadyAppliedFilters:Z,objectId:I.objectId}),$("endobj"),"sMask"in I&&I.sMask!==void 0){var oe="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,L={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:oe,data:I.sMask};"filter"in I&&(L.filter=I.filter),O.call(this,L)}if(I.colorSpace===w.INDEXED){var z=this.internal.newObject();F({data:M(new Uint8Array(I.palette)),objectId:z}),$("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var I in O)i.call(this,O[I])},o=function(){var O,I=this.internal.collections.addImage_images,$=this.internal.write;for(var F in I)$("/I"+(O=I[F]).index,O.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var O=this.internal.collections.addImage_images;return s.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(O){return typeof t["process"+O.toUpperCase()]=="function"},f=function(O){return Zt(O)==="object"&&O.nodeType===1},h=function(O,I){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var $=""+O.getAttribute("src");if($.indexOf("data:image/")===0)return zh(unescape($).split("base64,").pop());var F=t.loadFile($,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var H;switch(I){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return zh(O.toDataURL(H,1).split("base64,").pop())}},p=function(O){var I=this.internal.collections.addImage_images;if(I){for(var $ in I)if(O===I[$].alias)return I[$]}},y=function(O,I,$){return O||I||(O=-96,I=-96),O<0&&(O=-1*$.width*72/O/this.internal.scaleFactor),I<0&&(I=-1*$.height*72/I/this.internal.scaleFactor),O===0&&(O=I*$.width/$.height),I===0&&(I=O*$.height/$.width),[O,I]},x=function(O,I,$,F,H,R){var B=y.call(this,$,F,H),W=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,Z=l.call(this);if($=B[0],F=B[1],Z[H.index]=H,R){R*=Math.PI/180;var oe=Math.cos(R),L=Math.sin(R),z=function(te){return te.toFixed(4)},Q=[z(oe),z(L),z(-1*L),z(oe),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,W(O),K(I+F),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W($),"0","0",W(F),"0","0","cm"].join(" "))):this.internal.write([W($),"0","0",W(F),W(O),K(I+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(O){var I,$,F=0;if(typeof O=="string")for($=O.length,I=0;I<$;I++)F=(F<<5)-F+O.charCodeAt(I),F|=0;else if(k(O))for($=O.byteLength/2,I=0;I<$;I++)F=(F<<5)-F+O[I],F|=0;return F},S=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var I=!0;return O.length===0&&(I=!1),O.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(I=!1),I},T=t.__addimage__.extractImageFromDataUrl=function(O){var I=(O=O||"").split("base64,"),$=null;if(I.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(F)&&($={mimeType:F[1],charset:F[2],data:I[1]})}return $},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return C()&&O instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(O){return C()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},E=t.__addimage__.binaryStringToUint8Array=function(O){for(var I=O.length,$=new Uint8Array(I),F=0;F<I;F++)$[F]=O.charCodeAt(F);return $},M=t.__addimage__.arrayBufferToBinaryString=function(O){for(var I="",$=k(O)?O:new Uint8Array(O),F=0;F<$.length;F+=8192)I+=String.fromCharCode.apply(null,$.subarray(F,F+8192));return I};t.addImage=function(){var O,I,$,F,H,R,B,W,K;if(typeof arguments[1]=="number"?(I=e,$=arguments[1],F=arguments[2],H=arguments[3],R=arguments[4],B=arguments[5],W=arguments[6],K=arguments[7]):(I=arguments[1],$=arguments[2],F=arguments[3],H=arguments[4],R=arguments[5],B=arguments[6],W=arguments[7],K=arguments[8]),Zt(O=arguments[0])==="object"&&!f(O)&&"imageData"in O){var Z=O;O=Z.imageData,I=Z.format||I||e,$=Z.x||$||0,F=Z.y||F||0,H=Z.w||Z.width||H,R=Z.h||Z.height||R,B=Z.alias||B,W=Z.compression||W,K=Z.rotation||Z.angle||K}var oe=this.internal.getFilters();if(W===void 0&&oe.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN($)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var L=j.call(this,O,I,B,W);return x.call(this,$,F,H,R,L,K),this};var j=function(O,I,$,F){var H,R,B;if(typeof O=="string"&&r(O)===e){O=unescape(O);var W=U(O,!1);(W!==""||(W=t.loadFile(O,!0))!==void 0)&&(O=W)}if(f(O)&&(O=h(O,I)),I=r(O,I),!c(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((B=$)==null||B.length===0)&&($=function(K){return typeof K=="string"||k(K)?b(K):k(K.data)?b(K.data):null}(O)),(H=p.call(this,$))||(C()&&(O instanceof Uint8Array||I==="RGBA"||(R=O,O=E(O))),H=this["process"+I.toUpperCase()](O,u.call(this),$,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:v.NONE}(F),R)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},U=t.__addimage__.convertBase64ToBinaryString=function(O,I){var $;I=typeof I!="boolean"||I;var F,H="";if(typeof O=="string"){F=($=T(O))!==null?$.data:O;try{H=zh(F)}catch(R){if(I)throw S(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(O){var I,$,F="";if(f(O)&&(O=h(O)),typeof O=="string"&&r(O)===e&&((F=U(O,!1))===""&&(F=t.loadFile(O)||""),O=F),$=r(O),!c($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(!C()||O instanceof Uint8Array||(O=E(O)),!(I=this["process"+$.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=$,I}})(ut.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ut.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){r=u[h];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),b=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+p(v(b))+") >>",x.content=a;var S=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(x.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(y(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var C=this.annotations._nameMap[r.options.name];r.options.pageNumber=C.page,r.options.top=C.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var k=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ut.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},s=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&a(x)&&e[x.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(x){var w=0,v=n,b="",S=0;for(w=0;w<x.length;w+=1)v[x.charCodeAt(w)]!==void 0?(S++,typeof(v=v[x.charCodeAt(w)])=="number"&&(b+=String.fromCharCode(v),v=n,S=0),w===x.length-1&&(v=n,b+=x.charAt(w-(S-1)),w-=S-1,S=0)):(v=n,b+=x.charAt(w-S),w-=S,S=0);return b};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(x,w,v){return o(x)?a(x)===!1?-1:!u(x)||!o(w)&&!o(v)||!o(v)&&s(w)||s(x)&&!o(w)||s(x)&&l(w)||s(x)&&s(w)?0:c(x)&&o(w)&&!s(w)&&o(v)&&u(v)?3:s(x)||!o(v)?1:2:-1},p=function(x){var w=0,v=0,b=0,S="",T="",C="",k=(x=x||"").split("\\s+"),E=[];for(w=0;w<k.length;w+=1){for(E.push(""),v=0;v<k[w].length;v+=1)S=k[w][v],T=k[w][v-1],C=k[w][v+1],o(S)?(b=h(S,T,C),E[w]+=b!==-1?String.fromCharCode(e[S.charCodeAt(0)][b]):S):E[w]+=S;E[w]=f(E[w])}return E.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var x,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(w)){var b=0;for(v=[],b=0;b<w.length;b+=1)Array.isArray(w[b])?v.push([p(w[b][0]),w[b][1],w[b][2]]):v.push([p(w[b])]);x=v}else x=p(w);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",y])}(ut.API),ut.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ut.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,x=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=u.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,T){return S.concat(w.splitTextToSize(T,v))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(x=this.getStringUnitWidth(l[b],{font:f})*c)&&(p=x);return p!==0&&(y=l.length),{w:p/=h,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,y,x,w,v=[],b=[],S=[],T={},C={},k=[],E=[],M=(h=h||{}).autoSize||!1,j=h.printHeaders!==!1,U=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,O=h.margins||Object.assign({width:this.getPageWidth()},e),I=typeof h.padding=="number"?h.padding:3,$=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=j,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=F,this.setFontSize(U),f==null)b=v=Object.keys(c[0]),S=v.map(function(){return"left"});else if(Array.isArray(f)&&Zt(f[0])==="object")for(v=f.map(function(Z){return Z.name}),b=f.map(function(Z){return Z.prompt||Z.name||""}),S=f.map(function(Z){return Z.align||"left"}),p=0;p<f.length;p+=1)C[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=v=f,S=v.map(function(){return"left"}));if(M||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<v.length;p+=1){for(T[w=v[p]]=c.map(function(Z){return Z[w]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[w],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)k.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[w]=Math.max.apply(null,k)+I+I,k=[]}if(j){var H={};for(p=0;p<v.length;p+=1)H[v[p]]={},H[v[p]].text=b[p],H[v[p]].align=S[p];var R=s.call(this,H,C);E=v.map(function(Z){return new a(l,u,C[Z],R,H[Z].text,void 0,H[Z].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var B=f.reduce(function(Z,oe){return Z[oe.name]=oe.align,Z},{});for(p=0;p<c.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:c[p]},this);var W=s.call(this,c[p],C);for(x=0;x<v.length;x+=1){var K=c[p][v[x]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:x,data:K},this),o.call(this,new a(l,u,C[v[x]],W,K,p+2,B[v[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+c+c},this).reduce(function(p,y){return Math.max(p,y)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(ut.API);var Ej={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kj=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],E2=Nj(kj),Pj=[100,200,300,400,500,600,700,800,900],LQ=Nj(Pj);function k2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Ej[a=a||"normal"]?a:"normal"}(t.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(a){return typeof E2[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function RE(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var RQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $E(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function FQ(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},RQ,n.genericFontFamilies||{}),a=null,o=null,s=0;s<e.length;++s)if(i[(a=k2(e[s])).family]&&(a.family=i[a.family]),t.hasOwnProperty(a.family)){o=t[a.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+$E(a)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=E2[l],f=c<=E2.normal?-1:1,h=RE(u,kj,c,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(a.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=Ej[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(a.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=LQ[l],f=RE(u,Pj,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+$E(a)+"'.");return o}function BE(t){return t.trimLeft()}function $Q(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function BQ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var $m,UE,qE,v1=["times"];(function(t){var e,n,r,i,a,o,s,l,u,c=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(_e){Q=!!_e}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(_e){te=!!_e}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(_e){isNaN(_e)||(ie=_e)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(_e){isNaN(_e)||(ge=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var ae;typeof _e=="number"?ae=[_e,_e,_e,_e]:((ae=new Array(4))[0]=_e[0],ae[1]=_e.length>=2?_e[1]:ae[0],ae[2]=_e.length>=3?_e[2]:ae[0],ae[3]=_e.length>=4?_e[3]:ae[1]),u.margin=ae}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(_e){pe=_e}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(_e){G=_e}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(_e){le=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof c&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return ce},set:function(_e){ce=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var ae;ae=h(_e),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var ae=h(_e);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var ue=null;function Te(_e,ae){if(ue===null){var Ee=function(ke){var ye=[];return Object.keys(ke).forEach(function(Me){ke[Me].forEach(function(xe){var Pe=null;switch(xe){case"bold":Pe={family:Me,weight:"bold"};break;case"italic":Pe={family:Me,style:"italic"};break;case"bolditalic":Pe={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Pe={family:Me}}Pe!==null&&(Pe.ref={name:Me,style:xe},ye.push(Pe))})}),ye}(_e.getFontList());ue=function(ke){for(var ye={},Me=0;Me<ke.length;++Me){var xe=k2(ke[Me]),Pe=xe.family,we=xe.stretch,Ve=xe.style,Ge=xe.weight;ye[Pe]=ye[Pe]||{},ye[Pe][we]=ye[Pe][we]||{},ye[Pe][we][Ve]=ye[Pe][we][Ve]||{},ye[Pe][we][Ve][Ge]=xe}return ye}(Ee.concat(ae))}return ue}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(_e){ue=null,Re=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var ae;if(this.ctx.font=_e,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var Ee=ae[1],ke=(ae[2],ae[3]),ye=ae[4],Me=(ae[5],ae[6]),xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ye)[2];ye=Math.floor(xe==="px"?parseFloat(ye)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(ye)*this.pdf.getFontSize():parseFloat(ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ye);var Pe=function(nt){var ht,We,je=[],Je=nt.trim();if(Je==="")return v1;if(Je in FE)return[FE[Je]];for(;Je!=="";){switch(We=null,ht=(Je=BE(Je)).charAt(0)){case'"':case"'":We=$Q(Je.substring(1),ht);break;default:We=BQ(Je)}if(We===null||(je.push(We[0]),(Je=BE(We[1]))!==""&&Je.charAt(0)!==","))return v1;Je=Je.replace(/^,/,"")}return je}(Me);if(this.fontFaces){var we=FQ(Te(this.pdf,this.fontFaces),Pe.map(function(nt){return{family:nt,stretch:"normal",weight:ke,style:Ee}}));this.pdf.setFont(we.ref.name,we.ref.style)}else{var Ve="";(ke==="bold"||parseInt(ke,10)>=700||Ee==="bold")&&(Ve="bold"),Ee==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var Ge="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<Pe.length;ze++){if(this.pdf.internal.getFont(Pe[ze],Ve,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Pe[ze];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(Pe[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Pe[ze],Ve="bold";else if(this.pdf.internal.getFont(Pe[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Pe[ze],Ve="normal";break}}if(Ge===""){for(var ct=0;ct<Pe.length;ct++)if(st[Pe[ct]]){Ge=st[Pe[ct]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(L,z)},f.prototype.closePath=function(){var L=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Zt(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},f.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,z,Q,te){if(isNaN(Q)||isNaN(te)||isNaN(L)||isNaN(z))throw sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Q,te)),ge=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},f.prototype.bezierCurveTo=function(L,z,Q,te,ie,ge){if(isNaN(ie)||isNaN(ge)||isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new o(ie,ge)),G=this.ctx.transform.applyToPoint(new o(L,z)),le=this.ctx.transform.applyToPoint(new o(Q,te));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:le.x,y2:le.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new o(pe.x,pe.y)},f.prototype.arc=function(L,z,Q,te,ie,ge){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(ie))throw sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new o(L,z));L=pe.x,z=pe.y;var G=this.ctx.transform.applyToPoint(new o(0,Q)),le=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(G.x-le.x,2)+Math.pow(G.y-le.y,2))}Math.abs(ie-te)>=2*Math.PI&&(te=0,ie=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:Q,startAngle:te,endAngle:ie,counterclockwise:ge})},f.prototype.arcTo=function(L,z,Q,te,ie){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+Q,z),this.lineTo(L+Q,z+te),this.lineTo(L,z+te),this.lineTo(L,z),this.lineTo(L+Q,z),this.lineTo(L,z)},f.prototype.fillRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,Q,te),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},f.prototype.strokeRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(L,z,Q,te),this.stroke())},f.prototype.clearRect=function(L,z,Q,te){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te))throw sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,Q,te))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(L){var z,Q,te,ie;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,Q=0,te=0,ie=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ge!==null)z=parseInt(ge[1]),Q=parseInt(ge[2]),te=parseInt(ge[3]),ie=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(ge[1]),Q=parseInt(ge[2]),te=parseInt(ge[3]),ie=parseFloat(ge[4]);else{if(ie=1,typeof L=="string"&&L.charAt(0)!=="#"){var pe=new xj(L);L=pe.ok?pe.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,Q=L.substring(2,3),Q+=Q,te=L.substring(3,4),te+=te):(z=L.substring(1,3),Q=L.substring(3,5),te=L.substring(5,7)),z=parseInt(z,16),Q=parseInt(Q,16),te=parseInt(te,16)}}return{r:z,g:Q,b:te,a:ie,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof L!="string")throw sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var ie=W(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:L,x:z,y:Q,scale:ge,angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(L,z,Q,te){if(isNaN(z)||isNaN(Q)||typeof L!="string")throw sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){te=isNaN(te)?void 0:te;var ie=W(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:L,x:z,y:Q,scale:ge,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(L){if(typeof L!="string")throw sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,Q=this.pdf.internal.scaleFactor,te=z.internal.getFontSize(),ie=z.getStringUnitWidth(L)*te/z.internal.scaleFactor,ge=function(pe){var G=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new ge({width:ie*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(L){if(isNaN(L))throw sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(L,z,Q,te,ie,ge){if(isNaN(L)||isNaN(z)||isNaN(Q)||isNaN(te)||isNaN(ie)||isNaN(ge))throw sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(L,z,Q,te,ie,ge);this.ctx.transform=this.ctx.transform.multiply(pe)},f.prototype.setTransform=function(L,z,Q,te,ie,ge){L=isNaN(L)?1:L,z=isNaN(z)?0:z,Q=isNaN(Q)?0:Q,te=isNaN(te)?1:te,ie=isNaN(ie)?0:ie,ge=isNaN(ge)?0:ge,this.ctx.transform=new l(L,z,Q,te,ie,ge)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,z,Q,te,ie,ge,pe,G,le){var ce=this.pdf.getImageProperties(L),ue=1,Te=1,Re=1,_e=1;te!==void 0&&G!==void 0&&(Re=G/te,_e=le/ie,ue=ce.width/te*G/te,Te=ce.height/ie*le/ie),ge===void 0&&(ge=z,pe=Q,z=0,Q=0),te!==void 0&&G===void 0&&(G=te,le=ie),te===void 0&&G===void 0&&(G=ce.width,le=ce.height);for(var ae,Ee=this.ctx.transform.decompose(),ke=W(Ee.rotate.shx),ye=new l,Me=(ye=(ye=(ye=ye.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new s(ge-z*Re,pe-Q*_e,te*ue,ie*Te)),xe=w.call(this,Me),Pe=[],we=0;we<xe.length;we+=1)Pe.indexOf(xe[we])===-1&&Pe.push(xe[we]);if(S(Pe),this.autoPaging)for(var Ve=Pe[0],Ge=Pe[Pe.length-1],st=Ve;st<Ge+1;st++){this.pdf.setPage(st);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=st===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=st===1?0:nt+(st-2)*ht;if(this.ctx.clip_path.length!==0){var je=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ae,this.posX+this.margin[3],-We+ct+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=je}var Je=JSON.parse(JSON.stringify(Me));Je=b([Je],this.posX+this.margin[3],-We+ct+this.ctx.prevPageLastElemOffset)[0];var Ae=(st>Ve||st<Ge)&&x.call(this);Ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,ht,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,ke),Ae&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,ke)};var w=function(L,z,Q){var te=[];z=z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":te.push(Math.floor((L.y+ie)/Q)+1);break;case"arc":te.push(Math.floor((L.y+ie-L.radius)/Q)+1),te.push(Math.floor((L.y+ie+L.radius)/Q)+1);break;case"qct":var ge=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);te.push(Math.floor((ge.y+ie)/Q)+1),te.push(Math.floor((ge.y+ge.h+ie)/Q)+1);break;case"bct":var pe=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);te.push(Math.floor((pe.y+ie)/Q)+1),te.push(Math.floor((pe.y+pe.h+ie)/Q)+1);break;case"rect":te.push(Math.floor((L.y+ie)/Q)+1),te.push(Math.floor((L.y+L.h+ie)/Q)+1)}for(var G=0;G<te.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<te[G];)v.call(this);return te},v=function(){var L=this.fillStyle,z=this.strokeStyle,Q=this.font,te=this.lineCap,ie=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=Q,this.lineCap=te,this.lineWidth=ie,this.lineJoin=ge},b=function(L,z,Q){for(var te=0;te<L.length;te++)switch(L[te].type){case"bct":L[te].x2+=z,L[te].y2+=Q;case"qct":L[te].x1+=z,L[te].y1+=Q;case"mt":case"lt":case"arc":default:L[te].x+=z,L[te].y+=Q}return L},S=function(L){return L.sort(function(z,Q){return z-Q})},T=function(L,z){for(var Q,te,ie=this.fillStyle,ge=this.strokeStyle,pe=this.lineCap,G=this.lineWidth,le=Math.abs(G*this.ctx.transform.scaleX),ce=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Re=[],_e=0;_e<Te.length;_e++)if(Te[_e].x!==void 0)for(var ae=w.call(this,Te[_e]),Ee=0;Ee<ae.length;Ee+=1)Re.indexOf(ae[Ee])===-1&&Re.push(ae[Ee]);for(var ke=0;ke<Re.length;ke++)for(;this.pdf.internal.getNumberOfPages()<Re[ke];)v.call(this);if(S(Re),this.autoPaging)for(var ye=Re[0],Me=Re[Re.length-1],xe=ye;xe<Me+1;xe++){this.pdf.setPage(xe),this.fillStyle=ie,this.strokeStyle=ge,this.lineCap=pe,this.lineWidth=le,this.lineJoin=ce;var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=xe===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=xe===1?0:Ve+(xe-2)*Ge;if(this.ctx.clip_path.length!==0){var ze=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-st+we+this.ctx.prevPageLastElemOffset),C.call(this,L,!0),this.path=ze}if(te=JSON.parse(JSON.stringify(ue)),this.path=b(te,this.posX+this.margin[3],-st+we+this.ctx.prevPageLastElemOffset),z===!1||xe===0){var ct=(xe>ye||xe<Me)&&x.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,Ge,null).clip().discardPath()),C.call(this,L,z),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=le,C.call(this,L,z),this.lineWidth=G;this.path=ue},C=function(L,z){if((L!=="stroke"||z||!y.call(this))&&(L==="stroke"||z||!p.call(this))){for(var Q,te,ie=[],ge=this.path,pe=0;pe<ge.length;pe++){var G=ge[pe];switch(G.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:G,deltas:[],abs:[]});break;case"lt":var le=ie.length;if(ge[pe-1]&&!isNaN(ge[pe-1].x)&&(Q=[G.x-ge[pe-1].x,G.y-ge[pe-1].y],le>0)){for(;le>=0;le--)if(ie[le-1].close!==!0&&ie[le-1].begin!==!0){ie[le-1].deltas.push(Q),ie[le-1].abs.push(G);break}}break;case"bct":Q=[G.x1-ge[pe-1].x,G.y1-ge[pe-1].y,G.x2-ge[pe-1].x,G.y2-ge[pe-1].y,G.x-ge[pe-1].x,G.y-ge[pe-1].y],ie[ie.length-1].deltas.push(Q);break;case"qct":var ce=ge[pe-1].x+2/3*(G.x1-ge[pe-1].x),ue=ge[pe-1].y+2/3*(G.y1-ge[pe-1].y),Te=G.x+2/3*(G.x1-G.x),Re=G.y+2/3*(G.y1-G.y),_e=G.x,ae=G.y;Q=[ce-ge[pe-1].x,ue-ge[pe-1].y,Te-ge[pe-1].x,Re-ge[pe-1].y,_e-ge[pe-1].x,ae-ge[pe-1].y],ie[ie.length-1].deltas.push(Q);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(G)}}te=z?null:L==="stroke"?"stroke":"fill";for(var Ee=!1,ke=0;ke<ie.length;ke++)if(ie[ke].arc)for(var ye=ie[ke].abs,Me=0;Me<ye.length;Me++){var xe=ye[Me];xe.type==="arc"?M.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,z,!Ee):$.call(this,xe.x,xe.y),Ee=!0}else if(ie[ke].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(ie[ke].begin!==!0){var Pe=ie[ke].start.x,we=ie[ke].start.y;F.call(this,ie[ke].deltas,Pe,we),Ee=!0}te&&j.call(this,te),z&&U.call(this)}},k=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Q;case"top":return L+z-Q;case"hanging":return L+z-2*Q;case"middle":return L+z/2-Q;case"ideographic":return L;case"alphabetic":default:return L}},E=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,Q){this.colorStops.push([z,Q])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(L,z,Q,te,ie,ge,pe,G,le){for(var ce=R.call(this,Q,te,ie,ge),ue=0;ue<ce.length;ue++){var Te=ce[ue];ue===0&&(le?O.call(this,Te.x1+L,Te.y1+z):$.call(this,Te.x1+L,Te.y1+z)),H.call(this,L,z,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}G?U.call(this):j.call(this,pe)},j=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(L,z){this.pdf.internal.out(n(L)+" "+r(z)+" m")},I=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var Q=this.pdf.getTextDimensions(L.text),te=k.call(this,L.y),ie=E.call(this,te)-Q.h,ge=this.ctx.transform.applyToPoint(new o(L.x,te)),pe=this.ctx.transform.decompose(),G=new l;G=(G=(G=G.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var le,ce,ue,Te=this.ctx.transform.applyToRectangle(new s(L.x,te,Q.w,Q.h)),Re=G.applyToRectangle(new s(L.x,ie,Q.w,Q.h)),_e=w.call(this,Re),ae=[],Ee=0;Ee<_e.length;Ee+=1)ae.indexOf(_e[Ee])===-1&&ae.push(_e[Ee]);if(S(ae),this.autoPaging)for(var ke=ae[0],ye=ae[ae.length-1],Me=ke;Me<ye+1;Me++){this.pdf.setPage(Me);var xe=Me===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[2],Ve=we-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],st=Ge-this.margin[3],ze=Me===1?0:Pe+(Me-2)*Ve;if(this.ctx.clip_path.length!==0){var ct=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-1*ze+xe),C.call(this,"fill",!0),this.path=ct}var nt=b([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-ze+xe+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale);var ht=this.autoPaging!=="text";if(ht||nt.y+nt.h<=we){if(ht||nt.y>=xe&&nt.x<=Ge){var We=ht?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ge-nt.x)[0],je=b([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-ze+xe+this.ctx.prevPageLastElemOffset)[0],Je=ht&&(Me>ke||Me<ye)&&x.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Ve,null).clip().discardPath()),this.pdf.text(We,je.x,je.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),Je&&this.pdf.restoreGraphicsState()}}else nt.y<we&&(this.ctx.prevPageLastElemOffset+=we-nt.y);L.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)}else L.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*L.scale),ue=this.lineWidth,this.lineWidth=ue*L.scale),this.pdf.text(L.text,ge.x+this.posX,ge.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=ue)},$=function(L,z,Q,te){Q=Q||0,te=te||0,this.pdf.internal.out(n(L+Q)+" "+r(z+te)+" l")},F=function(L,z,Q){return this.pdf.lines(L,z,Q,null,null)},H=function(L,z,Q,te,ie,ge,pe,G){this.pdf.internal.out([e(i(Q+L)),e(a(te+z)),e(i(ie+L)),e(a(ge+z)),e(i(pe+L)),e(a(G+z)),"c"].join(" "))},R=function(L,z,Q,te){for(var ie=2*Math.PI,ge=Math.PI/2;z>Q;)z-=ie;var pe=Math.abs(Q-z);pe<ie&&te&&(pe=ie-pe);for(var G=[],le=te?-1:1,ce=z;pe>1e-5;){var ue=ce+le*Math.min(pe,ge);G.push(B.call(this,L,ce,ue)),pe-=Math.abs(ue-ce),ce=ue}return G},B=function(L,z,Q){var te=(Q-z)/2,ie=L*Math.cos(te),ge=L*Math.sin(te),pe=ie,G=-ge,le=pe*pe+G*G,ce=le+pe*ie+G*ge,ue=4/3*(Math.sqrt(2*le*ce)-ce)/(pe*ge-G*ie),Te=pe-ue*G,Re=G+ue*pe,_e=Te,ae=-Re,Ee=te+z,ke=Math.cos(Ee),ye=Math.sin(Ee);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:Te*ke-Re*ye,y2:Te*ye+Re*ke,x3:_e*ke-ae*ye,y3:_e*ye+ae*ke,x4:L*Math.cos(Q),y4:L*Math.sin(Q)}},W=function(L){return 180*L/Math.PI},K=function(L,z,Q,te,ie,ge){var pe=L+.5*(Q-L),G=z+.5*(te-z),le=ie+.5*(Q-ie),ce=ge+.5*(te-ge),ue=Math.min(L,ie,pe,le),Te=Math.max(L,ie,pe,le),Re=Math.min(z,ge,G,ce),_e=Math.max(z,ge,G,ce);return new s(ue,Re,Te-ue,_e-Re)},Z=function(L,z,Q,te,ie,ge,pe,G){var le,ce,ue,Te,Re,_e,ae,Ee,ke,ye,Me,xe,Pe,we,Ve=Q-L,Ge=te-z,st=ie-Q,ze=ge-te,ct=pe-ie,nt=G-ge;for(ce=0;ce<41;ce++)ke=(ae=(ue=L+(le=ce/40)*Ve)+le*((Re=Q+le*st)-ue))+le*(Re+le*(ie+le*ct-Re)-ae),ye=(Ee=(Te=z+le*Ge)+le*((_e=te+le*ze)-Te))+le*(_e+le*(ge+le*nt-_e)-Ee),ce==0?(Me=ke,xe=ye,Pe=ke,we=ye):(Me=Math.min(Me,ke),xe=Math.min(xe,ye),Pe=Math.max(Pe,ke),we=Math.max(we,ye));return new s(Math.round(Me),Math.round(xe),Math.round(Pe-Me),Math.round(we-xe))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,Q=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ut.API),function(t){var e=function(a){var o,s,l,u,c,f,h,p,y,x;for(s=[],l=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>l;l+=4)(c=(a.charCodeAt(l)<<24)+(a.charCodeAt(l+1)<<16)+(a.charCodeAt(l+2)<<8)+a.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(x=c%85))/85)-(y=c%85))/85)-(p=c%85))/85)-(h=c%85))/85)%85,s.push(f+33,h+33,p+33,y+33,x+33)):s.push(122);return function(w,v){for(var b=v;b>0;b--)w.pop()}(s,o.length),String.fromCharCode.apply(String,s)+"~>"},n=function(a){var o,s,l,u,c,f=String,h="length",p=255,y="charCodeAt",x="slice",w="replace";for(a[x](-2),a=a[x](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,c=(a+=o="uuuuu"[x](a[h]%5||5))[h];c>u;u+=5)s=52200625*(a[y](u)-33)+614125*(a[y](u+1)-33)+7225*(a[y](u+2)-33)+85*(a[y](u+3)-33)+(a[y](u+4)-33),l.push(p&s>>24,p&s>>16,p&s>>8,p&s);return function(v,b){for(var S=b;S>0;S--)v.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var s="",l=0;l<a.length;l+=2)s+=String.fromCharCode("0x"+(a[l]+a[l+1]));return s},i=function(a){for(var o=new Uint8Array(a.length),s=a.length;s--;)o[s]=a.charCodeAt(s);return a=(o=S2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var s=0,l=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ut.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,h=0,p=function(y){var x=y.length,w=[],v=String.fromCharCode;for(h=0;h<x;h+=1)w.push(v(255&y.charCodeAt(h)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(p(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(ut.API),function(t){function e(){return(mt.html2canvas?Promise.resolve(mt.html2canvas):cl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(mt.DOMPurify?Promise.resolve(mt.DOMPurify):cl(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var s=Zt(o);return s==="undefined"?"undefined":s==="string"||o instanceof String?"string":s==="number"||o instanceof Number?"number":s==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":s==="object"?"object":"unknown"},i=function(o,s){var l=document.createElement(o);for(var u in s.className&&(l.className=s.className),s.innerHTML&&s.dompurify&&(l.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)l.style[u]=s.style[u];return l},a=function o(s){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(s)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,s){return o.__proto__=s||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,s){return this.then(function(){switch(s=s||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,s(this.prop.container,l)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(s){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],y=p.src.find(function(x){return x.format==="truetype"});y&&l.addFont(y.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,s,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,s):this.outputPdf(o,s)},a.prototype.outputPdf=function(o,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,s)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var s=Object.keys(o||{}).map(function(l){if(l in a.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(s)})},a.prototype.get=function(o,s){return this.then(function(){var l=o in a.template.prop?this.prop[o]:this.opt[o];return s?s(l):l})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function s(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:s(o.inner.width,o.k),height:s(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,s,l,u){return o!=null&&(this.progress.val=o),s!=null&&(this.progress.state=s),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,s,l,u){return this.setProgress(o?this.progress.val+o:null,s||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,s){var l=this;return this.thenCore(o,s,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},a.prototype.thenCore=function(o,s,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),s&&(s=s.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,s);return a.convert(c,this.__proto__)},a.prototype.thenExternal=function(o,s){return Promise.prototype.then.call(this,o,s)},a.prototype.thenList=function(o){var s=this;return o.forEach(function(l){s=s.thenCore(l)}),s},a.prototype.catch=function(o){o&&(o=o.bind(this));var s=Promise.prototype.catch.call(this,o);return a.convert(s,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ut.getPageSize=function(o,s,l){if(Zt(o)==="object"){var u=o;o=u.orientation,s=u.unit||s,l=u.format||l}s=s||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+s}var p,y=0,x=0;if(h.hasOwnProperty(f))y=h[f][1]/c,x=h[f][0]/c;else try{y=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>y&&(p=x,x=y,y=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>x&&(p=x,x=y,y=p)}return{width:x,height:y,unit:s,k:c,orientation:o}},t.html=function(o,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(k2):null;var l=new a(s);return s.worker?l:l.from(o).doCallback()}}(ut.API),ut.API.addJS=function(t){return qE=t,this.internal.events.subscribe("postPutResources",function(){$m=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($m+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$m!==void 0&&UE!==void 0&&this.internal.out("/Names <</JavaScript "+$m+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var h=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ut.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,x={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=p,e.indexOf(f.charCodeAt(w+1))!==-1){h=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),x={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:h,numcomponents:f.charCodeAt(w+9)};break}p=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ut.API);var bc,Bm,HE,zE,VE,UQ=function(){var t,e,n;function r(a){var o,s,l,u,c,f,h,p,y,x,w,v,b,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),y=(function(){var T,C;for(C=[],T=0;T<4;++T)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),a=(f!=null?f.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(w=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,w.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,w.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,s=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*s,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,s;for(s=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)s.push(this.data[this.pos++]);return s},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,s=new Uint8Array(this.width*this.height*o),l=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function c(f,h,p,y){var x,w,v,b,S,T,C,k,E,M,j,U,O,I,$,F,H,R,B,W,K,Z=Math.ceil((u.width-f)/p),oe=Math.ceil((u.height-h)/y),L=u.width==Z&&u.height==oe;for(I=o*Z,U=L?s:new Uint8Array(I*oe),T=a.length,O=0,w=0;O<oe&&l<T;){switch(a[l++]){case 0:for(b=H=0;H<I;b=H+=1)U[w++]=a[l++];break;case 1:for(b=R=0;R<I;b=R+=1)x=a[l++],S=b<o?0:U[w-o],U[w++]=(x+S)%256;break;case 2:for(b=B=0;B<I;b=B+=1)x=a[l++],v=(b-b%o)/o,$=O&&U[(O-1)*I+v*o+b%o],U[w++]=($+x)%256;break;case 3:for(b=W=0;W<I;b=W+=1)x=a[l++],v=(b-b%o)/o,S=b<o?0:U[w-o],$=O&&U[(O-1)*I+v*o+b%o],U[w++]=(x+Math.floor((S+$)/2))%256;break;case 4:for(b=K=0;K<I;b=K+=1)x=a[l++],v=(b-b%o)/o,S=b<o?0:U[w-o],O===0?$=F=0:($=U[(O-1)*I+v*o+b%o],F=v&&U[(O-1)*I+(v-1)*o+b%o]),C=S+$-F,k=Math.abs(C-S),M=Math.abs(C-$),j=Math.abs(C-F),E=k<=M&&k<=j?S:M<=j?$:F,U[w++]=(x+E)%256;break;default:throw new Error("Invalid filter algorithm: "+a[l-1])}if(!L){var z=((h+O*y)*u.width+f)*o,Q=O*I;for(b=0;b<Z;b+=1){for(var te=0;te<o;te+=1)s[z++]=U[Q++];z+=(p-1)*o}}O++}}return a=vQ(a),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),s},r.prototype.decodePalette=function(){var a,o,s,l,u,c,f,h,p;for(s=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+s.length),l=0,a=0,o=f=0,h=s.length;f<h;o=f+=3)u[l++]=s[o],u[l++]=s[o+1],u[l++]=s[o+2],u[l++]=(p=c[a++])!=null?p:255;return u},r.prototype.copyToImageData=function(a,o){var s,l,u,c,f,h,p,y,x,w,v;if(l=this.colors,x=null,s=this.hasAlphaChannel,this.palette.length&&(x=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),l=4,s=!0),y=(u=a.data||a).length,f=x||o,c=h=0,l===1)for(;c<y;)p=x?4*o[c/4]:h,w=f[p++],u[c++]=w,u[c++]=w,u[c++]=w,u[c++]=s?f[p++]:255,h=p;else for(;c<y;)p=x?4*o[c/4]:h,u[c++]=f[p++],u[c++]=f[p++],u[c++]=f[p++],u[c++]=s?f[p++]:255,h=p},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(mt)==="[object Window]"){try{e=mt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,s,l,u,c,f,h,p;if(this.animation){for(p=[],s=c=0,f=(h=this.animation.frames).length;c<f;s=++c)o=h[s],l=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(a,o){var s,l,u;return s=(l=this.animation.frames)[o],u=l[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),s.blendOp===0&&a.clearRect(s.xOffset,s.yOffset,s.width,s.height),a.drawImage(s.image,s.xOffset,s.yOffset)},r.prototype.animate=function(a){var o,s,l,u,c,f,h=this;return s=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(o=function(){var p,y;if(p=s++%u,y=l[p],h.renderFrame(a,p),u>1&&s/u<c)return h.animation._timeout=setTimeout(o,y.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,s;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(s=o.createImageData(this.width,this.height),this.copyToImageData(s,this.decodePixels()),o.putImageData(s,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function qQ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,h=null,p=0,y=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],!(1&x)&&(h=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++],C=T>>6&1,k=1<<(7&T)+1,E=s,M=l,j=!1;T>>7&&(j=!0,E=e,M=k,e+=3*k);var U=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}c.push({x:w,y:v,width:b,height:S,has_local_palette:j,palette_offset:E,palette_size:M,data_offset:U,data_length:e-U,transparent_index:h,interlaced:!!C,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,$){var F=this.frameInfo(I),H=F.width*F.height,R=new Uint8Array(H);GE(t,F.data_offset,R,H);var B=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var K=F.width,Z=n-K,oe=K,L=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=L,te=4*Z;F.interlaced===!0&&(te+=4*n*7);for(var ie=8,ge=0,pe=R.length;ge<pe;++ge){var G=R[ge];if(oe===0&&(oe=K,(Q+=te)>=z&&(te=4*Z+4*n*(ie-1),Q=L+(K+Z)*(ie<<1),ie>>=1)),G===W)Q+=4;else{var le=t[B+3*G],ce=t[B+3*G+1],ue=t[B+3*G+2];$[Q++]=ue,$[Q++]=ce,$[Q++]=le,$[Q++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(I,$){var F=this.frameInfo(I),H=F.width*F.height,R=new Uint8Array(H);GE(t,F.data_offset,R,H);var B=F.palette_offset,W=F.transparent_index;W===null&&(W=256);var K=F.width,Z=n-K,oe=K,L=4*(F.y*n+F.x),z=4*((F.y+F.height)*n+F.x),Q=L,te=4*Z;F.interlaced===!0&&(te+=4*n*7);for(var ie=8,ge=0,pe=R.length;ge<pe;++ge){var G=R[ge];if(oe===0&&(oe=K,(Q+=te)>=z&&(te=4*Z+4*n*(ie-1),Q=L+(K+Z)*(ie<<1),ie>>=1)),G===W)Q+=4;else{var le=t[B+3*G],ce=t[B+3*G+1],ue=t[B+3*G+2];$[Q++]=le,$[Q++]=ce,$[Q++]=ue,$[Q++]=255}--oe}}}function GE(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,p=t[e++],y=new Int32Array(4096),x=null;;){for(;c<16&&p!==0;)f|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==a){if(w===o)break;for(var v=w<s?w:x,b=0,S=v;S>a;)S=y[S]>>8,++b;var T=S;if(h+b+(v!==w?1:0)>r)return void sn.log("Warning, gif stream longer than expected.");n[h++]=T;var C=h+=b;for(v!==w&&(n[h++]=T),S=v;b--;)S=y[S],n[--C]=255&S,S>>=8;x!==null&&s<4096&&(y[s++]=x<<8|T,s>=u+1&&l<12&&(++l,u=u<<1|1)),x=w}else s=o+1,u=(1<<(l=i+1))-1,x=null}return h!==r&&sn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function y1(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),y=new Array(64),x=[],w=0,v=7,b=new Array(64),S=new Array(64),T=new Array(64),C=new Array(256),k=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(L,z){for(var Q=0,te=0,ie=new Array,ge=1;ge<=16;ge++){for(var pe=1;pe<=L[ge];pe++)ie[z[te]]=[],ie[z[te]][0]=Q,ie[z[te]][1]=ge,te++,Q++;Q*=2}return ie}function B(L){for(var z=L[0],Q=L[1]-1;Q>=0;)z&1<<Q&&(w|=1<<v),Q--,--v<0&&(w==255?(W(255),W(0)):W(w),v=7,w=0)}function W(L){x.push(L)}function K(L){W(L>>8&255),W(255&L)}function Z(L,z,Q,te,ie){for(var ge,pe=ie[0],G=ie[240],le=function(ye,Me){var xe,Pe,we,Ve,Ge,st,ze,ct,nt,ht,We=0;for(nt=0;nt<8;++nt){xe=ye[We],Pe=ye[We+1],we=ye[We+2],Ve=ye[We+3],Ge=ye[We+4],st=ye[We+5],ze=ye[We+6];var je=xe+(ct=ye[We+7]),Je=xe-ct,Ae=Pe+ze,De=Pe-ze,Qe=we+st,et=we-st,Ke=Ve+Ge,Bt=Ve-Ge,Et=je+Ke,wr=je-Ke,Ri=Ae+Qe,vn=Ae-Qe;ye[We]=Et+Ri,ye[We+4]=Et-Ri;var ft=.707106781*(vn+wr);ye[We+2]=wr+ft,ye[We+6]=wr-ft;var Lt=.382683433*((Et=Bt+et)-(vn=De+Je)),Fi=.5411961*Et+Lt,tr=1.306562965*vn+Lt,qa=.707106781*(Ri=et+De),Ha=Je+qa,pt=Je-qa;ye[We+5]=pt+Fi,ye[We+3]=pt-Fi,ye[We+1]=Ha+tr,ye[We+7]=Ha-tr,We+=8}for(We=0,nt=0;nt<8;++nt){xe=ye[We],Pe=ye[We+8],we=ye[We+16],Ve=ye[We+24],Ge=ye[We+32],st=ye[We+40],ze=ye[We+48];var pa=xe+(ct=ye[We+56]),za=xe-ct,Qr=Pe+ze,nr=Pe-ze,zn=we+st,mi=we-st,Ru=Ve+Ge,mo=Ve-Ge,Aa=pa+Ru,ma=pa-Ru,ga=Qr+zn,Va=Qr-zn;ye[We]=Aa+ga,ye[We+32]=Aa-ga;var $i=.707106781*(Va+ma);ye[We+16]=ma+$i,ye[We+48]=ma-$i;var Ga=.382683433*((Aa=mo+mi)-(Va=nr+za)),xl=.5411961*Aa+Ga,Fu=1.306562965*Va+Ga,$u=.707106781*(ga=mi+nr),Bu=za+$u,Uu=za-$u;ye[We+40]=Uu+xl,ye[We+24]=Uu-xl,ye[We+8]=Bu+Fu,ye[We+56]=Bu-Fu,We++}for(nt=0;nt<64;++nt)ht=ye[nt]*Me[nt],p[nt]=ht>0?ht+.5|0:ht-.5|0;return p}(L,z),ce=0;ce<64;++ce)y[E[ce]]=le[ce];var ue=y[0]-Q;Q=y[0],ue==0?B(te[0]):(B(te[h[ge=32767+ue]]),B(f[ge]));for(var Te=63;Te>0&&y[Te]==0;)Te--;if(Te==0)return B(pe),Q;for(var Re,_e=1;_e<=Te;){for(var ae=_e;y[_e]==0&&_e<=Te;)++_e;var Ee=_e-ae;if(Ee>=16){Re=Ee>>4;for(var ke=1;ke<=Re;++ke)B(G);Ee&=15}ge=32767+y[_e],B(ie[(Ee<<4)+h[ge]]),B(f[ge]),_e++}return Te!=63&&B(pe),Q}function oe(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ie=o((Q[te]*z+50)/100);ie=Math.min(Math.max(ie,1),255),s[E[te]]=ie}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var G=o((ge[pe]*z+50)/100);G=Math.min(Math.max(G,1),255),l[E[pe]]=G}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ce=0,ue=0;ue<8;ue++)for(var Te=0;Te<8;Te++)u[ce]=1/(s[E[ce]]*le[ue]*le[Te]*8),c[ce]=1/(l[E[ce]]*le[ue]*le[Te]*8),ce++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,z){z&&oe(z),x=new Array,w=0,v=7,K(65496),K(65504),K(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),K(1),K(1),W(0),W(0),function(){K(65499),K(132),W(0);for(var Pe=0;Pe<64;Pe++)W(s[Pe]);W(1);for(var we=0;we<64;we++)W(l[we])}(),function(Pe,we){K(65472),K(17),W(8),K(we),K(Pe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(L.width,L.height),function(){K(65476),K(418),W(0);for(var Pe=0;Pe<16;Pe++)W(M[Pe+1]);for(var we=0;we<=11;we++)W(j[we]);W(16);for(var Ve=0;Ve<16;Ve++)W(U[Ve+1]);for(var Ge=0;Ge<=161;Ge++)W(O[Ge]);W(1);for(var st=0;st<16;st++)W(I[st+1]);for(var ze=0;ze<=11;ze++)W($[ze]);W(17);for(var ct=0;ct<16;ct++)W(F[ct+1]);for(var nt=0;nt<=161;nt++)W(H[nt])}(),K(65498),K(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,te=0,ie=0;w=0,v=7,this.encode.displayName="_encode_";for(var ge,pe,G,le,ce,ue,Te,Re,_e,ae=L.data,Ee=L.width,ke=L.height,ye=4*Ee,Me=0;Me<ke;){for(ge=0;ge<ye;){for(ce=ye*Me+ge,Te=-1,Re=0,_e=0;_e<64;_e++)ue=ce+(Re=_e>>3)*ye+(Te=4*(7&_e)),Me+Re>=ke&&(ue-=ye*(Me+1+Re-ke)),ge+Te>=ye&&(ue-=ge+Te-ye+4),pe=ae[ue++],G=ae[ue++],le=ae[ue++],b[_e]=(k[pe]+k[G+256>>0]+k[le+512>>0]>>16)-128,S[_e]=(k[pe+768>>0]+k[G+1024>>0]+k[le+1280>>0]>>16)-128,T[_e]=(k[pe+1280>>0]+k[G+1536>>0]+k[le+1792>>0]>>16)-128;Q=Z(b,u,Q,e,r),te=Z(S,c,te,n,i),ie=Z(T,c,ie,n,i),ge+=32}Me+=8}if(v>=0){var xe=[];xe[1]=v+1,xe[0]=(1<<v+1)-1,B(xe)}return K(65497),new Uint8Array(x)},t=t||50,function(){for(var L=String.fromCharCode,z=0;z<256;z++)C[z]=L(z)}(),e=R(M,j),n=R(I,$),r=R(U,O),i=R(F,H),function(){for(var L=1,z=2,Q=1;Q<=15;Q++){for(var te=L;te<z;te++)h[32767+te]=Q,f[32767+te]=[],f[32767+te][1]=Q,f[32767+te][0]=te;for(var ie=-(z-1);ie<=-L;ie++)h[32767+ie]=Q,f[32767+ie]=[],f[32767+ie][1]=Q,f[32767+ie][0]=z-1+ie;L<<=1,z<<=1}}(),function(){for(var L=0;L<256;L++)k[L]=19595*L,k[L+256>>0]=38470*L,k[L+512>>0]=7471*L+32768,k[L+768>>0]=-11059*L,k[L+1024>>0]=-21709*L,k[L+1280>>0]=32768*L+8421375,k[L+1536>>0]=-27439*L,k[L+1792>>0]=-5329*L}(),oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ta(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WE(t){function e(M){if(!M)throw Error("assert :P")}function n(M,j,U){for(var O=0;4>O;O++)if(M[j+O]!=U.charCodeAt(O))return!0;return!1}function r(M,j,U,O,I){for(var $=0;$<I;$++)M[j+$]=U[O+$]}function i(M,j,U,O){for(var I=0;I<O;I++)M[j+I]=U}function a(M){return new Int32Array(M)}function o(M,j){for(var U=[],O=0;O<M;O++)U.push(new j);return U}function s(M,j){var U=[];return function O(I,$,F){for(var H=F[$],R=0;R<H&&(I.push(F.length>$+1?[]:new j),!(F.length<$+1));R++)O(I[R],$+1,F)}(U,0,M),U}var l=function(){var M=this;function j(g,_){for(var P=1<<_-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function U(g,_,P,D,q){e(!(D%P));do g[_+(D-=P)]=q;while(0<D)}function O(g,_,P,D,q){if(e(2328>=q),512>=q)var Y=a(512);else if((Y=a(q))==null)return 0;return function(J,X,ee,re,he,Ce){var Ne,be,Ue=X,Oe=1<<ee,me=a(16),ve=a(16);for(e(he!=0),e(re!=null),e(J!=null),e(0<ee),be=0;be<he;++be){if(15<re[be])return 0;++me[re[be]]}if(me[0]==he)return 0;for(ve[1]=0,Ne=1;15>Ne;++Ne){if(me[Ne]>1<<Ne)return 0;ve[Ne+1]=ve[Ne]+me[Ne]}for(be=0;be<he;++be)Ne=re[be],0<re[be]&&(Ce[ve[Ne]++]=be);if(ve[15]==1)return(re=new I).g=0,re.value=Ce[0],U(J,Ue,1,Oe,re),Oe;var Fe,qe=-1,Be=Oe-1,rt=0,Xe=1,dt=1,Ze=1<<ee;for(be=0,Ne=1,he=2;Ne<=ee;++Ne,he<<=1){if(Xe+=dt<<=1,0>(dt-=me[Ne]))return 0;for(;0<me[Ne];--me[Ne])(re=new I).g=Ne,re.value=Ce[be++],U(J,Ue+rt,he,Ze,re),rt=j(rt,Ne)}for(Ne=ee+1,he=2;15>=Ne;++Ne,he<<=1){if(Xe+=dt<<=1,0>(dt-=me[Ne]))return 0;for(;0<me[Ne];--me[Ne]){if(re=new I,(rt&Be)!=qe){for(Ue+=Ze,Fe=1<<(qe=Ne)-ee;15>qe&&!(0>=(Fe-=me[qe]));)++qe,Fe<<=1;Oe+=Ze=1<<(Fe=qe-ee),J[X+(qe=rt&Be)].g=Fe+ee,J[X+qe].value=Ue-X-qe}re.g=Ne-ee,re.value=Ce[be++],U(J,Ue+(rt>>ee),he,Ze,re),rt=j(rt,Ne)}}return Xe!=2*ve[15]-1?0:Oe}(g,_,P,D,q,Y)}function I(){this.value=this.g=0}function $(){this.value=this.g=0}function F(){this.G=o(5,I),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Sr,$)}function H(g,_,P,D){e(g!=null),e(_!=null),e(2147483648>D),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=P,g.Jd=_,g.Yc=P+D,g.Zc=4<=D?P+D-4+1:P,ge(g)}function R(g,_){for(var P=0;0<_--;)P|=G(g,128)<<_;return P}function B(g,_){var P=R(g,_);return pe(g)?-P:P}function W(g,_,P,D){var q,Y=0;for(e(g!=null),e(_!=null),e(4294967288>D),g.Sb=D,g.Ra=0,g.u=0,g.h=0,4<D&&(D=4),q=0;q<D;++q)Y+=_[P+q]<<8*q;g.Ra=Y,g.bb=D,g.oa=_,g.pa=P}function K(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<nc-8>>>0,++g.bb,g.u-=8;Q(g)&&(g.h=1,g.u=0)}function Z(g,_){if(e(0<=_),!g.h&&_<=tc){var P=z(g)&ec[_];return g.u+=_,K(g),P}return g.h=1,g.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&nc-1)>>>0}function Q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>nc}function te(g,_){g.u=_,g.h=Q(g)}function ie(g){g.u>=$d&&(e(g.u>=$d),K(g))}function ge(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function pe(g){return R(g,1)}function G(g,_){var P=g.Ca;0>g.b&&ge(g);var D=g.b,q=P*_>>>8,Y=(g.I>>>D>q)+0;for(Y?(P-=q,g.I-=q+1<<D>>>0):P=q+1,D=P,q=0;256<=D;)q+=8,D>>=8;return D=7^q+ei[D],g.b-=D,g.Ca=(P<<D)-1,Y}function le(g,_,P){g[_+0]=P>>24&255,g[_+1]=P>>16&255,g[_+2]=P>>8&255,g[_+3]=P>>0&255}function ce(g,_){return g[_+0]<<0|g[_+1]<<8}function ue(g,_){return ce(g,_)|g[_+2]<<16}function Te(g,_){return ce(g,_)|ce(g,_+2)<<16}function Re(g,_){var P=1<<_;return e(g!=null),e(0<_),g.X=a(P),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function _e(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),r(_.X,0,g.X,0,1<<_.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ee(g,_,P,D){e(P!=null),e(D!=null);var q=P[0],Y=D[0];return q==0&&(q=(g*Y+_/2)/_),Y==0&&(Y=(_*q+g/2)/g),0>=q||0>=Y?0:(P[0]=q,D[0]=Y,1)}function ke(g,_){return g+(1<<_)-1>>>_}function ye(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function Me(g,_){M[_]=function(P,D,q,Y,J,X,ee){var re;for(re=0;re<J;++re){var he=M[g](X[ee+re-1],q,Y+re);X[ee+re]=ye(P[D+re],he)}}}function xe(){this.ud=this.hd=this.jd=0}function Pe(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function we(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ve(g,_){return we(g+(g-_+.5>>1))}function Ge(g,_,P){return Math.abs(_-P)-Math.abs(g-P)}function st(g,_,P,D,q,Y,J){for(D=Y[J-1],P=0;P<q;++P)Y[J+P]=D=ye(g[_+P],D)}function ze(g,_,P,D,q){var Y;for(Y=0;Y<P;++Y){var J=g[_+Y],X=J>>8&255,ee=16711935&(ee=(ee=16711935&J)+((X<<16)+X));D[q+Y]=(4278255360&J)+ee>>>0}}function ct(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function nt(g,_,P,D,q,Y){var J;for(J=0;J<D;++J){var X=_[P+J],ee=X>>>8,re=X,he=255&(he=(he=X>>>16)+((g.jd<<24>>24)*(ee<<24>>24)>>>5));re=255&(re=(re=re+((g.hd<<24>>24)*(ee<<24>>24)>>>5))+((g.ud<<24>>24)*(he<<24>>24)>>>5)),q[Y+J]=(4278255360&X)+(he<<16)+re}}function ht(g,_,P,D,q){M[_]=function(Y,J,X,ee,re,he,Ce,Ne,be){for(ee=Ce;ee<Ne;++ee)for(Ce=0;Ce<be;++Ce)re[he++]=q(X[D(Y[J++])])},M[g]=function(Y,J,X,ee,re,he,Ce){var Ne=8>>Y.b,be=Y.Ea,Ue=Y.K[0],Oe=Y.w;if(8>Ne)for(Y=(1<<Y.b)-1,Oe=(1<<Ne)-1;J<X;++J){var me,ve=0;for(me=0;me<be;++me)me&Y||(ve=D(ee[re++])),he[Ce++]=q(Ue[ve&Oe]),ve>>=Ne}else M["VP8LMapColor"+P](ee,re,Ue,Oe,he,Ce,J,X,be)}}function We(g,_,P,D,q){for(P=_+P;_<P;){var Y=g[_++];D[q++]=Y>>16&255,D[q++]=Y>>8&255,D[q++]=Y>>0&255}}function je(g,_,P,D,q){for(P=_+P;_<P;){var Y=g[_++];D[q++]=Y>>16&255,D[q++]=Y>>8&255,D[q++]=Y>>0&255,D[q++]=Y>>24&255}}function Je(g,_,P,D,q){for(P=_+P;_<P;){var Y=(J=g[_++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;D[q++]=Y,D[q++]=J}}function Ae(g,_,P,D,q){for(P=_+P;_<P;){var Y=(J=g[_++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;D[q++]=Y,D[q++]=J}}function De(g,_,P,D,q){for(P=_+P;_<P;){var Y=g[_++];D[q++]=Y>>0&255,D[q++]=Y>>8&255,D[q++]=Y>>16&255}}function Qe(g,_,P,D,q,Y){if(Y==0)for(P=_+P;_<P;)le(D,((Y=g[_++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),q+=32;else r(D,q,g,_,P)}function et(g,_){M[_][0]=M[g+"0"],M[_][1]=M[g+"1"],M[_][2]=M[g+"2"],M[_][3]=M[g+"3"],M[_][4]=M[g+"4"],M[_][5]=M[g+"5"],M[_][6]=M[g+"6"],M[_][7]=M[g+"7"],M[_][8]=M[g+"8"],M[_][9]=M[g+"9"],M[_][10]=M[g+"10"],M[_][11]=M[g+"11"],M[_][12]=M[g+"12"],M[_][13]=M[g+"13"],M[_][14]=M[g+"0"],M[_][15]=M[g+"0"]}function Ke(g){return g==nb||g==rb||g==tm||g==ib}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new Et,this.sd=null}function Ri(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Lt(g,_){var P=g.T,D=_.ba.f.RGBA,q=D.eb,Y=D.fb+g.ka*D.A,J=Vi[_.ba.S],X=g.y,ee=g.O,re=g.f,he=g.N,Ce=g.ea,Ne=g.W,be=_.cc,Ue=_.dc,Oe=_.Mc,me=_.Nc,ve=g.ka,Fe=g.ka+g.T,qe=g.U,Be=qe+1>>1;for(ve==0?J(X,ee,null,null,re,he,Ce,Ne,re,he,Ce,Ne,q,Y,null,null,qe):(J(_.ec,_.fc,X,ee,be,Ue,Oe,me,re,he,Ce,Ne,q,Y-D.A,q,Y,qe),++P);ve+2<Fe;ve+=2)be=re,Ue=he,Oe=Ce,me=Ne,he+=g.Rc,Ne+=g.Rc,Y+=2*D.A,J(X,(ee+=2*g.fa)-g.fa,X,ee,be,Ue,Oe,me,re,he,Ce,Ne,q,Y-D.A,q,Y,qe);return ee+=g.fa,g.j+Fe<g.o?(r(_.ec,_.fc,X,ee,qe),r(_.cc,_.dc,re,he,Be),r(_.Mc,_.Nc,Ce,Ne,Be),P--):1&Fe||J(X,ee,null,null,re,he,Ce,Ne,re,he,Ce,Ne,q,Y+D.A,null,null,qe),P}function Fi(g,_,P){var D=g.F,q=[g.J];if(D!=null){var Y=g.U,J=_.ba.S,X=J==em||J==tm;_=_.ba.f.RGBA;var ee=[0],re=g.ka;ee[0]=g.T,g.Kb&&(re==0?--ee[0]:(--re,q[0]-=g.width),g.j+g.ka+g.T==g.o&&(ee[0]=g.o-g.j-re));var he=_.eb;re=_.fb+re*_.A,g=dn(D,q[0],g.width,Y,ee,he,re+(X?0:3),_.A),e(P==ee),g&&Ke(J)&&Hi(he,re,X,Y,ee,_.A)}return 0}function tr(g){var _=g.ma,P=_.ba.S,D=11>P,q=P==QA||P==ZA||P==em||P==tb||P==12||Ke(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Rd(_.Oa,g,q?11:12))return 0;if(q&&Ke(P)&&He(),g.da)alert("todo:use_scaling");else{if(D){if(_.Ib=ft,g.Kb){if(P=g.U+1>>1,_.memory=a(g.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=Lt,He()}}else alert("todo:EmitYUV");q&&(_.Jb=Fi,D&&Se())}if(D&&!q_){for(g=0;256>g;++g)$8[g]=89858*(g-128)+rm>>nm,q8[g]=-22014*(g-128)+rm,U8[g]=-45773*(g-128),B8[g]=113618*(g-128)+rm>>nm;for(g=Gd;g<sb;++g)_=76283*(g-16)+rm>>nm,H8[g-Gd]=gi(_,255),z8[g-Gd]=gi(_+8>>4,15);q_=1}return 1}function qa(g){var _=g.ma,P=g.U,D=g.T;return e(!(1&g.ka)),0>=P||0>=D?0:(P=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,P),_.Dc+=P,1)}function Ha(g){g.ma.memory=null}function pt(g,_,P,D){return Z(g,8)!=47?0:(_[0]=Z(g,14)+1,P[0]=Z(g,14)+1,D[0]=Z(g,1),Z(g,3)!=0?0:!g.h)}function pa(g,_){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+Z(_,P)+1}function za(g,_){return 120<_?_-120:1<=(P=((P=T8[_-1])>>4)*g+(8-(15&P)))?P:1;var P}function Qr(g,_,P){var D=z(P),q=g[_+=255&D].g-8;return 0<q&&(te(P,P.u+8),D=z(P),_+=g[_].value,_+=D&(1<<q)-1),te(P,P.u+g[_].g),g[_].value}function nr(g,_,P){return P.g+=g.g,P.value+=g.value<<_>>>0,e(8>=P.g),g.g}function zn(g,_,P){var D=g.xc;return e((_=D==0?0:g.vc[g.md*(P>>D)+(_>>D)])<g.Wb),g.Ya[_]}function mi(g,_,P,D){var q=g.ab,Y=g.c*_,J=g.C;_=J+_;var X=P,ee=D;for(D=g.Ta,P=g.Ua;0<q--;){var re=g.gc[q],he=J,Ce=_,Ne=X,be=ee,Ue=(ee=D,X=P,re.Ea);switch(e(he<Ce),e(Ce<=re.nc),re.hc){case 2:VA(Ne,be,(Ce-he)*Ue,ee,X);break;case 0:var Oe=he,me=Ce,ve=ee,Fe=X,qe=(Ze=re).Ea;Oe==0&&(Zy(Ne,be,null,null,1,ve,Fe),st(Ne,be+1,0,0,qe-1,ve,Fe+1),be+=qe,Fe+=qe,++Oe);for(var Be=1<<Ze.b,rt=Be-1,Xe=ke(qe,Ze.b),dt=Ze.K,Ze=Ze.w+(Oe>>Ze.b)*Xe;Oe<me;){var Ht=dt,Yt=Ze,$t=1;for(Bd(Ne,be,ve,Fe-qe,1,ve,Fe);$t<qe;){var jt=($t&~rt)+Be;jt>qe&&(jt=qe),(0,ds[Ht[Yt++]>>8&15])(Ne,be+ +$t,ve,Fe+$t-qe,jt-$t,ve,Fe+$t),$t=jt}be+=qe,Fe+=qe,++Oe&rt||(Ze+=Xe)}Ce!=re.nc&&r(ee,X-Ue,ee,X+(Ce-he-1)*Ue,Ue);break;case 1:for(Ue=Ne,me=be,qe=(Ne=re.Ea)-(Fe=Ne&~(ve=(be=1<<re.b)-1)),Oe=ke(Ne,re.b),Be=re.K,re=re.w+(he>>re.b)*Oe;he<Ce;){for(rt=Be,Xe=re,dt=new xe,Ze=me+Fe,Ht=me+Ne;me<Ze;)ct(rt[Xe++],dt),Cl(dt,Ue,me,be,ee,X),me+=be,X+=be;me<Ht&&(ct(rt[Xe++],dt),Cl(dt,Ue,me,qe,ee,X),me+=qe,X+=qe),++he&ve||(re+=Oe)}break;case 3:if(Ne==ee&&be==X&&0<re.b){for(me=ee,Ne=Ue=X+(Ce-he)*Ue-(Fe=(Ce-he)*ke(re.Ea,re.b)),be=ee,ve=X,Oe=[],Fe=(qe=Fe)-1;0<=Fe;--Fe)Oe[Fe]=be[ve+Fe];for(Fe=qe-1;0<=Fe;--Fe)me[Ne+Fe]=Oe[Fe];Bi(re,he,Ce,ee,Ue,ee,X)}else Bi(re,he,Ce,Ne,be,ee,X)}X=D,ee=P}ee!=P&&r(D,P,X,ee,Y)}function Ru(g,_){var P=g.V,D=g.Ba+g.c*g.C,q=_-g.C;if(e(_<=g.l.o),e(16>=q),0<q){var Y=g.l,J=g.Ta,X=g.Ua,ee=Y.width;if(mi(g,q,P,D),q=X=[X],e((P=g.C)<(D=_)),e(Y.v<Y.va),D>Y.o&&(D=Y.o),P<Y.j){var re=Y.j-P;P=Y.j,q[0]+=re*ee}if(P>=D?P=0:(q[0]+=4*Y.v,Y.ka=P-Y.j,Y.U=Y.va-Y.v,Y.T=D-P,P=1),P){if(X=X[0],11>(P=g.ca).S){var he=P.f.RGBA,Ce=(D=P.S,q=Y.U,Y=Y.T,re=he.eb,he.A),Ne=Y;for(he=he.fb+g.Ma*he.A;0<Ne--;){var be=J,Ue=X,Oe=q,me=re,ve=he;switch(D){case XA:ti(be,Ue,Oe,me,ve);break;case QA:qr(be,Ue,Oe,me,ve);break;case nb:qr(be,Ue,Oe,me,ve),Hi(me,ve,0,Oe,1,0);break;case I_:bo(be,Ue,Oe,me,ve);break;case ZA:Qe(be,Ue,Oe,me,ve,1);break;case rb:Qe(be,Ue,Oe,me,ve,1),Hi(me,ve,0,Oe,1,0);break;case em:Qe(be,Ue,Oe,me,ve,0);break;case tm:Qe(be,Ue,Oe,me,ve,0),Hi(me,ve,1,Oe,1,0);break;case tb:hs(be,Ue,Oe,me,ve);break;case ib:hs(be,Ue,Oe,me,ve),fn(me,ve,Oe,1,0);break;case j_:yo(be,Ue,Oe,me,ve);break;default:e(0)}X+=ee,he+=Ce}g.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=_,e(g.C<=g.i)}function mo(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var P=g.Ya[_].G,D=g.Ya[_].H;if(0<P[1][D[1]+0].g||0<P[2][D[2]+0].g||0<P[3][D[3]+0].g)return 0}return 1}function Aa(g,_,P,D,q,Y){if(g.Z!=0){var J=g.qd,X=g.rd;for(e(gs[g.Z]!=null);_<P;++_)gs[g.Z](J,X,D,q,D,q,Y),J=D,X=q,q+=Y;g.qd=J,g.rd=X}}function ma(g,_){var P=g.l.ma,D=P.Z==0||P.Z==1?g.l.j:g.C;if(D=g.C<D?D:g.C,e(_<=g.l.o),_>D){var q=g.l.width,Y=P.ca,J=P.tb+q*D,X=g.V,ee=g.Ba+g.c*D,re=g.gc;e(g.ab==1),e(re[0].hc==3),GA(re[0],D,_,X,ee,Y,J),Aa(P,D,_,Y,J,q)}g.C=g.Ma=_}function ga(g,_,P,D,q,Y,J){var X=g.$/D,ee=g.$%D,re=g.m,he=g.s,Ce=P+g.$,Ne=Ce;q=P+D*q;var be=P+D*Y,Ue=280+he.ua,Oe=g.Pb?X:16777216,me=0<he.ua?he.Wa:null,ve=he.wc,Fe=Ce<be?zn(he,ee,X):null;e(g.C<Y),e(be<=q);var qe=!1;e:for(;;){for(;qe||Ce<be;){var Be=0;if(X>=Oe){var rt=Ce-P;e((Oe=g).Pb),Oe.wd=Oe.m,Oe.xd=rt,0<Oe.s.ua&&_e(Oe.s.Wa,Oe.s.vb),Oe=X+N8}if(ee&ve||(Fe=zn(he,ee,X)),e(Fe!=null),Fe.Qb&&(_[Ce]=Fe.qb,qe=!0),!qe)if(ie(re),Fe.jc){Be=re,rt=_;var Xe=Ce,dt=Fe.pd[z(Be)&Sr-1];e(Fe.jc),256>dt.g?(te(Be,Be.u+dt.g),rt[Xe]=dt.value,Be=0):(te(Be,Be.u+dt.g-256),e(256<=dt.value),Be=dt.value),Be==0&&(qe=!0)}else Be=Qr(Fe.G[0],Fe.H[0],re);if(re.h)break;if(qe||256>Be){if(!qe)if(Fe.nd)_[Ce]=(Fe.qb|Be<<8)>>>0;else{if(ie(re),qe=Qr(Fe.G[1],Fe.H[1],re),ie(re),rt=Qr(Fe.G[2],Fe.H[2],re),Xe=Qr(Fe.G[3],Fe.H[3],re),re.h)break;_[Ce]=(Xe<<24|qe<<16|Be<<8|rt)>>>0}if(qe=!1,++Ce,++ee>=D&&(ee=0,++X,J!=null&&X<=Y&&!(X%16)&&J(g,X),me!=null))for(;Ne<Ce;)Be=_[Ne++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be}else if(280>Be){if(Be=pa(Be-256,re),rt=Qr(Fe.G[4],Fe.H[4],re),ie(re),rt=za(D,rt=pa(rt,re)),re.h)break;if(Ce-P<rt||q-Ce<Be)break e;for(Xe=0;Xe<Be;++Xe)_[Ce+Xe]=_[Ce+Xe-rt];for(Ce+=Be,ee+=Be;ee>=D;)ee-=D,++X,J!=null&&X<=Y&&!(X%16)&&J(g,X);if(e(Ce<=q),ee&ve&&(Fe=zn(he,ee,X)),me!=null)for(;Ne<Ce;)Be=_[Ne++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be}else{if(!(Be<Ue))break e;for(qe=Be-280,e(me!=null);Ne<Ce;)Be=_[Ne++],me.X[(506832829*Be&4294967295)>>>me.Mb]=Be;Be=Ce,e(!(qe>>>(rt=me).Xa)),_[Be]=rt.X[qe],qe=!0}qe||e(re.h==Q(re))}if(g.Pb&&re.h&&Ce<q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&_e(g.s.vb,g.s.Wa);else{if(re.h)break e;J!=null&&J(g,X>Y?Y:X),g.a=0,g.$=Ce-P}return 1}return g.a=3,0}function Va(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function $i(){var g=new Qy;return g==null?null:(g.a=0,g.xb=R_,et("Predictor","VP8LPredictors"),et("Predictor","VP8LPredictors_C"),et("PredictorAdd","VP8LPredictorsAdd"),et("PredictorAdd","VP8LPredictorsAdd_C"),VA=ze,Cl=nt,ti=We,qr=je,hs=Je,yo=Ae,bo=De,M.VP8LMapColor32b=rc,M.VP8LMapColor8b=WA,g)}function Ga(g,_,P,D,q){var Y=1,J=[g],X=[_],ee=D.m,re=D.s,he=null,Ce=0;e:for(;;){if(P)for(;Y&&Z(ee,1);){var Ne=J,be=X,Ue=D,Oe=1,me=Ue.m,ve=Ue.gc[Ue.ab],Fe=Z(me,2);if(Ue.Oc&1<<Fe)Y=0;else{switch(Ue.Oc|=1<<Fe,ve.hc=Fe,ve.Ea=Ne[0],ve.nc=be[0],ve.K=[null],++Ue.ab,e(4>=Ue.ab),Fe){case 0:case 1:ve.b=Z(me,3)+2,Oe=Ga(ke(ve.Ea,ve.b),ke(ve.nc,ve.b),0,Ue,ve.K),ve.K=ve.K[0];break;case 3:var qe,Be=Z(me,8)+1,rt=16<Be?0:4<Be?1:2<Be?2:3;if(Ne[0]=ke(ve.Ea,rt),ve.b=rt,qe=Oe=Ga(Be,1,0,Ue,ve.K)){var Xe,dt=Be,Ze=ve,Ht=1<<(8>>Ze.b),Yt=a(Ht);if(Yt==null)qe=0;else{var $t=Ze.K[0],jt=Ze.w;for(Yt[0]=Ze.K[0][0],Xe=1;Xe<1*dt;++Xe)Yt[Xe]=ye($t[jt+Xe],Yt[Xe-1]);for(;Xe<4*Ht;++Xe)Yt[Xe]=0;Ze.K[0]=null,Ze.K[0]=Yt,qe=1}}Oe=qe;break;case 2:break;default:e(0)}Y=Oe}}if(J=J[0],X=X[0],Y&&Z(ee,1)&&!(Y=1<=(Ce=Z(ee,4))&&11>=Ce)){D.a=3;break e}var on;if(on=Y)t:{var tn,Ct,Gn,ni=D,Wn=J,ri=X,Kt=Ce,yi=P,bi=ni.m,pr=ni.s,_r=[null],zr=1,Gi=0,Ja=C8[Kt];n:for(;;){if(yi&&Z(bi,1)){var Ar=Z(bi,3)+2,_o=ke(Wn,Ar),Ml=ke(ri,Ar),lc=_o*Ml;if(!Ga(_o,Ml,0,ni,_r))break n;for(_r=_r[0],pr.xc=Ar,tn=0;tn<lc;++tn){var vs=_r[tn]>>8&65535;_r[tn]=vs,vs>=zr&&(zr=vs+1)}}if(bi.h)break n;for(Ct=0;5>Ct;++Ct){var Mn=D_[Ct];!Ct&&0<Kt&&(Mn+=1<<Kt),Gi<Mn&&(Gi=Mn)}var lb=o(zr*Ja,I),V_=zr,G_=o(V_,F);if(G_==null)var am=null;else e(65536>=V_),am=G_;var Wd=a(Gi);if(am==null||Wd==null||lb==null){ni.a=1;break n}var om=lb;for(tn=Gn=0;tn<zr;++tn){var wa=am[tn],uc=wa.G,cc=wa.H,W_=0,sm=1,Y_=0;for(Ct=0;5>Ct;++Ct){Mn=D_[Ct],uc[Ct]=om,cc[Ct]=Gn,!Ct&&0<Kt&&(Mn+=1<<Kt);i:{var lm,ub=Mn,um=ni,Yd=Wd,W8=om,Y8=Gn,cb=0,ys=um.m,K8=Z(ys,1);if(i(Yd,0,0,ub),K8){var J8=Z(ys,1)+1,X8=Z(ys,1),K_=Z(ys,X8==0?1:8);Yd[K_]=1,J8==2&&(Yd[K_=Z(ys,8)]=1);var cm=1}else{var J_=a(19),X_=Z(ys,4)+4;if(19<X_){um.a=3;var fm=0;break i}for(lm=0;lm<X_;++lm)J_[_8[lm]]=Z(ys,3);var fb=void 0,Kd=void 0,Q_=um,Q8=J_,dm=ub,Z_=Yd,db=0,bs=Q_.m,eT=8,tT=o(128,I);r:for(;O(tT,0,7,Q8,19);){if(Z(bs,1)){var Z8=2+2*Z(bs,3);if((fb=2+Z(bs,Z8))>dm)break r}else fb=dm;for(Kd=0;Kd<dm&&fb--;){ie(bs);var nT=tT[0+(127&z(bs))];te(bs,bs.u+nT.g);var fc=nT.value;if(16>fc)Z_[Kd++]=fc,fc!=0&&(eT=fc);else{var e7=fc==16,rT=fc-16,t7=w8[rT],iT=Z(bs,x8[rT])+t7;if(Kd+iT>dm)break r;for(var n7=e7?eT:0;0<iT--;)Z_[Kd++]=n7}}db=1;break r}db||(Q_.a=3),cm=db}(cm=cm&&!ys.h)&&(cb=O(W8,Y8,8,Yd,ub)),cm&&cb!=0?fm=cb:(um.a=3,fm=0)}if(fm==0)break n;if(sm&&S8[Ct]==1&&(sm=om[Gn].g==0),W_+=om[Gn].g,Gn+=fm,3>=Ct){var Jd,hb=Wd[0];for(Jd=1;Jd<Mn;++Jd)Wd[Jd]>hb&&(hb=Wd[Jd]);Y_+=hb}}if(wa.nd=sm,wa.Qb=0,sm&&(wa.qb=(uc[3][cc[3]+0].value<<24|uc[1][cc[1]+0].value<<16|uc[2][cc[2]+0].value)>>>0,W_==0&&256>uc[0][cc[0]+0].value&&(wa.Qb=1,wa.qb+=uc[0][cc[0]+0].value<<8)),wa.jc=!wa.Qb&&6>Y_,wa.jc){var hm,To=wa;for(hm=0;hm<Sr;++hm){var xs=hm,ws=To.pd[xs],pm=To.G[0][To.H[0]+xs];256<=pm.value?(ws.g=pm.g+256,ws.value=pm.value):(ws.g=0,ws.value=0,xs>>=nr(pm,8,ws),xs>>=nr(To.G[1][To.H[1]+xs],16,ws),xs>>=nr(To.G[2][To.H[2]+xs],0,ws),nr(To.G[3][To.H[3]+xs],24,ws))}}}pr.vc=_r,pr.Wb=zr,pr.Ya=am,pr.yc=lb,on=1;break t}on=0}if(!(Y=on)){D.a=3;break e}if(0<Ce){if(re.ua=1<<Ce,!Re(re.Wa,Ce)){D.a=1,Y=0;break e}}else re.ua=0;var pb=D,aT=J,r7=X,Ab=pb.s,mb=Ab.xc;if(pb.c=aT,pb.i=r7,Ab.md=ke(aT,mb),Ab.wc=mb==0?-1:(1<<mb)-1,P){D.xb=j8;break e}if((he=a(J*X))==null){D.a=1,Y=0;break e}Y=(Y=ga(D,he,0,J,X,X,null))&&!ee.h;break e}return Y?(q!=null?q[0]=he:(e(he==null),e(P)),D.$=0,P||Va(re)):Va(re),Y}function xl(g,_){var P=g.c*g.i,D=P+_+16*_;return e(g.c<=_),g.V=a(D),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+_,1)}function Fu(g,_){var P=g.C,D=_-P,q=g.V,Y=g.Ba+g.c*P;for(e(_<=g.l.o);0<D;){var J=16<D?16:D,X=g.l.ma,ee=g.l.width,re=ee*J,he=X.ca,Ce=X.tb+ee*P,Ne=g.Ta,be=g.Ua;mi(g,J,q,Y),Fn(Ne,be,he,Ce,re),Aa(X,P,P+J,he,Ce,ee),D-=J,q+=J*g.c,P+=J}e(P==_),g.C=g.Ma=_}function $u(){this.ub=this.yd=this.td=this.Rb=0}function Bu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Uu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function TA(){this.Yb=function(){var g=[];return function _(P,D,q){for(var Y=q[D],J=0;J<Y&&(P.push(q.length>D+1?[]:0),!(q.length<D+1));J++)_(P[J],D+1,q)}(g,0,[3,11]),g}()}function ky(){this.jb=a(3),this.Wc=s([4,8],TA),this.Xc=s([4,17],TA)}function Py(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function qu(){this.ld=this.La=this.dd=this.tc=0}function CA(){this.Na=this.la=0}function My(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xd(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Oy(){this.uc=this.M=this.Nb=0,this.wa=Array(new qu),this.Y=0,this.ya=Array(new xd),this.aa=0,this.l=new Hu}function NA(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Iy(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new $u,this.Kc=new Bu,this.ed=new Py,this.Qa=new Uu,this.Ic=this.$c=this.Aa=0,this.D=new Oy,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,oe),this.ia=0,this.pb=o(4,My),this.Pa=new ky,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new NA),this.Hd=0,this.rb=Array(new CA),this.sb=0,this.wa=Array(new qu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xd),this.L=this.aa=0,this.gd=s([4,2],qu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jy(){var g=new Iy;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Vd||(Vd=PA)),g}function Ln(g,_,P){return g.a==0&&(g.a=_,g.sc=P,g.cb=0),0}function EA(g,_,P){return 3<=P&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function kA(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Ln(g,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,D=_.w,q=_.ha;if(4>q)return Ln(g,7,"Truncated header.");var Y=P[D+0]|P[D+1]<<8|P[D+2]<<16,J=g.Od;if(J.Rb=!(1&Y),J.td=Y>>1&7,J.yd=Y>>4&1,J.ub=Y>>5,3<J.td)return Ln(g,3,"Incorrect keyframe parameters.");if(!J.yd)return Ln(g,4,"Frame not displayable.");D+=3,q-=3;var X=g.Kc;if(J.Rb){if(7>q)return Ln(g,7,"cannot parse picture header");if(!EA(P,D,q))return Ln(g,3,"Bad code word");X.c=16383&(P[D+4]<<8|P[D+3]),X.Td=P[D+4]>>6,X.i=16383&(P[D+6]<<8|P[D+5]),X.Ud=P[D+6]>>6,D+=7,q-=7,g.za=X.c+15>>4,g.Ub=X.i+15>>4,_.width=X.c,_.height=X.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((Y=g.Pa).jb,0,255,Y.jb.length),e((Y=g.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(J.ub>q)return Ln(g,7,"bad partition length");H(Y=g.m,P,D,J.ub),D+=J.ub,q-=J.ub,J.Rb&&(X.Ld=pe(Y),X.Kd=pe(Y)),X=g.Qa;var ee,re=g.Pa;if(e(Y!=null),e(X!=null),X.Cb=pe(Y),X.Cb){if(X.Bb=pe(Y),pe(Y)){for(X.Fb=pe(Y),ee=0;4>ee;++ee)X.Zb[ee]=pe(Y)?B(Y,7):0;for(ee=0;4>ee;++ee)X.Lb[ee]=pe(Y)?B(Y,6):0}if(X.Bb)for(ee=0;3>ee;++ee)re.jb[ee]=pe(Y)?R(Y,8):255}else X.Bb=0;if(Y.Ka)return Ln(g,3,"cannot parse segment header");if((X=g.ed).zd=pe(Y),X.Tb=R(Y,6),X.wb=R(Y,3),X.Pc=pe(Y),X.Pc&&pe(Y)){for(re=0;4>re;++re)pe(Y)&&(X.vd[re]=B(Y,6));for(re=0;4>re;++re)pe(Y)&&(X.od[re]=B(Y,6))}if(g.L=X.Tb==0?0:X.zd?1:2,Y.Ka)return Ln(g,3,"cannot parse filter header");var he=q;if(q=ee=D,D=ee+he,X=he,g.Xb=(1<<R(g.m,2))-1,he<3*(re=g.Xb))P=7;else{for(ee+=3*re,X-=3*re,he=0;he<re;++he){var Ce=P[q+0]|P[q+1]<<8|P[q+2]<<16;Ce>X&&(Ce=X),H(g.Jc[+he],P,ee,Ce),ee+=Ce,X-=Ce,q+=3}H(g.Jc[+re],P,ee,X),P=ee<D?0:5}if(P!=0)return Ln(g,P,"cannot parse partitions");for(P=R(ee=g.m,7),q=pe(ee)?B(ee,4):0,D=pe(ee)?B(ee,4):0,X=pe(ee)?B(ee,4):0,re=pe(ee)?B(ee,4):0,ee=pe(ee)?B(ee,4):0,he=g.Qa,Ce=0;4>Ce;++Ce){if(he.Cb){var Ne=he.Zb[Ce];he.Fb||(Ne+=P)}else{if(0<Ce){g.pb[Ce]=g.pb[0];continue}Ne=P}var be=g.pb[Ce];be.Sc[0]=ab[gi(Ne+q,127)],be.Sc[1]=ob[gi(Ne+0,127)],be.Eb[0]=2*ab[gi(Ne+D,127)],be.Eb[1]=101581*ob[gi(Ne+X,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=ab[gi(Ne+re,117)],be.Qc[1]=ob[gi(Ne+ee,127)],be.lc=Ne+ee}if(!J.Rb)return Ln(g,4,"Not a key frame.");for(pe(Y),J=g.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(D=0;3>D;++D)for(X=0;11>X;++X)re=G(Y,O8[P][q][D][X])?R(Y,8):P8[P][q][D][X],J.Wc[P][q].Yb[D][X]=re;for(q=0;17>q;++q)J.Xc[P][q]=J.Wc[P][I8[q]]}return g.kc=pe(Y),g.kc&&(g.Bd=R(Y,8)),g.cb=1}function PA(g,_,P,D,q,Y,J){var X=_[q].Yb[P];for(P=0;16>q;++q){if(!G(g,X[P+0]))return q;for(;!G(g,X[P+1]);)if(X=_[++q].Yb[0],P=0,q==16)return 16;var ee=_[q+1].Yb;if(G(g,X[P+2])){var re=g,he=0;if(G(re,(Ne=X)[(Ce=P)+3]))if(G(re,Ne[Ce+6])){for(X=0,Ce=2*(he=G(re,Ne[Ce+8]))+(Ne=G(re,Ne[Ce+9+he])),he=0,Ne=E8[Ce];Ne[X];++X)he+=he+G(re,Ne[X]);he+=3+(8<<Ce)}else G(re,Ne[Ce+7])?(he=7+2*G(re,165),he+=G(re,145)):he=5+G(re,159);else he=G(re,Ne[Ce+4])?3+G(re,Ne[Ce+5]):2;X=ee[2]}else he=1,X=ee[1];ee=J+k8[q],0>(re=g).b&&ge(re);var Ce,Ne=re.b,be=(Ce=re.Ca>>1)-(re.I>>Ne)>>31;--re.b,re.Ca+=be,re.Ca|=1,re.I-=(Ce+1&be)<<Ne,Y[ee]=((he^be)-be)*D[(0<q)+0]}return 16}function wd(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Dy(g,_){if(g==null)return 0;if(_==null)return Ln(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!kA(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var P=im[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-P>>4,g.zb=_.j-P>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+P>>4,g.Hb=_.va+15+P>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var D=g.ed;for(P=0;4>P;++P){var q;if(g.Qa.Cb){var Y=g.Qa.Lb[P];g.Qa.Fb||(Y+=D.Tb)}else Y=D.Tb;for(q=0;1>=q;++q){var J=g.gd[P][q],X=Y;if(D.Pc&&(X+=D.vd[0],q&&(X+=D.od[0])),0<(X=0>X?0:63<X?63:X)){var ee=X;0<D.wb&&(ee=4<D.wb?ee>>2:ee>>1)>9-D.wb&&(ee=9-D.wb),1>ee&&(ee=1),J.dd=ee,J.tc=2*X+ee,J.ld=40<=X?2:15<=X?1:0}else J.tc=0;J.La=q}}}P=0}else Ln(g,6,"Frame setup failed"),P=g.a;if(P=P==0){if(P){g.$c=0,0<g.Aa||(g.Ic=G8);e:{P=g.Ic,D=4*(ee=g.za);var re=32*ee,he=ee+1,Ce=0<g.L?ee*(0<g.Aa?2:1):0,Ne=(g.Aa==2?2:1)*ee;if((J=D+832+(q=3*(16*P+im[g.L])/2*re)+(Y=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=J)P=0;else{if(J>g.Vb){if(g.Vb=0,g.Ec=a(J),g.Fc=0,g.Ec==null){P=Ln(g,1,"no memory during frame initialization.");break e}g.Vb=J}J=g.Ec,X=g.Fc,g.Ac=J,g.Bc=X,X+=D,g.Gd=o(re,NA),g.Hd=0,g.rb=o(he+1,CA),g.sb=1,g.wa=Ce?o(Ce,qu):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ee),e(!0),g.oc=J,g.pc=X,X+=832,g.ya=o(Ne,xd),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ee),g.R=16*ee,g.B=8*ee,ee=(re=im[g.L])*g.R,re=re/2*g.B,g.sa=J,g.ta=X+ee,g.qa=g.sa,g.ra=g.ta+16*P*g.R+re,g.Ha=g.qa,g.Ia=g.ra+8*P*g.B+re,g.$c=0,X+=q,g.mb=Y?J:null,g.nb=Y?X:null,e(X+Y<=g.Fc+g.Vb),wd(g),i(g.Ac,g.Bc,0,D),P=1}}if(P){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!KA){for(P=-255;255>=P;++P)rr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)wo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)zd[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)sc[255+P]=0>P?0:255<P?255:P;KA=1}ic=Fy,xo=Ly,Ud=OA,Hr=Ry,Ui=IA,Rn=MA,ac=Ed,YA=_l,qd=Xy,Nl=kd,El=Jy,ps=Ku,kl=Pd,oc=qA,Pl=UA,As=Ya,Hd=vo,qi=Ky,xa[0]=Wa,xa[1]=$y,xa[2]=Hy,xa[3]=zy,xa[4]=LA,xa[5]=Wu,xa[6]=RA,xa[7]=Td,xa[8]=Gy,xa[9]=Vy,ms[0]=jA,ms[1]=Uy,ms[2]=go,ms[3]=Vu,ms[4]=Mr,ms[5]=qy,ms[6]=DA,So[0]=us,So[1]=By,So[2]=Wy,So[3]=Cd,So[4]=Sl,So[5]=Yy,So[6]=Nd,P=1}else P=0}P&&(P=function(be,Ue){for(be.M=0;be.M<be.Va;++be.M){var Oe,me=be.Jc[be.M&be.Xb],ve=be.m,Fe=be;for(Oe=0;Oe<Fe.za;++Oe){var qe=ve,Be=Fe,rt=Be.Ac,Xe=Be.Bc+4*Oe,dt=Be.zc,Ze=Be.ya[Be.aa+Oe];if(Be.Qa.Bb?Ze.$b=G(qe,Be.Pa.jb[0])?2+G(qe,Be.Pa.jb[2]):G(qe,Be.Pa.jb[1]):Ze.$b=0,Be.kc&&(Ze.Ad=G(qe,Be.Bd)),Ze.Za=!G(qe,145)+0,Ze.Za){var Ht=Ze.Ob,Yt=0;for(Be=0;4>Be;++Be){var $t,jt=dt[0+Be];for($t=0;4>$t;++$t){jt=M8[rt[Xe+$t]][jt];for(var on=L_[G(qe,jt[0])];0<on;)on=L_[2*on+G(qe,jt[on])];jt=-on,rt[Xe+$t]=jt}r(Ht,Yt,rt,Xe,4),Yt+=4,dt[0+Be]=jt}}else jt=G(qe,156)?G(qe,128)?1:3:G(qe,163)?2:0,Ze.Ob[0]=jt,i(rt,Xe,jt,4),i(dt,0,jt,4);Ze.Dd=G(qe,142)?G(qe,114)?G(qe,183)?1:3:2:0}if(Fe.m.Ka)return Ln(be,7,"Premature end-of-partition0 encountered.");for(;be.ja<be.za;++be.ja){if(Fe=me,qe=(ve=be).rb[ve.sb-1],rt=ve.rb[ve.sb+ve.ja],Oe=ve.ya[ve.aa+ve.ja],Xe=ve.kc?Oe.Ad:0)qe.la=rt.la=0,Oe.Za||(qe.Na=rt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var tn,Ct;if(qe=rt,rt=Fe,Xe=ve.Pa.Xc,dt=ve.ya[ve.aa+ve.ja],Ze=ve.pb[dt.$b],Be=dt.ad,Ht=0,Yt=ve.rb[ve.sb-1],jt=$t=0,i(Be,Ht,0,384),dt.Za)var Gn=0,ni=Xe[3];else{on=a(16);var Wn=qe.Na+Yt.Na;if(Wn=Vd(rt,Xe[1],Wn,Ze.Eb,0,on,0),qe.Na=Yt.Na=(0<Wn)+0,1<Wn)ic(on,0,Be,Ht);else{var ri=on[0]+3>>3;for(on=0;256>on;on+=16)Be[Ht+on]=ri}Gn=1,ni=Xe[0]}var Kt=15&qe.la,yi=15&Yt.la;for(on=0;4>on;++on){var bi=1&yi;for(ri=Ct=0;4>ri;++ri)Kt=Kt>>1|(bi=(Wn=Vd(rt,ni,Wn=bi+(1&Kt),Ze.Sc,Gn,Be,Ht))>Gn)<<7,Ct=Ct<<2|(3<Wn?3:1<Wn?2:Be[Ht+0]!=0),Ht+=16;Kt>>=4,yi=yi>>1|bi<<7,$t=($t<<8|Ct)>>>0}for(ni=Kt,Gn=yi>>4,tn=0;4>tn;tn+=2){for(Ct=0,Kt=qe.la>>4+tn,yi=Yt.la>>4+tn,on=0;2>on;++on){for(bi=1&yi,ri=0;2>ri;++ri)Wn=bi+(1&Kt),Kt=Kt>>1|(bi=0<(Wn=Vd(rt,Xe[2],Wn,Ze.Qc,0,Be,Ht)))<<3,Ct=Ct<<2|(3<Wn?3:1<Wn?2:Be[Ht+0]!=0),Ht+=16;Kt>>=2,yi=yi>>1|bi<<5}jt|=Ct<<4*tn,ni|=Kt<<4<<tn,Gn|=(240&yi)<<tn}qe.la=ni,Yt.la=Gn,dt.Hc=$t,dt.Gc=jt,dt.ia=43690&jt?0:Ze.ia,Xe=!($t|jt)}if(0<ve.L&&(ve.wa[ve.Y+ve.ja]=ve.gd[Oe.$b][Oe.Za],ve.wa[ve.Y+ve.ja].La|=!Xe),Fe.Ka)return Ln(be,7,"Premature end-of-file encountered.")}if(wd(be),ve=Ue,Fe=1,Oe=(me=be).D,qe=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(Oe.M=me.M,Oe.uc=qe,Ld(me,Oe),Fe=1,Oe=(Ct=me.D).Nb,qe=(jt=im[me.L])*me.R,rt=jt/2*me.B,on=16*Oe*me.R,ri=8*Oe*me.B,Xe=me.sa,dt=me.ta-qe+on,Ze=me.qa,Be=me.ra-rt+ri,Ht=me.Ha,Yt=me.Ia-rt+ri,yi=(Kt=Ct.M)==0,$t=Kt>=me.Va-1,me.Aa==2&&Ld(me,Ct),Ct.uc)for(bi=(Wn=me).D.M,e(Wn.D.uc),Ct=Wn.yb;Ct<Wn.Hb;++Ct){Gn=Ct,ni=bi;var pr=(_r=(Mn=Wn).D).Nb;tn=Mn.R;var _r=_r.wa[_r.Y+Gn],zr=Mn.sa,Gi=Mn.ta+16*pr*tn+16*Gn,Ja=_r.dd,Ar=_r.tc;if(Ar!=0)if(e(3<=Ar),Mn.L==1)0<Gn&&As(zr,Gi,tn,Ar+4),_r.La&&qi(zr,Gi,tn,Ar),0<ni&&Pl(zr,Gi,tn,Ar+4),_r.La&&Hd(zr,Gi,tn,Ar);else{var _o=Mn.B,Ml=Mn.qa,lc=Mn.ra+8*pr*_o+8*Gn,vs=Mn.Ha,Mn=Mn.Ia+8*pr*_o+8*Gn;pr=_r.ld,0<Gn&&(YA(zr,Gi,tn,Ar+4,Ja,pr),Nl(Ml,lc,vs,Mn,_o,Ar+4,Ja,pr)),_r.La&&(ps(zr,Gi,tn,Ar,Ja,pr),oc(Ml,lc,vs,Mn,_o,Ar,Ja,pr)),0<ni&&(ac(zr,Gi,tn,Ar+4,Ja,pr),qd(Ml,lc,vs,Mn,_o,Ar+4,Ja,pr)),_r.La&&(El(zr,Gi,tn,Ar,Ja,pr),kl(Ml,lc,vs,Mn,_o,Ar,Ja,pr))}}if(me.ia&&alert("todo:DitherRow"),ve.put!=null){if(Ct=16*Kt,Kt=16*(Kt+1),yi?(ve.y=me.sa,ve.O=me.ta+on,ve.f=me.qa,ve.N=me.ra+ri,ve.ea=me.Ha,ve.W=me.Ia+ri):(Ct-=jt,ve.y=Xe,ve.O=dt,ve.f=Ze,ve.N=Be,ve.ea=Ht,ve.W=Yt),$t||(Kt-=jt),Kt>ve.o&&(Kt=ve.o),ve.F=null,ve.J=null,me.Fa!=null&&0<me.Fa.length&&Ct<Kt&&(ve.J=jd(me,ve,Ct,Kt-Ct),ve.F=me.mb,ve.F==null&&ve.F.length==0)){Fe=Ln(me,3,"Could not decode alpha data.");break e}Ct<ve.j&&(jt=ve.j-Ct,Ct=ve.j,e(!(1&jt)),ve.O+=me.R*jt,ve.N+=me.B*(jt>>1),ve.W+=me.B*(jt>>1),ve.F!=null&&(ve.J+=ve.width*jt)),Ct<Kt&&(ve.O+=ve.v,ve.N+=ve.v>>1,ve.W+=ve.v>>1,ve.F!=null&&(ve.J+=ve.v),ve.ka=Ct-ve.j,ve.U=ve.va-ve.v,ve.T=Kt-Ct,Fe=ve.put(ve))}Oe+1!=me.Ic||$t||(r(me.sa,me.ta-qe,Xe,dt+16*me.R,qe),r(me.qa,me.ra-rt,Ze,Be+8*me.B,rt),r(me.Ha,me.Ia-rt,Ht,Yt+8*me.B,rt))}if(!Fe)return Ln(be,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),P&=1}return P?(g.cb=0,P):0}function va(g,_,P,D,q){q=g[_+P+32*D]+(q>>3),g[_+P+32*D]=-256&q?0>q?0:255:q}function zu(g,_,P,D,q,Y){va(g,_,0,P,D+q),va(g,_,1,P,D+Y),va(g,_,2,P,D-Y),va(g,_,3,P,D-q)}function Zr(g){return(20091*g>>16)+g}function Sd(g,_,P,D){var q,Y=0,J=a(16);for(q=0;4>q;++q){var X=g[_+0]+g[_+8],ee=g[_+0]-g[_+8],re=(35468*g[_+4]>>16)-Zr(g[_+12]),he=Zr(g[_+4])+(35468*g[_+12]>>16);J[Y+0]=X+he,J[Y+1]=ee+re,J[Y+2]=ee-re,J[Y+3]=X-he,Y+=4,_++}for(q=Y=0;4>q;++q)X=(g=J[Y+0]+4)+J[Y+8],ee=g-J[Y+8],re=(35468*J[Y+4]>>16)-Zr(J[Y+12]),va(P,D,0,0,X+(he=Zr(J[Y+4])+(35468*J[Y+12]>>16))),va(P,D,1,0,ee+re),va(P,D,2,0,ee-re),va(P,D,3,0,X-he),Y++,D+=32}function MA(g,_,P,D){var q=g[_+0]+4,Y=35468*g[_+4]>>16,J=Zr(g[_+4]),X=35468*g[_+1]>>16;zu(P,D,0,q+J,g=Zr(g[_+1]),X),zu(P,D,1,q+Y,g,X),zu(P,D,2,q-Y,g,X),zu(P,D,3,q-J,g,X)}function Ly(g,_,P,D,q){Sd(g,_,P,D),q&&Sd(g,_+16,P,D+4)}function OA(g,_,P,D){xo(g,_+0,P,D,1),xo(g,_+32,P,D+128,1)}function Ry(g,_,P,D){var q;for(g=g[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)va(P,D,_,q,g)}function IA(g,_,P,D){g[_+0]&&Hr(g,_+0,P,D),g[_+16]&&Hr(g,_+16,P,D+4),g[_+32]&&Hr(g,_+32,P,D+128),g[_+48]&&Hr(g,_+48,P,D+128+4)}function Fy(g,_,P,D){var q,Y=a(16);for(q=0;4>q;++q){var J=g[_+0+q]+g[_+12+q],X=g[_+4+q]+g[_+8+q],ee=g[_+4+q]-g[_+8+q],re=g[_+0+q]-g[_+12+q];Y[0+q]=J+X,Y[8+q]=J-X,Y[4+q]=re+ee,Y[12+q]=re-ee}for(q=0;4>q;++q)J=(g=Y[0+4*q]+3)+Y[3+4*q],X=Y[1+4*q]+Y[2+4*q],ee=Y[1+4*q]-Y[2+4*q],re=g-Y[3+4*q],P[D+0]=J+X>>3,P[D+16]=re+ee>>3,P[D+32]=J-X>>3,P[D+48]=re-ee>>3,D+=64}function _d(g,_,P){var D,q=_-32,Y=vi,J=255-g[q-1];for(D=0;D<P;++D){var X,ee=Y,re=J+g[_-1];for(X=0;X<P;++X)g[_+X]=ee[re+g[q+X]];_+=32}}function $y(g,_){_d(g,_,4)}function By(g,_){_d(g,_,8)}function Uy(g,_){_d(g,_,16)}function go(g,_){var P;for(P=0;16>P;++P)r(g,_+32*P,g,_-32,16)}function Vu(g,_){var P;for(P=16;0<P;--P)i(g,_,g[_-1],16),_+=32}function Gu(g,_,P){var D;for(D=0;16>D;++D)i(_,P+32*D,g,16)}function jA(g,_){var P,D=16;for(P=0;16>P;++P)D+=g[_-1+32*P]+g[_+P-32];Gu(D>>5,g,_)}function Mr(g,_){var P,D=8;for(P=0;16>P;++P)D+=g[_-1+32*P];Gu(D>>4,g,_)}function qy(g,_){var P,D=8;for(P=0;16>P;++P)D+=g[_+P-32];Gu(D>>4,g,_)}function DA(g,_){Gu(128,g,_)}function bt(g,_,P){return g+2*_+P+2>>2}function Hy(g,_){var P,D=_-32;for(D=new Uint8Array([bt(g[D-1],g[D+0],g[D+1]),bt(g[D+0],g[D+1],g[D+2]),bt(g[D+1],g[D+2],g[D+3]),bt(g[D+2],g[D+3],g[D+4])]),P=0;4>P;++P)r(g,_+32*P,D,0,D.length)}function zy(g,_){var P=g[_-1],D=g[_-1+32],q=g[_-1+64],Y=g[_-1+96];le(g,_+0,16843009*bt(g[_-1-32],P,D)),le(g,_+32,16843009*bt(P,D,q)),le(g,_+64,16843009*bt(D,q,Y)),le(g,_+96,16843009*bt(q,Y,Y))}function Wa(g,_){var P,D=4;for(P=0;4>P;++P)D+=g[_+P-32]+g[_-1+32*P];for(D>>=3,P=0;4>P;++P)i(g,_+32*P,D,4)}function LA(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1-32],J=g[_+0-32],X=g[_+1-32],ee=g[_+2-32],re=g[_+3-32];g[_+0+96]=bt(D,q,g[_-1+96]),g[_+1+96]=g[_+0+64]=bt(P,D,q),g[_+2+96]=g[_+1+64]=g[_+0+32]=bt(Y,P,D),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=bt(J,Y,P),g[_+3+64]=g[_+2+32]=g[_+1+0]=bt(X,J,Y),g[_+3+32]=g[_+2+0]=bt(ee,X,J),g[_+3+0]=bt(re,ee,X)}function RA(g,_){var P=g[_+1-32],D=g[_+2-32],q=g[_+3-32],Y=g[_+4-32],J=g[_+5-32],X=g[_+6-32],ee=g[_+7-32];g[_+0+0]=bt(g[_+0-32],P,D),g[_+1+0]=g[_+0+32]=bt(P,D,q),g[_+2+0]=g[_+1+32]=g[_+0+64]=bt(D,q,Y),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=bt(q,Y,J),g[_+3+32]=g[_+2+64]=g[_+1+96]=bt(Y,J,X),g[_+3+64]=g[_+2+96]=bt(J,X,ee),g[_+3+96]=bt(X,ee,ee)}function Wu(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1-32],J=g[_+0-32],X=g[_+1-32],ee=g[_+2-32],re=g[_+3-32];g[_+0+0]=g[_+1+64]=Y+J+1>>1,g[_+1+0]=g[_+2+64]=J+X+1>>1,g[_+2+0]=g[_+3+64]=X+ee+1>>1,g[_+3+0]=ee+re+1>>1,g[_+0+96]=bt(q,D,P),g[_+0+64]=bt(D,P,Y),g[_+0+32]=g[_+1+96]=bt(P,Y,J),g[_+1+32]=g[_+2+96]=bt(Y,J,X),g[_+2+32]=g[_+3+96]=bt(J,X,ee),g[_+3+32]=bt(X,ee,re)}function Td(g,_){var P=g[_+0-32],D=g[_+1-32],q=g[_+2-32],Y=g[_+3-32],J=g[_+4-32],X=g[_+5-32],ee=g[_+6-32],re=g[_+7-32];g[_+0+0]=P+D+1>>1,g[_+1+0]=g[_+0+64]=D+q+1>>1,g[_+2+0]=g[_+1+64]=q+Y+1>>1,g[_+3+0]=g[_+2+64]=Y+J+1>>1,g[_+0+32]=bt(P,D,q),g[_+1+32]=g[_+0+96]=bt(D,q,Y),g[_+2+32]=g[_+1+96]=bt(q,Y,J),g[_+3+32]=g[_+2+96]=bt(Y,J,X),g[_+3+64]=bt(J,X,ee),g[_+3+96]=bt(X,ee,re)}function Vy(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1+96];g[_+0+0]=P+D+1>>1,g[_+2+0]=g[_+0+32]=D+q+1>>1,g[_+2+32]=g[_+0+64]=q+Y+1>>1,g[_+1+0]=bt(P,D,q),g[_+3+0]=g[_+1+32]=bt(D,q,Y),g[_+3+32]=g[_+1+64]=bt(q,Y,Y),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=Y}function Gy(g,_){var P=g[_-1+0],D=g[_-1+32],q=g[_-1+64],Y=g[_-1+96],J=g[_-1-32],X=g[_+0-32],ee=g[_+1-32],re=g[_+2-32];g[_+0+0]=g[_+2+32]=P+J+1>>1,g[_+0+32]=g[_+2+64]=D+P+1>>1,g[_+0+64]=g[_+2+96]=q+D+1>>1,g[_+0+96]=Y+q+1>>1,g[_+3+0]=bt(X,ee,re),g[_+2+0]=bt(J,X,ee),g[_+1+0]=g[_+3+32]=bt(P,J,X),g[_+1+32]=g[_+3+64]=bt(D,P,J),g[_+1+64]=g[_+3+96]=bt(q,D,P),g[_+1+96]=bt(Y,q,D)}function Wy(g,_){var P;for(P=0;8>P;++P)r(g,_+32*P,g,_-32,8)}function Cd(g,_){var P;for(P=0;8>P;++P)i(g,_,g[_-1],8),_+=32}function wl(g,_,P){var D;for(D=0;8>D;++D)i(_,P+32*D,g,8)}function us(g,_){var P,D=8;for(P=0;8>P;++P)D+=g[_+P-32]+g[_-1+32*P];wl(D>>4,g,_)}function Yy(g,_){var P,D=4;for(P=0;8>P;++P)D+=g[_+P-32];wl(D>>3,g,_)}function Sl(g,_){var P,D=4;for(P=0;8>P;++P)D+=g[_-1+32*P];wl(D>>3,g,_)}function Nd(g,_){wl(128,g,_)}function Yu(g,_,P){var D=g[_-P],q=g[_+0],Y=3*(q-D)+eb[1020+g[_-2*P]-g[_+P]],J=JA[112+(Y+4>>3)];g[_-P]=vi[255+D+JA[112+(Y+3>>3)]],g[_+0]=vi[255+q-J]}function FA(g,_,P,D){var q=g[_+0],Y=g[_+P];return zi[255+g[_-2*P]-g[_-P]]>D||zi[255+Y-q]>D}function $A(g,_,P,D){return 4*zi[255+g[_-P]-g[_+0]]+zi[255+g[_-2*P]-g[_+P]]<=D}function BA(g,_,P,D,q){var Y=g[_-3*P],J=g[_-2*P],X=g[_-P],ee=g[_+0],re=g[_+P],he=g[_+2*P],Ce=g[_+3*P];return 4*zi[255+X-ee]+zi[255+J-re]>D?0:zi[255+g[_-4*P]-Y]<=q&&zi[255+Y-J]<=q&&zi[255+J-X]<=q&&zi[255+Ce-he]<=q&&zi[255+he-re]<=q&&zi[255+re-ee]<=q}function UA(g,_,P,D){var q=2*D+1;for(D=0;16>D;++D)$A(g,_+D,P,q)&&Yu(g,_+D,P)}function Ya(g,_,P,D){var q=2*D+1;for(D=0;16>D;++D)$A(g,_+D*P,1,q)&&Yu(g,_+D*P,1)}function vo(g,_,P,D){var q;for(q=3;0<q;--q)UA(g,_+=4*P,P,D)}function Ky(g,_,P,D){var q;for(q=3;0<q;--q)Ya(g,_+=4,P,D)}function cs(g,_,P,D,q,Y,J,X){for(Y=2*Y+1;0<q--;){if(BA(g,_,P,Y,J))if(FA(g,_,P,X))Yu(g,_,P);else{var ee=g,re=_,he=P,Ce=ee[re-2*he],Ne=ee[re-he],be=ee[re+0],Ue=ee[re+he],Oe=ee[re+2*he],me=27*(Fe=eb[1020+3*(be-Ne)+eb[1020+Ce-Ue]])+63>>7,ve=18*Fe+63>>7,Fe=9*Fe+63>>7;ee[re-3*he]=vi[255+ee[re-3*he]+Fe],ee[re-2*he]=vi[255+Ce+ve],ee[re-he]=vi[255+Ne+me],ee[re+0]=vi[255+be-me],ee[re+he]=vi[255+Ue-ve],ee[re+2*he]=vi[255+Oe-Fe]}_+=D}}function ya(g,_,P,D,q,Y,J,X){for(Y=2*Y+1;0<q--;){if(BA(g,_,P,Y,J))if(FA(g,_,P,X))Yu(g,_,P);else{var ee=g,re=_,he=P,Ce=ee[re-he],Ne=ee[re+0],be=ee[re+he],Ue=JA[112+((Oe=3*(Ne-Ce))+4>>3)],Oe=JA[112+(Oe+3>>3)],me=Ue+1>>1;ee[re-2*he]=vi[255+ee[re-2*he]+me],ee[re-he]=vi[255+Ce+Oe],ee[re+0]=vi[255+Ne-Ue],ee[re+he]=vi[255+be-me]}_+=D}}function Ed(g,_,P,D,q,Y){cs(g,_,P,1,16,D,q,Y)}function _l(g,_,P,D,q,Y){cs(g,_,1,P,16,D,q,Y)}function Jy(g,_,P,D,q,Y){var J;for(J=3;0<J;--J)ya(g,_+=4*P,P,1,16,D,q,Y)}function Ku(g,_,P,D,q,Y){var J;for(J=3;0<J;--J)ya(g,_+=4,1,P,16,D,q,Y)}function Xy(g,_,P,D,q,Y,J,X){cs(g,_,q,1,8,Y,J,X),cs(P,D,q,1,8,Y,J,X)}function kd(g,_,P,D,q,Y,J,X){cs(g,_,1,q,8,Y,J,X),cs(P,D,1,q,8,Y,J,X)}function Pd(g,_,P,D,q,Y,J,X){ya(g,_+4*q,q,1,8,Y,J,X),ya(P,D+4*q,q,1,8,Y,J,X)}function qA(g,_,P,D,q,Y,J,X){ya(g,_+4,1,q,8,Y,J,X),ya(P,D+4,1,q,8,Y,J,X)}function Ju(){this.ba=new wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Md(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Od(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function HA(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new I}function Qy(){this.xb=this.a=0,this.l=new Hu,this.ca=new wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new HA,this.ab=0,this.gc=o(4,Od),this.Oc=0}function Xu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Tl(g,_,P,D,q,Y,J){for(g=g==null?0:g[_+0],_=0;_<J;++_)q[Y+_]=g+P[D+_]&255,g=q[Y+_]}function Id(g,_,P,D,q,Y,J){var X;if(g==null)Tl(null,null,P,D,q,Y,J);else for(X=0;X<J;++X)q[Y+X]=g[_+X]+P[D+X]&255}function fs(g,_,P,D,q,Y,J){if(g==null)Tl(null,null,P,D,q,Y,J);else{var X,ee=g[_+0],re=ee,he=ee;for(X=0;X<J;++X)re=he+(ee=g[_+X])-re,he=P[D+X]+(-256&re?0>re?0:255:re)&255,re=ee,q[Y+X]=he}}function jd(g,_,P,D){var q=_.width,Y=_.o;if(e(g!=null&&_!=null),0>P||0>=D||P+D>Y)return null;if(!g.Cc){if(g.ga==null){var J;if(g.ga=new Xu,(J=g.ga==null)||(J=_.width*_.o,e(g.Gb.length==0),g.Gb=a(J),g.Uc=0,g.Gb==null?J=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,J=1),J=!J),!J){J=g.ga;var X=g.Fa,ee=g.P,re=g.qc,he=g.mb,Ce=g.nb,Ne=ee+1,be=re-1,Ue=J.l;if(e(X!=null&&he!=null&&_!=null),gs[0]=null,gs[1]=Tl,gs[2]=Id,gs[3]=fs,J.ca=he,J.tb=Ce,J.c=_.width,J.i=_.height,e(0<J.c&&0<J.i),1>=re)_=0;else if(J.$a=X[ee+0]>>0&3,J.Z=X[ee+0]>>2&3,J.Lc=X[ee+0]>>4&3,ee=X[ee+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ee)_=0;else if(Ue.put=qa,Ue.ac=tr,Ue.bc=Ha,Ue.ma=J,Ue.width=_.width,Ue.height=_.height,Ue.Da=_.Da,Ue.v=_.v,Ue.va=_.va,Ue.j=_.j,Ue.o=_.o,J.$a)e:{e(J.$a==1),_=$i();t:for(;;){if(_==null){_=0;break e}if(e(J!=null),J.mc=_,_.c=J.c,_.i=J.i,_.l=J.l,_.l.ma=J,_.l.width=J.c,_.l.height=J.i,_.a=0,W(_.m,X,Ne,be),!Ga(J.c,J.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&mo(_.s)?(J.ic=1,X=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(X),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(J.ic=0,_=xl(_,J.c)),!_))break t;_=1;break e}J.mc=null,_=0}else _=be>=J.c*J.i;J=!_}if(J)return null;g.ga.Lc!=1?g.Ga=0:D=Y-P}e(g.ga!=null),e(P+D<=Y);e:{if(_=(X=g.ga).c,Y=X.l.o,X.$a==0){if(Ne=g.rc,be=g.Vc,Ue=g.Fa,ee=g.P+1+P*_,re=g.mb,he=g.nb+P*_,e(ee<=g.P+g.qc),X.Z!=0)for(e(gs[X.Z]!=null),J=0;J<D;++J)gs[X.Z](Ne,be,Ue,ee,re,he,_),Ne=re,be=he,he+=_,ee+=_;else for(J=0;J<D;++J)r(re,he,Ue,ee,_),Ne=re,be=he,he+=_,ee+=_;g.rc=Ne,g.Vc=be}else{if(e(X.mc!=null),_=P+D,e((J=X.mc)!=null),e(_<=J.i),J.C>=_)_=1;else if(X.ic||Se(),X.ic){X=J.V,Ne=J.Ba,be=J.c;var Oe=J.i,me=(Ue=1,ee=J.$/be,re=J.$%be,he=J.m,Ce=J.s,J.$),ve=be*Oe,Fe=be*_,qe=Ce.wc,Be=me<Fe?zn(Ce,re,ee):null;e(me<=ve),e(_<=Oe),e(mo(Ce));t:for(;;){for(;!he.h&&me<Fe;){if(re&qe||(Be=zn(Ce,re,ee)),e(Be!=null),ie(he),256>(Oe=Qr(Be.G[0],Be.H[0],he)))X[Ne+me]=Oe,++me,++re>=be&&(re=0,++ee<=_&&!(ee%16)&&ma(J,ee));else{if(!(280>Oe)){Ue=0;break t}Oe=pa(Oe-256,he);var rt,Xe=Qr(Be.G[4],Be.H[4],he);if(ie(he),!(me>=(Xe=za(be,Xe=pa(Xe,he)))&&ve-me>=Oe)){Ue=0;break t}for(rt=0;rt<Oe;++rt)X[Ne+me+rt]=X[Ne+me+rt-Xe];for(me+=Oe,re+=Oe;re>=be;)re-=be,++ee<=_&&!(ee%16)&&ma(J,ee);me<Fe&&re&qe&&(Be=zn(Ce,re,ee))}e(he.h==Q(he))}ma(J,ee>_?_:ee);break t}!Ue||he.h&&me<ve?(Ue=0,J.a=he.h?5:3):J.$=me,_=Ue}else _=ga(J,J.V,J.Ba,J.c,J.i,_,Fu);if(!_){D=0;break e}}P+D>=Y&&(g.Cc=1),D=1}if(!D)return null;if(g.Cc&&((D=g.ga)!=null&&(D.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*q}function N(g,_,P,D,q,Y){for(;0<q--;){var J,X=g,ee=_+(P?1:0),re=g,he=_+(P?0:3);for(J=0;J<D;++J){var Ce=re[he+4*J];Ce!=255&&(Ce*=32897,X[ee+4*J+0]=X[ee+4*J+0]*Ce>>23,X[ee+4*J+1]=X[ee+4*J+1]*Ce>>23,X[ee+4*J+2]=X[ee+4*J+2]*Ce>>23)}_+=Y}}function V(g,_,P,D,q){for(;0<D--;){var Y;for(Y=0;Y<P;++Y){var J=g[_+2*Y+0],X=15&(re=g[_+2*Y+1]),ee=4369*X,re=(240&re|re>>4)*ee>>16;g[_+2*Y+0]=(240&J|J>>4)*ee>>16&240|(15&J|J<<4)*ee>>16>>4&15,g[_+2*Y+1]=240&re|X}_+=q}}function se(g,_,P,D,q,Y,J,X){var ee,re,he=255;for(re=0;re<q;++re){for(ee=0;ee<D;++ee){var Ce=g[_+ee];Y[J+4*ee]=Ce,he&=Ce}_+=P,J+=X}return he!=255}function fe(g,_,P,D,q){var Y;for(Y=0;Y<q;++Y)P[D+Y]=g[_+Y]>>8}function Se(){Hi=N,fn=V,dn=se,Fn=fe}function Ie(g,_,P){M[g]=function(D,q,Y,J,X,ee,re,he,Ce,Ne,be,Ue,Oe,me,ve,Fe,qe){var Be,rt=qe-1>>1,Xe=X[ee+0]|re[he+0]<<16,dt=Ce[Ne+0]|be[Ue+0]<<16;e(D!=null);var Ze=3*Xe+dt+131074>>2;for(_(D[q+0],255&Ze,Ze>>16,Oe,me),Y!=null&&(Ze=3*dt+Xe+131074>>2,_(Y[J+0],255&Ze,Ze>>16,ve,Fe)),Be=1;Be<=rt;++Be){var Ht=X[ee+Be]|re[he+Be]<<16,Yt=Ce[Ne+Be]|be[Ue+Be]<<16,$t=Xe+Ht+dt+Yt+524296,jt=$t+2*(Ht+dt)>>3;Ze=jt+Xe>>1,Xe=($t=$t+2*(Xe+Yt)>>3)+Ht>>1,_(D[q+2*Be-1],255&Ze,Ze>>16,Oe,me+(2*Be-1)*P),_(D[q+2*Be-0],255&Xe,Xe>>16,Oe,me+(2*Be-0)*P),Y!=null&&(Ze=$t+dt>>1,Xe=jt+Yt>>1,_(Y[J+2*Be-1],255&Ze,Ze>>16,ve,Fe+(2*Be-1)*P),_(Y[J+2*Be+0],255&Xe,Xe>>16,ve,Fe+(2*Be+0)*P)),Xe=Ht,dt=Yt}1&qe||(Ze=3*Xe+dt+131074>>2,_(D[q+qe-1],255&Ze,Ze>>16,Oe,me+(qe-1)*P),Y!=null&&(Ze=3*dt+Xe+131074>>2,_(Y[J+qe-1],255&Ze,Ze>>16,ve,Fe+(qe-1)*P)))}}function He(){Vi[XA]=D8,Vi[QA]=F_,Vi[I_]=L8,Vi[ZA]=$_,Vi[em]=B_,Vi[tb]=U_,Vi[j_]=R8,Vi[nb]=F_,Vi[rb]=$_,Vi[tm]=B_,Vi[ib]=U_}function tt(g){return g&-16384?0>g?0:255:g>>F8}function lt(g,_){return tt((19077*g>>8)+(26149*_>>8)-14234)}function St(g,_,P){return tt((19077*g>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function xt(g,_){return tt((19077*g>>8)+(33050*_>>8)-17685)}function Ft(g,_,P,D,q){D[q+0]=lt(g,P),D[q+1]=St(g,_,P),D[q+2]=xt(g,_)}function kn(g,_,P,D,q){D[q+0]=xt(g,_),D[q+1]=St(g,_,P),D[q+2]=lt(g,P)}function Pn(g,_,P,D,q){var Y=St(g,_,P);_=Y<<3&224|xt(g,_)>>3,D[q+0]=248&lt(g,P)|Y>>5,D[q+1]=_}function Vn(g,_,P,D,q){var Y=240&xt(g,_)|15;D[q+0]=240&lt(g,P)|St(g,_,P)>>4,D[q+1]=Y}function Or(g,_,P,D,q){D[q+0]=255,Ft(g,_,P,D,q+1)}function hr(g,_,P,D,q){kn(g,_,P,D,q),D[q+3]=255}function ba(g,_,P,D,q){Ft(g,_,P,D,q),D[q+3]=255}function gi(g,_){return 0>g?0:g>_?_:g}function Ka(g,_,P){M[g]=function(D,q,Y,J,X,ee,re,he,Ce){for(var Ne=he+(-2&Ce)*P;he!=Ne;)_(D[q+0],Y[J+0],X[ee+0],re,he),_(D[q+1],Y[J+0],X[ee+0],re,he+P),q+=2,++J,++ee,he+=2*P;1&Ce&&_(D[q+0],Y[J+0],X[ee+0],re,he)}}function zA(g,_,P){return P==0?g==0?_==0?6:5:_==0?4:0:P}function Dd(g,_,P,D,q){switch(g>>>30){case 3:xo(_,P,D,q,0);break;case 2:Rn(_,P,D,q);break;case 1:Hr(_,P,D,q)}}function Ld(g,_){var P,D,q=_.M,Y=_.Nb,J=g.oc,X=g.pc+40,ee=g.oc,re=g.pc+584,he=g.oc,Ce=g.pc+600;for(P=0;16>P;++P)J[X+32*P-1]=129;for(P=0;8>P;++P)ee[re+32*P-1]=129,he[Ce+32*P-1]=129;for(0<q?J[X-1-32]=ee[re-1-32]=he[Ce-1-32]=129:(i(J,X-32-1,127,21),i(ee,re-32-1,127,9),i(he,Ce-32-1,127,9)),D=0;D<g.za;++D){var Ne=_.ya[_.aa+D];if(0<D){for(P=-1;16>P;++P)r(J,X+32*P-4,J,X+32*P+12,4);for(P=-1;8>P;++P)r(ee,re+32*P-4,ee,re+32*P+4,4),r(he,Ce+32*P-4,he,Ce+32*P+4,4)}var be=g.Gd,Ue=g.Hd+D,Oe=Ne.ad,me=Ne.Hc;if(0<q&&(r(J,X-32,be[Ue].y,0,16),r(ee,re-32,be[Ue].f,0,8),r(he,Ce-32,be[Ue].ea,0,8)),Ne.Za){var ve=J,Fe=X-32+16;for(0<q&&(D>=g.za-1?i(ve,Fe,be[Ue].y[15],4):r(ve,Fe,be[Ue+1].y,0,4)),P=0;4>P;P++)ve[Fe+128+P]=ve[Fe+256+P]=ve[Fe+384+P]=ve[Fe+0+P];for(P=0;16>P;++P,me<<=2)ve=J,Fe=X+H_[P],xa[Ne.Ob[P]](ve,Fe),Dd(me,Oe,16*+P,ve,Fe)}else if(ve=zA(D,q,Ne.Ob[0]),ms[ve](J,X),me!=0)for(P=0;16>P;++P,me<<=2)Dd(me,Oe,16*+P,J,X+H_[P]);for(P=Ne.Gc,ve=zA(D,q,Ne.Dd),So[ve](ee,re),So[ve](he,Ce),me=Oe,ve=ee,Fe=re,255&(Ne=P>>0)&&(170&Ne?Ud(me,256,ve,Fe):Ui(me,256,ve,Fe)),Ne=he,me=Ce,255&(P>>=8)&&(170&P?Ud(Oe,320,Ne,me):Ui(Oe,320,Ne,me)),q<g.Ub-1&&(r(be[Ue].y,0,J,X+480,16),r(be[Ue].f,0,ee,re+224,8),r(be[Ue].ea,0,he,Ce+224,8)),P=8*Y*g.B,be=g.sa,Ue=g.ta+16*D+16*Y*g.R,Oe=g.qa,Ne=g.ra+8*D+P,me=g.Ha,ve=g.Ia+8*D+P,P=0;16>P;++P)r(be,Ue+P*g.R,J,X+32*P,16);for(P=0;8>P;++P)r(Oe,Ne+P*g.B,ee,re+32*P,8),r(me,ve+P*g.B,he,Ce+32*P,8)}}function Qu(g,_,P,D,q,Y,J,X,ee){var re=[0],he=[0],Ce=0,Ne=ee!=null?ee.kd:0,be=ee??new Md;if(g==null||12>P)return 7;be.data=g,be.w=_,be.ha=P,_=[_],P=[P],be.gb=[be.gb];e:{var Ue=_,Oe=P,me=be.gb;if(e(g!=null),e(Oe!=null),e(me!=null),me[0]=0,12<=Oe[0]&&!n(g,Ue[0],"RIFF")){if(n(g,Ue[0]+8,"WEBP")){me=3;break e}var ve=Te(g,Ue[0]+4);if(12>ve||4294967286<ve){me=3;break e}if(Ne&&ve>Oe[0]-8){me=7;break e}me[0]=ve,Ue[0]+=12,Oe[0]-=12}me=0}if(me!=0)return me;for(ve=0<be.gb[0],P=P[0];;){e:{var Fe=g;Oe=_,me=P;var qe=re,Be=he,rt=Ue=[0];if((Ze=Ce=[Ce])[0]=0,8>me[0])me=7;else{if(!n(Fe,Oe[0],"VP8X")){if(Te(Fe,Oe[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var Xe=Te(Fe,Oe[0]+8),dt=1+ue(Fe,Oe[0]+12);if(2147483648<=dt*(Fe=1+ue(Fe,Oe[0]+15))){me=3;break e}rt!=null&&(rt[0]=Xe),qe!=null&&(qe[0]=dt),Be!=null&&(Be[0]=Fe),Oe[0]+=18,me[0]-=18,Ze[0]=1}me=0}}if(Ce=Ce[0],Ue=Ue[0],me!=0)return me;if(Oe=!!(2&Ue),!ve&&Ce)return 3;if(Y!=null&&(Y[0]=!!(16&Ue)),J!=null&&(J[0]=Oe),X!=null&&(X[0]=0),J=re[0],Ue=he[0],Ce&&Oe&&ee==null){me=0;break}if(4>P){me=7;break}if(ve&&Ce||!ve&&!Ce&&!n(g,_[0],"ALPH")){P=[P],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{Xe=g,me=_,ve=P;var Ze=be.gb;qe=be.na,Be=be.P,rt=be.Sa,dt=22,e(Xe!=null),e(ve!=null),Fe=me[0];var Ht=ve[0];for(e(qe!=null),e(rt!=null),qe[0]=null,Be[0]=null,rt[0]=0;;){if(me[0]=Fe,ve[0]=Ht,8>Ht){me=7;break e}var Yt=Te(Xe,Fe+4);if(4294967286<Yt){me=3;break e}var $t=8+Yt+1&-2;if(dt+=$t,0<Ze&&dt>Ze){me=3;break e}if(!n(Xe,Fe,"VP8 ")||!n(Xe,Fe,"VP8L")){me=0;break e}if(Ht[0]<$t){me=7;break e}n(Xe,Fe,"ALPH")||(qe[0]=Xe,Be[0]=Fe+8,rt[0]=Yt),Fe+=$t,Ht-=$t}}if(P=P[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],me!=0)break}P=[P],be.Ja=[be.Ja],be.xa=[be.xa];e:if(Ze=g,me=_,ve=P,qe=be.gb[0],Be=be.Ja,rt=be.xa,Xe=me[0],Fe=!n(Ze,Xe,"VP8 "),dt=!n(Ze,Xe,"VP8L"),e(Ze!=null),e(ve!=null),e(Be!=null),e(rt!=null),8>ve[0])me=7;else{if(Fe||dt){if(Ze=Te(Ze,Xe+4),12<=qe&&Ze>qe-12){me=3;break e}if(Ne&&Ze>ve[0]-8){me=7;break e}Be[0]=Ze,me[0]+=8,ve[0]-=8,rt[0]=dt}else rt[0]=5<=ve[0]&&Ze[Xe+0]==47&&!(Ze[Xe+4]>>5),Be[0]=ve[0];me=0}if(P=P[0],be.Ja=be.Ja[0],be.xa=be.xa[0],_=_[0],me!=0)break;if(4294967286<be.Ja)return 3;if(X==null||Oe||(X[0]=be.xa?2:1),J=[J],Ue=[Ue],be.xa){if(5>P){me=7;break}X=J,Ne=Ue,Oe=Y,g==null||5>P?g=0:5<=P&&g[_+0]==47&&!(g[_+4]>>5)?(ve=[0],Ze=[0],qe=[0],W(Be=new L,g,_,P),pt(Be,ve,Ze,qe)?(X!=null&&(X[0]=ve[0]),Ne!=null&&(Ne[0]=Ze[0]),Oe!=null&&(Oe[0]=qe[0]),g=1):g=0):g=0}else{if(10>P){me=7;break}X=Ue,g==null||10>P||!EA(g,_+3,P-3)?g=0:(Ne=g[_+0]|g[_+1]<<8|g[_+2]<<16,Oe=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=be.Ja||!Oe||!g?g=0:(J&&(J[0]=Oe),X&&(X[0]=g),g=1))}if(!g||(J=J[0],Ue=Ue[0],Ce&&(re[0]!=J||he[0]!=Ue)))return 3;ee!=null&&(ee[0]=be,ee.offset=_-ee.w,e(4294967286>_-ee.w),e(ee.offset==ee.ha-P));break}return me==0||me==7&&Ce&&ee==null?(Y!=null&&(Y[0]|=be.na!=null&&0<be.na.length),D!=null&&(D[0]=J),q!=null&&(q[0]=Ue),0):me}function Rd(g,_,P){var D=_.width,q=_.height,Y=0,J=0,X=D,ee=q;if(_.Da=g!=null&&0<g.Da,_.Da&&(X=g.cd,ee=g.bd,Y=g.v,J=g.j,11>P||(Y&=-2,J&=-2),0>Y||0>J||0>=X||0>=ee||Y+X>D||J+ee>q))return 0;if(_.v=Y,_.j=J,_.va=Y+X,_.o=J+ee,_.U=X,_.T=ee,_.da=g!=null&&0<g.da,_.da){if(!Ee(X,ee,P=[g.ib],Y=[g.hb]))return 0;_.ib=P[0],_.hb=Y[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*q/4,_.Kb=0),1}function Fd(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Zu(g,_,P,D){if(D==null||0>=g||0>=_)return 2;if(P!=null){if(P.Da){var q=P.cd,Y=P.bd,J=-2&P.v,X=-2&P.j;if(0>J||0>X||0>=q||0>=Y||J+q>g||X+Y>_)return 2;g=q,_=Y}if(P.da){if(!Ee(g,_,q=[P.ib],Y=[P.hb]))return 2;g=q[0],_=Y[0]}}D.width=g,D.height=_;e:{var ee=D.width,re=D.height;if(g=D.S,0>=ee||0>=re||!(g>=XA&&13>g))g=2;else{if(0>=D.Rd&&D.sd==null){J=Y=q=_=0;var he=(X=ee*z_[g])*re;if(11>g||(Y=(re+1)/2*(_=(ee+1)/2),g==12&&(J=(q=ee)*re)),(re=a(he+2*Y+J))==null){g=1;break e}D.sd=re,11>g?((ee=D.f.RGBA).eb=re,ee.fb=0,ee.A=X,ee.size=he):((ee=D.f.kb).y=re,ee.O=0,ee.fa=X,ee.Fd=he,ee.f=re,ee.N=0+he,ee.Ab=_,ee.Cd=Y,ee.ea=re,ee.W=0+he+Y,ee.Db=_,ee.Ed=Y,g==12&&(ee.F=re,ee.J=0+he+2*Y),ee.Tc=J,ee.lb=q)}if(_=1,q=D.S,Y=D.width,J=D.height,q>=XA&&13>q)if(11>q)g=D.f.RGBA,_&=(X=Math.abs(g.A))*(J-1)+Y<=g.size,_&=X>=Y*z_[q],_&=g.eb!=null;else{g=D.f.kb,X=(Y+1)/2,he=(J+1)/2,ee=Math.abs(g.fa),re=Math.abs(g.Ab);var Ce=Math.abs(g.Db),Ne=Math.abs(g.lb),be=Ne*(J-1)+Y;_&=ee*(J-1)+Y<=g.Fd,_&=re*(he-1)+X<=g.Cd,_=(_&=Ce*(he-1)+X<=g.Ed)&ee>=Y&re>=X&Ce>=X,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,q==12&&(_&=Ne>=Y,_&=be<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||P!=null&&P.fd&&(g=Fd(D)),g}var Sr=64,ec=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tc=24,nc=32,$d=8,ei=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(g){return g},M.Predictor2=function(g,_,P){return _[P+0]},M.Predictor3=function(g,_,P){return _[P+1]},M.Predictor4=function(g,_,P){return _[P-1]},M.Predictor5=function(g,_,P){return Pe(Pe(g,_[P+1]),_[P+0])},M.Predictor6=function(g,_,P){return Pe(g,_[P-1])},M.Predictor7=function(g,_,P){return Pe(g,_[P+0])},M.Predictor8=function(g,_,P){return Pe(_[P-1],_[P+0])},M.Predictor9=function(g,_,P){return Pe(_[P+0],_[P+1])},M.Predictor10=function(g,_,P){return Pe(Pe(g,_[P-1]),Pe(_[P+0],_[P+1]))},M.Predictor11=function(g,_,P){var D=_[P+0];return 0>=Ge(D>>24&255,g>>24&255,(_=_[P-1])>>24&255)+Ge(D>>16&255,g>>16&255,_>>16&255)+Ge(D>>8&255,g>>8&255,_>>8&255)+Ge(255&D,255&g,255&_)?D:g},M.Predictor12=function(g,_,P){var D=_[P+0];return(we((g>>24&255)+(D>>24&255)-((_=_[P-1])>>24&255))<<24|we((g>>16&255)+(D>>16&255)-(_>>16&255))<<16|we((g>>8&255)+(D>>8&255)-(_>>8&255))<<8|we((255&g)+(255&D)-(255&_)))>>>0},M.Predictor13=function(g,_,P){var D=_[P-1];return(Ve((g=Pe(g,_[P+0]))>>24&255,D>>24&255)<<24|Ve(g>>16&255,D>>16&255)<<16|Ve(g>>8&255,D>>8&255)<<8|Ve(g>>0&255,D>>0&255))>>>0};var Zy=M.PredictorAdd0;M.PredictorAdd1=st,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var Bd=M.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var VA,Bi=M.ColorIndexInverseTransform,rc=M.MapARGB,GA=M.VP8LColorIndexInverseTransformAlpha,WA=M.MapAlpha,ds=M.VP8LPredictorsAdd=[];ds.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Cl,ti,qr,hs,yo,bo,ic,xo,Rn,Ud,Hr,Ui,ac,YA,qd,Nl,El,ps,kl,oc,Pl,As,Hd,qi,Hi,fn,dn,Fn,rr=a(511),wo=a(2041),zd=a(225),sc=a(767),KA=0,eb=wo,JA=zd,vi=sc,zi=rr,XA=0,QA=1,I_=2,ZA=3,em=4,tb=5,j_=6,nb=7,rb=8,tm=9,ib=10,x8=[2,3,7],w8=[3,3,11],D_=[280,256,256,256,40],S8=[0,1,1,1,0],_8=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],T8=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],C8=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],N8=8,ab=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ob=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vd=null,E8=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],k8=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],L_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],P8=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],M8=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],O8=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],I8=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ms=[],xa=[],So=[],j8=1,R_=2,gs=[],Vi=[];Ie("UpsampleRgbLinePair",Ft,3),Ie("UpsampleBgrLinePair",kn,3),Ie("UpsampleRgbaLinePair",ba,4),Ie("UpsampleBgraLinePair",hr,4),Ie("UpsampleArgbLinePair",Or,4),Ie("UpsampleRgba4444LinePair",Vn,2),Ie("UpsampleRgb565LinePair",Pn,2);var D8=M.UpsampleRgbLinePair,L8=M.UpsampleBgrLinePair,F_=M.UpsampleRgbaLinePair,$_=M.UpsampleBgraLinePair,B_=M.UpsampleArgbLinePair,U_=M.UpsampleRgba4444LinePair,R8=M.UpsampleRgb565LinePair,nm=16,rm=1<<nm-1,Gd=-227,sb=482,F8=6,q_=0,$8=a(256),B8=a(256),U8=a(256),q8=a(256),H8=a(sb-Gd),z8=a(sb-Gd);Ka("YuvToRgbRow",Ft,3),Ka("YuvToBgrRow",kn,3),Ka("YuvToRgbaRow",ba,4),Ka("YuvToBgraRow",hr,4),Ka("YuvToArgbRow",Or,4),Ka("YuvToRgba4444Row",Vn,2),Ka("YuvToRgb565Row",Pn,2);var H_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],im=[0,2,8],V8=[8,7,6,4,4,2,2,2,1,1,1,1],G8=1;this.WebPDecodeRGBA=function(g,_,P,D,q){var Y=QA,J=new Ju,X=new wr;J.ba=X,X.S=Y,X.width=[X.width],X.height=[X.height];var ee=X.width,re=X.height,he=new Ri;if(he==null||g==null)var Ce=2;else e(he!=null),Ce=Qu(g,_,P,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Ce!=0?ee=0:(ee!=null&&(ee[0]=he.width[0]),re!=null&&(re[0]=he.height[0]),ee=1),ee){X.width=X.width[0],X.height=X.height[0],D!=null&&(D[0]=X.width),q!=null&&(q[0]=X.height);e:{if(D=new Hu,(q=new Md).data=g,q.w=_,q.ha=P,q.kd=1,_=[0],e(q!=null),((g=Qu(q.data,q.w,q.ha,null,null,null,_,null,q))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(J!=null),D.data=q.data,D.w=q.w+q.offset,D.ha=q.ha-q.offset,D.put=qa,D.ac=tr,D.bc=Ha,D.ma=J,q.xa){if((g=$i())==null){J=1;break e}if(function(Ne,be){var Ue=[0],Oe=[0],me=[0];t:for(;;){if(Ne==null)return 0;if(be==null)return Ne.a=2,0;if(Ne.l=be,Ne.a=0,W(Ne.m,be.data,be.w,be.ha),!pt(Ne.m,Ue,Oe,me)){Ne.a=3;break t}if(Ne.xb=R_,be.width=Ue[0],be.height=Oe[0],!Ga(Ue[0],Oe[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(g,D)){if(D=(_=Zu(D.width,D.height,J.Oa,J.ba))==0){t:{D=g;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((P=D.l)!=null),e((q=P.ma)!=null),D.xb!=0){if(D.ca=q.ba,D.tb=q.tb,e(D.ca!=null),!Rd(q.Oa,P,ZA)){D.a=2;break n}if(!xl(D,P.width)||P.da)break n;if((P.da||Ke(D.ca.S))&&Se(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Se()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Re(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!ga(D,D.V,D.Ba,D.c,D.i,P.o,Ru))break n;q.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=g.a)}else _=g.a}else{if((g=new jy)==null){J=1;break e}if(g.Fa=q.na,g.P=q.P,g.qc=q.Sa,kA(g,D)){if((_=Zu(D.width,D.height,J.Oa,J.ba))==0){if(g.Aa=0,P=J.Oa,e((q=g)!=null),P!=null){if(0<(ee=0>(ee=P.Md)?0:100<ee?255:255*ee/100)){for(re=he=0;4>re;++re)12>(Ce=q.pb[re]).lc&&(Ce.ia=ee*V8[0>Ce.lc?0:Ce.lc]>>3),he|=Ce.ia;he&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}Dy(g,D)||(_=g.a)}}else _=g.a}_==0&&J.Oa!=null&&J.Oa.fd&&(_=Fd(J.ba))}J=_}Y=J!=0?null:11>Y?X.f.RGBA.eb:X.f.kb.y}else Y=null;return Y};var z_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(M,j){for(var U="",O=0;O<4;O++)U+=String.fromCharCode(M[j++]);return U}function c(M,j){return(M[j+0]<<0|M[j+1]<<8|M[j+2]<<16)>>>0}function f(M,j){return(M[j+0]<<0|M[j+1]<<8|M[j+2]<<16|M[j+3]<<24)>>>0}new l;var h=[0],p=[0],y=[],x=new l,w=t,v=function(M,j){var U={},O=0,I=!1,$=0,F=0;if(U.frames=[],!function(z,Q,te,ie){for(var ge=0;ge<ie;ge++)if(z[Q+ge]!=te.charCodeAt(ge))return!0;return!1}(M,j,"RIFF",4)){var H,R;for(f(M,j+=4),j+=8;j<M.length;){var B=u(M,j),W=f(M,j+=4);j+=4;var K=W+(1&W);switch(B){case"VP8 ":case"VP8L":U.frames[O]===void 0&&(U.frames[O]={}),(L=U.frames[O]).src_off=I?F:j-8,L.src_size=$+W+8,O++,I&&(I=!1,$=0,F=0);break;case"VP8X":(L=U.header={}).feature_flags=M[j];var Z=j+4;L.canvas_width=1+c(M,Z),Z+=3,L.canvas_height=1+c(M,Z),Z+=3;break;case"ALPH":I=!0,$=K+8,F=j-8;break;case"ANIM":(L=U.header).bgcolor=f(M,j),Z=j+4,L.loop_count=(H=M)[(R=Z)+0]<<0|H[R+1]<<8,Z+=2;break;case"ANMF":var oe,L;(L=U.frames[O]={}).offset_x=2*c(M,j),j+=3,L.offset_y=2*c(M,j),j+=3,L.width=1+c(M,j),j+=3,L.height=1+c(M,j),j+=3,L.duration=c(M,j),j+=3,oe=M[j++],L.dispose=1&oe,L.blend=oe>>1&1}B!="ANMF"&&(j+=K)}return U}}(w,0);v.response=w,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,S=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var T=0;T<S.length&&S[T].blend!=0;T++);}var C=S[0],k=x.WebPDecodeRGBA(w,C.src_off,C.src_size,p,h);C.rgba=k,C.imgwidth=p[0],C.imgheight=h[0];for(var E=0;E<p[0]*h[0]*4;E++)y[E]=k[E];return this.width=p,this.height=h,this.data=y,this}(function(t){var e=function(){return typeof S2=="function"},n=function(h,p,y,x){var w=4,v=o;switch(x){case t.image_compression.FAST:w=1,v=a;break;case t.image_compression.MEDIUM:w=6,v=s;break;case t.image_compression.SLOW:w=9,v=l}h=r(h,p,y,v);var b=S2(h,{level:w});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(h,p,y,x){for(var w,v,b,S=h.length/p,T=new Uint8Array(h.length+S),C=c(),k=0;k<S;k+=1){if(b=k*p,w=h.subarray(b,b+p),x)T.set(x(w,y,v),b+k);else{for(var E,M=C.length,j=[];E<M;E+=1)j[E]=C[E](w,y,v);var U=f(j.concat());T.set(j[U],b+k)}v=w}return T},i=function(h){var p=Array.apply([],h);return p.unshift(0),p},a=function(h,p){var y,x=[],w=h.length;x[0]=1;for(var v=0;v<w;v+=1)y=h[v-p]||0,x[v+1]=h[v]-y+256&255;return x},o=function(h,p,y){var x,w=[],v=h.length;w[0]=2;for(var b=0;b<v;b+=1)x=y&&y[b]||0,w[b+1]=h[b]-x+256&255;return w},s=function(h,p,y){var x,w,v=[],b=h.length;v[0]=3;for(var S=0;S<b;S+=1)x=h[S-p]||0,w=y&&y[S]||0,v[S+1]=h[S]+256-(x+w>>>1)&255;return v},l=function(h,p,y){var x,w,v,b,S=[],T=h.length;S[0]=4;for(var C=0;C<T;C+=1)x=h[C-p]||0,w=y&&y[C]||0,v=y&&y[C-p]||0,b=u(x,w,v),S[C+1]=h[C]-b+256&255;return S},u=function(h,p,y){if(h===p&&p===y)return h;var x=Math.abs(p-y),w=Math.abs(h-y),v=Math.abs(h+p-y-y);return x<=w&&x<=v?h:w<=v?p:y},c=function(){return[i,a,o,s,l]},f=function(h){var p=h.map(function(y){return y.reduce(function(x,w){return x+Math.abs(w)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(h,p,y,x){var w,v,b,S,T,C,k,E,M,j,U,O,I,$,F,H=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new UQ(h)).imgData,v=b.bits,w=b.colorSpace,T=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){M=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,U=new Uint8Array(M*b.colors),j=new Uint8Array(M);var B,W=b.pixelBitlength-b.bits;for($=0,F=0;$<M;$++){for(I=E[$],B=0;B<W;)U[F++]=I>>>B&255,B+=b.bits;j[$]=I>>>B&255}}if(b.bits===16){M=(E=new Uint32Array(b.decodePixels().buffer)).length,U=new Uint8Array(M*(32/b.pixelBitlength)*b.colors),j=new Uint8Array(M*(32/b.pixelBitlength)),O=b.colors>1,$=0,F=0;for(var K=0;$<M;)I=E[$++],U[F++]=I>>>0&255,O&&(U[F++]=I>>>16&255,I=E[$++],U[F++]=I>>>0&255),j[K++]=I>>>16&255;v=8}x!==t.image_compression.NONE&&e()?(h=n(U,b.width*b.colors,b.colors,x),k=n(j,b.width,1,x)):(h=U,k=j,H=void 0)}if(b.colorType===3&&(w=this.color_spaces.INDEXED,C=b.palette,b.transparency.indexed)){var Z=b.transparency.indexed,oe=0;for($=0,M=Z.length;$<M;++$)oe+=Z[$];if((oe/=255)===M-1&&Z.indexOf(0)!==-1)S=[Z.indexOf(0)];else if(oe!==M){for(E=b.decodePixels(),j=new Uint8Array(E.length),$=0,M=E.length;$<M;$++)j[$]=Z[E[$]];k=n(j,b.width,1)}}var L=function(z){var Q;switch(z){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(x);return H===this.decode.FLATE_DECODE&&(R="/Predictor "+L+" "),R+="/Colors "+T+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(k&&this.__addimage__.isArrayBuffer(k)||this.__addimage__.isArrayBufferView(k))&&(k=this.__addimage__.arrayBufferToBinaryString(k)),{alias:y,data:h,index:p,filter:H,decodeParameters:R,transparency:S,palette:C,sMask:k,predictor:L,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:w}}}})(ut.API),function(t){t.processGIF89A=function(e,n,r,i){var a=new qQ(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new y1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ut.API),Ta.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ta.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){sn.log("bit decode error:"+n)}},Ta.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Ta.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ta.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Ta.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Ta.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Ta.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ta.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Ta.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Ta(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new y1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),WE.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new WE(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new y1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ut.API),ut.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],h=r[u+2],p=r[u+3];a[s++]=c,a[s++]=f,a[s++]=h,o[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ut.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bc=ut.API,Bm=bc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,h=0,p=t.length,y=0,x=s[0]||l,w=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(h=f&&Zt(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/c:0,w.push((s[r]||x)/l+h)),y=r;return w},HE=bc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return bc.processArabic&&(t=bc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Bm.apply(this,arguments).reduce(function(a,o){return a+o},0)},zE=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},VE=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],h=n.textIndent||0,p=0,y=0,x=t.split(" "),w=Bm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),b=[];x.map(function(T){(T=T.split(/\s*\n/)).length>1?b=b.concat(T.map(function(C,k){return(k&&C.length?`
`:"")+C})):b.push(T[0])}),x=b,l=HE.apply(this,[v,n])}for(a=0,o=x.length;a<o;a++){var S=0;if(r=x[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),h+p+(y=(i=Bm.apply(this,[r,n])).reduce(function(T,C){return T+C},0))>e||S){if(y>e){for(s=zE.apply(this,[r,i,e-(h+p),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);y=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(T,C){return T+C},0)}else c=[r];f.push(c),h=y+l,p=w}else c.push(r),h+=p+y,p=w}return u=l?function(T,C){return(C?v:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},bc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(VE.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,p,y,x,w=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=a(v).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof h=="number")h<0?(y=a(h).slice(3),x="-"):(y=a(h).slice(2),x=""),y=x+y.slice(0,-1)+r[y.slice(-1)];else{if(Zt(h)!=="object")throw new Error("Don't know what to do with value type "+Zt(h)+".");y=o(h)}w.push(p+y)}return w.push("}"),w.join("")},s=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,y,x,w={},v=1,b=w,S=[],T="",C="",k=f.length-1,E=1;E<k;E+=1)(x=f[E])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(S.push([b,y]),b={},y=void 0):x=="}"?((p=S.pop())[0][p[1]]=b,y=void 0,b=p[0]):x=="-"?v=-1:y===void 0?n.hasOwnProperty(x)?(T+=n[x],y=parseInt(T,16)*v,v=1,T=""):T+=x:n.hasOwnProperty(x)?(C+=n[x],b[y]=parseInt(C,16)*v,v=1,y=void 0,C=""):C+=x;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=c.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var y=u.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(ut.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(zh(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ut),function(t){function e(){return(mt.canvg?Promise.resolve(mt.canvg):cl(()=>import("./index.es-D3LITSIl.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ut.API.addSvgAsImage=function(n,r,i,a,o,s,l,u){if(isNaN(r)||isNaN(i))throw sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=o;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(y){return y.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),r,i,a,o,l,u)})}}(),ut.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ut.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function h(y,x){var w,v=!1;for(w=0;w<y.length;w+=1)y[w]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=s.length;for(f=0;f<p;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(Zt(t)==="object"){for(i in t)if(a=t[i],h(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&h(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in n)n[y].explicitSet===!0&&(n[y].type==="name"?x.push("/"+y+" /"+n[y].value):x.push("/"+y+" "+n[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ut.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,h=a.length;f<h;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(s=Object.keys(a).sort(function(p,y){return p-y})).length;f<h;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,h=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",y=0;y<h.length;y++)p+=String.fromCharCode(h[y]);var x=u();c({data:p,addLength1:!0,objectId:x}),l("endobj");var w=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var v=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Oc(s.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Oc(s.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Oc(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=u();c({data:h,addLength1:!0,objectId:y}),l("endobj");var x=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Oc(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var v=0;v<s.metadata.hmtx.widths.length;v++)s.metadata.hmtx.widths[v]=parseInt(s.metadata.hmtx.widths[v]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Oc(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},h=f.pdfEscape,p=f.activeFontKey,y=f.fonts,x=p,w="",v=0,b="",S=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(b=s,x=p,Array.isArray(s)&&(b=s[0]),v=0;v<b.length;v+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),o||b[v].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?w+=b[v]:w+="";var T="";return parseInt(x.slice(1))<14||S==="WinAnsiEncoding"?T=h(w,x).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(T=n(w,y[x])),f.isHex=!0,{text:T,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(ut),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ut.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,S=0;this.__bidiEngine__={};var T=function(O){var I=O.charCodeAt(),$=I>>8,F=x[$];return F!==void 0?f[256*F+(255&I)]:$===252||$===253?"AL":v.test($)?"L":$===8?"R":"N"},C=function(O){for(var I,$=0;$<O.length;$++){if((I=T(O.charAt($)))==="L")return!1;if(I==="R")return!0}return!1},k=function(O,I,$,F){var H,R,B,W,K=I[F];switch(K){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(K="AN");break;case"AL":b=!0,K="R";break;case"WS":K="N";break;case"CS":F<1||F+1>=I.length||(H=$[F-1])!=="EN"&&H!=="AN"||(R=I[F+1])!=="EN"&&R!=="AN"?K="N":b&&(R="AN"),K=R===H?R:"N";break;case"ES":K=(H=F>0?$[F-1]:"B")==="EN"&&F+1<I.length&&I[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&$[F-1]==="EN"){K="EN";break}if(b){K="N";break}for(B=F+1,W=I.length;B<W&&I[B]==="ET";)B++;K=B<W&&I[B]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(W=I.length,B=F+1;B<W&&I[B]==="NSM";)B++;if(B<W){var Z=O[F],oe=Z>=1425&&Z<=2303||Z===64286;if(H=I[B],oe&&(H==="R"||H==="AL")){K="R";break}}}K=F<1||(H=I[F-1])==="B"?"N":$[F-1];break;case"B":b=!1,i=!0,K=S;break;case"S":a=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":K="N"}return K},E=function(O,I,$){var F=O.split("");return $&&M(F,$,{hiLevel:S}),F.reverse(),I&&I.reverse(),F.join("")},M=function(O,I,$){var F,H,R,B,W,K=-1,Z=O.length,oe=0,L=[],z=S?p:h,Q=[];for(b=!1,i=!1,a=!1,H=0;H<Z;H++)Q[H]=T(O[H]);for(R=0;R<Z;R++){if(W=oe,L[R]=k(O,Q,L,R),F=240&(oe=z[W][y[L[R]]]),oe&=15,I[R]=B=z[oe][5],F>0)if(F===16){for(H=K;H<R;H++)I[H]=1;K=-1}else K=-1;if(z[oe][6])K===-1&&(K=R);else if(K>-1){for(H=K;H<R;H++)I[H]=B;K=-1}Q[R]==="B"&&(I[R]=0),$.hiLevel|=B}a&&function(te,ie,ge){for(var pe=0;pe<ge;pe++)if(te[pe]==="S"){ie[pe]=S;for(var G=pe-1;G>=0&&te[G]==="WS";G--)ie[G]=S}}(Q,I,Z)},j=function(O,I,$,F,H){if(!(H.hiLevel<O)){if(O===1&&S===1&&!i)return I.reverse(),void($&&$.reverse());for(var R,B,W,K,Z=I.length,oe=0;oe<Z;){if(F[oe]>=O){for(W=oe+1;W<Z&&F[W]>=O;)W++;for(K=oe,B=W-1;K<B;K++,B--)R=I[K],I[K]=I[B],I[B]=R,$&&(R=$[K],$[K]=$[B],$[B]=R);oe=W}oe++}}},U=function(O,I,$){var F=O.split(""),H={hiLevel:S};return $||($=[]),M(F,$,H),function(R,B,W){if(W.hiLevel!==0&&c)for(var K,Z=0;Z<R.length;Z++)B[Z]===1&&(K=w.indexOf(R[Z]))>=0&&(R[Z]=w[K+1])}(F,$,H),j(2,F,I,$,H),j(1,F,I,$,H),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,I,$){if(function(H,R){if(R)for(var B=0;B<H.length;B++)R[B]=B;s===void 0&&(s=C(H)),u===void 0&&(u=C(H))}(O,I),o||!l||u)if(o&&l&&s^u)S=s?1:0,O=E(O,I,$);else if(!o&&l&&u)S=s?1:0,O=U(O,I,$),O=E(O,I);else if(!o||s||l||u){if(o&&!l&&s^u)O=E(O,I),s?(S=0,O=U(O,I,$)):(S=1,O=U(O,I,$),O=E(O,I));else if(o&&s&&!l&&u)S=1,O=U(O,I,$),O=E(O,I);else if(!o&&!l&&s^u){var F=c;s?(S=1,O=U(O,I,$),S=0,c=!1,O=U(O,I,$),c=F):(S=0,O=U(O,I,$),O=E(O,I),S=1,c=!1,O=U(O,I,$),c=F,O=E(O,I))}}else S=0,O=U(O,I,$);else S=s?1:0,O=U(O,I,$);return O},this.__bidiEngine__.setOptions=function(O){O&&(o=O.isInputVisual,l=O.isOutputVisual,s=O.isInputRtl,u=O.isOutputRtl,c=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ut),ut.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new dl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new rZ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new HQ(this.contents),this.head=new VQ(this),this.name=new JQ(this),this.cmap=new Mj(this),this.toUnicode={},this.hhea=new GQ(this),this.maxp=new XQ(this),this.hmtx=new QQ(this),this.post=new YQ(this),this.os2=new WQ(this),this.loca=new nZ(this),this.glyf=new ZQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ba,dl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),HQ=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,h,p,y,x;for(x in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),c=16*p-f,(i=new dl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*p,u=i.pos+a,s=null,y=[],n)for(h=n[x],i.writeString(x),i.writeInt(t(h)),i.writeInt(u),i.writeInt(h.length),y=y.concat(h),x==="head"&&(s=u),u+=h.length;u%4;)y.push(0),u++;return i.write(y),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=Oj.call(n);n.length%4;)n.push(0);for(a=new dl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),zQ={}.hasOwnProperty,ho=function(t,e){for(var n in e)zQ.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ba=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var VQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new dl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),YE=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,h,p,y,x,w,v,b,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,a=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),e.pos+=2,x=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),u=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),c=function(){var T,C;for(C=[],l=T=0;0<=h?T<h:T>h;l=0<=h?++T:--T)C.push(e.readUInt16());return C}(),i=(this.length-e.pos+this.offset)/2,s=function(){var T,C;for(C=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)C.push(e.readUInt16());return C}(),l=v=0,S=a.length;v<S;l=++v)for(w=a[l],r=b=y=x[l];y<=w?b<=w:b>=w;r=y<=w?++b:--b)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-y)-(h-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,p,y,x,w,v,b,S,T,C,k,E,M,j,U,O,I,$,F,H,R,B,W,K,Z,oe,L,z,Q,te,ie,ge,pe,G,le,ce,ue;switch(F=new dl,o=Object.keys(e).sort(function(Te,Re){return Te-Re}),n){case"macroman":for(x=0,w=function(){var Te=[];for(y=0;y<256;++y)Te.push(0);return Te}(),b={0:0},a={},H=0,K=o.length;H<K;H++)b[G=e[i=o[H]]]==null&&(b[G]=++x),a[i]={old:e[i],new:b[e[i]]},w[i]=b[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(w),{charMap:a,subtable:F.data,maxGlyphID:x+1};case"unicode":for(I=[],f=[],S=0,b={},r={},v=u=null,R=0,Z=o.length;R<Z;R++)b[C=e[i=o[R]]]==null&&(b[C]=++S),r[i]={old:C,new:b[C]},s=b[C]-i,v!=null&&s===u||(v&&f.push(v),I.push(i),u=s),v=i;for(v&&f.push(v),f.push(65535),I.push(65535),U=2*(j=I.length),M=2*Math.pow(Math.log(j)/Math.LN2,2),h=Math.log(M/2)/Math.LN2,E=2*j-M,l=[],k=[],p=[],y=B=0,oe=I.length;B<oe;y=++B){if(O=I[y],c=f[y],O===65535){l.push(0),k.push(0);break}if(O-($=r[O].new)>=32768)for(l.push(0),k.push(2*(p.length+j-y)),i=W=O;O<=c?W<=c:W>=c;i=O<=c?++W:--W)p.push(r[i].new);else l.push($-O),k.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*j+2*p.length),F.writeUInt16(0),F.writeUInt16(U),F.writeUInt16(M),F.writeUInt16(h),F.writeUInt16(E),ge=0,L=f.length;ge<L;ge++)i=f[ge],F.writeUInt16(i);for(F.writeUInt16(0),pe=0,z=I.length;pe<z;pe++)i=I[pe],F.writeUInt16(i);for(le=0,Q=l.length;le<Q;le++)s=l[le],F.writeUInt16(s);for(ce=0,te=k.length;ce<te;ce++)T=k[ce],F.writeUInt16(T);for(ue=0,ie=p.length;ue<ie;ue++)x=p[ue],F.writeUInt16(x);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},t}(),Mj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new YE(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=YE.encode(n,r),(a=new dl).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),GQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),WQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),YQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var s,l,u;for(u=[],o=s=0,l=this.file.maxp.numGlyphs;0<=l?s<l:s>l;o=0<=l?++s:--s)u.push(n.readUInt32());return u}).call(this)}},e}(),KQ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},JQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,a,o,s,l,u,c,f,h,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=f=0,h=i.length;f<h;o=++f)a=i[o],n.pos=a.offset,c=n.readString(a.length),s=new KQ(c,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(s);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),XQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),QQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,a,o,s,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)f.push(n.readInt16());return f}(),this.widths=(function(){var c,f,h,p;for(p=[],c=0,f=(h=this.metrics).length;c<f;c++)o=h[c],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Oj=[].slice,ZQ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,a,o,s,l,u,c,f,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,s=(l=new dl(r.read(a))).readShort(),c=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[n]=s===-1?new tZ(l,c,h,u,f):new eZ(l,s,c,h,u,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var a,o,s,l,u;for(s=[],o=[],l=0,u=r.length;l<u;l++)a=n[r[l]],o.push(s.length),a&&(s=s.concat(a.encode(i)));return o.push(s.length),{table:s,offsets:o}},e}(),eZ=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),tZ=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new dl(Oj.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),nZ=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ho(e,Ba),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,s=0;s<i.length;++s)if(i[s]=a,o<r.length&&r[o]==s){++o,i[s]=a;var l=this.offsets[s],u=this.offsets[s+1]-l;u>0&&(a+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),rZ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,h,p,y,x,w,v;for(i in r=Mj.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},v=r.charMap)p[(l=v[i]).old]=l.new;for(y in h=r.maxGlyphID,o)y in p||(p[y]=h++);return c=function(b){var S,T;for(S in T={},b)T[b[S]]=S;return T}(p),f=Object.keys(c).sort(function(b,S){return b-S}),x=function(){var b,S,T;for(T=[],b=0,S=f.length;b<S;b++)s=f[b],T.push(c[s]);return T}(),a=this.font.glyf.encode(o,x,p),u=this.font.loca.encode(a.offsets,x),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();ut.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();const iZ=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:DQ,AcroFormAppearance:at,AcroFormButton:sr,AcroFormCheckBox:Wh,AcroFormChoiceField:au,AcroFormComboBox:su,AcroFormEditBox:Vh,AcroFormListBox:ou,AcroFormPasswordField:Yh,AcroFormPushButton:Gh,AcroFormRadioButton:lu,AcroFormTextField:nl,GState:gp,ShadingPattern:Rs,TilingPattern:Kl,default:ut,jsPDF:ut},Symbol.toStringTag,{value:"Module"}));var Ij={exports:{}};const aZ=WP(iZ);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return aZ}catch{}}())})(typeof globalThis<"u"?globalThis:typeof ur<"u"?ur:typeof window<"u"?window:typeof self<"u"?self:ur,function(n){return function(){var r={172:function(s,l){var u=this&&this.__extends||function(){var h=function(p,y){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var v in w)Object.prototype.hasOwnProperty.call(w,v)&&(x[v]=w[v])},h(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");h(p,y);function x(){this.constructor=p}p.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function h(p,y,x){this.table=y,this.pageNumber=y.pageNumber,this.pageCount=this.pageNumber,this.settings=y.settings,this.cursor=x,this.doc=p.getDocument()}return h}();l.HookData=c;var f=function(h){u(p,h);function p(y,x,w,v,b,S){var T=h.call(this,y,x,S)||this;return T.cell=w,T.row=v,T.column=b,T.section=v.section,T}return p}(c);l.CellHookData=f},340:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),h=u(744),p=u(776),y=u(664),x=u(972);function w(v){v.API.autoTable=function(){for(var b=[],S=0;S<arguments.length;S++)b[S]=arguments[S];var T;b.length===1?T=b[0]:(console.error("Use of deprecated autoTable initiation"),T=b[2]||{},T.columns=b[0],T.body=b[1]);var C=(0,p.parseInput)(this,T),k=(0,x.createTable)(this,C);return(0,y.drawTable)(this,k),this},v.API.lastAutoTable=!1,v.API.previousAutoTable=!1,v.API.autoTable.previous=!1,v.API.autoTableText=function(b,S,T,C){(0,f.default)(b,S,T,C,this)},v.API.autoTableSetDefaults=function(b){return h.DocHandler.setDefaults(b,this),this},v.autoTableSetDefaults=function(b,S){h.DocHandler.setDefaults(b,S)},v.API.autoTableHtmlToJson=function(b,S){var T;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var C=new h.DocHandler(this),k=(0,c.parseHtml)(C,b,window,S,!1),E=k.head,M=k.body,j=((T=E[0])===null||T===void 0?void 0:T.map(function(U){return U.content}))||[];return{columns:j,rows:M,data:M}},v.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},v.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),v.API.autoTable.globalDefaults||(v.API.autoTable.globalDefaults={}),v.API.autoTable.globalDefaults.addPageContent=b,this},v.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w},136:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,h,p,y){p=p||{};var x=1.15,w=y.internal.scaleFactor,v=y.internal.getFontSize()/w,b=y.getLineHeightFactor?y.getLineHeightFactor():x,S=v*b,T=/\r\n|\r|\n/g,C="",k=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(C=typeof c=="string"?c.split(T):c,k=C.length||1),h+=v*(2-x),p.valign==="middle"?h-=k/2*S:p.valign==="bottom"&&(h-=k*S),p.halign==="center"||p.halign==="right"){var E=v;if(p.halign==="center"&&(E*=.5),C&&k>=1){for(var M=0;M<C.length;M++)y.text(C[M],f-y.getStringUnitWidth(C[M])*E,h),h+=S;return y}f-=y.getStringUnitWidth(c)*E}return p.halign==="justify"?y.text(c,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):y.text(c,f,h),y}l.default=u},420:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(y,x,w){w.applyStyles(x,!0);var v=Array.isArray(y)?y:[y],b=v.map(function(S){return w.getTextWidth(S)}).reduce(function(S,T){return Math.max(S,T)},0);return b}l.getStringWidth=u;function c(y,x,w,v){var b=x.settings.tableLineWidth,S=x.settings.tableLineColor;y.applyStyles({lineWidth:b,lineColor:S});var T=f(b,!1);T&&y.rect(w.x,w.y,x.getWidth(y.pageSize().width),v.y-w.y,T)}l.addTableBorder=c;function f(y,x){var w=y>0,v=x||x===0;return w&&v?"DF":w?"S":v?"F":null}l.getFillStyle=f;function h(y,x){var w,v,b,S;if(y=y||x,Array.isArray(y)){if(y.length>=4)return{top:y[0],right:y[1],bottom:y[2],left:y[3]};if(y.length===3)return{top:y[0],right:y[1],bottom:y[2],left:y[1]};if(y.length===2)return{top:y[0],right:y[1],bottom:y[0],left:y[1]};y.length===1?y=y[0]:y=x}return typeof y=="object"?(typeof y.vertical=="number"&&(y.top=y.vertical,y.bottom=y.vertical),typeof y.horizontal=="number"&&(y.right=y.horizontal,y.left=y.horizontal),{left:(w=y.left)!==null&&w!==void 0?w:x,top:(v=y.top)!==null&&v!==void 0?v:x,right:(b=y.right)!==null&&b!==void 0?b:x,bottom:(S=y.bottom)!==null&&S!==void 0?S:x}):(typeof y!="number"&&(y=x),{top:y,right:y,bottom:y,left:y})}l.parseSpacing=h;function p(y,x){var w=h(x.settings.margin,0);return y.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=p},796:function(s,l){var u=this&&this.__extends||function(){var p=function(y,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,v){w.__proto__=v}||function(w,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(w[b]=v[b])},p(y,x)};return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(y,x);function w(){this.constructor=y}y.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(p){u(y,p);function y(x){var w=p.call(this)||this;return w._element=x,w}return y}(Array);l.HtmlRowInput=c;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function h(p){var y={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return y[p]}l.getTheme=h},903:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(w,v,b,S,T){var C={},k=1.3333333333333333,E=p(v,function(K){return T.getComputedStyle(K).backgroundColor});E!=null&&(C.fillColor=E);var M=p(v,function(K){return T.getComputedStyle(K).color});M!=null&&(C.textColor=M);var j=x(S,b);j&&(C.cellPadding=j);var U="borderTopColor",O=k*b,I=S.borderTopWidth;if(S.borderBottomWidth===I&&S.borderRightWidth===I&&S.borderLeftWidth===I){var $=(parseFloat(I)||0)/O;$&&(C.lineWidth=$)}else C.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/O,right:(parseFloat(S.borderRightWidth)||0)/O,bottom:(parseFloat(S.borderBottomWidth)||0)/O,left:(parseFloat(S.borderLeftWidth)||0)/O},C.lineWidth.top||(C.lineWidth.right?U="borderRightColor":C.lineWidth.bottom?U="borderBottomColor":C.lineWidth.left&&(U="borderLeftColor"));var F=p(v,function(K){return T.getComputedStyle(K)[U]});F!=null&&(C.lineColor=F);var H=["left","right","center","justify"];H.indexOf(S.textAlign)!==-1&&(C.halign=S.textAlign),H=["middle","bottom","top"],H.indexOf(S.verticalAlign)!==-1&&(C.valign=S.verticalAlign);var R=parseInt(S.fontSize||"");isNaN(R)||(C.fontSize=R/k);var B=h(S);B&&(C.fontStyle=B);var W=(S.fontFamily||"").toLowerCase();return w.indexOf(W)!==-1&&(C.font=W),C}l.parseCss=f;function h(w){var v="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(v="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(v+="italic"),v}function p(w,v){var b=y(w,v);if(!b)return null;var S=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var T=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],C=parseInt(S[4]);return C===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function y(w,v){var b=v(w);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?w.parentElement==null?null:y(w.parentElement,v):b}function x(w,v){var b=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],S=96/(72/v),T=(parseInt(w.lineHeight)-parseInt(w.fontSize))/v/2,C=b.map(function(E){return parseInt(E||"0")/S}),k=(0,c.parseSpacing)(C,0);return T>k.top&&(k.top=T),T>k.bottom&&(k.bottom=T),k}},744:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:u=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var y,x,w;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var v=this.jsPDFDocument.internal.getFont(),b=v.fontStyle,S=v.fontName;if(h.font&&(S=h.font),h.fontStyle){b=h.fontStyle;var T=this.getFontList()[S];T&&T.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),b=T[0])}if(this.jsPDFDocument.setFont(S,b),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var C=f.unifyColor(h.fillColor);C&&(y=this.jsPDFDocument).setFillColor.apply(y,C),C=f.unifyColor(h.textColor),C&&(x=this.jsPDFDocument).setTextColor.apply(x,C),C=f.unifyColor(h.lineColor),C&&(w=this.jsPDFDocument).setDrawColor.apply(w,C),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,y){return this.jsPDFDocument.splitTextToSize(h,p,y)},f.prototype.rect=function(h,p,y,x,w){return this.jsPDFDocument.rect(h,p,y,x,w)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function h(x,w,v,b,S){var T,C;b===void 0&&(b=!1),S===void 0&&(S=!1);var k;typeof w=="string"?k=v.document.querySelector(w):k=w;var E=Object.keys(x.getFontList()),M=x.scaleFactor(),j=[],U=[],O=[];if(!k)return console.error("Html table could not be found with input: ",w),{head:j,body:U,foot:O};for(var I=0;I<k.rows.length;I++){var $=k.rows[I],F=(C=(T=$==null?void 0:$.parentElement)===null||T===void 0?void 0:T.tagName)===null||C===void 0?void 0:C.toLowerCase(),H=p(E,M,v,$,b,S);H&&(F==="thead"?j.push(H):F==="tfoot"?O.push(H):U.push(H))}return{head:j,body:U,foot:O}}l.parseHtml=h;function p(x,w,v,b,S,T){for(var C=new f.HtmlRowInput(b),k=0;k<b.cells.length;k++){var E=b.cells[k],M=v.getComputedStyle(E);if(S||M.display!=="none"){var j=void 0;T&&(j=(0,c.parseCss)(x,E,w,M,v)),C.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:j,_element:E,content:y(E)})}}var U=v.getComputedStyle(b);if(C.length>0&&(S||U.display!=="none"))return C}function y(x){var w=x.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(v){return v.trim()}).join(`
`),w.innerText||w.textContent||""}},776:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),h=u(420),p=u(744),y=u(792);function x(k,E){var M=new p.DocHandler(k),j=M.getDocumentOptions(),U=M.getGlobalOptions();(0,y.default)(M,U,j,E);var O=(0,f.assign)({},U,j,E),I;typeof window<"u"&&(I=window);var $=w(U,j,E),F=v(U,j,E),H=b(M,O),R=T(M,O,I);return{id:E.tableId,content:R,hooks:F,styles:$,settings:H}}l.parseInput=x;function w(k,E,M){for(var j={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},U=function(F){if(F==="columnStyles"){var H=k[F],R=E[F],B=M[F];j.columnStyles=(0,f.assign)({},H,R,B)}else{var W=[k,E,M],K=W.map(function(Z){return Z[F]||{}});j[F]=(0,f.assign)({},K[0],K[1],K[2])}},O=0,I=Object.keys(j);O<I.length;O++){var $=I[O];U($)}return j}function v(k,E,M){for(var j=[k,E,M],U={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},O=0,I=j;O<I.length;O++){var $=I[O];$.didParseCell&&U.didParseCell.push($.didParseCell),$.willDrawCell&&U.willDrawCell.push($.willDrawCell),$.didDrawCell&&U.didDrawCell.push($.didDrawCell),$.willDrawPage&&U.willDrawPage.push($.willDrawPage),$.didDrawPage&&U.didDrawPage.push($.didDrawPage)}return U}function b(k,E){var M,j,U,O,I,$,F,H,R,B,W,K,Z=(0,h.parseSpacing)(E.margin,40/k.scaleFactor()),oe=(M=S(k,E.startY))!==null&&M!==void 0?M:Z.top,L;E.showFoot===!0?L="everyPage":E.showFoot===!1?L="never":L=(j=E.showFoot)!==null&&j!==void 0?j:"everyPage";var z;E.showHead===!0?z="everyPage":E.showHead===!1?z="never":z=(U=E.showHead)!==null&&U!==void 0?U:"everyPage";var Q=(O=E.useCss)!==null&&O!==void 0?O:!1,te=E.theme||(Q?"plain":"striped"),ie=!!E.horizontalPageBreak,ge=(I=E.horizontalPageBreakRepeat)!==null&&I!==void 0?I:null;return{includeHiddenHtml:($=E.includeHiddenHtml)!==null&&$!==void 0?$:!1,useCss:Q,theme:te,startY:oe,margin:Z,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(H=E.rowPageBreak)!==null&&H!==void 0?H:"auto",tableWidth:(R=E.tableWidth)!==null&&R!==void 0?R:"auto",showHead:z,showFoot:L,tableLineWidth:(B=E.tableLineWidth)!==null&&B!==void 0?B:0,tableLineColor:(W=E.tableLineColor)!==null&&W!==void 0?W:200,horizontalPageBreak:ie,horizontalPageBreakRepeat:ge,horizontalPageBreakBehaviour:(K=E.horizontalPageBreakBehaviour)!==null&&K!==void 0?K:"afterAllRows"}}function S(k,E){var M=k.getLastAutoTable(),j=k.scaleFactor(),U=k.pageNumber(),O=!1;if(M&&M.startPageNumber){var I=M.startPageNumber+M.pageNumber-1;O=I===U}return typeof E=="number"?E:(E==null||E===!1)&&O&&(M==null?void 0:M.finalY)!=null?M.finalY+20/j:null}function T(k,E,M){var j=E.head||[],U=E.body||[],O=E.foot||[];if(E.html){var I=E.includeHiddenHtml;if(M){var $=(0,c.parseHtml)(k,E.html,M,I,E.useCss)||{};j=$.head||j,U=$.body||j,O=$.foot||j}else console.error("Cannot parse html in non browser environment")}var F=E.columns||C(j,U,O);return{columns:F,head:j,body:U,foot:O}}function C(k,E,M){var j=k[0]||E[0]||M[0]||[],U=[];return Object.keys(j).filter(function(O){return O!=="_element"}).forEach(function(O){var I=1,$;Array.isArray(j)?$=j[parseInt(O)]:$=j[O],typeof $=="object"&&!Array.isArray($)&&(I=($==null?void 0:$.colSpan)||1);for(var F=0;F<I;F++){var H=void 0;Array.isArray(j)?H=U.length:H=O+(F>0?"_".concat(F):"");var R={dataKey:H};U.push(R)}}),U}},792:function(s,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,h,p,y){for(var x=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(O){f.applyStyles(f.userStyles),S.beforePageContent&&S.beforePageContent(O),f.applyStyles(f.userStyles),S.afterPageContent&&S.afterPageContent(O),f.applyStyles(f.userStyles),S.afterPageAdd&&O.pageNumber>1&&O.afterPageAdd(O),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(O){S[O]&&console.error('The "'.concat(O,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(O){var I=O[0],$=O[1];S[$]&&(console.error("Use of deprecated option ".concat($,". Use ").concat(I," instead")),S[I]=S[$])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(O){var I=typeof O=="string"?O:O[0],$=typeof O=="string"?O:O[1];typeof S[I]<"u"&&(typeof S.styles[$]>"u"&&(S.styles[$]=S[I]),console.error("Use of deprecated option: "+I+", use the style "+$+" instead."))});for(var T=0,C=["styles","bodyStyles","headStyles","footStyles"];T<C.length;T++){var k=C[T];c(S[k]||{})}for(var E=S.columnStyles||{},M=0,j=Object.keys(E);M<j.length;M++){var U=j[M];c(E[U]||{})}},w=0,v=[h,p,y];w<v.length;w++){var b=v[w];x(b)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),h=u(420),p=function(){function v(b,S){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return v.prototype.getHeadHeight=function(b){return this.head.reduce(function(S,T){return S+T.getMaxCellHeight(b)},0)},v.prototype.getFootHeight=function(b){return this.foot.reduce(function(S,T){return S+T.getMaxCellHeight(b)},0)},v.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},v.prototype.callCellHooks=function(b,S,T,C,k,E){for(var M=0,j=S;M<j.length;M++){var U=j[M],O=new f.CellHookData(b,this,T,C,k,E),I=U(O)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],I)return!1}return!0},v.prototype.callEndPageHooks=function(b,S){b.applyStyles(b.userStyles);for(var T=0,C=this.hooks.didDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(b,this,S))}},v.prototype.callWillDrawPageHooks=function(b,S){for(var T=0,C=this.hooks.willDrawPage;T<C.length;T++){var k=C[T];k(new f.HookData(b,this,S))}},v.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(C,k){return C+k.wrappedWidth},0);return S}else{var T=this.settings.margin;return b-T.left-T.right}},v}();l.Table=p;var y=function(){function v(b,S,T,C,k){k===void 0&&(k=!1),this.height=0,this.raw=b,b instanceof c.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=S,this.section=T,this.cells=C,this.spansMultiplePages=k}return v.prototype.getMaxCellHeight=function(b){var S=this;return b.reduce(function(T,C){var k;return Math.max(T,((k=S.cells[C.index])===null||k===void 0?void 0:k.height)||0)},0)},v.prototype.hasRowSpan=function(b){var S=this;return b.filter(function(T){var C=S.cells[T.index];return C?C.rowSpan>1:!1}).length>0},v.prototype.canEntireRowFit=function(b,S){return this.getMaxCellHeight(S)<=b},v.prototype.getMinimumRowHeight=function(b,S){var T=this;return b.reduce(function(C,k){var E=T.cells[k.index];if(!E)return 0;var M=S.getLineHeight(E.styles.fontSize),j=E.padding("vertical"),U=j+M;return U>C?U:C},0)},v}();l.Row=y;var x=function(){function v(b,S,T){var C,k;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=T,this.raw=b;var E=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,E=(k=(C=b.content)!==null&&C!==void 0?C:b.title)!==null&&k!==void 0?k:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var M=E!=null?""+E:"",j=/\r\n|\r|\n/g;this.text=M.split(j)}return v.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");b=this.y+S/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var C=this.width-this.padding("horizontal");T=this.x+C/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:b}},v.prototype.getContentHeight=function(b,S){S===void 0&&(S=1.15);var T=Array.isArray(this.text)?this.text.length:1,C=this.styles.fontSize/b*S,k=T*C+this.padding("vertical");return Math.max(k,this.styles.minCellHeight)},v.prototype.padding=function(b){var S=(0,h.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?S.top+S.bottom:b==="horizontal"?S.left+S.right:S[b]},v}();l.Cell=x;var w=function(){function v(b,S,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=S,this.index=T}return v.prototype.getMaxCustomCellWidth=function(b){for(var S=0,T=0,C=b.allRows();T<C.length;T++){var k=C[T],E=k.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(S=Math.max(S,E.styles.cellWidth))}return S},v}();l.Column=w},356:function(s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,h,p,y){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(c),w=1;w<arguments.length;w++){var v=arguments[w];if(v!=null)for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(x[b]=v[b])}return x}l.assign=u},972:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),h=u(324),p=u(796),y=u(356);function x(k,E){var M=new c.DocHandler(k),j=w(E,M.scaleFactor()),U=new f.Table(E,j);return(0,h.calculateWidths)(M,U),M.applyStyles(M.userStyles),U}l.createTable=x;function w(k,E){var M=k.content,j=T(M.columns);if(M.head.length===0){var U=b(j,"head");U&&M.head.push(U)}if(M.foot.length===0){var U=b(j,"foot");U&&M.foot.push(U)}var O=k.settings.theme,I=k.styles;return{columns:j,head:v("head",M.head,j,I,O,E),body:v("body",M.body,j,I,O,E),foot:v("foot",M.foot,j,I,O,E)}}function v(k,E,M,j,U,O){var I={},$=E.map(function(F,H){for(var R=0,B={},W=0,K=0,Z=0,oe=M;Z<oe.length;Z++){var L=oe[Z];if(I[L.index]==null||I[L.index].left===0)if(K===0){var z=void 0;Array.isArray(F)?z=F[L.index-W-R]:z=F[L.dataKey];var Q={};typeof z=="object"&&!Array.isArray(z)&&(Q=(z==null?void 0:z.styles)||{});var te=C(k,L,H,U,j,O,Q),ie=new f.Cell(z,te,k);B[L.dataKey]=ie,B[L.index]=ie,K=ie.colSpan-1,I[L.index]={left:ie.rowSpan-1,times:K}}else K--,W++;else I[L.index].left--,K=I[L.index].times,R++}return new f.Row(F,H,k,B)});return $}function b(k,E){var M={};return k.forEach(function(j){if(j.raw!=null){var U=S(E,j.raw);U!=null&&(M[j.dataKey]=U)}}),Object.keys(M).length>0?M:null}function S(k,E){if(k==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(k==="foot"&&typeof E=="object")return E.footer;return null}function T(k){return k.map(function(E,M){var j,U,O;return typeof E=="object"?O=(U=(j=E.dataKey)!==null&&j!==void 0?j:E.key)!==null&&U!==void 0?U:M:O=M,new f.Column(O,E,M)})}function C(k,E,M,j,U,O,I){var $=(0,p.getTheme)(j),F;k==="head"?F=U.headStyles:k==="body"?F=U.bodyStyles:k==="foot"&&(F=U.footStyles);var H=(0,y.assign)({},$.table,$[k],U.styles,F),R=U.columnStyles[E.dataKey]||U.columnStyles[E.index]||{},B=k==="body"?R:{},W=k==="body"&&M%2===0?(0,y.assign)({},$.alternateRow,U.alternateRowStyles):{},K=(0,p.defaultStyles)(O),Z=(0,y.assign)({},K,H,W,B);return(0,y.assign)(Z,I)}},664:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),h=u(744),p=u(356),y=u(136),x=u(224);function w(R,B){var W=B.settings,K=W.startY,Z=W.margin,oe={x:Z.left,y:K},L=B.getHeadHeight(B.columns)+B.getFootHeight(B.columns),z=K+Z.bottom+L;if(W.pageBreak==="avoid"){var Q=B.body,te=Q.reduce(function(pe,G){return pe+G.height},0);z+=te}var ie=new h.DocHandler(R);(W.pageBreak==="always"||W.startY!=null&&z>ie.pageSize().height)&&(H(ie),oe.y=Z.top),B.callWillDrawPageHooks(ie,oe);var ge=(0,p.assign)({},oe);B.startPageNumber=ie.pageNumber(),W.horizontalPageBreak?v(ie,B,ge,oe):(ie.applyStyles(ie.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&B.head.forEach(function(pe){return U(ie,B,pe,oe,B.columns)}),ie.applyStyles(ie.userStyles),B.body.forEach(function(pe,G){var le=G===B.body.length-1;j(ie,B,pe,le,ge,oe,B.columns)}),ie.applyStyles(ie.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&B.foot.forEach(function(pe){return U(ie,B,pe,oe,B.columns)})),(0,c.addTableBorder)(ie,B,ge,oe),B.callEndPageHooks(ie,oe),B.finalY=oe.y,R.lastAutoTable=B,R.previousAutoTable=B,R.autoTable&&(R.autoTable.previous=B),ie.applyStyles(ie.userStyles)}l.drawTable=w;function v(R,B,W,K){var Z=(0,x.calculateAllColumnsCanFitInPage)(R,B),oe=B.settings;if(oe.horizontalPageBreakBehaviour==="afterAllRows")Z.forEach(function(te,ie){R.applyStyles(R.userStyles),ie>0?F(R,B,W,K,te.columns,!0):b(R,B,K,te.columns),S(R,B,W,K,te.columns),C(R,B,K,te.columns)});else for(var L=-1,z=Z[0],Q=function(){var te=L;if(z){R.applyStyles(R.userStyles);var ie=z.columns;L>=0?F(R,B,W,K,ie,!0):b(R,B,K,ie),te=T(R,B,L+1,K,ie),C(R,B,K,ie)}var ge=te-L;Z.slice(1).forEach(function(pe){R.applyStyles(R.userStyles),F(R,B,W,K,pe.columns,!0),T(R,B,L+1,K,pe.columns,ge),C(R,B,K,pe.columns)}),L=te};L<B.body.length-1;)Q()}function b(R,B,W,K){var Z=B.settings;R.applyStyles(R.userStyles),(Z.showHead==="firstPage"||Z.showHead==="everyPage")&&B.head.forEach(function(oe){return U(R,B,oe,W,K)})}function S(R,B,W,K,Z){R.applyStyles(R.userStyles),B.body.forEach(function(oe,L){var z=L===B.body.length-1;j(R,B,oe,z,W,K,Z)})}function T(R,B,W,K,Z,oe){R.applyStyles(R.userStyles),oe=oe??B.body.length;var L=Math.min(W+oe,B.body.length),z=-1;return B.body.slice(W,L).forEach(function(Q,te){var ie=W+te===B.body.length-1,ge=$(R,B,ie,K);Q.canEntireRowFit(ge,Z)&&(U(R,B,Q,K,Z),z=W+te)}),z}function C(R,B,W,K){var Z=B.settings;R.applyStyles(R.userStyles),(Z.showFoot==="lastPage"||Z.showFoot==="everyPage")&&B.foot.forEach(function(oe){return U(R,B,oe,W,K)})}function k(R,B,W){var K=W.getLineHeight(R.styles.fontSize),Z=R.padding("vertical"),oe=Math.floor((B-Z)/K);return Math.max(0,oe)}function E(R,B,W,K){var Z={};R.spansMultiplePages=!0,R.height=0;for(var oe=0,L=0,z=W.columns;L<z.length;L++){var Q=z[L],te=R.cells[Q.index];if(te){Array.isArray(te.text)||(te.text=[te.text]);var ie=new f.Cell(te.raw,te.styles,te.section);ie=(0,p.assign)(ie,te),ie.text=[];var ge=k(te,B,K);te.text.length>ge&&(ie.text=te.text.splice(ge,te.text.length));var pe=K.scaleFactor(),G=K.getLineHeightFactor();te.contentHeight=te.getContentHeight(pe,G),te.contentHeight>=B&&(te.contentHeight=B,ie.styles.minCellHeight-=B),te.contentHeight>R.height&&(R.height=te.contentHeight),ie.contentHeight=ie.getContentHeight(pe,G),ie.contentHeight>oe&&(oe=ie.contentHeight),Z[Q.index]=ie}}var le=new f.Row(R.raw,-1,R.section,Z,!0);le.height=oe;for(var ce=0,ue=W.columns;ce<ue.length;ce++){var Q=ue[ce],ie=le.cells[Q.index];ie&&(ie.height=le.height);var te=R.cells[Q.index];te&&(te.height=R.height)}return le}function M(R,B,W,K){var Z=R.pageSize().height,oe=K.settings.margin,L=oe.top+oe.bottom,z=Z-L;B.section==="body"&&(z-=K.getHeadHeight(K.columns)+K.getFootHeight(K.columns));var Q=B.getMinimumRowHeight(K.columns,R),te=Q<W;if(Q>z)return console.error("Will not be able to print row ".concat(B.index," correctly since it's minimum height is larger than page height")),!0;if(!te)return!1;var ie=B.hasRowSpan(K.columns),ge=B.getMaxCellHeight(K.columns)>z;return ge?(ie&&console.error("The content of row ".concat(B.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ie||K.settings.rowPageBreak==="avoid")}function j(R,B,W,K,Z,oe,L){var z=$(R,B,K,oe);if(W.canEntireRowFit(z,L))U(R,B,W,oe,L);else if(M(R,W,z,B)){var Q=E(W,z,B,R);U(R,B,W,oe,L),F(R,B,Z,oe,L),j(R,B,Q,K,Z,oe,L)}else F(R,B,Z,oe,L),j(R,B,W,K,Z,oe,L)}function U(R,B,W,K,Z){K.x=B.settings.margin.left;for(var oe=0,L=Z;oe<L.length;oe++){var z=L[oe],Q=W.cells[z.index];if(!Q){K.x+=z.width;continue}R.applyStyles(Q.styles),Q.x=K.x,Q.y=K.y;var te=B.callCellHooks(R,B.hooks.willDrawCell,Q,W,z,K);if(te===!1){K.x+=z.width;continue}O(R,Q,K);var ie=Q.getTextPos();(0,y.default)(Q.text,ie.x,ie.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},R.getDocument()),B.callCellHooks(R,B.hooks.didDrawCell,Q,W,z,K),K.x+=z.width}K.y+=W.height}function O(R,B,W){var K=B.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof K.lineWidth=="number"){var Z=(0,c.getFillStyle)(K.lineWidth,K.fillColor);Z&&R.rect(B.x,W.y,B.width,B.height,Z)}else typeof K.lineWidth=="object"&&(K.fillColor&&R.rect(B.x,W.y,B.width,B.height,"F"),I(R,B,W,K.lineWidth))}function I(R,B,W,K){var Z,oe,L,z;K.top&&(Z=W.x,oe=W.y,L=W.x+B.width,z=W.y,K.right&&(L+=.5*K.right),K.left&&(Z-=.5*K.left),Q(K.top,Z,oe,L,z)),K.bottom&&(Z=W.x,oe=W.y+B.height,L=W.x+B.width,z=W.y+B.height,K.right&&(L+=.5*K.right),K.left&&(Z-=.5*K.left),Q(K.bottom,Z,oe,L,z)),K.left&&(Z=W.x,oe=W.y,L=W.x,z=W.y+B.height,K.top&&(oe-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.left,Z,oe,L,z)),K.right&&(Z=W.x+B.width,oe=W.y,L=W.x+B.width,z=W.y+B.height,K.top&&(oe-=.5*K.top),K.bottom&&(z+=.5*K.bottom),Q(K.right,Z,oe,L,z));function Q(te,ie,ge,pe,G){R.getDocument().setLineWidth(te),R.getDocument().line(ie,ge,pe,G,"S")}}function $(R,B,W,K){var Z=B.settings.margin.bottom,oe=B.settings.showFoot;return(oe==="everyPage"||oe==="lastPage"&&W)&&(Z+=B.getFootHeight(B.columns)),R.pageSize().height-K.y-Z}function F(R,B,W,K,Z,oe){Z===void 0&&(Z=[]),oe===void 0&&(oe=!1),R.applyStyles(R.userStyles),B.settings.showFoot==="everyPage"&&!oe&&B.foot.forEach(function(z){return U(R,B,z,K,Z)}),B.callEndPageHooks(R,K);var L=B.settings.margin;(0,c.addTableBorder)(R,B,W,K),H(R),B.pageNumber++,B.pageCount++,K.x=L.left,K.y=L.top,W.y=L.top,B.callWillDrawPageHooks(R,K),B.settings.showHead==="everyPage"&&(B.head.forEach(function(z){return U(R,B,z,K,Z)}),R.applyStyles(R.userStyles))}l.addPage=F;function H(R){var B=R.pageNumber();R.setPage(B+1);var W=R.pageNumber();return W===B?(R.addPage(),!0):!1}},224:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(p,y,x){var w;x===void 0&&(x={});var v=(0,c.getPageAvailableWidth)(p,y),b=new Map,S=[],T=[],C=[];y.settings.horizontalPageBreakRepeat,Array.isArray(y.settings.horizontalPageBreakRepeat)?C=y.settings.horizontalPageBreakRepeat:(typeof y.settings.horizontalPageBreakRepeat=="string"||typeof y.settings.horizontalPageBreakRepeat=="number")&&(C=[y.settings.horizontalPageBreakRepeat]),C.forEach(function(j){var U=y.columns.find(function(O){return O.dataKey===j||O.index===j});U&&!b.has(U.index)&&(b.set(U.index,!0),S.push(U.index),T.push(y.columns[U.index]),v-=U.wrappedWidth)});for(var k=!0,E=(w=x==null?void 0:x.start)!==null&&w!==void 0?w:0;E<y.columns.length;){if(b.has(E)){E++;continue}var M=y.columns[E].wrappedWidth;if(k||v>=M)k=!1,S.push(E),T.push(y.columns[E]),v-=M;else break;E++}return{colIndexes:S,columns:T,lastIndex:E-1}}function h(p,y){for(var x=[],w=0;w<y.columns.length;w++){var v=f(p,y,{start:w});v.columns.length&&(x.push(v),w=v.lastIndex)}return x}l.calculateAllColumnsCanFitInPage=h},324:function(s,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(S,T){h(S,T);var C=[],k=0;T.columns.forEach(function(M){var j=M.getMaxCustomCellWidth(T);j?M.width=j:(M.width=M.wrappedWidth,C.push(M)),k+=M.width});var E=T.getWidth(S.pageSize().width)-k;E&&(E=p(C,E,function(M){return Math.max(M.minReadableWidth,M.minWidth)})),E&&(E=p(C,E,function(M){return M.minWidth})),E=Math.abs(E),!T.settings.horizontalPageBreak&&E>.1/S.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),x(T),w(T,S),y(T)}l.calculateWidths=f;function h(S,T){var C=S.scaleFactor(),k=T.settings.horizontalPageBreak,E=(0,c.getPageAvailableWidth)(S,T);T.allRows().forEach(function(M){for(var j=0,U=T.columns;j<U.length;j++){var O=U[j],I=M.cells[O.index];if(I){var $=T.hooks.didParseCell;T.callCellHooks(S,$,I,M,O,null);var F=I.padding("horizontal");I.contentWidth=(0,c.getStringWidth)(I.text,I.styles,S)+F;var H=(0,c.getStringWidth)(I.text.join(" ").split(/[^\S\u00A0]+/),I.styles,S);if(I.minReadableWidth=H+I.padding("horizontal"),typeof I.styles.cellWidth=="number")I.minWidth=I.styles.cellWidth,I.wrappedWidth=I.styles.cellWidth;else if(I.styles.cellWidth==="wrap"||k===!0)I.contentWidth>E?(I.minWidth=E,I.wrappedWidth=E):(I.minWidth=I.contentWidth,I.wrappedWidth=I.contentWidth);else{var R=10/C;I.minWidth=I.styles.minCellWidth||R,I.wrappedWidth=I.contentWidth,I.minWidth>I.wrappedWidth&&(I.wrappedWidth=I.minWidth)}}}}),T.allRows().forEach(function(M){for(var j=0,U=T.columns;j<U.length;j++){var O=U[j],I=M.cells[O.index];if(I&&I.colSpan===1)O.wrappedWidth=Math.max(O.wrappedWidth,I.wrappedWidth),O.minWidth=Math.max(O.minWidth,I.minWidth),O.minReadableWidth=Math.max(O.minReadableWidth,I.minReadableWidth);else{var $=T.styles.columnStyles[O.dataKey]||T.styles.columnStyles[O.index]||{},F=$.cellWidth||$.minCellWidth;F&&typeof F=="number"&&(O.minWidth=F,O.wrappedWidth=F)}I&&(I.colSpan>1&&!O.minWidth&&(O.minWidth=I.minWidth),I.colSpan>1&&!O.wrappedWidth&&(O.wrappedWidth=I.minWidth))}})}function p(S,T,C){for(var k=T,E=S.reduce(function(R,B){return R+B.wrappedWidth},0),M=0;M<S.length;M++){var j=S[M],U=j.wrappedWidth/E,O=k*U,I=j.width+O,$=C(j),F=I<$?$:I;T-=F-j.width,j.width=F}if(T=Math.round(T*1e10)/1e10,T){var H=S.filter(function(R){return T<0?R.width>C(R):!0});H.length&&(T=p(H,T,C))}return T}l.resizeColumns=p;function y(S){for(var T={},C=1,k=S.allRows(),E=0;E<k.length;E++)for(var M=k[E],j=0,U=S.columns;j<U.length;j++){var O=U[j],I=T[O.index];if(C>1)C--,delete M.cells[O.index];else if(I)I.cell.height+=M.height,C=I.cell.colSpan,delete M.cells[O.index],I.left--,I.left<=1&&delete T[O.index];else{var $=M.cells[O.index];if(!$)continue;if($.height=M.height,$.rowSpan>1){var F=k.length-E,H=$.rowSpan>F?F:$.rowSpan;T[O.index]={cell:$,left:H,row:M}}}}}function x(S){for(var T=S.allRows(),C=0;C<T.length;C++)for(var k=T[C],E=null,M=0,j=0,U=0;U<S.columns.length;U++){var O=S.columns[U];if(j-=1,j>1&&S.columns[U+1])M+=O.width,delete k.cells[O.index];else if(E){var I=E;delete k.cells[O.index],E=null,I.width=O.width+M}else{var I=k.cells[O.index];if(!I)continue;if(j=I.colSpan,M=0,I.colSpan>1){E=I,M+=O.width;continue}I.width=O.width+M}}}function w(S,T){for(var C={count:0,height:0},k=0,E=S.allRows();k<E.length;k++){for(var M=E[k],j=0,U=S.columns;j<U.length;j++){var O=U[j],I=M.cells[O.index];if(I){T.applyStyles(I.styles,!0);var $=I.width-I.padding("horizontal");if(I.styles.overflow==="linebreak")I.text=T.splitTextToSize(I.text,$+1/T.scaleFactor(),{fontSize:I.styles.fontSize});else if(I.styles.overflow==="ellipsize")I.text=v(I.text,$,I.styles,T,"...");else if(I.styles.overflow==="hidden")I.text=v(I.text,$,I.styles,T,"");else if(typeof I.styles.overflow=="function"){var F=I.styles.overflow(I.text,$);typeof F=="string"?I.text=[F]:I.text=F}I.contentHeight=I.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var H=I.contentHeight/I.rowSpan;I.rowSpan>1&&C.count*C.height<H*I.rowSpan?C={height:H,count:I.rowSpan}:C&&C.count>0&&C.height>H&&(H=C.height),H>M.height&&(M.height=H)}}C.count--}}function v(S,T,C,k,E){return S.map(function(M){return b(M,T,C,k,E)})}l.ellipsize=v;function b(S,T,C,k,E){var M=1e4*k.scaleFactor();if(T=Math.ceil(T*M)/M,T>=(0,c.getStringWidth)(S,C,k))return S;for(;T<(0,c.getStringWidth)(S+E,C,k)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+E}},964:function(s){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}s.exports=n}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return r[s].call(u.exports,u,u.exports,a),u.exports}var o={};return function(){var s=o;Object.defineProperty(s,"__esModule",{value:!0}),s.Cell=s.Column=s.Row=s.Table=s.CellHookData=s.__drawTable=s.__createTable=s.applyPlugin=void 0;var l=a(340),u=a(776),c=a(664),f=a(972),h=a(260);Object.defineProperty(s,"Table",{enumerable:!0,get:function(){return h.Table}});var p=a(172);Object.defineProperty(s,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var y=a(260);Object.defineProperty(s,"Cell",{enumerable:!0,get:function(){return y.Cell}}),Object.defineProperty(s,"Column",{enumerable:!0,get:function(){return y.Column}}),Object.defineProperty(s,"Row",{enumerable:!0,get:function(){return y.Row}});function x(T){(0,l.default)(T)}s.applyPlugin=x;function w(T,C){var k=(0,u.parseInput)(T,C),E=(0,f.createTable)(T,k);(0,c.drawTable)(T,E)}function v(T,C){var k=(0,u.parseInput)(T,C);return(0,f.createTable)(T,k)}s.__createTable=v;function b(T,C){(0,c.drawTable)(T,C)}s.__drawTable=b;try{var S=a(964);S.jsPDF&&(S=S.jsPDF),x(S)}catch{}s.default=w}(),o}()})})(Ij);var oZ=Ij.exports;const t0=Gt(oZ),b1="data:application/font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAAAAQAAAAIAAAGDAAAAAAFT1MvMg8SDzQAAAZgAAAAYGNtYXABDQGXAAAIJAAAAOpnYXNw//8AAwAAGYQAAAAIZ2x5ZgscA3UAABmUAAE4YGhlYWQG41YJAAA8ZAAAADZoaGVhA+IB6AAAAD3sAAAAJGhtdHgAewYIAAABQAAAALRsb2NhAIwBqAAAE0gAAAFQbWF4cAIgA2gAAD4UAAAAIG5hbWXLh+9IAAAR0AAAAYdwb3N0/5wAMQAAFUgAAAAgcHJlcGgGjIUDAAAY/AAAAFMAAQAAAAEAAC7a32BfDzz1AAsEAAAAAADbB8BSAAAAANsHwFIAAAAAAIAAAACAAAAAwAAABQAAwABAAAAFAAEAEAAAAAMAAgAAgAEAAEAIOkB//8AAOkg///+8wDsAPAAAwAAAAAAAAECAAAAAAAAAAAAAAICAAUAAAAAAAAAAAAAAAACAAEAAgAGAAgAAwABBAkAAQACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAIAAwABBAkAAgACAAgABgAEAAEBBAkAAgAVAAgABgAEAAEBBAkAAwBEAAgABgAEAAEBBAkABAAnAAgABgAEAAEBBAkABQAIAAgAAAAAAAAAAAACACgAAAAAAAoAP8AwADgAAAAAAAAAAAAAAMwAZAAAAAAAAABkAUAAAAAAAAAAAAAAAACQAZAAAAAAAAAAQADgAAAAAAAAAAAAAABABQAAAAAAAAAAAAAAAUAFQAAAAAAAAAAAAAABgAYAAAAAAAAAAAAAAAHABsAAAAAAAAAAAAAAAgAIAAAAAAAAAAAAAAACQAhAAAAAAAAAAAAAAAKACMAAAAAAAAAAAAAAAsAKgAAAAAAAAAAAAAADAAqAAAAAAAAAAAAAAANACwAAAAAAAAAAAAAAA4ALgAAAAAAAAAAAAAADwAvAAAAAAAAAAAAAAABAAAADgAAAAAAAAAAAAAAAQAIAAIAAAAAAAAAAgAAAAEAAQABAAAAAgAAAAIAAgABAAIAAgACAAEAAgACAAIAAgACAAEAAwACAAQAAwACAAQABQADAAYAAgAHAAkABQAIAAgACQAJAAoACQALAAkADAAJAA0ACQAOAAkADwAJABAACQARAAkAEgAJABMACQAUAAkAFQAJABYACQAXAAkAGAACABkACgAaAAoAGwAKABwACgAdAAoAHgAKAB8ACgAgAAoAIQAKACQAKgAlACoAJgAqACcAKgAoACoAKQAqACoAKgArACoALAAsAC0ALAAuACwALwAsADAALAAxACwAMgAsADMALAA0ACwANQAsADYALAA3ACwAOAAsADkALAA6ACwAOwAsADwALAA9ACwAPgAsAD8ALAA/ACwAQAB/AEIAfwBDAH8ARAB/AEUAfwBGAH8ARwB/AEgAQQBBAEIAQQBDAEEARABBAEUAQQBGAEEARwBBAEgAQgBIAEMASABEAEMASQBGAEcASABHAEgASgBLAEwATQBOAE8AUABRAFIAUwBUAFUAVgBXAFgAWQBaAFsAXABdAF4AXwBgAGEAYgBjAGQAZQBmAGcAaABpAGoAawBsAG0AbgBvAHAAcQByAHMAdAB1AGMAAAAABgADAPgACQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAdG9wZQAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAMjAwMjAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAAAAADIwMTkwNDAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFtaXJpLVJlZ3VsYXIAQXJpYWwgU2VyaWYgZm9udA BodHRwOi8vc2NyaXB0cy5zaWwub3JnL09GRAAAAAAAAAAAAAAAAAAAAACAAQAAAPgA8AD8ARABIAFoAYABqAHQAgACSAKwAwADcAOwA8AEAARgBKAE4AUQBXAFsAXgBiAGcAbQBzAHkAfACKAJYAnQCqAK8AsgC4ALsAxADFAMcAzgDQANUA2ADbAN8A4wDnAPcA+gD/AQUA7QDvAPEA8wD1APgA+wD9AP8BBAEEAQwBFQEaASQBKwEyATYBOgE+AUIDQgNGA0oDTgNSA1YDWgNeA2IDZgNqA24DcQN2A3kDfgOAA4QDiAOOA5IDlAOYA5wDoAOmA6oDrgOyA7YDuwPCA8YDyQPOBAAECgQWBBwEIgQoBDIEOgRABEYEUARWBFwEZAQAAAQAAAAAAAAAAAAAAAAAB/8AAQAHAAABAAAAAAAAAAAAAAAAABoBAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAABAAADAPgAAwADAPgAAQADAPgABQADAPgA//8ABQAAAAAAAAACAAYAAAAUAAEAAAABAAIAAAAAAAAAAQAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA-Regular.ttf",n0=(t,e)=>{try{if(!b1||!b1.includes(","))throw new Error("Invalid font data URI");const n=b1.split(",")[1];t.addFileToVFS("Amiri-Regular.ttf",n),t.addFont("Amiri-Regular.ttf","Amiri","normal"),t.setFont("Amiri")}catch(n){console.error("Error loading custom font for PDF, falling back to default.",n),t.setFont("helvetica")}},ka=(t,e,n,r,i,a)=>{if(n.length===0){alert(a);return}const o=new ut;n0(o),o.setFontSize(18);const s=o.internal.pageSize.getWidth();o.text(t,s/2,20,{align:"center"}),t0(o,{head:[e],body:n,startY:30,theme:"grid",styles:{font:"Amiri",halign:i==="ar"?"right":"left",cellPadding:2,fontSize:10},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"}});const l=new Date().toLocaleDateString(i.split("-")[0]);o.save(`${r}_${l}.pdf`)},Um=(t,e,n)=>{const r=new Date;let i=null,a=new Date;switch(a.setHours(23,59,59,999),e){case"today":i=new Date(r.setHours(0,0,0,0));break;case"week":i=new Date(r),i.setDate(r.getDate()-r.getDay()+(r.getDay()===0?-6:1)),i.setHours(0,0,0,0);break;case"month":i=new Date(r.getFullYear(),r.getMonth(),1);break;case"custom":i=n.start?new Date(n.start):null,a=n.end?new Date(n.end):null,i&&i.setHours(0,0,0,0),a&&a.setHours(23,59,59,999);break;default:return t}return t.filter(o=>{const s=new Date(o.date),l=i?s>=i:!0,u=a?s<=a:!0;return l&&u})},sZ=({variant:t,product:e,onDone:n,t:r})=>(ne.useEffect(()=>{const i=()=>{window.removeEventListener("afterprint",i),n()};window.addEventListener("afterprint",i);const a=setTimeout(()=>{i()},500);return window.print(),()=>{clearTimeout(a),window.removeEventListener("afterprint",i)}},[n]),t.barcode?m.jsx("div",{id:"printable-barcode",className:"p-2 bg-white text-black font-sans",style:{width:"80mm",height:"40mm",boxSizing:"border-box"},children:m.jsxs("div",{className:"border border-black p-2 h-full flex flex-col justify-between items-center text-center",children:[m.jsxs("div",{className:"w-full",children:[m.jsx("p",{className:"font-bold text-lg truncate",children:e.name}),m.jsx("p",{className:"text-sm truncate",children:t.name})]}),m.jsxs("div",{className:"w-full my-1",children:[m.jsx("div",{className:"flex justify-center items-end h-10 overflow-hidden",children:t.barcode.split("").map((i,a)=>m.jsx("div",{className:"bg-black",style:{width:`${parseInt(i,16)%3+1}px`,height:`${parseInt(i,16)%40+40}%`}},a))}),m.jsx("p",{className:"font-mono tracking-widest text-lg mt-1",children:t.barcode})]}),m.jsxs("p",{className:"font-extrabold text-xl",children:[t.price.toFixed(2)," DH"]})]})}):null),lZ=({product:t,variants:e,onClose:n,onSave:r,t:i})=>{const[a,o]=ne.useState(""),[s,l]=ne.useState(1),[u,c]=ne.useState(0),[f,h]=ne.useState(0);ne.useEffect(()=>{e.length===1&&o(e[0].id)},[e]),ne.useEffect(()=>{const y=e.find(x=>x.id===a);y?(c(y.purchasePrice),h(y.price),l(1)):(c(0),h(0),l(1))},[a,e]);const p=y=>{if(y.preventDefault(),!a||s===""||s<=0||u===""||u<0||f===""||f<=0){alert(i("fillAllFieldsError"));return}if(f<=u){alert(i("sellingPriceMustBeHigherError"));return}r({variantId:a,quantity:s,purchasePrice:u,sellingPrice:f})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-lg w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:i("addStockFor",{name:t.name})}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"variant",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("variant")}),m.jsxs("select",{id:"variant",value:a,onChange:y=>o(y.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,children:[m.jsx("option",{value:"",disabled:!0,children:i("selectVariant")}),e.map(y=>m.jsx("option",{value:y.id,children:y.name},y.id))]})]}),a&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("quantityToAdd")}),m.jsx("input",{id:"quantity",type:"number",value:s,onChange:y=>l(y.target.value===""?"":parseFloat(y.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0.5",step:"0.5",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"purchasePrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("purchasePrice")}),m.jsx("input",{id:"purchasePrice",type:"number",value:u,onChange:y=>c(y.target.value===""?"":parseFloat(y.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"sellingPrice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("sellingPrice")}),m.jsx("input",{id:"sellingPrice",type:"number",value:f,onChange:y=>h(y.target.value===""?"":parseFloat(y.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{type:"submit",disabled:!a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400 dark:disabled:bg-slate-500",children:i("save")})]})]})]})})},x1=20,uZ=({storeId:t,products:e,variants:n,suppliers:r,categories:i,stockMap:a,addProduct:o,updateProduct:s,deleteProduct:l,addStockToVariant:u,t:c,language:f})=>{const[h,p]=ne.useState(!1),[y,x]=ne.useState(null),[w,v]=ne.useState(null),[b,S]=ne.useState(""),[T,C]=ne.useState(""),[k,E]=ne.useState(""),[M,j]=ne.useState(""),[U,O]=ne.useState([]),[I,$]=ne.useState([]),[F,H]=ne.useState(""),[R,B]=ne.useState(null),[W,K]=ne.useState({}),Z=ne.useMemo(()=>{const Ee=new Map;return n.forEach(ke=>{const ye=Ee.get(ke.productId)||[];ye.push(ke),Ee.set(ke.productId,ye)}),Ee},[n]),oe=ne.useMemo(()=>{if(!F)return e;const Ee=F.toLowerCase(),ke=new Set(e.filter(Me=>Me.name.toLowerCase().includes(Ee)).map(Me=>Me.id)),ye=new Set(i.filter(Me=>Me.name.toLowerCase().includes(Ee)).map(Me=>Me.id));return e.filter(Me=>ke.has(Me.id)||Me.categoryId&&ye.has(Me.categoryId))},[F,e,i]);ne.useEffect(()=>{if(F){const Ee=new Set(oe.map(ke=>ke.categoryId||"uncategorized"));$(Array.from(Ee))}else $([]);K({})},[F,oe]);const L=Ee=>{$(ke=>ke.includes(Ee)?ke.filter(ye=>ye!==Ee):[...ke,Ee])},z=()=>{p(!1),x(null),S(""),C(""),E(""),j(""),O([]);const Ee=document.getElementById("productImageFile");Ee&&(Ee.value="")},Q=Ee=>{var ke;p(!0),x(Ee),S(Ee.name),C(Ee.categoryId||""),E(Ee.supplierId||""),j(Ee.image),O(((ke=Z.get(Ee.id))==null?void 0:ke.map(ye=>({...ye,priceSemiWholesale:ye.priceSemiWholesale||0,priceWholesale:ye.priceWholesale||0,stockQuantity:a.get(ye.id)||0})))||[]),window.scrollTo({top:0,behavior:"smooth"})},te=Ee=>{if(Ee.target.files&&Ee.target.files[0]){const ke=Ee.target.files[0],ye=new FileReader;ye.onloadend=()=>j(ye.result),ye.readAsDataURL(ke)}},ie=(Ee,ke,ye)=>{const Me=[...U];Me[Ee][ke]=ye,O(Me)},ge=(Ee,ke)=>{if(ke.target.files&&ke.target.files[0]){const ye=ke.target.files[0],Me=new FileReader;Me.onloadend=()=>{const xe=[...U];xe[Ee].image=Me.result,O(xe)},Me.readAsDataURL(ye)}},pe=()=>{O([...U,{name:"",price:0,priceSemiWholesale:0,priceWholesale:0,purchasePrice:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:0}])},G=Ee=>{O(U.filter((ke,ye)=>ye!==Ee))},le=async Ee=>{if(Ee.preventDefault(),!b||U.length===0){alert(c("fillNameAndPriceError"));return}for(const ke of U){if(!ke.name||ke.price<=0){alert(c("fillNameAndPriceError"));return}if(ke.price<=ke.purchasePrice){alert(c("sellingPriceMustBeHigherError"));return}}if(h&&y){const ke={...y,name:b,categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(b)}`};await s(ke,U)}else{const ke={storeId:t,name:b,type:"good",categoryId:T||void 0,supplierId:k||void 0,image:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(b)}`,createdAt:new Date().toISOString()},ye=U.map(({stockQuantity:Me,...xe})=>xe);await o(ke,ye)}z()},ce=async Ee=>{window.confirm(c("confirmProductDelete"))&&await l(Ee)},ue=()=>{const Ee=[c("productName"),c("variantName"),c("price"),c("purchasePrice"),c("stock"),c("barcode"),c("category"),c("supplier")],ke=n.map(ye=>{var xe,Pe;const Me=e.find(we=>we.id===ye.productId);return[(Me==null?void 0:Me.name)||"N/A",ye.name,ye.price,ye.purchasePrice,a.get(ye.id)||0,ye.barcode||"N/A",((xe=i.find(we=>we.id===(Me==null?void 0:Me.categoryId)))==null?void 0:xe.name)||"N/A",((Pe=r.find(we=>we.id===(Me==null?void 0:Me.supplierId)))==null?void 0:Pe.name)||"N/A"]});ka(c("productList"),Ee,ke,"products_with_variants",f,c("noDataToExport"))},Te=async Ee=>{w&&(await u({...Ee,supplierId:w.supplierId}),v(null))},Re=R?e.find(Ee=>Ee.id===R.productId):null,_e=Ee=>Ee.map(ke=>{const ye=Z.get(ke.id)||[];return m.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[m.jsxs("div",{className:"flex items-center gap-3 md:col-span-5",children:[m.jsx("img",{src:ke.image,alt:ke.name,className:"w-12 h-12 object-cover rounded-md bg-gray-200"}),m.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:ke.name})]}),m.jsx("div",{className:"md:col-span-5",children:ye.length>0?m.jsxs("details",{children:[m.jsxs("summary",{className:"cursor-pointer text-sm font-semibold text-teal-700 dark:text-teal-400",children:[ye.length," ",c("variants")]}),m.jsx("ul",{className:"mt-2 space-y-2",children:ye.map(Me=>m.jsxs("li",{className:"flex items-center gap-3 text-xs p-1 bg-slate-50 dark:bg-slate-700/50 rounded-md",children:[m.jsx("img",{src:Me.image,alt:Me.name,className:"w-8 h-8 rounded-md object-cover bg-gray-200"}),m.jsx("span",{className:"flex-grow font-semibold text-slate-600 dark:text-slate-300",children:Me.name}),m.jsxs("span",{className:"font-mono text-cyan-700 dark:text-cyan-400",children:[Me.price.toFixed(2)," DH"]}),m.jsxs("span",{className:`px-2 py-0.5 font-medium rounded-full text-xs ${(a.get(Me.id)||0)>Me.lowStockThreshold?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:[c("stock"),": ",a.get(Me.id)||0]}),Me.barcode&&m.jsx("button",{onClick:()=>B(Me),className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",title:c("printBarcodeLabel"),children:m.jsx(NI,{className:"w-5 h-5"})})]},Me.id))})]}):m.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500",children:c("noVariants")})}),m.jsxs("div",{className:"flex items-center gap-2 justify-end md:col-span-2",children:[m.jsx("button",{onClick:()=>v(ke),className:"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300",title:c("addStock"),children:m.jsx(tl,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Q(ke),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Tv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>ce(ke.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(Jr,{className:"w-5 h-5"})})]})]},ke.id)}),ae=(Ee,ke)=>{const ye=Ee.length;if(ye===0&&ke==="uncategorized")return null;if(ye===0)return m.jsx("p",{className:"p-4 text-center text-slate-500 dark:text-slate-400",children:c("noProductsInCategory")});const Me=W[ke]||1,xe=Math.ceil(ye/x1),Pe=(Me-1)*x1,we=Pe+x1,Ve=Ee.slice(Pe,we),Ge=st=>{st<1||st>xe||K(ze=>({...ze,[ke]:st}))};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:_e(Ve)}),xe>1&&m.jsxs("div",{className:"p-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700",children:[m.jsx("button",{onClick:()=>Ge(Me-1),disabled:Me===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("previous"),children:m.jsx(pA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[c("page")," ",Me," / ",xe]}),m.jsx("button",{onClick:()=>Ge(Me+1),disabled:Me===xe,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":c("next"),children:m.jsx(rd,{className:"w-5 h-5"})})]})]})};return m.jsxs("div",{className:"space-y-6",children:[R&&Re&&m.jsx(sZ,{variant:R,product:Re,onDone:()=>B(null),t:c}),w&&m.jsx(lZ,{product:w,variants:Z.get(w.id)||[],onClose:()=>v(null),onSave:Te,t:c}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:c(h?"editProduct":"addNewProduct")}),h&&m.jsx("button",{onClick:z,className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:c("cancel")})]}),m.jsxs("form",{onSubmit:le,className:"space-y-6",children:[m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300 mb-4",children:c("productInfo")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:M||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${c("productImagePreview")}`,alt:c("productImagePreview"),className:"w-32 h-32 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",id:"productImageFile",accept:"image/*",onChange:te,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("productName")}),m.jsx("input",{type:"text",value:b,onChange:Ee=>S(Ee.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:c("productNamePlaceholder"),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("category")}),m.jsxs("select",{value:T,onChange:Ee=>C(Ee.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectCategory")}),i.map(Ee=>m.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("supplier")}),m.jsxs("select",{value:k,onChange:Ee=>E(Ee.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:c("selectSupplier")}),r.map(Ee=>m.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]})]})]})]}),m.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg dark:border-slate-600",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:c("productVariants")}),m.jsxs("button",{type:"button",onClick:pe,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(tl,{className:"w-5 h-5"}),c("addVariant")]})]}),m.jsx("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2",children:U.map((Ee,ke)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border dark:border-slate-600 relative",children:[m.jsx("button",{type:"button",onClick:()=>G(ke),className:"absolute top-2 right-2 text-red-500 hover:text-red-700",children:m.jsx(Jr,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:Ee.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${c("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:ye=>ge(ke,ye),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("variantName")}),m.jsx("input",{type:"text",value:Ee.name,onChange:ye=>ie(ke,"name",ye.target.value),placeholder:c("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("purchasePrice")}),m.jsx("input",{type:"number",value:Ee.purchasePrice,onChange:ye=>ie(ke,"purchasePrice",parseFloat(ye.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("sellingPrice")}),m.jsx("input",{type:"number",value:Ee.price,onChange:ye=>ie(ke,"price",parseFloat(ye.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("semiWholesalePrice")}),m.jsx("input",{type:"number",value:Ee.priceSemiWholesale||"",onChange:ye=>ie(ke,"priceSemiWholesale",parseFloat(ye.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("wholesalePrice")}),m.jsx("input",{type:"number",value:Ee.priceWholesale||"",onChange:ye=>ie(ke,"priceWholesale",parseFloat(ye.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("stockQuantity")}),m.jsx("input",{type:"number",value:Ee.stockQuantity,onChange:ye=>ie(ke,"stockQuantity",parseFloat(ye.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("lowStockThreshold")}),m.jsx("input",{type:"number",value:Ee.lowStockThreshold,onChange:ye=>ie(ke,"lowStockThreshold",parseFloat(ye.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0,min:"0",step:"0.5"})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:c("barcode")}),m.jsx("input",{type:"text",value:Ee.barcode||"",onChange:ye=>ie(ke,"barcode",ye.target.value),placeholder:c("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]})]})]})]},ke))})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-lg",children:c(h?"saveChanges":"saveProduct")})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:c("productList")}),m.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[m.jsxs("button",{onClick:()=>{z(),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(tl,{className:"w-4 h-4"})," ",c("addNewProduct")]}),m.jsxs("div",{className:"relative flex-grow",children:[m.jsx("span",{className:"absolute inset-y-0 left-0 rtl:left-auto rtl:right-0 flex items-center pl-3 rtl:pl-0 rtl:pr-3 pointer-events-none",children:m.jsx(J9,{className:"w-5 h-5 text-slate-400"})}),m.jsx("input",{type:"text",placeholder:c("searchProducts"),value:F,onChange:Ee=>H(Ee.target.value),className:"w-full sm:w-64 px-4 py-2 pl-10 rtl:pr-10 rtl:pl-4 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600 focus:ring-2 focus:ring-teal-500 transition"})]}),m.jsxs("button",{onClick:ue,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm shrink-0",children:[m.jsx(Na,{className:"w-4 h-4"})," ",c("exportToPdf")]})]})]}),m.jsxs("div",{className:"mt-6 space-y-3",children:[i.map(Ee=>{const ke=oe.filter(Me=>Me.categoryId===Ee.id);if(ke.length===0)return null;const ye=I.includes(Ee.id);return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>L(Ee.id),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":ye,"aria-controls":`category-panel-${Ee.id}`,children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[Ee.name," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",ke.length,")"]})]}),m.jsx(rN,{className:`w-6 h-6 text-slate-500 transition-transform ${ye?"rotate-180":""}`})]}),ye&&m.jsx("div",{id:`category-panel-${Ee.id}`,children:ae(ke,Ee.id)})]},Ee.id)}),(()=>{const Ee=oe.filter(ye=>!ye.categoryId);if(Ee.length===0)return null;const ke=I.includes("uncategorized");return m.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[m.jsxs("button",{onClick:()=>L("uncategorized"),className:"w-full flex justify-between items-center p-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-expanded":ke,"aria-controls":"category-panel-uncategorized",children:[m.jsxs("h3",{className:"font-bold text-lg text-slate-700 dark:text-slate-200",children:[c("uncategorized")," ",m.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["(",Ee.length,")"]})]}),m.jsx(rN,{className:`w-6 h-6 text-slate-500 transition-transform ${ke?"rotate-180":""}`})]}),ke&&m.jsx("div",{id:"category-panel-uncategorized",children:ae(Ee,"uncategorized")})]})})(),e.length>0&&oe.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noResultsFound")}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:c("noProductsAdded")})]})]})]})},cZ=({service:t,onClose:e,onSave:n,t:r})=>{const[i,a]=ne.useState(t),o=l=>{const{id:u,value:c}=l.target;a(f=>({...f,[u]:l.target.type==="number"?parseFloat(c)||0:c}))},s=l=>{l.preventDefault(),n(i)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editService")}),m.jsxs("form",{onSubmit:s,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("serviceName")}),m.jsx("input",{type:"text",id:"name",value:i.name,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("price")}),m.jsx("input",{type:"number",id:"price",value:i.price,onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:i.priceSemiWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:i.priceWholesale||"",onChange:o,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},fZ=({storeId:t,services:e,addService:n,updateService:r,deleteService:i,t:a})=>{const[o,s]=ne.useState({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),[l,u]=ne.useState(null),[c,f]=ne.useState(null),h=w=>{const{id:v,value:b}=w.target;s(S=>({...S,[v]:w.target.type==="number"?parseFloat(b)||0:b}))},p=async w=>{if(w.preventDefault(),f(null),!o.name||o.price<=0){f({type:"error",message:a("fillNameAndPriceError")});return}const v={name:o.name,price:o.price,priceSemiWholesale:o.priceSemiWholesale||void 0,priceWholesale:o.priceWholesale||void 0,type:"service",storeId:t,image:`https://via.placeholder.com/200/e9d5ff/a855f7?text=${encodeURIComponent(a("service"))}`,createdAt:new Date().toISOString()};await n(v),s({name:"",price:0,priceSemiWholesale:0,priceWholesale:0}),f({type:"success",message:a("serviceAddedSuccess",{name:o.name})}),setTimeout(()=>f(null),4e3)},y=async w=>{window.confirm(a("confirmServiceDelete"))&&await i(w)},x=async w=>{if(f(null),!w.name||(w.price??0)<=0){f({type:"error",message:a("fillNameAndPriceError")});return}await r(w),u(null),f({type:"success",message:a("serviceUpdatedSuccess",{name:w.name})}),setTimeout(()=>f(null),4e3)};return m.jsxs(m.Fragment,{children:[l&&m.jsx(cZ,{service:l,onClose:()=>u(null),onSave:x,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(Da,{}),a("addNewService")]}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("serviceName")}),m.jsx("input",{type:"text",id:"name",value:o.name,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:a("serviceNamePlaceholder"),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("sellingPrice")}),m.jsx("input",{type:"number",id:"price",value:o.price,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceSemiWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("semiWholesalePrice")}),m.jsx("input",{type:"number",id:"priceSemiWholesale",value:o.priceSemiWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priceWholesale",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("wholesalePrice")}),m.jsx("input",{type:"number",id:"priceWholesale",value:o.priceWholesale,onChange:h,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",min:"0",step:"0.01"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("saveService")})]}),c&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${c.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:c.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:a("serviceList")}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("serviceName")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("price")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(w=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:w.name}),m.jsxs("td",{className:"px-6 py-4",children:[(w.price??0).toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-start gap-4",children:[m.jsx("button",{onClick:()=>u(w),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",children:m.jsx(Tv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>y(w.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(Jr,{className:"w-5 h-5"})})]})})]},w.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noServicesAdded")})]})]})]})]})},dZ=({customer:t,sales:e,debt:n,onClose:r,t:i,language:a})=>{const o=ne.useMemo(()=>e.filter(u=>u.customerId===t.id).sort((u,c)=>new Date(c.date).getTime()-new Date(u.date).getTime()),[e,t.id]),s=ne.useMemo(()=>o.reduce((u,c)=>u+c.total,0),[o]),l=()=>{const u=new ut;n0(u),u.setFontSize(18);const c=i("purchaseHistoryFor",{name:t.name});u.text(c,u.internal.pageSize.getWidth()/2,20,{align:"center"}),u.setFontSize(12),u.text(`${i("customer")}: ${t.name}`,14,30),u.text(`${i("phone")}: ${t.phone}`,14,36),u.text(`${i("totalPurchases")}: ${s.toFixed(2)} DH`,14,42),u.text(`${i("currentDebt")}: ${n.toFixed(2)} DH`,14,48);const f=[],h=a==="ar"?"ar-MA":"fr-FR";o.forEach(p=>{const y=new Date(p.date).toLocaleDateString(h);f.push([{content:`${i("invoiceNumber")} ${p.id.slice(-6).toUpperCase()} | ${y} | Total: ${p.total.toFixed(2)} DH | ${i("remainingAmountLabel")}: ${p.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),p.items.forEach(x=>{f.push([`  ${x.name}`,x.quantity,x.price.toFixed(2),(x.quantity*x.price).toFixed(2)])})}),t0(u,{startY:60,head:[[i("product"),i("quantity"),i("price"),i("total")]],body:f,theme:"grid",styles:{font:"Amiri",halign:a==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(p){p.column.index>0&&p.cell.raw.colSpan===void 0&&(p.cell.styles.halign="center")}}),u.save(`historique-${t.name.replace(/\s/g,"_")}.pdf`)};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:i("purchaseHistoryFor",{name:t.name})}),m.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(pS,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-4 rounded-lg text-blue-800 dark:text-blue-200",children:[m.jsx("p",{className:"font-bold",children:i("totalPurchases")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[s.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-4 rounded-lg text-red-800 dark:text-red-200",children:[m.jsx("p",{className:"font-bold",children:i("currentDebt")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[n.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:i("invoiceHistory")}),o.length>0?o.map(u=>m.jsxs("details",{className:"p-3 border dark:border-slate-700 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[m.jsxs("summary",{className:"cursor-pointer flex justify-between items-center font-semibold text-slate-700 dark:text-slate-200",children:[m.jsxs("span",{children:[i("invoiceNumber")," ",u.id.slice(-6)," - ",new Date(u.date).toLocaleDateString(a==="ar"?"ar-MA":"fr-FR")]}),m.jsxs("span",{className:"font-bold text-cyan-600 dark:text-cyan-400",children:[u.total.toFixed(2)," DH"]})]}),m.jsx("ul",{className:"mt-2 pt-2 border-t dark:border-slate-600 text-sm space-y-1",children:u.items.map(c=>m.jsxs("li",{className:"flex justify-between text-slate-600 dark:text-slate-300",children:[m.jsxs("span",{children:[c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]},u.id)):m.jsx("p",{className:"text-center text-slate-500 py-8",children:i("noInvoicesFound")})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:r,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("close")}),m.jsxs("button",{onClick:l,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 flex items-center gap-2",children:[m.jsx(AA,{className:"w-5 h-5"}),i("printReport")]})]})]})})},hZ=({customer:t,debt:e,onClose:n,onPayDebt:r,t:i})=>{const[a,o]=ne.useState(""),[s,l]=ne.useState(!1),u=async()=>{const c=parseFloat(a);if(isNaN(c)||c<=0||c>e){alert(i("enterValidPayment"));return}l(!0),await r(t.id,c),l(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[i("debtManagement")," - ",t.name]}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[i("totalDebt")," ",m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:i("paymentAmount")}),m.jsx("input",{type:"number",id:"paymentAmount",value:a,onChange:c=>o(c.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:e,min:"0.01",step:"0.01",autoFocus:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:i("cancel")}),m.jsx("button",{onClick:u,disabled:s||!a,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:i(s?"paying":"recordPayment")})]})]})})},w1=15,pZ=({storeId:t,customers:e,sales:n,addCustomer:r,deleteCustomer:i,payCustomerDebt:a,t:o,language:s})=>{const[l,u]=ne.useState({name:"",phone:"",email:""}),[c,f]=ne.useState(null),[h,p]=ne.useState(null),[y,x]=ne.useState(null),[w,v]=ne.useState(""),[b,S]=ne.useState(1);ne.useEffect(()=>{S(1)},[w]);const T=ne.useMemo(()=>{const F=new Map;return n.forEach(H=>{if(H.customerId&&H.remainingAmount>0){const R=F.get(H.customerId)||0;F.set(H.customerId,R+H.remainingAmount)}}),F},[n]),C=ne.useMemo(()=>w?e.filter(F=>F.name.toLowerCase().startsWith(w.toLowerCase())):e,[e,w]),k=ne.useMemo(()=>{const F=(b-1)*w1;return C.slice(F,F+w1)},[C,b]),E=Math.ceil(C.length/w1),M=F=>{u(H=>({...H,[F.target.id]:F.target.value}))},j=async F=>{if(F.preventDefault(),x(null),!l.name||!l.phone){x({type:"error",message:o("nameAndPhoneRequired")});return}if(e.some(H=>H.phone===l.phone.trim())){x({type:"error",message:o("customerExistsError",{phone:l.phone.trim()})});return}await r({...l,storeId:t}),u({name:"",phone:"",email:""}),x({type:"success",message:o("customerAddedSuccess",{name:l.name})}),setTimeout(()=>x(null),4e3)},U=async F=>{if(x(null),window.confirm(o("confirmCustomerDelete",{name:F.name}))){try{await i(F.id),x({type:"success",message:o("customerDeletedSuccess",{name:F.name})})}catch(H){const R=T.get(F.id)||0,B=o(H.message||"customerDeleteError",{name:F.name,debt:R.toFixed(2)});x({type:"error",message:B})}setTimeout(()=>x(null),5e3)}},O=()=>{const F=[o("name"),o("phone"),o("email"),o("debt")],H=e.map(R=>[R.name,R.phone,R.email||"N/A",`${(T.get(R.id)||0).toFixed(2)} DH`]);ka(o("customerList"),F,H,"customers_report",s,o("noDataToExport"))},I=F=>{const H=n.filter(oe=>oe.customerId===F.id&&oe.remainingAmount>0).sort((oe,L)=>new Date(oe.date).getTime()-new Date(L.date).getTime()),R=H.reduce((oe,L)=>oe+L.remainingAmount,0);if(H.length===0){alert(o("noDebtorCustomers"));return}const B=new ut;n0(B),B.setFontSize(18);const W=o("debtReportFor",{name:F.name});B.text(W,B.internal.pageSize.getWidth()/2,20,{align:"center"}),B.setFontSize(12),B.text(`${o("customer")}: ${F.name}`,14,30),B.text(`${o("phone")}: ${F.phone}`,14,36),F.email&&B.text(`${o("email")}: ${F.email}`,14,42),B.setFontSize(14),B.setFont("Amiri","bold"),B.text(`${o("totalDebt")}: ${R.toFixed(2)} DH`,14,52),B.setFont("Amiri","normal");const K=[],Z=s==="ar"?"ar-MA":"fr-FR";H.forEach(oe=>{const L=new Date(oe.date).toLocaleDateString(Z);K.push([{content:`${o("invoiceNumber")} ${oe.id.slice(-6).toUpperCase()} | ${L} | Total: ${oe.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${oe.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),oe.items.forEach(z=>{K.push([`  ${z.name}`,z.quantity,z.price.toFixed(2),(z.quantity*z.price).toFixed(2)])})}),t0(B,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:K,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(oe){oe.column.index>0&&oe.cell.raw.colSpan===void 0&&(oe.cell.styles.halign="center")}}),B.save(`rapport-dette-${F.name.replace(/\s/g,"_")}.pdf`)},$=()=>{const F=e.filter(B=>(T.get(B.id)||0)>0);if(F.length===0){alert(o("noDebtsToReport"));return}const H=new ut;n0(H);const R=s==="ar"?"ar-MA":"fr-FR";F.forEach((B,W)=>{W>0&&H.addPage();const K=n.filter(z=>z.customerId===B.id&&z.remainingAmount>0).sort((z,Q)=>new Date(z.date).getTime()-new Date(Q.date).getTime()),Z=K.reduce((z,Q)=>z+Q.remainingAmount,0);H.setFontSize(18);const oe=o("debtReportFor",{name:B.name});H.text(oe,H.internal.pageSize.getWidth()/2,20,{align:"center"}),H.setFontSize(12),H.text(`${o("customer")}: ${B.name}`,14,30),H.text(`${o("phone")}: ${B.phone}`,14,36),B.email&&H.text(`${o("email")}: ${B.email}`,14,42),H.setFontSize(14),H.setFont("Amiri","bold"),H.text(`${o("totalDebt")}: ${Z.toFixed(2)} DH`,14,52),H.setFont("Amiri","normal");const L=[];K.forEach(z=>{const Q=new Date(z.date).toLocaleDateString(R);L.push([{content:`${o("invoiceNumber")} ${z.id.slice(-6).toUpperCase()} | ${Q} | Total: ${z.total.toFixed(2)} DH | ${o("remainingAmountLabel")}: ${z.remainingAmount.toFixed(2)} DH`,colSpan:4,styles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold"}}]),z.items.forEach(te=>{L.push([`  ${te.name}`,te.quantity,te.price.toFixed(2),(te.quantity*te.price).toFixed(2)])})}),t0(H,{startY:60,head:[[o("product"),o("quantity"),o("price"),o("total")]],body:L,theme:"grid",styles:{font:"Amiri",halign:s==="ar"?"right":"left"},headStyles:{fillColor:[38,166,154],textColor:255,halign:"center"},didParseCell:function(z){z.column.index>0&&z.cell.raw.colSpan===void 0&&(z.cell.styles.halign="center")}})}),H.save("rapport-dettes-clients.pdf")};return m.jsxs(m.Fragment,{children:[c&&m.jsx(hZ,{customer:c,debt:T.get(c.id)||0,onClose:()=>f(null),onPayDebt:a,t:o}),h&&m.jsx(dZ,{customer:h,sales:n,debt:T.get(h.id)||0,onClose:()=>p(null),t:o,language:s}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(fS,{}),o("addNewCustomer")]}),m.jsx("form",{onSubmit:j,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("name")}),m.jsx("input",{type:"text",id:"name",value:l.name,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:o("phone")}),m.jsx("input",{type:"tel",id:"phone",value:l.phone,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M,required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[o("email")," (",o("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:l.email,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",onChange:M})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:o("addCustomer")})]})}),y&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${y.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:y.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:o("customerList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:o("searchByName"),value:w,onChange:F=>v(F.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:$,className:"bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(AA,{className:"w-4 h-4"})," ",o("printAllDebtReports")]}),m.jsxs("button",{onClick:O,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Na,{className:"w-4 h-4"})," ",o("exportToPdf")]})]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("email")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:o("debt")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left rtl:text-right",children:o("actions")})]})}),m.jsx("tbody",{children:k.map(F=>{const H=T.get(F.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:F.name}),m.jsx("td",{className:"px-6 py-4",children:F.phone}),m.jsx("td",{className:"px-6 py-4",children:F.email||"N/A"}),m.jsxs("td",{className:`px-6 py-4 font-bold ${H>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:[H.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4 text-left rtl:text-right",children:m.jsxs("div",{className:"flex items-center gap-2",children:[H>0&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>f(F),className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 text-xs font-bold py-1 px-3 rounded-full hover:bg-green-200 dark:hover:bg-green-800/50",children:o("manageDebt")}),m.jsx("button",{onClick:()=>I(F),className:"text-cyan-600 hover:text-cyan-700 p-1 rounded-full hover:bg-cyan-100 dark:hover:bg-cyan-900/50",title:o("printDebtReport"),children:m.jsx(X9,{className:"w-5 h-5"})})]}),m.jsx("button",{onClick:()=>p(F),className:"text-blue-600 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50",title:o("history"),children:m.jsx(G9,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>U(F),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:o("delete"),children:m.jsx(Jr,{className:"w-5 h-5"})})]})})]},F.id)})})]}),E>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>S(F=>Math.max(1,F-1)),disabled:b===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("previous"),children:m.jsx(pA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[o("page")," ",b," / ",E]}),m.jsx("button",{onClick:()=>S(F=>Math.min(E,F+1)),disabled:b===E,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":o("next"),children:m.jsx(rd,{className:"w-5 h-5"})})]}),k.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:o(w?"noResultsFound":"noCustomersAdded")})]})]})]})]})},AZ=({supplier:t,purchases:e,onClose:n,t:r,language:i})=>{const a=i==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("purchaseHistoryFor",{name:t.name})}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:e.length===0?m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:r("noPurchasesYet")}):m.jsx("ul",{className:"space-y-4",children:e.slice().reverse().map(o=>m.jsxs("li",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[r("purchaseDate"),": ",new Date(o.date).toLocaleDateString(a)]}),o.reference&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[r("reference"),": ",o.reference]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[o.totalAmount.toFixed(2)," DH"]}),o.remainingAmount>0&&m.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[r("remainingDebt"),": ",o.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{children:[m.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:r("purchaseDetails")}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm mt-2 text-slate-700 dark:text-slate-600",children:[m.jsx("thead",{className:"bg-gray-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:m.jsxs("tr",{className:i==="ar"?"text-right":"text-left",children:[m.jsx("th",{className:"p-2 font-semibold",children:r("product")}),m.jsx("th",{className:"p-2 font-semibold text-center",children:r("quantity")}),m.jsx("th",{className:"p-2 font-semibold text-center",children:r("purchasePrice")}),m.jsx("th",{className:"p-2 font-semibold",children:r("total")})]})}),m.jsx("tbody",{children:o.items.map((s,l)=>m.jsxs("tr",{className:`border-b dark:border-slate-600 ${i==="ar"?"text-right":"text-left"}`,children:[m.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[s.productName," - ",s.variantName]}),m.jsx("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:s.quantity}),m.jsxs("td",{className:"p-2 text-center text-slate-800 dark:text-slate-200",children:[s.purchasePrice.toFixed(2)," DH"]}),m.jsxs("td",{className:"p-2 text-slate-800 dark:text-slate-200",children:[(s.quantity*s.purchasePrice).toFixed(2)," DH"]})]},s.variantId+l))})]})})]})]},o.id))})}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")})})]})})},mZ=({supplier:t,products:e,variants:n,categories:r,onClose:i,onSave:a,addProduct:o,t:s,storeId:l})=>{const[u,c]=ne.useState([]),[f,h]=ne.useState(""),[p,y]=ne.useState(!1),[x,w]=ne.useState(""),[v,b]=ne.useState(""),[S,T]=ne.useState(""),[C,k]=ne.useState([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}]),[E,M]=ne.useState("cash"),[j,U]=ne.useState(""),O=de.useRef(null),I=de.useRef(null),[$,F]=ne.useState(null),H=ne.useMemo(()=>u.reduce((G,le)=>G+le.quantity*le.purchasePrice,0),[u]);ne.useEffect(()=>{U(H>0?H:"")},[H]);const R=H-(typeof j=="number"?j:0),B=()=>{var ce;const G=(ce=I.current)==null?void 0:ce.value;if(!G||!$)return;const le=n.find(ue=>ue.id===G);le&&(c(ue=>[...ue,{variantId:le.id,productId:$.id,productName:$.name,variantName:le.name,quantity:1,purchasePrice:le.purchasePrice||0}]),F(null))},W=()=>{k(G=>[...G,{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},K=G=>{k(le=>le.filter((ce,ue)=>ue!==G))},Z=(G,le,ce)=>{const ue=[...C];ue[G][le]=ce,k(ue)},oe=G=>{if(G.target.files&&G.target.files[0]){const le=G.target.files[0],ce=new FileReader;ce.onloadend=()=>{b(ce.result)},ce.readAsDataURL(le)}},L=(G,le)=>{if(le.target.files&&le.target.files[0]){const ce=le.target.files[0],ue=new FileReader;ue.onloadend=()=>{const Te=[...C];Te[G].image=ue.result,k(Te)},ue.readAsDataURL(ce)}},z=async G=>{if(G.preventDefault(),!x||C.some(Re=>!Re.name||Re.price<=0||Re.purchasePrice<=0||Re.price<=Re.purchasePrice)){alert(s("sellingPriceMustBeHigherError"));return}const le={name:x,image:v||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${encodeURIComponent(x)}`,type:"good",storeId:l,createdAt:new Date().toISOString(),supplierId:t.id,categoryId:S||void 0},{product:ce,variants:ue}=await o(le,C),Te=ue.map((Re,_e)=>({variantId:Re.id,productId:ce.id,productName:ce.name,variantName:Re.name,quantity:C[_e].stockQuantity||1,purchasePrice:Re.purchasePrice}));c(Re=>[...Re,...Te]),y(!1),w(""),b(""),T(""),k([{name:"",price:0,purchasePrice:0,priceSemiWholesale:0,priceWholesale:0,barcode:"",lowStockThreshold:5,image:"",stockQuantity:1}])},Q=(G,le,ce)=>{const ue=[...u];ue[G]={...ue[G],[le]:Math.max(0,ce)},c(ue)},te=G=>{c(u.filter((le,ce)=>ce!==G))},ie=async()=>{if(u.length===0){alert(s("noProductsInPurchase"));return}const G={storeId:l,supplierId:t.id,date:new Date().toISOString(),items:u,totalAmount:H,reference:f,amountPaid:typeof j=="number"?j:0,paymentMethod:E,remainingAmount:R};await a(G),i()},ge=e.filter(G=>G.type==="good"&&!u.some(le=>le.productId===G.id)),pe=n.filter(G=>G.productId===($==null?void 0:$.id)&&!u.some(le=>le.variantId===G.id));return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:s("newPurchaseFor",{name:t.name})}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("reference")}),m.jsx("input",{type:"text",value:f,onChange:G=>h(G.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:s("referencePlaceholder")})]}),m.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[m.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:s("addProductsToPurchase")}),p?m.jsxs("form",{onSubmit:z,className:"space-y-4 p-4 border-2 border-dashed rounded-lg bg-white dark:bg-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h5",{className:"font-bold text-gray-700 dark:text-gray-300 text-lg",children:s("productInfo")}),m.jsx("button",{type:"button",onClick:()=>y(!1),className:"text-sm text-red-600 hover:underline",children:s("cancel")})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:v||`https://via.placeholder.com/200/f3f4f6/6b7280?text=${s("productImagePreview")}`,alt:"Product Preview",className:"w-24 h-24 object-cover rounded-lg mb-4 bg-gray-200"}),m.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 gap-4",children:[m.jsx("input",{type:"text",value:x,onChange:G=>w(G.target.value),placeholder:s("productNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500 text-base",required:!0}),m.jsxs("select",{value:S,onChange:G=>T(G.target.value),className:"w-full p-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",children:[m.jsx("option",{value:"",children:s("selectCategory")}),r.map(G=>m.jsx("option",{value:G.id,children:G.name},G.id))]})]})]}),m.jsxs("div",{className:"flex justify-between items-center mb-4 mt-4 pt-4 border-t-2 border-dashed dark:border-slate-600",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-700 dark:text-gray-300",children:s("productVariants")}),m.jsxs("button",{type:"button",onClick:W,className:"bg-teal-500 text-white font-bold py-2 px-3 rounded-lg hover:bg-teal-600 flex items-center gap-1",children:[m.jsx(tl,{className:"w-5 h-5"}),s("addVariant")]})]}),C.map((G,le)=>m.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-600/50 rounded-lg border dark:border-slate-500 relative",children:[m.jsx("button",{type:"button",onClick:()=>K(le),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 text-red-500 hover:text-red-700 z-10",children:m.jsx(Jr,{className:"w-5 h-5"})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"flex flex-col items-center justify-center p-2",children:[m.jsx("img",{src:G.image||`https://via.placeholder.com/150/f1f5f9/64748b?text=${s("variant")}`,alt:"variant",className:"w-24 h-24 object-cover rounded-lg mb-2"}),m.jsx("input",{type:"file",accept:"image/*",onChange:ce=>L(le,ce),className:"text-xs text-slate-500 file:mr-2 file:py-1 file:px-2 file:rounded-full file:border-0 file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 dark:file:bg-purple-900/50 dark:file:text-purple-300 dark:hover:file:bg-purple-900"})]}),m.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("variantName")}),m.jsx("input",{type:"text",value:G.name,onChange:ce=>Z(le,"name",ce.target.value),placeholder:s("variantNamePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("purchasePrice")}),m.jsx("input",{type:"number",value:G.purchasePrice,onChange:ce=>Z(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("sellingPrice")}),m.jsx("input",{type:"number",value:G.price,onChange:ce=>Z(le,"price",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("semiWholesalePrice")}),m.jsx("input",{type:"number",value:G.priceSemiWholesale||"",onChange:ce=>Z(le,"priceSemiWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("wholesalePrice")}),m.jsx("input",{type:"number",value:G.priceWholesale||"",onChange:ce=>Z(le,"priceWholesale",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("quantity")}),m.jsx("input",{type:"number",step:"0.5",value:G.stockQuantity,onChange:ce=>Z(le,"stockQuantity",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0.5"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("lowStockThreshold")}),m.jsx("input",{type:"number",value:G.lowStockThreshold,onChange:ce=>Z(le,"lowStockThreshold",parseFloat(ce.target.value)||0),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500",required:!0,min:"0",step:"0.5"})]}),m.jsxs("div",{className:"sm:col-span-3",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("barcode")}),m.jsx("input",{type:"text",value:G.barcode||"",onChange:ce=>Z(le,"barcode",ce.target.value),placeholder:s("barcodePlaceholder"),className:"w-full p-2 border rounded-lg bg-white dark:bg-slate-600 text-gray-900 dark:text-slate-100 dark:border-slate-500"})]})]})]})]},le)),m.jsx("div",{className:"flex justify-end gap-2",children:m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg text-sm",children:s("saveAndAddToList")})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("select",{ref:O,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",onChange:G=>F(e.find(le=>le.id===G.target.value)||null),children:[m.jsx("option",{value:"",children:s("selectProducts")}),ge.map(G=>m.jsx("option",{value:G.id,children:G.name},G.id))]}),$&&m.jsxs(m.Fragment,{children:[m.jsxs("select",{ref:I,className:"flex-grow px-4 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600 min-w-[200px]",children:[m.jsx("option",{value:"",children:s("selectVariant")}),pe.map(G=>m.jsx("option",{value:G.id,children:G.name},G.id))]}),m.jsx("button",{onClick:B,className:"bg-teal-600 text-white font-bold p-2 px-3 rounded-lg hover:bg-teal-700 flex items-center justify-center",children:m.jsx(tl,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"text-center mt-4 p-3 bg-slate-100 dark:bg-slate-600 rounded-lg flex items-center justify-center gap-4",children:[m.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:s("orAddNewProductPrompt")}),m.jsx("button",{type:"button",onClick:()=>y(!0),className:"font-semibold text-teal-700 dark:text-teal-300 bg-teal-200 dark:bg-teal-800/50 hover:bg-teal-300 dark:hover:bg-teal-800 px-4 py-2 rounded-lg transition-colors text-sm",children:s("addNewProductButton")})]})]})]}),m.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[u.length>0&&m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-2 text-sm font-bold text-gray-700 dark:text-gray-300 bg-slate-200 dark:bg-slate-600 rounded-t-lg",children:[m.jsx("span",{className:"col-span-5 px-2",children:s("product")}),m.jsx("span",{className:"col-span-2 text-center",children:s("quantity")}),m.jsx("span",{className:"col-span-2 text-center",children:s("purchasePrice")}),m.jsx("span",{className:"col-span-2 text-center",children:s("total")}),m.jsx("span",{className:"col-span-1"})]}),u.map((G,le)=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-1 bg-white dark:bg-slate-700 border-b dark:border-slate-600",children:[m.jsxs("span",{className:"col-span-5 font-semibold text-slate-800 dark:text-slate-100 px-2 text-xs",children:[G.productName," - ",G.variantName]}),m.jsx("div",{className:"col-span-2",children:m.jsx("input",{type:"number",min:"0.5",step:"0.5",value:G.quantity,onChange:ce=>Q(le,"quantity",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),m.jsx("div",{className:"col-span-2",children:m.jsx("input",{type:"number",min:"0",step:"0.01",value:G.purchasePrice,onChange:ce=>Q(le,"purchasePrice",parseFloat(ce.target.value)||0),className:"w-full px-1 py-1 border rounded-md text-gray-900 dark:text-slate-100 bg-gray-100 dark:bg-slate-600 text-center font-bold"})}),m.jsx("div",{className:"col-span-2 flex justify-center",children:m.jsx("span",{className:"font-bold text-white bg-blue-500 px-3 py-1 rounded-md text-sm",children:(G.quantity*G.purchasePrice).toFixed(2)})}),m.jsx("button",{onClick:()=>te(le),className:"col-span-1 text-red-500 hover:text-red-700 justify-self-center",children:m.jsx(Jr,{className:"w-5 h-5"})})]},G.variantId+le))]})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("paymentMethod")}),m.jsxs("select",{value:E,onChange:G=>M(G.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"cash",children:s("cash")}),m.jsx("option",{value:"card",children:s("card")}),m.jsx("option",{value:"transfer",children:s("transfer")}),m.jsx("option",{value:"check",children:s("check")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s("amountPaid")}),m.jsx("input",{type:"number",value:j,onChange:G=>U(G.target.value===""?"":parseFloat(G.target.value)||0),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",max:H,step:"0.01",placeholder:s("pricePlaceholder")})]})]}),m.jsxs("div",{className:"space-y-3 text-right rtl:text-left",children:[m.jsxs("div",{className:"bg-blue-600 text-white font-bold text-xl p-3 rounded-lg inline-block",children:[m.jsxs("span",{children:[s("totalAmount"),": "]}),m.jsxs("span",{children:[H.toFixed(2)," DH"]})]}),m.jsxs("div",{className:`font-bold text-2xl ${R>0?"text-red-500":"text-green-600"}`,children:[m.jsxs("span",{children:[s("remainingDebt"),": "]}),m.jsxs("span",{children:[R.toFixed(2)," DH"]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:i,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:s("cancel")}),m.jsx("button",{type:"button",onClick:ie,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:s("completePurchase")})]})]})]})})},gZ=({supplier:t,purchasesWithDebt:e,onClose:n,onSavePayments:r,totalDebt:i,t:a})=>{const[o,s]=ne.useState(""),l=async()=>{let u=parseFloat(o);if(isNaN(u)||u<=0||u>i){alert(a("enterValidPayment"));return}const c=[],f=[...e].sort((h,p)=>new Date(h.date).getTime()-new Date(p.date).getTime());for(const h of f){if(u<=0)break;const p=Math.min(u,h.remainingAmount),y={...h,amountPaid:h.amountPaid+p,remainingAmount:h.remainingAmount-p};c.push(y),u-=p}await r(c),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-2",children:[a("managePayments")," - ",t.name]}),m.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:[a("totalDebt"),": ",m.jsxs("span",{className:"font-bold text-red-600",children:[i.toFixed(2)," DH"]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("amountToPay")}),m.jsx("input",{type:"number",id:"paymentAmount",value:o,onChange:u=>s(u.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",placeholder:"0.00",max:i,min:"0.01",step:"0.01",autoFocus:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("cancel")}),m.jsx("button",{onClick:l,disabled:!o,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:a("recordPayment")})]})]})})},S1=15,vZ=({storeId:t,suppliers:e,products:n,variants:r,purchases:i,categories:a,addSupplier:o,deleteSupplier:s,addPurchase:l,updatePurchase:u,addProduct:c,t:f,language:h})=>{const[p,y]=ne.useState({name:"",phone:"",email:""}),[x,w]=ne.useState(null),[v,b]=ne.useState(null),[S,T]=ne.useState(null),[C,k]=ne.useState(null),[E,M]=ne.useState(""),[j,U]=ne.useState(1);ne.useEffect(()=>{U(1)},[E]);const O=ne.useMemo(()=>{const Z=new Map;return i.forEach(oe=>{if(oe.remainingAmount>0&&oe.supplierId){const L=Z.get(oe.supplierId)||0;Z.set(oe.supplierId,L+oe.remainingAmount)}}),Z},[i]),I=ne.useMemo(()=>E?e.filter(Z=>Z.name.toLowerCase().startsWith(E.toLowerCase())):e,[e,E]),$=ne.useMemo(()=>{const Z=(j-1)*S1;return I.slice(Z,Z+S1)},[I,j]),F=Math.ceil(I.length/S1),H=Z=>{y(oe=>({...oe,[Z.target.id]:Z.target.value}))},R=async Z=>{if(Z.preventDefault(),w(null),!p.name||!p.phone){w({type:"error",message:f("nameAndPhoneRequired")});return}if(e.some(oe=>oe.phone===p.phone.trim())){w({type:"error",message:f("supplierExistsError",{phone:p.phone.trim()})});return}await o({...p,storeId:t}),y({name:"",phone:"",email:""}),w({type:"success",message:f("supplierAddedSuccess",{name:p.name})}),setTimeout(()=>w(null),4e3)},B=async(Z,oe)=>{if(window.confirm(f("confirmSupplierDelete",{name:oe}))){try{await s(Z),w({type:"success",message:f("supplierDeletedSuccess",{name:oe})})}catch(L){w({type:"error",message:f(L.message,{name:oe,debt:"..."})||f("supplierDeleteError")})}setTimeout(()=>w(null),5e3)}},W=async Z=>{await Promise.all(Z.map(oe=>u(oe))),alert(f("paymentRecorded"))},K=()=>{const Z=[f("name"),f("phone"),f("supplierDebt")],oe=e.map(L=>[L.name,L.phone,`${(O.get(L.id)||0).toFixed(2)} DH`]);ka(f("supplierList"),Z,oe,"suppliers_report",h,f("noDataToExport"))};return m.jsxs(m.Fragment,{children:[v&&m.jsx(mZ,{supplier:v,products:n,variants:r,categories:a,onClose:()=>b(null),onSave:l,addProduct:c,t:f,storeId:t}),S&&m.jsx(AZ,{supplier:S,purchases:i.filter(Z=>Z.supplierId===S.id),onClose:()=>T(null),t:f,language:h}),C&&m.jsx(gZ,{supplier:C,purchasesWithDebt:i.filter(Z=>Z.supplierId===C.id&&Z.remainingAmount>0),totalDebt:O.get(C.id)||0,onClose:()=>k(null),onSavePayments:W,t:f}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(kI,{}),f("addNewSupplier")]}),m.jsx("form",{onSubmit:R,children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("name")}),m.jsx("input",{type:"text",id:"name",value:p.name,onChange:H,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:f("phone")}),m.jsx("input",{type:"tel",id:"phone",value:p.phone,onChange:H,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[f("email")," (",f("optional"),")"]}),m.jsx("input",{type:"email",id:"email",value:p.email,onChange:H,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-slate-100 dark:border-slate-600"})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:f("addSupplier")})]})}),x&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${x.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:x.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:f("supplierList")}),m.jsx("div",{className:"flex-grow max-w-sm",children:m.jsx("input",{type:"text",placeholder:f("searchByName"),value:E,onChange:Z=>M(Z.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})}),m.jsxs("button",{onClick:K,className:"bg-cyan-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Na,{className:"w-4 h-4"})," ",f("exportToPdf")]})]}),m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-right rtl:text-left text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("supplierDebt")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:f("actions")})]})}),m.jsx("tbody",{children:$.map(Z=>{const oe=O.get(Z.id)||0;return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:Z.name}),m.jsx("td",{className:"px-6 py-4",children:Z.phone}),m.jsx("td",{className:`px-6 py-4 font-bold ${oe>0?"text-red-500":"text-green-600"}`,children:oe>0?`${oe.toFixed(2)} DH`:f("noDebt")}),m.jsxs("td",{className:"px-6 py-4 flex gap-2 flex-wrap items-center",children:[m.jsx("button",{onClick:()=>b(Z),className:"text-sm font-semibold text-teal-600 bg-teal-100 dark:bg-teal-900/50 hover:bg-teal-200 dark:hover:bg-teal-800/50 px-3 py-1 rounded-full",children:f("newPurchase")}),m.jsx("button",{onClick:()=>T(Z),className:"text-sm font-semibold text-cyan-600 bg-cyan-100 dark:bg-cyan-900/50 hover:bg-cyan-200 dark:hover:bg-cyan-800/50 px-3 py-1 rounded-full",children:f("purchaseHistory")}),oe>0&&m.jsx("button",{onClick:()=>k(Z),className:"text-sm font-semibold text-green-600 bg-green-100 dark:bg-green-900/50 hover:bg-green-200 dark:hover:bg-green-800/50 px-3 py-1 rounded-full",children:f("managePayments")}),m.jsx("button",{onClick:()=>B(Z.id,Z.name),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50",title:f("delete"),children:m.jsx(Jr,{className:"w-5 h-5"})})]})]},Z.id)})})]}),F>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>U(Z=>Math.max(1,Z-1)),disabled:j===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("previous"),children:m.jsx(pA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[f("page")," ",j," / ",F]}),m.jsx("button",{onClick:()=>U(Z=>Math.min(F,Z+1)),disabled:j===F,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":f("next"),children:m.jsx(rd,{className:"w-5 h-5"})})]}),$.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:f(E?"noResultsFound":"noSuppliersAdded")})]})]})]})]})},yZ=({category:t,onClose:e,onSave:n,t:r})=>{const[i,a]=ne.useState(t.name),o=s=>{s.preventDefault(),n({...t,name:i.trim()})};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:r("editCategory")}),m.jsxs("form",{onSubmit:o,children:[m.jsx("label",{htmlFor:"editCategoryName",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("categoryName")}),m.jsx("input",{id:"editCategoryName",type:"text",value:i,onChange:s=>a(s.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0,autoFocus:!0}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("save")})]})]})]})})},bZ=({storeId:t,categories:e,addCategory:n,updateCategory:r,deleteCategory:i,t:a,language:o})=>{const[s,l]=ne.useState(""),[u,c]=ne.useState(null),[f,h]=ne.useState(null),p=()=>{setTimeout(()=>c(null),4e3)},y=async v=>{v.preventDefault(),c(null);const b=s.trim();if(!b){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(S=>S.name.toLowerCase()===b.toLowerCase())){c({type:"error",message:a("categoryExistsError",{name:b})}),p();return}await n({name:b,storeId:t}),l(""),c({type:"success",message:a("categoryAddedSuccess",{name:b})}),p()},x=async v=>{if(c(null),!v.name){c({type:"error",message:a("categoryNameEmptyError")}),p();return}if(e.some(b=>b.name.toLowerCase()===v.name.toLowerCase()&&b.id!==v.id)){c({type:"error",message:a("categoryExistsError",{name:v.name})}),p();return}await r(v),h(null),c({type:"success",message:a("categoryUpdatedSuccess",{name:v.name})}),p()},w=async v=>{if(c(null),window.confirm(a("confirmCategoryDelete",{name:v.name}))){try{await i(v.id),c({type:"success",message:a("categoryDeletedSuccess",{name:v.name})})}catch{c({type:"error",message:a("categoryDeleteError")})}p()}};return m.jsxs(m.Fragment,{children:[f&&m.jsx(yZ,{category:f,onClose:()=>h(null),onSave:x,t:a}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(PI,{}),a("addNewCategory")]}),m.jsxs("form",{onSubmit:y,className:"grid sm:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{className:"sm:col-span-2",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:a("categoryName")}),m.jsx("input",{type:"text",id:"name",value:s,onChange:v=>l(v.target.value),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:a("add")})]}),u&&m.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm font-semibold ${u.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:u.message})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:a("categoryList")}),m.jsxs("div",{className:"mt-4 overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:a("categoryName")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right rtl:text-left",children:a("actions")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.map(v=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:v.name}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m.jsx("button",{onClick:()=>h(v),className:"text-cyan-600 hover:text-cyan-800 dark:text-cyan-400 dark:hover:text-cyan-300",title:a("edit"),children:m.jsx(Tv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>w(v),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:a("delete"),children:m.jsx(Jr,{className:"w-5 h-5"})})]})})]},v.id))})]}),e.length===0&&m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:a("noCategoriesAdded")})]})]})]})]})};function jj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jj(t))&&(r&&(r+=" "),r+=e);return r}var xZ=Array.isArray,Ai=xZ,wZ=typeof ur=="object"&&ur&&ur.Object===Object&&ur,Dj=wZ,SZ=Dj,_Z=typeof self=="object"&&self&&self.Object===Object&&self,TZ=SZ||_Z||Function("return this")(),po=TZ,CZ=po,NZ=CZ.Symbol,gA=NZ,KE=gA,Lj=Object.prototype,EZ=Lj.hasOwnProperty,kZ=Lj.toString,uh=KE?KE.toStringTag:void 0;function PZ(t){var e=EZ.call(t,uh),n=t[uh];try{t[uh]=void 0;var r=!0}catch{}var i=kZ.call(t);return r&&(e?t[uh]=n:delete t[uh]),i}var MZ=PZ,OZ=Object.prototype,IZ=OZ.toString;function jZ(t){return IZ.call(t)}var DZ=jZ,JE=gA,LZ=MZ,RZ=DZ,FZ="[object Null]",$Z="[object Undefined]",XE=JE?JE.toStringTag:void 0;function BZ(t){return t==null?t===void 0?$Z:FZ:XE&&XE in Object(t)?LZ(t):RZ(t)}var as=BZ;function UZ(t){return t!=null&&typeof t=="object"}var os=UZ,qZ=as,HZ=os,zZ="[object Symbol]";function VZ(t){return typeof t=="symbol"||HZ(t)&&qZ(t)==zZ}var ld=VZ,GZ=Ai,WZ=ld,YZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KZ=/^\w*$/;function JZ(t,e){if(GZ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||WZ(t)?!0:KZ.test(t)||!YZ.test(t)||e!=null&&t in Object(e)}var CS=JZ;function XZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gl=XZ;const ud=Gt(gl);var QZ=as,ZZ=gl,eee="[object AsyncFunction]",tee="[object Function]",nee="[object GeneratorFunction]",ree="[object Proxy]";function iee(t){if(!ZZ(t))return!1;var e=QZ(t);return e==tee||e==nee||e==eee||e==ree}var NS=iee;const yt=Gt(NS);var aee=po,oee=aee["__core-js_shared__"],see=oee,_1=see,QE=function(){var t=/[^.]+$/.exec(_1&&_1.keys&&_1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lee(t){return!!QE&&QE in t}var uee=lee,cee=Function.prototype,fee=cee.toString;function dee(t){if(t!=null){try{return fee.call(t)}catch{}try{return t+""}catch{}}return""}var Rj=dee,hee=NS,pee=uee,Aee=gl,mee=Rj,gee=/[\\^$.*+?()[\]{}|]/g,vee=/^\[object .+?Constructor\]$/,yee=Function.prototype,bee=Object.prototype,xee=yee.toString,wee=bee.hasOwnProperty,See=RegExp("^"+xee.call(wee).replace(gee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _ee(t){if(!Aee(t)||pee(t))return!1;var e=hee(t)?See:vee;return e.test(mee(t))}var Tee=_ee;function Cee(t,e){return t==null?void 0:t[e]}var Nee=Cee,Eee=Tee,kee=Nee;function Pee(t,e){var n=kee(t,e);return Eee(n)?n:void 0}var Ou=Pee,Mee=Ou,Oee=Mee(Object,"create"),Iv=Oee,ZE=Iv;function Iee(){this.__data__=ZE?ZE(null):{},this.size=0}var jee=Iee;function Dee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Lee=Dee,Ree=Iv,Fee="__lodash_hash_undefined__",$ee=Object.prototype,Bee=$ee.hasOwnProperty;function Uee(t){var e=this.__data__;if(Ree){var n=e[t];return n===Fee?void 0:n}return Bee.call(e,t)?e[t]:void 0}var qee=Uee,Hee=Iv,zee=Object.prototype,Vee=zee.hasOwnProperty;function Gee(t){var e=this.__data__;return Hee?e[t]!==void 0:Vee.call(e,t)}var Wee=Gee,Yee=Iv,Kee="__lodash_hash_undefined__";function Jee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yee&&e===void 0?Kee:e,this}var Xee=Jee,Qee=jee,Zee=Lee,ete=qee,tte=Wee,nte=Xee;function cd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cd.prototype.clear=Qee;cd.prototype.delete=Zee;cd.prototype.get=ete;cd.prototype.has=tte;cd.prototype.set=nte;var rte=cd;function ite(){this.__data__=[],this.size=0}var ate=ite;function ote(t,e){return t===e||t!==t&&e!==e}var ES=ote,ste=ES;function lte(t,e){for(var n=t.length;n--;)if(ste(t[n][0],e))return n;return-1}var jv=lte,ute=jv,cte=Array.prototype,fte=cte.splice;function dte(t){var e=this.__data__,n=ute(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fte.call(e,n,1),--this.size,!0}var hte=dte,pte=jv;function Ate(t){var e=this.__data__,n=pte(e,t);return n<0?void 0:e[n][1]}var mte=Ate,gte=jv;function vte(t){return gte(this.__data__,t)>-1}var yte=vte,bte=jv;function xte(t,e){var n=this.__data__,r=bte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var wte=xte,Ste=ate,_te=hte,Tte=mte,Cte=yte,Nte=wte;function fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fd.prototype.clear=Ste;fd.prototype.delete=_te;fd.prototype.get=Tte;fd.prototype.has=Cte;fd.prototype.set=Nte;var Dv=fd,Ete=Ou,kte=po,Pte=Ete(kte,"Map"),kS=Pte,ek=rte,Mte=Dv,Ote=kS;function Ite(){this.size=0,this.__data__={hash:new ek,map:new(Ote||Mte),string:new ek}}var jte=Ite;function Dte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Lte=Dte,Rte=Lte;function Fte(t,e){var n=t.__data__;return Rte(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Lv=Fte,$te=Lv;function Bte(t){var e=$te(this,t).delete(t);return this.size-=e?1:0,e}var Ute=Bte,qte=Lv;function Hte(t){return qte(this,t).get(t)}var zte=Hte,Vte=Lv;function Gte(t){return Vte(this,t).has(t)}var Wte=Gte,Yte=Lv;function Kte(t,e){var n=Yte(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Jte=Kte,Xte=jte,Qte=Ute,Zte=zte,ene=Wte,tne=Jte;function dd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dd.prototype.clear=Xte;dd.prototype.delete=Qte;dd.prototype.get=Zte;dd.prototype.has=ene;dd.prototype.set=tne;var PS=dd,Fj=PS,nne="Expected a function";function MS(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(MS.Cache||Fj),n}MS.Cache=Fj;var $j=MS;const rne=Gt($j);var ine=$j,ane=500;function one(t){var e=ine(t,function(r){return n.size===ane&&n.clear(),r}),n=e.cache;return e}var sne=one,lne=sne,une=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cne=/\\(\\)?/g,fne=lne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(une,function(n,r,i,a){e.push(i?a.replace(cne,"$1"):r||n)}),e}),dne=fne;function hne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var OS=hne,tk=gA,pne=OS,Ane=Ai,mne=ld,nk=tk?tk.prototype:void 0,rk=nk?nk.toString:void 0;function Bj(t){if(typeof t=="string")return t;if(Ane(t))return pne(t,Bj)+"";if(mne(t))return rk?rk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gne=Bj,vne=gne;function yne(t){return t==null?"":vne(t)}var Uj=yne,bne=Ai,xne=CS,wne=dne,Sne=Uj;function _ne(t,e){return bne(t)?t:xne(t,e)?[t]:wne(Sne(t))}var qj=_ne,Tne=ld;function Cne(t){if(typeof t=="string"||Tne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Rv=Cne,Nne=qj,Ene=Rv;function kne(t,e){e=Nne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Ene(e[n++])];return n&&n==r?t:void 0}var IS=kne,Pne=IS;function Mne(t,e,n){var r=t==null?void 0:Pne(t,e);return r===void 0?n:r}var Hj=Mne;const ji=Gt(Hj);function One(t){return t==null}var Ine=One;const Mt=Gt(Ine);var jne=as,Dne=Ai,Lne=os,Rne="[object String]";function Fne(t){return typeof t=="string"||!Dne(t)&&Lne(t)&&jne(t)==Rne}var $ne=Fne;const gu=Gt($ne);var zj={exports:{}},en={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=Symbol.for("react.element"),DS=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),qv=Symbol.for("react.context"),Bne=Symbol.for("react.server_context"),Hv=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),Wv=Symbol.for("react.lazy"),Une=Symbol.for("react.offscreen"),Vj;Vj=Symbol.for("react.module.reference");function da(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jS:switch(t=t.type,t){case Fv:case Bv:case $v:case zv:case Vv:return t;default:switch(t=t&&t.$$typeof,t){case Bne:case qv:case Hv:case Wv:case Gv:case Uv:return t;default:return e}}case DS:return e}}}en.ContextConsumer=qv;en.ContextProvider=Uv;en.Element=jS;en.ForwardRef=Hv;en.Fragment=Fv;en.Lazy=Wv;en.Memo=Gv;en.Portal=DS;en.Profiler=Bv;en.StrictMode=$v;en.Suspense=zv;en.SuspenseList=Vv;en.isAsyncMode=function(){return!1};en.isConcurrentMode=function(){return!1};en.isContextConsumer=function(t){return da(t)===qv};en.isContextProvider=function(t){return da(t)===Uv};en.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jS};en.isForwardRef=function(t){return da(t)===Hv};en.isFragment=function(t){return da(t)===Fv};en.isLazy=function(t){return da(t)===Wv};en.isMemo=function(t){return da(t)===Gv};en.isPortal=function(t){return da(t)===DS};en.isProfiler=function(t){return da(t)===Bv};en.isStrictMode=function(t){return da(t)===$v};en.isSuspense=function(t){return da(t)===zv};en.isSuspenseList=function(t){return da(t)===Vv};en.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fv||t===Bv||t===$v||t===zv||t===Vv||t===Une||typeof t=="object"&&t!==null&&(t.$$typeof===Wv||t.$$typeof===Gv||t.$$typeof===Uv||t.$$typeof===qv||t.$$typeof===Hv||t.$$typeof===Vj||t.getModuleId!==void 0)};en.typeOf=da;zj.exports=en;var qne=zj.exports,Hne=as,zne=os,Vne="[object Number]";function Gne(t){return typeof t=="number"||zne(t)&&Hne(t)==Vne}var Gj=Gne;const Wne=Gt(Gj);var Yne=Gj;function Kne(t){return Yne(t)&&t!=+t}var Jne=Kne;const vA=Gt(Jne);var Wr=function(e){return e===0?0:e>0?1:-1},Jl=function(e){return gu(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return Wne(e)&&!vA(e)},Xne=function(e){return Mt(e)},cr=function(e){return Ye(e)||gu(e)},Qne=0,yA=function(e){var n=++Qne;return"".concat(e||"").concat(n)},Yr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!gu(e))return r;var a;if(Jl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return vA(a)&&(a=r),i&&a>n&&(a=n),a},Fs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Zne=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ps=function(e,n){return Ye(e)&&Ye(n)?function(r){return e+r*(n-e)}:function(){return n}};function P2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ji(r,e))===n})}var ere=function(e,n){return Ye(e)&&Ye(n)?e-n:gu(e)&&gu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function lf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function M2(t){"@babel/helpers - typeof";return M2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M2(t)}var tre=["viewBox","children"],nre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ik=["points","pathLength"],T1={svg:tre,polygon:ik,polyline:ik},LS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],r0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(ne.isValidElement(e)&&(r=e.props),!ud(r))return null;var i={};return Object.keys(r).forEach(function(a){LS.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},rre=function(e,n,r){return function(i){return e(n,r,i),null}},vu=function(e,n,r){if(!ud(e)||M2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];LS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=rre(o,n,r))}),i},ire=["children"],are=["children"];function ak(t,e){if(t==null)return{};var n=ore(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ore(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ok={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Go=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sk=null,C1=null,RS=function t(e){if(e===sk&&Array.isArray(C1))return C1;var n=[];return ne.Children.forEach(e,function(r){Mt(r)||(qne.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),C1=n,sk=e,n};function ua(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Go(i)}):r=[Go(e)],RS(t).forEach(function(i){var a=ji(i,"type.displayName")||ji(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Si(t,e){var n=ua(t,e);return n&&n[0]}var lk=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ye(r)||r<=0||!Ye(i)||i<=0)},sre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lre=function(e){return e&&e.type&&gu(e.type)&&sre.indexOf(e.type)>=0},ure=function(e,n,r,i){var a,o=(a=T1==null?void 0:T1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!yt(e)&&(i&&o.includes(n)||nre.includes(n))||r&&LS.includes(n)},gt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(ne.isValidElement(e)&&(i=e.props),!ud(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;ure((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},O2=function t(e,n){if(e===n)return!0;var r=ne.Children.count(e);if(r!==ne.Children.count(n))return!1;if(r===0)return!0;if(r===1)return uk(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!uk(a,o))return!1}return!0},uk=function(e,n){if(Mt(e)&&Mt(n))return!0;if(!Mt(e)&&!Mt(n)){var r=e.props||{},i=r.children,a=ak(r,ire),o=n.props||{},s=o.children,l=ak(o,are);return i&&s?lf(a,l)&&O2(i,s):!i&&!s?lf(a,l):!1}return!1},ck=function(e,n){var r=[],i={};return RS(e).forEach(function(a,o){if(lre(a))r.push(a);else if(a){var s=Go(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},cre=function(e){var n=e&&e.type;return n&&ok[n]?ok[n]:null},fre=function(e,n){return RS(n).indexOf(e)},dre=["children","width","height","viewBox","className","style","title","desc"];function I2(){return I2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I2.apply(this,arguments)}function hre(t,e){if(t==null)return{};var n=pre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=hre(t,dre),c=i||{width:n,height:r,x:0,y:0},f=kt("recharts-surface",a);return de.createElement("svg",I2({},gt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),de.createElement("title",null,s),de.createElement("desc",null,l),e)}var Are=["children","className"];function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D2.apply(this,arguments)}function mre(t,e){if(t==null)return{};var n=gre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qt=de.forwardRef(function(t,e){var n=t.children,r=t.className,i=mre(t,Are),a=kt("recharts-layer",r);return de.createElement("g",D2({className:a},gt(i,!0),{ref:e}),n)}),La=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function vre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var yre=vre,bre=yre;function xre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:bre(t,e,n)}var wre=xre,Sre="\\ud800-\\udfff",_re="\\u0300-\\u036f",Tre="\\ufe20-\\ufe2f",Cre="\\u20d0-\\u20ff",Nre=_re+Tre+Cre,Ere="\\ufe0e\\ufe0f",kre="\\u200d",Pre=RegExp("["+kre+Sre+Nre+Ere+"]");function Mre(t){return Pre.test(t)}var Wj=Mre;function Ore(t){return t.split("")}var Ire=Ore,Yj="\\ud800-\\udfff",jre="\\u0300-\\u036f",Dre="\\ufe20-\\ufe2f",Lre="\\u20d0-\\u20ff",Rre=jre+Dre+Lre,Fre="\\ufe0e\\ufe0f",$re="["+Yj+"]",L2="["+Rre+"]",R2="\\ud83c[\\udffb-\\udfff]",Bre="(?:"+L2+"|"+R2+")",Kj="[^"+Yj+"]",Jj="(?:\\ud83c[\\udde6-\\uddff]){2}",Xj="[\\ud800-\\udbff][\\udc00-\\udfff]",Ure="\\u200d",Qj=Bre+"?",Zj="["+Fre+"]?",qre="(?:"+Ure+"(?:"+[Kj,Jj,Xj].join("|")+")"+Zj+Qj+")*",Hre=Zj+Qj+qre,zre="(?:"+[Kj+L2+"?",L2,Jj,Xj,$re].join("|")+")",Vre=RegExp(R2+"(?="+R2+")|"+zre+Hre,"g");function Gre(t){return t.match(Vre)||[]}var Wre=Gre,Yre=Ire,Kre=Wj,Jre=Wre;function Xre(t){return Kre(t)?Jre(t):Yre(t)}var Qre=Xre,Zre=wre,eie=Wj,tie=Qre,nie=Uj;function rie(t){return function(e){e=nie(e);var n=eie(e)?tie(e):void 0,r=n?n[0]:e.charAt(0),i=n?Zre(n,1).join(""):e.slice(1);return r[t]()+i}}var iie=rie,aie=iie,oie=aie("toUpperCase"),sie=oie;const Yv=Gt(sie);function An(t){return function(){return t}}const eD=Math.cos,i0=Math.sin,Ua=Math.sqrt,a0=Math.PI,Kv=2*a0,F2=Math.PI,$2=2*F2,zl=1e-6,lie=$2-zl;function tD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return tD;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?tD:uie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>zl)if(!(Math.abs(f*l-u*c)>zl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,y=i-s,x=l*l+u*u,w=p*p+y*y,v=Math.sqrt(x),b=Math.sqrt(h),S=a*Math.tan((F2-Math.acos((x+h-w)/(2*v*b)))/2),T=S/b,C=S/v;Math.abs(T-1)>zl&&this._append`L${e+T*c},${n+T*f}`,this._append`A${a},${a},0,0,${+(f*p>c*y)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>zl||Math.abs(this._y1-c)>zl)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%$2+$2),h>lie?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>zl&&this._append`A${r},${r},0,${+(h>=F2)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function FS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cie(e)}function $S(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nD(t){this._context=t}nD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jv(t){return new nD(t)}function rD(t){return t[0]}function iD(t){return t[1]}function aD(t,e){var n=An(!0),r=null,i=Jv,a=null,o=FS(s);t=typeof t=="function"?t:t===void 0?rD:An(t),e=typeof e=="function"?e:e===void 0?iD:An(e);function s(l){var u,c=(l=$S(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:An(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:An(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:An(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function qm(t,e,n){var r=null,i=An(!0),a=null,o=Jv,s=null,l=FS(u);t=typeof t=="function"?t:t===void 0?rD:An(+t),e=typeof e=="function"?e:An(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?iD:An(+n);function u(f){var h,p,y,x=(f=$S(f)).length,w,v=!1,b,S=new Array(x),T=new Array(x);for(a==null&&(s=o(b=l())),h=0;h<=x;++h){if(!(h<x&&i(w=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(S[y],T[y]);s.lineEnd(),s.areaEnd()}v&&(S[h]=+t(w,h,f),T[h]=+e(w,h,f),s.point(r?+r(w,h,f):S[h],n?+n(w,h,f):T[h]))}if(b)return s=null,b+""||null}function c(){return aD().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:An(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:An(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:An(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:An(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:An(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:An(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:An(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class oD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function fie(t){return new oD(t,!0)}function die(t){return new oD(t,!1)}const BS={draw(t,e){const n=Ua(e/a0);t.moveTo(n,0),t.arc(0,0,n,0,Kv)}},hie={draw(t,e){const n=Ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},sD=Ua(1/3),pie=sD*2,Aie={draw(t,e){const n=Ua(e/pie),r=n*sD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mie={draw(t,e){const n=Ua(e),r=-n/2;t.rect(r,r,n,n)}},gie=.8908130915292852,lD=i0(a0/10)/i0(7*a0/10),vie=i0(Kv/10)*lD,yie=-eD(Kv/10)*lD,bie={draw(t,e){const n=Ua(e*gie),r=vie*n,i=yie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Kv*a/5,s=eD(o),l=i0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},N1=Ua(3),xie={draw(t,e){const n=-Ua(e/(N1*3));t.moveTo(0,n*2),t.lineTo(-N1*n,-n),t.lineTo(N1*n,-n),t.closePath()}},Wi=-.5,Yi=Ua(3)/2,B2=1/Ua(12),wie=(B2/2+1)*3,Sie={draw(t,e){const n=Ua(e/wie),r=n/2,i=n*B2,a=r,o=n*B2+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Wi*r-Yi*i,Yi*r+Wi*i),t.lineTo(Wi*a-Yi*o,Yi*a+Wi*o),t.lineTo(Wi*s-Yi*l,Yi*s+Wi*l),t.lineTo(Wi*r+Yi*i,Wi*i-Yi*r),t.lineTo(Wi*a+Yi*o,Wi*o-Yi*a),t.lineTo(Wi*s+Yi*l,Wi*l-Yi*s),t.closePath()}};function _ie(t,e){let n=null,r=FS(i);t=typeof t=="function"?t:An(t||BS),e=typeof e=="function"?e:An(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:An(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:An(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function o0(){}function s0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function uD(t){this._context=t}uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tie(t){return new uD(t)}function cD(t){this._context=t}cD.prototype={areaStart:o0,areaEnd:o0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:s0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cie(t){return new cD(t)}function fD(t){this._context=t}fD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:s0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nie(t){return new fD(t)}function dD(t){this._context=t}dD.prototype={areaStart:o0,areaEnd:o0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Eie(t){return new dD(t)}function fk(t){return t<0?-1:1}function dk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(fk(a)+fk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function hk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function E1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function l0(t){this._context=t}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E1(this,this._t0,hk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,E1(this,hk(this,n=dk(this,t,e)),n);break;default:E1(this,this._t0,n=dk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function hD(t){this._context=new pD(t)}(hD.prototype=Object.create(l0.prototype)).point=function(t,e){l0.prototype.point.call(this,e,t)};function pD(t){this._context=t}pD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function kie(t){return new l0(t)}function Pie(t){return new hD(t)}function AD(t){this._context=t}AD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pk(t),i=pk(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Mie(t){return new AD(t)}function Xv(t,e){this._context=t,this._t=e}Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Oie(t){return new Xv(t,.5)}function Iie(t){return new Xv(t,0)}function jie(t){return new Xv(t,1)}function Sf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function U2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Die(t,e){return t[e]}function Lie(t){const e=[];return e.key=t,e}function Rie(){var t=An([]),e=U2,n=Sf,r=Die;function i(a){var o=Array.from(t.apply(this,arguments),Lie),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=$S(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:An(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:An(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?U2:typeof a=="function"?a:An(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Sf,i):n},i}function Fie(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Sf(t,e)}}function $ie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Sf(t,e)}}function Bie(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,y=0;y<s;++y){var x=t[e[y]],w=x[r][1]||0,v=x[r-1][1]||0;p+=w-v}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Sf(t,e)}}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}var Uie=["type","size","sizeType"];function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q2.apply(this,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=zie(t,"string");return vp(e)=="symbol"?e:e+""}function zie(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vie(t,e){if(t==null)return{};var n=Gie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mD={symbolCircle:BS,symbolCross:hie,symbolDiamond:Aie,symbolSquare:mie,symbolStar:bie,symbolTriangle:xie,symbolWye:Sie},Wie=Math.PI/180,Yie=function(e){var n="symbol".concat(Yv(e));return mD[n]||BS},Kie=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Wie;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Jie=function(e,n){mD["symbol".concat(Yv(e))]=n},US=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Vie(e,Uie),u=mk(mk({},l),{},{type:r,size:a,sizeType:s}),c=function(){var w=Yie(r),v=_ie().type(w).size(Kie(a,s,r));return v()},f=u.className,h=u.cx,p=u.cy,y=gt(u,!0);return h===+h&&p===+p&&a===+a?de.createElement("path",q2({},y,{className:kt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};US.registerSymbol=Jie;function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H2.apply(this,arguments)}function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){yp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vD(r.key),r)}}function eae(t,e,n){return e&&Zie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tae(t,e,n){return e=u0(e),nae(t,gD()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function nae(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rae(t)}function rae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z2(t,e)}function z2(t,e){return z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z2(t,e)}function yp(t,e,n){return e=vD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vD(t){var e=aae(t,"string");return _f(e)=="symbol"?e:e+""}function aae(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ki=32,qS=function(t){function e(){return Qie(this,e),tae(this,e,arguments)}return iae(e,t),eae(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Ki/2,o=Ki/6,s=Ki/3,l=r.inactive?i:r.color;if(r.type==="plainline")return de.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Ki,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return de.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ki,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return de.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ki/8,"h").concat(Ki,"v").concat(Ki*3/4,"h").concat(-Ki,"z"),className:"recharts-legend-icon"});if(de.isValidElement(r.legendIcon)){var u=Xie({},r);return delete u.legendIcon,de.cloneElement(r.legendIcon,u)}return de.createElement(US,{fill:l,cx:a,cy:a,size:Ki,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Ki,height:Ki},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var x=p.formatter||l,w=kt(yp(yp({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=yt(p.value)?null:p.value;La(!yt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return de.createElement("li",H2({className:w,style:f,key:"legend-item-".concat(y)},vu(r.props,p,y)),de.createElement(j2,{width:o,height:o,viewBox:c,style:h},r.renderIcon(p)),de.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x?x(v,p,y):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return de.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(ne.PureComponent);yp(qS,"displayName","Legend");yp(qS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var oae=Dv;function sae(){this.__data__=new oae,this.size=0}var lae=sae;function uae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var cae=uae;function fae(t){return this.__data__.get(t)}var dae=fae;function hae(t){return this.__data__.has(t)}var pae=hae,Aae=Dv,mae=kS,gae=PS,vae=200;function yae(t,e){var n=this.__data__;if(n instanceof Aae){var r=n.__data__;if(!mae||r.length<vae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gae(r)}return n.set(t,e),this.size=n.size,this}var bae=yae,xae=Dv,wae=lae,Sae=cae,_ae=dae,Tae=pae,Cae=bae;function hd(t){var e=this.__data__=new xae(t);this.size=e.size}hd.prototype.clear=wae;hd.prototype.delete=Sae;hd.prototype.get=_ae;hd.prototype.has=Tae;hd.prototype.set=Cae;var yD=hd,Nae="__lodash_hash_undefined__";function Eae(t){return this.__data__.set(t,Nae),this}var kae=Eae;function Pae(t){return this.__data__.has(t)}var Mae=Pae,Oae=PS,Iae=kae,jae=Mae;function c0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Oae;++e<n;)this.add(t[e])}c0.prototype.add=c0.prototype.push=Iae;c0.prototype.has=jae;var bD=c0;function Dae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var xD=Dae;function Lae(t,e){return t.has(e)}var wD=Lae,Rae=bD,Fae=xD,$ae=wD,Bae=1,Uae=2;function qae(t,e,n,r,i,a){var o=n&Bae,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&Uae?new Rae:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var y=t[f],x=e[f];if(r)var w=o?r(x,y,f,e,t,a):r(y,x,f,t,e,a);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!Fae(e,function(v,b){if(!$ae(p,b)&&(y===v||i(y,v,n,r,a)))return p.push(b)})){h=!1;break}}else if(!(y===x||i(y,x,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var SD=qae,Hae=po,zae=Hae.Uint8Array,Vae=zae;function Gae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Wae=Gae;function Yae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var HS=Yae,vk=gA,yk=Vae,Kae=ES,Jae=SD,Xae=Wae,Qae=HS,Zae=1,eoe=2,toe="[object Boolean]",noe="[object Date]",roe="[object Error]",ioe="[object Map]",aoe="[object Number]",ooe="[object RegExp]",soe="[object Set]",loe="[object String]",uoe="[object Symbol]",coe="[object ArrayBuffer]",foe="[object DataView]",bk=vk?vk.prototype:void 0,k1=bk?bk.valueOf:void 0;function doe(t,e,n,r,i,a,o){switch(n){case foe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case coe:return!(t.byteLength!=e.byteLength||!a(new yk(t),new yk(e)));case toe:case noe:case aoe:return Kae(+t,+e);case roe:return t.name==e.name&&t.message==e.message;case ooe:case loe:return t==e+"";case ioe:var s=Xae;case soe:var l=r&Zae;if(s||(s=Qae),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=eoe,o.set(t,e);var c=Jae(s(t),s(e),r,i,a,o);return o.delete(t),c;case uoe:if(k1)return k1.call(t)==k1.call(e)}return!1}var hoe=doe;function poe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _D=poe,Aoe=_D,moe=Ai;function goe(t,e,n){var r=e(t);return moe(t)?r:Aoe(r,n(t))}var voe=goe;function yoe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var boe=yoe;function xoe(){return[]}var woe=xoe,Soe=boe,_oe=woe,Toe=Object.prototype,Coe=Toe.propertyIsEnumerable,xk=Object.getOwnPropertySymbols,Noe=xk?function(t){return t==null?[]:(t=Object(t),Soe(xk(t),function(e){return Coe.call(t,e)}))}:_oe,Eoe=Noe;function koe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Poe=koe,Moe=as,Ooe=os,Ioe="[object Arguments]";function joe(t){return Ooe(t)&&Moe(t)==Ioe}var Doe=joe,wk=Doe,Loe=os,TD=Object.prototype,Roe=TD.hasOwnProperty,Foe=TD.propertyIsEnumerable,$oe=wk(function(){return arguments}())?wk:function(t){return Loe(t)&&Roe.call(t,"callee")&&!Foe.call(t,"callee")},zS=$oe,f0={exports:{}};function Boe(){return!1}var Uoe=Boe;f0.exports;(function(t,e){var n=po,r=Uoe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(f0,f0.exports);var CD=f0.exports,qoe=9007199254740991,Hoe=/^(?:0|[1-9]\d*)$/;function zoe(t,e){var n=typeof t;return e=e??qoe,!!e&&(n=="number"||n!="symbol"&&Hoe.test(t))&&t>-1&&t%1==0&&t<e}var VS=zoe,Voe=9007199254740991;function Goe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Voe}var GS=Goe,Woe=as,Yoe=GS,Koe=os,Joe="[object Arguments]",Xoe="[object Array]",Qoe="[object Boolean]",Zoe="[object Date]",ese="[object Error]",tse="[object Function]",nse="[object Map]",rse="[object Number]",ise="[object Object]",ase="[object RegExp]",ose="[object Set]",sse="[object String]",lse="[object WeakMap]",use="[object ArrayBuffer]",cse="[object DataView]",fse="[object Float32Array]",dse="[object Float64Array]",hse="[object Int8Array]",pse="[object Int16Array]",Ase="[object Int32Array]",mse="[object Uint8Array]",gse="[object Uint8ClampedArray]",vse="[object Uint16Array]",yse="[object Uint32Array]",xn={};xn[fse]=xn[dse]=xn[hse]=xn[pse]=xn[Ase]=xn[mse]=xn[gse]=xn[vse]=xn[yse]=!0;xn[Joe]=xn[Xoe]=xn[use]=xn[Qoe]=xn[cse]=xn[Zoe]=xn[ese]=xn[tse]=xn[nse]=xn[rse]=xn[ise]=xn[ase]=xn[ose]=xn[sse]=xn[lse]=!1;function bse(t){return Koe(t)&&Yoe(t.length)&&!!xn[Woe(t)]}var xse=bse;function wse(t){return function(e){return t(e)}}var ND=wse,d0={exports:{}};d0.exports;(function(t,e){var n=Dj,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(d0,d0.exports);var Sse=d0.exports,_se=xse,Tse=ND,Sk=Sse,_k=Sk&&Sk.isTypedArray,Cse=_k?Tse(_k):_se,ED=Cse,Nse=Poe,Ese=zS,kse=Ai,Pse=CD,Mse=VS,Ose=ED,Ise=Object.prototype,jse=Ise.hasOwnProperty;function Dse(t,e){var n=kse(t),r=!n&&Ese(t),i=!n&&!r&&Pse(t),a=!n&&!r&&!i&&Ose(t),o=n||r||i||a,s=o?Nse(t.length,String):[],l=s.length;for(var u in t)(e||jse.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Mse(u,l)))&&s.push(u);return s}var Lse=Dse,Rse=Object.prototype;function Fse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Rse;return t===n}var $se=Fse;function Bse(t,e){return function(n){return t(e(n))}}var kD=Bse,Use=kD,qse=Use(Object.keys,Object),Hse=qse,zse=$se,Vse=Hse,Gse=Object.prototype,Wse=Gse.hasOwnProperty;function Yse(t){if(!zse(t))return Vse(t);var e=[];for(var n in Object(t))Wse.call(t,n)&&n!="constructor"&&e.push(n);return e}var Kse=Yse,Jse=NS,Xse=GS;function Qse(t){return t!=null&&Xse(t.length)&&!Jse(t)}var bA=Qse,Zse=Lse,ele=Kse,tle=bA;function nle(t){return tle(t)?Zse(t):ele(t)}var Qv=nle,rle=voe,ile=Eoe,ale=Qv;function ole(t){return rle(t,ale,ile)}var sle=ole,Tk=sle,lle=1,ule=Object.prototype,cle=ule.hasOwnProperty;function fle(t,e,n,r,i,a){var o=n&lle,s=Tk(t),l=s.length,u=Tk(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:cle.call(e,h)))return!1}var p=a.get(t),y=a.get(e);if(p&&y)return p==e&&y==t;var x=!0;a.set(t,e),a.set(e,t);for(var w=o;++f<l;){h=s[f];var v=t[h],b=e[h];if(r)var S=o?r(b,v,h,e,t,a):r(v,b,h,t,e,a);if(!(S===void 0?v===b||i(v,b,n,r,a):S)){x=!1;break}w||(w=h=="constructor")}if(x&&!w){var T=t.constructor,C=e.constructor;T!=C&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof C=="function"&&C instanceof C)&&(x=!1)}return a.delete(t),a.delete(e),x}var dle=fle,hle=Ou,ple=po,Ale=hle(ple,"DataView"),mle=Ale,gle=Ou,vle=po,yle=gle(vle,"Promise"),ble=yle,xle=Ou,wle=po,Sle=xle(wle,"Set"),PD=Sle,_le=Ou,Tle=po,Cle=_le(Tle,"WeakMap"),Nle=Cle,V2=mle,G2=kS,W2=ble,Y2=PD,K2=Nle,MD=as,pd=Rj,Ck="[object Map]",Ele="[object Object]",Nk="[object Promise]",Ek="[object Set]",kk="[object WeakMap]",Pk="[object DataView]",kle=pd(V2),Ple=pd(G2),Mle=pd(W2),Ole=pd(Y2),Ile=pd(K2),Vl=MD;(V2&&Vl(new V2(new ArrayBuffer(1)))!=Pk||G2&&Vl(new G2)!=Ck||W2&&Vl(W2.resolve())!=Nk||Y2&&Vl(new Y2)!=Ek||K2&&Vl(new K2)!=kk)&&(Vl=function(t){var e=MD(t),n=e==Ele?t.constructor:void 0,r=n?pd(n):"";if(r)switch(r){case kle:return Pk;case Ple:return Ck;case Mle:return Nk;case Ole:return Ek;case Ile:return kk}return e});var jle=Vl,P1=yD,Dle=SD,Lle=hoe,Rle=dle,Mk=jle,Ok=Ai,Ik=CD,Fle=ED,$le=1,jk="[object Arguments]",Dk="[object Array]",Hm="[object Object]",Ble=Object.prototype,Lk=Ble.hasOwnProperty;function Ule(t,e,n,r,i,a){var o=Ok(t),s=Ok(e),l=o?Dk:Mk(t),u=s?Dk:Mk(e);l=l==jk?Hm:l,u=u==jk?Hm:u;var c=l==Hm,f=u==Hm,h=l==u;if(h&&Ik(t)){if(!Ik(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new P1),o||Fle(t)?Dle(t,e,n,r,i,a):Lle(t,e,l,n,r,i,a);if(!(n&$le)){var p=c&&Lk.call(t,"__wrapped__"),y=f&&Lk.call(e,"__wrapped__");if(p||y){var x=p?t.value():t,w=y?e.value():e;return a||(a=new P1),i(x,w,n,r,a)}}return h?(a||(a=new P1),Rle(t,e,n,r,i,a)):!1}var qle=Ule,Hle=qle,Rk=os;function OD(t,e,n,r,i){return t===e?!0:t==null||e==null||!Rk(t)&&!Rk(e)?t!==t&&e!==e:Hle(t,e,n,r,OD,i)}var WS=OD,zle=yD,Vle=WS,Gle=1,Wle=2;function Yle(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new zle;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Vle(c,u,Gle|Wle,r,f):h))return!1}}return!0}var Kle=Yle,Jle=gl;function Xle(t){return t===t&&!Jle(t)}var ID=Xle,Qle=ID,Zle=Qv;function eue(t){for(var e=Zle(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Qle(i)]}return e}var tue=eue;function nue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var jD=nue,rue=Kle,iue=tue,aue=jD;function oue(t){var e=iue(t);return e.length==1&&e[0][2]?aue(e[0][0],e[0][1]):function(n){return n===t||rue(n,t,e)}}var sue=oue;function lue(t,e){return t!=null&&e in Object(t)}var uue=lue,cue=qj,fue=zS,due=Ai,hue=VS,pue=GS,Aue=Rv;function mue(t,e,n){e=cue(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=Aue(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&pue(i)&&hue(o,i)&&(due(t)||fue(t)))}var gue=mue,vue=uue,yue=gue;function bue(t,e){return t!=null&&yue(t,e,vue)}var xue=bue,wue=WS,Sue=Hj,_ue=xue,Tue=CS,Cue=ID,Nue=jD,Eue=Rv,kue=1,Pue=2;function Mue(t,e){return Tue(t)&&Cue(e)?Nue(Eue(t),e):function(n){var r=Sue(n,t);return r===void 0&&r===e?_ue(n,t):wue(e,r,kue|Pue)}}var Oue=Mue;function Iue(t){return t}var Ad=Iue;function jue(t){return function(e){return e==null?void 0:e[t]}}var Due=jue,Lue=IS;function Rue(t){return function(e){return Lue(e,t)}}var Fue=Rue,$ue=Due,Bue=Fue,Uue=CS,que=Rv;function Hue(t){return Uue(t)?$ue(que(t)):Bue(t)}var zue=Hue,Vue=sue,Gue=Oue,Wue=Ad,Yue=Ai,Kue=zue;function Jue(t){return typeof t=="function"?t:t==null?Wue:typeof t=="object"?Yue(t)?Gue(t[0],t[1]):Vue(t):Kue(t)}var Ao=Jue;function Xue(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var DD=Xue;function Que(t){return t!==t}var Zue=Que;function ece(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var tce=ece,nce=DD,rce=Zue,ice=tce;function ace(t,e,n){return e===e?ice(t,e,n):nce(t,rce,n)}var oce=ace,sce=oce;function lce(t,e){var n=t==null?0:t.length;return!!n&&sce(t,e,0)>-1}var uce=lce;function cce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var fce=cce;function dce(){}var hce=dce,M1=PD,pce=hce,Ace=HS,mce=1/0,gce=M1&&1/Ace(new M1([,-0]))[1]==mce?function(t){return new M1(t)}:pce,vce=gce,yce=bD,bce=uce,xce=fce,wce=wD,Sce=vce,_ce=HS,Tce=200;function Cce(t,e,n){var r=-1,i=bce,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=xce;else if(a>=Tce){var u=e?null:Sce(t);if(u)return _ce(u);o=!1,i=wce,l=new yce}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Nce=Cce,Ece=Ao,kce=Nce;function Pce(t,e){return t&&t.length?kce(t,Ece(e)):[]}var Mce=Pce;const Fk=Gt(Mce);function LD(t,e,n){return e===!0?Fk(t,n):yt(e)?Fk(t,e):t}function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var Oce=["ref"];function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Zv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FD(r.key),r)}}function jce(t,e,n){return e&&Bk(t.prototype,e),n&&Bk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dce(t,e,n){return e=h0(e),Lce(t,RD()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function Lce(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rce(t)}function Rce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RD=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function Fce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J2(t,e)}function J2(t,e){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J2(t,e)}function Zv(t,e,n){return e=FD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t){var e=$ce(t,"string");return Tf(e)=="symbol"?e:e+""}function $ce(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bce(t,e){if(t==null)return{};var n=Uce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qce(t){return t.value}function Hce(t,e){if(de.isValidElement(t))return de.cloneElement(t,e);if(typeof t=="function")return de.createElement(t,e);e.ref;var n=Bce(e,Oce);return de.createElement(qS,n)}var Uk=1,rl=function(t){function e(){var n;Ice(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Dce(this,e,[].concat(i)),Zv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Fce(e,t),jce(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Uk||Math.abs(i.height-this.lastBoundingBox.height)>Uk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Mo(Mo({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Mo(Mo({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return de.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Hce(a,Mo(Mo({},this.props),{},{payload:LD(c,u,qce)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Mo(Mo({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ye(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(ne.PureComponent);Zv(rl,"displayName","Legend");Zv(rl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qk=gA,zce=zS,Vce=Ai,Hk=qk?qk.isConcatSpreadable:void 0;function Gce(t){return Vce(t)||zce(t)||!!(Hk&&t&&t[Hk])}var Wce=Gce,Yce=_D,Kce=Wce;function $D(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Kce),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?$D(s,e-1,n,r,i):Yce(i,s):r||(i[i.length]=s)}return i}var BD=$D;function Jce(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Xce=Jce,Qce=Xce,Zce=Qce(),efe=Zce,tfe=efe,nfe=Qv;function rfe(t,e){return t&&tfe(t,e,nfe)}var UD=rfe,ife=bA;function afe(t,e){return function(n,r){if(n==null)return n;if(!ife(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ofe=afe,sfe=UD,lfe=ofe,ufe=lfe(sfe),YS=ufe,cfe=YS,ffe=bA;function dfe(t,e){var n=-1,r=ffe(t)?Array(t.length):[];return cfe(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var qD=dfe;function hfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var pfe=hfe,zk=ld;function Afe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=zk(t),o=e!==void 0,s=e===null,l=e===e,u=zk(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var mfe=Afe,gfe=mfe;function vfe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=gfe(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var yfe=vfe,O1=OS,bfe=IS,xfe=Ao,wfe=qD,Sfe=pfe,_fe=ND,Tfe=yfe,Cfe=Ad,Nfe=Ai;function Efe(t,e,n){e.length?e=O1(e,function(a){return Nfe(a)?function(o){return bfe(o,a.length===1?a[0]:a)}:a}):e=[Cfe];var r=-1;e=O1(e,_fe(xfe));var i=wfe(t,function(a,o,s){var l=O1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Sfe(i,function(a,o){return Tfe(a,o,n)})}var kfe=Efe;function Pfe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Mfe=Pfe,Ofe=Mfe,Vk=Math.max;function Ife(t,e,n){return e=Vk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Vk(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Ofe(t,this,s)}}var jfe=Ife;function Dfe(t){return function(){return t}}var Lfe=Dfe,Rfe=Ou,Ffe=function(){try{var t=Rfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),HD=Ffe,$fe=Lfe,Gk=HD,Bfe=Ad,Ufe=Gk?function(t,e){return Gk(t,"toString",{configurable:!0,enumerable:!1,value:$fe(e),writable:!0})}:Bfe,qfe=Ufe,Hfe=800,zfe=16,Vfe=Date.now;function Gfe(t){var e=0,n=0;return function(){var r=Vfe(),i=zfe-(r-n);if(n=r,i>0){if(++e>=Hfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Wfe=Gfe,Yfe=qfe,Kfe=Wfe,Jfe=Kfe(Yfe),Xfe=Jfe,Qfe=Ad,Zfe=jfe,ede=Xfe;function tde(t,e){return ede(Zfe(t,e,Qfe),t+"")}var nde=tde,rde=ES,ide=bA,ade=VS,ode=gl;function sde(t,e,n){if(!ode(n))return!1;var r=typeof e;return(r=="number"?ide(n)&&ade(e,n.length):r=="string"&&e in n)?rde(n[e],t):!1}var ey=sde,lde=BD,ude=kfe,cde=nde,Wk=ey,fde=cde(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Wk(t,e[0],e[1])?e=[]:n>2&&Wk(e[0],e[1],e[2])&&(e=[e[0]]),ude(t,lde(e,1),[])}),dde=fde;const KS=Gt(dde);function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(this,arguments)}function hde(t,e){return gde(t)||mde(t,e)||Ade(t,e)||pde()}function pde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ade(t,e){if(t){if(typeof t=="string")return Yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yk(t,e)}}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function gde(t){if(Array.isArray(t))return t}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vde(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=bde(t,"string");return bp(e)=="symbol"?e:e+""}function bde(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xde(t){return Array.isArray(t)&&cr(t[0])&&cr(t[1])?t.join(" ~ "):t}var wde=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,x=e.label,w=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,S=function(){if(c&&c.length){var I={padding:0,margin:0},$=(h?KS(c,h):c).map(function(F,H){if(F.type==="none")return null;var R=I1({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),B=F.formatter||f||xde,W=F.value,K=F.name,Z=W,oe=K;if(B&&Z!=null&&oe!=null){var L=B(W,K,F,H,c);if(Array.isArray(L)){var z=hde(L,2);Z=z[0],oe=z[1]}else Z=L}return de.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:R},cr(oe)?de.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,cr(oe)?de.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,de.createElement("span",{className:"recharts-tooltip-item-value"},Z),de.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return de.createElement("ul",{className:"recharts-tooltip-item-list",style:I},$)}return null},T=I1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),C=I1({margin:0},u),k=!Mt(x),E=k?x:"",M=kt("recharts-default-tooltip",p),j=kt("recharts-tooltip-label",y);k&&w&&c!==void 0&&c!==null&&(E=w(x,c));var U=b?{role:"status","aria-live":"assertive"}:{};return de.createElement("div",X2({className:M,style:T},U),de.createElement("p",{className:j,style:C},de.isValidElement(E)?E:"".concat(E)),S())};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function zm(t,e,n){return e=Sde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sde(t){var e=_de(t,"string");return xp(e)=="symbol"?e:e+""}function _de(t,e){if(xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ch="recharts-tooltip-wrapper",Tde={visibility:"hidden"};function Cde(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return kt(ch,zm(zm(zm(zm({},"".concat(ch,"-right"),Ye(n)&&e&&Ye(e.x)&&n>=e.x),"".concat(ch,"-left"),Ye(n)&&e&&Ye(e.x)&&n<e.x),"".concat(ch,"-bottom"),Ye(r)&&e&&Ye(e.y)&&r>=e.y),"".concat(ch,"-top"),Ye(r)&&e&&Ye(e.y)&&r<e.y))}function Jk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&Ye(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var y=f+s,x=l[r]+u;return y>x?Math.max(c,l[r]):Math.max(f,l[r])}function Nde(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ede(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=Jk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Jk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Nde({translateX:c,translateY:f,useTranslate3d:s})):u=Tde,{cssProperties:u,cssClasses:Cde({translateX:c,translateY:f,coordinate:n})}}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){Z2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VD(r.key),r)}}function Mde(t,e,n){return e&&Pde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ode(t,e,n){return e=p0(e),Ide(t,zD()?Reflect.construct(e,n||[],p0(t).constructor):e.apply(t,n))}function Ide(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jde(t)}function jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zD=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(t)}function Dde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q2(t,e)}function Q2(t,e){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q2(t,e)}function Z2(t,e,n){return e=VD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VD(t){var e=Lde(t,"string");return Cf(e)=="symbol"?e:e+""}function Lde(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zk=1,Rde=function(t){function e(){var n;kde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ode(this,e,[].concat(i)),Z2(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Z2(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Dde(e,t),Mde(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Zk||Math.abs(r.height-this.state.lastBoundingBox.height)>Zk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,x=i.reverseDirection,w=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,S=Ede({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:v}),T=S.cssClasses,C=S.cssProperties,k=Qk(Qk({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return de.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(M){r.wrapperNode=M}},u)}}])}(ne.PureComponent),Fde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},md={isSsr:Fde()};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){JS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WD(r.key),r)}}function Ude(t,e,n){return e&&Bde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qde(t,e,n){return e=A0(e),Hde(t,GD()?Reflect.construct(e,n||[],A0(t).constructor):e.apply(t,n))}function Hde(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zde(t)}function zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function A0(t){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(t)}function Vde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ew(t,e)}function JS(t,e,n){return e=WD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WD(t){var e=Gde(t,"string");return Nf(e)=="symbol"?e:e+""}function Gde(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wde(t){return t.dataKey}function Yde(t,e){return de.isValidElement(t)?de.cloneElement(t,e):typeof t=="function"?de.createElement(t,e):de.createElement(wde,e)}var Oa=function(t){function e(){return $de(this,e),qde(this,e,arguments)}return Vde(e,t),Ude(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,x=i.payloadUniqBy,w=i.position,v=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,T=i.wrapperStyle,C=y??[];f&&C.length&&(C=LD(y.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),x,Wde));var k=C.length>0;return de.createElement(Rde,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:k,offset:p,position:w,reverseDirection:v,useTranslate3d:b,viewBox:S,wrapperStyle:T},Yde(u,t4(t4({},this.props),{},{payload:C})))}}])}(ne.PureComponent);JS(Oa,"displayName","Tooltip");JS(Oa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!md.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kde=po,Jde=function(){return Kde.Date.now()},Xde=Jde,Qde=/\s/;function Zde(t){for(var e=t.length;e--&&Qde.test(t.charAt(e)););return e}var ehe=Zde,the=ehe,nhe=/^\s+/;function rhe(t){return t&&t.slice(0,the(t)+1).replace(nhe,"")}var ihe=rhe,ahe=ihe,n4=gl,ohe=ld,r4=NaN,she=/^[-+]0x[0-9a-f]+$/i,lhe=/^0b[01]+$/i,uhe=/^0o[0-7]+$/i,che=parseInt;function fhe(t){if(typeof t=="number")return t;if(ohe(t))return r4;if(n4(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=n4(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ahe(t);var n=lhe.test(t);return n||uhe.test(t)?che(t.slice(2),n?2:8):she.test(t)?r4:+t}var YD=fhe,dhe=gl,j1=Xde,i4=YD,hhe="Expected a function",phe=Math.max,Ahe=Math.min;function mhe(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(hhe);e=i4(e)||0,dhe(n)&&(c=!!n.leading,f="maxWait"in n,a=f?phe(i4(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(k){var E=r,M=i;return r=i=void 0,u=k,o=t.apply(M,E),o}function y(k){return u=k,s=setTimeout(v,e),c?p(k):o}function x(k){var E=k-l,M=k-u,j=e-E;return f?Ahe(j,a-M):j}function w(k){var E=k-l,M=k-u;return l===void 0||E>=e||E<0||f&&M>=a}function v(){var k=j1();if(w(k))return b(k);s=setTimeout(v,x(k))}function b(k){return s=void 0,h&&r?p(k):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function T(){return s===void 0?o:b(j1())}function C(){var k=j1(),E=w(k);if(r=arguments,i=this,l=k,E){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),o}return C.cancel=S,C.flush=T,C}var ghe=mhe,vhe=ghe,yhe=gl,bhe="Expected a function";function xhe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(bhe);return yhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),vhe(t,e,{leading:r,maxWait:e,trailing:i})}var whe=xhe;const KD=Gt(whe);function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){She(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function She(t,e,n){return e=_he(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _he(t){var e=The(t,"string");return wp(e)=="symbol"?e:e+""}function The(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Che(t,e){return Phe(t)||khe(t,e)||Ehe(t,e)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(t,e){if(t){if(typeof t=="string")return o4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o4(t,e)}}function o4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function khe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Phe(t){if(Array.isArray(t))return t}var s4=ne.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,x=y===void 0?0:y,w=t.id,v=t.className,b=t.onResize,S=t.style,T=S===void 0?{}:S,C=ne.useRef(null),k=ne.useRef();k.current=b,ne.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var E=ne.useState({containerWidth:i.width,containerHeight:i.height}),M=Che(E,2),j=M[0],U=M[1],O=ne.useCallback(function($,F){U(function(H){var R=Math.round($),B=Math.round(F);return H.containerWidth===R&&H.containerHeight===B?H:{containerWidth:R,containerHeight:B}})},[]);ne.useEffect(function(){var $=function(K){var Z,oe=K[0].contentRect,L=oe.width,z=oe.height;O(L,z),(Z=k.current)===null||Z===void 0||Z.call(k,L,z)};x>0&&($=KD($,x,{trailing:!0,leading:!1}));var F=new ResizeObserver($),H=C.current.getBoundingClientRect(),R=H.width,B=H.height;return O(R,B),F.observe(C.current),function(){F.disconnect()}},[O,x]);var I=ne.useMemo(function(){var $=j.containerWidth,F=j.containerHeight;if($<0||F<0)return null;La(Jl(o)||Jl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),La(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Jl(o)?$:o,R=Jl(l)?F:l;n&&n>0&&(H?R=H/n:R&&(H=R*n),h&&R>h&&(R=h)),La(H>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,R,o,l,c,f,n);var B=!Array.isArray(p)&&Go(p.type).endsWith("Chart");return de.Children.map(p,function(W){return de.isValidElement(W)?ne.cloneElement(W,Vm({width:H,height:R},B?{style:Vm({height:"100%",width:"100%",maxHeight:R,maxWidth:H},W.props.style)}:{})):W})},[n,p,l,h,f,c,j,o]);return de.createElement("div",{id:w?"".concat(w):void 0,className:kt("recharts-responsive-container",v),style:Vm(Vm({},T),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:C},I)}),ty=function(e){return null};ty.displayName="Cell";function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function l4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l4(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return e=Ohe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Ihe(t,"string");return Sp(e)=="symbol"?e:e+""}function Ihe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xc={widthCache:{},cacheCount:0},jhe=2e3,Dhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},u4="recharts_measurement_span";function Lhe(t){var e=tw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Kh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||md.isSsr)return{width:0,height:0};var r=Lhe(n),i=JSON.stringify({text:e,copyStyle:r});if(xc.widthCache[i])return xc.widthCache[i];try{var a=document.getElementById(u4);a||(a=document.createElement("span"),a.setAttribute("id",u4),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=tw(tw({},Dhe),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return xc.widthCache[i]=l,++xc.cacheCount>jhe&&(xc.cacheCount=0,xc.widthCache={}),l}catch{return{width:0,height:0}}},Rhe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function m0(t,e){return Uhe(t)||Bhe(t,e)||$he(t,e)||Fhe()}function Fhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(t,e){if(t){if(typeof t=="string")return c4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c4(t,e)}}function c4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uhe(t){if(Array.isArray(t))return t}function qhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zhe(r.key),r)}}function Hhe(t,e,n){return e&&f4(t.prototype,e),n&&f4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zhe(t){var e=Vhe(t,"string");return _p(e)=="symbol"?e:e+""}function Vhe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ghe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Whe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Yhe=Object.keys(JD),Gc="NaN";function Khe(t,e){return t*JD[e]}var Gm=function(){function t(e,n){qhe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ghe.test(n)&&(this.num=NaN,this.unit=""),Yhe.includes(n)&&(this.num=Khe(e,n),this.unit="px")}return Hhe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Whe.exec(n))!==null&&r!==void 0?r:[],a=m0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function XD(t){if(t.includes(Gc))return Gc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=d4.exec(e))!==null&&n!==void 0?n:[],i=m0(r,4),a=i[1],o=i[2],s=i[3],l=Gm.parse(a??""),u=Gm.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Gc;e=e.replace(d4,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=h4.exec(e))!==null&&f!==void 0?f:[],p=m0(h,4),y=p[1],x=p[2],w=p[3],v=Gm.parse(y??""),b=Gm.parse(w??""),S=x==="+"?v.add(b):v.subtract(b);if(S.isNaN())return Gc;e=e.replace(h4,S.toString())}return e}var p4=/\(([^()]*)\)/;function Jhe(t){for(var e=t;e.includes("(");){var n=p4.exec(e),r=m0(n,2),i=r[1];e=e.replace(p4,XD(i))}return e}function Xhe(t){var e=t.replace(/\s+/g,"");return e=Jhe(e),e=XD(e),e}function Qhe(t){try{return Xhe(t)}catch{return Gc}}function D1(t){var e=Qhe(t.slice(5,-1));return e===Gc?"":e}var Zhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],epe=["dx","dy","angle","className","breakAll"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function A4(t,e){if(t==null)return{};var n=tpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m4(t,e){return ape(t)||ipe(t,e)||rpe(t,e)||npe()}function npe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rpe(t,e){if(t){if(typeof t=="string")return g4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g4(t,e)}}function g4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ipe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ape(t){if(Array.isArray(t))return t}var QD=/[ \f\n\r\t\v\u2028\u2029]+/,ZD=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Mt(n)||(r?a=n.toString().split(""):a=n.toString().split(QD));var o=a.map(function(l){return{word:l,width:Kh(l,i).width}}),s=r?0:Kh(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},ope=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Ye(o),f=s,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(R,B){var W=B.word,K=B.width,Z=R[R.length-1];if(Z&&(i==null||a||Z.width+K+r<Number(i)))Z.words.push(W),Z.width+=K+r;else{var oe={words:[W],width:K};R.push(oe)}return R},[])},p=h(n),y=function(H){return H.reduce(function(R,B){return R.width>B.width?R:B})};if(!c)return p;for(var x="…",w=function(H){var R=f.slice(0,H),B=ZD({breakAll:u,style:l,children:R+x}).wordsWithComputedWidth,W=h(B),K=W.length>o||y(W).width>Number(i);return[K,W]},v=0,b=f.length-1,S=0,T;v<=b&&S<=f.length-1;){var C=Math.floor((v+b)/2),k=C-1,E=w(k),M=m4(E,2),j=M[0],U=M[1],O=w(C),I=m4(O,1),$=I[0];if(!j&&!$&&(v=C+1),j&&$&&(b=C-1),!j&&$){T=U;break}S++}return T||p},v4=function(e){var n=Mt(e)?[]:e.toString().split(QD);return[{words:n}]},spe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!md.isSsr){var l,u,c=ZD({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return v4(i);return ope({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return v4(i)},y4="#808080",yu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,x=y===void 0?"end":y,w=e.fill,v=w===void 0?y4:w,b=A4(e,Zhe),S=ne.useMemo(function(){return spe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),T=b.dx,C=b.dy,k=b.angle,E=b.className,M=b.breakAll,j=A4(b,epe);if(!cr(r)||!cr(a))return null;var U=r+(Ye(T)?T:0),O=a+(Ye(C)?C:0),I;switch(x){case"start":I=D1("calc(".concat(u,")"));break;case"middle":I=D1("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=D1("calc(".concat(S.length-1," * -").concat(s,")"));break}var $=[];if(f){var F=S[0].width,H=b.width;$.push("scale(".concat((Ye(H)?H/F:1)/F,")"))}return k&&$.push("rotate(".concat(k,", ").concat(U,", ").concat(O,")")),$.length&&(j.transform=$.join(" ")),de.createElement("text",nw({},gt(j,!0),{x:U,y:O,className:kt("recharts-text",E),textAnchor:p,fill:v.includes("url")?y4:v}),S.map(function(R,B){var W=R.words.join(M?"":" ");return de.createElement("tspan",{x:U,dy:B===0?I:s,key:"".concat(W,"-").concat(B)},W)}))};function il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XS(t){let e,n,r;t.length!==2?(e=il,n=(s,l)=>il(t(s),l),r=(s,l)=>t(s)-l):(e=t===il||t===lpe?t:upe,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function upe(){return 0}function eL(t){return t===null?NaN:+t}function*cpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fpe=XS(il),xA=fpe.right;XS(eL).center;class b4 extends Map{constructor(e,n=ppe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(x4(this,e))}has(e){return super.has(x4(this,e))}set(e,n){return super.set(dpe(this,e),n)}delete(e){return super.delete(hpe(this,e))}}function x4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function dpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ppe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ape(t=il){if(t===il)return tL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function tL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mpe=Math.sqrt(50),gpe=Math.sqrt(10),vpe=Math.sqrt(2);function g0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=mpe?10:a>=gpe?5:a>=vpe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?g0(t,e,n*2):[s,l,u]}function rw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?g0(e,t,n):g0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function iw(t,e,n){return e=+e,t=+t,n=+n,g0(t,e,n)[2]}function aw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?iw(e,t,n):iw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function w4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function S4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function nL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?tL:Ape(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),y=Math.min(r,Math.floor(e+(l-u)*f/l+h));nL(t,e,p,y,i)}const a=t[e];let o=n,s=r;for(fh(t,n,e),i(t[r],a)>0&&fh(t,n,r);o<s;){for(fh(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?fh(t,n,s):(++s,fh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function fh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ype(t,e,n){if(t=Float64Array.from(cpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return S4(t);if(e>=1)return w4(t);var r,i=(r-1)*e,a=Math.floor(i),o=w4(nL(t,a).subarray(0,a+1)),s=S4(t.subarray(a+1));return o+(s-o)*(i-a)}}function bpe(t,e,n=eL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function xpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ha(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ss(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ow=Symbol("implicit");function QS(){var t=new b4,e=[],n=[],r=ow;function i(a){let o=t.get(a);if(o===void 0){if(r!==ow)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new b4;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return QS(e,n).unknown(r)},ha.apply(i,arguments),i}function Tp(){var t=QS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,x=p?r:i;a=(x-y)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),y+=(x-y-a*(h-l))*c,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var w=xpe(h).map(function(v){return y+a*v});return n(p?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Tp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ha.apply(f(),arguments)}function rL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return rL(e())},t}function Jh(){return rL(Tp.apply(null,arguments).paddingInner(1))}function ZS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function iL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wA(){}var Cp=.7,v0=1/Cp,uf="\\s*([+-]?\\d+)\\s*",Np="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wpe=/^#([0-9a-f]{3,8})$/,Spe=new RegExp(`^rgb\\(${uf},${uf},${uf}\\)$`),_pe=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),Tpe=new RegExp(`^rgba\\(${uf},${uf},${uf},${Np}\\)$`),Cpe=new RegExp(`^rgba\\(${so},${so},${so},${Np}\\)$`),Npe=new RegExp(`^hsl\\(${Np},${so},${so}\\)$`),Epe=new RegExp(`^hsla\\(${Np},${so},${so},${Np}\\)$`),_4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZS(wA,Ep,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:T4,formatHex:T4,formatHex8:kpe,formatHsl:Ppe,formatRgb:C4,toString:C4});function T4(){return this.rgb().formatHex()}function kpe(){return this.rgb().formatHex8()}function Ppe(){return aL(this).formatHsl()}function C4(){return this.rgb().formatRgb()}function Ep(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?N4(e):n===3?new ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Spe.exec(t))?new ci(e[1],e[2],e[3],1):(e=_pe.exec(t))?new ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tpe.exec(t))?Wm(e[1],e[2],e[3],e[4]):(e=Cpe.exec(t))?Wm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Npe.exec(t))?P4(e[1],e[2]/100,e[3]/100,1):(e=Epe.exec(t))?P4(e[1],e[2]/100,e[3]/100,e[4]):_4.hasOwnProperty(t)?N4(_4[t]):t==="transparent"?new ci(NaN,NaN,NaN,0):null}function N4(t){return new ci(t>>16&255,t>>8&255,t&255,1)}function Wm(t,e,n,r){return r<=0&&(t=e=n=NaN),new ci(t,e,n,r)}function Mpe(t){return t instanceof wA||(t=Ep(t)),t?(t=t.rgb(),new ci(t.r,t.g,t.b,t.opacity)):new ci}function sw(t,e,n,r){return arguments.length===1?Mpe(t):new ci(t,e,n,r??1)}function ci(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ZS(ci,sw,iL(wA,{brighter(t){return t=t==null?v0:Math.pow(v0,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cp:Math.pow(Cp,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ci(uu(this.r),uu(this.g),uu(this.b),y0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:E4,formatHex:E4,formatHex8:Ope,formatRgb:k4,toString:k4}));function E4(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}`}function Ope(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}${Xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function k4(){const t=y0(this.opacity);return`${t===1?"rgb(":"rgba("}${uu(this.r)}, ${uu(this.g)}, ${uu(this.b)}${t===1?")":`, ${t})`}`}function y0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function uu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xl(t){return t=uu(t),(t<16?"0":"")+t.toString(16)}function P4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ja(t,e,n,r)}function aL(t){if(t instanceof ja)return new ja(t.h,t.s,t.l,t.opacity);if(t instanceof wA||(t=Ep(t)),!t)return new ja;if(t instanceof ja)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ja(o,s,l,t.opacity)}function Ipe(t,e,n,r){return arguments.length===1?aL(t):new ja(t,e,n,r??1)}function ja(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ZS(ja,Ipe,iL(wA,{brighter(t){return t=t==null?v0:Math.pow(v0,t),new ja(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cp:Math.pow(Cp,t),new ja(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ci(L1(t>=240?t-240:t+120,i,r),L1(t,i,r),L1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ja(M4(this.h),Ym(this.s),Ym(this.l),y0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=y0(this.opacity);return`${t===1?"hsl(":"hsla("}${M4(this.h)}, ${Ym(this.s)*100}%, ${Ym(this.l)*100}%${t===1?")":`, ${t})`}`}}));function M4(t){return t=(t||0)%360,t<0?t+360:t}function Ym(t){return Math.max(0,Math.min(1,t||0))}function L1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const e_=t=>()=>t;function jpe(t,e){return function(n){return t+n*e}}function Dpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lpe(t){return(t=+t)==1?oL:function(e,n){return n-e?Dpe(e,n,t):e_(isNaN(e)?n:e)}}function oL(t,e){var n=e-t;return n?jpe(t,n):e_(isNaN(t)?e:t)}const O4=function t(e){var n=Lpe(e);function r(i,a){var o=n((i=sw(i)).r,(a=sw(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=oL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Rpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Fpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $pe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=gd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Bpe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function b0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Upe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R1=new RegExp(lw.source,"g");function qpe(t){return function(){return t}}function Hpe(t){return function(e){return t(e)+""}}function zpe(t,e){var n=lw.lastIndex=R1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=lw.exec(t))&&(i=R1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:b0(r,i)})),n=R1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Hpe(l[0].x):qpe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function gd(t,e){var n=typeof e,r;return e==null||n==="boolean"?e_(e):(n==="number"?b0:n==="string"?(r=Ep(e))?(e=r,O4):zpe:e instanceof Ep?O4:e instanceof Date?Bpe:Fpe(e)?Rpe:Array.isArray(e)?$pe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Upe:b0)(t,e)}function t_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Vpe(t,e){e===void 0&&(e=t,t=gd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Gpe(t){return function(){return t}}function x0(t){return+t}var I4=[0,1];function Kr(t){return t}function uw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gpe(isNaN(e)?NaN:.5)}function Wpe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ype(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=uw(i,r),a=n(o,a)):(r=uw(r,i),a=n(a,o)),function(s){return a(r(s))}}function Kpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=uw(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=xA(t,s,1,r)-1;return a[l](i[l](s))}}function SA(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ny(){var t=I4,e=I4,n=gd,r,i,a,o=Kr,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==Kr&&(o=Wpe(t[0],t[h-1])),s=h>2?Kpe:Ype,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),b0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,x0),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=t_,c()},f.clamp=function(h){return arguments.length?(o=h?!0:Kr,c()):o!==Kr},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,c()}}function n_(){return ny()(Kr,Kr)}function Jpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function w0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ef(t){return t=w0(Math.abs(t)),t?t[1]:NaN}function Xpe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Qpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kp(t){if(!(e=Zpe.exec(t)))throw new Error("invalid format: "+t);var e;return new r_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kp.prototype=r_.prototype;function r_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}r_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eAe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var sL;function tAe(t,e){var n=w0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(sL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+w0(t,Math.max(0,e+a-1))[0]}function j4(t,e){var n=w0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const D4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>j4(t*100,e),r:j4,s:tAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function L4(t){return t}var R4=Array.prototype.map,F4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nAe(t){var e=t.grouping===void 0||t.thousands===void 0?L4:Xpe(R4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?L4:Qpe(R4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=kp(f);var h=f.fill,p=f.align,y=f.sign,x=f.symbol,w=f.zero,v=f.width,b=f.comma,S=f.precision,T=f.trim,C=f.type;C==="n"?(b=!0,C="g"):D4[C]||(S===void 0&&(S=12),T=!0,C="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var k=x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=x==="$"?r:/[%p]/.test(C)?o:"",M=D4[C],j=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function U(O){var I=k,$=E,F,H,R;if(C==="c")$=M(O)+$,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?l:M(Math.abs(O),S),T&&(O=eAe(O)),B&&+O==0&&y!=="+"&&(B=!1),I=(B?y==="("?y:s:y==="-"||y==="("?"":y)+I,$=(C==="s"?F4[8+sL/3]:"")+$+(B&&y==="("?")":""),j){for(F=-1,H=O.length;++F<H;)if(R=O.charCodeAt(F),48>R||R>57){$=(R===46?i+O.slice(F+1):O.slice(F))+$,O=O.slice(0,F);break}}}b&&!w&&(O=e(O,1/0));var W=I.length+O.length+$.length,K=W<v?new Array(v-W+1).join(h):"";switch(b&&w&&(O=e(K+O,K.length?v-$.length:1/0),K=""),p){case"<":O=I+O+$+K;break;case"=":O=I+K+O+$;break;case"^":O=K.slice(0,W=K.length>>1)+I+O+$+K.slice(W);break;default:O=K+I+O+$;break}return a(O)}return U.toString=function(){return f+""},U}function c(f,h){var p=u((f=kp(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ef(h)/3)))*3,x=Math.pow(10,-y),w=F4[8+y/3];return function(v){return p(x*v)+w}}return{format:u,formatPrefix:c}}var Km,i_,lL;rAe({thousands:",",grouping:[3],currency:["$",""]});function rAe(t){return Km=nAe(t),i_=Km.format,lL=Km.formatPrefix,Km}function iAe(t){return Math.max(0,-Ef(Math.abs(t)))}function aAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ef(e)/3)))*3-Ef(Math.abs(t)))}function oAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ef(e)-Ef(t))+1}function uL(t,e,n,r){var i=aw(t,e,n),a;switch(r=kp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=aAe(i,o))&&(r.precision=a),lL(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=oAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=iAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return i_(r)}function vl(t){var e=t.domain;return t.ticks=function(n){var r=e();return rw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return uL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=iw(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function S0(){var t=n_();return t.copy=function(){return SA(t,S0())},ha.apply(t,arguments),vl(t)}function cL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,x0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return cL(t).unknown(e)},t=arguments.length?Array.from(t,x0):[0,1],vl(n)}function fL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function $4(t){return Math.log(t)}function B4(t){return Math.exp(t)}function sAe(t){return-Math.log(-t)}function lAe(t){return-Math.exp(-t)}function uAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cAe(t){return t===10?uAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function U4(t){return(e,n)=>-t(-e,n)}function a_(t){const e=t($4,B4),n=e.domain;let r=10,i,a;function o(){return i=fAe(r),a=cAe(r),n()[0]<0?(i=U4(i),a=U4(a),t(sAe,lAe)):t($4,B4),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),y,x;const w=s==null?10:+s;let v=[];if(!(r%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<r;++y)if(x=h<0?y/a(-h):y*a(h),!(x<u)){if(x>c)break;v.push(x)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(x=h>0?y/a(-h):y*a(h),!(x<u)){if(x>c)break;v.push(x)}v.length*2<w&&(v=rw(u,c,w))}else v=rw(h,p,Math.min(p-h,w)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=kp(l)).precision==null&&(l.trim=!0),l=i_(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(fL(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function dL(){const t=a_(ny()).domain([1,10]);return t.copy=()=>SA(t,dL()).base(t.base()),ha.apply(t,arguments),t}function q4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function o_(t){var e=1,n=t(q4(e),H4(e));return n.constant=function(r){return arguments.length?t(q4(e=+r),H4(e)):e},vl(n)}function hL(){var t=o_(ny());return t.copy=function(){return SA(t,hL()).constant(t.constant())},ha.apply(t,arguments)}function z4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hAe(t){return t<0?-t*t:t*t}function s_(t){var e=t(Kr,Kr),n=1;function r(){return n===1?t(Kr,Kr):n===.5?t(dAe,hAe):t(z4(n),z4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},vl(e)}function l_(){var t=s_(ny());return t.copy=function(){return SA(t,l_()).exponent(t.exponent())},ha.apply(t,arguments),t}function pAe(){return l_.apply(null,arguments).exponent(.5)}function V4(t){return Math.sign(t)*t*t}function AAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function pL(){var t=n_(),e=[0,1],n=!1,r;function i(a){var o=AAe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(V4(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,x0)).map(V4)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ha.apply(i,arguments),vl(i)}function AL(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=bpe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[xA(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(il),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return AL().domain(t).range(e).unknown(r)},ha.apply(a,arguments)}function mL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[xA(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return mL().domain([t,e]).range(i).unknown(a)},ha.apply(vl(o),arguments)}function gL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[xA(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return gL().domain(t).range(e).unknown(n)},ha.apply(i,arguments)}const F1=new Date,$1=new Date;function dr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>dr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(F1.setTime(+a),$1.setTime(+o),t(F1),t($1),Math.floor(n(F1,$1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const _0=dr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_0);_0.range;const Bo=1e3,aa=Bo*60,Uo=aa*60,Zo=Uo*24,u_=Zo*7,G4=Zo*30,B1=Zo*365,Ql=dr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCSeconds());Ql.range;const c_=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getMinutes());c_.range;const f_=dr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCMinutes());f_.range;const d_=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo-t.getMinutes()*aa)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getHours());d_.range;const h_=dr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCHours());h_.range;const _A=dr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*aa)/Zo,t=>t.getDate()-1);_A.range;const ry=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);ry.range;const vL=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));vL.range;function Iu(t){return dr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*aa)/u_)}const iy=Iu(0),T0=Iu(1),mAe=Iu(2),gAe=Iu(3),kf=Iu(4),vAe=Iu(5),yAe=Iu(6);iy.range;T0.range;mAe.range;gAe.range;kf.range;vAe.range;yAe.range;function ju(t){return dr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/u_)}const ay=ju(0),C0=ju(1),bAe=ju(2),xAe=ju(3),Pf=ju(4),wAe=ju(5),SAe=ju(6);ay.range;C0.range;bAe.range;xAe.range;Pf.range;wAe.range;SAe.range;const p_=dr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());p_.range;const A_=dr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());A_.range;const es=dr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());es.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});es.range;const ts=dr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ts.range;function yL(t,e,n,r,i,a){const o=[[Ql,1,Bo],[Ql,5,5*Bo],[Ql,15,15*Bo],[Ql,30,30*Bo],[a,1,aa],[a,5,5*aa],[a,15,15*aa],[a,30,30*aa],[i,1,Uo],[i,3,3*Uo],[i,6,6*Uo],[i,12,12*Uo],[r,1,Zo],[r,2,2*Zo],[n,1,u_],[e,1,G4],[e,3,3*G4],[t,1,B1]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),y=p?p.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,f){const h=Math.abs(c-u)/f,p=XS(([,,w])=>w).right(o,h);if(p===o.length)return t.every(aw(u/B1,c/B1,f));if(p===0)return _0.every(Math.max(aw(u,c,f),1));const[y,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(x)}return[s,l]}const[_Ae,TAe]=yL(ts,A_,ay,vL,h_,f_),[CAe,NAe]=yL(es,p_,iy,_A,d_,c_);function U1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function q1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function EAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=hh(i),c=ph(i),f=hh(a),h=ph(a),p=hh(o),y=ph(o),x=hh(s),w=ph(s),v=hh(l),b=ph(l),S={a:B,A:W,b:K,B:Z,c:null,d:Q4,e:Q4,f:XAe,g:sme,G:ume,H:YAe,I:KAe,j:JAe,L:bL,m:QAe,M:ZAe,p:oe,q:L,Q:t3,s:n3,S:eme,u:tme,U:nme,V:rme,w:ime,W:ame,x:null,X:null,y:ome,Y:lme,Z:cme,"%":e3},T={a:z,A:Q,b:te,B:ie,c:null,d:Z4,e:Z4,f:pme,g:_me,G:Cme,H:fme,I:dme,j:hme,L:wL,m:Ame,M:mme,p:ge,q:pe,Q:t3,s:n3,S:gme,u:vme,U:yme,V:bme,w:xme,W:wme,x:null,X:null,y:Sme,Y:Tme,Z:Nme,"%":e3},C={a:U,A:O,b:I,B:$,c:F,d:J4,e:J4,f:zAe,g:K4,G:Y4,H:X4,I:X4,j:BAe,L:HAe,m:$Ae,M:UAe,p:j,q:FAe,Q:GAe,s:WAe,S:qAe,u:IAe,U:jAe,V:DAe,w:OAe,W:LAe,x:H,X:R,y:K4,Y:Y4,Z:RAe,"%":VAe};S.x=k(n,S),S.X=k(r,S),S.c=k(e,S),T.x=k(n,T),T.X=k(r,T),T.c=k(e,T);function k(G,le){return function(ce){var ue=[],Te=-1,Re=0,_e=G.length,ae,Ee,ke;for(ce instanceof Date||(ce=new Date(+ce));++Te<_e;)G.charCodeAt(Te)===37&&(ue.push(G.slice(Re,Te)),(Ee=W4[ae=G.charAt(++Te)])!=null?ae=G.charAt(++Te):Ee=ae==="e"?" ":"0",(ke=le[ae])&&(ae=ke(ce,Ee)),ue.push(ae),Re=Te+1);return ue.push(G.slice(Re,Te)),ue.join("")}}function E(G,le){return function(ce){var ue=dh(1900,void 0,1),Te=M(ue,G,ce+="",0),Re,_e;if(Te!=ce.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(le&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Re=q1(dh(ue.y,0,1)),_e=Re.getUTCDay(),Re=_e>4||_e===0?C0.ceil(Re):C0(Re),Re=ry.offset(Re,(ue.V-1)*7),ue.y=Re.getUTCFullYear(),ue.m=Re.getUTCMonth(),ue.d=Re.getUTCDate()+(ue.w+6)%7):(Re=U1(dh(ue.y,0,1)),_e=Re.getDay(),Re=_e>4||_e===0?T0.ceil(Re):T0(Re),Re=_A.offset(Re,(ue.V-1)*7),ue.y=Re.getFullYear(),ue.m=Re.getMonth(),ue.d=Re.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),_e="Z"in ue?q1(dh(ue.y,0,1)).getUTCDay():U1(dh(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(_e+5)%7:ue.w+ue.U*7-(_e+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,q1(ue)):U1(ue)}}function M(G,le,ce,ue){for(var Te=0,Re=le.length,_e=ce.length,ae,Ee;Te<Re;){if(ue>=_e)return-1;if(ae=le.charCodeAt(Te++),ae===37){if(ae=le.charAt(Te++),Ee=C[ae in W4?le.charAt(Te++):ae],!Ee||(ue=Ee(G,ce,ue))<0)return-1}else if(ae!=ce.charCodeAt(ue++))return-1}return ue}function j(G,le,ce){var ue=u.exec(le.slice(ce));return ue?(G.p=c.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function U(G,le,ce){var ue=p.exec(le.slice(ce));return ue?(G.w=y.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function O(G,le,ce){var ue=f.exec(le.slice(ce));return ue?(G.w=h.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function I(G,le,ce){var ue=v.exec(le.slice(ce));return ue?(G.m=b.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function $(G,le,ce){var ue=x.exec(le.slice(ce));return ue?(G.m=w.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function F(G,le,ce){return M(G,e,le,ce)}function H(G,le,ce){return M(G,n,le,ce)}function R(G,le,ce){return M(G,r,le,ce)}function B(G){return o[G.getDay()]}function W(G){return a[G.getDay()]}function K(G){return l[G.getMonth()]}function Z(G){return s[G.getMonth()]}function oe(G){return i[+(G.getHours()>=12)]}function L(G){return 1+~~(G.getMonth()/3)}function z(G){return o[G.getUTCDay()]}function Q(G){return a[G.getUTCDay()]}function te(G){return l[G.getUTCMonth()]}function ie(G){return s[G.getUTCMonth()]}function ge(G){return i[+(G.getUTCHours()>=12)]}function pe(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var le=k(G+="",S);return le.toString=function(){return G},le},parse:function(G){var le=E(G+="",!1);return le.toString=function(){return G},le},utcFormat:function(G){var le=k(G+="",T);return le.toString=function(){return G},le},utcParse:function(G){var le=E(G+="",!0);return le.toString=function(){return G},le}}}var W4={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,kAe=/^%/,PAe=/[\\^$*+?|[\]().{}]/g;function qt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function MAe(t){return t.replace(PAe,"\\$&")}function hh(t){return new RegExp("^(?:"+t.map(MAe).join("|")+")","i")}function ph(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function OAe(t,e,n){var r=xr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function IAe(t,e,n){var r=xr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jAe(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function DAe(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function LAe(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Y4(t,e,n){var r=xr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function K4(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function RAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function FAe(t,e,n){var r=xr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $Ae(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function J4(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function BAe(t,e,n){var r=xr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function X4(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function UAe(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qAe(t,e,n){var r=xr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function HAe(t,e,n){var r=xr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zAe(t,e,n){var r=xr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function VAe(t,e,n){var r=kAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function GAe(t,e,n){var r=xr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function WAe(t,e,n){var r=xr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Q4(t,e){return qt(t.getDate(),e,2)}function YAe(t,e){return qt(t.getHours(),e,2)}function KAe(t,e){return qt(t.getHours()%12||12,e,2)}function JAe(t,e){return qt(1+_A.count(es(t),t),e,3)}function bL(t,e){return qt(t.getMilliseconds(),e,3)}function XAe(t,e){return bL(t,e)+"000"}function QAe(t,e){return qt(t.getMonth()+1,e,2)}function ZAe(t,e){return qt(t.getMinutes(),e,2)}function eme(t,e){return qt(t.getSeconds(),e,2)}function tme(t){var e=t.getDay();return e===0?7:e}function nme(t,e){return qt(iy.count(es(t)-1,t),e,2)}function xL(t){var e=t.getDay();return e>=4||e===0?kf(t):kf.ceil(t)}function rme(t,e){return t=xL(t),qt(kf.count(es(t),t)+(es(t).getDay()===4),e,2)}function ime(t){return t.getDay()}function ame(t,e){return qt(T0.count(es(t)-1,t),e,2)}function ome(t,e){return qt(t.getFullYear()%100,e,2)}function sme(t,e){return t=xL(t),qt(t.getFullYear()%100,e,2)}function lme(t,e){return qt(t.getFullYear()%1e4,e,4)}function ume(t,e){var n=t.getDay();return t=n>=4||n===0?kf(t):kf.ceil(t),qt(t.getFullYear()%1e4,e,4)}function cme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qt(e/60|0,"0",2)+qt(e%60,"0",2)}function Z4(t,e){return qt(t.getUTCDate(),e,2)}function fme(t,e){return qt(t.getUTCHours(),e,2)}function dme(t,e){return qt(t.getUTCHours()%12||12,e,2)}function hme(t,e){return qt(1+ry.count(ts(t),t),e,3)}function wL(t,e){return qt(t.getUTCMilliseconds(),e,3)}function pme(t,e){return wL(t,e)+"000"}function Ame(t,e){return qt(t.getUTCMonth()+1,e,2)}function mme(t,e){return qt(t.getUTCMinutes(),e,2)}function gme(t,e){return qt(t.getUTCSeconds(),e,2)}function vme(t){var e=t.getUTCDay();return e===0?7:e}function yme(t,e){return qt(ay.count(ts(t)-1,t),e,2)}function SL(t){var e=t.getUTCDay();return e>=4||e===0?Pf(t):Pf.ceil(t)}function bme(t,e){return t=SL(t),qt(Pf.count(ts(t),t)+(ts(t).getUTCDay()===4),e,2)}function xme(t){return t.getUTCDay()}function wme(t,e){return qt(C0.count(ts(t)-1,t),e,2)}function Sme(t,e){return qt(t.getUTCFullYear()%100,e,2)}function _me(t,e){return t=SL(t),qt(t.getUTCFullYear()%100,e,2)}function Tme(t,e){return qt(t.getUTCFullYear()%1e4,e,4)}function Cme(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pf(t):Pf.ceil(t),qt(t.getUTCFullYear()%1e4,e,4)}function Nme(){return"+0000"}function e3(){return"%"}function t3(t){return+t}function n3(t){return Math.floor(+t/1e3)}var wc,_L,TL;Eme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eme(t){return wc=EAe(t),_L=wc.format,wc.parse,TL=wc.utcFormat,wc.utcParse,wc}function kme(t){return new Date(t)}function Pme(t){return t instanceof Date?+t:+new Date(+t)}function m_(t,e,n,r,i,a,o,s,l,u){var c=n_(),f=c.invert,h=c.domain,p=u(".%L"),y=u(":%S"),x=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),b=u("%b %d"),S=u("%B"),T=u("%Y");function C(k){return(l(k)<k?p:s(k)<k?y:o(k)<k?x:a(k)<k?w:r(k)<k?i(k)<k?v:b:n(k)<k?S:T)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?h(Array.from(k,Pme)):h().map(kme)},c.ticks=function(k){var E=h();return t(E[0],E[E.length-1],k??10)},c.tickFormat=function(k,E){return E==null?C:u(E)},c.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?h(fL(E,k)):c},c.copy=function(){return SA(c,m_(t,e,n,r,i,a,o,s,l,u))},c}function Mme(){return ha.apply(m_(CAe,NAe,es,p_,iy,_A,d_,c_,Ql,_L).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ome(){return ha.apply(m_(_Ae,TAe,ts,A_,ay,ry,h_,f_,Ql,TL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oy(){var t=0,e=1,n,r,i,a,o=Kr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=c(gd),u.rangeRound=c(t_),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function yl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function CL(){var t=vl(oy()(Kr));return t.copy=function(){return yl(t,CL())},ss.apply(t,arguments)}function NL(){var t=a_(oy()).domain([1,10]);return t.copy=function(){return yl(t,NL()).base(t.base())},ss.apply(t,arguments)}function EL(){var t=o_(oy());return t.copy=function(){return yl(t,EL()).constant(t.constant())},ss.apply(t,arguments)}function g_(){var t=s_(oy());return t.copy=function(){return yl(t,g_()).exponent(t.exponent())},ss.apply(t,arguments)}function Ime(){return g_.apply(null,arguments).exponent(.5)}function kL(){var t=[],e=Kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((xA(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(il),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ype(t,a/r))},n.copy=function(){return kL(e).domain(t)},ss.apply(n,arguments)}function sy(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Kr,c,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+c(x))-a)*(r*x<r*a?s:l),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,n]=x,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function y(x){return function(w){var v,b,S;return arguments.length?([v,b,S]=w,u=Vpe(x,[v,b,S]),p):[u(0),u(.5),u(1)]}}return p.range=y(gd),p.rangeRound=y(t_),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return c=x,i=x(t),a=x(e),o=x(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function PL(){var t=vl(sy()(Kr));return t.copy=function(){return yl(t,PL())},ss.apply(t,arguments)}function ML(){var t=a_(sy()).domain([.1,1,10]);return t.copy=function(){return yl(t,ML()).base(t.base())},ss.apply(t,arguments)}function OL(){var t=o_(sy());return t.copy=function(){return yl(t,OL()).constant(t.constant())},ss.apply(t,arguments)}function v_(){var t=s_(sy());return t.copy=function(){return yl(t,v_()).exponent(t.exponent())},ss.apply(t,arguments)}function jme(){return v_.apply(null,arguments).exponent(.5)}const r3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tp,scaleDiverging:PL,scaleDivergingLog:ML,scaleDivergingPow:v_,scaleDivergingSqrt:jme,scaleDivergingSymlog:OL,scaleIdentity:cL,scaleImplicit:ow,scaleLinear:S0,scaleLog:dL,scaleOrdinal:QS,scalePoint:Jh,scalePow:l_,scaleQuantile:AL,scaleQuantize:mL,scaleRadial:pL,scaleSequential:CL,scaleSequentialLog:NL,scaleSequentialPow:g_,scaleSequentialQuantile:kL,scaleSequentialSqrt:Ime,scaleSequentialSymlog:EL,scaleSqrt:pAe,scaleSymlog:hL,scaleThreshold:gL,scaleTime:Mme,scaleUtc:Ome,tickFormat:uL},Symbol.toStringTag,{value:"Module"}));var Dme=ld;function Lme(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Dme(o):n(o,s)))var s=o,l=a}return l}var ly=Lme;function Rme(t,e){return t>e}var IL=Rme,Fme=ly,$me=IL,Bme=Ad;function Ume(t){return t&&t.length?Fme(t,Bme,$me):void 0}var qme=Ume;const uy=Gt(qme);function Hme(t,e){return t<e}var jL=Hme,zme=ly,Vme=jL,Gme=Ad;function Wme(t){return t&&t.length?zme(t,Gme,Vme):void 0}var Yme=Wme;const cy=Gt(Yme);var Kme=OS,Jme=Ao,Xme=qD,Qme=Ai;function Zme(t,e){var n=Qme(t)?Kme:Xme;return n(t,Jme(e))}var ege=Zme,tge=BD,nge=ege;function rge(t,e){return tge(nge(t,e),1)}var ige=rge;const age=Gt(ige);var oge=WS;function sge(t,e){return oge(t,e)}var lge=sge;const fy=Gt(lge);var vd=1e9,uge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},b_,En=!0,fa="[DecimalError] ",cu=fa+"Invalid argument: ",y_=fa+"Exponent out of range: ",yd=Math.floor,Gl=Math.pow,cge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ni,mr=1e7,wn=7,DL=9007199254740991,N0=yd(DL/wn),it={};it.absoluteValue=it.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};it.comparedTo=it.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};it.decimalPlaces=it.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};it.dividedBy=it.div=function(t){return Wo(this,new this.constructor(t))};it.dividedToIntegerBy=it.idiv=function(t){var e=this,n=e.constructor;return un(Wo(e,new n(t),0,1),n.precision)};it.equals=it.eq=function(t){return!this.cmp(t)};it.exponent=function(){return er(this)};it.greaterThan=it.gt=function(t){return this.cmp(t)>0};it.greaterThanOrEqualTo=it.gte=function(t){return this.cmp(t)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(t){return this.cmp(t)<0};it.lessThanOrEqualTo=it.lte=function(t){return this.cmp(t)<1};it.logarithm=it.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ni))throw Error(fa+"NaN");if(n.s<1)throw Error(fa+(n.s?"NaN":"-Infinity"));return n.eq(Ni)?new r(0):(En=!1,e=Wo(Pp(n,a),Pp(t,a),a),En=!0,un(e,i))};it.minus=it.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FL(e,t):LL(e,(t.s=-t.s,t))};it.modulo=it.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(fa+"NaN");return n.s?(En=!1,e=Wo(n,t,0,1).times(t),En=!0,n.minus(e)):un(new r(n),i)};it.naturalExponential=it.exp=function(){return RL(this)};it.naturalLogarithm=it.ln=function(){return Pp(this)};it.negated=it.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};it.plus=it.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?LL(e,t):FL(e,(t.s=-t.s,t))};it.precision=it.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cu+t);if(e=er(i)+1,r=i.d.length-1,n=r*wn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};it.squareRoot=it.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(fa+"NaN")}for(t=er(s),En=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=io(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Wo(s,a,o+2)).times(.5),io(a.d).slice(0,o)===(e=io(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(un(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return En=!0,un(r,n)};it.times=it.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+e,a[i--]=s%mr|0,e=s/mr|0;a[i]=(a[i]+e)%mr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,En?un(t,f.precision):t};it.toDecimalPlaces=it.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(uo(t,0,vd),e===void 0?e=r.rounding:uo(e,0,8),un(n,t+er(n)+1,e))};it.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bu(r,!0):(uo(t,0,vd),e===void 0?e=i.rounding:uo(e,0,8),r=un(new i(r),t+1,e),n=bu(r,!0,t+1)),n};it.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?bu(i):(uo(t,0,vd),e===void 0?e=a.rounding:uo(e,0,8),r=un(new a(i),t+er(i)+1,e),n=bu(r.abs(),!1,t+er(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};it.toInteger=it.toint=function(){var t=this,e=t.constructor;return un(new e(t),er(t)+1,e.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Ni);if(s=new l(s),!s.s){if(t.s<1)throw Error(fa+"Infinity");return s}if(s.eq(Ni))return s;if(r=l.precision,t.eq(Ni))return un(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=DL){for(i=new l(Ni),e=Math.ceil(r/wn+4),En=!1;n%2&&(i=i.times(s),a3(i.d,e)),n=yd(n/2),n!==0;)s=s.times(s),a3(s.d,e);return En=!0,t.s<0?new l(Ni).div(i):un(i,r)}}else if(a<0)throw Error(fa+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,En=!1,i=t.times(Pp(s,r+u)),En=!0,i=RL(i),i.s=a,i};it.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=er(i),r=bu(i,n<=a.toExpNeg||n>=a.toExpPos)):(uo(t,1,vd),e===void 0?e=a.rounding:uo(e,0,8),i=un(new a(i),t,e),n=er(i),r=bu(i,t<=n||n<=a.toExpNeg,t)),r};it.toSignificantDigits=it.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(uo(t,1,vd),e===void 0?e=r.rounding:uo(e,0,8)),un(new r(n),t,e)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=er(t),n=t.constructor;return bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function LL(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),En?un(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/wn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/mr|0,l[a]%=mr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,En?un(e,f):e}function uo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cu+t)}function io(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=wn-r.length,n&&(a+=Ms(n)),a+=r;o=t[e],r=o+"",n=wn-r.length,n&&(a+=Ms(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Wo=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%mr|0,o=a/mr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*mr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,p,y,x,w,v,b,S,T,C,k,E,M,j=r.constructor,U=r.s==i.s?1:-1,O=r.d,I=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(fa+"Division by zero");for(l=r.e-i.e,E=I.length,C=O.length,p=new j(U),y=p.d=[],u=0;I[u]==(O[u]||0);)++u;if(I[u]>(O[u]||0)&&--l,a==null?b=a=j.precision:o?b=a+(er(r)-er(i))+1:b=a,b<0)return new j(0);if(b=b/wn+2|0,u=0,E==1)for(c=0,I=I[0],b++;(u<C||c)&&b--;u++)S=c*mr+(O[u]||0),y[u]=S/I|0,c=S%I|0;else{for(c=mr/(I[0]+1)|0,c>1&&(I=t(I,c),O=t(O,c),E=I.length,C=O.length),T=E,x=O.slice(0,E),w=x.length;w<E;)x[w++]=0;M=I.slice(),M.unshift(0),k=I[0],I[1]>=mr/2&&++k;do c=0,s=e(I,x,E,w),s<0?(v=x[0],E!=w&&(v=v*mr+(x[1]||0)),c=v/k|0,c>1?(c>=mr&&(c=mr-1),f=t(I,c),h=f.length,w=x.length,s=e(f,x,h,w),s==1&&(c--,n(f,E<h?M:I,h))):(c==0&&(s=c=1),f=I.slice()),h=f.length,h<w&&f.unshift(0),n(x,f,w),s==-1&&(w=x.length,s=e(I,x,E,w),s<1&&(c++,n(x,E<w?M:I,w))),w=x.length):s===0&&(c++,x=[0]),y[u++]=c,s&&x[0]?x[w++]=O[T]||0:(x=[O[T]],w=1);while((T++<C||x[0]!==void 0)&&b--)}return y[0]||y.shift(),p.e=l,un(p,o?a+er(p)+1:a)}}();function RL(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(er(t)>16)throw Error(y_+er(t));if(!t.s)return new c(Ni);for(En=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Gl(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Ni),c.precision=s;;){if(i=un(i.times(t),s),n=n.times(++l),o=a.plus(Wo(i,n,s)),io(o.d).slice(0,s)===io(a.d).slice(0,s)){for(;u--;)a=un(a.times(a),s);return c.precision=f,e==null?(En=!0,un(a,f)):a}a=o}}function er(t){for(var e=t.e*wn,n=t.d[0];n>=10;n/=10)e++;return e}function H1(t,e,n){if(e>t.LN10.sd())throw En=!0,n&&(t.precision=n),Error(fa+"LN10 precision limit exceeded");return un(new t(t.LN10),e)}function Ms(t){for(var e="";t--;)e+="0";return e}function Pp(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,p=t,y=p.d,x=p.constructor,w=x.precision;if(p.s<1)throw Error(fa+(p.s?"NaN":"-Infinity"));if(p.eq(Ni))return new x(0);if(e==null?(En=!1,u=w):u=e,p.eq(10))return e==null&&(En=!0),H1(x,u);if(u+=h,x.precision=u,n=io(y),r=n.charAt(0),a=er(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=io(p.d),r=n.charAt(0),f++;a=er(p),r>1?(p=new x("0."+n),a++):p=new x(r+"."+n.slice(1))}else return l=H1(x,u+2,w).times(a+""),p=Pp(new x(r+"."+n.slice(1)),u-h).plus(l),x.precision=w,e==null?(En=!0,un(p,w)):p;for(s=o=p=Wo(p.minus(Ni),p.plus(Ni),u),c=un(p.times(p),u),i=3;;){if(o=un(o.times(c),u),l=s.plus(Wo(o,new x(i),u)),io(l.d).slice(0,u)===io(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(H1(x,u+2,w).times(a+""))),s=Wo(s,new x(f),u),x.precision=w,e==null?(En=!0,un(s,w)):s;s=l,i+=2}}function i3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yd(n/wn),t.d=[],r=(n+1)%wn,n<0&&(r+=wn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=wn;r<i;)t.d.push(+e.slice(r,r+=wn));e=e.slice(r),r=wn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),En&&(t.e>N0||t.e<-N0))throw Error(y_+n)}else t.s=0,t.e=0,t.d=[0];return t}function un(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=wn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/wn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=wn,i=r-wn+o}if(n!==void 0&&(a=Gl(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Gl(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=er(t),f.length=1,e=e-a-1,f[0]=Gl(10,(wn-e%wn)%wn),t.e=yd(-e/wn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Gl(10,wn-r),f[c]=i>0?(u/Gl(10,o-i)%Gl(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==mr&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=mr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(En&&(t.e>N0||t.e<-N0))throw Error(y_+er(t));return t}function FL(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),En?un(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/wn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=mr-1;--l[a],l[i]+=mr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,En?un(e,p):e):new h(0)}function bu(t,e,n){var r,i=er(t),a=io(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ms(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ms(-i-1)+a,n&&(r=n-o)>0&&(a+=Ms(r))):i>=o?(a+=Ms(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ms(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ms(r))),t.s<0?"-"+a:a}function a3(t,e){if(t.length>e)return t.length=e,!0}function $L(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(cu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return i3(o,a.toString())}else if(typeof a!="string")throw Error(cu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,cge.test(a))i3(o,a);else throw Error(cu+a)}if(i.prototype=it,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$L,i.config=i.set=fge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fge(t){if(!t||typeof t!="object")throw Error(fa+"Object expected");var e,n,r,i=["precision",1,vd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(cu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cu+n+": "+r);return this}var b_=$L(uge);Ni=new b_(1);const rn=b_;function dge(t){return mge(t)||Age(t)||pge(t)||hge()}function hge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pge(t,e){if(t){if(typeof t=="string")return cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,e)}}function Age(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mge(t){if(Array.isArray(t))return cw(t)}function cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gge=function(e){return e},BL={},UL=function(e){return e===BL},o3=function(e){return function n(){return arguments.length===0||arguments.length===1&&UL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vge=function t(e,n){return e===1?n:o3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==BL}).length;return o>=e?n.apply(void 0,i):t(e-o,o3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return UL(f)?l.shift():f});return n.apply(void 0,dge(c).concat(l))}))})},dy=function(e){return vge(e.length,e)},fw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},yge=dy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),bge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return gge;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},dw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function xge(t){var e;return t===0?e=1:e=Math.floor(new rn(t).abs().log(10).toNumber())+1,e}function wge(t,e,n){for(var r=new rn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Sge=dy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_ge=dy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Tge=dy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const hy={rangeStep:wge,getDigitCount:xge,interpolateNumber:Sge,uninterpolateNumber:_ge,uninterpolateTruncation:Tge};function hw(t){return Ege(t)||Nge(t)||HL(t)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ege(t){if(Array.isArray(t))return pw(t)}function Mp(t,e){return Mge(t)||Pge(t,e)||HL(t,e)||kge()}function kge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HL(t,e){if(t){if(typeof t=="string")return pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pw(t,e)}}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Mge(t){if(Array.isArray(t))return t}function zL(t){var e=Mp(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function VL(t,e,n){if(t.lte(0))return new rn(0);var r=hy.getDigitCount(t.toNumber()),i=new rn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new rn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new rn(Math.ceil(l))}function Oge(t,e,n){var r=1,i=new rn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new rn(10).pow(hy.getDigitCount(t)-1),i=new rn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new rn(Math.floor(t)))}else t===0?i=new rn(Math.floor((e-1)/2)):n||(i=new rn(Math.floor(t)));var o=Math.floor((e-1)/2),s=bge(yge(function(l){return i.add(new rn(l-o).mul(r)).toNumber()}),fw);return s(0,e)}function GL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new rn(0),tickMin:new rn(0),tickMax:new rn(0)};var a=VL(new rn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new rn(0):(o=new rn(t).add(e).div(2),o=o.sub(new rn(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new rn(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?GL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new rn(s).mul(a)),tickMax:o.add(new rn(l).mul(a))})}function Ige(t){var e=Mp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=zL([n,r]),l=Mp(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(hw(fw(0,i-1).map(function(){return 1/0}))):[].concat(hw(fw(0,i-1).map(function(){return-1/0})),[c]);return n>r?dw(f):f}if(u===c)return Oge(u,i,a);var h=GL(u,c,o,a),p=h.step,y=h.tickMin,x=h.tickMax,w=hy.rangeStep(y,x.add(new rn(.1).mul(p)),p);return n>r?dw(w):w}function jge(t,e){var n=Mp(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=zL([r,i]),s=Mp(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=VL(new rn(u).sub(l).div(c-1),a,0),h=[].concat(hw(hy.rangeStep(new rn(l),new rn(u).sub(new rn(.99).mul(f)),f)),[u]);return r>i?dw(h):h}var Dge=qL(Ige),Lge=qL(jge),Rge="Invariant failed";function xu(t,e){throw new Error(Rge)}var Fge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E0.apply(this,arguments)}function $ge(t,e){return Hge(t)||qge(t,e)||Uge(t,e)||Bge()}function Bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uge(t,e){if(t){if(typeof t=="string")return s3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(t,e)}}function s3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hge(t){if(Array.isArray(t))return t}function zge(t,e){if(t==null)return{};var n=Vge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KL(r.key),r)}}function Yge(t,e,n){return e&&Wge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kge(t,e,n){return e=k0(e),Jge(t,WL()?Reflect.construct(e,n||[],k0(t).constructor):e.apply(t,n))}function Jge(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xge(t)}function Xge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function Qge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function YL(t,e,n){return e=KL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KL(t){var e=Zge(t,"string");return Mf(e)=="symbol"?e:e+""}function Zge(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var py=function(t){function e(){return Gge(this,e),Kge(this,e,arguments)}return Qge(e,t),Yge(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=zge(r,Fge),p=gt(h,!1);this.props.direction==="x"&&c.type!=="number"&&xu();var y=l.map(function(x){var w=u(x,s),v=w.x,b=w.y,S=w.value,T=w.errorVal;if(!T)return null;var C=[],k,E;if(Array.isArray(T)){var M=$ge(T,2);k=M[0],E=M[1]}else k=E=T;if(a==="vertical"){var j=c.scale,U=b+i,O=U+o,I=U-o,$=j(S-k),F=j(S+E);C.push({x1:F,y1:O,x2:F,y2:I}),C.push({x1:$,y1:U,x2:F,y2:U}),C.push({x1:$,y1:O,x2:$,y2:I})}else if(a==="horizontal"){var H=f.scale,R=v+i,B=R-o,W=R+o,K=H(S-k),Z=H(S+E);C.push({x1:B,y1:Z,x2:W,y2:Z}),C.push({x1:R,y1:K,x2:R,y2:Z}),C.push({x1:B,y1:K,x2:W,y2:K})}return de.createElement(Qt,E0({className:"recharts-errorBar",key:"bar-".concat(C.map(function(oe){return"".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))},p),C.map(function(oe){return de.createElement("line",E0({},oe,{key:"line-".concat(oe.x1,"-").concat(oe.x2,"-").concat(oe.y1,"-").concat(oe.y2)}))}))});return de.createElement(Qt,{className:"recharts-errorBars"},y)}}])}(de.Component);YL(py,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YL(py,"displayName","ErrorBar");function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return Op(e)=="symbol"?e:e+""}function n0e(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Si(n,rl);if(!o)return null;var s=rl.defaultProps,l=s!==void 0?Dl(Dl({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return c.concat(y.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?Dl(Dl({},h),f.props):{},y=p.dataKey,x=p.name,w=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:l.iconType||w||"square",color:x_(f),value:x||y,payload:p}}),Dl(Dl(Dl({},l),rl.getWithHeight(o,i)),{},{payload:u,item:o})};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function u3(t){return o0e(t)||a0e(t)||i0e(t)||r0e()}function r0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function a0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o0e(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c3(Object(n),!0).forEach(function(r){cf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cf(t,e,n){return e=s0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s0e(t){var e=l0e(t,"string");return Ip(e)=="symbol"?e:e+""}function l0e(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Br(t,e,n){return Mt(t)||Mt(e)?n:cr(e)?ji(t,e,n):yt(e)?e(t):n}function Xh(t,e,n,r){var i=age(t,function(s){return Br(s,e)});if(n==="number"){var a=i.filter(function(s){return Ye(s)||parseFloat(s)});return a.length?[cy(a),uy(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Mt(s)}):i;return o.map(function(s){return cr(s)||s instanceof Date?s:""})}var u0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Wr(f-c)!==Wr(h-f)){var y=[];if(Wr(h-f)===Wr(l[1]-l[0])){p=h;var x=f+l[1]-l[0];y[0]=Math.min(x,(x+c)/2),y[1]=Math.max(x,(x+c)/2)}else{p=c;var w=h+l[1]-l[0];y[0]=Math.min(f,(w+f)/2),y[1]=Math.max(f,(w+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var b=Math.min(c,h),S=Math.max(c,h);if(e>(b+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var T=0;T<s;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===s-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},x_=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},c0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var y=c[f[h]],x=y.items,w=y.cateAxisId,v=x.filter(function(E){return Go(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,S=b!==void 0?jn(jn({},b),v[0].props):v[0].props,T=S.barSize,C=S[w];o[C]||(o[C]=[]);var k=Mt(T)?n:T;o[C].push({item:v[0],stackList:v.slice(1),barSize:Mt(k)?void 0:Yr(k,r,0)})}}return o},f0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Yr(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,y=o.reduce(function(T,C){return T+C.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var x=(i-y)/2>>0,w={offset:x-u,size:0};c=o.reduce(function(T,C){var k={item:C.item,position:{offset:w.offset+w.size+u,size:h?p:C.barSize}},E=[].concat(u3(T),[k]);return w=E[E.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:w})}),E},f)}else{var v=Yr(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var b=(i-2*v-(l-1)*u)/l;b>1&&(b>>=0);var S=s===+s?Math.min(b,s):b;c=o.reduce(function(T,C,k){var E=[].concat(u3(T),[{item:C.item,position:{offset:v+(b+u)*k+(b-S)/2,size:S}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(M){E.push({item:M,position:E[E.length-1].position})}),E},f)}return c},d0e=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=JL({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&p!=="center"&&Ye(e[p]))return jn(jn({},e),{},cf({},p,e[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&y!=="middle"&&Ye(e[y]))return jn(jn({},e),{},cf({},y,e[y]+(h||0)))}return e},h0e=function(e,n,r){return Mt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},XL=function(e,n,r,i,a){var o=n.props.children,s=ua(o,py).filter(function(u){return h0e(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Br(c,r);if(Mt(f))return u;var h=Array.isArray(f)?[cy(f),uy(f)]:[f,f],p=l.reduce(function(y,x){var w=Br(c,x,0),v=h[0]-Math.abs(Array.isArray(w)?w[0]:w),b=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(v,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},p0e=function(e,n,r,i,a){var o=n.map(function(s){return XL(e,s,r,a,i)}).filter(function(s){return!Mt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},QL=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&XL(e,l,u,i)||Xh(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},ZL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},eR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},qo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Wr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!vA(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},z1=new WeakMap,Jm=function(e,n){if(typeof n!="function")return e;z1.has(e)||z1.set(e,new WeakMap);var r=z1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},tR=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Tp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:S0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jh(),realScaleType:"point"}:a==="category"?{scale:Tp(),realScaleType:"band"}:{scale:S0(),realScaleType:"linear"};if(gu(i)){var l="scale".concat(Yv(i));return{scale:(r3[l]||Jh)(),realScaleType:r3[l]?l:"point"}}return yt(i)?{scale:i}:{scale:Jh(),realScaleType:"point"}},f3=1e-4,nR=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-f3,o=Math.max(i[0],i[1])+f3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},A0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},m0e=function(e,n){if(!n||n.length!==2||!Ye(n[0])||!Ye(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ye(e[0])||e[0]<r)&&(a[0]=r),(!Ye(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},g0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=vA(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},v0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=vA(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},y0e={sign:g0e,expand:Fie,none:Sf,silhouette:$ie,wiggle:Bie,positive:v0e},b0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=y0e[r],o=Rie().keys(i).value(function(s,l){return+Br(s,l,0)}).order(U2).offset(a);return o(e)},x0e=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?jn(jn({},h.type.defaultProps),h.props):h.props,x=y.stackId,w=y.hide;if(w)return f;var v=y[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(cr(x)){var S=b.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),b.hasStack=!0,b.stackGroups[x]=S}else b.stackGroups[yA("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return jn(jn({},f),{},cf({},v,b))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,w){var v=p.stackGroups[w];return jn(jn({},x),{},cf({},w,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:b0e(e,v.items,a)}))},y)}return jn(jn({},f),{},cf({},h,p))},c)},rR=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Dge(u,a,s);return e.domain([cy(c),uy(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=Lge(f,a,s);return{niceTicks:h}}return null},d3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Br(o,n.dataKey,n.domain[s]);return Mt(l)?null:n.scale(l)-a/2+i},w0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},S0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(cr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},_0e=function(e){return e.reduce(function(n,r){return[cy(r.concat([n[0]]).filter(Ye)),uy(r.concat([n[1]]).filter(Ye))]},[1/0,-1/0])},iR=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=_0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},h3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gw=function(e,n,r){if(yt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ye(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(h3.test(e[0])){var a=+h3.exec(e[0])[1];i[0]=n[0]-a}else yt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ye(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(p3.test(e[1])){var o=+p3.exec(e[1])[1];i[1]=n[1]+o}else yt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},P0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=KS(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},A3=function(e,n,r){return!e||!e.length||fy(e,ji(r,"type.defaultProps.domain"))?n:e},aR=function(e,n){var r=e.type.defaultProps?jn(jn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return jn(jn({},gt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:x_(e),value:Br(n,i),type:l,payload:n,chartType:u,hide:c})};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function m3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m3(Object(n),!0).forEach(function(r){oR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oR(t,e,n){return e=T0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T0e(t){var e=C0e(t,"string");return jp(e)=="symbol"?e:e+""}function C0e(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N0e(t,e){return M0e(t)||P0e(t,e)||k0e(t,e)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k0e(t,e){if(t){if(typeof t=="string")return g3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g3(t,e)}}function g3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function M0e(t){if(Array.isArray(t))return t}var M0=Math.PI/180,O0e=function(e){return e*180/Math.PI},gn=function(e,n,r,i){return{x:e+Math.cos(-M0*i)*r,y:n+Math.sin(-M0*i)*r}},sR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},I0e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Yr(e.cx,o,o/2),f=Yr(e.cy,s,s/2),h=sR(o,s,r),p=Yr(e.innerRadius,h,0),y=Yr(e.outerRadius,h,h*.8),x=Object.keys(n);return x.reduce(function(w,v){var b=n[v],S=b.domain,T=b.reversed,C;if(Mt(b.range))i==="angleAxis"?C=[l,u]:i==="radiusAxis"&&(C=[p,y]),T&&(C=[C[1],C[0]]);else{C=b.range;var k=C,E=N0e(k,2);l=E[0],u=E[1]}var M=tR(b,a),j=M.realScaleType,U=M.scale;U.domain(S).range(C),nR(U);var O=rR(U,jo(jo({},b),{},{realScaleType:j})),I=jo(jo(jo({},b),O),{},{range:C,radius:y,realScaleType:j,scale:U,cx:c,cy:f,innerRadius:p,outerRadius:y,startAngle:l,endAngle:u});return jo(jo({},w),{},oR({},v,I))},{})},j0e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},D0e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=j0e({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:O0e(u),angleInRadian:u}},L0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},R0e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},v3=function(e,n){var r=e.x,i=e.y,a=D0e({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=L0e(n),f=c.startAngle,h=c.endAngle,p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?jo(jo({},n),{},{radius:o,angle:R0e(p,n)}):null},lR=function(e){return!ne.isValidElement(e)&&!yt(e)&&typeof e!="boolean"?e.className:""};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var F0e=["offset"];function $0e(t){return H0e(t)||q0e(t)||U0e(t)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0e(t,e){if(t){if(typeof t=="string")return vw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vw(t,e)}}function q0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H0e(t){if(Array.isArray(t))return vw(t)}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z0e(t,e){if(t==null)return{};var n=V0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(n),!0).forEach(function(r){G0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0e(t,e,n){return e=W0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=Y0e(t,"string");return Dp(e)=="symbol"?e:e+""}function Y0e(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp.apply(this,arguments)}var K0e=function(e){var n=e.value,r=e.formatter,i=Mt(e.children)?n:e.children;return yt(r)?r(i):i},J0e=function(e,n){var r=Wr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},X0e=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,x=l.clockWise,w=(f+h)/2,v=J0e(p,y),b=v>=0?1:-1,S,T;i==="insideStart"?(S=p+b*o,T=x):i==="insideEnd"?(S=y-b*o,T=!x):i==="end"&&(S=y+b*o,T=x),T=v<=0?T:!T;var C=gn(u,c,w,S),k=gn(u,c,w,S+(T?1:-1)*359),E="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),M=Mt(e.id)?yA("recharts-radial-line-"):e.id;return de.createElement("text",Lp({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",s)}),de.createElement("defs",null,de.createElement("path",{id:M,d:E})),de.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Q0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var p=gn(o,s,u+r,h),y=p.x,x=p.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,v=gn(o,s,w,h),b=v.x,S=v.y;return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Z0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,w=x*i,v=x>0?"end":"start",b=x>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return ar(ar({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var T={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return ar(ar({},T),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var C={x:s-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return ar(ar({},C),r?{width:Math.max(C.x-r.x,0),height:c}:{})}if(a==="right"){var k={x:s+u+w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return ar(ar({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return a==="insideLeft"?ar({x:s+w,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?ar({x:s+u-w,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideTop"?ar({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},E):a==="insideBottom"?ar({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?ar({x:s+w,y:l+h,textAnchor:b,verticalAnchor:y},E):a==="insideTopRight"?ar({x:s+u-w,y:l+h,textAnchor:v,verticalAnchor:y},E):a==="insideBottomLeft"?ar({x:s+w,y:l+c-h,textAnchor:b,verticalAnchor:p},E):a==="insideBottomRight"?ar({x:s+u-w,y:l+c-h,textAnchor:v,verticalAnchor:p},E):ud(a)&&(Ye(a.x)||Jl(a.x))&&(Ye(a.y)||Jl(a.y))?ar({x:s+Yr(a.x,u),y:l+Yr(a.y,c),textAnchor:"end",verticalAnchor:"end"},E):ar({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},eve=function(e){return"cx"in e&&Ye(e.cx)};function yr(t){var e=t.offset,n=e===void 0?5:e,r=z0e(t,F0e),i=ar({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||Mt(s)&&Mt(l)&&!ne.isValidElement(u)&&!yt(u))return null;if(ne.isValidElement(u))return ne.cloneElement(u,i);var p;if(yt(u)){if(p=ne.createElement(u,i),ne.isValidElement(p))return p}else p=K0e(i);var y=eve(a),x=gt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return X0e(i,p,x);var w=y?Q0e(i):Z0e(i);return de.createElement(yu,Lp({className:kt("recharts-label",f)},x,w,{breakAll:h}),p)}yr.displayName="Label";var uR=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,x=e.width,w=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(Ye(x)&&Ye(w)){if(Ye(f)&&Ye(h))return{x:f,y:h,width:x,height:w};if(Ye(p)&&Ye(y))return{x:p,y,width:x,height:w}}return Ye(f)&&Ye(h)?{x:f,y:h,width:0,height:0}:Ye(n)&&Ye(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},tve=function(e,n){return e?e===!0?de.createElement(yr,{key:"label-implicit",viewBox:n}):cr(e)?de.createElement(yr,{key:"label-implicit",viewBox:n,value:e}):ne.isValidElement(e)?e.type===yr?ne.cloneElement(e,{key:"label-implicit",viewBox:n}):de.createElement(yr,{key:"label-implicit",content:e,viewBox:n}):yt(e)?de.createElement(yr,{key:"label-implicit",content:e,viewBox:n}):ud(e)?de.createElement(yr,Lp({viewBox:n},e,{key:"label-implicit"})):null:null},nve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=uR(e),o=ua(i,yr).map(function(l,u){return ne.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=tve(e.label,n||a);return[s].concat($0e(o))};yr.parseViewBox=uR;yr.renderCallByParent=nve;function rve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ive=rve;const ave=Gt(ive);function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}var ove=["valueAccessor"],sve=["data","dataKey","clockWise","id","textBreakAll"];function lve(t){return dve(t)||fve(t)||cve(t)||uve()}function uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cve(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function fve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dve(t){if(Array.isArray(t))return yw(t)}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function b3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return e=pve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=Ave(t,"string");return Rp(e)=="symbol"?e:e+""}function Ave(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w3(t,e){if(t==null)return{};var n=mve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gve=function(e){return Array.isArray(e.value)?ave(e.value):e.value};function al(t){var e=t.valueAccessor,n=e===void 0?gve:e,r=w3(t,ove),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=w3(r,sve);return!i||!i.length?null:de.createElement(Qt,{className:"recharts-label-list"},i.map(function(c,f){var h=Mt(a)?n(c,f):Br(c&&c.payload,a),p=Mt(s)?{}:{id:"".concat(s,"-").concat(f)};return de.createElement(yr,O0({},gt(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:yr.parseViewBox(Mt(o)?c:x3(x3({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}al.displayName="LabelList";function vve(t,e){return t?t===!0?de.createElement(al,{key:"labelList-implicit",data:e}):de.isValidElement(t)||yt(t)?de.createElement(al,{key:"labelList-implicit",data:e,content:t}):ud(t)?de.createElement(al,O0({data:e},t,{key:"labelList-implicit"})):null:null}function yve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ua(r,al).map(function(o,s){return ne.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=vve(t.label,e);return[a].concat(lve(i))}al.renderCallByParent=yve;function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(this,arguments)}function S3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(n),!0).forEach(function(r){bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e,n){return e=xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xve(t){var e=wve(t,"string");return Fp(e)=="symbol"?e:e+""}function wve(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sve=function(e,n){var r=Wr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Xm=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/M0,h=u?a:a+o*f,p=gn(n,r,c,h),y=gn(n,r,i,h),x=u?a-o*f:a,w=gn(n,r,c*Math.cos(f*M0),x);return{center:p,circleTangency:y,lineTangency:w,theta:f}},cR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Sve(o,s),u=o+l,c=gn(n,r,a,o),f=gn(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=gn(n,r,i,o),y=gn(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},_ve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Wr(c-u),h=Xm({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,x=h.theta,w=Xm({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=w.circleTangency,b=w.lineTangency,S=w.theta,T=l?Math.abs(u-c):Math.abs(u-c)-x-S;if(T<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):cR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var k=Xm({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),E=k.circleTangency,M=k.lineTangency,j=k.theta,U=Xm({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=U.circleTangency,I=U.lineTangency,$=U.theta,F=l?Math.abs(u-c):Math.abs(u-c)-j-$;if(F<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Tve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fR=function(e){var n=_3(_3({},Tve),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var p=kt("recharts-sector",h),y=o-a,x=Yr(s,y,0,!0),w;return x>0&&Math.abs(c-f)<360?w=_ve({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=cR({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),de.createElement("path",bw({},gt(n,!0),{className:p,d:w,role:"img"}))};function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){Cve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cve(t,e,n){return e=Nve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nve(t){var e=Eve(t,"string");return $p(e)=="symbol"?e:e+""}function Eve(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N3={curveBasisClosed:Cie,curveBasisOpen:Nie,curveBasis:Tie,curveBumpX:fie,curveBumpY:die,curveLinearClosed:Eie,curveLinear:Jv,curveMonotoneX:kie,curveMonotoneY:Pie,curveNatural:Mie,curveStep:Oie,curveStepAfter:jie,curveStepBefore:Iie},Qm=function(e){return e.x===+e.x&&e.y===+e.y},Ah=function(e){return e.x},mh=function(e){return e.y},kve=function(e,n){if(yt(e))return e;var r="curve".concat(Yv(e));return(r==="curveMonotone"||r==="curveBump")&&n?N3["".concat(r).concat(n==="vertical"?"Y":"X")]:N3[r]||Jv},Pve=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=kve(r,s),f=u?a.filter(function(x){return Qm(x)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(x){return Qm(x)}):o,y=f.map(function(x,w){return C3(C3({},x),{},{base:p[w]})});return s==="vertical"?h=qm().y(mh).x1(Ah).x0(function(x){return x.base.x}):h=qm().x(Ah).y1(mh).y0(function(x){return x.base.y}),h.defined(Qm).curve(c),h(y)}return s==="vertical"&&Ye(o)?h=qm().y(mh).x1(Ah).x0(o):Ye(o)?h=qm().x(Ah).y1(mh).y0(o):h=aD().x(Ah).y(mh),h.defined(Qm).curve(c),h(f)},ww=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Pve(e):i;return ne.createElement("path",xw({},gt(e,!1),r0(e),{className:kt("recharts-curve",n),d:o,ref:a}))},dR={exports:{}},Mve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ove=Mve,Ive=Ove;function hR(){}function pR(){}pR.resetWarningCache=hR;var jve=function(){function t(r,i,a,o,s,l){if(l!==Ive){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:pR,resetWarningCache:hR};return n.PropTypes=n,n};dR.exports=jve();var Dve=dR.exports;const Wt=Gt(Dve);var Lve=Object.getOwnPropertyNames,Rve=Object.getOwnPropertySymbols,Fve=Object.prototype.hasOwnProperty;function E3(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Zm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function $ve(t){return t!=null?t[Symbol.toStringTag]:void 0}function k3(t){return Lve(t).concat(Rve(t))}var Bve=Object.hasOwn||function(t,e){return Fve.call(t,e)};function Du(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Uve="__v",qve="__o",Hve="_owner",P3=Object.getOwnPropertyDescriptor,M3=Object.keys;function zve(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Vve(t,e){return Du(t.getTime(),e.getTime())}function Gve(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Wve(t,e){return t===e}function O3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Yve=Du;function Kve(t,e,n){var r=M3(t),i=r.length;if(M3(e).length!==i)return!1;for(;i-- >0;)if(!AR(t,e,n,r[i]))return!1;return!0}function gh(t,e,n){var r=k3(t),i=r.length;if(k3(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!AR(t,e,n,a)||(o=P3(t,a),s=P3(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Jve(t,e){return Du(t.valueOf(),e.valueOf())}function Xve(t,e){return t.source===e.source&&t.flags===e.flags}function I3(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Qve(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Zve(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function AR(t,e,n,r){return(r===Hve||r===qve||r===Uve)&&(t.$$typeof||e.$$typeof)?!0:Bve(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var eye="[object Arguments]",tye="[object Boolean]",nye="[object Date]",rye="[object Error]",iye="[object Map]",aye="[object Number]",oye="[object Object]",sye="[object RegExp]",lye="[object Set]",uye="[object String]",cye="[object URL]",fye=Array.isArray,j3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,D3=Object.assign,dye=Object.prototype.toString.call.bind(Object.prototype.toString);function hye(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(x,w,v){if(x===w)return!0;if(x==null||w==null)return!1;var b=typeof x;if(b!==typeof w)return!1;if(b!=="object")return b==="number"?o(x,w,v):b==="function"?i(x,w,v):!1;var S=x.constructor;if(S!==w.constructor)return!1;if(S===Object)return s(x,w,v);if(fye(x))return e(x,w,v);if(j3!=null&&j3(x))return f(x,w,v);if(S===Date)return n(x,w,v);if(S===RegExp)return u(x,w,v);if(S===Map)return a(x,w,v);if(S===Set)return c(x,w,v);var T=dye(x);if(T===nye)return n(x,w,v);if(T===sye)return u(x,w,v);if(T===iye)return a(x,w,v);if(T===lye)return c(x,w,v);if(T===oye)return typeof x.then!="function"&&typeof w.then!="function"&&s(x,w,v);if(T===cye)return h(x,w,v);if(T===rye)return r(x,w,v);if(T===eye)return s(x,w,v);if(T===tye||T===aye||T===uye)return l(x,w,v);if(p){var C=p[T];if(!C){var k=$ve(x);k&&(C=p[k])}if(C)return C(x,w,v)}return!1}}function pye(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?gh:zve,areDatesEqual:Vve,areErrorsEqual:Gve,areFunctionsEqual:Wve,areMapsEqual:r?E3(O3,gh):O3,areNumbersEqual:Yve,areObjectsEqual:r?gh:Kve,arePrimitiveWrappersEqual:Jve,areRegExpsEqual:Xve,areSetsEqual:r?E3(I3,gh):I3,areTypedArraysEqual:r?gh:Qve,areUrlsEqual:Zve,unknownTagComparators:void 0};if(n&&(i=D3({},i,n(i))),e){var a=Zm(i.areArraysEqual),o=Zm(i.areMapsEqual),s=Zm(i.areObjectsEqual),l=Zm(i.areSetsEqual);i=D3({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Aye(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function mye(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var gye=bl();bl({strict:!0});bl({circular:!0});bl({circular:!0,strict:!0});bl({createInternalComparator:function(){return Du}});bl({strict:!0,createInternalComparator:function(){return Du}});bl({circular:!0,createInternalComparator:function(){return Du}});bl({circular:!0,createInternalComparator:function(){return Du},strict:!0});function bl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=pye(t),l=hye(s),u=r?r(l):Aye(l);return mye({circular:n,comparator:l,createState:i,equals:u,strict:o})}function vye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function L3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):vye(i)};requestAnimationFrame(r)}function Sw(t){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(t)}function yye(t){return Sye(t)||wye(t)||xye(t)||bye()}function bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xye(t,e){if(t){if(typeof t=="string")return R3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R3(t,e)}}function R3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sye(t){if(Array.isArray(t))return t}function _ye(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=yye(o),l=s[0],u=s.slice(1);if(typeof l=="number"){L3(i.bind(null,u),l);return}i(l),L3(i.bind(null,u));return}Sw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){mR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mR(t,e,n){return e=Tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tye(t){var e=Cye(t,"string");return Bp(e)==="symbol"?e:String(e)}function Cye(t,e){if(Bp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nye=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Eye=function(e){return e},kye=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qh=function(e,n){return Object.keys(n).reduce(function(r,i){return $3($3({},r),{},mR({},i,e(i,n[i])))},{})},B3=function(e,n,r){return e.map(function(i){return"".concat(kye(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Pye(t,e){return Iye(t)||Oye(t,e)||gR(t,e)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Iye(t){if(Array.isArray(t))return t}function jye(t){return Rye(t)||Lye(t)||gR(t)||Dye()}function Dye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gR(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function Lye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rye(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I0=1e-4,vR=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},yR=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},U3=function(e,n){return function(r){var i=vR(e,n);return yR(i,r)}},Fye=function(e,n){return function(r){var i=vR(e,n),a=[].concat(jye(i.map(function(o,s){return o*s}).slice(1)),[0]);return yR(a,r)}},q3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=Pye(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=U3(i,o),h=U3(a,s),p=Fye(i,o),y=function(v){return v>1?1:v<0?0:v},x=function(v){for(var b=v>1?1:v,S=b,T=0;T<8;++T){var C=f(S)-b,k=p(S);if(Math.abs(C-b)<I0||k<I0)return h(S);S=y(S-C/k)}return h(S)};return x.isStepper=!1,x},$ye=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var p=-(c-f)*r,y=h*a,x=h+(p-y)*s/1e3,w=h*s/1e3+c;return Math.abs(w-f)<I0&&Math.abs(x)<I0?[f,0]:[w,x]};return l.isStepper=!0,l.dt=s,l},Bye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return q3(i);case"spring":return $ye();default:if(i.split("(")[0]==="cubic-bezier")return q3(i)}return typeof i=="function"?i:null};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function H3(t){return Hye(t)||qye(t)||bR(t)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hye(t){if(Array.isArray(t))return Cw(t)}function z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z3(Object(n),!0).forEach(function(r){Tw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tw(t,e,n){return e=zye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zye(t){var e=Vye(t,"string");return Up(e)==="symbol"?e:String(e)}function Vye(t,e){if(Up(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gye(t,e){return Kye(t)||Yye(t,e)||bR(t,e)||Wye()}function Wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bR(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Kye(t){if(Array.isArray(t))return t}var j0=function(e,n,r){return e+(n-e)*r},Nw=function(e){var n=e.from,r=e.to;return n!==r},Jye=function t(e,n,r){var i=Qh(function(a,o){if(Nw(o)){var s=e(o.from,o.to,o.velocity),l=Gye(s,2),u=l[0],c=l[1];return Tr(Tr({},o),{},{from:u,velocity:c})}return o},n);return r<1?Qh(function(a,o){return Nw(o)?Tr(Tr({},o),{},{velocity:j0(o.velocity,i[a].velocity,r),from:j0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Xye=function(t,e,n,r,i){var a=Nye(t,e),o=a.reduce(function(w,v){return Tr(Tr({},w),{},Tw({},v,[t[v],e[v]]))},{}),s=a.reduce(function(w,v){return Tr(Tr({},w),{},Tw({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Qh(function(v,b){return b.from},s)},p=function(){return!Object.values(s).filter(Nw).length},y=function(v){u||(u=v);var b=v-u,S=b/n.dt;s=Jye(n,s,S),i(Tr(Tr(Tr({},t),e),h())),u=v,p()||(l=requestAnimationFrame(f))},x=function(v){c||(c=v);var b=(v-c)/r,S=Qh(function(C,k){return j0.apply(void 0,H3(k).concat([n(b)]))},o);if(i(Tr(Tr(Tr({},t),e),S)),b<1)l=requestAnimationFrame(f);else{var T=Qh(function(C,k){return j0.apply(void 0,H3(k).concat([n(1)]))},o);i(Tr(Tr(Tr({},t),e),T))}};return f=n.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}var Qye=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zye(t,e){if(t==null)return{};var n=ebe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ebe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function V1(t){return ibe(t)||rbe(t)||nbe(t)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(t,e){if(t){if(typeof t=="string")return Ew(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(t,e)}}function rbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ibe(t){if(Array.isArray(t))return Ew(t)}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){Th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Th(t,e,n){return e=xR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function abe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function obe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xR(r.key),r)}}function sbe(t,e,n){return e&&obe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xR(t){var e=lbe(t,"string");return Of(e)==="symbol"?e:String(e)}function lbe(t,e){if(Of(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ube(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kw(t,e)}function cbe(t){var e=fbe();return function(){var r=D0(t),i;if(e){var a=D0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Pw(this,i)}}function Pw(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mw(t)}function Mw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}var ns=function(t){ube(n,t);var e=cbe(n);function n(r,i){var a;abe(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Mw(a)),a.changeStyle=a.changeStyle.bind(Mw(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),Pw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Pw(a);a.state={style:l?Th({},l,u):u}}else a.state={style:{}};return a}return sbe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Th({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(gye(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:i.to;if(this.state&&h){var w={style:l?Th({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(w)}this.runAnimation(Ca(Ca({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Xye(o,s,Bye(u),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,w,v){if(v===0)return x;var b=w.duration,S=w.easing,T=S===void 0?"ease":S,C=w.style,k=w.properties,E=w.onAnimationEnd,M=v>0?o[v-1]:w,j=k||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(V1(x),[a.runJSAnimation.bind(a,{from:M.style,to:C,duration:b,easing:T}),b]);var U=B3(j,b,T),O=Ca(Ca(Ca({},M.style),C),{},{transition:U});return[].concat(V1(x),[O,b,E]).filter(Eye)};return this.manager.start([l].concat(V1(o.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_ye());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=s?Th({},s,l):l,w=B3(Object.keys(x),o,u);y.start([c,a,Ca(Ca({},x),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Zye(i,Qye),u=ne.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var y=p.props,x=y.style,w=x===void 0?{}:x,v=y.className,b=ne.cloneElement(p,Ca(Ca({},l),{},{style:Ca(Ca({},w),c),className:v}));return b};return u===1?f(ne.Children.only(a)):de.createElement("div",null,ne.Children.map(a,function(h){return f(h)}))}}]),n}(ne.PureComponent);ns.displayName="Animate";ns.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ns.propTypes={from:Wt.oneOfType([Wt.object,Wt.string]),to:Wt.oneOfType([Wt.object,Wt.string]),attributeName:Wt.string,duration:Wt.number,begin:Wt.number,easing:Wt.oneOfType([Wt.string,Wt.func]),steps:Wt.arrayOf(Wt.shape({duration:Wt.number.isRequired,style:Wt.object.isRequired,easing:Wt.oneOfType([Wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Wt.func]),properties:Wt.arrayOf("string"),onAnimationEnd:Wt.func})),children:Wt.oneOfType([Wt.node,Wt.func]),isActive:Wt.bool,canBegin:Wt.bool,onAnimationEnd:Wt.func,shouldReAnimate:Wt.bool,onAnimationStart:Wt.func,onAnimationReStart:Wt.func};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function dbe(t,e){return mbe(t)||Abe(t,e)||pbe(t,e)||hbe()}function hbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pbe(t,e){if(t){if(typeof t=="string")return G3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G3(t,e)}}function G3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Abe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mbe(t){if(Array.isArray(t))return t}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){gbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gbe(t,e,n){return e=vbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vbe(t){var e=ybe(t,"string");return qp(e)=="symbol"?e:e+""}function ybe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K3=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);c="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*y," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},bbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},xbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w_=function(e){var n=Y3(Y3({},xbe),e),r=ne.useRef(),i=ne.useState(-1),a=dbe(i,2),o=a[0],s=a[1];ne.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,x=n.animationDuration,w=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=kt("recharts-rectangle",p);return b?de.createElement(ns,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:x,animationEasing:y,isActive:b},function(T){var C=T.width,k=T.height,E=T.x,M=T.y;return de.createElement(ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:v,easing:y},de.createElement("path",L0({},gt(n,!0),{className:S,d:K3(E,M,C,k,h),ref:r})))}):de.createElement("path",L0({},gt(n,!0),{className:S,d:K3(l,u,c,f,h)}))},wbe=["points","className","baseLinePoints","connectNulls"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}function Sbe(t,e){if(t==null)return{};var n=_be(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J3(t){return Ebe(t)||Nbe(t)||Cbe(t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cbe(t,e){if(t){if(typeof t=="string")return Ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ow(t,e)}}function Nbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ebe(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X3=function(e){return e&&e.x===+e.x&&e.y===+e.y},kbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){X3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),X3(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Zh=function(e,n){var r=kbe(e);n&&(r=[r.reduce(function(a,o){return[].concat(J3(a),J3(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Pbe=function(e,n,r){var i=Zh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Zh(n.reverse(),r).slice(1))},Mbe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Sbe(e,wbe);if(!n||!n.length)return null;var s=kt("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Pbe(n,i,a);return de.createElement("g",{className:s},de.createElement("path",Wc({},gt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?de.createElement("path",Wc({},gt(o,!0),{fill:"none",d:Zh(n,a)})):null,l?de.createElement("path",Wc({},gt(o,!0),{fill:"none",d:Zh(i,a)})):null)}var c=Zh(n,a);return de.createElement("path",Wc({},gt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(this,arguments)}var S_=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=kt("recharts-dot",a);return n===+n&&r===+r&&i===+i?ne.createElement("circle",Iw({},gt(e,!1),r0(e),{className:o,cx:n,cy:r,r:i})):null};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}var Obe=["x","y","top","left","width","height","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ibe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){jbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jbe(t,e,n){return e=Dbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dbe(t){var e=Lbe(t,"string");return Hp(e)=="symbol"?e:e+""}function Lbe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rbe(t,e){if(t==null)return{};var n=Fbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $be=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Bbe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,y=e.className,x=Rbe(e,Obe),w=Ibe({x:r,y:a,top:s,left:u,width:f,height:p},x);return!Ye(r)||!Ye(a)||!Ye(f)||!Ye(p)||!Ye(s)||!Ye(u)?null:de.createElement("path",jw({},gt(w,!0),{className:kt("recharts-cross",y),d:$be(r,a,f,p,s,u)}))},Ube=ly,qbe=IL,Hbe=Ao;function zbe(t,e){return t&&t.length?Ube(t,Hbe(e),qbe):void 0}var Vbe=zbe;const Gbe=Gt(Vbe);var Wbe=ly,Ybe=Ao,Kbe=jL;function Jbe(t,e){return t&&t.length?Wbe(t,Ybe(e),Kbe):void 0}var Xbe=Jbe;const Qbe=Gt(Xbe);var Zbe=["cx","cy","angle","ticks","axisLine"],e1e=["ticks","tick","angle","tickFormatter","stroke"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ep.apply(this,arguments)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){Ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eP(t,e){if(t==null)return{};var n=t1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function t1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SR(r.key),r)}}function r1e(t,e,n){return e&&tP(t.prototype,e),n&&tP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i1e(t,e,n){return e=R0(e),a1e(t,wR()?Reflect.construct(e,n||[],R0(t).constructor):e.apply(t,n))}function a1e(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o1e(t)}function o1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(t)}function s1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dw(t,e)}function Ay(t,e,n){return e=SR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SR(t){var e=l1e(t,"string");return If(e)=="symbol"?e:e+""}function l1e(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var my=function(t){function e(){return n1e(this,e),i1e(this,e,arguments)}return s1e(e,t),r1e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return gn(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=Gbe(s,function(c){return c.coordinate||0}),u=Qbe(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=eP(r,Zbe),c=s.reduce(function(y,x){return[Math.min(y[0],x.coordinate),Math.max(y[1],x.coordinate)]},[1/0,-1/0]),f=gn(i,a,c[0],o),h=gn(i,a,c[1],o),p=Ll(Ll(Ll({},gt(u,!1)),{},{fill:"none"},gt(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return de.createElement("line",ep({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=eP(i,e1e),f=this.getTickTextAnchor(),h=gt(c,!1),p=gt(o,!1),y=a.map(function(x,w){var v=r.getTickValueCoord(x),b=Ll(Ll(Ll(Ll({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:w},v),{},{payload:x});return de.createElement(Qt,ep({className:kt("recharts-polar-radius-axis-tick",lR(o)),key:"tick-".concat(x.coordinate)},vu(r.props,x,w)),e.renderTickItem(o,b,l?l(x.value,w):x.value))});return de.createElement(Qt,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:de.createElement(Qt,{className:kt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),yr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement(yu,ep({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(ne.PureComponent);Ay(my,"displayName","PolarRadiusAxis");Ay(my,"axisType","radiusAxis");Ay(my,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TR(r.key),r)}}function c1e(t,e,n){return e&&rP(t.prototype,e),n&&rP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f1e(t,e,n){return e=F0(e),d1e(t,_R()?Reflect.construct(e,n||[],F0(t).constructor):e.apply(t,n))}function d1e(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(t)}function h1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F0(t)}function p1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function gy(t,e,n){return e=TR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TR(t){var e=A1e(t,"string");return jf(e)=="symbol"?e:e+""}function A1e(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m1e=Math.PI/180,iP=1e-5,vy=function(t){function e(){return u1e(this,e),f1e(this,e,arguments)}return p1e(e,t),c1e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=gn(a,o,s,r.coordinate),h=gn(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*m1e),o;return a>iP?o=i==="outer"?"start":"end":a<-iP?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Rl(Rl({},gt(this.props,!1)),{},{fill:"none"},gt(s,!1));if(l==="circle")return de.createElement(S_,Yl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return gn(i,a,o,h.coordinate)});return de.createElement(Mbe,Yl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=gt(this.props,!1),f=gt(o,!1),h=Rl(Rl({},c),{},{fill:"none"},gt(s,!1)),p=a.map(function(y,x){var w=r.getTickLineCoord(y),v=r.getTickTextAnchor(y),b=Rl(Rl(Rl({textAnchor:v},c),{},{stroke:"none",fill:u},f),{},{index:x,payload:y,x:w.x2,y:w.y2});return de.createElement(Qt,Yl({className:kt("recharts-polar-angle-axis-tick",lR(o)),key:"tick-".concat(y.coordinate)},vu(r.props,y,x)),s&&de.createElement("line",Yl({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&e.renderTickItem(o,b,l?l(y.value,x):y.value))});return de.createElement(Qt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:de.createElement(Qt,{className:kt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return de.isValidElement(r)?o=de.cloneElement(r,i):yt(r)?o=r(i):o=de.createElement(yu,Yl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(ne.PureComponent);gy(vy,"displayName","PolarAngleAxis");gy(vy,"axisType","angleAxis");gy(vy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var g1e=kD,v1e=g1e(Object.getPrototypeOf,Object),y1e=v1e,b1e=as,x1e=y1e,w1e=os,S1e="[object Object]",_1e=Function.prototype,T1e=Object.prototype,CR=_1e.toString,C1e=T1e.hasOwnProperty,N1e=CR.call(Object);function E1e(t){if(!w1e(t)||b1e(t)!=S1e)return!1;var e=x1e(t);if(e===null)return!0;var n=C1e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&CR.call(n)==N1e}var k1e=E1e;const P1e=Gt(k1e);var M1e=as,O1e=os,I1e="[object Boolean]";function j1e(t){return t===!0||t===!1||O1e(t)&&M1e(t)==I1e}var D1e=j1e;const L1e=Gt(D1e);function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function R1e(t,e){return U1e(t)||B1e(t,e)||$1e(t,e)||F1e()}function F1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $1e(t,e){if(t){if(typeof t=="string")return aP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aP(t,e)}}function aP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function U1e(t){if(Array.isArray(t))return t}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){q1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1e(t,e,n){return e=H1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H1e(t){var e=z1e(t,"string");return zp(e)=="symbol"?e:e+""}function z1e(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lP=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},V1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G1e=function(e){var n=sP(sP({},V1e),e),r=ne.useRef(),i=ne.useState(-1),a=R1e(i,2),o=a[0],s=a[1];ne.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,x=n.animationDuration,w=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var b=kt("recharts-trapezoid",p);return v?de.createElement(ns,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:x,animationEasing:y,isActive:v},function(S){var T=S.upperWidth,C=S.lowerWidth,k=S.height,E=S.x,M=S.y;return de.createElement(ns,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:y},de.createElement("path",$0({},gt(n,!0),{className:b,d:lP(E,M,T,C,k),ref:r})))}):de.createElement("g",null,de.createElement("path",$0({},gt(n,!0),{className:b,d:lP(l,u,c,f,h)})))},W1e=["option","shapeType","propTransformer","activeClassName","isActive"];function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Y1e(t,e){if(t==null)return{};var n=K1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){J1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J1e(t,e,n){return e=X1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X1e(t){var e=Q1e(t,"string");return Vp(e)=="symbol"?e:e+""}function Q1e(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z1e(t,e){return B0(B0({},e),t)}function exe(t,e){return t==="symbols"}function cP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return de.createElement(w_,n);case"trapezoid":return de.createElement(G1e,n);case"sector":return de.createElement(fR,n);case"symbols":if(exe(e))return de.createElement(US,n);break;default:return null}}function txe(t){return ne.isValidElement(t)?t.props:t}function NR(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Z1e:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Y1e(t,W1e),u;if(ne.isValidElement(e))u=ne.cloneElement(e,B0(B0({},l),txe(e)));else if(yt(e))u=e(l);else if(P1e(e)&&!L1e(e)){var c=i(e,l);u=de.createElement(cP,{shapeType:n,elementProps:c})}else{var f=l;u=de.createElement(cP,{shapeType:n,elementProps:f})}return s?de.createElement(Qt,{className:o},u):u}function yy(t,e){return e!=null&&"trapezoids"in t.props}function by(t,e){return e!=null&&"sectors"in t.props}function Gp(t,e){return e!=null&&"points"in t.props}function nxe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function rxe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ixe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function axe(t,e){var n;return yy(t,e)?n=nxe:by(t,e)?n=rxe:Gp(t,e)&&(n=ixe),n}function oxe(t,e){var n;return yy(t,e)?n="trapezoids":by(t,e)?n="sectors":Gp(t,e)&&(n="points"),n}function sxe(t,e){if(yy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(by(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Gp(t,e)?e.payload:{}}function lxe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=oxe(n,e),a=sxe(n,e),o=r.filter(function(l,u){var c=fy(a,l),f=n.props[i].filter(function(y){var x=axe(n,e);return x(y,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var yg;function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kR(r.key),r)}}function cxe(t,e,n){return e&&dP(t.prototype,e),n&&dP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fxe(t,e,n){return e=U0(e),dxe(t,ER()?Reflect.construct(e,n||[],U0(t).constructor):e.apply(t,n))}function dxe(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hxe(t)}function hxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ER(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}function pxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function ia(t,e,n){return e=kR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kR(t){var e=Axe(t,"string");return Df(e)=="symbol"?e:e+""}function Axe(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ls=function(t){function e(n){var r;return uxe(this,e),r=fxe(this,e,[n]),ia(r,"pieRef",null),ia(r,"sectorRefs",[]),ia(r,"id",yA("recharts-pie-")),ia(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),yt(i)&&i()}),ia(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),yt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return pxe(e,t),cxe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=gt(this.props,!1),f=gt(o,!1),h=gt(s,!1),p=o&&o.offsetRadius||20,y=r.map(function(x,w){var v=(x.startAngle+x.endAngle)/2,b=gn(x.cx,x.cy,x.outerRadius+p,v),S=pn(pn(pn(pn({},c),x),{},{stroke:"none"},f),{},{index:w,textAnchor:e.getTextAnchor(b.x,x.cx)},b),T=pn(pn(pn(pn({},c),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[gn(x.cx,x.cy,x.outerRadius,v),b]}),C=l;return Mt(l)&&Mt(u)?C="value":Mt(l)&&(C=u),de.createElement(Qt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},s&&e.renderLabelLineItem(s,T,"line"),e.renderLabelItem(o,S,Br(x,C)))});return de.createElement(Qt,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,y=pn(pn({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return de.createElement(Qt,Yc({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},vu(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),de.createElement(NR,Yc({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return de.createElement(ns,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,w=[],v=a&&a[0],b=v.startAngle;return a.forEach(function(S,T){var C=h&&h[T],k=T>0?ji(S,"paddingAngle",0):0;if(C){var E=Ps(C.endAngle-C.startAngle,S.endAngle-S.startAngle),M=pn(pn({},S),{},{startAngle:b+k,endAngle:b+E(x)+k});w.push(M),b=M.endAngle}else{var j=S.endAngle,U=S.startAngle,O=Ps(0,j-U),I=O(x),$=pn(pn({},S),{},{startAngle:b+k,endAngle:b+I+k});w.push($),b=$.endAngle}}),de.createElement(Qt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!fy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!Ye(u)||!Ye(c)||!Ye(f)||!Ye(h))return null;var x=kt("recharts-pie",s);return de.createElement(Qt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),yr.renderCallByParent(this.props,null,!1),(!p||y)&&al.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);if(yt(r))return r(i);var o=kt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return de.createElement(ww,Yc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(de.isValidElement(r))return de.cloneElement(r,i);var o=a;if(yt(r)&&(o=r(i),de.isValidElement(o)))return o;var s=kt("recharts-pie-label-text",typeof r!="boolean"&&!yt(r)?r.className:"");return de.createElement(yu,Yc({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(ne.PureComponent);yg=ls;ia(ls,"displayName","Pie");ia(ls,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!md.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ia(ls,"parseDeltaAngle",function(t,e){var n=Wr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ia(ls,"getRealPieData",function(t){var e=t.data,n=t.children,r=gt(t,!1),i=ua(n,ty);return e&&e.length?e.map(function(a,o){return pn(pn(pn({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return pn(pn({},r),a.props)}):[]});ia(ls,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=sR(i,a),s=r+Yr(t.cx,i,i/2),l=n+Yr(t.cy,a,a/2),u=Yr(t.innerRadius,o,0),c=Yr(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});ia(ls,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?pn(pn({},e.type.defaultProps),e.props):e.props,i=yg.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),y=yg.parseCoordinateOfPie(r,n),x=yg.parseDeltaAngle(o,s),w=Math.abs(x),v=u;Mt(u)&&Mt(f)?(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Mt(u)&&(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=i.filter(function(M){return Br(M,v,0)!==0}).length,S=(w>=360?b:b-1)*l,T=w-b*p-S,C=i.reduce(function(M,j){var U=Br(j,v,0);return M+(Ye(U)?U:0)},0),k;if(C>0){var E;k=i.map(function(M,j){var U=Br(M,v,0),O=Br(M,c,j),I=(Ye(U)?U:0)/C,$;j?$=E.endAngle+Wr(x)*l*(U!==0?1:0):$=o;var F=$+Wr(x)*((U!==0?p:0)+I*T),H=($+F)/2,R=(y.innerRadius+y.outerRadius)/2,B=[{name:O,value:U,payload:M,dataKey:v,type:h}],W=gn(y.cx,y.cy,R,H);return E=pn(pn(pn({percent:I,cornerRadius:a,name:O,tooltipPayload:B,midAngle:H,middleRadius:R,tooltipPosition:W},M),y),{},{value:Br(M,v),startAngle:$,endAngle:F,payload:M,paddingAngle:Wr(x)*l}),E})}return pn(pn({},y),{},{sectors:k,data:i})});var mxe=Math.ceil,gxe=Math.max;function vxe(t,e,n,r){for(var i=-1,a=gxe(mxe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var yxe=vxe,bxe=YD,hP=1/0,xxe=17976931348623157e292;function wxe(t){if(!t)return t===0?t:0;if(t=bxe(t),t===hP||t===-hP){var e=t<0?-1:1;return e*xxe}return t===t?t:0}var PR=wxe,Sxe=yxe,_xe=ey,G1=PR;function Txe(t){return function(e,n,r){return r&&typeof r!="number"&&_xe(e,n,r)&&(n=r=void 0),e=G1(e),n===void 0?(n=e,e=0):n=G1(n),r=r===void 0?e<n?1:-1:G1(r),Sxe(e,n,r,t)}}var Cxe=Txe,Nxe=Cxe,Exe=Nxe(),kxe=Exe;const q0=Gt(kxe);function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){MR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MR(t,e,n){return e=Pxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pxe(t){var e=Mxe(t,"string");return Wp(e)=="symbol"?e:e+""}function Mxe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oxe=["Webkit","Moz","O","ms"],Ixe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Oxe.reduce(function(a,o){return AP(AP({},a),{},MR({},o+r,n))},{});return i[e]=n,i};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){xi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IR(r.key),r)}}function Dxe(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lxe(t,e,n){return e=z0(e),Rxe(t,OR()?Reflect.construct(e,n||[],z0(t).constructor):e.apply(t,n))}function Rxe(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fxe(t)}function Fxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OR=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z0(t)}function $xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function xi(t,e,n){return e=IR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IR(t){var e=Bxe(t,"string");return Lf(e)=="symbol"?e:e+""}function Bxe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uxe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Jh().domain(q0(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},vP=function(e){return e.changedTouches&&!!e.changedTouches.length},Rf=function(t){function e(n){var r;return jxe(this,e),r=Lxe(this,e,[n]),xi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),xi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),xi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),xi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),xi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),xi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),xi(r,"handleSlideDragStart",function(i){var a=vP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $xe(e,t),Dxe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),y=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Br(a[r],s,r);return yt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,x=r.pageX-a;x>0?x=Math.min(x,u+c-f-s,u+c-f-o):x<0&&(x=Math.max(x,u-o,u-s));var w=this.getIndex({startX:o+x,endX:s+x});(w.startIndex!==h||w.endIndex!==p)&&y&&y(w),this.setState({startX:o+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=vP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.onChange,x=c.gap,w=c.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-a;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),v[o]=u+b;var S=this.getIndex(v),T=S.startIndex,C=S.endIndex,k=function(){var M=w.length-1;return o==="startX"&&(s>l?T%x===0:C%x===0)||s<l&&C===M||o==="endX"&&(s>l?C%x===0:T%x===0)||s>l&&C===M};this.setState(xi(xi({},o,u+b),"brushMoveStartX",r.pageX),function(){y&&k()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(xi({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return de.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=ne.Children.only(u);return f?de.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,x=l.startIndex,w=l.endIndex,v=Math.max(r,this.props.x),b=W1(W1({},gt(this.props,!1)),{},{x:v,y:u,width:c,height:f}),S=p||"Min value: ".concat((a=y[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[w])===null||o===void 0?void 0:o.name);return de.createElement(Qt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),s.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return de.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,y={pointerEvents:"none",fill:u};return de.createElement(Qt,{className:"recharts-brush-texts"},de.createElement(yu,H0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},y),this.getTextOfTick(i)),de.createElement(yu,H0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,x=h.isTextActive,w=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!Ye(s)||!Ye(l)||!Ye(u)||!Ye(c)||u<=0||c<=0)return null;var S=kt("recharts-brush",a),T=de.Children.count(o)===1,C=Ixe("userSelect","none");return de.createElement(Qt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(x||w||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return de.createElement(de.Fragment,null,de.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),de.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),de.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return de.isValidElement(r)?a=de.cloneElement(r,i):yt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return W1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Uxe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(ne.PureComponent);xi(Rf,"displayName","Brush");xi(Rf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qxe=YS;function Hxe(t,e){var n;return qxe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var zxe=Hxe,Vxe=xD,Gxe=Ao,Wxe=zxe,Yxe=Ai,Kxe=ey;function Jxe(t,e,n){var r=Yxe(t)?Vxe:Wxe;return n&&Kxe(t,e,n)&&(e=void 0),r(t,Gxe(e))}var Xxe=Jxe;const Qxe=Gt(Xxe);var lo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},yP=HD;function Zxe(t,e,n){e=="__proto__"&&yP?yP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var e2e=Zxe,t2e=e2e,n2e=UD,r2e=Ao;function i2e(t,e){var n={};return e=r2e(e),n2e(t,function(r,i,a){t2e(n,i,e(r,i,a))}),n}var a2e=i2e;const o2e=Gt(a2e);function s2e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var l2e=s2e,u2e=YS;function c2e(t,e){var n=!0;return u2e(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var f2e=c2e,d2e=l2e,h2e=f2e,p2e=Ao,A2e=Ai,m2e=ey;function g2e(t,e,n){var r=A2e(t)?d2e:h2e;return n&&m2e(t,e,n)&&(e=void 0),r(t,p2e(e))}var v2e=g2e;const jR=Gt(v2e);var y2e=["x","y"];function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function bP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(n),!0).forEach(function(r){b2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b2e(t,e,n){return e=x2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x2e(t){var e=w2e(t,"string");return Yp(e)=="symbol"?e:e+""}function w2e(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S2e(t,e){if(t==null)return{};var n=_2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T2e(t,e){var n=t.x,r=t.y,i=S2e(t,y2e),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return vh(vh(vh(vh(vh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function xP(t){return de.createElement(NR,$w({shapeType:"rectangle",propTransformer:T2e,activeClassName:"recharts-active-bar"},t))}var C2e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ye(r)||Xne(r);return a?e(r,i):(a||xu(),n)}},N2e=["value","background"],DR;function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function E2e(t,e){if(t==null)return{};var n=k2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(this,arguments)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){Vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RR(r.key),r)}}function M2e(t,e,n){return e&&SP(t.prototype,e),n&&SP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O2e(t,e,n){return e=G0(e),I2e(t,LR()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function I2e(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j2e(t)}function j2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function D2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bw(t,e)}function Vs(t,e,n){return e=RR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RR(t){var e=L2e(t,"string");return Ff(e)=="symbol"?e:e+""}function L2e(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lu=function(t){function e(){var n;P2e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=O2e(this,e,[].concat(i)),Vs(n,"state",{isAnimationFinished:!1}),Vs(n,"id",yA("recharts-bar-")),Vs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Vs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return D2e(e,t),M2e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=gt(this.props,!1);return r&&r.map(function(f,h){var p=h===l,y=p?u:o,x=Yn(Yn(Yn({},c),f),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return de.createElement(Qt,V0({className:"recharts-bar-rectangle"},vu(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),de.createElement(xP,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return de.createElement(ns,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,x=a.map(function(w,v){var b=h&&h[v];if(b){var S=Ps(b.x,w.x),T=Ps(b.y,w.y),C=Ps(b.width,w.width),k=Ps(b.height,w.height);return Yn(Yn({},w),{},{x:S(y),y:T(y),width:C(y),height:k(y)})}if(o==="horizontal"){var E=Ps(0,w.height),M=E(y);return Yn(Yn({},w),{},{y:w.y+w.height-M,height:M})}var j=Ps(0,w.width),U=j(y);return Yn(Yn({},w),{},{width:U})});return de.createElement(Qt,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!fy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=gt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=E2e(u,N2e);if(!f)return null;var p=Yn(Yn(Yn(Yn(Yn({},h),{},{fill:"#eee"},f),l),vu(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return de.createElement(xP,V0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=ua(c,py);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,v){var b=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:b,errorVal:Br(w,v)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return de.createElement(Qt,y,f.map(function(x){return de.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,x=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,v=kt("recharts-bar",o),b=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,T=b||S,C=Mt(x)?this.id:x;return de.createElement(Qt,{className:v},b||S?de.createElement("defs",null,de.createElement("clipPath",{id:"clipPath-".concat(C)},de.createElement("rect",{x:b?u:u-f/2,y:S?c:c-h/2,width:b?f:f*2,height:S?h:h*2}))):null,de.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!p||w)&&al.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(ne.PureComponent);DR=Lu;Vs(Lu,"displayName","Bar");Vs(Lu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!md.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vs(Lu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=A0e(r,n);if(!p)return null;var y=e.layout,x=n.type.defaultProps,w=x!==void 0?Yn(Yn({},x),n.props):n.props,v=w.dataKey,b=w.children,S=w.minPointSize,T=y==="horizontal"?o:a,C=u?T.scale.domain():null,k=w0e({numericAxis:T}),E=ua(b,ty),M=f.map(function(j,U){var O,I,$,F,H,R;u?O=m0e(u[c+U],C):(O=Br(j,v),Array.isArray(O)||(O=[k,O]));var B=C2e(S,DR.defaultProps.minPointSize)(O[1],U);if(y==="horizontal"){var W,K=[o.scale(O[0]),o.scale(O[1])],Z=K[0],oe=K[1];I=d3({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:j,index:U}),$=(W=oe??Z)!==null&&W!==void 0?W:void 0,F=p.size;var L=Z-oe;if(H=Number.isNaN(L)?0:L,R={x:I,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(H)<Math.abs(B)){var z=Wr(H||B)*(Math.abs(B)-Math.abs(H));$-=z,H+=z}}else{var Q=[a.scale(O[0]),a.scale(O[1])],te=Q[0],ie=Q[1];if(I=te,$=d3({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:j,index:U}),F=ie-te,H=p.size,R={x:a.x,y:$,width:a.width,height:H},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var ge=Wr(F||B)*(Math.abs(B)-Math.abs(F));F+=ge}}return Yn(Yn(Yn({},j),{},{x:I,y:$,width:F,height:H,value:u?O:O[1],payload:j,background:R},E&&E[U]&&E[U].props),{},{tooltipPayload:[aR(n,j)],tooltipPosition:{x:I+F/2,y:$+H/2}})});return Yn({data:M,layout:y},h)});function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function R2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FR(r.key),r)}}function F2e(t,e,n){return e&&_P(t.prototype,e),n&&_P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xy(t,e,n){return e=FR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FR(t){var e=$2e(t,"string");return Kp(e)=="symbol"?e:e+""}function $2e(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B2e=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Si(u,Lu);return c.reduce(function(p,y){var x=n[y],w=x.orientation,v=x.domain,b=x.padding,S=b===void 0?{}:b,T=x.mirror,C=x.reversed,k="".concat(w).concat(T?"Mirror":""),E,M,j,U,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var I=v[1]-v[0],$=1/0,F=x.categoricalDomain.sort(ere);if(F.forEach(function(Q,te){te>0&&($=Math.min((Q||0)-(F[te-1]||0),$))}),Number.isFinite($)){var H=$/I,R=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(E=H*R/2),x.padding==="no-gap"){var B=Yr(e.barCategoryGap,H*R),W=H*R/2;E=W-B-(W-B)/R*B}}}i==="xAxis"?M=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?M=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:M=x.range,C&&(M=[M[1],M[0]]);var K=tR(x,a,h),Z=K.scale,oe=K.realScaleType;Z.domain(v).range(M),nR(Z);var L=rR(Z,Ia(Ia({},x),{},{realScaleType:oe}));i==="xAxis"?(O=w==="top"&&!T||w==="bottom"&&T,j=r.left,U=f[k]-O*x.height):i==="yAxis"&&(O=w==="left"&&!T||w==="right"&&T,j=f[k]-O*x.width,U=r.top);var z=Ia(Ia(Ia({},x),L),{},{realScaleType:oe,x:j,y:U,scale:Z,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return z.bandSize=P0(z,L),!x.hide&&i==="xAxis"?f[k]+=(O?-1:1)*z.height:x.hide||(f[k]+=(O?-1:1)*z.width),Ia(Ia({},p),{},xy({},y,z))},{})},$R=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},U2e=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return $R({x:n,y:r},{x:i,y:a})},BR=function(){function t(e){R2e(this,t),this.scale=e}return F2e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();xy(BR,"EPS",1e-4);var __=function(e){var n=Object.keys(e).reduce(function(r,i){return Ia(Ia({},r),{},xy({},i,BR.create(e[i])))},{});return Ia(Ia({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return o2e(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return jR(i,function(a,o){return n[o].isInRange(a)})}})};function q2e(t){return(t%180+180)%180}var H2e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=q2e(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},z2e=Ao,V2e=bA,G2e=Qv;function W2e(t){return function(e,n,r){var i=Object(e);if(!V2e(e)){var a=z2e(n);e=G2e(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Y2e=W2e,K2e=PR;function J2e(t){var e=K2e(t),n=e%1;return e===e?n?e-n:e:0}var X2e=J2e,Q2e=DD,Z2e=Ao,ewe=X2e,twe=Math.max;function nwe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:ewe(n);return i<0&&(i=twe(r+i,0)),Q2e(t,Z2e(e),i)}var rwe=nwe,iwe=Y2e,awe=rwe,owe=iwe(awe),swe=owe;const lwe=Gt(swe);var uwe=rne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),T_=ne.createContext(void 0),C_=ne.createContext(void 0),UR=ne.createContext(void 0),qR=ne.createContext({}),HR=ne.createContext(void 0),zR=ne.createContext(0),VR=ne.createContext(0),CP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=uwe(a);return de.createElement(T_.Provider,{value:r},de.createElement(C_.Provider,{value:i},de.createElement(qR.Provider,{value:a},de.createElement(UR.Provider,{value:c},de.createElement(HR.Provider,{value:o},de.createElement(zR.Provider,{value:u},de.createElement(VR.Provider,{value:l},s)))))))},cwe=function(){return ne.useContext(HR)},GR=function(e){var n=ne.useContext(T_);n==null&&xu();var r=n[e];return r==null&&xu(),r},fwe=function(){var e=ne.useContext(T_);return Fs(e)},dwe=function(){var e=ne.useContext(C_),n=lwe(e,function(r){return jR(r.domain,Number.isFinite)});return n||Fs(e)},WR=function(e){var n=ne.useContext(C_);n==null&&xu();var r=n[e];return r==null&&xu(),r},hwe=function(){var e=ne.useContext(UR);return e},pwe=function(){return ne.useContext(qR)},N_=function(){return ne.useContext(VR)},E_=function(){return ne.useContext(zR)};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Awe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KR(r.key),r)}}function gwe(t,e,n){return e&&mwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vwe(t,e,n){return e=W0(e),ywe(t,YR()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function ywe(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bwe(t)}function bwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function xwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){k_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k_(t,e,n){return e=KR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KR(t){var e=wwe(t,"string");return $f(e)=="symbol"?e:e+""}function wwe(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Swe(t,e){return Nwe(t)||Cwe(t,e)||Twe(t,e)||_we()}function _we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Twe(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Nwe(t){if(Array.isArray(t))return t}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}var Ewe=function(e,n){var r;return de.isValidElement(e)?r=de.cloneElement(e,n):yt(e)?r=e(n):r=de.createElement("line",qw({},n,{className:"recharts-reference-line-line"})),r},kwe=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,p=a.height;if(r){var y=u.y,x=e.y.apply(y,{position:o});if(lo(u,"discard")&&!e.y.isInRange(x))return null;var w=[{x:c+h,y:x},{x:c,y:x}];return l==="left"?w.reverse():w}if(n){var v=u.x,b=e.x.apply(v,{position:o});if(lo(u,"discard")&&!e.x.isInRange(b))return null;var S=[{x:b,y:f+p},{x:b,y:f}];return s==="top"?S.reverse():S}if(i){var T=u.segment,C=T.map(function(k){return e.apply(k,{position:o})});return lo(u,"discard")&&Qxe(C,function(k){return!e.isInRange(k)})?null:C}return null};function Pwe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=cwe(),c=GR(i),f=WR(a),h=hwe();if(!u||!h)return null;La(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=__({x:c.scale,y:f.scale}),y=cr(e),x=cr(n),w=r&&r.length===2,v=kwe(p,y,x,w,h,t.position,c.orientation,f.orientation,t);if(!v)return null;var b=Swe(v,2),S=b[0],T=S.x,C=S.y,k=b[1],E=k.x,M=k.y,j=lo(t,"hidden")?"url(#".concat(u,")"):void 0,U=EP(EP({clipPath:j},gt(t,!0)),{},{x1:T,y1:C,x2:E,y2:M});return de.createElement(Qt,{className:kt("recharts-reference-line",s)},Ewe(o,U),yr.renderCallByParent(t,U2e({x1:T,y1:C,x2:E,y2:M})))}var P_=function(t){function e(){return Awe(this,e),vwe(this,e,arguments)}return xwe(e,t),gwe(e,[{key:"render",value:function(){return de.createElement(Pwe,this.props)}}])}(de.Component);k_(P_,"displayName","ReferenceLine");k_(P_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Owe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XR(r.key),r)}}function Iwe(t,e,n){return e&&Owe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jwe(t,e,n){return e=Y0(e),Dwe(t,JR()?Reflect.construct(e,n||[],Y0(t).constructor):e.apply(t,n))}function Dwe(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lwe(t)}function Lwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(t)}function Rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function wy(t,e,n){return e=XR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XR(t){var e=Fwe(t,"string");return Bf(e)=="symbol"?e:e+""}function Fwe(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $we=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=__({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return lo(e,"discard")&&!o.isInRange(s)?null:s},Sy=function(t){function e(){return Mwe(this,e),jwe(this,e,arguments)}return Rwe(e,t),Iwe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=cr(i),c=cr(a);if(La(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=$we(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,x=y.shape,w=y.className,v=lo(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=MP(MP({clipPath:v},gt(this.props,!0)),{},{cx:h,cy:p});return de.createElement(Qt,{className:kt("recharts-reference-dot",w)},e.renderDot(x,b),yr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(de.Component);wy(Sy,"displayName","ReferenceDot");wy(Sy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wy(Sy,"renderDot",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(S_,Hw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uwe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZR(r.key),r)}}function qwe(t,e,n){return e&&Uwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hwe(t,e,n){return e=K0(e),zwe(t,QR()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function zwe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vwe(t)}function Vwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function Gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function _y(t,e,n){return e=ZR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZR(t){var e=Wwe(t,"string");return Uf(e)=="symbol"?e:e+""}function Wwe(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ywe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=__({x:c.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return lo(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:$R(p,y)},Ty=function(t){function e(){return Bwe(this,e),Hwe(this,e,arguments)}return Gwe(e,t),qwe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;La(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=cr(i),h=cr(a),p=cr(o),y=cr(s),x=this.props.shape;if(!f&&!h&&!p&&!y&&!x)return null;var w=Ywe(f,h,p,y,this.props);if(!w&&!x)return null;var v=lo(this.props,"hidden")?"url(#".concat(c,")"):void 0;return de.createElement(Qt,{className:kt("recharts-reference-area",l)},e.renderRect(x,IP(IP({clipPath:v},gt(this.props,!0)),w)),yr.renderCallByParent(this.props,w))}}])}(de.Component);_y(Ty,"displayName","ReferenceArea");_y(Ty,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_y(Ty,"renderRect",function(t,e){var n;return de.isValidElement(t)?n=de.cloneElement(t,e):yt(t)?n=t(e):n=de.createElement(w_,Vw({},e,{className:"recharts-reference-area-rect"})),n});function e8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Kwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return H2e(r,n)}function Jwe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function J0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Xwe(t,e){return e8(t,e+1)}function Qwe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:e8(r,u)};var x=l,w,v=function(){return w===void 0&&(w=n(y,x)),w},b=y.coordinate,S=l===0||J0(t,b,v,c,s);S||(l=0,c=o,u+=1),S&&(c=b+t*(v()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function jP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(n),!0).forEach(function(r){Zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zwe(t,e,n){return e=e5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e5e(t){var e=t5e(t,"string");return Jp(e)=="symbol"?e:e+""}function t5e(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n5e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],y,x=function(){return y===void 0&&(y=n(p,h)),y};if(h===o-1){var w=t*(p.coordinate+t*x()/2-l);a[h]=p=Rr(Rr({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else a[h]=p=Rr(Rr({},p),{},{tickCoord:p.coordinate});var v=J0(t,p.tickCoord,x,s,l);v&&(l=p.tickCoord-t*(x()/2+i),a[h]=Rr(Rr({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function r5e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=Rr(Rr({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=J0(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Rr(Rr({},c),{},{isShow:!0}))}for(var y=a?s-1:s,x=function(b){var S=o[b],T,C=function(){return T===void 0&&(T=n(S,b)),T};if(b===0){var k=t*(S.coordinate-t*C()/2-l);o[b]=S=Rr(Rr({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else o[b]=S=Rr(Rr({},S),{},{tickCoord:S.coordinate});var E=J0(t,S.tickCoord,C,l,u);E&&(l=S.tickCoord+t*(C()/2+i),o[b]=Rr(Rr({},S),{},{isShow:!0}))},w=0;w<y;w++)x(w);return o}function M_(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ye(l)||md.isSsr)return Xwe(i,typeof l=="number"&&Ye(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=c&&p==="width"?Kh(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(S,T){var C=yt(u)?u(S.value,T):S.value;return p==="width"?Kwe(Kh(C,{fontSize:e,letterSpacing:n}),y,f):Kh(C,{fontSize:e,letterSpacing:n})[p]},w=i.length>=2?Wr(i[1].coordinate-i[0].coordinate):1,v=Jwe(a,w,p);return l==="equidistantPreserveStart"?Qwe(w,v,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=r5e(w,v,x,i,o,l==="preserveStartEnd"):h=n5e(w,v,x,i,o),h.filter(function(b){return b.isShow}))}var i5e=["viewBox"],a5e=["viewBox"],o5e=["ticks"];function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){O_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1(t,e){if(t==null)return{};var n=s5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n8(r.key),r)}}function u5e(t,e,n){return e&&LP(t.prototype,e),n&&LP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c5e(t,e,n){return e=X0(e),f5e(t,t8()?Reflect.construct(e,n||[],X0(t).constructor):e.apply(t,n))}function f5e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d5e(t)}function d5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function h5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function O_(t,e,n){return e=n8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8(t){var e=p5e(t,"string");return qf(e)=="symbol"?e:e+""}function p5e(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bd=function(t){function e(n){var r;return l5e(this,e),r=c5e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return h5e(e,t),u5e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=Y1(r,i5e),s=this.props,l=s.viewBox,u=Y1(s,a5e);return!lf(a,l)||!lf(o,u)||!lf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,x,w,v,b,S=f?-1:1,T=r.tickSize||c,C=Ye(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,w=o+ +!f*l,x=w-S*T,b=x-S*h,v=C;break;case"left":x=w=r.coordinate,y=a+ +!f*s,p=y-S*T,v=p-S*h,b=C;break;case"right":x=w=r.coordinate,y=a+ +f*s,p=y+S*T,v=p+S*h,b=C;break;default:p=y=r.coordinate,w=o+ +f*l,x=w+S*T,b=x+S*h,v=C;break}return{line:{x1:p,y1:x,x2:y,y2:w},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=ir(ir(ir({},gt(this.props,!1)),gt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=ir(ir({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=ir(ir({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return de.createElement("line",Kc({},f,{className:kt("recharts-cartesian-axis-line",ji(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=M_(ir(ir({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=gt(this.props,!1),v=gt(c,!1),b=ir(ir({},w),{},{fill:"none"},gt(l,!1)),S=p.map(function(T,C){var k=o.getTickLineCoord(T),E=k.line,M=k.tick,j=ir(ir(ir(ir({textAnchor:y,verticalAnchor:x},w),{},{stroke:"none",fill:u},v),M),{},{index:C,payload:T,visibleTicksCount:p.length,tickFormatter:f});return de.createElement(Qt,Kc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},vu(o.props,T,C)),l&&de.createElement("line",Kc({},b,E,{className:kt("recharts-cartesian-axis-tick-line",ji(l,"className"))})),c&&e.renderTickItem(c,j,"".concat(yt(f)?f(T.value,C):T.value).concat(h||"")))});return de.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=Y1(f,o5e),y=h;return yt(l)&&(y=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:de.createElement(Qt,{className:kt("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),yr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=kt(i.className,"recharts-cartesian-axis-tick-value");return de.isValidElement(r)?o=de.cloneElement(r,ir(ir({},i),{},{className:s})):yt(r)?o=r(ir(ir({},i),{},{className:s})):o=de.createElement(yu,Kc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(ne.Component);O_(bd,"displayName","CartesianAxis");O_(bd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var A5e=["x1","y1","x2","y2","key"],m5e=["offset"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function RP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(n),!0).forEach(function(r){g5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g5e(t,e,n){return e=v5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v5e(t){var e=y5e(t,"string");return wu(e)=="symbol"?e:e+""}function y5e(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}function FP(t,e){if(t==null)return{};var n=b5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function b5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var x5e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return de.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function r8(t,e){var n;if(de.isValidElement(t))n=de.cloneElement(t,e);else if(yt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=FP(e,A5e),u=gt(l,!1);u.offset;var c=FP(u,m5e);n=de.createElement("line",Zl({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function w5e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Fr(Fr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return r8(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function S5e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Fr(Fr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return r8(i,u)});return de.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function _5e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var y=!c[p+1],x=y?i+o-h:c[p+1]-h;if(x<=0)return null;var w=p%e.length;return de.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:x,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function T5e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var y=!c[p+1],x=y?a+s-h:c[p+1]-h;if(x<=0)return null;var w=p%r.length;return de.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return de.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var C5e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return eR(M_(Fr(Fr(Fr({},bd.defaultProps),r),{},{ticks:qo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},N5e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return eR(M_(Fr(Fr(Fr({},bd.defaultProps),r),{},{ticks:qo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function i8(t){var e,n,r,i,a,o,s=N_(),l=E_(),u=pwe(),c=Fr(Fr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Sc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Sc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Sc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Sc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Sc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Sc.verticalFill,x:Ye(t.x)?t.x:u.left,y:Ye(t.y)?t.y:u.top,width:Ye(t.width)?t.width:u.width,height:Ye(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,y=c.height,x=c.syncWithTicks,w=c.horizontalValues,v=c.verticalValues,b=fwe(),S=dwe();if(!Ye(p)||p<=0||!Ye(y)||y<=0||!Ye(f)||f!==+f||!Ye(h)||h!==+h)return null;var T=c.verticalCoordinatesGenerator||C5e,C=c.horizontalCoordinatesGenerator||N5e,k=c.horizontalPoints,E=c.verticalPoints;if((!k||!k.length)&&yt(C)){var M=w&&w.length,j=C({yAxis:S?Fr(Fr({},S),{},{ticks:M?w:S.ticks}):void 0,width:s,height:l,offset:u},M?!0:x);La(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wu(j),"]")),Array.isArray(j)&&(k=j)}if((!E||!E.length)&&yt(T)){var U=v&&v.length,O=T({xAxis:b?Fr(Fr({},b),{},{ticks:U?v:b.ticks}):void 0,width:s,height:l,offset:u},U?!0:x);La(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wu(O),"]")),Array.isArray(O)&&(E=O)}return de.createElement("g",{className:"recharts-cartesian-grid"},de.createElement(x5e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),de.createElement(w5e,Zl({},c,{offset:u,horizontalPoints:k,xAxis:b,yAxis:S})),de.createElement(S5e,Zl({},c,{offset:u,verticalPoints:E,xAxis:b,yAxis:S})),de.createElement(_5e,Zl({},c,{horizontalPoints:k})),de.createElement(T5e,Zl({},c,{verticalPoints:E})))}i8.displayName="CartesianGrid";function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function E5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s8(r.key),r)}}function P5e(t,e,n){return e&&k5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M5e(t,e,n){return e=Q0(e),O5e(t,a8()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function O5e(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I5e(t)}function I5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a8=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function j5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function o8(t,e,n){return e=s8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s8(t){var e=D5e(t,"string");return Hf(e)=="symbol"?e:e+""}function D5e(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}function L5e(t){var e=t.xAxisId,n=N_(),r=E_(),i=GR(e);return i==null?null:ne.createElement(bd,Kw({},i,{className:kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return qo(o,!0)}}))}var Cy=function(t){function e(){return E5e(this,e),M5e(this,e,arguments)}return j5e(e,t),P5e(e,[{key:"render",value:function(){return ne.createElement(L5e,this.props)}}])}(ne.Component);o8(Cy,"displayName","XAxis");o8(Cy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function R5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c8(r.key),r)}}function $5e(t,e,n){return e&&F5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B5e(t,e,n){return e=Z0(e),U5e(t,l8()?Reflect.construct(e,n||[],Z0(t).constructor):e.apply(t,n))}function U5e(t,e){if(e&&(zf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q5e(t)}function q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!t})()}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(t)}function H5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function u8(t,e,n){return e=c8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c8(t){var e=z5e(t,"string");return zf(e)=="symbol"?e:e+""}function z5e(t,e){if(zf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xw.apply(this,arguments)}var V5e=function(e){var n=e.yAxisId,r=N_(),i=E_(),a=WR(n);return a==null?null:ne.createElement(bd,Xw({},a,{className:kt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return qo(s,!0)}}))},Ny=function(t){function e(){return R5e(this,e),B5e(this,e,arguments)}return H5e(e,t),$5e(e,[{key:"render",value:function(){return ne.createElement(V5e,this.props)}}])}(ne.Component);u8(Ny,"displayName","YAxis");u8(Ny,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $P(t){return K5e(t)||Y5e(t)||W5e(t)||G5e()}function G5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W5e(t,e){if(t){if(typeof t=="string")return Qw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qw(t,e)}}function Y5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K5e(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zw=function(e,n,r,i,a){var o=ua(e,P_),s=ua(e,Sy),l=[].concat($P(o),$P(s)),u=ua(e,Ty),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(x,w){if(w.props[c]===r&&lo(w.props,"extendDomain")&&Ye(w.props[f])){var v=w.props[f];return[Math.min(x[0],v),Math.max(x[1],v)]}return x},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(x,w){if(w.props[c]===r&&lo(w.props,"extendDomain")&&Ye(w.props[p])&&Ye(w.props[y])){var v=w.props[p],b=w.props[y];return[Math.min(x[0],v,b),Math.max(x[1],v,b)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,w){return Ye(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},h)),h},f8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,y){var x=n?n+u:u;if(!this._events[x])return!1;var w=this._events[x],v=arguments.length,b,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,p),!0;case 6:return w.fn.call(w.context,c,f,h,p,y),!0}for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];w.fn.apply(w.context,b)}else{var T=w.length,C;for(S=0;S<T;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),v){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,h);break;default:if(!b)for(C=1,b=new Array(v-1);C<v;C++)b[C-1]=arguments[C];w[S].fn.apply(w[S].context,b)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var x=0,w=[],v=y.length;x<v;x++)(y[x].fn!==c||h&&!y[x].once||f&&y[x].context!==f)&&w.push(y[x]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(f8);var J5e=f8.exports;const X5e=Gt(J5e);var K1=new X5e,J1="recharts.syncMouseEvents";function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Q5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d8(r.key),r)}}function eSe(t,e,n){return e&&Z5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X1(t,e,n){return e=d8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d8(t){var e=tSe(t,"string");return Xp(e)=="symbol"?e:e+""}function tSe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nSe=function(){function t(){Q5e(this,t),X1(this,"activeIndex",0),X1(this,"coordinateList",[]),X1(this,"layout","horizontal")}return eSe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function rSe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ye(r)&&Ye(i))return!0}return!1}function iSe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function h8(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=gn(e,n,r,i),s=gn(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function aSe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=gn(s,l,u,f),p=gn(s,l,c,f);r=h.x,i=h.y,a=p.x,o=p.y}else return h8(e);return[{x:r,y:i},{x:a,y:o}]}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){oSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oSe(t,e,n){return e=sSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sSe(t){var e=lSe(t,"string");return Qp(e)=="symbol"?e:e+""}function lSe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uSe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,x=ww;if(h==="ScatterChart")y=o,x=Bbe;else if(h==="BarChart")y=iSe(f,o,l,c),x=w_;else if(f==="radial"){var w=h8(o),v=w.cx,b=w.cy,S=w.radius,T=w.startAngle,C=w.endAngle;y={cx:v,cy:b,startAngle:T,endAngle:C,innerRadius:S,outerRadius:S},x=fR}else y={points:aSe(f,o,l)},x=ww;var k=eg(eg(eg(eg({stroke:"#ccc",pointerEvents:"none"},l),y),gt(p,!1)),{},{payload:s,payloadIndex:u,className:kt("recharts-tooltip-cursor",p.className)});return ne.isValidElement(p)?ne.cloneElement(p,k):ne.createElement(x,k)}var cSe=["item"],fSe=["children","className","width","height","style","compact","title","desc"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}function UP(t,e){return pSe(t)||hSe(t,e)||A8(t,e)||dSe()}function dSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function pSe(t){if(Array.isArray(t))return t}function qP(t,e){if(t==null)return{};var n=ASe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ASe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m8(r.key),r)}}function vSe(t,e,n){return e&&gSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ySe(t,e,n){return e=ev(e),bSe(t,p8()?Reflect.construct(e,n||[],ev(t).constructor):e.apply(t,n))}function bSe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(t)}function xSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(t)}function wSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e5(t,e)}function e5(t,e){return e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e5(t,e)}function Gf(t){return TSe(t)||_Se(t)||A8(t)||SSe()}function SSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A8(t,e){if(t){if(typeof t=="string")return t5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t5(t,e)}}function _Se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TSe(t){if(Array.isArray(t))return t5(t)}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){At(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function At(t,e,n){return e=m8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8(t){var e=CSe(t,"string");return Vf(e)=="symbol"?e:e+""}function CSe(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NSe={xAxis:["bottom","top"],yAxis:["left","right"]},ESe={width:"100%",height:"100%"},g8={x:0,y:0};function tg(t){return t}var kSe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},PSe=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Le(Le(Le({},i),gn(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Le(Le(Le({},i),gn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return g8},Ey=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Gf(s),Gf(u)):s},[]);return o.length>0?o:e&&e.length&&Ye(i)&&Ye(a)?e.slice(i,a+1):[]};function v8(t){return t==="number"?[0,"auto"]:void 0}var n5=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ey(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=P2(p,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Gf(l),[aR(u,h)]):l},[])},zP=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=kSe(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=u0e(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=n5(e,n,c,f),p=PSe(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},MSe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=ZL(c,a);return r.reduce(function(y,x){var w,v=x.type.defaultProps!==void 0?Le(Le({},x.type.defaultProps),x.props):x.props,b=v.type,S=v.dataKey,T=v.allowDataOverflow,C=v.allowDuplicatedCategory,k=v.scale,E=v.ticks,M=v.includeHidden,j=v[o];if(y[j])return y;var U=Ey(e.data,{graphicalItems:i.filter(function(L){var z,Q=o in L.props?L.props[o]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[o];return Q===j}),dataStartIndex:l,dataEndIndex:u}),O=U.length,I,$,F;rSe(v.domain,T,b)&&(I=gw(v.domain,null,T),p&&(b==="number"||k!=="auto")&&(F=Xh(U,S,"category")));var H=v8(b);if(!I||I.length===0){var R,B=(R=v.domain)!==null&&R!==void 0?R:H;if(S){if(I=Xh(U,S,b),b==="category"&&p){var W=Zne(I);C&&W?($=I,I=q0(0,O)):C||(I=A3(B,I,x).reduce(function(L,z){return L.indexOf(z)>=0?L:[].concat(Gf(L),[z])},[]))}else if(b==="category")C?I=I.filter(function(L){return L!==""&&!Mt(L)}):I=A3(B,I,x).reduce(function(L,z){return L.indexOf(z)>=0||z===""||Mt(z)?L:[].concat(Gf(L),[z])},[]);else if(b==="number"){var K=p0e(U,i.filter(function(L){var z,Q,te=o in L.props?L.props[o]:(z=L.type.defaultProps)===null||z===void 0?void 0:z[o],ie="hide"in L.props?L.props.hide:(Q=L.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return te===j&&(M||!ie)}),S,a,c);K&&(I=K)}p&&(b==="number"||k!=="auto")&&(F=Xh(U,S,"category"))}else p?I=q0(0,O):s&&s[j]&&s[j].hasStack&&b==="number"?I=h==="expand"?[0,1]:iR(s[j].stackGroups,l,u):I=QL(U,i.filter(function(L){var z=o in L.props?L.props[o]:L.type.defaultProps[o],Q="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return z===j&&(M||!Q)}),b,c,!0);if(b==="number")I=Zw(f,I,j,a,E),B&&(I=gw(B,I,T));else if(b==="category"&&B){var Z=B,oe=I.every(function(L){return Z.indexOf(L)>=0});oe&&(I=Z)}}return Le(Le({},y),{},At({},j,Le(Le({},v),{},{axisType:a,domain:I,categoricalDomain:F,duplicateDomain:$,originalDomain:(w=v.domain)!==null&&w!==void 0?w:H,isCategorical:p,layout:c})))},{})},OSe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Ey(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,y=ZL(c,a),x=-1;return r.reduce(function(w,v){var b=v.type.defaultProps!==void 0?Le(Le({},v.type.defaultProps),v.props):v.props,S=b[o],T=v8("number");if(!w[S]){x++;var C;return y?C=q0(0,p):s&&s[S]&&s[S].hasStack?(C=iR(s[S].stackGroups,l,u),C=Zw(f,C,S,a)):(C=gw(T,QL(h,r.filter(function(k){var E,M,j=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],U="hide"in k.props?k.props.hide:(M=k.type.defaultProps)===null||M===void 0?void 0:M.hide;return j===S&&!U}),"number",c),i.defaultProps.allowDataOverflow),C=Zw(f,C,S,a)),Le(Le({},w),{},At({},S,Le(Le({axisType:a},i.defaultProps),{},{hide:!0,orientation:ji(NSe,"".concat(a,".").concat(x%2),null),domain:C,originalDomain:T,isCategorical:y,layout:c})))}return w},{})},ISe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=ua(c,a),p={};return h&&h.length?p=MSe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=OSe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},jSe=function(e){var n=Fs(e),r=qo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:KS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:P0(n,r)}},VP=function(e){var n=e.children,r=e.defaultShowTooltip,i=Si(n,Rf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},DSe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Go(n&&n.type);return r&&r.indexOf("Bar")>=0})},GP=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},LSe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Si(f,Rf),y=Si(f,rl),x=Object.keys(l).reduce(function(C,k){var E=l[k],M=E.orientation;return!E.mirror&&!E.hide?Le(Le({},C),{},At({},M,C[M]+E.width)):C},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(C,k){var E=o[k],M=E.orientation;return!E.mirror&&!E.hide?Le(Le({},C),{},At({},M,ji(C,"".concat(M))+E.height)):C},{top:h.top||0,bottom:h.bottom||0}),v=Le(Le({},w),x),b=v.bottom;p&&(v.bottom+=p.props.height||Rf.defaultProps.height),y&&n&&(v=d0e(v,i,r,n));var S=u-v.left-v.right,T=c-v.top-v.bottom;return Le(Le({brushBottom:b},v),{},{width:Math.max(S,0),height:Math.max(T,0)})},RSe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},y8=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(v,b){var S=b.graphicalItems,T=b.stackGroups,C=b.offset,k=b.updateId,E=b.dataStartIndex,M=b.dataEndIndex,j=v.barSize,U=v.layout,O=v.barGap,I=v.barCategoryGap,$=v.maxBarSize,F=GP(U),H=F.numericAxisName,R=F.cateAxisName,B=DSe(S),W=[];return S.forEach(function(K,Z){var oe=Ey(v.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:M}),L=K.type.defaultProps!==void 0?Le(Le({},K.type.defaultProps),K.props):K.props,z=L.dataKey,Q=L.maxBarSize,te=L["".concat(H,"Id")],ie=L["".concat(R,"Id")],ge={},pe=l.reduce(function(xe,Pe){var we=b["".concat(Pe.axisType,"Map")],Ve=L["".concat(Pe.axisType,"Id")];we&&we[Ve]||Pe.axisType==="zAxis"||xu();var Ge=we[Ve];return Le(Le({},xe),{},At(At({},Pe.axisType,Ge),"".concat(Pe.axisType,"Ticks"),qo(Ge)))},ge),G=pe[R],le=pe["".concat(R,"Ticks")],ce=T&&T[te]&&T[te].hasStack&&S0e(K,T[te].stackGroups),ue=Go(K.type).indexOf("Bar")>=0,Te=P0(G,le),Re=[],_e=B&&c0e({barSize:j,stackGroups:T,totalSize:RSe(pe,R)});if(ue){var ae,Ee,ke=Mt(Q)?$:Q,ye=(ae=(Ee=P0(G,le,!0))!==null&&Ee!==void 0?Ee:ke)!==null&&ae!==void 0?ae:0;Re=f0e({barGap:O,barCategoryGap:I,bandSize:ye!==Te?ye:Te,sizeList:_e[ie],maxBarSize:ke}),ye!==Te&&(Re=Re.map(function(xe){return Le(Le({},xe),{},{position:Le(Le({},xe.position),{},{offset:xe.position.offset-ye/2})})}))}var Me=K&&K.type&&K.type.getComposedData;Me&&W.push({props:Le(Le({},Me(Le(Le({},pe),{},{displayedData:oe,props:v,dataKey:z,item:K,bandSize:Te,barPosition:Re,offset:C,stackedData:ce,layout:U,dataStartIndex:E,dataEndIndex:M}))),{},At(At(At({key:K.key||"item-".concat(Z)},H,pe[H]),R,pe[R]),"animationId",k)),childIndex:fre(K,v.children),item:K})}),W},p=function(v,b){var S=v.props,T=v.dataStartIndex,C=v.dataEndIndex,k=v.updateId;if(!lk({props:S}))return null;var E=S.children,M=S.layout,j=S.stackOffset,U=S.data,O=S.reverseStackOrder,I=GP(M),$=I.numericAxisName,F=I.cateAxisName,H=ua(E,r),R=x0e(U,H,"".concat($,"Id"),"".concat(F,"Id"),j,O),B=l.reduce(function(L,z){var Q="".concat(z.axisType,"Map");return Le(Le({},L),{},At({},Q,ISe(S,Le(Le({},z),{},{graphicalItems:H,stackGroups:z.axisType===$&&R,dataStartIndex:T,dataEndIndex:C}))))},{}),W=LSe(Le(Le({},B),{},{props:S,graphicalItems:H}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(L){B[L]=c(S,B[L],W,L.replace("Map",""),n)});var K=B["".concat(F,"Map")],Z=jSe(K),oe=h(S,Le(Le({},B),{},{dataStartIndex:T,dataEndIndex:C,updateId:k,graphicalItems:H,stackGroups:R,offset:W}));return Le(Le({formattedGraphicalItems:oe,graphicalItems:H,offset:W,stackGroups:R},Z),B)},y=function(w){function v(b){var S,T,C;return mSe(this,v),C=ySe(this,v,[b]),At(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(C,"accessibilityManager",new nSe),At(C,"handleLegendBBoxUpdate",function(k){if(k){var E=C.state,M=E.dataStartIndex,j=E.dataEndIndex,U=E.updateId;C.setState(Le({legendBBox:k},p({props:C.props,dataStartIndex:M,dataEndIndex:j,updateId:U},Le(Le({},C.state),{},{legendBBox:k}))))}}),At(C,"handleReceiveSyncEvent",function(k,E,M){if(C.props.syncId===k){if(M===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(E)}}),At(C,"handleBrushChange",function(k){var E=k.startIndex,M=k.endIndex;if(E!==C.state.dataStartIndex||M!==C.state.dataEndIndex){var j=C.state.updateId;C.setState(function(){return Le({dataStartIndex:E,dataEndIndex:M},p({props:C.props,dataStartIndex:E,dataEndIndex:M,updateId:j},C.state))}),C.triggerSyncEvent({dataStartIndex:E,dataEndIndex:M})}}),At(C,"handleMouseEnter",function(k){var E=C.getMouseInfo(k);if(E){var M=Le(Le({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var j=C.props.onMouseEnter;yt(j)&&j(M,k)}}),At(C,"triggeredAfterMouseMove",function(k){var E=C.getMouseInfo(k),M=E?Le(Le({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var j=C.props.onMouseMove;yt(j)&&j(M,k)}),At(C,"handleItemMouseEnter",function(k){C.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),At(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),At(C,"handleMouseMove",function(k){k.persist(),C.throttleTriggeredAfterMouseMove(k)}),At(C,"handleMouseLeave",function(k){C.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var M=C.props.onMouseLeave;yt(M)&&M(E,k)}),At(C,"handleOuterEvent",function(k){var E=cre(k),M=ji(C.props,"".concat(E));if(E&&yt(M)){var j,U;/.*touch.*/i.test(E)?U=C.getMouseInfo(k.changedTouches[0]):U=C.getMouseInfo(k),M((j=U)!==null&&j!==void 0?j:{},k)}}),At(C,"handleClick",function(k){var E=C.getMouseInfo(k);if(E){var M=Le(Le({},E),{},{isTooltipActive:!0});C.setState(M),C.triggerSyncEvent(M);var j=C.props.onClick;yt(j)&&j(M,k)}}),At(C,"handleMouseDown",function(k){var E=C.props.onMouseDown;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"handleMouseUp",function(k){var E=C.props.onMouseUp;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),At(C,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseDown(k.changedTouches[0])}),At(C,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&C.handleMouseUp(k.changedTouches[0])}),At(C,"handleDoubleClick",function(k){var E=C.props.onDoubleClick;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"handleContextMenu",function(k){var E=C.props.onContextMenu;if(yt(E)){var M=C.getMouseInfo(k);E(M,k)}}),At(C,"triggerSyncEvent",function(k){C.props.syncId!==void 0&&K1.emit(J1,C.props.syncId,k,C.eventEmitterSymbol)}),At(C,"applySyncEvent",function(k){var E=C.props,M=E.layout,j=E.syncMethod,U=C.state.updateId,O=k.dataStartIndex,I=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)C.setState(Le({dataStartIndex:O,dataEndIndex:I},p({props:C.props,dataStartIndex:O,dataEndIndex:I,updateId:U},C.state)));else if(k.activeTooltipIndex!==void 0){var $=k.chartX,F=k.chartY,H=k.activeTooltipIndex,R=C.state,B=R.offset,W=R.tooltipTicks;if(!B)return;if(typeof j=="function")H=j(W,k);else if(j==="value"){H=-1;for(var K=0;K<W.length;K++)if(W[K].value===k.activeLabel){H=K;break}}var Z=Le(Le({},B),{},{x:B.left,y:B.top}),oe=Math.min($,Z.x+Z.width),L=Math.min(F,Z.y+Z.height),z=W[H]&&W[H].value,Q=n5(C.state,C.props.data,H),te=W[H]?{x:M==="horizontal"?W[H].coordinate:oe,y:M==="horizontal"?L:W[H].coordinate}:g8;C.setState(Le(Le({},k),{},{activeLabel:z,activeCoordinate:te,activePayload:Q,activeTooltipIndex:H}))}else C.setState(k)}),At(C,"renderCursor",function(k){var E,M=C.state,j=M.isTooltipActive,U=M.activeCoordinate,O=M.activePayload,I=M.offset,$=M.activeTooltipIndex,F=M.tooltipAxisBandSize,H=C.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:j,B=C.props.layout,W=k.key||"_recharts-cursor";return de.createElement(uSe,{key:W,activeCoordinate:U,activePayload:O,activeTooltipIndex:$,chartName:n,element:k,isActive:R,layout:B,offset:I,tooltipAxisBandSize:F,tooltipEventType:H})}),At(C,"renderPolarAxis",function(k,E,M){var j=ji(k,"type.axisType"),U=ji(C.state,"".concat(j,"Map")),O=k.type.defaultProps,I=O!==void 0?Le(Le({},O),k.props):k.props,$=U&&U[I["".concat(j,"Id")]];return ne.cloneElement(k,Le(Le({},$),{},{className:kt(j,$.className),key:k.key||"".concat(E,"-").concat(M),ticks:qo($,!0)}))}),At(C,"renderPolarGrid",function(k){var E=k.props,M=E.radialLines,j=E.polarAngles,U=E.polarRadius,O=C.state,I=O.radiusAxisMap,$=O.angleAxisMap,F=Fs(I),H=Fs($),R=H.cx,B=H.cy,W=H.innerRadius,K=H.outerRadius;return ne.cloneElement(k,{polarAngles:Array.isArray(j)?j:qo(H,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(U)?U:qo(F,!0).map(function(Z){return Z.coordinate}),cx:R,cy:B,innerRadius:W,outerRadius:K,key:k.key||"polar-grid",radialLines:M})}),At(C,"renderLegend",function(){var k=C.state.formattedGraphicalItems,E=C.props,M=E.children,j=E.width,U=E.height,O=C.props.margin||{},I=j-(O.left||0)-(O.right||0),$=JL({children:M,formattedGraphicalItems:k,legendWidth:I,legendContent:u});if(!$)return null;var F=$.item,H=qP($,cSe);return ne.cloneElement(F,Le(Le({},H),{},{chartWidth:j,chartHeight:U,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),At(C,"renderTooltip",function(){var k,E=C.props,M=E.children,j=E.accessibilityLayer,U=Si(M,Oa);if(!U)return null;var O=C.state,I=O.isTooltipActive,$=O.activeCoordinate,F=O.activePayload,H=O.activeLabel,R=O.offset,B=(k=U.props.active)!==null&&k!==void 0?k:I;return ne.cloneElement(U,{viewBox:Le(Le({},R),{},{x:R.left,y:R.top}),active:B,label:H,payload:B?F:[],coordinate:$,accessibilityLayer:j})}),At(C,"renderBrush",function(k){var E=C.props,M=E.margin,j=E.data,U=C.state,O=U.offset,I=U.dataStartIndex,$=U.dataEndIndex,F=U.updateId;return ne.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Jm(C.handleBrushChange,k.props.onChange),data:j,x:Ye(k.props.x)?k.props.x:O.left,y:Ye(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(M.bottom||0),width:Ye(k.props.width)?k.props.width:O.width,startIndex:I,endIndex:$,updateId:"brush-".concat(F)})}),At(C,"renderReferenceElement",function(k,E,M){if(!k)return null;var j=C,U=j.clipPathId,O=C.state,I=O.xAxisMap,$=O.yAxisMap,F=O.offset,H=k.type.defaultProps||{},R=k.props,B=R.xAxisId,W=B===void 0?H.xAxisId:B,K=R.yAxisId,Z=K===void 0?H.yAxisId:K;return ne.cloneElement(k,{key:k.key||"".concat(E,"-").concat(M),xAxis:I[W],yAxis:$[Z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:U})}),At(C,"renderActivePoints",function(k){var E=k.item,M=k.activePoint,j=k.basePoint,U=k.childIndex,O=k.isRange,I=[],$=E.props.key,F=E.item.type.defaultProps!==void 0?Le(Le({},E.item.type.defaultProps),E.item.props):E.item.props,H=F.activeDot,R=F.dataKey,B=Le(Le({index:U,dataKey:R,cx:M.x,cy:M.y,r:4,fill:x_(E.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},gt(H,!1)),r0(H));return I.push(v.renderActiveDot(H,B,"".concat($,"-activePoint-").concat(U))),j?I.push(v.renderActiveDot(H,Le(Le({},B),{},{cx:j.x,cy:j.y}),"".concat($,"-basePoint-").concat(U))):O&&I.push(null),I}),At(C,"renderGraphicChild",function(k,E,M){var j=C.filterFormatItem(k,E,M);if(!j)return null;var U=C.getTooltipEventType(),O=C.state,I=O.isTooltipActive,$=O.tooltipAxis,F=O.activeTooltipIndex,H=O.activeLabel,R=C.props.children,B=Si(R,Oa),W=j.props,K=W.points,Z=W.isRange,oe=W.baseLine,L=j.item.type.defaultProps!==void 0?Le(Le({},j.item.type.defaultProps),j.item.props):j.item.props,z=L.activeDot,Q=L.hide,te=L.activeBar,ie=L.activeShape,ge=!!(!Q&&I&&B&&(z||te||ie)),pe={};U!=="axis"&&B&&B.props.trigger==="click"?pe={onClick:Jm(C.handleItemMouseEnter,k.props.onClick)}:U!=="axis"&&(pe={onMouseLeave:Jm(C.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Jm(C.handleItemMouseEnter,k.props.onMouseEnter)});var G=ne.cloneElement(k,Le(Le({},j.props),pe));function le(Pe){return typeof $.dataKey=="function"?$.dataKey(Pe.payload):null}if(ge)if(F>=0){var ce,ue;if($.dataKey&&!$.allowDuplicatedCategory){var Te=typeof $.dataKey=="function"?le:"payload.".concat($.dataKey.toString());ce=P2(K,Te,H),ue=Z&&oe&&P2(oe,Te,H)}else ce=K==null?void 0:K[F],ue=Z&&oe&&oe[F];if(ie||te){var Re=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[ne.cloneElement(k,Le(Le(Le({},j.props),pe),{},{activeIndex:Re})),null,null]}if(!Mt(ce))return[G].concat(Gf(C.renderActivePoints({item:j,activePoint:ce,basePoint:ue,childIndex:F,isRange:Z})))}else{var _e,ae=(_e=C.getItemByXY(C.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:G},Ee=ae.graphicalItem,ke=Ee.item,ye=ke===void 0?k:ke,Me=Ee.childIndex,xe=Le(Le(Le({},j.props),pe),{},{activeIndex:Me});return[ne.cloneElement(ye,xe),null,null]}return Z?[G,null,null]:[G,null]}),At(C,"renderCustomized",function(k,E,M){return ne.cloneElement(k,Le(Le({key:"recharts-customized-".concat(M)},C.props),C.state))}),At(C,"renderMap",{CartesianGrid:{handler:tg,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:tg},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:tg},YAxis:{handler:tg},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((S=b.id)!==null&&S!==void 0?S:yA("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=KD(C.triggeredAfterMouseMove,(T=b.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return wSe(v,w),vSe(v,[{key:"componentDidMount",value:function(){var S,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,T=S.children,C=S.data,k=S.height,E=S.layout,M=Si(T,Oa);if(M){var j=M.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,O=n5(this.state,C,j,U),I=this.state.tooltipTicks[j].coordinate,$=(this.state.offset.top+k)/2,F=E==="horizontal",H=F?{x:I,y:$}:{y:I,x:$},R=this.state.formattedGraphicalItems.find(function(W){var K=W.item;return K.type.name==="Scatter"});R&&(H=Le(Le({},H),R.props.points[j].tooltipPosition),O=R.props.points[j].tooltipPayload);var B={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:U,activePayload:O,activeCoordinate:H};this.setState(B),this.renderCursor(M),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var C,k;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(S){O2([Si(S.children,Oa)],[Si(this.props.children,Oa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Si(this.props.children,Oa);if(S&&typeof S.props.shared=="boolean"){var T=S.props.shared?"axis":"item";return s.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),k=Rhe(C),E={chartX:Math.round(S.pageX-k.left),chartY:Math.round(S.pageY-k.top)},M=C.width/T.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,M);if(!j)return null;var U=this.state,O=U.xAxisMap,I=U.yAxisMap,$=this.getTooltipEventType(),F=zP(this.state,this.props.data,this.props.layout,j);if($!=="axis"&&O&&I){var H=Fs(O).scale,R=Fs(I).scale,B=H&&H.invert?H.invert(E.chartX):null,W=R&&R.invert?R.invert(E.chartY):null;return Le(Le({},E),{},{xValue:B,yValue:W},F)}return F?Le(Le({},E),F):null}},{key:"inRange",value:function(S,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=S/C,M=T/C;if(k==="horizontal"||k==="vertical"){var j=this.state.offset,U=E>=j.left&&E<=j.left+j.width&&M>=j.top&&M<=j.top+j.height;return U?{x:E,y:M}:null}var O=this.state,I=O.angleAxisMap,$=O.radiusAxisMap;if(I&&$){var F=Fs(I);return v3({x:E,y:M},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,T=this.getTooltipEventType(),C=Si(S,Oa),k={};C&&T==="axis"&&(C.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=r0(this.props,this.handleOuterEvent);return Le(Le({},E),k)}},{key:"addListener",value:function(){K1.on(J1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){K1.removeListener(J1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,T,C){for(var k=this.state.formattedGraphicalItems,E=0,M=k.length;E<M;E++){var j=k[E];if(j.item===S||j.props.key===S.key||T===Go(j.item.type)&&C===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,T=this.state.offset,C=T.left,k=T.top,E=T.height,M=T.width;return de.createElement("defs",null,de.createElement("clipPath",{id:S},de.createElement("rect",{x:C,y:k,height:E,width:M})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=UP(C,2),E=k[0],M=k[1];return Le(Le({},T),{},At({},E,M.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(T,C){var k=UP(C,2),E=k[0],M=k[1];return Le(Le({},T),{},At({},E,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(S){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[S])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(S){var T=this.state,C=T.formattedGraphicalItems,k=T.activeItem;if(C&&C.length)for(var E=0,M=C.length;E<M;E++){var j=C[E],U=j.props,O=j.item,I=O.type.defaultProps!==void 0?Le(Le({},O.type.defaultProps),O.props):O.props,$=Go(O.type);if($==="Bar"){var F=(U.data||[]).find(function(W){return bbe(S,W)});if(F)return{graphicalItem:j,payload:F}}else if($==="RadialBar"){var H=(U.data||[]).find(function(W){return v3(S,W)});if(H)return{graphicalItem:j,payload:H}}else if(yy(j,k)||by(j,k)||Gp(j,k)){var R=lxe({graphicalItem:j,activeTooltipItem:k,itemData:I.data}),B=I.activeIndex===void 0?R:I.activeIndex;return{graphicalItem:Le(Le({},j),{},{childIndex:B}),payload:Gp(j,k)?I.data[R]:j.props.data[R]}}}return null}},{key:"render",value:function(){var S=this;if(!lk(this))return null;var T=this.props,C=T.children,k=T.className,E=T.width,M=T.height,j=T.style,U=T.compact,O=T.title,I=T.desc,$=qP(T,fSe),F=gt($,!1);if(U)return de.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement(j2,Jc({},F,{width:E,height:M,title:O,desc:I}),this.renderClipPath(),ck(C,this.renderMap)));if(this.props.accessibilityLayer){var H,R;F.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,F.role=(R=this.props.role)!==null&&R!==void 0?R:"application",F.onKeyDown=function(W){S.accessibilityManager.keyboardEvent(W)},F.onFocus=function(){S.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return de.createElement(CP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},de.createElement("div",Jc({className:kt("recharts-wrapper",k),style:Le({position:"relative",cursor:"default",width:E,height:M},j)},B,{ref:function(K){S.container=K}}),de.createElement(j2,Jc({},F,{width:E,height:M,title:O,desc:I,style:ESe}),this.renderClipPath(),ck(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(ne.Component);At(y,"displayName",n),At(y,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(y,"getDerivedStateFromProps",function(w,v){var b=w.dataKey,S=w.data,T=w.children,C=w.width,k=w.height,E=w.layout,M=w.stackOffset,j=w.margin,U=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var I=VP(w);return Le(Le(Le({},I),{},{updateId:0},p(Le(Le({props:w},I),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:j,prevChildren:T})}if(b!==v.prevDataKey||S!==v.prevData||C!==v.prevWidth||k!==v.prevHeight||E!==v.prevLayout||M!==v.prevStackOffset||!lf(j,v.prevMargin)){var $=VP(w),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},H=Le(Le({},zP(v,S,E)),{},{updateId:v.updateId+1}),R=Le(Le(Le({},$),F),H);return Le(Le(Le({},R),p(Le({props:w},R),v)),{},{prevDataKey:b,prevData:S,prevWidth:C,prevHeight:k,prevLayout:E,prevStackOffset:M,prevMargin:j,prevChildren:T})}if(!O2(T,v.prevChildren)){var B,W,K,Z,oe=Si(T,Rf),L=oe&&(B=(W=oe.props)===null||W===void 0?void 0:W.startIndex)!==null&&B!==void 0?B:U,z=oe&&(K=(Z=oe.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&K!==void 0?K:O,Q=L!==U||z!==O,te=!Mt(S),ie=te&&!Q?v.updateId:v.updateId+1;return Le(Le({updateId:ie},p(Le(Le({props:w},v),{},{updateId:ie,dataStartIndex:L,dataEndIndex:z}),v)),{},{prevChildren:T,dataStartIndex:L,dataEndIndex:z})}return null}),At(y,"renderActiveDot",function(w,v,b){var S;return ne.isValidElement(w)?S=ne.cloneElement(w,v):yt(w)?S=w(v):S=de.createElement(S_,v),de.createElement(Qt,{className:"recharts-active-dot",key:b},S)});var x=ne.forwardRef(function(v,b){return de.createElement(y,Jc({},v,{ref:b}))});return x.displayName=y.displayName,x},FSe=y8({chartName:"BarChart",GraphicalChild:Lu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Cy},{axisType:"yAxis",AxisComp:Ny}],formatAxisMap:B2e}),$Se=y8({chartName:"PieChart",GraphicalChild:ls,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:vy},{axisType:"radiusAxis",AxisComp:my}],formatAxisMap:I0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const BSe=["#26A69A","#4DD0E1","#EF5350","#FFB74D","#80CBC4","#A0AEC0"],USe=["#2dd4bf","#67e8f9","#f87171","#fbbf24","#5eead4","#94a3b8"],qSe=({onClose:t,total:e,sales:n,customers:r,onReprintInvoice:i,t:a,language:o})=>{const s=o==="ar"?"ar-MA":"fr-FR";return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:a("customItemsDetails")}),m.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100",children:m.jsx(pS,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-4 rounded-lg text-purple-800 dark:text-purple-200 mb-4",children:[m.jsx("p",{className:"font-bold",children:a("totalCustomRevenue")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[e.toFixed(2)," DH"]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-3",children:[m.jsx("h4",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mt-2",children:a("invoiceHistory")}),n.length>0?n.slice().reverse().map(l=>{var u;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg list-none",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[a("invoiceNumber")," ",l.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(l.date).toLocaleString(s)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[l.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a("profitLabel"),": ",l.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>i(l),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:a("print"),children:m.jsx(AA,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:a("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("p",{children:[m.jsxs("strong",{children:[a("customer"),":"]})," ",((u=r.find(c=>c.id===l.customerId))==null?void 0:u.name)||a("cashCustomer")]}),m.jsxs("p",{className:"font-semibold",children:[a("customItemsInSale"),":"]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:l.items.filter(c=>c.isCustom).map(c=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Da,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),c.name," (x",c.quantity,")"]}),m.jsxs("span",{children:[(c.price*c.quantity).toFixed(2)," DH"]})]},c.id))})]})]})]},l.id)}):m.jsx("p",{className:"text-center text-slate-500 py-8",children:a("noSalesForPeriod")})]}),m.jsx("div",{className:"pt-4 mt-4 border-t dark:border-slate-700 flex justify-end",children:m.jsx("button",{onClick:t,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:a("close")})})]})})},HSe=({expense:t,onSave:e,onClose:n,t:r})=>{const[i,a]=ne.useState(t),[o,s]=ne.useState(!1),l=f=>{const{id:h,value:p}=f.target;a(y=>({...y,[h]:p}))},u=f=>{a(h=>({...h,amount:parseFloat(f.target.value)||0}))},c=async f=>{f.preventDefault(),s(!0),await e(i),s(!1),n()};return m.jsx("div",{className:"fixed inset-0 bg-slate-800 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full p-6",children:[m.jsxs("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200 mb-4",children:[r("edit")," ",r("expenses")]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:r("description")}),m.jsx("input",{type:"text",id:"description",value:i.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[r("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"amount",value:i.amount,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("cancel")}),m.jsx("button",{type:"submit",disabled:o,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-400",children:r(o?"saving":"save")})]})]})]})})},Q1=10,zSe=({storeId:t,sales:e,expenses:n,purchases:r,suppliers:i,returns:a,customers:o,users:s,addExpense:l,updateExpense:u,deleteExpense:c,deleteReturn:f,deleteAllReturns:h,t:p,language:y,theme:x,onReprintInvoice:w})=>{const[v,b]=ne.useState("all"),[S,T]=ne.useState({start:"",end:""}),[C,k]=ne.useState("overview"),[E,M]=ne.useState(null),[j,U]=ne.useState(!1),[O,I]=ne.useState(1),$=y==="ar"?"ar-MA":"fr-FR";ne.useEffect(()=>{I(1)},[v,S]);const F=ne.useMemo(()=>x==="dark"?{pie:USe,tick:"#94a3b8",grid:"rgba(94, 112, 131, 0.2)",tooltip:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#e2e8f0"},legend:"#e2e8f0",bar:"#2dd4bf"}:{pie:BSe,tick:"#475569",grid:"#e2e8f0",tooltip:{backgroundColor:"#ffffff",borderColor:"#e2e8f0",color:"#1e293b"},legend:"#334155",bar:"#26A69A"},[x]),H=ne.useMemo(()=>Um(e,v,S),[e,v,S]),R=ne.useMemo(()=>Um(n,v,S).sort((xe,Pe)=>new Date(Pe.date).getTime()-new Date(xe.date).getTime()),[n,v,S]),B=ne.useMemo(()=>Um(a,v,S),[a,v,S]),W=ne.useMemo(()=>Um(r,v,S),[r,v,S]),{totalRevenue:K,totalReturnsAmount:Z,netRevenue:oe,totalExpenses:L,netProfit:z,totalCustomerDebts:Q,debtsByCustomer:te,totalCostOfGoods:ie,totalSupplierDebt:ge,debtsBySupplier:pe,totalCustomItemSales:G}=ne.useMemo(()=>{let xe=0,Pe=0;H.forEach(Ae=>{const De=Ae.total,Qe=Ae.items.filter(Ke=>!Ke.isCustom).reduce((Ke,Bt)=>Ke+Bt.price*Bt.quantity,0),et=De-Qe;Pe+=et,xe+=Qe});let we=0;B.forEach(Ae=>{Ae.items.forEach(De=>{De.isCustom||(we+=De.price*De.quantity)})});const Ve=xe-we,Ge=R.reduce((Ae,De)=>Ae+De.amount,0),st=H.reduce((Ae,De)=>Ae+De.profit,0),ze=B.reduce((Ae,De)=>Ae+De.profitLost,0),ct=st-ze-Ge,nt=new Map;let ht=0;e.forEach(Ae=>{var De;if(Ae.customerId&&Ae.remainingAmount>0){ht+=Ae.remainingAmount;const Qe=o.find(et=>et.id===Ae.customerId);if(Qe){const et=((De=nt.get(Ae.customerId))==null?void 0:De.debt)||0;nt.set(Ae.customerId,{customer:Qe,debt:et+Ae.remainingAmount})}}});const We=new Map;let je=0;r.forEach(Ae=>{var De;if(Ae.remainingAmount>0){je+=Ae.remainingAmount;const Qe=i.find(et=>et.id===Ae.supplierId);if(Qe){const et=((De=We.get(Ae.supplierId))==null?void 0:De.debt)||0;We.set(Ae.supplierId,{supplier:Qe,debt:et+Ae.remainingAmount})}}});const Je=r.reduce((Ae,De)=>Ae+De.totalAmount,0);return{totalRevenue:xe,totalReturnsAmount:we,netRevenue:Ve,totalExpenses:Ge,netProfit:ct,totalCustomerDebts:ht,debtsByCustomer:Array.from(nt.values()).sort((Ae,De)=>De.debt-Ae.debt),totalCostOfGoods:Je,totalSupplierDebt:je,debtsBySupplier:Array.from(We.values()).sort((Ae,De)=>De.debt-Ae.debt),totalCustomItemSales:Pe}},[H,R,B,e,o,r,i]),le=ne.useMemo(()=>{const xe={},Pe={day:"2-digit",month:"2-digit"};return H.forEach(we=>{const Ve=new Date(we.date).toLocaleDateString($,Pe);xe[Ve]||(xe[Ve]=0);const Ge=we.items.filter(st=>!st.isCustom).reduce((st,ze)=>st+ze.price*ze.quantity,0);xe[Ve]+=Ge}),B.forEach(we=>{const Ve=new Date(we.date).toLocaleDateString($,Pe);if(xe[Ve]){const Ge=we.items.filter(st=>!st.isCustom).reduce((st,ze)=>st+ze.price*ze.quantity,0);xe[Ve]-=Ge}xe[Ve]<0&&(xe[Ve]=0)}),Object.entries(xe).map(([we,Ve])=>({name:we,[p("sales")]:Ve})).reverse()},[H,B,$,p]),ce=ne.useMemo(()=>{const xe={};return H.forEach(Pe=>{Pe.items.forEach(we=>{we.type==="good"&&(xe[we.id]||(xe[we.id]={name:we.name,quantity:0}),xe[we.id].quantity+=we.quantity)})}),B.forEach(Pe=>{Pe.items.forEach(we=>{we.type==="good"&&xe[we.id]&&(xe[we.id].quantity-=we.quantity)})}),Object.values(xe).filter(({quantity:Pe})=>Pe>0).map(({name:Pe,quantity:we})=>({name:Pe,value:we})).sort((Pe,we)=>we.value-Pe.value).slice(0,6)},[H,B]),ue=ne.useMemo(()=>H.filter(xe=>!xe.items.some(Pe=>Pe.isCustom)).slice().reverse(),[H]),Te=ne.useMemo(()=>H.filter(xe=>xe.items.some(Pe=>Pe.isCustom)),[H]),Re=()=>{const[xe,Pe]=ne.useState({description:"",amount:""}),we=ne.useRef(null),Ve=async ze=>{var ct;if(ze.preventDefault(),!xe.description||!xe.amount){alert(p("fillAllFields"));return}await l({storeId:t,description:xe.description,amount:parseFloat(xe.amount),date:new Date().toISOString()}),Pe({description:"",amount:""}),(ct=we.current)==null||ct.focus()},Ge=ze=>{c(ze)},st=()=>{const ze=[p("date"),p("description"),p("amount")],ct=R.map(nt=>[new Date(nt.date).toLocaleDateString($),nt.description,`${nt.amount.toFixed(2)} DH`]);ka(p("expenseHistory"),ze,ct,"expenses_report",y,p("noDataToExport"))};return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("manageExpenses")}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("addExpense")}),m.jsxs("form",{onSubmit:Ve,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"exp-description",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:p("description")}),m.jsx("input",{ref:we,type:"text",id:"exp-description",value:xe.description,onChange:ze=>Pe({...xe,description:ze.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{htmlFor:"exp-amount",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:[p("amount")," (DH)"]}),m.jsx("input",{type:"number",id:"exp-amount",value:xe.amount,onChange:ze=>Pe({...xe,amount:ze.target.value}),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:p("addExpense")})]})]}),m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:p("expenseHistory")}),m.jsxs("button",{onClick:st,className:"bg-cyan-600 text-white font-semibold py-1 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2 space-y-3",children:R.length>0?R.map(ze=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:ze.description}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(ze.date).toLocaleDateString($)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:[ze.amount.toFixed(2)," DH"]}),m.jsx("button",{onClick:()=>M(ze),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-800 dark:hover:text-cyan-300",children:m.jsx(Tv,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>Ge(ze.id),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:m.jsx(Jr,{className:"w-5 h-5"})})]})]},ze.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noExpensesForPeriod")})})]})]})]})},_e=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("debtorCustomers")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const xe=[p("name"),p("phone"),p("debtAmount")],Pe=te.map(we=>[we.customer.name,we.customer.phone,`${we.debt.toFixed(2)} DH`]);ka(p("debtorCustomers"),xe,Pe,"customer_debts",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("name")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:te.length>0?te.map(({customer:xe,debt:Pe})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:xe.name}),m.jsx("td",{className:"px-6 py-4",children:xe.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[Pe.toFixed(2)," DH"]})]},xe.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noDebtorCustomers")})})})]})})]}),ae=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("returnHistory")}),m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsxs("button",{onClick:()=>{const xe=[p("returnId"),p("date"),p("refundAmount"),p("profitLost"),p("itemsLabel")],Pe=B.map(we=>[we.id.slice(-6),new Date(we.date).toLocaleString($),`${we.refundAmount.toFixed(2)} DH`,`${we.profitLost.toFixed(2)} DH`,we.items.map(Ve=>`${Ve.name} (x${Ve.quantity})`).join(", ")]);ka(p("returnHistory"),xe,Pe,"returns_report",y,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-2 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:h,className:"bg-red-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Jr,{className:"w-4 h-4"})," ",p("deleteHistory")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:B.length>0?B.slice().reverse().map(xe=>m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("returnId")," ",xe.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(xe.date).toLocaleString($)})]}),m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-orange-600 dark:text-orange-400",children:[xe.refundAmount.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLost"),": ",xe.profitLost.toFixed(2)," DH"]})]})]}),m.jsx("div",{className:"flex justify-end mt-2",children:m.jsxs("button",{onClick:()=>f(xe.id),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-xs font-semibold flex items-center gap-1",children:[m.jsx(Jr,{className:"w-4 h-4"})," ",p("delete")]})}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-orange-700 dark:text-orange-400 font-semibold hover:text-orange-800",children:p("returnedItems")}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-orange-200 dark:border-orange-500/30",children:xe.items.map(Pe=>m.jsxs("li",{className:"flex justify-between items-center text-slate-700 dark:text-slate-300",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[Pe.type==="service"&&m.jsx(Da,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),Pe.name," (x",Pe.quantity,")"]}),m.jsxs("span",{children:[(Pe.price*Pe.quantity).toFixed(2)," DH"]})]},Pe.id))})]})]},xe.id)):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noReturnsForPeriod")})})})]}),Ee=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("allPurchasesHistory")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const xe=[p("date"),p("supplier"),p("reference"),p("totalAmount"),p("amountPaid"),p("remainingAmountLabel"),p("paymentMethod")],Pe=W.map(we=>{var Ve;return[new Date(we.date).toLocaleDateString($),((Ve=i.find(Ge=>Ge.id===we.supplierId))==null?void 0:Ve.name)||"N/A",we.reference&&we.reference.startsWith("purchase_ref_")?p(we.reference):we.reference||"",`${we.totalAmount.toFixed(2)} DH`,`${we.amountPaid.toFixed(2)} DH`,`${we.remainingAmount.toFixed(2)} DH`,p(we.paymentMethod)]});ka(p("allPurchasesHistory"),xe,Pe,"all_purchases_report",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),m.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:W.length>0?m.jsx("ul",{className:"space-y-4",children:W.slice().reverse().map(xe=>{var Pe;return m.jsxs("li",{className:"bg-gray-50 dark:bg-slate-800/50 p-4 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2 flex-wrap gap-2",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("supplier"),": ",((Pe=i.find(we=>we.id===xe.supplierId))==null?void 0:Pe.name)||"N/A"]}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("date"),": ",new Date(xe.date).toLocaleDateString($)]}),xe.reference&&m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[p("reference"),": ",xe.reference.startsWith("purchase_ref_")?p(xe.reference):xe.reference]})]}),m.jsxs("div",{className:"text-right rtl:text-left",children:[m.jsxs("p",{className:"font-bold text-teal-600 dark:text-teal-400 text-lg",children:[xe.totalAmount.toFixed(2)," DH"]}),xe.remainingAmount>0&&m.jsxs("span",{className:"text-xs font-semibold px-2 py-1 rounded-full bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",children:[p("remainingDebt"),": ",xe.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsxs("details",{children:[m.jsx("summary",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400 cursor-pointer",children:p("purchaseDetails")}),m.jsxs("table",{className:"w-full text-sm mt-2 border-collapse",children:[m.jsx("thead",{className:"text-slate-600 dark:text-slate-300",children:m.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-700",children:[m.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("product")}),m.jsx("th",{className:"p-2 text-center font-semibold",children:p("quantity")}),m.jsx("th",{className:"p-2 text-center font-semibold",children:p("purchasePrice")}),m.jsx("th",{className:"p-2 text-start rtl:text-right font-semibold",children:p("total")})]})}),m.jsx("tbody",{className:"bg-white dark:bg-slate-800",children:xe.items.map((we,Ve)=>m.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[m.jsxs("td",{className:"p-2 text-start rtl:text-right font-medium text-slate-800 dark:text-slate-200",children:[we.productName," - ",we.variantName]}),m.jsx("td",{className:"p-2 text-center",children:m.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block min-w-[4ch]",children:we.quantity})}),m.jsx("td",{className:"p-2 text-center",children:m.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-100 bg-slate-100 dark:bg-slate-700 px-3 py-1 rounded-md inline-block",children:[we.purchasePrice.toFixed(2)," DH"]})}),m.jsx("td",{className:"p-2 text-start rtl:text-right",children:m.jsxs("span",{className:"font-bold text-white bg-blue-600 px-3 py-1 rounded-md inline-block",children:[(we.quantity*we.purchasePrice).toFixed(2)," DH"]})})]},Ve))})]})]})]},xe.id)})}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-16",children:p("noPurchasesRecorded")})})]}),ke=()=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("supplierDebtsList")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>{const xe=[p("supplier"),p("phone"),p("debtAmount")],Pe=pe.map(we=>[we.supplier.name,we.supplier.phone,`${we.debt.toFixed(2)} DH`]);ka(p("supplierDebtsList"),xe,Pe,"supplier_debts_report",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),m.jsx("div",{className:"overflow-x-auto max-h-96",children:m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("supplier")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("debtAmount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:pe.length>0?pe.map(({supplier:xe,debt:Pe})=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-700 dark:text-slate-100 whitespace-nowrap",children:xe.name}),m.jsx("td",{className:"px-6 py-4",children:xe.phone}),m.jsxs("td",{className:"px-6 py-4 font-bold text-red-600 dark:text-red-400",children:[Pe.toFixed(2)," DH"]})]},xe.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSupplierDebt")})})})]})})]}),ye=()=>{const[xe,Pe]=ne.useState(""),{reportSales:we,reportReturns:Ve,kpis:Ge}=ne.useMemo(()=>{let ze=H,ct=B;xe&&(ze=ze.filter(We=>We.userId===xe),ct=ct.filter(We=>We.userId===xe));const nt=ze.reduce((We,je)=>We+je.total,0),ht=ct.reduce((We,je)=>We+je.refundAmount,0);return{reportSales:ze,reportReturns:ct,kpis:{totalSales:nt,totalReturns:ht,netActivity:nt-ht,salesCount:ze.length,returnsCount:ct.length}}},[H,B,xe]),st=ne.useMemo(()=>{const ze=we.map(nt=>({...nt,type:"sale"})),ct=Ve.map(nt=>({...nt,type:"return"}));return[...ze,...ct].sort((nt,ht)=>new Date(ht.date).getTime()-new Date(nt.date).getTime())},[we,Ve]);return m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("sellerReportsAndZReport")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("select",{value:xe,onChange:ze=>Pe(ze.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"",children:p("all")}),s.map(ze=>m.jsx("option",{value:ze.id,children:ze.name},ze.id))]}),m.jsxs("button",{onClick:()=>k("overview"),className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600",children:["← ",p("goBack")]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[m.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-4 rounded-xl text-teal-800 dark:text-teal-200",children:[m.jsx("h3",{className:"font-bold text-md",children:p("netActivity")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.netActivity.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]})]}),m.jsxs("div",{className:"bg-green-100 dark:bg-green-900/50 p-4 rounded-xl text-green-800 dark:text-green-200",children:[m.jsx("h3",{className:"font-bold text-md",children:p("totalSales")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalSales.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs",children:p("numberOfSales",{count:Ge.salesCount})})]}),m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-4 rounded-xl text-orange-800 dark:text-orange-200",children:[m.jsx("h3",{className:"font-bold text-md",children:p("totalReturns")}),m.jsxs("p",{className:"text-2xl font-extrabold",children:[Ge.totalReturns.toFixed(2)," ",m.jsx("span",{className:"text-md font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs",children:p("numberOfReturns",{count:Ge.returnsCount})})]})]}),m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300 mb-3",children:p("transactionList")}),m.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-2",children:st.length>0?m.jsxs("table",{className:"w-full text-sm text-right rtl:text-right text-slate-500 dark:text-slate-400",children:[m.jsx("thead",{className:"text-xs text-slate-600 dark:text-slate-300 uppercase bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("date")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("transactionType")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("amount")}),m.jsx("th",{scope:"col",className:"px-6 py-3",children:p("details")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:st.map(ze=>m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[m.jsx("td",{className:"px-6 py-4",children:new Date(ze.date).toLocaleString($)}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ze.type==="sale"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300"}`,children:p(ze.type)})}),m.jsxs("td",{className:`px-6 py-4 font-bold ${ze.type==="sale"?"text-green-700 dark:text-green-400":"text-orange-700 dark:text-orange-400"}`,children:[ze.type==="sale"?ze.total.toFixed(2):ze.refundAmount.toFixed(2)," DH"]}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("details",{className:"text-xs",children:[m.jsxs("summary",{className:"cursor-pointer font-semibold text-cyan-700 dark:text-cyan-400",children:[ze.items.length," ",p("itemsLabel")]}),m.jsx("ul",{className:"mt-1 text-slate-600 dark:text-slate-300",children:ze.items.map((ct,nt)=>m.jsxs("li",{children:[ct.name," (x",ct.quantity,")"]},nt))})]})})]},`${ze.type}-${ze.id}`))})]}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noTransactionsForSeller")})})]})},Me=()=>{const xe=Math.ceil(ue.length/Q1),Pe=ue.slice((O-1)*Q1,O*Q1);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-lg flex flex-wrap items-center gap-4",children:[m.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-300",children:p("filterByPeriod")}),m.jsxs("select",{value:v,onChange:we=>b(we.target.value),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",children:[m.jsx("option",{value:"all",children:p("all")}),m.jsx("option",{value:"today",children:p("today")}),m.jsx("option",{value:"week",children:p("thisWeek")}),m.jsx("option",{value:"month",children:p("thisMonth")}),m.jsx("option",{value:"custom",children:p("customRange")})]}),v==="custom"&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"date",value:S.start,onChange:we=>T({...S,start:we.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"}),m.jsx("input",{type:"date",value:S.end,onChange:we=>T({...S,end:we.target.value}),className:"p-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>U(!0),className:"absolute top-2 right-2 rtl:right-auto rtl:left-2 z-10 bg-purple-600 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-purple-700 transition-transform hover:scale-110",title:p("customItemsDetails"),children:m.jsx(Da,{className:"w-6 h-6"})}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900/50 p-6 rounded-xl shadow text-teal-800 dark:text-teal-200",children:[m.jsx("h3",{className:"font-bold text-lg",children:p("netRevenue")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[oe.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("totalRevenueMinusReturns")})]}),m.jsxs("div",{className:"bg-cyan-100 dark:bg-cyan-900/50 p-6 rounded-xl shadow text-cyan-800 dark:text-cyan-200",children:[m.jsx("h3",{className:"font-bold text-lg",children:p("netProfit")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[z.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("realizedProfitMinusExpenses")})]}),m.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 p-6 rounded-xl shadow text-yellow-800 dark:text-yellow-200 cursor-pointer hover:ring-2 ring-yellow-400 transition-all",onClick:()=>k("debts"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("customerDebts")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[Q.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-red-100 dark:bg-red-900/50 p-6 rounded-xl shadow text-red-800 dark:text-red-200 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("supplierDebts"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("totalSupplierDebt")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[ge.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-red-100/70 dark:bg-red-900/30 p-6 rounded-xl shadow text-red-900 dark:text-red-300 cursor-pointer hover:ring-2 ring-red-400 transition-all",onClick:()=>k("expenses"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("totalExpenses")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[L.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"bg-purple-100 dark:bg-purple-900/50 p-6 rounded-xl shadow text-purple-800 dark:text-purple-200 cursor-pointer hover:ring-2 ring-purple-400 transition-all",onClick:()=>k("allPurchases"),children:[m.jsx("h3",{className:"font-bold text-lg",children:p("totalCostOfGoods")}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[ie.toFixed(2)," ",m.jsx("span",{className:"text-lg font-medium",children:"DH"})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]}),m.jsxs("div",{className:"col-span-2 md:col-span-1 lg:col-span-1 bg-blue-100 dark:bg-blue-900/50 p-6 rounded-xl shadow text-blue-800 dark:text-blue-200 cursor-pointer hover:ring-2 ring-blue-400 transition-all",onClick:()=>k("sellerReports"),children:[m.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[m.jsx(fS,{})," ",p("sellerReportsAndZReport")]}),m.jsxs("p",{className:"text-3xl font-extrabold",children:[e.length," ",m.jsx("span",{className:"text-lg font-medium",children:p("sales")})]}),m.jsx("p",{className:"text-xs opacity-80",children:p("clickToViewDetails")})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesPerformance")}),m.jsxs("button",{onClick:()=>{const we=[p("date"),p("sales")],Ve=le.map(Ge=>[Ge.name,`${(Ge[p("sales")]||0).toFixed(2)} DH`]);ka(p("salesPerformance"),we,Ve,"daily_sales_performance",y,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(s4,{children:m.jsxs(FSe,{data:le,margin:{top:5,right:0,left:0,bottom:5},children:[m.jsx(i8,{stroke:F.grid}),m.jsx(Cy,{dataKey:"name",tick:{fill:F.tick,fontSize:12}}),m.jsx(Ny,{tick:{fill:F.tick,fontSize:12},tickFormatter:we=>`${we}`}),m.jsx(Oa,{contentStyle:F.tooltip,labelStyle:{color:F.tooltip.color},formatter:we=>[`${we.toFixed(2)} DH`,p("sales")]}),m.jsx(rl,{wrapperStyle:{color:F.legend}}),m.jsx(Lu,{dataKey:p("sales"),fill:F.bar})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("topSellingProducts")}),m.jsxs("button",{onClick:()=>{const we=[p("product"),p("quantity")],Ve=ce.map(Ge=>[Ge.name,Ge.value]);ka(p("topSellingProducts"),we,Ve,"top_selling_products",y,p("noDataToExport"))},className:"bg-gray-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-semibold py-1 px-3 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors flex items-center gap-2 text-xs",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{style:{width:"100%",height:300},children:m.jsx(s4,{children:m.jsxs($Se,{children:[m.jsx(ls,{data:ce,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:{fill:F.legend},children:ce.map((we,Ve)=>m.jsx(ty,{fill:F.pie[Ve%F.pie.length]},`cell-${Ve}`))}),m.jsx(Oa,{contentStyle:F.tooltip,formatter:(we,Ve)=>[`${we} ${p("units")}`,Ve]}),m.jsx(rl,{wrapperStyle:{color:F.legend}})]})})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200",children:p("salesHistory")}),m.jsxs("button",{onClick:()=>{const we=[p("invoiceNumber"),p("date"),p("customer"),p("total"),p("profit"),p("itemsLabel")],Ve=ue.slice().reverse().map(Ge=>{var st;return[Ge.id.slice(-6).toUpperCase(),new Date(Ge.date).toLocaleString($),((st=o.find(ze=>ze.id===Ge.customerId))==null?void 0:st.name)||p("cashCustomer"),`${Ge.total.toFixed(2)} DH`,`${Ge.profit.toFixed(2)} DH`,Ge.items.map(ze=>`${ze.name} (x${ze.quantity})`).join(", ")]});ka(p("salesHistory"),we,Ve,"sales_history",y,p("noDataToExport"))},className:"bg-cyan-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 text-sm",children:[m.jsx(Na,{className:"w-4 h-4"})," ",p("exportToPdf")]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto pl-2",children:m.jsx("ul",{className:"space-y-4",children:Pe.length>0?Pe.map(we=>{var Ve;return m.jsxs("li",{className:"p-4 border dark:border-slate-700 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[p("invoiceNumber")," ",we.id.slice(-6)]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:new Date(we.date).toLocaleString($)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-left rtl:text-right",children:[m.jsxs("p",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400",children:[we.total.toFixed(2)," DH"]}),m.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[p("profitLabel"),": ",we.profit.toFixed(2)," DH"]})]}),m.jsx("button",{onClick:()=>w(we),className:"text-slate-500 dark:text-slate-400 hover:text-teal-600 dark:hover:text-teal-400 p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/50 transition-colors",title:p("print"),children:m.jsx(AA,{className:"w-5 h-5"})})]})]}),m.jsxs("details",{className:"mt-2 text-sm",children:[m.jsx("summary",{className:"cursor-pointer text-cyan-700 dark:text-cyan-400 font-semibold hover:text-cyan-800",children:p("viewDetails")}),m.jsxs("div",{className:"mt-2 space-y-3 pr-4 rtl:pl-4 rtl:pr-0 border-r-2 rtl:border-l-2 rtl:border-r-0 border-cyan-200 dark:border-cyan-500/30 text-slate-600 dark:text-slate-300",children:[m.jsxs("ul",{className:"space-y-1",children:[m.jsxs("li",{children:[m.jsx("strong",{children:p("billNumber")})," ",we.id.toUpperCase()]}),we.customerId&&o.find(Ge=>Ge.id===we.customerId)&&m.jsxs("li",{children:[m.jsxs("strong",{children:[p("customer"),":"]})," ",(Ve=o.find(Ge=>Ge.id===we.customerId))==null?void 0:Ve.name]}),we.discount&&we.discount>0&&m.jsxs("li",{className:"font-semibold",children:[m.jsxs("strong",{children:[p("discount"),":"]})," ",m.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",we.discount.toFixed(2)," DH"]})]}),we.remainingAmount>0&&m.jsxs("li",{className:"font-semibold",children:[m.jsx("strong",{children:p("remainingAmountLabel")})," ",m.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[we.remainingAmount.toFixed(2)," DH"]})]})]}),m.jsx("ul",{className:"mt-2 space-y-1 pt-2 border-t border-dashed dark:border-slate-600",children:we.items.map(Ge=>m.jsxs("li",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[Ge.type==="service"&&m.jsx(Da,{className:"w-4 h-4 text-purple-500 dark:text-purple-400"}),Ge.name," (x",Ge.quantity,")"]}),m.jsxs("span",{children:[(Ge.price*Ge.quantity).toFixed(2)," DH"]})]},Ge.id))})]})]})]},we.id)}):m.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-8",children:p("noSalesForPeriod")})})}),xe>1&&m.jsxs("div",{className:"pt-4 flex justify-center items-center gap-4 border-t border-slate-200 dark:border-slate-700 mt-4",children:[m.jsx("button",{onClick:()=>I(we=>Math.max(1,we-1)),disabled:O===1,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("previous"),children:m.jsx(pA,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-slate-600 dark:text-slate-300",children:[p("page")," ",O," / ",xe]}),m.jsx("button",{onClick:()=>I(we=>Math.min(xe,we+1)),disabled:O===xe,className:"p-2 bg-gray-200 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300 dark:hover:bg-slate-600","aria-label":p("next"),children:m.jsx(rd,{className:"w-5 h-5"})})]})]})]})};return m.jsxs("div",{className:"space-y-6",children:[E&&m.jsx(HSe,{expense:E,onClose:()=>M(null),onSave:u,t:p}),j&&m.jsx(qSe,{onClose:()=>U(!1),total:G,sales:Te,customers:o,onReprintInvoice:w,t:p,language:y}),C==="overview"&&m.jsx(Me,{}),C==="debts"&&m.jsx(_e,{}),C==="returns"&&m.jsx(ae,{}),C==="expenses"&&m.jsx(Re,{}),C==="allPurchases"&&m.jsx(Ee,{}),C==="supplierDebts"&&m.jsx(ke,{}),C==="sellerReports"&&m.jsx(ye,{})]})},VSe=({activeUser:t,store:e,storeId:n,users:r,addUser:i,updateUser:a,deleteUser:o,onUpdateStore:s,t:l})=>{const[u,c]=ne.useState({name:"",pin:""}),[f,h]=ne.useState({}),[p,y]=ne.useState({current:"",new:"",confirm:""}),[x,w]=ne.useState({name:e.name,address:e.address,ice:e.ice,logo:e.logo,enableAiReceiptScan:e.enableAiReceiptScan}),[v,b]=ne.useState(null),S=ne.useMemo(()=>r.find($=>$.role==="admin"),[r]),T=ne.useMemo(()=>r.filter($=>$.role==="seller"),[r]),C=()=>setTimeout(()=>b(null),4e3),k=async $=>{if($.preventDefault(),!u.name||!u.pin){b({type:"error",message:l("fillAllFields")}),C();return}if(u.pin.length<4){b({type:"error",message:l("pinMustBe4Chars")}),C();return}if(r.some(F=>F.name.toLowerCase()===u.name.trim().toLowerCase())){b({type:"error",message:l("userExistsError",{name:u.name})}),C();return}await i({...u,storeId:n,role:"seller"}),b({type:"success",message:l("userAddedSuccess",{name:u.name})}),c({name:"",pin:""}),C()},E=async $=>{const F=f[$.id];if(!F||F.length<4){b({type:"error",message:l("pinMustBe4Chars")}),C();return}await a({...$,pin:F}),h(H=>{const R={...H};return delete R[$.id],R}),b({type:"success",message:l("pinUpdatedForUser",{name:$.name})}),C()},M=async $=>{window.confirm(l("confirmUserDelete",{name:$.name}))&&await o($.id)},j=async $=>{if($.preventDefault(),!p.current||!p.new||!p.confirm){b({type:"error",message:l("fillAllFields")}),C();return}if(p.new!==p.confirm){b({type:"error",message:l("passwordsDoNotMatch")}),C();return}if(p.new.length<4){b({type:"error",message:l("pinMustBe4Chars")}),C();return}S&&(await a({...S,password:p.new}),b({type:"success",message:l("passwordChangedSuccess")}),y({current:"",new:"",confirm:""}),C())},U=$=>{w(F=>({...F,[$.target.id]:$.target.value}))},O=$=>{if($.target.files&&$.target.files[0]){const F=$.target.files[0],H=new FileReader;H.onloadend=()=>{w(R=>({...R,logo:H.result}))},H.readAsDataURL(F)}},I=async $=>{$.preventDefault();try{await s(x),b({type:"success",message:l("storeUpdateSuccess")})}catch{b({type:"error",message:l("storeUpdateError")})}C()};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(MI,{}),l("settings")]}),m.jsxs("form",{onSubmit:k,className:"space-y-4 mb-6",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:l("addSeller")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("userName")}),m.jsx("input",{type:"text",id:"name",value:u.name,onChange:$=>c({...u,name:$.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("pinMin4Digits")}),m.jsx("input",{type:"password",id:"pin",value:u.pin,onChange:$=>c({...u,pin:$.target.value}),className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600",required:!0})]}),m.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:l("add")})]})]}),m.jsxs("div",{className:"space-y-4 border-t pt-4 dark:border-slate-700",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-600 dark:text-slate-300",children:l("userList")}),m.jsxs("ul",{className:"space-y-3",children:[S&&m.jsxs("li",{className:"p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:[S.name," ",m.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-cyan-200 text-cyan-800 dark:bg-cyan-900/50 dark:text-cyan-300",children:l("admin")})]}),m.jsxs("details",{className:"mt-2",children:[m.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-cyan-700 dark:text-cyan-400",children:l("changePassword")}),m.jsxs("form",{onSubmit:j,className:"mt-2 space-y-2 p-2 bg-white dark:bg-slate-700 rounded-md",children:[m.jsx("input",{type:"password",placeholder:l("currentPassword"),value:p.current,onChange:$=>y(F=>({...F,current:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),m.jsx("input",{type:"password",placeholder:l("newPassword"),value:p.new,onChange:$=>y(F=>({...F,new:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),m.jsx("input",{type:"password",placeholder:l("confirmNewPassword"),value:p.confirm,onChange:$=>y(F=>({...F,confirm:$.target.value})),className:"w-full text-sm px-3 py-2 border rounded-lg bg-gray-50 dark:bg-slate-600 text-slate-800 dark:text-slate-100 dark:border-slate-500",required:!0}),m.jsx("button",{type:"submit",className:"text-xs w-full bg-blue-600 text-white font-semibold py-2 px-3 rounded-lg hover:bg-blue-700",children:l("changePassword")})]})]})]}),T.map($=>m.jsxs("li",{className:"p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center",children:[m.jsxs("p",{className:"font-semibold text-slate-700 dark:text-slate-200",children:[$.name," ",m.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-full bg-gray-200 text-gray-800 dark:bg-slate-600 dark:text-slate-300",children:l("seller")})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"password",placeholder:l("newPin"),onChange:F=>h({...f,[$.id]:F.target.value}),className:"w-28 text-sm px-2 py-1 border rounded-lg bg-white dark:bg-slate-600 dark:border-slate-500"}),m.jsx("button",{onClick:()=>E($),className:"text-cyan-600 hover:text-cyan-800",title:l("save"),children:m.jsx(s2,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>M($),className:"text-red-600 hover:text-red-800",title:l("delete"),children:m.jsx(Jr,{className:"w-5 h-5"})})]})]},$.id))]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[m.jsx(Cv,{}),l("storeSettings")]}),m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeNameLabel")}),m.jsx("input",{type:"text",id:"name",value:x.name,onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"ice",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeICE")}),m.jsx("input",{type:"text",id:"ice",value:x.ice||"",onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeAddress")}),m.jsx("input",{type:"text",id:"address",value:x.address||"",onChange:U,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-slate-700 text-slate-800 dark:text-slate-100 dark:border-slate-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:l("storeLogoLabel")}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(l2,{url:x.logo,className:"w-16 h-16 rounded-lg bg-gray-200 object-cover"}),m.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:O,className:"text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-teal-50 file:text-teal-700 hover:file:bg-teal-100 dark:file:bg-teal-900/50 dark:file:text-teal-300 dark:hover:file:bg-teal-900"})]})]}),m.jsxs("div",{className:"flex items-center gap-4 p-3 bg-purple-50 dark:bg-purple-900/50 rounded-lg",children:[m.jsx(Da,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),m.jsx("label",{htmlFor:"enableAiReceiptScan",className:"font-semibold text-slate-700 dark:text-slate-200",children:l("enableAiScan")}),m.jsx("input",{type:"checkbox",id:"enableAiReceiptScan",checked:x.enableAiReceiptScan||!1,onChange:$=>w(F=>({...F,enableAiReceiptScan:$.target.checked})),className:"ml-auto w-5 h-5 text-teal-600 bg-gray-100 border-gray-300 rounded focus:ring-teal-500 dark:focus:ring-teal-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700",children:l("saveStoreChanges")})]})]})]}),v&&m.jsx("div",{className:`fixed bottom-4 right-4 z-50 p-4 rounded-lg shadow-xl text-sm font-semibold ${v.type==="success"?"bg-green-100 text-green-800 dark:bg-green-900/70 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/70 dark:text-red-200"}`,children:v.message})]})},GSe=({products:t,variants:e,suppliers:n,t:r})=>e.length===0?null:m.jsxs("div",{className:"bg-orange-100 dark:bg-orange-900/50 border-r-4 rtl:border-l-4 rtl:border-r-0 border-orange-500 text-orange-700 dark:text-orange-300 p-4 rounded-lg shadow-md mb-6",role:"alert",children:[m.jsx("p",{className:"font-bold",children:r("lowStockAlert")}),m.jsx("p",{className:"text-sm",children:r("lowStockMessage")}),m.jsx("ul",{className:"list-disc list-inside mr-2 rtl:ml-2 rtl:mr-0 mt-2 text-sm",children:e.map(i=>{var o;const a=t.find(s=>s.id===i.productId);return a?m.jsxs("li",{children:[m.jsxs("strong",{children:[a.name," - ",i.name]}),a.supplierId&&m.jsxs("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:[" (",r("supplier"),": ",((o=n.find(s=>s.id===a.supplierId))==null?void 0:o.name)||r("unknown"),")"]})]},i.id):null})})]}),WSe=({sale:t,mode:e,onClose:n,store:r,customers:i,t:a,language:o})=>{ne.useEffect(()=>{const S=setTimeout(()=>{window.print()},300);return()=>clearTimeout(S)},[]);const s=()=>{window.print()},l=t.customerId?i.find(S=>S.id===t.customerId):null,u=o==="ar"?"ar-MA":"fr-FR",c=S=>{const T=Math.floor(S),C=Math.round((S-T)*100),k=["","UN","DEUX","TROIS","QUATRE","CINQ","SIX","SEPT","HUIT","NEUF"],E=["DIX","ONZE","DOUZE","TREIZE","QUATORZE","QUINZE","SEIZE","DIX-SEPT","DIX-HUIT","DIX-NEUF"],M=["","DIX","VINGT","TRENTE","QUARANTE","CINQUANTE","SOIXANTE","SOIXANTE-DIX","QUATRE-VINGT","QUATRE-VINGT-DIX"],j=$=>{if($===0)return"";if($<10)return k[$];if($<20)return E[$-10];if($<100){const F=Math.floor($/10),H=$%10;if(F===7||F===9)return M[F]+"-"+k[H];let R=M[F];return F===8&&H===0&&(R+="S"),H>0&&(R+=(H===1&&F<8?" ET ":"-")+k[H]),R}if($<1e3){const F=Math.floor($/100),H=$%100;let R=F>1?k[F]+" CENT":"CENT";return H===0&&F>1&&(R+="S"),H>0&&(R+=" "+j(H)),R}return""};if(S===0)return"ZÉRO";let U="";const O=Math.floor(T/1e3);O>0&&(U+=(O>1?j(O):"")+" MILLE ");const I=T%1e3;return(I>0||O===0)&&(U+=j(I)),U=U.trim().replace("UN MILLE","MILLE")+" DIRHAMS",C>0&&(U+=" ET "+j(C)+" CENTIMES"),U.toUpperCase().replace(/\s+/g," ")},f=e==="invoice",h=a(f?"invoiceTitle":"orderFormTitle"),{subTotal:p,totalHT:y,tvaAmount:x,totalTTC:w,amountForWords:v}=ne.useMemo(()=>{const T=t.total,C=f?T/1.2:T,k=f?T-C:0;return{subTotal:t.items.reduce((M,j)=>{const U=f?j.price/1.2:j.price;return M+U*j.quantity},0),totalHT:C,tvaAmount:k,totalTTC:T,amountForWords:T}},[t,f]),b=c(v);return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full flex flex-col",children:[m.jsxs("div",{id:"printable-invoice",className:"p-10 bg-white text-black font-sans text-sm",children:[m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"font-bold text-2xl mb-2 text-black",children:r.name||"CARRE FER"}),m.jsxs("p",{className:"text-black",children:["le : ",new Date(t.date).toLocaleDateString(u)]}),r.ice&&m.jsxs("p",{className:"text-black",children:["ICE : ",r.ice]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("h2",{className:"font-bold text-lg text-black",children:[h," N°: ",t.id.slice(-8).toUpperCase()]}),m.jsx("div",{className:"border border-black p-2 mt-2 min-w-[200px]",children:m.jsx("p",{className:"text-black",children:l?l.name:"Client Particulier"})})]})]}),m.jsxs("table",{className:"w-full border-collapse mb-4",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"border-2 border-black p-1 text-left font-bold bg-gray-100 text-black",children:"Désignation"}),m.jsx("th",{className:"border-2 border-black p-1 text-center font-bold bg-gray-100 text-black w-24",children:"Quantité"}),m.jsx("th",{className:"border-2 border-black p-1 text-center font-bold bg-gray-100 text-black w-32",children:a(f?"prixHT":"price")}),m.jsx("th",{className:"border-2 border-black p-1 text-center font-bold bg-gray-100 text-black w-32",children:a(f?"totalHT":"total")})]})}),m.jsx("tbody",{children:t.items.map(S=>{const T=f?S.price/1.2:S.price;return m.jsxs("tr",{children:[m.jsx("td",{className:"border-2 border-black p-1 text-left text-black",children:S.name}),m.jsx("td",{className:"border-2 border-black p-1 text-center text-black",children:S.quantity}),m.jsx("td",{className:"border-2 border-black p-1 text-center text-black",children:T.toFixed(2)}),m.jsx("td",{className:"border-2 border-black p-1 text-center font-semibold text-black",children:(T*S.quantity).toFixed(2)})]},S.id)})}),m.jsx("tfoot",{children:m.jsxs("tr",{children:[m.jsx("td",{colSpan:3,className:"border-2 border-black p-1 text-right font-bold text-black",children:a("total")}),m.jsx("td",{className:"border-2 border-black p-1 text-center font-bold text-black",children:p.toFixed(2)})]})})]}),m.jsxs("div",{className:"flex justify-between items-start mt-8",children:[m.jsxs("div",{className:"w-2/3",children:[m.jsx("p",{className:"font-semibold text-black",children:f?"Arrêtée la présente facture à la somme de :":"Arrêtée le présent bon à la somme de :"}),m.jsx("p",{className:"font-bold uppercase text-black",children:b})]}),m.jsx("div",{className:"w-1/3",children:f?m.jsx("table",{className:"w-full border-collapse",children:m.jsxs("tbody",{children:[m.jsxs("tr",{children:[m.jsx("td",{className:"border-2 border-black p-1 font-bold text-black",children:a("totalHT")}),m.jsx("td",{className:"border-2 border-black p-1 text-right font-semibold text-black",children:y.toFixed(2)})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"border-2 border-black p-1 font-bold text-black",children:a("vat")}),m.jsx("td",{className:"border-2 border-black p-1 text-right font-semibold text-black",children:x.toFixed(2)})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"border-2 border-black p-1 font-bold bg-gray-100 text-black",children:a("totalTTC")}),m.jsx("td",{className:"border-2 border-black p-1 text-right font-bold bg-gray-100 text-black",children:w.toFixed(2)})]})]})}):m.jsx("table",{className:"w-full border-collapse",children:m.jsx("tbody",{children:m.jsxs("tr",{children:[m.jsx("td",{className:"border-2 border-black p-1 font-bold bg-gray-100 text-black",children:a("total")}),m.jsx("td",{className:"border-2 border-black p-1 text-right font-bold bg-gray-100 text-black",children:w.toFixed(2)})]})})})})]})]}),m.jsxs("div",{className:"p-4 bg-gray-100 border-t flex justify-end gap-3 print:hidden",children:[m.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 transition-colors",children:[m.jsx(pS,{className:"w-5 h-5"}),a("close")]}),m.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors",children:[m.jsx(AA,{className:"w-5 h-5"}),a("print")]})]})]})})},YSe=({returnObject:t,onClose:e,store:n,t:r,language:i})=>{ne.useEffect(()=>{const l=setTimeout(()=>{window.print()},300);return()=>clearTimeout(l)},[]);const a=()=>{window.print()},o=i==="ar"?"ar-MA":"fr-FR",s=r("returnReceiptTitle");return m.jsx("div",{className:"fixed inset-0 bg-slate-700 bg-opacity-75 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full",children:[m.jsxs("div",{id:"printable-invoice",className:"p-6 text-slate-700 bg-white dark:bg-white dark:text-slate-800",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold",children:s}),m.jsx("p",{className:"text-sm font-semibold",children:n.name}),n.address?m.jsx("p",{className:"text-xs",children:n.address}):m.jsx("p",{className:"text-xs",children:r("invoiceAddress")}),n.ice&&m.jsxs("p",{className:"text-xs",children:["ICE: ",n.ice]})]}),m.jsxs("div",{className:"text-xs mb-4",children:[m.jsxs("p",{children:[m.jsx("strong",{children:r("returnIdLabel")})," ",t.id.slice(-8).toUpperCase()]}),m.jsxs("p",{children:[m.jsxs("strong",{children:[r("date"),":"]})," ",new Date(t.date).toLocaleString(o)]})]}),m.jsxs("table",{className:"w-full text-sm mb-4 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border border-slate-300 p-2 text-right rtl:text-left font-bold",children:r("productColumn")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("quantity")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("price")}),m.jsx("th",{className:"border border-slate-300 p-2 text-center font-bold",children:r("total")})]})}),m.jsx("tbody",{children:t.items.map(l=>m.jsxs("tr",{children:[m.jsx("td",{className:"border border-slate-300 p-2 text-right rtl:text-left",children:l.name}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.quantity}),m.jsx("td",{className:"border border-slate-300 p-2 text-center",children:l.price.toFixed(2)}),m.jsx("td",{className:"border border-slate-300 p-2 text-center font-semibold",children:(l.price*l.quantity).toFixed(2)})]},l.id))})]}),m.jsx("div",{className:"w-full mt-4 text-sm",children:m.jsx("div",{className:"grid grid-cols-2 gap-x-4",children:m.jsx("div",{className:"col-start-2",children:m.jsxs("div",{className:"flex justify-between py-2 font-bold text-lg bg-slate-100 p-2 rounded-md",children:[m.jsx("span",{children:r("refundAmountLabel")}),m.jsxs("span",{children:[t.refundAmount.toFixed(2)," DH"]})]})})})}),m.jsx("p",{className:"text-center text-xs mt-6",children:r("thankYou")})]}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 border-t dark:border-slate-700 flex justify-end gap-3",children:[m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-500",children:r("close")}),m.jsx("button",{onClick:a,className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:r("print")})]})]})})},KSe=({store:t,t:e})=>{if(!t.trialStartDate)return null;const n=new Date(t.trialStartDate),r=new Date(n);r.setDate(n.getDate()+(t.trialDurationDays??7));const i=r.getTime()-new Date().getTime();if(i<=0)return null;const a=Math.ceil(i/(1e3*60*60*24));return m.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-200 text-center p-2 text-sm font-semibold sticky top-0 z-40",children:e("trialDaysRemaining",{days:a})})},JSe=()=>{const[t,e]=ne.useState(null),[n,r]=ne.useState(null),[i,a]=ne.useState(!1),[o,s]=ne.useState("landing"),[l,u]=ne.useState(Tab.POS),[c,f]=ne.useState(!0),[h,p]=ne.useState("fr"),[y,x]=ne.useState("light"),[w,v]=ne.useState(null),[b,S]=ne.useState(null),[T,C]=ne.useState([]),[k,E]=ne.useState([]),[M,j]=ne.useState([]),[U,O]=ne.useState([]),[I,$]=ne.useState([]),[F,H]=ne.useState([]),[R,B]=ne.useState([]),[W,K]=ne.useState([]),[Z,oe]=ne.useState([]),[L,z]=ne.useState([]),[Q,te]=ne.useState([]),[ie,ge]=ne.useState([]),{stockMap:pe,variantMap:G,variantsByProduct:le,barcodeMap:ce,lowStockVariants:ue}=ne.useMemo(()=>{const je=new Map,Je=new Map,Ae=new Map,De=new Map;M.forEach(et=>{Je.set(et.id,et),et.barcode&&De.set(et.barcode,et);const Ke=Ae.get(et.productId)||[];Ke.push(et),Ae.set(et.productId,Ke)}),ie.forEach(et=>{const Ke=je.get(et.variantId)||0;je.set(et.variantId,Ke+et.quantity)}),R.forEach(et=>et.items.forEach(Ke=>{if(Ke.type==="good"&&!Ke.isCustom){const Bt=je.get(Ke.id)||0;je.set(Ke.id,Bt-Ke.quantity)}})),Z.forEach(et=>et.items.forEach(Ke=>{if(Ke.type==="good"&&!Ke.isCustom){const Bt=je.get(Ke.id)||0;je.set(Ke.id,Bt+Ke.quantity)}}));const Qe=M.filter(et=>(je.get(et.id)||0)<=et.lowStockThreshold);return{stockMap:je,variantMap:Je,variantsByProduct:Ae,barcodeMap:De,lowStockVariants:Qe}},[M,ie,R,Z]),Te=ne.useCallback((je,Je)=>{let Ae=nN[h][je]||nN.fr[je]||je;return Je&&Object.keys(Je).forEach(De=>{Ae=Ae.replace(`{${De}}`,String(Je[De]))}),Ae},[h]);ne.useEffect(()=>{document.documentElement.lang=h,document.documentElement.dir=h==="ar"?"rtl":"ltr"},[h]),ne.useEffect(()=>{document.documentElement.classList.toggle("dark",y==="dark")},[y]);const Re=()=>x(je=>je==="light"?"dark":"light"),_e=async je=>{f(!0);const Je=await P9(je);E(Je.products||[]),j(Je.productVariants||[]),O(Je.customers||[]),$(Je.suppliers||[]),H(Je.categories||[]),B(Je.sales||[]),K(Je.expenses||[]),oe(Je.returns||[]),z(Je.purchases||[]),te(Je.users||[]),ge(Je.stockBatches||[]),f(!1)},ae=(je,Je)=>{e(je),r(Je),_e(Je.id)},Ee=()=>a(!0),ke=()=>{e(null),r(null),a(!1),s("landing")},ye=async(je,Je)=>{if(await je(),n){const{data:Ae,error:De}=await(void 0).from(Je).select("*").eq("storeId",n.id);if(De)console.error(De);else switch(Je){case"products":E(Ae);break;case"productVariants":j(Ae);break;case"customers":O(Ae);break;case"suppliers":$(Ae);break;case"categories":H(Ae);break;case"sales":B(Ae);break;case"expenses":K(Ae);break;case"returns":oe(Ae);break;case"purchases":z(Ae);break;case"users":te(Ae);break;case"stockBatches":ge(Ae);break;default:_e(n.id)}}},Me=ne.useCallback(async(je,Je)=>{const{product:Ae,variants:De}=await eN(je,Je);return E(Qe=>[...Qe,Ae]),j(Qe=>[...Qe,...De]),{product:Ae,variants:De}},[]),xe=ne.useCallback(async(je,Je)=>{n&&(await z9(je,Je),_e(n.id))},[n]),Pe=ne.useCallback(je=>ye(()=>tN(je),"products"),[n]),we=ne.useCallback(async je=>{if(!n)return;await V9({storeId:n.id,variantId:je.variantId,quantity:je.quantity,purchasePrice:je.purchasePrice,createdAt:new Date().toISOString()});const Je=M.find(Ae=>Ae.id===je.variantId);Je&&(Je.price!==je.sellingPrice||Je.purchasePrice!==je.purchasePrice)&&await(void 0).from("productVariants").update({price:je.sellingPrice,purchasePrice:je.purchasePrice}).eq("id",je.variantId),await _e(n.id)},[n,M]),Ve=ne.useCallback(async je=>{const{product:Je,variants:Ae}=await eN(je,[]);return E(De=>[...De,Je]),{product:Je,variants:Ae}},[]),Ge=ne.useCallback(async je=>{const{data:Je,error:Ae}=await(void 0).from("products").update(je).eq("id",je.id).select().single();if(Ae)throw Ae;E(De=>De.map(Qe=>Qe.id===Je.id?Je:Qe))},[]),st=ne.useCallback(async(je,Je,Ae,De)=>{if(!n||!t||T.length===0)return;const Qe=T.reduce((Bt,Et)=>Bt+(Et.price-(Et.purchasePrice||0))*Et.quantity,0),et={storeId:n.id,userId:t.id,date:new Date().toISOString(),items:T,total:Ae,downPayment:je,remainingAmount:Ae-je,profit:Qe,customerId:Je},Ke=await ZC(et);B(Bt=>[...Bt,Ke]),v({sale:Ke,mode:De}),C([])},[T,n,t]),ze=ne.useCallback(async je=>{if(!n||!t||je.length===0)return;const Je=je.reduce((et,Ke)=>et+Ke.price*Ke.quantity,0),Ae=je.reduce((et,Ke)=>et+(Ke.price-(Ke.purchasePrice||0))*Ke.quantity,0),De={storeId:n.id,userId:t.id,date:new Date().toISOString(),items:je,refundAmount:Je,profitLost:Ae},Qe=await H9(De);oe(et=>[...et,Qe]),S(Qe),C([])},[n,t]),ct=ne.useCallback(async(je,Je)=>{if(!n||!t)return;const Ae={storeId:n.id,userId:t.id,date:new Date().toISOString(),items:[],total:0,downPayment:-Je,remainingAmount:-Je,profit:0,customerId:je};await ye(()=>ZC(Ae),"sales")},[n,t]);if(c&&!t&&!i)return m.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-slate-900",children:m.jsx(AS,{className:"w-80 h-auto"})});if(i)return o==="landing"?m.jsx(Z9,{onLoginAsStoreAdmin:ae,onGoToDashboard:()=>s("dashboard"),onLogout:ke,t:Te,language:h,setLanguage:p,theme:y,toggleTheme:Re}):m.jsx(eq,{onLoginAsStoreAdmin:ae,onLogout:ke,onGoBack:()=>s("landing"),t:Te,language:h,setLanguage:p,theme:y,toggleTheme:Re});if(!t||!n)return m.jsx(Q9,{onLoginSuccess:ae,onSuperAdminLogin:Ee,t:Te,language:h,setLanguage:p,theme:y,toggleTheme:Re});const nt=k.filter(je=>je.type==="service"),ht=k.filter(je=>je.type==="good"),We=[{id:Tab.POS,name:Te("pos"),icon:Y9},{id:Tab.Products,name:Te("products"),icon:W9},{id:Tab.Services,name:Te("services"),icon:SparklesIcon},{id:Tab.Finance,name:Te("finance"),icon:K9},{id:Tab.Customers,name:Te("customers"),icon:fS},{id:Tab.Suppliers,name:Te("suppliers"),icon:kI},{id:Tab.Categories,name:Te("categories"),icon:PI}];return t.role==="admin"&&We.push({id:Tab.Settings,name:Te("settings"),icon:cS}),m.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-slate-900 text-slate-800 dark:text-slate-200",children:[w&&m.jsx(WSe,{sale:w.sale,mode:w.mode,onClose:()=>v(null),store:n,customers:U,t:Te,language:h}),b&&m.jsx(YSe,{returnObject:b,onClose:()=>S(null),store:n,t:Te,language:h}),m.jsxs("aside",{className:"w-20 lg:w-64 bg-white dark:bg-slate-800 p-4 flex flex-col shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-8 px-2",children:[m.jsx(Cv,{className:"w-8 h-8 text-teal-500"}),m.jsx("h1",{className:"text-xl font-bold hidden lg:block",children:n.name})]}),m.jsx("nav",{className:"flex-grow space-y-2",children:We.map(je=>m.jsxs("button",{onClick:()=>u(je.id),className:`w-full flex items-center gap-4 p-3 rounded-lg text-sm font-semibold transition-colors ${l===je.id?"bg-teal-100 dark:bg-teal-900/50 text-teal-700 dark:text-teal-300":"hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[m.jsx(je.icon,{className:"w-6 h-6"}),m.jsx("span",{className:"hidden lg:inline",children:je.name})]},je.id))}),m.jsxs("div",{className:"mt-auto",children:[m.jsx("div",{className:"p-2 text-center text-xs text-slate-500 dark:text-slate-400",children:m.jsxs("p",{className:"font-bold",children:[Te("welcome")," ",t.name]})}),m.jsx("button",{onClick:ke,className:"w-full flex items-center justify-center gap-2 p-3 bg-red-50 hover:bg-red-100 dark:bg-red-900/50 dark:hover:bg-red-900 text-red-700 dark:text-red-300 rounded-lg font-semibold transition-colors",children:Te("logout")})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col",children:[m.jsx(KSe,{store:n,t:Te}),m.jsxs("div",{className:"p-6 overflow-y-auto h-full",children:[l===Tab.POS&&ue.length>0&&m.jsx(GSe,{products:k,variants:ue,suppliers:I,t:Te}),c?m.jsx("p",{children:"Loading..."}):m.jsxs(m.Fragment,{children:[l===Tab.POS&&m.jsx(aQ,{store:n,user:t,products:k,variants:M,customers:U,categories:F,sales:R,stockMap:pe,variantMap:G,variantsByProduct:le,barcodeMap:ce,cart:T,setCart:C,completeSale:st,processReturn:ze,payCustomerDebt:ct,t:Te,language:h}),l===Tab.Products&&m.jsx(uZ,{storeId:n.id,products:ht,variants:M,suppliers:I,categories:F,stockMap:pe,addProduct:Me,updateProduct:xe,deleteProduct:Pe,addStockToVariant:we,t:Te,language:h}),l===Tab.Services&&m.jsx(fZ,{storeId:n.id,services:nt,addService:Ve,updateService:Ge,deleteService:je=>ye(()=>tN(je),"products"),t:Te}),l===Tab.Finance&&m.jsx(zSe,{storeId:n.id,sales:R,expenses:W,purchases:L,suppliers:I,returns:Z,customers:U,users:Q,addProduct:Me,addExpense:je=>ye(()=>F9(je),"expenses"),updateExpense:je=>ye(()=>$9(je),"expenses"),deleteExpense:je=>ye(()=>B9(je),"expenses"),deleteReturn:je=>ye(()=>QC(je),"returns"),deleteAllReturns:()=>{window.confirm("Sure?")&&Promise.all(Z.map(je=>QC(je.id))).then(()=>ye(async()=>{},"returns"))},onReprintInvoice:je=>v({sale:je,mode:"invoice"}),t:Te,language:h,theme:y}),l===Tab.Customers&&m.jsx(pZ,{storeId:n.id,customers:U,sales:R,addCustomer:je=>ye(()=>j9(je),"customers"),deleteCustomer:je=>ye(()=>D9(je),"customers"),payCustomerDebt:ct,t:Te,language:h}),l===Tab.Suppliers&&m.jsx(vZ,{storeId:n.id,suppliers:I,products:k,variants:M,purchases:L,categories:F,addSupplier:je=>ye(()=>L9(je),"suppliers"),deleteSupplier:je=>ye(()=>R9(je),"suppliers"),addPurchase:je=>ye(()=>U9(je),"purchases"),updatePurchase:je=>ye(()=>q9(je),"purchases"),addProduct:Me,t:Te,language:h}),l===Tab.Categories&&m.jsx(bZ,{storeId:n.id,categories:F,addCategory:je=>ye(()=>M9(je),"categories"),updateCategory:je=>ye(()=>O9(je),"categories"),deleteCategory:je=>ye(()=>I9(je),"categories"),t:Te,language:h}),l===Tab.Settings&&t.role==="admin"&&m.jsx(VSe,{activeUser:t,store:n,storeId:n.id,users:Q,addUser:je=>ye(()=>CI(je),"users"),updateUser:je=>ye(()=>TI(je),"users"),deleteUser:je=>ye(()=>(void 0)(je),"users"),onUpdateStore:async je=>{const Je=await kc({...n,...je});r(Je)},t:Te})]})]})]})]})},b8=document.getElementById("root");if(!b8)throw new Error("Could not find root element to mount to");const XSe=tB.createRoot(b8);XSe.render(m.jsx(de.StrictMode,{children:m.jsx(JSe,{})}));export{Zt as _,ur as c,Gt as g};
